(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function t(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=t(l);fetch(l.href,c)}})();function vg(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Tm={exports:{}},Wo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jv;function oS(){if(jv)return Wo;jv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(a,l,c){var h=null;if(c!==void 0&&(h=""+c),l.key!==void 0&&(h=""+l.key),"key"in l){c={};for(var m in l)m!=="key"&&(c[m]=l[m])}else c=l;return l=c.ref,{$$typeof:s,type:a,key:h,ref:l!==void 0?l:null,props:c}}return Wo.Fragment=e,Wo.jsx=t,Wo.jsxs=t,Wo}var Dv;function cS(){return Dv||(Dv=1,Tm.exports=oS()),Tm.exports}var u=cS(),Am={exports:{}},De={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ov;function uS(){if(Ov)return De;Ov=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),A=Symbol.iterator;function N(L){return L===null||typeof L!="object"?null:(L=A&&L[A]||L["@@iterator"],typeof L=="function"?L:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,B={};function V(L,ne,fe){this.props=L,this.context=ne,this.refs=B,this.updater=fe||O}V.prototype.isReactComponent={},V.prototype.setState=function(L,ne){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,ne,"setState")},V.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function K(){}K.prototype=V.prototype;function G(L,ne,fe){this.props=L,this.context=ne,this.refs=B,this.updater=fe||O}var Z=G.prototype=new K;Z.constructor=G,M(Z,V.prototype),Z.isPureReactComponent=!0;var te=Array.isArray,ae={H:null,A:null,T:null,S:null},de=Object.prototype.hasOwnProperty;function D(L,ne,fe,me,ge,Ae){return fe=Ae.ref,{$$typeof:s,type:L,key:ne,ref:fe!==void 0?fe:null,props:Ae}}function k(L,ne){return D(L.type,ne,void 0,void 0,void 0,L.props)}function b(L){return typeof L=="object"&&L!==null&&L.$$typeof===s}function T(L){var ne={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(fe){return ne[fe]})}var S=/\/+/g;function j(L,ne){return typeof L=="object"&&L!==null&&L.key!=null?T(""+L.key):ne.toString(36)}function w(){}function H(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(w,w):(L.status="pending",L.then(function(ne){L.status==="pending"&&(L.status="fulfilled",L.value=ne)},function(ne){L.status==="pending"&&(L.status="rejected",L.reason=ne)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function W(L,ne,fe,me,ge){var Ae=typeof L;(Ae==="undefined"||Ae==="boolean")&&(L=null);var Re=!1;if(L===null)Re=!0;else switch(Ae){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(L.$$typeof){case s:case e:Re=!0;break;case v:return Re=L._init,W(Re(L._payload),ne,fe,me,ge)}}if(Re)return ge=ge(L),Re=me===""?"."+j(L,0):me,te(ge)?(fe="",Re!=null&&(fe=Re.replace(S,"$&/")+"/"),W(ge,ne,fe,"",function(at){return at})):ge!=null&&(b(ge)&&(ge=k(ge,fe+(ge.key==null||L&&L.key===ge.key?"":(""+ge.key).replace(S,"$&/")+"/")+Re)),ne.push(ge)),1;Re=0;var mt=me===""?".":me+":";if(te(L))for(var He=0;He<L.length;He++)me=L[He],Ae=mt+j(me,He),Re+=W(me,ne,fe,Ae,ge);else if(He=N(L),typeof He=="function")for(L=He.call(L),He=0;!(me=L.next()).done;)me=me.value,Ae=mt+j(me,He++),Re+=W(me,ne,fe,Ae,ge);else if(Ae==="object"){if(typeof L.then=="function")return W(H(L),ne,fe,me,ge);throw ne=String(L),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return Re}function z(L,ne,fe){if(L==null)return L;var me=[],ge=0;return W(L,me,"","",function(Ae){return ne.call(fe,Ae,ge++)}),me}function X(L){if(L._status===-1){var ne=L._result;ne=ne(),ne.then(function(fe){(L._status===0||L._status===-1)&&(L._status=1,L._result=fe)},function(fe){(L._status===0||L._status===-1)&&(L._status=2,L._result=fe)}),L._status===-1&&(L._status=0,L._result=ne)}if(L._status===1)return L._result.default;throw L._result}var ce=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)};function ve(){}return De.Children={map:z,forEach:function(L,ne,fe){z(L,function(){ne.apply(this,arguments)},fe)},count:function(L){var ne=0;return z(L,function(){ne++}),ne},toArray:function(L){return z(L,function(ne){return ne})||[]},only:function(L){if(!b(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},De.Component=V,De.Fragment=t,De.Profiler=l,De.PureComponent=G,De.StrictMode=a,De.Suspense=p,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ae,De.act=function(){throw Error("act(...) is not supported in production builds of React.")},De.cache=function(L){return function(){return L.apply(null,arguments)}},De.cloneElement=function(L,ne,fe){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var me=M({},L.props),ge=L.key,Ae=void 0;if(ne!=null)for(Re in ne.ref!==void 0&&(Ae=void 0),ne.key!==void 0&&(ge=""+ne.key),ne)!de.call(ne,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&ne.ref===void 0||(me[Re]=ne[Re]);var Re=arguments.length-2;if(Re===1)me.children=fe;else if(1<Re){for(var mt=Array(Re),He=0;He<Re;He++)mt[He]=arguments[He+2];me.children=mt}return D(L.type,ge,void 0,void 0,Ae,me)},De.createContext=function(L){return L={$$typeof:h,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:c,_context:L},L},De.createElement=function(L,ne,fe){var me,ge={},Ae=null;if(ne!=null)for(me in ne.key!==void 0&&(Ae=""+ne.key),ne)de.call(ne,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(ge[me]=ne[me]);var Re=arguments.length-2;if(Re===1)ge.children=fe;else if(1<Re){for(var mt=Array(Re),He=0;He<Re;He++)mt[He]=arguments[He+2];ge.children=mt}if(L&&L.defaultProps)for(me in Re=L.defaultProps,Re)ge[me]===void 0&&(ge[me]=Re[me]);return D(L,Ae,void 0,void 0,null,ge)},De.createRef=function(){return{current:null}},De.forwardRef=function(L){return{$$typeof:m,render:L}},De.isValidElement=b,De.lazy=function(L){return{$$typeof:v,_payload:{_status:-1,_result:L},_init:X}},De.memo=function(L,ne){return{$$typeof:y,type:L,compare:ne===void 0?null:ne}},De.startTransition=function(L){var ne=ae.T,fe={};ae.T=fe;try{var me=L(),ge=ae.S;ge!==null&&ge(fe,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(ve,ce)}catch(Ae){ce(Ae)}finally{ae.T=ne}},De.unstable_useCacheRefresh=function(){return ae.H.useCacheRefresh()},De.use=function(L){return ae.H.use(L)},De.useActionState=function(L,ne,fe){return ae.H.useActionState(L,ne,fe)},De.useCallback=function(L,ne){return ae.H.useCallback(L,ne)},De.useContext=function(L){return ae.H.useContext(L)},De.useDebugValue=function(){},De.useDeferredValue=function(L,ne){return ae.H.useDeferredValue(L,ne)},De.useEffect=function(L,ne){return ae.H.useEffect(L,ne)},De.useId=function(){return ae.H.useId()},De.useImperativeHandle=function(L,ne,fe){return ae.H.useImperativeHandle(L,ne,fe)},De.useInsertionEffect=function(L,ne){return ae.H.useInsertionEffect(L,ne)},De.useLayoutEffect=function(L,ne){return ae.H.useLayoutEffect(L,ne)},De.useMemo=function(L,ne){return ae.H.useMemo(L,ne)},De.useOptimistic=function(L,ne){return ae.H.useOptimistic(L,ne)},De.useReducer=function(L,ne,fe){return ae.H.useReducer(L,ne,fe)},De.useRef=function(L){return ae.H.useRef(L)},De.useState=function(L){return ae.H.useState(L)},De.useSyncExternalStore=function(L,ne,fe){return ae.H.useSyncExternalStore(L,ne,fe)},De.useTransition=function(){return ae.H.useTransition()},De.version="19.0.0",De}var Mv;function xg(){return Mv||(Mv=1,Am.exports=uS()),Am.exports}var C=xg();const dS=vg(C);var Sm={exports:{}},Xo={},wm={exports:{}},Nm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lv;function hS(){return Lv||(Lv=1,function(s){function e(z,X){var ce=z.length;z.push(X);e:for(;0<ce;){var ve=ce-1>>>1,L=z[ve];if(0<l(L,X))z[ve]=X,z[ce]=L,ce=ve;else break e}}function t(z){return z.length===0?null:z[0]}function a(z){if(z.length===0)return null;var X=z[0],ce=z.pop();if(ce!==X){z[0]=ce;e:for(var ve=0,L=z.length,ne=L>>>1;ve<ne;){var fe=2*(ve+1)-1,me=z[fe],ge=fe+1,Ae=z[ge];if(0>l(me,ce))ge<L&&0>l(Ae,me)?(z[ve]=Ae,z[ge]=ce,ve=ge):(z[ve]=me,z[fe]=ce,ve=fe);else if(ge<L&&0>l(Ae,ce))z[ve]=Ae,z[ge]=ce,ve=ge;else break e}}return X}function l(z,X){var ce=z.sortIndex-X.sortIndex;return ce!==0?ce:z.id-X.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var h=Date,m=h.now();s.unstable_now=function(){return h.now()-m}}var p=[],y=[],v=1,A=null,N=3,O=!1,M=!1,B=!1,V=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function Z(z){for(var X=t(y);X!==null;){if(X.callback===null)a(y);else if(X.startTime<=z)a(y),X.sortIndex=X.expirationTime,e(p,X);else break;X=t(y)}}function te(z){if(B=!1,Z(z),!M)if(t(p)!==null)M=!0,H();else{var X=t(y);X!==null&&W(te,X.startTime-z)}}var ae=!1,de=-1,D=5,k=-1;function b(){return!(s.unstable_now()-k<D)}function T(){if(ae){var z=s.unstable_now();k=z;var X=!0;try{e:{M=!1,B&&(B=!1,K(de),de=-1),O=!0;var ce=N;try{t:{for(Z(z),A=t(p);A!==null&&!(A.expirationTime>z&&b());){var ve=A.callback;if(typeof ve=="function"){A.callback=null,N=A.priorityLevel;var L=ve(A.expirationTime<=z);if(z=s.unstable_now(),typeof L=="function"){A.callback=L,Z(z),X=!0;break t}A===t(p)&&a(p),Z(z)}else a(p);A=t(p)}if(A!==null)X=!0;else{var ne=t(y);ne!==null&&W(te,ne.startTime-z),X=!1}}break e}finally{A=null,N=ce,O=!1}X=void 0}}finally{X?S():ae=!1}}}var S;if(typeof G=="function")S=function(){G(T)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,w=j.port2;j.port1.onmessage=T,S=function(){w.postMessage(null)}}else S=function(){V(T,0)};function H(){ae||(ae=!0,S())}function W(z,X){de=V(function(){z(s.unstable_now())},X)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(z){z.callback=null},s.unstable_continueExecution=function(){M||O||(M=!0,H())},s.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<z?Math.floor(1e3/z):5},s.unstable_getCurrentPriorityLevel=function(){return N},s.unstable_getFirstCallbackNode=function(){return t(p)},s.unstable_next=function(z){switch(N){case 1:case 2:case 3:var X=3;break;default:X=N}var ce=N;N=X;try{return z()}finally{N=ce}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(z,X){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var ce=N;N=z;try{return X()}finally{N=ce}},s.unstable_scheduleCallback=function(z,X,ce){var ve=s.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?ve+ce:ve):ce=ve,z){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=ce+L,z={id:v++,callback:X,priorityLevel:z,startTime:ce,expirationTime:L,sortIndex:-1},ce>ve?(z.sortIndex=ce,e(y,z),t(p)===null&&z===t(y)&&(B?(K(de),de=-1):B=!0,W(te,ce-ve))):(z.sortIndex=L,e(p,z),M||O||(M=!0,H())),z},s.unstable_shouldYield=b,s.unstable_wrapCallback=function(z){var X=N;return function(){var ce=N;N=X;try{return z.apply(this,arguments)}finally{N=ce}}}}(Nm)),Nm}var Pv;function fS(){return Pv||(Pv=1,wm.exports=hS()),wm.exports}var Rm={exports:{}},ln={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uv;function mS(){if(Uv)return ln;Uv=1;var s=xg();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)y+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var a={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(p,y,v){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:p,containerInfo:y,implementation:v}}var h=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return ln.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,ln.createPortal=function(p,y){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(p,y,null,v)},ln.flushSync=function(p){var y=h.T,v=a.p;try{if(h.T=null,a.p=2,p)return p()}finally{h.T=y,a.p=v,a.d.f()}},ln.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(p,y))},ln.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},ln.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var v=y.as,A=m(v,y.crossOrigin),N=typeof y.integrity=="string"?y.integrity:void 0,O=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;v==="style"?a.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:N,fetchPriority:O}):v==="script"&&a.d.X(p,{crossOrigin:A,integrity:N,fetchPriority:O,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},ln.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var v=m(y.as,y.crossOrigin);a.d.M(p,{crossOrigin:v,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(p)},ln.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var v=y.as,A=m(v,y.crossOrigin);a.d.L(p,v,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},ln.preloadModule=function(p,y){if(typeof p=="string")if(y){var v=m(y.as,y.crossOrigin);a.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:v,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(p)},ln.requestFormReset=function(p){a.d.r(p)},ln.unstable_batchedUpdates=function(p,y){return p(y)},ln.useFormState=function(p,y,v){return h.H.useFormState(p,y,v)},ln.useFormStatus=function(){return h.H.useHostTransitionStatus()},ln.version="19.0.0",ln}var Vv;function C0(){if(Vv)return Rm.exports;Vv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Rm.exports=mS(),Rm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bv;function gS(){if(Bv)return Xo;Bv=1;var s=fS(),e=xg(),t=C0();function a(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)i+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}var c=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),N=Symbol.for("react.consumer"),O=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),Z=Symbol.for("react.offscreen"),te=Symbol.for("react.memo_cache_sentinel"),ae=Symbol.iterator;function de(n){return n===null||typeof n!="object"?null:(n=ae&&n[ae]||n["@@iterator"],typeof n=="function"?n:null)}var D=Symbol.for("react.client.reference");function k(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===D?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case p:return"Fragment";case m:return"Portal";case v:return"Profiler";case y:return"StrictMode";case B:return"Suspense";case V:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case O:return(n.displayName||"Context")+".Provider";case N:return(n._context.displayName||"Context")+".Consumer";case M:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case K:return i=n.displayName||null,i!==null?i:k(n.type)||"Memo";case G:i=n._payload,n=n._init;try{return k(n(i))}catch{}}return null}var b=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,T=Object.assign,S,j;function w(n){if(S===void 0)try{throw Error()}catch(r){var i=r.stack.trim().match(/\n( *(at )?)/);S=i&&i[1]||"",j=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+S+n+j}var H=!1;function W(n,i){if(!n||H)return"";H=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(se){var J=se}Reflect.construct(n,[],ue)}else{try{ue.call()}catch(se){J=se}n.call(ue.prototype)}}else{try{throw Error()}catch(se){J=se}(ue=n())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(se){if(se&&J&&typeof se.stack=="string")return[se.stack,J.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=o.DetermineComponentFrameRoot(),E=g[0],R=g[1];if(E&&R){var P=E.split(`
`),F=R.split(`
`);for(f=o=0;o<P.length&&!P[o].includes("DetermineComponentFrameRoot");)o++;for(;f<F.length&&!F[f].includes("DetermineComponentFrameRoot");)f++;if(o===P.length||f===F.length)for(o=P.length-1,f=F.length-1;1<=o&&0<=f&&P[o]!==F[f];)f--;for(;1<=o&&0<=f;o--,f--)if(P[o]!==F[f]){if(o!==1||f!==1)do if(o--,f--,0>f||P[o]!==F[f]){var ie=`
`+P[o].replace(" at new "," at ");return n.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",n.displayName)),ie}while(1<=o&&0<=f);break}}}finally{H=!1,Error.prepareStackTrace=r}return(r=n?n.displayName||n.name:"")?w(r):""}function z(n){switch(n.tag){case 26:case 27:case 5:return w(n.type);case 16:return w("Lazy");case 13:return w("Suspense");case 19:return w("SuspenseList");case 0:case 15:return n=W(n.type,!1),n;case 11:return n=W(n.type.render,!1),n;case 1:return n=W(n.type,!0),n;default:return""}}function X(n){try{var i="";do i+=z(n),n=n.return;while(n);return i}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function ce(n){var i=n,r=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(r=i.return),n=i.return;while(n)}return i.tag===3?r:null}function ve(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function L(n){if(ce(n)!==n)throw Error(a(188))}function ne(n){var i=n.alternate;if(!i){if(i=ce(n),i===null)throw Error(a(188));return i!==n?null:n}for(var r=n,o=i;;){var f=r.return;if(f===null)break;var g=f.alternate;if(g===null){if(o=f.return,o!==null){r=o;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===r)return L(f),n;if(g===o)return L(f),i;g=g.sibling}throw Error(a(188))}if(r.return!==o.return)r=f,o=g;else{for(var E=!1,R=f.child;R;){if(R===r){E=!0,r=f,o=g;break}if(R===o){E=!0,o=f,r=g;break}R=R.sibling}if(!E){for(R=g.child;R;){if(R===r){E=!0,r=g,o=f;break}if(R===o){E=!0,o=g,r=f;break}R=R.sibling}if(!E)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?n:i}function fe(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=fe(n),i!==null)return i;n=n.sibling}return null}var me=Array.isArray,ge=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ae={pending:!1,data:null,method:null,action:null},Re=[],mt=-1;function He(n){return{current:n}}function at(n){0>mt||(n.current=Re[mt],Re[mt]=null,mt--)}function Xe(n,i){mt++,Re[mt]=n.current,n.current=i}var Qt=He(null),ts=He(null),vn=He(null),pe=He(null);function Ge(n,i){switch(Xe(vn,i),Xe(ts,n),Xe(Qt,null),n=i.nodeType,n){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?lv(i):0;break;default:if(n=n===8?i.parentNode:i,i=n.tagName,n=n.namespaceURI)n=lv(n),i=ov(n,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}at(Qt),Xe(Qt,i)}function Ct(){at(Qt),at(ts),at(vn)}function Ln(n){n.memoizedState!==null&&Xe(pe,n);var i=Qt.current,r=ov(i,n.type);i!==r&&(Xe(ts,n),Xe(Qt,r))}function An(n){ts.current===n&&(at(Qt),at(ts)),pe.current===n&&(at(pe),Fo._currentValue=Ae)}var Fs=Object.prototype.hasOwnProperty,_s=s.unstable_scheduleCallback,ki=s.unstable_cancelCallback,Fl=s.unstable_shouldYield,Ma=s.unstable_requestPaint,Yt=s.unstable_now,Vc=s.unstable_getCurrentPriorityLevel,It=s.unstable_ImmediatePriority,Bt=s.unstable_UserBlockingPriority,Gs=s.unstable_NormalPriority,Bc=s.unstable_LowPriority,Gl=s.unstable_IdlePriority,Sh=s.log,La=s.unstable_setDisableYieldValue,Ci=null,an=null;function $l(n){if(an&&typeof an.onCommitFiberRoot=="function")try{an.onCommitFiberRoot(Ci,n,void 0,(n.current.flags&128)===128)}catch{}}function vs(n){if(typeof Sh=="function"&&La(n),an&&typeof an.setStrictMode=="function")try{an.setStrictMode(Ci,n)}catch{}}var hn=Math.clz32?Math.clz32:zc,Ql=Math.log,Hc=Math.LN2;function zc(n){return n>>>=0,n===0?32:31-(Ql(n)/Hc|0)|0}var xs=128,Ii=4194304;function ns(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Pn(n,i){var r=n.pendingLanes;if(r===0)return 0;var o=0,f=n.suspendedLanes,g=n.pingedLanes,E=n.warmLanes;n=n.finishedLanes!==0;var R=r&134217727;return R!==0?(r=R&~f,r!==0?o=ns(r):(g&=R,g!==0?o=ns(g):n||(E=R&~E,E!==0&&(o=ns(E))))):(R=r&~f,R!==0?o=ns(R):g!==0?o=ns(g):n||(E=r&~E,E!==0&&(o=ns(E)))),o===0?0:i!==0&&i!==o&&(i&f)===0&&(f=o&-o,E=i&-i,f>=E||f===32&&(E&4194176)!==0)?i:o}function ji(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function Cr(n,i){switch(n){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yl(){var n=xs;return xs<<=1,(xs&4194176)===0&&(xs=128),n}function Di(){var n=Ii;return Ii<<=1,(Ii&62914560)===0&&(Ii=4194304),n}function Ir(n){for(var i=[],r=0;31>r;r++)i.push(n);return i}function bt(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function qc(n,i,r,o,f,g){var E=n.pendingLanes;n.pendingLanes=r,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=r,n.entangledLanes&=r,n.errorRecoveryDisabledLanes&=r,n.shellSuspendCounter=0;var R=n.entanglements,P=n.expirationTimes,F=n.hiddenUpdates;for(r=E&~r;0<r;){var ie=31-hn(r),ue=1<<ie;R[ie]=0,P[ie]=-1;var J=F[ie];if(J!==null)for(F[ie]=null,ie=0;ie<J.length;ie++){var se=J[ie];se!==null&&(se.lane&=-536870913)}r&=~ue}o!==0&&Oi(n,o,0),g!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=g&~(E&~i))}function Oi(n,i,r){n.pendingLanes|=i,n.suspendedLanes&=~i;var o=31-hn(i);n.entangledLanes|=i,n.entanglements[o]=n.entanglements[o]|1073741824|r&4194218}function Mi(n,i){var r=n.entangledLanes|=i;for(n=n.entanglements;r;){var o=31-hn(r),f=1<<o;f&i|n[o]&i&&(n[o]|=i),r&=~f}}function Kc(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Fc(){var n=ge.p;return n!==0?n:(n=window.event,n===void 0?32:wv(n.type))}function Li(n,i){var r=ge.p;try{return ge.p=n,i()}finally{ge.p=r}}var Es=Math.random().toString(36).slice(2),Ht="__reactFiber$"+Es,jt="__reactProps$"+Es,$s="__reactContainer$"+Es,Pa="__reactEvents$"+Es,jr="__reactListeners$"+Es,bs="__reactHandles$"+Es,Wl="__reactResources$"+Es,Pi="__reactMarker$"+Es;function Ua(n){delete n[Ht],delete n[jt],delete n[Pa],delete n[jr],delete n[bs]}function ss(n){var i=n[Ht];if(i)return i;for(var r=n.parentNode;r;){if(i=r[$s]||r[Ht]){if(r=i.alternate,i.child!==null||r!==null&&r.child!==null)for(n=dv(n);n!==null;){if(r=n[Ht])return r;n=dv(n)}return i}n=r,r=n.parentNode}return null}function Qs(n){if(n=n[Ht]||n[$s]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function Ui(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(a(33))}function Vi(n){var i=n[Wl];return i||(i=n[Wl]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ut(n){n[Pi]=!0}var Xl=new Set,Dr={};function Sn(n,i){xn(n,i),xn(n+"Capture",i)}function xn(n,i){for(Dr[n]=i,n=0;n<i.length;n++)Xl.add(i[n])}var wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zl={},Jl={};function Gc(n){return Fs.call(Jl,n)?!0:Fs.call(Zl,n)?!1:wh.test(n)?Jl[n]=!0:(Zl[n]=!0,!1)}function Bi(n,i,r){if(Gc(i))if(r===null)n.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+r)}}function Hi(n,i,r){if(r===null)n.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+r)}}function Un(n,i,r,o){if(o===null)n.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttributeNS(i,r,""+o)}}function fn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function $c(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Nh(n){var i=$c(n)?"checked":"value",r=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),o=""+n[i];if(!n.hasOwnProperty(i)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var f=r.get,g=r.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return f.call(this)},set:function(E){o=""+E,g.call(this,E)}}),Object.defineProperty(n,i,{enumerable:r.enumerable}),{getValue:function(){return o},setValue:function(E){o=""+E},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function Va(n){n._valueTracker||(n._valueTracker=Nh(n))}function eo(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var r=i.getValue(),o="";return n&&(o=$c(n)?n.checked?"true":"false":n.value),n=o,n!==r?(i.setValue(n),!0):!1}function Or(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Ys=/[\n"\\]/g;function gt(n){return n.replace(Ys,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function zi(n,i,r,o,f,g,E,R){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),i!=null?E==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+fn(i)):n.value!==""+fn(i)&&(n.value=""+fn(i)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),i!=null?Mr(n,E,fn(i)):r!=null?Mr(n,E,fn(r)):o!=null&&n.removeAttribute("value"),f==null&&g!=null&&(n.defaultChecked=!!g),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?n.name=""+fn(R):n.removeAttribute("name")}function Ba(n,i,r,o,f,g,E,R){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(n.type=g),i!=null||r!=null){if(!(g!=="submit"&&g!=="reset"||i!=null))return;r=r!=null?""+fn(r):"",i=i!=null?""+fn(i):r,R||i===n.value||(n.value=i),n.defaultValue=i}o=o??f,o=typeof o!="function"&&typeof o!="symbol"&&!!o,n.checked=R?n.checked:!!o,n.defaultChecked=!!o,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E)}function Mr(n,i,r){i==="number"&&Or(n.ownerDocument)===n||n.defaultValue===""+r||(n.defaultValue=""+r)}function $e(n,i,r,o){if(n=n.options,i){i={};for(var f=0;f<r.length;f++)i["$"+r[f]]=!0;for(r=0;r<n.length;r++)f=i.hasOwnProperty("$"+n[r].value),n[r].selected!==f&&(n[r].selected=f),f&&o&&(n[r].defaultSelected=!0)}else{for(r=""+fn(r),i=null,f=0;f<n.length;f++){if(n[f].value===r){n[f].selected=!0,o&&(n[f].defaultSelected=!0);return}i!==null||n[f].disabled||(i=n[f])}i!==null&&(i.selected=!0)}}function Ha(n,i,r){if(i!=null&&(i=""+fn(i),i!==n.value&&(n.value=i),r==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=r!=null?""+fn(r):""}function qi(n,i,r,o){if(i==null){if(o!=null){if(r!=null)throw Error(a(92));if(me(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),i=r}r=fn(i),n.defaultValue=r,o=n.textContent,o===r&&o!==""&&o!==null&&(n.value=o)}function Vn(n,i){if(i){var r=n.firstChild;if(r&&r===n.lastChild&&r.nodeType===3){r.nodeValue=i;return}}n.textContent=i}var Rh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function to(n,i,r){var o=i.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":o?n.setProperty(i,r):typeof r!="number"||r===0||Rh.has(i)?i==="float"?n.cssFloat=r:n[i]=(""+r).trim():n[i]=r+"px"}function Qc(n,i,r){if(i!=null&&typeof i!="object")throw Error(a(62));if(n=n.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?n.setProperty(o,""):o==="float"?n.cssFloat="":n[o]="");for(var f in i)o=i[f],i.hasOwnProperty(f)&&r[f]!==o&&to(n,f,o)}else for(var g in i)i.hasOwnProperty(g)&&to(n,g,i[g])}function no(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ch=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ts(n){return Ch.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Bn=null;function Lr(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ws=null,Xs=null;function Zs(n){var i=Qs(n);if(i&&(n=i.stateNode)){var r=n[jt]||null;e:switch(n=i.stateNode,i.type){case"input":if(zi(n,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),i=r.name,r.type==="radio"&&i!=null){for(r=n;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+gt(""+i)+'"][type="radio"]'),i=0;i<r.length;i++){var o=r[i];if(o!==n&&o.form===n.form){var f=o[jt]||null;if(!f)throw Error(a(90));zi(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<r.length;i++)o=r[i],o.form===n.form&&eo(o)}break e;case"textarea":Ha(n,r.value,r.defaultValue);break e;case"select":i=r.value,i!=null&&$e(n,!!r.multiple,i,!1)}}}var so=!1;function Yc(n,i,r){if(so)return n(i,r);so=!0;try{var o=n(i);return o}finally{if(so=!1,(Ws!==null||Xs!==null)&&(Bu(),Ws&&(i=Ws,n=Xs,Xs=Ws=null,Zs(i),n)))for(i=0;i<n.length;i++)Zs(n[i])}}function za(n,i){var r=n.stateNode;if(r===null)return null;var o=r[jt]||null;if(o===null)return null;r=o[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(n=n.type,o=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!o;break e;default:n=!1}if(n)return null;if(r&&typeof r!="function")throw Error(a(231,i,typeof r));return r}var Hn=!1;if(wn)try{var qa={};Object.defineProperty(qa,"passive",{get:function(){Hn=!0}}),window.addEventListener("test",qa,qa),window.removeEventListener("test",qa,qa)}catch{Hn=!1}var As=null,Ki=null,Js=null;function io(){if(Js)return Js;var n,i=Ki,r=i.length,o,f="value"in As?As.value:As.textContent,g=f.length;for(n=0;n<r&&i[n]===f[n];n++);var E=r-n;for(o=1;o<=E&&i[r-o]===f[g-o];o++);return Js=f.slice(n,1<o?1-o:void 0)}function Ss(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function ws(){return!0}function ao(){return!1}function zt(n){function i(r,o,f,g,E){this._reactName=r,this._targetInst=f,this.type=o,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var R in n)n.hasOwnProperty(R)&&(r=n[R],this[R]=r?r(g):g[R]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?ws:ao,this.isPropagationStopped=ao,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ws)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ws)},persist:function(){},isPersistent:ws}),i}var Ze={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pr=zt(Ze),Ka=T({},Ze,{view:0,detail:0}),Wc=zt(Ka),Ur,Vr,Ns,Fa=T({},Ka,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qa,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ns&&(Ns&&n.type==="mousemove"?(Ur=n.screenX-Ns.screenX,Vr=n.screenY-Ns.screenY):Vr=Ur=0,Ns=n),Ur)},movementY:function(n){return"movementY"in n?n.movementY:Vr}}),zn=zt(Fa),Xc=T({},Fa,{dataTransfer:0}),Ih=zt(Xc),Ga=T({},Ka,{relatedTarget:0}),Br=zt(Ga),ro=T({},Ze,{animationName:0,elapsedTime:0,pseudoElement:0}),Hr=zt(ro),Zc=T({},Ze,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),zr=zt(Zc),jh=T({},Ze,{data:0}),lo=zt(jh),$a={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oo(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=eu[n])?!!i[n]:!1}function Qa(){return oo}var tu=T({},Ka,{key:function(n){if(n.key){var i=$a[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=Ss(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Jc[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qa,charCode:function(n){return n.type==="keypress"?Ss(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Ss(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),qr=zt(tu),nu=T({},Fa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),co=zt(nu),ei=T({},Ka,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qa}),su=zt(ei),iu=T({},Ze,{propertyName:0,elapsedTime:0,pseudoElement:0}),au=zt(iu),ru=T({},Fa,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Kr=zt(ru),mn=T({},Ze,{newState:0,oldState:0}),lu=zt(mn),ou=[9,13,27,32],Rs=wn&&"CompositionEvent"in window,d=null;wn&&"documentMode"in document&&(d=document.documentMode);var _=wn&&"TextEvent"in window&&!d,x=wn&&(!Rs||d&&8<d&&11>=d),I=" ",Q=!1;function ee(n,i){switch(n){case"keyup":return ou.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ze=!1;function Dt(n,i){switch(n){case"compositionend":return he(i);case"keypress":return i.which!==32?null:(Q=!0,I);case"textInput":return n=i.data,n===I&&Q?null:n;default:return null}}function qe(n,i){if(ze)return n==="compositionend"||!Rs&&ee(n,i)?(n=io(),Js=Ki=As=null,ze=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return x&&i.locale!=="ko"?null:i.data;default:return null}}var qt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ot(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!qt[n.type]:i==="textarea"}function ti(n,i,r,o){Ws?Xs?Xs.push(o):Xs=[o]:Ws=o,i=Fu(i,"onChange"),0<i.length&&(r=new Pr("onChange","change",null,r,o),n.push({event:r,listeners:i}))}var Wt=null,ks=null;function uo(n){nv(n,0)}function cu(n){var i=Ui(n);if(eo(i))return n}function Ip(n,i){if(n==="change")return i}var jp=!1;if(wn){var Dh;if(wn){var Oh="oninput"in document;if(!Oh){var Dp=document.createElement("div");Dp.setAttribute("oninput","return;"),Oh=typeof Dp.oninput=="function"}Dh=Oh}else Dh=!1;jp=Dh&&(!document.documentMode||9<document.documentMode)}function Op(){Wt&&(Wt.detachEvent("onpropertychange",Mp),ks=Wt=null)}function Mp(n){if(n.propertyName==="value"&&cu(ks)){var i=[];ti(i,ks,n,Lr(n)),Yc(uo,i)}}function UT(n,i,r){n==="focusin"?(Op(),Wt=i,ks=r,Wt.attachEvent("onpropertychange",Mp)):n==="focusout"&&Op()}function VT(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return cu(ks)}function BT(n,i){if(n==="click")return cu(i)}function HT(n,i){if(n==="input"||n==="change")return cu(i)}function zT(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var Nn=typeof Object.is=="function"?Object.is:zT;function ho(n,i){if(Nn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var r=Object.keys(n),o=Object.keys(i);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var f=r[o];if(!Fs.call(i,f)||!Nn(n[f],i[f]))return!1}return!0}function Lp(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Pp(n,i){var r=Lp(n);n=0;for(var o;r;){if(r.nodeType===3){if(o=n+r.textContent.length,n<=i&&o>=i)return{node:r,offset:i-n};n=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Lp(r)}}function Up(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?Up(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function Vp(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=Or(n.document);i instanceof n.HTMLIFrameElement;){try{var r=typeof i.contentWindow.location.href=="string"}catch{r=!1}if(r)n=i.contentWindow;else break;i=Or(n.document)}return i}function Mh(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function qT(n,i){var r=Vp(i);i=n.focusedElem;var o=n.selectionRange;if(r!==i&&i&&i.ownerDocument&&Up(i.ownerDocument.documentElement,i)){if(o!==null&&Mh(i)){if(n=o.start,r=o.end,r===void 0&&(r=n),"selectionStart"in i)i.selectionStart=n,i.selectionEnd=Math.min(r,i.value.length);else if(r=(n=i.ownerDocument||document)&&n.defaultView||window,r.getSelection){r=r.getSelection();var f=i.textContent.length,g=Math.min(o.start,f);o=o.end===void 0?g:Math.min(o.end,f),!r.extend&&g>o&&(f=o,o=g,g=f),f=Pp(i,g);var E=Pp(i,o);f&&E&&(r.rangeCount!==1||r.anchorNode!==f.node||r.anchorOffset!==f.offset||r.focusNode!==E.node||r.focusOffset!==E.offset)&&(n=n.createRange(),n.setStart(f.node,f.offset),r.removeAllRanges(),g>o?(r.addRange(n),r.extend(E.node,E.offset)):(n.setEnd(E.node,E.offset),r.addRange(n)))}}for(n=[],r=i;r=r.parentNode;)r.nodeType===1&&n.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<n.length;i++)r=n[i],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var KT=wn&&"documentMode"in document&&11>=document.documentMode,Fr=null,Lh=null,fo=null,Ph=!1;function Bp(n,i,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ph||Fr==null||Fr!==Or(o)||(o=Fr,"selectionStart"in o&&Mh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),fo&&ho(fo,o)||(fo=o,o=Fu(Lh,"onSelect"),0<o.length&&(i=new Pr("onSelect","select",null,i,r),n.push({event:i,listeners:o}),i.target=Fr)))}function Ya(n,i){var r={};return r[n.toLowerCase()]=i.toLowerCase(),r["Webkit"+n]="webkit"+i,r["Moz"+n]="moz"+i,r}var Gr={animationend:Ya("Animation","AnimationEnd"),animationiteration:Ya("Animation","AnimationIteration"),animationstart:Ya("Animation","AnimationStart"),transitionrun:Ya("Transition","TransitionRun"),transitionstart:Ya("Transition","TransitionStart"),transitioncancel:Ya("Transition","TransitionCancel"),transitionend:Ya("Transition","TransitionEnd")},Uh={},Hp={};wn&&(Hp=document.createElement("div").style,"AnimationEvent"in window||(delete Gr.animationend.animation,delete Gr.animationiteration.animation,delete Gr.animationstart.animation),"TransitionEvent"in window||delete Gr.transitionend.transition);function Wa(n){if(Uh[n])return Uh[n];if(!Gr[n])return n;var i=Gr[n],r;for(r in i)if(i.hasOwnProperty(r)&&r in Hp)return Uh[n]=i[r];return n}var zp=Wa("animationend"),qp=Wa("animationiteration"),Kp=Wa("animationstart"),FT=Wa("transitionrun"),GT=Wa("transitionstart"),$T=Wa("transitioncancel"),Fp=Wa("transitionend"),Gp=new Map,$p="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function is(n,i){Gp.set(n,i),Sn(i,[n])}var qn=[],$r=0,Vh=0;function uu(){for(var n=$r,i=Vh=$r=0;i<n;){var r=qn[i];qn[i++]=null;var o=qn[i];qn[i++]=null;var f=qn[i];qn[i++]=null;var g=qn[i];if(qn[i++]=null,o!==null&&f!==null){var E=o.pending;E===null?f.next=f:(f.next=E.next,E.next=f),o.pending=f}g!==0&&Qp(r,f,g)}}function du(n,i,r,o){qn[$r++]=n,qn[$r++]=i,qn[$r++]=r,qn[$r++]=o,Vh|=o,n.lanes|=o,n=n.alternate,n!==null&&(n.lanes|=o)}function Bh(n,i,r,o){return du(n,i,r,o),hu(n)}function Fi(n,i){return du(n,null,null,i),hu(n)}function Qp(n,i,r){n.lanes|=r;var o=n.alternate;o!==null&&(o.lanes|=r);for(var f=!1,g=n.return;g!==null;)g.childLanes|=r,o=g.alternate,o!==null&&(o.childLanes|=r),g.tag===22&&(n=g.stateNode,n===null||n._visibility&1||(f=!0)),n=g,g=g.return;f&&i!==null&&n.tag===3&&(g=n.stateNode,f=31-hn(r),g=g.hiddenUpdates,n=g[f],n===null?g[f]=[i]:n.push(i),i.lane=r|536870912)}function hu(n){if(50<Uo)throw Uo=0,$f=null,Error(a(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var Qr={},Yp=new WeakMap;function Kn(n,i){if(typeof n=="object"&&n!==null){var r=Yp.get(n);return r!==void 0?r:(i={value:n,source:i,stack:X(i)},Yp.set(n,i),i)}return{value:n,source:i,stack:X(i)}}var Yr=[],Wr=0,fu=null,mu=0,Fn=[],Gn=0,Xa=null,ni=1,si="";function Za(n,i){Yr[Wr++]=mu,Yr[Wr++]=fu,fu=n,mu=i}function Wp(n,i,r){Fn[Gn++]=ni,Fn[Gn++]=si,Fn[Gn++]=Xa,Xa=n;var o=ni;n=si;var f=32-hn(o)-1;o&=~(1<<f),r+=1;var g=32-hn(i)+f;if(30<g){var E=f-f%5;g=(o&(1<<E)-1).toString(32),o>>=E,f-=E,ni=1<<32-hn(i)+f|r<<f|o,si=g+n}else ni=1<<g|r<<f|o,si=n}function Hh(n){n.return!==null&&(Za(n,1),Wp(n,1,0))}function zh(n){for(;n===fu;)fu=Yr[--Wr],Yr[Wr]=null,mu=Yr[--Wr],Yr[Wr]=null;for(;n===Xa;)Xa=Fn[--Gn],Fn[Gn]=null,si=Fn[--Gn],Fn[Gn]=null,ni=Fn[--Gn],Fn[Gn]=null}var gn=null,Xt=null,Qe=!1,as=null,Cs=!1,qh=Error(a(519));function Ja(n){var i=Error(a(418,""));throw po(Kn(i,n)),qh}function Xp(n){var i=n.stateNode,r=n.type,o=n.memoizedProps;switch(i[Ht]=n,i[jt]=o,r){case"dialog":Ve("cancel",i),Ve("close",i);break;case"iframe":case"object":case"embed":Ve("load",i);break;case"video":case"audio":for(r=0;r<Bo.length;r++)Ve(Bo[r],i);break;case"source":Ve("error",i);break;case"img":case"image":case"link":Ve("error",i),Ve("load",i);break;case"details":Ve("toggle",i);break;case"input":Ve("invalid",i),Ba(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Va(i);break;case"select":Ve("invalid",i);break;case"textarea":Ve("invalid",i),qi(i,o.value,o.defaultValue,o.children),Va(i)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||i.textContent===""+r||o.suppressHydrationWarning===!0||rv(i.textContent,r)?(o.popover!=null&&(Ve("beforetoggle",i),Ve("toggle",i)),o.onScroll!=null&&Ve("scroll",i),o.onScrollEnd!=null&&Ve("scrollend",i),o.onClick!=null&&(i.onclick=Gu),i=!0):i=!1,i||Ja(n)}function Zp(n){for(gn=n.return;gn;)switch(gn.tag){case 3:case 27:Cs=!0;return;case 5:case 13:Cs=!1;return;default:gn=gn.return}}function mo(n){if(n!==gn)return!1;if(!Qe)return Zp(n),Qe=!0,!1;var i=!1,r;if((r=n.tag!==3&&n.tag!==27)&&((r=n.tag===5)&&(r=n.type,r=!(r!=="form"&&r!=="button")||um(n.type,n.memoizedProps)),r=!r),r&&(i=!0),i&&Xt&&Ja(n),Zp(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(r=n.data,r==="/$"){if(i===0){Xt=ls(n.nextSibling);break e}i--}else r!=="$"&&r!=="$!"&&r!=="$?"||i++;n=n.nextSibling}Xt=null}}else Xt=gn?ls(n.stateNode.nextSibling):null;return!0}function go(){Xt=gn=null,Qe=!1}function po(n){as===null?as=[n]:as.push(n)}var yo=Error(a(460)),Jp=Error(a(474)),Kh={then:function(){}};function ey(n){return n=n.status,n==="fulfilled"||n==="rejected"}function gu(){}function ty(n,i,r){switch(r=n[r],r===void 0?n.push(i):r!==i&&(i.then(gu,gu),i=r),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,n===yo?Error(a(483)):n;default:if(typeof i.status=="string")i.then(gu,gu);else{if(n=st,n!==null&&100<n.shellSuspendCounter)throw Error(a(482));n=i,n.status="pending",n.then(function(o){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=o}},function(o){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,n===yo?Error(a(483)):n}throw _o=i,yo}}var _o=null;function ny(){if(_o===null)throw Error(a(459));var n=_o;return _o=null,n}var Xr=null,vo=0;function pu(n){var i=vo;return vo+=1,Xr===null&&(Xr=[]),ty(Xr,n,i)}function xo(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function yu(n,i){throw i.$$typeof===c?Error(a(525)):(n=Object.prototype.toString.call(i),Error(a(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function sy(n){var i=n._init;return i(n._payload)}function iy(n){function i($,q){if(n){var Y=$.deletions;Y===null?($.deletions=[q],$.flags|=16):Y.push(q)}}function r($,q){if(!n)return null;for(;q!==null;)i($,q),q=q.sibling;return null}function o($){for(var q=new Map;$!==null;)$.key!==null?q.set($.key,$):q.set($.index,$),$=$.sibling;return q}function f($,q){return $=sa($,q),$.index=0,$.sibling=null,$}function g($,q,Y){return $.index=Y,n?(Y=$.alternate,Y!==null?(Y=Y.index,Y<q?($.flags|=33554434,q):Y):($.flags|=33554434,q)):($.flags|=1048576,q)}function E($){return n&&$.alternate===null&&($.flags|=33554434),$}function R($,q,Y,re){return q===null||q.tag!==6?(q=Vf(Y,$.mode,re),q.return=$,q):(q=f(q,Y),q.return=$,q)}function P($,q,Y,re){var xe=Y.type;return xe===p?ie($,q,Y.props.children,re,Y.key):q!==null&&(q.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===G&&sy(xe)===q.type)?(q=f(q,Y.props),xo(q,Y),q.return=$,q):(q=Mu(Y.type,Y.key,Y.props,null,$.mode,re),xo(q,Y),q.return=$,q)}function F($,q,Y,re){return q===null||q.tag!==4||q.stateNode.containerInfo!==Y.containerInfo||q.stateNode.implementation!==Y.implementation?(q=Bf(Y,$.mode,re),q.return=$,q):(q=f(q,Y.children||[]),q.return=$,q)}function ie($,q,Y,re,xe){return q===null||q.tag!==7?(q=cr(Y,$.mode,re,xe),q.return=$,q):(q=f(q,Y),q.return=$,q)}function ue($,q,Y){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=Vf(""+q,$.mode,Y),q.return=$,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case h:return Y=Mu(q.type,q.key,q.props,null,$.mode,Y),xo(Y,q),Y.return=$,Y;case m:return q=Bf(q,$.mode,Y),q.return=$,q;case G:var re=q._init;return q=re(q._payload),ue($,q,Y)}if(me(q)||de(q))return q=cr(q,$.mode,Y,null),q.return=$,q;if(typeof q.then=="function")return ue($,pu(q),Y);if(q.$$typeof===O)return ue($,ju($,q),Y);yu($,q)}return null}function J($,q,Y,re){var xe=q!==null?q.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return xe!==null?null:R($,q,""+Y,re);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case h:return Y.key===xe?P($,q,Y,re):null;case m:return Y.key===xe?F($,q,Y,re):null;case G:return xe=Y._init,Y=xe(Y._payload),J($,q,Y,re)}if(me(Y)||de(Y))return xe!==null?null:ie($,q,Y,re,null);if(typeof Y.then=="function")return J($,q,pu(Y),re);if(Y.$$typeof===O)return J($,q,ju($,Y),re);yu($,Y)}return null}function se($,q,Y,re,xe){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return $=$.get(Y)||null,R(q,$,""+re,xe);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case h:return $=$.get(re.key===null?Y:re.key)||null,P(q,$,re,xe);case m:return $=$.get(re.key===null?Y:re.key)||null,F(q,$,re,xe);case G:var Me=re._init;return re=Me(re._payload),se($,q,Y,re,xe)}if(me(re)||de(re))return $=$.get(Y)||null,ie(q,$,re,xe,null);if(typeof re.then=="function")return se($,q,Y,pu(re),xe);if(re.$$typeof===O)return se($,q,Y,ju(q,re),xe);yu(q,re)}return null}function Ee($,q,Y,re){for(var xe=null,Me=null,be=q,Se=q=0,Gt=null;be!==null&&Se<Y.length;Se++){be.index>Se?(Gt=be,be=null):Gt=be.sibling;var Ye=J($,be,Y[Se],re);if(Ye===null){be===null&&(be=Gt);break}n&&be&&Ye.alternate===null&&i($,be),q=g(Ye,q,Se),Me===null?xe=Ye:Me.sibling=Ye,Me=Ye,be=Gt}if(Se===Y.length)return r($,be),Qe&&Za($,Se),xe;if(be===null){for(;Se<Y.length;Se++)be=ue($,Y[Se],re),be!==null&&(q=g(be,q,Se),Me===null?xe=be:Me.sibling=be,Me=be);return Qe&&Za($,Se),xe}for(be=o(be);Se<Y.length;Se++)Gt=se(be,$,Se,Y[Se],re),Gt!==null&&(n&&Gt.alternate!==null&&be.delete(Gt.key===null?Se:Gt.key),q=g(Gt,q,Se),Me===null?xe=Gt:Me.sibling=Gt,Me=Gt);return n&&be.forEach(function(ua){return i($,ua)}),Qe&&Za($,Se),xe}function Ie($,q,Y,re){if(Y==null)throw Error(a(151));for(var xe=null,Me=null,be=q,Se=q=0,Gt=null,Ye=Y.next();be!==null&&!Ye.done;Se++,Ye=Y.next()){be.index>Se?(Gt=be,be=null):Gt=be.sibling;var ua=J($,be,Ye.value,re);if(ua===null){be===null&&(be=Gt);break}n&&be&&ua.alternate===null&&i($,be),q=g(ua,q,Se),Me===null?xe=ua:Me.sibling=ua,Me=ua,be=Gt}if(Ye.done)return r($,be),Qe&&Za($,Se),xe;if(be===null){for(;!Ye.done;Se++,Ye=Y.next())Ye=ue($,Ye.value,re),Ye!==null&&(q=g(Ye,q,Se),Me===null?xe=Ye:Me.sibling=Ye,Me=Ye);return Qe&&Za($,Se),xe}for(be=o(be);!Ye.done;Se++,Ye=Y.next())Ye=se(be,$,Se,Ye.value,re),Ye!==null&&(n&&Ye.alternate!==null&&be.delete(Ye.key===null?Se:Ye.key),q=g(Ye,q,Se),Me===null?xe=Ye:Me.sibling=Ye,Me=Ye);return n&&be.forEach(function(lS){return i($,lS)}),Qe&&Za($,Se),xe}function _t($,q,Y,re){if(typeof Y=="object"&&Y!==null&&Y.type===p&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case h:e:{for(var xe=Y.key;q!==null;){if(q.key===xe){if(xe=Y.type,xe===p){if(q.tag===7){r($,q.sibling),re=f(q,Y.props.children),re.return=$,$=re;break e}}else if(q.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===G&&sy(xe)===q.type){r($,q.sibling),re=f(q,Y.props),xo(re,Y),re.return=$,$=re;break e}r($,q);break}else i($,q);q=q.sibling}Y.type===p?(re=cr(Y.props.children,$.mode,re,Y.key),re.return=$,$=re):(re=Mu(Y.type,Y.key,Y.props,null,$.mode,re),xo(re,Y),re.return=$,$=re)}return E($);case m:e:{for(xe=Y.key;q!==null;){if(q.key===xe)if(q.tag===4&&q.stateNode.containerInfo===Y.containerInfo&&q.stateNode.implementation===Y.implementation){r($,q.sibling),re=f(q,Y.children||[]),re.return=$,$=re;break e}else{r($,q);break}else i($,q);q=q.sibling}re=Bf(Y,$.mode,re),re.return=$,$=re}return E($);case G:return xe=Y._init,Y=xe(Y._payload),_t($,q,Y,re)}if(me(Y))return Ee($,q,Y,re);if(de(Y)){if(xe=de(Y),typeof xe!="function")throw Error(a(150));return Y=xe.call(Y),Ie($,q,Y,re)}if(typeof Y.then=="function")return _t($,q,pu(Y),re);if(Y.$$typeof===O)return _t($,q,ju($,Y),re);yu($,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,q!==null&&q.tag===6?(r($,q.sibling),re=f(q,Y),re.return=$,$=re):(r($,q),re=Vf(Y,$.mode,re),re.return=$,$=re),E($)):r($,q)}return function($,q,Y,re){try{vo=0;var xe=_t($,q,Y,re);return Xr=null,xe}catch(be){if(be===yo)throw be;var Me=Wn(29,be,null,$.mode);return Me.lanes=re,Me.return=$,Me}finally{}}}var er=iy(!0),ay=iy(!1),Zr=He(null),_u=He(0);function ry(n,i){n=mi,Xe(_u,n),Xe(Zr,i),mi=n|i.baseLanes}function Fh(){Xe(_u,mi),Xe(Zr,Zr.current)}function Gh(){mi=_u.current,at(Zr),at(_u)}var $n=He(null),Is=null;function Gi(n){var i=n.alternate;Xe(Mt,Mt.current&1),Xe($n,n),Is===null&&(i===null||Zr.current!==null||i.memoizedState!==null)&&(Is=n)}function ly(n){if(n.tag===22){if(Xe(Mt,Mt.current),Xe($n,n),Is===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(Is=n)}}else $i()}function $i(){Xe(Mt,Mt.current),Xe($n,$n.current)}function ii(n){at($n),Is===n&&(Is=null),at(Mt)}var Mt=He(0);function vu(n){for(var i=n;i!==null;){if(i.tag===13){var r=i.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var QT=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(r,o){n.push(o)}};this.abort=function(){i.aborted=!0,n.forEach(function(r){return r()})}},YT=s.unstable_scheduleCallback,WT=s.unstable_NormalPriority,Lt={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $h(){return{controller:new QT,data:new Map,refCount:0}}function Eo(n){n.refCount--,n.refCount===0&&YT(WT,function(){n.controller.abort()})}var bo=null,Qh=0,Jr=0,el=null;function XT(n,i){if(bo===null){var r=bo=[];Qh=0,Jr=tm(),el={status:"pending",value:void 0,then:function(o){r.push(o)}}}return Qh++,i.then(oy,oy),i}function oy(){if(--Qh===0&&bo!==null){el!==null&&(el.status="fulfilled");var n=bo;bo=null,Jr=0,el=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function ZT(n,i){var r=[],o={status:"pending",value:null,reason:null,then:function(f){r.push(f)}};return n.then(function(){o.status="fulfilled",o.value=i;for(var f=0;f<r.length;f++)(0,r[f])(i)},function(f){for(o.status="rejected",o.reason=f,f=0;f<r.length;f++)(0,r[f])(void 0)}),o}var cy=b.S;b.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&XT(n,i),cy!==null&&cy(n,i)};var tr=He(null);function Yh(){var n=tr.current;return n!==null?n:st.pooledCache}function xu(n,i){i===null?Xe(tr,tr.current):Xe(tr,i.pool)}function uy(){var n=Yh();return n===null?null:{parent:Lt._currentValue,pool:n}}var Qi=0,Oe=null,et=null,St=null,Eu=!1,tl=!1,nr=!1,bu=0,To=0,nl=null,JT=0;function Tt(){throw Error(a(321))}function Wh(n,i){if(i===null)return!1;for(var r=0;r<i.length&&r<n.length;r++)if(!Nn(n[r],i[r]))return!1;return!0}function Xh(n,i,r,o,f,g){return Qi=g,Oe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,b.H=n===null||n.memoizedState===null?sr:Yi,nr=!1,g=r(o,f),nr=!1,tl&&(g=hy(i,r,o,f)),dy(n),g}function dy(n){b.H=js;var i=et!==null&&et.next!==null;if(Qi=0,St=et=Oe=null,Eu=!1,To=0,nl=null,i)throw Error(a(300));n===null||Kt||(n=n.dependencies,n!==null&&Iu(n)&&(Kt=!0))}function hy(n,i,r,o){Oe=n;var f=0;do{if(tl&&(nl=null),To=0,tl=!1,25<=f)throw Error(a(301));if(f+=1,St=et=null,n.updateQueue!=null){var g=n.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}b.H=ir,g=i(r,o)}while(tl);return g}function eA(){var n=b.H,i=n.useState()[0];return i=typeof i.then=="function"?Ao(i):i,n=n.useState()[0],(et!==null?et.memoizedState:null)!==n&&(Oe.flags|=1024),i}function Zh(){var n=bu!==0;return bu=0,n}function Jh(n,i,r){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~r}function ef(n){if(Eu){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Eu=!1}Qi=0,St=et=Oe=null,tl=!1,To=bu=0,nl=null}function En(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?Oe.memoizedState=St=n:St=St.next=n,St}function wt(){if(et===null){var n=Oe.alternate;n=n!==null?n.memoizedState:null}else n=et.next;var i=St===null?Oe.memoizedState:St.next;if(i!==null)St=i,et=n;else{if(n===null)throw Oe.alternate===null?Error(a(467)):Error(a(310));et=n,n={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},St===null?Oe.memoizedState=St=n:St=St.next=n}return St}var Tu;Tu=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Ao(n){var i=To;return To+=1,nl===null&&(nl=[]),n=ty(nl,n,i),i=Oe,(St===null?i.memoizedState:St.next)===null&&(i=i.alternate,b.H=i===null||i.memoizedState===null?sr:Yi),n}function Au(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Ao(n);if(n.$$typeof===O)return rn(n)}throw Error(a(438,String(n)))}function tf(n){var i=null,r=Oe.updateQueue;if(r!==null&&(i=r.memoCache),i==null){var o=Oe.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),r===null&&(r=Tu(),Oe.updateQueue=r),r.memoCache=i,r=i.data[i.index],r===void 0)for(r=i.data[i.index]=Array(n),o=0;o<n;o++)r[o]=te;return i.index++,r}function ai(n,i){return typeof i=="function"?i(n):i}function Su(n){var i=wt();return nf(i,et,n)}function nf(n,i,r){var o=n.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var f=n.baseQueue,g=o.pending;if(g!==null){if(f!==null){var E=f.next;f.next=g.next,g.next=E}i.baseQueue=f=g,o.pending=null}if(g=n.baseState,f===null)n.memoizedState=g;else{i=f.next;var R=E=null,P=null,F=i,ie=!1;do{var ue=F.lane&-536870913;if(ue!==F.lane?(Ke&ue)===ue:(Qi&ue)===ue){var J=F.revertLane;if(J===0)P!==null&&(P=P.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),ue===Jr&&(ie=!0);else if((Qi&J)===J){F=F.next,J===Jr&&(ie=!0);continue}else ue={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},P===null?(R=P=ue,E=g):P=P.next=ue,Oe.lanes|=J,ia|=J;ue=F.action,nr&&r(g,ue),g=F.hasEagerState?F.eagerState:r(g,ue)}else J={lane:ue,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},P===null?(R=P=J,E=g):P=P.next=J,Oe.lanes|=ue,ia|=ue;F=F.next}while(F!==null&&F!==i);if(P===null?E=g:P.next=R,!Nn(g,n.memoizedState)&&(Kt=!0,ie&&(r=el,r!==null)))throw r;n.memoizedState=g,n.baseState=E,n.baseQueue=P,o.lastRenderedState=g}return f===null&&(o.lanes=0),[n.memoizedState,o.dispatch]}function sf(n){var i=wt(),r=i.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=n;var o=r.dispatch,f=r.pending,g=i.memoizedState;if(f!==null){r.pending=null;var E=f=f.next;do g=n(g,E.action),E=E.next;while(E!==f);Nn(g,i.memoizedState)||(Kt=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),r.lastRenderedState=g}return[g,o]}function fy(n,i,r){var o=Oe,f=wt(),g=Qe;if(g){if(r===void 0)throw Error(a(407));r=r()}else r=i();var E=!Nn((et||f).memoizedState,r);if(E&&(f.memoizedState=r,Kt=!0),f=f.queue,lf(py.bind(null,o,f,n),[n]),f.getSnapshot!==i||E||St!==null&&St.memoizedState.tag&1){if(o.flags|=2048,sl(9,gy.bind(null,o,f,r,i),{destroy:void 0},null),st===null)throw Error(a(349));g||(Qi&60)!==0||my(o,i,r)}return r}function my(n,i,r){n.flags|=16384,n={getSnapshot:i,value:r},i=Oe.updateQueue,i===null?(i=Tu(),Oe.updateQueue=i,i.stores=[n]):(r=i.stores,r===null?i.stores=[n]:r.push(n))}function gy(n,i,r,o){i.value=r,i.getSnapshot=o,yy(i)&&_y(n)}function py(n,i,r){return r(function(){yy(i)&&_y(n)})}function yy(n){var i=n.getSnapshot;n=n.value;try{var r=i();return!Nn(n,r)}catch{return!0}}function _y(n){var i=Fi(n,2);i!==null&&pn(i,n,2)}function af(n){var i=En();if(typeof n=="function"){var r=n;if(n=r(),nr){vs(!0);try{r()}finally{vs(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ai,lastRenderedState:n},i}function vy(n,i,r,o){return n.baseState=r,nf(n,et,typeof o=="function"?o:ai)}function tA(n,i,r,o,f){if(Ru(n))throw Error(a(485));if(n=i.action,n!==null){var g={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){g.listeners.push(E)}};b.T!==null?r(!0):g.isTransition=!1,o(g),r=i.pending,r===null?(g.next=i.pending=g,xy(i,g)):(g.next=r.next,i.pending=r.next=g)}}function xy(n,i){var r=i.action,o=i.payload,f=n.state;if(i.isTransition){var g=b.T,E={};b.T=E;try{var R=r(f,o),P=b.S;P!==null&&P(E,R),Ey(n,i,R)}catch(F){rf(n,i,F)}finally{b.T=g}}else try{g=r(f,o),Ey(n,i,g)}catch(F){rf(n,i,F)}}function Ey(n,i,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){by(n,i,o)},function(o){return rf(n,i,o)}):by(n,i,r)}function by(n,i,r){i.status="fulfilled",i.value=r,Ty(i),n.state=r,i=n.pending,i!==null&&(r=i.next,r===i?n.pending=null:(r=r.next,i.next=r,xy(n,r)))}function rf(n,i,r){var o=n.pending;if(n.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=r,Ty(i),i=i.next;while(i!==o)}n.action=null}function Ty(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function Ay(n,i){return i}function Sy(n,i){if(Qe){var r=st.formState;if(r!==null){e:{var o=Oe;if(Qe){if(Xt){t:{for(var f=Xt,g=Cs;f.nodeType!==8;){if(!g){f=null;break t}if(f=ls(f.nextSibling),f===null){f=null;break t}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){Xt=ls(f.nextSibling),o=f.data==="F!";break e}}Ja(o)}o=!1}o&&(i=r[0])}}return r=En(),r.memoizedState=r.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ay,lastRenderedState:i},r.queue=o,r=qy.bind(null,Oe,o),o.dispatch=r,o=af(!1),g=hf.bind(null,Oe,!1,o.queue),o=En(),f={state:i,dispatch:null,action:n,pending:null},o.queue=f,r=tA.bind(null,Oe,f,g,r),f.dispatch=r,o.memoizedState=n,[i,r,!1]}function wy(n){var i=wt();return Ny(i,et,n)}function Ny(n,i,r){i=nf(n,i,Ay)[0],n=Su(ai)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?Ao(i):i;var o=wt(),f=o.queue,g=f.dispatch;return r!==o.memoizedState&&(Oe.flags|=2048,sl(9,nA.bind(null,f,r),{destroy:void 0},null)),[i,g,n]}function nA(n,i){n.action=i}function Ry(n){var i=wt(),r=et;if(r!==null)return Ny(i,r,n);wt(),i=i.memoizedState,r=wt();var o=r.queue.dispatch;return r.memoizedState=n,[i,o,!1]}function sl(n,i,r,o){return n={tag:n,create:i,inst:r,deps:o,next:null},i=Oe.updateQueue,i===null&&(i=Tu(),Oe.updateQueue=i),r=i.lastEffect,r===null?i.lastEffect=n.next=n:(o=r.next,r.next=n,n.next=o,i.lastEffect=n),n}function ky(){return wt().memoizedState}function wu(n,i,r,o){var f=En();Oe.flags|=n,f.memoizedState=sl(1|i,r,{destroy:void 0},o===void 0?null:o)}function Nu(n,i,r,o){var f=wt();o=o===void 0?null:o;var g=f.memoizedState.inst;et!==null&&o!==null&&Wh(o,et.memoizedState.deps)?f.memoizedState=sl(i,r,g,o):(Oe.flags|=n,f.memoizedState=sl(1|i,r,g,o))}function Cy(n,i){wu(8390656,8,n,i)}function lf(n,i){Nu(2048,8,n,i)}function Iy(n,i){return Nu(4,2,n,i)}function jy(n,i){return Nu(4,4,n,i)}function Dy(n,i){if(typeof i=="function"){n=n();var r=i(n);return function(){typeof r=="function"?r():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function Oy(n,i,r){r=r!=null?r.concat([n]):null,Nu(4,4,Dy.bind(null,i,n),r)}function of(){}function My(n,i){var r=wt();i=i===void 0?null:i;var o=r.memoizedState;return i!==null&&Wh(i,o[1])?o[0]:(r.memoizedState=[n,i],n)}function Ly(n,i){var r=wt();i=i===void 0?null:i;var o=r.memoizedState;if(i!==null&&Wh(i,o[1]))return o[0];if(o=n(),nr){vs(!0);try{n()}finally{vs(!1)}}return r.memoizedState=[o,i],o}function cf(n,i,r){return r===void 0||(Qi&1073741824)!==0?n.memoizedState=i:(n.memoizedState=r,n=U_(),Oe.lanes|=n,ia|=n,r)}function Py(n,i,r,o){return Nn(r,i)?r:Zr.current!==null?(n=cf(n,r,o),Nn(n,i)||(Kt=!0),n):(Qi&42)===0?(Kt=!0,n.memoizedState=r):(n=U_(),Oe.lanes|=n,ia|=n,i)}function Uy(n,i,r,o,f){var g=ge.p;ge.p=g!==0&&8>g?g:8;var E=b.T,R={};b.T=R,hf(n,!1,i,r);try{var P=f(),F=b.S;if(F!==null&&F(R,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var ie=ZT(P,o);So(n,i,ie,In(n))}else So(n,i,o,In(n))}catch(ue){So(n,i,{then:function(){},status:"rejected",reason:ue},In())}finally{ge.p=g,b.T=E}}function sA(){}function uf(n,i,r,o){if(n.tag!==5)throw Error(a(476));var f=Vy(n).queue;Uy(n,f,i,Ae,r===null?sA:function(){return By(n),r(o)})}function Vy(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:Ae,baseState:Ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ai,lastRenderedState:Ae},next:null};var r={};return i.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ai,lastRenderedState:r},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function By(n){var i=Vy(n).next.queue;So(n,i,{},In())}function df(){return rn(Fo)}function Hy(){return wt().memoizedState}function zy(){return wt().memoizedState}function iA(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var r=In();n=Zi(r);var o=Ji(i,n,r);o!==null&&(pn(o,i,r),Ro(o,i,r)),i={cache:$h()},n.payload=i;return}i=i.return}}function aA(n,i,r){var o=In();r={lane:o,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Ru(n)?Ky(i,r):(r=Bh(n,i,r,o),r!==null&&(pn(r,n,o),Fy(r,i,o)))}function qy(n,i,r){var o=In();So(n,i,r,o)}function So(n,i,r,o){var f={lane:o,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ru(n))Ky(i,f);else{var g=n.alternate;if(n.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var E=i.lastRenderedState,R=g(E,r);if(f.hasEagerState=!0,f.eagerState=R,Nn(R,E))return du(n,i,f,0),st===null&&uu(),!1}catch{}finally{}if(r=Bh(n,i,f,o),r!==null)return pn(r,n,o),Fy(r,i,o),!0}return!1}function hf(n,i,r,o){if(o={lane:2,revertLane:tm(),action:o,hasEagerState:!1,eagerState:null,next:null},Ru(n)){if(i)throw Error(a(479))}else i=Bh(n,r,o,2),i!==null&&pn(i,n,2)}function Ru(n){var i=n.alternate;return n===Oe||i!==null&&i===Oe}function Ky(n,i){tl=Eu=!0;var r=n.pending;r===null?i.next=i:(i.next=r.next,r.next=i),n.pending=i}function Fy(n,i,r){if((r&4194176)!==0){var o=i.lanes;o&=n.pendingLanes,r|=o,i.lanes=r,Mi(n,r)}}var js={readContext:rn,use:Au,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useLayoutEffect:Tt,useInsertionEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useSyncExternalStore:Tt,useId:Tt};js.useCacheRefresh=Tt,js.useMemoCache=Tt,js.useHostTransitionStatus=Tt,js.useFormState=Tt,js.useActionState=Tt,js.useOptimistic=Tt;var sr={readContext:rn,use:Au,useCallback:function(n,i){return En().memoizedState=[n,i===void 0?null:i],n},useContext:rn,useEffect:Cy,useImperativeHandle:function(n,i,r){r=r!=null?r.concat([n]):null,wu(4194308,4,Dy.bind(null,i,n),r)},useLayoutEffect:function(n,i){return wu(4194308,4,n,i)},useInsertionEffect:function(n,i){wu(4,2,n,i)},useMemo:function(n,i){var r=En();i=i===void 0?null:i;var o=n();if(nr){vs(!0);try{n()}finally{vs(!1)}}return r.memoizedState=[o,i],o},useReducer:function(n,i,r){var o=En();if(r!==void 0){var f=r(i);if(nr){vs(!0);try{r(i)}finally{vs(!1)}}}else f=i;return o.memoizedState=o.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},o.queue=n,n=n.dispatch=aA.bind(null,Oe,n),[o.memoizedState,n]},useRef:function(n){var i=En();return n={current:n},i.memoizedState=n},useState:function(n){n=af(n);var i=n.queue,r=qy.bind(null,Oe,i);return i.dispatch=r,[n.memoizedState,r]},useDebugValue:of,useDeferredValue:function(n,i){var r=En();return cf(r,n,i)},useTransition:function(){var n=af(!1);return n=Uy.bind(null,Oe,n.queue,!0,!1),En().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,r){var o=Oe,f=En();if(Qe){if(r===void 0)throw Error(a(407));r=r()}else{if(r=i(),st===null)throw Error(a(349));(Ke&60)!==0||my(o,i,r)}f.memoizedState=r;var g={value:r,getSnapshot:i};return f.queue=g,Cy(py.bind(null,o,g,n),[n]),o.flags|=2048,sl(9,gy.bind(null,o,g,r,i),{destroy:void 0},null),r},useId:function(){var n=En(),i=st.identifierPrefix;if(Qe){var r=si,o=ni;r=(o&~(1<<32-hn(o)-1)).toString(32)+r,i=":"+i+"R"+r,r=bu++,0<r&&(i+="H"+r.toString(32)),i+=":"}else r=JT++,i=":"+i+"r"+r.toString(32)+":";return n.memoizedState=i},useCacheRefresh:function(){return En().memoizedState=iA.bind(null,Oe)}};sr.useMemoCache=tf,sr.useHostTransitionStatus=df,sr.useFormState=Sy,sr.useActionState=Sy,sr.useOptimistic=function(n){var i=En();i.memoizedState=i.baseState=n;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=r,i=hf.bind(null,Oe,!0,r),r.dispatch=i,[n,i]};var Yi={readContext:rn,use:Au,useCallback:My,useContext:rn,useEffect:lf,useImperativeHandle:Oy,useInsertionEffect:Iy,useLayoutEffect:jy,useMemo:Ly,useReducer:Su,useRef:ky,useState:function(){return Su(ai)},useDebugValue:of,useDeferredValue:function(n,i){var r=wt();return Py(r,et.memoizedState,n,i)},useTransition:function(){var n=Su(ai)[0],i=wt().memoizedState;return[typeof n=="boolean"?n:Ao(n),i]},useSyncExternalStore:fy,useId:Hy};Yi.useCacheRefresh=zy,Yi.useMemoCache=tf,Yi.useHostTransitionStatus=df,Yi.useFormState=wy,Yi.useActionState=wy,Yi.useOptimistic=function(n,i){var r=wt();return vy(r,et,n,i)};var ir={readContext:rn,use:Au,useCallback:My,useContext:rn,useEffect:lf,useImperativeHandle:Oy,useInsertionEffect:Iy,useLayoutEffect:jy,useMemo:Ly,useReducer:sf,useRef:ky,useState:function(){return sf(ai)},useDebugValue:of,useDeferredValue:function(n,i){var r=wt();return et===null?cf(r,n,i):Py(r,et.memoizedState,n,i)},useTransition:function(){var n=sf(ai)[0],i=wt().memoizedState;return[typeof n=="boolean"?n:Ao(n),i]},useSyncExternalStore:fy,useId:Hy};ir.useCacheRefresh=zy,ir.useMemoCache=tf,ir.useHostTransitionStatus=df,ir.useFormState=Ry,ir.useActionState=Ry,ir.useOptimistic=function(n,i){var r=wt();return et!==null?vy(r,et,n,i):(r.baseState=n,[n,r.queue.dispatch])};function ff(n,i,r,o){i=n.memoizedState,r=r(o,i),r=r==null?i:T({},i,r),n.memoizedState=r,n.lanes===0&&(n.updateQueue.baseState=r)}var mf={isMounted:function(n){return(n=n._reactInternals)?ce(n)===n:!1},enqueueSetState:function(n,i,r){n=n._reactInternals;var o=In(),f=Zi(o);f.payload=i,r!=null&&(f.callback=r),i=Ji(n,f,o),i!==null&&(pn(i,n,o),Ro(i,n,o))},enqueueReplaceState:function(n,i,r){n=n._reactInternals;var o=In(),f=Zi(o);f.tag=1,f.payload=i,r!=null&&(f.callback=r),i=Ji(n,f,o),i!==null&&(pn(i,n,o),Ro(i,n,o))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var r=In(),o=Zi(r);o.tag=2,i!=null&&(o.callback=i),i=Ji(n,o,r),i!==null&&(pn(i,n,r),Ro(i,n,r))}};function Gy(n,i,r,o,f,g,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(o,g,E):i.prototype&&i.prototype.isPureReactComponent?!ho(r,o)||!ho(f,g):!0}function $y(n,i,r,o){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(r,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(r,o),i.state!==n&&mf.enqueueReplaceState(i,i.state,null)}function ar(n,i){var r=i;if("ref"in i){r={};for(var o in i)o!=="ref"&&(r[o]=i[o])}if(n=n.defaultProps){r===i&&(r=T({},r));for(var f in n)r[f]===void 0&&(r[f]=n[f])}return r}var ku=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Qy(n){ku(n)}function Yy(n){console.error(n)}function Wy(n){ku(n)}function Cu(n,i){try{var r=n.onUncaughtError;r(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function Xy(n,i,r){try{var o=n.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function gf(n,i,r){return r=Zi(r),r.tag=3,r.payload={element:null},r.callback=function(){Cu(n,i)},r}function Zy(n){return n=Zi(n),n.tag=3,n}function Jy(n,i,r,o){var f=r.type.getDerivedStateFromError;if(typeof f=="function"){var g=o.value;n.payload=function(){return f(g)},n.callback=function(){Xy(i,r,o)}}var E=r.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){Xy(i,r,o),typeof f!="function"&&(aa===null?aa=new Set([this]):aa.add(this));var R=o.stack;this.componentDidCatch(o.value,{componentStack:R!==null?R:""})})}function rA(n,i,r,o,f){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=r.alternate,i!==null&&No(i,r,f,!0),r=$n.current,r!==null){switch(r.tag){case 13:return Is===null?Wf():r.alternate===null&&yt===0&&(yt=3),r.flags&=-257,r.flags|=65536,r.lanes=f,o===Kh?r.flags|=16384:(i=r.updateQueue,i===null?r.updateQueue=new Set([o]):i.add(o),Zf(n,o,f)),!1;case 22:return r.flags|=65536,o===Kh?r.flags|=16384:(i=r.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=i):(r=i.retryQueue,r===null?i.retryQueue=new Set([o]):r.add(o)),Zf(n,o,f)),!1}throw Error(a(435,r.tag))}return Zf(n,o,f),Wf(),!1}if(Qe)return i=$n.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,o!==qh&&(n=Error(a(422),{cause:o}),po(Kn(n,r)))):(o!==qh&&(i=Error(a(423),{cause:o}),po(Kn(i,r))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,o=Kn(o,r),f=gf(n.stateNode,o,f),Cf(n,f),yt!==4&&(yt=2)),!1;var g=Error(a(520),{cause:o});if(g=Kn(g,r),Lo===null?Lo=[g]:Lo.push(g),yt!==4&&(yt=2),i===null)return!0;o=Kn(o,r),r=i;do{switch(r.tag){case 3:return r.flags|=65536,n=f&-f,r.lanes|=n,n=gf(r.stateNode,o,n),Cf(r,n),!1;case 1:if(i=r.type,g=r.stateNode,(r.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(aa===null||!aa.has(g))))return r.flags|=65536,f&=-f,r.lanes|=f,f=Zy(f),Jy(f,n,r,o),Cf(r,f),!1}r=r.return}while(r!==null);return!1}var e_=Error(a(461)),Kt=!1;function Zt(n,i,r,o){i.child=n===null?ay(i,null,r,o):er(i,n.child,r,o)}function t_(n,i,r,o,f){r=r.render;var g=i.ref;if("ref"in o){var E={};for(var R in o)R!=="ref"&&(E[R]=o[R])}else E=o;return lr(i),o=Xh(n,i,r,E,g,f),R=Zh(),n!==null&&!Kt?(Jh(n,i,f),ri(n,i,f)):(Qe&&R&&Hh(i),i.flags|=1,Zt(n,i,o,f),i.child)}function n_(n,i,r,o,f){if(n===null){var g=r.type;return typeof g=="function"&&!Uf(g)&&g.defaultProps===void 0&&r.compare===null?(i.tag=15,i.type=g,s_(n,i,g,o,f)):(n=Mu(r.type,null,o,i,i.mode,f),n.ref=i.ref,n.return=i,i.child=n)}if(g=n.child,!Af(n,f)){var E=g.memoizedProps;if(r=r.compare,r=r!==null?r:ho,r(E,o)&&n.ref===i.ref)return ri(n,i,f)}return i.flags|=1,n=sa(g,o),n.ref=i.ref,n.return=i,i.child=n}function s_(n,i,r,o,f){if(n!==null){var g=n.memoizedProps;if(ho(g,o)&&n.ref===i.ref)if(Kt=!1,i.pendingProps=o=g,Af(n,f))(n.flags&131072)!==0&&(Kt=!0);else return i.lanes=n.lanes,ri(n,i,f)}return pf(n,i,r,o,f)}function i_(n,i,r){var o=i.pendingProps,f=o.children,g=(i.stateNode._pendingVisibility&2)!==0,E=n!==null?n.memoizedState:null;if(wo(n,i),o.mode==="hidden"||g){if((i.flags&128)!==0){if(o=E!==null?E.baseLanes|r:r,n!==null){for(f=i.child=n.child,g=0;f!==null;)g=g|f.lanes|f.childLanes,f=f.sibling;i.childLanes=g&~o}else i.childLanes=0,i.child=null;return a_(n,i,o,r)}if((r&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&xu(i,E!==null?E.cachePool:null),E!==null?ry(i,E):Fh(),ly(i);else return i.lanes=i.childLanes=536870912,a_(n,i,E!==null?E.baseLanes|r:r,r)}else E!==null?(xu(i,E.cachePool),ry(i,E),$i(),i.memoizedState=null):(n!==null&&xu(i,null),Fh(),$i());return Zt(n,i,f,r),i.child}function a_(n,i,r,o){var f=Yh();return f=f===null?null:{parent:Lt._currentValue,pool:f},i.memoizedState={baseLanes:r,cachePool:f},n!==null&&xu(i,null),Fh(),ly(i),n!==null&&No(n,i,o,!0),null}function wo(n,i){var r=i.ref;if(r===null)n!==null&&n.ref!==null&&(i.flags|=2097664);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(n===null||n.ref!==r)&&(i.flags|=2097664)}}function pf(n,i,r,o,f){return lr(i),r=Xh(n,i,r,o,void 0,f),o=Zh(),n!==null&&!Kt?(Jh(n,i,f),ri(n,i,f)):(Qe&&o&&Hh(i),i.flags|=1,Zt(n,i,r,f),i.child)}function r_(n,i,r,o,f,g){return lr(i),i.updateQueue=null,r=hy(i,o,r,f),dy(n),o=Zh(),n!==null&&!Kt?(Jh(n,i,g),ri(n,i,g)):(Qe&&o&&Hh(i),i.flags|=1,Zt(n,i,r,g),i.child)}function l_(n,i,r,o,f){if(lr(i),i.stateNode===null){var g=Qr,E=r.contextType;typeof E=="object"&&E!==null&&(g=rn(E)),g=new r(o,g),i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=mf,i.stateNode=g,g._reactInternals=i,g=i.stateNode,g.props=o,g.state=i.memoizedState,g.refs={},Rf(i),E=r.contextType,g.context=typeof E=="object"&&E!==null?rn(E):Qr,g.state=i.memoizedState,E=r.getDerivedStateFromProps,typeof E=="function"&&(ff(i,r,E,o),g.state=i.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(E=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),E!==g.state&&mf.enqueueReplaceState(g,g.state,null),Co(i,o,g,f),ko(),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(n===null){g=i.stateNode;var R=i.memoizedProps,P=ar(r,R);g.props=P;var F=g.context,ie=r.contextType;E=Qr,typeof ie=="object"&&ie!==null&&(E=rn(ie));var ue=r.getDerivedStateFromProps;ie=typeof ue=="function"||typeof g.getSnapshotBeforeUpdate=="function",R=i.pendingProps!==R,ie||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(R||F!==E)&&$y(i,g,o,E),Xi=!1;var J=i.memoizedState;g.state=J,Co(i,o,g,f),ko(),F=i.memoizedState,R||J!==F||Xi?(typeof ue=="function"&&(ff(i,r,ue,o),F=i.memoizedState),(P=Xi||Gy(i,r,P,o,J,F,E))?(ie||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(i.flags|=4194308)):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=F),g.props=o,g.state=F,g.context=E,o=P):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{g=i.stateNode,kf(n,i),E=i.memoizedProps,ie=ar(r,E),g.props=ie,ue=i.pendingProps,J=g.context,F=r.contextType,P=Qr,typeof F=="object"&&F!==null&&(P=rn(F)),R=r.getDerivedStateFromProps,(F=typeof R=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(E!==ue||J!==P)&&$y(i,g,o,P),Xi=!1,J=i.memoizedState,g.state=J,Co(i,o,g,f),ko();var se=i.memoizedState;E!==ue||J!==se||Xi||n!==null&&n.dependencies!==null&&Iu(n.dependencies)?(typeof R=="function"&&(ff(i,r,R,o),se=i.memoizedState),(ie=Xi||Gy(i,r,ie,o,J,se,P)||n!==null&&n.dependencies!==null&&Iu(n.dependencies))?(F||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(o,se,P),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(o,se,P)),typeof g.componentDidUpdate=="function"&&(i.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof g.componentDidUpdate!="function"||E===n.memoizedProps&&J===n.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&J===n.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=se),g.props=o,g.state=se,g.context=P,o=ie):(typeof g.componentDidUpdate!="function"||E===n.memoizedProps&&J===n.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&J===n.memoizedState||(i.flags|=1024),o=!1)}return g=o,wo(n,i),o=(i.flags&128)!==0,g||o?(g=i.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:g.render(),i.flags|=1,n!==null&&o?(i.child=er(i,n.child,null,f),i.child=er(i,null,r,f)):Zt(n,i,r,f),i.memoizedState=g.state,n=i.child):n=ri(n,i,f),n}function o_(n,i,r,o){return go(),i.flags|=256,Zt(n,i,r,o),i.child}var yf={dehydrated:null,treeContext:null,retryLane:0};function _f(n){return{baseLanes:n,cachePool:uy()}}function vf(n,i,r){return n=n!==null?n.childLanes&~r:0,i&&(n|=Xn),n}function c_(n,i,r){var o=i.pendingProps,f=!1,g=(i.flags&128)!==0,E;if((E=g)||(E=n!==null&&n.memoizedState===null?!1:(Mt.current&2)!==0),E&&(f=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,n===null){if(Qe){if(f?Gi(i):$i(),Qe){var R=Xt,P;if(P=R){e:{for(P=R,R=Cs;P.nodeType!==8;){if(!R){R=null;break e}if(P=ls(P.nextSibling),P===null){R=null;break e}}R=P}R!==null?(i.memoizedState={dehydrated:R,treeContext:Xa!==null?{id:ni,overflow:si}:null,retryLane:536870912},P=Wn(18,null,null,0),P.stateNode=R,P.return=i,i.child=P,gn=i,Xt=null,P=!0):P=!1}P||Ja(i)}if(R=i.memoizedState,R!==null&&(R=R.dehydrated,R!==null))return R.data==="$!"?i.lanes=16:i.lanes=536870912,null;ii(i)}return R=o.children,o=o.fallback,f?($i(),f=i.mode,R=Ef({mode:"hidden",children:R},f),o=cr(o,f,r,null),R.return=i,o.return=i,R.sibling=o,i.child=R,f=i.child,f.memoizedState=_f(r),f.childLanes=vf(n,E,r),i.memoizedState=yf,o):(Gi(i),xf(i,R))}if(P=n.memoizedState,P!==null&&(R=P.dehydrated,R!==null)){if(g)i.flags&256?(Gi(i),i.flags&=-257,i=bf(n,i,r)):i.memoizedState!==null?($i(),i.child=n.child,i.flags|=128,i=null):($i(),f=o.fallback,R=i.mode,o=Ef({mode:"visible",children:o.children},R),f=cr(f,R,r,null),f.flags|=2,o.return=i,f.return=i,o.sibling=f,i.child=o,er(i,n.child,null,r),o=i.child,o.memoizedState=_f(r),o.childLanes=vf(n,E,r),i.memoizedState=yf,i=f);else if(Gi(i),R.data==="$!"){if(E=R.nextSibling&&R.nextSibling.dataset,E)var F=E.dgst;E=F,o=Error(a(419)),o.stack="",o.digest=E,po({value:o,source:null,stack:null}),i=bf(n,i,r)}else if(Kt||No(n,i,r,!1),E=(r&n.childLanes)!==0,Kt||E){if(E=st,E!==null){if(o=r&-r,(o&42)!==0)o=1;else switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=64;break;case 268435456:o=134217728;break;default:o=0}if(o=(o&(E.suspendedLanes|r))!==0?0:o,o!==0&&o!==P.retryLane)throw P.retryLane=o,Fi(n,o),pn(E,n,o),e_}R.data==="$?"||Wf(),i=bf(n,i,r)}else R.data==="$?"?(i.flags|=128,i.child=n.child,i=EA.bind(null,n),R._reactRetry=i,i=null):(n=P.treeContext,Xt=ls(R.nextSibling),gn=i,Qe=!0,as=null,Cs=!1,n!==null&&(Fn[Gn++]=ni,Fn[Gn++]=si,Fn[Gn++]=Xa,ni=n.id,si=n.overflow,Xa=i),i=xf(i,o.children),i.flags|=4096);return i}return f?($i(),f=o.fallback,R=i.mode,P=n.child,F=P.sibling,o=sa(P,{mode:"hidden",children:o.children}),o.subtreeFlags=P.subtreeFlags&31457280,F!==null?f=sa(F,f):(f=cr(f,R,r,null),f.flags|=2),f.return=i,o.return=i,o.sibling=f,i.child=o,o=f,f=i.child,R=n.child.memoizedState,R===null?R=_f(r):(P=R.cachePool,P!==null?(F=Lt._currentValue,P=P.parent!==F?{parent:F,pool:F}:P):P=uy(),R={baseLanes:R.baseLanes|r,cachePool:P}),f.memoizedState=R,f.childLanes=vf(n,E,r),i.memoizedState=yf,o):(Gi(i),r=n.child,n=r.sibling,r=sa(r,{mode:"visible",children:o.children}),r.return=i,r.sibling=null,n!==null&&(E=i.deletions,E===null?(i.deletions=[n],i.flags|=16):E.push(n)),i.child=r,i.memoizedState=null,r)}function xf(n,i){return i=Ef({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function Ef(n,i){return M_(n,i,0,null)}function bf(n,i,r){return er(i,n.child,null,r),n=xf(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function u_(n,i,r){n.lanes|=i;var o=n.alternate;o!==null&&(o.lanes|=i),wf(n.return,i,r)}function Tf(n,i,r,o,f){var g=n.memoizedState;g===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:f}:(g.isBackwards=i,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=r,g.tailMode=f)}function d_(n,i,r){var o=i.pendingProps,f=o.revealOrder,g=o.tail;if(Zt(n,i,o.children,r),o=Mt.current,(o&2)!==0)o=o&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&u_(n,r,i);else if(n.tag===19)u_(n,r,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}o&=1}switch(Xe(Mt,o),f){case"forwards":for(r=i.child,f=null;r!==null;)n=r.alternate,n!==null&&vu(n)===null&&(f=r),r=r.sibling;r=f,r===null?(f=i.child,i.child=null):(f=r.sibling,r.sibling=null),Tf(i,!1,f,r,g);break;case"backwards":for(r=null,f=i.child,i.child=null;f!==null;){if(n=f.alternate,n!==null&&vu(n)===null){i.child=f;break}n=f.sibling,f.sibling=r,r=f,f=n}Tf(i,!0,r,null,g);break;case"together":Tf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ri(n,i,r){if(n!==null&&(i.dependencies=n.dependencies),ia|=i.lanes,(r&i.childLanes)===0)if(n!==null){if(No(n,i,r,!1),(r&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(a(153));if(i.child!==null){for(n=i.child,r=sa(n,n.pendingProps),i.child=r,r.return=i;n.sibling!==null;)n=n.sibling,r=r.sibling=sa(n,n.pendingProps),r.return=i;r.sibling=null}return i.child}function Af(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&Iu(n)))}function lA(n,i,r){switch(i.tag){case 3:Ge(i,i.stateNode.containerInfo),Wi(i,Lt,n.memoizedState.cache),go();break;case 27:case 5:Ln(i);break;case 4:Ge(i,i.stateNode.containerInfo);break;case 10:Wi(i,i.type,i.memoizedProps.value);break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(Gi(i),i.flags|=128,null):(r&i.child.childLanes)!==0?c_(n,i,r):(Gi(i),n=ri(n,i,r),n!==null?n.sibling:null);Gi(i);break;case 19:var f=(n.flags&128)!==0;if(o=(r&i.childLanes)!==0,o||(No(n,i,r,!1),o=(r&i.childLanes)!==0),f){if(o)return d_(n,i,r);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Xe(Mt,Mt.current),o)break;return null;case 22:case 23:return i.lanes=0,i_(n,i,r);case 24:Wi(i,Lt,n.memoizedState.cache)}return ri(n,i,r)}function h_(n,i,r){if(n!==null)if(n.memoizedProps!==i.pendingProps)Kt=!0;else{if(!Af(n,r)&&(i.flags&128)===0)return Kt=!1,lA(n,i,r);Kt=(n.flags&131072)!==0}else Kt=!1,Qe&&(i.flags&1048576)!==0&&Wp(i,mu,i.index);switch(i.lanes=0,i.tag){case 16:e:{n=i.pendingProps;var o=i.elementType,f=o._init;if(o=f(o._payload),i.type=o,typeof o=="function")Uf(o)?(n=ar(o,n),i.tag=1,i=l_(null,i,o,n,r)):(i.tag=0,i=pf(null,i,o,n,r));else{if(o!=null){if(f=o.$$typeof,f===M){i.tag=11,i=t_(null,i,o,n,r);break e}else if(f===K){i.tag=14,i=n_(null,i,o,n,r);break e}}throw i=k(o)||o,Error(a(306,i,""))}}return i;case 0:return pf(n,i,i.type,i.pendingProps,r);case 1:return o=i.type,f=ar(o,i.pendingProps),l_(n,i,o,f,r);case 3:e:{if(Ge(i,i.stateNode.containerInfo),n===null)throw Error(a(387));var g=i.pendingProps;f=i.memoizedState,o=f.element,kf(n,i),Co(i,g,null,r);var E=i.memoizedState;if(g=E.cache,Wi(i,Lt,g),g!==f.cache&&Nf(i,[Lt],r,!0),ko(),g=E.element,f.isDehydrated)if(f={element:g,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=o_(n,i,g,r);break e}else if(g!==o){o=Kn(Error(a(424)),i),po(o),i=o_(n,i,g,r);break e}else for(Xt=ls(i.stateNode.containerInfo.firstChild),gn=i,Qe=!0,as=null,Cs=!0,r=ay(i,null,g,r),i.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(go(),g===o){i=ri(n,i,r);break e}Zt(n,i,g,r)}i=i.child}return i;case 26:return wo(n,i),n===null?(r=gv(i.type,null,i.pendingProps,null))?i.memoizedState=r:Qe||(r=i.type,n=i.pendingProps,o=$u(vn.current).createElement(r),o[Ht]=i,o[jt]=n,Jt(o,r,n),ut(o),i.stateNode=o):i.memoizedState=gv(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return Ln(i),n===null&&Qe&&(o=i.stateNode=hv(i.type,i.pendingProps,vn.current),gn=i,Cs=!0,Xt=ls(o.firstChild)),o=i.pendingProps.children,n!==null||Qe?Zt(n,i,o,r):i.child=er(i,null,o,r),wo(n,i),i.child;case 5:return n===null&&Qe&&((f=o=Xt)&&(o=PA(o,i.type,i.pendingProps,Cs),o!==null?(i.stateNode=o,gn=i,Xt=ls(o.firstChild),Cs=!1,f=!0):f=!1),f||Ja(i)),Ln(i),f=i.type,g=i.pendingProps,E=n!==null?n.memoizedProps:null,o=g.children,um(f,g)?o=null:E!==null&&um(f,E)&&(i.flags|=32),i.memoizedState!==null&&(f=Xh(n,i,eA,null,null,r),Fo._currentValue=f),wo(n,i),Zt(n,i,o,r),i.child;case 6:return n===null&&Qe&&((n=r=Xt)&&(r=UA(r,i.pendingProps,Cs),r!==null?(i.stateNode=r,gn=i,Xt=null,n=!0):n=!1),n||Ja(i)),null;case 13:return c_(n,i,r);case 4:return Ge(i,i.stateNode.containerInfo),o=i.pendingProps,n===null?i.child=er(i,null,o,r):Zt(n,i,o,r),i.child;case 11:return t_(n,i,i.type,i.pendingProps,r);case 7:return Zt(n,i,i.pendingProps,r),i.child;case 8:return Zt(n,i,i.pendingProps.children,r),i.child;case 12:return Zt(n,i,i.pendingProps.children,r),i.child;case 10:return o=i.pendingProps,Wi(i,i.type,o.value),Zt(n,i,o.children,r),i.child;case 9:return f=i.type._context,o=i.pendingProps.children,lr(i),f=rn(f),o=o(f),i.flags|=1,Zt(n,i,o,r),i.child;case 14:return n_(n,i,i.type,i.pendingProps,r);case 15:return s_(n,i,i.type,i.pendingProps,r);case 19:return d_(n,i,r);case 22:return i_(n,i,r);case 24:return lr(i),o=rn(Lt),n===null?(f=Yh(),f===null&&(f=st,g=$h(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=r),f=g),i.memoizedState={parent:o,cache:f},Rf(i),Wi(i,Lt,f)):((n.lanes&r)!==0&&(kf(n,i),Co(i,null,null,r),ko()),f=n.memoizedState,g=i.memoizedState,f.parent!==o?(f={parent:o,cache:o},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Wi(i,Lt,o)):(o=g.cache,Wi(i,Lt,o),o!==f.cache&&Nf(i,[Lt],r,!0))),Zt(n,i,i.pendingProps.children,r),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}var Sf=He(null),rr=null,li=null;function Wi(n,i,r){Xe(Sf,i._currentValue),i._currentValue=r}function oi(n){n._currentValue=Sf.current,at(Sf)}function wf(n,i,r){for(;n!==null;){var o=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),n===r)break;n=n.return}}function Nf(n,i,r,o){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var g=f.dependencies;if(g!==null){var E=f.child;g=g.firstContext;e:for(;g!==null;){var R=g;g=f;for(var P=0;P<i.length;P++)if(R.context===i[P]){g.lanes|=r,R=g.alternate,R!==null&&(R.lanes|=r),wf(g.return,r,n),o||(E=null);break e}g=R.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(a(341));E.lanes|=r,g=E.alternate,g!==null&&(g.lanes|=r),wf(E,r,n),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===n){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function No(n,i,r,o){n=null;for(var f=i,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(a(387));if(E=E.memoizedProps,E!==null){var R=f.type;Nn(f.pendingProps.value,E.value)||(n!==null?n.push(R):n=[R])}}else if(f===pe.current){if(E=f.alternate,E===null)throw Error(a(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Fo):n=[Fo])}f=f.return}n!==null&&Nf(i,n,r,o),i.flags|=262144}function Iu(n){for(n=n.firstContext;n!==null;){if(!Nn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function lr(n){rr=n,li=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function rn(n){return f_(rr,n)}function ju(n,i){return rr===null&&lr(n),f_(n,i)}function f_(n,i){var r=i._currentValue;if(i={context:i,memoizedValue:r,next:null},li===null){if(n===null)throw Error(a(308));li=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else li=li.next=i;return r}var Xi=!1;function Rf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function kf(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Zi(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Ji(n,i,r){var o=n.updateQueue;if(o===null)return null;if(o=o.shared,(ht&2)!==0){var f=o.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),o.pending=i,i=hu(n),Qp(n,null,r),i}return du(n,o,i,r),hu(n)}function Ro(n,i,r){if(i=i.updateQueue,i!==null&&(i=i.shared,(r&4194176)!==0)){var o=i.lanes;o&=n.pendingLanes,r|=o,i.lanes=r,Mi(n,r)}}function Cf(n,i){var r=n.updateQueue,o=n.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var f=null,g=null;if(r=r.firstBaseUpdate,r!==null){do{var E={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};g===null?f=g=E:g=g.next=E,r=r.next}while(r!==null);g===null?f=g=i:g=g.next=i}else f=g=i;r={baseState:o.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:o.shared,callbacks:o.callbacks},n.updateQueue=r;return}n=r.lastBaseUpdate,n===null?r.firstBaseUpdate=i:n.next=i,r.lastBaseUpdate=i}var If=!1;function ko(){if(If){var n=el;if(n!==null)throw n}}function Co(n,i,r,o){If=!1;var f=n.updateQueue;Xi=!1;var g=f.firstBaseUpdate,E=f.lastBaseUpdate,R=f.shared.pending;if(R!==null){f.shared.pending=null;var P=R,F=P.next;P.next=null,E===null?g=F:E.next=F,E=P;var ie=n.alternate;ie!==null&&(ie=ie.updateQueue,R=ie.lastBaseUpdate,R!==E&&(R===null?ie.firstBaseUpdate=F:R.next=F,ie.lastBaseUpdate=P))}if(g!==null){var ue=f.baseState;E=0,ie=F=P=null,R=g;do{var J=R.lane&-536870913,se=J!==R.lane;if(se?(Ke&J)===J:(o&J)===J){J!==0&&J===Jr&&(If=!0),ie!==null&&(ie=ie.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var Ee=n,Ie=R;J=i;var _t=r;switch(Ie.tag){case 1:if(Ee=Ie.payload,typeof Ee=="function"){ue=Ee.call(_t,ue,J);break e}ue=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=Ie.payload,J=typeof Ee=="function"?Ee.call(_t,ue,J):Ee,J==null)break e;ue=T({},ue,J);break e;case 2:Xi=!0}}J=R.callback,J!==null&&(n.flags|=64,se&&(n.flags|=8192),se=f.callbacks,se===null?f.callbacks=[J]:se.push(J))}else se={lane:J,tag:R.tag,payload:R.payload,callback:R.callback,next:null},ie===null?(F=ie=se,P=ue):ie=ie.next=se,E|=J;if(R=R.next,R===null){if(R=f.shared.pending,R===null)break;se=R,R=se.next,se.next=null,f.lastBaseUpdate=se,f.shared.pending=null}}while(!0);ie===null&&(P=ue),f.baseState=P,f.firstBaseUpdate=F,f.lastBaseUpdate=ie,g===null&&(f.shared.lanes=0),ia|=E,n.lanes=E,n.memoizedState=ue}}function m_(n,i){if(typeof n!="function")throw Error(a(191,n));n.call(i)}function g_(n,i){var r=n.callbacks;if(r!==null)for(n.callbacks=null,n=0;n<r.length;n++)m_(r[n],i)}function Io(n,i){try{var r=i.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var f=o.next;r=f;do{if((r.tag&n)===n){o=void 0;var g=r.create,E=r.inst;o=g(),E.destroy=o}r=r.next}while(r!==f)}}catch(R){nt(i,i.return,R)}}function ea(n,i,r){try{var o=i.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var g=f.next;o=g;do{if((o.tag&n)===n){var E=o.inst,R=E.destroy;if(R!==void 0){E.destroy=void 0,f=i;var P=r;try{R()}catch(F){nt(f,P,F)}}}o=o.next}while(o!==g)}}catch(F){nt(i,i.return,F)}}function p_(n){var i=n.updateQueue;if(i!==null){var r=n.stateNode;try{g_(i,r)}catch(o){nt(n,n.return,o)}}}function y_(n,i,r){r.props=ar(n.type,n.memoizedProps),r.state=n.memoizedState;try{r.componentWillUnmount()}catch(o){nt(n,i,o)}}function or(n,i){try{var r=n.ref;if(r!==null){var o=n.stateNode;switch(n.tag){case 26:case 27:case 5:var f=o;break;default:f=o}typeof r=="function"?n.refCleanup=r(f):r.current=f}}catch(g){nt(n,i,g)}}function Rn(n,i){var r=n.ref,o=n.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(f){nt(n,i,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(f){nt(n,i,f)}else r.current=null}function __(n){var i=n.type,r=n.memoizedProps,o=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break e;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(f){nt(n,n.return,f)}}function v_(n,i,r){try{var o=n.stateNode;jA(o,n.type,r,i),o[jt]=i}catch(f){nt(n,n.return,f)}}function x_(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27||n.tag===4}function jf(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||x_(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==27&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Df(n,i,r){var o=n.tag;if(o===5||o===6)n=n.stateNode,i?r.nodeType===8?r.parentNode.insertBefore(n,i):r.insertBefore(n,i):(r.nodeType===8?(i=r.parentNode,i.insertBefore(n,r)):(i=r,i.appendChild(n)),r=r._reactRootContainer,r!=null||i.onclick!==null||(i.onclick=Gu));else if(o!==4&&o!==27&&(n=n.child,n!==null))for(Df(n,i,r),n=n.sibling;n!==null;)Df(n,i,r),n=n.sibling}function Du(n,i,r){var o=n.tag;if(o===5||o===6)n=n.stateNode,i?r.insertBefore(n,i):r.appendChild(n);else if(o!==4&&o!==27&&(n=n.child,n!==null))for(Du(n,i,r),n=n.sibling;n!==null;)Du(n,i,r),n=n.sibling}var ci=!1,pt=!1,Of=!1,E_=typeof WeakSet=="function"?WeakSet:Set,Ft=null,b_=!1;function oA(n,i){if(n=n.containerInfo,om=Ju,n=Vp(n),Mh(n)){if("selectionStart"in n)var r={start:n.selectionStart,end:n.selectionEnd};else e:{r=(r=n.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var f=o.anchorOffset,g=o.focusNode;o=o.focusOffset;try{r.nodeType,g.nodeType}catch{r=null;break e}var E=0,R=-1,P=-1,F=0,ie=0,ue=n,J=null;t:for(;;){for(var se;ue!==r||f!==0&&ue.nodeType!==3||(R=E+f),ue!==g||o!==0&&ue.nodeType!==3||(P=E+o),ue.nodeType===3&&(E+=ue.nodeValue.length),(se=ue.firstChild)!==null;)J=ue,ue=se;for(;;){if(ue===n)break t;if(J===r&&++F===f&&(R=E),J===g&&++ie===o&&(P=E),(se=ue.nextSibling)!==null)break;ue=J,J=ue.parentNode}ue=se}r=R===-1||P===-1?null:{start:R,end:P}}else r=null}r=r||{start:0,end:0}}else r=null;for(cm={focusedElem:n,selectionRange:r},Ju=!1,Ft=i;Ft!==null;)if(i=Ft,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,Ft=n;else for(;Ft!==null;){switch(i=Ft,g=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&g!==null){n=void 0,r=i,f=g.memoizedProps,g=g.memoizedState,o=r.stateNode;try{var Ee=ar(r.type,f,r.elementType===r.type);n=o.getSnapshotBeforeUpdate(Ee,g),o.__reactInternalSnapshotBeforeUpdate=n}catch(Ie){nt(r,r.return,Ie)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,r=n.nodeType,r===9)fm(n);else if(r===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":fm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(a(163))}if(n=i.sibling,n!==null){n.return=i.return,Ft=n;break}Ft=i.return}return Ee=b_,b_=!1,Ee}function T_(n,i,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:di(n,r),o&4&&Io(5,r);break;case 1:if(di(n,r),o&4)if(n=r.stateNode,i===null)try{n.componentDidMount()}catch(R){nt(r,r.return,R)}else{var f=ar(r.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(f,i,n.__reactInternalSnapshotBeforeUpdate)}catch(R){nt(r,r.return,R)}}o&64&&p_(r),o&512&&or(r,r.return);break;case 3:if(di(n,r),o&64&&(o=r.updateQueue,o!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{g_(o,n)}catch(R){nt(r,r.return,R)}}break;case 26:di(n,r),o&512&&or(r,r.return);break;case 27:case 5:di(n,r),i===null&&o&4&&__(r),o&512&&or(r,r.return);break;case 12:di(n,r);break;case 13:di(n,r),o&4&&w_(n,r);break;case 22:if(f=r.memoizedState!==null||ci,!f){i=i!==null&&i.memoizedState!==null||pt;var g=ci,E=pt;ci=f,(pt=i)&&!E?ta(n,r,(r.subtreeFlags&8772)!==0):di(n,r),ci=g,pt=E}o&512&&(r.memoizedProps.mode==="manual"?or(r,r.return):Rn(r,r.return));break;default:di(n,r)}}function A_(n){var i=n.alternate;i!==null&&(n.alternate=null,A_(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&Ua(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Nt=null,kn=!1;function ui(n,i,r){for(r=r.child;r!==null;)S_(n,i,r),r=r.sibling}function S_(n,i,r){if(an&&typeof an.onCommitFiberUnmount=="function")try{an.onCommitFiberUnmount(Ci,r)}catch{}switch(r.tag){case 26:pt||Rn(r,i),ui(n,i,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:pt||Rn(r,i);var o=Nt,f=kn;for(Nt=r.stateNode,ui(n,i,r),r=r.stateNode,i=r.attributes;i.length;)r.removeAttributeNode(i[0]);Ua(r),Nt=o,kn=f;break;case 5:pt||Rn(r,i);case 6:f=Nt;var g=kn;if(Nt=null,ui(n,i,r),Nt=f,kn=g,Nt!==null)if(kn)try{n=Nt,o=r.stateNode,n.nodeType===8?n.parentNode.removeChild(o):n.removeChild(o)}catch(E){nt(r,i,E)}else try{Nt.removeChild(r.stateNode)}catch(E){nt(r,i,E)}break;case 18:Nt!==null&&(kn?(i=Nt,r=r.stateNode,i.nodeType===8?hm(i.parentNode,r):i.nodeType===1&&hm(i,r),Yo(i)):hm(Nt,r.stateNode));break;case 4:o=Nt,f=kn,Nt=r.stateNode.containerInfo,kn=!0,ui(n,i,r),Nt=o,kn=f;break;case 0:case 11:case 14:case 15:pt||ea(2,r,i),pt||ea(4,r,i),ui(n,i,r);break;case 1:pt||(Rn(r,i),o=r.stateNode,typeof o.componentWillUnmount=="function"&&y_(r,i,o)),ui(n,i,r);break;case 21:ui(n,i,r);break;case 22:pt||Rn(r,i),pt=(o=pt)||r.memoizedState!==null,ui(n,i,r),pt=o;break;default:ui(n,i,r)}}function w_(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Yo(n)}catch(r){nt(i,i.return,r)}}function cA(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new E_),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new E_),i;default:throw Error(a(435,n.tag))}}function Mf(n,i){var r=cA(n);i.forEach(function(o){var f=bA.bind(null,n,o);r.has(o)||(r.add(o),o.then(f,f))})}function Qn(n,i){var r=i.deletions;if(r!==null)for(var o=0;o<r.length;o++){var f=r[o],g=n,E=i,R=E;e:for(;R!==null;){switch(R.tag){case 27:case 5:Nt=R.stateNode,kn=!1;break e;case 3:Nt=R.stateNode.containerInfo,kn=!0;break e;case 4:Nt=R.stateNode.containerInfo,kn=!0;break e}R=R.return}if(Nt===null)throw Error(a(160));S_(g,E,f),Nt=null,kn=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)N_(i,n),i=i.sibling}var rs=null;function N_(n,i){var r=n.alternate,o=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Qn(i,n),Yn(n),o&4&&(ea(3,n,n.return),Io(3,n),ea(5,n,n.return));break;case 1:Qn(i,n),Yn(n),o&512&&(pt||r===null||Rn(r,r.return)),o&64&&ci&&(n=n.updateQueue,n!==null&&(o=n.callbacks,o!==null&&(r=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var f=rs;if(Qn(i,n),Yn(n),o&512&&(pt||r===null||Rn(r,r.return)),o&4){var g=r!==null?r.memoizedState:null;if(o=n.memoizedState,r===null)if(o===null)if(n.stateNode===null){e:{o=n.type,r=n.memoizedProps,f=f.ownerDocument||f;t:switch(o){case"title":g=f.getElementsByTagName("title")[0],(!g||g[Pi]||g[Ht]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(o),f.head.insertBefore(g,f.querySelector("head > title"))),Jt(g,o,r),g[Ht]=n,ut(g),o=g;break e;case"link":var E=_v("link","href",f).get(o+(r.href||""));if(E){for(var R=0;R<E.length;R++)if(g=E[R],g.getAttribute("href")===(r.href==null?null:r.href)&&g.getAttribute("rel")===(r.rel==null?null:r.rel)&&g.getAttribute("title")===(r.title==null?null:r.title)&&g.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){E.splice(R,1);break t}}g=f.createElement(o),Jt(g,o,r),f.head.appendChild(g);break;case"meta":if(E=_v("meta","content",f).get(o+(r.content||""))){for(R=0;R<E.length;R++)if(g=E[R],g.getAttribute("content")===(r.content==null?null:""+r.content)&&g.getAttribute("name")===(r.name==null?null:r.name)&&g.getAttribute("property")===(r.property==null?null:r.property)&&g.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&g.getAttribute("charset")===(r.charSet==null?null:r.charSet)){E.splice(R,1);break t}}g=f.createElement(o),Jt(g,o,r),f.head.appendChild(g);break;default:throw Error(a(468,o))}g[Ht]=n,ut(g),o=g}n.stateNode=o}else vv(f,n.type,n.stateNode);else n.stateNode=yv(f,o,n.memoizedProps);else g!==o?(g===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):g.count--,o===null?vv(f,n.type,n.stateNode):yv(f,o,n.memoizedProps)):o===null&&n.stateNode!==null&&v_(n,n.memoizedProps,r.memoizedProps)}break;case 27:if(o&4&&n.alternate===null){f=n.stateNode,g=n.memoizedProps;try{for(var P=f.firstChild;P;){var F=P.nextSibling,ie=P.nodeName;P[Pi]||ie==="HEAD"||ie==="BODY"||ie==="SCRIPT"||ie==="STYLE"||ie==="LINK"&&P.rel.toLowerCase()==="stylesheet"||f.removeChild(P),P=F}for(var ue=n.type,J=f.attributes;J.length;)f.removeAttributeNode(J[0]);Jt(f,ue,g),f[Ht]=n,f[jt]=g}catch(Ee){nt(n,n.return,Ee)}}case 5:if(Qn(i,n),Yn(n),o&512&&(pt||r===null||Rn(r,r.return)),n.flags&32){f=n.stateNode;try{Vn(f,"")}catch(Ee){nt(n,n.return,Ee)}}o&4&&n.stateNode!=null&&(f=n.memoizedProps,v_(n,f,r!==null?r.memoizedProps:f)),o&1024&&(Of=!0);break;case 6:if(Qn(i,n),Yn(n),o&4){if(n.stateNode===null)throw Error(a(162));o=n.memoizedProps,r=n.stateNode;try{r.nodeValue=o}catch(Ee){nt(n,n.return,Ee)}}break;case 3:if(Wu=null,f=rs,rs=Qu(i.containerInfo),Qn(i,n),rs=f,Yn(n),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Yo(i.containerInfo)}catch(Ee){nt(n,n.return,Ee)}Of&&(Of=!1,R_(n));break;case 4:o=rs,rs=Qu(n.stateNode.containerInfo),Qn(i,n),Yn(n),rs=o;break;case 12:Qn(i,n),Yn(n);break;case 13:Qn(i,n),Yn(n),n.child.flags&8192&&n.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Kf=Yt()),o&4&&(o=n.updateQueue,o!==null&&(n.updateQueue=null,Mf(n,o)));break;case 22:if(o&512&&(pt||r===null||Rn(r,r.return)),P=n.memoizedState!==null,F=r!==null&&r.memoizedState!==null,ie=ci,ue=pt,ci=ie||P,pt=ue||F,Qn(i,n),pt=ue,ci=ie,Yn(n),i=n.stateNode,i._current=n,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,o&8192&&(i._visibility=P?i._visibility&-2:i._visibility|1,P&&(i=ci||pt,r===null||F||i||il(n)),n.memoizedProps===null||n.memoizedProps.mode!=="manual"))e:for(r=null,i=n;;){if(i.tag===5||i.tag===26||i.tag===27){if(r===null){F=r=i;try{if(f=F.stateNode,P)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=F.stateNode,R=F.memoizedProps.style;var se=R!=null&&R.hasOwnProperty("display")?R.display:null;E.style.display=se==null||typeof se=="boolean"?"":(""+se).trim()}}catch(Ee){nt(F,F.return,Ee)}}}else if(i.tag===6){if(r===null){F=i;try{F.stateNode.nodeValue=P?"":F.memoizedProps}catch(Ee){nt(F,F.return,Ee)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;r===i&&(r=null),i=i.return}r===i&&(r=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=n.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,Mf(n,r))));break;case 19:Qn(i,n),Yn(n),o&4&&(o=n.updateQueue,o!==null&&(n.updateQueue=null,Mf(n,o)));break;case 21:break;default:Qn(i,n),Yn(n)}}function Yn(n){var i=n.flags;if(i&2){try{if(n.tag!==27){e:{for(var r=n.return;r!==null;){if(x_(r)){var o=r;break e}r=r.return}throw Error(a(160))}switch(o.tag){case 27:var f=o.stateNode,g=jf(n);Du(n,g,f);break;case 5:var E=o.stateNode;o.flags&32&&(Vn(E,""),o.flags&=-33);var R=jf(n);Du(n,R,E);break;case 3:case 4:var P=o.stateNode.containerInfo,F=jf(n);Df(n,F,P);break;default:throw Error(a(161))}}}catch(ie){nt(n,n.return,ie)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function R_(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;R_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function di(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)T_(n,i.alternate,i),i=i.sibling}function il(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:ea(4,i,i.return),il(i);break;case 1:Rn(i,i.return);var r=i.stateNode;typeof r.componentWillUnmount=="function"&&y_(i,i.return,r),il(i);break;case 26:case 27:case 5:Rn(i,i.return),il(i);break;case 22:Rn(i,i.return),i.memoizedState===null&&il(i);break;default:il(i)}n=n.sibling}}function ta(n,i,r){for(r=r&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,f=n,g=i,E=g.flags;switch(g.tag){case 0:case 11:case 15:ta(f,g,r),Io(4,g);break;case 1:if(ta(f,g,r),o=g,f=o.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(F){nt(o,o.return,F)}if(o=g,f=o.updateQueue,f!==null){var R=o.stateNode;try{var P=f.shared.hiddenCallbacks;if(P!==null)for(f.shared.hiddenCallbacks=null,f=0;f<P.length;f++)m_(P[f],R)}catch(F){nt(o,o.return,F)}}r&&E&64&&p_(g),or(g,g.return);break;case 26:case 27:case 5:ta(f,g,r),r&&o===null&&E&4&&__(g),or(g,g.return);break;case 12:ta(f,g,r);break;case 13:ta(f,g,r),r&&E&4&&w_(f,g);break;case 22:g.memoizedState===null&&ta(f,g,r),or(g,g.return);break;default:ta(f,g,r)}i=i.sibling}}function Lf(n,i){var r=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(r=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==r&&(n!=null&&n.refCount++,r!=null&&Eo(r))}function Pf(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Eo(n))}function na(n,i,r,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)k_(n,i,r,o),i=i.sibling}function k_(n,i,r,o){var f=i.flags;switch(i.tag){case 0:case 11:case 15:na(n,i,r,o),f&2048&&Io(9,i);break;case 3:na(n,i,r,o),f&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Eo(n)));break;case 12:if(f&2048){na(n,i,r,o),n=i.stateNode;try{var g=i.memoizedProps,E=g.id,R=g.onPostCommit;typeof R=="function"&&R(E,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(P){nt(i,i.return,P)}}else na(n,i,r,o);break;case 23:break;case 22:g=i.stateNode,i.memoizedState!==null?g._visibility&4?na(n,i,r,o):jo(n,i):g._visibility&4?na(n,i,r,o):(g._visibility|=4,al(n,i,r,o,(i.subtreeFlags&10256)!==0)),f&2048&&Lf(i.alternate,i);break;case 24:na(n,i,r,o),f&2048&&Pf(i.alternate,i);break;default:na(n,i,r,o)}}function al(n,i,r,o,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var g=n,E=i,R=r,P=o,F=E.flags;switch(E.tag){case 0:case 11:case 15:al(g,E,R,P,f),Io(8,E);break;case 23:break;case 22:var ie=E.stateNode;E.memoizedState!==null?ie._visibility&4?al(g,E,R,P,f):jo(g,E):(ie._visibility|=4,al(g,E,R,P,f)),f&&F&2048&&Lf(E.alternate,E);break;case 24:al(g,E,R,P,f),f&&F&2048&&Pf(E.alternate,E);break;default:al(g,E,R,P,f)}i=i.sibling}}function jo(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var r=n,o=i,f=o.flags;switch(o.tag){case 22:jo(r,o),f&2048&&Lf(o.alternate,o);break;case 24:jo(r,o),f&2048&&Pf(o.alternate,o);break;default:jo(r,o)}i=i.sibling}}var Do=8192;function rl(n){if(n.subtreeFlags&Do)for(n=n.child;n!==null;)C_(n),n=n.sibling}function C_(n){switch(n.tag){case 26:rl(n),n.flags&Do&&n.memoizedState!==null&&XA(rs,n.memoizedState,n.memoizedProps);break;case 5:rl(n);break;case 3:case 4:var i=rs;rs=Qu(n.stateNode.containerInfo),rl(n),rs=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=Do,Do=16777216,rl(n),Do=i):rl(n));break;default:rl(n)}}function I_(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function Oo(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var r=0;r<i.length;r++){var o=i[r];Ft=o,D_(o,n)}I_(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)j_(n),n=n.sibling}function j_(n){switch(n.tag){case 0:case 11:case 15:Oo(n),n.flags&2048&&ea(9,n,n.return);break;case 3:Oo(n);break;case 12:Oo(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&4&&(n.return===null||n.return.tag!==13)?(i._visibility&=-5,Ou(n)):Oo(n);break;default:Oo(n)}}function Ou(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var r=0;r<i.length;r++){var o=i[r];Ft=o,D_(o,n)}I_(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:ea(8,i,i.return),Ou(i);break;case 22:r=i.stateNode,r._visibility&4&&(r._visibility&=-5,Ou(i));break;default:Ou(i)}n=n.sibling}}function D_(n,i){for(;Ft!==null;){var r=Ft;switch(r.tag){case 0:case 11:case 15:ea(8,r,i);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Eo(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Ft=o;else e:for(r=n;Ft!==null;){o=Ft;var f=o.sibling,g=o.return;if(A_(o),o===r){Ft=null;break e}if(f!==null){f.return=g,Ft=f;break e}Ft=g}}}function uA(n,i,r,o){this.tag=n,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wn(n,i,r,o){return new uA(n,i,r,o)}function Uf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function sa(n,i){var r=n.alternate;return r===null?(r=Wn(n.tag,i,n.key,n.mode),r.elementType=n.elementType,r.type=n.type,r.stateNode=n.stateNode,r.alternate=n,n.alternate=r):(r.pendingProps=i,r.type=n.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=n.flags&31457280,r.childLanes=n.childLanes,r.lanes=n.lanes,r.child=n.child,r.memoizedProps=n.memoizedProps,r.memoizedState=n.memoizedState,r.updateQueue=n.updateQueue,i=n.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},r.sibling=n.sibling,r.index=n.index,r.ref=n.ref,r.refCleanup=n.refCleanup,r}function O_(n,i){n.flags&=31457282;var r=n.alternate;return r===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=r.childLanes,n.lanes=r.lanes,n.child=r.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=r.memoizedProps,n.memoizedState=r.memoizedState,n.updateQueue=r.updateQueue,n.type=r.type,i=r.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function Mu(n,i,r,o,f,g){var E=0;if(o=n,typeof n=="function")Uf(n)&&(E=1);else if(typeof n=="string")E=YA(n,r,Qt.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case p:return cr(r.children,f,g,i);case y:E=8,f|=24;break;case v:return n=Wn(12,r,i,f|2),n.elementType=v,n.lanes=g,n;case B:return n=Wn(13,r,i,f),n.elementType=B,n.lanes=g,n;case V:return n=Wn(19,r,i,f),n.elementType=V,n.lanes=g,n;case Z:return M_(r,f,g,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case A:case O:E=10;break e;case N:E=9;break e;case M:E=11;break e;case K:E=14;break e;case G:E=16,o=null;break e}E=29,r=Error(a(130,n===null?"null":typeof n,"")),o=null}return i=Wn(E,r,i,f),i.elementType=n,i.type=o,i.lanes=g,i}function cr(n,i,r,o){return n=Wn(7,n,o,i),n.lanes=r,n}function M_(n,i,r,o){n=Wn(22,n,o,i),n.elementType=Z,n.lanes=r;var f={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var g=f._current;if(g===null)throw Error(a(456));if((f._pendingVisibility&2)===0){var E=Fi(g,2);E!==null&&(f._pendingVisibility|=2,pn(E,g,2))}},attach:function(){var g=f._current;if(g===null)throw Error(a(456));if((f._pendingVisibility&2)!==0){var E=Fi(g,2);E!==null&&(f._pendingVisibility&=-3,pn(E,g,2))}}};return n.stateNode=f,n}function Vf(n,i,r){return n=Wn(6,n,null,i),n.lanes=r,n}function Bf(n,i,r){return i=Wn(4,n.children!==null?n.children:[],n.key,i),i.lanes=r,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function hi(n){n.flags|=4}function L_(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!xv(i)){if(i=$n.current,i!==null&&((Ke&4194176)===Ke?Is!==null:(Ke&62914560)!==Ke&&(Ke&536870912)===0||i!==Is))throw _o=Kh,Jp;n.flags|=8192}}function Lu(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?Di():536870912,n.lanes|=i,ol|=i)}function Mo(n,i){if(!Qe)switch(n.tailMode){case"hidden":i=n.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?n.tail=null:r.sibling=null;break;case"collapsed":r=n.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:o.sibling=null}}function dt(n){var i=n.alternate!==null&&n.alternate.child===n.child,r=0,o=0;if(i)for(var f=n.child;f!==null;)r|=f.lanes|f.childLanes,o|=f.subtreeFlags&31457280,o|=f.flags&31457280,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)r|=f.lanes|f.childLanes,o|=f.subtreeFlags,o|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=o,n.childLanes=r,i}function dA(n,i,r){var o=i.pendingProps;switch(zh(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(i),null;case 1:return dt(i),null;case 3:return r=i.stateNode,o=null,n!==null&&(o=n.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),oi(Lt),Ct(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(mo(i)?hi(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,as!==null&&(Qf(as),as=null))),dt(i),null;case 26:return r=i.memoizedState,n===null?(hi(i),r!==null?(dt(i),L_(i,r)):(dt(i),i.flags&=-16777217)):r?r!==n.memoizedState?(hi(i),dt(i),L_(i,r)):(dt(i),i.flags&=-16777217):(n.memoizedProps!==o&&hi(i),dt(i),i.flags&=-16777217),null;case 27:An(i),r=vn.current;var f=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==o&&hi(i);else{if(!o){if(i.stateNode===null)throw Error(a(166));return dt(i),null}n=Qt.current,mo(i)?Xp(i):(n=hv(f,o,r),i.stateNode=n,hi(i))}return dt(i),null;case 5:if(An(i),r=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==o&&hi(i);else{if(!o){if(i.stateNode===null)throw Error(a(166));return dt(i),null}if(n=Qt.current,mo(i))Xp(i);else{switch(f=$u(vn.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof o.is=="string"?f.createElement("select",{is:o.is}):f.createElement("select"),o.multiple?n.multiple=!0:o.size&&(n.size=o.size);break;default:n=typeof o.is=="string"?f.createElement(r,{is:o.is}):f.createElement(r)}}n[Ht]=i,n[jt]=o;e:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break e;for(;f.sibling===null;){if(f.return===null||f.return===i)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=n;e:switch(Jt(n,r,o),r){case"button":case"input":case"select":case"textarea":n=!!o.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&hi(i)}}return dt(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==o&&hi(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(a(166));if(n=vn.current,mo(i)){if(n=i.stateNode,r=i.memoizedProps,o=null,f=gn,f!==null)switch(f.tag){case 27:case 5:o=f.memoizedProps}n[Ht]=i,n=!!(n.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||rv(n.nodeValue,r)),n||Ja(i)}else n=$u(n).createTextNode(o),n[Ht]=i,i.stateNode=n}return dt(i),null;case 13:if(o=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=mo(i),o!==null&&o.dehydrated!==null){if(n===null){if(!f)throw Error(a(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[Ht]=i}else go(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;dt(i),f=!1}else as!==null&&(Qf(as),as=null),f=!0;if(!f)return i.flags&256?(ii(i),i):(ii(i),null)}if(ii(i),(i.flags&128)!==0)return i.lanes=r,i;if(r=o!==null,n=n!==null&&n.memoizedState!==null,r){o=i.child,f=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(f=o.alternate.memoizedState.cachePool.pool);var g=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(g=o.memoizedState.cachePool.pool),g!==f&&(o.flags|=2048)}return r!==n&&r&&(i.child.flags|=8192),Lu(i,i.updateQueue),dt(i),null;case 4:return Ct(),n===null&&am(i.stateNode.containerInfo),dt(i),null;case 10:return oi(i.type),dt(i),null;case 19:if(at(Mt),f=i.memoizedState,f===null)return dt(i),null;if(o=(i.flags&128)!==0,g=f.rendering,g===null)if(o)Mo(f,!1);else{if(yt!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(g=vu(n),g!==null){for(i.flags|=128,Mo(f,!1),n=g.updateQueue,i.updateQueue=n,Lu(i,n),i.subtreeFlags=0,n=r,r=i.child;r!==null;)O_(r,n),r=r.sibling;return Xe(Mt,Mt.current&1|2),i.child}n=n.sibling}f.tail!==null&&Yt()>Pu&&(i.flags|=128,o=!0,Mo(f,!1),i.lanes=4194304)}else{if(!o)if(n=vu(g),n!==null){if(i.flags|=128,o=!0,n=n.updateQueue,i.updateQueue=n,Lu(i,n),Mo(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!Qe)return dt(i),null}else 2*Yt()-f.renderingStartTime>Pu&&r!==536870912&&(i.flags|=128,o=!0,Mo(f,!1),i.lanes=4194304);f.isBackwards?(g.sibling=i.child,i.child=g):(n=f.last,n!==null?n.sibling=g:i.child=g,f.last=g)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=Yt(),i.sibling=null,n=Mt.current,Xe(Mt,o?n&1|2:n&1),i):(dt(i),null);case 22:case 23:return ii(i),Gh(),o=i.memoizedState!==null,n!==null?n.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(r&536870912)!==0&&(i.flags&128)===0&&(dt(i),i.subtreeFlags&6&&(i.flags|=8192)):dt(i),r=i.updateQueue,r!==null&&Lu(i,r.retryQueue),r=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(r=n.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==r&&(i.flags|=2048),n!==null&&at(tr),null;case 24:return r=null,n!==null&&(r=n.memoizedState.cache),i.memoizedState.cache!==r&&(i.flags|=2048),oi(Lt),dt(i),null;case 25:return null}throw Error(a(156,i.tag))}function hA(n,i){switch(zh(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return oi(Lt),Ct(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return An(i),null;case 13:if(ii(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(a(340));go()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return at(Mt),null;case 4:return Ct(),null;case 10:return oi(i.type),null;case 22:case 23:return ii(i),Gh(),n!==null&&at(tr),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return oi(Lt),null;case 25:return null;default:return null}}function P_(n,i){switch(zh(i),i.tag){case 3:oi(Lt),Ct();break;case 26:case 27:case 5:An(i);break;case 4:Ct();break;case 13:ii(i);break;case 19:at(Mt);break;case 10:oi(i.type);break;case 22:case 23:ii(i),Gh(),n!==null&&at(tr);break;case 24:oi(Lt)}}var fA={getCacheForType:function(n){var i=rn(Lt),r=i.data.get(n);return r===void 0&&(r=n(),i.data.set(n,r)),r}},mA=typeof WeakMap=="function"?WeakMap:Map,ht=0,st=null,Le=null,Ke=0,it=0,Cn=null,fi=!1,ll=!1,Hf=!1,mi=0,yt=0,ia=0,ur=0,zf=0,Xn=0,ol=0,Lo=null,Ds=null,qf=!1,Kf=0,Pu=1/0,Uu=null,aa=null,Vu=!1,dr=null,Po=0,Ff=0,Gf=null,Uo=0,$f=null;function In(){if((ht&2)!==0&&Ke!==0)return Ke&-Ke;if(b.T!==null){var n=Jr;return n!==0?n:tm()}return Fc()}function U_(){Xn===0&&(Xn=(Ke&536870912)===0||Qe?Yl():536870912);var n=$n.current;return n!==null&&(n.flags|=32),Xn}function pn(n,i,r){(n===st&&it===2||n.cancelPendingCommit!==null)&&(cl(n,0),gi(n,Ke,Xn,!1)),bt(n,r),((ht&2)===0||n!==st)&&(n===st&&((ht&2)===0&&(ur|=r),yt===4&&gi(n,Ke,Xn,!1)),Os(n))}function V_(n,i,r){if((ht&6)!==0)throw Error(a(327));var o=!r&&(i&60)===0&&(i&n.expiredLanes)===0||ji(n,i),f=o?yA(n,i):Xf(n,i,!0),g=o;do{if(f===0){ll&&!o&&gi(n,i,0,!1);break}else if(f===6)gi(n,i,0,!fi);else{if(r=n.current.alternate,g&&!gA(r)){f=Xf(n,i,!1),g=!1;continue}if(f===2){if(g=i,n.errorRecoveryDisabledLanes&g)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var R=n;f=Lo;var P=R.current.memoizedState.isDehydrated;if(P&&(cl(R,E).flags|=256),E=Xf(R,E,!1),E!==2){if(Hf&&!P){R.errorRecoveryDisabledLanes|=g,ur|=g,f=4;break e}g=Ds,Ds=f,g!==null&&Qf(g)}f=E}if(g=!1,f!==2)continue}}if(f===1){cl(n,0),gi(n,i,0,!0);break}e:{switch(o=n,f){case 0:case 1:throw Error(a(345));case 4:if((i&4194176)===i){gi(o,i,Xn,!fi);break e}break;case 2:Ds=null;break;case 3:case 5:break;default:throw Error(a(329))}if(o.finishedWork=r,o.finishedLanes=i,(i&62914560)===i&&(g=Kf+300-Yt(),10<g)){if(gi(o,i,Xn,!fi),Pn(o,0)!==0)break e;o.timeoutHandle=cv(B_.bind(null,o,r,Ds,Uu,qf,i,Xn,ur,ol,fi,2,-0,0),g);break e}B_(o,r,Ds,Uu,qf,i,Xn,ur,ol,fi,0,-0,0)}}break}while(!0);Os(n)}function Qf(n){Ds===null?Ds=n:Ds.push.apply(Ds,n)}function B_(n,i,r,o,f,g,E,R,P,F,ie,ue,J){var se=i.subtreeFlags;if((se&8192||(se&16785408)===16785408)&&(Ko={stylesheets:null,count:0,unsuspend:WA},C_(i),i=ZA(),i!==null)){n.cancelPendingCommit=i($_.bind(null,n,r,o,f,E,R,P,1,ue,J)),gi(n,g,E,!F);return}$_(n,r,o,f,E,R,P,ie,ue,J)}function gA(n){for(var i=n;;){var r=i.tag;if((r===0||r===11||r===15)&&i.flags&16384&&(r=i.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var f=r[o],g=f.getSnapshot;f=f.value;try{if(!Nn(g(),f))return!1}catch{return!1}}if(r=i.child,i.subtreeFlags&16384&&r!==null)r.return=i,i=r;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function gi(n,i,r,o){i&=~zf,i&=~ur,n.suspendedLanes|=i,n.pingedLanes&=~i,o&&(n.warmLanes|=i),o=n.expirationTimes;for(var f=i;0<f;){var g=31-hn(f),E=1<<g;o[g]=-1,f&=~E}r!==0&&Oi(n,r,i)}function Bu(){return(ht&6)===0?(Vo(0),!1):!0}function Yf(){if(Le!==null){if(it===0)var n=Le.return;else n=Le,li=rr=null,ef(n),Xr=null,vo=0,n=Le;for(;n!==null;)P_(n.alternate,n),n=n.return;Le=null}}function cl(n,i){n.finishedWork=null,n.finishedLanes=0;var r=n.timeoutHandle;r!==-1&&(n.timeoutHandle=-1,OA(r)),r=n.cancelPendingCommit,r!==null&&(n.cancelPendingCommit=null,r()),Yf(),st=n,Le=r=sa(n.current,null),Ke=i,it=0,Cn=null,fi=!1,ll=ji(n,i),Hf=!1,ol=Xn=zf=ur=ia=yt=0,Ds=Lo=null,qf=!1,(i&8)!==0&&(i|=i&32);var o=n.entangledLanes;if(o!==0)for(n=n.entanglements,o&=i;0<o;){var f=31-hn(o),g=1<<f;i|=n[f],o&=~g}return mi=i,uu(),r}function H_(n,i){Oe=null,b.H=js,i===yo?(i=ny(),it=3):i===Jp?(i=ny(),it=4):it=i===e_?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Cn=i,Le===null&&(yt=1,Cu(n,Kn(i,n.current)))}function z_(){var n=b.H;return b.H=js,n===null?js:n}function q_(){var n=b.A;return b.A=fA,n}function Wf(){yt=4,fi||(Ke&4194176)!==Ke&&$n.current!==null||(ll=!0),(ia&134217727)===0&&(ur&134217727)===0||st===null||gi(st,Ke,Xn,!1)}function Xf(n,i,r){var o=ht;ht|=2;var f=z_(),g=q_();(st!==n||Ke!==i)&&(Uu=null,cl(n,i)),i=!1;var E=yt;e:do try{if(it!==0&&Le!==null){var R=Le,P=Cn;switch(it){case 8:Yf(),E=6;break e;case 3:case 2:case 6:$n.current===null&&(i=!0);var F=it;if(it=0,Cn=null,ul(n,R,P,F),r&&ll){E=0;break e}break;default:F=it,it=0,Cn=null,ul(n,R,P,F)}}pA(),E=yt;break}catch(ie){H_(n,ie)}while(!0);return i&&n.shellSuspendCounter++,li=rr=null,ht=o,b.H=f,b.A=g,Le===null&&(st=null,Ke=0,uu()),E}function pA(){for(;Le!==null;)K_(Le)}function yA(n,i){var r=ht;ht|=2;var o=z_(),f=q_();st!==n||Ke!==i?(Uu=null,Pu=Yt()+500,cl(n,i)):ll=ji(n,i);e:do try{if(it!==0&&Le!==null){i=Le;var g=Cn;t:switch(it){case 1:it=0,Cn=null,ul(n,i,g,1);break;case 2:if(ey(g)){it=0,Cn=null,F_(i);break}i=function(){it===2&&st===n&&(it=7),Os(n)},g.then(i,i);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:ey(g)?(it=0,Cn=null,F_(i)):(it=0,Cn=null,ul(n,i,g,7));break;case 5:var E=null;switch(Le.tag){case 26:E=Le.memoizedState;case 5:case 27:var R=Le;if(!E||xv(E)){it=0,Cn=null;var P=R.sibling;if(P!==null)Le=P;else{var F=R.return;F!==null?(Le=F,Hu(F)):Le=null}break t}}it=0,Cn=null,ul(n,i,g,5);break;case 6:it=0,Cn=null,ul(n,i,g,6);break;case 8:Yf(),yt=6;break e;default:throw Error(a(462))}}_A();break}catch(ie){H_(n,ie)}while(!0);return li=rr=null,b.H=o,b.A=f,ht=r,Le!==null?0:(st=null,Ke=0,uu(),yt)}function _A(){for(;Le!==null&&!Fl();)K_(Le)}function K_(n){var i=h_(n.alternate,n,mi);n.memoizedProps=n.pendingProps,i===null?Hu(n):Le=i}function F_(n){var i=n,r=i.alternate;switch(i.tag){case 15:case 0:i=r_(r,i,i.pendingProps,i.type,void 0,Ke);break;case 11:i=r_(r,i,i.pendingProps,i.type.render,i.ref,Ke);break;case 5:ef(i);default:P_(r,i),i=Le=O_(i,mi),i=h_(r,i,mi)}n.memoizedProps=n.pendingProps,i===null?Hu(n):Le=i}function ul(n,i,r,o){li=rr=null,ef(i),Xr=null,vo=0;var f=i.return;try{if(rA(n,f,i,r,Ke)){yt=1,Cu(n,Kn(r,n.current)),Le=null;return}}catch(g){if(f!==null)throw Le=f,g;yt=1,Cu(n,Kn(r,n.current)),Le=null;return}i.flags&32768?(Qe||o===1?n=!0:ll||(Ke&536870912)!==0?n=!1:(fi=n=!0,(o===2||o===3||o===6)&&(o=$n.current,o!==null&&o.tag===13&&(o.flags|=16384))),G_(i,n)):Hu(i)}function Hu(n){var i=n;do{if((i.flags&32768)!==0){G_(i,fi);return}n=i.return;var r=dA(i.alternate,i,mi);if(r!==null){Le=r;return}if(i=i.sibling,i!==null){Le=i;return}Le=i=n}while(i!==null);yt===0&&(yt=5)}function G_(n,i){do{var r=hA(n.alternate,n);if(r!==null){r.flags&=32767,Le=r;return}if(r=n.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!i&&(n=n.sibling,n!==null)){Le=n;return}Le=n=r}while(n!==null);yt=6,Le=null}function $_(n,i,r,o,f,g,E,R,P,F){var ie=b.T,ue=ge.p;try{ge.p=2,b.T=null,vA(n,i,r,o,ue,f,g,E,R,P,F)}finally{b.T=ie,ge.p=ue}}function vA(n,i,r,o,f,g,E,R){do dl();while(dr!==null);if((ht&6)!==0)throw Error(a(327));var P=n.finishedWork;if(o=n.finishedLanes,P===null)return null;if(n.finishedWork=null,n.finishedLanes=0,P===n.current)throw Error(a(177));n.callbackNode=null,n.callbackPriority=0,n.cancelPendingCommit=null;var F=P.lanes|P.childLanes;if(F|=Vh,qc(n,o,F,g,E,R),n===st&&(Le=st=null,Ke=0),(P.subtreeFlags&10256)===0&&(P.flags&10256)===0||Vu||(Vu=!0,Ff=F,Gf=r,TA(Gs,function(){return dl(),null})),r=(P.flags&15990)!==0,(P.subtreeFlags&15990)!==0||r?(r=b.T,b.T=null,g=ge.p,ge.p=2,E=ht,ht|=4,oA(n,P),N_(P,n),qT(cm,n.containerInfo),Ju=!!om,cm=om=null,n.current=P,T_(n,P.alternate,P),Ma(),ht=E,ge.p=g,b.T=r):n.current=P,Vu?(Vu=!1,dr=n,Po=o):Q_(n,F),F=n.pendingLanes,F===0&&(aa=null),$l(P.stateNode),Os(n),i!==null)for(f=n.onRecoverableError,P=0;P<i.length;P++)F=i[P],f(F.value,{componentStack:F.stack});return(Po&3)!==0&&dl(),F=n.pendingLanes,(o&4194218)!==0&&(F&42)!==0?n===$f?Uo++:(Uo=0,$f=n):Uo=0,Vo(0),null}function Q_(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,Eo(i)))}function dl(){if(dr!==null){var n=dr,i=Ff;Ff=0;var r=Kc(Po),o=b.T,f=ge.p;try{if(ge.p=32>r?32:r,b.T=null,dr===null)var g=!1;else{r=Gf,Gf=null;var E=dr,R=Po;if(dr=null,Po=0,(ht&6)!==0)throw Error(a(331));var P=ht;if(ht|=4,j_(E.current),k_(E,E.current,R,r),ht=P,Vo(0,!1),an&&typeof an.onPostCommitFiberRoot=="function")try{an.onPostCommitFiberRoot(Ci,E)}catch{}g=!0}return g}finally{ge.p=f,b.T=o,Q_(n,i)}}return!1}function Y_(n,i,r){i=Kn(r,i),i=gf(n.stateNode,i,2),n=Ji(n,i,2),n!==null&&(bt(n,2),Os(n))}function nt(n,i,r){if(n.tag===3)Y_(n,n,r);else for(;i!==null;){if(i.tag===3){Y_(i,n,r);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(aa===null||!aa.has(o))){n=Kn(r,n),r=Zy(2),o=Ji(i,r,2),o!==null&&(Jy(r,o,i,n),bt(o,2),Os(o));break}}i=i.return}}function Zf(n,i,r){var o=n.pingCache;if(o===null){o=n.pingCache=new mA;var f=new Set;o.set(i,f)}else f=o.get(i),f===void 0&&(f=new Set,o.set(i,f));f.has(r)||(Hf=!0,f.add(r),n=xA.bind(null,n,i,r),i.then(n,n))}function xA(n,i,r){var o=n.pingCache;o!==null&&o.delete(i),n.pingedLanes|=n.suspendedLanes&r,n.warmLanes&=~r,st===n&&(Ke&r)===r&&(yt===4||yt===3&&(Ke&62914560)===Ke&&300>Yt()-Kf?(ht&2)===0&&cl(n,0):zf|=r,ol===Ke&&(ol=0)),Os(n)}function W_(n,i){i===0&&(i=Di()),n=Fi(n,i),n!==null&&(bt(n,i),Os(n))}function EA(n){var i=n.memoizedState,r=0;i!==null&&(r=i.retryLane),W_(n,r)}function bA(n,i){var r=0;switch(n.tag){case 13:var o=n.stateNode,f=n.memoizedState;f!==null&&(r=f.retryLane);break;case 19:o=n.stateNode;break;case 22:o=n.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(i),W_(n,r)}function TA(n,i){return _s(n,i)}var zu=null,hl=null,Jf=!1,qu=!1,em=!1,hr=0;function Os(n){n!==hl&&n.next===null&&(hl===null?zu=hl=n:hl=hl.next=n),qu=!0,Jf||(Jf=!0,SA(AA))}function Vo(n,i){if(!em&&qu){em=!0;do for(var r=!1,o=zu;o!==null;){if(n!==0){var f=o.pendingLanes;if(f===0)var g=0;else{var E=o.suspendedLanes,R=o.pingedLanes;g=(1<<31-hn(42|n)+1)-1,g&=f&~(E&~R),g=g&201326677?g&201326677|1:g?g|2:0}g!==0&&(r=!0,J_(o,g))}else g=Ke,g=Pn(o,o===st?g:0),(g&3)===0||ji(o,g)||(r=!0,J_(o,g));o=o.next}while(r);em=!1}}function AA(){qu=Jf=!1;var n=0;hr!==0&&(DA()&&(n=hr),hr=0);for(var i=Yt(),r=null,o=zu;o!==null;){var f=o.next,g=X_(o,i);g===0?(o.next=null,r===null?zu=f:r.next=f,f===null&&(hl=r)):(r=o,(n!==0||(g&3)!==0)&&(qu=!0)),o=f}Vo(n)}function X_(n,i){for(var r=n.suspendedLanes,o=n.pingedLanes,f=n.expirationTimes,g=n.pendingLanes&-62914561;0<g;){var E=31-hn(g),R=1<<E,P=f[E];P===-1?((R&r)===0||(R&o)!==0)&&(f[E]=Cr(R,i)):P<=i&&(n.expiredLanes|=R),g&=~R}if(i=st,r=Ke,r=Pn(n,n===i?r:0),o=n.callbackNode,r===0||n===i&&it===2||n.cancelPendingCommit!==null)return o!==null&&o!==null&&ki(o),n.callbackNode=null,n.callbackPriority=0;if((r&3)===0||ji(n,r)){if(i=r&-r,i===n.callbackPriority)return i;switch(o!==null&&ki(o),Kc(r)){case 2:case 8:r=Bt;break;case 32:r=Gs;break;case 268435456:r=Gl;break;default:r=Gs}return o=Z_.bind(null,n),r=_s(r,o),n.callbackPriority=i,n.callbackNode=r,i}return o!==null&&o!==null&&ki(o),n.callbackPriority=2,n.callbackNode=null,2}function Z_(n,i){var r=n.callbackNode;if(dl()&&n.callbackNode!==r)return null;var o=Ke;return o=Pn(n,n===st?o:0),o===0?null:(V_(n,o,i),X_(n,Yt()),n.callbackNode!=null&&n.callbackNode===r?Z_.bind(null,n):null)}function J_(n,i){if(dl())return null;V_(n,i,!0)}function SA(n){MA(function(){(ht&6)!==0?_s(It,n):n()})}function tm(){return hr===0&&(hr=Yl()),hr}function ev(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Ts(""+n)}function tv(n,i){var r=i.ownerDocument.createElement("input");return r.name=i.name,r.value=i.value,n.id&&r.setAttribute("form",n.id),i.parentNode.insertBefore(r,i),n=new FormData(n),r.parentNode.removeChild(r),n}function wA(n,i,r,o,f){if(i==="submit"&&r&&r.stateNode===f){var g=ev((f[jt]||null).action),E=o.submitter;E&&(i=(i=E[jt]||null)?ev(i.formAction):E.getAttribute("formAction"),i!==null&&(g=i,E=null));var R=new Pr("action","action",null,o,f);n.push({event:R,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(hr!==0){var P=E?tv(f,E):new FormData(f);uf(r,{pending:!0,data:P,method:f.method,action:g},null,P)}}else typeof g=="function"&&(R.preventDefault(),P=E?tv(f,E):new FormData(f),uf(r,{pending:!0,data:P,method:f.method,action:g},g,P))},currentTarget:f}]})}}for(var nm=0;nm<$p.length;nm++){var sm=$p[nm],NA=sm.toLowerCase(),RA=sm[0].toUpperCase()+sm.slice(1);is(NA,"on"+RA)}is(zp,"onAnimationEnd"),is(qp,"onAnimationIteration"),is(Kp,"onAnimationStart"),is("dblclick","onDoubleClick"),is("focusin","onFocus"),is("focusout","onBlur"),is(FT,"onTransitionRun"),is(GT,"onTransitionStart"),is($T,"onTransitionCancel"),is(Fp,"onTransitionEnd"),xn("onMouseEnter",["mouseout","mouseover"]),xn("onMouseLeave",["mouseout","mouseover"]),xn("onPointerEnter",["pointerout","pointerover"]),xn("onPointerLeave",["pointerout","pointerover"]),Sn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Sn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Sn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Sn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Sn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Sn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bo));function nv(n,i){i=(i&4)!==0;for(var r=0;r<n.length;r++){var o=n[r],f=o.event;o=o.listeners;e:{var g=void 0;if(i)for(var E=o.length-1;0<=E;E--){var R=o[E],P=R.instance,F=R.currentTarget;if(R=R.listener,P!==g&&f.isPropagationStopped())break e;g=R,f.currentTarget=F;try{g(f)}catch(ie){ku(ie)}f.currentTarget=null,g=P}else for(E=0;E<o.length;E++){if(R=o[E],P=R.instance,F=R.currentTarget,R=R.listener,P!==g&&f.isPropagationStopped())break e;g=R,f.currentTarget=F;try{g(f)}catch(ie){ku(ie)}f.currentTarget=null,g=P}}}}function Ve(n,i){var r=i[Pa];r===void 0&&(r=i[Pa]=new Set);var o=n+"__bubble";r.has(o)||(sv(i,n,2,!1),r.add(o))}function im(n,i,r){var o=0;i&&(o|=4),sv(r,n,o,i)}var Ku="_reactListening"+Math.random().toString(36).slice(2);function am(n){if(!n[Ku]){n[Ku]=!0,Xl.forEach(function(r){r!=="selectionchange"&&(kA.has(r)||im(r,!1,n),im(r,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Ku]||(i[Ku]=!0,im("selectionchange",!1,i))}}function sv(n,i,r,o){switch(wv(i)){case 2:var f=tS;break;case 8:f=nS;break;default:f=_m}r=f.bind(null,i,r,n),f=void 0,!Hn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),o?f!==void 0?n.addEventListener(i,r,{capture:!0,passive:f}):n.addEventListener(i,r,!0):f!==void 0?n.addEventListener(i,r,{passive:f}):n.addEventListener(i,r,!1)}function rm(n,i,r,o,f){var g=o;if((i&1)===0&&(i&2)===0&&o!==null)e:for(;;){if(o===null)return;var E=o.tag;if(E===3||E===4){var R=o.stateNode.containerInfo;if(R===f||R.nodeType===8&&R.parentNode===f)break;if(E===4)for(E=o.return;E!==null;){var P=E.tag;if((P===3||P===4)&&(P=E.stateNode.containerInfo,P===f||P.nodeType===8&&P.parentNode===f))return;E=E.return}for(;R!==null;){if(E=ss(R),E===null)return;if(P=E.tag,P===5||P===6||P===26||P===27){o=g=E;continue e}R=R.parentNode}}o=o.return}Yc(function(){var F=g,ie=Lr(r),ue=[];e:{var J=Gp.get(n);if(J!==void 0){var se=Pr,Ee=n;switch(n){case"keypress":if(Ss(r)===0)break e;case"keydown":case"keyup":se=qr;break;case"focusin":Ee="focus",se=Br;break;case"focusout":Ee="blur",se=Br;break;case"beforeblur":case"afterblur":se=Br;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=zn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=Ih;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=su;break;case zp:case qp:case Kp:se=Hr;break;case Fp:se=au;break;case"scroll":case"scrollend":se=Wc;break;case"wheel":se=Kr;break;case"copy":case"cut":case"paste":se=zr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=co;break;case"toggle":case"beforetoggle":se=lu}var Ie=(i&4)!==0,_t=!Ie&&(n==="scroll"||n==="scrollend"),$=Ie?J!==null?J+"Capture":null:J;Ie=[];for(var q=F,Y;q!==null;){var re=q;if(Y=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||Y===null||$===null||(re=za(q,$),re!=null&&Ie.push(Ho(q,re,Y))),_t)break;q=q.return}0<Ie.length&&(J=new se(J,Ee,null,r,ie),ue.push({event:J,listeners:Ie}))}}if((i&7)===0){e:{if(J=n==="mouseover"||n==="pointerover",se=n==="mouseout"||n==="pointerout",J&&r!==Bn&&(Ee=r.relatedTarget||r.fromElement)&&(ss(Ee)||Ee[$s]))break e;if((se||J)&&(J=ie.window===ie?ie:(J=ie.ownerDocument)?J.defaultView||J.parentWindow:window,se?(Ee=r.relatedTarget||r.toElement,se=F,Ee=Ee?ss(Ee):null,Ee!==null&&(_t=ce(Ee),Ie=Ee.tag,Ee!==_t||Ie!==5&&Ie!==27&&Ie!==6)&&(Ee=null)):(se=null,Ee=F),se!==Ee)){if(Ie=zn,re="onMouseLeave",$="onMouseEnter",q="mouse",(n==="pointerout"||n==="pointerover")&&(Ie=co,re="onPointerLeave",$="onPointerEnter",q="pointer"),_t=se==null?J:Ui(se),Y=Ee==null?J:Ui(Ee),J=new Ie(re,q+"leave",se,r,ie),J.target=_t,J.relatedTarget=Y,re=null,ss(ie)===F&&(Ie=new Ie($,q+"enter",Ee,r,ie),Ie.target=Y,Ie.relatedTarget=_t,re=Ie),_t=re,se&&Ee)t:{for(Ie=se,$=Ee,q=0,Y=Ie;Y;Y=fl(Y))q++;for(Y=0,re=$;re;re=fl(re))Y++;for(;0<q-Y;)Ie=fl(Ie),q--;for(;0<Y-q;)$=fl($),Y--;for(;q--;){if(Ie===$||$!==null&&Ie===$.alternate)break t;Ie=fl(Ie),$=fl($)}Ie=null}else Ie=null;se!==null&&iv(ue,J,se,Ie,!1),Ee!==null&&_t!==null&&iv(ue,_t,Ee,Ie,!0)}}e:{if(J=F?Ui(F):window,se=J.nodeName&&J.nodeName.toLowerCase(),se==="select"||se==="input"&&J.type==="file")var xe=Ip;else if(Ot(J))if(jp)xe=HT;else{xe=VT;var Me=UT}else se=J.nodeName,!se||se.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?F&&no(F.elementType)&&(xe=Ip):xe=BT;if(xe&&(xe=xe(n,F))){ti(ue,xe,r,ie);break e}Me&&Me(n,J,F),n==="focusout"&&F&&J.type==="number"&&F.memoizedProps.value!=null&&Mr(J,"number",J.value)}switch(Me=F?Ui(F):window,n){case"focusin":(Ot(Me)||Me.contentEditable==="true")&&(Fr=Me,Lh=F,fo=null);break;case"focusout":fo=Lh=Fr=null;break;case"mousedown":Ph=!0;break;case"contextmenu":case"mouseup":case"dragend":Ph=!1,Bp(ue,r,ie);break;case"selectionchange":if(KT)break;case"keydown":case"keyup":Bp(ue,r,ie)}var be;if(Rs)e:{switch(n){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else ze?ee(n,r)&&(Se="onCompositionEnd"):n==="keydown"&&r.keyCode===229&&(Se="onCompositionStart");Se&&(x&&r.locale!=="ko"&&(ze||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&ze&&(be=io()):(As=ie,Ki="value"in As?As.value:As.textContent,ze=!0)),Me=Fu(F,Se),0<Me.length&&(Se=new lo(Se,n,null,r,ie),ue.push({event:Se,listeners:Me}),be?Se.data=be:(be=he(r),be!==null&&(Se.data=be)))),(be=_?Dt(n,r):qe(n,r))&&(Se=Fu(F,"onBeforeInput"),0<Se.length&&(Me=new lo("onBeforeInput","beforeinput",null,r,ie),ue.push({event:Me,listeners:Se}),Me.data=be)),wA(ue,n,F,r,ie)}nv(ue,i)})}function Ho(n,i,r){return{instance:n,listener:i,currentTarget:r}}function Fu(n,i){for(var r=i+"Capture",o=[];n!==null;){var f=n,g=f.stateNode;f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=za(n,r),f!=null&&o.unshift(Ho(n,f,g)),f=za(n,i),f!=null&&o.push(Ho(n,f,g))),n=n.return}return o}function fl(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function iv(n,i,r,o,f){for(var g=i._reactName,E=[];r!==null&&r!==o;){var R=r,P=R.alternate,F=R.stateNode;if(R=R.tag,P!==null&&P===o)break;R!==5&&R!==26&&R!==27||F===null||(P=F,f?(F=za(r,g),F!=null&&E.unshift(Ho(r,F,P))):f||(F=za(r,g),F!=null&&E.push(Ho(r,F,P)))),r=r.return}E.length!==0&&n.push({event:i,listeners:E})}var CA=/\r\n?/g,IA=/\u0000|\uFFFD/g;function av(n){return(typeof n=="string"?n:""+n).replace(CA,`
`).replace(IA,"")}function rv(n,i){return i=av(i),av(n)===i}function Gu(){}function tt(n,i,r,o,f,g){switch(r){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||Vn(n,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&Vn(n,""+o);break;case"className":Hi(n,"class",o);break;case"tabIndex":Hi(n,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Hi(n,r,o);break;case"style":Qc(n,o,g);break;case"data":if(i!=="object"){Hi(n,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||r!=="href")){n.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){n.removeAttribute(r);break}o=Ts(""+o),n.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){n.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(r==="formAction"?(i!=="input"&&tt(n,i,"name",f.name,f,null),tt(n,i,"formEncType",f.formEncType,f,null),tt(n,i,"formMethod",f.formMethod,f,null),tt(n,i,"formTarget",f.formTarget,f,null)):(tt(n,i,"encType",f.encType,f,null),tt(n,i,"method",f.method,f,null),tt(n,i,"target",f.target,f,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){n.removeAttribute(r);break}o=Ts(""+o),n.setAttribute(r,o);break;case"onClick":o!=null&&(n.onclick=Gu);break;case"onScroll":o!=null&&Ve("scroll",n);break;case"onScrollEnd":o!=null&&Ve("scrollend",n);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(f.children!=null)throw Error(a(60));n.innerHTML=r}}break;case"multiple":n.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":n.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){n.removeAttribute("xlink:href");break}r=Ts(""+o),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?n.setAttribute(r,""+o):n.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?n.setAttribute(r,""):n.removeAttribute(r);break;case"capture":case"download":o===!0?n.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?n.setAttribute(r,o):n.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?n.setAttribute(r,o):n.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?n.removeAttribute(r):n.setAttribute(r,o);break;case"popover":Ve("beforetoggle",n),Ve("toggle",n),Bi(n,"popover",o);break;case"xlinkActuate":Un(n,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Un(n,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Un(n,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Un(n,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Un(n,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Un(n,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Un(n,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Un(n,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Un(n,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Bi(n,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=kh.get(r)||r,Bi(n,r,o))}}function lm(n,i,r,o,f,g){switch(r){case"style":Qc(n,o,g);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(f.children!=null)throw Error(a(60));n.innerHTML=r}}break;case"children":typeof o=="string"?Vn(n,o):(typeof o=="number"||typeof o=="bigint")&&Vn(n,""+o);break;case"onScroll":o!=null&&Ve("scroll",n);break;case"onScrollEnd":o!=null&&Ve("scrollend",n);break;case"onClick":o!=null&&(n.onclick=Gu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Dr.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(f=r.endsWith("Capture"),i=r.slice(2,f?r.length-7:void 0),g=n[jt]||null,g=g!=null?g[r]:null,typeof g=="function"&&n.removeEventListener(i,g,f),typeof o=="function")){typeof g!="function"&&g!==null&&(r in n?n[r]=null:n.hasAttribute(r)&&n.removeAttribute(r)),n.addEventListener(i,o,f);break e}r in n?n[r]=o:o===!0?n.setAttribute(r,""):Bi(n,r,o)}}}function Jt(n,i,r){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",n),Ve("load",n);var o=!1,f=!1,g;for(g in r)if(r.hasOwnProperty(g)){var E=r[g];if(E!=null)switch(g){case"src":o=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:tt(n,i,g,E,r,null)}}f&&tt(n,i,"srcSet",r.srcSet,r,null),o&&tt(n,i,"src",r.src,r,null);return;case"input":Ve("invalid",n);var R=g=E=f=null,P=null,F=null;for(o in r)if(r.hasOwnProperty(o)){var ie=r[o];if(ie!=null)switch(o){case"name":f=ie;break;case"type":E=ie;break;case"checked":P=ie;break;case"defaultChecked":F=ie;break;case"value":g=ie;break;case"defaultValue":R=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(a(137,i));break;default:tt(n,i,o,ie,r,null)}}Ba(n,g,R,P,F,E,f,!1),Va(n);return;case"select":Ve("invalid",n),o=E=g=null;for(f in r)if(r.hasOwnProperty(f)&&(R=r[f],R!=null))switch(f){case"value":g=R;break;case"defaultValue":E=R;break;case"multiple":o=R;default:tt(n,i,f,R,r,null)}i=g,r=E,n.multiple=!!o,i!=null?$e(n,!!o,i,!1):r!=null&&$e(n,!!o,r,!0);return;case"textarea":Ve("invalid",n),g=f=o=null;for(E in r)if(r.hasOwnProperty(E)&&(R=r[E],R!=null))switch(E){case"value":o=R;break;case"defaultValue":f=R;break;case"children":g=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(a(91));break;default:tt(n,i,E,R,r,null)}qi(n,o,f,g),Va(n);return;case"option":for(P in r)if(r.hasOwnProperty(P)&&(o=r[P],o!=null))switch(P){case"selected":n.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:tt(n,i,P,o,r,null)}return;case"dialog":Ve("cancel",n),Ve("close",n);break;case"iframe":case"object":Ve("load",n);break;case"video":case"audio":for(o=0;o<Bo.length;o++)Ve(Bo[o],n);break;case"image":Ve("error",n),Ve("load",n);break;case"details":Ve("toggle",n);break;case"embed":case"source":case"link":Ve("error",n),Ve("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in r)if(r.hasOwnProperty(F)&&(o=r[F],o!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:tt(n,i,F,o,r,null)}return;default:if(no(i)){for(ie in r)r.hasOwnProperty(ie)&&(o=r[ie],o!==void 0&&lm(n,i,ie,o,r,void 0));return}}for(R in r)r.hasOwnProperty(R)&&(o=r[R],o!=null&&tt(n,i,R,o,r,null))}function jA(n,i,r,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,E=null,R=null,P=null,F=null,ie=null;for(se in r){var ue=r[se];if(r.hasOwnProperty(se)&&ue!=null)switch(se){case"checked":break;case"value":break;case"defaultValue":P=ue;default:o.hasOwnProperty(se)||tt(n,i,se,null,o,ue)}}for(var J in o){var se=o[J];if(ue=r[J],o.hasOwnProperty(J)&&(se!=null||ue!=null))switch(J){case"type":g=se;break;case"name":f=se;break;case"checked":F=se;break;case"defaultChecked":ie=se;break;case"value":E=se;break;case"defaultValue":R=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(a(137,i));break;default:se!==ue&&tt(n,i,J,se,o,ue)}}zi(n,E,R,P,F,ie,g,f);return;case"select":se=E=R=J=null;for(g in r)if(P=r[g],r.hasOwnProperty(g)&&P!=null)switch(g){case"value":break;case"multiple":se=P;default:o.hasOwnProperty(g)||tt(n,i,g,null,o,P)}for(f in o)if(g=o[f],P=r[f],o.hasOwnProperty(f)&&(g!=null||P!=null))switch(f){case"value":J=g;break;case"defaultValue":R=g;break;case"multiple":E=g;default:g!==P&&tt(n,i,f,g,o,P)}i=R,r=E,o=se,J!=null?$e(n,!!r,J,!1):!!o!=!!r&&(i!=null?$e(n,!!r,i,!0):$e(n,!!r,r?[]:"",!1));return;case"textarea":se=J=null;for(R in r)if(f=r[R],r.hasOwnProperty(R)&&f!=null&&!o.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:tt(n,i,R,null,o,f)}for(E in o)if(f=o[E],g=r[E],o.hasOwnProperty(E)&&(f!=null||g!=null))switch(E){case"value":J=f;break;case"defaultValue":se=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==g&&tt(n,i,E,f,o,g)}Ha(n,J,se);return;case"option":for(var Ee in r)if(J=r[Ee],r.hasOwnProperty(Ee)&&J!=null&&!o.hasOwnProperty(Ee))switch(Ee){case"selected":n.selected=!1;break;default:tt(n,i,Ee,null,o,J)}for(P in o)if(J=o[P],se=r[P],o.hasOwnProperty(P)&&J!==se&&(J!=null||se!=null))switch(P){case"selected":n.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:tt(n,i,P,J,o,se)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ie in r)J=r[Ie],r.hasOwnProperty(Ie)&&J!=null&&!o.hasOwnProperty(Ie)&&tt(n,i,Ie,null,o,J);for(F in o)if(J=o[F],se=r[F],o.hasOwnProperty(F)&&J!==se&&(J!=null||se!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(a(137,i));break;default:tt(n,i,F,J,o,se)}return;default:if(no(i)){for(var _t in r)J=r[_t],r.hasOwnProperty(_t)&&J!==void 0&&!o.hasOwnProperty(_t)&&lm(n,i,_t,void 0,o,J);for(ie in o)J=o[ie],se=r[ie],!o.hasOwnProperty(ie)||J===se||J===void 0&&se===void 0||lm(n,i,ie,J,o,se);return}}for(var $ in r)J=r[$],r.hasOwnProperty($)&&J!=null&&!o.hasOwnProperty($)&&tt(n,i,$,null,o,J);for(ue in o)J=o[ue],se=r[ue],!o.hasOwnProperty(ue)||J===se||J==null&&se==null||tt(n,i,ue,J,o,se)}var om=null,cm=null;function $u(n){return n.nodeType===9?n:n.ownerDocument}function lv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ov(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function um(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var dm=null;function DA(){var n=window.event;return n&&n.type==="popstate"?n===dm?!1:(dm=n,!0):(dm=null,!1)}var cv=typeof setTimeout=="function"?setTimeout:void 0,OA=typeof clearTimeout=="function"?clearTimeout:void 0,uv=typeof Promise=="function"?Promise:void 0,MA=typeof queueMicrotask=="function"?queueMicrotask:typeof uv<"u"?function(n){return uv.resolve(null).then(n).catch(LA)}:cv;function LA(n){setTimeout(function(){throw n})}function hm(n,i){var r=i,o=0;do{var f=r.nextSibling;if(n.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(o===0){n.removeChild(f),Yo(i);return}o--}else r!=="$"&&r!=="$?"&&r!=="$!"||o++;r=f}while(r);Yo(i)}function fm(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var r=i;switch(i=i.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":fm(r),Ua(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}n.removeChild(r)}}function PA(n,i,r,o){for(;n.nodeType===1;){var f=r;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(o){if(!n[Pi])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(g=n.getAttribute("rel"),g==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(g!==f.rel||n.getAttribute("href")!==(f.href==null?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(g=n.getAttribute("src"),(g!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===g)return n}else return n;if(n=ls(n.nextSibling),n===null)break}return null}function UA(n,i,r){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!r||(n=ls(n.nextSibling),n===null))return null;return n}function ls(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}function dv(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var r=n.data;if(r==="$"||r==="$!"||r==="$?"){if(i===0)return n;i--}else r==="/$"&&i++}n=n.previousSibling}return null}function hv(n,i,r){switch(i=$u(r),n){case"html":if(n=i.documentElement,!n)throw Error(a(452));return n;case"head":if(n=i.head,!n)throw Error(a(453));return n;case"body":if(n=i.body,!n)throw Error(a(454));return n;default:throw Error(a(451))}}var Zn=new Map,fv=new Set;function Qu(n){return typeof n.getRootNode=="function"?n.getRootNode():n.ownerDocument}var pi=ge.d;ge.d={f:VA,r:BA,D:HA,C:zA,L:qA,m:KA,X:GA,S:FA,M:$A};function VA(){var n=pi.f(),i=Bu();return n||i}function BA(n){var i=Qs(n);i!==null&&i.tag===5&&i.type==="form"?By(i):pi.r(n)}var ml=typeof document>"u"?null:document;function mv(n,i,r){var o=ml;if(o&&typeof i=="string"&&i){var f=gt(i);f='link[rel="'+n+'"][href="'+f+'"]',typeof r=="string"&&(f+='[crossorigin="'+r+'"]'),fv.has(f)||(fv.add(f),n={rel:n,crossOrigin:r,href:i},o.querySelector(f)===null&&(i=o.createElement("link"),Jt(i,"link",n),ut(i),o.head.appendChild(i)))}}function HA(n){pi.D(n),mv("dns-prefetch",n,null)}function zA(n,i){pi.C(n,i),mv("preconnect",n,i)}function qA(n,i,r){pi.L(n,i,r);var o=ml;if(o&&n&&i){var f='link[rel="preload"][as="'+gt(i)+'"]';i==="image"&&r&&r.imageSrcSet?(f+='[imagesrcset="'+gt(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(f+='[imagesizes="'+gt(r.imageSizes)+'"]')):f+='[href="'+gt(n)+'"]';var g=f;switch(i){case"style":g=gl(n);break;case"script":g=pl(n)}Zn.has(g)||(n=T({rel:"preload",href:i==="image"&&r&&r.imageSrcSet?void 0:n,as:i},r),Zn.set(g,n),o.querySelector(f)!==null||i==="style"&&o.querySelector(zo(g))||i==="script"&&o.querySelector(qo(g))||(i=o.createElement("link"),Jt(i,"link",n),ut(i),o.head.appendChild(i)))}}function KA(n,i){pi.m(n,i);var r=ml;if(r&&n){var o=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+gt(o)+'"][href="'+gt(n)+'"]',g=f;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=pl(n)}if(!Zn.has(g)&&(n=T({rel:"modulepreload",href:n},i),Zn.set(g,n),r.querySelector(f)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(qo(g)))return}o=r.createElement("link"),Jt(o,"link",n),ut(o),r.head.appendChild(o)}}}function FA(n,i,r){pi.S(n,i,r);var o=ml;if(o&&n){var f=Vi(o).hoistableStyles,g=gl(n);i=i||"default";var E=f.get(g);if(!E){var R={loading:0,preload:null};if(E=o.querySelector(zo(g)))R.loading=5;else{n=T({rel:"stylesheet",href:n,"data-precedence":i},r),(r=Zn.get(g))&&mm(n,r);var P=E=o.createElement("link");ut(P),Jt(P,"link",n),P._p=new Promise(function(F,ie){P.onload=F,P.onerror=ie}),P.addEventListener("load",function(){R.loading|=1}),P.addEventListener("error",function(){R.loading|=2}),R.loading|=4,Yu(E,i,o)}E={type:"stylesheet",instance:E,count:1,state:R},f.set(g,E)}}}function GA(n,i){pi.X(n,i);var r=ml;if(r&&n){var o=Vi(r).hoistableScripts,f=pl(n),g=o.get(f);g||(g=r.querySelector(qo(f)),g||(n=T({src:n,async:!0},i),(i=Zn.get(f))&&gm(n,i),g=r.createElement("script"),ut(g),Jt(g,"link",n),r.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},o.set(f,g))}}function $A(n,i){pi.M(n,i);var r=ml;if(r&&n){var o=Vi(r).hoistableScripts,f=pl(n),g=o.get(f);g||(g=r.querySelector(qo(f)),g||(n=T({src:n,async:!0,type:"module"},i),(i=Zn.get(f))&&gm(n,i),g=r.createElement("script"),ut(g),Jt(g,"link",n),r.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},o.set(f,g))}}function gv(n,i,r,o){var f=(f=vn.current)?Qu(f):null;if(!f)throw Error(a(446));switch(n){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(i=gl(r.href),r=Vi(f).hoistableStyles,o=r.get(i),o||(o={type:"style",instance:null,count:0,state:null},r.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){n=gl(r.href);var g=Vi(f).hoistableStyles,E=g.get(n);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(n,E),(g=f.querySelector(zo(n)))&&!g._p&&(E.instance=g,E.state.loading=5),Zn.has(n)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Zn.set(n,r),g||QA(f,n,r,E.state))),i&&o===null)throw Error(a(528,""));return E}if(i&&o!==null)throw Error(a(529,""));return null;case"script":return i=r.async,r=r.src,typeof r=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=pl(r),r=Vi(f).hoistableScripts,o=r.get(i),o||(o={type:"script",instance:null,count:0,state:null},r.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,n))}}function gl(n){return'href="'+gt(n)+'"'}function zo(n){return'link[rel="stylesheet"]['+n+"]"}function pv(n){return T({},n,{"data-precedence":n.precedence,precedence:null})}function QA(n,i,r,o){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=n.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Jt(i,"link",r),ut(i),n.head.appendChild(i))}function pl(n){return'[src="'+gt(n)+'"]'}function qo(n){return"script[async]"+n}function yv(n,i,r){if(i.count++,i.instance===null)switch(i.type){case"style":var o=n.querySelector('style[data-href~="'+gt(r.href)+'"]');if(o)return i.instance=o,ut(o),o;var f=T({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(n.ownerDocument||n).createElement("style"),ut(o),Jt(o,"style",f),Yu(o,r.precedence,n),i.instance=o;case"stylesheet":f=gl(r.href);var g=n.querySelector(zo(f));if(g)return i.state.loading|=4,i.instance=g,ut(g),g;o=pv(r),(f=Zn.get(f))&&mm(o,f),g=(n.ownerDocument||n).createElement("link"),ut(g);var E=g;return E._p=new Promise(function(R,P){E.onload=R,E.onerror=P}),Jt(g,"link",o),i.state.loading|=4,Yu(g,r.precedence,n),i.instance=g;case"script":return g=pl(r.src),(f=n.querySelector(qo(g)))?(i.instance=f,ut(f),f):(o=r,(f=Zn.get(g))&&(o=T({},r),gm(o,f)),n=n.ownerDocument||n,f=n.createElement("script"),ut(f),Jt(f,"link",o),n.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,Yu(o,r.precedence,n));return i.instance}function Yu(n,i,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=o.length?o[o.length-1]:null,g=f,E=0;E<o.length;E++){var R=o[E];if(R.dataset.precedence===i)g=R;else if(g!==f)break}g?g.parentNode.insertBefore(n,g.nextSibling):(i=r.nodeType===9?r.head:r,i.insertBefore(n,i.firstChild))}function mm(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function gm(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var Wu=null;function _v(n,i,r){if(Wu===null){var o=new Map,f=Wu=new Map;f.set(r,o)}else f=Wu,o=f.get(r),o||(o=new Map,f.set(r,o));if(o.has(n))return o;for(o.set(n,null),r=r.getElementsByTagName(n),f=0;f<r.length;f++){var g=r[f];if(!(g[Pi]||g[Ht]||n==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var E=g.getAttribute(i)||"";E=n+E;var R=o.get(E);R?R.push(g):o.set(E,[g])}}return o}function vv(n,i,r){n=n.ownerDocument||n,n.head.insertBefore(r,i==="title"?n.querySelector("head > title"):null)}function YA(n,i,r){if(r===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function xv(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Ko=null;function WA(){}function XA(n,i,r){if(Ko===null)throw Error(a(475));var o=Ko;if(i.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=gl(r.href),g=n.querySelector(zo(f));if(g){n=g._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(o.count++,o=Xu.bind(o),n.then(o,o)),i.state.loading|=4,i.instance=g,ut(g);return}g=n.ownerDocument||n,r=pv(r),(f=Zn.get(f))&&mm(r,f),g=g.createElement("link"),ut(g);var E=g;E._p=new Promise(function(R,P){E.onload=R,E.onerror=P}),Jt(g,"link",r),i.instance=g}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(o.count++,i=Xu.bind(o),n.addEventListener("load",i),n.addEventListener("error",i))}}function ZA(){if(Ko===null)throw Error(a(475));var n=Ko;return n.stylesheets&&n.count===0&&pm(n,n.stylesheets),0<n.count?function(i){var r=setTimeout(function(){if(n.stylesheets&&pm(n,n.stylesheets),n.unsuspend){var o=n.unsuspend;n.unsuspend=null,o()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(r)}}:null}function Xu(){if(this.count--,this.count===0){if(this.stylesheets)pm(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Zu=null;function pm(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Zu=new Map,i.forEach(JA,n),Zu=null,Xu.call(n))}function JA(n,i){if(!(i.state.loading&4)){var r=Zu.get(n);if(r)var o=r.get(null);else{r=new Map,Zu.set(n,r);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var E=f[g];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(r.set(E.dataset.precedence,E),o=E)}o&&r.set(null,o)}f=i.instance,E=f.getAttribute("data-precedence"),g=r.get(E)||o,g===o&&r.set(null,f),r.set(E,f),this.count++,o=Xu.bind(this),f.addEventListener("load",o),f.addEventListener("error",o),g?g.parentNode.insertBefore(f,g.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),i.state.loading|=4}}var Fo={$$typeof:O,Provider:null,Consumer:null,_currentValue:Ae,_currentValue2:Ae,_threadCount:0};function eS(n,i,r,o,f,g,E,R){this.tag=1,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ir(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ir(0),this.hiddenUpdates=Ir(null),this.identifierPrefix=o,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function Ev(n,i,r,o,f,g,E,R,P,F,ie,ue){return n=new eS(n,i,r,E,R,P,F,ue),i=1,g===!0&&(i|=24),g=Wn(3,null,null,i),n.current=g,g.stateNode=n,i=$h(),i.refCount++,n.pooledCache=i,i.refCount++,g.memoizedState={element:o,isDehydrated:r,cache:i},Rf(g),n}function bv(n){return n?(n=Qr,n):Qr}function Tv(n,i,r,o,f,g){f=bv(f),o.context===null?o.context=f:o.pendingContext=f,o=Zi(i),o.payload={element:r},g=g===void 0?null:g,g!==null&&(o.callback=g),r=Ji(n,o,i),r!==null&&(pn(r,n,i),Ro(r,n,i))}function Av(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var r=n.retryLane;n.retryLane=r!==0&&r<i?r:i}}function ym(n,i){Av(n,i),(n=n.alternate)&&Av(n,i)}function Sv(n){if(n.tag===13){var i=Fi(n,67108864);i!==null&&pn(i,n,67108864),ym(n,67108864)}}var Ju=!0;function tS(n,i,r,o){var f=b.T;b.T=null;var g=ge.p;try{ge.p=2,_m(n,i,r,o)}finally{ge.p=g,b.T=f}}function nS(n,i,r,o){var f=b.T;b.T=null;var g=ge.p;try{ge.p=8,_m(n,i,r,o)}finally{ge.p=g,b.T=f}}function _m(n,i,r,o){if(Ju){var f=vm(o);if(f===null)rm(n,i,o,ed,r),Nv(n,o);else if(iS(f,n,i,r,o))o.stopPropagation();else if(Nv(n,o),i&4&&-1<sS.indexOf(n)){for(;f!==null;){var g=Qs(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var E=ns(g.pendingLanes);if(E!==0){var R=g;for(R.pendingLanes|=2,R.entangledLanes|=2;E;){var P=1<<31-hn(E);R.entanglements[1]|=P,E&=~P}Os(g),(ht&6)===0&&(Pu=Yt()+500,Vo(0))}}break;case 13:R=Fi(g,2),R!==null&&pn(R,g,2),Bu(),ym(g,2)}if(g=vm(o),g===null&&rm(n,i,o,ed,r),g===f)break;f=g}f!==null&&o.stopPropagation()}else rm(n,i,o,null,r)}}function vm(n){return n=Lr(n),xm(n)}var ed=null;function xm(n){if(ed=null,n=ss(n),n!==null){var i=ce(n);if(i===null)n=null;else{var r=i.tag;if(r===13){if(n=ve(i),n!==null)return n;n=null}else if(r===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return ed=n,null}function wv(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Vc()){case It:return 2;case Bt:return 8;case Gs:case Bc:return 32;case Gl:return 268435456;default:return 32}default:return 32}}var Em=!1,ra=null,la=null,oa=null,Go=new Map,$o=new Map,ca=[],sS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Nv(n,i){switch(n){case"focusin":case"focusout":ra=null;break;case"dragenter":case"dragleave":la=null;break;case"mouseover":case"mouseout":oa=null;break;case"pointerover":case"pointerout":Go.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":$o.delete(i.pointerId)}}function Qo(n,i,r,o,f,g){return n===null||n.nativeEvent!==g?(n={blockedOn:i,domEventName:r,eventSystemFlags:o,nativeEvent:g,targetContainers:[f]},i!==null&&(i=Qs(i),i!==null&&Sv(i)),n):(n.eventSystemFlags|=o,i=n.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),n)}function iS(n,i,r,o,f){switch(i){case"focusin":return ra=Qo(ra,n,i,r,o,f),!0;case"dragenter":return la=Qo(la,n,i,r,o,f),!0;case"mouseover":return oa=Qo(oa,n,i,r,o,f),!0;case"pointerover":var g=f.pointerId;return Go.set(g,Qo(Go.get(g)||null,n,i,r,o,f)),!0;case"gotpointercapture":return g=f.pointerId,$o.set(g,Qo($o.get(g)||null,n,i,r,o,f)),!0}return!1}function Rv(n){var i=ss(n.target);if(i!==null){var r=ce(i);if(r!==null){if(i=r.tag,i===13){if(i=ve(r),i!==null){n.blockedOn=i,Li(n.priority,function(){if(r.tag===13){var o=In(),f=Fi(r,o);f!==null&&pn(f,r,o),ym(r,o)}});return}}else if(i===3&&r.stateNode.current.memoizedState.isDehydrated){n.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}n.blockedOn=null}function td(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var r=vm(n.nativeEvent);if(r===null){r=n.nativeEvent;var o=new r.constructor(r.type,r);Bn=o,r.target.dispatchEvent(o),Bn=null}else return i=Qs(r),i!==null&&Sv(i),n.blockedOn=r,!1;i.shift()}return!0}function kv(n,i,r){td(n)&&r.delete(i)}function aS(){Em=!1,ra!==null&&td(ra)&&(ra=null),la!==null&&td(la)&&(la=null),oa!==null&&td(oa)&&(oa=null),Go.forEach(kv),$o.forEach(kv)}function nd(n,i){n.blockedOn===i&&(n.blockedOn=null,Em||(Em=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,aS)))}var sd=null;function Cv(n){sd!==n&&(sd=n,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){sd===n&&(sd=null);for(var i=0;i<n.length;i+=3){var r=n[i],o=n[i+1],f=n[i+2];if(typeof o!="function"){if(xm(o||r)===null)continue;break}var g=Qs(r);g!==null&&(n.splice(i,3),i-=3,uf(g,{pending:!0,data:f,method:r.method,action:o},o,f))}}))}function Yo(n){function i(P){return nd(P,n)}ra!==null&&nd(ra,n),la!==null&&nd(la,n),oa!==null&&nd(oa,n),Go.forEach(i),$o.forEach(i);for(var r=0;r<ca.length;r++){var o=ca[r];o.blockedOn===n&&(o.blockedOn=null)}for(;0<ca.length&&(r=ca[0],r.blockedOn===null);)Rv(r),r.blockedOn===null&&ca.shift();if(r=(n.ownerDocument||n).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var f=r[o],g=r[o+1],E=f[jt]||null;if(typeof g=="function")E||Cv(r);else if(E){var R=null;if(g&&g.hasAttribute("formAction")){if(f=g,E=g[jt]||null)R=E.formAction;else if(xm(f)!==null)continue}else R=E.action;typeof R=="function"?r[o+1]=R:(r.splice(o,3),o-=3),Cv(r)}}}function bm(n){this._internalRoot=n}id.prototype.render=bm.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(a(409));var r=i.current,o=In();Tv(r,o,n,i,null,null)},id.prototype.unmount=bm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;n.tag===0&&dl(),Tv(n.current,2,null,n,null,null),Bu(),i[$s]=null}};function id(n){this._internalRoot=n}id.prototype.unstable_scheduleHydration=function(n){if(n){var i=Fc();n={blockedOn:null,target:n,priority:i};for(var r=0;r<ca.length&&i!==0&&i<ca[r].priority;r++);ca.splice(r,0,n),r===0&&Rv(n)}};var Iv=e.version;if(Iv!=="19.0.0")throw Error(a(527,Iv,"19.0.0"));ge.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(a(188)):(n=Object.keys(n).join(","),Error(a(268,n)));return n=ne(i),n=n!==null?fe(n):null,n=n===null?null:n.stateNode,n};var rS={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:b,findFiberByHostInstance:ss,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ad=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ad.isDisabled&&ad.supportsFiber)try{Ci=ad.inject(rS),an=ad}catch{}}return Xo.createRoot=function(n,i){if(!l(n))throw Error(a(299));var r=!1,o="",f=Qy,g=Yy,E=Wy,R=null;return i!=null&&(i.unstable_strictMode===!0&&(r=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(R=i.unstable_transitionCallbacks)),i=Ev(n,1,!1,null,null,r,o,f,g,E,R,null),n[$s]=i.current,am(n.nodeType===8?n.parentNode:n),new bm(i)},Xo.hydrateRoot=function(n,i,r){if(!l(n))throw Error(a(299));var o=!1,f="",g=Qy,E=Yy,R=Wy,P=null,F=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(f=r.identifierPrefix),r.onUncaughtError!==void 0&&(g=r.onUncaughtError),r.onCaughtError!==void 0&&(E=r.onCaughtError),r.onRecoverableError!==void 0&&(R=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(P=r.unstable_transitionCallbacks),r.formState!==void 0&&(F=r.formState)),i=Ev(n,1,!0,i,r??null,o,f,g,E,R,P,F),i.context=bv(null),r=i.current,o=In(),f=Zi(o),f.callback=null,Ji(r,f,o),i.current.lanes=o,bt(i,o),Os(i),n[$s]=i.current,am(n),new id(i)},Xo.version="19.0.0",Xo}var Hv;function pS(){if(Hv)return Sm.exports;Hv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Sm.exports=gS(),Sm.exports}var yS=pS();const _S=vg(yS);var Zo={},zv;function vS(){if(zv)return Zo;zv=1,Object.defineProperty(Zo,"__esModule",{value:!0}),Zo.parse=h,Zo.serialize=y;const s=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,c=(()=>{const N=function(){};return N.prototype=Object.create(null),N})();function h(N,O){const M=new c,B=N.length;if(B<2)return M;const V=(O==null?void 0:O.decode)||v;let K=0;do{const G=N.indexOf("=",K);if(G===-1)break;const Z=N.indexOf(";",K),te=Z===-1?B:Z;if(G>te){K=N.lastIndexOf(";",G-1)+1;continue}const ae=m(N,K,G),de=p(N,G,ae),D=N.slice(ae,de);if(M[D]===void 0){let k=m(N,G+1,te),b=p(N,te,k);const T=V(N.slice(k,b));M[D]=T}K=te+1}while(K<B);return M}function m(N,O,M){do{const B=N.charCodeAt(O);if(B!==32&&B!==9)return O}while(++O<M);return M}function p(N,O,M){for(;O>M;){const B=N.charCodeAt(--O);if(B!==32&&B!==9)return O+1}return M}function y(N,O,M){const B=(M==null?void 0:M.encode)||encodeURIComponent;if(!s.test(N))throw new TypeError(`argument name is invalid: ${N}`);const V=B(O);if(!e.test(V))throw new TypeError(`argument val is invalid: ${O}`);let K=N+"="+V;if(!M)return K;if(M.maxAge!==void 0){if(!Number.isInteger(M.maxAge))throw new TypeError(`option maxAge is invalid: ${M.maxAge}`);K+="; Max-Age="+M.maxAge}if(M.domain){if(!t.test(M.domain))throw new TypeError(`option domain is invalid: ${M.domain}`);K+="; Domain="+M.domain}if(M.path){if(!a.test(M.path))throw new TypeError(`option path is invalid: ${M.path}`);K+="; Path="+M.path}if(M.expires){if(!A(M.expires)||!Number.isFinite(M.expires.valueOf()))throw new TypeError(`option expires is invalid: ${M.expires}`);K+="; Expires="+M.expires.toUTCString()}if(M.httpOnly&&(K+="; HttpOnly"),M.secure&&(K+="; Secure"),M.partitioned&&(K+="; Partitioned"),M.priority)switch(typeof M.priority=="string"?M.priority.toLowerCase():void 0){case"low":K+="; Priority=Low";break;case"medium":K+="; Priority=Medium";break;case"high":K+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${M.priority}`)}if(M.sameSite)switch(typeof M.sameSite=="string"?M.sameSite.toLowerCase():M.sameSite){case!0:case"strict":K+="; SameSite=Strict";break;case"lax":K+="; SameSite=Lax";break;case"none":K+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${M.sameSite}`)}return K}function v(N){if(N.indexOf("%")===-1)return N;try{return decodeURIComponent(N)}catch{return N}}function A(N){return l.call(N)==="[object Date]"}return Zo}vS();var qv="popstate";function xS(s={}){function e(a,l){let{pathname:c,search:h,hash:m}=a.location;return Km("",{pathname:c,search:h,hash:m},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(a,l){return typeof l=="string"?l:fc(l)}return bS(e,t,null,s)}function lt(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function os(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ES(){return Math.random().toString(36).substring(2,10)}function Kv(s,e){return{usr:s.state,key:s.key,idx:e}}function Km(s,e,t=null,a){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?Ol(e):e,state:t,key:e&&e.key||a||ES()}}function fc({pathname:s="/",search:e="",hash:t=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(s+=t.charAt(0)==="#"?t:"#"+t),s}function Ol(s){let e={};if(s){let t=s.indexOf("#");t>=0&&(e.hash=s.substring(t),s=s.substring(0,t));let a=s.indexOf("?");a>=0&&(e.search=s.substring(a),s=s.substring(0,a)),s&&(e.pathname=s)}return e}function bS(s,e,t,a={}){let{window:l=document.defaultView,v5Compat:c=!1}=a,h=l.history,m="POP",p=null,y=v();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function v(){return(h.state||{idx:null}).idx}function A(){m="POP";let V=v(),K=V==null?null:V-y;y=V,p&&p({action:m,location:B.location,delta:K})}function N(V,K){m="PUSH";let G=Km(B.location,V,K);y=v()+1;let Z=Kv(G,y),te=B.createHref(G);try{h.pushState(Z,"",te)}catch(ae){if(ae instanceof DOMException&&ae.name==="DataCloneError")throw ae;l.location.assign(te)}c&&p&&p({action:m,location:B.location,delta:1})}function O(V,K){m="REPLACE";let G=Km(B.location,V,K);y=v();let Z=Kv(G,y),te=B.createHref(G);h.replaceState(Z,"",te),c&&p&&p({action:m,location:B.location,delta:0})}function M(V){return TS(V)}let B={get action(){return m},get location(){return s(l,h)},listen(V){if(p)throw new Error("A history only accepts one active listener");return l.addEventListener(qv,A),p=V,()=>{l.removeEventListener(qv,A),p=null}},createHref(V){return e(l,V)},createURL:M,encodeLocation(V){let K=M(V);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:N,replace:O,go(V){return h.go(V)}};return B}function TS(s,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),lt(t,"No window.location.(origin|href) available to create URL");let a=typeof s=="string"?s:fc(s);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=t+a),new URL(a,t)}function I0(s,e,t="/"){return AS(s,e,t,!1)}function AS(s,e,t,a){let l=typeof e=="string"?Ol(e):e,c=Ti(l.pathname||"/",t);if(c==null)return null;let h=j0(s);SS(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let y=LS(c);m=OS(h[p],y,a)}return m}function j0(s,e=[],t=[],a=""){let l=(c,h,m)=>{let p={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};p.relativePath.startsWith("/")&&(lt(p.relativePath.startsWith(a),`Absolute route path "${p.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(a.length));let y=xi([a,p.relativePath]),v=t.concat(p);c.children&&c.children.length>0&&(lt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),j0(c.children,e,v,y)),!(c.path==null&&!c.index)&&e.push({path:y,score:jS(y,c.index),routesMeta:v})};return s.forEach((c,h)=>{var m;if(c.path===""||!((m=c.path)!=null&&m.includes("?")))l(c,h);else for(let p of D0(c.path))l(c,h,p)}),e}function D0(s){let e=s.split("/");if(e.length===0)return[];let[t,...a]=e,l=t.endsWith("?"),c=t.replace(/\?$/,"");if(a.length===0)return l?[c,""]:[c];let h=D0(a.join("/")),m=[];return m.push(...h.map(p=>p===""?c:[c,p].join("/"))),l&&m.push(...h),m.map(p=>s.startsWith("/")&&p===""?"/":p)}function SS(s){s.sort((e,t)=>e.score!==t.score?t.score-e.score:DS(e.routesMeta.map(a=>a.childrenIndex),t.routesMeta.map(a=>a.childrenIndex)))}var wS=/^:[\w-]+$/,NS=3,RS=2,kS=1,CS=10,IS=-2,Fv=s=>s==="*";function jS(s,e){let t=s.split("/"),a=t.length;return t.some(Fv)&&(a+=IS),e&&(a+=RS),t.filter(l=>!Fv(l)).reduce((l,c)=>l+(wS.test(c)?NS:c===""?kS:CS),a)}function DS(s,e){return s.length===e.length&&s.slice(0,-1).every((a,l)=>a===e[l])?s[s.length-1]-e[e.length-1]:0}function OS(s,e,t=!1){let{routesMeta:a}=s,l={},c="/",h=[];for(let m=0;m<a.length;++m){let p=a[m],y=m===a.length-1,v=c==="/"?e:e.slice(c.length)||"/",A=Cd({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},v),N=p.route;if(!A&&y&&t&&!a[a.length-1].route.index&&(A=Cd({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!A)return null;Object.assign(l,A.params),h.push({params:l,pathname:xi([c,A.pathname]),pathnameBase:BS(xi([c,A.pathnameBase])),route:N}),A.pathnameBase!=="/"&&(c=xi([c,A.pathnameBase]))}return h}function Cd(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[t,a]=MS(s.path,s.caseSensitive,s.end),l=e.match(t);if(!l)return null;let c=l[0],h=c.replace(/(.)\/+$/,"$1"),m=l.slice(1);return{params:a.reduce((y,{paramName:v,isOptional:A},N)=>{if(v==="*"){let M=m[N]||"";h=c.slice(0,c.length-M.length).replace(/(.)\/+$/,"$1")}const O=m[N];return A&&!O?y[v]=void 0:y[v]=(O||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:h,pattern:s}}function MS(s,e=!1,t=!0){os(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let a=[],l="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(a.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(a.push({paramName:"*"}),l+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?l+="\\/*$":s!==""&&s!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),a]}function LS(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return os(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function Ti(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,a=s.charAt(t);return a&&a!=="/"?null:s.slice(t)||"/"}function PS(s,e="/"){let{pathname:t,search:a="",hash:l=""}=typeof s=="string"?Ol(s):s;return{pathname:t?t.startsWith("/")?t:US(t,e):e,search:HS(a),hash:zS(l)}}function US(s,e){let t=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(l=>{l===".."?t.length>1&&t.pop():l!=="."&&t.push(l)}),t.length>1?t.join("/"):"/"}function km(s,e,t,a){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function VS(s){return s.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Eg(s){let e=VS(s);return e.map((t,a)=>a===e.length-1?t.pathname:t.pathnameBase)}function bg(s,e,t,a=!1){let l;typeof s=="string"?l=Ol(s):(l={...s},lt(!l.pathname||!l.pathname.includes("?"),km("?","pathname","search",l)),lt(!l.pathname||!l.pathname.includes("#"),km("#","pathname","hash",l)),lt(!l.search||!l.search.includes("#"),km("#","search","hash",l)));let c=s===""||l.pathname==="",h=c?"/":l.pathname,m;if(h==null)m=t;else{let A=e.length-1;if(!a&&h.startsWith("..")){let N=h.split("/");for(;N[0]==="..";)N.shift(),A-=1;l.pathname=N.join("/")}m=A>=0?e[A]:"/"}let p=PS(l,m),y=h&&h!=="/"&&h.endsWith("/"),v=(c||h===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(y||v)&&(p.pathname+="/"),p}var xi=s=>s.join("/").replace(/\/\/+/g,"/"),BS=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),HS=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,zS=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function qS(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var O0=["POST","PUT","PATCH","DELETE"];new Set(O0);var KS=["GET",...O0];new Set(KS);var Ml=C.createContext(null);Ml.displayName="DataRouter";var Xd=C.createContext(null);Xd.displayName="DataRouterState";var M0=C.createContext({isTransitioning:!1});M0.displayName="ViewTransition";var FS=C.createContext(new Map);FS.displayName="Fetchers";var GS=C.createContext(null);GS.displayName="Await";var gs=C.createContext(null);gs.displayName="Navigation";var Tc=C.createContext(null);Tc.displayName="Location";var ps=C.createContext({outlet:null,matches:[],isDataRoute:!1});ps.displayName="Route";var Tg=C.createContext(null);Tg.displayName="RouteError";function $S(s,{relative:e}={}){lt(Ll(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:a}=C.useContext(gs),{hash:l,pathname:c,search:h}=Ac(s,{relative:e}),m=c;return t!=="/"&&(m=c==="/"?t:xi([t,c])),a.createHref({pathname:m,search:h,hash:l})}function Ll(){return C.useContext(Tc)!=null}function Mn(){return lt(Ll(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(Tc).location}var L0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function P0(s){C.useContext(gs).static||C.useLayoutEffect(s)}function Ar(){let{isDataRoute:s}=C.useContext(ps);return s?lw():QS()}function QS(){lt(Ll(),"useNavigate() may be used only in the context of a <Router> component.");let s=C.useContext(Ml),{basename:e,navigator:t}=C.useContext(gs),{matches:a}=C.useContext(ps),{pathname:l}=Mn(),c=JSON.stringify(Eg(a)),h=C.useRef(!1);return P0(()=>{h.current=!0}),C.useCallback((p,y={})=>{if(os(h.current,L0),!h.current)return;if(typeof p=="number"){t.go(p);return}let v=bg(p,JSON.parse(c),l,y.relative==="path");s==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:xi([e,v.pathname])),(y.replace?t.replace:t.push)(v,y.state,y)},[e,t,c,l,s])}C.createContext(null);function YS(){let{matches:s}=C.useContext(ps),e=s[s.length-1];return e?e.params:{}}function Ac(s,{relative:e}={}){let{matches:t}=C.useContext(ps),{pathname:a}=Mn(),l=JSON.stringify(Eg(t));return C.useMemo(()=>bg(s,JSON.parse(l),a,e==="path"),[s,l,a,e])}function WS(s,e){return U0(s,e)}function U0(s,e,t,a){var K;lt(Ll(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=C.useContext(gs),{matches:c}=C.useContext(ps),h=c[c.length-1],m=h?h.params:{},p=h?h.pathname:"/",y=h?h.pathnameBase:"/",v=h&&h.route;{let G=v&&v.path||"";V0(p,!v||G.endsWith("*")||G.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${G}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${G}"> to <Route path="${G==="/"?"*":`${G}/*`}">.`)}let A=Mn(),N;if(e){let G=typeof e=="string"?Ol(e):e;lt(y==="/"||((K=G.pathname)==null?void 0:K.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${G.pathname}" was given in the \`location\` prop.`),N=G}else N=A;let O=N.pathname||"/",M=O;if(y!=="/"){let G=y.replace(/^\//,"").split("/");M="/"+O.replace(/^\//,"").split("/").slice(G.length).join("/")}let B=I0(s,{pathname:M});os(v||B!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),os(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let V=tw(B&&B.map(G=>Object.assign({},G,{params:Object.assign({},m,G.params),pathname:xi([y,l.encodeLocation?l.encodeLocation(G.pathname).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?y:xi([y,l.encodeLocation?l.encodeLocation(G.pathnameBase).pathname:G.pathnameBase])})),c,t,a);return e&&V?C.createElement(Tc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},V):V}function XS(){let s=rw(),e=qS(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),t=s instanceof Error?s.stack:null,a="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:a},c={padding:"2px 4px",backgroundColor:a},h=null;return console.error("Error handled by React Router default ErrorBoundary:",s),h=C.createElement(C.Fragment,null,C.createElement("p",null,"💿 Hey developer 👋"),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:c},"ErrorBoundary")," or"," ",C.createElement("code",{style:c},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),t?C.createElement("pre",{style:l},t):null,h)}var ZS=C.createElement(XS,null),JS=class extends C.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){console.error("React Router caught the following error during render",s,e)}render(){return this.state.error!==void 0?C.createElement(ps.Provider,{value:this.props.routeContext},C.createElement(Tg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ew({routeContext:s,match:e,children:t}){let a=C.useContext(Ml);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),C.createElement(ps.Provider,{value:s},t)}function tw(s,e=[],t=null,a=null){if(s==null){if(!t)return null;if(t.errors)s=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)s=t.matches;else return null}let l=s,c=t==null?void 0:t.errors;if(c!=null){let p=l.findIndex(y=>y.route.id&&(c==null?void 0:c[y.route.id])!==void 0);lt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,p+1))}let h=!1,m=-1;if(t)for(let p=0;p<l.length;p++){let y=l[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=p),y.route.id){let{loaderData:v,errors:A}=t,N=y.route.loader&&!v.hasOwnProperty(y.route.id)&&(!A||A[y.route.id]===void 0);if(y.route.lazy||N){h=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}return l.reduceRight((p,y,v)=>{let A,N=!1,O=null,M=null;t&&(A=c&&y.route.id?c[y.route.id]:void 0,O=y.route.errorElement||ZS,h&&(m<0&&v===0?(V0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,M=null):m===v&&(N=!0,M=y.route.hydrateFallbackElement||null)));let B=e.concat(l.slice(0,v+1)),V=()=>{let K;return A?K=O:N?K=M:y.route.Component?K=C.createElement(y.route.Component,null):y.route.element?K=y.route.element:K=p,C.createElement(ew,{match:y,routeContext:{outlet:p,matches:B,isDataRoute:t!=null},children:K})};return t&&(y.route.ErrorBoundary||y.route.errorElement||v===0)?C.createElement(JS,{location:t.location,revalidation:t.revalidation,component:O,error:A,children:V(),routeContext:{outlet:null,matches:B,isDataRoute:!0}}):V()},null)}function Ag(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nw(s){let e=C.useContext(Ml);return lt(e,Ag(s)),e}function sw(s){let e=C.useContext(Xd);return lt(e,Ag(s)),e}function iw(s){let e=C.useContext(ps);return lt(e,Ag(s)),e}function Sg(s){let e=iw(s),t=e.matches[e.matches.length-1];return lt(t.route.id,`${s} can only be used on routes that contain a unique "id"`),t.route.id}function aw(){return Sg("useRouteId")}function rw(){var a;let s=C.useContext(Tg),e=sw("useRouteError"),t=Sg("useRouteError");return s!==void 0?s:(a=e.errors)==null?void 0:a[t]}function lw(){let{router:s}=nw("useNavigate"),e=Sg("useNavigate"),t=C.useRef(!1);return P0(()=>{t.current=!0}),C.useCallback(async(l,c={})=>{os(t.current,L0),t.current&&(typeof l=="number"?s.navigate(l):await s.navigate(l,{fromRouteId:e,...c}))},[s,e])}var Gv={};function V0(s,e,t){!e&&!Gv[s]&&(Gv[s]=!0,os(!1,t))}C.memo(ow);function ow({routes:s,future:e,state:t}){return U0(s,void 0,t,e)}function $v({to:s,replace:e,state:t,relative:a}){lt(Ll(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=C.useContext(gs);os(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=C.useContext(ps),{pathname:h}=Mn(),m=Ar(),p=bg(s,Eg(c),h,a==="path"),y=JSON.stringify(p);return C.useEffect(()=>{m(JSON.parse(y),{replace:e,state:t,relative:a})},[m,y,a,e,t]),null}function Pt(s){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function cw({basename:s="/",children:e=null,location:t,navigationType:a="POP",navigator:l,static:c=!1}){lt(!Ll(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=s.replace(/^\/*/,"/"),m=C.useMemo(()=>({basename:h,navigator:l,static:c,future:{}}),[h,l,c]);typeof t=="string"&&(t=Ol(t));let{pathname:p="/",search:y="",hash:v="",state:A=null,key:N="default"}=t,O=C.useMemo(()=>{let M=Ti(p,h);return M==null?null:{location:{pathname:M,search:y,hash:v,state:A,key:N},navigationType:a}},[h,p,y,v,A,N,a]);return os(O!=null,`<Router basename="${h}"> is not able to match the URL "${p}${y}${v}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:C.createElement(gs.Provider,{value:m},C.createElement(Tc.Provider,{children:e,value:O}))}function uw({children:s,location:e}){return WS(Fm(s),e)}function Fm(s,e=[]){let t=[];return C.Children.forEach(s,(a,l)=>{if(!C.isValidElement(a))return;let c=[...e,l];if(a.type===C.Fragment){t.push.apply(t,Fm(a.props.children,c));return}lt(a.type===Pt,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!a.props.index||!a.props.children,"An index route cannot have child routes.");let h={id:a.props.id||c.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(h.children=Fm(a.props.children,c)),t.push(h)}),t}var yd="get",_d="application/x-www-form-urlencoded";function Zd(s){return s!=null&&typeof s.tagName=="string"}function dw(s){return Zd(s)&&s.tagName.toLowerCase()==="button"}function hw(s){return Zd(s)&&s.tagName.toLowerCase()==="form"}function fw(s){return Zd(s)&&s.tagName.toLowerCase()==="input"}function mw(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function gw(s,e){return s.button===0&&(!e||e==="_self")&&!mw(s)}var rd=null;function pw(){if(rd===null)try{new FormData(document.createElement("form"),0),rd=!1}catch{rd=!0}return rd}var yw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Cm(s){return s!=null&&!yw.has(s)?(os(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${_d}"`),null):s}function _w(s,e){let t,a,l,c,h;if(hw(s)){let m=s.getAttribute("action");a=m?Ti(m,e):null,t=s.getAttribute("method")||yd,l=Cm(s.getAttribute("enctype"))||_d,c=new FormData(s)}else if(dw(s)||fw(s)&&(s.type==="submit"||s.type==="image")){let m=s.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=s.getAttribute("formaction")||m.getAttribute("action");if(a=p?Ti(p,e):null,t=s.getAttribute("formmethod")||m.getAttribute("method")||yd,l=Cm(s.getAttribute("formenctype"))||Cm(m.getAttribute("enctype"))||_d,c=new FormData(m,s),!pw()){let{name:y,type:v,value:A}=s;if(v==="image"){let N=y?`${y}.`:"";c.append(`${N}x`,"0"),c.append(`${N}y`,"0")}else y&&c.append(y,A)}}else{if(Zd(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=yd,a=null,l=_d,h=s}return c&&l==="text/plain"&&(h=c,c=void 0),{action:a,method:t.toLowerCase(),encType:l,formData:c,body:h}}function wg(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}async function vw(s,e){if(s.id in e)return e[s.id];try{let t=await import(s.module);return e[s.id]=t,t}catch(t){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function xw(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function Ew(s,e,t){let a=await Promise.all(s.map(async l=>{let c=e.routes[l.route.id];if(c){let h=await vw(c,t);return h.links?h.links():[]}return[]}));return Sw(a.flat(1).filter(xw).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function Qv(s,e,t,a,l,c){let h=(p,y)=>t[y]?p.route.id!==t[y].route.id:!0,m=(p,y)=>{var v;return t[y].pathname!==p.pathname||((v=t[y].route.path)==null?void 0:v.endsWith("*"))&&t[y].params["*"]!==p.params["*"]};return c==="assets"?e.filter((p,y)=>h(p,y)||m(p,y)):c==="data"?e.filter((p,y)=>{var A;let v=a.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(h(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let N=p.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((A=t[0])==null?void 0:A.params)||{},nextUrl:new URL(s,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof N=="boolean")return N}return!0}):[]}function bw(s,e,{includeHydrateFallback:t}={}){return Tw(s.map(a=>{let l=e.routes[a.route.id];if(!l)return[];let c=[l.module];return l.clientActionModule&&(c=c.concat(l.clientActionModule)),l.clientLoaderModule&&(c=c.concat(l.clientLoaderModule)),t&&l.hydrateFallbackModule&&(c=c.concat(l.hydrateFallbackModule)),l.imports&&(c=c.concat(l.imports)),c}).flat(1))}function Tw(s){return[...new Set(s)]}function Aw(s){let e={},t=Object.keys(s).sort();for(let a of t)e[a]=s[a];return e}function Sw(s,e){let t=new Set;return new Set(e),s.reduce((a,l)=>{let c=JSON.stringify(Aw(l));return t.has(c)||(t.add(c),a.push({key:c,link:l})),a},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var ww=new Set([100,101,204,205]);function Nw(s,e){let t=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return t.pathname==="/"?t.pathname="_root.data":e&&Ti(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function B0(){let s=C.useContext(Ml);return wg(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function Rw(){let s=C.useContext(Xd);return wg(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var Ng=C.createContext(void 0);Ng.displayName="FrameworkContext";function H0(){let s=C.useContext(Ng);return wg(s,"You must render this element inside a <HydratedRouter> element"),s}function kw(s,e){let t=C.useContext(Ng),[a,l]=C.useState(!1),[c,h]=C.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:v,onTouchStart:A}=e,N=C.useRef(null);C.useEffect(()=>{if(s==="render"&&h(!0),s==="viewport"){let B=K=>{K.forEach(G=>{h(G.isIntersecting)})},V=new IntersectionObserver(B,{threshold:.5});return N.current&&V.observe(N.current),()=>{V.disconnect()}}},[s]),C.useEffect(()=>{if(a){let B=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(B)}}},[a]);let O=()=>{l(!0)},M=()=>{l(!1),h(!1)};return t?s!=="intent"?[c,N,{}]:[c,N,{onFocus:Jo(m,O),onBlur:Jo(p,M),onMouseEnter:Jo(y,O),onMouseLeave:Jo(v,M),onTouchStart:Jo(A,O)}]:[!1,N,{}]}function Jo(s,e){return t=>{s&&s(t),t.defaultPrevented||e(t)}}function Cw({page:s,...e}){let{router:t}=B0(),a=C.useMemo(()=>I0(t.routes,s,t.basename),[t.routes,s,t.basename]);return a?C.createElement(jw,{page:s,matches:a,...e}):null}function Iw(s){let{manifest:e,routeModules:t}=H0(),[a,l]=C.useState([]);return C.useEffect(()=>{let c=!1;return Ew(s,e,t).then(h=>{c||l(h)}),()=>{c=!0}},[s,e,t]),a}function jw({page:s,matches:e,...t}){let a=Mn(),{manifest:l,routeModules:c}=H0(),{basename:h}=B0(),{loaderData:m,matches:p}=Rw(),y=C.useMemo(()=>Qv(s,e,p,l,a,"data"),[s,e,p,l,a]),v=C.useMemo(()=>Qv(s,e,p,l,a,"assets"),[s,e,p,l,a]),A=C.useMemo(()=>{if(s===a.pathname+a.search+a.hash)return[];let M=new Set,B=!1;if(e.forEach(K=>{var Z;let G=l.routes[K.route.id];!G||!G.hasLoader||(!y.some(te=>te.route.id===K.route.id)&&K.route.id in m&&((Z=c[K.route.id])!=null&&Z.shouldRevalidate)||G.hasClientLoader?B=!0:M.add(K.route.id))}),M.size===0)return[];let V=Nw(s,h);return B&&M.size>0&&V.searchParams.set("_routes",e.filter(K=>M.has(K.route.id)).map(K=>K.route.id).join(",")),[V.pathname+V.search]},[h,m,a,l,y,e,s,c]),N=C.useMemo(()=>bw(v,l),[v,l]),O=Iw(v);return C.createElement(C.Fragment,null,A.map(M=>C.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...t})),N.map(M=>C.createElement("link",{key:M,rel:"modulepreload",href:M,...t})),O.map(({key:M,link:B})=>C.createElement("link",{key:M,...B})))}function Dw(...s){return e=>{s.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var z0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{z0&&(window.__reactRouterVersion="7.6.2")}catch{}function Ow({basename:s,children:e,window:t}){let a=C.useRef();a.current==null&&(a.current=xS({window:t,v5Compat:!0}));let l=a.current,[c,h]=C.useState({action:l.action,location:l.location}),m=C.useCallback(p=>{C.startTransition(()=>h(p))},[h]);return C.useLayoutEffect(()=>l.listen(m),[l,m]),C.createElement(cw,{basename:s,children:e,location:c.location,navigationType:c.action,navigator:l})}var q0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ke=C.forwardRef(function({onClick:e,discover:t="render",prefetch:a="none",relative:l,reloadDocument:c,replace:h,state:m,target:p,to:y,preventScrollReset:v,viewTransition:A,...N},O){let{basename:M}=C.useContext(gs),B=typeof y=="string"&&q0.test(y),V,K=!1;if(typeof y=="string"&&B&&(V=y,z0))try{let b=new URL(window.location.href),T=y.startsWith("//")?new URL(b.protocol+y):new URL(y),S=Ti(T.pathname,M);T.origin===b.origin&&S!=null?y=S+T.search+T.hash:K=!0}catch{os(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let G=$S(y,{relative:l}),[Z,te,ae]=kw(a,N),de=Uw(y,{replace:h,state:m,target:p,preventScrollReset:v,relative:l,viewTransition:A});function D(b){e&&e(b),b.defaultPrevented||de(b)}let k=C.createElement("a",{...N,...ae,href:V||G,onClick:K||c?e:D,ref:Dw(O,te),target:p,"data-discover":!B&&t==="render"?"true":void 0});return Z&&!B?C.createElement(C.Fragment,null,k,C.createElement(Cw,{page:G})):k});ke.displayName="Link";var Mw=C.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:a="",end:l=!1,style:c,to:h,viewTransition:m,children:p,...y},v){let A=Ac(h,{relative:y.relative}),N=Mn(),O=C.useContext(Xd),{navigator:M,basename:B}=C.useContext(gs),V=O!=null&&qw(A)&&m===!0,K=M.encodeLocation?M.encodeLocation(A).pathname:A.pathname,G=N.pathname,Z=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;t||(G=G.toLowerCase(),Z=Z?Z.toLowerCase():null,K=K.toLowerCase()),Z&&B&&(Z=Ti(Z,B)||Z);const te=K!=="/"&&K.endsWith("/")?K.length-1:K.length;let ae=G===K||!l&&G.startsWith(K)&&G.charAt(te)==="/",de=Z!=null&&(Z===K||!l&&Z.startsWith(K)&&Z.charAt(K.length)==="/"),D={isActive:ae,isPending:de,isTransitioning:V},k=ae?e:void 0,b;typeof a=="function"?b=a(D):b=[a,ae?"active":null,de?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let T=typeof c=="function"?c(D):c;return C.createElement(ke,{...y,"aria-current":k,className:b,ref:v,style:T,to:h,viewTransition:m},typeof p=="function"?p(D):p)});Mw.displayName="NavLink";var Lw=C.forwardRef(({discover:s="render",fetcherKey:e,navigate:t,reloadDocument:a,replace:l,state:c,method:h=yd,action:m,onSubmit:p,relative:y,preventScrollReset:v,viewTransition:A,...N},O)=>{let M=Hw(),B=zw(m,{relative:y}),V=h.toLowerCase()==="get"?"get":"post",K=typeof m=="string"&&q0.test(m),G=Z=>{if(p&&p(Z),Z.defaultPrevented)return;Z.preventDefault();let te=Z.nativeEvent.submitter,ae=(te==null?void 0:te.getAttribute("formmethod"))||h;M(te||Z.currentTarget,{fetcherKey:e,method:ae,navigate:t,replace:l,state:c,relative:y,preventScrollReset:v,viewTransition:A})};return C.createElement("form",{ref:O,method:V,action:B,onSubmit:a?p:G,...N,"data-discover":!K&&s==="render"?"true":void 0})});Lw.displayName="Form";function Pw(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function K0(s){let e=C.useContext(Ml);return lt(e,Pw(s)),e}function Uw(s,{target:e,replace:t,state:a,preventScrollReset:l,relative:c,viewTransition:h}={}){let m=Ar(),p=Mn(),y=Ac(s,{relative:c});return C.useCallback(v=>{if(gw(v,e)){v.preventDefault();let A=t!==void 0?t:fc(p)===fc(y);m(s,{replace:A,state:a,preventScrollReset:l,relative:c,viewTransition:h})}},[p,m,y,t,a,e,s,l,c,h])}var Vw=0,Bw=()=>`__${String(++Vw)}__`;function Hw(){let{router:s}=K0("useSubmit"),{basename:e}=C.useContext(gs),t=aw();return C.useCallback(async(a,l={})=>{let{action:c,method:h,encType:m,formData:p,body:y}=_w(a,e);if(l.navigate===!1){let v=l.fetcherKey||Bw();await s.fetch(v,t,l.action||c,{preventScrollReset:l.preventScrollReset,formData:p,body:y,formMethod:l.method||h,formEncType:l.encType||m,flushSync:l.flushSync})}else await s.navigate(l.action||c,{preventScrollReset:l.preventScrollReset,formData:p,body:y,formMethod:l.method||h,formEncType:l.encType||m,replace:l.replace,state:l.state,fromRouteId:t,flushSync:l.flushSync,viewTransition:l.viewTransition})},[s,e,t])}function zw(s,{relative:e}={}){let{basename:t}=C.useContext(gs),a=C.useContext(ps);lt(a,"useFormAction must be used inside a RouteContext");let[l]=a.matches.slice(-1),c={...Ac(s||".",{relative:e})},h=Mn();if(s==null){c.search=h.search;let m=new URLSearchParams(c.search),p=m.getAll("index");if(p.some(v=>v==="")){m.delete("index"),p.filter(A=>A).forEach(A=>m.append("index",A));let v=m.toString();c.search=v?`?${v}`:""}}return(!s||s===".")&&l.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(c.pathname=c.pathname==="/"?t:xi([t,c.pathname])),fc(c)}function qw(s,e={}){let t=C.useContext(M0);lt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=K0("useViewTransitionState"),l=Ac(s,{relative:e.relative});if(!t.isTransitioning)return!1;let c=Ti(t.currentLocation.pathname,a)||t.currentLocation.pathname,h=Ti(t.nextLocation.pathname,a)||t.nextLocation.pathname;return Cd(l.pathname,h)!=null||Cd(l.pathname,c)!=null}[...ww];var Kw=C0();const Fw=vg(Kw),Gw=()=>{};var Yv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0=function(s){const e=[];let t=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?e[t++]=l:l<2048?(e[t++]=l>>6|192,e[t++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),e[t++]=l>>18|240,e[t++]=l>>12&63|128,e[t++]=l>>6&63|128,e[t++]=l&63|128):(e[t++]=l>>12|224,e[t++]=l>>6&63|128,e[t++]=l&63|128)}return e},$w=function(s){const e=[];let t=0,a=0;for(;t<s.length;){const l=s[t++];if(l<128)e[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[t++];e[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[t++],h=s[t++],m=s[t++],p=((l&7)<<18|(c&63)<<12|(h&63)<<6|m&63)-65536;e[a++]=String.fromCharCode(55296+(p>>10)),e[a++]=String.fromCharCode(56320+(p&1023))}else{const c=s[t++],h=s[t++];e[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|h&63)}}return e.join("")},G0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const c=s[l],h=l+1<s.length,m=h?s[l+1]:0,p=l+2<s.length,y=p?s[l+2]:0,v=c>>2,A=(c&3)<<4|m>>4;let N=(m&15)<<2|y>>6,O=y&63;p||(O=64,h||(N=64)),a.push(t[v],t[A],t[N],t[O])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(F0(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):$w(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const c=t[s.charAt(l++)],m=l<s.length?t[s.charAt(l)]:0;++l;const y=l<s.length?t[s.charAt(l)]:64;++l;const A=l<s.length?t[s.charAt(l)]:64;if(++l,c==null||m==null||y==null||A==null)throw new Qw;const N=c<<2|m>>4;if(a.push(N),y!==64){const O=m<<4&240|y>>2;if(a.push(O),A!==64){const M=y<<6&192|A;a.push(M)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class Qw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Yw=function(s){const e=F0(s);return G0.encodeByteArray(e,!0)},Id=function(s){return Yw(s).replace(/\./g,"")},$0=function(s){try{return G0.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ww(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw=()=>Ww().__FIREBASE_DEFAULTS__,Zw=()=>{if(typeof process>"u"||typeof Yv>"u")return;const s=Yv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},Jw=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&$0(s[1]);return e&&JSON.parse(e)},Jd=()=>{try{return Gw()||Xw()||Zw()||Jw()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Q0=s=>{var e,t;return(t=(e=Jd())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[s]},Y0=s=>{const e=Q0(s);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),a]:[e.substring(0,t),a]},W0=()=>{var s;return(s=Jd())===null||s===void 0?void 0:s.config},X0=s=>{var e;return(e=Jd())===null||e===void 0?void 0:e[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,a)=>{t?this.reject(t):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z0(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},a=e||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},s);return[Id(JSON.stringify(t)),Id(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dn())}function nN(){var s;const e=(s=Jd())===null||s===void 0?void 0:s.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function sN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function iN(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function aN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rN(){const s=dn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function lN(){return!nN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function oN(){try{return typeof indexedDB=="object"}catch{return!1}}function cN(){return new Promise((s,e)=>{try{let t=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),t||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{t=!1},l.onerror=()=>{var c;e(((c=l.error)===null||c===void 0?void 0:c.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN="FirebaseError";class qs extends Error{constructor(e,t,a){super(t),this.code=e,this.customData=a,this.name=uN,Object.setPrototypeOf(this,qs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Sc.prototype.create)}}class Sc{constructor(e,t,a){this.service=e,this.serviceName=t,this.errors=a}create(e,...t){const a=t[0]||{},l=`${this.service}/${e}`,c=this.errors[e],h=c?dN(c,a):"Error",m=`${this.serviceName}: ${h} (${l}).`;return new qs(l,m,a)}}function dN(s,e){return s.replace(hN,(t,a)=>{const l=e[a];return l!=null?String(l):`<${a}?>`})}const hN=/\{\$([^}]+)}/g;function fN(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function yr(s,e){if(s===e)return!0;const t=Object.keys(s),a=Object.keys(e);for(const l of t){if(!a.includes(l))return!1;const c=s[l],h=e[l];if(Wv(c)&&Wv(h)){if(!yr(c,h))return!1}else if(c!==h)return!1}for(const l of a)if(!t.includes(l))return!1;return!0}function Wv(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wc(s){const e=[];for(const[t,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function tc(s){const e={};return s.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[l,c]=a.split("=");e[decodeURIComponent(l)]=decodeURIComponent(c)}}),e}function nc(s){const e=s.indexOf("?");if(!e)return"";const t=s.indexOf("#",e);return s.substring(e,t>0?t:void 0)}function mN(s,e){const t=new gN(s,e);return t.subscribe.bind(t)}class gN{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,a){let l;if(e===void 0&&t===void 0&&a===void 0)throw new Error("Missing Observer.");pN(e,["next","error","complete"])?l=e:l={next:e,error:t,complete:a},l.next===void 0&&(l.next=Im),l.error===void 0&&(l.error=Im),l.complete===void 0&&(l.complete=Im);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pN(s,e){if(typeof s!="object"||s===null)return!1;for(const t of e)if(t in s&&typeof s[t]=="function")return!0;return!1}function Im(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ct(s){return s&&s._delegate?s._delegate:s}class Ta{constructor(e,t,a){this.name=e,this.instanceFactory=t,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const a=new eN;if(this.instancesDeferred.set(t,a),this.isInitialized(t)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:t});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),l=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(c){if(l)return null;throw c}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(vN(e))try{this.getOrInitializeService({instanceIdentifier:fr})}catch{}for(const[t,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(t);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(e=fr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fr){return this.instances.has(e)}getOptions(e=fr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:t});for(const[c,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);a===m&&h.resolve(l)}return l}onInit(e,t){var a;const l=this.normalizeInstanceIdentifier(t),c=(a=this.onInitCallbacks.get(l))!==null&&a!==void 0?a:new Set;c.add(e),this.onInitCallbacks.set(l,c);const h=this.instances.get(l);return h&&e(h,l),()=>{c.delete(e)}}invokeOnInitCallbacks(e,t){const a=this.onInitCallbacks.get(t);if(a)for(const l of a)try{l(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:_N(e),options:t}),this.instances.set(e,a),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=fr){return this.component?this.component.multipleInstances?e:fr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _N(s){return s===fr?void 0:s}function vN(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new yN(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Pe||(Pe={}));const EN={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},bN=Pe.INFO,TN={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},AN=(s,e,...t)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),l=TN[e];if(l)console[l](`[${a}]  ${s.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Rg{constructor(e){this.name=e,this._logLevel=bN,this._logHandler=AN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?EN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const SN=(s,e)=>e.some(t=>s instanceof t);let Xv,Zv;function wN(){return Xv||(Xv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function NN(){return Zv||(Zv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const J0=new WeakMap,Gm=new WeakMap,eE=new WeakMap,jm=new WeakMap,kg=new WeakMap;function RN(s){const e=new Promise((t,a)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",h)},c=()=>{t(va(s.result)),l()},h=()=>{a(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&J0.set(t,s)}).catch(()=>{}),kg.set(e,s),e}function kN(s){if(Gm.has(s))return;const e=new Promise((t,a)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",h),s.removeEventListener("abort",h)},c=()=>{t(),l()},h=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",h),s.addEventListener("abort",h)});Gm.set(s,e)}let $m={get(s,e,t){if(s instanceof IDBTransaction){if(e==="done")return Gm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||eE.get(s);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return va(s[e])},set(s,e,t){return s[e]=t,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function CN(s){$m=s($m)}function IN(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const a=s.call(Dm(this),e,...t);return eE.set(a,e.sort?e.sort():[e]),va(a)}:NN().includes(s)?function(...e){return s.apply(Dm(this),e),va(J0.get(this))}:function(...e){return va(s.apply(Dm(this),e))}}function jN(s){return typeof s=="function"?IN(s):(s instanceof IDBTransaction&&kN(s),SN(s,wN())?new Proxy(s,$m):s)}function va(s){if(s instanceof IDBRequest)return RN(s);if(jm.has(s))return jm.get(s);const e=jN(s);return e!==s&&(jm.set(s,e),kg.set(e,s)),e}const Dm=s=>kg.get(s);function DN(s,e,{blocked:t,upgrade:a,blocking:l,terminated:c}={}){const h=indexedDB.open(s,e),m=va(h);return a&&h.addEventListener("upgradeneeded",p=>{a(va(h.result),p.oldVersion,p.newVersion,va(h.transaction),p)}),t&&h.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),m.then(p=>{c&&p.addEventListener("close",()=>c()),l&&p.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const ON=["get","getKey","getAll","getAllKeys","count"],MN=["put","add","delete","clear"],Om=new Map;function Jv(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Om.get(e))return Om.get(e);const t=e.replace(/FromIndex$/,""),a=e!==t,l=MN.includes(t);if(!(t in(a?IDBIndex:IDBObjectStore).prototype)||!(l||ON.includes(t)))return;const c=async function(h,...m){const p=this.transaction(h,l?"readwrite":"readonly");let y=p.store;return a&&(y=y.index(m.shift())),(await Promise.all([y[t](...m),l&&p.done]))[0]};return Om.set(e,c),c}CN(s=>({...s,get:(e,t,a)=>Jv(e,t)||s.get(e,t,a),has:(e,t)=>!!Jv(e,t)||s.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(PN(t)){const a=t.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(t=>t).join(" ")}}function PN(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Qm="@firebase/app",ex="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ai=new Rg("@firebase/app"),UN="@firebase/app-compat",VN="@firebase/analytics-compat",BN="@firebase/analytics",HN="@firebase/app-check-compat",zN="@firebase/app-check",qN="@firebase/auth",KN="@firebase/auth-compat",FN="@firebase/database",GN="@firebase/data-connect",$N="@firebase/database-compat",QN="@firebase/functions",YN="@firebase/functions-compat",WN="@firebase/installations",XN="@firebase/installations-compat",ZN="@firebase/messaging",JN="@firebase/messaging-compat",eR="@firebase/performance",tR="@firebase/performance-compat",nR="@firebase/remote-config",sR="@firebase/remote-config-compat",iR="@firebase/storage",aR="@firebase/storage-compat",rR="@firebase/firestore",lR="@firebase/vertexai",oR="@firebase/firestore-compat",cR="firebase",uR="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym="[DEFAULT]",dR={[Qm]:"fire-core",[UN]:"fire-core-compat",[BN]:"fire-analytics",[VN]:"fire-analytics-compat",[zN]:"fire-app-check",[HN]:"fire-app-check-compat",[qN]:"fire-auth",[KN]:"fire-auth-compat",[FN]:"fire-rtdb",[GN]:"fire-data-connect",[$N]:"fire-rtdb-compat",[QN]:"fire-fn",[YN]:"fire-fn-compat",[WN]:"fire-iid",[XN]:"fire-iid-compat",[ZN]:"fire-fcm",[JN]:"fire-fcm-compat",[eR]:"fire-perf",[tR]:"fire-perf-compat",[nR]:"fire-rc",[sR]:"fire-rc-compat",[iR]:"fire-gcs",[aR]:"fire-gcs-compat",[rR]:"fire-fst",[oR]:"fire-fst-compat",[lR]:"fire-vertex","fire-js":"fire-js",[cR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jd=new Map,hR=new Map,Wm=new Map;function tx(s,e){try{s.container.addComponent(e)}catch(t){Ai.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,t)}}function _r(s){const e=s.name;if(Wm.has(e))return Ai.debug(`There were multiple attempts to register component ${e}.`),!1;Wm.set(e,s);for(const t of jd.values())tx(t,s);for(const t of hR.values())tx(t,s);return!0}function eh(s,e){const t=s.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),s.container.getProvider(e)}function jn(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xa=new Sc("app","Firebase",fR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e,t,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Ta("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr=uR;function tE(s,e={}){let t=s;typeof e!="object"&&(e={name:e});const a=Object.assign({name:Ym,automaticDataCollectionEnabled:!1},e),l=a.name;if(typeof l!="string"||!l)throw xa.create("bad-app-name",{appName:String(l)});if(t||(t=W0()),!t)throw xa.create("no-options");const c=jd.get(l);if(c){if(yr(t,c.options)&&yr(a,c.config))return c;throw xa.create("duplicate-app",{appName:l})}const h=new xN(l);for(const p of Wm.values())h.addComponent(p);const m=new mR(t,a,h);return jd.set(l,m),m}function Cg(s=Ym){const e=jd.get(s);if(!e&&s===Ym&&W0())return tE();if(!e)throw xa.create("no-app",{appName:s});return e}function Ps(s,e,t){var a;let l=(a=dR[s])!==null&&a!==void 0?a:s;t&&(l+=`-${t}`);const c=l.match(/\s|\//),h=e.match(/\s|\//);if(c||h){const m=[`Unable to register library "${l}" with version "${e}":`];c&&m.push(`library name "${l}" contains illegal characters (whitespace or "/")`),c&&h&&m.push("and"),h&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ai.warn(m.join(" "));return}_r(new Ta(`${l}-version`,()=>({library:l,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR="firebase-heartbeat-database",pR=1,mc="firebase-heartbeat-store";let Mm=null;function nE(){return Mm||(Mm=DN(gR,pR,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(mc)}catch(t){console.warn(t)}}}}).catch(s=>{throw xa.create("idb-open",{originalErrorMessage:s.message})})),Mm}async function yR(s){try{const t=(await nE()).transaction(mc),a=await t.objectStore(mc).get(sE(s));return await t.done,a}catch(e){if(e instanceof qs)Ai.warn(e.message);else{const t=xa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ai.warn(t.message)}}}async function nx(s,e){try{const a=(await nE()).transaction(mc,"readwrite");await a.objectStore(mc).put(e,sE(s)),await a.done}catch(t){if(t instanceof qs)Ai.warn(t.message);else{const a=xa.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ai.warn(a.message)}}}function sE(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R=1024,vR=30;class xR{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new bR(t),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,t;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=sx();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(h=>h.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats.length>vR){const h=TR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Ai.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=sx(),{heartbeatsToSend:a,unsentEntries:l}=ER(this._heartbeatsCache.heartbeats),c=Id(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=t,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(t){return Ai.warn(t),""}}}function sx(){return new Date().toISOString().substring(0,10)}function ER(s,e=_R){const t=[];let a=s.slice();for(const l of s){const c=t.find(h=>h.agent===l.agent);if(c){if(c.dates.push(l.date),ix(t)>e){c.dates.pop();break}}else if(t.push({agent:l.agent,dates:[l.date]}),ix(t)>e){t.pop();break}a=a.slice(1)}return{heartbeatsToSend:t,unsentEntries:a}}class bR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return oN()?cN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await yR(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const l=await this.read();return nx(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:l.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const l=await this.read();return nx(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...e.heartbeats]})}else return}}function ix(s){return Id(JSON.stringify({version:2,heartbeats:s})).length}function TR(s){if(s.length===0)return-1;let e=0,t=s[0].date;for(let a=1;a<s.length;a++)s[a].date<t&&(t=s[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AR(s){_r(new Ta("platform-logger",e=>new LN(e),"PRIVATE")),_r(new Ta("heartbeat",e=>new xR(e),"PRIVATE")),Ps(Qm,ex,s),Ps(Qm,ex,"esm2017"),Ps("fire-js","")}AR("");var SR="firebase",wR="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ps(SR,wR,"app");var ax=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ea,iE;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,k){function b(){}b.prototype=k.prototype,D.D=k.prototype,D.prototype=new b,D.prototype.constructor=D,D.C=function(T,S,j){for(var w=Array(arguments.length-2),H=2;H<arguments.length;H++)w[H-2]=arguments[H];return k.prototype[S].apply(T,w)}}function t(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,t),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(D,k,b){b||(b=0);var T=Array(16);if(typeof k=="string")for(var S=0;16>S;++S)T[S]=k.charCodeAt(b++)|k.charCodeAt(b++)<<8|k.charCodeAt(b++)<<16|k.charCodeAt(b++)<<24;else for(S=0;16>S;++S)T[S]=k[b++]|k[b++]<<8|k[b++]<<16|k[b++]<<24;k=D.g[0],b=D.g[1],S=D.g[2];var j=D.g[3],w=k+(j^b&(S^j))+T[0]+3614090360&4294967295;k=b+(w<<7&4294967295|w>>>25),w=j+(S^k&(b^S))+T[1]+3905402710&4294967295,j=k+(w<<12&4294967295|w>>>20),w=S+(b^j&(k^b))+T[2]+606105819&4294967295,S=j+(w<<17&4294967295|w>>>15),w=b+(k^S&(j^k))+T[3]+3250441966&4294967295,b=S+(w<<22&4294967295|w>>>10),w=k+(j^b&(S^j))+T[4]+4118548399&4294967295,k=b+(w<<7&4294967295|w>>>25),w=j+(S^k&(b^S))+T[5]+1200080426&4294967295,j=k+(w<<12&4294967295|w>>>20),w=S+(b^j&(k^b))+T[6]+2821735955&4294967295,S=j+(w<<17&4294967295|w>>>15),w=b+(k^S&(j^k))+T[7]+4249261313&4294967295,b=S+(w<<22&4294967295|w>>>10),w=k+(j^b&(S^j))+T[8]+1770035416&4294967295,k=b+(w<<7&4294967295|w>>>25),w=j+(S^k&(b^S))+T[9]+2336552879&4294967295,j=k+(w<<12&4294967295|w>>>20),w=S+(b^j&(k^b))+T[10]+4294925233&4294967295,S=j+(w<<17&4294967295|w>>>15),w=b+(k^S&(j^k))+T[11]+2304563134&4294967295,b=S+(w<<22&4294967295|w>>>10),w=k+(j^b&(S^j))+T[12]+1804603682&4294967295,k=b+(w<<7&4294967295|w>>>25),w=j+(S^k&(b^S))+T[13]+4254626195&4294967295,j=k+(w<<12&4294967295|w>>>20),w=S+(b^j&(k^b))+T[14]+2792965006&4294967295,S=j+(w<<17&4294967295|w>>>15),w=b+(k^S&(j^k))+T[15]+1236535329&4294967295,b=S+(w<<22&4294967295|w>>>10),w=k+(S^j&(b^S))+T[1]+4129170786&4294967295,k=b+(w<<5&4294967295|w>>>27),w=j+(b^S&(k^b))+T[6]+3225465664&4294967295,j=k+(w<<9&4294967295|w>>>23),w=S+(k^b&(j^k))+T[11]+643717713&4294967295,S=j+(w<<14&4294967295|w>>>18),w=b+(j^k&(S^j))+T[0]+3921069994&4294967295,b=S+(w<<20&4294967295|w>>>12),w=k+(S^j&(b^S))+T[5]+3593408605&4294967295,k=b+(w<<5&4294967295|w>>>27),w=j+(b^S&(k^b))+T[10]+38016083&4294967295,j=k+(w<<9&4294967295|w>>>23),w=S+(k^b&(j^k))+T[15]+3634488961&4294967295,S=j+(w<<14&4294967295|w>>>18),w=b+(j^k&(S^j))+T[4]+3889429448&4294967295,b=S+(w<<20&4294967295|w>>>12),w=k+(S^j&(b^S))+T[9]+568446438&4294967295,k=b+(w<<5&4294967295|w>>>27),w=j+(b^S&(k^b))+T[14]+3275163606&4294967295,j=k+(w<<9&4294967295|w>>>23),w=S+(k^b&(j^k))+T[3]+4107603335&4294967295,S=j+(w<<14&4294967295|w>>>18),w=b+(j^k&(S^j))+T[8]+1163531501&4294967295,b=S+(w<<20&4294967295|w>>>12),w=k+(S^j&(b^S))+T[13]+2850285829&4294967295,k=b+(w<<5&4294967295|w>>>27),w=j+(b^S&(k^b))+T[2]+4243563512&4294967295,j=k+(w<<9&4294967295|w>>>23),w=S+(k^b&(j^k))+T[7]+1735328473&4294967295,S=j+(w<<14&4294967295|w>>>18),w=b+(j^k&(S^j))+T[12]+2368359562&4294967295,b=S+(w<<20&4294967295|w>>>12),w=k+(b^S^j)+T[5]+4294588738&4294967295,k=b+(w<<4&4294967295|w>>>28),w=j+(k^b^S)+T[8]+2272392833&4294967295,j=k+(w<<11&4294967295|w>>>21),w=S+(j^k^b)+T[11]+1839030562&4294967295,S=j+(w<<16&4294967295|w>>>16),w=b+(S^j^k)+T[14]+4259657740&4294967295,b=S+(w<<23&4294967295|w>>>9),w=k+(b^S^j)+T[1]+2763975236&4294967295,k=b+(w<<4&4294967295|w>>>28),w=j+(k^b^S)+T[4]+1272893353&4294967295,j=k+(w<<11&4294967295|w>>>21),w=S+(j^k^b)+T[7]+4139469664&4294967295,S=j+(w<<16&4294967295|w>>>16),w=b+(S^j^k)+T[10]+3200236656&4294967295,b=S+(w<<23&4294967295|w>>>9),w=k+(b^S^j)+T[13]+681279174&4294967295,k=b+(w<<4&4294967295|w>>>28),w=j+(k^b^S)+T[0]+3936430074&4294967295,j=k+(w<<11&4294967295|w>>>21),w=S+(j^k^b)+T[3]+3572445317&4294967295,S=j+(w<<16&4294967295|w>>>16),w=b+(S^j^k)+T[6]+76029189&4294967295,b=S+(w<<23&4294967295|w>>>9),w=k+(b^S^j)+T[9]+3654602809&4294967295,k=b+(w<<4&4294967295|w>>>28),w=j+(k^b^S)+T[12]+3873151461&4294967295,j=k+(w<<11&4294967295|w>>>21),w=S+(j^k^b)+T[15]+530742520&4294967295,S=j+(w<<16&4294967295|w>>>16),w=b+(S^j^k)+T[2]+3299628645&4294967295,b=S+(w<<23&4294967295|w>>>9),w=k+(S^(b|~j))+T[0]+4096336452&4294967295,k=b+(w<<6&4294967295|w>>>26),w=j+(b^(k|~S))+T[7]+1126891415&4294967295,j=k+(w<<10&4294967295|w>>>22),w=S+(k^(j|~b))+T[14]+2878612391&4294967295,S=j+(w<<15&4294967295|w>>>17),w=b+(j^(S|~k))+T[5]+4237533241&4294967295,b=S+(w<<21&4294967295|w>>>11),w=k+(S^(b|~j))+T[12]+1700485571&4294967295,k=b+(w<<6&4294967295|w>>>26),w=j+(b^(k|~S))+T[3]+2399980690&4294967295,j=k+(w<<10&4294967295|w>>>22),w=S+(k^(j|~b))+T[10]+4293915773&4294967295,S=j+(w<<15&4294967295|w>>>17),w=b+(j^(S|~k))+T[1]+2240044497&4294967295,b=S+(w<<21&4294967295|w>>>11),w=k+(S^(b|~j))+T[8]+1873313359&4294967295,k=b+(w<<6&4294967295|w>>>26),w=j+(b^(k|~S))+T[15]+4264355552&4294967295,j=k+(w<<10&4294967295|w>>>22),w=S+(k^(j|~b))+T[6]+2734768916&4294967295,S=j+(w<<15&4294967295|w>>>17),w=b+(j^(S|~k))+T[13]+1309151649&4294967295,b=S+(w<<21&4294967295|w>>>11),w=k+(S^(b|~j))+T[4]+4149444226&4294967295,k=b+(w<<6&4294967295|w>>>26),w=j+(b^(k|~S))+T[11]+3174756917&4294967295,j=k+(w<<10&4294967295|w>>>22),w=S+(k^(j|~b))+T[2]+718787259&4294967295,S=j+(w<<15&4294967295|w>>>17),w=b+(j^(S|~k))+T[9]+3951481745&4294967295,D.g[0]=D.g[0]+k&4294967295,D.g[1]=D.g[1]+(S+(w<<21&4294967295|w>>>11))&4294967295,D.g[2]=D.g[2]+S&4294967295,D.g[3]=D.g[3]+j&4294967295}a.prototype.u=function(D,k){k===void 0&&(k=D.length);for(var b=k-this.blockSize,T=this.B,S=this.h,j=0;j<k;){if(S==0)for(;j<=b;)l(this,D,j),j+=this.blockSize;if(typeof D=="string"){for(;j<k;)if(T[S++]=D.charCodeAt(j++),S==this.blockSize){l(this,T),S=0;break}}else for(;j<k;)if(T[S++]=D[j++],S==this.blockSize){l(this,T),S=0;break}}this.h=S,this.o+=k},a.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var k=1;k<D.length-8;++k)D[k]=0;var b=8*this.o;for(k=D.length-8;k<D.length;++k)D[k]=b&255,b/=256;for(this.u(D),D=Array(16),k=b=0;4>k;++k)for(var T=0;32>T;T+=8)D[b++]=this.g[k]>>>T&255;return D};function c(D,k){var b=m;return Object.prototype.hasOwnProperty.call(b,D)?b[D]:b[D]=k(D)}function h(D,k){this.h=k;for(var b=[],T=!0,S=D.length-1;0<=S;S--){var j=D[S]|0;T&&j==k||(b[S]=j,T=!1)}this.g=b}var m={};function p(D){return-128<=D&&128>D?c(D,function(k){return new h([k|0],0>k?-1:0)}):new h([D|0],0>D?-1:0)}function y(D){if(isNaN(D)||!isFinite(D))return A;if(0>D)return V(y(-D));for(var k=[],b=1,T=0;D>=b;T++)k[T]=D/b|0,b*=4294967296;return new h(k,0)}function v(D,k){if(D.length==0)throw Error("number format error: empty string");if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(D.charAt(0)=="-")return V(v(D.substring(1),k));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=y(Math.pow(k,8)),T=A,S=0;S<D.length;S+=8){var j=Math.min(8,D.length-S),w=parseInt(D.substring(S,S+j),k);8>j?(j=y(Math.pow(k,j)),T=T.j(j).add(y(w))):(T=T.j(b),T=T.add(y(w)))}return T}var A=p(0),N=p(1),O=p(16777216);s=h.prototype,s.m=function(){if(B(this))return-V(this).m();for(var D=0,k=1,b=0;b<this.g.length;b++){var T=this.i(b);D+=(0<=T?T:4294967296+T)*k,k*=4294967296}return D},s.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(M(this))return"0";if(B(this))return"-"+V(this).toString(D);for(var k=y(Math.pow(D,6)),b=this,T="";;){var S=te(b,k).g;b=K(b,S.j(k));var j=((0<b.g.length?b.g[0]:b.h)>>>0).toString(D);if(b=S,M(b))return j+T;for(;6>j.length;)j="0"+j;T=j+T}},s.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function M(D){if(D.h!=0)return!1;for(var k=0;k<D.g.length;k++)if(D.g[k]!=0)return!1;return!0}function B(D){return D.h==-1}s.l=function(D){return D=K(this,D),B(D)?-1:M(D)?0:1};function V(D){for(var k=D.g.length,b=[],T=0;T<k;T++)b[T]=~D.g[T];return new h(b,~D.h).add(N)}s.abs=function(){return B(this)?V(this):this},s.add=function(D){for(var k=Math.max(this.g.length,D.g.length),b=[],T=0,S=0;S<=k;S++){var j=T+(this.i(S)&65535)+(D.i(S)&65535),w=(j>>>16)+(this.i(S)>>>16)+(D.i(S)>>>16);T=w>>>16,j&=65535,w&=65535,b[S]=w<<16|j}return new h(b,b[b.length-1]&-2147483648?-1:0)};function K(D,k){return D.add(V(k))}s.j=function(D){if(M(this)||M(D))return A;if(B(this))return B(D)?V(this).j(V(D)):V(V(this).j(D));if(B(D))return V(this.j(V(D)));if(0>this.l(O)&&0>D.l(O))return y(this.m()*D.m());for(var k=this.g.length+D.g.length,b=[],T=0;T<2*k;T++)b[T]=0;for(T=0;T<this.g.length;T++)for(var S=0;S<D.g.length;S++){var j=this.i(T)>>>16,w=this.i(T)&65535,H=D.i(S)>>>16,W=D.i(S)&65535;b[2*T+2*S]+=w*W,G(b,2*T+2*S),b[2*T+2*S+1]+=j*W,G(b,2*T+2*S+1),b[2*T+2*S+1]+=w*H,G(b,2*T+2*S+1),b[2*T+2*S+2]+=j*H,G(b,2*T+2*S+2)}for(T=0;T<k;T++)b[T]=b[2*T+1]<<16|b[2*T];for(T=k;T<2*k;T++)b[T]=0;return new h(b,0)};function G(D,k){for(;(D[k]&65535)!=D[k];)D[k+1]+=D[k]>>>16,D[k]&=65535,k++}function Z(D,k){this.g=D,this.h=k}function te(D,k){if(M(k))throw Error("division by zero");if(M(D))return new Z(A,A);if(B(D))return k=te(V(D),k),new Z(V(k.g),V(k.h));if(B(k))return k=te(D,V(k)),new Z(V(k.g),k.h);if(30<D.g.length){if(B(D)||B(k))throw Error("slowDivide_ only works with positive integers.");for(var b=N,T=k;0>=T.l(D);)b=ae(b),T=ae(T);var S=de(b,1),j=de(T,1);for(T=de(T,2),b=de(b,2);!M(T);){var w=j.add(T);0>=w.l(D)&&(S=S.add(b),j=w),T=de(T,1),b=de(b,1)}return k=K(D,S.j(k)),new Z(S,k)}for(S=A;0<=D.l(k);){for(b=Math.max(1,Math.floor(D.m()/k.m())),T=Math.ceil(Math.log(b)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),j=y(b),w=j.j(k);B(w)||0<w.l(D);)b-=T,j=y(b),w=j.j(k);M(j)&&(j=N),S=S.add(j),D=K(D,w)}return new Z(S,D)}s.A=function(D){return te(this,D).h},s.and=function(D){for(var k=Math.max(this.g.length,D.g.length),b=[],T=0;T<k;T++)b[T]=this.i(T)&D.i(T);return new h(b,this.h&D.h)},s.or=function(D){for(var k=Math.max(this.g.length,D.g.length),b=[],T=0;T<k;T++)b[T]=this.i(T)|D.i(T);return new h(b,this.h|D.h)},s.xor=function(D){for(var k=Math.max(this.g.length,D.g.length),b=[],T=0;T<k;T++)b[T]=this.i(T)^D.i(T);return new h(b,this.h^D.h)};function ae(D){for(var k=D.g.length+1,b=[],T=0;T<k;T++)b[T]=D.i(T)<<1|D.i(T-1)>>>31;return new h(b,D.h)}function de(D,k){var b=k>>5;k%=32;for(var T=D.g.length-b,S=[],j=0;j<T;j++)S[j]=0<k?D.i(j+b)>>>k|D.i(j+b+1)<<32-k:D.i(j+b);return new h(S,D.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,iE=a,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=v,Ea=h}).apply(typeof ax<"u"?ax:typeof self<"u"?self:typeof window<"u"?window:{});var ld=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var aE,sc,rE,vd,Xm,lE,oE,cE;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,_,x){return d==Array.prototype||d==Object.prototype||(d[_]=x.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof ld=="object"&&ld];for(var _=0;_<d.length;++_){var x=d[_];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var a=t(this);function l(d,_){if(_)e:{var x=a;d=d.split(".");for(var I=0;I<d.length-1;I++){var Q=d[I];if(!(Q in x))break e;x=x[Q]}d=d[d.length-1],I=x[d],_=_(I),_!=I&&_!=null&&e(x,d,{configurable:!0,writable:!0,value:_})}}function c(d,_){d instanceof String&&(d+="");var x=0,I=!1,Q={next:function(){if(!I&&x<d.length){var ee=x++;return{value:_(ee,d[ee]),done:!1}}return I=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}l("Array.prototype.values",function(d){return d||function(){return c(this,function(_,x){return x})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function p(d){var _=typeof d;return _=_!="object"?_:d?Array.isArray(d)?"array":_:"null",_=="array"||_=="object"&&typeof d.length=="number"}function y(d){var _=typeof d;return _=="object"&&d!=null||_=="function"}function v(d,_,x){return d.call.apply(d.bind,arguments)}function A(d,_,x){if(!d)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,I),d.apply(_,Q)}}return function(){return d.apply(_,arguments)}}function N(d,_,x){return N=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:A,N.apply(null,arguments)}function O(d,_){var x=Array.prototype.slice.call(arguments,1);return function(){var I=x.slice();return I.push.apply(I,arguments),d.apply(this,I)}}function M(d,_){function x(){}x.prototype=_.prototype,d.aa=_.prototype,d.prototype=new x,d.prototype.constructor=d,d.Qb=function(I,Q,ee){for(var he=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)he[ze-2]=arguments[ze];return _.prototype[Q].apply(I,he)}}function B(d){const _=d.length;if(0<_){const x=Array(_);for(let I=0;I<_;I++)x[I]=d[I];return x}return[]}function V(d,_){for(let x=1;x<arguments.length;x++){const I=arguments[x];if(p(I)){const Q=d.length||0,ee=I.length||0;d.length=Q+ee;for(let he=0;he<ee;he++)d[Q+he]=I[he]}else d.push(I)}}class K{constructor(_,x){this.i=_,this.j=x,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function G(d){return/^[\s\xa0]*$/.test(d)}function Z(){var d=m.navigator;return d&&(d=d.userAgent)?d:""}function te(d){return te[" "](d),d}te[" "]=function(){};var ae=Z().indexOf("Gecko")!=-1&&!(Z().toLowerCase().indexOf("webkit")!=-1&&Z().indexOf("Edge")==-1)&&!(Z().indexOf("Trident")!=-1||Z().indexOf("MSIE")!=-1)&&Z().indexOf("Edge")==-1;function de(d,_,x){for(const I in d)_.call(x,d[I],I,d)}function D(d,_){for(const x in d)_.call(void 0,d[x],x,d)}function k(d){const _={};for(const x in d)_[x]=d[x];return _}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(d,_){let x,I;for(let Q=1;Q<arguments.length;Q++){I=arguments[Q];for(x in I)d[x]=I[x];for(let ee=0;ee<b.length;ee++)x=b[ee],Object.prototype.hasOwnProperty.call(I,x)&&(d[x]=I[x])}}function S(d){var _=1;d=d.split(":");const x=[];for(;0<_&&d.length;)x.push(d.shift()),_--;return d.length&&x.push(d.join(":")),x}function j(d){m.setTimeout(()=>{throw d},0)}function w(){var d=ve;let _=null;return d.g&&(_=d.g,d.g=d.g.next,d.g||(d.h=null),_.next=null),_}class H{constructor(){this.h=this.g=null}add(_,x){const I=W.get();I.set(_,x),this.h?this.h.next=I:this.g=I,this.h=I}}var W=new K(()=>new z,d=>d.reset());class z{constructor(){this.next=this.g=this.h=null}set(_,x){this.h=_,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let X,ce=!1,ve=new H,L=()=>{const d=m.Promise.resolve(void 0);X=()=>{d.then(ne)}};var ne=()=>{for(var d;d=w();){try{d.h.call(d.g)}catch(x){j(x)}var _=W;_.j(d),100>_.h&&(_.h++,d.next=_.g,_.g=d)}ce=!1};function fe(){this.s=this.s,this.C=this.C}fe.prototype.s=!1,fe.prototype.ma=function(){this.s||(this.s=!0,this.N())},fe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function me(d,_){this.type=d,this.g=this.target=_,this.defaultPrevented=!1}me.prototype.h=function(){this.defaultPrevented=!0};var ge=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var d=!1,_=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const x=()=>{};m.addEventListener("test",x,_),m.removeEventListener("test",x,_)}catch{}return d}();function Ae(d,_){if(me.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var x=this.type=d.type,I=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=_,_=d.relatedTarget){if(ae){e:{try{te(_.nodeName);var Q=!0;break e}catch{}Q=!1}Q||(_=null)}}else x=="mouseover"?_=d.fromElement:x=="mouseout"&&(_=d.toElement);this.relatedTarget=_,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Re[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Ae.aa.h.call(this)}}M(Ae,me);var Re={2:"touch",3:"pen",4:"mouse"};Ae.prototype.h=function(){Ae.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var mt="closure_listenable_"+(1e6*Math.random()|0),He=0;function at(d,_,x,I,Q){this.listener=d,this.proxy=null,this.src=_,this.type=x,this.capture=!!I,this.ha=Q,this.key=++He,this.da=this.fa=!1}function Xe(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Qt(d){this.src=d,this.g={},this.h=0}Qt.prototype.add=function(d,_,x,I,Q){var ee=d.toString();d=this.g[ee],d||(d=this.g[ee]=[],this.h++);var he=vn(d,_,I,Q);return-1<he?(_=d[he],x||(_.fa=!1)):(_=new at(_,this.src,ee,!!I,Q),_.fa=x,d.push(_)),_};function ts(d,_){var x=_.type;if(x in d.g){var I=d.g[x],Q=Array.prototype.indexOf.call(I,_,void 0),ee;(ee=0<=Q)&&Array.prototype.splice.call(I,Q,1),ee&&(Xe(_),d.g[x].length==0&&(delete d.g[x],d.h--))}}function vn(d,_,x,I){for(var Q=0;Q<d.length;++Q){var ee=d[Q];if(!ee.da&&ee.listener==_&&ee.capture==!!x&&ee.ha==I)return Q}return-1}var pe="closure_lm_"+(1e6*Math.random()|0),Ge={};function Ct(d,_,x,I,Q){if(Array.isArray(_)){for(var ee=0;ee<_.length;ee++)Ct(d,_[ee],x,I,Q);return null}return x=Vc(x),d&&d[mt]?d.K(_,x,y(I)?!!I.capture:!1,Q):Ln(d,_,x,!1,I,Q)}function Ln(d,_,x,I,Q,ee){if(!_)throw Error("Invalid event type");var he=y(Q)?!!Q.capture:!!Q,ze=Ma(d);if(ze||(d[pe]=ze=new Qt(d)),x=ze.add(_,x,I,he,ee),x.proxy)return x;if(I=An(),x.proxy=I,I.src=d,I.listener=x,d.addEventListener)ge||(Q=he),Q===void 0&&(Q=!1),d.addEventListener(_.toString(),I,Q);else if(d.attachEvent)d.attachEvent(ki(_.toString()),I);else if(d.addListener&&d.removeListener)d.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return x}function An(){function d(x){return _.call(d.src,d.listener,x)}const _=Fl;return d}function Fs(d,_,x,I,Q){if(Array.isArray(_))for(var ee=0;ee<_.length;ee++)Fs(d,_[ee],x,I,Q);else I=y(I)?!!I.capture:!!I,x=Vc(x),d&&d[mt]?(d=d.i,_=String(_).toString(),_ in d.g&&(ee=d.g[_],x=vn(ee,x,I,Q),-1<x&&(Xe(ee[x]),Array.prototype.splice.call(ee,x,1),ee.length==0&&(delete d.g[_],d.h--)))):d&&(d=Ma(d))&&(_=d.g[_.toString()],d=-1,_&&(d=vn(_,x,I,Q)),(x=-1<d?_[d]:null)&&_s(x))}function _s(d){if(typeof d!="number"&&d&&!d.da){var _=d.src;if(_&&_[mt])ts(_.i,d);else{var x=d.type,I=d.proxy;_.removeEventListener?_.removeEventListener(x,I,d.capture):_.detachEvent?_.detachEvent(ki(x),I):_.addListener&&_.removeListener&&_.removeListener(I),(x=Ma(_))?(ts(x,d),x.h==0&&(x.src=null,_[pe]=null)):Xe(d)}}}function ki(d){return d in Ge?Ge[d]:Ge[d]="on"+d}function Fl(d,_){if(d.da)d=!0;else{_=new Ae(_,this);var x=d.listener,I=d.ha||d.src;d.fa&&_s(d),d=x.call(I,_)}return d}function Ma(d){return d=d[pe],d instanceof Qt?d:null}var Yt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Vc(d){return typeof d=="function"?d:(d[Yt]||(d[Yt]=function(_){return d.handleEvent(_)}),d[Yt])}function It(){fe.call(this),this.i=new Qt(this),this.M=this,this.F=null}M(It,fe),It.prototype[mt]=!0,It.prototype.removeEventListener=function(d,_,x,I){Fs(this,d,_,x,I)};function Bt(d,_){var x,I=d.F;if(I)for(x=[];I;I=I.F)x.push(I);if(d=d.M,I=_.type||_,typeof _=="string")_=new me(_,d);else if(_ instanceof me)_.target=_.target||d;else{var Q=_;_=new me(I,d),T(_,Q)}if(Q=!0,x)for(var ee=x.length-1;0<=ee;ee--){var he=_.g=x[ee];Q=Gs(he,I,!0,_)&&Q}if(he=_.g=d,Q=Gs(he,I,!0,_)&&Q,Q=Gs(he,I,!1,_)&&Q,x)for(ee=0;ee<x.length;ee++)he=_.g=x[ee],Q=Gs(he,I,!1,_)&&Q}It.prototype.N=function(){if(It.aa.N.call(this),this.i){var d=this.i,_;for(_ in d.g){for(var x=d.g[_],I=0;I<x.length;I++)Xe(x[I]);delete d.g[_],d.h--}}this.F=null},It.prototype.K=function(d,_,x,I){return this.i.add(String(d),_,!1,x,I)},It.prototype.L=function(d,_,x,I){return this.i.add(String(d),_,!0,x,I)};function Gs(d,_,x,I){if(_=d.i.g[String(_)],!_)return!0;_=_.concat();for(var Q=!0,ee=0;ee<_.length;++ee){var he=_[ee];if(he&&!he.da&&he.capture==x){var ze=he.listener,Dt=he.ha||he.src;he.fa&&ts(d.i,he),Q=ze.call(Dt,I)!==!1&&Q}}return Q&&!I.defaultPrevented}function Bc(d,_,x){if(typeof d=="function")x&&(d=N(d,x));else if(d&&typeof d.handleEvent=="function")d=N(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:m.setTimeout(d,_||0)}function Gl(d){d.g=Bc(()=>{d.g=null,d.i&&(d.i=!1,Gl(d))},d.l);const _=d.h;d.h=null,d.m.apply(null,_)}class Sh extends fe{constructor(_,x){super(),this.m=_,this.l=x,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Gl(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function La(d){fe.call(this),this.h=d,this.g={}}M(La,fe);var Ci=[];function an(d){de(d.g,function(_,x){this.g.hasOwnProperty(x)&&_s(_)},d),d.g={}}La.prototype.N=function(){La.aa.N.call(this),an(this)},La.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $l=m.JSON.stringify,vs=m.JSON.parse,hn=class{stringify(d){return m.JSON.stringify(d,void 0)}parse(d){return m.JSON.parse(d,void 0)}};function Ql(){}Ql.prototype.h=null;function Hc(d){return d.h||(d.h=d.i())}function zc(){}var xs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ii(){me.call(this,"d")}M(Ii,me);function ns(){me.call(this,"c")}M(ns,me);var Pn={},ji=null;function Cr(){return ji=ji||new It}Pn.La="serverreachability";function Yl(d){me.call(this,Pn.La,d)}M(Yl,me);function Di(d){const _=Cr();Bt(_,new Yl(_))}Pn.STAT_EVENT="statevent";function Ir(d,_){me.call(this,Pn.STAT_EVENT,d),this.stat=_}M(Ir,me);function bt(d){const _=Cr();Bt(_,new Ir(_,d))}Pn.Ma="timingevent";function qc(d,_){me.call(this,Pn.Ma,d),this.size=_}M(qc,me);function Oi(d,_){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){d()},_)}function Mi(){this.g=!0}Mi.prototype.xa=function(){this.g=!1};function Kc(d,_,x,I,Q,ee){d.info(function(){if(d.g)if(ee)for(var he="",ze=ee.split("&"),Dt=0;Dt<ze.length;Dt++){var qe=ze[Dt].split("=");if(1<qe.length){var qt=qe[0];qe=qe[1];var Ot=qt.split("_");he=2<=Ot.length&&Ot[1]=="type"?he+(qt+"="+qe+"&"):he+(qt+"=redacted&")}}else he=null;else he=ee;return"XMLHTTP REQ ("+I+") [attempt "+Q+"]: "+_+`
`+x+`
`+he})}function Fc(d,_,x,I,Q,ee,he){d.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+Q+"]: "+_+`
`+x+`
`+ee+" "+he})}function Li(d,_,x,I){d.info(function(){return"XMLHTTP TEXT ("+_+"): "+Ht(d,x)+(I?" "+I:"")})}function Es(d,_){d.info(function(){return"TIMEOUT: "+_})}Mi.prototype.info=function(){};function Ht(d,_){if(!d.g)return _;if(!_)return null;try{var x=JSON.parse(_);if(x){for(d=0;d<x.length;d++)if(Array.isArray(x[d])){var I=x[d];if(!(2>I.length)){var Q=I[1];if(Array.isArray(Q)&&!(1>Q.length)){var ee=Q[0];if(ee!="noop"&&ee!="stop"&&ee!="close")for(var he=1;he<Q.length;he++)Q[he]=""}}}}return $l(x)}catch{return _}}var jt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},$s={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Pa;function jr(){}M(jr,Ql),jr.prototype.g=function(){return new XMLHttpRequest},jr.prototype.i=function(){return{}},Pa=new jr;function bs(d,_,x,I){this.j=d,this.i=_,this.l=x,this.R=I||1,this.U=new La(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Wl}function Wl(){this.i=null,this.g="",this.h=!1}var Pi={},Ua={};function ss(d,_,x){d.L=1,d.v=Ha(gt(_)),d.m=x,d.P=!0,Qs(d,null)}function Qs(d,_){d.F=Date.now(),ut(d),d.A=gt(d.v);var x=d.A,I=d.R;Array.isArray(I)||(I=[String(I)]),Xs(x.i,"t",I),d.C=0,x=d.j.J,d.h=new Wl,d.g=au(d.j,x?_:null,!d.m),0<d.O&&(d.M=new Sh(N(d.Y,d,d.g),d.O)),_=d.U,x=d.g,I=d.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&(Ci[0]=Q.toString()),Q=Ci);for(var ee=0;ee<Q.length;ee++){var he=Ct(x,Q[ee],I||_.handleEvent,!1,_.h||_);if(!he)break;_.g[he.key]=he}_=d.H?k(d.H):{},d.m?(d.u||(d.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,_)):(d.u="GET",d.g.ea(d.A,d.u,null,_)),Di(),Kc(d.i,d.u,d.A,d.l,d.R,d.m)}bs.prototype.ca=function(d){d=d.target;const _=this.M;_&&zn(d)==3?_.j():this.Y(d)},bs.prototype.Y=function(d){try{if(d==this.g)e:{const Ot=zn(this.g);var _=this.g.Ba();const ti=this.g.Z();if(!(3>Ot)&&(Ot!=3||this.g&&(this.h.h||this.g.oa()||Xc(this.g)))){this.J||Ot!=4||_==7||(_==8||0>=ti?Di(3):Di(2)),Dr(this);var x=this.g.Z();this.X=x;t:if(Ui(this)){var I=Xc(this.g);d="";var Q=I.length,ee=zn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xn(this),Sn(this);var he="";break t}this.h.i=new m.TextDecoder}for(_=0;_<Q;_++)this.h.h=!0,d+=this.h.i.decode(I[_],{stream:!(ee&&_==Q-1)});I.length=0,this.h.g+=d,this.C=0,he=this.h.g}else he=this.g.oa();if(this.o=x==200,Fc(this.i,this.u,this.A,this.l,this.R,Ot,x),this.o){if(this.T&&!this.K){t:{if(this.g){var ze,Dt=this.g;if((ze=Dt.g?Dt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(ze)){var qe=ze;break t}}qe=null}if(x=qe)Li(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,wn(this,x);else{this.o=!1,this.s=3,bt(12),xn(this),Sn(this);break e}}if(this.P){x=!0;let Wt;for(;!this.J&&this.C<he.length;)if(Wt=Vi(this,he),Wt==Ua){Ot==4&&(this.s=4,bt(14),x=!1),Li(this.i,this.l,null,"[Incomplete Response]");break}else if(Wt==Pi){this.s=4,bt(15),Li(this.i,this.l,he,"[Invalid Chunk]"),x=!1;break}else Li(this.i,this.l,Wt,null),wn(this,Wt);if(Ui(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ot!=4||he.length!=0||this.h.h||(this.s=1,bt(16),x=!1),this.o=this.o&&x,!x)Li(this.i,this.l,he,"[Invalid Chunked Response]"),xn(this),Sn(this);else if(0<he.length&&!this.W){this.W=!0;var qt=this.j;qt.g==this&&qt.ba&&!qt.M&&(qt.j.info("Great, no buffering proxy detected. Bytes received: "+he.length),Qa(qt),qt.M=!0,bt(11))}}else Li(this.i,this.l,he,null),wn(this,he);Ot==4&&xn(this),this.o&&!this.J&&(Ot==4?nu(this.j,this):(this.o=!1,ut(this)))}else Ih(this.g),x==400&&0<he.indexOf("Unknown SID")?(this.s=3,bt(12)):(this.s=0,bt(13)),xn(this),Sn(this)}}}catch{}finally{}};function Ui(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Vi(d,_){var x=d.C,I=_.indexOf(`
`,x);return I==-1?Ua:(x=Number(_.substring(x,I)),isNaN(x)?Pi:(I+=1,I+x>_.length?Ua:(_=_.slice(I,I+x),d.C=I+x,_)))}bs.prototype.cancel=function(){this.J=!0,xn(this)};function ut(d){d.S=Date.now()+d.I,Xl(d,d.I)}function Xl(d,_){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Oi(N(d.ba,d),_)}function Dr(d){d.B&&(m.clearTimeout(d.B),d.B=null)}bs.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Es(this.i,this.A),this.L!=2&&(Di(),bt(17)),xn(this),this.s=2,Sn(this)):Xl(this,this.S-d)};function Sn(d){d.j.G==0||d.J||nu(d.j,d)}function xn(d){Dr(d);var _=d.M;_&&typeof _.ma=="function"&&_.ma(),d.M=null,an(d.U),d.g&&(_=d.g,d.g=null,_.abort(),_.ma())}function wn(d,_){try{var x=d.j;if(x.G!=0&&(x.g==d||Bi(x.h,d))){if(!d.K&&Bi(x.h,d)&&x.G==3){try{var I=x.Da.g.parse(_)}catch{I=null}if(Array.isArray(I)&&I.length==3){var Q=I;if(Q[0]==0){e:if(!x.u){if(x.g)if(x.g.F+3e3<d.F)qr(x),Hr(x);else break e;oo(x),bt(18)}}else x.za=Q[1],0<x.za-x.T&&37500>Q[2]&&x.F&&x.v==0&&!x.C&&(x.C=Oi(N(x.Za,x),6e3));if(1>=Gc(x.h)&&x.ca){try{x.ca()}catch{}x.ca=void 0}}else ei(x,11)}else if((d.K||x.g==d)&&qr(x),!G(_))for(Q=x.Da.g.parse(_),_=0;_<Q.length;_++){let qe=Q[_];if(x.T=qe[0],qe=qe[1],x.G==2)if(qe[0]=="c"){x.K=qe[1],x.ia=qe[2];const qt=qe[3];qt!=null&&(x.la=qt,x.j.info("VER="+x.la));const Ot=qe[4];Ot!=null&&(x.Aa=Ot,x.j.info("SVER="+x.Aa));const ti=qe[5];ti!=null&&typeof ti=="number"&&0<ti&&(I=1.5*ti,x.L=I,x.j.info("backChannelRequestTimeoutMs_="+I)),I=x;const Wt=d.g;if(Wt){const ks=Wt.g?Wt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ks){var ee=I.h;ee.g||ks.indexOf("spdy")==-1&&ks.indexOf("quic")==-1&&ks.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(Hi(ee,ee.h),ee.h=null))}if(I.D){const uo=Wt.g?Wt.g.getResponseHeader("X-HTTP-Session-Id"):null;uo&&(I.ya=uo,$e(I.I,I.D,uo))}}x.G=3,x.l&&x.l.ua(),x.ba&&(x.R=Date.now()-d.F,x.j.info("Handshake RTT: "+x.R+"ms")),I=x;var he=d;if(I.qa=iu(I,I.J?I.ia:null,I.W),he.K){Un(I.h,he);var ze=he,Dt=I.L;Dt&&(ze.I=Dt),ze.B&&(Dr(ze),ut(ze)),I.g=he}else eu(I);0<x.i.length&&zr(x)}else qe[0]!="stop"&&qe[0]!="close"||ei(x,7);else x.G==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?ei(x,7):ro(x):qe[0]!="noop"&&x.l&&x.l.ta(qe),x.v=0)}}Di(4)}catch{}}var wh=class{constructor(d,_){this.g=d,this.map=_}};function Zl(d){this.l=d||10,m.PerformanceNavigationTiming?(d=m.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Jl(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Gc(d){return d.h?1:d.g?d.g.size:0}function Bi(d,_){return d.h?d.h==_:d.g?d.g.has(_):!1}function Hi(d,_){d.g?d.g.add(_):d.h=_}function Un(d,_){d.h&&d.h==_?d.h=null:d.g&&d.g.has(_)&&d.g.delete(_)}Zl.prototype.cancel=function(){if(this.i=fn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function fn(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let _=d.i;for(const x of d.g.values())_=_.concat(x.D);return _}return B(d.i)}function $c(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(p(d)){for(var _=[],x=d.length,I=0;I<x;I++)_.push(d[I]);return _}_=[],x=0;for(I in d)_[x++]=d[I];return _}function Nh(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(p(d)||typeof d=="string"){var _=[];d=d.length;for(var x=0;x<d;x++)_.push(x);return _}_=[],x=0;for(const I in d)_[x++]=I;return _}}}function Va(d,_){if(d.forEach&&typeof d.forEach=="function")d.forEach(_,void 0);else if(p(d)||typeof d=="string")Array.prototype.forEach.call(d,_,void 0);else for(var x=Nh(d),I=$c(d),Q=I.length,ee=0;ee<Q;ee++)_.call(void 0,I[ee],x&&x[ee],d)}var eo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Or(d,_){if(d){d=d.split("&");for(var x=0;x<d.length;x++){var I=d[x].indexOf("="),Q=null;if(0<=I){var ee=d[x].substring(0,I);Q=d[x].substring(I+1)}else ee=d[x];_(ee,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function Ys(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Ys){this.h=d.h,zi(this,d.j),this.o=d.o,this.g=d.g,Ba(this,d.s),this.l=d.l;var _=d.i,x=new Ts;x.i=_.i,_.g&&(x.g=new Map(_.g),x.h=_.h),Mr(this,x),this.m=d.m}else d&&(_=String(d).match(eo))?(this.h=!1,zi(this,_[1]||"",!0),this.o=qi(_[2]||""),this.g=qi(_[3]||"",!0),Ba(this,_[4]),this.l=qi(_[5]||"",!0),Mr(this,_[6]||"",!0),this.m=qi(_[7]||"")):(this.h=!1,this.i=new Ts(null,this.h))}Ys.prototype.toString=function(){var d=[],_=this.j;_&&d.push(Vn(_,to,!0),":");var x=this.g;return(x||_=="file")&&(d.push("//"),(_=this.o)&&d.push(Vn(_,to,!0),"@"),d.push(encodeURIComponent(String(x)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.s,x!=null&&d.push(":",String(x))),(x=this.l)&&(this.g&&x.charAt(0)!="/"&&d.push("/"),d.push(Vn(x,x.charAt(0)=="/"?no:Qc,!0))),(x=this.i.toString())&&d.push("?",x),(x=this.m)&&d.push("#",Vn(x,Ch)),d.join("")};function gt(d){return new Ys(d)}function zi(d,_,x){d.j=x?qi(_,!0):_,d.j&&(d.j=d.j.replace(/:$/,""))}function Ba(d,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);d.s=_}else d.s=null}function Mr(d,_,x){_ instanceof Ts?(d.i=_,so(d.i,d.h)):(x||(_=Vn(_,kh)),d.i=new Ts(_,d.h))}function $e(d,_,x){d.i.set(_,x)}function Ha(d){return $e(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function qi(d,_){return d?_?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Vn(d,_,x){return typeof d=="string"?(d=encodeURI(d).replace(_,Rh),x&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Rh(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var to=/[#\/\?@]/g,Qc=/[#\?:]/g,no=/[#\?]/g,kh=/[#\?@]/g,Ch=/#/g;function Ts(d,_){this.h=this.g=null,this.i=d||null,this.j=!!_}function Bn(d){d.g||(d.g=new Map,d.h=0,d.i&&Or(d.i,function(_,x){d.add(decodeURIComponent(_.replace(/\+/g," ")),x)}))}s=Ts.prototype,s.add=function(d,_){Bn(this),this.i=null,d=Zs(this,d);var x=this.g.get(d);return x||this.g.set(d,x=[]),x.push(_),this.h+=1,this};function Lr(d,_){Bn(d),_=Zs(d,_),d.g.has(_)&&(d.i=null,d.h-=d.g.get(_).length,d.g.delete(_))}function Ws(d,_){return Bn(d),_=Zs(d,_),d.g.has(_)}s.forEach=function(d,_){Bn(this),this.g.forEach(function(x,I){x.forEach(function(Q){d.call(_,Q,I,this)},this)},this)},s.na=function(){Bn(this);const d=Array.from(this.g.values()),_=Array.from(this.g.keys()),x=[];for(let I=0;I<_.length;I++){const Q=d[I];for(let ee=0;ee<Q.length;ee++)x.push(_[I])}return x},s.V=function(d){Bn(this);let _=[];if(typeof d=="string")Ws(this,d)&&(_=_.concat(this.g.get(Zs(this,d))));else{d=Array.from(this.g.values());for(let x=0;x<d.length;x++)_=_.concat(d[x])}return _},s.set=function(d,_){return Bn(this),this.i=null,d=Zs(this,d),Ws(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[_]),this.h+=1,this},s.get=function(d,_){return d?(d=this.V(d),0<d.length?String(d[0]):_):_};function Xs(d,_,x){Lr(d,_),0<x.length&&(d.i=null,d.g.set(Zs(d,_),B(x)),d.h+=x.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],_=Array.from(this.g.keys());for(var x=0;x<_.length;x++){var I=_[x];const ee=encodeURIComponent(String(I)),he=this.V(I);for(I=0;I<he.length;I++){var Q=ee;he[I]!==""&&(Q+="="+encodeURIComponent(String(he[I]))),d.push(Q)}}return this.i=d.join("&")};function Zs(d,_){return _=String(_),d.j&&(_=_.toLowerCase()),_}function so(d,_){_&&!d.j&&(Bn(d),d.i=null,d.g.forEach(function(x,I){var Q=I.toLowerCase();I!=Q&&(Lr(this,I),Xs(this,Q,x))},d)),d.j=_}function Yc(d,_){const x=new Mi;if(m.Image){const I=new Image;I.onload=O(Hn,x,"TestLoadImage: loaded",!0,_,I),I.onerror=O(Hn,x,"TestLoadImage: error",!1,_,I),I.onabort=O(Hn,x,"TestLoadImage: abort",!1,_,I),I.ontimeout=O(Hn,x,"TestLoadImage: timeout",!1,_,I),m.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=d}else _(!1)}function za(d,_){const x=new Mi,I=new AbortController,Q=setTimeout(()=>{I.abort(),Hn(x,"TestPingServer: timeout",!1,_)},1e4);fetch(d,{signal:I.signal}).then(ee=>{clearTimeout(Q),ee.ok?Hn(x,"TestPingServer: ok",!0,_):Hn(x,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(Q),Hn(x,"TestPingServer: error",!1,_)})}function Hn(d,_,x,I,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),I(x)}catch{}}function qa(){this.g=new hn}function As(d,_,x){const I=x||"";try{Va(d,function(Q,ee){let he=Q;y(Q)&&(he=$l(Q)),_.push(I+ee+"="+encodeURIComponent(he))})}catch(Q){throw _.push(I+"type="+encodeURIComponent("_badmap")),Q}}function Ki(d){this.l=d.Ub||null,this.j=d.eb||!1}M(Ki,Ql),Ki.prototype.g=function(){return new Js(this.l,this.j)},Ki.prototype.i=function(d){return function(){return d}}({});function Js(d,_){It.call(this),this.D=d,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(Js,It),s=Js.prototype,s.open=function(d,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=_,this.readyState=1,ws(this)},s.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(_.body=d),(this.D||m).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ss(this)),this.readyState=0},s.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,ws(this)),this.g&&(this.readyState=3,ws(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;io(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function io(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}s.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var _=d.value?d.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!d.done}))&&(this.response=this.responseText+=_)}d.done?Ss(this):ws(this),this.readyState==3&&io(this)}},s.Ra=function(d){this.g&&(this.response=this.responseText=d,Ss(this))},s.Qa=function(d){this.g&&(this.response=d,Ss(this))},s.ga=function(){this.g&&Ss(this)};function Ss(d){d.readyState=4,d.l=null,d.j=null,d.v=null,ws(d)}s.setRequestHeader=function(d,_){this.u.append(d,_)},s.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],_=this.h.entries();for(var x=_.next();!x.done;)x=x.value,d.push(x[0]+": "+x[1]),x=_.next();return d.join(`\r
`)};function ws(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Js.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function ao(d){let _="";return de(d,function(x,I){_+=I,_+=":",_+=x,_+=`\r
`}),_}function zt(d,_,x){e:{for(I in x){var I=!1;break e}I=!0}I||(x=ao(x),typeof d=="string"?x!=null&&encodeURIComponent(String(x)):$e(d,_,x))}function Ze(d){It.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(Ze,It);var Pr=/^https?$/i,Ka=["POST","PUT"];s=Ze.prototype,s.Ha=function(d){this.J=d},s.ea=function(d,_,x,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);_=_?_.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Pa.g(),this.v=this.o?Hc(this.o):Hc(Pa),this.g.onreadystatechange=N(this.Ea,this);try{this.B=!0,this.g.open(_,String(d),!0),this.B=!1}catch(ee){Wc(this,ee);return}if(d=x||"",x=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var Q in I)x.set(Q,I[Q]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const ee of I.keys())x.set(ee,I.get(ee));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(x.keys()).find(ee=>ee.toLowerCase()=="content-type"),Q=m.FormData&&d instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Ka,_,void 0))||I||Q||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,he]of x)this.g.setRequestHeader(ee,he);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Fa(this),this.u=!0,this.g.send(d),this.u=!1}catch(ee){Wc(this,ee)}};function Wc(d,_){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=_,d.m=5,Ur(d),Ns(d)}function Ur(d){d.A||(d.A=!0,Bt(d,"complete"),Bt(d,"error"))}s.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Bt(this,"complete"),Bt(this,"abort"),Ns(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ns(this,!0)),Ze.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Vr(this):this.bb())},s.bb=function(){Vr(this)};function Vr(d){if(d.h&&typeof h<"u"&&(!d.v[1]||zn(d)!=4||d.Z()!=2)){if(d.u&&zn(d)==4)Bc(d.Ea,0,d);else if(Bt(d,"readystatechange"),zn(d)==4){d.h=!1;try{const he=d.Z();e:switch(he){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var x;if(!(x=_)){var I;if(I=he===0){var Q=String(d.D).match(eo)[1]||null;!Q&&m.self&&m.self.location&&(Q=m.self.location.protocol.slice(0,-1)),I=!Pr.test(Q?Q.toLowerCase():"")}x=I}if(x)Bt(d,"complete"),Bt(d,"success");else{d.m=6;try{var ee=2<zn(d)?d.g.statusText:""}catch{ee=""}d.l=ee+" ["+d.Z()+"]",Ur(d)}}finally{Ns(d)}}}}function Ns(d,_){if(d.g){Fa(d);const x=d.g,I=d.v[0]?()=>{}:null;d.g=null,d.v=null,_||Bt(d,"ready");try{x.onreadystatechange=I}catch{}}}function Fa(d){d.I&&(m.clearTimeout(d.I),d.I=null)}s.isActive=function(){return!!this.g};function zn(d){return d.g?d.g.readyState:0}s.Z=function(){try{return 2<zn(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(d){if(this.g){var _=this.g.responseText;return d&&_.indexOf(d)==0&&(_=_.substring(d.length)),vs(_)}};function Xc(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Ih(d){const _={};d=(d.g&&2<=zn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<d.length;I++){if(G(d[I]))continue;var x=S(d[I]);const Q=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const ee=_[Q]||[];_[Q]=ee,ee.push(x)}D(_,function(I){return I.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ga(d,_,x){return x&&x.internalChannelParams&&x.internalChannelParams[d]||_}function Br(d){this.Aa=0,this.i=[],this.j=new Mi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ga("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ga("baseRetryDelayMs",5e3,d),this.cb=Ga("retryDelaySeedMs",1e4,d),this.Wa=Ga("forwardChannelMaxRetries",2,d),this.wa=Ga("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Zl(d&&d.concurrentRequestLimit),this.Da=new qa,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=Br.prototype,s.la=8,s.G=1,s.connect=function(d,_,x,I){bt(0),this.W=d,this.H=_||{},x&&I!==void 0&&(this.H.OSID=x,this.H.OAID=I),this.F=this.X,this.I=iu(this,null,this.W),zr(this)};function ro(d){if(Zc(d),d.G==3){var _=d.U++,x=gt(d.I);if($e(x,"SID",d.K),$e(x,"RID",_),$e(x,"TYPE","terminate"),$a(d,x),_=new bs(d,d.j,_),_.L=2,_.v=Ha(gt(x)),x=!1,m.navigator&&m.navigator.sendBeacon)try{x=m.navigator.sendBeacon(_.v.toString(),"")}catch{}!x&&m.Image&&(new Image().src=_.v,x=!0),x||(_.g=au(_.j,null),_.g.ea(_.v)),_.F=Date.now(),ut(_)}su(d)}function Hr(d){d.g&&(Qa(d),d.g.cancel(),d.g=null)}function Zc(d){Hr(d),d.u&&(m.clearTimeout(d.u),d.u=null),qr(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&m.clearTimeout(d.s),d.s=null)}function zr(d){if(!Jl(d.h)&&!d.s){d.s=!0;var _=d.Ga;X||L(),ce||(X(),ce=!0),ve.add(_,d),d.B=0}}function jh(d,_){return Gc(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=_.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Oi(N(d.Ga,d,_),co(d,d.B)),d.B++,!0)}s.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const Q=new bs(this,this.j,d);let ee=this.o;if(this.S&&(ee?(ee=k(ee),T(ee,this.S)):ee=this.S),this.m!==null||this.O||(Q.H=ee,ee=null),this.P)e:{for(var _=0,x=0;x<this.i.length;x++){t:{var I=this.i[x];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(_+=I,4096<_){_=x;break e}if(_===4096||x===this.i.length-1){_=x+1;break e}}_=1e3}else _=1e3;_=Jc(this,Q,_),x=gt(this.I),$e(x,"RID",d),$e(x,"CVER",22),this.D&&$e(x,"X-HTTP-Session-Id",this.D),$a(this,x),ee&&(this.O?_="headers="+encodeURIComponent(String(ao(ee)))+"&"+_:this.m&&zt(x,this.m,ee)),Hi(this.h,Q),this.Ua&&$e(x,"TYPE","init"),this.P?($e(x,"$req",_),$e(x,"SID","null"),Q.T=!0,ss(Q,x,null)):ss(Q,x,_),this.G=2}}else this.G==3&&(d?lo(this,d):this.i.length==0||Jl(this.h)||lo(this))};function lo(d,_){var x;_?x=_.l:x=d.U++;const I=gt(d.I);$e(I,"SID",d.K),$e(I,"RID",x),$e(I,"AID",d.T),$a(d,I),d.m&&d.o&&zt(I,d.m,d.o),x=new bs(d,d.j,x,d.B+1),d.m===null&&(x.H=d.o),_&&(d.i=_.D.concat(d.i)),_=Jc(d,x,1e3),x.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Hi(d.h,x),ss(x,I,_)}function $a(d,_){d.H&&de(d.H,function(x,I){$e(_,I,x)}),d.l&&Va({},function(x,I){$e(_,I,x)})}function Jc(d,_,x){x=Math.min(d.i.length,x);var I=d.l?N(d.l.Na,d.l,d):null;e:{var Q=d.i;let ee=-1;for(;;){const he=["count="+x];ee==-1?0<x?(ee=Q[0].g,he.push("ofs="+ee)):ee=0:he.push("ofs="+ee);let ze=!0;for(let Dt=0;Dt<x;Dt++){let qe=Q[Dt].g;const qt=Q[Dt].map;if(qe-=ee,0>qe)ee=Math.max(0,Q[Dt].g-100),ze=!1;else try{As(qt,he,"req"+qe+"_")}catch{I&&I(qt)}}if(ze){I=he.join("&");break e}}}return d=d.i.splice(0,x),_.D=d,I}function eu(d){if(!d.g&&!d.u){d.Y=1;var _=d.Fa;X||L(),ce||(X(),ce=!0),ve.add(_,d),d.v=0}}function oo(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Oi(N(d.Fa,d),co(d,d.v)),d.v++,!0)}s.Fa=function(){if(this.u=null,tu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Oi(N(this.ab,this),d)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,bt(10),Hr(this),tu(this))};function Qa(d){d.A!=null&&(m.clearTimeout(d.A),d.A=null)}function tu(d){d.g=new bs(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var _=gt(d.qa);$e(_,"RID","rpc"),$e(_,"SID",d.K),$e(_,"AID",d.T),$e(_,"CI",d.F?"0":"1"),!d.F&&d.ja&&$e(_,"TO",d.ja),$e(_,"TYPE","xmlhttp"),$a(d,_),d.m&&d.o&&zt(_,d.m,d.o),d.L&&(d.g.I=d.L);var x=d.g;d=d.ia,x.L=1,x.v=Ha(gt(_)),x.m=null,x.P=!0,Qs(x,d)}s.Za=function(){this.C!=null&&(this.C=null,Hr(this),oo(this),bt(19))};function qr(d){d.C!=null&&(m.clearTimeout(d.C),d.C=null)}function nu(d,_){var x=null;if(d.g==_){qr(d),Qa(d),d.g=null;var I=2}else if(Bi(d.h,_))x=_.D,Un(d.h,_),I=1;else return;if(d.G!=0){if(_.o)if(I==1){x=_.m?_.m.length:0,_=Date.now()-_.F;var Q=d.B;I=Cr(),Bt(I,new qc(I,x)),zr(d)}else eu(d);else if(Q=_.s,Q==3||Q==0&&0<_.X||!(I==1&&jh(d,_)||I==2&&oo(d)))switch(x&&0<x.length&&(_=d.h,_.i=_.i.concat(x)),Q){case 1:ei(d,5);break;case 4:ei(d,10);break;case 3:ei(d,6);break;default:ei(d,2)}}}function co(d,_){let x=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(x*=2),x*_}function ei(d,_){if(d.j.info("Error code "+_),_==2){var x=N(d.fb,d),I=d.Xa;const Q=!I;I=new Ys(I||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||zi(I,"https"),Ha(I),Q?Yc(I.toString(),x):za(I.toString(),x)}else bt(2);d.G=0,d.l&&d.l.sa(_),su(d),Zc(d)}s.fb=function(d){d?(this.j.info("Successfully pinged google.com"),bt(2)):(this.j.info("Failed to ping google.com"),bt(1))};function su(d){if(d.G=0,d.ka=[],d.l){const _=fn(d.h);(_.length!=0||d.i.length!=0)&&(V(d.ka,_),V(d.ka,d.i),d.h.i.length=0,B(d.i),d.i.length=0),d.l.ra()}}function iu(d,_,x){var I=x instanceof Ys?gt(x):new Ys(x);if(I.g!="")_&&(I.g=_+"."+I.g),Ba(I,I.s);else{var Q=m.location;I=Q.protocol,_=_?_+"."+Q.hostname:Q.hostname,Q=+Q.port;var ee=new Ys(null);I&&zi(ee,I),_&&(ee.g=_),Q&&Ba(ee,Q),x&&(ee.l=x),I=ee}return x=d.D,_=d.ya,x&&_&&$e(I,x,_),$e(I,"VER",d.la),$a(d,I),I}function au(d,_,x){if(_&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=d.Ca&&!d.pa?new Ze(new Ki({eb:x})):new Ze(d.pa),_.Ha(d.J),_}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function ru(){}s=ru.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function Kr(){}Kr.prototype.g=function(d,_){return new mn(d,_)};function mn(d,_){It.call(this),this.g=new Br(_),this.l=d,this.h=_&&_.messageUrlParams||null,d=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(d?d["X-WebChannel-Content-Type"]=_.messageContentType:d={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(d?d["X-WebChannel-Client-Profile"]=_.va:d={"X-WebChannel-Client-Profile":_.va}),this.g.S=d,(d=_&&_.Sb)&&!G(d)&&(this.g.m=d),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!G(_)&&(this.g.D=_,d=this.h,d!==null&&_ in d&&(d=this.h,_ in d&&delete d[_])),this.j=new Rs(this)}M(mn,It),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){ro(this.g)},mn.prototype.o=function(d){var _=this.g;if(typeof d=="string"){var x={};x.__data__=d,d=x}else this.u&&(x={},x.__data__=$l(d),d=x);_.i.push(new wh(_.Ya++,d)),_.G==3&&zr(_)},mn.prototype.N=function(){this.g.l=null,delete this.j,ro(this.g),delete this.g,mn.aa.N.call(this)};function lu(d){Ii.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var _=d.__sm__;if(_){e:{for(const x in _){d=x;break e}d=void 0}(this.i=d)&&(d=this.i,_=_!==null&&d in _?_[d]:void 0),this.data=_}else this.data=d}M(lu,Ii);function ou(){ns.call(this),this.status=1}M(ou,ns);function Rs(d){this.g=d}M(Rs,ru),Rs.prototype.ua=function(){Bt(this.g,"a")},Rs.prototype.ta=function(d){Bt(this.g,new lu(d))},Rs.prototype.sa=function(d){Bt(this.g,new ou)},Rs.prototype.ra=function(){Bt(this.g,"b")},Kr.prototype.createWebChannel=Kr.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,cE=function(){return new Kr},oE=function(){return Cr()},lE=Pn,Xm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},jt.NO_ERROR=0,jt.TIMEOUT=8,jt.HTTP_ERROR=6,vd=jt,$s.COMPLETE="complete",rE=$s,zc.EventType=xs,xs.OPEN="a",xs.CLOSE="b",xs.ERROR="c",xs.MESSAGE="d",It.prototype.listen=It.prototype.K,sc=zc,Ze.prototype.listenOnce=Ze.prototype.L,Ze.prototype.getLastError=Ze.prototype.Ka,Ze.prototype.getLastErrorCode=Ze.prototype.Ba,Ze.prototype.getStatus=Ze.prototype.Z,Ze.prototype.getResponseJson=Ze.prototype.Oa,Ze.prototype.getResponseText=Ze.prototype.oa,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Ha,aE=Ze}).apply(typeof ld<"u"?ld:typeof self<"u"?self:typeof window<"u"?window:{});const rx="@firebase/firestore",lx="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pl="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vr=new Rg("@firebase/firestore");function yl(){return vr.logLevel}function ye(s,...e){if(vr.logLevel<=Pe.DEBUG){const t=e.map(Ig);vr.debug(`Firestore (${Pl}): ${s}`,...t)}}function Si(s,...e){if(vr.logLevel<=Pe.ERROR){const t=e.map(Ig);vr.error(`Firestore (${Pl}): ${s}`,...t)}}function wl(s,...e){if(vr.logLevel<=Pe.WARN){const t=e.map(Ig);vr.warn(`Firestore (${Pl}): ${s}`,...t)}}function Ig(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(s="Unexpected state"){const e=`FIRESTORE (${Pl}) INTERNAL ASSERTION FAILED: `+s;throw Si(e),new Error(e)}function Je(s,e){s||Ne()}function je(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends qs{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class NR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(cn.UNAUTHENTICATED))}shutdown(){}}class RR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class kR{constructor(e){this.t=e,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Je(this.o===void 0);let a=this.i;const l=p=>this.i!==a?(a=this.i,t(p)):Promise.resolve();let c=new Ei;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ei,e.enqueueRetryable(()=>l(this.currentUser))};const h=()=>{const p=c;e.enqueueRetryable(async()=>{await p.promise,await l(this.currentUser)})},m=p=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ei)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(a=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Je(typeof a.accessToken=="string"),new uE(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Je(e===null||typeof e=="string"),new cn(e)}}class CR{constructor(e,t,a){this.l=e,this.h=t,this.P=a,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class IR{constructor(e,t,a){this.l=e,this.h=t,this.P=a}getToken(){return Promise.resolve(new CR(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(cn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ox{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jR{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,jn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Je(this.o===void 0);const a=c=>{c.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const h=c.token!==this.R;return this.R=c.token,ye("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>a(c))};const l=c=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>l(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?l(c):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new ox(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Je(typeof t.token=="string"),this.R=t.token,new ox(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let a=0;a<s;a++)t[a]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=DR(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<t&&(a+=e.charAt(l[c]%62))}return a}}function Be(s,e){return s<e?-1:s>e?1:0}function Nl(s,e,t){return s.length===e.length&&s.every((a,l)=>t(a,e[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx=-62135596800,ux=1e6;class Ut{static now(){return Ut.fromMillis(Date.now())}static fromDate(e){return Ut.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),a=Math.floor((e-1e3*t)*ux);return new Ut(t,a)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new _e(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new _e(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<cx)throw new _e(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ux}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-cx;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new Ut(0,0))}static max(){return new Ce(new Ut(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx="__name__";class Ms{constructor(e,t,a){t===void 0?t=0:t>e.length&&Ne(),a===void 0?a=e.length-t:a>e.length-t&&Ne(),this.segments=e,this.offset=t,this.len=a}get length(){return this.len}isEqual(e){return Ms.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ms?e.forEach(a=>{t.push(a)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,a=this.limit();t<a;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const a=Math.min(e.length,t.length);for(let l=0;l<a;l++){const c=Ms.compareSegments(e.get(l),t.get(l));if(c!==0)return c}return Math.sign(e.length-t.length)}static compareSegments(e,t){const a=Ms.isNumericId(e),l=Ms.isNumericId(t);return a&&!l?-1:!a&&l?1:a&&l?Ms.extractNumericId(e).compare(Ms.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ea.fromString(e.substring(4,e.length-2))}}class rt extends Ms{construct(e,t,a){return new rt(e,t,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const a of e){if(a.indexOf("//")>=0)throw new _e(le.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);t.push(...a.split("/").filter(l=>l.length>0))}return new rt(t)}static emptyPath(){return new rt([])}}const OR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends Ms{construct(e,t,a){return new tn(e,t,a)}static isValidIdentifier(e){return OR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===dx}static keyField(){return new tn([dx])}static fromServerFormat(e){const t=[];let a="",l=0;const c=()=>{if(a.length===0)throw new _e(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(a),a=""};let h=!1;for(;l<e.length;){const m=e[l];if(m==="\\"){if(l+1===e.length)throw new _e(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new _e(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=p,l+=2}else m==="`"?(h=!h,l++):m!=="."||h?(a+=m,l++):(c(),l++)}if(c(),h)throw new _e(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tn(t)}static emptyPath(){return new tn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.path=e}static fromPath(e){return new Te(rt.fromString(e))}static fromName(e){return new Te(rt.fromString(e).popFirst(5))}static empty(){return new Te(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return rt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new rt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gc=-1;function MR(s,e){const t=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=Ce.fromTimestamp(a===1e9?new Ut(t+1,0):new Ut(t,a));return new Aa(l,Te.empty(),e)}function LR(s){return new Aa(s.readTime,s.key,gc)}class Aa{constructor(e,t,a){this.readTime=e,this.documentKey=t,this.largestBatchId=a}static min(){return new Aa(Ce.min(),Te.empty(),gc)}static max(){return new Aa(Ce.max(),Te.empty(),gc)}}function PR(s,e){let t=s.readTime.compareTo(e.readTime);return t!==0?t:(t=Te.comparator(s.documentKey,e.documentKey),t!==0?t:Be(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class VR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ul(s){if(s.code!==le.FAILED_PRECONDITION||s.message!==UR)throw s;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ne(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new oe((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(t,c).next(a,l)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof oe?t:oe.resolve(t)}catch(t){return oe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):oe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):oe.reject(t)}static resolve(e){return new oe((t,a)=>{t(e)})}static reject(e){return new oe((t,a)=>{a(e)})}static waitFor(e){return new oe((t,a)=>{let l=0,c=0,h=!1;e.forEach(m=>{++l,m.next(()=>{++c,h&&c===l&&t()},p=>a(p))}),h=!0,c===l&&t()})}static or(e){let t=oe.resolve(!1);for(const a of e)t=t.next(l=>l?oe.resolve(l):a());return t}static forEach(e,t){const a=[];return e.forEach((l,c)=>{a.push(t.call(this,l,c))}),this.waitFor(a)}static mapArray(e,t){return new oe((a,l)=>{const c=e.length,h=new Array(c);let m=0;for(let p=0;p<c;p++){const y=p;t(e[y]).next(v=>{h[y]=v,++m,m===c&&a(h)},v=>l(v))}})}static doWhile(e,t){return new oe((a,l)=>{const c=()=>{e()===!0?t().next(()=>{c()},l):a()};c()})}}function BR(s){const e=s.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Vl(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=a=>this.oe(a),this._e=a=>t.writeSequenceNumber(a))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}th.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jg=-1;function nh(s){return s==null}function Dd(s){return s===0&&1/s==-1/0}function HR(s){return typeof s=="number"&&Number.isInteger(s)&&!Dd(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE="";function zR(s){let e="";for(let t=0;t<s.length;t++)e.length>0&&(e=hx(e)),e=qR(s.get(t),e);return hx(e)}function qR(s,e){let t=e;const a=s.length;for(let l=0;l<a;l++){const c=s.charAt(l);switch(c){case"\0":t+="";break;case hE:t+="";break;default:t+=c}}return t}function hx(s){return s+hE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fx(s){let e=0;for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&e++;return e}function Ca(s,e){for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&e(t,s[t])}function fE(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,t){this.comparator=e,this.root=t||en.EMPTY}insert(e,t){return new ft(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,en.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,en.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const a=this.comparator(e,t.key);if(a===0)return t.value;a<0?t=t.left:a>0&&(t=t.right)}return null}indexOf(e){let t=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(e,a.key);if(l===0)return t+a.left.size;l<0?a=a.left:(t+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,a)=>(e(t,a),!1))}toString(){const e=[];return this.inorderTraversal((t,a)=>(e.push(`${t}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new od(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new od(this.root,e,this.comparator,!1)}getReverseIterator(){return new od(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new od(this.root,e,this.comparator,!0)}}class od{constructor(e,t,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?a(e.key,t):1,t&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class en{constructor(e,t,a,l,c){this.key=e,this.value=t,this.color=a??en.RED,this.left=l??en.EMPTY,this.right=c??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,a,l,c){return new en(e??this.key,t??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,a){let l=this;const c=a(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,t,a),null):c===0?l.copy(null,t,null,null,null):l.copy(null,null,null,null,l.right.insert(e,t,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let a,l=this;if(t(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,t),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),t(e,l.key)===0){if(l.right.isEmpty())return en.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,t))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ne();const e=this.left.check();if(e!==this.right.check())throw Ne();return e+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw Ne()}get value(){throw Ne()}get color(){throw Ne()}get left(){throw Ne()}get right(){throw Ne()}copy(e,t,a,l,c){return this}insert(e,t,a){return new en(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,a)=>(e(t),!1))}forEachInRange(e,t){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,e[1])>=0)return;t(l.key)}}forEachWhile(e,t){let a;for(a=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new mx(this.data.getIterator())}getIteratorFrom(e){return new mx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(a=>{t=t.add(a)}),t}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const t=this.data.getIterator(),a=e.data.getIterator();for(;t.hasNext();){const l=t.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Vt(this.comparator);return t.data=e,t}}class mx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.fields=e,e.sort(tn.comparator)}static empty(){return new Dn([])}unionWith(e){let t=new Vt(tn.comparator);for(const a of this.fields)t=t.add(a);for(const a of e)t=t.add(a);return new Dn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Nl(this.fields,e.fields,(t,a)=>t.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new mE("Invalid base64 string: "+c):c}}(e);return new sn(t)}static fromUint8Array(e){const t=function(l){let c="";for(let h=0;h<l.length;++h)c+=String.fromCharCode(l[h]);return c}(e);return new sn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const a=new Uint8Array(t.length);for(let l=0;l<t.length;l++)a[l]=t.charCodeAt(l);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}sn.EMPTY_BYTE_STRING=new sn("");const KR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Sa(s){if(Je(!!s),typeof s=="string"){let e=0;const t=KR.exec(s);if(Je(!!t),t[1]){let l=t[1];l=(l+"000000000").substr(0,9),e=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:At(s.seconds),nanos:At(s.nanos)}}function At(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function wa(s){return typeof s=="string"?sn.fromBase64String(s):sn.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE="server_timestamp",pE="__type__",yE="__previous_value__",_E="__local_write_time__";function Dg(s){var e,t;return((t=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[pE])===null||t===void 0?void 0:t.stringValue)===gE}function sh(s){const e=s.mapValue.fields[yE];return Dg(e)?sh(e):e}function pc(s){const e=Sa(s.mapValue.fields[_E].timestampValue);return new Ut(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(e,t,a,l,c,h,m,p,y){this.databaseId=e,this.appId=t,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y}}const Od="(default)";class yc{constructor(e,t){this.projectId=e,this.database=t||Od}static empty(){return new yc("","")}get isDefaultDatabase(){return this.database===Od}isEqual(e){return e instanceof yc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE="__type__",GR="__max__",cd={mapValue:{}},xE="__vector__",Md="value";function Na(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Dg(s)?4:QR(s)?9007199254740991:$R(s)?10:11:Ne()}function zs(s,e){if(s===e)return!0;const t=Na(s);if(t!==Na(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return pc(s).isEqual(pc(e));case 3:return function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const h=Sa(l.timestampValue),m=Sa(c.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(l,c){return wa(l.bytesValue).isEqual(wa(c.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(l,c){return At(l.geoPointValue.latitude)===At(c.geoPointValue.latitude)&&At(l.geoPointValue.longitude)===At(c.geoPointValue.longitude)}(s,e);case 2:return function(l,c){if("integerValue"in l&&"integerValue"in c)return At(l.integerValue)===At(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const h=At(l.doubleValue),m=At(c.doubleValue);return h===m?Dd(h)===Dd(m):isNaN(h)&&isNaN(m)}return!1}(s,e);case 9:return Nl(s.arrayValue.values||[],e.arrayValue.values||[],zs);case 10:case 11:return function(l,c){const h=l.mapValue.fields||{},m=c.mapValue.fields||{};if(fx(h)!==fx(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!zs(h[p],m[p])))return!1;return!0}(s,e);default:return Ne()}}function _c(s,e){return(s.values||[]).find(t=>zs(t,e))!==void 0}function Rl(s,e){if(s===e)return 0;const t=Na(s),a=Na(e);if(t!==a)return Be(t,a);switch(t){case 0:case 9007199254740991:return 0;case 1:return Be(s.booleanValue,e.booleanValue);case 2:return function(c,h){const m=At(c.integerValue||c.doubleValue),p=At(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(s,e);case 3:return gx(s.timestampValue,e.timestampValue);case 4:return gx(pc(s),pc(e));case 5:return Be(s.stringValue,e.stringValue);case 6:return function(c,h){const m=wa(c),p=wa(h);return m.compareTo(p)}(s.bytesValue,e.bytesValue);case 7:return function(c,h){const m=c.split("/"),p=h.split("/");for(let y=0;y<m.length&&y<p.length;y++){const v=Be(m[y],p[y]);if(v!==0)return v}return Be(m.length,p.length)}(s.referenceValue,e.referenceValue);case 8:return function(c,h){const m=Be(At(c.latitude),At(h.latitude));return m!==0?m:Be(At(c.longitude),At(h.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return px(s.arrayValue,e.arrayValue);case 10:return function(c,h){var m,p,y,v;const A=c.fields||{},N=h.fields||{},O=(m=A[Md])===null||m===void 0?void 0:m.arrayValue,M=(p=N[Md])===null||p===void 0?void 0:p.arrayValue,B=Be(((y=O==null?void 0:O.values)===null||y===void 0?void 0:y.length)||0,((v=M==null?void 0:M.values)===null||v===void 0?void 0:v.length)||0);return B!==0?B:px(O,M)}(s.mapValue,e.mapValue);case 11:return function(c,h){if(c===cd.mapValue&&h===cd.mapValue)return 0;if(c===cd.mapValue)return 1;if(h===cd.mapValue)return-1;const m=c.fields||{},p=Object.keys(m),y=h.fields||{},v=Object.keys(y);p.sort(),v.sort();for(let A=0;A<p.length&&A<v.length;++A){const N=Be(p[A],v[A]);if(N!==0)return N;const O=Rl(m[p[A]],y[v[A]]);if(O!==0)return O}return Be(p.length,v.length)}(s.mapValue,e.mapValue);default:throw Ne()}}function gx(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Be(s,e);const t=Sa(s),a=Sa(e),l=Be(t.seconds,a.seconds);return l!==0?l:Be(t.nanos,a.nanos)}function px(s,e){const t=s.values||[],a=e.values||[];for(let l=0;l<t.length&&l<a.length;++l){const c=Rl(t[l],a[l]);if(c)return c}return Be(t.length,a.length)}function kl(s){return Zm(s)}function Zm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(t){const a=Sa(t);return`time(${a.seconds},${a.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(t){return wa(t).toBase64()}(s.bytesValue):"referenceValue"in s?function(t){return Te.fromName(t).toString()}(s.referenceValue):"geoPointValue"in s?function(t){return`geo(${t.latitude},${t.longitude})`}(s.geoPointValue):"arrayValue"in s?function(t){let a="[",l=!0;for(const c of t.values||[])l?l=!1:a+=",",a+=Zm(c);return a+"]"}(s.arrayValue):"mapValue"in s?function(t){const a=Object.keys(t.fields||{}).sort();let l="{",c=!0;for(const h of a)c?c=!1:l+=",",l+=`${h}:${Zm(t.fields[h])}`;return l+"}"}(s.mapValue):Ne()}function xd(s){switch(Na(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=sh(s);return e?16+xd(e):16;case 5:return 2*s.stringValue.length;case 6:return wa(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((l,c)=>l+xd(c),0)}(s.arrayValue);case 10:case 11:return function(a){let l=0;return Ca(a.fields,(c,h)=>{l+=c.length+xd(h)}),l}(s.mapValue);default:throw Ne()}}function yx(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Jm(s){return!!s&&"integerValue"in s}function Og(s){return!!s&&"arrayValue"in s}function _x(s){return!!s&&"nullValue"in s}function vx(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Ed(s){return!!s&&"mapValue"in s}function $R(s){var e,t;return((t=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[vE])===null||t===void 0?void 0:t.stringValue)===xE}function lc(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return Ca(s.mapValue.fields,(t,a)=>e.mapValue.fields[t]=lc(a)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(s.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=lc(s.arrayValue.values[t]);return e}return Object.assign({},s)}function QR(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===GR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.value=e}static empty(){return new Tn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let a=0;a<e.length-1;++a)if(t=(t.mapValue.fields||{})[e.get(a)],!Ed(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=lc(t)}setAll(e){let t=tn.emptyPath(),a={},l=[];e.forEach((h,m)=>{if(!t.isImmediateParentOf(m)){const p=this.getFieldsMap(t);this.applyChanges(p,a,l),a={},l=[],t=m.popLast()}h?a[m.lastSegment()]=lc(h):l.push(m.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,a,l)}delete(e){const t=this.field(e.popLast());Ed(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return zs(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let a=0;a<e.length;++a){let l=t.mapValue.fields[e.get(a)];Ed(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},t.mapValue.fields[e.get(a)]=l),t=l}return t.mapValue.fields}applyChanges(e,t,a){Ca(t,(l,c)=>e[l]=c);for(const l of a)delete e[l]}clone(){return new Tn(lc(this.value))}}function EE(s){const e=[];return Ca(s.fields,(t,a)=>{const l=new tn([t]);if(Ed(a)){const c=EE(a.mapValue).fields;if(c.length===0)e.push(l);else for(const h of c)e.push(l.child(h))}else e.push(l)}),new Dn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e,t,a,l,c,h,m){this.key=e,this.documentType=t,this.version=a,this.readTime=l,this.createTime=c,this.data=h,this.documentState=m}static newInvalidDocument(e){return new un(e,0,Ce.min(),Ce.min(),Ce.min(),Tn.empty(),0)}static newFoundDocument(e,t,a,l){return new un(e,1,t,Ce.min(),a,l,0)}static newNoDocument(e,t){return new un(e,2,t,Ce.min(),Ce.min(),Tn.empty(),0)}static newUnknownDocument(e,t){return new un(e,3,t,Ce.min(),Ce.min(),Tn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,t){this.position=e,this.inclusive=t}}function xx(s,e,t){let a=0;for(let l=0;l<s.position.length;l++){const c=e[l],h=s.position[l];if(c.field.isKeyField()?a=Te.comparator(Te.fromName(h.referenceValue),t.key):a=Rl(h,t.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function Ex(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let t=0;t<s.position.length;t++)if(!zs(s.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,t="asc"){this.field=e,this.dir=t}}function YR(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{}class kt extends bE{constructor(e,t,a){super(),this.field=e,this.op=t,this.value=a}static create(e,t,a){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,a):new XR(e,t,a):t==="array-contains"?new ek(e,a):t==="in"?new tk(e,a):t==="not-in"?new nk(e,a):t==="array-contains-any"?new sk(e,a):new kt(e,t,a)}static createKeyFieldInFilter(e,t,a){return t==="in"?new ZR(e,a):new JR(e,a)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Rl(t,this.value)):t!==null&&Na(this.value)===Na(t)&&this.matchesComparison(Rl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ne()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class cs extends bE{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new cs(e,t)}matches(e){return TE(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function TE(s){return s.op==="and"}function AE(s){return WR(s)&&TE(s)}function WR(s){for(const e of s.filters)if(e instanceof cs)return!1;return!0}function eg(s){if(s instanceof kt)return s.field.canonicalString()+s.op.toString()+kl(s.value);if(AE(s))return s.filters.map(e=>eg(e)).join(",");{const e=s.filters.map(t=>eg(t)).join(",");return`${s.op}(${e})`}}function SE(s,e){return s instanceof kt?function(a,l){return l instanceof kt&&a.op===l.op&&a.field.isEqual(l.field)&&zs(a.value,l.value)}(s,e):s instanceof cs?function(a,l){return l instanceof cs&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce((c,h,m)=>c&&SE(h,l.filters[m]),!0):!1}(s,e):void Ne()}function wE(s){return s instanceof kt?function(t){return`${t.field.canonicalString()} ${t.op} ${kl(t.value)}`}(s):s instanceof cs?function(t){return t.op.toString()+" {"+t.getFilters().map(wE).join(" ,")+"}"}(s):"Filter"}class XR extends kt{constructor(e,t,a){super(e,t,a),this.key=Te.fromName(a.referenceValue)}matches(e){const t=Te.comparator(e.key,this.key);return this.matchesComparison(t)}}class ZR extends kt{constructor(e,t){super(e,"in",t),this.keys=NE("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class JR extends kt{constructor(e,t){super(e,"not-in",t),this.keys=NE("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function NE(s,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(a=>Te.fromName(a.referenceValue))}class ek extends kt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Og(t)&&_c(t.arrayValue,this.value)}}class tk extends kt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&_c(this.value.arrayValue,t)}}class nk extends kt{constructor(e,t){super(e,"not-in",t)}matches(e){if(_c(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!_c(this.value.arrayValue,t)}}class sk extends kt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Og(t)||!t.arrayValue.values)&&t.arrayValue.values.some(a=>_c(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(e,t=null,a=[],l=[],c=null,h=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=h,this.endAt=m,this.le=null}}function bx(s,e=null,t=[],a=[],l=null,c=null,h=null){return new ik(s,e,t,a,l,c,h)}function Mg(s){const e=je(s);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(a=>eg(a)).join(","),t+="|ob:",t+=e.orderBy.map(a=>function(c){return c.field.canonicalString()+c.dir}(a)).join(","),nh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(a=>kl(a)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(a=>kl(a)).join(",")),e.le=t}return e.le}function Lg(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<s.orderBy.length;t++)if(!YR(s.orderBy[t],e.orderBy[t]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let t=0;t<s.filters.length;t++)if(!SE(s.filters[t],e.filters[t]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!Ex(s.startAt,e.startAt)&&Ex(s.endAt,e.endAt)}function tg(s){return Te.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,t=null,a=[],l=[],c=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=h,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function ak(s,e,t,a,l,c,h,m){return new Bl(s,e,t,a,l,c,h,m)}function Pg(s){return new Bl(s)}function Tx(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function RE(s){return s.collectionGroup!==null}function oc(s){const e=je(s);if(e.he===null){e.he=[];const t=new Set;for(const c of e.explicitOrderBy)e.he.push(c),t.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Vt(tn.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(e).forEach(c=>{t.has(c.canonicalString())||c.isKeyField()||e.he.push(new vc(c,a))}),t.has(tn.keyField().canonicalString())||e.he.push(new vc(tn.keyField(),a))}return e.he}function Us(s){const e=je(s);return e.Pe||(e.Pe=rk(e,oc(s))),e.Pe}function rk(s,e){if(s.limitType==="F")return bx(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(l=>{const c=l.dir==="desc"?"asc":"desc";return new vc(l.field,c)});const t=s.endAt?new Ld(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new Ld(s.startAt.position,s.startAt.inclusive):null;return bx(s.path,s.collectionGroup,e,s.filters,s.limit,t,a)}}function ng(s,e){const t=s.filters.concat([e]);return new Bl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),t,s.limit,s.limitType,s.startAt,s.endAt)}function Pd(s,e,t){return new Bl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,t,s.startAt,s.endAt)}function ih(s,e){return Lg(Us(s),Us(e))&&s.limitType===e.limitType}function kE(s){return`${Mg(Us(s))}|lt:${s.limitType}`}function _l(s){return`Query(target=${function(t){let a=t.path.canonicalString();return t.collectionGroup!==null&&(a+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(a+=`, filters: [${t.filters.map(l=>wE(l)).join(", ")}]`),nh(t.limit)||(a+=", limit: "+t.limit),t.orderBy.length>0&&(a+=`, orderBy: [${t.orderBy.map(l=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(l)).join(", ")}]`),t.startAt&&(a+=", startAt: ",a+=t.startAt.inclusive?"b:":"a:",a+=t.startAt.position.map(l=>kl(l)).join(",")),t.endAt&&(a+=", endAt: ",a+=t.endAt.inclusive?"a:":"b:",a+=t.endAt.position.map(l=>kl(l)).join(",")),`Target(${a})`}(Us(s))}; limitType=${s.limitType})`}function ah(s,e){return e.isFoundDocument()&&function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):Te.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)}(s,e)&&function(a,l){for(const c of oc(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0}(s,e)&&function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0}(s,e)&&function(a,l){return!(a.startAt&&!function(h,m,p){const y=xx(h,m,p);return h.inclusive?y<=0:y<0}(a.startAt,oc(a),l)||a.endAt&&!function(h,m,p){const y=xx(h,m,p);return h.inclusive?y>=0:y>0}(a.endAt,oc(a),l))}(s,e)}function lk(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function CE(s){return(e,t)=>{let a=!1;for(const l of oc(s)){const c=ok(l,e,t);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function ok(s,e,t){const a=s.field.isKeyField()?Te.comparator(e.key,t.key):function(c,h,m){const p=h.data.field(c),y=m.data.field(c);return p!==null&&y!==null?Rl(p,y):Ne()}(s.field,e,t);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return Ne()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),a=this.inner[t];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,t){const a=this.mapKeyFn(e),l=this.inner[a];if(l===void 0)return this.inner[a]=[[e,t]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,t]);l.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),a=this.inner[t];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return a.length===1?delete this.inner[t]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Ca(this.inner,(t,a)=>{for(const[l,c]of a)e(l,c)})}isEmpty(){return fE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ck=new ft(Te.comparator);function wi(){return ck}const IE=new ft(Te.comparator);function ic(...s){let e=IE;for(const t of s)e=e.insert(t.key,t);return e}function jE(s){let e=IE;return s.forEach((t,a)=>e=e.insert(t,a.overlayedDocument)),e}function mr(){return cc()}function DE(){return cc()}function cc(){return new wr(s=>s.toString(),(s,e)=>s.isEqual(e))}const uk=new ft(Te.comparator),dk=new Vt(Te.comparator);function Ue(...s){let e=dk;for(const t of s)e=e.add(t);return e}const hk=new Vt(Be);function fk(){return hk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ug(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dd(e)?"-0":e}}function OE(s){return{integerValue:""+s}}function mk(s,e){return HR(e)?OE(e):Ug(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(){this._=void 0}}function gk(s,e,t){return s instanceof Ud?function(l,c){const h={fields:{[pE]:{stringValue:gE},[_E]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Dg(c)&&(c=sh(c)),c&&(h.fields[yE]=c),{mapValue:h}}(t,e):s instanceof xc?LE(s,e):s instanceof Ec?PE(s,e):function(l,c){const h=ME(l,c),m=Ax(h)+Ax(l.Ie);return Jm(h)&&Jm(l.Ie)?OE(m):Ug(l.serializer,m)}(s,e)}function pk(s,e,t){return s instanceof xc?LE(s,e):s instanceof Ec?PE(s,e):t}function ME(s,e){return s instanceof Vd?function(a){return Jm(a)||function(c){return!!c&&"doubleValue"in c}(a)}(e)?e:{integerValue:0}:null}class Ud extends rh{}class xc extends rh{constructor(e){super(),this.elements=e}}function LE(s,e){const t=UE(e);for(const a of s.elements)t.some(l=>zs(l,a))||t.push(a);return{arrayValue:{values:t}}}class Ec extends rh{constructor(e){super(),this.elements=e}}function PE(s,e){let t=UE(e);for(const a of s.elements)t=t.filter(l=>!zs(l,a));return{arrayValue:{values:t}}}class Vd extends rh{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function Ax(s){return At(s.integerValue||s.doubleValue)}function UE(s){return Og(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function yk(s,e){return s.field.isEqual(e.field)&&function(a,l){return a instanceof xc&&l instanceof xc||a instanceof Ec&&l instanceof Ec?Nl(a.elements,l.elements,zs):a instanceof Vd&&l instanceof Vd?zs(a.Ie,l.Ie):a instanceof Ud&&l instanceof Ud}(s.transform,e.transform)}class _k{constructor(e,t){this.version=e,this.transformResults=t}}class Jn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Jn}static exists(e){return new Jn(void 0,e)}static updateTime(e){return new Jn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bd(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class lh{}function VE(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Vg(s.key,Jn.none()):new Nc(s.key,s.data,Jn.none());{const t=s.data,a=Tn.empty();let l=new Vt(tn.comparator);for(let c of e.fields)if(!l.has(c)){let h=t.field(c);h===null&&c.length>1&&(c=c.popLast(),h=t.field(c)),h===null?a.delete(c):a.set(c,h),l=l.add(c)}return new Ia(s.key,a,new Dn(l.toArray()),Jn.none())}}function vk(s,e,t){s instanceof Nc?function(l,c,h){const m=l.value.clone(),p=wx(l.fieldTransforms,c,h.transformResults);m.setAll(p),c.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(s,e,t):s instanceof Ia?function(l,c,h){if(!bd(l.precondition,c))return void c.convertToUnknownDocument(h.version);const m=wx(l.fieldTransforms,c,h.transformResults),p=c.data;p.setAll(BE(l)),p.setAll(m),c.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(s,e,t):function(l,c,h){c.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function uc(s,e,t,a){return s instanceof Nc?function(c,h,m,p){if(!bd(c.precondition,h))return m;const y=c.value.clone(),v=Nx(c.fieldTransforms,p,h);return y.setAll(v),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null}(s,e,t,a):s instanceof Ia?function(c,h,m,p){if(!bd(c.precondition,h))return m;const y=Nx(c.fieldTransforms,p,h),v=h.data;return v.setAll(BE(c)),v.setAll(y),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(A=>A.field))}(s,e,t,a):function(c,h,m){return bd(c.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(s,e,t)}function xk(s,e){let t=null;for(const a of s.fieldTransforms){const l=e.data.field(a.field),c=ME(a.transform,l||null);c!=null&&(t===null&&(t=Tn.empty()),t.set(a.field,c))}return t||null}function Sx(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Nl(a,l,(c,h)=>yk(c,h))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Nc extends lh{constructor(e,t,a,l=[]){super(),this.key=e,this.value=t,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Ia extends lh{constructor(e,t,a,l,c=[]){super(),this.key=e,this.data=t,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function BE(s){const e=new Map;return s.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const a=s.data.field(t);e.set(t,a)}}),e}function wx(s,e,t){const a=new Map;Je(s.length===t.length);for(let l=0;l<t.length;l++){const c=s[l],h=c.transform,m=e.data.field(c.field);a.set(c.field,pk(h,m,t[l]))}return a}function Nx(s,e,t){const a=new Map;for(const l of s){const c=l.transform,h=t.data.field(l.field);a.set(l.field,gk(c,h,e))}return a}class Vg extends lh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ek extends lh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(e,t,a,l){this.batchId=e,this.localWriteTime=t,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(e,t){const a=t.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&vk(c,e,a[l])}}applyToLocalView(e,t){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(t=uc(a,e,t,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(t=uc(a,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const a=DE();return this.mutations.forEach(l=>{const c=e.get(l.key),h=c.overlayedDocument;let m=this.applyToLocalView(h,c.mutatedFields);m=t.has(l.key)?null:m;const p=VE(h,m);p!==null&&a.set(l.key,p),h.isValidDocument()||h.convertToNoDocument(Ce.min())}),a}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ue())}isEqual(e){return this.batchId===e.batchId&&Nl(this.mutations,e.mutations,(t,a)=>Sx(t,a))&&Nl(this.baseMutations,e.baseMutations,(t,a)=>Sx(t,a))}}class Bg{constructor(e,t,a,l){this.batch=e,this.commitVersion=t,this.mutationResults=a,this.docVersions=l}static from(e,t,a){Je(e.mutations.length===a.length);let l=function(){return uk}();const c=e.mutations;for(let h=0;h<c.length;h++)l=l.insert(c[h].key,a[h].version);return new Bg(e,t,a,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rt,Fe;function Sk(s){switch(s){case le.OK:return Ne();case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0;default:return Ne()}}function HE(s){if(s===void 0)return Si("GRPC error has no .code"),le.UNKNOWN;switch(s){case Rt.OK:return le.OK;case Rt.CANCELLED:return le.CANCELLED;case Rt.UNKNOWN:return le.UNKNOWN;case Rt.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case Rt.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case Rt.INTERNAL:return le.INTERNAL;case Rt.UNAVAILABLE:return le.UNAVAILABLE;case Rt.UNAUTHENTICATED:return le.UNAUTHENTICATED;case Rt.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case Rt.NOT_FOUND:return le.NOT_FOUND;case Rt.ALREADY_EXISTS:return le.ALREADY_EXISTS;case Rt.PERMISSION_DENIED:return le.PERMISSION_DENIED;case Rt.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case Rt.ABORTED:return le.ABORTED;case Rt.OUT_OF_RANGE:return le.OUT_OF_RANGE;case Rt.UNIMPLEMENTED:return le.UNIMPLEMENTED;case Rt.DATA_LOSS:return le.DATA_LOSS;default:return Ne()}}(Fe=Rt||(Rt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nk=new Ea([4294967295,4294967295],0);function Rx(s){const e=wk().encode(s),t=new iE;return t.update(e),new Uint8Array(t.digest())}function kx(s){const e=new DataView(s.buffer),t=e.getUint32(0,!0),a=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Ea([t,a],0),new Ea([l,c],0)]}class Hg{constructor(e,t,a){if(this.bitmap=e,this.padding=t,this.hashCount=a,t<0||t>=8)throw new ac(`Invalid padding: ${t}`);if(a<0)throw new ac(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new ac(`Invalid hash count: ${a}`);if(e.length===0&&t!==0)throw new ac(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Ea.fromNumber(this.Ee)}Ae(e,t,a){let l=e.add(t.multiply(Ea.fromNumber(a)));return l.compare(Nk)===1&&(l=new Ea([l.getBits(0),l.getBits(1)],0)),l.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=Rx(e),[a,l]=kx(t);for(let c=0;c<this.hashCount;c++){const h=this.Ae(a,l,c);if(!this.Re(h))return!1}return!0}static create(e,t,a){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),h=new Hg(c,l,t);return a.forEach(m=>h.insert(m)),h}insert(e){if(this.Ee===0)return;const t=Rx(e),[a,l]=kx(t);for(let c=0;c<this.hashCount;c++){const h=this.Ae(a,l,c);this.Ve(h)}}Ve(e){const t=Math.floor(e/8),a=e%8;this.bitmap[t]|=1<<a}}class ac extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,t,a,l,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,a){const l=new Map;return l.set(e,Rc.createSynthesizedTargetChangeForCurrentChange(e,t,a)),new oh(Ce.min(),l,new ft(Be),wi(),Ue())}}class Rc{constructor(e,t,a,l,c){this.resumeToken=e,this.current=t,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,a){return new Rc(a,t,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e,t,a,l){this.me=e,this.removedTargetIds=t,this.key=a,this.fe=l}}class zE{constructor(e,t){this.targetId=e,this.ge=t}}class qE{constructor(e,t,a=sn.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=t,this.resumeToken=a,this.cause=l}}class Cx{constructor(){this.pe=0,this.ye=Ix(),this.we=sn.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Ue(),t=Ue(),a=Ue();return this.ye.forEach((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:t=t.add(l);break;case 1:a=a.add(l);break;default:Ne()}}),new Rc(this.we,this.be,e,t,a)}Me(){this.Se=!1,this.ye=Ix()}xe(e,t){this.Se=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Je(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class Rk{constructor(e){this.ke=e,this.qe=new Map,this.Qe=wi(),this.$e=ud(),this.Ke=ud(),this.Ue=new ft(Be)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const a=this.He(t);switch(e.state){case 0:this.Je(t)&&a.Ce(e.resumeToken);break;case 1:a.Be(),a.De||a.Me(),a.Ce(e.resumeToken);break;case 2:a.Be(),a.De||this.removeTarget(t);break;case 3:this.Je(t)&&(a.Le(),a.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),a.Ce(e.resumeToken));break;default:Ne()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((a,l)=>{this.Je(l)&&t(l)})}Ze(e){const t=e.targetId,a=e.ge.count,l=this.Xe(t);if(l){const c=l.target;if(tg(c))if(a===0){const h=new Te(c.path);this.ze(t,h,un.newNoDocument(h,Ce.min()))}else Je(a===1);else{const h=this.et(t);if(h!==a){const m=this.tt(e),p=m?this.nt(m,e,h):1;if(p!==0){this.Ye(t);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,y)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=t;let h,m;try{h=wa(a).toUint8Array()}catch(p){if(p instanceof mE)return wl("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Hg(h,l,c)}catch(p){return wl(p instanceof ac?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(e,t,a){return t.ge.count===a-this.st(e,t.targetId)?0:2}st(e,t){const a=this.ke.getRemoteKeysForTarget(t);let l=0;return a.forEach(c=>{const h=this.ke.it(),m=`projects/${h.projectId}/databases/${h.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.ze(t,c,null),l++)}),l}ot(e){const t=new Map;this.qe.forEach((c,h)=>{const m=this.Xe(h);if(m){if(c.current&&tg(m.target)){const p=new Te(m.target.path);this._t(p).has(h)||this.ut(h,p)||this.ze(h,p,un.newNoDocument(p,e))}c.ve&&(t.set(h,c.Fe()),c.Me())}});let a=Ue();this.Ke.forEach((c,h)=>{let m=!0;h.forEachWhile(p=>{const y=this.Xe(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(a=a.add(c))}),this.Qe.forEach((c,h)=>h.setReadTime(e));const l=new oh(e,t,this.Ue,this.Qe,a);return this.Qe=wi(),this.$e=ud(),this.Ke=ud(),this.Ue=new ft(Be),l}Ge(e,t){if(!this.Je(e))return;const a=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,a),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,a){if(!this.Je(e))return;const l=this.He(e);this.ut(e,t)?l.xe(t,1):l.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),a&&(this.Qe=this.Qe.insert(t,a))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new Cx,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new Vt(Be),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Vt(Be),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||ye("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Cx),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function ud(){return new ft(Te.comparator)}function Ix(){return new ft(Te.comparator)}const kk={asc:"ASCENDING",desc:"DESCENDING"},Ck={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ik={and:"AND",or:"OR"};class jk{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function sg(s,e){return s.useProto3Json||nh(e)?e:{value:e}}function Bd(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function KE(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function Dk(s,e){return Bd(s,e.toTimestamp())}function Vs(s){return Je(!!s),Ce.fromTimestamp(function(t){const a=Sa(t);return new Ut(a.seconds,a.nanos)}(s))}function zg(s,e){return ig(s,e).canonicalString()}function ig(s,e){const t=function(l){return new rt(["projects",l.projectId,"databases",l.database])}(s).child("documents");return e===void 0?t:t.child(e)}function FE(s){const e=rt.fromString(s);return Je(WE(e)),e}function ag(s,e){return zg(s.databaseId,e.path)}function Lm(s,e){const t=FE(e);if(t.get(1)!==s.databaseId.projectId)throw new _e(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+s.databaseId.projectId);if(t.get(3)!==s.databaseId.database)throw new _e(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+s.databaseId.database);return new Te($E(t))}function GE(s,e){return zg(s.databaseId,e)}function Ok(s){const e=FE(s);return e.length===4?rt.emptyPath():$E(e)}function rg(s){return new rt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function $E(s){return Je(s.length>4&&s.get(4)==="documents"),s.popFirst(5)}function jx(s,e,t){return{name:ag(s,e),fields:t.value.mapValue.fields}}function Mk(s,e){let t;if("targetChange"in e){e.targetChange;const a=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ne()}(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=function(y,v){return y.useProto3Json?(Je(v===void 0||typeof v=="string"),sn.fromBase64String(v||"")):(Je(v===void 0||v instanceof Buffer||v instanceof Uint8Array),sn.fromUint8Array(v||new Uint8Array))}(s,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(y){const v=y.code===void 0?le.UNKNOWN:HE(y.code);return new _e(v,y.message||"")}(h);t=new qE(a,l,c,m||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const l=Lm(s,a.document.name),c=Vs(a.document.updateTime),h=a.document.createTime?Vs(a.document.createTime):Ce.min(),m=new Tn({mapValue:{fields:a.document.fields}}),p=un.newFoundDocument(l,c,h,m),y=a.targetIds||[],v=a.removedTargetIds||[];t=new Td(y,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const l=Lm(s,a.document),c=a.readTime?Vs(a.readTime):Ce.min(),h=un.newNoDocument(l,c),m=a.removedTargetIds||[];t=new Td([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const l=Lm(s,a.document),c=a.removedTargetIds||[];t=new Td([],c,l,null)}else{if(!("filter"in e))return Ne();{e.filter;const a=e.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,h=new Ak(l,c),m=a.targetId;t=new zE(m,h)}}return t}function Lk(s,e){let t;if(e instanceof Nc)t={update:jx(s,e.key,e.value)};else if(e instanceof Vg)t={delete:ag(s,e.key)};else if(e instanceof Ia)t={update:jx(s,e.key,e.data),updateMask:Fk(e.fieldMask)};else{if(!(e instanceof Ek))return Ne();t={verify:ag(s,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(a=>function(c,h){const m=h.transform;if(m instanceof Ud)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof xc)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Ec)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Vd)return{fieldPath:h.field.canonicalString(),increment:m.Ie};throw Ne()}(0,a))),e.precondition.isNone||(t.currentDocument=function(l,c){return c.updateTime!==void 0?{updateTime:Dk(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Ne()}(s,e.precondition)),t}function Pk(s,e){return s&&s.length>0?(Je(e!==void 0),s.map(t=>function(l,c){let h=l.updateTime?Vs(l.updateTime):Vs(c);return h.isEqual(Ce.min())&&(h=Vs(c)),new _k(h,l.transformResults||[])}(t,e))):[]}function Uk(s,e){return{documents:[GE(s,e.path)]}}function Vk(s,e){const t={structuredQuery:{}},a=e.path;let l;e.collectionGroup!==null?(l=a,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=a.popLast(),t.structuredQuery.from=[{collectionId:a.lastSegment()}]),t.parent=GE(s,l);const c=function(y){if(y.length!==0)return YE(cs.create(y,"and"))}(e.filters);c&&(t.structuredQuery.where=c);const h=function(y){if(y.length!==0)return y.map(v=>function(N){return{field:vl(N.field),direction:zk(N.dir)}}(v))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const m=sg(s,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ht:t,parent:l}}function Bk(s){let e=Ok(s.parent);const t=s.structuredQuery,a=t.from?t.from.length:0;let l=null;if(a>0){Je(a===1);const v=t.from[0];v.allDescendants?l=v.collectionId:e=e.child(v.collectionId)}let c=[];t.where&&(c=function(A){const N=QE(A);return N instanceof cs&&AE(N)?N.getFilters():[N]}(t.where));let h=[];t.orderBy&&(h=function(A){return A.map(N=>function(M){return new vc(xl(M.field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction))}(N))}(t.orderBy));let m=null;t.limit&&(m=function(A){let N;return N=typeof A=="object"?A.value:A,nh(N)?null:N}(t.limit));let p=null;t.startAt&&(p=function(A){const N=!!A.before,O=A.values||[];return new Ld(O,N)}(t.startAt));let y=null;return t.endAt&&(y=function(A){const N=!A.before,O=A.values||[];return new Ld(O,N)}(t.endAt)),ak(e,l,h,c,m,"F",p,y)}function Hk(s,e){const t=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ne()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function QE(s){return s.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const a=xl(t.unaryFilter.field);return kt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=xl(t.unaryFilter.field);return kt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=xl(t.unaryFilter.field);return kt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=xl(t.unaryFilter.field);return kt.create(h,"!=",{nullValue:"NULL_VALUE"});default:return Ne()}}(s):s.fieldFilter!==void 0?function(t){return kt.create(xl(t.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ne()}}(t.fieldFilter.op),t.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(t){return cs.create(t.compositeFilter.filters.map(a=>QE(a)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Ne()}}(t.compositeFilter.op))}(s):Ne()}function zk(s){return kk[s]}function qk(s){return Ck[s]}function Kk(s){return Ik[s]}function vl(s){return{fieldPath:s.canonicalString()}}function xl(s){return tn.fromServerFormat(s.fieldPath)}function YE(s){return s instanceof kt?function(t){if(t.op==="=="){if(vx(t.value))return{unaryFilter:{field:vl(t.field),op:"IS_NAN"}};if(_x(t.value))return{unaryFilter:{field:vl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(vx(t.value))return{unaryFilter:{field:vl(t.field),op:"IS_NOT_NAN"}};if(_x(t.value))return{unaryFilter:{field:vl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vl(t.field),op:qk(t.op),value:t.value}}}(s):s instanceof cs?function(t){const a=t.getFilters().map(l=>YE(l));return a.length===1?a[0]:{compositeFilter:{op:Kk(t.op),filters:a}}}(s):Ne()}function Fk(s){const e=[];return s.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function WE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e,t,a,l,c=Ce.min(),h=Ce.min(),m=sn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new _a(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new _a(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _a(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _a(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(e){this.Tt=e}}function $k(s){const e=Bk({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Pd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(){this.Tn=new Yk}addToCollectionParentIndex(e,t){return this.Tn.add(t),oe.resolve()}getCollectionParents(e,t){return oe.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return oe.resolve()}deleteFieldIndex(e,t){return oe.resolve()}deleteAllFieldIndexes(e){return oe.resolve()}createTargetIndexes(e,t){return oe.resolve()}getDocumentsMatchingTarget(e,t){return oe.resolve(null)}getIndexType(e,t){return oe.resolve(0)}getFieldIndexes(e,t){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,t){return oe.resolve(Aa.min())}getMinOffsetFromCollectionGroup(e,t){return oe.resolve(Aa.min())}updateCollectionGroup(e,t,a){return oe.resolve()}updateIndexEntries(e,t){return oe.resolve()}}class Yk{constructor(){this.index={}}add(e){const t=e.lastSegment(),a=e.popLast(),l=this.index[t]||new Vt(rt.comparator),c=!l.has(a);return this.index[t]=l.add(a),c}has(e){const t=e.lastSegment(),a=e.popLast(),l=this.index[t];return l&&l.has(a)}getEntries(e){return(this.index[e]||new Vt(rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},XE=41943040;class bn{static withCacheSize(e){return new bn(e,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bn.DEFAULT_COLLECTION_PERCENTILE=10,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bn.DEFAULT=new bn(XE,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bn.DISABLED=new bn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Cl(0)}static Un(){return new Cl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox="LruGarbageCollector",Wk=1048576;function Mx([s,e],[t,a]){const l=Be(s,t);return l===0?Be(e,a):l}class Xk{constructor(e){this.Hn=e,this.buffer=new Vt(Mx),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const a=this.buffer.last();Mx(t,a)<0&&(this.buffer=this.buffer.delete(a).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Zk{constructor(e,t,a){this.garbageCollector=e,this.asyncQueue=t,this.localStore=a,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ye(Ox,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Vl(t)?ye(Ox,"Ignoring IndexedDB error during garbage collection: ",t):await Ul(t)}await this.er(3e5)})}}class Jk{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(a=>Math.floor(t/100*a))}nthSequenceNumber(e,t){if(t===0)return oe.resolve(th.ae);const a=new Xk(t);return this.tr.forEachTarget(e,l=>a.Zn(l.sequenceNumber)).next(()=>this.tr.rr(e,l=>a.Zn(l))).next(()=>a.maxValue)}removeTargets(e,t,a){return this.tr.removeTargets(e,t,a)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(Dx)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Dx):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let a,l,c,h,m,p,y;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,h=Date.now(),this.nthSequenceNumber(e,l))).next(A=>(a=A,m=Date.now(),this.removeTargets(e,a,t))).next(A=>(c=A,p=Date.now(),this.removeOrphanedDocuments(e,a))).next(A=>(y=Date.now(),yl()<=Pe.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-v}ms
	Determined least recently used ${l} in `+(m-h)+`ms
	Removed ${c} targets in `+(p-m)+`ms
	Removed ${A} documents in `+(y-p)+`ms
Total Duration: ${y-v}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:A})))}}function eC(s,e){return new Jk(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(){this.changes=new wr(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,un.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const a=this.changes.get(t);return a!==void 0?oe.resolve(a):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e,t,a,l){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=a,this.indexManager=l}getDocument(e,t){let a=null;return this.documentOverlayCache.getOverlay(e,t).next(l=>(a=l,this.remoteDocumentCache.getEntry(e,t))).next(l=>(a!==null&&uc(a.mutation,l,Dn.empty(),Ut.now()),l))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(a=>this.getLocalViewOfDocuments(e,a,Ue()).next(()=>a))}getLocalViewOfDocuments(e,t,a=Ue()){const l=mr();return this.populateOverlays(e,l,t).next(()=>this.computeViews(e,t,l,a).next(c=>{let h=ic();return c.forEach((m,p)=>{h=h.insert(m,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const a=mr();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,Ue()))}populateOverlays(e,t,a){const l=[];return a.forEach(c=>{t.has(c)||l.push(c)}),this.documentOverlayCache.getOverlays(e,l).next(c=>{c.forEach((h,m)=>{t.set(h,m)})})}computeViews(e,t,a,l){let c=wi();const h=cc(),m=function(){return cc()}();return t.forEach((p,y)=>{const v=a.get(y.key);l.has(y.key)&&(v===void 0||v.mutation instanceof Ia)?c=c.insert(y.key,y):v!==void 0?(h.set(y.key,v.mutation.getFieldMask()),uc(v.mutation,y,v.mutation.getFieldMask(),Ut.now())):h.set(y.key,Dn.empty())}),this.recalculateAndSaveOverlays(e,c).next(p=>(p.forEach((y,v)=>h.set(y,v)),t.forEach((y,v)=>{var A;return m.set(y,new nC(v,(A=h.get(y))!==null&&A!==void 0?A:null))}),m))}recalculateAndSaveOverlays(e,t){const a=cc();let l=new ft((h,m)=>h-m),c=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const m of h)m.keys().forEach(p=>{const y=t.get(p);if(y===null)return;let v=a.get(p)||Dn.empty();v=m.applyToLocalView(y,v),a.set(p,v);const A=(l.get(m.batchId)||Ue()).add(p);l=l.insert(m.batchId,A)})}).next(()=>{const h=[],m=l.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,v=p.value,A=DE();v.forEach(N=>{if(!c.has(N)){const O=VE(t.get(N),a.get(N));O!==null&&A.set(N,O),c=c.add(N)}}),h.push(this.documentOverlayCache.saveOverlays(e,y,A))}return oe.waitFor(h)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,t,a,l){return function(h){return Te.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):RE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,a,l):this.getDocumentsMatchingCollectionQuery(e,t,a,l)}getNextDocuments(e,t,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,a,l).next(c=>{const h=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,a.largestBatchId,l-c.size):oe.resolve(mr());let m=gc,p=c;return h.next(y=>oe.forEach(y,(v,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),c.get(v)?oe.resolve():this.remoteDocumentCache.getEntry(e,v).next(N=>{p=p.insert(v,N)}))).next(()=>this.populateOverlays(e,y,c)).next(()=>this.computeViews(e,p,y,Ue())).next(v=>({batchId:m,changes:jE(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Te(t)).next(a=>{let l=ic();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l})}getDocumentsMatchingCollectionGroupQuery(e,t,a,l){const c=t.collectionGroup;let h=ic();return this.indexManager.getCollectionParents(e,c).next(m=>oe.forEach(m,p=>{const y=function(A,N){return new Bl(N,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(t,p.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,a,l).next(v=>{v.forEach((A,N)=>{h=h.insert(A,N)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,a.largestBatchId).next(h=>(c=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,a,c,l))).next(h=>{c.forEach((p,y)=>{const v=y.getKey();h.get(v)===null&&(h=h.insert(v,un.newInvalidDocument(v)))});let m=ic();return h.forEach((p,y)=>{const v=c.get(p);v!==void 0&&uc(v.mutation,y,Dn.empty(),Ut.now()),ah(t,y)&&(m=m.insert(p,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return oe.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(l){return{id:l.id,version:l.version,createTime:Vs(l.createTime)}}(t)),oe.resolve()}getNamedQuery(e,t){return oe.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(l){return{name:l.name,query:$k(l.bundledQuery),readTime:Vs(l.readTime)}}(t)),oe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(){this.overlays=new ft(Te.comparator),this.Rr=new Map}getOverlay(e,t){return oe.resolve(this.overlays.get(t))}getOverlays(e,t){const a=mr();return oe.forEach(t,l=>this.getOverlay(e,l).next(c=>{c!==null&&a.set(l,c)})).next(()=>a)}saveOverlays(e,t,a){return a.forEach((l,c)=>{this.Et(e,t,c)}),oe.resolve()}removeOverlaysForBatchId(e,t,a){const l=this.Rr.get(a);return l!==void 0&&(l.forEach(c=>this.overlays=this.overlays.remove(c)),this.Rr.delete(a)),oe.resolve()}getOverlaysForCollection(e,t,a){const l=mr(),c=t.length+1,h=new Te(t.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===c&&p.largestBatchId>a&&l.set(p.getKey(),p)}return oe.resolve(l)}getOverlaysForCollectionGroup(e,t,a,l){let c=new ft((y,v)=>y-v);const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>a){let v=c.get(y.largestBatchId);v===null&&(v=mr(),c=c.insert(y.largestBatchId,v)),v.set(y.getKey(),y)}}const m=mr(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,v)=>m.set(y,v)),!(m.size()>=l)););return oe.resolve(m)}Et(e,t,a){const l=this.overlays.get(a.key);if(l!==null){const h=this.Rr.get(l.largestBatchId).delete(a.key);this.Rr.set(l.largestBatchId,h)}this.overlays=this.overlays.insert(a.key,new Tk(t,a));let c=this.Rr.get(t);c===void 0&&(c=Ue(),this.Rr.set(t,c)),this.Rr.set(t,c.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(){this.sessionToken=sn.EMPTY_BYTE_STRING}getSessionToken(e){return oe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,oe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(){this.Vr=new Vt($t.mr),this.gr=new Vt($t.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const a=new $t(e,t);this.Vr=this.Vr.add(a),this.gr=this.gr.add(a)}yr(e,t){e.forEach(a=>this.addReference(a,t))}removeReference(e,t){this.wr(new $t(e,t))}br(e,t){e.forEach(a=>this.removeReference(a,t))}Sr(e){const t=new Te(new rt([])),a=new $t(t,e),l=new $t(t,e+1),c=[];return this.gr.forEachInRange([a,l],h=>{this.wr(h),c.push(h.key)}),c}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Te(new rt([])),a=new $t(t,e),l=new $t(t,e+1);let c=Ue();return this.gr.forEachInRange([a,l],h=>{c=c.add(h.key)}),c}containsKey(e){const t=new $t(e,0),a=this.Vr.firstAfterOrEqual(t);return a!==null&&e.isEqual(a.key)}}class $t{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Te.comparator(e.key,t.key)||Be(e.Cr,t.Cr)}static pr(e,t){return Be(e.Cr,t.Cr)||Te.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Vt($t.mr)}checkEmpty(e){return oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,a,l){const c=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new bk(c,t,a,l);this.mutationQueue.push(h);for(const m of l)this.Mr=this.Mr.add(new $t(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return oe.resolve(h)}lookupMutationBatch(e,t){return oe.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const a=t+1,l=this.Nr(a),c=l<0?0:l;return oe.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(this.mutationQueue.length===0?jg:this.Fr-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const a=new $t(t,0),l=new $t(t,Number.POSITIVE_INFINITY),c=[];return this.Mr.forEachInRange([a,l],h=>{const m=this.Or(h.Cr);c.push(m)}),oe.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let a=new Vt(Be);return t.forEach(l=>{const c=new $t(l,0),h=new $t(l,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([c,h],m=>{a=a.add(m.Cr)})}),oe.resolve(this.Br(a))}getAllMutationBatchesAffectingQuery(e,t){const a=t.path,l=a.length+1;let c=a;Te.isDocumentKey(c)||(c=c.child(""));const h=new $t(new Te(c),0);let m=new Vt(Be);return this.Mr.forEachWhile(p=>{const y=p.key.path;return!!a.isPrefixOf(y)&&(y.length===l&&(m=m.add(p.Cr)),!0)},h),oe.resolve(this.Br(m))}Br(e){const t=[];return e.forEach(a=>{const l=this.Or(a);l!==null&&t.push(l)}),t}removeMutationBatch(e,t){Je(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let a=this.Mr;return oe.forEach(t.mutations,l=>{const c=new $t(l.key,t.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.Mr=a})}qn(e){}containsKey(e,t){const a=new $t(t,0),l=this.Mr.firstAfterOrEqual(a);return oe.resolve(t.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,oe.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e){this.kr=e,this.docs=function(){return new ft(Te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const a=t.key,l=this.docs.get(a),c=l?l.size:0,h=this.kr(t);return this.docs=this.docs.insert(a,{document:t.mutableCopy(),size:h}),this.size+=h-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const a=this.docs.get(t);return oe.resolve(a?a.document.mutableCopy():un.newInvalidDocument(t))}getEntries(e,t){let a=wi();return t.forEach(l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():un.newInvalidDocument(l))}),oe.resolve(a)}getDocumentsMatchingQuery(e,t,a,l){let c=wi();const h=t.path,m=new Te(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:v}}=p.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||PR(LR(v),a)<=0||(l.has(v.key)||ah(t,v))&&(c=c.insert(v.key,v.mutableCopy()))}return oe.resolve(c)}getAllFromCollectionGroup(e,t,a,l){Ne()}qr(e,t){return oe.forEach(this.docs,a=>t(a))}newChangeBuffer(e){return new cC(this)}getSize(e){return oe.resolve(this.size)}}class cC extends tC{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((a,l)=>{l.isValidDocument()?t.push(this.Ir.addEntry(e,l)):this.Ir.removeEntry(a)}),oe.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e){this.persistence=e,this.Qr=new wr(t=>Mg(t),Lg),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.$r=0,this.Kr=new qg,this.targetCount=0,this.Ur=Cl.Kn()}forEachTarget(e,t){return this.Qr.forEach((a,l)=>t(l)),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,a){return a&&(this.lastRemoteSnapshotVersion=a),t>this.$r&&(this.$r=t),oe.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new Cl(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,oe.resolve()}updateTargetData(e,t){return this.zn(t),oe.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.Sr(t.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,t,a){let l=0;const c=[];return this.Qr.forEach((h,m)=>{m.sequenceNumber<=t&&a.get(m.targetId)===null&&(this.Qr.delete(h),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),l++)}),oe.waitFor(c).next(()=>l)}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,t){const a=this.Qr.get(t)||null;return oe.resolve(a)}addMatchingKeys(e,t,a){return this.Kr.yr(t,a),oe.resolve()}removeMatchingKeys(e,t,a){this.Kr.br(t,a);const l=this.persistence.referenceDelegate,c=[];return l&&t.forEach(h=>{c.push(l.markPotentiallyOrphaned(e,h))}),oe.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.Kr.Sr(t),oe.resolve()}getMatchingKeysForTargetId(e,t){const a=this.Kr.vr(t);return oe.resolve(a)}containsKey(e,t){return oe.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new th(0),this.zr=!1,this.zr=!0,this.jr=new rC,this.referenceDelegate=e(this),this.Hr=new uC(this),this.indexManager=new Qk,this.remoteDocumentCache=function(l){return new oC(l)}(a=>this.referenceDelegate.Jr(a)),this.serializer=new Gk(t),this.Yr=new iC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new aC,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let a=this.Wr[e.toKey()];return a||(a=new lC(t,this.referenceDelegate),this.Wr[e.toKey()]=a),a}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,a){ye("MemoryPersistence","Starting transaction:",e);const l=new dC(this.Gr.next());return this.referenceDelegate.Zr(),a(l).next(c=>this.referenceDelegate.Xr(l).next(()=>c)).toPromise().then(c=>(l.raiseOnCommittedEvent(),c))}ei(e,t){return oe.or(Object.values(this.Wr).map(a=>()=>a.containsKey(e,t)))}}class dC extends VR{constructor(e){super(),this.currentSequenceNumber=e}}class Kg{constructor(e){this.persistence=e,this.ti=new qg,this.ni=null}static ri(e){return new Kg(e)}get ii(){if(this.ni)return this.ni;throw Ne()}addReference(e,t,a){return this.ti.addReference(a,t),this.ii.delete(a.toString()),oe.resolve()}removeReference(e,t,a){return this.ti.removeReference(a,t),this.ii.add(a.toString()),oe.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),oe.resolve()}removeTarget(e,t){this.ti.Sr(t.targetId).forEach(l=>this.ii.add(l.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,t.targetId).next(l=>{l.forEach(c=>this.ii.add(c.toString()))}).next(()=>a.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.ii,a=>{const l=Te.fromPath(a);return this.si(e,l).next(c=>{c||t.removeEntry(l,Ce.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(a=>{a?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return oe.or([()=>oe.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Hd{constructor(e,t){this.persistence=e,this.oi=new wr(a=>zR(a.path),(a,l)=>a.isEqual(l)),this.garbageCollector=eC(this,t)}static ri(e,t){return new Hd(e,t)}Zr(){}Xr(e){return oe.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>t.next(l=>a+l))}sr(e){let t=0;return this.rr(e,a=>{t++}).next(()=>t)}rr(e,t){return oe.forEach(this.oi,(a,l)=>this.ar(e,a,l).next(c=>c?oe.resolve():t(l)))}removeTargets(e,t,a){return this.persistence.getTargetCache().removeTargets(e,t,a)}removeOrphanedDocuments(e,t){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.qr(e,h=>this.ar(e,h,t).next(m=>{m||(a++,c.removeEntry(h,Ce.min()))})).next(()=>c.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),oe.resolve()}removeTarget(e,t){const a=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,t,a){return this.oi.set(a,e.currentSequenceNumber),oe.resolve()}removeReference(e,t,a){return this.oi.set(a,e.currentSequenceNumber),oe.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),oe.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=xd(e.data.value)),t}ar(e,t,a){return oe.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const l=this.oi.get(t);return oe.resolve(l!==void 0&&l>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(e,t,a,l){this.targetId=e,this.fromCache=t,this.Hi=a,this.Ji=l}static Yi(e,t){let a=Ue(),l=Ue();for(const c of t.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Fg(e,t.fromCache,a,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return lN()?8:BR(dn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,a,l){const c={result:null};return this.rs(e,t).next(h=>{c.result=h}).next(()=>{if(!c.result)return this.ss(e,t,l,a).next(h=>{c.result=h})}).next(()=>{if(c.result)return;const h=new hC;return this._s(e,t,h).next(m=>{if(c.result=m,this.Xi)return this.us(e,t,h,m.size)})}).next(()=>c.result)}us(e,t,a,l){return a.documentReadCount<this.es?(yl()<=Pe.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",_l(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),oe.resolve()):(yl()<=Pe.DEBUG&&ye("QueryEngine","Query:",_l(t),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.ts*l?(yl()<=Pe.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",_l(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Us(t))):oe.resolve())}rs(e,t){if(Tx(t))return oe.resolve(null);let a=Us(t);return this.indexManager.getIndexType(e,a).next(l=>l===0?null:(t.limit!==null&&l===1&&(t=Pd(t,null,"F"),a=Us(t)),this.indexManager.getDocumentsMatchingTarget(e,a).next(c=>{const h=Ue(...c);return this.ns.getDocuments(e,h).next(m=>this.indexManager.getMinOffset(e,a).next(p=>{const y=this.cs(t,m);return this.ls(t,y,h,p.readTime)?this.rs(e,Pd(t,null,"F")):this.hs(e,y,t,p)}))})))}ss(e,t,a,l){return Tx(t)||l.isEqual(Ce.min())?oe.resolve(null):this.ns.getDocuments(e,a).next(c=>{const h=this.cs(t,c);return this.ls(t,h,a,l)?oe.resolve(null):(yl()<=Pe.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),_l(t)),this.hs(e,h,t,MR(l,gc)).next(m=>m))})}cs(e,t){let a=new Vt(CE(e));return t.forEach((l,c)=>{ah(e,c)&&(a=a.add(c))}),a}ls(e,t,a,l){if(e.limit===null)return!1;if(a.size!==t.size)return!0;const c=e.limitType==="F"?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}_s(e,t,a){return yl()<=Pe.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",_l(t)),this.ns.getDocumentsMatchingQuery(e,t,Aa.min(),a)}hs(e,t,a,l){return this.ns.getDocumentsMatchingQuery(e,a,l).next(c=>(t.forEach(h=>{c=c.insert(h.key,h)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gg="LocalStore",mC=3e8;class gC{constructor(e,t,a,l){this.persistence=e,this.Ps=t,this.serializer=l,this.Ts=new ft(Be),this.Is=new wr(c=>Mg(c),Lg),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(a)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new sC(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function pC(s,e,t,a){return new gC(s,e,t,a)}async function JE(s,e){const t=je(s);return await t.persistence.runTransaction("Handle user change","readonly",a=>{let l;return t.mutationQueue.getAllMutationBatches(a).next(c=>(l=c,t.As(e),t.mutationQueue.getAllMutationBatches(a))).next(c=>{const h=[],m=[];let p=Ue();for(const y of l){h.push(y.batchId);for(const v of y.mutations)p=p.add(v.key)}for(const y of c){m.push(y.batchId);for(const v of y.mutations)p=p.add(v.key)}return t.localDocuments.getDocuments(a,p).next(y=>({Rs:y,removedBatchIds:h,addedBatchIds:m}))})})}function yC(s,e){const t=je(s);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const l=e.batch.keys(),c=t.ds.newChangeBuffer({trackRemovals:!0});return function(m,p,y,v){const A=y.batch,N=A.keys();let O=oe.resolve();return N.forEach(M=>{O=O.next(()=>v.getEntry(p,M)).next(B=>{const V=y.docVersions.get(M);Je(V!==null),B.version.compareTo(V)<0&&(A.applyToRemoteDocument(B,y),B.isValidDocument()&&(B.setReadTime(y.commitVersion),v.addEntry(B)))})}),O.next(()=>m.mutationQueue.removeMutationBatch(p,A))}(t,a,e,c).next(()=>c.apply(a)).next(()=>t.mutationQueue.performConsistencyCheck(a)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(a,l,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(m){let p=Ue();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p}(e))).next(()=>t.localDocuments.getDocuments(a,l))})}function eb(s){const e=je(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function _C(s,e){const t=je(s),a=e.snapshotVersion;let l=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const h=t.ds.newChangeBuffer({trackRemovals:!0});l=t.Ts;const m=[];e.targetChanges.forEach((v,A)=>{const N=l.get(A);if(!N)return;m.push(t.Hr.removeMatchingKeys(c,v.removedDocuments,A).next(()=>t.Hr.addMatchingKeys(c,v.addedDocuments,A)));let O=N.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(A)!==null?O=O.withResumeToken(sn.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):v.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(v.resumeToken,a)),l=l.insert(A,O),function(B,V,K){return B.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=mC?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0}(N,O,v)&&m.push(t.Hr.updateTargetData(c,O))});let p=wi(),y=Ue();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(c,v))}),m.push(vC(c,h,e.documentUpdates).next(v=>{p=v.Vs,y=v.fs})),!a.isEqual(Ce.min())){const v=t.Hr.getLastRemoteSnapshotVersion(c).next(A=>t.Hr.setTargetsMetadata(c,c.currentSequenceNumber,a));m.push(v)}return oe.waitFor(m).next(()=>h.apply(c)).next(()=>t.localDocuments.getLocalViewOfDocuments(c,p,y)).next(()=>p)}).then(c=>(t.Ts=l,c))}function vC(s,e,t){let a=Ue(),l=Ue();return t.forEach(c=>a=a.add(c)),e.getEntries(s,a).next(c=>{let h=wi();return t.forEach((m,p)=>{const y=c.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(m)),p.isNoDocument()&&p.version.isEqual(Ce.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):ye(Gg,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)}),{Vs:h,fs:l}})}function xC(s,e){const t=je(s);return t.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=jg),t.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function EC(s,e){const t=je(s);return t.persistence.runTransaction("Allocate target","readwrite",a=>{let l;return t.Hr.getTargetData(a,e).next(c=>c?(l=c,oe.resolve(l)):t.Hr.allocateTargetId(a).next(h=>(l=new _a(e,h,"TargetPurposeListen",a.currentSequenceNumber),t.Hr.addTargetData(a,l).next(()=>l))))}).then(a=>{const l=t.Ts.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(a.targetId,a),t.Is.set(e,a.targetId)),a})}async function lg(s,e,t){const a=je(s),l=a.Ts.get(e),c=t?"readwrite":"readwrite-primary";try{t||await a.persistence.runTransaction("Release target",c,h=>a.persistence.referenceDelegate.removeTarget(h,l))}catch(h){if(!Vl(h))throw h;ye(Gg,`Failed to update sequence numbers for target ${e}: ${h}`)}a.Ts=a.Ts.remove(e),a.Is.delete(l.target)}function Lx(s,e,t){const a=je(s);let l=Ce.min(),c=Ue();return a.persistence.runTransaction("Execute query","readwrite",h=>function(p,y,v){const A=je(p),N=A.Is.get(v);return N!==void 0?oe.resolve(A.Ts.get(N)):A.Hr.getTargetData(y,v)}(a,h,Us(e)).next(m=>{if(m)return l=m.lastLimboFreeSnapshotVersion,a.Hr.getMatchingKeysForTargetId(h,m.targetId).next(p=>{c=p})}).next(()=>a.Ps.getDocumentsMatchingQuery(h,e,t?l:Ce.min(),t?c:Ue())).next(m=>(bC(a,lk(e),m),{documents:m,gs:c})))}function bC(s,e,t){let a=s.Es.get(e)||Ce.min();t.forEach((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)}),s.Es.set(e,a)}class Px{constructor(){this.activeTargetIds=fk()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class TC{constructor(){this.ho=new Px,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,a){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,a){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Px,Promise.resolve()}handleUserChange(e,t,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux="ConnectivityMonitor";class Vx{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ye(Ux,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ye(Ux,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dd=null;function og(){return dd===null?dd=function(){return 268435456+Math.round(2147483648*Math.random())}():dd++,"0x"+dd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pm="RestConnection",SC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class wC{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${a}/databases/${l}`,this.wo=this.databaseId.database===Od?`project_id=${a}`:`project_id=${a}&database_id=${l}`}bo(e,t,a,l,c){const h=og(),m=this.So(e,t.toUriEncodedString());ye(Pm,`Sending RPC '${e}' ${h}:`,m,a);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,l,c),this.vo(e,m,p,a).then(y=>(ye(Pm,`Received RPC '${e}' ${h}: `,y),y),y=>{throw wl(Pm,`RPC '${e}' ${h} failed with error: `,y,"url: ",m,"request:",a),y})}Co(e,t,a,l,c,h){return this.bo(e,t,a,l,c)}Do(e,t,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Pl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((l,c)=>e[c]=l),a&&a.headers.forEach((l,c)=>e[c]=l)}So(e,t){const a=SC[e];return`${this.po}/v1/${t}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on="WebChannelConnection";class RC extends wC{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,a,l){const c=og();return new Promise((h,m)=>{const p=new aE;p.setWithCredentials(!0),p.listenOnce(rE.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case vd.NO_ERROR:const v=p.getResponseJson();ye(on,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(v)),h(v);break;case vd.TIMEOUT:ye(on,`RPC '${e}' ${c} timed out`),m(new _e(le.DEADLINE_EXCEEDED,"Request time out"));break;case vd.HTTP_ERROR:const A=p.getStatus();if(ye(on,`RPC '${e}' ${c} failed with status:`,A,"response text:",p.getResponseText()),A>0){let N=p.getResponseJson();Array.isArray(N)&&(N=N[0]);const O=N==null?void 0:N.error;if(O&&O.status&&O.message){const M=function(V){const K=V.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(K)>=0?K:le.UNKNOWN}(O.status);m(new _e(M,O.message))}else m(new _e(le.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new _e(le.UNAVAILABLE,"Connection failed."));break;default:Ne()}}finally{ye(on,`RPC '${e}' ${c} completed.`)}});const y=JSON.stringify(l);ye(on,`RPC '${e}' ${c} sending request:`,l),p.send(t,"POST",y,a,15)})}Wo(e,t,a){const l=og(),c=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=cE(),m=oE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,t,a),p.encodeInitMessageHeaders=!0;const v=c.join("");ye(on,`Creating RPC '${e}' stream ${l}: ${v}`,p);const A=h.createWebChannel(v,p);let N=!1,O=!1;const M=new NC({Fo:V=>{O?ye(on,`Not sending because RPC '${e}' stream ${l} is closed:`,V):(N||(ye(on,`Opening RPC '${e}' stream ${l} transport.`),A.open(),N=!0),ye(on,`RPC '${e}' stream ${l} sending:`,V),A.send(V))},Mo:()=>A.close()}),B=(V,K,G)=>{V.listen(K,Z=>{try{G(Z)}catch(te){setTimeout(()=>{throw te},0)}})};return B(A,sc.EventType.OPEN,()=>{O||(ye(on,`RPC '${e}' stream ${l} transport opened.`),M.Qo())}),B(A,sc.EventType.CLOSE,()=>{O||(O=!0,ye(on,`RPC '${e}' stream ${l} transport closed`),M.Ko())}),B(A,sc.EventType.ERROR,V=>{O||(O=!0,wl(on,`RPC '${e}' stream ${l} transport errored:`,V),M.Ko(new _e(le.UNAVAILABLE,"The operation could not be completed")))}),B(A,sc.EventType.MESSAGE,V=>{var K;if(!O){const G=V.data[0];Je(!!G);const Z=G,te=(Z==null?void 0:Z.error)||((K=Z[0])===null||K===void 0?void 0:K.error);if(te){ye(on,`RPC '${e}' stream ${l} received error:`,te);const ae=te.status;let de=function(b){const T=Rt[b];if(T!==void 0)return HE(T)}(ae),D=te.message;de===void 0&&(de=le.INTERNAL,D="Unknown error status: "+ae+" with message "+te.message),O=!0,M.Ko(new _e(de,D)),A.close()}else ye(on,`RPC '${e}' stream ${l} received:`,G),M.Uo(G)}}),B(m,lE.STAT_EVENT,V=>{V.stat===Xm.PROXY?ye(on,`RPC '${e}' stream ${l} detected buffering proxy`):V.stat===Xm.NOPROXY&&ye(on,`RPC '${e}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{M.$o()},0),M}}function Um(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ch(s){return new jk(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(e,t,a=1e3,l=1.5,c=6e4){this.Ti=e,this.timerId=t,this.Go=a,this.zo=l,this.jo=c,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),a=Math.max(0,Date.now()-this.Yo),l=Math.max(0,t-a);l>0&&ye("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${a} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,l,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx="PersistentStream";class nb{constructor(e,t,a,l,c,h,m,p){this.Ti=e,this.n_=a,this.r_=l,this.connection=c,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new tb(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===le.RESOURCE_EXHAUSTED?(Si(t.toString()),Si("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,l])=>{this.i_===t&&this.V_(a,l)},a=>{e(()=>{const l=new _e(le.UNKNOWN,"Fetching auth token failed: "+a.message);return this.m_(l)})})}V_(e,t){const a=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{a(()=>this.listener.xo())}),this.stream.No(()=>{a(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(l=>{a(()=>this.m_(l))}),this.stream.onMessage(l=>{a(()=>++this.__==1?this.g_(l):this.onNext(l))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ye(Bx,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(ye(Bx,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class kC extends nb{constructor(e,t,a,l,c,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,a,l,h),this.serializer=c}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=Mk(this.serializer,e),a=function(c){if(!("targetChange"in c))return Ce.min();const h=c.targetChange;return h.targetIds&&h.targetIds.length?Ce.min():h.readTime?Vs(h.readTime):Ce.min()}(e);return this.listener.p_(t,a)}y_(e){const t={};t.database=rg(this.serializer),t.addTarget=function(c,h){let m;const p=h.target;if(m=tg(p)?{documents:Uk(c,p)}:{query:Vk(c,p).ht},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=KE(c,h.resumeToken);const y=sg(c,h.expectedCount);y!==null&&(m.expectedCount=y)}else if(h.snapshotVersion.compareTo(Ce.min())>0){m.readTime=Bd(c,h.snapshotVersion.toTimestamp());const y=sg(c,h.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,e);const a=Hk(this.serializer,e);a&&(t.labels=a),this.I_(t)}w_(e){const t={};t.database=rg(this.serializer),t.removeTarget=e,this.I_(t)}}class CC extends nb{constructor(e,t,a,l,c,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,a,l,h),this.serializer=c}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Je(!!e.streamToken),this.lastStreamToken=e.streamToken,Je(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Je(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=Pk(e.writeResults,e.commitTime),a=Vs(e.commitTime);return this.listener.v_(a,t)}C_(){const e={};e.database=rg(this.serializer),this.I_(e)}S_(e){const t={streamToken:this.lastStreamToken,writes:e.map(a=>Lk(this.serializer,a))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{}class jC extends IC{constructor(e,t,a,l){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=a,this.serializer=l,this.F_=!1}M_(){if(this.F_)throw new _e(le.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,t,a,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,h])=>this.connection.bo(e,ig(t,a),l,c,h)).catch(c=>{throw c.name==="FirebaseError"?(c.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new _e(le.UNKNOWN,c.toString())})}Co(e,t,a,l,c){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Co(e,ig(t,a),l,h,m,c)).catch(h=>{throw h.name==="FirebaseError"?(h.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new _e(le.UNKNOWN,h.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class DC{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Si(t),this.N_=!1):ye("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xr="RemoteStore";class OC{constructor(e,t,a,l,c){this.localStore=e,this.datastore=t,this.asyncQueue=a,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=c,this.z_.To(h=>{a.enqueueAndForget(async()=>{Nr(this)&&(ye(xr,"Restarting streams for network reachability change."),await async function(p){const y=je(p);y.W_.add(4),await kc(y),y.j_.set("Unknown"),y.W_.delete(4),await uh(y)}(this))})}),this.j_=new DC(a,l)}}async function uh(s){if(Nr(s))for(const e of s.G_)await e(!0)}async function kc(s){for(const e of s.G_)await e(!1)}function sb(s,e){const t=je(s);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),Wg(t)?Yg(t):Hl(t).c_()&&Qg(t,e))}function $g(s,e){const t=je(s),a=Hl(t);t.U_.delete(e),a.c_()&&ib(t,e),t.U_.size===0&&(a.c_()?a.P_():Nr(t)&&t.j_.set("Unknown"))}function Qg(s,e){if(s.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const t=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Hl(s).y_(e)}function ib(s,e){s.H_.Ne(e),Hl(s).w_(e)}function Yg(s){s.H_=new Rk({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>s.U_.get(e)||null,it:()=>s.datastore.serializer.databaseId}),Hl(s).start(),s.j_.B_()}function Wg(s){return Nr(s)&&!Hl(s).u_()&&s.U_.size>0}function Nr(s){return je(s).W_.size===0}function ab(s){s.H_=void 0}async function MC(s){s.j_.set("Online")}async function LC(s){s.U_.forEach((e,t)=>{Qg(s,e)})}async function PC(s,e){ab(s),Wg(s)?(s.j_.q_(e),Yg(s)):s.j_.set("Unknown")}async function UC(s,e,t){if(s.j_.set("Online"),e instanceof qE&&e.state===2&&e.cause)try{await async function(l,c){const h=c.cause;for(const m of c.targetIds)l.U_.has(m)&&(await l.remoteSyncer.rejectListen(m,h),l.U_.delete(m),l.H_.removeTarget(m))}(s,e)}catch(a){ye(xr,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await zd(s,a)}else if(e instanceof Td?s.H_.We(e):e instanceof zE?s.H_.Ze(e):s.H_.je(e),!t.isEqual(Ce.min()))try{const a=await eb(s.localStore);t.compareTo(a)>=0&&await function(c,h){const m=c.H_.ot(h);return m.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const v=c.U_.get(y);v&&c.U_.set(y,v.withResumeToken(p.resumeToken,h))}}),m.targetMismatches.forEach((p,y)=>{const v=c.U_.get(p);if(!v)return;c.U_.set(p,v.withResumeToken(sn.EMPTY_BYTE_STRING,v.snapshotVersion)),ib(c,p);const A=new _a(v.target,p,y,v.sequenceNumber);Qg(c,A)}),c.remoteSyncer.applyRemoteEvent(m)}(s,t)}catch(a){ye(xr,"Failed to raise snapshot:",a),await zd(s,a)}}async function zd(s,e,t){if(!Vl(e))throw e;s.W_.add(1),await kc(s),s.j_.set("Offline"),t||(t=()=>eb(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{ye(xr,"Retrying IndexedDB access"),await t(),s.W_.delete(1),await uh(s)})}function rb(s,e){return e().catch(t=>zd(s,t,e))}async function dh(s){const e=je(s),t=Ra(e);let a=e.K_.length>0?e.K_[e.K_.length-1].batchId:jg;for(;VC(e);)try{const l=await xC(e.localStore,a);if(l===null){e.K_.length===0&&t.P_();break}a=l.batchId,BC(e,l)}catch(l){await zd(e,l)}lb(e)&&ob(e)}function VC(s){return Nr(s)&&s.K_.length<10}function BC(s,e){s.K_.push(e);const t=Ra(s);t.c_()&&t.b_&&t.S_(e.mutations)}function lb(s){return Nr(s)&&!Ra(s).u_()&&s.K_.length>0}function ob(s){Ra(s).start()}async function HC(s){Ra(s).C_()}async function zC(s){const e=Ra(s);for(const t of s.K_)e.S_(t.mutations)}async function qC(s,e,t){const a=s.K_.shift(),l=Bg.from(a,e,t);await rb(s,()=>s.remoteSyncer.applySuccessfulWrite(l)),await dh(s)}async function KC(s,e){e&&Ra(s).b_&&await async function(a,l){if(function(h){return Sk(h)&&h!==le.ABORTED}(l.code)){const c=a.K_.shift();Ra(a).h_(),await rb(a,()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l)),await dh(a)}}(s,e),lb(s)&&ob(s)}async function Hx(s,e){const t=je(s);t.asyncQueue.verifyOperationInProgress(),ye(xr,"RemoteStore received new credentials");const a=Nr(t);t.W_.add(3),await kc(t),a&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await uh(t)}async function FC(s,e){const t=je(s);e?(t.W_.delete(2),await uh(t)):e||(t.W_.add(2),await kc(t),t.j_.set("Unknown"))}function Hl(s){return s.J_||(s.J_=function(t,a,l){const c=je(t);return c.M_(),new kC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(s.datastore,s.asyncQueue,{xo:MC.bind(null,s),No:LC.bind(null,s),Lo:PC.bind(null,s),p_:UC.bind(null,s)}),s.G_.push(async e=>{e?(s.J_.h_(),Wg(s)?Yg(s):s.j_.set("Unknown")):(await s.J_.stop(),ab(s))})),s.J_}function Ra(s){return s.Y_||(s.Y_=function(t,a,l){const c=je(t);return c.M_(),new CC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(s.datastore,s.asyncQueue,{xo:()=>Promise.resolve(),No:HC.bind(null,s),Lo:KC.bind(null,s),D_:zC.bind(null,s),v_:qC.bind(null,s)}),s.G_.push(async e=>{e?(s.Y_.h_(),await dh(s)):(await s.Y_.stop(),s.K_.length>0&&(ye(xr,`Stopping write stream with ${s.K_.length} pending writes`),s.K_=[]))})),s.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(e,t,a,l,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new Ei,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,a,l,c){const h=Date.now()+a,m=new Xg(e,t,h,l,c);return m.start(a),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zg(s,e){if(Si("AsyncQueue",`${e}: ${s}`),Vl(s))return new _e(le.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{static emptySet(e){return new bl(e.comparator)}constructor(e){this.comparator=e?(t,a)=>e(t,a)||Te.comparator(t.key,a.key):(t,a)=>Te.comparator(t.key,a.key),this.keyedMap=ic(),this.sortedSet=new ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,a)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof bl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;t.hasNext();){const l=t.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const a=new bl;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=t,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(){this.Z_=new ft(Te.comparator)}track(e){const t=e.doc.key,a=this.Z_.get(t);a?e.type!==0&&a.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&a.type!==1?this.Z_=this.Z_.insert(t,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.Z_=this.Z_.remove(t):e.type===1&&a.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Ne():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,a)=>{e.push(a)}),e}}class Il{constructor(e,t,a,l,c,h,m,p,y){this.query=e,this.docs=t,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,t,a,l,c){const h=[];return t.forEach(m=>{h.push({type:0,doc:m})}),new Il(e,t,bl.emptySet(t),h,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ih(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,a=e.docChanges;if(t.length!==a.length)return!1;for(let l=0;l<t.length;l++)if(t[l].type!==a[l].type||!t[l].doc.isEqual(a[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class $C{constructor(){this.queries=qx(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,a){const l=je(t),c=l.queries;l.queries=qx(),c.forEach((h,m)=>{for(const p of m.ta)p.onError(a)})})(this,new _e(le.ABORTED,"Firestore shutting down"))}}function qx(){return new wr(s=>kE(s),ih)}async function cb(s,e){const t=je(s);let a=3;const l=e.query;let c=t.queries.get(l);c?!c.na()&&e.ra()&&(a=2):(c=new GC,a=e.ra()?0:1);try{switch(a){case 0:c.ea=await t.onListen(l,!0);break;case 1:c.ea=await t.onListen(l,!1);break;case 2:await t.onFirstRemoteStoreListen(l)}}catch(h){const m=Zg(h,`Initialization of query '${_l(e.query)}' failed`);return void e.onError(m)}t.queries.set(l,c),c.ta.push(e),e.sa(t.onlineState),c.ea&&e.oa(c.ea)&&Jg(t)}async function ub(s,e){const t=je(s),a=e.query;let l=3;const c=t.queries.get(a);if(c){const h=c.ta.indexOf(e);h>=0&&(c.ta.splice(h,1),c.ta.length===0?l=e.ra()?0:1:!c.na()&&e.ra()&&(l=2))}switch(l){case 0:return t.queries.delete(a),t.onUnlisten(a,!0);case 1:return t.queries.delete(a),t.onUnlisten(a,!1);case 2:return t.onLastRemoteStoreUnlisten(a);default:return}}function QC(s,e){const t=je(s);let a=!1;for(const l of e){const c=l.query,h=t.queries.get(c);if(h){for(const m of h.ta)m.oa(l)&&(a=!0);h.ea=l}}a&&Jg(t)}function YC(s,e,t){const a=je(s),l=a.queries.get(e);if(l)for(const c of l.ta)c.onError(t);a.queries.delete(e)}function Jg(s){s.ia.forEach(e=>{e.next()})}var cg,Kx;(Kx=cg||(cg={}))._a="default",Kx.Cache="cache";class db{constructor(e,t,a){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=a||{}}oa(e){if(!this.options.includeMetadataChanges){const a=[];for(const l of e.docChanges)l.type!==3&&a.push(l);e=new Il(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const a=t!=="Offline";return(!this.options.Ta||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Il.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==cg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(e){this.key=e}}class fb{constructor(e){this.key=e}}class WC{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ue(),this.mutatedKeys=Ue(),this.ya=CE(e),this.wa=new bl(this.ya)}get ba(){return this.fa}Sa(e,t){const a=t?t.Da:new zx,l=t?t.wa:this.wa;let c=t?t.mutatedKeys:this.mutatedKeys,h=l,m=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((v,A)=>{const N=l.get(v),O=ah(this.query,A)?A:null,M=!!N&&this.mutatedKeys.has(N.key),B=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let V=!1;N&&O?N.data.isEqual(O.data)?M!==B&&(a.track({type:3,doc:O}),V=!0):this.va(N,O)||(a.track({type:2,doc:O}),V=!0,(p&&this.ya(O,p)>0||y&&this.ya(O,y)<0)&&(m=!0)):!N&&O?(a.track({type:0,doc:O}),V=!0):N&&!O&&(a.track({type:1,doc:N}),V=!0,(p||y)&&(m=!0)),V&&(O?(h=h.add(O),c=B?c.add(v):c.delete(v)):(h=h.delete(v),c=c.delete(v)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const v=this.query.limitType==="F"?h.last():h.first();h=h.delete(v.key),c=c.delete(v.key),a.track({type:1,doc:v})}return{wa:h,Da:a,ls:m,mutatedKeys:c}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,a,l){const c=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const h=e.Da.X_();h.sort((v,A)=>function(O,M){const B=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ne()}};return B(O)-B(M)}(v.type,A.type)||this.ya(v.doc,A.doc)),this.Ca(a),l=l!=null&&l;const m=t&&!l?this.Fa():[],p=this.pa.size===0&&this.current&&!l?1:0,y=p!==this.ga;return this.ga=p,h.length!==0||y?{snapshot:new Il(this.query,e.wa,c,h,e.mutatedKeys,p===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new zx,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ue(),this.wa.forEach(a=>{this.xa(a.key)&&(this.pa=this.pa.add(a.key))});const t=[];return e.forEach(a=>{this.pa.has(a)||t.push(new fb(a))}),this.pa.forEach(a=>{e.has(a)||t.push(new hb(a))}),t}Oa(e){this.fa=e.gs,this.pa=Ue();const t=this.Sa(e.documents);return this.applyChanges(t,!0)}Na(){return Il.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const ep="SyncEngine";class XC{constructor(e,t,a){this.query=e,this.targetId=t,this.view=a}}class ZC{constructor(e){this.key=e,this.Ba=!1}}class JC{constructor(e,t,a,l,c,h){this.localStore=e,this.remoteStore=t,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=h,this.La={},this.ka=new wr(m=>kE(m),ih),this.qa=new Map,this.Qa=new Set,this.$a=new ft(Te.comparator),this.Ka=new Map,this.Ua=new qg,this.Wa={},this.Ga=new Map,this.za=Cl.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function eI(s,e,t=!0){const a=vb(s);let l;const c=a.ka.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.Na()):l=await mb(a,e,t,!0),l}async function tI(s,e){const t=vb(s);await mb(t,e,!0,!1)}async function mb(s,e,t,a){const l=await EC(s.localStore,Us(e)),c=l.targetId,h=s.sharedClientState.addLocalQueryTarget(c,t);let m;return a&&(m=await nI(s,e,c,h==="current",l.resumeToken)),s.isPrimaryClient&&t&&sb(s.remoteStore,l),m}async function nI(s,e,t,a,l){s.Ha=(A,N,O)=>async function(B,V,K,G){let Z=V.view.Sa(K);Z.ls&&(Z=await Lx(B.localStore,V.query,!1).then(({documents:D})=>V.view.Sa(D,Z)));const te=G&&G.targetChanges.get(V.targetId),ae=G&&G.targetMismatches.get(V.targetId)!=null,de=V.view.applyChanges(Z,B.isPrimaryClient,te,ae);return Gx(B,V.targetId,de.Ma),de.snapshot}(s,A,N,O);const c=await Lx(s.localStore,e,!0),h=new WC(e,c.gs),m=h.Sa(c.documents),p=Rc.createSynthesizedTargetChangeForCurrentChange(t,a&&s.onlineState!=="Offline",l),y=h.applyChanges(m,s.isPrimaryClient,p);Gx(s,t,y.Ma);const v=new XC(e,t,h);return s.ka.set(e,v),s.qa.has(t)?s.qa.get(t).push(e):s.qa.set(t,[e]),y.snapshot}async function sI(s,e,t){const a=je(s),l=a.ka.get(e),c=a.qa.get(l.targetId);if(c.length>1)return a.qa.set(l.targetId,c.filter(h=>!ih(h,e))),void a.ka.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await lg(a.localStore,l.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(l.targetId),t&&$g(a.remoteStore,l.targetId),ug(a,l.targetId)}).catch(Ul)):(ug(a,l.targetId),await lg(a.localStore,l.targetId,!0))}async function iI(s,e){const t=je(s),a=t.ka.get(e),l=t.qa.get(a.targetId);t.isPrimaryClient&&l.length===1&&(t.sharedClientState.removeLocalQueryTarget(a.targetId),$g(t.remoteStore,a.targetId))}async function aI(s,e,t){const a=hI(s);try{const l=await function(h,m){const p=je(h),y=Ut.now(),v=m.reduce((O,M)=>O.add(M.key),Ue());let A,N;return p.persistence.runTransaction("Locally write mutations","readwrite",O=>{let M=wi(),B=Ue();return p.ds.getEntries(O,v).next(V=>{M=V,M.forEach((K,G)=>{G.isValidDocument()||(B=B.add(K))})}).next(()=>p.localDocuments.getOverlayedDocuments(O,M)).next(V=>{A=V;const K=[];for(const G of m){const Z=xk(G,A.get(G.key).overlayedDocument);Z!=null&&K.push(new Ia(G.key,Z,EE(Z.value.mapValue),Jn.exists(!0)))}return p.mutationQueue.addMutationBatch(O,y,K,m)}).next(V=>{N=V;const K=V.applyToLocalDocumentSet(A,B);return p.documentOverlayCache.saveOverlays(O,V.batchId,K)})}).then(()=>({batchId:N.batchId,changes:jE(A)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(l.batchId),function(h,m,p){let y=h.Wa[h.currentUser.toKey()];y||(y=new ft(Be)),y=y.insert(m,p),h.Wa[h.currentUser.toKey()]=y}(a,l.batchId,t),await Cc(a,l.changes),await dh(a.remoteStore)}catch(l){const c=Zg(l,"Failed to persist write");t.reject(c)}}async function gb(s,e){const t=je(s);try{const a=await _C(t.localStore,e);e.targetChanges.forEach((l,c)=>{const h=t.Ka.get(c);h&&(Je(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?h.Ba=!0:l.modifiedDocuments.size>0?Je(h.Ba):l.removedDocuments.size>0&&(Je(h.Ba),h.Ba=!1))}),await Cc(t,a,e)}catch(a){await Ul(a)}}function Fx(s,e,t){const a=je(s);if(a.isPrimaryClient&&t===0||!a.isPrimaryClient&&t===1){const l=[];a.ka.forEach((c,h)=>{const m=h.view.sa(e);m.snapshot&&l.push(m.snapshot)}),function(h,m){const p=je(h);p.onlineState=m;let y=!1;p.queries.forEach((v,A)=>{for(const N of A.ta)N.sa(m)&&(y=!0)}),y&&Jg(p)}(a.eventManager,e),l.length&&a.La.p_(l),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function rI(s,e,t){const a=je(s);a.sharedClientState.updateQueryState(e,"rejected",t);const l=a.Ka.get(e),c=l&&l.key;if(c){let h=new ft(Te.comparator);h=h.insert(c,un.newNoDocument(c,Ce.min()));const m=Ue().add(c),p=new oh(Ce.min(),new Map,new ft(Be),h,m);await gb(a,p),a.$a=a.$a.remove(c),a.Ka.delete(e),tp(a)}else await lg(a.localStore,e,!1).then(()=>ug(a,e,t)).catch(Ul)}async function lI(s,e){const t=je(s),a=e.batch.batchId;try{const l=await yC(t.localStore,e);yb(t,a,null),pb(t,a),t.sharedClientState.updateMutationState(a,"acknowledged"),await Cc(t,l)}catch(l){await Ul(l)}}async function oI(s,e,t){const a=je(s);try{const l=await function(h,m){const p=je(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let v;return p.mutationQueue.lookupMutationBatch(y,m).next(A=>(Je(A!==null),v=A.keys(),p.mutationQueue.removeMutationBatch(y,A))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,v,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,v)).next(()=>p.localDocuments.getDocuments(y,v))})}(a.localStore,e);yb(a,e,t),pb(a,e),a.sharedClientState.updateMutationState(e,"rejected",t),await Cc(a,l)}catch(l){await Ul(l)}}function pb(s,e){(s.Ga.get(e)||[]).forEach(t=>{t.resolve()}),s.Ga.delete(e)}function yb(s,e,t){const a=je(s);let l=a.Wa[a.currentUser.toKey()];if(l){const c=l.get(e);c&&(t?c.reject(t):c.resolve(),l=l.remove(e)),a.Wa[a.currentUser.toKey()]=l}}function ug(s,e,t=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.qa.get(e))s.ka.delete(a),t&&s.La.Ja(a,t);s.qa.delete(e),s.isPrimaryClient&&s.Ua.Sr(e).forEach(a=>{s.Ua.containsKey(a)||_b(s,a)})}function _b(s,e){s.Qa.delete(e.path.canonicalString());const t=s.$a.get(e);t!==null&&($g(s.remoteStore,t),s.$a=s.$a.remove(e),s.Ka.delete(t),tp(s))}function Gx(s,e,t){for(const a of t)a instanceof hb?(s.Ua.addReference(a.key,e),cI(s,a)):a instanceof fb?(ye(ep,"Document no longer in limbo: "+a.key),s.Ua.removeReference(a.key,e),s.Ua.containsKey(a.key)||_b(s,a.key)):Ne()}function cI(s,e){const t=e.key,a=t.path.canonicalString();s.$a.get(t)||s.Qa.has(a)||(ye(ep,"New document in limbo: "+t),s.Qa.add(a),tp(s))}function tp(s){for(;s.Qa.size>0&&s.$a.size<s.maxConcurrentLimboResolutions;){const e=s.Qa.values().next().value;s.Qa.delete(e);const t=new Te(rt.fromString(e)),a=s.za.next();s.Ka.set(a,new ZC(t)),s.$a=s.$a.insert(t,a),sb(s.remoteStore,new _a(Us(Pg(t.path)),a,"TargetPurposeLimboResolution",th.ae))}}async function Cc(s,e,t){const a=je(s),l=[],c=[],h=[];a.ka.isEmpty()||(a.ka.forEach((m,p)=>{h.push(a.Ha(p,e,t).then(y=>{var v;if((y||t)&&a.isPrimaryClient){const A=y?!y.fromCache:(v=t==null?void 0:t.targetChanges.get(p.targetId))===null||v===void 0?void 0:v.current;a.sharedClientState.updateQueryState(p.targetId,A?"current":"not-current")}if(y){l.push(y);const A=Fg.Yi(p.targetId,y);c.push(A)}}))}),await Promise.all(h),a.La.p_(l),await async function(p,y){const v=je(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>oe.forEach(y,N=>oe.forEach(N.Hi,O=>v.persistence.referenceDelegate.addReference(A,N.targetId,O)).next(()=>oe.forEach(N.Ji,O=>v.persistence.referenceDelegate.removeReference(A,N.targetId,O)))))}catch(A){if(!Vl(A))throw A;ye(Gg,"Failed to update sequence numbers: "+A)}for(const A of y){const N=A.targetId;if(!A.fromCache){const O=v.Ts.get(N),M=O.snapshotVersion,B=O.withLastLimboFreeSnapshotVersion(M);v.Ts=v.Ts.insert(N,B)}}}(a.localStore,c))}async function uI(s,e){const t=je(s);if(!t.currentUser.isEqual(e)){ye(ep,"User change. New user:",e.toKey());const a=await JE(t.localStore,e);t.currentUser=e,function(c,h){c.Ga.forEach(m=>{m.forEach(p=>{p.reject(new _e(le.CANCELLED,h))})}),c.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Cc(t,a.Rs)}}function dI(s,e){const t=je(s),a=t.Ka.get(e);if(a&&a.Ba)return Ue().add(a.key);{let l=Ue();const c=t.qa.get(e);if(!c)return l;for(const h of c){const m=t.ka.get(h);l=l.unionWith(m.view.ba)}return l}}function vb(s){const e=je(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=gb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=dI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=rI.bind(null,e),e.La.p_=QC.bind(null,e.eventManager),e.La.Ja=YC.bind(null,e.eventManager),e}function hI(s){const e=je(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=lI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=oI.bind(null,e),e}class qd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ch(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return pC(this.persistence,new fC,e.initialUser,this.serializer)}Xa(e){return new ZE(Kg.ri,this.serializer)}Za(e){return new TC}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qd.provider={build:()=>new qd};class fI extends qd{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Je(this.persistence.referenceDelegate instanceof Hd);const a=this.persistence.referenceDelegate.garbageCollector;return new Zk(a,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?bn.withCacheSize(this.cacheSizeBytes):bn.DEFAULT;return new ZE(a=>Hd.ri(a,t),this.serializer)}}class dg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Fx(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=uI.bind(null,this.syncEngine),await FC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new $C}()}createDatastore(e){const t=ch(e.databaseInfo.databaseId),a=function(c){return new RC(c)}(e.databaseInfo);return function(c,h,m,p){return new jC(c,h,m,p)}(e.authCredentials,e.appCheckCredentials,a,t)}createRemoteStore(e){return function(a,l,c,h,m){return new OC(a,l,c,h,m)}(this.localStore,this.datastore,e.asyncQueue,t=>Fx(this.syncEngine,t,0),function(){return Vx.D()?new Vx:new AC}())}createSyncEngine(e,t){return function(l,c,h,m,p,y,v){const A=new JC(l,c,h,m,p,y);return v&&(A.ja=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(l){const c=je(l);ye(xr,"RemoteStore shutting down."),c.W_.add(5),await kc(c),c.z_.shutdown(),c.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}dg.provider={build:()=>new dg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Si("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka="FirestoreClient";class mI{constructor(e,t,a,l,c){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=a,this.databaseInfo=l,this.user=cn.UNAUTHENTICATED,this.clientId=dE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,async h=>{ye(ka,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(a,h=>(ye(ka,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ei;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const a=Zg(t,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function Vm(s,e){s.asyncQueue.verifyOperationInProgress(),ye(ka,"Initializing OfflineComponentProvider");const t=s.configuration;await e.initialize(t);let a=t.initialUser;s.setCredentialChangeListener(async l=>{a.isEqual(l)||(await JE(e.localStore,l),a=l)}),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}async function $x(s,e){s.asyncQueue.verifyOperationInProgress();const t=await gI(s);ye(ka,"Initializing OnlineComponentProvider"),await e.initialize(t,s.configuration),s.setCredentialChangeListener(a=>Hx(e.remoteStore,a)),s.setAppCheckTokenChangeListener((a,l)=>Hx(e.remoteStore,l)),s._onlineComponents=e}async function gI(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ye(ka,"Using user provided OfflineComponentProvider");try{await Vm(s,s._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(l){return l.name==="FirebaseError"?l.code===le.FAILED_PRECONDITION||l.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(t))throw t;wl("Error using user provided cache. Falling back to memory cache: "+t),await Vm(s,new qd)}}else ye(ka,"Using default OfflineComponentProvider"),await Vm(s,new fI(void 0));return s._offlineComponents}async function Eb(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ye(ka,"Using user provided OnlineComponentProvider"),await $x(s,s._uninitializedComponentsProvider._online)):(ye(ka,"Using default OnlineComponentProvider"),await $x(s,new dg))),s._onlineComponents}function pI(s){return Eb(s).then(e=>e.syncEngine)}async function bb(s){const e=await Eb(s),t=e.eventManager;return t.onListen=eI.bind(null,e.syncEngine),t.onUnlisten=sI.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=tI.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=iI.bind(null,e.syncEngine),t}function yI(s,e,t={}){const a=new Ei;return s.asyncQueue.enqueueAndForget(async()=>function(c,h,m,p,y){const v=new xb({next:N=>{v.su(),h.enqueueAndForget(()=>ub(c,A));const O=N.docs.has(m);!O&&N.fromCache?y.reject(new _e(le.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&N.fromCache&&p&&p.source==="server"?y.reject(new _e(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(N)},error:N=>y.reject(N)}),A=new db(Pg(m.path),v,{includeMetadataChanges:!0,Ta:!0});return cb(c,A)}(await bb(s),s.asyncQueue,e,t,a)),a.promise}function _I(s,e,t={}){const a=new Ei;return s.asyncQueue.enqueueAndForget(async()=>function(c,h,m,p,y){const v=new xb({next:N=>{v.su(),h.enqueueAndForget(()=>ub(c,A)),N.fromCache&&p.source==="server"?y.reject(new _e(le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(N)},error:N=>y.reject(N)}),A=new db(m,v,{includeMetadataChanges:!0,Ta:!0});return cb(c,A)}(await bb(s),s.asyncQueue,e,t,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tb(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(s,e,t){if(!t)throw new _e(le.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function vI(s,e,t,a){if(e===!0&&a===!0)throw new _e(le.INVALID_ARGUMENT,`${s} and ${t} cannot be used together.`)}function Yx(s){if(!Te.isDocumentKey(s))throw new _e(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Wx(s){if(Te.isDocumentKey(s))throw new _e(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function hh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Ne()}function us(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new _e(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=hh(s);throw new _e(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb="firestore.googleapis.com",Xx=!0;class Zx{constructor(e){var t,a;if(e.host===void 0){if(e.ssl!==void 0)throw new _e(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Sb,this.ssl=Xx}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Xx;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=XE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Wk)throw new _e(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}vI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Tb((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new _e(le.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new _e(le.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new _e(le.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,l){return a.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fh{constructor(e,t,a,l){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Zx({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Zx(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new NR;switch(a.type){case"firstParty":return new IR(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new _e(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const a=Qx.get(t);a&&(ye("ComponentProvider","Removing Datastore"),Qx.delete(t),a.terminate())}(this),Promise.resolve()}}function xI(s,e,t,a={}){var l;const c=(s=us(s,fh))._getSettings(),h=Object.assign(Object.assign({},c),{emulatorOptions:s._getEmulatorOptions()}),m=`${e}:${t}`;c.host!==Sb&&c.host!==m&&wl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},c),{host:m,ssl:!1,emulatorOptions:a});if(!yr(p,h)&&(s._setSettings(p),a.mockUserToken)){let y,v;if(typeof a.mockUserToken=="string")y=a.mockUserToken,v=cn.MOCK_USER;else{y=Z0(a.mockUserToken,(l=s._app)===null||l===void 0?void 0:l.options.projectId);const A=a.mockUserToken.sub||a.mockUserToken.user_id;if(!A)throw new _e(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new cn(A)}s._authCredentials=new RR(new uE(y,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e,t,a){this.converter=t,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new ja(this.firestore,e,this._query)}}class _n{constructor(e,t,a){this.converter=t,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ba(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _n(this.firestore,e,this._key)}}class ba extends ja{constructor(e,t,a){super(e,t,Pg(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _n(this.firestore,null,new Te(e))}withConverter(e){return new ba(this.firestore,e,this._path)}}function nn(s,e,...t){if(s=ct(s),Ab("collection","path",e),s instanceof fh){const a=rt.fromString(e,...t);return Wx(a),new ba(s,null,a)}{if(!(s instanceof _n||s instanceof ba))throw new _e(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(rt.fromString(e,...t));return Wx(a),new ba(s.firestore,null,a)}}function ot(s,e,...t){if(s=ct(s),arguments.length===1&&(e=dE.newId()),Ab("doc","path",e),s instanceof fh){const a=rt.fromString(e,...t);return Yx(a),new _n(s,null,new Te(a))}{if(!(s instanceof _n||s instanceof ba))throw new _e(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(rt.fromString(e,...t));return Yx(a),new _n(s.firestore,s instanceof ba?s.converter:null,new Te(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx="AsyncQueue";class e0{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new tb(this,"async_queue_retry"),this.bu=()=>{const a=Um();a&&ye(Jx,"Visibility state changed to "+a.visibilityState),this.a_.t_()},this.Su=e;const t=Um();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Um();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Ei;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Vl(e))throw e;ye(Jx,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.Su.then(()=>(this.pu=!0,e().catch(a=>{this.gu=a,this.pu=!1;const l=function(h){let m=h.message||"";return h.stack&&(m=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),m}(a);throw Si("INTERNAL UNHANDLED ERROR: ",l),a}).then(a=>(this.pu=!1,a))));return this.Su=t,t}enqueueAfterDelay(e,t,a){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const l=Xg.createAndSchedule(this,e,t,a,c=>this.Fu(c));return this.fu.push(l),l}Du(){this.gu&&Ne()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,a)=>t.targetTimeMs-a.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class Rr extends fh{constructor(e,t,a,l){super(e,t,a,l),this.type="firestore",this._queue=new e0,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new e0(e),this._firestoreClient=void 0,await e}}}function EI(s,e){const t=typeof s=="object"?s:Cg(),a=typeof s=="string"?s:Od,l=eh(t,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=Y0("firestore");c&&xI(l,...c)}return l}function np(s){if(s._terminated)throw new _e(le.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||bI(s),s._firestoreClient}function bI(s){var e,t,a;const l=s._freezeSettings(),c=function(m,p,y,v){return new FR(m,p,y,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,Tb(v.experimentalLongPollingOptions),v.useFetchStreams)}(s._databaseId,((e=s._app)===null||e===void 0?void 0:e.options.appId)||"",s._persistenceKey,l);s._componentsProvider||!((t=l.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((a=l.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(s._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),s._firestoreClient=new mI(s._authCredentials,s._appCheckCredentials,s._queue,c,s._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jl(sn.fromBase64String(e))}catch(t){throw new _e(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new jl(sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new _e(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new _e(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new _e(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI=/^__.*__$/;class AI{constructor(e,t,a){this.data=e,this.fieldMask=t,this.fieldTransforms=a}toMutation(e,t){return this.fieldMask!==null?new Ia(e,this.data,this.fieldMask,t,this.fieldTransforms):new Nc(e,this.data,t,this.fieldTransforms)}}class wb{constructor(e,t,a){this.data=e,this.fieldMask=t,this.fieldTransforms=a}toMutation(e,t){return new Ia(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Nb(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ne()}}class rp{constructor(e,t,a,l,c,h){this.settings=e,this.databaseId=t,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Bu(),this.fieldTransforms=c||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new rp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const a=(t=this.path)===null||t===void 0?void 0:t.child(e),l=this.ku({path:a,Qu:!1});return l.$u(e),l}Ku(e){var t;const a=(t=this.path)===null||t===void 0?void 0:t.child(e),l=this.ku({path:a,Qu:!1});return l.Bu(),l}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Kd(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(Nb(this.Lu)&&TI.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class SI{constructor(e,t,a){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=a||ch(e)}ju(e,t,a,l=!1){return new rp({Lu:e,methodName:t,zu:a,path:tn.emptyPath(),Qu:!1,Gu:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gh(s){const e=s._freezeSettings(),t=ch(s._databaseId);return new SI(s._databaseId,!!e.ignoreUndefinedProperties,t)}function Rb(s,e,t,a,l,c={}){const h=s.ju(c.merge||c.mergeFields?2:0,e,t,l);lp("Data must be an object, but it was:",h,a);const m=kb(a,h);let p,y;if(c.merge)p=new Dn(h.fieldMask),y=h.fieldTransforms;else if(c.mergeFields){const v=[];for(const A of c.mergeFields){const N=hg(e,A,t);if(!h.contains(N))throw new _e(le.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);Ib(v,N)||v.push(N)}p=new Dn(v),y=h.fieldTransforms.filter(A=>p.covers(A.field))}else p=null,y=h.fieldTransforms;return new AI(new Tn(m),p,y)}class ph extends sp{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ph}}function wI(s,e,t,a){const l=s.ju(1,e,t);lp("Data must be an object, but it was:",l,a);const c=[],h=Tn.empty();Ca(a,(p,y)=>{const v=op(e,p,t);y=ct(y);const A=l.Ku(v);if(y instanceof ph)c.push(v);else{const N=Ic(y,A);N!=null&&(c.push(v),h.set(v,N))}});const m=new Dn(c);return new wb(h,m,l.fieldTransforms)}function NI(s,e,t,a,l,c){const h=s.ju(1,e,t),m=[hg(e,a,t)],p=[l];if(c.length%2!=0)throw new _e(le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<c.length;N+=2)m.push(hg(e,c[N])),p.push(c[N+1]);const y=[],v=Tn.empty();for(let N=m.length-1;N>=0;--N)if(!Ib(y,m[N])){const O=m[N];let M=p[N];M=ct(M);const B=h.Ku(O);if(M instanceof ph)y.push(O);else{const V=Ic(M,B);V!=null&&(y.push(O),v.set(O,V))}}const A=new Dn(y);return new wb(v,A,h.fieldTransforms)}function RI(s,e,t,a=!1){return Ic(t,s.ju(a?4:3,e))}function Ic(s,e){if(Cb(s=ct(s)))return lp("Unsupported field value:",e,s),kb(s,e);if(s instanceof sp)return function(a,l){if(!Nb(l.Lu))throw l.Wu(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Wu(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)}(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(a,l){const c=[];let h=0;for(const m of a){let p=Ic(m,l.Uu(h));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),h++}return{arrayValue:{values:c}}}(s,e)}return function(a,l){if((a=ct(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return mk(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=Ut.fromDate(a);return{timestampValue:Bd(l.serializer,c)}}if(a instanceof Ut){const c=new Ut(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Bd(l.serializer,c)}}if(a instanceof ip)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof jl)return{bytesValue:KE(l.serializer,a._byteString)};if(a instanceof _n){const c=l.databaseId,h=a.firestore._databaseId;if(!h.isEqual(c))throw l.Wu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:zg(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof ap)return function(h,m){return{mapValue:{fields:{[vE]:{stringValue:xE},[Md]:{arrayValue:{values:h.toArray().map(y=>{if(typeof y!="number")throw m.Wu("VectorValues must only contain numeric values.");return Ug(m.serializer,y)})}}}}}}(a,l);throw l.Wu(`Unsupported field value: ${hh(a)}`)}(s,e)}function kb(s,e){const t={};return fE(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ca(s,(a,l)=>{const c=Ic(l,e.qu(a));c!=null&&(t[a]=c)}),{mapValue:{fields:t}}}function Cb(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Ut||s instanceof ip||s instanceof jl||s instanceof _n||s instanceof sp||s instanceof ap)}function lp(s,e,t){if(!Cb(t)||!function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}(t)){const a=hh(t);throw a==="an object"?e.Wu(s+" a custom object"):e.Wu(s+" "+a)}}function hg(s,e,t){if((e=ct(e))instanceof mh)return e._internalPath;if(typeof e=="string")return op(s,e);throw Kd("Field path arguments must be of type string or ",s,!1,void 0,t)}const kI=new RegExp("[~\\*/\\[\\]]");function op(s,e,t){if(e.search(kI)>=0)throw Kd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,t);try{return new mh(...e.split("."))._internalPath}catch{throw Kd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,t)}}function Kd(s,e,t,a,l){const c=a&&!a.isEmpty(),h=l!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(c||h)&&(p+=" (found",c&&(p+=` in field ${a}`),h&&(p+=` in document ${l}`),p+=")"),new _e(le.INVALID_ARGUMENT,m+s+p)}function Ib(s,e){return s.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(e,t,a,l,c){this._firestore=e,this._userDataWriter=t,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new _n(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new CI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(yh("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class CI extends jb{data(){return super.data()}}function yh(s,e){return typeof e=="string"?op(s,e):e instanceof mh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function II(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new _e(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cp{}class up extends cp{}function ha(s,e,...t){let a=[];e instanceof cp&&a.push(e),a=a.concat(t),function(c){const h=c.filter(p=>p instanceof dp).length,m=c.filter(p=>p instanceof _h).length;if(h>1||h>0&&m>0)throw new _e(le.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const l of a)s=l._apply(s);return s}class _h extends up{constructor(e,t,a){super(),this._field=e,this._op=t,this._value=a,this.type="where"}static _create(e,t,a){return new _h(e,t,a)}_apply(e){const t=this._parse(e);return Db(e._query,t),new ja(e.firestore,e.converter,ng(e._query,t))}_parse(e){const t=gh(e.firestore);return function(c,h,m,p,y,v,A){let N;if(y.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new _e(le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){n0(A,v);const M=[];for(const B of A)M.push(t0(p,c,B));N={arrayValue:{values:M}}}else N=t0(p,c,A)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||n0(A,v),N=RI(m,h,A,v==="in"||v==="not-in");return kt.create(y,v,N)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function hd(s,e,t){const a=e,l=yh("where",s);return _h._create(l,a,t)}class dp extends cp{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new dp(e,t)}_parse(e){const t=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return t.length===1?t[0]:cs.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(l,c){let h=l;const m=c.getFlattenedFilters();for(const p of m)Db(h,p),h=ng(h,p)}(e._query,t),new ja(e.firestore,e.converter,ng(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class hp extends up{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new hp(e,t)}_apply(e){const t=function(l,c,h){if(l.startAt!==null)throw new _e(le.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new _e(le.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new vc(c,h)}(e._query,this._field,this._direction);return new ja(e.firestore,e.converter,function(l,c){const h=l.explicitOrderBy.concat([c]);return new Bl(l.path,l.collectionGroup,h,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(e._query,t))}}function fg(s,e="asc"){const t=e,a=yh("orderBy",s);return hp._create(a,t)}class fp extends up{constructor(e,t,a){super(),this.type=e,this._limit=t,this._limitType=a}static _create(e,t,a){return new fp(e,t,a)}_apply(e){return new ja(e.firestore,e.converter,Pd(e._query,this._limit,this._limitType))}}function jI(s){return fp._create("limit",s,"F")}function t0(s,e,t){if(typeof(t=ct(t))=="string"){if(t==="")throw new _e(le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!RE(e)&&t.indexOf("/")!==-1)throw new _e(le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const a=e.path.child(rt.fromString(t));if(!Te.isDocumentKey(a))throw new _e(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return yx(s,new Te(a))}if(t instanceof _n)return yx(s,t._key);throw new _e(le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hh(t)}.`)}function n0(s,e){if(!Array.isArray(s)||s.length===0)throw new _e(le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Db(s,e){const t=function(l,c){for(const h of l)for(const m of h.getFlattenedFilters())if(c.indexOf(m.op)>=0)return m.op;return null}(s.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new _e(le.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new _e(le.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class DI{convertValue(e,t="none"){switch(Na(e)){case 0:return null;case 1:return e.booleanValue;case 2:return At(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(wa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ne()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const a={};return Ca(e,(l,c)=>{a[l]=this.convertValue(c,t)}),a}convertVectorValue(e){var t,a,l;const c=(l=(a=(t=e.fields)===null||t===void 0?void 0:t[Md].arrayValue)===null||a===void 0?void 0:a.values)===null||l===void 0?void 0:l.map(h=>At(h.doubleValue));return new ap(c)}convertGeoPoint(e){return new ip(At(e.latitude),At(e.longitude))}convertArray(e,t){return(e.values||[]).map(a=>this.convertValue(a,t))}convertServerTimestamp(e,t){switch(t){case"previous":const a=sh(e);return a==null?null:this.convertValue(a,t);case"estimate":return this.convertTimestamp(pc(e));default:return null}}convertTimestamp(e){const t=Sa(e);return new Ut(t.seconds,t.nanos)}convertDocumentKey(e,t){const a=rt.fromString(e);Je(WE(a));const l=new yc(a.get(1),a.get(3)),c=new Te(a.popFirst(5));return l.isEqual(t)||Si(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ob(s,e,t){let a;return a=s?s.toFirestore(e):e,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Mb extends jb{constructor(e,t,a,l,c,h){super(e,t,a,l,h),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ad(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const a=this._document.data.field(yh("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,t.serverTimestamps)}}}class Ad extends Mb{data(e={}){return super.data(e)}}class OI{constructor(e,t,a,l){this._firestore=e,this._userDataWriter=t,this._snapshot=l,this.metadata=new rc(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(a=>{e.call(t,new Ad(this._firestore,this._userDataWriter,a.key,a,new rc(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new _e(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(l,c){if(l._snapshot.oldDocs.isEmpty()){let h=0;return l._snapshot.docChanges.map(m=>{const p=new Ad(l._firestore,l._userDataWriter,m.doc.key,m.doc,new rc(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(m=>c||m.type!==3).map(m=>{const p=new Ad(l._firestore,l._userDataWriter,m.doc.key,m.doc,new rc(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,v=-1;return m.type!==0&&(y=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),v=h.indexOf(m.doc.key)),{type:MI(m.type),doc:p,oldIndex:y,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function MI(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ne()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Da(s){s=us(s,_n);const e=us(s.firestore,Rr);return yI(np(e),s._key).then(t=>PI(e,s,t))}class Lb extends DI{constructor(e){super(),this.firestore=e}convertBytes(e){return new jl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new _n(this.firestore,null,t)}}function es(s){s=us(s,ja);const e=us(s.firestore,Rr),t=np(e),a=new Lb(e);return II(s._query),_I(t,s._query).then(l=>new OI(e,a,s,l))}function ds(s,e,t){s=us(s,_n);const a=us(s.firestore,Rr),l=Ob(s.converter,e);return vh(a,[Rb(gh(a),"setDoc",s._key,l,s.converter!==null,t).toMutation(s._key,Jn.none())])}function mp(s,e,t,...a){s=us(s,_n);const l=us(s.firestore,Rr),c=gh(l);let h;return h=typeof(e=ct(e))=="string"||e instanceof mh?NI(c,"updateDoc",s._key,e,t,a):wI(c,"updateDoc",s._key,e),vh(l,[h.toMutation(s._key,Jn.exists(!0))])}function jc(s){return vh(us(s.firestore,Rr),[new Vg(s._key,Jn.none())])}function LI(s,e){const t=us(s.firestore,Rr),a=ot(s),l=Ob(s.converter,e);return vh(t,[Rb(gh(s.firestore),"addDoc",a._key,l,s.converter!==null,{}).toMutation(a._key,Jn.exists(!1))]).then(()=>a)}function vh(s,e){return function(a,l){const c=new Ei;return a.asyncQueue.enqueueAndForget(async()=>aI(await pI(a),l,c)),c.promise}(np(s),e)}function PI(s,e,t){const a=t.docs.get(e._key),l=new Lb(s);return new Mb(s,l,e._key,a,new rc(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(l){Pl=l})(Sr),_r(new Ta("firestore",(a,{instanceIdentifier:l,options:c})=>{const h=a.getProvider("app").getImmediate(),m=new Rr(new kR(a.getProvider("auth-internal")),new jR(h,a.getProvider("app-check-internal")),function(y,v){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new _e(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yc(y.options.projectId,v)}(h,l),h);return c=Object.assign({useFetchStreams:t},c),m._setSettings(c),m},"PUBLIC").setMultipleInstances(!0)),Ps(rx,lx,e),Ps(rx,lx,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb="firebasestorage.googleapis.com",Ub="storageBucket",UI=2*60*1e3,VI=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt extends qs{constructor(e,t,a=0){super(Bm(e),`Firebase Storage: ${t} (${Bm(e)})`),this.status_=a,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,xt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Bm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var vt;(function(s){s.UNKNOWN="unknown",s.OBJECT_NOT_FOUND="object-not-found",s.BUCKET_NOT_FOUND="bucket-not-found",s.PROJECT_NOT_FOUND="project-not-found",s.QUOTA_EXCEEDED="quota-exceeded",s.UNAUTHENTICATED="unauthenticated",s.UNAUTHORIZED="unauthorized",s.UNAUTHORIZED_APP="unauthorized-app",s.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",s.INVALID_CHECKSUM="invalid-checksum",s.CANCELED="canceled",s.INVALID_EVENT_NAME="invalid-event-name",s.INVALID_URL="invalid-url",s.INVALID_DEFAULT_BUCKET="invalid-default-bucket",s.NO_DEFAULT_BUCKET="no-default-bucket",s.CANNOT_SLICE_BLOB="cannot-slice-blob",s.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",s.NO_DOWNLOAD_URL="no-download-url",s.INVALID_ARGUMENT="invalid-argument",s.INVALID_ARGUMENT_COUNT="invalid-argument-count",s.APP_DELETED="app-deleted",s.INVALID_ROOT_OPERATION="invalid-root-operation",s.INVALID_FORMAT="invalid-format",s.INTERNAL_ERROR="internal-error",s.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(vt||(vt={}));function Bm(s){return"storage/"+s}function gp(){const s="An unknown error occurred, please check the error payload for server response.";return new xt(vt.UNKNOWN,s)}function BI(s){return new xt(vt.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")}function HI(s){return new xt(vt.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function zI(){const s="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new xt(vt.UNAUTHENTICATED,s)}function qI(){return new xt(vt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function KI(s){return new xt(vt.UNAUTHORIZED,"User does not have permission to access '"+s+"'.")}function FI(){return new xt(vt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function GI(){return new xt(vt.CANCELED,"User canceled the upload/download.")}function $I(s){return new xt(vt.INVALID_URL,"Invalid URL '"+s+"'.")}function QI(s){return new xt(vt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+s+"'.")}function YI(){return new xt(vt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Ub+"' property when initializing the app?")}function WI(){return new xt(vt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function XI(){return new xt(vt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function ZI(s){return new xt(vt.UNSUPPORTED_ENVIRONMENT,`${s} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function mg(s){return new xt(vt.INVALID_ARGUMENT,s)}function Vb(){return new xt(vt.APP_DELETED,"The Firebase app was deleted.")}function JI(s){return new xt(vt.INVALID_ROOT_OPERATION,"The operation '"+s+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function dc(s,e){return new xt(vt.INVALID_FORMAT,"String does not match format '"+s+"': "+e)}function ec(s){throw new xt(vt.INTERNAL_ERROR,"Internal error: "+s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let a;try{a=On.makeFromUrl(e,t)}catch{return new On(e,"")}if(a.path==="")return a;throw QI(e)}static makeFromUrl(e,t){let a=null;const l="([A-Za-z0-9.\\-_]+)";function c(te){te.path.charAt(te.path.length-1)==="/"&&(te.path_=te.path_.slice(0,-1))}const h="(/(.*))?$",m=new RegExp("^gs://"+l+h,"i"),p={bucket:1,path:3};function y(te){te.path_=decodeURIComponent(te.path)}const v="v[A-Za-z0-9_]+",A=t.replace(/[.]/g,"\\."),N="(/([^?#]*).*)?$",O=new RegExp(`^https?://${A}/${v}/b/${l}/o${N}`,"i"),M={bucket:1,path:3},B=t===Pb?"(?:storage.googleapis.com|storage.cloud.google.com)":t,V="([^?#]*)",K=new RegExp(`^https?://${B}/${l}/${V}`,"i"),Z=[{regex:m,indices:p,postModify:c},{regex:O,indices:M,postModify:y},{regex:K,indices:{bucket:1,path:2},postModify:y}];for(let te=0;te<Z.length;te++){const ae=Z[te],de=ae.regex.exec(e);if(de){const D=de[ae.indices.bucket];let k=de[ae.indices.path];k||(k=""),a=new On(D,k),ae.postModify(a);break}}if(a==null)throw $I(e);return a}}class e1{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(s,e,t){let a=1,l=null,c=null,h=!1,m=0;function p(){return m===2}let y=!1;function v(...V){y||(y=!0,e.apply(null,V))}function A(V){l=setTimeout(()=>{l=null,s(O,p())},V)}function N(){c&&clearTimeout(c)}function O(V,...K){if(y){N();return}if(V){N(),v.call(null,V,...K);return}if(p()||h){N(),v.call(null,V,...K);return}a<64&&(a*=2);let Z;m===1?(m=2,Z=0):Z=(a+Math.random())*1e3,A(Z)}let M=!1;function B(V){M||(M=!0,N(),!y&&(l!==null?(V||(m=2),clearTimeout(l),A(0)):V||(m=1)))}return A(0),c=setTimeout(()=>{h=!0,B(!0)},t),B}function n1(s){s(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(s){return s!==void 0}function i1(s){return typeof s=="object"&&!Array.isArray(s)}function pp(s){return typeof s=="string"||s instanceof String}function s0(s){return yp()&&s instanceof Blob}function yp(){return typeof Blob<"u"}function i0(s,e,t,a){if(a<e)throw mg(`Invalid value for '${s}'. Expected ${e} or greater.`);if(a>t)throw mg(`Invalid value for '${s}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xh(s,e,t){let a=e;return t==null&&(a=`https://${e}`),`${t}://${a}/v0${s}`}function Bb(s){const e=encodeURIComponent;let t="?";for(const a in s)if(s.hasOwnProperty(a)){const l=e(a)+"="+e(s[a]);t=t+l+"&"}return t=t.slice(0,-1),t}var gr;(function(s){s[s.NO_ERROR=0]="NO_ERROR",s[s.NETWORK_ERROR=1]="NETWORK_ERROR",s[s.ABORT=2]="ABORT"})(gr||(gr={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a1(s,e){const t=s>=500&&s<600,l=[408,429].indexOf(s)!==-1,c=e.indexOf(s)!==-1;return t||l||c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e,t,a,l,c,h,m,p,y,v,A,N=!0){this.url_=e,this.method_=t,this.headers_=a,this.body_=l,this.successCodes_=c,this.additionalRetryCodes_=h,this.callback_=m,this.errorCallback_=p,this.timeout_=y,this.progressCallback_=v,this.connectionFactory_=A,this.retry=N,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((O,M)=>{this.resolve_=O,this.reject_=M,this.start_()})}start_(){const e=(a,l)=>{if(l){a(!1,new fd(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const h=m=>{const p=m.loaded,y=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,y)};this.progressCallback_!==null&&c.addUploadProgressListener(h),c.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(h),this.pendingConnection_=null;const m=c.getErrorCode()===gr.NO_ERROR,p=c.getStatus();if(!m||a1(p,this.additionalRetryCodes_)&&this.retry){const v=c.getErrorCode()===gr.ABORT;a(!1,new fd(!1,null,v));return}const y=this.successCodes_.indexOf(p)!==-1;a(!0,new fd(y,c))})},t=(a,l)=>{const c=this.resolve_,h=this.reject_,m=l.connection;if(l.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());s1(p)?c(p):c()}catch(p){h(p)}else if(m!==null){const p=gp();p.serverResponse=m.getErrorText(),this.errorCallback_?h(this.errorCallback_(m,p)):h(p)}else if(l.canceled){const p=this.appDelete_?Vb():GI();h(p)}else{const p=FI();h(p)}};this.canceled_?t(!1,new fd(!1,null,!0)):this.backoffId_=t1(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&n1(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class fd{constructor(e,t,a){this.wasSuccessCode=e,this.connection=t,this.canceled=!!a}}function l1(s,e){e!==null&&e.length>0&&(s.Authorization="Firebase "+e)}function o1(s,e){s["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function c1(s,e){e&&(s["X-Firebase-GMPID"]=e)}function u1(s,e){e!==null&&(s["X-Firebase-AppCheck"]=e)}function d1(s,e,t,a,l,c,h=!0){const m=Bb(s.urlParams),p=s.url+m,y=Object.assign({},s.headers);return c1(y,e),l1(y,t),o1(y,c),u1(y,a),new r1(p,s.method,y,s.body,s.successCodes,s.additionalRetryCodes,s.handler,s.errorHandler,s.timeout,s.progressCallback,l,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h1(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function f1(...s){const e=h1();if(e!==void 0){const t=new e;for(let a=0;a<s.length;a++)t.append(s[a]);return t.getBlob()}else{if(yp())return new Blob(s);throw new xt(vt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function m1(s,e,t){return s.webkitSlice?s.webkitSlice(e,t):s.mozSlice?s.mozSlice(e,t):s.slice?s.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1(s){if(typeof atob>"u")throw ZI("base-64");return atob(s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Hm{constructor(e,t){this.data=e,this.contentType=t||null}}function p1(s,e){switch(s){case Ls.RAW:return new Hm(Hb(e));case Ls.BASE64:case Ls.BASE64URL:return new Hm(zb(s,e));case Ls.DATA_URL:return new Hm(_1(e),v1(e))}throw gp()}function Hb(s){const e=[];for(let t=0;t<s.length;t++){let a=s.charCodeAt(t);if(a<=127)e.push(a);else if(a<=2047)e.push(192|a>>6,128|a&63);else if((a&64512)===55296)if(!(t<s.length-1&&(s.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const c=a,h=s.charCodeAt(++t);a=65536|(c&1023)<<10|h&1023,e.push(240|a>>18,128|a>>12&63,128|a>>6&63,128|a&63)}else(a&64512)===56320?e.push(239,191,189):e.push(224|a>>12,128|a>>6&63,128|a&63)}return new Uint8Array(e)}function y1(s){let e;try{e=decodeURIComponent(s)}catch{throw dc(Ls.DATA_URL,"Malformed data URL.")}return Hb(e)}function zb(s,e){switch(s){case Ls.BASE64:{const l=e.indexOf("-")!==-1,c=e.indexOf("_")!==-1;if(l||c)throw dc(s,"Invalid character '"+(l?"-":"_")+"' found: is it base64url encoded?");break}case Ls.BASE64URL:{const l=e.indexOf("+")!==-1,c=e.indexOf("/")!==-1;if(l||c)throw dc(s,"Invalid character '"+(l?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=g1(e)}catch(l){throw l.message.includes("polyfill")?l:dc(s,"Invalid character found")}const a=new Uint8Array(t.length);for(let l=0;l<t.length;l++)a[l]=t.charCodeAt(l);return a}class qb{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw dc(Ls.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const a=t[1]||null;a!=null&&(this.base64=x1(a,";base64"),this.contentType=this.base64?a.substring(0,a.length-7):a),this.rest=e.substring(e.indexOf(",")+1)}}function _1(s){const e=new qb(s);return e.base64?zb(Ls.BASE64,e.rest):y1(e.rest)}function v1(s){return new qb(s).contentType}function x1(s,e){return s.length>=e.length?s.substring(s.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,t){let a=0,l="";s0(e)?(this.data_=e,a=e.size,l=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),a=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),a=e.length),this.size_=a,this.type_=l}size(){return this.size_}type(){return this.type_}slice(e,t){if(s0(this.data_)){const a=this.data_,l=m1(a,e,t);return l===null?null:new fa(l)}else{const a=new Uint8Array(this.data_.buffer,e,t-e);return new fa(a,!0)}}static getBlob(...e){if(yp()){const t=e.map(a=>a instanceof fa?a.data_:a);return new fa(f1.apply(null,t))}else{const t=e.map(h=>pp(h)?p1(Ls.RAW,h).data:h.data_);let a=0;t.forEach(h=>{a+=h.byteLength});const l=new Uint8Array(a);let c=0;return t.forEach(h=>{for(let m=0;m<h.length;m++)l[c++]=h[m]}),new fa(l,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kb(s){let e;try{e=JSON.parse(s)}catch{return null}return i1(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E1(s){if(s.length===0)return null;const e=s.lastIndexOf("/");return e===-1?"":s.slice(0,e)}function b1(s,e){const t=e.split("/").filter(a=>a.length>0).join("/");return s.length===0?t:s+"/"+t}function Fb(s){const e=s.lastIndexOf("/",s.length-2);return e===-1?s:s.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T1(s,e){return e}class yn{constructor(e,t,a,l){this.server=e,this.local=t||e,this.writable=!!a,this.xform=l||T1}}let md=null;function A1(s){return!pp(s)||s.length<2?s:Fb(s)}function Gb(){if(md)return md;const s=[];s.push(new yn("bucket")),s.push(new yn("generation")),s.push(new yn("metageneration")),s.push(new yn("name","fullPath",!0));function e(c,h){return A1(h)}const t=new yn("name");t.xform=e,s.push(t);function a(c,h){return h!==void 0?Number(h):h}const l=new yn("size");return l.xform=a,s.push(l),s.push(new yn("timeCreated")),s.push(new yn("updated")),s.push(new yn("md5Hash",null,!0)),s.push(new yn("cacheControl",null,!0)),s.push(new yn("contentDisposition",null,!0)),s.push(new yn("contentEncoding",null,!0)),s.push(new yn("contentLanguage",null,!0)),s.push(new yn("contentType",null,!0)),s.push(new yn("metadata","customMetadata",!0)),md=s,md}function S1(s,e){function t(){const a=s.bucket,l=s.fullPath,c=new On(a,l);return e._makeStorageReference(c)}Object.defineProperty(s,"ref",{get:t})}function w1(s,e,t){const a={};a.type="file";const l=t.length;for(let c=0;c<l;c++){const h=t[c];a[h.local]=h.xform(a,e[h.server])}return S1(a,s),a}function $b(s,e,t){const a=Kb(e);return a===null?null:w1(s,a,t)}function N1(s,e,t,a){const l=Kb(e);if(l===null||!pp(l.downloadTokens))return null;const c=l.downloadTokens;if(c.length===0)return null;const h=encodeURIComponent;return c.split(",").map(y=>{const v=s.bucket,A=s.fullPath,N="/b/"+h(v)+"/o/"+h(A),O=xh(N,t,a),M=Bb({alt:"media",token:y});return O+M})[0]}function R1(s,e){const t={},a=e.length;for(let l=0;l<a;l++){const c=e[l];c.writable&&(t[c.server]=s[c.local])}return JSON.stringify(t)}class _p{constructor(e,t,a,l){this.url=e,this.method=t,this.handler=a,this.timeout=l,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qb(s){if(!s)throw gp()}function k1(s,e){function t(a,l){const c=$b(s,l,e);return Qb(c!==null),c}return t}function C1(s,e){function t(a,l){const c=$b(s,l,e);return Qb(c!==null),N1(c,l,s.host,s._protocol)}return t}function Yb(s){function e(t,a){let l;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?l=qI():l=zI():t.getStatus()===402?l=HI(s.bucket):t.getStatus()===403?l=KI(s.path):l=a,l.status=t.getStatus(),l.serverResponse=a.serverResponse,l}return e}function Wb(s){const e=Yb(s);function t(a,l){let c=e(a,l);return a.getStatus()===404&&(c=BI(s.path)),c.serverResponse=l.serverResponse,c}return t}function I1(s,e,t){const a=e.fullServerUrl(),l=xh(a,s.host,s._protocol),c="GET",h=s.maxOperationRetryTime,m=new _p(l,c,C1(s,t),h);return m.errorHandler=Wb(e),m}function j1(s,e){const t=e.fullServerUrl(),a=xh(t,s.host,s._protocol),l="DELETE",c=s.maxOperationRetryTime;function h(p,y){}const m=new _p(a,l,h,c);return m.successCodes=[200,204],m.errorHandler=Wb(e),m}function D1(s,e){return s&&s.contentType||e&&e.type()||"application/octet-stream"}function O1(s,e,t){const a=Object.assign({},t);return a.fullPath=s.path,a.size=e.size(),a.contentType||(a.contentType=D1(null,e)),a}function M1(s,e,t,a,l){const c=e.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"};function m(){let Z="";for(let te=0;te<2;te++)Z=Z+Math.random().toString().slice(2);return Z}const p=m();h["Content-Type"]="multipart/related; boundary="+p;const y=O1(e,a,l),v=R1(y,t),A="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+p+`\r
Content-Type: `+y.contentType+`\r
\r
`,N=`\r
--`+p+"--",O=fa.getBlob(A,a,N);if(O===null)throw WI();const M={name:y.fullPath},B=xh(c,s.host,s._protocol),V="POST",K=s.maxUploadRetryTime,G=new _p(B,V,k1(s,t),K);return G.urlParams=M,G.headers=h,G.body=O.uploadData(),G.errorHandler=Yb(e),G}class L1{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=gr.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=gr.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=gr.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,a,l){if(this.sent_)throw ec("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),l!==void 0)for(const c in l)l.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,l[c].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ec("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ec("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ec("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ec("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class P1 extends L1{initXhr(){this.xhr_.responseType="text"}}function vp(){return new P1}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e,t){this._service=e,t instanceof On?this._location=t:this._location=On.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Er(e,t)}get root(){const e=new On(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Fb(this._location.path)}get storage(){return this._service}get parent(){const e=E1(this._location.path);if(e===null)return null;const t=new On(this._location.bucket,e);return new Er(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw JI(e)}}function U1(s,e,t){s._throwIfRoot("uploadBytes");const a=M1(s.storage,s._location,Gb(),new fa(e,!0),t);return s.storage.makeRequestWithTokens(a,vp).then(l=>({metadata:l,ref:s}))}function V1(s){s._throwIfRoot("getDownloadURL");const e=I1(s.storage,s._location,Gb());return s.storage.makeRequestWithTokens(e,vp).then(t=>{if(t===null)throw XI();return t})}function B1(s){s._throwIfRoot("deleteObject");const e=j1(s.storage,s._location);return s.storage.makeRequestWithTokens(e,vp)}function H1(s,e){const t=b1(s._location.path,e),a=new On(s._location.bucket,t);return new Er(s.storage,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z1(s){return/^[A-Za-z]+:\/\//.test(s)}function q1(s,e){return new Er(s,e)}function Xb(s,e){if(s instanceof xp){const t=s;if(t._bucket==null)throw YI();const a=new Er(t,t._bucket);return e!=null?Xb(a,e):a}else return e!==void 0?H1(s,e):s}function K1(s,e){if(e&&z1(e)){if(s instanceof xp)return q1(s,e);throw mg("To use ref(service, url), the first argument must be a Storage instance.")}else return Xb(s,e)}function a0(s,e){const t=e==null?void 0:e[Ub];return t==null?null:On.makeFromBucketSpec(t,s)}function F1(s,e,t,a={}){s.host=`${e}:${t}`,s._protocol="http";const{mockUserToken:l}=a;l&&(s._overrideAuthToken=typeof l=="string"?l:Z0(l,s.app.options.projectId))}class xp{constructor(e,t,a,l,c){this.app=e,this._authProvider=t,this._appCheckProvider=a,this._url=l,this._firebaseVersion=c,this._bucket=null,this._host=Pb,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=UI,this._maxUploadRetryTime=VI,this._requests=new Set,l!=null?this._bucket=On.makeFromBucketSpec(l,this._host):this._bucket=a0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=On.makeFromBucketSpec(this._url,e):this._bucket=a0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){i0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){i0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Er(this,e)}_makeRequest(e,t,a,l,c=!0){if(this._deleted)return new e1(Vb());{const h=d1(e,this._appId,a,l,t,this._firebaseVersion,c);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,t){const[a,l]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,a,l).getPromise()}}const r0="@firebase/storage",l0="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zb="storage";function zl(s,e,t){return s=ct(s),U1(s,e,t)}function ql(s){return s=ct(s),V1(s)}function Dc(s){return s=ct(s),B1(s)}function hs(s,e){return s=ct(s),K1(s,e)}function Jb(s=Cg(),e){s=ct(s);const a=eh(s,Zb).getImmediate({identifier:e}),l=Y0("storage");return l&&G1(a,...l),a}function G1(s,e,t,a={}){F1(s,e,t,a)}function $1(s,{instanceIdentifier:e}){const t=s.getProvider("app").getImmediate(),a=s.getProvider("auth-internal"),l=s.getProvider("app-check-internal");return new xp(t,a,l,e,Sr)}function Q1(){_r(new Ta(Zb,$1,"PUBLIC").setMultipleInstances(!0)),Ps(r0,l0,""),Ps(r0,l0,"esm2017")}Q1();function Ep(s,e){var t={};for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&e.indexOf(a)<0&&(t[a]=s[a]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(s);l<a.length;l++)e.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(s,a[l])&&(t[a[l]]=s[a[l]]);return t}function eT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Y1=eT,tT=new Sc("auth","Firebase",eT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fd=new Rg("@firebase/auth");function W1(s,...e){Fd.logLevel<=Pe.WARN&&Fd.warn(`Auth (${Sr}): ${s}`,...e)}function Sd(s,...e){Fd.logLevel<=Pe.ERROR&&Fd.error(`Auth (${Sr}): ${s}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fs(s,...e){throw bp(s,...e)}function Bs(s,...e){return bp(s,...e)}function nT(s,e,t){const a=Object.assign(Object.assign({},Y1()),{[e]:t});return new Sc("auth","Firebase",a).create(e,{appName:s.name})}function bi(s){return nT(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function bp(s,...e){if(typeof s!="string"){const t=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(t,...a)}return tT.create(s,...e)}function we(s,e,...t){if(!s)throw bp(e,...t)}function yi(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Sd(e),new Error(e)}function Ni(s,e){s||yi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gg(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.href)||""}function X1(){return o0()==="http:"||o0()==="https:"}function o0(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(X1()||iN()||"connection"in navigator)?navigator.onLine:!0}function J1(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ni(t>e,"Short delay should be less than long delay!"),this.isMobile=tN()||aN()}get(){return Z1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tp(s,e){Ni(s.emulator,"Emulator should always be set here");const{url:t}=s.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{static initialize(e,t,a){this.fetchImpl=e,t&&(this.headersImpl=t),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;yi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;yi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;yi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ej={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tj=new Oc(3e4,6e4);function Oa(s,e){return s.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:s.tenantId}):e}async function Ri(s,e,t,a,l={}){return iT(s,l,async()=>{let c={},h={};a&&(e==="GET"?h=a:c={body:JSON.stringify(a)});const m=wc(Object.assign({key:s.config.apiKey},h)).slice(1),p=await s._getAdditionalHeaders();p["Content-Type"]="application/json",s.languageCode&&(p["X-Firebase-Locale"]=s.languageCode);const y=Object.assign({method:e,headers:p},c);return sN()||(y.referrerPolicy="no-referrer"),sT.fetch()(aT(s,s.config.apiHost,t,m),y)})}async function iT(s,e,t){s._canInitEmulator=!1;const a=Object.assign(Object.assign({},ej),e);try{const l=new sj(s),c=await Promise.race([t(),l.promise]);l.clearNetworkTimeout();const h=await c.json();if("needConfirmation"in h)throw gd(s,"account-exists-with-different-credential",h);if(c.ok&&!("errorMessage"in h))return h;{const m=c.ok?h.errorMessage:h.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw gd(s,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw gd(s,"email-already-in-use",h);if(p==="USER_DISABLED")throw gd(s,"user-disabled",h);const v=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw nT(s,v,y);fs(s,v)}}catch(l){if(l instanceof qs)throw l;fs(s,"network-request-failed",{message:String(l)})}}async function Mc(s,e,t,a,l={}){const c=await Ri(s,e,t,a,l);return"mfaPendingCredential"in c&&fs(s,"multi-factor-auth-required",{_serverResponse:c}),c}function aT(s,e,t,a){const l=`${e}${t}?${a}`;return s.config.emulator?Tp(s.config,l):`${s.config.apiScheme}://${l}`}function nj(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class sj{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,a)=>{this.timer=setTimeout(()=>a(Bs(this.auth,"network-request-failed")),tj.get())})}}function gd(s,e,t){const a={appName:s.name};t.email&&(a.email=t.email),t.phoneNumber&&(a.phoneNumber=t.phoneNumber);const l=Bs(s,e,a);return l.customData._tokenResponse=t,l}function c0(s){return s!==void 0&&s.enterprise!==void 0}class ij{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return nj(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function aj(s,e){return Ri(s,"GET","/v2/recaptchaConfig",Oa(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rj(s,e){return Ri(s,"POST","/v1/accounts:delete",e)}async function rT(s,e){return Ri(s,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hc(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function lj(s,e=!1){const t=ct(s),a=await t.getIdToken(e),l=Ap(a);we(l&&l.exp&&l.auth_time&&l.iat,t.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,h=c==null?void 0:c.sign_in_provider;return{claims:l,token:a,authTime:hc(zm(l.auth_time)),issuedAtTime:hc(zm(l.iat)),expirationTime:hc(zm(l.exp)),signInProvider:h||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function zm(s){return Number(s)*1e3}function Ap(s){const[e,t,a]=s.split(".");if(e===void 0||t===void 0||a===void 0)return Sd("JWT malformed, contained fewer than 3 sections"),null;try{const l=$0(t);return l?JSON.parse(l):(Sd("Failed to decode base64 JWT payload"),null)}catch(l){return Sd("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function u0(s){const e=Ap(s);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dl(s,e,t=!1){if(t)return e;try{return await e}catch(a){throw a instanceof qs&&oj(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function oj({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const l=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=hc(this.lastLoginAt),this.creationTime=hc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gd(s){var e;const t=s.auth,a=await s.getIdToken(),l=await Dl(s,rT(t,{idToken:a}));we(l==null?void 0:l.users.length,t,"internal-error");const c=l.users[0];s._notifyReloadListener(c);const h=!((e=c.providerUserInfo)===null||e===void 0)&&e.length?lT(c.providerUserInfo):[],m=dj(s.providerData,h),p=s.isAnonymous,y=!(s.email&&c.passwordHash)&&!(m!=null&&m.length),v=p?y:!1,A={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:m,metadata:new pg(c.createdAt,c.lastLoginAt),isAnonymous:v};Object.assign(s,A)}async function uj(s){const e=ct(s);await Gd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function dj(s,e){return[...s.filter(a=>!e.some(l=>l.providerId===a.providerId)),...e]}function lT(s){return s.map(e=>{var{providerId:t}=e,a=Ep(e,["providerId"]);return{providerId:t,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hj(s,e){const t=await iT(s,{},async()=>{const a=wc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,h=aT(s,l,"/v1/token",`key=${c}`),m=await s._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",sT.fetch()(h,{method:"POST",headers:m,body:a})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function fj(s,e){return Ri(s,"POST","/v2/accounts:revokeToken",Oa(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):u0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){we(e.length!==0,"internal-error");const t=u0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:a,refreshToken:l,expiresIn:c}=await hj(e,t);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(e,t,a){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,t){const{refreshToken:a,accessToken:l,expirationTime:c}=t,h=new Tl;return a&&(we(typeof a=="string","internal-error",{appName:e}),h.refreshToken=a),l&&(we(typeof l=="string","internal-error",{appName:e}),h.accessToken=l),c&&(we(typeof c=="number","internal-error",{appName:e}),h.expirationTime=c),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Tl,this.toJSON())}_performRefresh(){return yi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function da(s,e){we(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class _i{constructor(e){var{uid:t,auth:a,stsTokenManager:l}=e,c=Ep(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new cj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=a,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new pg(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(e){const t=await Dl(this,this.stsTokenManager.getToken(this.auth,e));return we(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return lj(this,e)}reload(){return uj(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new _i(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),t&&await Gd(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(jn(this.auth.app))return Promise.reject(bi(this.auth));const e=await this.getIdToken();return await Dl(this,rj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var a,l,c,h,m,p,y,v;const A=(a=t.displayName)!==null&&a!==void 0?a:void 0,N=(l=t.email)!==null&&l!==void 0?l:void 0,O=(c=t.phoneNumber)!==null&&c!==void 0?c:void 0,M=(h=t.photoURL)!==null&&h!==void 0?h:void 0,B=(m=t.tenantId)!==null&&m!==void 0?m:void 0,V=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,K=(y=t.createdAt)!==null&&y!==void 0?y:void 0,G=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:Z,emailVerified:te,isAnonymous:ae,providerData:de,stsTokenManager:D}=t;we(Z&&D,e,"internal-error");const k=Tl.fromJSON(this.name,D);we(typeof Z=="string",e,"internal-error"),da(A,e.name),da(N,e.name),we(typeof te=="boolean",e,"internal-error"),we(typeof ae=="boolean",e,"internal-error"),da(O,e.name),da(M,e.name),da(B,e.name),da(V,e.name),da(K,e.name),da(G,e.name);const b=new _i({uid:Z,auth:e,email:N,emailVerified:te,displayName:A,isAnonymous:ae,photoURL:M,phoneNumber:O,tenantId:B,stsTokenManager:k,createdAt:K,lastLoginAt:G});return de&&Array.isArray(de)&&(b.providerData=de.map(T=>Object.assign({},T))),V&&(b._redirectEventId=V),b}static async _fromIdTokenResponse(e,t,a=!1){const l=new Tl;l.updateFromServerResponse(t);const c=new _i({uid:t.localId,auth:e,stsTokenManager:l,isAnonymous:a});return await Gd(c),c}static async _fromGetAccountInfoResponse(e,t,a){const l=t.users[0];we(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?lT(l.providerUserInfo):[],h=!(l.email&&l.passwordHash)&&!(c!=null&&c.length),m=new Tl;m.updateFromIdToken(a);const p=new _i({uid:l.localId,auth:e,stsTokenManager:m,isAnonymous:h}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new pg(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(c!=null&&c.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0=new Map;function vi(s){Ni(s instanceof Function,"Expected a class definition");let e=d0.get(s);return e?(Ni(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,d0.set(s,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}oT.type="NONE";const h0=oT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wd(s,e,t){return`firebase:${s}:${e}:${t}`}class Al{constructor(e,t,a){this.persistence=e,this.auth=t,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=wd(this.userKey,l.apiKey,c),this.fullPersistenceKey=wd("persistence",l.apiKey,c),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?_i._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,a="authUser"){if(!t.length)return new Al(vi(h0),e,a);const l=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||vi(h0);const h=wd(a,e.config.apiKey,e.name);let m=null;for(const y of t)try{const v=await y._get(h);if(v){const A=_i._fromJSON(e,v);y!==c&&(m=A),c=y;break}}catch{}const p=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new Al(c,e,a):(c=p[0],m&&await c._set(h,m.toJSON()),await Promise.all(t.map(async y=>{if(y!==c)try{await y._remove(h)}catch{}})),new Al(c,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f0(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(hT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(cT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(mT(e))return"Blackberry";if(gT(e))return"Webos";if(uT(e))return"Safari";if((e.includes("chrome/")||dT(e))&&!e.includes("edge/"))return"Chrome";if(fT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(t);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function cT(s=dn()){return/firefox\//i.test(s)}function uT(s=dn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function dT(s=dn()){return/crios\//i.test(s)}function hT(s=dn()){return/iemobile/i.test(s)}function fT(s=dn()){return/android/i.test(s)}function mT(s=dn()){return/blackberry/i.test(s)}function gT(s=dn()){return/webos/i.test(s)}function Sp(s=dn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function mj(s=dn()){var e;return Sp(s)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function gj(){return rN()&&document.documentMode===10}function pT(s=dn()){return Sp(s)||fT(s)||gT(s)||mT(s)||/windows phone/i.test(s)||hT(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yT(s,e=[]){let t;switch(s){case"Browser":t=f0(dn());break;case"Worker":t=`${f0(dn())}-${s}`;break;default:t=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Sr}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const a=c=>new Promise((h,m)=>{try{const p=e(c);h(p)}catch(p){m(p)}});a.onAbort=t,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const a of this.queue)await a(e),a.onAbort&&t.push(a.onAbort)}catch(a){t.reverse();for(const l of t)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yj(s,e={}){return Ri(s,"GET","/v2/passwordPolicy",Oa(s,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _j=6;class vj{constructor(e){var t,a,l,c;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:_j,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(a=e.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(c=e.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,a,l,c,h,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(a=p.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(l=p.containsLowercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsUppercaseLetter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,t){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(t.meetsMinPasswordLength=e.length>=a),l&&(t.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let a;for(let l=0;l<e.length;l++)a=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(t,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,t,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xj{constructor(e,t,a,l){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new m0(this),this.idTokenSubscription=new m0(this),this.beforeStateQueue=new pj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=vi(t)),this._initializationPromise=this.queue(async()=>{var a,l;if(!this._deleted&&(this.persistenceManager=await Al.create(this,e),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await rT(this,{idToken:e}),a=await _i._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(a)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(jn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let l=a,c=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,m=l==null?void 0:l._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===m)&&(p!=null&&p.user)&&(l=p.user,c=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(l)}catch(h){l=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Gd(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=J1()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(jn(this.app))return Promise.reject(bi(this));const t=e?ct(e):null;return t&&we(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return jn(this.app)?Promise.reject(bi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return jn(this.app)?Promise.reject(bi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(vi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await yj(this),t=new vj(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Sc("auth","Firebase",e())}onAuthStateChanged(e,t,a){return this.registerStateListener(this.authStateSubscription,e,t,a)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,a){return this.registerStateListener(this.idTokenSubscription,e,t,a)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(a.tenantId=this.tenantId),await fj(this,a)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const a=await this.getOrInitRedirectPersistenceManager(t);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&vi(e)||this._popupRedirectResolver;we(t,this,"argument-error"),this.redirectPersistenceManager=await Al.create(this,[vi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,a;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,a,l){if(this._deleted)return()=>{};const c=typeof t=="function"?t:t.next.bind(t);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(m,this,"internal-error"),m.then(()=>{h||c(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,a,l);return()=>{h=!0,p()}}else{const p=e.addObserver(t);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=yT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const a=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());a&&(t["X-Firebase-Client"]=a);const l=await this._getAppCheckToken();return l&&(t["X-Firebase-AppCheck"]=l),t}async _getAppCheckToken(){var e;if(jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&W1(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function kr(s){return ct(s)}class m0{constructor(e){this.auth=e,this.observer=null,this.addObserver=mN(t=>this.observer=t)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ej(s){Eh=s}function _T(s){return Eh.loadJS(s)}function bj(){return Eh.recaptchaEnterpriseScript}function Tj(){return Eh.gapiScript}function Aj(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class Sj{constructor(){this.enterprise=new wj}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class wj{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Nj="recaptcha-enterprise",vT="NO_RECAPTCHA";class Rj{constructor(e){this.type=Nj,this.auth=kr(e)}async verify(e="verify",t=!1){async function a(c){if(!t){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(h,m)=>{aj(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new ij(p);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,h(y.siteKey)}}).catch(p=>{m(p)})})}function l(c,h,m){const p=window.grecaptcha;c0(p)?p.enterprise.ready(()=>{p.enterprise.execute(c,{action:e}).then(y=>{h(y)}).catch(()=>{h(vT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Sj().execute("siteKey",{action:"verify"}):new Promise((c,h)=>{a(this.auth).then(m=>{if(!t&&c0(window.grecaptcha))l(m,c,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=bj();p.length!==0&&(p+=m),_T(p).then(()=>{l(m,c,h)}).catch(y=>{h(y)})}}).catch(m=>{h(m)})})}}async function g0(s,e,t,a=!1,l=!1){const c=new Rj(s);let h;if(l)h=vT;else try{h=await c.verify(t)}catch{h=await c.verify(t,!0)}const m=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return a?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function yg(s,e,t,a,l){var c;if(!((c=s._getRecaptchaConfig())===null||c===void 0)&&c.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await g0(s,e,t,t==="getOobCode");return a(s,h)}else return a(s,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await g0(s,e,t,t==="getOobCode");return a(s,m)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kj(s,e){const t=eh(s,"auth");if(t.isInitialized()){const l=t.getImmediate(),c=t.getOptions();if(yr(c,e??{}))return l;fs(l,"already-initialized")}return t.initialize({options:e})}function Cj(s,e){const t=(e==null?void 0:e.persistence)||[],a=(Array.isArray(t)?t:[t]).map(vi);e!=null&&e.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e==null?void 0:e.popupRedirectResolver)}function Ij(s,e,t){const a=kr(s);we(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const l=!1,c=xT(e),{host:h,port:m}=jj(e),p=m===null?"":`:${m}`,y={url:`${c}//${h}${p}/`},v=Object.freeze({host:h,port:m,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){we(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),we(yr(y,a.config.emulator)&&yr(v,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=v,a.settings.appVerificationDisabledForTesting=!0,Dj()}function xT(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function jj(s){const e=xT(s),t=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!t)return{host:"",port:null};const a=t[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:p0(a.substr(c.length+1))}}else{const[c,h]=a.split(":");return{host:c,port:p0(h)}}}function p0(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function Dj(){function s(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return yi("not implemented")}_getIdTokenResponse(e){return yi("not implemented")}_linkToIdToken(e,t){return yi("not implemented")}_getReauthenticationResolver(e){return yi("not implemented")}}async function Oj(s,e){return Ri(s,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mj(s,e){return Mc(s,"POST","/v1/accounts:signInWithPassword",Oa(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lj(s,e){return Mc(s,"POST","/v1/accounts:signInWithEmailLink",Oa(s,e))}async function Pj(s,e){return Mc(s,"POST","/v1/accounts:signInWithEmailLink",Oa(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc extends wp{constructor(e,t,a,l=null){super("password",a),this._email=e,this._password=t,this._tenantId=l}static _fromEmailAndPassword(e,t){return new bc(e,t,"password")}static _fromEmailAndCode(e,t,a=null){return new bc(e,t,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return yg(e,t,"signInWithPassword",Mj);case"emailLink":return Lj(e,{email:this._email,oobCode:this._password});default:fs(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const a={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return yg(e,a,"signUpPassword",Oj);case"emailLink":return Pj(e,{idToken:t,email:this._email,oobCode:this._password});default:fs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sl(s,e){return Mc(s,"POST","/v1/accounts:signInWithIdp",Oa(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uj="http://localhost";class br extends wp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new br(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):fs("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:l}=t,c=Ep(t,["providerId","signInMethod"]);if(!a||!l)return null;const h=new br(a,l);return h.idToken=c.idToken||void 0,h.accessToken=c.accessToken||void 0,h.secret=c.secret,h.nonce=c.nonce,h.pendingToken=c.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return Sl(e,t)}_linkToIdToken(e,t){const a=this.buildRequest();return a.idToken=t,Sl(e,a)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Sl(e,t)}buildRequest(){const e={requestUri:Uj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=wc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vj(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Bj(s){const e=tc(nc(s)).link,t=e?tc(nc(e)).deep_link_id:null,a=tc(nc(s)).deep_link_id;return(a?tc(nc(a)).link:null)||a||t||e||s}class Np{constructor(e){var t,a,l,c,h,m;const p=tc(nc(e)),y=(t=p.apiKey)!==null&&t!==void 0?t:null,v=(a=p.oobCode)!==null&&a!==void 0?a:null,A=Vj((l=p.mode)!==null&&l!==void 0?l:null);we(y&&v&&A,"argument-error"),this.apiKey=y,this.operation=A,this.code=v,this.continueUrl=(c=p.continueUrl)!==null&&c!==void 0?c:null,this.languageCode=(h=p.languageCode)!==null&&h!==void 0?h:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const t=Bj(e);try{return new Np(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(){this.providerId=Kl.PROVIDER_ID}static credential(e,t){return bc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const a=Np.parseLink(t);return we(a,"argument-error"),bc._fromEmailAndCode(e,a.code,a.tenantId)}}Kl.PROVIDER_ID="password";Kl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Kl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc extends ET{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma extends Lc{constructor(){super("facebook.com")}static credential(e){return br._fromParams({providerId:ma.PROVIDER_ID,signInMethod:ma.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ma.credentialFromTaggedObject(e)}static credentialFromError(e){return ma.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ma.credential(e.oauthAccessToken)}catch{return null}}}ma.FACEBOOK_SIGN_IN_METHOD="facebook.com";ma.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga extends Lc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return br._fromParams({providerId:ga.PROVIDER_ID,signInMethod:ga.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ga.credentialFromTaggedObject(e)}static credentialFromError(e){return ga.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:a}=e;if(!t&&!a)return null;try{return ga.credential(t,a)}catch{return null}}}ga.GOOGLE_SIGN_IN_METHOD="google.com";ga.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa extends Lc{constructor(){super("github.com")}static credential(e){return br._fromParams({providerId:pa.PROVIDER_ID,signInMethod:pa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pa.credentialFromTaggedObject(e)}static credentialFromError(e){return pa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return pa.credential(e.oauthAccessToken)}catch{return null}}}pa.GITHUB_SIGN_IN_METHOD="github.com";pa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya extends Lc{constructor(){super("twitter.com")}static credential(e,t){return br._fromParams({providerId:ya.PROVIDER_ID,signInMethod:ya.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ya.credentialFromTaggedObject(e)}static credentialFromError(e){return ya.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:a}=e;if(!t||!a)return null;try{return ya.credential(t,a)}catch{return null}}}ya.TWITTER_SIGN_IN_METHOD="twitter.com";ya.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hj(s,e){return Mc(s,"POST","/v1/accounts:signUp",Oa(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,a,l=!1){const c=await _i._fromIdTokenResponse(e,a,l),h=y0(a);return new Tr({user:c,providerId:h,_tokenResponse:a,operationType:t})}static async _forOperation(e,t,a){await e._updateTokensIfNecessary(a,!0);const l=y0(a);return new Tr({user:e,providerId:l,_tokenResponse:a,operationType:t})}}function y0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d extends qs{constructor(e,t,a,l){var c;super(t.code,t.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,$d.prototype),this.customData={appName:e.name,tenantId:(c=e.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:t.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,t,a,l){return new $d(e,t,a,l)}}function bT(s,e,t,a){return(e==="reauthenticate"?t._getReauthenticationResolver(s):t._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?$d._fromErrorAndOperation(s,c,e,a):c})}async function zj(s,e,t=!1){const a=await Dl(s,e._linkToIdToken(s.auth,await s.getIdToken()),t);return Tr._forOperation(s,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qj(s,e,t=!1){const{auth:a}=s;if(jn(a.app))return Promise.reject(bi(a));const l="reauthenticate";try{const c=await Dl(s,bT(a,l,e,s),t);we(c.idToken,a,"internal-error");const h=Ap(c.idToken);we(h,a,"internal-error");const{sub:m}=h;return we(s.uid===m,a,"user-mismatch"),Tr._forOperation(s,l,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&fs(a,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TT(s,e,t=!1){if(jn(s.app))return Promise.reject(bi(s));const a="signIn",l=await bT(s,a,e),c=await Tr._fromIdTokenResponse(s,a,l);return t||await s._updateCurrentUser(c.user),c}async function Kj(s,e){return TT(kr(s),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AT(s){const e=kr(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Fj(s,e,t){if(jn(s.app))return Promise.reject(bi(s));const a=kr(s),h=await yg(a,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Hj).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&AT(s),p}),m=await Tr._fromIdTokenResponse(a,"signIn",h);return await a._updateCurrentUser(m.user),m}function Gj(s,e,t){return jn(s.app)?Promise.reject(bi(s)):Kj(ct(s),Kl.credential(e,t)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&AT(s),a})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $j(s,e){return Ri(s,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qj(s,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const a=ct(s),c={idToken:await a.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},h=await Dl(a,$j(a.auth,c));a.displayName=h.displayName||null,a.photoURL=h.photoUrl||null;const m=a.providerData.find(({providerId:p})=>p==="password");m&&(m.displayName=a.displayName,m.photoURL=a.photoURL),await a._updateTokensIfNecessary(h)}function Yj(s,e,t,a){return ct(s).onIdTokenChanged(e,t,a)}function Wj(s,e,t){return ct(s).beforeAuthStateChanged(e,t)}function Xj(s,e,t,a){return ct(s).onAuthStateChanged(e,t,a)}function Zj(s){return ct(s).signOut()}const Qd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Qd,"1"),this.storage.removeItem(Qd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jj=1e3,e2=10;class wT extends ST{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=pT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const a=this.storage.getItem(t),l=this.localCache[t];a!==l&&e(t,l,a)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const a=e.key;t?this.detachListener():this.stopPolling();const l=()=>{const h=this.storage.getItem(a);!t&&this.localCache[a]===h||this.notifyListeners(a,h)},c=this.storage.getItem(a);gj()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,e2):l()}notifyListeners(e,t){this.localCache[e]=t;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:a}),!0)})},Jj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}wT.type="LOCAL";const t2=wT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT extends ST{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}NT.type="SESSION";const RT=NT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(l=>l.isListeningto(e));if(t)return t;const a=new bh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:a,eventType:l,data:c}=t.data,h=this.handlersMap[l];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const m=Array.from(h).map(async y=>y(t.origin,c)),p=await n2(m);t.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rp(s="",e=10){let t="";for(let a=0;a<e;a++)t+=Math.floor(Math.random()*10);return s+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,h;return new Promise((m,p)=>{const y=Rp("",20);l.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},a);h={messageChannel:l,onMessage(A){const N=A;if(N.data.eventId===y)switch(N.data.status){case"ack":clearTimeout(v),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),m(N.data.response);break;default:clearTimeout(v),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(h),l.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[l.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hs(){return window}function i2(s){Hs().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kT(){return typeof Hs().WorkerGlobalScope<"u"&&typeof Hs().importScripts=="function"}async function a2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function r2(){var s;return((s=navigator==null?void 0:navigator.serviceWorker)===null||s===void 0?void 0:s.controller)||null}function l2(){return kT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT="firebaseLocalStorageDb",o2=1,Yd="firebaseLocalStorage",IT="fbase_key";class Pc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Th(s,e){return s.transaction([Yd],e?"readwrite":"readonly").objectStore(Yd)}function c2(){const s=indexedDB.deleteDatabase(CT);return new Pc(s).toPromise()}function _g(){const s=indexedDB.open(CT,o2);return new Promise((e,t)=>{s.addEventListener("error",()=>{t(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(Yd,{keyPath:IT})}catch(l){t(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(Yd)?e(a):(a.close(),await c2(),e(await _g()))})})}async function _0(s,e,t){const a=Th(s,!0).put({[IT]:e,value:t});return new Pc(a).toPromise()}async function u2(s,e){const t=Th(s,!1).get(e),a=await new Pc(t).toPromise();return a===void 0?null:a.value}function v0(s,e){const t=Th(s,!0).delete(e);return new Pc(t).toPromise()}const d2=800,h2=3;class jT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _g(),this.db)}async _withRetries(e){let t=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(t++>h2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return kT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bh._getInstance(l2()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await a2(),!this.activeServiceWorker)return;this.sender=new s2(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((e=a[0])===null||e===void 0)&&e.fulfilled&&!((t=a[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||r2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _g();return await _0(e,Qd,"1"),await v0(e,Qd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(a=>_0(a,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(a=>u2(a,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>v0(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=Th(l,!1).getAll();return new Pc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],a=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),t.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),t.push(l));return t}notifyListeners(e,t){this.localCache[e]=t;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),d2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}jT.type="LOCAL";const f2=jT;new Oc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m2(s,e){return e?vi(e):(we(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp extends wp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Sl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Sl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Sl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function g2(s){return TT(s.auth,new kp(s),s.bypassAuthState)}function p2(s){const{auth:e,user:t}=s;return we(t,e,"internal-error"),qj(t,new kp(s),s.bypassAuthState)}async function y2(s){const{auth:e,user:t}=s;return we(t,e,"internal-error"),zj(t,new kp(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(e,t,a,l,c=!1){this.auth=e,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:a,postBody:l,tenantId:c,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:t,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return g2;case"linkViaPopup":case"linkViaRedirect":return y2;case"reauthViaPopup":case"reauthViaRedirect":return p2;default:fs(this.auth,"internal-error")}}resolve(e){Ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2=new Oc(2e3,1e4);class El extends DT{constructor(e,t,a,l,c){super(e,t,l,c),this.provider=a,this.authWindow=null,this.pollId=null,El.currentPopupAction&&El.currentPopupAction.cancel(),El.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){Ni(this.filter.length===1,"Popup operations only handle one event");const e=Rp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Bs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Bs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,El.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,a;if(!((a=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_2.get())};e()}}El.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2="pendingRedirect",Nd=new Map;class x2 extends DT{constructor(e,t,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,a),this.eventId=null}async execute(){let e=Nd.get(this.auth._key());if(!e){try{const a=await E2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(t){e=()=>Promise.reject(t)}Nd.set(this.auth._key(),e)}return this.bypassAuthState||Nd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function E2(s,e){const t=A2(e),a=T2(s);if(!await a._isAvailable())return!1;const l=await a._get(t)==="true";return await a._remove(t),l}function b2(s,e){Nd.set(s._key(),e)}function T2(s){return vi(s._redirectPersistence)}function A2(s){return wd(v2,s.config.apiKey,s.name)}async function S2(s,e,t=!1){if(jn(s.app))return Promise.reject(bi(s));const a=kr(s),l=m2(a,e),h=await new x2(a,l,t).execute();return h&&!t&&(delete h.user._redirectEventId,await a._persistUserIfCurrent(h.user),await a._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2=10*60*1e3;class N2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(t=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!R2(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var a;if(e.error&&!OT(e)){const l=((a=e.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";t.onError(Bs(this.auth,l))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const a=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=w2&&this.cachedEventUids.clear(),this.cachedEventUids.has(x0(e))}saveEventToCache(e){this.cachedEventUids.add(x0(e)),this.lastProcessedEventTime=Date.now()}}function x0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function OT({type:s,error:e}){return s==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function R2(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return OT(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k2(s,e={}){return Ri(s,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,I2=/^https?/;async function j2(s){if(s.config.emulator)return;const{authorizedDomains:e}=await k2(s);for(const t of e)try{if(D2(t))return}catch{}fs(s,"unauthorized-domain")}function D2(s){const e=gg(),{protocol:t,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const h=new URL(s);return h.hostname===""&&a===""?t==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===a}if(!I2.test(t))return!1;if(C2.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2=new Oc(3e4,6e4);function E0(){const s=Hs().___jsl;if(s!=null&&s.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let t=0;t<s.CP.length;t++)s.CP[t]=null}}function M2(s){return new Promise((e,t)=>{var a,l,c;function h(){E0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{E0(),t(Bs(s,"network-request-failed"))},timeout:O2.get()})}if(!((l=(a=Hs().gapi)===null||a===void 0?void 0:a.iframes)===null||l===void 0)&&l.Iframe)e(gapi.iframes.getContext());else if(!((c=Hs().gapi)===null||c===void 0)&&c.load)h();else{const m=Aj("iframefcb");return Hs()[m]=()=>{gapi.load?h():t(Bs(s,"network-request-failed"))},_T(`${Tj()}?onload=${m}`).catch(p=>t(p))}}).catch(e=>{throw Rd=null,e})}let Rd=null;function L2(s){return Rd=Rd||M2(s),Rd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2=new Oc(5e3,15e3),U2="__/auth/iframe",V2="emulator/auth/iframe",B2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},H2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function z2(s){const e=s.config;we(e.authDomain,s,"auth-domain-config-required");const t=e.emulator?Tp(e,V2):`https://${s.config.authDomain}/${U2}`,a={apiKey:e.apiKey,appName:s.name,v:Sr},l=H2.get(s.config.apiHost);l&&(a.eid=l);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${t}?${wc(a).slice(1)}`}async function q2(s){const e=await L2(s),t=Hs().gapi;return we(t,s,"internal-error"),e.open({where:document.body,url:z2(s),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:B2,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const h=Bs(s,"network-request-failed"),m=Hs().setTimeout(()=>{c(h)},P2.get());function p(){Hs().clearTimeout(m),l(a)}a.ping(p).then(p,()=>{c(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},F2=500,G2=600,$2="_blank",Q2="http://localhost";class b0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Y2(s,e,t,a=F2,l=G2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),h=Math.max((window.screen.availWidth-a)/2,0).toString();let m="";const p=Object.assign(Object.assign({},K2),{width:a.toString(),height:l.toString(),top:c,left:h}),y=dn().toLowerCase();t&&(m=dT(y)?$2:t),cT(y)&&(e=e||Q2,p.scrollbars="yes");const v=Object.entries(p).reduce((N,[O,M])=>`${N}${O}=${M},`,"");if(mj(y)&&m!=="_self")return W2(e||"",m),new b0(null);const A=window.open(e||"",m,v);we(A,s,"popup-blocked");try{A.focus()}catch{}return new b0(A)}function W2(s,e){const t=document.createElement("a");t.href=s,t.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2="__/auth/handler",Z2="emulator/auth/handler",J2=encodeURIComponent("fac");async function T0(s,e,t,a,l,c){we(s.config.authDomain,s,"auth-domain-config-required"),we(s.config.apiKey,s,"invalid-api-key");const h={apiKey:s.config.apiKey,appName:s.name,authType:t,redirectUrl:a,v:Sr,eventId:l};if(e instanceof ET){e.setDefaultLanguage(s.languageCode),h.providerId=e.providerId||"",fN(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,A]of Object.entries({}))h[v]=A}if(e instanceof Lc){const v=e.getScopes().filter(A=>A!=="");v.length>0&&(h.scopes=v.join(","))}s.tenantId&&(h.tid=s.tenantId);const m=h;for(const v of Object.keys(m))m[v]===void 0&&delete m[v];const p=await s._getAppCheckToken(),y=p?`#${J2}=${encodeURIComponent(p)}`:"";return`${eD(s)}?${wc(m).slice(1)}${y}`}function eD({config:s}){return s.emulator?Tp(s,Z2):`https://${s.authDomain}/${X2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm="webStorageSupport";class tD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=RT,this._completeRedirectFn=S2,this._overrideRedirectResult=b2}async _openPopup(e,t,a,l){var c;Ni((c=this.eventManagers[e._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const h=await T0(e,t,a,gg(),l);return Y2(e,h,Rp())}async _openRedirect(e,t,a,l){await this._originValidation(e);const c=await T0(e,t,a,gg(),l);return i2(c),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:l,promise:c}=this.eventManagers[t];return l?Promise.resolve(l):(Ni(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[t]={promise:a},a.catch(()=>{delete this.eventManagers[t]}),a}async initAndGetManager(e){const t=await q2(e),a=new N2(e);return t.register("authEvent",l=>(we(l==null?void 0:l.authEvent,e,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=t,a}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(qm,{type:qm},l=>{var c;const h=(c=l==null?void 0:l[0])===null||c===void 0?void 0:c[qm];h!==void 0&&t(!!h),fs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=j2(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return pT()||uT()||Sp()}}const nD=tD;var A0="@firebase/auth",S0="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(a=>{e((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iD(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function aD(s){_r(new Ta("auth",(e,{options:t})=>{const a=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=a.options;we(h&&!h.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:h,authDomain:m,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yT(s)},y=new xj(a,l,c,p);return Cj(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,a)=>{e.getProvider("auth-internal").initialize()})),_r(new Ta("auth-internal",e=>{const t=kr(e.getProvider("auth").getImmediate());return(a=>new sD(a))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ps(A0,S0,iD(s)),Ps(A0,S0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD=5*60,lD=X0("authIdTokenMaxAge")||rD;let w0=null;const oD=s=>async e=>{const t=e&&await e.getIdTokenResult(),a=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(a&&a>lD)return;const l=t==null?void 0:t.token;w0!==l&&(w0=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function cD(s=Cg()){const e=eh(s,"auth");if(e.isInitialized())return e.getImmediate();const t=kj(s,{popupRedirectResolver:nD,persistence:[f2,t2,RT]}),a=X0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const h=oD(c.toString());Wj(t,h,()=>h(t.currentUser)),Yj(t,m=>h(m))}}const l=Q0("auth");return l&&Ij(t,`http://${l}`),t}function uD(){var s,e;return(e=(s=document.getElementsByTagName("head"))===null||s===void 0?void 0:s[0])!==null&&e!==void 0?e:document}Ej({loadJS(s){return new Promise((e,t)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=l=>{const c=Bs("internal-error");c.customData=l,t(c)},a.type="text/javascript",a.charset="UTF-8",uD().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});aD("Browser");const dD={apiKey:"AIzaSyB0zBdnr_ZBmmokxvgLiHWU52QhnFnoymU",authDomain:"aimchallange-67039.firebaseapp.com",projectId:"aimchallange-67039",storageBucket:"aimchallange-67039.appspot.com",messagingSenderId:"109617578227",appId:"1:109617578227:web:8f09f705f248bbdaf07786",measurementId:"G-42PJQ2LB6T"},Ah=tE(dD),kd=cD(Ah),We=EI(Ah),ms=Jb(Ah,"gs://aimchallange-67039.appspot.com");Jb(Ah,"gs://aimchallange-67039.appspot.com");const MT=C.createContext(),ys=()=>C.useContext(MT),hD=({children:s})=>{const[e,t]=C.useState(null),[a,l]=C.useState(!1),[c,h]=C.useState(!0);C.useEffect(()=>Xj(kd,async A=>{if(A){const N={uid:A.uid,email:A.email,displayName:A.displayName||A.email.split("@")[0],role:"admin"};t(N),l(!0)}else t(null),l(!1);h(!1)}),[]);const y={currentUser:e,isAuthenticated:a,login:async(v,A)=>{try{return await Gj(kd,v,A),{success:!0}}catch(N){return console.error("Login error:",N),{success:!1,error:N.message}}},logout:async()=>{try{return await Zj(kd),{success:!0}}catch(v){return console.error("Logout error:",v),{success:!1,error:v.message}}}};return u.jsx(MT.Provider,{value:y,children:!c&&s})},Wd=ot(We,"settings","textContent"),N0=async()=>{try{const s=await Da(Wd);if(s.exists())return s.data();{const e={_languageStructure:{initialized:!0,availableLanguages:["sv","en","no"]}};return await ds(Wd,e),e}}catch(s){return console.error("Error getting text content:",s),{}}},fD=async(s,e,t="sv")=>{try{const a=await Da(Wd),l=a.exists()?a.data():{},c={};return l[s]&&typeof l[s]=="object"&&l[s]._isMultilingual?(c[`${s}.${t}`]=e,c[`${s}._isMultilingual`]=!0):(c[s]={sv:t==="sv"?e:l[s]||"",en:t==="en"?e:"",no:t==="no"?e:"",_isMultilingual:!0},t!=="sv"&&(c[s][t]=e)),await mp(Wd,c),!0}catch(a){return console.error("Error updating text content:",a),!1}};ot(We,"settings","backgroundImages");const pr={SV:"sv",EN:"en",NO:"no"},mD={sv:"Svenska",en:"English",no:"Norsk"},LT=pr.SV,PT=C.createContext(),Et=()=>C.useContext(PT),gD=({children:s})=>{const[e,t]=C.useState({}),[a,l]=C.useState(!1),[c,h]=C.useState([]),[m,p]=C.useState(()=>{const b=localStorage.getItem("preferredLanguage");return b&&Object.values(pr).includes(b)?b:LT}),{currentUser:y,isAuthenticated:v}=ys(),A=(y==null?void 0:y.role)==="admin";C.useEffect(()=>{(async()=>{try{const T=await N0();t(T)}catch(T){console.error("Error fetching text content:",T);const S=localStorage.getItem("textContent");if(S)try{t(JSON.parse(S))}catch(j){console.error("Error parsing saved content:",j),t({})}}})()},[]),C.useEffect(()=>{l(!!(v&&A))},[v,A]);const N=(b,T,S=null)=>{const j=S||m;return e[b]&&typeof e[b]=="object"&&e[b]._isMultilingual?e[b][j]||e[b].sv||T:e[b]||T},O=async(b,T,S=null)=>{try{const j=S||m;await fD(b,T,j);const w=await N0();t(w),h(H=>[...H,{content:{...e},timestamp:new Date().toISOString(),changedKey:b,language:j}]),localStorage.setItem("textContent",JSON.stringify(w))}catch(j){console.error("Error updating text content:",j);const w=S||m;let H={...e};H[b]&&typeof H[b]=="object"&&H[b]._isMultilingual?H[b]={...H[b],[w]:T}:H[b]={sv:w==="sv"?T:H[b]||"",en:w==="en"?T:"",no:w==="no"?T:"",_isMultilingual:!0},t(H),localStorage.setItem("textContent",JSON.stringify(H))}},M=b=>{h(S=>[...S,{content:{...e},timestamp:new Date().toISOString(),changedKey:b,action:"remove"}]);const T={...e};delete T[b],t(T),localStorage.setItem("textContent",JSON.stringify(T)),console.log(`Content item '${b}' has been removed`)},B=()=>{h(b=>[...b,{content:{...e},timestamp:new Date().toISOString(),action:"reset-all"}]),t({}),localStorage.removeItem("textContent"),console.log("All content has been reset")},V=()=>{if(c.length>1){const b=[...c];b.pop();const T=b[b.length-1].content;return t(T),localStorage.setItem("textContent",JSON.stringify(T)),h(b),console.log("Last change undone"),!0}return console.log("No changes to undo"),!1},K=()=>c,G=()=>{console.log("Edit mode is always on for admin users")},Z=async b=>Object.values(pr).includes(b)?(p(b),localStorage.setItem("preferredLanguage",b),!0):!1,te=async(b,T)=>{try{const S=N(b,"","sv");if(!S)return!1;const j=await de(S,"sv",T);return await O(b,j,T),!0}catch(S){return console.error("Translation error:",S),!1}},de=async(b,T,S)=>{if(!b)return"";try{try{const H=await(await fetch("https://libretranslate.de/translate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({q:b,source:T==="sv"?"sv":"en",target:S==="no"?"nb":S,format:"text"})})).json();if(H.translatedText)return D(b,H.translatedText)}catch(j){console.warn("LibreTranslate API failed:",j)}try{const j=`https://lingva.ml/api/v1/${T==="sv"?"sv":"en"}/${S==="no"?"no":S}/${encodeURIComponent(b)}`,H=await(await fetch(j)).json();if(H.translation)return D(b,H.translation)}catch(j){console.warn("Lingva API failed:",j)}try{const j=`https://translate.googleapis.com/translate_a/single?client=gtx&sl=${T}&tl=${S}&dt=t&q=${encodeURIComponent(b)}`,H=await(await fetch(j)).json();let W="";if(H&&H[0]&&H[0].forEach(z=>{z[0]&&(W+=z[0])}),W)return D(b,W)}catch(j){console.warn("Unofficial Google API failed:",j)}return`[${S.toUpperCase()}] ${b}`}catch(j){return console.error("Translation error:",j),b}},D=(b,T)=>b===b.toUpperCase()?T.toUpperCase():b===b.toLowerCase()?T.toLowerCase():b[0]===b[0].toUpperCase()?T.charAt(0).toUpperCase()+T.slice(1):T,k={getText:N,updateText:O,isEditing:a,toggleEditing:G,isAdmin:A,textContent:e,resetAllContent:B,removeContentItem:M,undoLastChange:V,getEditHistory:K,editHistory:c,currentLanguage:m,changeLanguage:Z,translateText:te,LANGUAGES:pr,LANGUAGE_NAMES:mD};return u.jsx(PT.Provider,{value:k,children:s})},R0=({className:s=""})=>{const{currentLanguage:e,changeLanguage:t,LANGUAGES:a,LANGUAGE_NAMES:l}=Et(),[c,h]=C.useState(!1),m=y=>{y!==e&&(h(!0),t(y),setTimeout(()=>{h(!1)},500))},p=s.includes("mobile");return u.jsx("div",{className:`language-selector ${p?"":"navbar-language"} ${s}`,children:u.jsx("div",{className:p?"language-selector__options":"navbar-lang-options",children:Object.values(a).map(y=>u.jsx("button",{className:p?`language-selector__option ${e===y?"language-selector__option--active":""}`:`navbar-lang-button ${e===y?"navbar-lang-button--active":""}`,onClick:()=>m(y),"aria-label":`Switch to ${l[y]}`,disabled:c,children:y.toUpperCase()},y))})})},pD=()=>{const[s,e]=C.useState(!1),[t,a]=C.useState(!1),[l,c]=C.useState(!1),{isAuthenticated:h,currentUser:m,logout:p}=ys(),{isEditing:y,getText:v,updateText:A}=Et(),N=Ar(),O=()=>{c(!l),e(!1),a(!1)},M=()=>{p(),N("/")};return C.useEffect(()=>{const B=V=>{const K=document.querySelector(".mobile-menu"),G=document.querySelector(".hamburger-menu");l&&K&&!K.contains(V.target)&&!G.contains(V.target)&&c(!1)};return document.addEventListener("mousedown",B),()=>{document.removeEventListener("mousedown",B)}},[l]),C.useEffect(()=>{console.log("Navbar auth state:",{isAuthenticated:h,currentUser:m,isAdmin:(m==null?void 0:m.role)==="admin"})},[h,m]),u.jsx("div",{className:"flex flex_col navbar-container",children:u.jsxs("div",{className:"navbar  flex flex_j_SA MaxWH location font_white",children:[u.jsx("div",{className:"navim MaxWH location",children:u.jsx(ke,{to:"/",children:u.jsx("img",{src:"/images/Aim Blue.svg",alt:"aim challenge logo",className:"custom-image navim"})})}),u.jsxs("div",{className:"hamburger-menu",onClick:O,children:[u.jsx("span",{}),u.jsx("span",{}),u.jsx("span",{})]}),u.jsxs("div",{className:"navbside",children:[u.jsxs("div",{className:"nav-button dropdown-container",children:[u.jsx(ke,{to:"/competitions",className:"dropdown-trigger",children:"Tävlingar"}),u.jsxs("div",{className:"drop-down",children:[u.jsx(ke,{to:"/ulricehamn",className:"drop-item",children:"ULRICEHAMN"}),u.jsx(ke,{to:"/salen",className:"drop-item",children:"SÄLEN"}),u.jsx(ke,{to:"/hemsedal",className:"drop-item",children:"HEMSEDAL"}),u.jsx(ke,{to:"/kolmarden",className:"drop-item",children:"KOLMÅRDEN"}),u.jsx(ke,{to:"/trippeln",className:"drop-item",children:"TRIPPELN"}),u.jsx(ke,{to:"/results",className:"drop-item",children:"RESULTAT"})]})]}),u.jsxs("div",{className:"nav-button dropdown-container",children:[u.jsx(ke,{to:"/om-oss",className:"dropdown-trigger",children:"Om oss"}),u.jsxs("div",{className:"drop-down",children:[u.jsx(ke,{to:"/regler",className:"drop-item",children:"Regler"}),u.jsx(ke,{to:"/faq",className:"drop-item",children:"FAQ"}),u.jsx(ke,{to:"/historien-om-aim",className:"drop-item",children:"Historien om AIM"})]})]}),u.jsx("div",{className:"nav-button",children:u.jsx("a",{href:"#sponsors-section",onClick:B=>{B.preventDefault();const V=document.getElementById("sponsors-section");V&&V.scrollIntoView({behavior:"smooth"})},children:"Sponsorer"})}),u.jsx("div",{className:"nav-button",children:u.jsx(ke,{to:"/senaste-nytt",children:"Senaste nytt"})}),u.jsx("div",{className:"nav-button",children:u.jsx(ke,{to:"#",children:"Kontakta oss"})}),u.jsx("div",{className:"language-nav-container",children:u.jsx(R0,{className:""})}),h&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"nav-button",children:u.jsx(ke,{to:"/content-manager",children:"Innehåll"})}),u.jsx("div",{className:"nav-button",children:u.jsx("a",{href:"#",onClick:B=>{B.preventDefault(),M()},children:"Logga ut"})})]})]}),l&&u.jsxs("div",{className:"mobile-menu",children:[u.jsxs("div",{className:"mobile-menu-item",children:[u.jsxs("div",{className:"mobile-menu-header",onClick:()=>e(!s),children:["Tävlingar ",s?"▲":"▼"]}),s&&u.jsxs("div",{className:"mobile-submenu",children:[u.jsx(ke,{to:"/ulricehamn",onClick:O,className:"mobile-submenu-item",children:"ULRICEHAMN"}),u.jsx(ke,{to:"/salen",onClick:O,className:"mobile-submenu-item",children:"SÄLEN"}),u.jsx(ke,{to:"/hemsedal",onClick:O,className:"mobile-submenu-item",children:"HEMSEDAL"}),u.jsx(ke,{to:"/kolmarden",onClick:O,className:"mobile-submenu-item",children:"KOLMÅRDEN"}),u.jsx(ke,{to:"/trippeln",onClick:O,className:"mobile-submenu-item",children:"TRIPPELN"})]})]}),u.jsx("div",{className:"mobile-menu-item",children:u.jsx(ke,{to:"/results",onClick:O,className:"mobile-menu-link",children:"Resultat"})}),u.jsxs("div",{className:"mobile-menu-item",children:[u.jsxs("div",{className:"mobile-menu-header",onClick:()=>a(!t),children:["Om oss ",t?"▲":"▼"]}),t&&u.jsxs("div",{className:"mobile-submenu",children:[u.jsx(ke,{to:"/om-oss",onClick:O,className:"mobile-submenu-item",children:"Om oss"}),u.jsx(ke,{to:"/regler",onClick:O,className:"mobile-submenu-item",children:"Regler"}),u.jsx(ke,{to:"/faq",onClick:O,className:"mobile-submenu-item",children:"FAQ"}),u.jsx(ke,{to:"/historien-om-aim",onClick:O,className:"mobile-submenu-item",children:"Historien om AIM"})]})]}),u.jsx("div",{className:"mobile-menu-item",children:u.jsx("a",{href:"#sponsors-section",onClick:B=>{B.preventDefault();const V=document.getElementById("sponsors-section");V&&V.scrollIntoView({behavior:"smooth"}),O()},className:"mobile-menu-link",children:"Sponsorer"})}),u.jsx("div",{className:"mobile-menu-item",children:u.jsx(ke,{to:"/senaste-nytt",onClick:O,className:"mobile-menu-link",children:"Senaste nytt"})}),u.jsx("div",{className:"mobile-menu-item",children:u.jsx(ke,{to:"#",onClick:O,className:"mobile-menu-link",children:"Kontakta oss"})}),u.jsx("div",{className:"mobile-menu-item mobile-language-switcher",children:u.jsx(R0,{className:"mobile-language-selector"})}),h&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"mobile-menu-item",children:u.jsx(ke,{to:"/content-manager",onClick:O,className:"mobile-menu-link",children:"Innehåll"})}),u.jsx("div",{className:"mobile-menu-item",children:u.jsx("a",{href:"#",onClick:B=>{B.preventDefault(),M(),O()},className:"mobile-menu-link",children:"Logga ut"})})]})]})]})})},Cp=({location:s,targetId:e})=>{const[t,a]=C.useState(!1),[l,c]=C.useState(null),[h,m]=C.useState([]),[p,y]=C.useState({imageUrl:"",link:"",location:""}),[v,A]=C.useState(!1),[N,O]=C.useState(!1),{isAdmin:M}=Et(),B=Mn(),V=C.useRef(null),K=C.useRef(null),G=nn(We,"sponsors"),Z=B.pathname.split("/").pop(),ae=["salen","ulricehamn","hemsedal","kolmarden"].includes(Z)?Z:"";C.useEffect(()=>{(async()=>{try{console.log("Loading sponsors from Firestore...");let z=(await es(G)).docs.map(X=>({id:X.id,...X.data()}));console.log("All sponsors loaded from Firestore:",z.length),N&&ae?(z=z.filter(X=>X.location===ae),console.log(`Filtered to ${z.length} local sponsors for ${ae}`)):(z=z.filter(X=>!X.location),console.log(`Filtered to ${z.length} global sponsors`)),z.forEach((X,ce)=>{console.log(`Sponsor ${ce+1}:`,{id:X.id,url:X.imageUrl,isSVG:X.imageUrl&&X.imageUrl.toLowerCase().includes(".svg")})}),m(z)}catch(W){console.error("Error loading sponsors:",W)}})()},[ae,N]),C.useEffect(()=>{l&&l.closest(".sponsors-section")?(O(!0),y(H=>({...H,location:ae}))):(O(!1),y(H=>({...H,location:""})))},[l,ae]),C.useEffect(()=>{if(!M)return;const H=(W,z,X,ce=!1)=>{const ve=document.querySelector(W);if(!ve)return;const L=document.querySelector(`#${z}`);L&&L.remove();const ne=document.createElement("button");ne.id=z,ne.className="admin-edit-button",ne.textContent=X,ne.style.marginLeft="10px",ne.style.padding="5px 10px",ne.style.backgroundColor="#384c87",ne.style.color="white",ne.style.border="none",ne.style.borderRadius="4px",ne.style.cursor="pointer",ne.style.whiteSpace="nowrap",ne.addEventListener("mouseenter",()=>{ne.style.backgroundColor="#4f639e"}),ne.addEventListener("mouseleave",()=>{ne.style.backgroundColor="#384c87"}),ne.addEventListener("click",()=>{O(ce),y(ce?fe=>({...fe,location:ae}):fe=>({...fe,location:""})),a(!0)}),ve.appendChild(ne)};return H("#sponsors-section","sponsor-edit-button","Edit Sponsors",!1),ae&&H(".sponsors-title","local-sponsor-edit-button","Edit Local Partners",!0),()=>{const W=document.querySelector("#sponsor-edit-button");W&&W.remove();const z=document.querySelector("#local-sponsor-edit-button");z&&z.remove()}},[M,ae]),C.useEffect(()=>(document.addEventListener("mousedown",de),()=>{document.removeEventListener("mousedown",de)}),[]);const de=H=>{K.current&&!K.current.contains(H.target)&&D()},D=()=>{a(!1),c(null),y({imageUrl:"",link:""})},k=H=>{H.target.files&&H.target.files[0]&&b(H.target.files[0])},b=async H=>{if(H){A(!0);try{console.log("File being uploaded:",{name:H.name,type:H.type,size:H.size});const W=Date.now(),z=H.name?H.name.split(".").pop().toLowerCase():"jpg",X=`sponsor_${W}.${z}`;console.log("File extension detected:",z),console.log("New filename created:",X);const ce=hs(ms,`gs://aimchallange-67039.firebasestorage.app/background-images/${X}`);console.log("Uploading sponsor image with path:",ce.fullPath);const ve=await zl(ce,H);console.log("Upload completed:",ve);const L=await ql(ce);console.log("Download URL received:",L),y(ne=>({...ne,imageUrl:L}))}catch(W){console.error("Error uploading image:",W),console.error("Error details:",W.code,W.message)}finally{A(!1)}}},T=async()=>{if(console.log("Add Sponsor button clicked"),!p.imageUrl){console.log("No image URL provided");return}try{console.log("Adding sponsor with data:",p);const H=ot(G),W={...p,location:N?ae:"",createdAt:new Date().toISOString()};await ds(H,W),console.log("Sponsor added to Firestore with ID:",H.id);const z=[...h,{id:H.id,...W}];m(z),y({imageUrl:"",link:"",location:N?ae:""}),console.log("Form reset, sponsor added successfully")}catch(H){console.error("Error adding sponsor:",H)}},S=async H=>{try{if(H<0||H>=h.length)return;const W=h[H];if(!W||!W.id)return;const z=ot(G,W.id),X=await Da(z);if(X.exists()){const ce=X.data();if(console.log("Found sponsor document:",ce),ce.imageUrl)try{const L=j(ce.imageUrl);if(L){const ne=hs(ms,`gs://aimchallange-67039.firebasestorage.app/background-images/${L}`);await Dc(ne)}}catch(L){console.error("Error deleting image:",L)}await jc(z);const ve=[...h];ve.splice(H,1),m(ve)}else console.log("Sponsor document not found")}catch(W){console.error("Error removing sponsor:",W)}},j=H=>{if(!H)return null;try{if(H.includes("firebasestorage.googleapis.com")){const X=H.match(/%2F([^?]+)/g);if(X&&X.length>0)return X[X.length-1].replace("%2F","").split("?")[0]}if(H.includes("sponsor_")){const X=/sponsor_[0-9]+\.[a-zA-Z]+/,ce=H.match(X);if(ce&&ce.length>0)return ce[0]}const W=H.split("/");return W[W.length-1].split("?")[0]}catch(W){return console.error("Error extracting filename:",W),null}},w=()=>h.length===0?null:h.map((H,W)=>{if(!H.imageUrl)return null;const z=H.imageUrl?`${H.imageUrl}${H.imageUrl.includes("?")?"&":"?"}cache=${Date.now()}`:"",X=u.jsx("img",{src:z,alt:H.name||`Sponsor ${W+1}`,className:"background-editor-modal__ad-image",onError:ve=>{console.error("Error loading image:",H.imageUrl),ve.target.onerror=null,ve.target.src="/images/placeholder-logo.png"}}),ce=H.link?u.jsx("a",{href:H.link.startsWith("http")?H.link:`https://${H.link}`,target:"_blank",rel:"noopener noreferrer",className:"sponsor-link",children:X}):X;return u.jsx("div",{className:"background-editor-modal__ad-item",children:ce},W)});return console.log("SponsorEditor rendering with:",{location:s,targetId:e,isAdmin:M,sponsorsCount:h.length,isLocalPartners:N,currentLocationName:ae}),u.jsxs(u.Fragment,{children:[!t&&u.jsx("div",{className:N?"sponsors-section sponsors-container":"sponsors-grid",children:w()}),t&&u.jsx("div",{className:"background-editor-overlay",onClick:H=>{H.target===H.currentTarget&&D()},children:u.jsxs("div",{className:"background-editor-modal",ref:K,children:[u.jsxs("div",{className:"background-editor-modal__header",children:[u.jsx("h2",{className:"background-editor-modal__title",children:N?`Edit ${ae.charAt(0).toUpperCase()+ae.slice(1)} Partners`:"Edit Global Sponsors"}),u.jsx("button",{className:"background-editor-modal__close",onClick:D,children:"×"})]}),u.jsxs("div",{className:"background-editor-modal__body",children:[u.jsx("h3",{className:"background-editor-modal__subtitle",children:"Current Sponsors"}),u.jsx("div",{className:"background-editor-modal__ad-list",children:h.length>0?h.map((H,W)=>u.jsxs("div",{className:"background-editor-modal__ad-item",children:[u.jsx("img",{src:H.imageUrl,alt:`Sponsor ${W+1}`,className:"background-editor-modal__ad-image"}),u.jsxs("div",{className:"background-editor-modal__ad-details",children:[u.jsx("p",{className:"background-editor-modal__ad-link",children:H.link?u.jsx("a",{href:H.link,target:"_blank",rel:"noopener noreferrer",children:H.link}):"No link"}),u.jsx("button",{onClick:()=>S(W),className:"background-editor-modal__button background-editor-modal__button--secondary",children:"Remove"})]})]},W)):u.jsx("p",{className:"background-editor-modal__empty-message",children:"No sponsors added yet."})}),u.jsx("h3",{className:"background-editor-modal__subtitle",children:"Add New Sponsor"}),u.jsxs("div",{className:"background-editor-modal__form",children:[u.jsxs("div",{className:"background-editor-modal__form-group",children:[u.jsx("label",{className:"background-editor-modal__label",children:"Image:"}),u.jsxs("div",{className:"background-editor-modal__image-upload",onClick:()=>V.current.click(),children:[p.imageUrl?u.jsx("div",{className:"background-editor-modal__image-preview-container",children:u.jsx("img",{src:p.imageUrl,alt:"Preview",className:"background-editor-modal__image-preview"})}):u.jsx("div",{className:"background-editor-modal__image-placeholder",children:"Click to upload an image"}),u.jsx("input",{type:"file",accept:"image/*",onChange:k,ref:V,className:"background-editor-modal__file-input",style:{display:"none"}})]}),v&&u.jsx("p",{className:"background-editor-modal__upload-status",children:"Uploading..."})]}),u.jsxs("div",{className:"background-editor-modal__form-group",children:[u.jsx("label",{className:"background-editor-modal__label",children:"Link (optional):"}),u.jsx("input",{type:"text",value:p.link,onChange:H=>y(W=>({...W,link:H.target.value})),placeholder:"https://example.com",className:"background-editor-modal__input"})]})]}),u.jsxs("div",{className:"background-editor-modal__footer",children:[u.jsx("button",{className:"background-editor-modal__button background-editor-modal__button--secondary",onClick:D,children:"Close"}),u.jsx("button",{className:"background-editor-modal__button background-editor-modal__button--primary",onClick:H=>{H.preventDefault(),H.stopPropagation(),T()},disabled:!p.imageUrl||v,type:"button",children:"Add Sponsor"})]})]})]})})]})},yD=()=>{const{isAdmin:s}=Et(),e=Mn(),t=()=>{const a=e.pathname;return["/","/competitions","/ulricehamn","/salen","/hemsedal","/kolmarden","/trippeln"].includes(a)};return u.jsxs(u.Fragment,{children:[t()&&u.jsx("div",{className:"footer-wrapper",children:u.jsx("div",{className:"container",children:u.jsx("div",{className:"footer-grid",children:u.jsxs("div",{className:"grid-item sponsors",children:[u.jsx("h1",{className:"footer-heading",id:"sponsors-section",children:"Sponsorer & Partners"}),u.jsx(Cp,{targetId:"sponsors-section"})]})})})}),u.jsx("footer",{className:"footer-section",children:u.jsxs("div",{className:"footer-container",children:[u.jsxs("div",{className:"footer-top",children:[u.jsxs("div",{className:"footer-left",children:[u.jsx("div",{className:"footer-logo",children:u.jsx("img",{src:"/images/Aim_Challenge_logo_white.svg",alt:"AIM Challenge"})}),u.jsxs("div",{className:"footer-info",children:[u.jsx("p",{children:"Slottsmöllan 10b, 30231 Halmstad"}),u.jsx("p",{children:u.jsx("a",{href:"mailto:info@aimchallenge.com",children:"info@aimchallenge.com"})}),u.jsx("p",{children:"+46 (0) 73-81 87 54"})]}),u.jsxs("div",{className:"footer-social",children:[u.jsx("a",{href:"https://www.instagram.com/aimchallenge/",className:"social-icon",children:u.jsx("i",{className:"fa fa-instagram"})}),u.jsx("a",{href:"https://www.facebook.com/aimchallenge/",className:"social-icon",children:u.jsx("i",{className:"fa fa-facebook"})}),u.jsx("a",{href:"https://youtube.com/@aimchallenge9800?si=ggWHNbfGv0h18mes",className:"social-icon",children:u.jsx("i",{className:"fa fa-youtube"})}),u.jsx("a",{href:"https://www.linkedin.com/company/aim-higher-ab/",className:"social-icon",children:u.jsx("i",{className:"fa fa-linkedin"})})]})]}),u.jsxs("div",{className:"footer-columns",children:[u.jsxs("div",{className:"footer-column footer-column-center",children:[u.jsx("h3",{className:"footer-title",children:"INFORMATION"}),u.jsxs("ul",{className:"footer-links",children:[u.jsx("li",{children:u.jsx("a",{href:"#",children:"Anmälningsvillkor"})}),u.jsx("li",{children:u.jsx("a",{href:"#",children:"Integritetspolicy"})}),u.jsx("li",{children:u.jsx("a",{href:"#",children:"FAQ"})})]})]}),u.jsxs("div",{className:"footer-column footer-column-right",children:[u.jsx("h3",{className:"footer-title",children:"NYHETSBREV"}),u.jsx("p",{className:"footer-newsletter-text",children:"Åtext om nyhetsbrev, samt en optin ruta för att fylla i sin epostadress. Integration mot mailchimp."})]})]})]}),u.jsx("div",{className:"footer-copyright-wrapper",children:u.jsx("div",{className:"footer-copyright",children:u.jsxs("p",{children:["© ",new Date().getFullYear()," AIM Challenge. All rights reserved."]})})})]})})]})},U=({textKey:s,defaultText:e,tag:t="p",className:a="",style:l={},placeholder:c="Skriv text här...",onClick:h})=>{const{getText:m,updateText:p,isAdmin:y,currentLanguage:v,LANGUAGES:A,LANGUAGE_NAMES:N,translateText:O}=Et(),[M,B]=C.useState(!1),[V,K]=C.useState(""),[G,Z]=C.useState(!1),[te,ae]=C.useState(""),[de,D]=C.useState(""),[k,b]=C.useState(v),[T,S]=C.useState({sv:"",en:"",no:""}),[j,w]=C.useState(!1),[H,W]=C.useState({sv:!0,en:!1,no:!1}),z=C.useRef({sv:null,en:null,no:null}),X=C.useRef(null),ce=C.useRef(null),ve=["span","a","em","strong","i","b","code","small"].includes(t);C.useEffect(()=>{const pe=m(s,e);K(pe);const Ge=m(s,e,"sv"),Ct=m(s,e,"en"),Ln=m(s,e,"no");S({sv:Ge,en:Ct,no:Ln})},[s,e,m,v]),C.useEffect(()=>{const pe=Ge=>{Ge.key==="Escape"&&M&&fe()};return document.addEventListener("keydown",pe),()=>{document.removeEventListener("keydown",pe)}},[M]);const L=pe=>{pe&&(pe.preventDefault(),pe.stopPropagation()),B(!0)},ne=async()=>{for(const pe of Object.values(A))await p(s,T[pe],pe);K(T[v]),B(!1),Z(!1)},fe=()=>{const pe=m(s,e,k);K(pe),B(!1),Z(!1)},me=()=>{Z(!G),ae(""),D(""),W({sv:k==="sv",en:k==="en",no:k==="no"})},ge=()=>{if(te&&de){let pe=de;!pe.startsWith("http://")&&!pe.startsWith("https://")&&(pe="https://"+pe);const Ge=`<a href="${pe}" target="_blank" rel="noopener noreferrer">${te}</a>`;Object.entries(H).forEach(([Ct,Ln])=>{if(Ln&&z.current[Ct]){const An=z.current[Ct],Fs=An.selectionStart,_s=T[Ct],ki=_s.substring(0,Fs),Fl=_s.substring(An.selectionEnd),Ma=ki+Ge+Fl;at(Ct,Ma),setTimeout(()=>{An.focus();const Yt=Fs+Ge.length;An.setSelectionRange(Yt,Yt)},0)}}),ae(""),D("")}},Ae=pe=>{ae(pe.target.value)},Re=pe=>{D(pe.target.value)},mt=pe=>{W(Ge=>({...Ge,[pe]:!Ge[pe]}))},He=pe=>{pe.key==="Enter"&&pe.ctrlKey?(pe.preventDefault(),ne()):pe.key==="Escape"&&(pe.preventDefault(),fe())},at=(pe,Ge)=>{S(Ct=>({...Ct,[pe]:Ge})),pe===k&&K(Ge)},Xe=async pe=>{if(!j){w(!0);try{const Ge=T.sv||"";if(!Ge){console.error("No Swedish source text available for translation");return}if(console.log(`Translating from Swedish to ${pe}: ${Ge}`),await p(s,Ge,"sv"),await O(s,pe)){const Ln=m(s,e,pe);console.log(`Translation result: ${Ln}`),S(An=>({...An,[pe]:Ln}))}}catch(Ge){console.error("Translation failed:",Ge)}finally{w(!1)}}},Qt=()=>M?Fw.createPortal(u.jsx("div",{className:"edit-modal-overlay",children:u.jsxs("div",{className:"edit-modal",children:[u.jsx("h3",{className:"edit-modal__title",children:"Redigera text"}),u.jsx("div",{className:"edit-modal__languages-vertical",children:Object.values(A).map(pe=>u.jsxs("div",{className:"edit-modal__language-section",children:[u.jsxs("div",{className:"edit-modal__language-header",children:[u.jsx("h4",{className:"edit-modal__language-title",children:N[pe]}),pe!=="sv"&&u.jsx("button",{type:"button",onClick:()=>Xe(pe),className:"modal-action-button modal-action-button--secondary modal-action-button--small",disabled:j,children:j?"Översätter...":`Översätt till ${N[pe]}`})]}),u.jsx("textarea",{value:T[pe],onChange:Ge=>at(pe,Ge.target.value),onKeyDown:He,className:"edit-modal__textarea",autoFocus:pe===v,ref:Ge=>z.current[pe]=Ge})]},pe))}),u.jsx("button",{type:"button",onClick:me,className:"modal-action-button modal-action-button--secondary",children:G?"Dölj länkverktyg":"Lägg till länk"}),G&&u.jsxs("div",{className:"edit-modal__link-tools",children:[u.jsxs("div",{className:"edit-modal__form-group",children:[u.jsx("label",{htmlFor:"linkText",className:"edit-modal__label",children:"Länktext:"}),u.jsx("input",{ref:X,type:"text",id:"linkText",value:te,onChange:Ae,className:"edit-modal__input",placeholder:"Text som ska visas"})]}),u.jsxs("div",{className:"edit-modal__form-group",children:[u.jsx("label",{htmlFor:"linkUrl",className:"edit-modal__label",children:"URL:"}),u.jsx("input",{ref:ce,type:"text",id:"linkUrl",value:de,onChange:Re,className:"edit-modal__input",placeholder:"https://example.com"})]}),u.jsxs("div",{className:"edit-modal__language-checkboxes",children:[u.jsx("p",{className:"edit-modal__label",children:"Infoga länk i:"}),Object.values(A).map(pe=>u.jsxs("label",{className:"edit-modal__checkbox-label",children:[u.jsx("input",{type:"checkbox",checked:H[pe],onChange:()=>mt(pe),className:"edit-modal__checkbox"}),N[pe]]},`link-lang-${pe}`))]}),u.jsx("button",{type:"button",onClick:ge,disabled:!te||!de||!Object.values(H).some(pe=>pe),className:"modal-action-button modal-action-button--primary",children:"Infoga länk"})]}),u.jsxs("div",{className:"edit-modal__actions",children:[u.jsx("button",{type:"button",onClick:fe,className:"modal-action-button modal-action-button--secondary",children:"Avbryt"}),u.jsx("button",{type:"button",onClick:ne,className:"modal-action-button modal-action-button--primary",children:"Spara"})]})]})}),document.body):null,ts=()=>{const pe=t,Ge={className:`editable-text ${a}`,style:l,dangerouslySetInnerHTML:{__html:V||c},onClick:h};return u.jsx(pe,{...Ge})},vn=ve?"span":"div";return u.jsxs(u.Fragment,{children:[u.jsxs(vn,{className:"editable-text-wrapper",children:[ts(),y&&u.jsx("button",{type:"button",onClick:L,className:"edit-button edit-button-primary",title:"Redigera text",children:"Redigera"})]}),Qt()]})},Uc=({instanceId:s,defaultCategory:e="Alla"})=>{const[t,a]=C.useState([]),[l,c]=C.useState([]),[h,m]=C.useState(0),[p,y]=C.useState(e),[v,A]=C.useState([e]),[N,O]=C.useState(!1),{isAdmin:M,currentLanguage:B}=Et(),[V,K]=C.useState("");C.useEffect(()=>{K(B==="en"?"READ MORE":B==="no"?"LES MER":"LÄS MER")},[B]),C.useEffect(()=>{(async()=>{try{const j=nn(We,"posts"),w=ha(j,fg("createdAt","desc")),H=await es(w),W=new Set(["Alla","Sälen","Ulricehamn","Hemsedal","Kolmården"]);H.forEach(z=>{const X=z.data();X.category&&X.category.trim()!==""&&W.add(X.category)}),A(Array.from(W))}catch(j){console.error("Error fetching categories:",j)}})()},[]),C.useEffect(()=>{s&&(async()=>{try{const j=ot(We,"carouselSettings",s),w=await Da(j);if(w.exists()){const H=w.data();y(H.category||"Alla")}}catch(j){console.error("Error fetching carousel settings:",j)}})()},[s]),C.useEffect(()=>{(async()=>{try{const j=nn(We,"posts"),w=ha(j,fg("createdAt","desc")),H=await es(w),W=[];H.forEach(z=>{W.push({id:z.id,...z.data()})}),a(W)}catch(j){console.error("Error fetching posts:",j)}})()},[]),C.useEffect(()=>{if(p==="Alla")c(t);else{const S=t.filter(j=>j.category===p);c(S)}m(0)},[p,t]);const G=async S=>{try{const j=ot(We,"carouselSettings",s);await ds(j,{category:S,updatedAt:new Date().toISOString(),updatedBy:"admin"}),console.log("Carousel settings saved successfully")}catch(j){console.error("Error saving carousel settings:",j)}},Z=S=>{y(S),G(S),O(!1)},[te,ae]=C.useState(window.innerWidth);C.useEffect(()=>{const S=()=>{ae(window.innerWidth)};return window.addEventListener("resize",S),()=>{window.removeEventListener("resize",S)}},[]);const de=te<=768?1:te<=992?2:3,D=()=>{h>0&&m(h-1)},k=()=>{h<l.length-de&&m(h+1)},b=()=>{O(!N)},T=[];for(let S=h;S<Math.min(h+de,l.length);S++)T.push(l[S]);for(;T.length<de&&l.length>0;)T.push(null);return u.jsxs("div",{className:"news-carousel",children:[M&&u.jsxs("div",{className:"news-carousel-admin",children:[u.jsxs("button",{className:"category-selector-button",onClick:b,children:[p," ",u.jsx("span",{className:"arrow",children:"▼"})]}),N&&u.jsxs("div",{className:"category-selector",children:[u.jsx("div",{className:`category-option ${p==="Alla"?"selected":""}`,onClick:()=>Z("Alla"),children:"Alla"}),v.map(S=>u.jsx("div",{className:`category-option ${p===S?"selected":""}`,onClick:()=>Z(S),children:S},S))]})]}),u.jsx("div",{className:"news-carousel-container",children:T.map((S,j)=>S?u.jsxs("div",{className:"news-card",children:[u.jsx("div",{className:"news-image",children:S.image?u.jsx("img",{src:S.image,alt:S.title}):u.jsx("div",{className:"news-image-placeholder"})}),u.jsxs("div",{className:"news-content",children:[u.jsx("h3",{className:"news-location",children:S.title}),u.jsx("div",{className:"news-description",dangerouslySetInnerHTML:{__html:S.content},style:{maxHeight:"100px",overflow:"hidden",position:"relative"}}),u.jsx("div",{style:{position:"absolute",bottom:"80px",left:"15px",right:"15px",height:"30px",background:"linear-gradient(transparent, white)",pointerEvents:"none",zIndex:1}}),u.jsx("div",{className:"news-button",children:u.jsx(ke,{to:`/news/${S.id}`,className:"button-2",children:u.jsx("span",{children:V})})})]})]},S.id):u.jsxs("div",{className:"news-card empty",children:[u.jsx("div",{className:"news-image-placeholder"}),u.jsxs("div",{className:"news-content",children:[u.jsx("h3",{className:"news-location",children:"Inga fler nyheter"}),u.jsx("p",{className:"news-description",children:"Det finns inga fler nyheter i denna kategori."})]})]},`empty-${j}`))}),u.jsxs("div",{className:"news-carousel-controls",children:[u.jsx("button",{className:"carousel-control prev",onClick:D,disabled:h===0,children:"←"}),u.jsx("button",{className:"carousel-control next",onClick:k,disabled:h>=l.length-de,children:"→"})]})]})},_D=()=>{const{isAdmin:s,getText:e,currentLanguage:t}=Et(),[a,l]=C.useState("");return C.useEffect(()=>{l(t==="en"?"Read more":t==="no"?"Les mer":"Läs mer")},[t]),u.jsxs("div",{className:"flex flex_col MaxWH location",children:[u.jsx("section",{id:"page_01",className:"page_01 dynamic-background background-editable",children:u.jsx("div",{className:" page_01box flex flex_col flex_j_SA MaxWH",children:u.jsx(U,{textKey:"main-multisport-sedan",defaultText:"MUTLISPORT SEDAN 2004",tag:"p",className:"font_white fonts_large"})})}),u.jsxs("section",{id:"page_02",className:"page_02 flex flex_j_E MaxWH location",children:[u.jsx(U,{textKey:"main-competitions-title",defaultText:"ÅRETS TÄVLINGAR",tag:"h2",className:"page_02-title"}),u.jsxs("div",{className:"page_02box  flex flex_col MaxWH location",children:[u.jsx("div",{id:"page_02-ulricehamn-image",className:"page_02-image background-editable",style:{backgroundImage:"url('images/EE-AIMChallenge24-Uhamn-0171-high.jpg')"}}),u.jsx("div",{className:"page_02-content",children:u.jsxs("div",{className:"page_02-header",children:[u.jsx(U,{textKey:"main-ulricehamn-title",defaultText:"ULRICEHAMN 10/5",tag:"p",className:"font_white fonts_medium_B"}),u.jsx(U,{textKey:"ulricehamn-date",defaultText:"datum insert",tag:"p",className:"font_white fonts_medium"})]})}),u.jsx("div",{className:"page_02-button",children:u.jsx(ke,{to:"/ulricehamn",className:"location button-2",children:u.jsx("span",{children:a})})})]}),u.jsxs("div",{className:"page_02box  flex flex_col MaxWH location",children:[u.jsx("div",{id:"page_02-salen-image",className:"page_02-image background-editable",style:{backgroundImage:"url('/images/AIM_lindvallen_2024_AnkiGrothe_highres_155.jpg')"}}),u.jsx("div",{className:"page_02-content",children:u.jsxs("div",{className:"page_02-header",children:[u.jsx(U,{textKey:"main-salen-title",defaultText:"SÄLEN 10/5",tag:"p",className:"font_white fonts_medium_B"}),u.jsx(U,{textKey:"salen-date",defaultText:"datum insert",tag:"p",className:"font_white fonts_medium"})]})}),u.jsx("div",{className:"page_02-button",children:u.jsx(ke,{to:"/salen",className:"location button-2",children:u.jsx("span",{children:a})})})]}),u.jsxs("div",{className:"page_02box flex flex_col MaxWH location",children:[u.jsx("div",{id:"page_02-hemsedal-image",className:"page_02-image background-editable",style:{backgroundImage:"url('/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg')"}}),u.jsx("div",{className:"page_02-content",children:u.jsxs("div",{className:"page_02-header",children:[u.jsx(U,{textKey:"main-hemsedal-title",defaultText:"HEMSEDAL 10/5",tag:"p",className:"font_white fonts_medium_B"}),u.jsx(U,{textKey:"hemsedal-date",defaultText:"datum insert",tag:"p",className:"font_white fonts_medium"})]})}),u.jsx("div",{className:"page_02-button",children:u.jsx(ke,{to:"/hemsedal",className:"location button-2",children:u.jsx("span",{children:a})})})]}),u.jsxs("div",{className:"page_02box  flex flex_col MaxWH location",children:[u.jsx("div",{id:"page_02-kolmarden-image",className:"page_02-image background-editable",style:{backgroundImage:"url('/images/kolmarden.jpg')"}}),u.jsx("div",{className:"page_02-content",children:u.jsxs("div",{className:"page_02-header",children:[u.jsx(U,{textKey:"main-kolmarden-title",defaultText:"KOLMÅRDEN 10/5",tag:"p",className:"font_white fonts_medium_B"}),u.jsx(U,{textKey:"kolmarden-date",defaultText:"datum insert",tag:"p",className:"font_white fonts_medium"})]})}),u.jsx("div",{className:"page_02-button",children:u.jsx(ke,{to:"/kolmarden",className:"location button-2",children:u.jsx("span",{children:a})})})]})]}),u.jsx("section",{id:"page_03",className:"page_03 flex MaxWH",children:u.jsxs("div",{className:"page_03-content flex",children:[u.jsxs("div",{className:"page_03-text",children:[u.jsx(U,{textKey:"main-about-title",defaultText:"OM AIM CHALLENGE",tag:"h2",className:"page_03-title"}),u.jsx(U,{textKey:"aim-challenge-desc-1",defaultText:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",tag:"p",className:"font_white"}),u.jsx(U,{textKey:"aim-challenge-desc-2",defaultText:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",tag:"p",className:"font_white"}),u.jsx("div",{className:"page_03-button",children:u.jsx(ke,{to:"/om-oss",className:"button-2",children:u.jsx("span",{children:a.toUpperCase()})})})]}),u.jsx("div",{className:"page_03-image",children:u.jsx("div",{id:"page_03-aim-image",className:"background-editable","data-editable":"true",style:{width:"90%",height:"90%",backgroundImage:"url('images/AIM_lindvallen_2024_AnkiGrothe_highres_155.jpg')",backgroundSize:"contain",backgroundPosition:"center",backgroundRepeat:"no-repeat"}})})]})}),u.jsx("section",{className:"ad-section",children:u.jsx("div",{className:"ad-container",children:u.jsx("div",{className:"ad-content",children:u.jsx("div",{className:"ad-carousel ad-editable",id:"main-ad-section",children:u.jsx("div",{className:"annons-text",children:"ANNONS"})})})})}),u.jsxs("section",{id:"latest-news",className:"latest-news-section",children:[u.jsx("h2",{className:"latest-news-title",children:"SENASTE NYTT"}),u.jsx("div",{className:"latest-news-container",children:u.jsx(Uc,{instanceId:"main-page-carousel"})})]})]})},Ks=()=>{const[s,e]=C.useState(!1),[t,a]=C.useState(null),[l,c]=C.useState(null),[h,m]=C.useState(null),[p,y]=C.useState("simple"),[v,A]=C.useState(null),{isAdmin:N}=Et(),O=C.useRef(null),M=C.useRef(null),B=Mn(),V=C.useCallback(w=>{if(!(w.target.closest(".edit-button")||w.target.closest(".editable-text-wrapper")&&!w.target.classList.contains("background-editable"))&&(w.stopPropagation(),N)){a(w.currentTarget),e(!0);const H=w.currentTarget.id;H&&Z(H)}},[N]),K=()=>{document.querySelectorAll(".background-editable").forEach(H=>{if(H.removeEventListener("click",V),H.addEventListener("click",V),N&&(H.classList.add("admin-editable"),H.style.cursor="pointer",!H.querySelector(".background-editable-indicator"))){const W=document.createElement("div");W.className="background-editable-indicator",W.style.position="absolute",W.style.top="5px",W.style.right="5px",W.style.width="10px",W.style.height="10px",W.style.backgroundColor="rgba(0, 255, 0, 0.5)",W.style.borderRadius="50%",W.style.zIndex="1",W.style.display=N?"block":"none",window.getComputedStyle(H).position==="static"&&(H.style.position="relative"),H.appendChild(W)}})};C.useEffect(()=>{const w=setTimeout(()=>{K(),G()},300),H=new MutationObserver(z=>{let X=!1;z.forEach(ce=>{ce.type==="childList"?ce.addedNodes.forEach(ve=>{ve.nodeType===1&&(ve.classList&&ve.classList.contains("background-editable")||ve.querySelectorAll&&ve.querySelectorAll(".background-editable").length>0)&&(X=!0)}):ce.type==="attributes"&&ce.target.classList&&ce.target.classList.contains("background-editable")&&(X=!0)}),X&&setTimeout(()=>{K()},100)});H.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["class"]});const W=setInterval(()=>{document.querySelectorAll(".background-editable").length>0&&K()},2e3);return()=>{clearTimeout(w),clearInterval(W),H.disconnect(),document.querySelectorAll(".background-editable").forEach(X=>{if(X.removeEventListener("click",V),N){X.classList.remove("admin-editable");const ce=X.querySelector(".background-editable-indicator");ce&&X.removeChild(ce)}})}},[N,B.pathname,V]),C.useEffect(()=>{if(s)return document.addEventListener("mousedown",S),()=>{document.removeEventListener("mousedown",S)}},[s]);const G=async()=>{try{const w=nn(We,"backgrounds");(await es(w)).forEach(W=>{const z=W.data(),X=document.getElementById(W.id);X&&b(X,z.imageUrl,z.backgroundType)})}catch{}},Z=async w=>{try{const H=nn(We,"backgrounds"),W=ot(H,w),z=await Da(W);if(z.exists()){const X=z.data();y(X.backgroundType||"simple"),m(X.imageUrl),A(X.imageUrl)}else y("simple"),m(null),c(null),A(null)}catch{}},te=w=>{const H=w.target.files[0];if(H){H.name||(H.name=`image-${Date.now()}.jpg`);const W=new FileReader;W.onloadend=()=>{c(H),m(W.result)},W.readAsDataURL(H)}},ae=w=>{if(!w)return null;try{if(w.includes("firebasestorage.googleapis.com")){const X=w.match(/%2F([^?]+)/g);if(X&&X.length>0)return X[X.length-1].replace("%2F","").split("?")[0]}if(w.includes("background-images")){const X=w.split("/");return X[X.length-1]}const H=w.split("/");return H[H.length-1].split("?")[0]}catch{return null}},de=async w=>{if(w)try{const H=ae(w);if(H){const W=hs(ms,`gs://aimchallange-67039.firebasestorage.app/background-images/${H}`);await Dc(W)}}catch{}},D=async()=>{if(!t||!t.id){alert("Selected element must have an ID attribute");return}try{let w=h;if(l){const H=Date.now(),W=l.name?l.name.split(".").pop():"jpg",z=`background_${H}.${W}`,X=hs(ms,`gs://aimchallange-67039.firebasestorage.app/background-images/${z}`);await zl(X,l),w=await ql(X),v&&v!==w&&await de(v)}if(w){const H=nn(We,"backgrounds");await ds(ot(H,t.id),{elementId:t.id,imageUrl:w,backgroundType:p,updatedAt:new Date,updatedBy:"anonymous"}),b(t,w,p)}e(!1)}catch{alert("Error saving background. Please try again.")}},k=async w=>{w.stopPropagation();try{if(v&&await de(v),t&&t.id){const H=nn(We,"backgrounds");await ds(ot(H,t.id),{elementId:t.id,imageUrl:null,backgroundType:"simple",updatedAt:new Date,updatedBy:"anonymous"}),t&&(t.style.backgroundImage="none")}c(null),m(null),A(null)}catch{}},b=(w,H,W)=>{if(!(!w||!H)&&(w.classList.remove("simple-background","fixed-background"),w.classList.add("has-background"),W==="simple"?w.classList.add("simple-background"):w.classList.add("locked-background"),w.style.backgroundImage=`url(${H})`,w.style.backgroundSize="cover",w.style.backgroundPosition="center",w.style.backgroundRepeat="no-repeat",W==="fixed"?w.style.backgroundAttachment="fixed":w.style.backgroundAttachment="scroll",w.id==="historien-om-aim-background-image")){const z=document.querySelector(".historien-om-aim-content-section");z&&(z.style.backgroundImage="none",z.style.backgroundColor="transparent")}},T=()=>{e(!1),a(null),c(null),m(null),A(null)},S=w=>{M.current&&!M.current.contains(w.target)&&T()},j=()=>{O.current.click()};return N?u.jsx(u.Fragment,{children:s&&u.jsx("div",{className:"background-editor-overlay",onClick:S,children:u.jsxs("div",{className:"background-editor-modal",ref:M,children:[u.jsxs("div",{className:"background-editor-modal__header",children:[u.jsx("h2",{className:"background-editor-modal__title",children:"Edit Background"}),u.jsx("button",{className:"background-editor-modal__close",onClick:T,children:"×"})]}),u.jsxs("div",{className:"background-editor-modal__body",children:[u.jsxs("div",{className:"background-editor-modal__form-group",children:[u.jsx("label",{className:"background-editor-modal__label",children:"Background Type"}),u.jsxs("select",{className:"background-editor-modal__select",value:p,onChange:w=>y(w.target.value),children:[u.jsx("option",{value:"simple",children:"Simple (scrolls with content)"}),u.jsx("option",{value:"fixed",children:"Fixed (locked when scrolling)"})]})]}),u.jsxs("div",{className:"background-editor-modal__form-group",children:[u.jsx("label",{className:"background-editor-modal__label",children:"Background Image"}),u.jsxs("div",{className:"background-editor-modal__image-upload",onClick:j,children:[h?u.jsxs("div",{className:"background-editor-modal__image-preview-container",children:[u.jsx("img",{src:h,alt:"Preview",className:"background-editor-modal__image-preview"}),u.jsx("button",{className:"background-editor-modal__image-remove",onClick:k,children:"×"})]}):u.jsx("div",{className:"background-editor-modal__image-placeholder",children:"Click to upload an image"}),u.jsx("input",{type:"file",ref:O,onChange:te,accept:"image/*",className:"background-editor-modal__file-input"})]})]})]}),u.jsxs("div",{className:"background-editor-modal__footer",children:[u.jsx("button",{className:"background-editor-modal__button background-editor-modal__button--secondary",onClick:T,children:"Cancel"}),u.jsx("button",{className:"background-editor-modal__button background-editor-modal__button--primary",onClick:D,children:"Save Changes"})]})]})})}):null},vD=()=>{const{currentLanguage:s}=Et(),[e,t]=C.useState("");return C.useEffect(()=>{t(s==="en"?"Read more":s==="no"?"Les mer":"Läs mer")},[s]),u.jsxs(u.Fragment,{children:[u.jsx(Ks,{}),u.jsxs("div",{className:"competitions-container flex flex_col MaxWH location",children:[u.jsx("div",{className:"competitions-spacer"}),u.jsxs("div",{className:"competitions-grid",children:[u.jsxs("div",{id:"competitions-card-ulricehamn",className:"competitions-card competitions-card-ulricehamn flex flex_col flex_j_SB location simple-background background-editable",children:[u.jsxs("div",{className:"trans-background competitions-header flex flex_col flex_j_C flex_a_C flex_text_C MaxWH",style:{position:"relative",zIndex:30},children:[u.jsx(U,{textKey:"competitions-ulricehamn-title",defaultText:"ULRICEHAMN",tag:"p",className:"font_blue fonts_medium_B competitions-title text-center",style:{textAlign:"center"}}),u.jsx(U,{textKey:"ulricehamn-date",defaultText:"datum insert",tag:"p",className:"font_blue fonts_medium competitions-date text-center",style:{textAlign:"center"}})]}),u.jsx("div",{className:"competitions-button-container flex flex_col flex_j_SA flex_a_C MaxWH Button",style:{position:"relative",zIndex:30},children:u.jsx(ke,{to:"/ulricehamn",className:"location button-2 competitions-button",children:u.jsx("span",{children:e})})})]}),u.jsxs("div",{id:"competitions-card-salen",className:"competitions-card competitions-card-salen flex flex_col flex_j_SB location simple-background background-editable",children:[u.jsxs("div",{className:"trans-background competitions-header flex flex_col flex_j_C flex_a_C flex_text_C MaxWH",style:{position:"relative",zIndex:30},children:[u.jsx(U,{textKey:"competitions-salen-title",defaultText:"SÄLEN",tag:"p",className:"font_blue fonts_medium_B competitions-title text-center",style:{textAlign:"center"}}),u.jsx(U,{textKey:"salen-date",defaultText:"datum insert",tag:"p",className:"font_blue fonts_medium competitions-date text-center",style:{textAlign:"center"}})]}),u.jsx("div",{className:"competitions-button-container flex flex_col flex_j_SA flex_a_C MaxWH Button",style:{position:"relative",zIndex:30},children:u.jsx(ke,{to:"/salen",className:"location button-2 competitions-button",children:u.jsx("span",{children:e})})})]})]}),u.jsxs("div",{className:"competitions-grid",children:[u.jsxs("div",{id:"competitions-card-hemsedal",className:"competitions-card competitions-card-hemsedal flex flex_col flex_j_SB location simple-background background-editable",children:[u.jsxs("div",{className:"trans-background competitions-header flex flex_col flex_j_C flex_a_C flex_text_C MaxWH",style:{position:"relative",zIndex:30},children:[u.jsx(U,{textKey:"competitions-hemsedal-title",defaultText:"HEMSEDAL",tag:"p",className:"font_blue fonts_medium_B competitions-title text-center",style:{textAlign:"center"}}),u.jsx(U,{textKey:"hemsedal-date",defaultText:"datum insert",tag:"p",className:"font_blue fonts_medium competitions-date text-center",style:{textAlign:"center"}})]}),u.jsx("div",{className:"competitions-button-container flex flex_col flex_j_SA flex_a_C MaxWH Button",style:{position:"relative",zIndex:30},children:u.jsx(ke,{to:"/hemsedal",className:"location button-2 competitions-button",children:u.jsx("span",{children:e})})})]}),u.jsxs("div",{id:"competitions-card-kolmarden",className:"competitions-card competitions-card-kolmarden flex flex_col flex_j_SB location simple-background background-editable",children:[u.jsxs("div",{className:"trans-background competitions-header flex flex_col flex_j_C flex_a_C flex_text_C MaxWH",style:{position:"relative",zIndex:30},children:[u.jsx(U,{textKey:"competitions-kolmarden-title",defaultText:"KOLMÅRDEN",tag:"p",className:"font_blue fonts_medium_B competitions-title text-center",style:{textAlign:"center"}}),u.jsx(U,{textKey:"kolmarden-date",defaultText:"datum insert",tag:"p",className:"font_blue fonts_medium competitions-date text-center",style:{textAlign:"center"}})]}),u.jsx("div",{className:"competitions-button-container flex flex_col flex_j_SA flex_a_C MaxWH Button",style:{position:"relative",zIndex:30},children:u.jsx(ke,{to:"/kolmarden",className:"location button-2 competitions-button",children:u.jsx("span",{children:e})})})]})]}),u.jsx("div",{className:"competitions-grid",children:u.jsxs("div",{id:"competitions-card-trippeln",className:"competitions-card competitions-card-trippeln flex flex_col flex_j_SB location simple-background background-editable",style:{gridColumn:"span 2"},children:[u.jsxs("div",{className:"trans-background competitions-header flex flex_col flex_j_C flex_a_C flex_text_C MaxWH",style:{position:"relative",zIndex:30},children:[u.jsx(U,{textKey:"competitions-trippeln-title",defaultText:"AIM CHALLENGE TRIPPELN",tag:"p",className:"font_blue fonts_medium_B competitions-title text-center",style:{textAlign:"center"}}),u.jsx(U,{textKey:"trippeln-description",defaultText:"Tävla i alla tre deltävlingar och bli en del av AIM Challenge Trippeln",tag:"p",className:"font_blue fonts_medium competitions-date text-center",style:{textAlign:"center"}})]}),u.jsx("div",{className:"competitions-button-container flex flex_col flex_j_SA flex_a_C MaxWH Button",style:{position:"relative",zIndex:30},children:u.jsx(ke,{to:"/trippeln",className:"location button-2 competitions-button",children:u.jsx("span",{children:e})})})]})})]})]})},xD=()=>{const{currentLanguage:s}=Et(),[e,t]=C.useState(""),[a,l]=C.useState(""),[c,h]=C.useState(""),[m,p]=C.useState(""),[y,v]=C.useState("");return C.useEffect(()=>{s==="en"?(t("Read more"),l("TAKE ME TO REGISTRATION"),h("LATEST NEWS ULRICEHAMN"),p("USEFUL LINKS"),v("LOCAL SPONSORS")):s==="no"?(t("Les mer"),l("TA MEG TIL PÅMELDING"),h("SISTE NYTT ULRICEHAMN"),p("NYTTIGE LENKER"),v("LOKALE SPONSORER")):(t("Läs mer"),l("TA MIG TILL ANMÄLAN"),h("SENASTE NYTT ULRICEHAMN"),p("NYTTIGA LÄNKAR"),v("LOKALA SPONSORER"))},[s]),u.jsxs(u.Fragment,{children:[u.jsx(Ks,{},"ulricehamn-background-editor"),u.jsxs("div",{className:"ulricehamn-container",children:[u.jsx("section",{className:"ulricehamn-hero-section",children:u.jsx("div",{className:"hero-content",children:u.jsx("div",{className:"hero-image-container background-editable",id:"ulricehamn-hero-image",children:u.jsx("img",{src:"/images/EE-AIMChallenge24-Uhamn-0171-high.jpg",alt:"Ulricehamn Event"})})})}),u.jsx("section",{className:"ulricehamn-title-section",children:u.jsxs("div",{className:"title-container",children:[u.jsx(U,{textKey:"ulricehamn-title",defaultText:"ULRICEHAMN",tag:"h1",className:"location-title"}),u.jsx(U,{textKey:"ulricehamn-date",defaultText:"10 MAJ 2025",tag:"h2",className:"location-date"})]})}),u.jsx("section",{className:"ulricehamn-button-section",children:u.jsx("div",{className:"button-container",children:u.jsx("a",{href:"https://raceid.com/sv/races/12846/about",target:"_blank",rel:"noopener noreferrer",className:"anmalan-button",children:u.jsx("p",{children:a})})})}),u.jsx("section",{className:"ulricehamn-program-section",children:u.jsx("div",{className:"program-container",children:u.jsxs("div",{className:"program-cards",children:[u.jsx("div",{className:"program-card image-card background-editable",id:"ulricehamn-program-image",children:u.jsx("img",{src:"/images/EE-AIMChallenge24-Uhamn-0171-high.jpg",alt:"Ulricehamn Event"})}),u.jsxs("div",{className:"program-card info-card",children:[u.jsx(U,{textKey:"ulricehamn-program-title",defaultText:"PROGRAM",tag:"h2",className:"program-title"}),u.jsxs("div",{className:"program-schedule",children:[u.jsxs("div",{className:"program-day",children:[u.jsx(U,{textKey:"ulricehamn-friday-title",defaultText:"Fredag 9/5",tag:"h3",className:"day-title"}),u.jsx(U,{textKey:"ulricehamn-friday-schedule",defaultText:"17:00 - 19:00 Nummerlappsutdelning på XCC",tag:"p",className:"schedule-item"})]}),u.jsxs("div",{className:"program-day",children:[u.jsx(U,{textKey:"ulricehamn-saturday-title",defaultText:"Lördag 10/5",tag:"h3",className:"day-title"}),u.jsx(U,{textKey:"ulricehamn-saturday-schedule1",defaultText:"08:30 - 10:15 Registrering för alla tävlande som ej registrerat sig under fredagen på 157 XCC, på Lassalyckan.",tag:"p",className:"schedule-item"}),u.jsx(U,{textKey:"ulricehamn-saturday-schedule2",defaultText:"10:30 Obligatoriskt informationsmöte vid starten på Lassalyckan stadion.",tag:"p",className:"schedule-item"}),u.jsx(U,{textKey:"ulricehamn-saturday-schedule3",defaultText:"11:00 Start AIM Challenge, på Lassalyckan stadion. Gemensam start för 3 & 6-timmars tävlingen.",tag:"p",className:"schedule-item"}),u.jsx(U,{textKey:"ulricehamn-saturday-schedule4",defaultText:"14:00 Målgång för 3-timmars tävlingen.",tag:"p",className:"schedule-item"}),u.jsx(U,{textKey:"ulricehamn-saturday-schedule5",defaultText:"ca 15:30 Prisutdelning 3-timmars tävlingen",tag:"p",className:"schedule-item"}),u.jsx(U,{textKey:"ulricehamn-saturday-schedule6",defaultText:"16:30 - 20:00 After AIM med mat och dryck på Hotell Lassalyckan.",tag:"p",className:"schedule-item"}),u.jsx(U,{textKey:"ulricehamn-saturday-schedule7",defaultText:"17:00 Målgång för 6-timmars tävlingen.",tag:"p",className:"schedule-item"}),u.jsx(U,{textKey:"ulricehamn-saturday-schedule8",defaultText:"19:00 Prisutdelning utanför Hotell Lassalyckan.",tag:"p",className:"schedule-item"})]})]})]})]})})}),u.jsx("section",{className:"ulricehamn-price-section",children:u.jsx("div",{className:"price-container",children:u.jsxs("div",{className:"price-image-container background-editable",id:"ulricehamn-price-image",children:[u.jsx("img",{src:"/images/EE-AIMChallenge24-Uhamn-0171-high.jpg",alt:"Climbing in Ulricehamn",className:"price-background-image"}),u.jsx("div",{className:"price-overlay",children:u.jsxs("div",{className:"price-content",children:[u.jsx(U,{textKey:"ulricehamn-price-title",defaultText:"PRIS",tag:"h2",className:"section-title"}),u.jsx(U,{textKey:"ulricehamn-price-subtitle",defaultText:"ULRICEHAMN 10/5-2025",tag:"h3",className:"price-subtitle"}),u.jsxs("div",{className:"price-categories",children:[u.jsxs("div",{className:"price-category",children:[u.jsx(U,{textKey:"ulricehamn-price-3h-title",defaultText:"3-TIMMARS",tag:"h4",className:"category-title"}),u.jsx(U,{textKey:"ulricehamn-price-3h-1",defaultText:"1500 SEK / lag för Early Bird-anmälan innan 1 november.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"ulricehamn-price-3h-2",defaultText:"1700 SEK / lag för anmälan mellan 1 november och 1 februari.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"ulricehamn-price-3h-3",defaultText:"1900 SEK / lag för anmälan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"ulricehamn-price-3h-4",defaultText:"2100 SEK / lag för anmälan från 25 april och fram till start.",tag:"p",className:"price-item"})]}),u.jsxs("div",{className:"price-category",children:[u.jsx(U,{textKey:"ulricehamn-price-6h-title",defaultText:"6-TIMMARS",tag:"h4",className:"category-title"}),u.jsx(U,{textKey:"ulricehamn-price-6h-1",defaultText:"1900 SEK / lag för Early Bird-anmälan innan 1 november.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"ulricehamn-price-6h-2",defaultText:"2100 SEK / lag för anmälan mellan 1 november och 1 februari.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"ulricehamn-price-6h-3",defaultText:"2300 SEK / lag för anmälan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"ulricehamn-price-6h-4",defaultText:"2500 SEK / lag för anmälan från 25 april och fram till start.",tag:"p",className:"price-item"})]})]}),u.jsxs("div",{className:"price-category trippeln-category",children:[u.jsx(U,{textKey:"ulricehamn-price-trippeln-title",defaultText:"AIM CHALLENGE TRIPPELN 2025",tag:"h4",className:"category-title"}),u.jsx(U,{textKey:"ulricehamn-price-trippeln-1",defaultText:"4750 SEK / lag för Early Bird-anmälan innan 1 januari.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"ulricehamn-price-trippeln-2",defaultText:"5250 SEK / lag för anmälan mellan 1 januari och 1 februari.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"ulricehamn-price-trippeln-3",defaultText:"5750 SEK / lag för anmälan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"ulricehamn-price-trippeln-4",defaultText:"6250 SEK / lag för anmälan efter den 25 april.",tag:"p",className:"price-item"})]}),u.jsx("div",{className:"price-button-container",children:u.jsx("a",{href:"https://raceid.com/sv/races/12846/about",target:"_blank",rel:"noopener noreferrer",className:"price-anmalan-button",children:u.jsx("p",{children:a})})})]})})]})})}),u.jsxs("section",{id:"latest-news",className:"latest-news-section",children:[u.jsx("h2",{className:"latest-news-title",children:c}),u.jsx("div",{style:{width:"1200px",margin:"0 auto",padding:"0 20px",boxSizing:"border-box"},children:u.jsx(Uc,{instanceId:"ulricehamn-news",defaultCategory:"Ulricehamn"})})]}),u.jsx("section",{className:"useful-links-section",children:u.jsxs("div",{className:"useful-links-container",children:[u.jsx(U,{textKey:"ulricehamn-useful-links-title",defaultText:m,tag:"h2",className:"useful-links-title"}),u.jsxs("div",{className:"links-category",children:[u.jsx(U,{textKey:"ulricehamn-links-category1-title",defaultText:"Cykeluthyrning",tag:"h3",className:"links-category-title"}),u.jsx(U,{textKey:"ulricehamn-links-category1-text",defaultText:"Cykeluthyrning med in- och utlämning på Lassalyckan Stadion. Läs mer och boka här.",tag:"p",className:"links-text"})]}),u.jsxs("div",{className:"links-category",children:[u.jsx(U,{textKey:"ulricehamn-links-category2-title",defaultText:"Boende",tag:"h3",className:"links-category-title"}),u.jsx(U,{textKey:"ulricehamn-links-category2-text",defaultText:"Önskar du att bo nära start och mål så kan vi varmt rekommendera Hotell Lassalyckan som erbjuder ett modernt boende ett stenkast ifrån starten. https://www.hotell-lassalyckan.se",tag:"p",className:"links-text"})]}),u.jsxs("div",{className:"links-category",children:[u.jsx(U,{textKey:"ulricehamn-links-category3-title",defaultText:"Mat",tag:"h3",className:"links-category-title"}),u.jsx(U,{textKey:"ulricehamn-links-category3-text",defaultText:"Önskar du att bo nära start och mål så kan vi varmt rekommendera Hotell Lassalyckan som erbjuder ett modernt boende ett stenkast ifrån starten.",tag:"p",className:"links-text"})]})]})}),u.jsxs("section",{className:"sponsors-section",children:[u.jsx(U,{textKey:"ulricehamn-sponsors-title",defaultText:y,tag:"h2",className:"sponsors-title"}),u.jsx("div",{id:"ulricehamn-sponsors",className:"sponsors-container"}),u.jsx(Cp,{location:"ulricehamn",targetId:"ulricehamn-sponsors"})]})]})]})},ED=()=>{const{currentLanguage:s}=Et(),[e,t]=C.useState(""),[a,l]=C.useState(""),[c,h]=C.useState(""),[m,p]=C.useState(""),[y,v]=C.useState("");return C.useEffect(()=>{s==="en"?(t("Read more"),l("TAKE ME TO REGISTRATION"),h("LATEST NEWS SÄLEN"),p("USEFUL LINKS"),v("LOCAL SPONSORS")):s==="no"?(t("Les mer"),l("TA MEG TIL PÅMELDING"),h("SISTE NYTT SÄLEN"),p("NYTTIGE LENKER"),v("LOKALE SPONSORER")):(t("Läs mer"),l("TA MIG TILL ANMÄLAN"),h("SENASTE NYTT SÄLEN"),p("NYTTIGA LÄNKAR"),v("LOKALA SPONSORER"))},[s]),u.jsxs(u.Fragment,{children:[u.jsx(Ks,{},"salen-background-editor"),u.jsxs("div",{className:"salen-container",children:[u.jsx("section",{className:"salen-hero-section",children:u.jsx("div",{className:"hero-content",children:u.jsx("div",{className:"hero-image-container background-editable",id:"salen-hero-image",children:u.jsx("img",{src:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg",alt:"Sälen Event"})})})}),u.jsx("section",{className:"salen-title-section",children:u.jsxs("div",{className:"title-container",children:[u.jsx(U,{textKey:"salen-title",defaultText:"SÄLEN",tag:"h1",className:"location-title"}),u.jsx(U,{textKey:"salen-date",defaultText:"1 AUGUSTI 2025",tag:"h2",className:"location-date"})]})}),u.jsx("section",{className:"ulricehamn-button-section",children:u.jsx("div",{className:"button-container",children:u.jsx("a",{href:"https://raceid.com/sv/races/12846/about",target:"_blank",rel:"noopener noreferrer",className:"anmalan-button",children:u.jsx("p",{children:a})})})}),u.jsx("section",{className:"salen-program-section",children:u.jsx("div",{className:"program-container",children:u.jsxs("div",{className:"program-cards",children:[u.jsx("div",{className:"program-card image-card background-editable",id:"salen-program-image",children:u.jsx("img",{src:"/images/EE-AIMChallenge24-Uhamn-0171-high.jpg",alt:"Sälen Event"})}),u.jsxs("div",{className:"program-card info-card",children:[u.jsx(U,{textKey:"salen-program-title",defaultText:"PROGRAM",tag:"h2",className:"program-title"}),u.jsxs("div",{className:"program-schedule",children:[u.jsxs("div",{className:"program-day",children:[u.jsx(U,{textKey:"salen-friday-title",defaultText:"Fredag 9/5",tag:"h3",className:"day-title"}),u.jsx(U,{textKey:"salen-friday-schedule",defaultText:"17:00 - 19:00 Nummerlappsutdelning på XCC",tag:"p",className:"schedule-item"})]}),u.jsxs("div",{className:"program-day",children:[u.jsx(U,{textKey:"salen-saturday-title",defaultText:"Lördag 10/5",tag:"h3",className:"day-title"}),u.jsx(U,{textKey:"salen-saturday-schedule1",defaultText:"08:30 - 10:15 Registrering för alla tävlande som ej registrerat sig under fredagen på 157 XCC, på Lassalyckan.",tag:"p",className:"schedule-item"}),u.jsx(U,{textKey:"salen-saturday-schedule2",defaultText:"10:30 Obligatoriskt informationsmöte vid starten på Lassalyckan stadion.",tag:"p",className:"schedule-item"}),u.jsx(U,{textKey:"salen-saturday-schedule3",defaultText:"11:00 Start AIM Challenge, på Lassalyckan stadion. Gemensam start för 3 & 6-timmars tävlingen.",tag:"p",className:"schedule-item"}),u.jsx(U,{textKey:"salen-saturday-schedule4",defaultText:"14:00 Målgång för 3-timmars tävlingen.",tag:"p",className:"schedule-item"}),u.jsx(U,{textKey:"salen-saturday-schedule5",defaultText:"ca 15:30 Prisutdelning 3-timmars tävlingen",tag:"p",className:"schedule-item"}),u.jsx(U,{textKey:"salen-saturday-schedule6",defaultText:"16:30 - 20:00 After AIM med mat och dryck på Hotell Lassalyckan.",tag:"p",className:"schedule-item"}),u.jsx(U,{textKey:"salen-saturday-schedule7",defaultText:"17:00 Målgång för 6-timmars tävlingen.",tag:"p",className:"schedule-item"}),u.jsx(U,{textKey:"salen-saturday-schedule8",defaultText:"19:00 Prisutdelning utanför Hotell Lassalyckan.",tag:"p",className:"schedule-item"})]})]})]})]})})}),u.jsx("section",{className:"salen-price-section",children:u.jsx("div",{className:"price-container",children:u.jsxs("div",{className:"price-image-container background-editable",id:"salen-price-image",children:[u.jsx("img",{src:"/images/AIM_lindvallen_2024_AnkiGrothe_highres_34.jpg",alt:"Climbing in Lindvallen",className:"price-background-image"}),u.jsx("div",{className:"price-overlay",children:u.jsxs("div",{className:"price-content",children:[u.jsx(U,{textKey:"salen-price-title",defaultText:"PRIS",tag:"h2",className:"section-title"}),u.jsx(U,{textKey:"salen-price-subtitle",defaultText:"ULRICEHAMN 10/5-2025",tag:"h3",className:"price-subtitle"}),u.jsxs("div",{className:"price-categories",children:[u.jsxs("div",{className:"price-category",children:[u.jsx(U,{textKey:"salen-price-3h-title",defaultText:"3-TIMMARS",tag:"h4",className:"category-title"}),u.jsx(U,{textKey:"salen-price-3h-1",defaultText:"1500 SEK / lag för Early Bird-anmälan innan 1 november.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"salen-price-3h-2",defaultText:"1700 SEK / lag för anmälan mellan 1 november och 1 februari.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"salen-price-3h-3",defaultText:"1900 SEK / lag för anmälan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"salen-price-3h-4",defaultText:"2100 SEK / lag för anmälan från 25 april och fram till start.",tag:"p",className:"price-item"})]}),u.jsxs("div",{className:"price-category",children:[u.jsx(U,{textKey:"salen-price-6h-title",defaultText:"6-TIMMARS",tag:"h4",className:"category-title"}),u.jsx(U,{textKey:"salen-price-6h-1",defaultText:"1900 SEK / lag för Early Bird-anmälan innan 1 november.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"salen-price-6h-2",defaultText:"2100 SEK / lag för anmälan mellan 1 november och 1 februari.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"salen-price-6h-3",defaultText:"2300 SEK / lag för anmälan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"salen-price-6h-4",defaultText:"2500 SEK / lag för anmälan från 25 april och fram till start.",tag:"p",className:"price-item"})]})]}),u.jsxs("div",{className:"price-category trippeln-category",children:[u.jsx(U,{textKey:"salen-price-trippeln-title",defaultText:"AIM CHALLENGE TRIPPELN 2025",tag:"h4",className:"category-title"}),u.jsx(U,{textKey:"salen-price-trippeln-1",defaultText:"4750 SEK / lag för Early Bird-anmälan innan 1 januari.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"salen-price-trippeln-2",defaultText:"5250 SEK / lag för anmälan mellan 1 januari och 1 februari.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"salen-price-trippeln-3",defaultText:"5750 SEK / lag för anmälan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"salen-price-trippeln-4",defaultText:"6250 SEK / lag för anmälan efter den 25 april.",tag:"p",className:"price-item"})]}),u.jsx("div",{className:"price-button-container",children:u.jsx("a",{href:"https://raceid.com/sv/races/12846/about",target:"_blank",rel:"noopener noreferrer",className:"price-anmalan-button",children:u.jsx("p",{children:a})})})]})})]})})}),u.jsxs("section",{id:"latest-news",className:"latest-news-section",children:[u.jsx("h2",{className:"latest-news-title",children:c}),u.jsx("div",{style:{width:"1200px",margin:"0 auto",padding:"0 20px",boxSizing:"border-box"},children:u.jsx(Uc,{instanceId:"salen-news",defaultCategory:"Sälen"})})]}),u.jsx("section",{className:"useful-links-section",children:u.jsxs("div",{className:"useful-links-container",children:[u.jsx(U,{textKey:"salen-useful-links-title",defaultText:m,tag:"h2",className:"useful-links-title"}),u.jsxs("div",{className:"links-category",children:[u.jsx(U,{textKey:"salen-links-category1-title",defaultText:"Cykeluthyrning",tag:"h3",className:"links-category-title"}),u.jsx(U,{textKey:"salen-links-category1-text",defaultText:"Cykeluthyrning med in- och utlämning på Lassalyckan Stadion. Läs mer och boka här.",tag:"p",className:"links-text"})]}),u.jsxs("div",{className:"links-category",children:[u.jsx(U,{textKey:"salen-links-category2-title",defaultText:"Boende",tag:"h3",className:"links-category-title"}),u.jsx(U,{textKey:"salen-links-category2-text",defaultText:"Önskar du att bo nära start och mål så kan vi varmt rekommendera Hotell Lassalyckan som erbjuder ett modernt boende ett stenkast ifrån starten. https://www.hotell-lassalyckan.se",tag:"p",className:"links-text"})]}),u.jsxs("div",{className:"links-category",children:[u.jsx(U,{textKey:"salen-links-category3-title",defaultText:"Mat",tag:"h3",className:"links-category-title"}),u.jsx(U,{textKey:"salen-links-category3-text",defaultText:"Önskar du att bo nära start och mål så kan vi varmt rekommendera Hotell Lassalyckan som erbjuder ett modernt boende ett stenkast ifrån starten.",tag:"p",className:"links-text"})]})]})}),u.jsxs("section",{className:"sponsors-section",children:[u.jsx("h2",{className:"sponsors-title",children:y}),u.jsx("div",{className:"sponsors-container"})]})]})]})},bD=()=>{const{currentLanguage:s}=Et(),[e,t]=C.useState("");return C.useEffect(()=>{t(s==="en"?"Read more":s==="no"?"Les mer":"Läs mer")},[s]),u.jsxs(u.Fragment,{children:[u.jsx(Ks,{},"hemsedal-background-editor"),u.jsxs("div",{className:"hemsedal-container",children:[u.jsx("section",{className:"hemsedal-hero-section",children:u.jsx("div",{className:"hero-content",children:u.jsx("div",{className:"hero-image-container background-editable",id:"hemsedal-hero-image",children:u.jsx("img",{src:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_025.jpg",alt:"Hemsedal Event"})})})}),u.jsx("section",{className:"hemsedal-title-section",children:u.jsxs("div",{className:"title-container",children:[u.jsx(U,{textKey:"hemsedal-title",defaultText:"HEMSEDAL",tag:"h1",className:"location-title"}),u.jsx(U,{textKey:"hemsedal-date",defaultText:"10 MAJ 2025",tag:"h2",className:"location-date"})]})}),u.jsx("section",{className:"hemsedal-button-section",children:u.jsx("div",{className:"button-container",children:u.jsx("a",{href:"https://raceid.com/sv/races/13015/about",target:"_blank",rel:"noopener noreferrer",className:"anmalan-button",children:u.jsx("p",{children:"TA MIG TILL ANMÄLAN"})})})}),u.jsx("section",{className:"hemsedal-program-section",children:u.jsx("div",{className:"program-container",children:u.jsxs("div",{className:"program-cards",children:[u.jsx("div",{className:"program-card image-card background-editable",id:"hemsedal-program-image",children:u.jsx("img",{src:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_025.jpg",alt:"Hemsedal Event"})}),u.jsxs("div",{className:"program-card info-card",children:[u.jsx(U,{textKey:"hemsedal-program-title",defaultText:"PROGRAM",tag:"h2",className:"program-title"}),u.jsxs("div",{className:"program-schedule",children:[u.jsxs("div",{className:"program-day",children:[u.jsx(U,{textKey:"hemsedal-friday-title",defaultText:"Fredag 9/5",tag:"h3",className:"day-title"}),u.jsx(U,{textKey:"hemsedal-friday-schedule",defaultText:"17:00 - 19:00 Nummerlappsutdelning på XCC",tag:"p",className:"schedule-item"})]}),u.jsxs("div",{className:"program-day",children:[u.jsx(U,{textKey:"hemsedal-saturday-title",defaultText:"Lördag 10/5",tag:"h3",className:"day-title"}),u.jsx(U,{textKey:"hemsedal-saturday-schedule1",defaultText:"08:30 - 10:15 Registrering för alla tävlande som ej registrerat sig under fredagen på 157 XCC, på Lassalyckan.",tag:"p",className:"schedule-item"}),u.jsx(U,{textKey:"hemsedal-saturday-schedule2",defaultText:"10:30 Obligatoriskt informationsmöte vid starten på Lassalyckan stadion.",tag:"p",className:"schedule-item"}),u.jsx(U,{textKey:"hemsedal-saturday-schedule3",defaultText:"11:00 Start AIM Challenge, på Lassalyckan stadion. Gemensam start för 3 & 6-timmars tävlingen.",tag:"p",className:"schedule-item"}),u.jsx(U,{textKey:"hemsedal-saturday-schedule4",defaultText:"14:00 Målgång för 3-timmars tävlingen.",tag:"p",className:"schedule-item"}),u.jsx(U,{textKey:"hemsedal-saturday-schedule5",defaultText:"ca 15:30 Prisutdelning 3-timmars tävlingen",tag:"p",className:"schedule-item"}),u.jsx(U,{textKey:"hemsedal-saturday-schedule6",defaultText:"16:30 - 20:00 After AIM med mat och dryck på Hotell Lassalyckan.",tag:"p",className:"schedule-item"}),u.jsx(U,{textKey:"hemsedal-saturday-schedule7",defaultText:"17:00 Målgång för 6-timmars tävlingen.",tag:"p",className:"schedule-item"}),u.jsx(U,{textKey:"hemsedal-saturday-schedule8",defaultText:"19:00 Prisutdelning utanför Hotell Lassalyckan.",tag:"p",className:"schedule-item"})]})]})]})]})})}),u.jsx("section",{className:"hemsedal-price-section",children:u.jsx("div",{className:"price-container",children:u.jsxs("div",{className:"price-image-container background-editable",id:"hemsedal-price-image",children:[u.jsx("img",{src:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_094.jpg",alt:"Climbing in Hemsedal",className:"price-background-image"}),u.jsx("div",{className:"price-overlay",children:u.jsxs("div",{className:"price-content",children:[u.jsx(U,{textKey:"hemsedal-price-title",defaultText:"PRIS",tag:"h2",className:"section-title"}),u.jsx(U,{textKey:"hemsedal-price-subtitle",defaultText:"HEMSEDAL 24/8-2024",tag:"h3",className:"price-subtitle"}),u.jsxs("div",{className:"price-categories",children:[u.jsxs("div",{className:"price-category",children:[u.jsx(U,{textKey:"hemsedal-price-3h-title",defaultText:"3-TIMMARS",tag:"h4",className:"category-title"}),u.jsx(U,{textKey:"hemsedal-price-3h-1",defaultText:"1500 SEK / lag för Early Bird-anmälan innan 1 november.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"hemsedal-price-3h-2",defaultText:"1700 SEK / lag för anmälan mellan 1 november och 1 februari.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"hemsedal-price-3h-3",defaultText:"1900 SEK / lag för anmälan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"hemsedal-price-3h-4",defaultText:"2100 SEK / lag för anmälan från 25 april och fram till start.",tag:"p",className:"price-item"})]}),u.jsxs("div",{className:"price-category",children:[u.jsx(U,{textKey:"hemsedal-price-6h-title",defaultText:"6-TIMMARS",tag:"h4",className:"category-title"}),u.jsx(U,{textKey:"hemsedal-price-6h-1",defaultText:"1900 SEK / lag för Early Bird-anmälan innan 1 november.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"hemsedal-price-6h-2",defaultText:"2100 SEK / lag för anmälan mellan 1 november och 1 februari.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"hemsedal-price-6h-3",defaultText:"2300 SEK / lag för anmälan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"hemsedal-price-6h-4",defaultText:"2500 SEK / lag för anmälan från 25 april och fram till start.",tag:"p",className:"price-item"})]})]}),u.jsxs("div",{className:"price-category trippeln-category",children:[u.jsx(U,{textKey:"hemsedal-price-trippeln-title",defaultText:"AIM CHALLENGE TRIPPELN 2025",tag:"h4",className:"category-title"}),u.jsx(U,{textKey:"hemsedal-price-trippeln-1",defaultText:"4750 SEK / lag för Early Bird-anmälan innan 1 januari.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"hemsedal-price-trippeln-2",defaultText:"5250 SEK / lag för anmälan mellan 1 januari och 1 februari.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"hemsedal-price-trippeln-3",defaultText:"5750 SEK / lag för anmälan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"hemsedal-price-trippeln-4",defaultText:"6250 SEK / lag för anmälan efter den 25 april.",tag:"p",className:"price-item"})]}),u.jsx("div",{className:"price-button-container",children:u.jsx("a",{href:"https://raceid.com/sv/races/13015/about",target:"_blank",rel:"noopener noreferrer",className:"price-anmalan-button",children:u.jsx("p",{children:"TA MIG TILL ANMÄLAN"})})})]})})]})})}),u.jsxs("section",{id:"latest-news",className:"latest-news-section",children:[u.jsx("h2",{className:"latest-news-title",children:"SENASTE NYTT HEMSEDAL"}),u.jsx("div",{style:{width:"1200px",margin:"0 auto",padding:"0 20px",boxSizing:"border-box"},children:u.jsx(Uc,{instanceId:"hemsedal-news",defaultCategory:"Hemsedal"})})]}),u.jsx("section",{className:"useful-links-section",children:u.jsxs("div",{className:"useful-links-container",children:[u.jsx(U,{textKey:"hemsedal-useful-links-title",defaultText:"NYTTIGA LÄNKAR",tag:"h2",className:"useful-links-title"}),u.jsxs("div",{className:"links-category",children:[u.jsx(U,{textKey:"hemsedal-links-category1-title",defaultText:"Cykeluthyrning",tag:"h3",className:"links-category-title"}),u.jsx(U,{textKey:"hemsedal-links-category1-text",defaultText:"Cykeluthyrning med in- och utlämning på Lassalyckan Stadion. Läs mer och boka här.",tag:"p",className:"links-text"})]}),u.jsxs("div",{className:"links-category",children:[u.jsx(U,{textKey:"hemsedal-links-category2-title",defaultText:"Boende",tag:"h3",className:"links-category-title"}),u.jsx(U,{textKey:"hemsedal-links-category2-text",defaultText:"Önskar du att bo nära start och mål så kan vi varmt rekommendera Hotell Lassalyckan som erbjuder ett modernt boende ett stenkast ifrån starten. https://www.hotell-lassalyckan.se",tag:"p",className:"links-text"})]}),u.jsxs("div",{className:"links-category",children:[u.jsx(U,{textKey:"hemsedal-links-category3-title",defaultText:"Mat",tag:"h3",className:"links-category-title"}),u.jsx(U,{textKey:"hemsedal-links-category3-text",defaultText:"Önskar du att bo nära start och mål så kan vi varmt rekommendera Hotell Lassalyckan som erbjuder ett modernt boende ett stenkast ifrån starten.",tag:"p",className:"links-text"})]})]})}),u.jsxs("section",{className:"sponsors-section",children:[u.jsx("h2",{className:"sponsors-title",children:"LOKALA SPONSORER"}),u.jsx("div",{className:"sponsors-container"})]})]})]})},TD=()=>{const{currentLanguage:s}=Et(),[e,t]=C.useState(""),[a,l]=C.useState(""),[c,h]=C.useState(""),[m,p]=C.useState(""),[y,v]=C.useState("");return C.useEffect(()=>{s==="en"?(t("Read more"),l("TAKE ME TO REGISTRATION"),h("LATEST NEWS KOLMÅRDEN"),p("USEFUL LINKS"),v("LOCAL SPONSORS")):s==="no"?(t("Les mer"),l("TA MEG TIL PÅMELDING"),h("SISTE NYTT KOLMÅRDEN"),p("NYTTIGE LENKER"),v("LOKALE SPONSORER")):(t("Läs mer"),l("TA MIG TILL ANMÄLAN"),h("SENASTE NYTT KOLMÅRDEN"),p("NYTTIGA LÄNKAR"),v("LOKALA SPONSORER"))},[s]),u.jsxs(u.Fragment,{children:[u.jsx(Ks,{},"kolmarden-background-editor"),u.jsxs("div",{className:"kolmarden-container",children:[u.jsx("section",{className:"kolmarden-hero-section",children:u.jsx("div",{className:"hero-content",children:u.jsx("div",{className:"hero-image-container background-editable",id:"kolmarden-hero-image",children:u.jsx("img",{src:"/images/Kolmarden_1.jpg",alt:"Kolmarden Event"})})})}),u.jsx("section",{className:"kolmarden-title-section",children:u.jsxs("div",{className:"title-container",children:[u.jsx(U,{textKey:"kolmarden-title",defaultText:"KOLMÅRDEN",tag:"h1",className:"location-title"}),u.jsx(U,{textKey:"kolmarden-date",defaultText:"10 MAJ 2025",tag:"h2",className:"location-date"})]})}),u.jsx("section",{className:"kolmarden-button-section",children:u.jsx("div",{className:"button-container",children:u.jsx("a",{href:"https://raceid.com/sv/races/12846/about",target:"_blank",rel:"noopener noreferrer",className:"anmalan-button",children:u.jsx("p",{children:a})})})}),u.jsx("section",{className:"kolmarden-program-section",children:u.jsx("div",{className:"program-container",children:u.jsxs("div",{className:"program-cards",children:[u.jsx("div",{className:"program-card image-card background-editable",id:"kolmarden-program-image",children:u.jsx("img",{src:"/images/Kolmarden_2.jpg",alt:"Kolmarden Event"})}),u.jsxs("div",{className:"program-card info-card",children:[u.jsx(U,{textKey:"kolmarden-program-title",defaultText:"PROGRAM",tag:"h2",className:"program-title"}),u.jsxs("div",{className:"program-schedule",children:[u.jsxs("div",{className:"program-day",children:[u.jsx(U,{textKey:"kolmarden-friday-title",defaultText:"Fredag 9/5",tag:"h3",className:"day-title"}),u.jsx(U,{textKey:"kolmarden-friday-schedule",defaultText:"17:00 - 19:00 Nummerlappsutdelning på XCC",tag:"p",className:"schedule-item"})]}),u.jsxs("div",{className:"program-day",children:[u.jsx(U,{textKey:"kolmarden-saturday-title",defaultText:"Lördag 10/5",tag:"h3",className:"day-title"}),u.jsx(U,{textKey:"kolmarden-saturday-schedule1",defaultText:"08:30 - 10:15 Registrering för alla tävlande som ej registrerat sig under fredagen på 157 XCC, på Lassalyckan.",tag:"p",className:"schedule-item"}),u.jsx(U,{textKey:"kolmarden-saturday-schedule2",defaultText:"10:30 Obligatoriskt informationsmöte vid starten på Lassalyckan stadion.",tag:"p",className:"schedule-item"}),u.jsx(U,{textKey:"kolmarden-saturday-schedule3",defaultText:"11:00 Start AIM Challenge, på Lassalyckan stadion. Gemensam start för 3 & 6-timmars tävlingen.",tag:"p",className:"schedule-item"}),u.jsx(U,{textKey:"kolmarden-saturday-schedule4",defaultText:"14:00 Målgång för 3-timmars tävlingen.",tag:"p",className:"schedule-item"}),u.jsx(U,{textKey:"kolmarden-saturday-schedule5",defaultText:"ca 15:30 Prisutdelning 3-timmars tävlingen",tag:"p",className:"schedule-item"}),u.jsx(U,{textKey:"kolmarden-saturday-schedule6",defaultText:"16:30 - 20:00 After AIM med mat och dryck på Hotell Lassalyckan.",tag:"p",className:"schedule-item"}),u.jsx(U,{textKey:"kolmarden-saturday-schedule7",defaultText:"17:00 Målgång för 6-timmars tävlingen.",tag:"p",className:"schedule-item"}),u.jsx(U,{textKey:"kolmarden-saturday-schedule8",defaultText:"19:00 Prisutdelning utanför Hotell Lassalyckan.",tag:"p",className:"schedule-item"})]})]})]})]})})}),u.jsx("section",{className:"kolmarden-price-section",children:u.jsx("div",{className:"price-container",children:u.jsxs("div",{className:"price-image-container background-editable",id:"kolmarden-price-image",children:[u.jsx("img",{src:"/images/Kolmarden_1.jpg",alt:"Climbing in Kolmarden",className:"price-background-image"}),u.jsx("div",{className:"price-overlay",children:u.jsxs("div",{className:"price-content",children:[u.jsx(U,{textKey:"kolmarden-price-title",defaultText:"PRIS",tag:"h2",className:"section-title"}),u.jsx(U,{textKey:"kolmarden-price-subtitle",defaultText:"KOLMADERN 10/5-2025",tag:"h3",className:"price-subtitle"}),u.jsxs("div",{className:"price-categories",children:[u.jsxs("div",{className:"price-category",children:[u.jsx(U,{textKey:"kolmarden-price-3h-title",defaultText:"3-TIMMARS",tag:"h4",className:"category-title"}),u.jsx(U,{textKey:"kolmarden-price-3h-1",defaultText:"1500 SEK / lag för Early Bird-anmälan innan 1 november.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"kolmarden-price-3h-2",defaultText:"1700 SEK / lag för anmälan mellan 1 november och 1 februari.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"kolmarden-price-3h-3",defaultText:"1900 SEK / lag för anmälan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"kolmarden-price-3h-4",defaultText:"2100 SEK / lag för anmälan från 25 april och fram till start.",tag:"p",className:"price-item"})]}),u.jsxs("div",{className:"price-category",children:[u.jsx(U,{textKey:"kolmarden-price-6h-title",defaultText:"6-TIMMARS",tag:"h4",className:"category-title"}),u.jsx(U,{textKey:"kolmarden-price-6h-1",defaultText:"1900 SEK / lag för Early Bird-anmälan innan 1 november.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"kolmarden-price-6h-2",defaultText:"2100 SEK / lag för anmälan mellan 1 november och 1 februari.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"kolmarden-price-6h-3",defaultText:"2300 SEK / lag för anmälan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"kolmarden-price-6h-4",defaultText:"2500 SEK / lag för anmälan från 25 april och fram till start.",tag:"p",className:"price-item"})]})]}),u.jsxs("div",{className:"price-category trippeln-category",children:[u.jsx(U,{textKey:"kolmarden-price-trippeln-title",defaultText:"AIM CHALLENGE TRIPPELN 2025",tag:"h4",className:"category-title"}),u.jsx(U,{textKey:"kolmarden-price-trippeln-1",defaultText:"4750 SEK / lag för Early Bird-anmälan innan 1 januari.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"kolmarden-price-trippeln-2",defaultText:"5250 SEK / lag för anmälan mellan 1 januari och 1 februari.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"kolmarden-price-trippeln-3",defaultText:"5750 SEK / lag för anmälan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"kolmarden-price-trippeln-4",defaultText:"6250 SEK / lag för anmälan efter den 25 april.",tag:"p",className:"price-item"})]}),u.jsx("div",{className:"price-button-container",children:u.jsx("a",{href:"https://raceid.com/sv/races/12846/about",target:"_blank",rel:"noopener noreferrer",className:"price-anmalan-button",children:u.jsx("p",{children:a})})})]})})]})})}),u.jsxs("section",{id:"latest-news",className:"latest-news-section",children:[u.jsx("h2",{className:"latest-news-title",children:c}),u.jsx("div",{style:{width:"1200px",margin:"0 auto",padding:"0 20px",boxSizing:"border-box"},children:u.jsx(Uc,{instanceId:"kolmarden-news",defaultCategory:"Kolmården"})})]}),u.jsx("section",{className:"useful-links-section",children:u.jsxs("div",{className:"useful-links-container",children:[u.jsx(U,{textKey:"kolmarden-useful-links-title",defaultText:m,tag:"h2",className:"useful-links-title"}),u.jsxs("div",{className:"links-category",children:[u.jsx(U,{textKey:"kolmarden-links-category1-title",defaultText:"Cykeluthyrning",tag:"h3",className:"links-category-title"}),u.jsx(U,{textKey:"kolmarden-links-category1-text",defaultText:"Cykeluthyrning med in- och utlämning på Lassalyckan Stadion. Läs mer och boka här.",tag:"p",className:"links-text"})]}),u.jsxs("div",{className:"links-category",children:[u.jsx(U,{textKey:"kolmarden-links-category2-title",defaultText:"Boende",tag:"h3",className:"links-category-title"}),u.jsx(U,{textKey:"kolmarden-links-category2-text",defaultText:"Önskar du att bo nära start och mål så kan vi varmt rekommendera Hotell Lassalyckan som erbjuder ett modernt boende ett stenkast ifrån starten. https://www.hotell-lassalyckan.se",tag:"p",className:"links-text"})]}),u.jsxs("div",{className:"links-category",children:[u.jsx(U,{textKey:"kolmarden-links-category3-title",defaultText:"Mat",tag:"h3",className:"links-category-title"}),u.jsx(U,{textKey:"kolmarden-links-category3-text",defaultText:"Önskar du att bo nära start och mål så kan vi varmt rekommendera Hotell Lassalyckan som erbjuder ett modernt boende ett stenkast ifrån starten.",tag:"p",className:"links-text"})]})]})}),u.jsxs("section",{className:"sponsors-section",children:[u.jsx(U,{textKey:"kolmarden-sponsors-title",defaultText:y,tag:"h2",className:"sponsors-title"}),u.jsx("div",{id:"kolmarden-sponsors",className:"sponsors-container"}),u.jsx(Cp,{location:"kolmarden",targetId:"kolmarden-sponsors"})]})]})]})},AD=()=>u.jsxs(u.Fragment,{children:[u.jsx(Ks,{},"trippeln-background-editor"),u.jsxs("div",{className:"trippeln-container",children:[u.jsx("section",{className:"trippeln-hero-section",children:u.jsx("div",{className:"hero-content",children:u.jsx("div",{className:"hero-image-container background-editable",id:"trippeln-hero-image",children:u.jsx("img",{src:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_057.jpg",alt:"Trippeln Hero"})})})}),u.jsx("section",{className:"trippeln-title-section",children:u.jsx("div",{className:"title-container",children:u.jsx(U,{textKey:"trippeln-title",defaultText:"AIM CHALLENGE TRIPPELN",tag:"h1",className:"location-title"})})}),u.jsx("section",{className:"trippeln-content-section",children:u.jsx("div",{className:"trippeln-content-container",children:u.jsxs("div",{className:"trippeln-content",children:[u.jsx(U,{textKey:"trippeln-text-1",defaultText:"Trippeln är en tävling i tävlingen där de som deltar i minst tre av årets deltävlingar är med och tävlar om den mycket hedervärda titeln Vinnare av AIM Challenge Trippeln!",tag:"p",className:"trippeln-text"}),u.jsx(U,{textKey:"trippeln-text-2",defaultText:"AIM Challenge Trippeln ersätter Landskampen som sedan 2010 har varit en tävling i tävlingen för de som genomfört AIM Challenge både i Lindvallen och Hemsedal. En tävling där det tävlats för antingen Sverige eller Norge, där det vinnande landet har hyllats och den som bidragit mest till sitt land har prisats.",tag:"p",className:"trippeln-text"}),u.jsx(U,{textKey:"trippeln-text-3",defaultText:"Med AIM Challenge Trippeln lägger vi ner stridsyxan mellan Sverige och Norge och gör det därmed möjligt att även köra mixade lag mellan olika nationer utan att detta skapar en konflikt.",tag:"p",className:"trippeln-text"}),u.jsx(U,{textKey:"trippeln-subheading",defaultText:"Hur går AIM Challenge Trippeln till:",tag:"h2",className:"trippeln-subheading"}),u.jsx(U,{textKey:"trippeln-text-4",defaultText:"AIM Challenge Trippeln är en tävling i tävlingen för de lag som deltar på minst tre deltävlingar under ett och samma år. Tävlingarna som ingår är Ulricehamn, Sälen, Hemsedal och Kolmården. Det är fritt för laget att välja om ni önskar att delta i 3- eller 6-timmars tävlingen i Ulricehamn och Kolmården, båda anses att vara likvärdiga för Trippeln.",tag:"p",className:"trippeln-text"}),u.jsx(U,{textKey:"trippeln-text-5",defaultText:"Vid anmälan till Trippeln blir man per automatik anmäld till alla fyra deltävlingar och väljer själv om man vill delta i tre eller fyra tävlingar. Priset för att anmäla sig till trippeln är rabatterat och blir billigare redan vid start i tre deltävlingar. Skulle ett lag delta i alla fyra deltävlingarna så räknas de tre bästa resultaten till Trippeln.",tag:"p",className:"trippeln-text"}),u.jsx(U,{textKey:"trippeln-text-6",defaultText:"Det gäller att samla så många poäng som möjligt under årets tävlingar där varje lag får räkna in sina tre bästa resultat från det gångna året. Vinnaren av AIM Challenge Trippeln kommer att utses genom ett poängsystem som bygger på hur många poäng laget fått procentuellt i förhållande till vinnarlaget i respektive deltävling. Varje lag kommer då få en poängsumma mellan 1 och 100 per tävling och efter alla deltävlingarna kommer dessa poäng att adderas och det lag med högst sammanlagda poäng kommer att stå på prispallen! Skulle två lag få samma sammanlagda poäng så kommer vi se på placeringar i de enskilda loppen för att utse en vinnare.",tag:"p",className:"trippeln-text"}),u.jsx(U,{textKey:"trippeln-text-7",defaultText:"Vid anmälan till AIM Challenge Trippeln så anmäler sig laget till alla fyra deltävlingarna, varav minst tre måste genomföras för att få ett resultat i Trippeln. Ett lag består av två personer, men om någon i laget skulle få förhinder inför någon av tävlingarna så gäller följande: För att resultatet i Trippeln skall bli godkänt så måste minst en i laget delta i alla tre tävlingarna, samt att deltagare 2 deltar vid minst två deltävlingar. Det vill säga att det är möjligt att ta in en reserv under en av deltävlingarna och fortfarande tävla som lag om den hedervärda titeln! I det fall deltagare 1 tävlat med tre olika lagkompisar under året är det enbart den som deltagit vid alla tre tävlingarna som kommer att premieras.",tag:"p",className:"trippeln-text"}),u.jsx(U,{textKey:"trippeln-text-8",defaultText:"Det är inte möjligt att sälja sin startplats i Trippeln vidare för den tävling som laget eventuellt inte deltar i.",tag:"p",className:"trippeln-text"})]})})}),u.jsx("section",{className:"trippeln-cta-section",children:u.jsx("div",{className:"cta-container",children:u.jsx("a",{href:"https://raceid.com/sv/races/13016/about",target:"_blank",rel:"noopener noreferrer",className:"trippeln-cta-button",children:"TA MIG TILL ANMÄLAN"})})}),u.jsx("div",{className:"locked-background background-editable",id:"trippeln-background-image"})]})]}),SD=({onClose:s,onUploadSuccess:e,years:t=["2023","2022","2021","2020","2019","2018","2017","2016","2015"],categories:a=["Herrar","Damer","Mixed"],durations:l=["3 timmar","6 timmar","12 timmar","24 timmar"],locations:c=["Ulricehamn","Sälen","Hemsedal","Kolmården"],year:h})=>{const{currentUser:m}=ys(),[p,y]=C.useState("Ulricehamn"),[v,A]=C.useState(h||"2023"),[N,O]=C.useState("Herrar"),[M,B]=C.useState("3 timmar"),[V,K]=C.useState(null),[G,Z]=C.useState(""),[te,ae]=C.useState(!1),de=k=>{const b=k.target.files[0];b&&(K(b),Z(""))},D=async k=>{if(k.preventDefault(),!V){Z("Please select a file to upload");return}ae(!0),Z("");try{const b=Date.now(),T=V.name?V.name.split(".").pop():"txt",S=`result_${b}.${T}`,j=hs(ms,`gs://aimchallange-67039.firebasestorage.app/results/${S}`);await zl(j,V);const w=await ql(j),H={year:parseInt(v),location:p,category:N,duration:M,fileName:S,fileUrl:w,uploadedAt:new Date().toISOString(),uploadedBy:m.uid},W=`${v}_${p}_${N}_${Date.now()}`;await ds(ot(We,"results",W),{...H,id:W}),K(null),e({...H,id:W}),s()}catch(b){console.error("Upload failed:",b),Z("Upload failed: "+b.message)}finally{ae(!1)}};return u.jsx("div",{className:"result-upload-modal-overlay",children:u.jsxs("div",{className:"result-upload-modal",children:[u.jsxs("div",{className:"result-upload-modal-header",children:[u.jsx("h2",{children:"Ladda upp resultat"}),u.jsx("button",{className:"result-upload-modal-close",onClick:s,children:"×"})]}),u.jsx("div",{className:"result-upload-modal-body",children:u.jsxs("form",{className:"result-upload-modal-form",onSubmit:D,children:[u.jsxs("div",{className:"result-upload-modal-field",children:[u.jsx("label",{children:"Plats"}),u.jsx("select",{className:"result-upload-modal-select",value:p,onChange:k=>y(k.target.value),children:c.map((k,b)=>u.jsx("option",{value:k,children:k},b))})]}),u.jsxs("div",{className:"result-upload-modal-field",children:[u.jsx("label",{children:"År"}),u.jsx("select",{className:"result-upload-modal-select",value:v,onChange:k=>A(k.target.value),children:t.map((k,b)=>u.jsx("option",{value:k,children:k},b))})]}),u.jsxs("div",{className:"result-upload-modal-field",children:[u.jsx("label",{children:"Kategori"}),u.jsx("select",{className:"result-upload-modal-select",value:N,onChange:k=>O(k.target.value),children:a.map((k,b)=>u.jsx("option",{value:k,children:k},b))})]}),u.jsxs("div",{className:"result-upload-modal-field",children:[u.jsx("label",{children:"Distans"}),u.jsx("select",{className:"result-upload-modal-select",value:M,onChange:k=>B(k.target.value),children:l.map((k,b)=>u.jsx("option",{value:k,children:k},b))})]}),u.jsxs("div",{className:"result-upload-modal-field",children:[u.jsx("label",{children:"Fil"}),u.jsx("input",{type:"file",className:"result-upload-modal-file-input",onChange:de,accept:".txt,.pdf,.doc,.docx,.xls,.xlsx"})]}),G&&u.jsx("div",{className:"result-upload-modal-error",children:G}),u.jsxs("div",{className:"result-upload-modal-actions",children:[u.jsx("button",{type:"button",className:"result-upload-modal-cancel",onClick:s,disabled:te,children:"Avbryt"}),u.jsx("button",{type:"submit",className:"result-upload-modal-submit",disabled:te||!V,children:te?"Laddar upp...":"Ladda upp"})]})]})})]})})},wD=nn(We,"results"),ND=async(s={})=>{try{let e=ha(wD);s.year&&(e=ha(e,hd("year","==",parseInt(s.year)))),s.category&&(e=ha(e,hd("category","==",s.category))),s.duration&&(e=ha(e,hd("duration","==",s.duration))),s.location&&(e=ha(e,hd("location","==",s.location)));const t=await es(e),a=[];return t.forEach(l=>{const c=l.data();a.push({id:l.id,...c,year:parseInt(c.year)})}),console.log("Firebase results:",a),a}catch(e){throw console.error("Error getting results:",e),e}},RD=async(s,e)=>{try{if(await jc(ot(We,"results",s)),e){const t=hs(ms,e);await Dc(t)}}catch(t){throw console.error("Error deleting result:",t),t}},kD=()=>{const{currentUser:s}=ys(),[e,t]=C.useState("all"),[a,l]=C.useState("all"),[c,h]=C.useState("all"),[m,p]=C.useState([]),[y,v]=C.useState(!0),[A,N]=C.useState(!1),[O,M]=C.useState(""),B=(s==null?void 0:s.role)==="admin",V=[2025,2024,2023,2022,2021,2020,2019,2018],K=["Herrar","Damer","Mixed"],G=["3 timmar","6 timmar"],Z=["Ulricehamn","Sälen","Hemsedal","Kolmården"];C.useEffect(()=>{console.log("Fetching results..."),te()},[]);const te=async()=>{try{v(!0),M(""),console.log("Getting results from Firebase...");const T=await ND({});console.log("Got results:",T),p(T||[])}catch(T){console.error("Error fetching results:",T),M("Failed to load results. Please try again later.")}finally{v(!1)}},ae=async T=>{if(window.confirm("Är du säker på att du vill ta bort detta resultat?"))try{v(!0);const S=m.find(w=>w.id===T);await RD(T,S.fileUrl);const j=m.filter(w=>w.id!==T);p(j)}catch(S){console.error("Error deleting result:",S),M("Failed to delete result. Please try again.")}finally{v(!1)}},de=()=>{N(!0)},D=()=>{N(!1)},k=T=>{console.log("New result:",T),p(S=>[T,...S]),D()},b=T=>{let S=[...m];return e!=="all"&&(S=S.filter(j=>j.year===parseInt(e))),a!=="all"&&(S=S.filter(j=>j.category===a)),c!=="all"&&(S=S.filter(j=>j.duration===c)),S=S.filter(j=>j.location===T),console.log("Filtered results for",T,":",S),S};return u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"results-header-banner"}),u.jsxs("div",{className:"results-container",children:[u.jsx(U,{textKey:"results-header-title",defaultText:"Multisport för alla",tag:"h1",className:"results-header-title"}),u.jsxs("section",{className:"results-filters-section",children:[u.jsxs("div",{className:"results-filters",children:[u.jsxs("select",{value:e,onChange:T=>t(T.target.value),className:"results-filter-select",children:[u.jsx("option",{value:"all",children:"Alla År"}),V.map(T=>u.jsx("option",{value:T,children:T},T))]}),u.jsxs("select",{value:a,onChange:T=>l(T.target.value),className:"results-filter-select",children:[u.jsx("option",{value:"all",children:"Alla Kategorier"}),K.map(T=>u.jsx("option",{value:T,children:T},T))]}),u.jsxs("select",{value:c,onChange:T=>h(T.target.value),className:"results-filter-select",children:[u.jsx("option",{value:"all",children:"Alla Distanser"}),G.map(T=>u.jsx("option",{value:T,children:T},T))]})]}),u.jsx("div",{className:"results-upload-section",children:B&&u.jsx("button",{onClick:de,className:"upload-result-button",children:"Ladda upp resultat"})})]}),O&&u.jsx("div",{className:"results-error",children:O}),u.jsx("section",{className:"results-content-section",children:u.jsx("div",{className:"results-grid",children:Z.map(T=>u.jsxs("div",{className:"results-location-card",children:[u.jsx("h2",{className:"results-location-title",children:T}),u.jsx("div",{className:"results-list",children:y?u.jsx("div",{className:"results-loading",children:"Laddar..."}):b(T).map(S=>u.jsxs("div",{className:"results-item",children:[u.jsx("a",{href:S.fileUrl,target:"_blank",rel:"noopener noreferrer",className:"results-link",children:u.jsxs("div",{className:"results-info",children:[u.jsx("span",{className:"results-year",children:S.year}),u.jsx("span",{className:"results-category",children:S.category}),u.jsx("span",{className:"results-duration",children:S.duration})]})}),B&&u.jsx("button",{onClick:()=>ae(S.id),className:"results-delete-button",children:"Ta bort"})]},S.id))})]},T))})}),A&&u.jsx(SD,{onClose:D,onUploadSuccess:k,isAdmin:B,locations:Z,years:V,categories:K,durations:G})]})]})},CD=()=>{const[s,e]=C.useState(null),[t,a]=C.useState([]),[l,c]=C.useState(1),h=8,[m,p]=C.useState({}),y=C.useMemo(()=>["/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_025.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_057.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_065.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_094.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_113.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_138.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_150.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_202.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_209.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_213.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_235.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_246.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_265.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_352.jpg","/AimRV/images/EE-AIMChallenge24-Uhamn-0132-high.jpg","/AimRV/images/EE-AIMChallenge24-Uhamn-0136-high.jpg","/AimRV/images/EE-AIMChallenge24-Uhamn-0171-high.jpg","/AimRV/images/EE-AIMChallenge24-Uhamn-0405-high.jpg","/AimRV/images/Kolmarden_1.jpg","/AimRV/images/Kolmarden_2.jpg"],[]),v=C.useCallback(()=>{const M=(l-1)*h,B=l*h,V=y.slice(M,B);a(K=>[...K,...V]),c(K=>K+1)},[l,y,h]);C.useEffect(()=>{v()},[v]),C.useEffect(()=>{const M=()=>{window.innerHeight+document.documentElement.scrollTop>=document.documentElement.offsetHeight-100&&(l-1)*h<y.length&&v()};return window.addEventListener("scroll",M),()=>window.removeEventListener("scroll",M)},[v,l,y.length,h]),C.useEffect(()=>{if(s!==null){const M=new Image;M.src=t[s],M.onload=()=>{p(B=>({...B,[s]:!0}))}}},[s,t]);const A=M=>{e(s===M?null:M)},O=(()=>{const M=[];let B=[],V=4;return t.forEach((K,G)=>{B.push({image:K,index:G}),B.length===V&&(M.push(B),B=[],V=V===4?3:4)}),B.length>0&&M.push(B),M})();return u.jsxs("div",{children:[u.jsx("div",{style:{height:"120px"}}),u.jsxs("div",{className:"gallery-container",style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"0.1rem",padding:"0.25rem",position:"relative"},children:[O.map((M,B)=>u.jsx("div",{style:{display:"flex",justifyContent:"center",gap:"3rem",width:"100%",marginBottom:"-20px",paddingLeft:M.length===3?"10%":"0",paddingRight:M.length===3?"10%":"0"},children:M.map(({image:V,index:K})=>{const G=s===K;return u.jsx("div",{onClick:()=>A(K),style:{width:G?"80vw":"250px",height:G?"80vh":"250px",transition:"all 0.5s ease",cursor:"pointer",position:G?"fixed":"relative",top:G?"50%":"auto",left:G?"50%":"auto",transform:G?"translate(-50%, -50%) rotate(0deg)":"rotate(45deg) scale(0.9)",zIndex:G?1e3:1,border:"2px solid #00a6fb",borderRadius:"8px",overflow:"hidden",boxShadow:"0 4px 8px rgba(0, 166, 251, 0.3)",margin:"0.1rem 1.5rem"},children:u.jsx("img",{src:V,alt:`Gallery image ${K+1}`,loading:"lazy",width:G?"auto":"250",height:G?"auto":"250",style:{width:"100%",height:"100%",objectFit:"cover",transform:G?"rotate(0deg) scale(1)":"rotate(-45deg) scale(1.5)"}})},K)})},B)),s!==null&&u.jsx("div",{onClick:()=>e(null),style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.8)",zIndex:999}}),t.length<y.length&&u.jsx("div",{style:{width:"100%",textAlign:"center",padding:"2rem"},children:u.jsx("button",{onClick:v,style:{padding:"0.75rem 1.5rem",backgroundColor:"#00a6fb",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"1rem",fontWeight:"bold"},children:"Load More Images"})})]}),u.jsx("div",{style:{height:"80px"}})]})},ID=()=>{const[s,e]=C.useState(0),[t,a]=C.useState(!1),l=C.useRef([]),c=[{id:1,src:"/videos/AIM nr 1 Formula 16x9.mov",title:"AIM Challenge Formula",description:"Highlights from the AIM Challenge Formula event"},{id:2,src:"/videos/AIM nr 1 Formula 16x9.mov",title:"AIM Challenge Highlights",description:"More exciting moments from the AIM Challenge"},{id:3,src:"/videos/AIM nr 1 Formula 16x9.mov",title:"AIM Challenge Recap",description:"A recap of the amazing AIM Challenge events"}];C.useEffect(()=>{l.current=l.current.slice(0,c.length)},[c.length]);const h=y=>{l.current.forEach((v,A)=>{A!==y&&v&&v.pause()}),a(!0),e(y)},m=()=>{e(y=>(y+1)%c.length)},p=()=>{e(y=>(y-1+c.length)%c.length)};return u.jsxs("div",{className:"video-carousel-container",style:{padding:"80px 0 40px 0",backgroundColor:"#f0f8ff",borderTop:"1px solid #e0e0e0",width:"100%",maxWidth:"100%"},children:[u.jsx("h2",{style:{textAlign:"center",marginBottom:"30px",color:"#00a6fb",fontSize:"2rem"},children:"AIM Challenge Videos"}),u.jsxs("div",{style:{position:"relative",width:"100%",margin:"0 auto",overflow:"hidden"},children:[u.jsx("button",{onClick:p,style:{position:"absolute",left:"10px",top:"50%",transform:"translateY(-50%)",zIndex:10,background:"rgba(0, 166, 251, 0.7)",color:"white",border:"none",borderRadius:"50%",width:"50px",height:"50px",fontSize:"24px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.3)"},"aria-label":"Previous video",children:"<"}),u.jsx("button",{onClick:m,style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",zIndex:10,background:"rgba(0, 166, 251, 0.7)",color:"white",border:"none",borderRadius:"50%",width:"50px",height:"50px",fontSize:"24px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.3)"},"aria-label":"Next video",children:">"}),u.jsx("div",{style:{display:"flex",transition:"transform 0.5s ease",transform:`translateX(${s*-100}%)`,width:"100%",position:"relative"},children:c.map((y,v)=>u.jsx("div",{style:{flex:"0 0 100%",padding:"0 20px",boxSizing:"border-box",width:"100%"},children:u.jsxs("div",{style:{background:"#fff",borderRadius:"8px",overflow:"hidden",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",maxWidth:"1200px",margin:"0 auto"},children:[u.jsx("div",{style:{position:"relative",paddingTop:"56.25%"},children:u.jsx("video",{ref:A=>l.current[v]=A,src:y.src,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover"},controls:!0,onPlay:()=>h(v),onPause:()=>a(!1)})}),u.jsxs("div",{style:{padding:"20px"},children:[u.jsx("h3",{style:{margin:"0 0 10px 0",color:"#00a6fb",fontSize:"1.5rem"},children:y.title}),u.jsx("p",{style:{margin:0,color:"#333",lineHeight:1.6},children:y.description})]})]})},y.id))}),u.jsx("div",{style:{display:"flex",justifyContent:"center",marginTop:"20px"},children:c.map((y,v)=>u.jsx("button",{onClick:()=>e(v),style:{width:"12px",height:"12px",borderRadius:"50%",margin:"0 5px",background:v===s?"#00a6fb":"#ccc",border:"none",cursor:"pointer"}},v))})]})]})},jD=()=>{const{currentLanguage:s}=Et(),[e,t]=C.useState("");return C.useEffect(()=>{t(s==="en"?"READ MORE":s==="no"?"LES MER":"LÄS MER")},[s]),u.jsxs(u.Fragment,{children:[u.jsx(Ks,{},"om-oss-background-editor"),u.jsxs("div",{className:"om-oss-container",children:[u.jsx("section",{className:"om-oss-hero-section",children:u.jsx("div",{className:"hero-content",children:u.jsx("div",{className:"hero-image-container background-editable",id:"om-oss-hero-image",children:u.jsx("img",{src:"/images/EE-AIMChallenge24-Uhamn-0171-high.jpg",alt:"Om Oss Hero"})})})}),u.jsx("section",{className:"om-oss-title-section",children:u.jsx("div",{className:"title-container",children:u.jsx(U,{textKey:"om-oss-title",defaultText:"OM OSS",tag:"h1",className:"location-title"})})}),u.jsx("section",{className:"om-oss-section flex flex_j_C flex_a_C",children:u.jsx("div",{className:"om-oss-content MaxWH flex flex_col flex_j_C ",children:u.jsxs("div",{className:"om-oss-content-wrapper",children:[u.jsx(U,{textKey:"om-oss-title-1",defaultText:"Om AIM Challenge",tag:"h2",className:"fonts_large om-oss-title"}),u.jsx(U,{textKey:"om-oss-text-1",defaultText:"AIM Challenge är en multisporttävling i lag om två, där äventyret, glädjen och gemenskapen står i centrum.",tag:"p",className:"fonts_small om-oss-text"}),u.jsx(U,{textKey:"om-oss-text-2",defaultText:"Med karta i handen och sex timmar på klockan gäller det att samla så många poäng som möjligt genom att ta kontroller som är utspridda i naturen. Ni tar er fram framför allt på cykel, men även till fots och ibland genom att klättra, paddla eller simma.",tag:"p",className:"fonts_small om-oss-text"}),u.jsx(U,{textKey:"om-oss-text-3",defaultText:"Tävlingen är öppen för alla, från nyfikna nybörjare till världseliten inom multisport. Ni bestämmer själva takt, vägval och hur många kontroller ni vill ta. Det är en utmaning på era villkor.",tag:"p",className:"fonts_small om-oss-text"}),u.jsx(U,{textKey:"om-oss-title-2",defaultText:"Så går det till",tag:"h3",className:"fonts_large om-oss-title"}),u.jsx(U,{textKey:"om-oss-text-4",defaultText:"När starten går får varje lag en karta med 60 kontroller utplacerade i området. Kartorna är hemliga fram till start och är tryckta på riv- och vattentåligt material. Vissa kontroller är rena stämplingspunkter. Andra innehåller äventyrliga inslag som klättring, simning eller paddling. Vilka ni väljer att ta är helt upp till er. Det är omöjligt att hinna med alla, så smart planering och bra samarbete blir lika viktigt som fysisk kapacitet.",tag:"p",className:"fonts_small om-oss-text"}),u.jsx(U,{textKey:"om-oss-text-5",defaultText:"Ni samlar poäng baserat på kontrollernas svårighetsgrad. Många kontroller kan nås direkt med cykel, andra kräver att ni springer en bit eller vågar er ut i vattnet. På varje äventyrlig kontroll finns erfaren personal som ser till att allt sker på ett tryggt och säkert sätt. Inga förkunskaper krävs.",tag:"p",className:"fonts_small om-oss-text"})]})})}),u.jsx("div",{className:"om-oss-background-container locked-background background-editable",id:"om-oss-background-image"}),u.jsx("section",{className:"om-oss-section flex flex_j_C flex_a_C ",children:u.jsx("div",{className:"om-oss-content MaxWH flex flex_col flex_j_C",children:u.jsxs("div",{className:"om-oss-content-wrapper",children:[u.jsx(U,{textKey:"om-oss-title-3",defaultText:"En tävling för alla – oavsett nivå",tag:"h2",className:"fonts_large om-oss-title"}),u.jsx(U,{textKey:"om-oss-text-6",defaultText:"AIM Challenge är för alla som vill uppleva multisport på ett tillgängligt och roligt sätt. Därför erbjuder vi två varianter av tävlingen: 3-timmars och 6-timmars. Upplägget är detsamma, men tiden ni har på er att samla kontroller skiljer sig. I Ulricehamn och Kolmården kan ni välja den kortare varianten, perfekt för dig som vill testa konceptet i en mer hanterbar form.",tag:"p",className:"fonts_small om-oss-text"}),u.jsx(U,{textKey:"om-oss-text-7",defaultText:"Oavsett om ni är nybörjare eller rutinerade multisportare tävlar ni på samma bana med samma kontroller. Här står några av Nordens bästa lag på startlinjen, tillsammans med förstagångsdeltagare, kompisgäng, kollegor och familjemedlemmar som söker ett gemensamt äventyr. Tävlingen är öppen för dig från 15 år och det viktigaste är inte hur många kontroller ni tar, utan att ni har en minnesvärd dag i naturen.",tag:"p",className:"fonts_small om-oss-text"}),u.jsx(U,{textKey:"om-oss-text-8",defaultText:"Det här är multisport när det är som mest inkluderande. En utmaning på era villkor, fylld av rörelse, gemenskap och upptäckarglädje.",tag:"p",className:"fonts_small om-oss-text"}),u.jsx(U,{textKey:"om-oss-text-9",defaultText:"Välkommen till AIM Challenge – multisport för alla!",tag:"p",className:"fonts_small om-oss-text"})]})})}),u.jsxs("section",{className:"om-oss-cards-container",children:[u.jsxs("div",{className:"om-oss-card",children:[u.jsxs("div",{className:"om-oss-card-content",children:[u.jsx(U,{textKey:"card-1-title",defaultText:"REGLER",tag:"p",className:"font_blue fonts_medium_B"}),u.jsx(U,{textKey:"card-1-text",defaultText:"Tävlingsregler och information",tag:"p",className:"font_blue fonts_medium"})]}),u.jsx("div",{className:"om-oss-card-button",children:u.jsx(ke,{to:"/page2",className:"location",children:"LÄS MER"})})]}),u.jsxs("div",{className:"om-oss-card",children:[u.jsxs("div",{className:"om-oss-card-content",children:[u.jsx(U,{textKey:"card-2-title",defaultText:"FAQ",tag:"p",className:"font_blue fonts_medium_B"}),u.jsx(U,{textKey:"card-2-text",defaultText:"Vanliga frågor och svar",tag:"p",className:"font_blue fonts_medium"})]}),u.jsx("div",{className:"om-oss-card-button",children:u.jsx(ke,{to:"/page3",className:"location",children:"LÄS MER"})})]}),u.jsxs("div",{className:"om-oss-card",children:[u.jsxs("div",{className:"om-oss-card-content",children:[u.jsx(U,{textKey:"card-3-title",defaultText:"HISTORIEN OM AIM",tag:"p",className:"font_blue fonts_medium_B"}),u.jsx(U,{textKey:"card-3-text",defaultText:"Vår resa sedan 2004",tag:"p",className:"font_blue fonts_medium"})]}),u.jsx("div",{className:"om-oss-card-button",children:u.jsx(ke,{to:"/page3",className:"location",children:"LÄS MER"})})]})]})]})]})},DD=({imageKey:s,defaultSrc:e,alt:t,className:a="",style:l={}})=>{const{getText:c,updateText:h,isAdmin:m}=Et(),[p,y]=C.useState(!1),[v,A]=C.useState(""),[N,O]=C.useState(""),M=c(s,e),B=()=>{!p&&m&&(y(!0),A(M),O(""))},V=()=>{if(v.trim()===""){O("Please enter an image URL");return}try{new URL(v),h(s,v),y(!1)}catch{v.startsWith("/")||v.includes("./")?(h(s,v),y(!1)):O("Please enter a valid URL or path")}},K=()=>{y(!1),O("")},G=Z=>{const te=Z.target.files[0];if(!te)return;if(!te.type.startsWith("image/")){O("Please select an image file");return}const ae=new FileReader;ae.onload=de=>{A(de.target.result)},ae.readAsDataURL(te)};return p?u.jsxs("div",{className:"editable-image-container",style:{position:"relative",margin:"10px 0"},children:[u.jsx("div",{style:{marginBottom:"10px"},children:u.jsx("img",{src:v||M,alt:t,className:a,style:{maxWidth:"300px",border:"2px solid #00a6fb",...l}})}),u.jsxs("div",{style:{marginBottom:"10px"},children:[u.jsx("label",{style:{display:"block",marginBottom:"5px"},children:"Image URL:"}),u.jsx("input",{type:"text",value:v,onChange:Z=>A(Z.target.value),style:{width:"100%",padding:"8px",border:"1px solid #ccc",borderRadius:"4px"},placeholder:"Enter image URL or upload a file"}),N&&u.jsx("p",{style:{color:"red",margin:"5px 0"},children:N})]}),u.jsxs("div",{style:{marginBottom:"10px"},children:[u.jsx("label",{style:{display:"block",marginBottom:"5px"},children:"Or upload an image:"}),u.jsx("input",{type:"file",accept:"image/*",onChange:G,style:{width:"100%",padding:"8px",border:"1px solid #ccc",borderRadius:"4px"}})]}),u.jsxs("div",{style:{display:"flex",gap:"8px"},children:[u.jsx("button",{onClick:V,style:{padding:"8px 16px",background:"#00a6fb",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Spara"}),u.jsx("button",{onClick:K,style:{padding:"8px 16px",background:"#ccc",color:"black",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Avbryt"})]})]}):u.jsx("img",{src:M,alt:t,className:`${a} ${m?"editable":""}`,onClick:B,style:{...l,cursor:m?"pointer":"default",border:m?"2px dashed #00a6fb":"none"}})},OD=()=>u.jsxs("div",{className:"regler-container",children:[u.jsx("section",{className:"regler-hero-section",children:u.jsx("div",{className:"hero-content",children:u.jsx("div",{className:"hero-image-container",children:u.jsx(DD,{imageKey:"regler-hero-image",defaultSrc:"/images/AIM_lindvallen_2024_AnkiGrothe_highres_125.jpg",alt:"Regler Hero"})})})}),u.jsx("section",{className:"regler-title-section",children:u.jsx("div",{className:"title-container",children:u.jsx(U,{textKey:"regler-title",defaultText:"REGLER",tag:"h1",className:"location-title"})})}),u.jsx("section",{className:"regler-content-section",children:u.jsx("div",{className:"regler-content-container",children:u.jsxs("div",{className:"regler-content",children:[u.jsx(U,{textKey:"regler-team-heading",defaultText:"LAGET",tag:"h2",className:"regler-heading"}),u.jsxs("ul",{className:"regler-list",children:[u.jsx("li",{className:"regler-list-item",children:"Åldersgräns 15år/18år"}),u.jsx("li",{className:"regler-list-item",children:"Båda deltagarna måste ha olycksförsäkring som täcker olyckor i samband med tävling/idrottsaktiviteter."}),u.jsx("li",{className:"regler-list-item",children:"Det är lagets ansvar att se till att de är registrerade i rätt klass."}),u.jsx("li",{className:"regler-list-item",children:"Startnummer ska placeras fram på cykel samt synligt på kroppen på båda deltagarna"}),u.jsx("li",{className:"regler-list-item",children:"Det är tillåtet att använda GPS men det är alltid kartan som gäller. GPSens kartunderlag stämmer inte alltid överens med den utskrivna AIM kartan."}),u.jsx("li",{className:"regler-list-item",children:"Laget ska alltid vara samlade max 20 meter mellan lagmedlemmarna."}),u.jsx("li",{className:"regler-list-item",children:"Det är inte tillåtet att ha följebil."})]}),u.jsx(U,{textKey:"regler-safety-heading",defaultText:"SÄKERHET",tag:"h2",className:"regler-heading"}),u.jsxs("ul",{className:"regler-list",children:[u.jsx("li",{className:"regler-list-item",children:"Lagen väljer själva vilka kontroller de klarar att ta baserat på väder, egen färdighet och kunskap."}),u.jsx("li",{className:"regler-list-item",children:"Lagen väljer själva vilken väg de vill ta till kontrollerna baserat på väder, egen färdighet och kunskap."}),u.jsx("li",{className:"regler-list-item",children:"Trafiken är inte reglerad under tävlingen."}),u.jsx("li",{className:"regler-list-item",children:"Trafikregler gäller alltid."}),u.jsx("li",{className:"regler-list-item",children:"Första hjälpen kit ska bäras med under hela tävlingen"}),u.jsx("li",{className:"regler-list-item",children:"Hjälm ska bäras under all cykling, klättring, bouldering och rappellering"}),u.jsx("li",{className:"regler-list-item",children:"Vid olycka är det obligatoriska att hjälpa till."}),u.jsx("li",{className:"regler-list-item",children:"Vid allvarlig olycka ring nöd nummer 112 i Sverige och 113 i Norge"}),u.jsx("li",{className:"regler-list-item",children:"Vid behov för enklare medicinsk hjälp ring telefonnumret på baksidan av kartan"}),u.jsx("li",{className:"regler-list-item",children:"Tävlingsledningens direktiv gäller alltid."})]}),u.jsx(U,{textKey:"regler-other-heading",defaultText:"ÖVRIGT",tag:"h2",className:"regler-heading"}),u.jsxs("ul",{className:"regler-list",children:[u.jsx("li",{className:"regler-list-item",children:"Elcyklar är ej tillåtet, med undantag för Elcykelklassen i Hemsedal."}),u.jsx("li",{className:"regler-list-item",children:"Beroende på kapacitet är det möjligt att använda liften i Hemsedal, lyssna noga på vad speakern ger för information för vad som gäller för årets tävling."}),u.jsx("li",{className:"regler-list-item",children:"Deltagare som bryter ska genast meddela tävlingsledningen. Telefonnummer står på kartan."}),u.jsx("li",{className:"regler-list-item",children:"Synliga, osynliga och tävlande domare befinner sig i tävlingsområdet och ser till att reglerna följs."}),u.jsx("li",{className:"regler-list-item",children:"Regelbrott kan leda till poängavdrag eller diskvalificering"}),u.jsx("li",{className:"regler-list-item",children:"Deltagare som vinner priser som lottas ut pga olika händelser eller som dras på startnummer måste närvara på prisutdelningen för att få sitt pris. Är man inte närvarande och ditt namn/lagnamn dras drar vi reservnamn/lagnamn."}),u.jsx("li",{className:"regler-list-item",children:"LINDVALLEN, viadukten mellan Lodgen och Experium är stängd under hela tävlingen."}),u.jsx("li",{className:"regler-list-item",children:"Tävlingsledningens beslut går inte att överklaga."}),u.jsx("li",{className:"regler-list-item",children:"Kloka människor skräpar inte ner, för alla andra är det förbjudet."}),u.jsx("li",{className:"regler-list-item",children:"Respektera privat mark, ta inte genvägar över privata områden"}),u.jsx("li",{className:"regler-list-item",children:"Beträda odlad mark är förbjudet. Åkrar som inte har skördats är odlad mark."}),u.jsx("li",{className:"regler-list-item",children:"Stäng alla grindar som ni öppnar."}),u.jsx("li",{className:"regler-list-item",children:"Visa betande djur respekt genom att stiga av cykeln och gå förbi dem."})]}),u.jsx("h2",{className:"regler-heading",children:"OBLIGATORISK UTRUSTNING"}),u.jsxs("ul",{className:"regler-list",children:[u.jsx("li",{className:"regler-list-item",children:"Cykel, utan elmotor med undantag för Elcykelklassen i Hemsedal."}),u.jsx("li",{className:"regler-list-item",children:"Cykelhjälm vid cykling"}),u.jsx("li",{className:"regler-list-item",children:"Mobiltelefon (1 st per lag)"}),u.jsx("li",{className:"regler-list-item",children:"Första hjälpen (1 st per lag)"})]}),u.jsx("h2",{className:"regler-heading",children:"VI REKOMMENDERAR ATT NI ÄVEN HAR MED ER"}),u.jsxs("ul",{className:"regler-list",children:[u.jsx("li",{className:"regler-list-item",children:"Förstärkningskläder vid hastigt väderomslag"}),u.jsx("li",{className:"regler-list-item",children:"Kompass"}),u.jsx("li",{className:"regler-list-item",children:"Vatten i en Camelbak"}),u.jsx("li",{className:"regler-list-item",children:"Energy bars eller liknande"}),u.jsx("li",{className:"regler-list-item",children:"Klocka"}),u.jsx("li",{className:"regler-list-item",children:"Löparskor"}),u.jsx("li",{className:"regler-list-item",children:"Cykelslang och reparationskit + övriga verktyg, tex en biketool för enklare justeringar"})]}),u.jsx("h2",{className:"regler-heading",children:"AIM CHALLENGE STÅR FÖR"}),u.jsx("ul",{className:"regler-list",children:u.jsx("li",{className:"regler-list-item",children:"Kanot, SUP, sele, rep, hjälm vid firningar/klättring. All utrustning vid bemannade poster finns där klättring etc förekommer."})}),u.jsx("h2",{className:"regler-heading",children:"VILLKOR I FÖRBINDELSE MED ANMÄLAN"}),u.jsx("p",{className:"regler-list-item",children:"Villkor i förbindelse med anmälan"}),u.jsxs("p",{className:"regler-contact",children:["Om du har frågor:"," ",u.jsx("a",{href:"mailto:info@aimchallenge.com",children:"info@aimchallenge.com"})]})]})})}),u.jsx("div",{className:"locked-background",style:{height:"50vh",width:"100%",marginBottom:"60px"}})]}),MD=({category:s})=>{const[e,t]=C.useState([]),[a,l]=C.useState(""),[c,h]=C.useState(""),[m,p]=C.useState(!0),{isAuthenticated:y,currentUser:v}=ys(),A=(v==null?void 0:v.role)==="admin";C.useEffect(()=>{(async()=>{try{p(!0);const V=nn(We,"faqs"),K=await es(V),G=[];K.forEach(Z=>{const te=Z.data();te.category===s&&G.push({id:Z.id,question:te.question,answer:te.answer,category:te.category,order:te.order||0})}),G.sort((Z,te)=>Z.order-te.order),t(G)}catch(V){console.error("Error loading FAQs:",V)}finally{p(!1)}})()},[s]);const N=async()=>{if(!(!a.trim()||!c.trim()))try{const B={question:a,answer:c,category:s,order:e.length},V=ot(nn(We,"faqs"));await ds(V,B),t([...e,{...B,id:V.id}]),l(""),h("")}catch(B){console.error("Error adding FAQ:",B)}},O=async B=>{try{await jc(ot(We,"faqs",B)),t(e.filter(V=>V.id!==B))}catch(V){console.error("Error deleting FAQ:",V)}},M=async(B,V,K)=>{try{const G=e.map(te=>te.id===B?{...te,[V]:K}:te),Z=G.find(te=>te.id===B);await ds(ot(We,"faqs",B),{question:Z.question,answer:Z.answer,category:Z.category,order:Z.order}),t(G)}catch(G){console.error("Error updating FAQ:",G)}};return A?u.jsxs("div",{className:"faq-editor",children:[u.jsxs("h3",{children:["Manage ",s," FAQs"]}),m?u.jsx("p",{children:"Loading FAQs..."}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"faq-list",children:e.map(B=>u.jsxs("div",{className:"faq-item-editor",children:[u.jsx("div",{className:"faq-controls",children:u.jsx("button",{onClick:()=>O(B.id),className:"delete-button",children:"Delete"})}),u.jsxs("div",{className:"faq-content",children:[u.jsx("textarea",{value:B.question,onChange:V=>M(B.id,"question",V.target.value),placeholder:"Question",className:"faq-question-editor"}),u.jsx("textarea",{value:B.answer,onChange:V=>M(B.id,"answer",V.target.value),placeholder:"Answer",className:"faq-answer-editor"})]})]},B.id))}),u.jsxs("div",{className:"add-faq-form",children:[u.jsx("h4",{children:"Add New FAQ"}),u.jsx("textarea",{value:a,onChange:B=>l(B.target.value),placeholder:"New Question",className:"faq-question-editor"}),u.jsx("textarea",{value:c,onChange:B=>h(B.target.value),placeholder:"New Answer",className:"faq-answer-editor"}),u.jsx("button",{onClick:N,className:"add-button",disabled:!a.trim()||!c.trim(),children:"Add FAQ"})]})]})]}):null},LD=({question:s,answer:e})=>{const[t,a]=C.useState(!1),l=()=>{a(!t)};return u.jsxs("div",{className:"faq-item",children:[u.jsxs("div",{className:`faq-question ${t?"active":""}`,onClick:l,children:[u.jsx("h3",{className:"question-text",children:s}),u.jsx("span",{className:"icon",children:t?"▲":"▼"})]}),u.jsx("div",{className:`faq-answer ${t?"open":""}`,children:u.jsx("p",{children:e})})]})},pd=({title:s,items:e,categoryKey:t,showEditor:a=!1})=>{const{isAuthenticated:l,currentUser:c}=ys(),h=(c==null?void 0:c.role)==="admin";return u.jsxs("div",{className:"faq-category",children:[u.jsx("h2",{className:"faq-category-title",children:u.jsx(U,{textKey:`faq-category-${t}`,defaultText:s})}),e.map((m,p)=>u.jsx(LD,{question:m.question,answer:m.answer},m.id||p)),h&&a&&u.jsx(MD,{category:t})]})},PD=()=>{const{getText:s}=Et(),{isAuthenticated:e,currentUser:t}=ys(),a=(t==null?void 0:t.role)==="admin",[l,c]=C.useState([]),[h,m]=C.useState([]),[p,y]=C.useState([]),[v,A]=C.useState([]),[N,O]=C.useState(!0),[M,B]=C.useState(!1);C.useEffect(()=>{(async()=>{try{O(!0);const G=nn(We,"faqs"),Z=await es(G),te=[];if(Z.forEach(ae=>{const de=ae.data();te.push({id:ae.id,question:de.question,answer:de.answer,category:de.category,order:de.order||0})}),te.length===0)c([{question:s("general-question-0","Jag är nybörjare på multisport, kan jag delta?"),answer:s("general-answer-0","Absolut, det är DU som väljer väg och antal kontroller. Ta 5 kontroller och ha en fin tur på fjället, eller ta 40 och vinn. Alla kan delta efter egen förmåga och ambition.")},{question:s("general-question-1","Hur ser tävlingen ut?"),answer:s("general-answer-1","Tävlingen går ut på att samla så många kontroller som möjligt inom 6 timmar. Kontrollerna är värda olika poäng, ju svårare att nå desto högre poäng. Vissa kontroller innebär aktiviteter som klättring, paddling, simning, rappellering och balansövningar. Lagen bestämmer själva vilka kontroller de vill ta och i vilken ordning.")},{question:s("general-question-2","Vilka klasser finns det?"),answer:s("general-answer-2","Dam, Herr och Mix. Dessutom har vi en Elcykelklass i Hemsedal. Alla klasser är 2-manna lag.")}]),m([{question:s("equipment-question-0","Vilken utrustning behöver jag?"),answer:s("equipment-answer-0","Obligatorisk utrustning: Cykel, cykelhjälm, mobiltelefon (1 per lag), första hjälpen (1 per lag). Vi rekommenderar även: Förstärkningskläder, kompass, vatten, energibars, klocka, löparskor, cykelslang och reparationskit.")}]),y([{question:s("raceday-question-0","Hur fungerar starten?"),answer:s("raceday-answer-0","Alla lag startar samtidigt kl 10.00 på lördagen efter ett obligatoriskt informationsmöte kl 9.30. Vid starten får lagen kartan med alla kontroller markerade.")}]),A([{question:s("technical-question-0","Hur ser kartan ut?"),answer:s("technical-answer-0","Kartan får alla lagen när startskottet går. Där är samtliga kontroller utmärkta med position, poäng, beskrivning och om kontrollen innefattar klättring, paddling etc.")}]);else{const ae=te.filter(b=>b.category==="general").sort((b,T)=>b.order-T.order),de=te.filter(b=>b.category==="equipment").sort((b,T)=>b.order-T.order),D=te.filter(b=>b.category==="raceday").sort((b,T)=>b.order-T.order),k=te.filter(b=>b.category==="technical").sort((b,T)=>b.order-T.order);c(ae),m(de),y(D),A(k)}}catch(G){console.error("Error loading FAQs:",G)}finally{O(!1)}})()},[]);const V=()=>{B(!M)};return u.jsxs(u.Fragment,{children:[u.jsx(Ks,{},"faq-background-editor"),u.jsxs("div",{className:"faq-container",children:[u.jsx("section",{className:"faq-hero-section",children:u.jsx("div",{className:"hero-content",children:u.jsx("div",{className:"hero-image-container background-editable",id:"faq-hero-image",children:u.jsx("img",{src:"/images/AIM_lindvallen_2024_AnkiGrothe_highres_125.jpg",alt:"FAQ Hero"})})})}),u.jsx("section",{className:"faq-title-section",children:u.jsx("div",{className:"title-container",children:u.jsx(U,{textKey:"faq-title",defaultText:"FAQ",tag:"h1",className:"location-title"})})}),u.jsx("section",{className:"faq-content-section",children:u.jsx("div",{className:"faq-content-container",children:u.jsxs("div",{className:"faq-content",children:[u.jsx(U,{textKey:"faq-heading",defaultText:"Vanliga frågor",tag:"h2",className:"faq-heading"}),a&&u.jsx("div",{className:"admin-controls",children:u.jsx("button",{onClick:V,className:"toggle-editors-button",children:M?"Dölj redigerare":"Visa redigerare"})}),N?u.jsx("p",{children:"Laddar vanliga frågor..."}):u.jsxs(u.Fragment,{children:[u.jsx(pd,{title:"Allmänna frågor",categoryKey:"general",items:l,showEditor:M}),u.jsx(pd,{title:"Utrustning",categoryKey:"equipment",items:h,showEditor:M}),u.jsx(pd,{title:"Tävlingsdagen",categoryKey:"raceday",items:p,showEditor:M}),u.jsx(pd,{title:"Teknisk information",categoryKey:"technical",items:v,showEditor:M})]}),u.jsxs("div",{className:"faq-contact",children:[u.jsx(U,{textKey:"faq-contact-title",defaultText:"Har du fler frågor?",tag:"h2",className:"faq-category-title"}),u.jsx(U,{textKey:"faq-contact-text",defaultText:"Ta gärna kontakt om ni inte hittar svaret på era frågor: info@aimchallenge.com",tag:"p",className:""})]})]})})}),u.jsx("div",{className:"locked-background background-editable",id:"faq-background-image"})]})]})},UD=()=>u.jsxs(u.Fragment,{children:[u.jsx(Ks,{},"historien-om-aim-background-editor"),u.jsxs("div",{className:"historien-om-aim-container",children:[u.jsx("section",{className:"historien-om-aim-hero-section",children:u.jsx("div",{className:"hero-content",children:u.jsx("div",{className:"hero-image-container background-editable",id:"historien-om-aim-hero-image",children:u.jsx("img",{src:"/images/AIM_lindvallen_2024_AnkiGrothe_highres_125.jpg",alt:"Historien Om AIM Hero"})})})}),u.jsx("section",{className:"historien-om-aim-title-section",children:u.jsx("div",{className:"title-container",children:u.jsx(U,{textKey:"historien-om-aim-title",defaultText:"HISTORIEN OM AIM",tag:"h1",className:"location-title"})})}),u.jsx("section",{className:"historien-om-aim-content-section",children:u.jsx("div",{className:"historien-om-aim-content-container",children:u.jsxs("div",{className:"historien-om-aim-content",children:[u.jsx(U,{textKey:"historien-om-aim-text-1",defaultText:"AIM Challenge är idag Nordens största multisporttävling men historien om AIM Challenge börjar mycket tidigare än så.",tag:"p",className:"historien-om-aim-text"}),u.jsx(U,{textKey:"historien-om-aim-text-2",defaultText:"Vi låter Lisa Nordlind, grundare och initiativtagare till AIM Challenge berätta hur det gick till:",tag:"p",className:"historien-om-aim-text"}),u.jsx(U,{textKey:"historien-om-aim-text-3",defaultText:"År 2000 deltog jag i mitt livs största äventyr när jag tävlade i multisporttävlingen Camel Trophy.",tag:"p",className:"historien-om-aim-text"}),u.jsx(U,{textKey:"historien-om-aim-text-4",defaultText:"Av över en miljon sökande så var det 16 tvåmannalag från 22 länder som fick vara med och leka. Jag fick äran att representera Team Skandinavien tillsammans med brandmannen Mikael Stening.",tag:"p",className:"historien-om-aim-text"}),u.jsx(U,{textKey:"historien-om-aim-text-5",defaultText:"Lag på två personer skulle under 3 veckor samla så många kontroller som möjligt utav 400 utplacerade. Huvudtransportmedel var en specialbyggd RIB (Rigid Inflatable Boat). Båten var utrustad med mountainbikes, klätterutrustning, paddelbräda, dyk- och snorkel utrustning, tält, mat och vatten.",tag:"p",className:"historien-om-aim-text"}),u.jsx(U,{textKey:"historien-om-aim-text-6",defaultText:"Lagen fick själva välja vilka kontroller de ville ta, i vilken ordning och vilken väg.",tag:"p",className:"historien-om-aim-text"}),u.jsx(U,{textKey:"historien-om-aim-text-7",defaultText:"Olika kontroller gav olika poäng. Låter det bekant?",tag:"p",className:"historien-om-aim-text"}),u.jsx(U,{textKey:"historien-om-aim-text-8",defaultText:"Tävlingsområdet var ögrupperna Tonga och Samoa i Söderhavet. Det var galet roligt och Mikael och jag lyckades ta oss till en fjärde plats.",tag:"p",className:"historien-om-aim-text"}),u.jsx(U,{textKey:"historien-om-aim-text-9",defaultText:"År 2004 spenderade jag min första sommar i Hemsedal. Det var ganska lugnt i den lilla skidorten så jag beslutade mig för att starta ett nytt event. För mig är det viktigt att träning är roligt och jag tycker att den bästa träningen är tävling. Eftersom Camel Trophy var det roligaste jag någonsin varit med om så föll det naturligt att försöka skapa ett event där andra människor får uppleva samma lekfulla koncept om än i en mindre skala. Tävlingen fick namnet 'Hemsedal Challenge' och den första helgen i september 2004 stod 150 deltagare på startlinjen.",tag:"p",className:"historien-om-aim-text"}),u.jsx(U,{textKey:"historien-om-aim-text-10",defaultText:"Nära, kära, vänner och familj samlades från alla håll och kanter för att ställa upp som funktionärer.",tag:"p",className:"historien-om-aim-text"}),u.jsx(U,{textKey:"historien-om-aim-text-11",defaultText:"Efter 5 år startade vi en tävling till i Lindvallen och bytte namn till AIM Challenge.",tag:"p",className:"historien-om-aim-text"}),u.jsx(U,{textKey:"historien-om-aim-text-12",defaultText:"Efter AIM Challenge 2019 tackade Lisa för sig och lämnade över stafettpinnen till Marcus Andersson, som nu står inför en spännande framtid där han ser frem emot att driva vidare och utveckla AIM Challenge.",tag:"p",className:"historien-om-aim-text"})]})})}),u.jsx("div",{className:"locked-background background-editable",id:"historien-om-aim-background-image"})]})]}),VD=({value:s,onChange:e,placeholder:t})=>{const a=C.useRef(null);C.useEffect(()=>{a.current&&s!==a.current.innerHTML&&(a.current.innerHTML=s)},[s]);const l=()=>{a.current&&e&&e(a.current.innerHTML)},c=(m,p=null)=>{document.execCommand(m,!1,p),a.current.focus(),l(),m==="formatBlock"&&setTimeout(()=>{l()},10)},h=m=>{m.key==="Tab"&&(m.preventDefault(),document.execCommand("insertHTML",!1,"&nbsp;&nbsp;&nbsp;&nbsp;"))};return u.jsxs("div",{className:"aim_rich_editor_container",children:[u.jsxs("div",{className:"aim_rich_editor_toolbar",children:[u.jsx("div",{role:"button",tabIndex:"0",onClick:()=>c("bold"),className:"aim_format_control",title:"Bold",children:u.jsx("strong",{children:"B"})}),u.jsx("div",{role:"button",tabIndex:"0",onClick:()=>c("italic"),className:"aim_format_control",title:"Italic",children:u.jsx("em",{children:"I"})}),u.jsx("div",{role:"button",tabIndex:"0",onClick:()=>c("underline"),className:"aim_format_control",title:"Underline",children:u.jsx("u",{children:"U"})}),u.jsx("span",{className:"aim_format_divider"}),u.jsx("div",{role:"button",tabIndex:"0",onClick:()=>c("formatBlock","<h1>"),className:"aim_format_control",title:"Heading 1",children:"H1"}),u.jsx("div",{role:"button",tabIndex:"0",onClick:()=>c("formatBlock","<h2>"),className:"aim_format_control",title:"Heading 2",children:"H2"}),u.jsx("div",{role:"button",tabIndex:"0",onClick:()=>c("formatBlock","<h3>"),className:"aim_format_control",title:"Heading 3",children:"H3"}),u.jsx("div",{role:"button",tabIndex:"0",onClick:()=>c("formatBlock","<p>"),className:"aim_format_control",title:"Paragraph",children:"P"}),u.jsx("span",{className:"aim_format_divider"}),u.jsx("div",{role:"button",tabIndex:"0",onClick:()=>c("insertUnorderedList"),className:"aim_format_control",title:"Bullet List",children:"•"}),u.jsx("div",{role:"button",tabIndex:"0",onClick:()=>c("insertOrderedList"),className:"aim_format_control",title:"Numbered List",children:"1."}),u.jsx("span",{className:"aim_format_divider"}),u.jsx("div",{role:"button",tabIndex:"0",onClick:()=>c("justifyLeft"),className:"aim_format_control",title:"Align Left",children:"←"}),u.jsx("div",{role:"button",tabIndex:"0",onClick:()=>c("justifyCenter"),className:"aim_format_control",title:"Align Center",children:"↔"}),u.jsx("div",{role:"button",tabIndex:"0",onClick:()=>c("justifyRight"),className:"aim_format_control",title:"Align Right",children:"→"})]}),u.jsx("div",{className:"aim_rich_editor_content",ref:a,contentEditable:"true",onInput:l,onKeyDown:h,placeholder:t,suppressContentEditableWarning:!0})]})},BD=({isOpen:s,onClose:e,editingPost:t=null,addPost:a})=>{const[l,c]=C.useState(""),[h,m]=C.useState(""),[p,y]=C.useState(null),[v,A]=C.useState(""),[N,O]=C.useState("Alla"),[M,B]=C.useState(!1),[V,K]=C.useState(!0),G=C.useRef(null),{isAdmin:Z}=Et(),te=T=>{const S=T.target.files[0];if(S){S.name||(S.name=`image-${Date.now()}.jpg`);const j=new FileReader;j.onloadend=()=>{y(S),A(j.result)},j.readAsDataURL(S)}},ae=T=>{m(T)};C.useEffect(()=>{console.log("EditingPost in CreatePostModal:",t),t?(console.log("Setting form data from editingPost"),c(t.title||""),m(t.content||""),O(t.category||"Alla"),K(t.published!==!1),B(!0),t.image&&A(t.image)):(console.log("No editingPost, resetting form"),D(),B(!1))},[t]);const de=async()=>{if(!l.trim()||!h.trim()){alert("Vänligen fyll i titel och innehåll");return}try{let T=v;if(p){const j=Date.now(),w=p.name?p.name.split(".").pop():"jpg",H=`image_${j}.${w}`,W=hs(ms,`gs://aimchallange-67039.firebasestorage.app/post-images/${H}`);console.log("Uploading image with new filename:",H),await zl(W,p),T=await ql(W),console.log("Image URL after upload:",T)}const S={title:l,content:h,category:N,published:V,updatedAt:new Date().toISOString()};if(T&&(S.image=T),M&&t){const j=ot(We,"posts",t.id);await mp(j,S),console.log("Post updated with ID:",t.id)}else{S.date=new Date().toLocaleDateString("sv-SE",{year:"numeric",month:"long",day:"numeric"}),S.createdAt=new Date().toISOString();const j=await LI(nn(We,"posts"),S);console.log("Post saved with ID:",j.id)}typeof a=="function"&&a(M&&t?{id:t.id,title:l,content:h,image:T,category:N,published:V}:{title:l,content:h,image:T,category:N,published:V}),D(),e(),window.location.reload()}catch(T){console.error("Error saving post:",T),alert("Ett fel uppstod när inlägget skulle sparas. Försök igen.")}},D=()=>{c(""),m(""),y(null),A(""),O("Alla"),K(!0),B(!1)},k=()=>{D(),e()},b=T=>{T.target.className==="create-post-modal__overlay"&&k()};return!s||!Z?null:u.jsxs("div",{className:"create-post-modal",children:[u.jsx("div",{className:"create-post-modal__overlay",onClick:b}),u.jsxs("div",{className:"create-post-modal__content",children:[u.jsx("h2",{className:"create-post-modal__title",children:M?"Redigera inlägg":"Skapa nytt inlägg"}),u.jsxs("div",{className:"create-post-modal__form",children:[u.jsxs("div",{className:"create-post-modal__form-group",children:[u.jsx("label",{className:"create-post-modal__label",children:"Titel"}),u.jsx("input",{type:"text",className:"create-post-modal__input",value:l,onChange:T=>c(T.target.value),placeholder:"Ange titel"})]}),u.jsxs("div",{className:"create-post-modal__form-group",children:[u.jsx("label",{className:"create-post-modal__label",children:"Bild (valfritt)"}),u.jsxs("div",{className:"create-post-modal__image-upload",onClick:()=>G.current.click(),children:[v?u.jsx("img",{src:v,alt:"Preview",className:"create-post-modal__image-preview"}):u.jsx("div",{className:"create-post-modal__image-placeholder",children:"Klicka för att ladda upp en bild"}),u.jsx("input",{type:"file",accept:"image/*",onChange:te,className:"create-post-modal__file-input",ref:G})]})]}),u.jsxs("div",{className:"create-post-modal__form-group",children:[u.jsx("label",{className:"create-post-modal__label",children:"Kategori"}),u.jsxs("select",{className:"create-post-modal__input",value:N,onChange:T=>O(T.target.value),children:[u.jsx("option",{value:"Alla",children:"Alla"}),u.jsx("option",{value:"Inga",children:"Inga"}),u.jsx("option",{value:"Kolmården",children:"Kolmården"}),u.jsx("option",{value:"Sälen",children:"Sälen"}),u.jsx("option",{value:"Hemsedal",children:"Hemsedal"}),u.jsx("option",{value:"Ulricshamn",children:"Ulricshamn"}),u.jsx("option",{value:"Tripplen",children:"Tripplen"})]})]}),u.jsxs("div",{className:"create-post-modal__form-group",children:[u.jsx("label",{className:"create-post-modal__label",children:"Innehåll"}),u.jsx("div",{children:u.jsx(VD,{value:h,onChange:ae,placeholder:"Ange innehåll"})})]}),u.jsx("div",{className:"create-post-modal__form-group",children:u.jsxs("label",{className:"create-post-modal__checkbox-label",children:[u.jsx("input",{type:"checkbox",checked:V,onChange:()=>K(!V),className:"create-post-modal__checkbox"}),"Publicerad"]})}),u.jsxs("div",{className:"create-post-modal__actions",children:[u.jsx("button",{onClick:k,className:"create-post-modal__button create-post-modal__button--secondary",children:"Avbryt"}),u.jsx("button",{onClick:de,className:"create-post-modal__button create-post-modal__button--primary",disabled:!l.trim()||!h.trim(),children:M?"Uppdatera":"Spara"})]})]})]})]})},HD=()=>{const[s,e]=C.useState(""),[t,a]=C.useState(!1),[l,c]=C.useState(!1),[h,m]=C.useState(null),{isAdmin:p,currentLanguage:y}=Et(),[v,A]=C.useState("");C.useEffect(()=>{A(y==="en"?"Read more":y==="no"?"Les mer":"Läs mer")},[y]);const[N,O]=C.useState([]),[M,B]=C.useState(!0),[V,K]=C.useState(null);C.useEffect(()=>{(async()=>{try{B(!0);const k=nn(We,"posts"),T=(await es(k)).docs.map(j=>({id:j.id,published:j.data().published!==!1,...j.data()}));T.forEach(j=>{j.image&&console.log(`Post ${j.id} image URL:`,j.image)});const S=T.map(j=>{const w=j;if(console.log(`Post ${j.id}:`,w),w.image){console.log(`Post ${j.id} image URL:`,w.image);const H=new Image;H.onload=()=>console.log(`Image for post ${j.id} loaded successfully`),H.onerror=()=>console.error(`Image for post ${j.id} failed to load`),H.src=w.image}else console.warn(`Post ${j.id} has no image URL`);return{...w,id:j.id}});O(S),K(null)}catch(k){console.error("Error fetching posts:",k),K("Failed to load posts")}finally{B(!1)}})()},[]);const G=D=>{D.preventDefault(),console.log("Email submitted:",s),a(!0),e(""),setTimeout(()=>a(!1),3e3)},Z=async D=>{try{if(B(!0),h&&D.id)O(k=>k.map(b=>b.id===D.id?{...b,title:D.title,content:D.content,category:D.category||"Alla",published:D.published!==!1,image:D.image||b.image}:b));else{const k=nn(We,"posts"),b=ha(k,fg("createdAt","desc"),jI(10)),T=await es(b),S=[];T.forEach(j=>{S.push({id:j.id,...j.data()})}),O(S)}m(null),c(!1),K(null)}catch(k){console.error("Error saving post:",k),K("Failed to save post")}finally{B(!1)}},te=D=>{console.log("Edit post clicked:",D),m(D),c(!0)},ae=async(D,k)=>{try{const b=ot(We,"posts",String(D));await mp(b,{published:!k}),O(T=>T.map(S=>String(S.id)===String(D)?{...S,published:!k}:S))}catch(b){console.error("Failed to toggle publish status:",b)}},de=async D=>{try{const k=N.find(b=>String(b.id)===String(D));if(await jc(ot(We,"posts",String(D))),k&&k.image)try{const T=(S=>{const j=S.match(/\/o\/(.+)\?alt=media/);return j?decodeURIComponent(j[1]):null})(k.image);if(T){const S=hs(ms,T);await Dc(S)}}catch(b){console.error("Failed to delete image from storage:",b)}window.location.reload()}catch(k){console.error("Failed to delete post:",k)}};return u.jsxs("div",{className:"flex flex_col",children:[u.jsx("section",{className:"page_01 dynamic-background background-editable flex flex_col flex_j_E",id:"senaste-nytt-top-background",children:u.jsx("div",{className:"MaxWH flex flex_col flex_j_SA",children:u.jsx("div",{className:"om-oss-title flex flex_j_C flex_a_C",children:u.jsx(U,{textKey:"senaste-nytt-main-title",defaultText:"SENASTE NYTT",tag:"p",className:"fonts_huge senaste-nytt-main-title"})})})}),u.jsx("div",{className:"set-03 senaste-nytt-subscribe-section",children:u.jsxs("div",{className:"senaste-nytt-container flex flex_col flex_j_C flex_a_C font_white",children:[u.jsx(U,{textKey:"senaste-nytt-subscribe-title",defaultText:"Håll dig uppdaterad",tag:"h2",className:"fonts_large senaste-nytt-title"}),u.jsx(U,{textKey:"senaste-nytt-subscribe-description",defaultText:"Prenumerera på vårt nyhetsbrev för att få de senaste uppdateringarna om AIM Challenge direkt i din inkorg.",tag:"p",className:"fonts_small senaste-nytt-description"}),u.jsxs("form",{onSubmit:G,className:"senaste-nytt-form flex flex_col flex_a_C",children:[u.jsxs("div",{className:"senaste-nytt-form-input-container flex",children:[u.jsx("input",{type:"email",value:s,onChange:D=>e(D.target.value),placeholder:"Din e-postadress",required:!0,className:"senaste-nytt-form-input fonts_small",id:"newsletter-email",name:"newsletter-email",autoComplete:"email"}),u.jsx("button",{type:"submit",className:"senaste-nytt-form-button fonts_small flex flex_j_C flex_a_C",children:u.jsx("span",{children:"Prenumerera"})})]}),t&&u.jsx("p",{className:"senaste-nytt-form-success",children:"Tack för din prenumeration!"})]})]})}),u.jsx("div",{className:"set-03 senaste-nytt-news-section",children:u.jsxs("div",{className:"senaste-nytt-container",children:[u.jsx(U,{textKey:"senaste-nytt-news-title",defaultText:"Nyheter",tag:"h2",className:"senaste-nytt-section-title"}),p&&u.jsx("div",{className:"senaste-nytt-admin-actions flex flex_j_E",children:u.jsx("button",{className:"senaste-nytt-create-post-button",onClick:()=>c(!0),children:"Skapa nytt inlägg"})}),u.jsx("div",{className:"senaste-nytt-news-grid",children:N.filter(D=>p||D.published!==!1).map(D=>u.jsxs("div",{className:"senaste-nytt-news-card",children:[u.jsx("div",{className:"senaste-nytt-news-image-wrapper",children:D.image?u.jsx("img",{className:"senaste-nytt-news-image-alt",src:D.image,alt:D.title||"Post image"}):u.jsx("div",{className:"senaste-nytt-news-image senaste-nytt-news-image--empty",children:u.jsx("span",{children:"Ingen bild"})})}),u.jsxs("div",{className:"senaste-nytt-news-content",children:[u.jsx("h3",{className:"senaste-nytt-news-card-title",children:D.title}),u.jsx("p",{className:"senaste-nytt-news-date",children:D.date}),!D.published&&p&&u.jsx("p",{className:"senaste-nytt-unpublished-notice",children:"Opublicerad"}),u.jsx("div",{className:"senaste-nytt-news-text",style:{maxHeight:"150px",overflow:"hidden",position:"relative"},children:u.jsx("div",{dangerouslySetInnerHTML:{__html:D.content}})}),u.jsx("div",{style:{position:"absolute",bottom:"60px",left:0,right:0,height:"40px",background:"linear-gradient(transparent, #6a9fb5)",pointerEvents:"none"}}),u.jsx(ke,{to:`/news/${D.id}`,className:"senaste-nytt-read-more",children:v}),p&&u.jsxs("div",{className:"senaste-nytt-admin-buttons",children:[u.jsx("button",{className:"senaste-nytt-edit-post-button",onClick:()=>te(D),children:"Redigera"}),u.jsx("button",{className:`senaste-nytt-publish-post-button ${D.published?"published":"unpublished"}`,onClick:()=>ae(String(D.id),D.published),children:D.published?"Avpublicera":"Publicera"}),u.jsx("button",{className:"senaste-nytt-delete-post-button",onClick:()=>de(String(D.id)),children:"Ta bort"})]})]})]},D.id))})]})}),p&&u.jsx(BD,{isOpen:l,onClose:()=>{c(!1),m(null)},addPost:Z,editingPost:h}),u.jsx("div",{id:"senaste-nytt-background",className:"background-editable senaste-nytt-background-container locked-background page_01"})]})},zD=()=>{const{id:s}=YS(),e=Ar(),[t,a]=C.useState(null),[l,c]=C.useState(!0),[h,m]=C.useState(null);C.useEffect(()=>{(async()=>{try{c(!0);const v=ot(We,"posts",s),A=await Da(v);A.exists()?(a({id:A.id,...A.data()}),m(null)):m("Nyheten kunde inte hittas")}catch(v){console.error("Error fetching post:",v),m("Ett fel uppstod när nyheten skulle hämtas")}finally{c(!1)}})()},[s]);const p=()=>{e("/senaste-nytt")};return l?u.jsx("div",{className:"flex flex_col flex_a_C flex_j_C",style:{minHeight:"50vh"},children:u.jsx("p",{className:"fonts_large",children:"Laddar..."})}):h?u.jsxs("div",{className:"flex flex_col flex_a_C flex_j_C",style:{minHeight:"50vh"},children:[u.jsx("p",{className:"fonts_large",children:h}),u.jsx("button",{onClick:p,className:"navbbutton button font_blue",style:{marginTop:"20px",padding:"10px 20px"},children:"Tillbaka till nyheter"})]}):t?u.jsxs("div",{className:"flex flex_col",children:[u.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",children:u.jsx("div",{className:"MaxWH flex flex_col flex_j_SA",children:u.jsx("div",{className:"om-oss-title flex flex_j_C flex_a_C",children:u.jsx("p",{className:"fonts_huge senaste-nytt-main-title",children:"NYHETER"})})})}),u.jsx("section",{style:{padding:"50px 0",backgroundColor:"#f5f5f5",width:"100vw"},children:u.jsxs("div",{className:"MaxWH",style:{padding:"0 20px",maxWidth:"1000px",margin:"0 auto"},children:[u.jsxs("button",{onClick:p,className:"navbbutton button font_blue",style:{marginBottom:"20px",padding:"10px 30px 10px 20px",display:"flex",alignItems:"center",gap:"5px",minWidth:"120px"},children:[u.jsx("span",{children:"←"})," ",u.jsx("span",{children:"Tillbaka"})]}),u.jsxs("div",{style:{backgroundColor:"white",borderRadius:"8px",overflow:"hidden",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[t.image&&u.jsx("div",{style:{height:"400px",backgroundImage:`url(${t.image})`,backgroundSize:"cover",backgroundPosition:"center"}}),u.jsxs("div",{style:{padding:"30px"},children:[u.jsx("h1",{className:"fonts_large font_blue",style:{marginBottom:"10px"},children:t.title}),u.jsx("p",{className:"fonts_small",style:{color:"#666",marginBottom:"30px"},children:t.date}),u.jsx("div",{className:"news-detail-content",style:{marginBottom:"20px"},dangerouslySetInnerHTML:{__html:t.content}})]})]}),u.jsx("div",{style:{marginTop:"30px",textAlign:"center"},children:u.jsxs("button",{onClick:p,className:"navbbutton button font_blue",style:{padding:"10px 30px 10px 20px",display:"flex",alignItems:"center",gap:"5px",minWidth:"120px"},children:[u.jsx("span",{children:"←"})," ",u.jsx("span",{children:"Tillbaka"})]})})]})}),u.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",style:{height:"50vh",width:"100vw"}})]}):u.jsxs("div",{className:"flex flex_col flex_a_C flex_j_C",style:{minHeight:"50vh"},children:[u.jsx("p",{className:"fonts_large",children:"Nyheten kunde inte hittas"}),u.jsx("button",{onClick:p,className:"navbbutton button font_blue",style:{marginTop:"20px",padding:"10px 20px"},children:"Tillbaka till nyheter"})]})},k0=()=>{const[s,e]=C.useState(""),[t,a]=C.useState(""),[l,c]=C.useState(""),[h,m]=C.useState(!1),p=Ar(),{login:y,isAuthenticated:v}=ys();C.useEffect(()=>{v&&p("/")},[v,p]);const A=async N=>{N.preventDefault(),m(!0),c("");try{const O=await y(s,t);O.success?(console.log("Login successful"),console.log("Current user after login:",{email:s,role:"admin"}),p("/")):c(O.message||"Ogiltigt e-post eller lösenord")}catch(O){console.error("Login error:",O),c("Ett fel uppstod vid inloggning. Försök igen.")}finally{m(!1)}};return u.jsxs("div",{className:"flex flex_col",children:[u.jsx("section",{className:"login-header-section dynamic-background flex flex_col flex_j_E",children:u.jsx("div",{className:"login-header-container flex flex_col flex_j_SA",children:u.jsx("div",{className:"login-title-container",children:u.jsx("p",{className:"fonts_huge login-title",children:"LOGGA IN"})})})}),u.jsx("div",{className:"login-form-wrapper",children:u.jsx("div",{className:"login-form-container",children:u.jsx("div",{className:"login-form",children:u.jsxs("div",{className:"login-card",children:[u.jsx("h2",{className:"fonts_medium font_blue login-subtitle",children:"Administratörsinloggning"}),l&&u.jsx("div",{className:"error-message",children:l}),u.jsxs("form",{onSubmit:A,children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"email",className:"fonts_small",children:"E-post"}),u.jsx("input",{type:"email",id:"email",value:s,onChange:N=>e(N.target.value),required:!0,className:"form-input"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"password",className:"fonts_small",children:"Lösenord"}),u.jsx("input",{type:"password",id:"password",value:t,onChange:N=>a(N.target.value),required:!0,className:"form-input"})]}),u.jsx("button",{type:"submit",className:"navbbutton button font_blue",disabled:h,children:h?"Loggar in...":"Logga in"})]}),u.jsx("div",{className:"login-note",children:u.jsx("p",{className:"fonts_small",style:{color:"#666"},children:"Detta är en inloggning endast för administratörer."})})]})})})}),u.jsx("section",{className:"login-background-section dynamic-background flex flex_col flex_j_E",children:u.jsx("div",{className:"login-background-container"})})]})},qD=()=>{const{textContent:s,updateText:e,isAdmin:t,currentLanguage:a,changeLanguage:l,LANGUAGES:c,LANGUAGE_NAMES:h}=Et(),{isAuthenticated:m}=ys(),p=Ar(),[y,v]=C.useState("metaTexts"),[A,N]=C.useState(!1),[O,M]=C.useState(a),[B,V]=C.useState({"meta-title-home":"Aim Challenge - Multisport tävling för alla","meta-description-home":"Aim Challenge är en multisport tävling som passar för alla. Lag på två personer ska under 6 timmar ta så många kontroller som möjligt.","meta-keywords-home":"multisport, tävling, aim challenge, orientering, löpning, cykling","meta-title-om-oss":"Om Oss - Aim Challenge","meta-description-om-oss":"Lär dig mer om Aim Challenge organisationen och vår mission.","meta-title-regler":"Regler - Aim Challenge","meta-description-regler":"Tävlingsregler och riktlinjer för Aim Challenge evenemang.","meta-title-senaste-nytt":"Senaste Nytt - Aim Challenge","meta-description-senaste-nytt":"Senaste nytt och uppdateringar från Aim Challenge."}),[K,G]=C.useState({"og-image-home":"/images/Aim_Challenge_logo_white.svg","og-image-om-oss":"/images/Aim_Challenge_logo_white.svg","og-image-regler":"/images/Aim_Challenge_logo_white.svg","og-image-senaste-nytt":"/images/Aim_Challenge_logo_white.svg"}),[Z,te]=C.useState(null),[ae,de]=C.useState(""),[D,k]=C.useState(null),[b,T]=C.useState(null);C.useEffect(()=>{(!m||!t)&&p("/")},[m,t,p]),C.useEffect(()=>{M(a)},[a]),C.useEffect(()=>{(()=>{const X={...B},ce={...K};Object.entries(s).forEach(([ve,L])=>{typeof L=="object"&&L._isMultilingual?ve.startsWith("meta-")?X[ve]=L[O]||L[c.SWEDISH]||"":ve.startsWith("og-image-")&&(ce[ve]=L[O]||L[c.SWEDISH]||""):ve.startsWith("meta-")?X[ve]=L:ve.startsWith("og-image-")&&(ce[ve]=L)}),V(X),G(ce)})()},[s,O]);const S=(z,X)=>{te(z),de(X)},j=()=>{if(Z){const z=s[Z];if(typeof z=="object"&&z._isMultilingual){const X={...z,[O]:ae};e(Z,X)}else{const X={_isMultilingual:!0,[O]:ae,[c.SWEDISH]:O===c.SWEDISH?ae:z||""};e(Z,X)}Z.startsWith("meta-")&&V(X=>({...X,[Z]:ae})),te(null),de("")}},w=()=>{te(null),de("")},H=(z,X)=>{const ce=z.target.files[0];if(ce){k(X);const ve=new FileReader;ve.onloadend=()=>{T(ve.result)},ve.readAsDataURL(ce);const L=hs(ms,`sharing-images/${X}-${Date.now()}`);zl(L,ce).then(ne=>{ql(ne.ref).then(fe=>{e(X,fe),G(me=>({...me,[X]:fe})),k(null),T(null)})}).catch(ne=>{console.error("Error uploading image:",ne),k(null),T(null)})}};if(!m||!t)return null;const W=z=>{M(z)};return u.jsxs("div",{className:"seo-manager",style:{padding:"20px"},children:[u.jsx("h1",{className:"font_blue fonts_big",style:{marginBottom:"20px"},children:"SEO Manager"}),u.jsxs("div",{style:{marginBottom:"20px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[u.jsxs("div",{children:[u.jsx("button",{className:`modal-button ${y==="metaTexts"?"modal-button-primary":"modal-button-secondary"}`,onClick:()=>v("metaTexts"),children:"Meta Texter"}),u.jsx("button",{className:`modal-button ${y==="sharingImages"?"modal-button-primary":"modal-button-secondary"}`,onClick:()=>v("sharingImages"),children:"Delningsbilder"})]}),u.jsxs("div",{className:"language-selector-container",style:{display:"flex",alignItems:"center"},children:[u.jsx("span",{style:{marginRight:"10px",fontSize:"14px",color:"#666"},children:"Redigera språk:"}),u.jsx("div",{className:"seo-language-tabs",children:Object.values(c).map(z=>u.jsx("button",{className:`seo-language-tab ${O===z?"seo-language-tab--active":""}`,onClick:()=>W(z),style:{padding:"6px 12px",margin:"0 4px",border:"none",borderBottom:O===z?"2px solid #2D4F60":"2px solid transparent",background:"none",cursor:"pointer",fontSize:"14px",color:O===z?"#2D4F60":"#666",fontWeight:O===z?"bold":"normal"},children:h[z]},z))})]})]}),y==="metaTexts"&&u.jsxs("div",{className:"meta-texts-section",children:[u.jsx("p",{style:{marginBottom:"20px"},children:"Redigera meta-texter för att förbättra sökmotoroptimering (SEO) för din webbplats."}),u.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"20px"},children:Object.entries(B).map(([z,X])=>u.jsxs("div",{style:{border:"1px solid #ddd",borderRadius:"8px",padding:"15px",backgroundColor:"white",boxShadow:"0 2px 4px rgba(0,0,0,0.05)"},children:[u.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:u.jsx("h3",{className:"font_blue fonts_medium",style:{fontSize:"16px"},children:z})}),Z===z?u.jsxs("div",{children:[u.jsx("textarea",{value:ae,onChange:ce=>de(ce.target.value),style:{width:"100%",padding:"10px",borderRadius:"4px",border:"1px solid #ddd",minHeight:"100px",marginBottom:"10px"}}),u.jsxs("div",{style:{display:"flex",gap:"10px"},children:[u.jsx("button",{onClick:j,style:{padding:"8px 16px",backgroundColor:"#00b894",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Spara"}),u.jsx("button",{onClick:w,style:{padding:"8px 16px",backgroundColor:"#ccc",color:"black",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Avbryt"})]})]}):u.jsxs("div",{children:[u.jsx("p",{style:{backgroundColor:"#f5f5f5",padding:"10px",borderRadius:"4px",marginBottom:"10px"},children:X}),u.jsx("button",{onClick:()=>S(z,X),style:{width:"100%",padding:"8px",backgroundColor:"#0984e3",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Redigera"})]})]},z))})]}),y==="sharingImages"&&u.jsxs("div",{className:"sharing-images-section",children:[u.jsx("p",{style:{marginBottom:"20px"},children:"Ladda upp bilder som kommer att visas när dina sidor delas på sociala medier."}),u.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"20px"},children:Object.entries(K).map(([z,X])=>u.jsxs("div",{style:{border:"1px solid #ddd",borderRadius:"8px",padding:"15px",backgroundColor:"white",boxShadow:"0 2px 4px rgba(0,0,0,0.05)"},children:[u.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:u.jsx("h3",{className:"font_blue fonts_medium",style:{fontSize:"16px"},children:z})}),u.jsx("div",{style:{marginBottom:"15px"},children:D===z&&b?u.jsx("img",{src:b,alt:"Preview",style:{width:"100%",height:"200px",objectFit:"cover",borderRadius:"4px",border:"1px solid #eee"}}):u.jsx("img",{src:X||"/images/Aim_Challenge_logo_white.svg",alt:z,style:{width:"100%",height:"200px",objectFit:"cover",borderRadius:"4px",border:"1px solid #eee"}})}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:`image-upload-${z}`,style:{display:"block",width:"100%",padding:"8px",backgroundColor:"#0984e3",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",textAlign:"center"},children:D===z?"Laddar upp...":"Byt bild"}),u.jsx("input",{id:`image-upload-${z}`,type:"file",accept:"image/*",onChange:ce=>H(ce,z),style:{display:"none"},disabled:D!==null})]})]},z))})]})]})},KD=()=>{const{textContent:s,resetAllContent:e,removeContentItem:t,isAdmin:a}=Et(),{isAuthenticated:l}=ys(),[c,h]=C.useState(!1),[m,p]=C.useState(null),[y,v]=C.useState("content"),[A,N]=C.useState("all"),[O,M]=C.useState([]),[B,V]=C.useState([]),[K,G]=C.useState(!0),Z=Ar();C.useEffect(()=>{if(!l||!a){Z("/");return}(async()=>{G(!0);try{await Promise.all([te(),ae()])}catch(W){console.error("Error loading content data:",W)}finally{G(!1)}})()},[l,a,Z]);const te=async()=>{try{const H=nn(We,"faqs"),W=await es(H),z=[];return W.forEach(X=>{const ce=X.data();z.push({id:X.id,...ce})}),M(z),z}catch(H){return console.error("Error loading FAQ items:",H),[]}},ae=async()=>{try{const H=nn(We,"backgroundSettings"),W=await es(H),z=[];return W.forEach(X=>{const ce=X.data();z.push({id:X.id,...ce})}),V(z),z}catch(H){return console.error("Error loading background settings:",H),[]}};if(!l||!a)return null;const de=()=>{h(!0),p(null)},D=H=>{h(!0),p(H)},k=()=>{m?t(m):e(),h(!1),p(null)},b=()=>{h(!1),p(null)},S=(()=>{const H={text:{},image:{},background:{},faq:{},backgroundSettings:{}};return Object.entries(s).forEach(([W,z])=>{z.startsWith("data:image")||z.startsWith("http")||z.startsWith("/")?W.includes("-bg")||W.includes("background")?H.background[W]=z:H.image[W]=z:H.text[W]=z}),O.forEach(W=>{H.faq[W.id]={question:W.question,answer:W.answer,category:W.category}}),B.forEach(W=>{H.backgroundSettings[W.id]={elementId:W.elementId,imageUrl:W.imageUrl,type:W.type}}),H})(),w=A==="all"?{...s,...Object.fromEntries(O.map(H=>[`faq-${H.id}`,`FAQ: ${H.question.substring(0,30)}...`])),...Object.fromEntries(B.map(H=>[`bg-${H.id}`,H.imageUrl]))}:S[A]||{};return u.jsxs("div",{className:"flex flex_col",style:{minHeight:"100vh"},children:[u.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",children:u.jsx("div",{className:"trans-background page_01box flex flex_col flex_j_SA",children:u.jsx("div",{className:"om-oss-title flex flex_j_C flex_a_C"})})}),u.jsx("div",{style:{padding:"30px 0 10px",maxWidth:"1200px",margin:"0 auto",width:"100%",textAlign:"center"},children:u.jsx("h1",{className:"font_blue fonts_huge",children:"Innehållshanterare"})}),u.jsxs("div",{style:{padding:"20px 40px 0",maxWidth:"1200px",margin:"0 auto",width:"100%",display:"flex",gap:"20px",borderBottom:"2px solid #eee"},children:[u.jsx("button",{onClick:()=>v("content"),style:{padding:"12px 24px",backgroundColor:y==="content"?"#2d4f60":"#e0e0e0",color:y==="content"?"white":"#333",border:"none",borderRadius:"4px 4px 0 0",cursor:"pointer",fontSize:"16px",fontWeight:"bold",position:"relative",bottom:y==="content"?"-2px":"0",borderBottom:y==="content"?"2px solid #2d4f60":"none"},children:"Innehåll"}),u.jsx("button",{onClick:()=>v("seo"),style:{padding:"14px 24px",backgroundColor:y==="seo"?"#2d4f60":"#e0e0e0",color:y==="seo"?"white":"#333",border:"none",borderRadius:"4px 4px 0 0",cursor:"pointer",fontSize:"16px",fontWeight:"bold",position:"relative",bottom:y==="seo"?"-2px":"0",borderBottom:y==="seo"?"2px solid #2d4f60":"none"},children:"SEO & Meta"})]}),y==="content"&&u.jsxs("section",{style:{padding:"40px",maxWidth:"1200px",margin:"0 auto"},children:[u.jsxs("div",{style:{marginBottom:"30px",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"20px"},children:[u.jsx("h2",{className:"font_blue fonts_large",children:"Alla redigerbara innehåll"}),u.jsx("button",{onClick:de,style:{padding:"24px",backgroundColor:"#ff4d4d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",whiteSpace:"wrap"},children:"Återställ allt innehåll"})]}),u.jsxs("div",{style:{marginBottom:"30px",display:"flex",gap:"10px",flexWrap:"wrap"},children:[u.jsx("button",{onClick:()=>N("all"),style:{padding:"8px 16px",backgroundColor:A==="all"?"#2d4f60":"#e0e0e0",color:A==="all"?"white":"#333",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Alla"}),u.jsx("button",{onClick:()=>N("text"),style:{padding:"8px 16px",backgroundColor:A==="text"?"#0984e3":"#e0e0e0",color:A==="text"?"white":"#333",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Text"}),u.jsx("button",{onClick:()=>N("image"),style:{padding:"8px 16px",backgroundColor:A==="image"?"#00b894":"#e0e0e0",color:A==="image"?"white":"#333",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Bilder"}),u.jsx("button",{onClick:()=>N("background"),style:{padding:"8px 16px",backgroundColor:A==="background"?"#6c5ce7":"#e0e0e0",color:A==="background"?"white":"#333",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Bakgrundsbilder"}),u.jsx("button",{onClick:()=>N("faq"),style:{padding:"8px 16px",backgroundColor:A==="faq"?"#e84393":"#e0e0e0",color:A==="faq"?"white":"#333",border:"none",borderRadius:"4px",cursor:"pointer",marginRight:"20px"},children:"FAQ"}),u.jsx("button",{onClick:()=>N("backgroundSettings"),style:{padding:"8px 12px",backgroundColor:A==="backgroundSettings"?"#fdcb6e":"#e0e0e0",color:A==="backgroundSettings"?"white":"#333",border:"none",borderRadius:"4px",cursor:"pointer",whiteSpace:"nowrap",minWidth:"180px",textAlign:"center"},children:"Bakgrundsinställningar"})]}),c&&u.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.7)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:9999},children:u.jsxs("div",{style:{backgroundColor:"white",padding:"30px",borderRadius:"8px",maxWidth:"500px",width:"90%",textAlign:"center"},children:[u.jsx("h3",{style:{marginBottom:"20px",color:"#00a6fb"},children:"Bekräfta åtgärd"}),u.jsx("p",{style:{marginBottom:"30px"},children:m?`Är du säker på att du vill ta bort innehållet med nyckeln "${m}"?`:"Är du säker på att du vill återställa allt innehåll? Detta kan inte ångras."}),u.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"20px"},children:[u.jsx("button",{onClick:k,style:{padding:"10px 20px",backgroundColor:"#ff4d4d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:m?"Ta bort":"Återställ allt"}),u.jsx("button",{onClick:b,style:{padding:"10px 20px",backgroundColor:"#ccc",color:"black",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Avbryt"})]})]})}),Object.keys(w).length===0?u.jsxs("p",{children:["Inga redigerade"," ",A==="text"?"texter":A==="image"?"bilder":A==="background"?"bakgrundsbilder":"innehåll"," ","ännu."]}):u.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"20px"},children:Object.entries(w).map(([H,W])=>{const z=W.startsWith("data:image")||W.startsWith("http")||W.startsWith("/"),X=H.includes("-bg")||H.includes("background");return u.jsxs("div",{style:{border:"1px solid #ddd",borderRadius:"8px",padding:"15px",backgroundColor:"white",boxShadow:"0 2px 4px rgba(0,0,0,0.05)"},children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:[u.jsx("h3",{className:"font_blue fonts_medium",style:{wordBreak:"break-all",fontSize:"16px"},children:H}),u.jsx("span",{style:{padding:"3px 8px",borderRadius:"4px",fontSize:"12px",backgroundColor:X?"#6c5ce7":z?"#00b894":"#0984e3",color:"white"},children:X?"Bakgrund":z?"Bild":"Text"})]}),u.jsx("div",{style:{marginBottom:"10px"},children:z?u.jsxs("div",{children:[u.jsx("img",{src:W,alt:H,style:{width:"100%",height:X?"150px":"auto",maxHeight:"150px",objectFit:X?"cover":"contain",borderRadius:"4px",border:"1px solid #eee"}}),X&&u.jsx("div",{style:{marginTop:"5px",fontSize:"12px",color:"#666",textAlign:"center"},children:"Bakgrundsbild"})]}):u.jsx("p",{style:{maxHeight:"100px",overflow:"auto",backgroundColor:"#f5f5f5",padding:"10px",borderRadius:"4px",fontSize:"14px"},children:W})}),u.jsx("button",{onClick:()=>D(H),style:{width:"100%",padding:"8px",backgroundColor:"#ff4d4d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px"},children:"Ta bort"})]},H)})})]}),y==="seo"&&u.jsx(qD,{})]})},FD=({children:s,requireAdmin:e=!1})=>{const{isAuthenticated:t,currentUser:a}=ys();return t?e&&(a==null?void 0:a.role)!=="admin"?u.jsx($v,{to:"/"}):s:u.jsx($v,{to:"/login"})},GD=C.createContext(),$D=({children:s})=>{const[e,t]=C.useState(()=>{const c=localStorage.getItem("preferredLanguage");return c&&Object.values(pr).includes(c)?c:LT});C.useEffect(()=>{localStorage.setItem("preferredLanguage",e)},[e]);const l={currentLanguage:e,changeLanguage:c=>Object.values(pr).includes(c)?(t(c),!0):!1,LANGUAGES:pr};return u.jsx(GD.Provider,{value:l,children:s})},QD=()=>{const[s,e]=C.useState(!1),[t,a]=C.useState(null),[l,c]=C.useState([]),[h,m]=C.useState({imageUrl:"",link:""}),[p,y]=C.useState([]),[v,A]=C.useState(!1),{isAdmin:N}=Et(),O=C.useRef(null),M=C.useRef(null),B=nn(We,"ads"),V=Mn();C.useEffect(()=>{Z()},[]),C.useEffect(()=>{const T=document.querySelectorAll(".ad-editable"),S=j=>{N&&(e(!0),a(j.currentTarget))};return T.forEach(j=>{j.removeEventListener("click",S),j.addEventListener("click",S),N&&j.classList.add("admin-editable")}),()=>{T.forEach(j=>{j.removeEventListener("click",S),N&&j.classList.remove("admin-editable")})}},[N]),C.useEffect(()=>{Z();const T=setInterval(()=>{console.log("Refreshing ads from database"),Z()},5*60*1e3);return()=>{clearInterval(T)}},[]),C.useEffect(()=>{console.log("Route changed, reloading ads");const T=setTimeout(()=>{Z()},500);return()=>clearTimeout(T)},[V.pathname]),C.useEffect(()=>(document.addEventListener("mousedown",G),()=>{document.removeEventListener("mousedown",G)}),[]);const K=()=>{e(!1),a(null),m({imageUrl:"",link:""})},G=T=>{M.current&&!M.current.contains(T.target)&&K()},Z=async()=>{try{console.log("Loading ads from Firestore");const S=(await es(B)).docs.map(j=>({id:j.id,...j.data()}));c(S),setTimeout(()=>{te(S)},300)}catch(T){console.error("Error loading ads:",T)}},te=T=>{const S=document.querySelectorAll(".ad-container"),j=T.filter(w=>w.imageUrl);if(S.forEach(w=>{console.log("Clearing container:",w.id||"unnamed"),w.querySelectorAll(".ad-item").forEach(z=>{console.log("Removing existing ad item"),z.remove()});const W=w.getAttribute("data-ad-interval");W&&(clearInterval(Number(W)),w.removeAttribute("data-ad-interval"))}),j.length===0){console.log("No valid ads to display, all ads cleared");return}S.forEach(w=>{w.querySelectorAll(".ad-item").forEach(L=>{L.remove()});let W=w.querySelector(".ad-content");if(W){let L=W.querySelector(".ad-carousel");if(!L)L=document.createElement("div"),L.className="ad-carousel",W.appendChild(L);else for(;L.firstChild;)L.removeChild(L.firstChild)}else{W=document.createElement("div"),W.className="ad-content";const L=document.createElement("div");L.textContent="ANNONS",L.className="annons-text",W.appendChild(L),w.appendChild(W)}const z=W.querySelector(".ad-carousel");j.forEach((L,ne)=>{const fe=document.createElement("div");fe.className=ne===0?"ad-item active":"ad-item",fe.setAttribute("data-ad-id",L.id||"unknown"),fe.style.display=ne===0?"block":"none";const me=document.createElement("img");me.src=L.imageUrl,me.alt="Advertisement",fe.appendChild(me),L.link&&!N&&(fe.onclick=ge=>{ge.preventDefault();let Ae=L.link;if(Ae.includes("localhost")||Ae.startsWith("/")){const Re=Ae.match(/(?:https?:\/\/)?(?:localhost:[0-9]+\/)?([^\s]+)/);Re&&Re[1]&&(Ae=Re[1])}!Ae.startsWith("http://")&&!Ae.startsWith("https://")&&(Ae="https://"+Ae),window.open(Ae,"_blank","noopener,noreferrer")},fe.style.cursor="pointer"),console.log("Adding ad with image:",L.imageUrl),z.appendChild(fe)});let X=0;const ve=setInterval(()=>{const L=z.querySelectorAll(".ad-item");L.length<=1||(L[X].classList.remove("active"),setTimeout(()=>{L[X].style.display="none",X=(X+1)%L.length,L[X].style.display="block",L[X].offsetHeight,setTimeout(()=>{L[X].classList.add("active")},50)},800))},8e3);w.setAttribute("data-ad-interval",ve)})};C.useEffect(()=>()=>{document.querySelectorAll(".ad-container").forEach(S=>{const j=S.getAttribute("data-ad-interval");j&&clearInterval(Number(j))})},[]);const ae=T=>{if(T.target.files[0]){const S=T.target.files[0];de(S)}},de=async T=>{if(T){A(!0);try{const S=Date.now(),j=T.name?T.name.split(".").pop():"jpg",w=`ad_${S}.${j}`,H=hs(ms,`gs://aimchallange-67039.firebasestorage.app/background-images/${w}`);console.log("Uploading ad image with new filename:",w),await zl(H,T);const W=await ql(H);m(z=>({...z,imageUrl:W})),y([...p,{url:W,name:w}])}catch{}finally{A(!1)}}},D=async()=>{if(h.imageUrl)try{const T=ot(B);await ds(T,{imageUrl:h.imageUrl,link:h.link,createdAt:new Date}),c([...l,{id:T.id,...h}]),m({imageUrl:"",link:""}),Z()}catch(T){console.error("Error adding ad:",T)}},k=async T=>{try{if(T<0||T>=l.length)return;const S=l[T];if(!S||!S.id)return;const j=ot(B,S.id),w=await Da(j);if(w.exists()){const H=w.data();if(console.log("Found ad document:",H),H.imageUrl)try{const z=b(H.imageUrl);if(z){const X=hs(ms,`gs://aimchallange-67039.firebasestorage.app/background-images/${z}`);await Dc(X)}}catch{}await jc(j);const W=[...l];W.splice(T,1),c(W),setTimeout(()=>{te(W)},100)}}catch{}},b=T=>{if(!T)return null;try{if(T.includes("firebasestorage.googleapis.com")){const w=T.match(/%2F([^?]+)/g);if(w&&w.length>0)return w[w.length-1].replace("%2F","").split("?")[0]}if(T.includes("ad_")){const w=/ad_[0-9]+\.[a-zA-Z]+/,H=T.match(w);if(H&&H.length>0)return H[0]}const S=T.split("/");return S[S.length-1].split("?")[0]}catch{return null}};return N?u.jsx(u.Fragment,{children:s&&u.jsx("div",{className:"background-editor-overlay",onClick:G,children:u.jsxs("div",{className:"background-editor-modal",ref:M,children:[u.jsxs("div",{className:"background-editor-modal__header",children:[u.jsx("h2",{className:"background-editor-modal__title",children:"Edit Ads"}),u.jsx("button",{className:"background-editor-modal__close",onClick:K,children:"×"})]}),u.jsxs("div",{className:"background-editor-modal__body",children:[u.jsx("h3",{className:"background-editor-modal__subtitle",children:"Current Ads"}),u.jsx("div",{className:"background-editor-modal__ad-list",children:l.length>0?l.map((T,S)=>u.jsxs("div",{className:"background-editor-modal__ad-item",children:[u.jsx("img",{src:T.imageUrl,alt:`Ad ${S+1}`,className:"background-editor-modal__ad-image"}),u.jsxs("div",{className:"background-editor-modal__ad-details",children:[u.jsx("p",{className:"background-editor-modal__ad-link",children:T.link?u.jsx("a",{href:T.link,target:"_blank",rel:"noopener noreferrer",children:T.link}):"No link"}),u.jsx("button",{onClick:()=>k(S),className:"background-editor-modal__button background-editor-modal__button--secondary",children:"Remove"})]})]},S)):u.jsx("p",{className:"background-editor-modal__empty-message",children:"No ads added yet."})}),u.jsx("h3",{className:"background-editor-modal__subtitle",children:"Add New Ad"}),u.jsxs("div",{className:"background-editor-modal__form",children:[u.jsxs("div",{className:"background-editor-modal__form-group",children:[u.jsx("label",{className:"background-editor-modal__label",children:"Image:"}),u.jsxs("div",{className:"background-editor-modal__image-upload",onClick:()=>O.current.click(),children:[h.imageUrl?u.jsx("div",{className:"background-editor-modal__image-preview-container",children:u.jsx("img",{src:h.imageUrl,alt:"Preview",className:"background-editor-modal__image-preview"})}):u.jsx("div",{className:"background-editor-modal__image-placeholder",children:"Click to upload an image"}),u.jsx("input",{type:"file",accept:"image/*",onChange:ae,ref:O,className:"background-editor-modal__file-input",style:{display:"none"}})]}),v&&u.jsx("p",{className:"background-editor-modal__upload-status",children:"Uploading..."})]}),u.jsxs("div",{className:"background-editor-modal__form-group",children:[u.jsx("label",{className:"background-editor-modal__label",children:"Link (optional):"}),u.jsx("input",{type:"text",value:h.link,onChange:T=>m(S=>({...S,link:T.target.value})),placeholder:"https://example.com",className:"background-editor-modal__input"})]})]}),u.jsxs("div",{className:"background-editor-modal__footer",children:[u.jsx("button",{className:"background-editor-modal__button background-editor-modal__button--secondary",onClick:K,children:"Close"}),u.jsx("button",{className:"background-editor-modal__button background-editor-modal__button--primary",onClick:D,disabled:!h.imageUrl||v,children:"Add Ad"})]})]})]})})}):null},YD=()=>u.jsx("div",{className:"background-container",children:u.jsx("img",{src:"/backgrounds/Höjdkurvor.svg",alt:"Background"})}),WD=()=>{const s=Mn(),{textContent:e,currentLanguage:t,LANGUAGES:a}=Et(),l=s.pathname;return C.useEffect(()=>{let c="home";l.includes("/om-oss")?c="om-oss":l.includes("/regler")?c="regler":l.includes("/senaste-nytt")?c="senaste-nytt":l.includes("/ulricehamn")?c="ulricehamn":l.includes("/hemsedal")?c="hemsedal":l.includes("/salen")?c="salen":l.includes("/kolmarden")?c="kolmarden":l.includes("/historien-om-aim")?c="historien-om-aim":l.includes("/faq")?c="faq":l.includes("/results")&&(c="results");const h=T=>{const S=e[T];return S&&typeof S=="object"&&S._isMultilingual?S[t]||S[a.SWEDISH]||"":S||""},m=`meta-title-${c}`,p=h(m);p?document.title=p:c!=="home"?document.title=`${c.charAt(0).toUpperCase()+c.slice(1).replace(/-/g," ")} - Aim Challenge`:document.title="Aim Challenge";const y=`meta-description-${c}`;let v=document.querySelector('meta[name="description"]');v||(v=document.createElement("meta"),v.name="description",document.head.appendChild(v));const A=h(y);A?v.content=A:v.content="Aim Challenge - A premier archery competition series";const N=`meta-keywords-${c}`;let O=document.querySelector('meta[name="keywords"]');O||(O=document.createElement("meta"),O.name="keywords",document.head.appendChild(O));const M=h(N);M?O.content=M:O.content="archery, competition, aim challenge, bow, arrow";const B=`og-image-${c}`;let V=document.querySelector('meta[property="og:title"]');V||(V=document.createElement("meta"),V.setAttribute("property","og:title"),document.head.appendChild(V)),V.content=document.title;let K=document.querySelector('meta[property="og:description"]');K||(K=document.createElement("meta"),K.setAttribute("property","og:description"),document.head.appendChild(K)),K.content=v.content;let G=document.querySelector('meta[property="og:url"]');G||(G=document.createElement("meta"),G.setAttribute("property","og:url"),document.head.appendChild(G)),G.content=window.location.href;let Z=document.querySelector('meta[property="og:type"]');Z||(Z=document.createElement("meta"),Z.setAttribute("property","og:type"),document.head.appendChild(Z)),Z.content="website";let te=document.querySelector('meta[property="og:image"]');te||(te=document.createElement("meta"),te.setAttribute("property","og:image"),document.head.appendChild(te));const ae=h(B);ae?ae.startsWith("/")?te.content=`${window.location.origin}${ae}`:te.content=ae:te.content=`${window.location.origin}/images/logos/Aim_Challenge_logo_white.svg`;let de=document.querySelector('meta[name="twitter:card"]');de||(de=document.createElement("meta"),de.name="twitter:card",document.head.appendChild(de)),de.content="summary_large_image";let D=document.querySelector('meta[name="twitter:title"]');D||(D=document.createElement("meta"),D.name="twitter:title",document.head.appendChild(D)),D.content=document.title;let k=document.querySelector('meta[name="twitter:description"]');k||(k=document.createElement("meta"),k.name="twitter:description",document.head.appendChild(k)),k.content=v.content;let b=document.querySelector('meta[name="twitter:image"]');b||(b=document.createElement("meta"),b.name="twitter:image",document.head.appendChild(b)),b.content=te.content},[l,e]),null},XD=async(s,e,t="Admin")=>{try{const l=(await Fj(kd,s,e)).user;return await Qj(l,{displayName:t}),await ds(ot(We,"users",l.uid),{email:s,displayName:t,role:"admin",createdAt:new Date}),{success:!0,user:{uid:l.uid,email:l.email,displayName:t,role:"admin"}}}catch(a){return console.error("Error creating admin user:",a),{success:!1,error:a.message}}},ZD=async()=>{try{(await Da(ot(We,"settings","admin"))).exists()||(await XD("admin@example.com","password123")).success&&(await ds(ot(We,"settings","admin"),{initialized:!0,adminEmail:"admin@example.com",createdAt:new Date}),console.log("Admin user initialized successfully"))}catch(s){console.error("Error initializing admin user:",s)}},JD=()=>(C.useEffect(()=>{ZD().then(()=>console.log("Admin user initialized")).catch(s=>console.error("Error initializing admin user:",s))},[]),u.jsx(hD,{children:u.jsx($D,{children:u.jsx(gD,{children:u.jsxs(Ow,{children:[u.jsx(WD,{}),u.jsxs("div",{className:"flex flex_col MaxWH location",style:{width:"100%",maxWidth:"100%",overflow:"hidden",margin:0,padding:0,display:"flex",flexDirection:"column",position:"relative"},children:[u.jsx(YD,{}),u.jsx(pD,{}),u.jsx(Ks,{}),u.jsx(QD,{}),u.jsx("div",{style:{margin:0,padding:0,width:"100%",position:"relative",top:0},children:u.jsxs(uw,{children:[u.jsx(Pt,{path:"/",element:u.jsx(_D,{})}),u.jsx(Pt,{path:"/competitions",element:u.jsx(vD,{})}),u.jsx(Pt,{path:"/ulricehamn",element:u.jsx(xD,{})}),u.jsx(Pt,{path:"/salen",element:u.jsx(ED,{})}),u.jsx(Pt,{path:"/hemsedal",element:u.jsx(bD,{})}),u.jsx(Pt,{path:"/kolmarden",element:u.jsx(TD,{})}),u.jsx(Pt,{path:"/trippeln",element:u.jsx(AD,{})}),u.jsx(Pt,{path:"/results",element:u.jsx(kD,{})}),u.jsx(Pt,{path:"/gallery",element:u.jsxs(u.Fragment,{children:[u.jsx(CD,{}),u.jsx(ID,{})]})}),u.jsx(Pt,{path:"/om-oss",element:u.jsx(jD,{})}),u.jsx(Pt,{path:"/regler",element:u.jsx(OD,{})}),u.jsx(Pt,{path:"/faq",element:u.jsx(PD,{})}),u.jsx(Pt,{path:"/historien-om-aim",element:u.jsx(UD,{})}),u.jsx(Pt,{path:"/senaste-nytt",element:u.jsx(HD,{})}),u.jsx(Pt,{path:"/news/:id",element:u.jsx(zD,{})}),u.jsx(Pt,{path:"/login",element:u.jsx(k0,{})}),u.jsx(Pt,{path:"login",element:u.jsx(k0,{})}),u.jsx(Pt,{path:"/content-manager",element:u.jsx(FD,{requireAdmin:!0,children:u.jsx(KD,{})})})]})}),u.jsx(yD,{})]})]})})})}));(function(){const s=sessionStorage.redirect;delete sessionStorage.redirect,s&&s!==location.href&&history.replaceState(null,null,s)})();const eO=document.getElementById("root");_S.createRoot(eO).render(u.jsx(dS.StrictMode,{children:u.jsx(JD,{})}));
//# sourceMappingURL=index-Din2GzSM.js.map
