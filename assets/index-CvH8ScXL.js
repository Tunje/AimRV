(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();function ug(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var fm={exports:{}},Ho={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tv;function XA(){if(Tv)return Ho;Tv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,l,c){var f=null;if(c!==void 0&&(f=""+c),l.key!==void 0&&(f=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:s,type:a,key:f,ref:l!==void 0?l:null,props:c}}return Ho.Fragment=e,Ho.jsx=n,Ho.jsxs=n,Ho}var bv;function WA(){return bv||(bv=1,fm.exports=XA()),fm.exports}var u=WA(),mm={exports:{}},je={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Av;function ZA(){if(Av)return je;Av=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.iterator;function w(C){return C===null||typeof C!="object"?null:(C=b&&C[b]||C["@@iterator"],typeof C=="function"?C:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,q={};function M(C,ie,me){this.props=C,this.context=ie,this.refs=q,this.updater=me||D}M.prototype.isReactComponent={},M.prototype.setState=function(C,ie){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,ie,"setState")},M.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function H(){}H.prototype=M.prototype;function G(C,ie,me){this.props=C,this.context=ie,this.refs=q,this.updater=me||D}var Q=G.prototype=new H;Q.constructor=G,O(Q,M.prototype),Q.isPureReactComponent=!0;var ee=Array.isArray,J={H:null,A:null,T:null,S:null},re=Object.prototype.hasOwnProperty;function V(C,ie,me,ue,he,Ie){return me=Ie.ref,{$$typeof:s,type:C,key:ie,ref:me!==void 0?me:null,props:Ie}}function N(C,ie){return V(C.type,ie,void 0,void 0,void 0,C.props)}function S(C){return typeof C=="object"&&C!==null&&C.$$typeof===s}function k(C){var ie={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(me){return ie[me]})}var R=/\/+/g;function L(C,ie){return typeof C=="object"&&C!==null&&C.key!=null?k(""+C.key):ie.toString(36)}function I(){}function Ce(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(I,I):(C.status="pending",C.then(function(ie){C.status==="pending"&&(C.status="fulfilled",C.value=ie)},function(ie){C.status==="pending"&&(C.status="rejected",C.reason=ie)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function Ae(C,ie,me,ue,he){var Ie=typeof C;(Ie==="undefined"||Ie==="boolean")&&(C=null);var Se=!1;if(C===null)Se=!0;else switch(Ie){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(C.$$typeof){case s:case e:Se=!0;break;case E:return Se=C._init,Ae(Se(C._payload),ie,me,ue,he)}}if(Se)return he=he(C),Se=ue===""?"."+L(C,0):ue,ee(he)?(me="",Se!=null&&(me=Se.replace(R,"$&/")+"/"),Ae(he,ie,me,"",function(ct){return ct})):he!=null&&(S(he)&&(he=N(he,me+(he.key==null||C&&C.key===he.key?"":(""+he.key).replace(R,"$&/")+"/")+Se)),ie.push(he)),1;Se=0;var vt=ue===""?".":ue+":";if(ee(C))for(var Ke=0;Ke<C.length;Ke++)ue=C[Ke],Ie=vt+L(ue,Ke),Se+=Ae(ue,ie,me,Ie,he);else if(Ke=w(C),typeof Ke=="function")for(C=Ke.call(C),Ke=0;!(ue=C.next()).done;)ue=ue.value,Ie=vt+L(ue,Ke++),Se+=Ae(ue,ie,me,Ie,he);else if(Ie==="object"){if(typeof C.then=="function")return Ae(Ce(C),ie,me,ue,he);throw ie=String(C),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return Se}function le(C,ie,me){if(C==null)return C;var ue=[],he=0;return Ae(C,ue,"","",function(Ie){return ie.call(me,Ie,he++)}),ue}function ye(C){if(C._status===-1){var ie=C._result;ie=ie(),ie.then(function(me){(C._status===0||C._status===-1)&&(C._status=1,C._result=me)},function(me){(C._status===0||C._status===-1)&&(C._status=2,C._result=me)}),C._status===-1&&(C._status=0,C._result=ie)}if(C._status===1)return C._result.default;throw C._result}var ce=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function ke(){}return je.Children={map:le,forEach:function(C,ie,me){le(C,function(){ie.apply(this,arguments)},me)},count:function(C){var ie=0;return le(C,function(){ie++}),ie},toArray:function(C){return le(C,function(ie){return ie})||[]},only:function(C){if(!S(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},je.Component=M,je.Fragment=n,je.Profiler=l,je.PureComponent=G,je.StrictMode=a,je.Suspense=p,je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,je.act=function(){throw Error("act(...) is not supported in production builds of React.")},je.cache=function(C){return function(){return C.apply(null,arguments)}},je.cloneElement=function(C,ie,me){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var ue=O({},C.props),he=C.key,Ie=void 0;if(ie!=null)for(Se in ie.ref!==void 0&&(Ie=void 0),ie.key!==void 0&&(he=""+ie.key),ie)!re.call(ie,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&ie.ref===void 0||(ue[Se]=ie[Se]);var Se=arguments.length-2;if(Se===1)ue.children=me;else if(1<Se){for(var vt=Array(Se),Ke=0;Ke<Se;Ke++)vt[Ke]=arguments[Ke+2];ue.children=vt}return V(C.type,he,void 0,void 0,Ie,ue)},je.createContext=function(C){return C={$$typeof:f,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:c,_context:C},C},je.createElement=function(C,ie,me){var ue,he={},Ie=null;if(ie!=null)for(ue in ie.key!==void 0&&(Ie=""+ie.key),ie)re.call(ie,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(he[ue]=ie[ue]);var Se=arguments.length-2;if(Se===1)he.children=me;else if(1<Se){for(var vt=Array(Se),Ke=0;Ke<Se;Ke++)vt[Ke]=arguments[Ke+2];he.children=vt}if(C&&C.defaultProps)for(ue in Se=C.defaultProps,Se)he[ue]===void 0&&(he[ue]=Se[ue]);return V(C,Ie,void 0,void 0,null,he)},je.createRef=function(){return{current:null}},je.forwardRef=function(C){return{$$typeof:g,render:C}},je.isValidElement=S,je.lazy=function(C){return{$$typeof:E,_payload:{_status:-1,_result:C},_init:ye}},je.memo=function(C,ie){return{$$typeof:_,type:C,compare:ie===void 0?null:ie}},je.startTransition=function(C){var ie=J.T,me={};J.T=me;try{var ue=C(),he=J.S;he!==null&&he(me,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(ke,ce)}catch(Ie){ce(Ie)}finally{J.T=ie}},je.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},je.use=function(C){return J.H.use(C)},je.useActionState=function(C,ie,me){return J.H.useActionState(C,ie,me)},je.useCallback=function(C,ie){return J.H.useCallback(C,ie)},je.useContext=function(C){return J.H.useContext(C)},je.useDebugValue=function(){},je.useDeferredValue=function(C,ie){return J.H.useDeferredValue(C,ie)},je.useEffect=function(C,ie){return J.H.useEffect(C,ie)},je.useId=function(){return J.H.useId()},je.useImperativeHandle=function(C,ie,me){return J.H.useImperativeHandle(C,ie,me)},je.useInsertionEffect=function(C,ie){return J.H.useInsertionEffect(C,ie)},je.useLayoutEffect=function(C,ie){return J.H.useLayoutEffect(C,ie)},je.useMemo=function(C,ie){return J.H.useMemo(C,ie)},je.useOptimistic=function(C,ie){return J.H.useOptimistic(C,ie)},je.useReducer=function(C,ie,me){return J.H.useReducer(C,ie,me)},je.useRef=function(C){return J.H.useRef(C)},je.useState=function(C){return J.H.useState(C)},je.useSyncExternalStore=function(C,ie,me){return J.H.useSyncExternalStore(C,ie,me)},je.useTransition=function(){return J.H.useTransition()},je.version="19.0.0",je}var wv;function hg(){return wv||(wv=1,mm.exports=ZA()),mm.exports}var P=hg();const JA=ug(P);var gm={exports:{}},zo={},pm={exports:{}},_m={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sv;function ew(){return Sv||(Sv=1,function(s){function e(le,ye){var ce=le.length;le.push(ye);e:for(;0<ce;){var ke=ce-1>>>1,C=le[ke];if(0<l(C,ye))le[ke]=ye,le[ce]=C,ce=ke;else break e}}function n(le){return le.length===0?null:le[0]}function a(le){if(le.length===0)return null;var ye=le[0],ce=le.pop();if(ce!==ye){le[0]=ce;e:for(var ke=0,C=le.length,ie=C>>>1;ke<ie;){var me=2*(ke+1)-1,ue=le[me],he=me+1,Ie=le[he];if(0>l(ue,ce))he<C&&0>l(Ie,ue)?(le[ke]=Ie,le[he]=ce,ke=he):(le[ke]=ue,le[me]=ce,ke=me);else if(he<C&&0>l(Ie,ce))le[ke]=Ie,le[he]=ce,ke=he;else break e}}return ye}function l(le,ye){var ce=le.sortIndex-ye.sortIndex;return ce!==0?ce:le.id-ye.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var f=Date,g=f.now();s.unstable_now=function(){return f.now()-g}}var p=[],_=[],E=1,b=null,w=3,D=!1,O=!1,q=!1,M=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function Q(le){for(var ye=n(_);ye!==null;){if(ye.callback===null)a(_);else if(ye.startTime<=le)a(_),ye.sortIndex=ye.expirationTime,e(p,ye);else break;ye=n(_)}}function ee(le){if(q=!1,Q(le),!O)if(n(p)!==null)O=!0,Ce();else{var ye=n(_);ye!==null&&Ae(ee,ye.startTime-le)}}var J=!1,re=-1,V=5,N=-1;function S(){return!(s.unstable_now()-N<V)}function k(){if(J){var le=s.unstable_now();N=le;var ye=!0;try{e:{O=!1,q&&(q=!1,H(re),re=-1),D=!0;var ce=w;try{t:{for(Q(le),b=n(p);b!==null&&!(b.expirationTime>le&&S());){var ke=b.callback;if(typeof ke=="function"){b.callback=null,w=b.priorityLevel;var C=ke(b.expirationTime<=le);if(le=s.unstable_now(),typeof C=="function"){b.callback=C,Q(le),ye=!0;break t}b===n(p)&&a(p),Q(le)}else a(p);b=n(p)}if(b!==null)ye=!0;else{var ie=n(_);ie!==null&&Ae(ee,ie.startTime-le),ye=!1}}break e}finally{b=null,w=ce,D=!1}ye=void 0}}finally{ye?R():J=!1}}}var R;if(typeof G=="function")R=function(){G(k)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,I=L.port2;L.port1.onmessage=k,R=function(){I.postMessage(null)}}else R=function(){M(k,0)};function Ce(){J||(J=!0,R())}function Ae(le,ye){re=M(function(){le(s.unstable_now())},ye)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(le){le.callback=null},s.unstable_continueExecution=function(){O||D||(O=!0,Ce())},s.unstable_forceFrameRate=function(le){0>le||125<le?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<le?Math.floor(1e3/le):5},s.unstable_getCurrentPriorityLevel=function(){return w},s.unstable_getFirstCallbackNode=function(){return n(p)},s.unstable_next=function(le){switch(w){case 1:case 2:case 3:var ye=3;break;default:ye=w}var ce=w;w=ye;try{return le()}finally{w=ce}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(le,ye){switch(le){case 1:case 2:case 3:case 4:case 5:break;default:le=3}var ce=w;w=le;try{return ye()}finally{w=ce}},s.unstable_scheduleCallback=function(le,ye,ce){var ke=s.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?ke+ce:ke):ce=ke,le){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=ce+C,le={id:E++,callback:ye,priorityLevel:le,startTime:ce,expirationTime:C,sortIndex:-1},ce>ke?(le.sortIndex=ce,e(_,le),n(p)===null&&le===n(_)&&(q?(H(re),re=-1):q=!0,Ae(ee,ce-ke))):(le.sortIndex=C,e(p,le),O||D||(O=!0,Ce())),le},s.unstable_shouldYield=S,s.unstable_wrapCallback=function(le){var ye=w;return function(){var ce=w;w=ye;try{return le.apply(this,arguments)}finally{w=ce}}}}(_m)),_m}var Nv;function tw(){return Nv||(Nv=1,pm.exports=ew()),pm.exports}var ym={exports:{}},Zt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rv;function nw(){if(Rv)return Zt;Rv=1;var s=hg();function e(p){var _="https://react.dev/errors/"+p;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)_+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(p,_,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:p,containerInfo:_,implementation:E}}var f=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,_){if(p==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Zt.createPortal=function(p,_){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(p,_,null,E)},Zt.flushSync=function(p){var _=f.T,E=a.p;try{if(f.T=null,a.p=2,p)return p()}finally{f.T=_,a.p=E,a.d.f()}},Zt.preconnect=function(p,_){typeof p=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(p,_))},Zt.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},Zt.preinit=function(p,_){if(typeof p=="string"&&_&&typeof _.as=="string"){var E=_.as,b=g(E,_.crossOrigin),w=typeof _.integrity=="string"?_.integrity:void 0,D=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;E==="style"?a.d.S(p,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:D}):E==="script"&&a.d.X(p,{crossOrigin:b,integrity:w,fetchPriority:D,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Zt.preinitModule=function(p,_){if(typeof p=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var E=g(_.as,_.crossOrigin);a.d.M(p,{crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(p)},Zt.preload=function(p,_){if(typeof p=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var E=_.as,b=g(E,_.crossOrigin);a.d.L(p,E,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Zt.preloadModule=function(p,_){if(typeof p=="string")if(_){var E=g(_.as,_.crossOrigin);a.d.m(p,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(p)},Zt.requestFormReset=function(p){a.d.r(p)},Zt.unstable_batchedUpdates=function(p,_){return p(_)},Zt.useFormState=function(p,_,E){return f.H.useFormState(p,_,E)},Zt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Zt.version="19.0.0",Zt}var kv;function y0(){if(kv)return ym.exports;kv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),ym.exports=nw(),ym.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iv;function sw(){if(Iv)return zo;Iv=1;var s=tw(),e=hg(),n=y0();function a(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)i+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var c=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),D=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),Q=Symbol.for("react.offscreen"),ee=Symbol.for("react.memo_cache_sentinel"),J=Symbol.iterator;function re(t){return t===null||typeof t!="object"?null:(t=J&&t[J]||t["@@iterator"],typeof t=="function"?t:null)}var V=Symbol.for("react.client.reference");function N(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===V?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case p:return"Fragment";case g:return"Portal";case E:return"Profiler";case _:return"StrictMode";case q:return"Suspense";case M:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case D:return(t.displayName||"Context")+".Provider";case w:return(t._context.displayName||"Context")+".Consumer";case O:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case H:return i=t.displayName||null,i!==null?i:N(t.type)||"Memo";case G:i=t._payload,t=t._init;try{return N(t(i))}catch{}}return null}var S=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,k=Object.assign,R,L;function I(t){if(R===void 0)try{throw Error()}catch(r){var i=r.stack.trim().match(/\n( *(at )?)/);R=i&&i[1]||"",L=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+R+t+L}var Ce=!1;function Ae(t,i){if(!t||Ce)return"";Ce=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(W){var Y=W}Reflect.construct(t,[],ae)}else{try{ae.call()}catch(W){Y=W}t.call(ae.prototype)}}else{try{throw Error()}catch(W){Y=W}(ae=t())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(W){if(W&&Y&&typeof W.stack=="string")return[W.stack,Y.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=o.DetermineComponentFrameRoot(),x=m[0],T=m[1];if(x&&T){var j=x.split(`
`),B=T.split(`
`);for(d=o=0;o<j.length&&!j[o].includes("DetermineComponentFrameRoot");)o++;for(;d<B.length&&!B[d].includes("DetermineComponentFrameRoot");)d++;if(o===j.length||d===B.length)for(o=j.length-1,d=B.length-1;1<=o&&0<=d&&j[o]!==B[d];)d--;for(;1<=o&&0<=d;o--,d--)if(j[o]!==B[d]){if(o!==1||d!==1)do if(o--,d--,0>d||j[o]!==B[d]){var Z=`
`+j[o].replace(" at new "," at ");return t.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",t.displayName)),Z}while(1<=o&&0<=d);break}}}finally{Ce=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?I(r):""}function le(t){switch(t.tag){case 26:case 27:case 5:return I(t.type);case 16:return I("Lazy");case 13:return I("Suspense");case 19:return I("SuspenseList");case 0:case 15:return t=Ae(t.type,!1),t;case 11:return t=Ae(t.type.render,!1),t;case 1:return t=Ae(t.type,!0),t;default:return""}}function ye(t){try{var i="";do i+=le(t),t=t.return;while(t);return i}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function ce(t){var i=t,r=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(r=i.return),t=i.return;while(t)}return i.tag===3?r:null}function ke(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function C(t){if(ce(t)!==t)throw Error(a(188))}function ie(t){var i=t.alternate;if(!i){if(i=ce(t),i===null)throw Error(a(188));return i!==t?null:t}for(var r=t,o=i;;){var d=r.return;if(d===null)break;var m=d.alternate;if(m===null){if(o=d.return,o!==null){r=o;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===r)return C(d),t;if(m===o)return C(d),i;m=m.sibling}throw Error(a(188))}if(r.return!==o.return)r=d,o=m;else{for(var x=!1,T=d.child;T;){if(T===r){x=!0,r=d,o=m;break}if(T===o){x=!0,o=d,r=m;break}T=T.sibling}if(!x){for(T=m.child;T;){if(T===r){x=!0,r=m,o=d;break}if(T===o){x=!0,o=m,r=d;break}T=T.sibling}if(!x)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:i}function me(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=me(t),i!==null)return i;t=t.sibling}return null}var ue=Array.isArray,he=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ie={pending:!1,data:null,method:null,action:null},Se=[],vt=-1;function Ke(t){return{current:t}}function ct(t){0>vt||(t.current=Se[vt],Se[vt]=null,vt--)}function Xe(t,i){vt++,Se[vt]=t.current,t.current=i}var sn=Ke(null),ks=Ke(null),Rn=Ke(null),mi=Ke(null);function gi(t,i){switch(Xe(Rn,i),Xe(ks,t),Xe(sn,null),t=i.nodeType,t){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?Wy(i):0;break;default:if(t=t===8?i.parentNode:i,i=t.tagName,t=t.namespaceURI)t=Wy(t),i=Zy(t,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ct(sn),Xe(sn,i)}function Is(){ct(sn),ct(ks),ct(Rn)}function Ml(t){t.memoizedState!==null&&Xe(mi,t);var i=sn.current,r=Zy(i,t.type);i!==r&&(Xe(ks,t),Xe(sn,r))}function pr(t){ks.current===t&&(ct(sn),ct(ks)),mi.current===t&&(ct(mi),Lo._currentValue=Ie)}var _r=Object.prototype.hasOwnProperty,xa=s.unstable_scheduleCallback,yr=s.unstable_cancelCallback,md=s.unstable_shouldYield,Ll=s.unstable_requestPaint,dn=s.unstable_now,Rc=s.unstable_getCurrentPriorityLevel,wt=s.unstable_ImmediatePriority,Ot=s.unstable_UserBlockingPriority,js=s.unstable_NormalPriority,kc=s.unstable_LowPriority,Vl=s.unstable_IdlePriority,gd=s.log,Ea=s.unstable_setDisableYieldValue,pi=null,Xt=null;function Pl(t){if(Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(pi,t,void 0,(t.current.flags&128)===128)}catch{}}function is(t){if(typeof gd=="function"&&Ea(t),Xt&&typeof Xt.setStrictMode=="function")try{Xt.setStrictMode(pi,t)}catch{}}var an=Math.clz32?Math.clz32:jc,Ul=Math.log,Ic=Math.LN2;function jc(t){return t>>>=0,t===0?32:31-(Ul(t)/Ic|0)|0}var as=128,_i=4194304;function Gn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function kn(t,i){var r=t.pendingLanes;if(r===0)return 0;var o=0,d=t.suspendedLanes,m=t.pingedLanes,x=t.warmLanes;t=t.finishedLanes!==0;var T=r&134217727;return T!==0?(r=T&~d,r!==0?o=Gn(r):(m&=T,m!==0?o=Gn(m):t||(x=T&~x,x!==0&&(o=Gn(x))))):(T=r&~d,T!==0?o=Gn(T):m!==0?o=Gn(m):t||(x=r&~x,x!==0&&(o=Gn(x)))),o===0?0:i!==0&&i!==o&&(i&d)===0&&(d=o&-o,x=i&-i,d>=x||d===32&&(x&4194176)!==0)?i:o}function yi(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function vr(t,i){switch(t){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bl(){var t=as;return as<<=1,(as&4194176)===0&&(as=128),t}function vi(){var t=_i;return _i<<=1,(_i&62914560)===0&&(_i=4194304),t}function xr(t){for(var i=[],r=0;31>r;r++)i.push(t);return i}function pt(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Cc(t,i,r,o,d,m){var x=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var T=t.entanglements,j=t.expirationTimes,B=t.hiddenUpdates;for(r=x&~r;0<r;){var Z=31-an(r),ae=1<<Z;T[Z]=0,j[Z]=-1;var Y=B[Z];if(Y!==null)for(B[Z]=null,Z=0;Z<Y.length;Z++){var W=Y[Z];W!==null&&(W.lane&=-536870913)}r&=~ae}o!==0&&xi(t,o,0),m!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=m&~(x&~i))}function xi(t,i,r){t.pendingLanes|=i,t.suspendedLanes&=~i;var o=31-an(i);t.entangledLanes|=i,t.entanglements[o]=t.entanglements[o]|1073741824|r&4194218}function Ei(t,i){var r=t.entangledLanes|=i;for(t=t.entanglements;r;){var o=31-an(r),d=1<<o;d&i|t[o]&i&&(t[o]|=i),r&=~d}}function Dc(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Oc(){var t=he.p;return t!==0?t:(t=window.event,t===void 0?32:pv(t.type))}function Ti(t,i){var r=he.p;try{return he.p=t,i()}finally{he.p=r}}var rs=Math.random().toString(36).slice(2),Mt="__reactFiber$"+rs,St="__reactProps$"+rs,Cs="__reactContainer$"+rs,Ta="__reactEvents$"+rs,Er="__reactListeners$"+rs,ls="__reactHandles$"+rs,Hl="__reactResources$"+rs,bi="__reactMarker$"+rs;function ba(t){delete t[Mt],delete t[St],delete t[Ta],delete t[Er],delete t[ls]}function $n(t){var i=t[Mt];if(i)return i;for(var r=t.parentNode;r;){if(i=r[Cs]||r[Mt]){if(r=i.alternate,i.child!==null||r!==null&&r.child!==null)for(t=tv(t);t!==null;){if(r=t[Mt])return r;t=tv(t)}return i}t=r,r=t.parentNode}return null}function Ds(t){if(t=t[Mt]||t[Cs]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function Ai(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(a(33))}function wi(t){var i=t[Hl];return i||(i=t[Hl]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function at(t){t[bi]=!0}var zl=new Set,Tr={};function _n(t,i){fn(t,i),fn(t+"Capture",i)}function fn(t,i){for(Tr[t]=i,t=0;t<i.length;t++)zl.add(i[t])}var yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pd=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ql={},Kl={};function Mc(t){return _r.call(Kl,t)?!0:_r.call(ql,t)?!1:pd.test(t)?Kl[t]=!0:(ql[t]=!0,!1)}function Si(t,i,r){if(Mc(i))if(r===null)t.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+r)}}function Ni(t,i,r){if(r===null)t.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+r)}}function In(t,i,r,o){if(o===null)t.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(i,r,""+o)}}function rn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Lc(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function _d(t){var i=Lc(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),o=""+t[i];if(!t.hasOwnProperty(i)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var d=r.get,m=r.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return d.call(this)},set:function(x){o=""+x,m.call(this,x)}}),Object.defineProperty(t,i,{enumerable:r.enumerable}),{getValue:function(){return o},setValue:function(x){o=""+x},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Aa(t){t._valueTracker||(t._valueTracker=_d(t))}function Fl(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var r=i.getValue(),o="";return t&&(o=Lc(t)?t.checked?"true":"false":t.value),t=o,t!==r?(i.setValue(t),!0):!1}function br(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Os=/[\n"\\]/g;function ut(t){return t.replace(Os,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ri(t,i,r,o,d,m,x,T){t.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?t.type=x:t.removeAttribute("type"),i!=null?x==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+rn(i)):t.value!==""+rn(i)&&(t.value=""+rn(i)):x!=="submit"&&x!=="reset"||t.removeAttribute("value"),i!=null?Ar(t,x,rn(i)):r!=null?Ar(t,x,rn(r)):o!=null&&t.removeAttribute("value"),d==null&&m!=null&&(t.defaultChecked=!!m),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+rn(T):t.removeAttribute("name")}function wa(t,i,r,o,d,m,x,T){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),i!=null||r!=null){if(!(m!=="submit"&&m!=="reset"||i!=null))return;r=r!=null?""+rn(r):"",i=i!=null?""+rn(i):r,T||i===t.value||(t.value=i),t.defaultValue=i}o=o??d,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=T?t.checked:!!o,t.defaultChecked=!!o,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(t.name=x)}function Ar(t,i,r){i==="number"&&br(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Fe(t,i,r,o){if(t=t.options,i){i={};for(var d=0;d<r.length;d++)i["$"+r[d]]=!0;for(r=0;r<t.length;r++)d=i.hasOwnProperty("$"+t[r].value),t[r].selected!==d&&(t[r].selected=d),d&&o&&(t[r].defaultSelected=!0)}else{for(r=""+rn(r),i=null,d=0;d<t.length;d++){if(t[d].value===r){t[d].selected=!0,o&&(t[d].defaultSelected=!0);return}i!==null||t[d].disabled||(i=t[d])}i!==null&&(i.selected=!0)}}function Sa(t,i,r){if(i!=null&&(i=""+rn(i),i!==t.value&&(t.value=i),r==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=r!=null?""+rn(r):""}function ki(t,i,r,o){if(i==null){if(o!=null){if(r!=null)throw Error(a(92));if(ue(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),i=r}r=rn(i),t.defaultValue=r,o=t.textContent,o===r&&o!==""&&o!==null&&(t.value=o)}function jn(t,i){if(i){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=i;return}}t.textContent=i}var yd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Gl(t,i,r){var o=i.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":o?t.setProperty(i,r):typeof r!="number"||r===0||yd.has(i)?i==="float"?t.cssFloat=r:t[i]=(""+r).trim():t[i]=r+"px"}function Vc(t,i,r){if(i!=null&&typeof i!="object")throw Error(a(62));if(t=t.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var d in i)o=i[d],i.hasOwnProperty(d)&&r[d]!==o&&Gl(t,d,o)}else for(var m in i)i.hasOwnProperty(m)&&Gl(t,m,i[m])}function $l(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function os(t){return xd.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Cn=null;function wr(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ms=null,Ls=null;function Vs(t){var i=Ds(t);if(i&&(t=i.stateNode)){var r=t[St]||null;e:switch(t=i.stateNode,i.type){case"input":if(Ri(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),i=r.name,r.type==="radio"&&i!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+ut(""+i)+'"][type="radio"]'),i=0;i<r.length;i++){var o=r[i];if(o!==t&&o.form===t.form){var d=o[St]||null;if(!d)throw Error(a(90));Ri(o,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(i=0;i<r.length;i++)o=r[i],o.form===t.form&&Fl(o)}break e;case"textarea":Sa(t,r.value,r.defaultValue);break e;case"select":i=r.value,i!=null&&Fe(t,!!r.multiple,i,!1)}}}var Ql=!1;function Pc(t,i,r){if(Ql)return t(i,r);Ql=!0;try{var o=t(i);return o}finally{if(Ql=!1,(Ms!==null||Ls!==null)&&(ku(),Ms&&(i=Ms,t=Ls,Ls=Ms=null,Vs(i),t)))for(i=0;i<t.length;i++)Vs(t[i])}}function Na(t,i){var r=t.stateNode;if(r===null)return null;var o=r[St]||null;if(o===null)return null;r=o[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,i,typeof r));return r}var Dn=!1;if(yn)try{var Ra={};Object.defineProperty(Ra,"passive",{get:function(){Dn=!0}}),window.addEventListener("test",Ra,Ra),window.removeEventListener("test",Ra,Ra)}catch{Dn=!1}var cs=null,Ii=null,Ps=null;function Yl(){if(Ps)return Ps;var t,i=Ii,r=i.length,o,d="value"in cs?cs.value:cs.textContent,m=d.length;for(t=0;t<r&&i[t]===d[t];t++);var x=r-t;for(o=1;o<=x&&i[r-o]===d[m-o];o++);return Ps=d.slice(t,1<o?1-o:void 0)}function us(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function hs(){return!0}function Xl(){return!1}function Lt(t){function i(r,o,d,m,x){this._reactName=r,this._targetInst=d,this.type=o,this.nativeEvent=m,this.target=x,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(r=t[T],this[T]=r?r(m):m[T]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?hs:Xl,this.isPropagationStopped=Xl,this}return k(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=hs)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=hs)},persist:function(){},isPersistent:hs}),i}var Qe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sr=Lt(Qe),ka=k({},Qe,{view:0,detail:0}),Uc=Lt(ka),Nr,Rr,ds,Ia=k({},ka,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Da,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ds&&(ds&&t.type==="mousemove"?(Nr=t.screenX-ds.screenX,Rr=t.screenY-ds.screenY):Rr=Nr=0,ds=t),Nr)},movementY:function(t){return"movementY"in t?t.movementY:Rr}}),On=Lt(Ia),Bc=k({},Ia,{dataTransfer:0}),Ed=Lt(Bc),ja=k({},ka,{relatedTarget:0}),kr=Lt(ja),Wl=k({},Qe,{animationName:0,elapsedTime:0,pseudoElement:0}),Ir=Lt(Wl),Hc=k({},Qe,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),jr=Lt(Hc),Td=k({},Qe,{data:0}),Zl=Lt(Td),Ca={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jl(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=qc[t])?!!i[t]:!1}function Da(){return Jl}var Kc=k({},ka,{key:function(t){if(t.key){var i=Ca[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=us(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?zc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Da,charCode:function(t){return t.type==="keypress"?us(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?us(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Cr=Lt(Kc),Fc=k({},Ia,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),eo=Lt(Fc),Us=k({},ka,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Da}),Gc=Lt(Us),$c=k({},Qe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qc=Lt($c),Yc=k({},Ia,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Dr=Lt(Yc),ln=k({},Qe,{newState:0,oldState:0}),Xc=Lt(ln),Wc=[9,13,27,32],fs=yn&&"CompositionEvent"in window,h=null;yn&&"documentMode"in document&&(h=document.documentMode);var y=yn&&"TextEvent"in window&&!h,v=yn&&(!fs||h&&8<h&&11>=h),A=" ",F=!1;function X(t,i){switch(t){case"keyup":return Wc.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oe(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Be=!1;function Nt(t,i){switch(t){case"compositionend":return oe(i);case"keypress":return i.which!==32?null:(F=!0,A);case"textInput":return t=i.data,t===A&&F?null:t;default:return null}}function He(t,i){if(Be)return t==="compositionend"||!fs&&X(t,i)?(t=Yl(),Ps=Ii=cs=null,Be=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return v&&i.locale!=="ko"?null:i.data;default:return null}}var Vt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rt(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Vt[t.type]:i==="textarea"}function Bs(t,i,r,o){Ms?Ls?Ls.push(o):Ls=[o]:Ms=o,i=Ou(i,"onChange"),0<i.length&&(r=new Sr("onChange","change",null,r,o),t.push({event:r,listeners:i}))}var zt=null,ms=null;function to(t){Gy(t,0)}function Zc(t){var i=Ai(t);if(Fl(i))return t}function Ep(t,i){if(t==="change")return i}var Tp=!1;if(yn){var bd;if(yn){var Ad="oninput"in document;if(!Ad){var bp=document.createElement("div");bp.setAttribute("oninput","return;"),Ad=typeof bp.oninput=="function"}bd=Ad}else bd=!1;Tp=bd&&(!document.documentMode||9<document.documentMode)}function Ap(){zt&&(zt.detachEvent("onpropertychange",wp),ms=zt=null)}function wp(t){if(t.propertyName==="value"&&Zc(ms)){var i=[];Bs(i,ms,t,wr(t)),Pc(to,i)}}function Sb(t,i,r){t==="focusin"?(Ap(),zt=i,ms=r,zt.attachEvent("onpropertychange",wp)):t==="focusout"&&Ap()}function Nb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Zc(ms)}function Rb(t,i){if(t==="click")return Zc(i)}function kb(t,i){if(t==="input"||t==="change")return Zc(i)}function Ib(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var vn=typeof Object.is=="function"?Object.is:Ib;function no(t,i){if(vn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var r=Object.keys(t),o=Object.keys(i);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var d=r[o];if(!_r.call(i,d)||!vn(t[d],i[d]))return!1}return!0}function Sp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Np(t,i){var r=Sp(t);t=0;for(var o;r;){if(r.nodeType===3){if(o=t+r.textContent.length,t<=i&&o>=i)return{node:r,offset:i-t};t=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Sp(r)}}function Rp(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Rp(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function kp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=br(t.document);i instanceof t.HTMLIFrameElement;){try{var r=typeof i.contentWindow.location.href=="string"}catch{r=!1}if(r)t=i.contentWindow;else break;i=br(t.document)}return i}function wd(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}function jb(t,i){var r=kp(i);i=t.focusedElem;var o=t.selectionRange;if(r!==i&&i&&i.ownerDocument&&Rp(i.ownerDocument.documentElement,i)){if(o!==null&&wd(i)){if(t=o.start,r=o.end,r===void 0&&(r=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(r,i.value.length);else if(r=(t=i.ownerDocument||document)&&t.defaultView||window,r.getSelection){r=r.getSelection();var d=i.textContent.length,m=Math.min(o.start,d);o=o.end===void 0?m:Math.min(o.end,d),!r.extend&&m>o&&(d=o,o=m,m=d),d=Np(i,m);var x=Np(i,o);d&&x&&(r.rangeCount!==1||r.anchorNode!==d.node||r.anchorOffset!==d.offset||r.focusNode!==x.node||r.focusOffset!==x.offset)&&(t=t.createRange(),t.setStart(d.node,d.offset),r.removeAllRanges(),m>o?(r.addRange(t),r.extend(x.node,x.offset)):(t.setEnd(x.node,x.offset),r.addRange(t)))}}for(t=[],r=i;r=r.parentNode;)r.nodeType===1&&t.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)r=t[i],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var Cb=yn&&"documentMode"in document&&11>=document.documentMode,Or=null,Sd=null,so=null,Nd=!1;function Ip(t,i,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Nd||Or==null||Or!==br(o)||(o=Or,"selectionStart"in o&&wd(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),so&&no(so,o)||(so=o,o=Ou(Sd,"onSelect"),0<o.length&&(i=new Sr("onSelect","select",null,i,r),t.push({event:i,listeners:o}),i.target=Or)))}function Oa(t,i){var r={};return r[t.toLowerCase()]=i.toLowerCase(),r["Webkit"+t]="webkit"+i,r["Moz"+t]="moz"+i,r}var Mr={animationend:Oa("Animation","AnimationEnd"),animationiteration:Oa("Animation","AnimationIteration"),animationstart:Oa("Animation","AnimationStart"),transitionrun:Oa("Transition","TransitionRun"),transitionstart:Oa("Transition","TransitionStart"),transitioncancel:Oa("Transition","TransitionCancel"),transitionend:Oa("Transition","TransitionEnd")},Rd={},jp={};yn&&(jp=document.createElement("div").style,"AnimationEvent"in window||(delete Mr.animationend.animation,delete Mr.animationiteration.animation,delete Mr.animationstart.animation),"TransitionEvent"in window||delete Mr.transitionend.transition);function Ma(t){if(Rd[t])return Rd[t];if(!Mr[t])return t;var i=Mr[t],r;for(r in i)if(i.hasOwnProperty(r)&&r in jp)return Rd[t]=i[r];return t}var Cp=Ma("animationend"),Dp=Ma("animationiteration"),Op=Ma("animationstart"),Db=Ma("transitionrun"),Ob=Ma("transitionstart"),Mb=Ma("transitioncancel"),Mp=Ma("transitionend"),Lp=new Map,Vp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Qn(t,i){Lp.set(t,i),_n(i,[t])}var Mn=[],Lr=0,kd=0;function Jc(){for(var t=Lr,i=kd=Lr=0;i<t;){var r=Mn[i];Mn[i++]=null;var o=Mn[i];Mn[i++]=null;var d=Mn[i];Mn[i++]=null;var m=Mn[i];if(Mn[i++]=null,o!==null&&d!==null){var x=o.pending;x===null?d.next=d:(d.next=x.next,x.next=d),o.pending=d}m!==0&&Pp(r,d,m)}}function eu(t,i,r,o){Mn[Lr++]=t,Mn[Lr++]=i,Mn[Lr++]=r,Mn[Lr++]=o,kd|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Id(t,i,r,o){return eu(t,i,r,o),tu(t)}function ji(t,i){return eu(t,null,null,i),tu(t)}function Pp(t,i,r){t.lanes|=r;var o=t.alternate;o!==null&&(o.lanes|=r);for(var d=!1,m=t.return;m!==null;)m.childLanes|=r,o=m.alternate,o!==null&&(o.childLanes|=r),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(d=!0)),t=m,m=m.return;d&&i!==null&&t.tag===3&&(m=t.stateNode,d=31-an(r),m=m.hiddenUpdates,t=m[d],t===null?m[d]=[i]:t.push(i),i.lane=r|536870912)}function tu(t){if(50<ko)throw ko=0,Vf=null,Error(a(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Vr={},Up=new WeakMap;function Ln(t,i){if(typeof t=="object"&&t!==null){var r=Up.get(t);return r!==void 0?r:(i={value:t,source:i,stack:ye(i)},Up.set(t,i),i)}return{value:t,source:i,stack:ye(i)}}var Pr=[],Ur=0,nu=null,su=0,Vn=[],Pn=0,La=null,Hs=1,zs="";function Va(t,i){Pr[Ur++]=su,Pr[Ur++]=nu,nu=t,su=i}function Bp(t,i,r){Vn[Pn++]=Hs,Vn[Pn++]=zs,Vn[Pn++]=La,La=t;var o=Hs;t=zs;var d=32-an(o)-1;o&=~(1<<d),r+=1;var m=32-an(i)+d;if(30<m){var x=d-d%5;m=(o&(1<<x)-1).toString(32),o>>=x,d-=x,Hs=1<<32-an(i)+d|r<<d|o,zs=m+t}else Hs=1<<m|r<<d|o,zs=t}function jd(t){t.return!==null&&(Va(t,1),Bp(t,1,0))}function Cd(t){for(;t===nu;)nu=Pr[--Ur],Pr[Ur]=null,su=Pr[--Ur],Pr[Ur]=null;for(;t===La;)La=Vn[--Pn],Vn[Pn]=null,zs=Vn[--Pn],Vn[Pn]=null,Hs=Vn[--Pn],Vn[Pn]=null}var on=null,qt=null,Ge=!1,Yn=null,gs=!1,Dd=Error(a(519));function Pa(t){var i=Error(a(418,""));throw ro(Ln(i,t)),Dd}function Hp(t){var i=t.stateNode,r=t.type,o=t.memoizedProps;switch(i[Mt]=t,i[St]=o,r){case"dialog":Pe("cancel",i),Pe("close",i);break;case"iframe":case"object":case"embed":Pe("load",i);break;case"video":case"audio":for(r=0;r<jo.length;r++)Pe(jo[r],i);break;case"source":Pe("error",i);break;case"img":case"image":case"link":Pe("error",i),Pe("load",i);break;case"details":Pe("toggle",i);break;case"input":Pe("invalid",i),wa(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Aa(i);break;case"select":Pe("invalid",i);break;case"textarea":Pe("invalid",i),ki(i,o.value,o.defaultValue,o.children),Aa(i)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||i.textContent===""+r||o.suppressHydrationWarning===!0||Xy(i.textContent,r)?(o.popover!=null&&(Pe("beforetoggle",i),Pe("toggle",i)),o.onScroll!=null&&Pe("scroll",i),o.onScrollEnd!=null&&Pe("scrollend",i),o.onClick!=null&&(i.onclick=Mu),i=!0):i=!1,i||Pa(t)}function zp(t){for(on=t.return;on;)switch(on.tag){case 3:case 27:gs=!0;return;case 5:case 13:gs=!1;return;default:on=on.return}}function io(t){if(t!==on)return!1;if(!Ge)return zp(t),Ge=!0,!1;var i=!1,r;if((r=t.tag!==3&&t.tag!==27)&&((r=t.tag===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||em(t.type,t.memoizedProps)),r=!r),r&&(i=!0),i&&qt&&Pa(t),zp(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(i===0){qt=Wn(t.nextSibling);break e}i--}else r!=="$"&&r!=="$!"&&r!=="$?"||i++;t=t.nextSibling}qt=null}}else qt=on?Wn(t.stateNode.nextSibling):null;return!0}function ao(){qt=on=null,Ge=!1}function ro(t){Yn===null?Yn=[t]:Yn.push(t)}var lo=Error(a(460)),qp=Error(a(474)),Od={then:function(){}};function Kp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function iu(){}function Fp(t,i,r){switch(r=t[r],r===void 0?t.push(i):r!==i&&(i.then(iu,iu),i=r),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,t===lo?Error(a(483)):t;default:if(typeof i.status=="string")i.then(iu,iu);else{if(t=et,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=i,t.status="pending",t.then(function(o){if(i.status==="pending"){var d=i;d.status="fulfilled",d.value=o}},function(o){if(i.status==="pending"){var d=i;d.status="rejected",d.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,t===lo?Error(a(483)):t}throw oo=i,lo}}var oo=null;function Gp(){if(oo===null)throw Error(a(459));var t=oo;return oo=null,t}var Br=null,co=0;function au(t){var i=co;return co+=1,Br===null&&(Br=[]),Fp(Br,t,i)}function uo(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function ru(t,i){throw i.$$typeof===c?Error(a(525)):(t=Object.prototype.toString.call(i),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function $p(t){var i=t._init;return i(t._payload)}function Qp(t){function i(K,U){if(t){var $=K.deletions;$===null?(K.deletions=[U],K.flags|=16):$.push(U)}}function r(K,U){if(!t)return null;for(;U!==null;)i(K,U),U=U.sibling;return null}function o(K){for(var U=new Map;K!==null;)K.key!==null?U.set(K.key,K):U.set(K.index,K),K=K.sibling;return U}function d(K,U){return K=qi(K,U),K.index=0,K.sibling=null,K}function m(K,U,$){return K.index=$,t?($=K.alternate,$!==null?($=$.index,$<U?(K.flags|=33554434,U):$):(K.flags|=33554434,U)):(K.flags|=1048576,U)}function x(K){return t&&K.alternate===null&&(K.flags|=33554434),K}function T(K,U,$,te){return U===null||U.tag!==6?(U=kf($,K.mode,te),U.return=K,U):(U=d(U,$),U.return=K,U)}function j(K,U,$,te){var ge=$.type;return ge===p?Z(K,U,$.props.children,te,$.key):U!==null&&(U.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===G&&$p(ge)===U.type)?(U=d(U,$.props),uo(U,$),U.return=K,U):(U=Au($.type,$.key,$.props,null,K.mode,te),uo(U,$),U.return=K,U)}function B(K,U,$,te){return U===null||U.tag!==4||U.stateNode.containerInfo!==$.containerInfo||U.stateNode.implementation!==$.implementation?(U=If($,K.mode,te),U.return=K,U):(U=d(U,$.children||[]),U.return=K,U)}function Z(K,U,$,te,ge){return U===null||U.tag!==7?(U=Qa($,K.mode,te,ge),U.return=K,U):(U=d(U,$),U.return=K,U)}function ae(K,U,$){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=kf(""+U,K.mode,$),U.return=K,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case f:return $=Au(U.type,U.key,U.props,null,K.mode,$),uo($,U),$.return=K,$;case g:return U=If(U,K.mode,$),U.return=K,U;case G:var te=U._init;return U=te(U._payload),ae(K,U,$)}if(ue(U)||re(U))return U=Qa(U,K.mode,$,null),U.return=K,U;if(typeof U.then=="function")return ae(K,au(U),$);if(U.$$typeof===D)return ae(K,Eu(K,U),$);ru(K,U)}return null}function Y(K,U,$,te){var ge=U!==null?U.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return ge!==null?null:T(K,U,""+$,te);if(typeof $=="object"&&$!==null){switch($.$$typeof){case f:return $.key===ge?j(K,U,$,te):null;case g:return $.key===ge?B(K,U,$,te):null;case G:return ge=$._init,$=ge($._payload),Y(K,U,$,te)}if(ue($)||re($))return ge!==null?null:Z(K,U,$,te,null);if(typeof $.then=="function")return Y(K,U,au($),te);if($.$$typeof===D)return Y(K,U,Eu(K,$),te);ru(K,$)}return null}function W(K,U,$,te,ge){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return K=K.get($)||null,T(U,K,""+te,ge);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case f:return K=K.get(te.key===null?$:te.key)||null,j(U,K,te,ge);case g:return K=K.get(te.key===null?$:te.key)||null,B(U,K,te,ge);case G:var Oe=te._init;return te=Oe(te._payload),W(K,U,$,te,ge)}if(ue(te)||re(te))return K=K.get($)||null,Z(U,K,te,ge,null);if(typeof te.then=="function")return W(K,U,$,au(te),ge);if(te.$$typeof===D)return W(K,U,$,Eu(U,te),ge);ru(U,te)}return null}function pe(K,U,$,te){for(var ge=null,Oe=null,_e=U,xe=U=0,Bt=null;_e!==null&&xe<$.length;xe++){_e.index>xe?(Bt=_e,_e=null):Bt=_e.sibling;var $e=Y(K,_e,$[xe],te);if($e===null){_e===null&&(_e=Bt);break}t&&_e&&$e.alternate===null&&i(K,_e),U=m($e,U,xe),Oe===null?ge=$e:Oe.sibling=$e,Oe=$e,_e=Bt}if(xe===$.length)return r(K,_e),Ge&&Va(K,xe),ge;if(_e===null){for(;xe<$.length;xe++)_e=ae(K,$[xe],te),_e!==null&&(U=m(_e,U,xe),Oe===null?ge=_e:Oe.sibling=_e,Oe=_e);return Ge&&Va(K,xe),ge}for(_e=o(_e);xe<$.length;xe++)Bt=W(_e,K,xe,$[xe],te),Bt!==null&&(t&&Bt.alternate!==null&&_e.delete(Bt.key===null?xe:Bt.key),U=m(Bt,U,xe),Oe===null?ge=Bt:Oe.sibling=Bt,Oe=Bt);return t&&_e.forEach(function(Xi){return i(K,Xi)}),Ge&&Va(K,xe),ge}function Ne(K,U,$,te){if($==null)throw Error(a(151));for(var ge=null,Oe=null,_e=U,xe=U=0,Bt=null,$e=$.next();_e!==null&&!$e.done;xe++,$e=$.next()){_e.index>xe?(Bt=_e,_e=null):Bt=_e.sibling;var Xi=Y(K,_e,$e.value,te);if(Xi===null){_e===null&&(_e=Bt);break}t&&_e&&Xi.alternate===null&&i(K,_e),U=m(Xi,U,xe),Oe===null?ge=Xi:Oe.sibling=Xi,Oe=Xi,_e=Bt}if($e.done)return r(K,_e),Ge&&Va(K,xe),ge;if(_e===null){for(;!$e.done;xe++,$e=$.next())$e=ae(K,$e.value,te),$e!==null&&(U=m($e,U,xe),Oe===null?ge=$e:Oe.sibling=$e,Oe=$e);return Ge&&Va(K,xe),ge}for(_e=o(_e);!$e.done;xe++,$e=$.next())$e=W(_e,K,xe,$e.value,te),$e!==null&&(t&&$e.alternate!==null&&_e.delete($e.key===null?xe:$e.key),U=m($e,U,xe),Oe===null?ge=$e:Oe.sibling=$e,Oe=$e);return t&&_e.forEach(function(YA){return i(K,YA)}),Ge&&Va(K,xe),ge}function ft(K,U,$,te){if(typeof $=="object"&&$!==null&&$.type===p&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case f:e:{for(var ge=$.key;U!==null;){if(U.key===ge){if(ge=$.type,ge===p){if(U.tag===7){r(K,U.sibling),te=d(U,$.props.children),te.return=K,K=te;break e}}else if(U.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===G&&$p(ge)===U.type){r(K,U.sibling),te=d(U,$.props),uo(te,$),te.return=K,K=te;break e}r(K,U);break}else i(K,U);U=U.sibling}$.type===p?(te=Qa($.props.children,K.mode,te,$.key),te.return=K,K=te):(te=Au($.type,$.key,$.props,null,K.mode,te),uo(te,$),te.return=K,K=te)}return x(K);case g:e:{for(ge=$.key;U!==null;){if(U.key===ge)if(U.tag===4&&U.stateNode.containerInfo===$.containerInfo&&U.stateNode.implementation===$.implementation){r(K,U.sibling),te=d(U,$.children||[]),te.return=K,K=te;break e}else{r(K,U);break}else i(K,U);U=U.sibling}te=If($,K.mode,te),te.return=K,K=te}return x(K);case G:return ge=$._init,$=ge($._payload),ft(K,U,$,te)}if(ue($))return pe(K,U,$,te);if(re($)){if(ge=re($),typeof ge!="function")throw Error(a(150));return $=ge.call($),Ne(K,U,$,te)}if(typeof $.then=="function")return ft(K,U,au($),te);if($.$$typeof===D)return ft(K,U,Eu(K,$),te);ru(K,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,U!==null&&U.tag===6?(r(K,U.sibling),te=d(U,$),te.return=K,K=te):(r(K,U),te=kf($,K.mode,te),te.return=K,K=te),x(K)):r(K,U)}return function(K,U,$,te){try{co=0;var ge=ft(K,U,$,te);return Br=null,ge}catch(_e){if(_e===lo)throw _e;var Oe=zn(29,_e,null,K.mode);return Oe.lanes=te,Oe.return=K,Oe}finally{}}}var Ua=Qp(!0),Yp=Qp(!1),Hr=Ke(null),lu=Ke(0);function Xp(t,i){t=Js,Xe(lu,t),Xe(Hr,i),Js=t|i.baseLanes}function Md(){Xe(lu,Js),Xe(Hr,Hr.current)}function Ld(){Js=lu.current,ct(Hr),ct(lu)}var Un=Ke(null),ps=null;function Ci(t){var i=t.alternate;Xe(kt,kt.current&1),Xe(Un,t),ps===null&&(i===null||Hr.current!==null||i.memoizedState!==null)&&(ps=t)}function Wp(t){if(t.tag===22){if(Xe(kt,kt.current),Xe(Un,t),ps===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(ps=t)}}else Di()}function Di(){Xe(kt,kt.current),Xe(Un,Un.current)}function qs(t){ct(Un),ps===t&&(ps=null),ct(kt)}var kt=Ke(0);function ou(t){for(var i=t;i!==null;){if(i.tag===13){var r=i.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Lb=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(r,o){t.push(o)}};this.abort=function(){i.aborted=!0,t.forEach(function(r){return r()})}},Vb=s.unstable_scheduleCallback,Pb=s.unstable_NormalPriority,It={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vd(){return{controller:new Lb,data:new Map,refCount:0}}function ho(t){t.refCount--,t.refCount===0&&Vb(Pb,function(){t.controller.abort()})}var fo=null,Pd=0,zr=0,qr=null;function Ub(t,i){if(fo===null){var r=fo=[];Pd=0,zr=Ff(),qr={status:"pending",value:void 0,then:function(o){r.push(o)}}}return Pd++,i.then(Zp,Zp),i}function Zp(){if(--Pd===0&&fo!==null){qr!==null&&(qr.status="fulfilled");var t=fo;fo=null,zr=0,qr=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function Bb(t,i){var r=[],o={status:"pending",value:null,reason:null,then:function(d){r.push(d)}};return t.then(function(){o.status="fulfilled",o.value=i;for(var d=0;d<r.length;d++)(0,r[d])(i)},function(d){for(o.status="rejected",o.reason=d,d=0;d<r.length;d++)(0,r[d])(void 0)}),o}var Jp=S.S;S.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&Ub(t,i),Jp!==null&&Jp(t,i)};var Ba=Ke(null);function Ud(){var t=Ba.current;return t!==null?t:et.pooledCache}function cu(t,i){i===null?Xe(Ba,Ba.current):Xe(Ba,i.pool)}function e_(){var t=Ud();return t===null?null:{parent:It._currentValue,pool:t}}var Oi=0,De=null,We=null,xt=null,uu=!1,Kr=!1,Ha=!1,hu=0,mo=0,Fr=null,Hb=0;function _t(){throw Error(a(321))}function Bd(t,i){if(i===null)return!1;for(var r=0;r<i.length&&r<t.length;r++)if(!vn(t[r],i[r]))return!1;return!0}function Hd(t,i,r,o,d,m){return Oi=m,De=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,S.H=t===null||t.memoizedState===null?za:Mi,Ha=!1,m=r(o,d),Ha=!1,Kr&&(m=n_(i,r,o,d)),t_(t),m}function t_(t){S.H=_s;var i=We!==null&&We.next!==null;if(Oi=0,xt=We=De=null,uu=!1,mo=0,Fr=null,i)throw Error(a(300));t===null||Pt||(t=t.dependencies,t!==null&&xu(t)&&(Pt=!0))}function n_(t,i,r,o){De=t;var d=0;do{if(Kr&&(Fr=null),mo=0,Kr=!1,25<=d)throw Error(a(301));if(d+=1,xt=We=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}S.H=qa,m=i(r,o)}while(Kr);return m}function zb(){var t=S.H,i=t.useState()[0];return i=typeof i.then=="function"?go(i):i,t=t.useState()[0],(We!==null?We.memoizedState:null)!==t&&(De.flags|=1024),i}function zd(){var t=hu!==0;return hu=0,t}function qd(t,i,r){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~r}function Kd(t){if(uu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}uu=!1}Oi=0,xt=We=De=null,Kr=!1,mo=hu=0,Fr=null}function mn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?De.memoizedState=xt=t:xt=xt.next=t,xt}function Et(){if(We===null){var t=De.alternate;t=t!==null?t.memoizedState:null}else t=We.next;var i=xt===null?De.memoizedState:xt.next;if(i!==null)xt=i,We=t;else{if(t===null)throw De.alternate===null?Error(a(467)):Error(a(310));We=t,t={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},xt===null?De.memoizedState=xt=t:xt=xt.next=t}return xt}var du;du=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function go(t){var i=mo;return mo+=1,Fr===null&&(Fr=[]),t=Fp(Fr,t,i),i=De,(xt===null?i.memoizedState:xt.next)===null&&(i=i.alternate,S.H=i===null||i.memoizedState===null?za:Mi),t}function fu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return go(t);if(t.$$typeof===D)return Wt(t)}throw Error(a(438,String(t)))}function Fd(t){var i=null,r=De.updateQueue;if(r!==null&&(i=r.memoCache),i==null){var o=De.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(d){return d.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),r===null&&(r=du(),De.updateQueue=r),r.memoCache=i,r=i.data[i.index],r===void 0)for(r=i.data[i.index]=Array(t),o=0;o<t;o++)r[o]=ee;return i.index++,r}function Ks(t,i){return typeof i=="function"?i(t):i}function mu(t){var i=Et();return Gd(i,We,t)}function Gd(t,i,r){var o=t.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var d=t.baseQueue,m=o.pending;if(m!==null){if(d!==null){var x=d.next;d.next=m.next,m.next=x}i.baseQueue=d=m,o.pending=null}if(m=t.baseState,d===null)t.memoizedState=m;else{i=d.next;var T=x=null,j=null,B=i,Z=!1;do{var ae=B.lane&-536870913;if(ae!==B.lane?(ze&ae)===ae:(Oi&ae)===ae){var Y=B.revertLane;if(Y===0)j!==null&&(j=j.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),ae===zr&&(Z=!0);else if((Oi&Y)===Y){B=B.next,Y===zr&&(Z=!0);continue}else ae={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},j===null?(T=j=ae,x=m):j=j.next=ae,De.lanes|=Y,Ki|=Y;ae=B.action,Ha&&r(m,ae),m=B.hasEagerState?B.eagerState:r(m,ae)}else Y={lane:ae,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},j===null?(T=j=Y,x=m):j=j.next=Y,De.lanes|=ae,Ki|=ae;B=B.next}while(B!==null&&B!==i);if(j===null?x=m:j.next=T,!vn(m,t.memoizedState)&&(Pt=!0,Z&&(r=qr,r!==null)))throw r;t.memoizedState=m,t.baseState=x,t.baseQueue=j,o.lastRenderedState=m}return d===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function $d(t){var i=Et(),r=i.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var o=r.dispatch,d=r.pending,m=i.memoizedState;if(d!==null){r.pending=null;var x=d=d.next;do m=t(m,x.action),x=x.next;while(x!==d);vn(m,i.memoizedState)||(Pt=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),r.lastRenderedState=m}return[m,o]}function s_(t,i,r){var o=De,d=Et(),m=Ge;if(m){if(r===void 0)throw Error(a(407));r=r()}else r=i();var x=!vn((We||d).memoizedState,r);if(x&&(d.memoizedState=r,Pt=!0),d=d.queue,Xd(r_.bind(null,o,d,t),[t]),d.getSnapshot!==i||x||xt!==null&&xt.memoizedState.tag&1){if(o.flags|=2048,Gr(9,a_.bind(null,o,d,r,i),{destroy:void 0},null),et===null)throw Error(a(349));m||(Oi&60)!==0||i_(o,i,r)}return r}function i_(t,i,r){t.flags|=16384,t={getSnapshot:i,value:r},i=De.updateQueue,i===null?(i=du(),De.updateQueue=i,i.stores=[t]):(r=i.stores,r===null?i.stores=[t]:r.push(t))}function a_(t,i,r,o){i.value=r,i.getSnapshot=o,l_(i)&&o_(t)}function r_(t,i,r){return r(function(){l_(i)&&o_(t)})}function l_(t){var i=t.getSnapshot;t=t.value;try{var r=i();return!vn(t,r)}catch{return!0}}function o_(t){var i=ji(t,2);i!==null&&cn(i,t,2)}function Qd(t){var i=mn();if(typeof t=="function"){var r=t;if(t=r(),Ha){is(!0);try{r()}finally{is(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ks,lastRenderedState:t},i}function c_(t,i,r,o){return t.baseState=r,Gd(t,We,typeof o=="function"?o:Ks)}function qb(t,i,r,o,d){if(_u(t))throw Error(a(485));if(t=i.action,t!==null){var m={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){m.listeners.push(x)}};S.T!==null?r(!0):m.isTransition=!1,o(m),r=i.pending,r===null?(m.next=i.pending=m,u_(i,m)):(m.next=r.next,i.pending=r.next=m)}}function u_(t,i){var r=i.action,o=i.payload,d=t.state;if(i.isTransition){var m=S.T,x={};S.T=x;try{var T=r(d,o),j=S.S;j!==null&&j(x,T),h_(t,i,T)}catch(B){Yd(t,i,B)}finally{S.T=m}}else try{m=r(d,o),h_(t,i,m)}catch(B){Yd(t,i,B)}}function h_(t,i,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){d_(t,i,o)},function(o){return Yd(t,i,o)}):d_(t,i,r)}function d_(t,i,r){i.status="fulfilled",i.value=r,f_(i),t.state=r,i=t.pending,i!==null&&(r=i.next,r===i?t.pending=null:(r=r.next,i.next=r,u_(t,r)))}function Yd(t,i,r){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=r,f_(i),i=i.next;while(i!==o)}t.action=null}function f_(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function m_(t,i){return i}function g_(t,i){if(Ge){var r=et.formState;if(r!==null){e:{var o=De;if(Ge){if(qt){t:{for(var d=qt,m=gs;d.nodeType!==8;){if(!m){d=null;break t}if(d=Wn(d.nextSibling),d===null){d=null;break t}}m=d.data,d=m==="F!"||m==="F"?d:null}if(d){qt=Wn(d.nextSibling),o=d.data==="F!";break e}}Pa(o)}o=!1}o&&(i=r[0])}}return r=mn(),r.memoizedState=r.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:m_,lastRenderedState:i},r.queue=o,r=D_.bind(null,De,o),o.dispatch=r,o=Qd(!1),m=tf.bind(null,De,!1,o.queue),o=mn(),d={state:i,dispatch:null,action:t,pending:null},o.queue=d,r=qb.bind(null,De,d,m,r),d.dispatch=r,o.memoizedState=t,[i,r,!1]}function p_(t){var i=Et();return __(i,We,t)}function __(t,i,r){i=Gd(t,i,m_)[0],t=mu(Ks)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?go(i):i;var o=Et(),d=o.queue,m=d.dispatch;return r!==o.memoizedState&&(De.flags|=2048,Gr(9,Kb.bind(null,d,r),{destroy:void 0},null)),[i,m,t]}function Kb(t,i){t.action=i}function y_(t){var i=Et(),r=We;if(r!==null)return __(i,r,t);Et(),i=i.memoizedState,r=Et();var o=r.queue.dispatch;return r.memoizedState=t,[i,o,!1]}function Gr(t,i,r,o){return t={tag:t,create:i,inst:r,deps:o,next:null},i=De.updateQueue,i===null&&(i=du(),De.updateQueue=i),r=i.lastEffect,r===null?i.lastEffect=t.next=t:(o=r.next,r.next=t,t.next=o,i.lastEffect=t),t}function v_(){return Et().memoizedState}function gu(t,i,r,o){var d=mn();De.flags|=t,d.memoizedState=Gr(1|i,r,{destroy:void 0},o===void 0?null:o)}function pu(t,i,r,o){var d=Et();o=o===void 0?null:o;var m=d.memoizedState.inst;We!==null&&o!==null&&Bd(o,We.memoizedState.deps)?d.memoizedState=Gr(i,r,m,o):(De.flags|=t,d.memoizedState=Gr(1|i,r,m,o))}function x_(t,i){gu(8390656,8,t,i)}function Xd(t,i){pu(2048,8,t,i)}function E_(t,i){return pu(4,2,t,i)}function T_(t,i){return pu(4,4,t,i)}function b_(t,i){if(typeof i=="function"){t=t();var r=i(t);return function(){typeof r=="function"?r():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function A_(t,i,r){r=r!=null?r.concat([t]):null,pu(4,4,b_.bind(null,i,t),r)}function Wd(){}function w_(t,i){var r=Et();i=i===void 0?null:i;var o=r.memoizedState;return i!==null&&Bd(i,o[1])?o[0]:(r.memoizedState=[t,i],t)}function S_(t,i){var r=Et();i=i===void 0?null:i;var o=r.memoizedState;if(i!==null&&Bd(i,o[1]))return o[0];if(o=t(),Ha){is(!0);try{t()}finally{is(!1)}}return r.memoizedState=[o,i],o}function Zd(t,i,r){return r===void 0||(Oi&1073741824)!==0?t.memoizedState=i:(t.memoizedState=r,t=Ry(),De.lanes|=t,Ki|=t,r)}function N_(t,i,r,o){return vn(r,i)?r:Hr.current!==null?(t=Zd(t,r,o),vn(t,i)||(Pt=!0),t):(Oi&42)===0?(Pt=!0,t.memoizedState=r):(t=Ry(),De.lanes|=t,Ki|=t,i)}function R_(t,i,r,o,d){var m=he.p;he.p=m!==0&&8>m?m:8;var x=S.T,T={};S.T=T,tf(t,!1,i,r);try{var j=d(),B=S.S;if(B!==null&&B(T,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var Z=Bb(j,o);po(t,i,Z,bn(t))}else po(t,i,o,bn(t))}catch(ae){po(t,i,{then:function(){},status:"rejected",reason:ae},bn())}finally{he.p=m,S.T=x}}function Fb(){}function Jd(t,i,r,o){if(t.tag!==5)throw Error(a(476));var d=k_(t).queue;R_(t,d,i,Ie,r===null?Fb:function(){return I_(t),r(o)})}function k_(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:Ie,baseState:Ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ks,lastRenderedState:Ie},next:null};var r={};return i.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ks,lastRenderedState:r},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function I_(t){var i=k_(t).next.queue;po(t,i,{},bn())}function ef(){return Wt(Lo)}function j_(){return Et().memoizedState}function C_(){return Et().memoizedState}function Gb(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var r=bn();t=Pi(r);var o=Ui(i,t,r);o!==null&&(cn(o,i,r),vo(o,i,r)),i={cache:Vd()},t.payload=i;return}i=i.return}}function $b(t,i,r){var o=bn();r={lane:o,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},_u(t)?O_(i,r):(r=Id(t,i,r,o),r!==null&&(cn(r,t,o),M_(r,i,o)))}function D_(t,i,r){var o=bn();po(t,i,r,o)}function po(t,i,r,o){var d={lane:o,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(_u(t))O_(i,d);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var x=i.lastRenderedState,T=m(x,r);if(d.hasEagerState=!0,d.eagerState=T,vn(T,x))return eu(t,i,d,0),et===null&&Jc(),!1}catch{}finally{}if(r=Id(t,i,d,o),r!==null)return cn(r,t,o),M_(r,i,o),!0}return!1}function tf(t,i,r,o){if(o={lane:2,revertLane:Ff(),action:o,hasEagerState:!1,eagerState:null,next:null},_u(t)){if(i)throw Error(a(479))}else i=Id(t,r,o,2),i!==null&&cn(i,t,2)}function _u(t){var i=t.alternate;return t===De||i!==null&&i===De}function O_(t,i){Kr=uu=!0;var r=t.pending;r===null?i.next=i:(i.next=r.next,r.next=i),t.pending=i}function M_(t,i,r){if((r&4194176)!==0){var o=i.lanes;o&=t.pendingLanes,r|=o,i.lanes=r,Ei(t,r)}}var _s={readContext:Wt,use:fu,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useLayoutEffect:_t,useInsertionEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useSyncExternalStore:_t,useId:_t};_s.useCacheRefresh=_t,_s.useMemoCache=_t,_s.useHostTransitionStatus=_t,_s.useFormState=_t,_s.useActionState=_t,_s.useOptimistic=_t;var za={readContext:Wt,use:fu,useCallback:function(t,i){return mn().memoizedState=[t,i===void 0?null:i],t},useContext:Wt,useEffect:x_,useImperativeHandle:function(t,i,r){r=r!=null?r.concat([t]):null,gu(4194308,4,b_.bind(null,i,t),r)},useLayoutEffect:function(t,i){return gu(4194308,4,t,i)},useInsertionEffect:function(t,i){gu(4,2,t,i)},useMemo:function(t,i){var r=mn();i=i===void 0?null:i;var o=t();if(Ha){is(!0);try{t()}finally{is(!1)}}return r.memoizedState=[o,i],o},useReducer:function(t,i,r){var o=mn();if(r!==void 0){var d=r(i);if(Ha){is(!0);try{r(i)}finally{is(!1)}}}else d=i;return o.memoizedState=o.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},o.queue=t,t=t.dispatch=$b.bind(null,De,t),[o.memoizedState,t]},useRef:function(t){var i=mn();return t={current:t},i.memoizedState=t},useState:function(t){t=Qd(t);var i=t.queue,r=D_.bind(null,De,i);return i.dispatch=r,[t.memoizedState,r]},useDebugValue:Wd,useDeferredValue:function(t,i){var r=mn();return Zd(r,t,i)},useTransition:function(){var t=Qd(!1);return t=R_.bind(null,De,t.queue,!0,!1),mn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,r){var o=De,d=mn();if(Ge){if(r===void 0)throw Error(a(407));r=r()}else{if(r=i(),et===null)throw Error(a(349));(ze&60)!==0||i_(o,i,r)}d.memoizedState=r;var m={value:r,getSnapshot:i};return d.queue=m,x_(r_.bind(null,o,m,t),[t]),o.flags|=2048,Gr(9,a_.bind(null,o,m,r,i),{destroy:void 0},null),r},useId:function(){var t=mn(),i=et.identifierPrefix;if(Ge){var r=zs,o=Hs;r=(o&~(1<<32-an(o)-1)).toString(32)+r,i=":"+i+"R"+r,r=hu++,0<r&&(i+="H"+r.toString(32)),i+=":"}else r=Hb++,i=":"+i+"r"+r.toString(32)+":";return t.memoizedState=i},useCacheRefresh:function(){return mn().memoizedState=Gb.bind(null,De)}};za.useMemoCache=Fd,za.useHostTransitionStatus=ef,za.useFormState=g_,za.useActionState=g_,za.useOptimistic=function(t){var i=mn();i.memoizedState=i.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=r,i=tf.bind(null,De,!0,r),r.dispatch=i,[t,i]};var Mi={readContext:Wt,use:fu,useCallback:w_,useContext:Wt,useEffect:Xd,useImperativeHandle:A_,useInsertionEffect:E_,useLayoutEffect:T_,useMemo:S_,useReducer:mu,useRef:v_,useState:function(){return mu(Ks)},useDebugValue:Wd,useDeferredValue:function(t,i){var r=Et();return N_(r,We.memoizedState,t,i)},useTransition:function(){var t=mu(Ks)[0],i=Et().memoizedState;return[typeof t=="boolean"?t:go(t),i]},useSyncExternalStore:s_,useId:j_};Mi.useCacheRefresh=C_,Mi.useMemoCache=Fd,Mi.useHostTransitionStatus=ef,Mi.useFormState=p_,Mi.useActionState=p_,Mi.useOptimistic=function(t,i){var r=Et();return c_(r,We,t,i)};var qa={readContext:Wt,use:fu,useCallback:w_,useContext:Wt,useEffect:Xd,useImperativeHandle:A_,useInsertionEffect:E_,useLayoutEffect:T_,useMemo:S_,useReducer:$d,useRef:v_,useState:function(){return $d(Ks)},useDebugValue:Wd,useDeferredValue:function(t,i){var r=Et();return We===null?Zd(r,t,i):N_(r,We.memoizedState,t,i)},useTransition:function(){var t=$d(Ks)[0],i=Et().memoizedState;return[typeof t=="boolean"?t:go(t),i]},useSyncExternalStore:s_,useId:j_};qa.useCacheRefresh=C_,qa.useMemoCache=Fd,qa.useHostTransitionStatus=ef,qa.useFormState=y_,qa.useActionState=y_,qa.useOptimistic=function(t,i){var r=Et();return We!==null?c_(r,We,t,i):(r.baseState=t,[t,r.queue.dispatch])};function nf(t,i,r,o){i=t.memoizedState,r=r(o,i),r=r==null?i:k({},i,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var sf={isMounted:function(t){return(t=t._reactInternals)?ce(t)===t:!1},enqueueSetState:function(t,i,r){t=t._reactInternals;var o=bn(),d=Pi(o);d.payload=i,r!=null&&(d.callback=r),i=Ui(t,d,o),i!==null&&(cn(i,t,o),vo(i,t,o))},enqueueReplaceState:function(t,i,r){t=t._reactInternals;var o=bn(),d=Pi(o);d.tag=1,d.payload=i,r!=null&&(d.callback=r),i=Ui(t,d,o),i!==null&&(cn(i,t,o),vo(i,t,o))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var r=bn(),o=Pi(r);o.tag=2,i!=null&&(o.callback=i),i=Ui(t,o,r),i!==null&&(cn(i,t,r),vo(i,t,r))}};function L_(t,i,r,o,d,m,x){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,m,x):i.prototype&&i.prototype.isPureReactComponent?!no(r,o)||!no(d,m):!0}function V_(t,i,r,o){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(r,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(r,o),i.state!==t&&sf.enqueueReplaceState(i,i.state,null)}function Ka(t,i){var r=i;if("ref"in i){r={};for(var o in i)o!=="ref"&&(r[o]=i[o])}if(t=t.defaultProps){r===i&&(r=k({},r));for(var d in t)r[d]===void 0&&(r[d]=t[d])}return r}var yu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function P_(t){yu(t)}function U_(t){console.error(t)}function B_(t){yu(t)}function vu(t,i){try{var r=t.onUncaughtError;r(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function H_(t,i,r){try{var o=t.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function af(t,i,r){return r=Pi(r),r.tag=3,r.payload={element:null},r.callback=function(){vu(t,i)},r}function z_(t){return t=Pi(t),t.tag=3,t}function q_(t,i,r,o){var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var m=o.value;t.payload=function(){return d(m)},t.callback=function(){H_(i,r,o)}}var x=r.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(t.callback=function(){H_(i,r,o),typeof d!="function"&&(Fi===null?Fi=new Set([this]):Fi.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function Qb(t,i,r,o,d){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=r.alternate,i!==null&&yo(i,r,d,!0),r=Un.current,r!==null){switch(r.tag){case 13:return ps===null?Bf():r.alternate===null&&dt===0&&(dt=3),r.flags&=-257,r.flags|=65536,r.lanes=d,o===Od?r.flags|=16384:(i=r.updateQueue,i===null?r.updateQueue=new Set([o]):i.add(o),zf(t,o,d)),!1;case 22:return r.flags|=65536,o===Od?r.flags|=16384:(i=r.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=i):(r=i.retryQueue,r===null?i.retryQueue=new Set([o]):r.add(o)),zf(t,o,d)),!1}throw Error(a(435,r.tag))}return zf(t,o,d),Bf(),!1}if(Ge)return i=Un.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=d,o!==Dd&&(t=Error(a(422),{cause:o}),ro(Ln(t,r)))):(o!==Dd&&(i=Error(a(423),{cause:o}),ro(Ln(i,r))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,o=Ln(o,r),d=af(t.stateNode,o,d),xf(t,d),dt!==4&&(dt=2)),!1;var m=Error(a(520),{cause:o});if(m=Ln(m,r),No===null?No=[m]:No.push(m),dt!==4&&(dt=2),i===null)return!0;o=Ln(o,r),r=i;do{switch(r.tag){case 3:return r.flags|=65536,t=d&-d,r.lanes|=t,t=af(r.stateNode,o,t),xf(r,t),!1;case 1:if(i=r.type,m=r.stateNode,(r.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Fi===null||!Fi.has(m))))return r.flags|=65536,d&=-d,r.lanes|=d,d=z_(d),q_(d,t,r,o),xf(r,d),!1}r=r.return}while(r!==null);return!1}var K_=Error(a(461)),Pt=!1;function Kt(t,i,r,o){i.child=t===null?Yp(i,null,r,o):Ua(i,t.child,r,o)}function F_(t,i,r,o,d){r=r.render;var m=i.ref;if("ref"in o){var x={};for(var T in o)T!=="ref"&&(x[T]=o[T])}else x=o;return Ga(i),o=Hd(t,i,r,x,m,d),T=zd(),t!==null&&!Pt?(qd(t,i,d),Fs(t,i,d)):(Ge&&T&&jd(i),i.flags|=1,Kt(t,i,o,d),i.child)}function G_(t,i,r,o,d){if(t===null){var m=r.type;return typeof m=="function"&&!Rf(m)&&m.defaultProps===void 0&&r.compare===null?(i.tag=15,i.type=m,$_(t,i,m,o,d)):(t=Au(r.type,null,o,i,i.mode,d),t.ref=i.ref,t.return=i,i.child=t)}if(m=t.child,!mf(t,d)){var x=m.memoizedProps;if(r=r.compare,r=r!==null?r:no,r(x,o)&&t.ref===i.ref)return Fs(t,i,d)}return i.flags|=1,t=qi(m,o),t.ref=i.ref,t.return=i,i.child=t}function $_(t,i,r,o,d){if(t!==null){var m=t.memoizedProps;if(no(m,o)&&t.ref===i.ref)if(Pt=!1,i.pendingProps=o=m,mf(t,d))(t.flags&131072)!==0&&(Pt=!0);else return i.lanes=t.lanes,Fs(t,i,d)}return rf(t,i,r,o,d)}function Q_(t,i,r){var o=i.pendingProps,d=o.children,m=(i.stateNode._pendingVisibility&2)!==0,x=t!==null?t.memoizedState:null;if(_o(t,i),o.mode==="hidden"||m){if((i.flags&128)!==0){if(o=x!==null?x.baseLanes|r:r,t!==null){for(d=i.child=t.child,m=0;d!==null;)m=m|d.lanes|d.childLanes,d=d.sibling;i.childLanes=m&~o}else i.childLanes=0,i.child=null;return Y_(t,i,o,r)}if((r&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&cu(i,x!==null?x.cachePool:null),x!==null?Xp(i,x):Md(),Wp(i);else return i.lanes=i.childLanes=536870912,Y_(t,i,x!==null?x.baseLanes|r:r,r)}else x!==null?(cu(i,x.cachePool),Xp(i,x),Di(),i.memoizedState=null):(t!==null&&cu(i,null),Md(),Di());return Kt(t,i,d,r),i.child}function Y_(t,i,r,o){var d=Ud();return d=d===null?null:{parent:It._currentValue,pool:d},i.memoizedState={baseLanes:r,cachePool:d},t!==null&&cu(i,null),Md(),Wp(i),t!==null&&yo(t,i,o,!0),null}function _o(t,i){var r=i.ref;if(r===null)t!==null&&t.ref!==null&&(i.flags|=2097664);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(i.flags|=2097664)}}function rf(t,i,r,o,d){return Ga(i),r=Hd(t,i,r,o,void 0,d),o=zd(),t!==null&&!Pt?(qd(t,i,d),Fs(t,i,d)):(Ge&&o&&jd(i),i.flags|=1,Kt(t,i,r,d),i.child)}function X_(t,i,r,o,d,m){return Ga(i),i.updateQueue=null,r=n_(i,o,r,d),t_(t),o=zd(),t!==null&&!Pt?(qd(t,i,m),Fs(t,i,m)):(Ge&&o&&jd(i),i.flags|=1,Kt(t,i,r,m),i.child)}function W_(t,i,r,o,d){if(Ga(i),i.stateNode===null){var m=Vr,x=r.contextType;typeof x=="object"&&x!==null&&(m=Wt(x)),m=new r(o,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=sf,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=o,m.state=i.memoizedState,m.refs={},yf(i),x=r.contextType,m.context=typeof x=="object"&&x!==null?Wt(x):Vr,m.state=i.memoizedState,x=r.getDerivedStateFromProps,typeof x=="function"&&(nf(i,r,x,o),m.state=i.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(x=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),x!==m.state&&sf.enqueueReplaceState(m,m.state,null),Eo(i,o,m,d),xo(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(t===null){m=i.stateNode;var T=i.memoizedProps,j=Ka(r,T);m.props=j;var B=m.context,Z=r.contextType;x=Vr,typeof Z=="object"&&Z!==null&&(x=Wt(Z));var ae=r.getDerivedStateFromProps;Z=typeof ae=="function"||typeof m.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,Z||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T||B!==x)&&V_(i,m,o,x),Vi=!1;var Y=i.memoizedState;m.state=Y,Eo(i,o,m,d),xo(),B=i.memoizedState,T||Y!==B||Vi?(typeof ae=="function"&&(nf(i,r,ae,o),B=i.memoizedState),(j=Vi||L_(i,r,j,o,Y,B,x))?(Z||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=B),m.props=o,m.state=B,m.context=x,o=j):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{m=i.stateNode,vf(t,i),x=i.memoizedProps,Z=Ka(r,x),m.props=Z,ae=i.pendingProps,Y=m.context,B=r.contextType,j=Vr,typeof B=="object"&&B!==null&&(j=Wt(B)),T=r.getDerivedStateFromProps,(B=typeof T=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(x!==ae||Y!==j)&&V_(i,m,o,j),Vi=!1,Y=i.memoizedState,m.state=Y,Eo(i,o,m,d),xo();var W=i.memoizedState;x!==ae||Y!==W||Vi||t!==null&&t.dependencies!==null&&xu(t.dependencies)?(typeof T=="function"&&(nf(i,r,T,o),W=i.memoizedState),(Z=Vi||L_(i,r,Z,o,Y,W,j)||t!==null&&t.dependencies!==null&&xu(t.dependencies))?(B||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(o,W,j),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(o,W,j)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||x===t.memoizedProps&&Y===t.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||x===t.memoizedProps&&Y===t.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=W),m.props=o,m.state=W,m.context=j,o=Z):(typeof m.componentDidUpdate!="function"||x===t.memoizedProps&&Y===t.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||x===t.memoizedProps&&Y===t.memoizedState||(i.flags|=1024),o=!1)}return m=o,_o(t,i),o=(i.flags&128)!==0,m||o?(m=i.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,t!==null&&o?(i.child=Ua(i,t.child,null,d),i.child=Ua(i,null,r,d)):Kt(t,i,r,d),i.memoizedState=m.state,t=i.child):t=Fs(t,i,d),t}function Z_(t,i,r,o){return ao(),i.flags|=256,Kt(t,i,r,o),i.child}var lf={dehydrated:null,treeContext:null,retryLane:0};function of(t){return{baseLanes:t,cachePool:e_()}}function cf(t,i,r){return t=t!==null?t.childLanes&~r:0,i&&(t|=qn),t}function J_(t,i,r){var o=i.pendingProps,d=!1,m=(i.flags&128)!==0,x;if((x=m)||(x=t!==null&&t.memoizedState===null?!1:(kt.current&2)!==0),x&&(d=!0,i.flags&=-129),x=(i.flags&32)!==0,i.flags&=-33,t===null){if(Ge){if(d?Ci(i):Di(),Ge){var T=qt,j;if(j=T){e:{for(j=T,T=gs;j.nodeType!==8;){if(!T){T=null;break e}if(j=Wn(j.nextSibling),j===null){T=null;break e}}T=j}T!==null?(i.memoizedState={dehydrated:T,treeContext:La!==null?{id:Hs,overflow:zs}:null,retryLane:536870912},j=zn(18,null,null,0),j.stateNode=T,j.return=i,i.child=j,on=i,qt=null,j=!0):j=!1}j||Pa(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return T.data==="$!"?i.lanes=16:i.lanes=536870912,null;qs(i)}return T=o.children,o=o.fallback,d?(Di(),d=i.mode,T=hf({mode:"hidden",children:T},d),o=Qa(o,d,r,null),T.return=i,o.return=i,T.sibling=o,i.child=T,d=i.child,d.memoizedState=of(r),d.childLanes=cf(t,x,r),i.memoizedState=lf,o):(Ci(i),uf(i,T))}if(j=t.memoizedState,j!==null&&(T=j.dehydrated,T!==null)){if(m)i.flags&256?(Ci(i),i.flags&=-257,i=df(t,i,r)):i.memoizedState!==null?(Di(),i.child=t.child,i.flags|=128,i=null):(Di(),d=o.fallback,T=i.mode,o=hf({mode:"visible",children:o.children},T),d=Qa(d,T,r,null),d.flags|=2,o.return=i,d.return=i,o.sibling=d,i.child=o,Ua(i,t.child,null,r),o=i.child,o.memoizedState=of(r),o.childLanes=cf(t,x,r),i.memoizedState=lf,i=d);else if(Ci(i),T.data==="$!"){if(x=T.nextSibling&&T.nextSibling.dataset,x)var B=x.dgst;x=B,o=Error(a(419)),o.stack="",o.digest=x,ro({value:o,source:null,stack:null}),i=df(t,i,r)}else if(Pt||yo(t,i,r,!1),x=(r&t.childLanes)!==0,Pt||x){if(x=et,x!==null){if(o=r&-r,(o&42)!==0)o=1;else switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=64;break;case 268435456:o=134217728;break;default:o=0}if(o=(o&(x.suspendedLanes|r))!==0?0:o,o!==0&&o!==j.retryLane)throw j.retryLane=o,ji(t,o),cn(x,t,o),K_}T.data==="$?"||Bf(),i=df(t,i,r)}else T.data==="$?"?(i.flags|=128,i.child=t.child,i=cA.bind(null,t),T._reactRetry=i,i=null):(t=j.treeContext,qt=Wn(T.nextSibling),on=i,Ge=!0,Yn=null,gs=!1,t!==null&&(Vn[Pn++]=Hs,Vn[Pn++]=zs,Vn[Pn++]=La,Hs=t.id,zs=t.overflow,La=i),i=uf(i,o.children),i.flags|=4096);return i}return d?(Di(),d=o.fallback,T=i.mode,j=t.child,B=j.sibling,o=qi(j,{mode:"hidden",children:o.children}),o.subtreeFlags=j.subtreeFlags&31457280,B!==null?d=qi(B,d):(d=Qa(d,T,r,null),d.flags|=2),d.return=i,o.return=i,o.sibling=d,i.child=o,o=d,d=i.child,T=t.child.memoizedState,T===null?T=of(r):(j=T.cachePool,j!==null?(B=It._currentValue,j=j.parent!==B?{parent:B,pool:B}:j):j=e_(),T={baseLanes:T.baseLanes|r,cachePool:j}),d.memoizedState=T,d.childLanes=cf(t,x,r),i.memoizedState=lf,o):(Ci(i),r=t.child,t=r.sibling,r=qi(r,{mode:"visible",children:o.children}),r.return=i,r.sibling=null,t!==null&&(x=i.deletions,x===null?(i.deletions=[t],i.flags|=16):x.push(t)),i.child=r,i.memoizedState=null,r)}function uf(t,i){return i=hf({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function hf(t,i){return wy(t,i,0,null)}function df(t,i,r){return Ua(i,t.child,null,r),t=uf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function ey(t,i,r){t.lanes|=i;var o=t.alternate;o!==null&&(o.lanes|=i),pf(t.return,i,r)}function ff(t,i,r,o,d){var m=t.memoizedState;m===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:d}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=o,m.tail=r,m.tailMode=d)}function ty(t,i,r){var o=i.pendingProps,d=o.revealOrder,m=o.tail;if(Kt(t,i,o.children,r),o=kt.current,(o&2)!==0)o=o&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ey(t,r,i);else if(t.tag===19)ey(t,r,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}switch(Xe(kt,o),d){case"forwards":for(r=i.child,d=null;r!==null;)t=r.alternate,t!==null&&ou(t)===null&&(d=r),r=r.sibling;r=d,r===null?(d=i.child,i.child=null):(d=r.sibling,r.sibling=null),ff(i,!1,d,r,m);break;case"backwards":for(r=null,d=i.child,i.child=null;d!==null;){if(t=d.alternate,t!==null&&ou(t)===null){i.child=d;break}t=d.sibling,d.sibling=r,r=d,d=t}ff(i,!0,r,null,m);break;case"together":ff(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Fs(t,i,r){if(t!==null&&(i.dependencies=t.dependencies),Ki|=i.lanes,(r&i.childLanes)===0)if(t!==null){if(yo(t,i,r,!1),(r&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(a(153));if(i.child!==null){for(t=i.child,r=qi(t,t.pendingProps),i.child=r,r.return=i;t.sibling!==null;)t=t.sibling,r=r.sibling=qi(t,t.pendingProps),r.return=i;r.sibling=null}return i.child}function mf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&xu(t)))}function Yb(t,i,r){switch(i.tag){case 3:gi(i,i.stateNode.containerInfo),Li(i,It,t.memoizedState.cache),ao();break;case 27:case 5:Ml(i);break;case 4:gi(i,i.stateNode.containerInfo);break;case 10:Li(i,i.type,i.memoizedProps.value);break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(Ci(i),i.flags|=128,null):(r&i.child.childLanes)!==0?J_(t,i,r):(Ci(i),t=Fs(t,i,r),t!==null?t.sibling:null);Ci(i);break;case 19:var d=(t.flags&128)!==0;if(o=(r&i.childLanes)!==0,o||(yo(t,i,r,!1),o=(r&i.childLanes)!==0),d){if(o)return ty(t,i,r);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Xe(kt,kt.current),o)break;return null;case 22:case 23:return i.lanes=0,Q_(t,i,r);case 24:Li(i,It,t.memoizedState.cache)}return Fs(t,i,r)}function ny(t,i,r){if(t!==null)if(t.memoizedProps!==i.pendingProps)Pt=!0;else{if(!mf(t,r)&&(i.flags&128)===0)return Pt=!1,Yb(t,i,r);Pt=(t.flags&131072)!==0}else Pt=!1,Ge&&(i.flags&1048576)!==0&&Bp(i,su,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var o=i.elementType,d=o._init;if(o=d(o._payload),i.type=o,typeof o=="function")Rf(o)?(t=Ka(o,t),i.tag=1,i=W_(null,i,o,t,r)):(i.tag=0,i=rf(null,i,o,t,r));else{if(o!=null){if(d=o.$$typeof,d===O){i.tag=11,i=F_(null,i,o,t,r);break e}else if(d===H){i.tag=14,i=G_(null,i,o,t,r);break e}}throw i=N(o)||o,Error(a(306,i,""))}}return i;case 0:return rf(t,i,i.type,i.pendingProps,r);case 1:return o=i.type,d=Ka(o,i.pendingProps),W_(t,i,o,d,r);case 3:e:{if(gi(i,i.stateNode.containerInfo),t===null)throw Error(a(387));var m=i.pendingProps;d=i.memoizedState,o=d.element,vf(t,i),Eo(i,m,null,r);var x=i.memoizedState;if(m=x.cache,Li(i,It,m),m!==d.cache&&_f(i,[It],r,!0),xo(),m=x.element,d.isDehydrated)if(d={element:m,isDehydrated:!1,cache:x.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Z_(t,i,m,r);break e}else if(m!==o){o=Ln(Error(a(424)),i),ro(o),i=Z_(t,i,m,r);break e}else for(qt=Wn(i.stateNode.containerInfo.firstChild),on=i,Ge=!0,Yn=null,gs=!0,r=Yp(i,null,m,r),i.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ao(),m===o){i=Fs(t,i,r);break e}Kt(t,i,m,r)}i=i.child}return i;case 26:return _o(t,i),t===null?(r=av(i.type,null,i.pendingProps,null))?i.memoizedState=r:Ge||(r=i.type,t=i.pendingProps,o=Lu(Rn.current).createElement(r),o[Mt]=i,o[St]=t,Ft(o,r,t),at(o),i.stateNode=o):i.memoizedState=av(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Ml(i),t===null&&Ge&&(o=i.stateNode=nv(i.type,i.pendingProps,Rn.current),on=i,gs=!0,qt=Wn(o.firstChild)),o=i.pendingProps.children,t!==null||Ge?Kt(t,i,o,r):i.child=Ua(i,null,o,r),_o(t,i),i.child;case 5:return t===null&&Ge&&((d=o=qt)&&(o=wA(o,i.type,i.pendingProps,gs),o!==null?(i.stateNode=o,on=i,qt=Wn(o.firstChild),gs=!1,d=!0):d=!1),d||Pa(i)),Ml(i),d=i.type,m=i.pendingProps,x=t!==null?t.memoizedProps:null,o=m.children,em(d,m)?o=null:x!==null&&em(d,x)&&(i.flags|=32),i.memoizedState!==null&&(d=Hd(t,i,zb,null,null,r),Lo._currentValue=d),_o(t,i),Kt(t,i,o,r),i.child;case 6:return t===null&&Ge&&((t=r=qt)&&(r=SA(r,i.pendingProps,gs),r!==null?(i.stateNode=r,on=i,qt=null,t=!0):t=!1),t||Pa(i)),null;case 13:return J_(t,i,r);case 4:return gi(i,i.stateNode.containerInfo),o=i.pendingProps,t===null?i.child=Ua(i,null,o,r):Kt(t,i,o,r),i.child;case 11:return F_(t,i,i.type,i.pendingProps,r);case 7:return Kt(t,i,i.pendingProps,r),i.child;case 8:return Kt(t,i,i.pendingProps.children,r),i.child;case 12:return Kt(t,i,i.pendingProps.children,r),i.child;case 10:return o=i.pendingProps,Li(i,i.type,o.value),Kt(t,i,o.children,r),i.child;case 9:return d=i.type._context,o=i.pendingProps.children,Ga(i),d=Wt(d),o=o(d),i.flags|=1,Kt(t,i,o,r),i.child;case 14:return G_(t,i,i.type,i.pendingProps,r);case 15:return $_(t,i,i.type,i.pendingProps,r);case 19:return ty(t,i,r);case 22:return Q_(t,i,r);case 24:return Ga(i),o=Wt(It),t===null?(d=Ud(),d===null&&(d=et,m=Vd(),d.pooledCache=m,m.refCount++,m!==null&&(d.pooledCacheLanes|=r),d=m),i.memoizedState={parent:o,cache:d},yf(i),Li(i,It,d)):((t.lanes&r)!==0&&(vf(t,i),Eo(i,null,null,r),xo()),d=t.memoizedState,m=i.memoizedState,d.parent!==o?(d={parent:o,cache:o},i.memoizedState=d,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=d),Li(i,It,o)):(o=m.cache,Li(i,It,o),o!==d.cache&&_f(i,[It],r,!0))),Kt(t,i,i.pendingProps.children,r),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}var gf=Ke(null),Fa=null,Gs=null;function Li(t,i,r){Xe(gf,i._currentValue),i._currentValue=r}function $s(t){t._currentValue=gf.current,ct(gf)}function pf(t,i,r){for(;t!==null;){var o=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),t===r)break;t=t.return}}function _f(t,i,r,o){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var m=d.dependencies;if(m!==null){var x=d.child;m=m.firstContext;e:for(;m!==null;){var T=m;m=d;for(var j=0;j<i.length;j++)if(T.context===i[j]){m.lanes|=r,T=m.alternate,T!==null&&(T.lanes|=r),pf(m.return,r,t),o||(x=null);break e}m=T.next}}else if(d.tag===18){if(x=d.return,x===null)throw Error(a(341));x.lanes|=r,m=x.alternate,m!==null&&(m.lanes|=r),pf(x,r,t),x=null}else x=d.child;if(x!==null)x.return=d;else for(x=d;x!==null;){if(x===t){x=null;break}if(d=x.sibling,d!==null){d.return=x.return,x=d;break}x=x.return}d=x}}function yo(t,i,r,o){t=null;for(var d=i,m=!1;d!==null;){if(!m){if((d.flags&524288)!==0)m=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var x=d.alternate;if(x===null)throw Error(a(387));if(x=x.memoizedProps,x!==null){var T=d.type;vn(d.pendingProps.value,x.value)||(t!==null?t.push(T):t=[T])}}else if(d===mi.current){if(x=d.alternate,x===null)throw Error(a(387));x.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(Lo):t=[Lo])}d=d.return}t!==null&&_f(i,t,r,o),i.flags|=262144}function xu(t){for(t=t.firstContext;t!==null;){if(!vn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ga(t){Fa=t,Gs=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Wt(t){return sy(Fa,t)}function Eu(t,i){return Fa===null&&Ga(t),sy(t,i)}function sy(t,i){var r=i._currentValue;if(i={context:i,memoizedValue:r,next:null},Gs===null){if(t===null)throw Error(a(308));Gs=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Gs=Gs.next=i;return r}var Vi=!1;function yf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Pi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ui(t,i,r){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(lt&2)!==0){var d=o.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),o.pending=i,i=tu(t),Pp(t,null,r),i}return eu(t,o,i,r),tu(t)}function vo(t,i,r){if(i=i.updateQueue,i!==null&&(i=i.shared,(r&4194176)!==0)){var o=i.lanes;o&=t.pendingLanes,r|=o,i.lanes=r,Ei(t,r)}}function xf(t,i){var r=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var d=null,m=null;if(r=r.firstBaseUpdate,r!==null){do{var x={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};m===null?d=m=x:m=m.next=x,r=r.next}while(r!==null);m===null?d=m=i:m=m.next=i}else d=m=i;r={baseState:o.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:o.shared,callbacks:o.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=i:t.next=i,r.lastBaseUpdate=i}var Ef=!1;function xo(){if(Ef){var t=qr;if(t!==null)throw t}}function Eo(t,i,r,o){Ef=!1;var d=t.updateQueue;Vi=!1;var m=d.firstBaseUpdate,x=d.lastBaseUpdate,T=d.shared.pending;if(T!==null){d.shared.pending=null;var j=T,B=j.next;j.next=null,x===null?m=B:x.next=B,x=j;var Z=t.alternate;Z!==null&&(Z=Z.updateQueue,T=Z.lastBaseUpdate,T!==x&&(T===null?Z.firstBaseUpdate=B:T.next=B,Z.lastBaseUpdate=j))}if(m!==null){var ae=d.baseState;x=0,Z=B=j=null,T=m;do{var Y=T.lane&-536870913,W=Y!==T.lane;if(W?(ze&Y)===Y:(o&Y)===Y){Y!==0&&Y===zr&&(Ef=!0),Z!==null&&(Z=Z.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var pe=t,Ne=T;Y=i;var ft=r;switch(Ne.tag){case 1:if(pe=Ne.payload,typeof pe=="function"){ae=pe.call(ft,ae,Y);break e}ae=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=Ne.payload,Y=typeof pe=="function"?pe.call(ft,ae,Y):pe,Y==null)break e;ae=k({},ae,Y);break e;case 2:Vi=!0}}Y=T.callback,Y!==null&&(t.flags|=64,W&&(t.flags|=8192),W=d.callbacks,W===null?d.callbacks=[Y]:W.push(Y))}else W={lane:Y,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Z===null?(B=Z=W,j=ae):Z=Z.next=W,x|=Y;if(T=T.next,T===null){if(T=d.shared.pending,T===null)break;W=T,T=W.next,W.next=null,d.lastBaseUpdate=W,d.shared.pending=null}}while(!0);Z===null&&(j=ae),d.baseState=j,d.firstBaseUpdate=B,d.lastBaseUpdate=Z,m===null&&(d.shared.lanes=0),Ki|=x,t.lanes=x,t.memoizedState=ae}}function iy(t,i){if(typeof t!="function")throw Error(a(191,t));t.call(i)}function ay(t,i){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)iy(r[t],i)}function To(t,i){try{var r=i.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var d=o.next;r=d;do{if((r.tag&t)===t){o=void 0;var m=r.create,x=r.inst;o=m(),x.destroy=o}r=r.next}while(r!==d)}}catch(T){Je(i,i.return,T)}}function Bi(t,i,r){try{var o=i.updateQueue,d=o!==null?o.lastEffect:null;if(d!==null){var m=d.next;o=m;do{if((o.tag&t)===t){var x=o.inst,T=x.destroy;if(T!==void 0){x.destroy=void 0,d=i;var j=r;try{T()}catch(B){Je(d,j,B)}}}o=o.next}while(o!==m)}}catch(B){Je(i,i.return,B)}}function ry(t){var i=t.updateQueue;if(i!==null){var r=t.stateNode;try{ay(i,r)}catch(o){Je(t,t.return,o)}}}function ly(t,i,r){r.props=Ka(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(o){Je(t,i,o)}}function $a(t,i){try{var r=t.ref;if(r!==null){var o=t.stateNode;switch(t.tag){case 26:case 27:case 5:var d=o;break;default:d=o}typeof r=="function"?t.refCleanup=r(d):r.current=d}}catch(m){Je(t,i,m)}}function xn(t,i){var r=t.ref,o=t.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(d){Je(t,i,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(d){Je(t,i,d)}else r.current=null}function oy(t){var i=t.type,r=t.memoizedProps,o=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break e;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(d){Je(t,t.return,d)}}function cy(t,i,r){try{var o=t.stateNode;xA(o,t.type,r,i),o[St]=i}catch(d){Je(t,t.return,d)}}function uy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function Tf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||uy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function bf(t,i,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?r.nodeType===8?r.parentNode.insertBefore(t,i):r.insertBefore(t,i):(r.nodeType===8?(i=r.parentNode,i.insertBefore(t,r)):(i=r,i.appendChild(t)),r=r._reactRootContainer,r!=null||i.onclick!==null||(i.onclick=Mu));else if(o!==4&&o!==27&&(t=t.child,t!==null))for(bf(t,i,r),t=t.sibling;t!==null;)bf(t,i,r),t=t.sibling}function Tu(t,i,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?r.insertBefore(t,i):r.appendChild(t);else if(o!==4&&o!==27&&(t=t.child,t!==null))for(Tu(t,i,r),t=t.sibling;t!==null;)Tu(t,i,r),t=t.sibling}var Qs=!1,ht=!1,Af=!1,hy=typeof WeakSet=="function"?WeakSet:Set,Ut=null,dy=!1;function Xb(t,i){if(t=t.containerInfo,Zf=zu,t=kp(t),wd(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var d=o.anchorOffset,m=o.focusNode;o=o.focusOffset;try{r.nodeType,m.nodeType}catch{r=null;break e}var x=0,T=-1,j=-1,B=0,Z=0,ae=t,Y=null;t:for(;;){for(var W;ae!==r||d!==0&&ae.nodeType!==3||(T=x+d),ae!==m||o!==0&&ae.nodeType!==3||(j=x+o),ae.nodeType===3&&(x+=ae.nodeValue.length),(W=ae.firstChild)!==null;)Y=ae,ae=W;for(;;){if(ae===t)break t;if(Y===r&&++B===d&&(T=x),Y===m&&++Z===o&&(j=x),(W=ae.nextSibling)!==null)break;ae=Y,Y=ae.parentNode}ae=W}r=T===-1||j===-1?null:{start:T,end:j}}else r=null}r=r||{start:0,end:0}}else r=null;for(Jf={focusedElem:t,selectionRange:r},zu=!1,Ut=i;Ut!==null;)if(i=Ut,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Ut=t;else for(;Ut!==null;){switch(i=Ut,m=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,r=i,d=m.memoizedProps,m=m.memoizedState,o=r.stateNode;try{var pe=Ka(r.type,d,r.elementType===r.type);t=o.getSnapshotBeforeUpdate(pe,m),o.__reactInternalSnapshotBeforeUpdate=t}catch(Ne){Je(r,r.return,Ne)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,r=t.nodeType,r===9)sm(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":sm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=i.sibling,t!==null){t.return=i.return,Ut=t;break}Ut=i.return}return pe=dy,dy=!1,pe}function fy(t,i,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:Xs(t,r),o&4&&To(5,r);break;case 1:if(Xs(t,r),o&4)if(t=r.stateNode,i===null)try{t.componentDidMount()}catch(T){Je(r,r.return,T)}else{var d=Ka(r.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(d,i,t.__reactInternalSnapshotBeforeUpdate)}catch(T){Je(r,r.return,T)}}o&64&&ry(r),o&512&&$a(r,r.return);break;case 3:if(Xs(t,r),o&64&&(o=r.updateQueue,o!==null)){if(t=null,r.child!==null)switch(r.child.tag){case 27:case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}try{ay(o,t)}catch(T){Je(r,r.return,T)}}break;case 26:Xs(t,r),o&512&&$a(r,r.return);break;case 27:case 5:Xs(t,r),i===null&&o&4&&oy(r),o&512&&$a(r,r.return);break;case 12:Xs(t,r);break;case 13:Xs(t,r),o&4&&py(t,r);break;case 22:if(d=r.memoizedState!==null||Qs,!d){i=i!==null&&i.memoizedState!==null||ht;var m=Qs,x=ht;Qs=d,(ht=i)&&!x?Hi(t,r,(r.subtreeFlags&8772)!==0):Xs(t,r),Qs=m,ht=x}o&512&&(r.memoizedProps.mode==="manual"?$a(r,r.return):xn(r,r.return));break;default:Xs(t,r)}}function my(t){var i=t.alternate;i!==null&&(t.alternate=null,my(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ba(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Tt=null,En=!1;function Ys(t,i,r){for(r=r.child;r!==null;)gy(t,i,r),r=r.sibling}function gy(t,i,r){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(pi,r)}catch{}switch(r.tag){case 26:ht||xn(r,i),Ys(t,i,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:ht||xn(r,i);var o=Tt,d=En;for(Tt=r.stateNode,Ys(t,i,r),r=r.stateNode,i=r.attributes;i.length;)r.removeAttributeNode(i[0]);ba(r),Tt=o,En=d;break;case 5:ht||xn(r,i);case 6:d=Tt;var m=En;if(Tt=null,Ys(t,i,r),Tt=d,En=m,Tt!==null)if(En)try{t=Tt,o=r.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)}catch(x){Je(r,i,x)}else try{Tt.removeChild(r.stateNode)}catch(x){Je(r,i,x)}break;case 18:Tt!==null&&(En?(i=Tt,r=r.stateNode,i.nodeType===8?nm(i.parentNode,r):i.nodeType===1&&nm(i,r),Bo(i)):nm(Tt,r.stateNode));break;case 4:o=Tt,d=En,Tt=r.stateNode.containerInfo,En=!0,Ys(t,i,r),Tt=o,En=d;break;case 0:case 11:case 14:case 15:ht||Bi(2,r,i),ht||Bi(4,r,i),Ys(t,i,r);break;case 1:ht||(xn(r,i),o=r.stateNode,typeof o.componentWillUnmount=="function"&&ly(r,i,o)),Ys(t,i,r);break;case 21:Ys(t,i,r);break;case 22:ht||xn(r,i),ht=(o=ht)||r.memoizedState!==null,Ys(t,i,r),ht=o;break;default:Ys(t,i,r)}}function py(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Bo(t)}catch(r){Je(i,i.return,r)}}function Wb(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new hy),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new hy),i;default:throw Error(a(435,t.tag))}}function wf(t,i){var r=Wb(t);i.forEach(function(o){var d=uA.bind(null,t,o);r.has(o)||(r.add(o),o.then(d,d))})}function Bn(t,i){var r=i.deletions;if(r!==null)for(var o=0;o<r.length;o++){var d=r[o],m=t,x=i,T=x;e:for(;T!==null;){switch(T.tag){case 27:case 5:Tt=T.stateNode,En=!1;break e;case 3:Tt=T.stateNode.containerInfo,En=!0;break e;case 4:Tt=T.stateNode.containerInfo,En=!0;break e}T=T.return}if(Tt===null)throw Error(a(160));gy(m,x,d),Tt=null,En=!1,m=d.alternate,m!==null&&(m.return=null),d.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)_y(i,t),i=i.sibling}var Xn=null;function _y(t,i){var r=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Bn(i,t),Hn(t),o&4&&(Bi(3,t,t.return),To(3,t),Bi(5,t,t.return));break;case 1:Bn(i,t),Hn(t),o&512&&(ht||r===null||xn(r,r.return)),o&64&&Qs&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var d=Xn;if(Bn(i,t),Hn(t),o&512&&(ht||r===null||xn(r,r.return)),o&4){var m=r!==null?r.memoizedState:null;if(o=t.memoizedState,r===null)if(o===null)if(t.stateNode===null){e:{o=t.type,r=t.memoizedProps,d=d.ownerDocument||d;t:switch(o){case"title":m=d.getElementsByTagName("title")[0],(!m||m[bi]||m[Mt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=d.createElement(o),d.head.insertBefore(m,d.querySelector("head > title"))),Ft(m,o,r),m[Mt]=t,at(m),o=m;break e;case"link":var x=ov("link","href",d).get(o+(r.href||""));if(x){for(var T=0;T<x.length;T++)if(m=x[T],m.getAttribute("href")===(r.href==null?null:r.href)&&m.getAttribute("rel")===(r.rel==null?null:r.rel)&&m.getAttribute("title")===(r.title==null?null:r.title)&&m.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){x.splice(T,1);break t}}m=d.createElement(o),Ft(m,o,r),d.head.appendChild(m);break;case"meta":if(x=ov("meta","content",d).get(o+(r.content||""))){for(T=0;T<x.length;T++)if(m=x[T],m.getAttribute("content")===(r.content==null?null:""+r.content)&&m.getAttribute("name")===(r.name==null?null:r.name)&&m.getAttribute("property")===(r.property==null?null:r.property)&&m.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&m.getAttribute("charset")===(r.charSet==null?null:r.charSet)){x.splice(T,1);break t}}m=d.createElement(o),Ft(m,o,r),d.head.appendChild(m);break;default:throw Error(a(468,o))}m[Mt]=t,at(m),o=m}t.stateNode=o}else cv(d,t.type,t.stateNode);else t.stateNode=lv(d,o,t.memoizedProps);else m!==o?(m===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):m.count--,o===null?cv(d,t.type,t.stateNode):lv(d,o,t.memoizedProps)):o===null&&t.stateNode!==null&&cy(t,t.memoizedProps,r.memoizedProps)}break;case 27:if(o&4&&t.alternate===null){d=t.stateNode,m=t.memoizedProps;try{for(var j=d.firstChild;j;){var B=j.nextSibling,Z=j.nodeName;j[bi]||Z==="HEAD"||Z==="BODY"||Z==="SCRIPT"||Z==="STYLE"||Z==="LINK"&&j.rel.toLowerCase()==="stylesheet"||d.removeChild(j),j=B}for(var ae=t.type,Y=d.attributes;Y.length;)d.removeAttributeNode(Y[0]);Ft(d,ae,m),d[Mt]=t,d[St]=m}catch(pe){Je(t,t.return,pe)}}case 5:if(Bn(i,t),Hn(t),o&512&&(ht||r===null||xn(r,r.return)),t.flags&32){d=t.stateNode;try{jn(d,"")}catch(pe){Je(t,t.return,pe)}}o&4&&t.stateNode!=null&&(d=t.memoizedProps,cy(t,d,r!==null?r.memoizedProps:d)),o&1024&&(Af=!0);break;case 6:if(Bn(i,t),Hn(t),o&4){if(t.stateNode===null)throw Error(a(162));o=t.memoizedProps,r=t.stateNode;try{r.nodeValue=o}catch(pe){Je(t,t.return,pe)}}break;case 3:if(Uu=null,d=Xn,Xn=Vu(i.containerInfo),Bn(i,t),Xn=d,Hn(t),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Bo(i.containerInfo)}catch(pe){Je(t,t.return,pe)}Af&&(Af=!1,yy(t));break;case 4:o=Xn,Xn=Vu(t.stateNode.containerInfo),Bn(i,t),Hn(t),Xn=o;break;case 12:Bn(i,t),Hn(t);break;case 13:Bn(i,t),Hn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Of=dn()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,wf(t,o)));break;case 22:if(o&512&&(ht||r===null||xn(r,r.return)),j=t.memoizedState!==null,B=r!==null&&r.memoizedState!==null,Z=Qs,ae=ht,Qs=Z||j,ht=ae||B,Bn(i,t),ht=ae,Qs=Z,Hn(t),i=t.stateNode,i._current=t,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,o&8192&&(i._visibility=j?i._visibility&-2:i._visibility|1,j&&(i=Qs||ht,r===null||B||i||$r(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))e:for(r=null,i=t;;){if(i.tag===5||i.tag===26||i.tag===27){if(r===null){B=r=i;try{if(d=B.stateNode,j)m=d.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{x=B.stateNode,T=B.memoizedProps.style;var W=T!=null&&T.hasOwnProperty("display")?T.display:null;x.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(pe){Je(B,B.return,pe)}}}else if(i.tag===6){if(r===null){B=i;try{B.stateNode.nodeValue=j?"":B.memoizedProps}catch(pe){Je(B,B.return,pe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;r===i&&(r=null),i=i.return}r===i&&(r=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=t.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,wf(t,r))));break;case 19:Bn(i,t),Hn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,wf(t,o)));break;case 21:break;default:Bn(i,t),Hn(t)}}function Hn(t){var i=t.flags;if(i&2){try{if(t.tag!==27){e:{for(var r=t.return;r!==null;){if(uy(r)){var o=r;break e}r=r.return}throw Error(a(160))}switch(o.tag){case 27:var d=o.stateNode,m=Tf(t);Tu(t,m,d);break;case 5:var x=o.stateNode;o.flags&32&&(jn(x,""),o.flags&=-33);var T=Tf(t);Tu(t,T,x);break;case 3:case 4:var j=o.stateNode.containerInfo,B=Tf(t);bf(t,B,j);break;default:throw Error(a(161))}}}catch(Z){Je(t,t.return,Z)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function yy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;yy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Xs(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)fy(t,i.alternate,i),i=i.sibling}function $r(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Bi(4,i,i.return),$r(i);break;case 1:xn(i,i.return);var r=i.stateNode;typeof r.componentWillUnmount=="function"&&ly(i,i.return,r),$r(i);break;case 26:case 27:case 5:xn(i,i.return),$r(i);break;case 22:xn(i,i.return),i.memoizedState===null&&$r(i);break;default:$r(i)}t=t.sibling}}function Hi(t,i,r){for(r=r&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,d=t,m=i,x=m.flags;switch(m.tag){case 0:case 11:case 15:Hi(d,m,r),To(4,m);break;case 1:if(Hi(d,m,r),o=m,d=o.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(B){Je(o,o.return,B)}if(o=m,d=o.updateQueue,d!==null){var T=o.stateNode;try{var j=d.shared.hiddenCallbacks;if(j!==null)for(d.shared.hiddenCallbacks=null,d=0;d<j.length;d++)iy(j[d],T)}catch(B){Je(o,o.return,B)}}r&&x&64&&ry(m),$a(m,m.return);break;case 26:case 27:case 5:Hi(d,m,r),r&&o===null&&x&4&&oy(m),$a(m,m.return);break;case 12:Hi(d,m,r);break;case 13:Hi(d,m,r),r&&x&4&&py(d,m);break;case 22:m.memoizedState===null&&Hi(d,m,r),$a(m,m.return);break;default:Hi(d,m,r)}i=i.sibling}}function Sf(t,i){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&ho(r))}function Nf(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ho(t))}function zi(t,i,r,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)vy(t,i,r,o),i=i.sibling}function vy(t,i,r,o){var d=i.flags;switch(i.tag){case 0:case 11:case 15:zi(t,i,r,o),d&2048&&To(9,i);break;case 3:zi(t,i,r,o),d&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ho(t)));break;case 12:if(d&2048){zi(t,i,r,o),t=i.stateNode;try{var m=i.memoizedProps,x=m.id,T=m.onPostCommit;typeof T=="function"&&T(x,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(j){Je(i,i.return,j)}}else zi(t,i,r,o);break;case 23:break;case 22:m=i.stateNode,i.memoizedState!==null?m._visibility&4?zi(t,i,r,o):bo(t,i):m._visibility&4?zi(t,i,r,o):(m._visibility|=4,Qr(t,i,r,o,(i.subtreeFlags&10256)!==0)),d&2048&&Sf(i.alternate,i);break;case 24:zi(t,i,r,o),d&2048&&Nf(i.alternate,i);break;default:zi(t,i,r,o)}}function Qr(t,i,r,o,d){for(d=d&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var m=t,x=i,T=r,j=o,B=x.flags;switch(x.tag){case 0:case 11:case 15:Qr(m,x,T,j,d),To(8,x);break;case 23:break;case 22:var Z=x.stateNode;x.memoizedState!==null?Z._visibility&4?Qr(m,x,T,j,d):bo(m,x):(Z._visibility|=4,Qr(m,x,T,j,d)),d&&B&2048&&Sf(x.alternate,x);break;case 24:Qr(m,x,T,j,d),d&&B&2048&&Nf(x.alternate,x);break;default:Qr(m,x,T,j,d)}i=i.sibling}}function bo(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var r=t,o=i,d=o.flags;switch(o.tag){case 22:bo(r,o),d&2048&&Sf(o.alternate,o);break;case 24:bo(r,o),d&2048&&Nf(o.alternate,o);break;default:bo(r,o)}i=i.sibling}}var Ao=8192;function Yr(t){if(t.subtreeFlags&Ao)for(t=t.child;t!==null;)xy(t),t=t.sibling}function xy(t){switch(t.tag){case 26:Yr(t),t.flags&Ao&&t.memoizedState!==null&&UA(Xn,t.memoizedState,t.memoizedProps);break;case 5:Yr(t);break;case 3:case 4:var i=Xn;Xn=Vu(t.stateNode.containerInfo),Yr(t),Xn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=Ao,Ao=16777216,Yr(t),Ao=i):Yr(t));break;default:Yr(t)}}function Ey(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function wo(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var r=0;r<i.length;r++){var o=i[r];Ut=o,by(o,t)}Ey(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ty(t),t=t.sibling}function Ty(t){switch(t.tag){case 0:case 11:case 15:wo(t),t.flags&2048&&Bi(9,t,t.return);break;case 3:wo(t);break;case 12:wo(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&4&&(t.return===null||t.return.tag!==13)?(i._visibility&=-5,bu(t)):wo(t);break;default:wo(t)}}function bu(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var r=0;r<i.length;r++){var o=i[r];Ut=o,by(o,t)}Ey(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Bi(8,i,i.return),bu(i);break;case 22:r=i.stateNode,r._visibility&4&&(r._visibility&=-5,bu(i));break;default:bu(i)}t=t.sibling}}function by(t,i){for(;Ut!==null;){var r=Ut;switch(r.tag){case 0:case 11:case 15:Bi(8,r,i);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:ho(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Ut=o;else e:for(r=t;Ut!==null;){o=Ut;var d=o.sibling,m=o.return;if(my(o),o===r){Ut=null;break e}if(d!==null){d.return=m,Ut=d;break e}Ut=m}}}function Zb(t,i,r,o){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(t,i,r,o){return new Zb(t,i,r,o)}function Rf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function qi(t,i){var r=t.alternate;return r===null?(r=zn(t.tag,i,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=i,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&31457280,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,i=t.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Ay(t,i){t.flags&=31457282;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,i=r.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Au(t,i,r,o,d,m){var x=0;if(o=t,typeof t=="function")Rf(t)&&(x=1);else if(typeof t=="string")x=VA(t,r,sn.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case p:return Qa(r.children,d,m,i);case _:x=8,d|=24;break;case E:return t=zn(12,r,i,d|2),t.elementType=E,t.lanes=m,t;case q:return t=zn(13,r,i,d),t.elementType=q,t.lanes=m,t;case M:return t=zn(19,r,i,d),t.elementType=M,t.lanes=m,t;case Q:return wy(r,d,m,i);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case b:case D:x=10;break e;case w:x=9;break e;case O:x=11;break e;case H:x=14;break e;case G:x=16,o=null;break e}x=29,r=Error(a(130,t===null?"null":typeof t,"")),o=null}return i=zn(x,r,i,d),i.elementType=t,i.type=o,i.lanes=m,i}function Qa(t,i,r,o){return t=zn(7,t,o,i),t.lanes=r,t}function wy(t,i,r,o){t=zn(22,t,o,i),t.elementType=Q,t.lanes=r;var d={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var m=d._current;if(m===null)throw Error(a(456));if((d._pendingVisibility&2)===0){var x=ji(m,2);x!==null&&(d._pendingVisibility|=2,cn(x,m,2))}},attach:function(){var m=d._current;if(m===null)throw Error(a(456));if((d._pendingVisibility&2)!==0){var x=ji(m,2);x!==null&&(d._pendingVisibility&=-3,cn(x,m,2))}}};return t.stateNode=d,t}function kf(t,i,r){return t=zn(6,t,null,i),t.lanes=r,t}function If(t,i,r){return i=zn(4,t.children!==null?t.children:[],t.key,i),i.lanes=r,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}function Ws(t){t.flags|=4}function Sy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!uv(i)){if(i=Un.current,i!==null&&((ze&4194176)===ze?ps!==null:(ze&62914560)!==ze&&(ze&536870912)===0||i!==ps))throw oo=Od,qp;t.flags|=8192}}function wu(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?vi():536870912,t.lanes|=i,Wr|=i)}function So(t,i){if(!Ge)switch(t.tailMode){case"hidden":i=t.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function rt(t){var i=t.alternate!==null&&t.alternate.child===t.child,r=0,o=0;if(i)for(var d=t.child;d!==null;)r|=d.lanes|d.childLanes,o|=d.subtreeFlags&31457280,o|=d.flags&31457280,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)r|=d.lanes|d.childLanes,o|=d.subtreeFlags,o|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=o,t.childLanes=r,i}function Jb(t,i,r){var o=i.pendingProps;switch(Cd(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(i),null;case 1:return rt(i),null;case 3:return r=i.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),$s(It),Is(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(io(i)?Ws(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Yn!==null&&(Pf(Yn),Yn=null))),rt(i),null;case 26:return r=i.memoizedState,t===null?(Ws(i),r!==null?(rt(i),Sy(i,r)):(rt(i),i.flags&=-16777217)):r?r!==t.memoizedState?(Ws(i),rt(i),Sy(i,r)):(rt(i),i.flags&=-16777217):(t.memoizedProps!==o&&Ws(i),rt(i),i.flags&=-16777217),null;case 27:pr(i),r=Rn.current;var d=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==o&&Ws(i);else{if(!o){if(i.stateNode===null)throw Error(a(166));return rt(i),null}t=sn.current,io(i)?Hp(i):(t=nv(d,o,r),i.stateNode=t,Ws(i))}return rt(i),null;case 5:if(pr(i),r=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&Ws(i);else{if(!o){if(i.stateNode===null)throw Error(a(166));return rt(i),null}if(t=sn.current,io(i))Hp(i);else{switch(d=Lu(Rn.current),t){case 1:t=d.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=d.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=d.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=d.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=d.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof o.is=="string"?d.createElement("select",{is:o.is}):d.createElement("select"),o.multiple?t.multiple=!0:o.size&&(t.size=o.size);break;default:t=typeof o.is=="string"?d.createElement(r,{is:o.is}):d.createElement(r)}}t[Mt]=i,t[St]=o;e:for(d=i.child;d!==null;){if(d.tag===5||d.tag===6)t.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===i)break e;for(;d.sibling===null;){if(d.return===null||d.return===i)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}i.stateNode=t;e:switch(Ft(t,r,o),r){case"button":case"input":case"select":case"textarea":t=!!o.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Ws(i)}}return rt(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==o&&Ws(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(a(166));if(t=Rn.current,io(i)){if(t=i.stateNode,r=i.memoizedProps,o=null,d=on,d!==null)switch(d.tag){case 27:case 5:o=d.memoizedProps}t[Mt]=i,t=!!(t.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||Xy(t.nodeValue,r)),t||Pa(i)}else t=Lu(t).createTextNode(o),t[Mt]=i,i.stateNode=t}return rt(i),null;case 13:if(o=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=io(i),o!==null&&o.dehydrated!==null){if(t===null){if(!d)throw Error(a(318));if(d=i.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(a(317));d[Mt]=i}else ao(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;rt(i),d=!1}else Yn!==null&&(Pf(Yn),Yn=null),d=!0;if(!d)return i.flags&256?(qs(i),i):(qs(i),null)}if(qs(i),(i.flags&128)!==0)return i.lanes=r,i;if(r=o!==null,t=t!==null&&t.memoizedState!==null,r){o=i.child,d=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(d=o.alternate.memoizedState.cachePool.pool);var m=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==d&&(o.flags|=2048)}return r!==t&&r&&(i.child.flags|=8192),wu(i,i.updateQueue),rt(i),null;case 4:return Is(),t===null&&Yf(i.stateNode.containerInfo),rt(i),null;case 10:return $s(i.type),rt(i),null;case 19:if(ct(kt),d=i.memoizedState,d===null)return rt(i),null;if(o=(i.flags&128)!==0,m=d.rendering,m===null)if(o)So(d,!1);else{if(dt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(m=ou(t),m!==null){for(i.flags|=128,So(d,!1),t=m.updateQueue,i.updateQueue=t,wu(i,t),i.subtreeFlags=0,t=r,r=i.child;r!==null;)Ay(r,t),r=r.sibling;return Xe(kt,kt.current&1|2),i.child}t=t.sibling}d.tail!==null&&dn()>Su&&(i.flags|=128,o=!0,So(d,!1),i.lanes=4194304)}else{if(!o)if(t=ou(m),t!==null){if(i.flags|=128,o=!0,t=t.updateQueue,i.updateQueue=t,wu(i,t),So(d,!0),d.tail===null&&d.tailMode==="hidden"&&!m.alternate&&!Ge)return rt(i),null}else 2*dn()-d.renderingStartTime>Su&&r!==536870912&&(i.flags|=128,o=!0,So(d,!1),i.lanes=4194304);d.isBackwards?(m.sibling=i.child,i.child=m):(t=d.last,t!==null?t.sibling=m:i.child=m,d.last=m)}return d.tail!==null?(i=d.tail,d.rendering=i,d.tail=i.sibling,d.renderingStartTime=dn(),i.sibling=null,t=kt.current,Xe(kt,o?t&1|2:t&1),i):(rt(i),null);case 22:case 23:return qs(i),Ld(),o=i.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(r&536870912)!==0&&(i.flags&128)===0&&(rt(i),i.subtreeFlags&6&&(i.flags|=8192)):rt(i),r=i.updateQueue,r!==null&&wu(i,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==r&&(i.flags|=2048),t!==null&&ct(Ba),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),i.memoizedState.cache!==r&&(i.flags|=2048),$s(It),rt(i),null;case 25:return null}throw Error(a(156,i.tag))}function eA(t,i){switch(Cd(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return $s(It),Is(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return pr(i),null;case 13:if(qs(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(a(340));ao()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return ct(kt),null;case 4:return Is(),null;case 10:return $s(i.type),null;case 22:case 23:return qs(i),Ld(),t!==null&&ct(Ba),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return $s(It),null;case 25:return null;default:return null}}function Ny(t,i){switch(Cd(i),i.tag){case 3:$s(It),Is();break;case 26:case 27:case 5:pr(i);break;case 4:Is();break;case 13:qs(i);break;case 19:ct(kt);break;case 10:$s(i.type);break;case 22:case 23:qs(i),Ld(),t!==null&&ct(Ba);break;case 24:$s(It)}}var tA={getCacheForType:function(t){var i=Wt(It),r=i.data.get(t);return r===void 0&&(r=t(),i.data.set(t,r)),r}},nA=typeof WeakMap=="function"?WeakMap:Map,lt=0,et=null,Me=null,ze=0,tt=0,Tn=null,Zs=!1,Xr=!1,jf=!1,Js=0,dt=0,Ki=0,Ya=0,Cf=0,qn=0,Wr=0,No=null,ys=null,Df=!1,Of=0,Su=1/0,Nu=null,Fi=null,Ru=!1,Xa=null,Ro=0,Mf=0,Lf=null,ko=0,Vf=null;function bn(){if((lt&2)!==0&&ze!==0)return ze&-ze;if(S.T!==null){var t=zr;return t!==0?t:Ff()}return Oc()}function Ry(){qn===0&&(qn=(ze&536870912)===0||Ge?Bl():536870912);var t=Un.current;return t!==null&&(t.flags|=32),qn}function cn(t,i,r){(t===et&&tt===2||t.cancelPendingCommit!==null)&&(Zr(t,0),ei(t,ze,qn,!1)),pt(t,r),((lt&2)===0||t!==et)&&(t===et&&((lt&2)===0&&(Ya|=r),dt===4&&ei(t,ze,qn,!1)),vs(t))}function ky(t,i,r){if((lt&6)!==0)throw Error(a(327));var o=!r&&(i&60)===0&&(i&t.expiredLanes)===0||yi(t,i),d=o?aA(t,i):Hf(t,i,!0),m=o;do{if(d===0){Xr&&!o&&ei(t,i,0,!1);break}else if(d===6)ei(t,i,0,!Zs);else{if(r=t.current.alternate,m&&!sA(r)){d=Hf(t,i,!1),m=!1;continue}if(d===2){if(m=i,t.errorRecoveryDisabledLanes&m)var x=0;else x=t.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){i=x;e:{var T=t;d=No;var j=T.current.memoizedState.isDehydrated;if(j&&(Zr(T,x).flags|=256),x=Hf(T,x,!1),x!==2){if(jf&&!j){T.errorRecoveryDisabledLanes|=m,Ya|=m,d=4;break e}m=ys,ys=d,m!==null&&Pf(m)}d=x}if(m=!1,d!==2)continue}}if(d===1){Zr(t,0),ei(t,i,0,!0);break}e:{switch(o=t,d){case 0:case 1:throw Error(a(345));case 4:if((i&4194176)===i){ei(o,i,qn,!Zs);break e}break;case 2:ys=null;break;case 3:case 5:break;default:throw Error(a(329))}if(o.finishedWork=r,o.finishedLanes=i,(i&62914560)===i&&(m=Of+300-dn(),10<m)){if(ei(o,i,qn,!Zs),kn(o,0)!==0)break e;o.timeoutHandle=Jy(Iy.bind(null,o,r,ys,Nu,Df,i,qn,Ya,Wr,Zs,2,-0,0),m);break e}Iy(o,r,ys,Nu,Df,i,qn,Ya,Wr,Zs,0,-0,0)}}break}while(!0);vs(t)}function Pf(t){ys===null?ys=t:ys.push.apply(ys,t)}function Iy(t,i,r,o,d,m,x,T,j,B,Z,ae,Y){var W=i.subtreeFlags;if((W&8192||(W&16785408)===16785408)&&(Mo={stylesheets:null,count:0,unsuspend:PA},xy(i),i=BA(),i!==null)){t.cancelPendingCommit=i(Vy.bind(null,t,r,o,d,x,T,j,1,ae,Y)),ei(t,m,x,!B);return}Vy(t,r,o,d,x,T,j,Z,ae,Y)}function sA(t){for(var i=t;;){var r=i.tag;if((r===0||r===11||r===15)&&i.flags&16384&&(r=i.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var d=r[o],m=d.getSnapshot;d=d.value;try{if(!vn(m(),d))return!1}catch{return!1}}if(r=i.child,i.subtreeFlags&16384&&r!==null)r.return=i,i=r;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ei(t,i,r,o){i&=~Cf,i&=~Ya,t.suspendedLanes|=i,t.pingedLanes&=~i,o&&(t.warmLanes|=i),o=t.expirationTimes;for(var d=i;0<d;){var m=31-an(d),x=1<<m;o[m]=-1,d&=~x}r!==0&&xi(t,r,i)}function ku(){return(lt&6)===0?(Io(0),!1):!0}function Uf(){if(Me!==null){if(tt===0)var t=Me.return;else t=Me,Gs=Fa=null,Kd(t),Br=null,co=0,t=Me;for(;t!==null;)Ny(t.alternate,t),t=t.return;Me=null}}function Zr(t,i){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,TA(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Uf(),et=t,Me=r=qi(t.current,null),ze=i,tt=0,Tn=null,Zs=!1,Xr=yi(t,i),jf=!1,Wr=qn=Cf=Ya=Ki=dt=0,ys=No=null,Df=!1,(i&8)!==0&&(i|=i&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=i;0<o;){var d=31-an(o),m=1<<d;i|=t[d],o&=~m}return Js=i,Jc(),r}function jy(t,i){De=null,S.H=_s,i===lo?(i=Gp(),tt=3):i===qp?(i=Gp(),tt=4):tt=i===K_?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Tn=i,Me===null&&(dt=1,vu(t,Ln(i,t.current)))}function Cy(){var t=S.H;return S.H=_s,t===null?_s:t}function Dy(){var t=S.A;return S.A=tA,t}function Bf(){dt=4,Zs||(ze&4194176)!==ze&&Un.current!==null||(Xr=!0),(Ki&134217727)===0&&(Ya&134217727)===0||et===null||ei(et,ze,qn,!1)}function Hf(t,i,r){var o=lt;lt|=2;var d=Cy(),m=Dy();(et!==t||ze!==i)&&(Nu=null,Zr(t,i)),i=!1;var x=dt;e:do try{if(tt!==0&&Me!==null){var T=Me,j=Tn;switch(tt){case 8:Uf(),x=6;break e;case 3:case 2:case 6:Un.current===null&&(i=!0);var B=tt;if(tt=0,Tn=null,Jr(t,T,j,B),r&&Xr){x=0;break e}break;default:B=tt,tt=0,Tn=null,Jr(t,T,j,B)}}iA(),x=dt;break}catch(Z){jy(t,Z)}while(!0);return i&&t.shellSuspendCounter++,Gs=Fa=null,lt=o,S.H=d,S.A=m,Me===null&&(et=null,ze=0,Jc()),x}function iA(){for(;Me!==null;)Oy(Me)}function aA(t,i){var r=lt;lt|=2;var o=Cy(),d=Dy();et!==t||ze!==i?(Nu=null,Su=dn()+500,Zr(t,i)):Xr=yi(t,i);e:do try{if(tt!==0&&Me!==null){i=Me;var m=Tn;t:switch(tt){case 1:tt=0,Tn=null,Jr(t,i,m,1);break;case 2:if(Kp(m)){tt=0,Tn=null,My(i);break}i=function(){tt===2&&et===t&&(tt=7),vs(t)},m.then(i,i);break e;case 3:tt=7;break e;case 4:tt=5;break e;case 7:Kp(m)?(tt=0,Tn=null,My(i)):(tt=0,Tn=null,Jr(t,i,m,7));break;case 5:var x=null;switch(Me.tag){case 26:x=Me.memoizedState;case 5:case 27:var T=Me;if(!x||uv(x)){tt=0,Tn=null;var j=T.sibling;if(j!==null)Me=j;else{var B=T.return;B!==null?(Me=B,Iu(B)):Me=null}break t}}tt=0,Tn=null,Jr(t,i,m,5);break;case 6:tt=0,Tn=null,Jr(t,i,m,6);break;case 8:Uf(),dt=6;break e;default:throw Error(a(462))}}rA();break}catch(Z){jy(t,Z)}while(!0);return Gs=Fa=null,S.H=o,S.A=d,lt=r,Me!==null?0:(et=null,ze=0,Jc(),dt)}function rA(){for(;Me!==null&&!md();)Oy(Me)}function Oy(t){var i=ny(t.alternate,t,Js);t.memoizedProps=t.pendingProps,i===null?Iu(t):Me=i}function My(t){var i=t,r=i.alternate;switch(i.tag){case 15:case 0:i=X_(r,i,i.pendingProps,i.type,void 0,ze);break;case 11:i=X_(r,i,i.pendingProps,i.type.render,i.ref,ze);break;case 5:Kd(i);default:Ny(r,i),i=Me=Ay(i,Js),i=ny(r,i,Js)}t.memoizedProps=t.pendingProps,i===null?Iu(t):Me=i}function Jr(t,i,r,o){Gs=Fa=null,Kd(i),Br=null,co=0;var d=i.return;try{if(Qb(t,d,i,r,ze)){dt=1,vu(t,Ln(r,t.current)),Me=null;return}}catch(m){if(d!==null)throw Me=d,m;dt=1,vu(t,Ln(r,t.current)),Me=null;return}i.flags&32768?(Ge||o===1?t=!0:Xr||(ze&536870912)!==0?t=!1:(Zs=t=!0,(o===2||o===3||o===6)&&(o=Un.current,o!==null&&o.tag===13&&(o.flags|=16384))),Ly(i,t)):Iu(i)}function Iu(t){var i=t;do{if((i.flags&32768)!==0){Ly(i,Zs);return}t=i.return;var r=Jb(i.alternate,i,Js);if(r!==null){Me=r;return}if(i=i.sibling,i!==null){Me=i;return}Me=i=t}while(i!==null);dt===0&&(dt=5)}function Ly(t,i){do{var r=eA(t.alternate,t);if(r!==null){r.flags&=32767,Me=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!i&&(t=t.sibling,t!==null)){Me=t;return}Me=t=r}while(t!==null);dt=6,Me=null}function Vy(t,i,r,o,d,m,x,T,j,B){var Z=S.T,ae=he.p;try{he.p=2,S.T=null,lA(t,i,r,o,ae,d,m,x,T,j,B)}finally{S.T=Z,he.p=ae}}function lA(t,i,r,o,d,m,x,T){do el();while(Xa!==null);if((lt&6)!==0)throw Error(a(327));var j=t.finishedWork;if(o=t.finishedLanes,j===null)return null;if(t.finishedWork=null,t.finishedLanes=0,j===t.current)throw Error(a(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var B=j.lanes|j.childLanes;if(B|=kd,Cc(t,o,B,m,x,T),t===et&&(Me=et=null,ze=0),(j.subtreeFlags&10256)===0&&(j.flags&10256)===0||Ru||(Ru=!0,Mf=B,Lf=r,hA(js,function(){return el(),null})),r=(j.flags&15990)!==0,(j.subtreeFlags&15990)!==0||r?(r=S.T,S.T=null,m=he.p,he.p=2,x=lt,lt|=4,Xb(t,j),_y(j,t),jb(Jf,t.containerInfo),zu=!!Zf,Jf=Zf=null,t.current=j,fy(t,j.alternate,j),Ll(),lt=x,he.p=m,S.T=r):t.current=j,Ru?(Ru=!1,Xa=t,Ro=o):Py(t,B),B=t.pendingLanes,B===0&&(Fi=null),Pl(j.stateNode),vs(t),i!==null)for(d=t.onRecoverableError,j=0;j<i.length;j++)B=i[j],d(B.value,{componentStack:B.stack});return(Ro&3)!==0&&el(),B=t.pendingLanes,(o&4194218)!==0&&(B&42)!==0?t===Vf?ko++:(ko=0,Vf=t):ko=0,Io(0),null}function Py(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,ho(i)))}function el(){if(Xa!==null){var t=Xa,i=Mf;Mf=0;var r=Dc(Ro),o=S.T,d=he.p;try{if(he.p=32>r?32:r,S.T=null,Xa===null)var m=!1;else{r=Lf,Lf=null;var x=Xa,T=Ro;if(Xa=null,Ro=0,(lt&6)!==0)throw Error(a(331));var j=lt;if(lt|=4,Ty(x.current),vy(x,x.current,T,r),lt=j,Io(0,!1),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(pi,x)}catch{}m=!0}return m}finally{he.p=d,S.T=o,Py(t,i)}}return!1}function Uy(t,i,r){i=Ln(r,i),i=af(t.stateNode,i,2),t=Ui(t,i,2),t!==null&&(pt(t,2),vs(t))}function Je(t,i,r){if(t.tag===3)Uy(t,t,r);else for(;i!==null;){if(i.tag===3){Uy(i,t,r);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Fi===null||!Fi.has(o))){t=Ln(r,t),r=z_(2),o=Ui(i,r,2),o!==null&&(q_(r,o,i,t),pt(o,2),vs(o));break}}i=i.return}}function zf(t,i,r){var o=t.pingCache;if(o===null){o=t.pingCache=new nA;var d=new Set;o.set(i,d)}else d=o.get(i),d===void 0&&(d=new Set,o.set(i,d));d.has(r)||(jf=!0,d.add(r),t=oA.bind(null,t,i,r),i.then(t,t))}function oA(t,i,r){var o=t.pingCache;o!==null&&o.delete(i),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,et===t&&(ze&r)===r&&(dt===4||dt===3&&(ze&62914560)===ze&&300>dn()-Of?(lt&2)===0&&Zr(t,0):Cf|=r,Wr===ze&&(Wr=0)),vs(t)}function By(t,i){i===0&&(i=vi()),t=ji(t,i),t!==null&&(pt(t,i),vs(t))}function cA(t){var i=t.memoizedState,r=0;i!==null&&(r=i.retryLane),By(t,r)}function uA(t,i){var r=0;switch(t.tag){case 13:var o=t.stateNode,d=t.memoizedState;d!==null&&(r=d.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(i),By(t,r)}function hA(t,i){return xa(t,i)}var ju=null,tl=null,qf=!1,Cu=!1,Kf=!1,Wa=0;function vs(t){t!==tl&&t.next===null&&(tl===null?ju=tl=t:tl=tl.next=t),Cu=!0,qf||(qf=!0,fA(dA))}function Io(t,i){if(!Kf&&Cu){Kf=!0;do for(var r=!1,o=ju;o!==null;){if(t!==0){var d=o.pendingLanes;if(d===0)var m=0;else{var x=o.suspendedLanes,T=o.pingedLanes;m=(1<<31-an(42|t)+1)-1,m&=d&~(x&~T),m=m&201326677?m&201326677|1:m?m|2:0}m!==0&&(r=!0,qy(o,m))}else m=ze,m=kn(o,o===et?m:0),(m&3)===0||yi(o,m)||(r=!0,qy(o,m));o=o.next}while(r);Kf=!1}}function dA(){Cu=qf=!1;var t=0;Wa!==0&&(EA()&&(t=Wa),Wa=0);for(var i=dn(),r=null,o=ju;o!==null;){var d=o.next,m=Hy(o,i);m===0?(o.next=null,r===null?ju=d:r.next=d,d===null&&(tl=r)):(r=o,(t!==0||(m&3)!==0)&&(Cu=!0)),o=d}Io(t)}function Hy(t,i){for(var r=t.suspendedLanes,o=t.pingedLanes,d=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var x=31-an(m),T=1<<x,j=d[x];j===-1?((T&r)===0||(T&o)!==0)&&(d[x]=vr(T,i)):j<=i&&(t.expiredLanes|=T),m&=~T}if(i=et,r=ze,r=kn(t,t===i?r:0),o=t.callbackNode,r===0||t===i&&tt===2||t.cancelPendingCommit!==null)return o!==null&&o!==null&&yr(o),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||yi(t,r)){if(i=r&-r,i===t.callbackPriority)return i;switch(o!==null&&yr(o),Dc(r)){case 2:case 8:r=Ot;break;case 32:r=js;break;case 268435456:r=Vl;break;default:r=js}return o=zy.bind(null,t),r=xa(r,o),t.callbackPriority=i,t.callbackNode=r,i}return o!==null&&o!==null&&yr(o),t.callbackPriority=2,t.callbackNode=null,2}function zy(t,i){var r=t.callbackNode;if(el()&&t.callbackNode!==r)return null;var o=ze;return o=kn(t,t===et?o:0),o===0?null:(ky(t,o,i),Hy(t,dn()),t.callbackNode!=null&&t.callbackNode===r?zy.bind(null,t):null)}function qy(t,i){if(el())return null;ky(t,i,!0)}function fA(t){bA(function(){(lt&6)!==0?xa(wt,t):t()})}function Ff(){return Wa===0&&(Wa=Bl()),Wa}function Ky(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:os(""+t)}function Fy(t,i){var r=i.ownerDocument.createElement("input");return r.name=i.name,r.value=i.value,t.id&&r.setAttribute("form",t.id),i.parentNode.insertBefore(r,i),t=new FormData(t),r.parentNode.removeChild(r),t}function mA(t,i,r,o,d){if(i==="submit"&&r&&r.stateNode===d){var m=Ky((d[St]||null).action),x=o.submitter;x&&(i=(i=x[St]||null)?Ky(i.formAction):x.getAttribute("formAction"),i!==null&&(m=i,x=null));var T=new Sr("action","action",null,o,d);t.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Wa!==0){var j=x?Fy(d,x):new FormData(d);Jd(r,{pending:!0,data:j,method:d.method,action:m},null,j)}}else typeof m=="function"&&(T.preventDefault(),j=x?Fy(d,x):new FormData(d),Jd(r,{pending:!0,data:j,method:d.method,action:m},m,j))},currentTarget:d}]})}}for(var Gf=0;Gf<Vp.length;Gf++){var $f=Vp[Gf],gA=$f.toLowerCase(),pA=$f[0].toUpperCase()+$f.slice(1);Qn(gA,"on"+pA)}Qn(Cp,"onAnimationEnd"),Qn(Dp,"onAnimationIteration"),Qn(Op,"onAnimationStart"),Qn("dblclick","onDoubleClick"),Qn("focusin","onFocus"),Qn("focusout","onBlur"),Qn(Db,"onTransitionRun"),Qn(Ob,"onTransitionStart"),Qn(Mb,"onTransitionCancel"),Qn(Mp,"onTransitionEnd"),fn("onMouseEnter",["mouseout","mouseover"]),fn("onMouseLeave",["mouseout","mouseover"]),fn("onPointerEnter",["pointerout","pointerover"]),fn("onPointerLeave",["pointerout","pointerover"]),_n("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_n("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_n("onBeforeInput",["compositionend","keypress","textInput","paste"]),_n("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_n("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_n("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_A=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jo));function Gy(t,i){i=(i&4)!==0;for(var r=0;r<t.length;r++){var o=t[r],d=o.event;o=o.listeners;e:{var m=void 0;if(i)for(var x=o.length-1;0<=x;x--){var T=o[x],j=T.instance,B=T.currentTarget;if(T=T.listener,j!==m&&d.isPropagationStopped())break e;m=T,d.currentTarget=B;try{m(d)}catch(Z){yu(Z)}d.currentTarget=null,m=j}else for(x=0;x<o.length;x++){if(T=o[x],j=T.instance,B=T.currentTarget,T=T.listener,j!==m&&d.isPropagationStopped())break e;m=T,d.currentTarget=B;try{m(d)}catch(Z){yu(Z)}d.currentTarget=null,m=j}}}}function Pe(t,i){var r=i[Ta];r===void 0&&(r=i[Ta]=new Set);var o=t+"__bubble";r.has(o)||($y(i,t,2,!1),r.add(o))}function Qf(t,i,r){var o=0;i&&(o|=4),$y(r,t,o,i)}var Du="_reactListening"+Math.random().toString(36).slice(2);function Yf(t){if(!t[Du]){t[Du]=!0,zl.forEach(function(r){r!=="selectionchange"&&(_A.has(r)||Qf(r,!1,t),Qf(r,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Du]||(i[Du]=!0,Qf("selectionchange",!1,i))}}function $y(t,i,r,o){switch(pv(i)){case 2:var d=qA;break;case 8:d=KA;break;default:d=om}r=d.bind(null,i,r,t),d=void 0,!Dn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),o?d!==void 0?t.addEventListener(i,r,{capture:!0,passive:d}):t.addEventListener(i,r,!0):d!==void 0?t.addEventListener(i,r,{passive:d}):t.addEventListener(i,r,!1)}function Xf(t,i,r,o,d){var m=o;if((i&1)===0&&(i&2)===0&&o!==null)e:for(;;){if(o===null)return;var x=o.tag;if(x===3||x===4){var T=o.stateNode.containerInfo;if(T===d||T.nodeType===8&&T.parentNode===d)break;if(x===4)for(x=o.return;x!==null;){var j=x.tag;if((j===3||j===4)&&(j=x.stateNode.containerInfo,j===d||j.nodeType===8&&j.parentNode===d))return;x=x.return}for(;T!==null;){if(x=$n(T),x===null)return;if(j=x.tag,j===5||j===6||j===26||j===27){o=m=x;continue e}T=T.parentNode}}o=o.return}Pc(function(){var B=m,Z=wr(r),ae=[];e:{var Y=Lp.get(t);if(Y!==void 0){var W=Sr,pe=t;switch(t){case"keypress":if(us(r)===0)break e;case"keydown":case"keyup":W=Cr;break;case"focusin":pe="focus",W=kr;break;case"focusout":pe="blur",W=kr;break;case"beforeblur":case"afterblur":W=kr;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=On;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=Ed;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=Gc;break;case Cp:case Dp:case Op:W=Ir;break;case Mp:W=Qc;break;case"scroll":case"scrollend":W=Uc;break;case"wheel":W=Dr;break;case"copy":case"cut":case"paste":W=jr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=eo;break;case"toggle":case"beforetoggle":W=Xc}var Ne=(i&4)!==0,ft=!Ne&&(t==="scroll"||t==="scrollend"),K=Ne?Y!==null?Y+"Capture":null:Y;Ne=[];for(var U=B,$;U!==null;){var te=U;if($=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||$===null||K===null||(te=Na(U,K),te!=null&&Ne.push(Co(U,te,$))),ft)break;U=U.return}0<Ne.length&&(Y=new W(Y,pe,null,r,Z),ae.push({event:Y,listeners:Ne}))}}if((i&7)===0){e:{if(Y=t==="mouseover"||t==="pointerover",W=t==="mouseout"||t==="pointerout",Y&&r!==Cn&&(pe=r.relatedTarget||r.fromElement)&&($n(pe)||pe[Cs]))break e;if((W||Y)&&(Y=Z.window===Z?Z:(Y=Z.ownerDocument)?Y.defaultView||Y.parentWindow:window,W?(pe=r.relatedTarget||r.toElement,W=B,pe=pe?$n(pe):null,pe!==null&&(ft=ce(pe),Ne=pe.tag,pe!==ft||Ne!==5&&Ne!==27&&Ne!==6)&&(pe=null)):(W=null,pe=B),W!==pe)){if(Ne=On,te="onMouseLeave",K="onMouseEnter",U="mouse",(t==="pointerout"||t==="pointerover")&&(Ne=eo,te="onPointerLeave",K="onPointerEnter",U="pointer"),ft=W==null?Y:Ai(W),$=pe==null?Y:Ai(pe),Y=new Ne(te,U+"leave",W,r,Z),Y.target=ft,Y.relatedTarget=$,te=null,$n(Z)===B&&(Ne=new Ne(K,U+"enter",pe,r,Z),Ne.target=$,Ne.relatedTarget=ft,te=Ne),ft=te,W&&pe)t:{for(Ne=W,K=pe,U=0,$=Ne;$;$=nl($))U++;for($=0,te=K;te;te=nl(te))$++;for(;0<U-$;)Ne=nl(Ne),U--;for(;0<$-U;)K=nl(K),$--;for(;U--;){if(Ne===K||K!==null&&Ne===K.alternate)break t;Ne=nl(Ne),K=nl(K)}Ne=null}else Ne=null;W!==null&&Qy(ae,Y,W,Ne,!1),pe!==null&&ft!==null&&Qy(ae,ft,pe,Ne,!0)}}e:{if(Y=B?Ai(B):window,W=Y.nodeName&&Y.nodeName.toLowerCase(),W==="select"||W==="input"&&Y.type==="file")var ge=Ep;else if(Rt(Y))if(Tp)ge=kb;else{ge=Nb;var Oe=Sb}else W=Y.nodeName,!W||W.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?B&&$l(B.elementType)&&(ge=Ep):ge=Rb;if(ge&&(ge=ge(t,B))){Bs(ae,ge,r,Z);break e}Oe&&Oe(t,Y,B),t==="focusout"&&B&&Y.type==="number"&&B.memoizedProps.value!=null&&Ar(Y,"number",Y.value)}switch(Oe=B?Ai(B):window,t){case"focusin":(Rt(Oe)||Oe.contentEditable==="true")&&(Or=Oe,Sd=B,so=null);break;case"focusout":so=Sd=Or=null;break;case"mousedown":Nd=!0;break;case"contextmenu":case"mouseup":case"dragend":Nd=!1,Ip(ae,r,Z);break;case"selectionchange":if(Cb)break;case"keydown":case"keyup":Ip(ae,r,Z)}var _e;if(fs)e:{switch(t){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else Be?X(t,r)&&(xe="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(xe="onCompositionStart");xe&&(v&&r.locale!=="ko"&&(Be||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&Be&&(_e=Yl()):(cs=Z,Ii="value"in cs?cs.value:cs.textContent,Be=!0)),Oe=Ou(B,xe),0<Oe.length&&(xe=new Zl(xe,t,null,r,Z),ae.push({event:xe,listeners:Oe}),_e?xe.data=_e:(_e=oe(r),_e!==null&&(xe.data=_e)))),(_e=y?Nt(t,r):He(t,r))&&(xe=Ou(B,"onBeforeInput"),0<xe.length&&(Oe=new Zl("onBeforeInput","beforeinput",null,r,Z),ae.push({event:Oe,listeners:xe}),Oe.data=_e)),mA(ae,t,B,r,Z)}Gy(ae,i)})}function Co(t,i,r){return{instance:t,listener:i,currentTarget:r}}function Ou(t,i){for(var r=i+"Capture",o=[];t!==null;){var d=t,m=d.stateNode;d=d.tag,d!==5&&d!==26&&d!==27||m===null||(d=Na(t,r),d!=null&&o.unshift(Co(t,d,m)),d=Na(t,i),d!=null&&o.push(Co(t,d,m))),t=t.return}return o}function nl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Qy(t,i,r,o,d){for(var m=i._reactName,x=[];r!==null&&r!==o;){var T=r,j=T.alternate,B=T.stateNode;if(T=T.tag,j!==null&&j===o)break;T!==5&&T!==26&&T!==27||B===null||(j=B,d?(B=Na(r,m),B!=null&&x.unshift(Co(r,B,j))):d||(B=Na(r,m),B!=null&&x.push(Co(r,B,j)))),r=r.return}x.length!==0&&t.push({event:i,listeners:x})}var yA=/\r\n?/g,vA=/\u0000|\uFFFD/g;function Yy(t){return(typeof t=="string"?t:""+t).replace(yA,`
`).replace(vA,"")}function Xy(t,i){return i=Yy(i),Yy(t)===i}function Mu(){}function Ze(t,i,r,o,d,m){switch(r){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||jn(t,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&jn(t,""+o);break;case"className":Ni(t,"class",o);break;case"tabIndex":Ni(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Ni(t,r,o);break;case"style":Vc(t,o,m);break;case"data":if(i!=="object"){Ni(t,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||r!=="href")){t.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=os(""+o),t.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(r==="formAction"?(i!=="input"&&Ze(t,i,"name",d.name,d,null),Ze(t,i,"formEncType",d.formEncType,d,null),Ze(t,i,"formMethod",d.formMethod,d,null),Ze(t,i,"formTarget",d.formTarget,d,null)):(Ze(t,i,"encType",d.encType,d,null),Ze(t,i,"method",d.method,d,null),Ze(t,i,"target",d.target,d,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=os(""+o),t.setAttribute(r,o);break;case"onClick":o!=null&&(t.onclick=Mu);break;case"onScroll":o!=null&&Pe("scroll",t);break;case"onScrollEnd":o!=null&&Pe("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(d.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}r=os(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""+o):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":o===!0?t.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,o):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(r,o):t.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(r):t.setAttribute(r,o);break;case"popover":Pe("beforetoggle",t),Pe("toggle",t),Si(t,"popover",o);break;case"xlinkActuate":In(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":In(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":In(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":In(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":In(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":In(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":In(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":In(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":In(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Si(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=vd.get(r)||r,Si(t,r,o))}}function Wf(t,i,r,o,d,m){switch(r){case"style":Vc(t,o,m);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(d.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof o=="string"?jn(t,o):(typeof o=="number"||typeof o=="bigint")&&jn(t,""+o);break;case"onScroll":o!=null&&Pe("scroll",t);break;case"onScrollEnd":o!=null&&Pe("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Mu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Tr.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(d=r.endsWith("Capture"),i=r.slice(2,d?r.length-7:void 0),m=t[St]||null,m=m!=null?m[r]:null,typeof m=="function"&&t.removeEventListener(i,m,d),typeof o=="function")){typeof m!="function"&&m!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(i,o,d);break e}r in t?t[r]=o:o===!0?t.setAttribute(r,""):Si(t,r,o)}}}function Ft(t,i,r){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",t),Pe("load",t);var o=!1,d=!1,m;for(m in r)if(r.hasOwnProperty(m)){var x=r[m];if(x!=null)switch(m){case"src":o=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Ze(t,i,m,x,r,null)}}d&&Ze(t,i,"srcSet",r.srcSet,r,null),o&&Ze(t,i,"src",r.src,r,null);return;case"input":Pe("invalid",t);var T=m=x=d=null,j=null,B=null;for(o in r)if(r.hasOwnProperty(o)){var Z=r[o];if(Z!=null)switch(o){case"name":d=Z;break;case"type":x=Z;break;case"checked":j=Z;break;case"defaultChecked":B=Z;break;case"value":m=Z;break;case"defaultValue":T=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(a(137,i));break;default:Ze(t,i,o,Z,r,null)}}wa(t,m,T,j,B,x,d,!1),Aa(t);return;case"select":Pe("invalid",t),o=x=m=null;for(d in r)if(r.hasOwnProperty(d)&&(T=r[d],T!=null))switch(d){case"value":m=T;break;case"defaultValue":x=T;break;case"multiple":o=T;default:Ze(t,i,d,T,r,null)}i=m,r=x,t.multiple=!!o,i!=null?Fe(t,!!o,i,!1):r!=null&&Fe(t,!!o,r,!0);return;case"textarea":Pe("invalid",t),m=d=o=null;for(x in r)if(r.hasOwnProperty(x)&&(T=r[x],T!=null))switch(x){case"value":o=T;break;case"defaultValue":d=T;break;case"children":m=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:Ze(t,i,x,T,r,null)}ki(t,o,d,m),Aa(t);return;case"option":for(j in r)if(r.hasOwnProperty(j)&&(o=r[j],o!=null))switch(j){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Ze(t,i,j,o,r,null)}return;case"dialog":Pe("cancel",t),Pe("close",t);break;case"iframe":case"object":Pe("load",t);break;case"video":case"audio":for(o=0;o<jo.length;o++)Pe(jo[o],t);break;case"image":Pe("error",t),Pe("load",t);break;case"details":Pe("toggle",t);break;case"embed":case"source":case"link":Pe("error",t),Pe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in r)if(r.hasOwnProperty(B)&&(o=r[B],o!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Ze(t,i,B,o,r,null)}return;default:if($l(i)){for(Z in r)r.hasOwnProperty(Z)&&(o=r[Z],o!==void 0&&Wf(t,i,Z,o,r,void 0));return}}for(T in r)r.hasOwnProperty(T)&&(o=r[T],o!=null&&Ze(t,i,T,o,r,null))}function xA(t,i,r,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,m=null,x=null,T=null,j=null,B=null,Z=null;for(W in r){var ae=r[W];if(r.hasOwnProperty(W)&&ae!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":j=ae;default:o.hasOwnProperty(W)||Ze(t,i,W,null,o,ae)}}for(var Y in o){var W=o[Y];if(ae=r[Y],o.hasOwnProperty(Y)&&(W!=null||ae!=null))switch(Y){case"type":m=W;break;case"name":d=W;break;case"checked":B=W;break;case"defaultChecked":Z=W;break;case"value":x=W;break;case"defaultValue":T=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(a(137,i));break;default:W!==ae&&Ze(t,i,Y,W,o,ae)}}Ri(t,x,T,j,B,Z,m,d);return;case"select":W=x=T=Y=null;for(m in r)if(j=r[m],r.hasOwnProperty(m)&&j!=null)switch(m){case"value":break;case"multiple":W=j;default:o.hasOwnProperty(m)||Ze(t,i,m,null,o,j)}for(d in o)if(m=o[d],j=r[d],o.hasOwnProperty(d)&&(m!=null||j!=null))switch(d){case"value":Y=m;break;case"defaultValue":T=m;break;case"multiple":x=m;default:m!==j&&Ze(t,i,d,m,o,j)}i=T,r=x,o=W,Y!=null?Fe(t,!!r,Y,!1):!!o!=!!r&&(i!=null?Fe(t,!!r,i,!0):Fe(t,!!r,r?[]:"",!1));return;case"textarea":W=Y=null;for(T in r)if(d=r[T],r.hasOwnProperty(T)&&d!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Ze(t,i,T,null,o,d)}for(x in o)if(d=o[x],m=r[x],o.hasOwnProperty(x)&&(d!=null||m!=null))switch(x){case"value":Y=d;break;case"defaultValue":W=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(a(91));break;default:d!==m&&Ze(t,i,x,d,o,m)}Sa(t,Y,W);return;case"option":for(var pe in r)if(Y=r[pe],r.hasOwnProperty(pe)&&Y!=null&&!o.hasOwnProperty(pe))switch(pe){case"selected":t.selected=!1;break;default:Ze(t,i,pe,null,o,Y)}for(j in o)if(Y=o[j],W=r[j],o.hasOwnProperty(j)&&Y!==W&&(Y!=null||W!=null))switch(j){case"selected":t.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:Ze(t,i,j,Y,o,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ne in r)Y=r[Ne],r.hasOwnProperty(Ne)&&Y!=null&&!o.hasOwnProperty(Ne)&&Ze(t,i,Ne,null,o,Y);for(B in o)if(Y=o[B],W=r[B],o.hasOwnProperty(B)&&Y!==W&&(Y!=null||W!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(a(137,i));break;default:Ze(t,i,B,Y,o,W)}return;default:if($l(i)){for(var ft in r)Y=r[ft],r.hasOwnProperty(ft)&&Y!==void 0&&!o.hasOwnProperty(ft)&&Wf(t,i,ft,void 0,o,Y);for(Z in o)Y=o[Z],W=r[Z],!o.hasOwnProperty(Z)||Y===W||Y===void 0&&W===void 0||Wf(t,i,Z,Y,o,W);return}}for(var K in r)Y=r[K],r.hasOwnProperty(K)&&Y!=null&&!o.hasOwnProperty(K)&&Ze(t,i,K,null,o,Y);for(ae in o)Y=o[ae],W=r[ae],!o.hasOwnProperty(ae)||Y===W||Y==null&&W==null||Ze(t,i,ae,Y,o,W)}var Zf=null,Jf=null;function Lu(t){return t.nodeType===9?t:t.ownerDocument}function Wy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Zy(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function em(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var tm=null;function EA(){var t=window.event;return t&&t.type==="popstate"?t===tm?!1:(tm=t,!0):(tm=null,!1)}var Jy=typeof setTimeout=="function"?setTimeout:void 0,TA=typeof clearTimeout=="function"?clearTimeout:void 0,ev=typeof Promise=="function"?Promise:void 0,bA=typeof queueMicrotask=="function"?queueMicrotask:typeof ev<"u"?function(t){return ev.resolve(null).then(t).catch(AA)}:Jy;function AA(t){setTimeout(function(){throw t})}function nm(t,i){var r=i,o=0;do{var d=r.nextSibling;if(t.removeChild(r),d&&d.nodeType===8)if(r=d.data,r==="/$"){if(o===0){t.removeChild(d),Bo(i);return}o--}else r!=="$"&&r!=="$?"&&r!=="$!"||o++;r=d}while(r);Bo(i)}function sm(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var r=i;switch(i=i.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":sm(r),ba(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function wA(t,i,r,o){for(;t.nodeType===1;){var d=r;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[bi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==d.rel||t.getAttribute("href")!==(d.href==null?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var m=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=Wn(t.nextSibling),t===null)break}return null}function SA(t,i,r){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Wn(t.nextSibling),t===null))return null;return t}function Wn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}function tv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(i===0)return t;i--}else r==="/$"&&i++}t=t.previousSibling}return null}function nv(t,i,r){switch(i=Lu(r),t){case"html":if(t=i.documentElement,!t)throw Error(a(452));return t;case"head":if(t=i.head,!t)throw Error(a(453));return t;case"body":if(t=i.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}var Kn=new Map,sv=new Set;function Vu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var ti=he.d;he.d={f:NA,r:RA,D:kA,C:IA,L:jA,m:CA,X:OA,S:DA,M:MA};function NA(){var t=ti.f(),i=ku();return t||i}function RA(t){var i=Ds(t);i!==null&&i.tag===5&&i.type==="form"?I_(i):ti.r(t)}var sl=typeof document>"u"?null:document;function iv(t,i,r){var o=sl;if(o&&typeof i=="string"&&i){var d=ut(i);d='link[rel="'+t+'"][href="'+d+'"]',typeof r=="string"&&(d+='[crossorigin="'+r+'"]'),sv.has(d)||(sv.add(d),t={rel:t,crossOrigin:r,href:i},o.querySelector(d)===null&&(i=o.createElement("link"),Ft(i,"link",t),at(i),o.head.appendChild(i)))}}function kA(t){ti.D(t),iv("dns-prefetch",t,null)}function IA(t,i){ti.C(t,i),iv("preconnect",t,i)}function jA(t,i,r){ti.L(t,i,r);var o=sl;if(o&&t&&i){var d='link[rel="preload"][as="'+ut(i)+'"]';i==="image"&&r&&r.imageSrcSet?(d+='[imagesrcset="'+ut(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(d+='[imagesizes="'+ut(r.imageSizes)+'"]')):d+='[href="'+ut(t)+'"]';var m=d;switch(i){case"style":m=il(t);break;case"script":m=al(t)}Kn.has(m)||(t=k({rel:"preload",href:i==="image"&&r&&r.imageSrcSet?void 0:t,as:i},r),Kn.set(m,t),o.querySelector(d)!==null||i==="style"&&o.querySelector(Do(m))||i==="script"&&o.querySelector(Oo(m))||(i=o.createElement("link"),Ft(i,"link",t),at(i),o.head.appendChild(i)))}}function CA(t,i){ti.m(t,i);var r=sl;if(r&&t){var o=i&&typeof i.as=="string"?i.as:"script",d='link[rel="modulepreload"][as="'+ut(o)+'"][href="'+ut(t)+'"]',m=d;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=al(t)}if(!Kn.has(m)&&(t=k({rel:"modulepreload",href:t},i),Kn.set(m,t),r.querySelector(d)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Oo(m)))return}o=r.createElement("link"),Ft(o,"link",t),at(o),r.head.appendChild(o)}}}function DA(t,i,r){ti.S(t,i,r);var o=sl;if(o&&t){var d=wi(o).hoistableStyles,m=il(t);i=i||"default";var x=d.get(m);if(!x){var T={loading:0,preload:null};if(x=o.querySelector(Do(m)))T.loading=5;else{t=k({rel:"stylesheet",href:t,"data-precedence":i},r),(r=Kn.get(m))&&im(t,r);var j=x=o.createElement("link");at(j),Ft(j,"link",t),j._p=new Promise(function(B,Z){j.onload=B,j.onerror=Z}),j.addEventListener("load",function(){T.loading|=1}),j.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Pu(x,i,o)}x={type:"stylesheet",instance:x,count:1,state:T},d.set(m,x)}}}function OA(t,i){ti.X(t,i);var r=sl;if(r&&t){var o=wi(r).hoistableScripts,d=al(t),m=o.get(d);m||(m=r.querySelector(Oo(d)),m||(t=k({src:t,async:!0},i),(i=Kn.get(d))&&am(t,i),m=r.createElement("script"),at(m),Ft(m,"link",t),r.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(d,m))}}function MA(t,i){ti.M(t,i);var r=sl;if(r&&t){var o=wi(r).hoistableScripts,d=al(t),m=o.get(d);m||(m=r.querySelector(Oo(d)),m||(t=k({src:t,async:!0,type:"module"},i),(i=Kn.get(d))&&am(t,i),m=r.createElement("script"),at(m),Ft(m,"link",t),r.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(d,m))}}function av(t,i,r,o){var d=(d=Rn.current)?Vu(d):null;if(!d)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(i=il(r.href),r=wi(d).hoistableStyles,o=r.get(i),o||(o={type:"style",instance:null,count:0,state:null},r.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=il(r.href);var m=wi(d).hoistableStyles,x=m.get(t);if(x||(d=d.ownerDocument||d,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,x),(m=d.querySelector(Do(t)))&&!m._p&&(x.instance=m,x.state.loading=5),Kn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Kn.set(t,r),m||LA(d,t,r,x.state))),i&&o===null)throw Error(a(528,""));return x}if(i&&o!==null)throw Error(a(529,""));return null;case"script":return i=r.async,r=r.src,typeof r=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=al(r),r=wi(d).hoistableScripts,o=r.get(i),o||(o={type:"script",instance:null,count:0,state:null},r.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function il(t){return'href="'+ut(t)+'"'}function Do(t){return'link[rel="stylesheet"]['+t+"]"}function rv(t){return k({},t,{"data-precedence":t.precedence,precedence:null})}function LA(t,i,r,o){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=t.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Ft(i,"link",r),at(i),t.head.appendChild(i))}function al(t){return'[src="'+ut(t)+'"]'}function Oo(t){return"script[async]"+t}function lv(t,i,r){if(i.count++,i.instance===null)switch(i.type){case"style":var o=t.querySelector('style[data-href~="'+ut(r.href)+'"]');if(o)return i.instance=o,at(o),o;var d=k({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),at(o),Ft(o,"style",d),Pu(o,r.precedence,t),i.instance=o;case"stylesheet":d=il(r.href);var m=t.querySelector(Do(d));if(m)return i.state.loading|=4,i.instance=m,at(m),m;o=rv(r),(d=Kn.get(d))&&im(o,d),m=(t.ownerDocument||t).createElement("link"),at(m);var x=m;return x._p=new Promise(function(T,j){x.onload=T,x.onerror=j}),Ft(m,"link",o),i.state.loading|=4,Pu(m,r.precedence,t),i.instance=m;case"script":return m=al(r.src),(d=t.querySelector(Oo(m)))?(i.instance=d,at(d),d):(o=r,(d=Kn.get(m))&&(o=k({},r),am(o,d)),t=t.ownerDocument||t,d=t.createElement("script"),at(d),Ft(d,"link",o),t.head.appendChild(d),i.instance=d);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,Pu(o,r.precedence,t));return i.instance}function Pu(t,i,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=o.length?o[o.length-1]:null,m=d,x=0;x<o.length;x++){var T=o[x];if(T.dataset.precedence===i)m=T;else if(m!==d)break}m?m.parentNode.insertBefore(t,m.nextSibling):(i=r.nodeType===9?r.head:r,i.insertBefore(t,i.firstChild))}function im(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function am(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Uu=null;function ov(t,i,r){if(Uu===null){var o=new Map,d=Uu=new Map;d.set(r,o)}else d=Uu,o=d.get(r),o||(o=new Map,d.set(r,o));if(o.has(t))return o;for(o.set(t,null),r=r.getElementsByTagName(t),d=0;d<r.length;d++){var m=r[d];if(!(m[bi]||m[Mt]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var x=m.getAttribute(i)||"";x=t+x;var T=o.get(x);T?T.push(m):o.set(x,[m])}}return o}function cv(t,i,r){t=t.ownerDocument||t,t.head.insertBefore(r,i==="title"?t.querySelector("head > title"):null)}function VA(t,i,r){if(r===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function uv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Mo=null;function PA(){}function UA(t,i,r){if(Mo===null)throw Error(a(475));var o=Mo;if(i.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var d=il(r.href),m=t.querySelector(Do(d));if(m){t=m._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(o.count++,o=Bu.bind(o),t.then(o,o)),i.state.loading|=4,i.instance=m,at(m);return}m=t.ownerDocument||t,r=rv(r),(d=Kn.get(d))&&im(r,d),m=m.createElement("link"),at(m);var x=m;x._p=new Promise(function(T,j){x.onload=T,x.onerror=j}),Ft(m,"link",r),i.instance=m}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(o.count++,i=Bu.bind(o),t.addEventListener("load",i),t.addEventListener("error",i))}}function BA(){if(Mo===null)throw Error(a(475));var t=Mo;return t.stylesheets&&t.count===0&&rm(t,t.stylesheets),0<t.count?function(i){var r=setTimeout(function(){if(t.stylesheets&&rm(t,t.stylesheets),t.unsuspend){var o=t.unsuspend;t.unsuspend=null,o()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(r)}}:null}function Bu(){if(this.count--,this.count===0){if(this.stylesheets)rm(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Hu=null;function rm(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Hu=new Map,i.forEach(HA,t),Hu=null,Bu.call(t))}function HA(t,i){if(!(i.state.loading&4)){var r=Hu.get(t);if(r)var o=r.get(null);else{r=new Map,Hu.set(t,r);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<d.length;m++){var x=d[m];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(r.set(x.dataset.precedence,x),o=x)}o&&r.set(null,o)}d=i.instance,x=d.getAttribute("data-precedence"),m=r.get(x)||o,m===o&&r.set(null,d),r.set(x,d),this.count++,o=Bu.bind(this),d.addEventListener("load",o),d.addEventListener("error",o),m?m.parentNode.insertBefore(d,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),i.state.loading|=4}}var Lo={$$typeof:D,Provider:null,Consumer:null,_currentValue:Ie,_currentValue2:Ie,_threadCount:0};function zA(t,i,r,o,d,m,x,T){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xr(0),this.hiddenUpdates=xr(null),this.identifierPrefix=o,this.onUncaughtError=d,this.onCaughtError=m,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function hv(t,i,r,o,d,m,x,T,j,B,Z,ae){return t=new zA(t,i,r,x,T,j,B,ae),i=1,m===!0&&(i|=24),m=zn(3,null,null,i),t.current=m,m.stateNode=t,i=Vd(),i.refCount++,t.pooledCache=i,i.refCount++,m.memoizedState={element:o,isDehydrated:r,cache:i},yf(m),t}function dv(t){return t?(t=Vr,t):Vr}function fv(t,i,r,o,d,m){d=dv(d),o.context===null?o.context=d:o.pendingContext=d,o=Pi(i),o.payload={element:r},m=m===void 0?null:m,m!==null&&(o.callback=m),r=Ui(t,o,i),r!==null&&(cn(r,t,i),vo(r,t,i))}function mv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<i?r:i}}function lm(t,i){mv(t,i),(t=t.alternate)&&mv(t,i)}function gv(t){if(t.tag===13){var i=ji(t,67108864);i!==null&&cn(i,t,67108864),lm(t,67108864)}}var zu=!0;function qA(t,i,r,o){var d=S.T;S.T=null;var m=he.p;try{he.p=2,om(t,i,r,o)}finally{he.p=m,S.T=d}}function KA(t,i,r,o){var d=S.T;S.T=null;var m=he.p;try{he.p=8,om(t,i,r,o)}finally{he.p=m,S.T=d}}function om(t,i,r,o){if(zu){var d=cm(o);if(d===null)Xf(t,i,o,qu,r),_v(t,o);else if(GA(d,t,i,r,o))o.stopPropagation();else if(_v(t,o),i&4&&-1<FA.indexOf(t)){for(;d!==null;){var m=Ds(d);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var x=Gn(m.pendingLanes);if(x!==0){var T=m;for(T.pendingLanes|=2,T.entangledLanes|=2;x;){var j=1<<31-an(x);T.entanglements[1]|=j,x&=~j}vs(m),(lt&6)===0&&(Su=dn()+500,Io(0))}}break;case 13:T=ji(m,2),T!==null&&cn(T,m,2),ku(),lm(m,2)}if(m=cm(o),m===null&&Xf(t,i,o,qu,r),m===d)break;d=m}d!==null&&o.stopPropagation()}else Xf(t,i,o,null,r)}}function cm(t){return t=wr(t),um(t)}var qu=null;function um(t){if(qu=null,t=$n(t),t!==null){var i=ce(t);if(i===null)t=null;else{var r=i.tag;if(r===13){if(t=ke(i),t!==null)return t;t=null}else if(r===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return qu=t,null}function pv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Rc()){case wt:return 2;case Ot:return 8;case js:case kc:return 32;case Vl:return 268435456;default:return 32}default:return 32}}var hm=!1,Gi=null,$i=null,Qi=null,Vo=new Map,Po=new Map,Yi=[],FA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _v(t,i){switch(t){case"focusin":case"focusout":Gi=null;break;case"dragenter":case"dragleave":$i=null;break;case"mouseover":case"mouseout":Qi=null;break;case"pointerover":case"pointerout":Vo.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Po.delete(i.pointerId)}}function Uo(t,i,r,o,d,m){return t===null||t.nativeEvent!==m?(t={blockedOn:i,domEventName:r,eventSystemFlags:o,nativeEvent:m,targetContainers:[d]},i!==null&&(i=Ds(i),i!==null&&gv(i)),t):(t.eventSystemFlags|=o,i=t.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),t)}function GA(t,i,r,o,d){switch(i){case"focusin":return Gi=Uo(Gi,t,i,r,o,d),!0;case"dragenter":return $i=Uo($i,t,i,r,o,d),!0;case"mouseover":return Qi=Uo(Qi,t,i,r,o,d),!0;case"pointerover":var m=d.pointerId;return Vo.set(m,Uo(Vo.get(m)||null,t,i,r,o,d)),!0;case"gotpointercapture":return m=d.pointerId,Po.set(m,Uo(Po.get(m)||null,t,i,r,o,d)),!0}return!1}function yv(t){var i=$n(t.target);if(i!==null){var r=ce(i);if(r!==null){if(i=r.tag,i===13){if(i=ke(r),i!==null){t.blockedOn=i,Ti(t.priority,function(){if(r.tag===13){var o=bn(),d=ji(r,o);d!==null&&cn(d,r,o),lm(r,o)}});return}}else if(i===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ku(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var r=cm(t.nativeEvent);if(r===null){r=t.nativeEvent;var o=new r.constructor(r.type,r);Cn=o,r.target.dispatchEvent(o),Cn=null}else return i=Ds(r),i!==null&&gv(i),t.blockedOn=r,!1;i.shift()}return!0}function vv(t,i,r){Ku(t)&&r.delete(i)}function $A(){hm=!1,Gi!==null&&Ku(Gi)&&(Gi=null),$i!==null&&Ku($i)&&($i=null),Qi!==null&&Ku(Qi)&&(Qi=null),Vo.forEach(vv),Po.forEach(vv)}function Fu(t,i){t.blockedOn===i&&(t.blockedOn=null,hm||(hm=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,$A)))}var Gu=null;function xv(t){Gu!==t&&(Gu=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Gu===t&&(Gu=null);for(var i=0;i<t.length;i+=3){var r=t[i],o=t[i+1],d=t[i+2];if(typeof o!="function"){if(um(o||r)===null)continue;break}var m=Ds(r);m!==null&&(t.splice(i,3),i-=3,Jd(m,{pending:!0,data:d,method:r.method,action:o},o,d))}}))}function Bo(t){function i(j){return Fu(j,t)}Gi!==null&&Fu(Gi,t),$i!==null&&Fu($i,t),Qi!==null&&Fu(Qi,t),Vo.forEach(i),Po.forEach(i);for(var r=0;r<Yi.length;r++){var o=Yi[r];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Yi.length&&(r=Yi[0],r.blockedOn===null);)yv(r),r.blockedOn===null&&Yi.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var d=r[o],m=r[o+1],x=d[St]||null;if(typeof m=="function")x||xv(r);else if(x){var T=null;if(m&&m.hasAttribute("formAction")){if(d=m,x=m[St]||null)T=x.formAction;else if(um(d)!==null)continue}else T=x.action;typeof T=="function"?r[o+1]=T:(r.splice(o,3),o-=3),xv(r)}}}function dm(t){this._internalRoot=t}$u.prototype.render=dm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(a(409));var r=i.current,o=bn();fv(r,o,t,i,null,null)},$u.prototype.unmount=dm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;t.tag===0&&el(),fv(t.current,2,null,t,null,null),ku(),i[Cs]=null}};function $u(t){this._internalRoot=t}$u.prototype.unstable_scheduleHydration=function(t){if(t){var i=Oc();t={blockedOn:null,target:t,priority:i};for(var r=0;r<Yi.length&&i!==0&&i<Yi[r].priority;r++);Yi.splice(r,0,t),r===0&&yv(t)}};var Ev=e.version;if(Ev!=="19.0.0")throw Error(a(527,Ev,"19.0.0"));he.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=ie(i),t=t!==null?me(t):null,t=t===null?null:t.stateNode,t};var QA={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:S,findFiberByHostInstance:$n,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qu.isDisabled&&Qu.supportsFiber)try{pi=Qu.inject(QA),Xt=Qu}catch{}}return zo.createRoot=function(t,i){if(!l(t))throw Error(a(299));var r=!1,o="",d=P_,m=U_,x=B_,T=null;return i!=null&&(i.unstable_strictMode===!0&&(r=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(x=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=hv(t,1,!1,null,null,r,o,d,m,x,T,null),t[Cs]=i.current,Yf(t.nodeType===8?t.parentNode:t),new dm(i)},zo.hydrateRoot=function(t,i,r){if(!l(t))throw Error(a(299));var o=!1,d="",m=P_,x=U_,T=B_,j=null,B=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(x=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(j=r.unstable_transitionCallbacks),r.formState!==void 0&&(B=r.formState)),i=hv(t,1,!0,i,r??null,o,d,m,x,T,j,B),i.context=dv(null),r=i.current,o=bn(),d=Pi(o),d.callback=null,Ui(r,d,o),i.current.lanes=o,pt(i,o),vs(i),t[Cs]=i.current,Yf(t),new $u(i)},zo.version="19.0.0",zo}var jv;function iw(){if(jv)return gm.exports;jv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),gm.exports=sw(),gm.exports}var aw=iw();const rw=ug(aw);var qo={},Cv;function lw(){if(Cv)return qo;Cv=1,Object.defineProperty(qo,"__esModule",{value:!0}),qo.parse=f,qo.serialize=_;const s=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,c=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function f(w,D){const O=new c,q=w.length;if(q<2)return O;const M=(D==null?void 0:D.decode)||E;let H=0;do{const G=w.indexOf("=",H);if(G===-1)break;const Q=w.indexOf(";",H),ee=Q===-1?q:Q;if(G>ee){H=w.lastIndexOf(";",G-1)+1;continue}const J=g(w,H,G),re=p(w,G,J),V=w.slice(J,re);if(O[V]===void 0){let N=g(w,G+1,ee),S=p(w,ee,N);const k=M(w.slice(N,S));O[V]=k}H=ee+1}while(H<q);return O}function g(w,D,O){do{const q=w.charCodeAt(D);if(q!==32&&q!==9)return D}while(++D<O);return O}function p(w,D,O){for(;D>O;){const q=w.charCodeAt(--D);if(q!==32&&q!==9)return D+1}return O}function _(w,D,O){const q=(O==null?void 0:O.encode)||encodeURIComponent;if(!s.test(w))throw new TypeError(`argument name is invalid: ${w}`);const M=q(D);if(!e.test(M))throw new TypeError(`argument val is invalid: ${D}`);let H=w+"="+M;if(!O)return H;if(O.maxAge!==void 0){if(!Number.isInteger(O.maxAge))throw new TypeError(`option maxAge is invalid: ${O.maxAge}`);H+="; Max-Age="+O.maxAge}if(O.domain){if(!n.test(O.domain))throw new TypeError(`option domain is invalid: ${O.domain}`);H+="; Domain="+O.domain}if(O.path){if(!a.test(O.path))throw new TypeError(`option path is invalid: ${O.path}`);H+="; Path="+O.path}if(O.expires){if(!b(O.expires)||!Number.isFinite(O.expires.valueOf()))throw new TypeError(`option expires is invalid: ${O.expires}`);H+="; Expires="+O.expires.toUTCString()}if(O.httpOnly&&(H+="; HttpOnly"),O.secure&&(H+="; Secure"),O.partitioned&&(H+="; Partitioned"),O.priority)switch(typeof O.priority=="string"?O.priority.toLowerCase():void 0){case"low":H+="; Priority=Low";break;case"medium":H+="; Priority=Medium";break;case"high":H+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${O.priority}`)}if(O.sameSite)switch(typeof O.sameSite=="string"?O.sameSite.toLowerCase():O.sameSite){case!0:case"strict":H+="; SameSite=Strict";break;case"lax":H+="; SameSite=Lax";break;case"none":H+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${O.sameSite}`)}return H}function E(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function b(w){return l.call(w)==="[object Date]"}return qo}lw();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Dv="popstate";function ow(s={}){function e(a,l){let{pathname:c,search:f,hash:g}=a.location;return Om("",{pathname:c,search:f,hash:g},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(a,l){return typeof l=="string"?l:ac(l)}return uw(e,n,null,s)}function st(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function Zn(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function cw(){return Math.random().toString(36).substring(2,10)}function Ov(s,e){return{usr:s.state,key:s.key,idx:e}}function Om(s,e,n=null,a){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?Al(e):e,state:n,key:e&&e.key||a||cw()}}function ac({pathname:s="/",search:e="",hash:n=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(s+=n.charAt(0)==="#"?n:"#"+n),s}function Al(s){let e={};if(s){let n=s.indexOf("#");n>=0&&(e.hash=s.substring(n),s=s.substring(0,n));let a=s.indexOf("?");a>=0&&(e.search=s.substring(a),s=s.substring(0,a)),s&&(e.pathname=s)}return e}function uw(s,e,n,a={}){let{window:l=document.defaultView,v5Compat:c=!1}=a,f=l.history,g="POP",p=null,_=E();_==null&&(_=0,f.replaceState({...f.state,idx:_},""));function E(){return(f.state||{idx:null}).idx}function b(){g="POP";let M=E(),H=M==null?null:M-_;_=M,p&&p({action:g,location:q.location,delta:H})}function w(M,H){g="PUSH";let G=Om(q.location,M,H);_=E()+1;let Q=Ov(G,_),ee=q.createHref(G);try{f.pushState(Q,"",ee)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;l.location.assign(ee)}c&&p&&p({action:g,location:q.location,delta:1})}function D(M,H){g="REPLACE";let G=Om(q.location,M,H);_=E();let Q=Ov(G,_),ee=q.createHref(G);f.replaceState(Q,"",ee),c&&p&&p({action:g,location:q.location,delta:0})}function O(M){let H=l.location.origin!=="null"?l.location.origin:l.location.href,G=typeof M=="string"?M:ac(M);return G=G.replace(/ $/,"%20"),st(H,`No window.location.(origin|href) available to create URL for href: ${G}`),new URL(G,H)}let q={get action(){return g},get location(){return s(l,f)},listen(M){if(p)throw new Error("A history only accepts one active listener");return l.addEventListener(Dv,b),p=M,()=>{l.removeEventListener(Dv,b),p=null}},createHref(M){return e(l,M)},createURL:O,encodeLocation(M){let H=O(M);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:w,replace:D,go(M){return f.go(M)}};return q}function v0(s,e,n="/"){return hw(s,e,n,!1)}function hw(s,e,n,a){let l=typeof e=="string"?Al(e):e,c=ca(l.pathname||"/",n);if(c==null)return null;let f=x0(s);dw(f);let g=null;for(let p=0;g==null&&p<f.length;++p){let _=bw(c);g=Ew(f[p],_,a)}return g}function x0(s,e=[],n=[],a=""){let l=(c,f,g)=>{let p={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};p.relativePath.startsWith("/")&&(st(p.relativePath.startsWith(a),`Absolute route path "${p.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(a.length));let _=ai([a,p.relativePath]),E=n.concat(p);c.children&&c.children.length>0&&(st(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),x0(c.children,e,E,_)),!(c.path==null&&!c.index)&&e.push({path:_,score:vw(_,c.index),routesMeta:E})};return s.forEach((c,f)=>{var g;if(c.path===""||!((g=c.path)!=null&&g.includes("?")))l(c,f);else for(let p of E0(c.path))l(c,f,p)}),e}function E0(s){let e=s.split("/");if(e.length===0)return[];let[n,...a]=e,l=n.endsWith("?"),c=n.replace(/\?$/,"");if(a.length===0)return l?[c,""]:[c];let f=E0(a.join("/")),g=[];return g.push(...f.map(p=>p===""?c:[c,p].join("/"))),l&&g.push(...f),g.map(p=>s.startsWith("/")&&p===""?"/":p)}function dw(s){s.sort((e,n)=>e.score!==n.score?n.score-e.score:xw(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var fw=/^:[\w-]+$/,mw=3,gw=2,pw=1,_w=10,yw=-2,Mv=s=>s==="*";function vw(s,e){let n=s.split("/"),a=n.length;return n.some(Mv)&&(a+=yw),e&&(a+=gw),n.filter(l=>!Mv(l)).reduce((l,c)=>l+(fw.test(c)?mw:c===""?pw:_w),a)}function xw(s,e){return s.length===e.length&&s.slice(0,-1).every((a,l)=>a===e[l])?s[s.length-1]-e[e.length-1]:0}function Ew(s,e,n=!1){let{routesMeta:a}=s,l={},c="/",f=[];for(let g=0;g<a.length;++g){let p=a[g],_=g===a.length-1,E=c==="/"?e:e.slice(c.length)||"/",b=vh({path:p.relativePath,caseSensitive:p.caseSensitive,end:_},E),w=p.route;if(!b&&_&&n&&!a[a.length-1].route.index&&(b=vh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!b)return null;Object.assign(l,b.params),f.push({params:l,pathname:ai([c,b.pathname]),pathnameBase:Nw(ai([c,b.pathnameBase])),route:w}),b.pathnameBase!=="/"&&(c=ai([c,b.pathnameBase]))}return f}function vh(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[n,a]=Tw(s.path,s.caseSensitive,s.end),l=e.match(n);if(!l)return null;let c=l[0],f=c.replace(/(.)\/+$/,"$1"),g=l.slice(1);return{params:a.reduce((_,{paramName:E,isOptional:b},w)=>{if(E==="*"){let O=g[w]||"";f=c.slice(0,c.length-O.length).replace(/(.)\/+$/,"$1")}const D=g[w];return b&&!D?_[E]=void 0:_[E]=(D||"").replace(/%2F/g,"/"),_},{}),pathname:c,pathnameBase:f,pattern:s}}function Tw(s,e=!1,n=!0){Zn(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let a=[],l="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,g,p)=>(a.push({paramName:g,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(a.push({paramName:"*"}),l+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":s!==""&&s!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),a]}function bw(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Zn(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function ca(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=s.charAt(n);return a&&a!=="/"?null:s.slice(n)||"/"}function Aw(s,e="/"){let{pathname:n,search:a="",hash:l=""}=typeof s=="string"?Al(s):s;return{pathname:n?n.startsWith("/")?n:ww(n,e):e,search:Rw(a),hash:kw(l)}}function ww(s,e){let n=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function vm(s,e,n,a){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Sw(s){return s.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function dg(s){let e=Sw(s);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function fg(s,e,n,a=!1){let l;typeof s=="string"?l=Al(s):(l={...s},st(!l.pathname||!l.pathname.includes("?"),vm("?","pathname","search",l)),st(!l.pathname||!l.pathname.includes("#"),vm("#","pathname","hash",l)),st(!l.search||!l.search.includes("#"),vm("#","search","hash",l)));let c=s===""||l.pathname==="",f=c?"/":l.pathname,g;if(f==null)g=n;else{let b=e.length-1;if(!a&&f.startsWith("..")){let w=f.split("/");for(;w[0]==="..";)w.shift(),b-=1;l.pathname=w.join("/")}g=b>=0?e[b]:"/"}let p=Aw(l,g),_=f&&f!=="/"&&f.endsWith("/"),E=(c||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(_||E)&&(p.pathname+="/"),p}var ai=s=>s.join("/").replace(/\/\/+/g,"/"),Nw=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),Rw=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,kw=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function Iw(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var T0=["POST","PUT","PATCH","DELETE"];new Set(T0);var jw=["GET",...T0];new Set(jw);var wl=P.createContext(null);wl.displayName="DataRouter";var Uh=P.createContext(null);Uh.displayName="DataRouterState";var b0=P.createContext({isTransitioning:!1});b0.displayName="ViewTransition";var Cw=P.createContext(new Map);Cw.displayName="Fetchers";var Dw=P.createContext(null);Dw.displayName="Await";var ns=P.createContext(null);ns.displayName="Navigation";var mc=P.createContext(null);mc.displayName="Location";var ss=P.createContext({outlet:null,matches:[],isDataRoute:!1});ss.displayName="Route";var mg=P.createContext(null);mg.displayName="RouteError";function Ow(s,{relative:e}={}){st(Sl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=P.useContext(ns),{hash:l,pathname:c,search:f}=gc(s,{relative:e}),g=c;return n!=="/"&&(g=c==="/"?n:ai([n,c])),a.createHref({pathname:g,search:f,hash:l})}function Sl(){return P.useContext(mc)!=null}function di(){return st(Sl(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(mc).location}var A0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function w0(s){P.useContext(ns).static||P.useLayoutEffect(s)}function Nl(){let{isDataRoute:s}=P.useContext(ss);return s?Qw():Mw()}function Mw(){st(Sl(),"useNavigate() may be used only in the context of a <Router> component.");let s=P.useContext(wl),{basename:e,navigator:n}=P.useContext(ns),{matches:a}=P.useContext(ss),{pathname:l}=di(),c=JSON.stringify(dg(a)),f=P.useRef(!1);return w0(()=>{f.current=!0}),P.useCallback((p,_={})=>{if(Zn(f.current,A0),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=fg(p,JSON.parse(c),l,_.relative==="path");s==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:ai([e,E.pathname])),(_.replace?n.replace:n.push)(E,_.state,_)},[e,n,c,l,s])}P.createContext(null);function Lw(){let{matches:s}=P.useContext(ss),e=s[s.length-1];return e?e.params:{}}function gc(s,{relative:e}={}){let{matches:n}=P.useContext(ss),{pathname:a}=di(),l=JSON.stringify(dg(n));return P.useMemo(()=>fg(s,JSON.parse(l),a,e==="path"),[s,l,a,e])}function Vw(s,e){return S0(s,e)}function S0(s,e,n,a){var G;st(Sl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l,static:c}=P.useContext(ns),{matches:f}=P.useContext(ss),g=f[f.length-1],p=g?g.params:{},_=g?g.pathname:"/",E=g?g.pathnameBase:"/",b=g&&g.route;{let Q=b&&b.path||"";N0(_,!b||Q.endsWith("*")||Q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${_}" (under <Route path="${Q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Q}"> to <Route path="${Q==="/"?"*":`${Q}/*`}">.`)}let w=di(),D;if(e){let Q=typeof e=="string"?Al(e):e;st(E==="/"||((G=Q.pathname)==null?void 0:G.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${Q.pathname}" was given in the \`location\` prop.`),D=Q}else D=w;let O=D.pathname||"/",q=O;if(E!=="/"){let Q=E.replace(/^\//,"").split("/");q="/"+O.replace(/^\//,"").split("/").slice(Q.length).join("/")}let M=!c&&n&&n.matches&&n.matches.length>0?n.matches:v0(s,{pathname:q});Zn(b||M!=null,`No routes matched location "${D.pathname}${D.search}${D.hash}" `),Zn(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${D.pathname}${D.search}${D.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let H=zw(M&&M.map(Q=>Object.assign({},Q,{params:Object.assign({},p,Q.params),pathname:ai([E,l.encodeLocation?l.encodeLocation(Q.pathname).pathname:Q.pathname]),pathnameBase:Q.pathnameBase==="/"?E:ai([E,l.encodeLocation?l.encodeLocation(Q.pathnameBase).pathname:Q.pathnameBase])})),f,n,a);return e&&H?P.createElement(mc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...D},navigationType:"POP"}},H):H}function Pw(){let s=$w(),e=Iw(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),n=s instanceof Error?s.stack:null,a="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:a},c={padding:"2px 4px",backgroundColor:a},f=null;return console.error("Error handled by React Router default ErrorBoundary:",s),f=P.createElement(P.Fragment,null,P.createElement("p",null,"💿 Hey developer 👋"),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:c},"ErrorBoundary")," or"," ",P.createElement("code",{style:c},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:l},n):null,f)}var Uw=P.createElement(Pw,null),Bw=class extends P.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){console.error("React Router caught the following error during render",s,e)}render(){return this.state.error!==void 0?P.createElement(ss.Provider,{value:this.props.routeContext},P.createElement(mg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Hw({routeContext:s,match:e,children:n}){let a=P.useContext(wl);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),P.createElement(ss.Provider,{value:s},n)}function zw(s,e=[],n=null,a=null){if(s==null){if(!n)return null;if(n.errors)s=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)s=n.matches;else return null}let l=s,c=n==null?void 0:n.errors;if(c!=null){let p=l.findIndex(_=>_.route.id&&(c==null?void 0:c[_.route.id])!==void 0);st(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,p+1))}let f=!1,g=-1;if(n)for(let p=0;p<l.length;p++){let _=l[p];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(g=p),_.route.id){let{loaderData:E,errors:b}=n,w=_.route.loader&&!E.hasOwnProperty(_.route.id)&&(!b||b[_.route.id]===void 0);if(_.route.lazy||w){f=!0,g>=0?l=l.slice(0,g+1):l=[l[0]];break}}}return l.reduceRight((p,_,E)=>{let b,w=!1,D=null,O=null;n&&(b=c&&_.route.id?c[_.route.id]:void 0,D=_.route.errorElement||Uw,f&&(g<0&&E===0?(N0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,O=null):g===E&&(w=!0,O=_.route.hydrateFallbackElement||null)));let q=e.concat(l.slice(0,E+1)),M=()=>{let H;return b?H=D:w?H=O:_.route.Component?H=P.createElement(_.route.Component,null):_.route.element?H=_.route.element:H=p,P.createElement(Hw,{match:_,routeContext:{outlet:p,matches:q,isDataRoute:n!=null},children:H})};return n&&(_.route.ErrorBoundary||_.route.errorElement||E===0)?P.createElement(Bw,{location:n.location,revalidation:n.revalidation,component:D,error:b,children:M(),routeContext:{outlet:null,matches:q,isDataRoute:!0}}):M()},null)}function gg(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qw(s){let e=P.useContext(wl);return st(e,gg(s)),e}function Kw(s){let e=P.useContext(Uh);return st(e,gg(s)),e}function Fw(s){let e=P.useContext(ss);return st(e,gg(s)),e}function pg(s){let e=Fw(s),n=e.matches[e.matches.length-1];return st(n.route.id,`${s} can only be used on routes that contain a unique "id"`),n.route.id}function Gw(){return pg("useRouteId")}function $w(){var a;let s=P.useContext(mg),e=Kw("useRouteError"),n=pg("useRouteError");return s!==void 0?s:(a=e.errors)==null?void 0:a[n]}function Qw(){let{router:s}=qw("useNavigate"),e=pg("useNavigate"),n=P.useRef(!1);return w0(()=>{n.current=!0}),P.useCallback(async(l,c={})=>{Zn(n.current,A0),n.current&&(typeof l=="number"?s.navigate(l):await s.navigate(l,{fromRouteId:e,...c}))},[s,e])}var Lv={};function N0(s,e,n){!e&&!Lv[s]&&(Lv[s]=!0,Zn(!1,n))}P.memo(Yw);function Yw({routes:s,future:e,state:n}){return S0(s,void 0,n,e)}function Vv({to:s,replace:e,state:n,relative:a}){st(Sl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=P.useContext(ns);Zn(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=P.useContext(ss),{pathname:f}=di(),g=Nl(),p=fg(s,dg(c),f,a==="path"),_=JSON.stringify(p);return P.useEffect(()=>{g(JSON.parse(_),{replace:e,state:n,relative:a})},[g,_,a,e,n]),null}function jt(s){st(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Xw({basename:s="/",children:e=null,location:n,navigationType:a="POP",navigator:l,static:c=!1}){st(!Sl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=s.replace(/^\/*/,"/"),g=P.useMemo(()=>({basename:f,navigator:l,static:c,future:{}}),[f,l,c]);typeof n=="string"&&(n=Al(n));let{pathname:p="/",search:_="",hash:E="",state:b=null,key:w="default"}=n,D=P.useMemo(()=>{let O=ca(p,f);return O==null?null:{location:{pathname:O,search:_,hash:E,state:b,key:w},navigationType:a}},[f,p,_,E,b,w,a]);return Zn(D!=null,`<Router basename="${f}"> is not able to match the URL "${p}${_}${E}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:P.createElement(ns.Provider,{value:g},P.createElement(mc.Provider,{children:e,value:D}))}function Ww({children:s,location:e}){return Vw(Mm(s),e)}function Mm(s,e=[]){let n=[];return P.Children.forEach(s,(a,l)=>{if(!P.isValidElement(a))return;let c=[...e,l];if(a.type===P.Fragment){n.push.apply(n,Mm(a.props.children,c));return}st(a.type===jt,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),st(!a.props.index||!a.props.children,"An index route cannot have child routes.");let f={id:a.props.id||c.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(f.children=Mm(a.props.children,c)),n.push(f)}),n}var rh="get",lh="application/x-www-form-urlencoded";function Bh(s){return s!=null&&typeof s.tagName=="string"}function Zw(s){return Bh(s)&&s.tagName.toLowerCase()==="button"}function Jw(s){return Bh(s)&&s.tagName.toLowerCase()==="form"}function eS(s){return Bh(s)&&s.tagName.toLowerCase()==="input"}function tS(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function nS(s,e){return s.button===0&&(!e||e==="_self")&&!tS(s)}var Yu=null;function sS(){if(Yu===null)try{new FormData(document.createElement("form"),0),Yu=!1}catch{Yu=!0}return Yu}var iS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function xm(s){return s!=null&&!iS.has(s)?(Zn(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${lh}"`),null):s}function aS(s,e){let n,a,l,c,f;if(Jw(s)){let g=s.getAttribute("action");a=g?ca(g,e):null,n=s.getAttribute("method")||rh,l=xm(s.getAttribute("enctype"))||lh,c=new FormData(s)}else if(Zw(s)||eS(s)&&(s.type==="submit"||s.type==="image")){let g=s.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=s.getAttribute("formaction")||g.getAttribute("action");if(a=p?ca(p,e):null,n=s.getAttribute("formmethod")||g.getAttribute("method")||rh,l=xm(s.getAttribute("formenctype"))||xm(g.getAttribute("enctype"))||lh,c=new FormData(g,s),!sS()){let{name:_,type:E,value:b}=s;if(E==="image"){let w=_?`${_}.`:"";c.append(`${w}x`,"0"),c.append(`${w}y`,"0")}else _&&c.append(_,b)}}else{if(Bh(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=rh,a=null,l=lh,f=s}return c&&l==="text/plain"&&(f=c,c=void 0),{action:a,method:n.toLowerCase(),encType:l,formData:c,body:f}}function _g(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}async function rS(s,e){if(s.id in e)return e[s.id];try{let n=await import(s.module);return e[s.id]=n,n}catch(n){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function lS(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function oS(s,e,n){let a=await Promise.all(s.map(async l=>{let c=e.routes[l.route.id];if(c){let f=await rS(c,n);return f.links?f.links():[]}return[]}));return dS(a.flat(1).filter(lS).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function Pv(s,e,n,a,l,c){let f=(p,_)=>n[_]?p.route.id!==n[_].route.id:!0,g=(p,_)=>{var E;return n[_].pathname!==p.pathname||((E=n[_].route.path)==null?void 0:E.endsWith("*"))&&n[_].params["*"]!==p.params["*"]};return c==="assets"?e.filter((p,_)=>f(p,_)||g(p,_)):c==="data"?e.filter((p,_)=>{var b;let E=a.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,_)||g(p,_))return!0;if(p.route.shouldRevalidate){let w=p.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((b=n[0])==null?void 0:b.params)||{},nextUrl:new URL(s,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function cS(s,e,{includeHydrateFallback:n}={}){return uS(s.map(a=>{let l=e.routes[a.route.id];if(!l)return[];let c=[l.module];return l.clientActionModule&&(c=c.concat(l.clientActionModule)),l.clientLoaderModule&&(c=c.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(c=c.concat(l.hydrateFallbackModule)),l.imports&&(c=c.concat(l.imports)),c}).flat(1))}function uS(s){return[...new Set(s)]}function hS(s){let e={},n=Object.keys(s).sort();for(let a of n)e[a]=s[a];return e}function dS(s,e){let n=new Set;return new Set(e),s.reduce((a,l)=>{let c=JSON.stringify(hS(l));return n.has(c)||(n.add(c),a.push({key:c,link:l})),a},[])}function fS(s){let e=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function mS(){let s=P.useContext(wl);return _g(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function gS(){let s=P.useContext(Uh);return _g(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var yg=P.createContext(void 0);yg.displayName="FrameworkContext";function R0(){let s=P.useContext(yg);return _g(s,"You must render this element inside a <HydratedRouter> element"),s}function pS(s,e){let n=P.useContext(yg),[a,l]=P.useState(!1),[c,f]=P.useState(!1),{onFocus:g,onBlur:p,onMouseEnter:_,onMouseLeave:E,onTouchStart:b}=e,w=P.useRef(null);P.useEffect(()=>{if(s==="render"&&f(!0),s==="viewport"){let q=H=>{H.forEach(G=>{f(G.isIntersecting)})},M=new IntersectionObserver(q,{threshold:.5});return w.current&&M.observe(w.current),()=>{M.disconnect()}}},[s]),P.useEffect(()=>{if(a){let q=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(q)}}},[a]);let D=()=>{l(!0)},O=()=>{l(!1),f(!1)};return n?s!=="intent"?[c,w,{}]:[c,w,{onFocus:Ko(g,D),onBlur:Ko(p,O),onMouseEnter:Ko(_,D),onMouseLeave:Ko(E,O),onTouchStart:Ko(b,D)}]:[!1,w,{}]}function Ko(s,e){return n=>{s&&s(n),n.defaultPrevented||e(n)}}function _S({page:s,...e}){let{router:n}=mS(),a=P.useMemo(()=>v0(n.routes,s,n.basename),[n.routes,s,n.basename]);return a?P.createElement(vS,{page:s,matches:a,...e}):null}function yS(s){let{manifest:e,routeModules:n}=R0(),[a,l]=P.useState([]);return P.useEffect(()=>{let c=!1;return oS(s,e,n).then(f=>{c||l(f)}),()=>{c=!0}},[s,e,n]),a}function vS({page:s,matches:e,...n}){let a=di(),{manifest:l,routeModules:c}=R0(),{loaderData:f,matches:g}=gS(),p=P.useMemo(()=>Pv(s,e,g,l,a,"data"),[s,e,g,l,a]),_=P.useMemo(()=>Pv(s,e,g,l,a,"assets"),[s,e,g,l,a]),E=P.useMemo(()=>{if(s===a.pathname+a.search+a.hash)return[];let D=new Set,O=!1;if(e.forEach(M=>{var G;let H=l.routes[M.route.id];!H||!H.hasLoader||(!p.some(Q=>Q.route.id===M.route.id)&&M.route.id in f&&((G=c[M.route.id])!=null&&G.shouldRevalidate)||H.hasClientLoader?O=!0:D.add(M.route.id))}),D.size===0)return[];let q=fS(s);return O&&D.size>0&&q.searchParams.set("_routes",e.filter(M=>D.has(M.route.id)).map(M=>M.route.id).join(",")),[q.pathname+q.search]},[f,a,l,p,e,s,c]),b=P.useMemo(()=>cS(_,l),[_,l]),w=yS(_);return P.createElement(P.Fragment,null,E.map(D=>P.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...n})),b.map(D=>P.createElement("link",{key:D,rel:"modulepreload",href:D,...n})),w.map(({key:D,link:O})=>P.createElement("link",{key:D,...O})))}function xS(...s){return e=>{s.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var k0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{k0&&(window.__reactRouterVersion="7.2.0")}catch{}function ES({basename:s,children:e,window:n}){let a=P.useRef();a.current==null&&(a.current=ow({window:n,v5Compat:!0}));let l=a.current,[c,f]=P.useState({action:l.action,location:l.location}),g=P.useCallback(p=>{P.startTransition(()=>f(p))},[f]);return P.useLayoutEffect(()=>l.listen(g),[l,g]),P.createElement(Xw,{basename:s,children:e,location:c.location,navigationType:c.action,navigator:l})}var I0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ee=P.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:l,reloadDocument:c,replace:f,state:g,target:p,to:_,preventScrollReset:E,viewTransition:b,...w},D){let{basename:O}=P.useContext(ns),q=typeof _=="string"&&I0.test(_),M,H=!1;if(typeof _=="string"&&q&&(M=_,k0))try{let S=new URL(window.location.href),k=_.startsWith("//")?new URL(S.protocol+_):new URL(_),R=ca(k.pathname,O);k.origin===S.origin&&R!=null?_=R+k.search+k.hash:H=!0}catch{Zn(!1,`<Link to="${_}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let G=Ow(_,{relative:l}),[Q,ee,J]=pS(a,w),re=wS(_,{replace:f,state:g,target:p,preventScrollReset:E,relative:l,viewTransition:b});function V(S){e&&e(S),S.defaultPrevented||re(S)}let N=P.createElement("a",{...w,...J,href:M||G,onClick:H||c?e:V,ref:xS(D,ee),target:p,"data-discover":!q&&n==="render"?"true":void 0});return Q&&!q?P.createElement(P.Fragment,null,N,P.createElement(_S,{page:G})):N});Ee.displayName="Link";var TS=P.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:l=!1,style:c,to:f,viewTransition:g,children:p,..._},E){let b=gc(f,{relative:_.relative}),w=di(),D=P.useContext(Uh),{navigator:O,basename:q}=P.useContext(ns),M=D!=null&&IS(b)&&g===!0,H=O.encodeLocation?O.encodeLocation(b).pathname:b.pathname,G=w.pathname,Q=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;n||(G=G.toLowerCase(),Q=Q?Q.toLowerCase():null,H=H.toLowerCase()),Q&&q&&(Q=ca(Q,q)||Q);const ee=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let J=G===H||!l&&G.startsWith(H)&&G.charAt(ee)==="/",re=Q!=null&&(Q===H||!l&&Q.startsWith(H)&&Q.charAt(H.length)==="/"),V={isActive:J,isPending:re,isTransitioning:M},N=J?e:void 0,S;typeof a=="function"?S=a(V):S=[a,J?"active":null,re?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let k=typeof c=="function"?c(V):c;return P.createElement(Ee,{..._,"aria-current":N,className:S,ref:E,style:k,to:f,viewTransition:g},typeof p=="function"?p(V):p)});TS.displayName="NavLink";var bS=P.forwardRef(({discover:s="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:l,state:c,method:f=rh,action:g,onSubmit:p,relative:_,preventScrollReset:E,viewTransition:b,...w},D)=>{let O=RS(),q=kS(g,{relative:_}),M=f.toLowerCase()==="get"?"get":"post",H=typeof g=="string"&&I0.test(g),G=Q=>{if(p&&p(Q),Q.defaultPrevented)return;Q.preventDefault();let ee=Q.nativeEvent.submitter,J=(ee==null?void 0:ee.getAttribute("formmethod"))||f;O(ee||Q.currentTarget,{fetcherKey:e,method:J,navigate:n,replace:l,state:c,relative:_,preventScrollReset:E,viewTransition:b})};return P.createElement("form",{ref:D,method:M,action:q,onSubmit:a?p:G,...w,"data-discover":!H&&s==="render"?"true":void 0})});bS.displayName="Form";function AS(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function j0(s){let e=P.useContext(wl);return st(e,AS(s)),e}function wS(s,{target:e,replace:n,state:a,preventScrollReset:l,relative:c,viewTransition:f}={}){let g=Nl(),p=di(),_=gc(s,{relative:c});return P.useCallback(E=>{if(nS(E,e)){E.preventDefault();let b=n!==void 0?n:ac(p)===ac(_);g(s,{replace:b,state:a,preventScrollReset:l,relative:c,viewTransition:f})}},[p,g,_,n,a,e,s,l,c,f])}var SS=0,NS=()=>`__${String(++SS)}__`;function RS(){let{router:s}=j0("useSubmit"),{basename:e}=P.useContext(ns),n=Gw();return P.useCallback(async(a,l={})=>{let{action:c,method:f,encType:g,formData:p,body:_}=aS(a,e);if(l.navigate===!1){let E=l.fetcherKey||NS();await s.fetch(E,n,l.action||c,{preventScrollReset:l.preventScrollReset,formData:p,body:_,formMethod:l.method||f,formEncType:l.encType||g,flushSync:l.flushSync})}else await s.navigate(l.action||c,{preventScrollReset:l.preventScrollReset,formData:p,body:_,formMethod:l.method||f,formEncType:l.encType||g,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[s,e,n])}function kS(s,{relative:e}={}){let{basename:n}=P.useContext(ns),a=P.useContext(ss);st(a,"useFormAction must be used inside a RouteContext");let[l]=a.matches.slice(-1),c={...gc(s||".",{relative:e})},f=di();if(s==null){c.search=f.search;let g=new URLSearchParams(c.search),p=g.getAll("index");if(p.some(E=>E==="")){g.delete("index"),p.filter(b=>b).forEach(b=>g.append("index",b));let E=g.toString();c.search=E?`?${E}`:""}}return(!s||s===".")&&l.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:ai([n,c.pathname])),ac(c)}function IS(s,e={}){let n=P.useContext(b0);st(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=j0("useViewTransitionState"),l=gc(s,{relative:e.relative});if(!n.isTransitioning)return!1;let c=ca(n.currentLocation.pathname,a)||n.currentLocation.pathname,f=ca(n.nextLocation.pathname,a)||n.nextLocation.pathname;return vh(l.pathname,f)!=null||vh(l.pathname,c)!=null}new TextEncoder;var jS=y0();const CS=ug(jS);document.addEventListener("DOMContentLoaded",function(){const s=["/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg","/AimRV/images/EE-AIMChallenge24-Uhamn-0171-high.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_113.jpg","/AimRV/images/AIM_lindvallen_2024_AnkiGrothe_highres_125.jpg"];function e(){const n=document.querySelectorAll(".dynamic-background");if(n.length===0){setTimeout(e,100);return}let a=s;try{const l=JSON.parse(localStorage.getItem("aimrv-background-images"));l&&Array.isArray(l)&&l.length>0&&(a=l)}catch(l){console.error("Error loading custom background images:",l)}n.forEach(function(l){let c=0;l.style.backgroundImage=`url(${a[c]})`,l.style.backgroundSize="cover",l.style.backgroundPosition="center",l.style.backgroundRepeat="no-repeat";const f=document.createElement("div");f.className="background-overlay",f.style.position="absolute",f.style.top="0",f.style.left="0",f.style.width="100%",f.style.height="100%",f.style.backgroundSize="cover",f.style.backgroundPosition="center",f.style.opacity="0",f.style.transition="opacity 2s ease-in-out",f.style.zIndex="1",getComputedStyle(l).position==="static"&&(l.style.position="relative"),Array.from(l.children).forEach(p=>{p!==f&&(p.style.zIndex===""||parseInt(p.style.zIndex)<10)&&(p.style.position="relative",p.style.zIndex="10")}),l.appendChild(f);function g(){const p=(c+1)%a.length;f.style.backgroundImage=`url(${a[p]})`,f.style.opacity="1",setTimeout(()=>{l.style.backgroundImage=`url(${a[p]})`,f.style.opacity="0",c=p},2e3)}setInterval(g,5e3)}),window.addEventListener("storage",function(l){if(l.key==="aimrv-background-images")try{const c=JSON.parse(l.newValue);c&&Array.isArray(c)&&c.length>0&&(a=c)}catch(c){console.error("Error updating background images:",c)}})}e()});const DS=()=>{};var Uv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0=function(s){const e=[];let n=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},OS=function(s){const e=[];let n=0,a=0;for(;n<s.length;){const l=s[n++];if(l<128)e[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[n++];e[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[n++],f=s[n++],g=s[n++],p=((l&7)<<18|(c&63)<<12|(f&63)<<6|g&63)-65536;e[a++]=String.fromCharCode(55296+(p>>10)),e[a++]=String.fromCharCode(56320+(p&1023))}else{const c=s[n++],f=s[n++];e[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|f&63)}}return e.join("")},D0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const c=s[l],f=l+1<s.length,g=f?s[l+1]:0,p=l+2<s.length,_=p?s[l+2]:0,E=c>>2,b=(c&3)<<4|g>>4;let w=(g&15)<<2|_>>6,D=_&63;p||(D=64,f||(w=64)),a.push(n[E],n[b],n[w],n[D])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(C0(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):OS(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const c=n[s.charAt(l++)],g=l<s.length?n[s.charAt(l)]:0;++l;const _=l<s.length?n[s.charAt(l)]:64;++l;const b=l<s.length?n[s.charAt(l)]:64;if(++l,c==null||g==null||_==null||b==null)throw new MS;const w=c<<2|g>>4;if(a.push(w),_!==64){const D=g<<4&240|_>>2;if(a.push(D),b!==64){const O=_<<6&192|b;a.push(O)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class MS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const LS=function(s){const e=C0(s);return D0.encodeByteArray(e,!0)},xh=function(s){return LS(s).replace(/\./g,"")},O0=function(s){try{return D0.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS=()=>VS().__FIREBASE_DEFAULTS__,US=()=>{if(typeof process>"u"||typeof Uv>"u")return;const s=Uv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},BS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&O0(s[1]);return e&&JSON.parse(e)},Hh=()=>{try{return DS()||PS()||US()||BS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},M0=s=>{var e,n;return(n=(e=Hh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[s]},L0=s=>{const e=M0(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},V0=()=>{var s;return(s=Hh())===null||s===void 0?void 0:s.config},P0=s=>{var e;return(e=Hh())===null||e===void 0?void 0:e[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U0(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},s);return[xh(JSON.stringify(n)),xh(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())}function qS(){var s;const e=(s=Hh())===null||s===void 0?void 0:s.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function KS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function FS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function GS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $S(){const s=nn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function QS(){return!qS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function YS(){try{return typeof indexedDB=="object"}catch{return!1}}function XS(){return new Promise((s,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var c;e(((c=l.error)===null||c===void 0?void 0:c.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS="FirebaseError";class Rs extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=WS,Object.setPrototypeOf(this,Rs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pc.prototype.create)}}class pc{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},l=`${this.service}/${e}`,c=this.errors[e],f=c?ZS(c,a):"Error",g=`${this.serviceName}: ${f} (${l}).`;return new Rs(l,g,a)}}function ZS(s,e){return s.replace(JS,(n,a)=>{const l=e[a];return l!=null?String(l):`<${a}?>`})}const JS=/\{\$([^}]+)}/g;function eN(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function tr(s,e){if(s===e)return!0;const n=Object.keys(s),a=Object.keys(e);for(const l of n){if(!a.includes(l))return!1;const c=s[l],f=e[l];if(Bv(c)&&Bv(f)){if(!tr(c,f))return!1}else if(c!==f)return!1}for(const l of a)if(!n.includes(l))return!1;return!0}function Bv(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _c(s){const e=[];for(const[n,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function $o(s){const e={};return s.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[l,c]=a.split("=");e[decodeURIComponent(l)]=decodeURIComponent(c)}}),e}function Qo(s){const e=s.indexOf("?");if(!e)return"";const n=s.indexOf("#",e);return s.substring(e,n>0?n:void 0)}function tN(s,e){const n=new nN(s,e);return n.subscribe.bind(n)}class nN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,a){let l;if(e===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");sN(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:a},l.next===void 0&&(l.next=Em),l.error===void 0&&(l.error=Em),l.complete===void 0&&(l.complete=Em);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function sN(s,e){if(typeof s!="object"||s===null)return!1;for(const n of e)if(n in s&&typeof s[n]=="function")return!0;return!1}function Em(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function it(s){return s&&s._delegate?s._delegate:s}class ua{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new HS;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),l=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(c){if(l)return null;throw c}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rN(e))try{this.getOrInitializeService({instanceIdentifier:Za})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(e=Za){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Za){return this.instances.has(e)}getOptions(e=Za){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[c,f]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&f.resolve(l)}return l}onInit(e,n){var a;const l=this.normalizeInstanceIdentifier(n),c=(a=this.onInitCallbacks.get(l))!==null&&a!==void 0?a:new Set;c.add(e),this.onInitCallbacks.set(l,c);const f=this.instances.get(l);return f&&e(f,l),()=>{c.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const l of a)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:aN(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Za){return this.component?this.component.multipleInstances?e:Za:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function aN(s){return s===Za?void 0:s}function rN(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new iN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Le||(Le={}));const oN={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},cN=Le.INFO,uN={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},hN=(s,e,...n)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),l=uN[e];if(l)console[l](`[${a}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class vg{constructor(e){this.name=e,this._logLevel=cN,this._logHandler=hN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?oN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const dN=(s,e)=>e.some(n=>s instanceof n);let Hv,zv;function fN(){return Hv||(Hv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mN(){return zv||(zv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const B0=new WeakMap,Lm=new WeakMap,H0=new WeakMap,Tm=new WeakMap,xg=new WeakMap;function gN(s){const e=new Promise((n,a)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",f)},c=()=>{n(aa(s.result)),l()},f=()=>{a(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&B0.set(n,s)}).catch(()=>{}),xg.set(e,s),e}function pN(s){if(Lm.has(s))return;const e=new Promise((n,a)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",f),s.removeEventListener("abort",f)},c=()=>{n(),l()},f=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",f),s.addEventListener("abort",f)});Lm.set(s,e)}let Vm={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return Lm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||H0.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return aa(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function _N(s){Vm=s(Vm)}function yN(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=s.call(bm(this),e,...n);return H0.set(a,e.sort?e.sort():[e]),aa(a)}:mN().includes(s)?function(...e){return s.apply(bm(this),e),aa(B0.get(this))}:function(...e){return aa(s.apply(bm(this),e))}}function vN(s){return typeof s=="function"?yN(s):(s instanceof IDBTransaction&&pN(s),dN(s,fN())?new Proxy(s,Vm):s)}function aa(s){if(s instanceof IDBRequest)return gN(s);if(Tm.has(s))return Tm.get(s);const e=vN(s);return e!==s&&(Tm.set(s,e),xg.set(e,s)),e}const bm=s=>xg.get(s);function xN(s,e,{blocked:n,upgrade:a,blocking:l,terminated:c}={}){const f=indexedDB.open(s,e),g=aa(f);return a&&f.addEventListener("upgradeneeded",p=>{a(aa(f.result),p.oldVersion,p.newVersion,aa(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),g.then(p=>{c&&p.addEventListener("close",()=>c()),l&&p.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const EN=["get","getKey","getAll","getAllKeys","count"],TN=["put","add","delete","clear"],Am=new Map;function qv(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Am.get(e))return Am.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,l=TN.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(l||EN.includes(n)))return;const c=async function(f,...g){const p=this.transaction(f,l?"readwrite":"readonly");let _=p.store;return a&&(_=_.index(g.shift())),(await Promise.all([_[n](...g),l&&p.done]))[0]};return Am.set(e,c),c}_N(s=>({...s,get:(e,n,a)=>qv(e,n)||s.get(e,n,a),has:(e,n)=>!!qv(e,n)||s.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(AN(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function AN(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Pm="@firebase/app",Kv="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oi=new vg("@firebase/app"),wN="@firebase/app-compat",SN="@firebase/analytics-compat",NN="@firebase/analytics",RN="@firebase/app-check-compat",kN="@firebase/app-check",IN="@firebase/auth",jN="@firebase/auth-compat",CN="@firebase/database",DN="@firebase/data-connect",ON="@firebase/database-compat",MN="@firebase/functions",LN="@firebase/functions-compat",VN="@firebase/installations",PN="@firebase/installations-compat",UN="@firebase/messaging",BN="@firebase/messaging-compat",HN="@firebase/performance",zN="@firebase/performance-compat",qN="@firebase/remote-config",KN="@firebase/remote-config-compat",FN="@firebase/storage",GN="@firebase/storage-compat",$N="@firebase/firestore",QN="@firebase/vertexai",YN="@firebase/firestore-compat",XN="firebase",WN="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Um="[DEFAULT]",ZN={[Pm]:"fire-core",[wN]:"fire-core-compat",[NN]:"fire-analytics",[SN]:"fire-analytics-compat",[kN]:"fire-app-check",[RN]:"fire-app-check-compat",[IN]:"fire-auth",[jN]:"fire-auth-compat",[CN]:"fire-rtdb",[DN]:"fire-data-connect",[ON]:"fire-rtdb-compat",[MN]:"fire-fn",[LN]:"fire-fn-compat",[VN]:"fire-iid",[PN]:"fire-iid-compat",[UN]:"fire-fcm",[BN]:"fire-fcm-compat",[HN]:"fire-perf",[zN]:"fire-perf-compat",[qN]:"fire-rc",[KN]:"fire-rc-compat",[FN]:"fire-gcs",[GN]:"fire-gcs-compat",[$N]:"fire-fst",[YN]:"fire-fst-compat",[QN]:"fire-vertex","fire-js":"fire-js",[XN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eh=new Map,JN=new Map,Bm=new Map;function Fv(s,e){try{s.container.addComponent(e)}catch(n){oi.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function nr(s){const e=s.name;if(Bm.has(e))return oi.debug(`There were multiple attempts to register component ${e}.`),!1;Bm.set(e,s);for(const n of Eh.values())Fv(n,s);for(const n of JN.values())Fv(n,s);return!0}function zh(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function An(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ra=new pc("app","Firebase",eR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(e,n,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ua("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ra.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ur=WN;function z0(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const a=Object.assign({name:Um,automaticDataCollectionEnabled:!1},e),l=a.name;if(typeof l!="string"||!l)throw ra.create("bad-app-name",{appName:String(l)});if(n||(n=V0()),!n)throw ra.create("no-options");const c=Eh.get(l);if(c){if(tr(n,c.options)&&tr(a,c.config))return c;throw ra.create("duplicate-app",{appName:l})}const f=new lN(l);for(const p of Bm.values())f.addComponent(p);const g=new tR(n,a,f);return Eh.set(l,g),g}function Eg(s=Um){const e=Eh.get(s);if(!e&&s===Um&&V0())return z0();if(!e)throw ra.create("no-app",{appName:s});return e}function Ts(s,e,n){var a;let l=(a=ZN[s])!==null&&a!==void 0?a:s;n&&(l+=`-${n}`);const c=l.match(/\s|\//),f=e.match(/\s|\//);if(c||f){const g=[`Unable to register library "${l}" with version "${e}":`];c&&g.push(`library name "${l}" contains illegal characters (whitespace or "/")`),c&&f&&g.push("and"),f&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),oi.warn(g.join(" "));return}nr(new ua(`${l}-version`,()=>({library:l,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR="firebase-heartbeat-database",sR=1,rc="firebase-heartbeat-store";let wm=null;function q0(){return wm||(wm=xN(nR,sR,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(rc)}catch(n){console.warn(n)}}}}).catch(s=>{throw ra.create("idb-open",{originalErrorMessage:s.message})})),wm}async function iR(s){try{const n=(await q0()).transaction(rc),a=await n.objectStore(rc).get(K0(s));return await n.done,a}catch(e){if(e instanceof Rs)oi.warn(e.message);else{const n=ra.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});oi.warn(n.message)}}}async function Gv(s,e){try{const a=(await q0()).transaction(rc,"readwrite");await a.objectStore(rc).put(e,K0(s)),await a.done}catch(n){if(n instanceof Rs)oi.warn(n.message);else{const a=ra.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});oi.warn(a.message)}}}function K0(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR=1024,rR=30;class lR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new cR(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=$v();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(f=>f.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats.length>rR){const f=uR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){oi.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=$v(),{heartbeatsToSend:a,unsentEntries:l}=oR(this._heartbeatsCache.heartbeats),c=xh(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return oi.warn(n),""}}}function $v(){return new Date().toISOString().substring(0,10)}function oR(s,e=aR){const n=[];let a=s.slice();for(const l of s){const c=n.find(f=>f.agent===l.agent);if(c){if(c.dates.push(l.date),Qv(n)>e){c.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),Qv(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class cR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return YS()?XS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await iR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return Gv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return Gv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...e.heartbeats]})}else return}}function Qv(s){return xh(JSON.stringify({version:2,heartbeats:s})).length}function uR(s){if(s.length===0)return-1;let e=0,n=s[0].date;for(let a=1;a<s.length;a++)s[a].date<n&&(n=s[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hR(s){nr(new ua("platform-logger",e=>new bN(e),"PRIVATE")),nr(new ua("heartbeat",e=>new lR(e),"PRIVATE")),Ts(Pm,Kv,s),Ts(Pm,Kv,"esm2017"),Ts("fire-js","")}hR("");var dR="firebase",fR="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ts(dR,fR,"app");var Yv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var la,F0;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,N){function S(){}S.prototype=N.prototype,V.D=N.prototype,V.prototype=new S,V.prototype.constructor=V,V.C=function(k,R,L){for(var I=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)I[Ce-2]=arguments[Ce];return N.prototype[R].apply(k,I)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,n),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(V,N,S){S||(S=0);var k=Array(16);if(typeof N=="string")for(var R=0;16>R;++R)k[R]=N.charCodeAt(S++)|N.charCodeAt(S++)<<8|N.charCodeAt(S++)<<16|N.charCodeAt(S++)<<24;else for(R=0;16>R;++R)k[R]=N[S++]|N[S++]<<8|N[S++]<<16|N[S++]<<24;N=V.g[0],S=V.g[1],R=V.g[2];var L=V.g[3],I=N+(L^S&(R^L))+k[0]+3614090360&4294967295;N=S+(I<<7&4294967295|I>>>25),I=L+(R^N&(S^R))+k[1]+3905402710&4294967295,L=N+(I<<12&4294967295|I>>>20),I=R+(S^L&(N^S))+k[2]+606105819&4294967295,R=L+(I<<17&4294967295|I>>>15),I=S+(N^R&(L^N))+k[3]+3250441966&4294967295,S=R+(I<<22&4294967295|I>>>10),I=N+(L^S&(R^L))+k[4]+4118548399&4294967295,N=S+(I<<7&4294967295|I>>>25),I=L+(R^N&(S^R))+k[5]+1200080426&4294967295,L=N+(I<<12&4294967295|I>>>20),I=R+(S^L&(N^S))+k[6]+2821735955&4294967295,R=L+(I<<17&4294967295|I>>>15),I=S+(N^R&(L^N))+k[7]+4249261313&4294967295,S=R+(I<<22&4294967295|I>>>10),I=N+(L^S&(R^L))+k[8]+1770035416&4294967295,N=S+(I<<7&4294967295|I>>>25),I=L+(R^N&(S^R))+k[9]+2336552879&4294967295,L=N+(I<<12&4294967295|I>>>20),I=R+(S^L&(N^S))+k[10]+4294925233&4294967295,R=L+(I<<17&4294967295|I>>>15),I=S+(N^R&(L^N))+k[11]+2304563134&4294967295,S=R+(I<<22&4294967295|I>>>10),I=N+(L^S&(R^L))+k[12]+1804603682&4294967295,N=S+(I<<7&4294967295|I>>>25),I=L+(R^N&(S^R))+k[13]+4254626195&4294967295,L=N+(I<<12&4294967295|I>>>20),I=R+(S^L&(N^S))+k[14]+2792965006&4294967295,R=L+(I<<17&4294967295|I>>>15),I=S+(N^R&(L^N))+k[15]+1236535329&4294967295,S=R+(I<<22&4294967295|I>>>10),I=N+(R^L&(S^R))+k[1]+4129170786&4294967295,N=S+(I<<5&4294967295|I>>>27),I=L+(S^R&(N^S))+k[6]+3225465664&4294967295,L=N+(I<<9&4294967295|I>>>23),I=R+(N^S&(L^N))+k[11]+643717713&4294967295,R=L+(I<<14&4294967295|I>>>18),I=S+(L^N&(R^L))+k[0]+3921069994&4294967295,S=R+(I<<20&4294967295|I>>>12),I=N+(R^L&(S^R))+k[5]+3593408605&4294967295,N=S+(I<<5&4294967295|I>>>27),I=L+(S^R&(N^S))+k[10]+38016083&4294967295,L=N+(I<<9&4294967295|I>>>23),I=R+(N^S&(L^N))+k[15]+3634488961&4294967295,R=L+(I<<14&4294967295|I>>>18),I=S+(L^N&(R^L))+k[4]+3889429448&4294967295,S=R+(I<<20&4294967295|I>>>12),I=N+(R^L&(S^R))+k[9]+568446438&4294967295,N=S+(I<<5&4294967295|I>>>27),I=L+(S^R&(N^S))+k[14]+3275163606&4294967295,L=N+(I<<9&4294967295|I>>>23),I=R+(N^S&(L^N))+k[3]+4107603335&4294967295,R=L+(I<<14&4294967295|I>>>18),I=S+(L^N&(R^L))+k[8]+1163531501&4294967295,S=R+(I<<20&4294967295|I>>>12),I=N+(R^L&(S^R))+k[13]+2850285829&4294967295,N=S+(I<<5&4294967295|I>>>27),I=L+(S^R&(N^S))+k[2]+4243563512&4294967295,L=N+(I<<9&4294967295|I>>>23),I=R+(N^S&(L^N))+k[7]+1735328473&4294967295,R=L+(I<<14&4294967295|I>>>18),I=S+(L^N&(R^L))+k[12]+2368359562&4294967295,S=R+(I<<20&4294967295|I>>>12),I=N+(S^R^L)+k[5]+4294588738&4294967295,N=S+(I<<4&4294967295|I>>>28),I=L+(N^S^R)+k[8]+2272392833&4294967295,L=N+(I<<11&4294967295|I>>>21),I=R+(L^N^S)+k[11]+1839030562&4294967295,R=L+(I<<16&4294967295|I>>>16),I=S+(R^L^N)+k[14]+4259657740&4294967295,S=R+(I<<23&4294967295|I>>>9),I=N+(S^R^L)+k[1]+2763975236&4294967295,N=S+(I<<4&4294967295|I>>>28),I=L+(N^S^R)+k[4]+1272893353&4294967295,L=N+(I<<11&4294967295|I>>>21),I=R+(L^N^S)+k[7]+4139469664&4294967295,R=L+(I<<16&4294967295|I>>>16),I=S+(R^L^N)+k[10]+3200236656&4294967295,S=R+(I<<23&4294967295|I>>>9),I=N+(S^R^L)+k[13]+681279174&4294967295,N=S+(I<<4&4294967295|I>>>28),I=L+(N^S^R)+k[0]+3936430074&4294967295,L=N+(I<<11&4294967295|I>>>21),I=R+(L^N^S)+k[3]+3572445317&4294967295,R=L+(I<<16&4294967295|I>>>16),I=S+(R^L^N)+k[6]+76029189&4294967295,S=R+(I<<23&4294967295|I>>>9),I=N+(S^R^L)+k[9]+3654602809&4294967295,N=S+(I<<4&4294967295|I>>>28),I=L+(N^S^R)+k[12]+3873151461&4294967295,L=N+(I<<11&4294967295|I>>>21),I=R+(L^N^S)+k[15]+530742520&4294967295,R=L+(I<<16&4294967295|I>>>16),I=S+(R^L^N)+k[2]+3299628645&4294967295,S=R+(I<<23&4294967295|I>>>9),I=N+(R^(S|~L))+k[0]+4096336452&4294967295,N=S+(I<<6&4294967295|I>>>26),I=L+(S^(N|~R))+k[7]+1126891415&4294967295,L=N+(I<<10&4294967295|I>>>22),I=R+(N^(L|~S))+k[14]+2878612391&4294967295,R=L+(I<<15&4294967295|I>>>17),I=S+(L^(R|~N))+k[5]+4237533241&4294967295,S=R+(I<<21&4294967295|I>>>11),I=N+(R^(S|~L))+k[12]+1700485571&4294967295,N=S+(I<<6&4294967295|I>>>26),I=L+(S^(N|~R))+k[3]+2399980690&4294967295,L=N+(I<<10&4294967295|I>>>22),I=R+(N^(L|~S))+k[10]+4293915773&4294967295,R=L+(I<<15&4294967295|I>>>17),I=S+(L^(R|~N))+k[1]+2240044497&4294967295,S=R+(I<<21&4294967295|I>>>11),I=N+(R^(S|~L))+k[8]+1873313359&4294967295,N=S+(I<<6&4294967295|I>>>26),I=L+(S^(N|~R))+k[15]+4264355552&4294967295,L=N+(I<<10&4294967295|I>>>22),I=R+(N^(L|~S))+k[6]+2734768916&4294967295,R=L+(I<<15&4294967295|I>>>17),I=S+(L^(R|~N))+k[13]+1309151649&4294967295,S=R+(I<<21&4294967295|I>>>11),I=N+(R^(S|~L))+k[4]+4149444226&4294967295,N=S+(I<<6&4294967295|I>>>26),I=L+(S^(N|~R))+k[11]+3174756917&4294967295,L=N+(I<<10&4294967295|I>>>22),I=R+(N^(L|~S))+k[2]+718787259&4294967295,R=L+(I<<15&4294967295|I>>>17),I=S+(L^(R|~N))+k[9]+3951481745&4294967295,V.g[0]=V.g[0]+N&4294967295,V.g[1]=V.g[1]+(R+(I<<21&4294967295|I>>>11))&4294967295,V.g[2]=V.g[2]+R&4294967295,V.g[3]=V.g[3]+L&4294967295}a.prototype.u=function(V,N){N===void 0&&(N=V.length);for(var S=N-this.blockSize,k=this.B,R=this.h,L=0;L<N;){if(R==0)for(;L<=S;)l(this,V,L),L+=this.blockSize;if(typeof V=="string"){for(;L<N;)if(k[R++]=V.charCodeAt(L++),R==this.blockSize){l(this,k),R=0;break}}else for(;L<N;)if(k[R++]=V[L++],R==this.blockSize){l(this,k),R=0;break}}this.h=R,this.o+=N},a.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var N=1;N<V.length-8;++N)V[N]=0;var S=8*this.o;for(N=V.length-8;N<V.length;++N)V[N]=S&255,S/=256;for(this.u(V),V=Array(16),N=S=0;4>N;++N)for(var k=0;32>k;k+=8)V[S++]=this.g[N]>>>k&255;return V};function c(V,N){var S=g;return Object.prototype.hasOwnProperty.call(S,V)?S[V]:S[V]=N(V)}function f(V,N){this.h=N;for(var S=[],k=!0,R=V.length-1;0<=R;R--){var L=V[R]|0;k&&L==N||(S[R]=L,k=!1)}this.g=S}var g={};function p(V){return-128<=V&&128>V?c(V,function(N){return new f([N|0],0>N?-1:0)}):new f([V|0],0>V?-1:0)}function _(V){if(isNaN(V)||!isFinite(V))return b;if(0>V)return M(_(-V));for(var N=[],S=1,k=0;V>=S;k++)N[k]=V/S|0,S*=4294967296;return new f(N,0)}function E(V,N){if(V.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(V.charAt(0)=="-")return M(E(V.substring(1),N));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=_(Math.pow(N,8)),k=b,R=0;R<V.length;R+=8){var L=Math.min(8,V.length-R),I=parseInt(V.substring(R,R+L),N);8>L?(L=_(Math.pow(N,L)),k=k.j(L).add(_(I))):(k=k.j(S),k=k.add(_(I)))}return k}var b=p(0),w=p(1),D=p(16777216);s=f.prototype,s.m=function(){if(q(this))return-M(this).m();for(var V=0,N=1,S=0;S<this.g.length;S++){var k=this.i(S);V+=(0<=k?k:4294967296+k)*N,N*=4294967296}return V},s.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(O(this))return"0";if(q(this))return"-"+M(this).toString(V);for(var N=_(Math.pow(V,6)),S=this,k="";;){var R=ee(S,N).g;S=H(S,R.j(N));var L=((0<S.g.length?S.g[0]:S.h)>>>0).toString(V);if(S=R,O(S))return L+k;for(;6>L.length;)L="0"+L;k=L+k}},s.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function O(V){if(V.h!=0)return!1;for(var N=0;N<V.g.length;N++)if(V.g[N]!=0)return!1;return!0}function q(V){return V.h==-1}s.l=function(V){return V=H(this,V),q(V)?-1:O(V)?0:1};function M(V){for(var N=V.g.length,S=[],k=0;k<N;k++)S[k]=~V.g[k];return new f(S,~V.h).add(w)}s.abs=function(){return q(this)?M(this):this},s.add=function(V){for(var N=Math.max(this.g.length,V.g.length),S=[],k=0,R=0;R<=N;R++){var L=k+(this.i(R)&65535)+(V.i(R)&65535),I=(L>>>16)+(this.i(R)>>>16)+(V.i(R)>>>16);k=I>>>16,L&=65535,I&=65535,S[R]=I<<16|L}return new f(S,S[S.length-1]&-2147483648?-1:0)};function H(V,N){return V.add(M(N))}s.j=function(V){if(O(this)||O(V))return b;if(q(this))return q(V)?M(this).j(M(V)):M(M(this).j(V));if(q(V))return M(this.j(M(V)));if(0>this.l(D)&&0>V.l(D))return _(this.m()*V.m());for(var N=this.g.length+V.g.length,S=[],k=0;k<2*N;k++)S[k]=0;for(k=0;k<this.g.length;k++)for(var R=0;R<V.g.length;R++){var L=this.i(k)>>>16,I=this.i(k)&65535,Ce=V.i(R)>>>16,Ae=V.i(R)&65535;S[2*k+2*R]+=I*Ae,G(S,2*k+2*R),S[2*k+2*R+1]+=L*Ae,G(S,2*k+2*R+1),S[2*k+2*R+1]+=I*Ce,G(S,2*k+2*R+1),S[2*k+2*R+2]+=L*Ce,G(S,2*k+2*R+2)}for(k=0;k<N;k++)S[k]=S[2*k+1]<<16|S[2*k];for(k=N;k<2*N;k++)S[k]=0;return new f(S,0)};function G(V,N){for(;(V[N]&65535)!=V[N];)V[N+1]+=V[N]>>>16,V[N]&=65535,N++}function Q(V,N){this.g=V,this.h=N}function ee(V,N){if(O(N))throw Error("division by zero");if(O(V))return new Q(b,b);if(q(V))return N=ee(M(V),N),new Q(M(N.g),M(N.h));if(q(N))return N=ee(V,M(N)),new Q(M(N.g),N.h);if(30<V.g.length){if(q(V)||q(N))throw Error("slowDivide_ only works with positive integers.");for(var S=w,k=N;0>=k.l(V);)S=J(S),k=J(k);var R=re(S,1),L=re(k,1);for(k=re(k,2),S=re(S,2);!O(k);){var I=L.add(k);0>=I.l(V)&&(R=R.add(S),L=I),k=re(k,1),S=re(S,1)}return N=H(V,R.j(N)),new Q(R,N)}for(R=b;0<=V.l(N);){for(S=Math.max(1,Math.floor(V.m()/N.m())),k=Math.ceil(Math.log(S)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),L=_(S),I=L.j(N);q(I)||0<I.l(V);)S-=k,L=_(S),I=L.j(N);O(L)&&(L=w),R=R.add(L),V=H(V,I)}return new Q(R,V)}s.A=function(V){return ee(this,V).h},s.and=function(V){for(var N=Math.max(this.g.length,V.g.length),S=[],k=0;k<N;k++)S[k]=this.i(k)&V.i(k);return new f(S,this.h&V.h)},s.or=function(V){for(var N=Math.max(this.g.length,V.g.length),S=[],k=0;k<N;k++)S[k]=this.i(k)|V.i(k);return new f(S,this.h|V.h)},s.xor=function(V){for(var N=Math.max(this.g.length,V.g.length),S=[],k=0;k<N;k++)S[k]=this.i(k)^V.i(k);return new f(S,this.h^V.h)};function J(V){for(var N=V.g.length+1,S=[],k=0;k<N;k++)S[k]=V.i(k)<<1|V.i(k-1)>>>31;return new f(S,V.h)}function re(V,N){var S=N>>5;N%=32;for(var k=V.g.length-S,R=[],L=0;L<k;L++)R[L]=0<N?V.i(L+S)>>>N|V.i(L+S+1)<<32-N:V.i(L+S);return new f(R,V.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,F0=a,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=_,f.fromString=E,la=f}).apply(typeof Yv<"u"?Yv:typeof self<"u"?self:typeof window<"u"?window:{});var Xu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var G0,Yo,$0,oh,Hm,Q0,Y0,X0;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,y,v){return h==Array.prototype||h==Object.prototype||(h[y]=v.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xu=="object"&&Xu];for(var y=0;y<h.length;++y){var v=h[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=n(this);function l(h,y){if(y)e:{var v=a;h=h.split(".");for(var A=0;A<h.length-1;A++){var F=h[A];if(!(F in v))break e;v=v[F]}h=h[h.length-1],A=v[h],y=y(A),y!=A&&y!=null&&e(v,h,{configurable:!0,writable:!0,value:y})}}function c(h,y){h instanceof String&&(h+="");var v=0,A=!1,F={next:function(){if(!A&&v<h.length){var X=v++;return{value:y(X,h[X]),done:!1}}return A=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}l("Array.prototype.values",function(h){return h||function(){return c(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},g=this||self;function p(h){var y=typeof h;return y=y!="object"?y:h?Array.isArray(h)?"array":y:"null",y=="array"||y=="object"&&typeof h.length=="number"}function _(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function E(h,y,v){return h.call.apply(h.bind,arguments)}function b(h,y,v){if(!h)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,A),h.apply(y,F)}}return function(){return h.apply(y,arguments)}}function w(h,y,v){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:b,w.apply(null,arguments)}function D(h,y){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function O(h,y){function v(){}v.prototype=y.prototype,h.aa=y.prototype,h.prototype=new v,h.prototype.constructor=h,h.Qb=function(A,F,X){for(var oe=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)oe[Be-2]=arguments[Be];return y.prototype[F].apply(A,oe)}}function q(h){const y=h.length;if(0<y){const v=Array(y);for(let A=0;A<y;A++)v[A]=h[A];return v}return[]}function M(h,y){for(let v=1;v<arguments.length;v++){const A=arguments[v];if(p(A)){const F=h.length||0,X=A.length||0;h.length=F+X;for(let oe=0;oe<X;oe++)h[F+oe]=A[oe]}else h.push(A)}}class H{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function G(h){return/^[\s\xa0]*$/.test(h)}function Q(){var h=g.navigator;return h&&(h=h.userAgent)?h:""}function ee(h){return ee[" "](h),h}ee[" "]=function(){};var J=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function re(h,y,v){for(const A in h)y.call(v,h[A],A,h)}function V(h,y){for(const v in h)y.call(void 0,h[v],v,h)}function N(h){const y={};for(const v in h)y[v]=h[v];return y}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(h,y){let v,A;for(let F=1;F<arguments.length;F++){A=arguments[F];for(v in A)h[v]=A[v];for(let X=0;X<S.length;X++)v=S[X],Object.prototype.hasOwnProperty.call(A,v)&&(h[v]=A[v])}}function R(h){var y=1;h=h.split(":");const v=[];for(;0<y&&h.length;)v.push(h.shift()),y--;return h.length&&v.push(h.join(":")),v}function L(h){g.setTimeout(()=>{throw h},0)}function I(){var h=ke;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class Ce{constructor(){this.h=this.g=null}add(y,v){const A=Ae.get();A.set(y,v),this.h?this.h.next=A:this.g=A,this.h=A}}var Ae=new H(()=>new le,h=>h.reset());class le{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ye,ce=!1,ke=new Ce,C=()=>{const h=g.Promise.resolve(void 0);ye=()=>{h.then(ie)}};var ie=()=>{for(var h;h=I();){try{h.h.call(h.g)}catch(v){L(v)}var y=Ae;y.j(h),100>y.h&&(y.h++,h.next=y.g,y.g=h)}ce=!1};function me(){this.s=this.s,this.C=this.C}me.prototype.s=!1,me.prototype.ma=function(){this.s||(this.s=!0,this.N())},me.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var he=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const v=()=>{};g.addEventListener("test",v,y),g.removeEventListener("test",v,y)}catch{}return h}();function Ie(h,y){if(ue.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var v=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget){if(J){e:{try{ee(y.nodeName);var F=!0;break e}catch{}F=!1}F||(y=null)}}else v=="mouseover"?y=h.fromElement:v=="mouseout"&&(y=h.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Se[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Ie.aa.h.call(this)}}O(Ie,ue);var Se={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var vt="closure_listenable_"+(1e6*Math.random()|0),Ke=0;function ct(h,y,v,A,F){this.listener=h,this.proxy=null,this.src=y,this.type=v,this.capture=!!A,this.ha=F,this.key=++Ke,this.da=this.fa=!1}function Xe(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function sn(h){this.src=h,this.g={},this.h=0}sn.prototype.add=function(h,y,v,A,F){var X=h.toString();h=this.g[X],h||(h=this.g[X]=[],this.h++);var oe=Rn(h,y,A,F);return-1<oe?(y=h[oe],v||(y.fa=!1)):(y=new ct(y,this.src,X,!!A,F),y.fa=v,h.push(y)),y};function ks(h,y){var v=y.type;if(v in h.g){var A=h.g[v],F=Array.prototype.indexOf.call(A,y,void 0),X;(X=0<=F)&&Array.prototype.splice.call(A,F,1),X&&(Xe(y),h.g[v].length==0&&(delete h.g[v],h.h--))}}function Rn(h,y,v,A){for(var F=0;F<h.length;++F){var X=h[F];if(!X.da&&X.listener==y&&X.capture==!!v&&X.ha==A)return F}return-1}var mi="closure_lm_"+(1e6*Math.random()|0),gi={};function Is(h,y,v,A,F){if(Array.isArray(y)){for(var X=0;X<y.length;X++)Is(h,y[X],v,A,F);return null}return v=Rc(v),h&&h[vt]?h.K(y,v,_(A)?!!A.capture:!1,F):Ml(h,y,v,!1,A,F)}function Ml(h,y,v,A,F,X){if(!y)throw Error("Invalid event type");var oe=_(F)?!!F.capture:!!F,Be=Ll(h);if(Be||(h[mi]=Be=new sn(h)),v=Be.add(y,v,A,oe,X),v.proxy)return v;if(A=pr(),v.proxy=A,A.src=h,A.listener=v,h.addEventListener)he||(F=oe),F===void 0&&(F=!1),h.addEventListener(y.toString(),A,F);else if(h.attachEvent)h.attachEvent(yr(y.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function pr(){function h(v){return y.call(h.src,h.listener,v)}const y=md;return h}function _r(h,y,v,A,F){if(Array.isArray(y))for(var X=0;X<y.length;X++)_r(h,y[X],v,A,F);else A=_(A)?!!A.capture:!!A,v=Rc(v),h&&h[vt]?(h=h.i,y=String(y).toString(),y in h.g&&(X=h.g[y],v=Rn(X,v,A,F),-1<v&&(Xe(X[v]),Array.prototype.splice.call(X,v,1),X.length==0&&(delete h.g[y],h.h--)))):h&&(h=Ll(h))&&(y=h.g[y.toString()],h=-1,y&&(h=Rn(y,v,A,F)),(v=-1<h?y[h]:null)&&xa(v))}function xa(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[vt])ks(y.i,h);else{var v=h.type,A=h.proxy;y.removeEventListener?y.removeEventListener(v,A,h.capture):y.detachEvent?y.detachEvent(yr(v),A):y.addListener&&y.removeListener&&y.removeListener(A),(v=Ll(y))?(ks(v,h),v.h==0&&(v.src=null,y[mi]=null)):Xe(h)}}}function yr(h){return h in gi?gi[h]:gi[h]="on"+h}function md(h,y){if(h.da)h=!0;else{y=new Ie(y,this);var v=h.listener,A=h.ha||h.src;h.fa&&xa(h),h=v.call(A,y)}return h}function Ll(h){return h=h[mi],h instanceof sn?h:null}var dn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Rc(h){return typeof h=="function"?h:(h[dn]||(h[dn]=function(y){return h.handleEvent(y)}),h[dn])}function wt(){me.call(this),this.i=new sn(this),this.M=this,this.F=null}O(wt,me),wt.prototype[vt]=!0,wt.prototype.removeEventListener=function(h,y,v,A){_r(this,h,y,v,A)};function Ot(h,y){var v,A=h.F;if(A)for(v=[];A;A=A.F)v.push(A);if(h=h.M,A=y.type||y,typeof y=="string")y=new ue(y,h);else if(y instanceof ue)y.target=y.target||h;else{var F=y;y=new ue(A,h),k(y,F)}if(F=!0,v)for(var X=v.length-1;0<=X;X--){var oe=y.g=v[X];F=js(oe,A,!0,y)&&F}if(oe=y.g=h,F=js(oe,A,!0,y)&&F,F=js(oe,A,!1,y)&&F,v)for(X=0;X<v.length;X++)oe=y.g=v[X],F=js(oe,A,!1,y)&&F}wt.prototype.N=function(){if(wt.aa.N.call(this),this.i){var h=this.i,y;for(y in h.g){for(var v=h.g[y],A=0;A<v.length;A++)Xe(v[A]);delete h.g[y],h.h--}}this.F=null},wt.prototype.K=function(h,y,v,A){return this.i.add(String(h),y,!1,v,A)},wt.prototype.L=function(h,y,v,A){return this.i.add(String(h),y,!0,v,A)};function js(h,y,v,A){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();for(var F=!0,X=0;X<y.length;++X){var oe=y[X];if(oe&&!oe.da&&oe.capture==v){var Be=oe.listener,Nt=oe.ha||oe.src;oe.fa&&ks(h.i,oe),F=Be.call(Nt,A)!==!1&&F}}return F&&!A.defaultPrevented}function kc(h,y,v){if(typeof h=="function")v&&(h=w(h,v));else if(h&&typeof h.handleEvent=="function")h=w(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:g.setTimeout(h,y||0)}function Vl(h){h.g=kc(()=>{h.g=null,h.i&&(h.i=!1,Vl(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class gd extends me{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Vl(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ea(h){me.call(this),this.h=h,this.g={}}O(Ea,me);var pi=[];function Xt(h){re(h.g,function(y,v){this.g.hasOwnProperty(v)&&xa(y)},h),h.g={}}Ea.prototype.N=function(){Ea.aa.N.call(this),Xt(this)},Ea.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pl=g.JSON.stringify,is=g.JSON.parse,an=class{stringify(h){return g.JSON.stringify(h,void 0)}parse(h){return g.JSON.parse(h,void 0)}};function Ul(){}Ul.prototype.h=null;function Ic(h){return h.h||(h.h=h.i())}function jc(){}var as={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function _i(){ue.call(this,"d")}O(_i,ue);function Gn(){ue.call(this,"c")}O(Gn,ue);var kn={},yi=null;function vr(){return yi=yi||new wt}kn.La="serverreachability";function Bl(h){ue.call(this,kn.La,h)}O(Bl,ue);function vi(h){const y=vr();Ot(y,new Bl(y))}kn.STAT_EVENT="statevent";function xr(h,y){ue.call(this,kn.STAT_EVENT,h),this.stat=y}O(xr,ue);function pt(h){const y=vr();Ot(y,new xr(y,h))}kn.Ma="timingevent";function Cc(h,y){ue.call(this,kn.Ma,h),this.size=y}O(Cc,ue);function xi(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){h()},y)}function Ei(){this.g=!0}Ei.prototype.xa=function(){this.g=!1};function Dc(h,y,v,A,F,X){h.info(function(){if(h.g)if(X)for(var oe="",Be=X.split("&"),Nt=0;Nt<Be.length;Nt++){var He=Be[Nt].split("=");if(1<He.length){var Vt=He[0];He=He[1];var Rt=Vt.split("_");oe=2<=Rt.length&&Rt[1]=="type"?oe+(Vt+"="+He+"&"):oe+(Vt+"=redacted&")}}else oe=null;else oe=X;return"XMLHTTP REQ ("+A+") [attempt "+F+"]: "+y+`
`+v+`
`+oe})}function Oc(h,y,v,A,F,X,oe){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+F+"]: "+y+`
`+v+`
`+X+" "+oe})}function Ti(h,y,v,A){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+Mt(h,v)+(A?" "+A:"")})}function rs(h,y){h.info(function(){return"TIMEOUT: "+y})}Ei.prototype.info=function(){};function Mt(h,y){if(!h.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(h=0;h<v.length;h++)if(Array.isArray(v[h])){var A=v[h];if(!(2>A.length)){var F=A[1];if(Array.isArray(F)&&!(1>F.length)){var X=F[0];if(X!="noop"&&X!="stop"&&X!="close")for(var oe=1;oe<F.length;oe++)F[oe]=""}}}}return Pl(v)}catch{return y}}var St={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Cs={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ta;function Er(){}O(Er,Ul),Er.prototype.g=function(){return new XMLHttpRequest},Er.prototype.i=function(){return{}},Ta=new Er;function ls(h,y,v,A){this.j=h,this.i=y,this.l=v,this.R=A||1,this.U=new Ea(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Hl}function Hl(){this.i=null,this.g="",this.h=!1}var bi={},ba={};function $n(h,y,v){h.L=1,h.v=Sa(ut(y)),h.m=v,h.P=!0,Ds(h,null)}function Ds(h,y){h.F=Date.now(),at(h),h.A=ut(h.v);var v=h.A,A=h.R;Array.isArray(A)||(A=[String(A)]),Ls(v.i,"t",A),h.C=0,v=h.j.J,h.h=new Hl,h.g=Qc(h.j,v?y:null,!h.m),0<h.O&&(h.M=new gd(w(h.Y,h,h.g),h.O)),y=h.U,v=h.g,A=h.ca;var F="readystatechange";Array.isArray(F)||(F&&(pi[0]=F.toString()),F=pi);for(var X=0;X<F.length;X++){var oe=Is(v,F[X],A||y.handleEvent,!1,y.h||y);if(!oe)break;y.g[oe.key]=oe}y=h.H?N(h.H):{},h.m?(h.u||(h.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,y)):(h.u="GET",h.g.ea(h.A,h.u,null,y)),vi(),Dc(h.i,h.u,h.A,h.l,h.R,h.m)}ls.prototype.ca=function(h){h=h.target;const y=this.M;y&&On(h)==3?y.j():this.Y(h)},ls.prototype.Y=function(h){try{if(h==this.g)e:{const Rt=On(this.g);var y=this.g.Ba();const Bs=this.g.Z();if(!(3>Rt)&&(Rt!=3||this.g&&(this.h.h||this.g.oa()||Bc(this.g)))){this.J||Rt!=4||y==7||(y==8||0>=Bs?vi(3):vi(2)),Tr(this);var v=this.g.Z();this.X=v;t:if(Ai(this)){var A=Bc(this.g);h="";var F=A.length,X=On(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){fn(this),_n(this);var oe="";break t}this.h.i=new g.TextDecoder}for(y=0;y<F;y++)this.h.h=!0,h+=this.h.i.decode(A[y],{stream:!(X&&y==F-1)});A.length=0,this.h.g+=h,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=v==200,Oc(this.i,this.u,this.A,this.l,this.R,Rt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Be,Nt=this.g;if((Be=Nt.g?Nt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(Be)){var He=Be;break t}}He=null}if(v=He)Ti(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,yn(this,v);else{this.o=!1,this.s=3,pt(12),fn(this),_n(this);break e}}if(this.P){v=!0;let zt;for(;!this.J&&this.C<oe.length;)if(zt=wi(this,oe),zt==ba){Rt==4&&(this.s=4,pt(14),v=!1),Ti(this.i,this.l,null,"[Incomplete Response]");break}else if(zt==bi){this.s=4,pt(15),Ti(this.i,this.l,oe,"[Invalid Chunk]"),v=!1;break}else Ti(this.i,this.l,zt,null),yn(this,zt);if(Ai(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||oe.length!=0||this.h.h||(this.s=1,pt(16),v=!1),this.o=this.o&&v,!v)Ti(this.i,this.l,oe,"[Invalid Chunked Response]"),fn(this),_n(this);else if(0<oe.length&&!this.W){this.W=!0;var Vt=this.j;Vt.g==this&&Vt.ba&&!Vt.M&&(Vt.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),Da(Vt),Vt.M=!0,pt(11))}}else Ti(this.i,this.l,oe,null),yn(this,oe);Rt==4&&fn(this),this.o&&!this.J&&(Rt==4?Fc(this.j,this):(this.o=!1,at(this)))}else Ed(this.g),v==400&&0<oe.indexOf("Unknown SID")?(this.s=3,pt(12)):(this.s=0,pt(13)),fn(this),_n(this)}}}catch{}finally{}};function Ai(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function wi(h,y){var v=h.C,A=y.indexOf(`
`,v);return A==-1?ba:(v=Number(y.substring(v,A)),isNaN(v)?bi:(A+=1,A+v>y.length?ba:(y=y.slice(A,A+v),h.C=A+v,y)))}ls.prototype.cancel=function(){this.J=!0,fn(this)};function at(h){h.S=Date.now()+h.I,zl(h,h.I)}function zl(h,y){if(h.B!=null)throw Error("WatchDog timer not null");h.B=xi(w(h.ba,h),y)}function Tr(h){h.B&&(g.clearTimeout(h.B),h.B=null)}ls.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(rs(this.i,this.A),this.L!=2&&(vi(),pt(17)),fn(this),this.s=2,_n(this)):zl(this,this.S-h)};function _n(h){h.j.G==0||h.J||Fc(h.j,h)}function fn(h){Tr(h);var y=h.M;y&&typeof y.ma=="function"&&y.ma(),h.M=null,Xt(h.U),h.g&&(y=h.g,h.g=null,y.abort(),y.ma())}function yn(h,y){try{var v=h.j;if(v.G!=0&&(v.g==h||Si(v.h,h))){if(!h.K&&Si(v.h,h)&&v.G==3){try{var A=v.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var F=A;if(F[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<h.F)Cr(v),Ir(v);else break e;Jl(v),pt(18)}}else v.za=F[1],0<v.za-v.T&&37500>F[2]&&v.F&&v.v==0&&!v.C&&(v.C=xi(w(v.Za,v),6e3));if(1>=Mc(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Us(v,11)}else if((h.K||v.g==h)&&Cr(v),!G(y))for(F=v.Da.g.parse(y),y=0;y<F.length;y++){let He=F[y];if(v.T=He[0],He=He[1],v.G==2)if(He[0]=="c"){v.K=He[1],v.ia=He[2];const Vt=He[3];Vt!=null&&(v.la=Vt,v.j.info("VER="+v.la));const Rt=He[4];Rt!=null&&(v.Aa=Rt,v.j.info("SVER="+v.Aa));const Bs=He[5];Bs!=null&&typeof Bs=="number"&&0<Bs&&(A=1.5*Bs,v.L=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const zt=h.g;if(zt){const ms=zt.g?zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ms){var X=A.h;X.g||ms.indexOf("spdy")==-1&&ms.indexOf("quic")==-1&&ms.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(Ni(X,X.h),X.h=null))}if(A.D){const to=zt.g?zt.g.getResponseHeader("X-HTTP-Session-Id"):null;to&&(A.ya=to,Fe(A.I,A.D,to))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-h.F,v.j.info("Handshake RTT: "+v.R+"ms")),A=v;var oe=h;if(A.qa=$c(A,A.J?A.ia:null,A.W),oe.K){In(A.h,oe);var Be=oe,Nt=A.L;Nt&&(Be.I=Nt),Be.B&&(Tr(Be),at(Be)),A.g=oe}else qc(A);0<v.i.length&&jr(v)}else He[0]!="stop"&&He[0]!="close"||Us(v,7);else v.G==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?Us(v,7):Wl(v):He[0]!="noop"&&v.l&&v.l.ta(He),v.v=0)}}vi(4)}catch{}}var pd=class{constructor(h,y){this.g=h,this.map=y}};function ql(h){this.l=h||10,g.PerformanceNavigationTiming?(h=g.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Kl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Mc(h){return h.h?1:h.g?h.g.size:0}function Si(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function Ni(h,y){h.g?h.g.add(y):h.h=y}function In(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}ql.prototype.cancel=function(){if(this.i=rn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function rn(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const v of h.g.values())y=y.concat(v.D);return y}return q(h.i)}function Lc(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(p(h)){for(var y=[],v=h.length,A=0;A<v;A++)y.push(h[A]);return y}y=[],v=0;for(A in h)y[v++]=h[A];return y}function _d(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(p(h)||typeof h=="string"){var y=[];h=h.length;for(var v=0;v<h;v++)y.push(v);return y}y=[],v=0;for(const A in h)y[v++]=A;return y}}}function Aa(h,y){if(h.forEach&&typeof h.forEach=="function")h.forEach(y,void 0);else if(p(h)||typeof h=="string")Array.prototype.forEach.call(h,y,void 0);else for(var v=_d(h),A=Lc(h),F=A.length,X=0;X<F;X++)y.call(void 0,A[X],v&&v[X],h)}var Fl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function br(h,y){if(h){h=h.split("&");for(var v=0;v<h.length;v++){var A=h[v].indexOf("="),F=null;if(0<=A){var X=h[v].substring(0,A);F=h[v].substring(A+1)}else X=h[v];y(X,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Os(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Os){this.h=h.h,Ri(this,h.j),this.o=h.o,this.g=h.g,wa(this,h.s),this.l=h.l;var y=h.i,v=new os;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),Ar(this,v),this.m=h.m}else h&&(y=String(h).match(Fl))?(this.h=!1,Ri(this,y[1]||"",!0),this.o=ki(y[2]||""),this.g=ki(y[3]||"",!0),wa(this,y[4]),this.l=ki(y[5]||"",!0),Ar(this,y[6]||"",!0),this.m=ki(y[7]||"")):(this.h=!1,this.i=new os(null,this.h))}Os.prototype.toString=function(){var h=[],y=this.j;y&&h.push(jn(y,Gl,!0),":");var v=this.g;return(v||y=="file")&&(h.push("//"),(y=this.o)&&h.push(jn(y,Gl,!0),"@"),h.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&h.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&h.push("/"),h.push(jn(v,v.charAt(0)=="/"?$l:Vc,!0))),(v=this.i.toString())&&h.push("?",v),(v=this.m)&&h.push("#",jn(v,xd)),h.join("")};function ut(h){return new Os(h)}function Ri(h,y,v){h.j=v?ki(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function wa(h,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);h.s=y}else h.s=null}function Ar(h,y,v){y instanceof os?(h.i=y,Ql(h.i,h.h)):(v||(y=jn(y,vd)),h.i=new os(y,h.h))}function Fe(h,y,v){h.i.set(y,v)}function Sa(h){return Fe(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function ki(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function jn(h,y,v){return typeof h=="string"?(h=encodeURI(h).replace(y,yd),v&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function yd(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Gl=/[#\/\?@]/g,Vc=/[#\?:]/g,$l=/[#\?]/g,vd=/[#\?@]/g,xd=/#/g;function os(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function Cn(h){h.g||(h.g=new Map,h.h=0,h.i&&br(h.i,function(y,v){h.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}s=os.prototype,s.add=function(h,y){Cn(this),this.i=null,h=Vs(this,h);var v=this.g.get(h);return v||this.g.set(h,v=[]),v.push(y),this.h+=1,this};function wr(h,y){Cn(h),y=Vs(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function Ms(h,y){return Cn(h),y=Vs(h,y),h.g.has(y)}s.forEach=function(h,y){Cn(this),this.g.forEach(function(v,A){v.forEach(function(F){h.call(y,F,A,this)},this)},this)},s.na=function(){Cn(this);const h=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let A=0;A<y.length;A++){const F=h[A];for(let X=0;X<F.length;X++)v.push(y[A])}return v},s.V=function(h){Cn(this);let y=[];if(typeof h=="string")Ms(this,h)&&(y=y.concat(this.g.get(Vs(this,h))));else{h=Array.from(this.g.values());for(let v=0;v<h.length;v++)y=y.concat(h[v])}return y},s.set=function(h,y){return Cn(this),this.i=null,h=Vs(this,h),Ms(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},s.get=function(h,y){return h?(h=this.V(h),0<h.length?String(h[0]):y):y};function Ls(h,y,v){wr(h,y),0<v.length&&(h.i=null,h.g.set(Vs(h,y),q(v)),h.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var A=y[v];const X=encodeURIComponent(String(A)),oe=this.V(A);for(A=0;A<oe.length;A++){var F=X;oe[A]!==""&&(F+="="+encodeURIComponent(String(oe[A]))),h.push(F)}}return this.i=h.join("&")};function Vs(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function Ql(h,y){y&&!h.j&&(Cn(h),h.i=null,h.g.forEach(function(v,A){var F=A.toLowerCase();A!=F&&(wr(this,A),Ls(this,F,v))},h)),h.j=y}function Pc(h,y){const v=new Ei;if(g.Image){const A=new Image;A.onload=D(Dn,v,"TestLoadImage: loaded",!0,y,A),A.onerror=D(Dn,v,"TestLoadImage: error",!1,y,A),A.onabort=D(Dn,v,"TestLoadImage: abort",!1,y,A),A.ontimeout=D(Dn,v,"TestLoadImage: timeout",!1,y,A),g.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else y(!1)}function Na(h,y){const v=new Ei,A=new AbortController,F=setTimeout(()=>{A.abort(),Dn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:A.signal}).then(X=>{clearTimeout(F),X.ok?Dn(v,"TestPingServer: ok",!0,y):Dn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(F),Dn(v,"TestPingServer: error",!1,y)})}function Dn(h,y,v,A,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),A(v)}catch{}}function Ra(){this.g=new an}function cs(h,y,v){const A=v||"";try{Aa(h,function(F,X){let oe=F;_(F)&&(oe=Pl(F)),y.push(A+X+"="+encodeURIComponent(oe))})}catch(F){throw y.push(A+"type="+encodeURIComponent("_badmap")),F}}function Ii(h){this.l=h.Ub||null,this.j=h.eb||!1}O(Ii,Ul),Ii.prototype.g=function(){return new Ps(this.l,this.j)},Ii.prototype.i=function(h){return function(){return h}}({});function Ps(h,y){wt.call(this),this.D=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(Ps,wt),s=Ps.prototype,s.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=y,this.readyState=1,hs(this)},s.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(y.body=h),(this.D||g).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,us(this)),this.readyState=0},s.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,hs(this)),this.g&&(this.readyState=3,hs(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Yl(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Yl(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}s.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?us(this):hs(this),this.readyState==3&&Yl(this)}},s.Ra=function(h){this.g&&(this.response=this.responseText=h,us(this))},s.Qa=function(h){this.g&&(this.response=h,us(this))},s.ga=function(){this.g&&us(this)};function us(h){h.readyState=4,h.l=null,h.j=null,h.v=null,hs(h)}s.setRequestHeader=function(h,y){this.u.append(h,y)},s.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,h.push(v[0]+": "+v[1]),v=y.next();return h.join(`\r
`)};function hs(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Ps.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Xl(h){let y="";return re(h,function(v,A){y+=A,y+=":",y+=v,y+=`\r
`}),y}function Lt(h,y,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=Xl(v),typeof h=="string"?v!=null&&encodeURIComponent(String(v)):Fe(h,y,v))}function Qe(h){wt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(Qe,wt);var Sr=/^https?$/i,ka=["POST","PUT"];s=Qe.prototype,s.Ha=function(h){this.J=h},s.ea=function(h,y,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ta.g(),this.v=this.o?Ic(this.o):Ic(Ta),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(X){Uc(this,X);return}if(h=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var F in A)v.set(F,A[F]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const X of A.keys())v.set(X,A.get(X));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(X=>X.toLowerCase()=="content-type"),F=g.FormData&&h instanceof g.FormData,!(0<=Array.prototype.indexOf.call(ka,y,void 0))||A||F||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,oe]of v)this.g.setRequestHeader(X,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ia(this),this.u=!0,this.g.send(h),this.u=!1}catch(X){Uc(this,X)}};function Uc(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.m=5,Nr(h),ds(h)}function Nr(h){h.A||(h.A=!0,Ot(h,"complete"),Ot(h,"error"))}s.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Ot(this,"complete"),Ot(this,"abort"),ds(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ds(this,!0)),Qe.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Rr(this):this.bb())},s.bb=function(){Rr(this)};function Rr(h){if(h.h&&typeof f<"u"&&(!h.v[1]||On(h)!=4||h.Z()!=2)){if(h.u&&On(h)==4)kc(h.Ea,0,h);else if(Ot(h,"readystatechange"),On(h)==4){h.h=!1;try{const oe=h.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var A;if(A=oe===0){var F=String(h.D).match(Fl)[1]||null;!F&&g.self&&g.self.location&&(F=g.self.location.protocol.slice(0,-1)),A=!Sr.test(F?F.toLowerCase():"")}v=A}if(v)Ot(h,"complete"),Ot(h,"success");else{h.m=6;try{var X=2<On(h)?h.g.statusText:""}catch{X=""}h.l=X+" ["+h.Z()+"]",Nr(h)}}finally{ds(h)}}}}function ds(h,y){if(h.g){Ia(h);const v=h.g,A=h.v[0]?()=>{}:null;h.g=null,h.v=null,y||Ot(h,"ready");try{v.onreadystatechange=A}catch{}}}function Ia(h){h.I&&(g.clearTimeout(h.I),h.I=null)}s.isActive=function(){return!!this.g};function On(h){return h.g?h.g.readyState:0}s.Z=function(){try{return 2<On(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),is(y)}};function Bc(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Ed(h){const y={};h=(h.g&&2<=On(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(G(h[A]))continue;var v=R(h[A]);const F=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const X=y[F]||[];y[F]=X,X.push(v)}V(y,function(A){return A.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ja(h,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[h]||y}function kr(h){this.Aa=0,this.i=[],this.j=new Ei,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ja("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ja("baseRetryDelayMs",5e3,h),this.cb=ja("retryDelaySeedMs",1e4,h),this.Wa=ja("forwardChannelMaxRetries",2,h),this.wa=ja("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new ql(h&&h.concurrentRequestLimit),this.Da=new Ra,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=kr.prototype,s.la=8,s.G=1,s.connect=function(h,y,v,A){pt(0),this.W=h,this.H=y||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.I=$c(this,null,this.W),jr(this)};function Wl(h){if(Hc(h),h.G==3){var y=h.U++,v=ut(h.I);if(Fe(v,"SID",h.K),Fe(v,"RID",y),Fe(v,"TYPE","terminate"),Ca(h,v),y=new ls(h,h.j,y),y.L=2,y.v=Sa(ut(v)),v=!1,g.navigator&&g.navigator.sendBeacon)try{v=g.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&g.Image&&(new Image().src=y.v,v=!0),v||(y.g=Qc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),at(y)}Gc(h)}function Ir(h){h.g&&(Da(h),h.g.cancel(),h.g=null)}function Hc(h){Ir(h),h.u&&(g.clearTimeout(h.u),h.u=null),Cr(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&g.clearTimeout(h.s),h.s=null)}function jr(h){if(!Kl(h.h)&&!h.s){h.s=!0;var y=h.Ga;ye||C(),ce||(ye(),ce=!0),ke.add(y,h),h.B=0}}function Td(h,y){return Mc(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=y.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=xi(w(h.Ga,h,y),eo(h,h.B)),h.B++,!0)}s.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const F=new ls(this,this.j,h);let X=this.o;if(this.S&&(X?(X=N(X),k(X,this.S)):X=this.S),this.m!==null||this.O||(F.H=X,X=null),this.P)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=zc(this,F,y),v=ut(this.I),Fe(v,"RID",h),Fe(v,"CVER",22),this.D&&Fe(v,"X-HTTP-Session-Id",this.D),Ca(this,v),X&&(this.O?y="headers="+encodeURIComponent(String(Xl(X)))+"&"+y:this.m&&Lt(v,this.m,X)),Ni(this.h,F),this.Ua&&Fe(v,"TYPE","init"),this.P?(Fe(v,"$req",y),Fe(v,"SID","null"),F.T=!0,$n(F,v,null)):$n(F,v,y),this.G=2}}else this.G==3&&(h?Zl(this,h):this.i.length==0||Kl(this.h)||Zl(this))};function Zl(h,y){var v;y?v=y.l:v=h.U++;const A=ut(h.I);Fe(A,"SID",h.K),Fe(A,"RID",v),Fe(A,"AID",h.T),Ca(h,A),h.m&&h.o&&Lt(A,h.m,h.o),v=new ls(h,h.j,v,h.B+1),h.m===null&&(v.H=h.o),y&&(h.i=y.D.concat(h.i)),y=zc(h,v,1e3),v.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Ni(h.h,v),$n(v,A,y)}function Ca(h,y){h.H&&re(h.H,function(v,A){Fe(y,A,v)}),h.l&&Aa({},function(v,A){Fe(y,A,v)})}function zc(h,y,v){v=Math.min(h.i.length,v);var A=h.l?w(h.l.Na,h.l,h):null;e:{var F=h.i;let X=-1;for(;;){const oe=["count="+v];X==-1?0<v?(X=F[0].g,oe.push("ofs="+X)):X=0:oe.push("ofs="+X);let Be=!0;for(let Nt=0;Nt<v;Nt++){let He=F[Nt].g;const Vt=F[Nt].map;if(He-=X,0>He)X=Math.max(0,F[Nt].g-100),Be=!1;else try{cs(Vt,oe,"req"+He+"_")}catch{A&&A(Vt)}}if(Be){A=oe.join("&");break e}}}return h=h.i.splice(0,v),y.D=h,A}function qc(h){if(!h.g&&!h.u){h.Y=1;var y=h.Fa;ye||C(),ce||(ye(),ce=!0),ke.add(y,h),h.v=0}}function Jl(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=xi(w(h.Fa,h),eo(h,h.v)),h.v++,!0)}s.Fa=function(){if(this.u=null,Kc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=xi(w(this.ab,this),h)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,pt(10),Ir(this),Kc(this))};function Da(h){h.A!=null&&(g.clearTimeout(h.A),h.A=null)}function Kc(h){h.g=new ls(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var y=ut(h.qa);Fe(y,"RID","rpc"),Fe(y,"SID",h.K),Fe(y,"AID",h.T),Fe(y,"CI",h.F?"0":"1"),!h.F&&h.ja&&Fe(y,"TO",h.ja),Fe(y,"TYPE","xmlhttp"),Ca(h,y),h.m&&h.o&&Lt(y,h.m,h.o),h.L&&(h.g.I=h.L);var v=h.g;h=h.ia,v.L=1,v.v=Sa(ut(y)),v.m=null,v.P=!0,Ds(v,h)}s.Za=function(){this.C!=null&&(this.C=null,Ir(this),Jl(this),pt(19))};function Cr(h){h.C!=null&&(g.clearTimeout(h.C),h.C=null)}function Fc(h,y){var v=null;if(h.g==y){Cr(h),Da(h),h.g=null;var A=2}else if(Si(h.h,y))v=y.D,In(h.h,y),A=1;else return;if(h.G!=0){if(y.o)if(A==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var F=h.B;A=vr(),Ot(A,new Cc(A,v)),jr(h)}else qc(h);else if(F=y.s,F==3||F==0&&0<y.X||!(A==1&&Td(h,y)||A==2&&Jl(h)))switch(v&&0<v.length&&(y=h.h,y.i=y.i.concat(v)),F){case 1:Us(h,5);break;case 4:Us(h,10);break;case 3:Us(h,6);break;default:Us(h,2)}}}function eo(h,y){let v=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(v*=2),v*y}function Us(h,y){if(h.j.info("Error code "+y),y==2){var v=w(h.fb,h),A=h.Xa;const F=!A;A=new Os(A||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Ri(A,"https"),Sa(A),F?Pc(A.toString(),v):Na(A.toString(),v)}else pt(2);h.G=0,h.l&&h.l.sa(y),Gc(h),Hc(h)}s.fb=function(h){h?(this.j.info("Successfully pinged google.com"),pt(2)):(this.j.info("Failed to ping google.com"),pt(1))};function Gc(h){if(h.G=0,h.ka=[],h.l){const y=rn(h.h);(y.length!=0||h.i.length!=0)&&(M(h.ka,y),M(h.ka,h.i),h.h.i.length=0,q(h.i),h.i.length=0),h.l.ra()}}function $c(h,y,v){var A=v instanceof Os?ut(v):new Os(v);if(A.g!="")y&&(A.g=y+"."+A.g),wa(A,A.s);else{var F=g.location;A=F.protocol,y=y?y+"."+F.hostname:F.hostname,F=+F.port;var X=new Os(null);A&&Ri(X,A),y&&(X.g=y),F&&wa(X,F),v&&(X.l=v),A=X}return v=h.D,y=h.ya,v&&y&&Fe(A,v,y),Fe(A,"VER",h.la),Ca(h,A),A}function Qc(h,y,v){if(y&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Ca&&!h.pa?new Qe(new Ii({eb:v})):new Qe(h.pa),y.Ha(h.J),y}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yc(){}s=Yc.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function Dr(){}Dr.prototype.g=function(h,y){return new ln(h,y)};function ln(h,y){wt.call(this),this.g=new kr(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(h?h["X-WebChannel-Client-Profile"]=y.va:h={"X-WebChannel-Client-Profile":y.va}),this.g.S=h,(h=y&&y.Sb)&&!G(h)&&(this.g.m=h),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!G(y)&&(this.g.D=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new fs(this)}O(ln,wt),ln.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){Wl(this.g)},ln.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var v={};v.__data__=h,h=v}else this.u&&(v={},v.__data__=Pl(h),h=v);y.i.push(new pd(y.Ya++,h)),y.G==3&&jr(y)},ln.prototype.N=function(){this.g.l=null,delete this.j,Wl(this.g),delete this.g,ln.aa.N.call(this)};function Xc(h){_i.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const v in y){h=v;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}O(Xc,_i);function Wc(){Gn.call(this),this.status=1}O(Wc,Gn);function fs(h){this.g=h}O(fs,Yc),fs.prototype.ua=function(){Ot(this.g,"a")},fs.prototype.ta=function(h){Ot(this.g,new Xc(h))},fs.prototype.sa=function(h){Ot(this.g,new Wc)},fs.prototype.ra=function(){Ot(this.g,"b")},Dr.prototype.createWebChannel=Dr.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,X0=function(){return new Dr},Y0=function(){return vr()},Q0=kn,Hm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},St.NO_ERROR=0,St.TIMEOUT=8,St.HTTP_ERROR=6,oh=St,Cs.COMPLETE="complete",$0=Cs,jc.EventType=as,as.OPEN="a",as.CLOSE="b",as.ERROR="c",as.MESSAGE="d",wt.prototype.listen=wt.prototype.K,Yo=jc,Qe.prototype.listenOnce=Qe.prototype.L,Qe.prototype.getLastError=Qe.prototype.Ka,Qe.prototype.getLastErrorCode=Qe.prototype.Ba,Qe.prototype.getStatus=Qe.prototype.Z,Qe.prototype.getResponseJson=Qe.prototype.Oa,Qe.prototype.getResponseText=Qe.prototype.oa,Qe.prototype.send=Qe.prototype.ea,Qe.prototype.setWithCredentials=Qe.prototype.Ha,G0=Qe}).apply(typeof Xu<"u"?Xu:typeof self<"u"?self:typeof window<"u"?window:{});const Xv="@firebase/firestore",Wv="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rl="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sr=new vg("@firebase/firestore");function rl(){return sr.logLevel}function de(s,...e){if(sr.logLevel<=Le.DEBUG){const n=e.map(Tg);sr.debug(`Firestore (${Rl}): ${s}`,...n)}}function ci(s,...e){if(sr.logLevel<=Le.ERROR){const n=e.map(Tg);sr.error(`Firestore (${Rl}): ${s}`,...n)}}function gl(s,...e){if(sr.logLevel<=Le.WARN){const n=e.map(Tg);sr.warn(`Firestore (${Rl}): ${s}`,...n)}}function Tg(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(s="Unexpected state"){const e=`FIRESTORE (${Rl}) INTERNAL ASSERTION FAILED: `+s;throw ci(e),new Error(e)}function Ye(s,e){s||be()}function Re(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Rs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class mR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(en.UNAUTHENTICATED))}shutdown(){}}class gR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class pR{constructor(e){this.t=e,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ye(this.o===void 0);let a=this.i;const l=p=>this.i!==a?(a=this.i,n(p)):Promise.resolve();let c=new ri;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ri,e.enqueueRetryable(()=>l(this.currentUser))};const f=()=>{const p=c;e.enqueueRetryable(async()=>{await p.promise,await l(this.currentUser)})},g=p=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>g(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ri)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(a=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ye(typeof a.accessToken=="string"),new W0(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string"),new en(e)}}class _R{constructor(e,n,a){this.l=e,this.h=n,this.P=a,this.type="FirstParty",this.user=en.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class yR{constructor(e,n,a){this.l=e,this.h=n,this.P=a}getToken(){return Promise.resolve(new _R(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(en.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Zv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vR{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,An(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Ye(this.o===void 0);const a=c=>{c.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.R;return this.R=c.token,de("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>a(c))};const l=c=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>l(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?l(c):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Zv(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ye(typeof n.token=="string"),this.R=n.token,new Zv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xR(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<s;a++)n[a]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=xR(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<n&&(a+=e.charAt(l[c]%62))}return a}}function Ue(s,e){return s<e?-1:s>e?1:0}function pl(s,e,n){return s.length===e.length&&s.every((a,l)=>n(a,e[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv=-62135596800,ex=1e6;class Ct{static now(){return Ct.fromMillis(Date.now())}static fromDate(e){return Ct.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor((e-1e3*n)*ex);return new Ct(n,a)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Jv)throw new fe(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ex}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Jv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new Ct(0,0))}static max(){return new we(new Ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx="__name__";class xs{constructor(e,n,a){n===void 0?n=0:n>e.length&&be(),a===void 0?a=e.length-n:a>e.length-n&&be(),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return xs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof xs?e.forEach(a=>{n.push(a)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let l=0;l<a;l++){const c=xs.compareSegments(e.get(l),n.get(l));if(c!==0)return c}return Math.sign(e.length-n.length)}static compareSegments(e,n){const a=xs.isNumericId(e),l=xs.isNumericId(n);return a&&!l?-1:!a&&l?1:a&&l?xs.extractNumericId(e).compare(xs.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return la.fromString(e.substring(4,e.length-2))}}class nt extends xs{construct(e,n,a){return new nt(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new fe(se.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter(l=>l.length>0))}return new nt(n)}static emptyPath(){return new nt([])}}const ER=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $t extends xs{construct(e,n,a){return new $t(e,n,a)}static isValidIdentifier(e){return ER.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===tx}static keyField(){return new $t([tx])}static fromServerFormat(e){const n=[];let a="",l=0;const c=()=>{if(a.length===0)throw new fe(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let f=!1;for(;l<e.length;){const g=e[l];if(g==="\\"){if(l+1===e.length)throw new fe(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new fe(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=p,l+=2}else g==="`"?(f=!f,l++):g!=="."||f?(a+=g,l++):(c(),l++)}if(c(),f)throw new fe(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $t(n)}static emptyPath(){return new $t([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(nt.fromString(e))}static fromName(e){return new ve(nt.fromString(e).popFirst(5))}static empty(){return new ve(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return nt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new nt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lc=-1;function TR(s,e){const n=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=we.fromTimestamp(a===1e9?new Ct(n+1,0):new Ct(n,a));return new ha(l,ve.empty(),e)}function bR(s){return new ha(s.readTime,s.key,lc)}class ha{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new ha(we.min(),ve.empty(),lc)}static max(){return new ha(we.max(),ve.empty(),lc)}}function AR(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=ve.comparator(s.documentKey,e.documentKey),n!==0?n:Ue(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class SR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kl(s){if(s.code!==se.FAILED_PRECONDITION||s.message!==wR)throw s;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&be(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(n,c).next(a,l)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ne.reject(n)}static resolve(e){return new ne((n,a)=>{n(e)})}static reject(e){return new ne((n,a)=>{a(e)})}static waitFor(e){return new ne((n,a)=>{let l=0,c=0,f=!1;e.forEach(g=>{++l,g.next(()=>{++c,f&&c===l&&n()},p=>a(p))}),f=!0,c===l&&n()})}static or(e){let n=ne.resolve(!1);for(const a of e)n=n.next(l=>l?ne.resolve(l):a());return n}static forEach(e,n){const a=[];return e.forEach((l,c)=>{a.push(n.call(this,l,c))}),this.waitFor(a)}static mapArray(e,n){return new ne((a,l)=>{const c=e.length,f=new Array(c);let g=0;for(let p=0;p<c;p++){const _=p;n(e[_]).next(E=>{f[_]=E,++g,g===c&&a(f)},E=>l(E))}})}static doWhile(e,n){return new ne((a,l)=>{const c=()=>{e()===!0?n().next(()=>{c()},l):a()};c()})}}function NR(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Il(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this.oe(a),this._e=a=>n.writeSequenceNumber(a))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}qh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bg=-1;function Kh(s){return s==null}function Th(s){return s===0&&1/s==-1/0}function RR(s){return typeof s=="number"&&Number.isInteger(s)&&!Th(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0="";function kR(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=nx(e)),e=IR(s.get(n),e);return nx(e)}function IR(s,e){let n=e;const a=s.length;for(let l=0;l<a;l++){const c=s.charAt(l);switch(c){case"\0":n+="";break;case J0:n+="";break;default:n+=c}}return n}function nx(s){return s+J0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sx(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function _a(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function eE(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,n){this.comparator=e,this.root=n||Gt.EMPTY}insert(e,n){return new ot(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(e,a.key);if(l===0)return n+a.left.size;l<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,a)=>(e(n,a),!1))}toString(){const e=[];return this.inorderTraversal((n,a)=>(e.push(`${n}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wu(this.root,e,this.comparator,!0)}}class Wu{constructor(e,n,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?a(e.key,n):1,n&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,n,a,l,c){this.key=e,this.value=n,this.color=a??Gt.RED,this.left=l??Gt.EMPTY,this.right=c??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,l,c){return new Gt(e??this.key,n??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let l=this;const c=a(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,n,a),null):c===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(e,l.key)===0){if(l.right.isEmpty())return Gt.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw be();const e=this.left.check();if(e!==this.right.check())throw be();return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw be()}get value(){throw be()}get color(){throw be()}get left(){throw be()}get right(){throw be()}copy(e,n,a,l,c){return this}insert(e,n,a){return new Gt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,a)=>(e(n),!1))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ix(this.data.getIterator())}getIteratorFrom(e){return new ix(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(a=>{n=n.add(a)}),n}isEqual(e){if(!(e instanceof Dt)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Dt(this.comparator);return n.data=e,n}}class ix{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.fields=e,e.sort($t.comparator)}static empty(){return new wn([])}unionWith(e){let n=new Dt($t.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new wn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return pl(this.fields,e.fields,(n,a)=>n.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new tE("Invalid base64 string: "+c):c}}(e);return new Yt(n)}static fromUint8Array(e){const n=function(l){let c="";for(let f=0;f<l.length;++f)c+=String.fromCharCode(l[f]);return c}(e);return new Yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const a=new Uint8Array(n.length);for(let l=0;l<n.length;l++)a[l]=n.charCodeAt(l);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const jR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function da(s){if(Ye(!!s),typeof s=="string"){let e=0;const n=jR.exec(s);if(Ye(!!n),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:yt(s.seconds),nanos:yt(s.nanos)}}function yt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function fa(s){return typeof s=="string"?Yt.fromBase64String(s):Yt.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE="server_timestamp",sE="__type__",iE="__previous_value__",aE="__local_write_time__";function Ag(s){var e,n;return((n=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[sE])===null||n===void 0?void 0:n.stringValue)===nE}function Fh(s){const e=s.mapValue.fields[iE];return Ag(e)?Fh(e):e}function oc(s){const e=da(s.mapValue.fields[aE].timestampValue);return new Ct(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(e,n,a,l,c,f,g,p,_){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=_}}const bh="(default)";class cc{constructor(e,n){this.projectId=e,this.database=n||bh}static empty(){return new cc("","")}get isDefaultDatabase(){return this.database===bh}isEqual(e){return e instanceof cc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE="__type__",DR="__max__",Zu={mapValue:{}},lE="__vector__",Ah="value";function ma(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Ag(s)?4:MR(s)?9007199254740991:OR(s)?10:11:be()}function Ns(s,e){if(s===e)return!0;const n=ma(s);if(n!==ma(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return oc(s).isEqual(oc(e));case 3:return function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const f=da(l.timestampValue),g=da(c.timestampValue);return f.seconds===g.seconds&&f.nanos===g.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(l,c){return fa(l.bytesValue).isEqual(fa(c.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(l,c){return yt(l.geoPointValue.latitude)===yt(c.geoPointValue.latitude)&&yt(l.geoPointValue.longitude)===yt(c.geoPointValue.longitude)}(s,e);case 2:return function(l,c){if("integerValue"in l&&"integerValue"in c)return yt(l.integerValue)===yt(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const f=yt(l.doubleValue),g=yt(c.doubleValue);return f===g?Th(f)===Th(g):isNaN(f)&&isNaN(g)}return!1}(s,e);case 9:return pl(s.arrayValue.values||[],e.arrayValue.values||[],Ns);case 10:case 11:return function(l,c){const f=l.mapValue.fields||{},g=c.mapValue.fields||{};if(sx(f)!==sx(g))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(g[p]===void 0||!Ns(f[p],g[p])))return!1;return!0}(s,e);default:return be()}}function uc(s,e){return(s.values||[]).find(n=>Ns(n,e))!==void 0}function _l(s,e){if(s===e)return 0;const n=ma(s),a=ma(e);if(n!==a)return Ue(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ue(s.booleanValue,e.booleanValue);case 2:return function(c,f){const g=yt(c.integerValue||c.doubleValue),p=yt(f.integerValue||f.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1}(s,e);case 3:return ax(s.timestampValue,e.timestampValue);case 4:return ax(oc(s),oc(e));case 5:return Ue(s.stringValue,e.stringValue);case 6:return function(c,f){const g=fa(c),p=fa(f);return g.compareTo(p)}(s.bytesValue,e.bytesValue);case 7:return function(c,f){const g=c.split("/"),p=f.split("/");for(let _=0;_<g.length&&_<p.length;_++){const E=Ue(g[_],p[_]);if(E!==0)return E}return Ue(g.length,p.length)}(s.referenceValue,e.referenceValue);case 8:return function(c,f){const g=Ue(yt(c.latitude),yt(f.latitude));return g!==0?g:Ue(yt(c.longitude),yt(f.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return rx(s.arrayValue,e.arrayValue);case 10:return function(c,f){var g,p,_,E;const b=c.fields||{},w=f.fields||{},D=(g=b[Ah])===null||g===void 0?void 0:g.arrayValue,O=(p=w[Ah])===null||p===void 0?void 0:p.arrayValue,q=Ue(((_=D==null?void 0:D.values)===null||_===void 0?void 0:_.length)||0,((E=O==null?void 0:O.values)===null||E===void 0?void 0:E.length)||0);return q!==0?q:rx(D,O)}(s.mapValue,e.mapValue);case 11:return function(c,f){if(c===Zu.mapValue&&f===Zu.mapValue)return 0;if(c===Zu.mapValue)return 1;if(f===Zu.mapValue)return-1;const g=c.fields||{},p=Object.keys(g),_=f.fields||{},E=Object.keys(_);p.sort(),E.sort();for(let b=0;b<p.length&&b<E.length;++b){const w=Ue(p[b],E[b]);if(w!==0)return w;const D=_l(g[p[b]],_[E[b]]);if(D!==0)return D}return Ue(p.length,E.length)}(s.mapValue,e.mapValue);default:throw be()}}function ax(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Ue(s,e);const n=da(s),a=da(e),l=Ue(n.seconds,a.seconds);return l!==0?l:Ue(n.nanos,a.nanos)}function rx(s,e){const n=s.values||[],a=e.values||[];for(let l=0;l<n.length&&l<a.length;++l){const c=_l(n[l],a[l]);if(c)return c}return Ue(n.length,a.length)}function yl(s){return zm(s)}function zm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(n){const a=da(n);return`time(${a.seconds},${a.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(n){return fa(n).toBase64()}(s.bytesValue):"referenceValue"in s?function(n){return ve.fromName(n).toString()}(s.referenceValue):"geoPointValue"in s?function(n){return`geo(${n.latitude},${n.longitude})`}(s.geoPointValue):"arrayValue"in s?function(n){let a="[",l=!0;for(const c of n.values||[])l?l=!1:a+=",",a+=zm(c);return a+"]"}(s.arrayValue):"mapValue"in s?function(n){const a=Object.keys(n.fields||{}).sort();let l="{",c=!0;for(const f of a)c?c=!1:l+=",",l+=`${f}:${zm(n.fields[f])}`;return l+"}"}(s.mapValue):be()}function ch(s){switch(ma(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Fh(s);return e?16+ch(e):16;case 5:return 2*s.stringValue.length;case 6:return fa(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((l,c)=>l+ch(c),0)}(s.arrayValue);case 10:case 11:return function(a){let l=0;return _a(a.fields,(c,f)=>{l+=c.length+ch(f)}),l}(s.mapValue);default:throw be()}}function lx(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function qm(s){return!!s&&"integerValue"in s}function wg(s){return!!s&&"arrayValue"in s}function ox(s){return!!s&&"nullValue"in s}function cx(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function uh(s){return!!s&&"mapValue"in s}function OR(s){var e,n;return((n=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[rE])===null||n===void 0?void 0:n.stringValue)===lE}function Jo(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return _a(s.mapValue.fields,(n,a)=>e.mapValue.fields[n]=Jo(a)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Jo(s.arrayValue.values[n]);return e}return Object.assign({},s)}function MR(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===DR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.value=e}static empty(){return new pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!uh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jo(n)}setAll(e){let n=$t.emptyPath(),a={},l=[];e.forEach((f,g)=>{if(!n.isImmediateParentOf(g)){const p=this.getFieldsMap(n);this.applyChanges(p,a,l),a={},l=[],n=g.popLast()}f?a[g.lastSegment()]=Jo(f):l.push(g.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,a,l)}delete(e){const n=this.field(e.popLast());uh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ns(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let l=n.mapValue.fields[e.get(a)];uh(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,a){_a(n,(l,c)=>e[l]=c);for(const l of a)delete e[l]}clone(){return new pn(Jo(this.value))}}function oE(s){const e=[];return _a(s.fields,(n,a)=>{const l=new $t([n]);if(uh(a)){const c=oE(a.mapValue).fields;if(c.length===0)e.push(l);else for(const f of c)e.push(l.child(f))}else e.push(l)}),new wn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e,n,a,l,c,f,g){this.key=e,this.documentType=n,this.version=a,this.readTime=l,this.createTime=c,this.data=f,this.documentState=g}static newInvalidDocument(e){return new tn(e,0,we.min(),we.min(),we.min(),pn.empty(),0)}static newFoundDocument(e,n,a,l){return new tn(e,1,n,we.min(),a,l,0)}static newNoDocument(e,n){return new tn(e,2,n,we.min(),we.min(),pn.empty(),0)}static newUnknownDocument(e,n){return new tn(e,3,n,we.min(),we.min(),pn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e,n){this.position=e,this.inclusive=n}}function ux(s,e,n){let a=0;for(let l=0;l<s.position.length;l++){const c=e[l],f=s.position[l];if(c.field.isKeyField()?a=ve.comparator(ve.fromName(f.referenceValue),n.key):a=_l(f,n.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function hx(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!Ns(s.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,n="asc"){this.field=e,this.dir=n}}function LR(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{}class At extends cE{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new PR(e,n,a):n==="array-contains"?new HR(e,a):n==="in"?new zR(e,a):n==="not-in"?new qR(e,a):n==="array-contains-any"?new KR(e,a):new At(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new UR(e,a):new BR(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(_l(n,this.value)):n!==null&&ma(this.value)===ma(n)&&this.matchesComparison(_l(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Jn extends cE{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Jn(e,n)}matches(e){return uE(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function uE(s){return s.op==="and"}function hE(s){return VR(s)&&uE(s)}function VR(s){for(const e of s.filters)if(e instanceof Jn)return!1;return!0}function Km(s){if(s instanceof At)return s.field.canonicalString()+s.op.toString()+yl(s.value);if(hE(s))return s.filters.map(e=>Km(e)).join(",");{const e=s.filters.map(n=>Km(n)).join(",");return`${s.op}(${e})`}}function dE(s,e){return s instanceof At?function(a,l){return l instanceof At&&a.op===l.op&&a.field.isEqual(l.field)&&Ns(a.value,l.value)}(s,e):s instanceof Jn?function(a,l){return l instanceof Jn&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce((c,f,g)=>c&&dE(f,l.filters[g]),!0):!1}(s,e):void be()}function fE(s){return s instanceof At?function(n){return`${n.field.canonicalString()} ${n.op} ${yl(n.value)}`}(s):s instanceof Jn?function(n){return n.op.toString()+" {"+n.getFilters().map(fE).join(" ,")+"}"}(s):"Filter"}class PR extends At{constructor(e,n,a){super(e,n,a),this.key=ve.fromName(a.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class UR extends At{constructor(e,n){super(e,"in",n),this.keys=mE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class BR extends At{constructor(e,n){super(e,"not-in",n),this.keys=mE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function mE(s,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(a=>ve.fromName(a.referenceValue))}class HR extends At{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return wg(n)&&uc(n.arrayValue,this.value)}}class zR extends At{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&uc(this.value.arrayValue,n)}}class qR extends At{constructor(e,n){super(e,"not-in",n)}matches(e){if(uc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!uc(this.value.arrayValue,n)}}class KR extends At{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!wg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(a=>uc(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(e,n=null,a=[],l=[],c=null,f=null,g=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=f,this.endAt=g,this.le=null}}function dx(s,e=null,n=[],a=[],l=null,c=null,f=null){return new FR(s,e,n,a,l,c,f)}function Sg(s){const e=Re(s);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(a=>Km(a)).join(","),n+="|ob:",n+=e.orderBy.map(a=>function(c){return c.field.canonicalString()+c.dir}(a)).join(","),Kh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(a=>yl(a)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(a=>yl(a)).join(",")),e.le=n}return e.le}function Ng(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!LR(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!dE(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!hx(s.startAt,e.startAt)&&hx(s.endAt,e.endAt)}function Fm(s){return ve.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,n=null,a=[],l=[],c=null,f="F",g=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=f,this.startAt=g,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function GR(s,e,n,a,l,c,f,g){return new yc(s,e,n,a,l,c,f,g)}function Rg(s){return new yc(s)}function fx(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function gE(s){return s.collectionGroup!==null}function ec(s){const e=Re(s);if(e.he===null){e.he=[];const n=new Set;for(const c of e.explicitOrderBy)e.he.push(c),n.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let g=new Dt($t.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(_=>{_.isInequality()&&(g=g.add(_.field))})}),g})(e).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||e.he.push(new Sh(c,a))}),n.has($t.keyField().canonicalString())||e.he.push(new Sh($t.keyField(),a))}return e.he}function bs(s){const e=Re(s);return e.Pe||(e.Pe=$R(e,ec(s))),e.Pe}function $R(s,e){if(s.limitType==="F")return dx(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(l=>{const c=l.dir==="desc"?"asc":"desc";return new Sh(l.field,c)});const n=s.endAt?new wh(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new wh(s.startAt.position,s.startAt.inclusive):null;return dx(s.path,s.collectionGroup,e,s.filters,s.limit,n,a)}}function Gm(s,e){const n=s.filters.concat([e]);return new yc(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function $m(s,e,n){return new yc(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function Gh(s,e){return Ng(bs(s),bs(e))&&s.limitType===e.limitType}function pE(s){return`${Sg(bs(s))}|lt:${s.limitType}`}function ll(s){return`Query(target=${function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map(l=>fE(l)).join(", ")}]`),Kh(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map(l=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(l)).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map(l=>yl(l)).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map(l=>yl(l)).join(",")),`Target(${a})`}(bs(s))}; limitType=${s.limitType})`}function $h(s,e){return e.isFoundDocument()&&function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ve.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)}(s,e)&&function(a,l){for(const c of ec(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0}(s,e)&&function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0}(s,e)&&function(a,l){return!(a.startAt&&!function(f,g,p){const _=ux(f,g,p);return f.inclusive?_<=0:_<0}(a.startAt,ec(a),l)||a.endAt&&!function(f,g,p){const _=ux(f,g,p);return f.inclusive?_>=0:_>0}(a.endAt,ec(a),l))}(s,e)}function QR(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function _E(s){return(e,n)=>{let a=!1;for(const l of ec(s)){const c=YR(l,e,n);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function YR(s,e,n){const a=s.field.isKeyField()?ve.comparator(e.key,n.key):function(c,f,g){const p=f.data.field(c),_=g.data.field(c);return p!==null&&_!==null?_l(p,_):be()}(s.field,e,n);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return be()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),l=this.inner[a];if(l===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return a.length===1?delete this.inner[n]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(e){_a(this.inner,(n,a)=>{for(const[l,c]of a)e(l,c)})}isEmpty(){return eE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR=new ot(ve.comparator);function ui(){return XR}const yE=new ot(ve.comparator);function Xo(...s){let e=yE;for(const n of s)e=e.insert(n.key,n);return e}function vE(s){let e=yE;return s.forEach((n,a)=>e=e.insert(n,a.overlayedDocument)),e}function Ja(){return tc()}function xE(){return tc()}function tc(){return new hr(s=>s.toString(),(s,e)=>s.isEqual(e))}const WR=new ot(ve.comparator),ZR=new Dt(ve.comparator);function Ve(...s){let e=ZR;for(const n of s)e=e.add(n);return e}const JR=new Dt(Ue);function ek(){return JR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kg(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Th(e)?"-0":e}}function EE(s){return{integerValue:""+s}}function tk(s,e){return RR(e)?EE(e):kg(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(){this._=void 0}}function nk(s,e,n){return s instanceof Nh?function(l,c){const f={fields:{[sE]:{stringValue:nE},[aE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Ag(c)&&(c=Fh(c)),c&&(f.fields[iE]=c),{mapValue:f}}(n,e):s instanceof hc?bE(s,e):s instanceof dc?AE(s,e):function(l,c){const f=TE(l,c),g=mx(f)+mx(l.Ie);return qm(f)&&qm(l.Ie)?EE(g):kg(l.serializer,g)}(s,e)}function sk(s,e,n){return s instanceof hc?bE(s,e):s instanceof dc?AE(s,e):n}function TE(s,e){return s instanceof Rh?function(a){return qm(a)||function(c){return!!c&&"doubleValue"in c}(a)}(e)?e:{integerValue:0}:null}class Nh extends Qh{}class hc extends Qh{constructor(e){super(),this.elements=e}}function bE(s,e){const n=wE(e);for(const a of s.elements)n.some(l=>Ns(l,a))||n.push(a);return{arrayValue:{values:n}}}class dc extends Qh{constructor(e){super(),this.elements=e}}function AE(s,e){let n=wE(e);for(const a of s.elements)n=n.filter(l=>!Ns(l,a));return{arrayValue:{values:n}}}class Rh extends Qh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function mx(s){return yt(s.integerValue||s.doubleValue)}function wE(s){return wg(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function ik(s,e){return s.field.isEqual(e.field)&&function(a,l){return a instanceof hc&&l instanceof hc||a instanceof dc&&l instanceof dc?pl(a.elements,l.elements,Ns):a instanceof Rh&&l instanceof Rh?Ns(a.Ie,l.Ie):a instanceof Nh&&l instanceof Nh}(s.transform,e.transform)}class ak{constructor(e,n){this.version=e,this.transformResults=n}}class Fn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Fn}static exists(e){return new Fn(void 0,e)}static updateTime(e){return new Fn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hh(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Yh{}function SE(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Ig(s.key,Fn.none()):new vc(s.key,s.data,Fn.none());{const n=s.data,a=pn.empty();let l=new Dt($t.comparator);for(let c of e.fields)if(!l.has(c)){let f=n.field(c);f===null&&c.length>1&&(c=c.popLast(),f=n.field(c)),f===null?a.delete(c):a.set(c,f),l=l.add(c)}return new ya(s.key,a,new wn(l.toArray()),Fn.none())}}function rk(s,e,n){s instanceof vc?function(l,c,f){const g=l.value.clone(),p=px(l.fieldTransforms,c,f.transformResults);g.setAll(p),c.convertToFoundDocument(f.version,g).setHasCommittedMutations()}(s,e,n):s instanceof ya?function(l,c,f){if(!hh(l.precondition,c))return void c.convertToUnknownDocument(f.version);const g=px(l.fieldTransforms,c,f.transformResults),p=c.data;p.setAll(NE(l)),p.setAll(g),c.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(s,e,n):function(l,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function nc(s,e,n,a){return s instanceof vc?function(c,f,g,p){if(!hh(c.precondition,f))return g;const _=c.value.clone(),E=_x(c.fieldTransforms,p,f);return _.setAll(E),f.convertToFoundDocument(f.version,_).setHasLocalMutations(),null}(s,e,n,a):s instanceof ya?function(c,f,g,p){if(!hh(c.precondition,f))return g;const _=_x(c.fieldTransforms,p,f),E=f.data;return E.setAll(NE(c)),E.setAll(_),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(b=>b.field))}(s,e,n,a):function(c,f,g){return hh(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):g}(s,e,n)}function lk(s,e){let n=null;for(const a of s.fieldTransforms){const l=e.data.field(a.field),c=TE(a.transform,l||null);c!=null&&(n===null&&(n=pn.empty()),n.set(a.field,c))}return n||null}function gx(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&pl(a,l,(c,f)=>ik(c,f))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class vc extends Yh{constructor(e,n,a,l=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ya extends Yh{constructor(e,n,a,l,c=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function NE(s){const e=new Map;return s.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const a=s.data.field(n);e.set(n,a)}}),e}function px(s,e,n){const a=new Map;Ye(s.length===n.length);for(let l=0;l<n.length;l++){const c=s[l],f=c.transform,g=e.data.field(c.field);a.set(c.field,sk(f,g,n[l]))}return a}function _x(s,e,n){const a=new Map;for(const l of s){const c=l.transform,f=n.data.field(l.field);a.set(l.field,nk(c,f,e))}return a}class Ig extends Yh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ok extends Yh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(e,n,a,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&rk(c,e,a[l])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=nc(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=nc(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=xE();return this.mutations.forEach(l=>{const c=e.get(l.key),f=c.overlayedDocument;let g=this.applyToLocalView(f,c.mutatedFields);g=n.has(l.key)?null:g;const p=SE(f,g);p!==null&&a.set(l.key,p),f.isValidDocument()||f.convertToNoDocument(we.min())}),a}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ve())}isEqual(e){return this.batchId===e.batchId&&pl(this.mutations,e.mutations,(n,a)=>gx(n,a))&&pl(this.baseMutations,e.baseMutations,(n,a)=>gx(n,a))}}class jg{constructor(e,n,a,l){this.batch=e,this.commitVersion=n,this.mutationResults=a,this.docVersions=l}static from(e,n,a){Ye(e.mutations.length===a.length);let l=function(){return WR}();const c=e.mutations;for(let f=0;f<c.length;f++)l=l.insert(c[f].key,a[f].version);return new jg(e,n,a,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bt,qe;function dk(s){switch(s){case se.OK:return be();case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return be()}}function RE(s){if(s===void 0)return ci("GRPC error has no .code"),se.UNKNOWN;switch(s){case bt.OK:return se.OK;case bt.CANCELLED:return se.CANCELLED;case bt.UNKNOWN:return se.UNKNOWN;case bt.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case bt.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case bt.INTERNAL:return se.INTERNAL;case bt.UNAVAILABLE:return se.UNAVAILABLE;case bt.UNAUTHENTICATED:return se.UNAUTHENTICATED;case bt.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case bt.NOT_FOUND:return se.NOT_FOUND;case bt.ALREADY_EXISTS:return se.ALREADY_EXISTS;case bt.PERMISSION_DENIED:return se.PERMISSION_DENIED;case bt.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case bt.ABORTED:return se.ABORTED;case bt.OUT_OF_RANGE:return se.OUT_OF_RANGE;case bt.UNIMPLEMENTED:return se.UNIMPLEMENTED;case bt.DATA_LOSS:return se.DATA_LOSS;default:return be()}}(qe=bt||(bt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mk=new la([4294967295,4294967295],0);function yx(s){const e=fk().encode(s),n=new F0;return n.update(e),new Uint8Array(n.digest())}function vx(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new la([n,a],0),new la([l,c],0)]}class Cg{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new Wo(`Invalid padding: ${n}`);if(a<0)throw new Wo(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Wo(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new Wo(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=la.fromNumber(this.Ee)}Ae(e,n,a){let l=e.add(n.multiply(la.fromNumber(a)));return l.compare(mk)===1&&(l=new la([l.getBits(0),l.getBits(1)],0)),l.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=yx(e),[a,l]=vx(n);for(let c=0;c<this.hashCount;c++){const f=this.Ae(a,l,c);if(!this.Re(f))return!1}return!0}static create(e,n,a){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new Cg(c,l,n);return a.forEach(g=>f.insert(g)),f}insert(e){if(this.Ee===0)return;const n=yx(e),[a,l]=vx(n);for(let c=0;c<this.hashCount;c++){const f=this.Ae(a,l,c);this.Ve(f)}}Ve(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class Wo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,n,a,l,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const l=new Map;return l.set(e,xc.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new Xh(we.min(),l,new ot(Ue),ui(),Ve())}}class xc{constructor(e,n,a,l,c){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new xc(a,n,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e,n,a,l){this.me=e,this.removedTargetIds=n,this.key=a,this.fe=l}}class kE{constructor(e,n){this.targetId=e,this.ge=n}}class IE{constructor(e,n,a=Yt.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=l}}class xx{constructor(){this.pe=0,this.ye=Ex(),this.we=Yt.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Ve(),n=Ve(),a=Ve();return this.ye.forEach((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:a=a.add(l);break;default:be()}}),new xc(this.we,this.be,e,n,a)}Me(){this.Se=!1,this.ye=Ex()}xe(e,n){this.Se=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ye(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class gk{constructor(e){this.ke=e,this.qe=new Map,this.Qe=ui(),this.$e=Ju(),this.Ke=Ju(),this.Ue=new ot(Ue)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const a=this.He(n);switch(e.state){case 0:this.Je(n)&&a.Ce(e.resumeToken);break;case 1:a.Be(),a.De||a.Me(),a.Ce(e.resumeToken);break;case 2:a.Be(),a.De||this.removeTarget(n);break;case 3:this.Je(n)&&(a.Le(),a.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),a.Ce(e.resumeToken));break;default:be()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((a,l)=>{this.Je(l)&&n(l)})}Ze(e){const n=e.targetId,a=e.ge.count,l=this.Xe(n);if(l){const c=l.target;if(Fm(c))if(a===0){const f=new ve(c.path);this.ze(n,f,tn.newNoDocument(f,we.min()))}else Ye(a===1);else{const f=this.et(n);if(f!==a){const g=this.tt(e),p=g?this.nt(g,e,f):1;if(p!==0){this.Ye(n);const _=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,_)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=n;let f,g;try{f=fa(a).toUint8Array()}catch(p){if(p instanceof tE)return gl("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new Cg(f,l,c)}catch(p){return gl(p instanceof Wo?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.Ee===0?null:g}nt(e,n,a){return n.ge.count===a-this.st(e,n.targetId)?0:2}st(e,n){const a=this.ke.getRemoteKeysForTarget(n);let l=0;return a.forEach(c=>{const f=this.ke.it(),g=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.ze(n,c,null),l++)}),l}ot(e){const n=new Map;this.qe.forEach((c,f)=>{const g=this.Xe(f);if(g){if(c.current&&Fm(g.target)){const p=new ve(g.target.path);this._t(p).has(f)||this.ut(f,p)||this.ze(f,p,tn.newNoDocument(p,e))}c.ve&&(n.set(f,c.Fe()),c.Me())}});let a=Ve();this.Ke.forEach((c,f)=>{let g=!0;f.forEachWhile(p=>{const _=this.Xe(p);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(a=a.add(c))}),this.Qe.forEach((c,f)=>f.setReadTime(e));const l=new Xh(e,n,this.Ue,this.Qe,a);return this.Qe=ui(),this.$e=Ju(),this.Ke=Ju(),this.Ue=new ot(Ue),l}Ge(e,n){if(!this.Je(e))return;const a=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,a),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(e))}ze(e,n,a){if(!this.Je(e))return;const l=this.He(e);this.ut(e,n)?l.xe(n,1):l.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(e)),this.Ke=this.Ke.insert(n,this.ct(n).add(e)),a&&(this.Qe=this.Qe.insert(n,a))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new xx,this.qe.set(e,n)),n}ct(e){let n=this.Ke.get(e);return n||(n=new Dt(Ue),this.Ke=this.Ke.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Dt(Ue),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||de("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new xx),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Ju(){return new ot(ve.comparator)}function Ex(){return new ot(ve.comparator)}const pk={asc:"ASCENDING",desc:"DESCENDING"},_k={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yk={and:"AND",or:"OR"};class vk{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Qm(s,e){return s.useProto3Json||Kh(e)?e:{value:e}}function kh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function jE(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function xk(s,e){return kh(s,e.toTimestamp())}function As(s){return Ye(!!s),we.fromTimestamp(function(n){const a=da(n);return new Ct(a.seconds,a.nanos)}(s))}function Dg(s,e){return Ym(s,e).canonicalString()}function Ym(s,e){const n=function(l){return new nt(["projects",l.projectId,"databases",l.database])}(s).child("documents");return e===void 0?n:n.child(e)}function CE(s){const e=nt.fromString(s);return Ye(VE(e)),e}function Xm(s,e){return Dg(s.databaseId,e.path)}function Sm(s,e){const n=CE(e);if(n.get(1)!==s.databaseId.projectId)throw new fe(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new fe(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new ve(OE(n))}function DE(s,e){return Dg(s.databaseId,e)}function Ek(s){const e=CE(s);return e.length===4?nt.emptyPath():OE(e)}function Wm(s){return new nt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function OE(s){return Ye(s.length>4&&s.get(4)==="documents"),s.popFirst(5)}function Tx(s,e,n){return{name:Xm(s,e),fields:n.value.mapValue.fields}}function Tk(s,e){let n;if("targetChange"in e){e.targetChange;const a=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:be()}(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=function(_,E){return _.useProto3Json?(Ye(E===void 0||typeof E=="string"),Yt.fromBase64String(E||"")):(Ye(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Yt.fromUint8Array(E||new Uint8Array))}(s,e.targetChange.resumeToken),f=e.targetChange.cause,g=f&&function(_){const E=_.code===void 0?se.UNKNOWN:RE(_.code);return new fe(E,_.message||"")}(f);n=new IE(a,l,c,g||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const l=Sm(s,a.document.name),c=As(a.document.updateTime),f=a.document.createTime?As(a.document.createTime):we.min(),g=new pn({mapValue:{fields:a.document.fields}}),p=tn.newFoundDocument(l,c,f,g),_=a.targetIds||[],E=a.removedTargetIds||[];n=new dh(_,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const l=Sm(s,a.document),c=a.readTime?As(a.readTime):we.min(),f=tn.newNoDocument(l,c),g=a.removedTargetIds||[];n=new dh([],g,f.key,f)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const l=Sm(s,a.document),c=a.removedTargetIds||[];n=new dh([],c,l,null)}else{if(!("filter"in e))return be();{e.filter;const a=e.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,f=new hk(l,c),g=a.targetId;n=new kE(g,f)}}return n}function bk(s,e){let n;if(e instanceof vc)n={update:Tx(s,e.key,e.value)};else if(e instanceof Ig)n={delete:Xm(s,e.key)};else if(e instanceof ya)n={update:Tx(s,e.key,e.data),updateMask:Ck(e.fieldMask)};else{if(!(e instanceof ok))return be();n={verify:Xm(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(a=>function(c,f){const g=f.transform;if(g instanceof Nh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof hc)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof dc)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Rh)return{fieldPath:f.field.canonicalString(),increment:g.Ie};throw be()}(0,a))),e.precondition.isNone||(n.currentDocument=function(l,c){return c.updateTime!==void 0?{updateTime:xk(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:be()}(s,e.precondition)),n}function Ak(s,e){return s&&s.length>0?(Ye(e!==void 0),s.map(n=>function(l,c){let f=l.updateTime?As(l.updateTime):As(c);return f.isEqual(we.min())&&(f=As(c)),new ak(f,l.transformResults||[])}(n,e))):[]}function wk(s,e){return{documents:[DE(s,e.path)]}}function Sk(s,e){const n={structuredQuery:{}},a=e.path;let l;e.collectionGroup!==null?(l=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=DE(s,l);const c=function(_){if(_.length!==0)return LE(Jn.create(_,"and"))}(e.filters);c&&(n.structuredQuery.where=c);const f=function(_){if(_.length!==0)return _.map(E=>function(w){return{field:ol(w.field),direction:kk(w.dir)}}(E))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const g=Qm(s,e.limit);return g!==null&&(n.structuredQuery.limit=g),e.startAt&&(n.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{ht:n,parent:l}}function Nk(s){let e=Ek(s.parent);const n=s.structuredQuery,a=n.from?n.from.length:0;let l=null;if(a>0){Ye(a===1);const E=n.from[0];E.allDescendants?l=E.collectionId:e=e.child(E.collectionId)}let c=[];n.where&&(c=function(b){const w=ME(b);return w instanceof Jn&&hE(w)?w.getFilters():[w]}(n.where));let f=[];n.orderBy&&(f=function(b){return b.map(w=>function(O){return new Sh(cl(O.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(w))}(n.orderBy));let g=null;n.limit&&(g=function(b){let w;return w=typeof b=="object"?b.value:b,Kh(w)?null:w}(n.limit));let p=null;n.startAt&&(p=function(b){const w=!!b.before,D=b.values||[];return new wh(D,w)}(n.startAt));let _=null;return n.endAt&&(_=function(b){const w=!b.before,D=b.values||[];return new wh(D,w)}(n.endAt)),GR(e,l,f,c,g,"F",p,_)}function Rk(s,e){const n=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ME(s){return s.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=cl(n.unaryFilter.field);return At.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=cl(n.unaryFilter.field);return At.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=cl(n.unaryFilter.field);return At.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=cl(n.unaryFilter.field);return At.create(f,"!=",{nullValue:"NULL_VALUE"});default:return be()}}(s):s.fieldFilter!==void 0?function(n){return At.create(cl(n.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return be()}}(n.fieldFilter.op),n.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(n){return Jn.create(n.compositeFilter.filters.map(a=>ME(a)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return be()}}(n.compositeFilter.op))}(s):be()}function kk(s){return pk[s]}function Ik(s){return _k[s]}function jk(s){return yk[s]}function ol(s){return{fieldPath:s.canonicalString()}}function cl(s){return $t.fromServerFormat(s.fieldPath)}function LE(s){return s instanceof At?function(n){if(n.op==="=="){if(cx(n.value))return{unaryFilter:{field:ol(n.field),op:"IS_NAN"}};if(ox(n.value))return{unaryFilter:{field:ol(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(cx(n.value))return{unaryFilter:{field:ol(n.field),op:"IS_NOT_NAN"}};if(ox(n.value))return{unaryFilter:{field:ol(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ol(n.field),op:Ik(n.op),value:n.value}}}(s):s instanceof Jn?function(n){const a=n.getFilters().map(l=>LE(l));return a.length===1?a[0]:{compositeFilter:{op:jk(n.op),filters:a}}}(s):be()}function Ck(s){const e=[];return s.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function VE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e,n,a,l,c=we.min(),f=we.min(),g=Yt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(e){return new sa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new sa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new sa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new sa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(e){this.Tt=e}}function Ok(s){const e=Nk({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?$m(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(){this.Tn=new Lk}addToCollectionParentIndex(e,n){return this.Tn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(ha.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(ha.min())}updateCollectionGroup(e,n,a){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class Lk{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),l=this.index[n]||new Dt(nt.comparator),c=!l.has(a);return this.index[n]=l.add(a),c}has(e){const n=e.lastSegment(),a=e.popLast(),l=this.index[n];return l&&l.has(a)}getEntries(e){return(this.index[e]||new Dt(nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},PE=41943040;class gn{static withCacheSize(e){return new gn(e,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(PE,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new vl(0)}static Un(){return new vl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax="LruGarbageCollector",Vk=1048576;function wx([s,e],[n,a]){const l=Ue(s,n);return l===0?Ue(e,a):l}class Pk{constructor(e){this.Hn=e,this.buffer=new Dt(wx),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();wx(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Uk{constructor(e,n,a){this.garbageCollector=e,this.asyncQueue=n,this.localStore=a,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){de(Ax,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Il(n)?de(Ax,"Ignoring IndexedDB error during garbage collection: ",n):await kl(n)}await this.er(3e5)})}}class Bk{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(a=>Math.floor(n/100*a))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(qh.ae);const a=new Pk(n);return this.tr.forEachTarget(e,l=>a.Zn(l.sequenceNumber)).next(()=>this.tr.rr(e,l=>a.Zn(l))).next(()=>a.maxValue)}removeTargets(e,n,a){return this.tr.removeTargets(e,n,a)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(bx)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),bx):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let a,l,c,f,g,p,_;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),l=this.params.maximumSequenceNumbersToCollect):l=b,f=Date.now(),this.nthSequenceNumber(e,l))).next(b=>(a=b,g=Date.now(),this.removeTargets(e,a,n))).next(b=>(c=b,p=Date.now(),this.removeOrphanedDocuments(e,a))).next(b=>(_=Date.now(),rl()<=Le.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${l} in `+(g-f)+`ms
	Removed ${c} targets in `+(p-g)+`ms
	Removed ${b} documents in `+(_-p)+`ms
Total Duration: ${_-E}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:b})))}}function Hk(s,e){return new Bk(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(){this.changes=new hr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,tn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?ne.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(e,n,a,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=l}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next(l=>(a=l,this.remoteDocumentCache.getEntry(e,n))).next(l=>(a!==null&&nc(a.mutation,l,wn.empty(),Ct.now()),l))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.getLocalViewOfDocuments(e,a,Ve()).next(()=>a))}getLocalViewOfDocuments(e,n,a=Ve()){const l=Ja();return this.populateOverlays(e,l,n).next(()=>this.computeViews(e,n,l,a).next(c=>{let f=Xo();return c.forEach((g,p)=>{f=f.insert(g,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const a=Ja();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,Ve()))}populateOverlays(e,n,a){const l=[];return a.forEach(c=>{n.has(c)||l.push(c)}),this.documentOverlayCache.getOverlays(e,l).next(c=>{c.forEach((f,g)=>{n.set(f,g)})})}computeViews(e,n,a,l){let c=ui();const f=tc(),g=function(){return tc()}();return n.forEach((p,_)=>{const E=a.get(_.key);l.has(_.key)&&(E===void 0||E.mutation instanceof ya)?c=c.insert(_.key,_):E!==void 0?(f.set(_.key,E.mutation.getFieldMask()),nc(E.mutation,_,E.mutation.getFieldMask(),Ct.now())):f.set(_.key,wn.empty())}),this.recalculateAndSaveOverlays(e,c).next(p=>(p.forEach((_,E)=>f.set(_,E)),n.forEach((_,E)=>{var b;return g.set(_,new qk(E,(b=f.get(_))!==null&&b!==void 0?b:null))}),g))}recalculateAndSaveOverlays(e,n){const a=tc();let l=new ot((f,g)=>f-g),c=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const g of f)g.keys().forEach(p=>{const _=n.get(p);if(_===null)return;let E=a.get(p)||wn.empty();E=g.applyToLocalView(_,E),a.set(p,E);const b=(l.get(g.batchId)||Ve()).add(p);l=l.insert(g.batchId,b)})}).next(()=>{const f=[],g=l.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),_=p.key,E=p.value,b=xE();E.forEach(w=>{if(!c.has(w)){const D=SE(n.get(w),a.get(w));D!==null&&b.set(w,D),c=c.add(w)}}),f.push(this.documentOverlayCache.saveOverlays(e,_,b))}return ne.waitFor(f)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,n,a,l){return function(f){return ve.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):gE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,l):this.getDocumentsMatchingCollectionQuery(e,n,a,l)}getNextDocuments(e,n,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,l).next(c=>{const f=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,l-c.size):ne.resolve(Ja());let g=lc,p=c;return f.next(_=>ne.forEach(_,(E,b)=>(g<b.largestBatchId&&(g=b.largestBatchId),c.get(E)?ne.resolve():this.remoteDocumentCache.getEntry(e,E).next(w=>{p=p.insert(E,w)}))).next(()=>this.populateOverlays(e,_,c)).next(()=>this.computeViews(e,p,_,Ve())).next(E=>({batchId:g,changes:vE(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next(a=>{let l=Xo();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l})}getDocumentsMatchingCollectionGroupQuery(e,n,a,l){const c=n.collectionGroup;let f=Xo();return this.indexManager.getCollectionParents(e,c).next(g=>ne.forEach(g,p=>{const _=function(b,w){return new yc(w,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(n,p.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,a,l).next(E=>{E.forEach((b,w)=>{f=f.insert(b,w)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next(f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,c,l))).next(f=>{c.forEach((p,_)=>{const E=_.getKey();f.get(E)===null&&(f=f.insert(E,tn.newInvalidDocument(E)))});let g=Xo();return f.forEach((p,_)=>{const E=c.get(p);E!==void 0&&nc(E.mutation,_,wn.empty(),Ct.now()),$h(n,_)&&(g=g.insert(p,_))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return ne.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(l){return{id:l.id,version:l.version,createTime:As(l.createTime)}}(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(l){return{name:l.name,query:Ok(l.bundledQuery),readTime:As(l.readTime)}}(n)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(){this.overlays=new ot(ve.comparator),this.Rr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const a=Ja();return ne.forEach(n,l=>this.getOverlay(e,l).next(c=>{c!==null&&a.set(l,c)})).next(()=>a)}saveOverlays(e,n,a){return a.forEach((l,c)=>{this.Et(e,n,c)}),ne.resolve()}removeOverlaysForBatchId(e,n,a){const l=this.Rr.get(a);return l!==void 0&&(l.forEach(c=>this.overlays=this.overlays.remove(c)),this.Rr.delete(a)),ne.resolve()}getOverlaysForCollection(e,n,a){const l=Ja(),c=n.length+1,f=new ve(n.child("")),g=this.overlays.getIteratorFrom(f);for(;g.hasNext();){const p=g.getNext().value,_=p.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===c&&p.largestBatchId>a&&l.set(p.getKey(),p)}return ne.resolve(l)}getOverlaysForCollectionGroup(e,n,a,l){let c=new ot((_,E)=>_-E);const f=this.overlays.getIterator();for(;f.hasNext();){const _=f.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>a){let E=c.get(_.largestBatchId);E===null&&(E=Ja(),c=c.insert(_.largestBatchId,E)),E.set(_.getKey(),_)}}const g=Ja(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((_,E)=>g.set(_,E)),!(g.size()>=l)););return ne.resolve(g)}Et(e,n,a){const l=this.overlays.get(a.key);if(l!==null){const f=this.Rr.get(l.largestBatchId).delete(a.key);this.Rr.set(l.largestBatchId,f)}this.overlays=this.overlays.insert(a.key,new uk(n,a));let c=this.Rr.get(n);c===void 0&&(c=Ve(),this.Rr.set(n,c)),this.Rr.set(n,c.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(){this.sessionToken=Yt.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(){this.Vr=new Dt(Ht.mr),this.gr=new Dt(Ht.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const a=new Ht(e,n);this.Vr=this.Vr.add(a),this.gr=this.gr.add(a)}yr(e,n){e.forEach(a=>this.addReference(a,n))}removeReference(e,n){this.wr(new Ht(e,n))}br(e,n){e.forEach(a=>this.removeReference(a,n))}Sr(e){const n=new ve(new nt([])),a=new Ht(n,e),l=new Ht(n,e+1),c=[];return this.gr.forEachInRange([a,l],f=>{this.wr(f),c.push(f.key)}),c}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new ve(new nt([])),a=new Ht(n,e),l=new Ht(n,e+1);let c=Ve();return this.gr.forEachInRange([a,l],f=>{c=c.add(f.key)}),c}containsKey(e){const n=new Ht(e,0),a=this.Vr.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class Ht{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return ve.comparator(e.key,n.key)||Ue(e.Cr,n.Cr)}static pr(e,n){return Ue(e.Cr,n.Cr)||ve.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Dt(Ht.mr)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,l){const c=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new ck(c,n,a,l);this.mutationQueue.push(f);for(const g of l)this.Mr=this.Mr.add(new Ht(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return ne.resolve(f)}lookupMutationBatch(e,n){return ne.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,l=this.Nr(a),c=l<0?0:l;return ne.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?bg:this.Fr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new Ht(n,0),l=new Ht(n,Number.POSITIVE_INFINITY),c=[];return this.Mr.forEachInRange([a,l],f=>{const g=this.Or(f.Cr);c.push(g)}),ne.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new Dt(Ue);return n.forEach(l=>{const c=new Ht(l,0),f=new Ht(l,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([c,f],g=>{a=a.add(g.Cr)})}),ne.resolve(this.Br(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,l=a.length+1;let c=a;ve.isDocumentKey(c)||(c=c.child(""));const f=new Ht(new ve(c),0);let g=new Dt(Ue);return this.Mr.forEachWhile(p=>{const _=p.key.path;return!!a.isPrefixOf(_)&&(_.length===l&&(g=g.add(p.Cr)),!0)},f),ne.resolve(this.Br(g))}Br(e){const n=[];return e.forEach(a=>{const l=this.Or(a);l!==null&&n.push(l)}),n}removeMutationBatch(e,n){Ye(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let a=this.Mr;return ne.forEach(n.mutations,l=>{const c=new Ht(l.key,n.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.Mr=a})}qn(e){}containsKey(e,n){const a=new Ht(n,0),l=this.Mr.firstAfterOrEqual(a);return ne.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(e){this.kr=e,this.docs=function(){return new ot(ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,l=this.docs.get(a),c=l?l.size:0,f=this.kr(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return ne.resolve(a?a.document.mutableCopy():tn.newInvalidDocument(n))}getEntries(e,n){let a=ui();return n.forEach(l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():tn.newInvalidDocument(l))}),ne.resolve(a)}getDocumentsMatchingQuery(e,n,a,l){let c=ui();const f=n.path,g=new ve(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:_,value:{document:E}}=p.getNext();if(!f.isPrefixOf(_.path))break;_.path.length>f.length+1||AR(bR(E),a)<=0||(l.has(E.key)||$h(n,E))&&(c=c.insert(E.key,E.mutableCopy()))}return ne.resolve(c)}getAllFromCollectionGroup(e,n,a,l){be()}qr(e,n){return ne.forEach(this.docs,a=>n(a))}newChangeBuffer(e){return new Xk(this)}getSize(e){return ne.resolve(this.size)}}class Xk extends zk{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((a,l)=>{l.isValidDocument()?n.push(this.Ir.addEntry(e,l)):this.Ir.removeEntry(a)}),ne.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(e){this.persistence=e,this.Qr=new hr(n=>Sg(n),Ng),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Og,this.targetCount=0,this.Ur=vl.Kn()}forEachTarget(e,n){return this.Qr.forEach((a,l)=>n(l)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.$r&&(this.$r=n),ne.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ur=new vl(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.zn(n),ne.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Kr.Sr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,a){let l=0;const c=[];return this.Qr.forEach((f,g)=>{g.sequenceNumber<=n&&a.get(g.targetId)===null&&(this.Qr.delete(f),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),l++)}),ne.waitFor(c).next(()=>l)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const a=this.Qr.get(n)||null;return ne.resolve(a)}addMatchingKeys(e,n,a){return this.Kr.yr(n,a),ne.resolve()}removeMatchingKeys(e,n,a){this.Kr.br(n,a);const l=this.persistence.referenceDelegate,c=[];return l&&n.forEach(f=>{c.push(l.markPotentiallyOrphaned(e,f))}),ne.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.Kr.Sr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const a=this.Kr.vr(n);return ne.resolve(a)}containsKey(e,n){return ne.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new qh(0),this.zr=!1,this.zr=!0,this.jr=new $k,this.referenceDelegate=e(this),this.Hr=new Wk(this),this.indexManager=new Mk,this.remoteDocumentCache=function(l){return new Yk(l)}(a=>this.referenceDelegate.Jr(a)),this.serializer=new Dk(n),this.Yr=new Fk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Gk,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this.Wr[e.toKey()];return a||(a=new Qk(n,this.referenceDelegate),this.Wr[e.toKey()]=a),a}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,a){de("MemoryPersistence","Starting transaction:",e);const l=new Zk(this.Gr.next());return this.referenceDelegate.Zr(),a(l).next(c=>this.referenceDelegate.Xr(l).next(()=>c)).toPromise().then(c=>(l.raiseOnCommittedEvent(),c))}ei(e,n){return ne.or(Object.values(this.Wr).map(a=>()=>a.containsKey(e,n)))}}class Zk extends SR{constructor(e){super(),this.currentSequenceNumber=e}}class Mg{constructor(e){this.persistence=e,this.ti=new Og,this.ni=null}static ri(e){return new Mg(e)}get ii(){if(this.ni)return this.ni;throw be()}addReference(e,n,a){return this.ti.addReference(a,n),this.ii.delete(a.toString()),ne.resolve()}removeReference(e,n,a){return this.ti.removeReference(a,n),this.ii.add(a.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),ne.resolve()}removeTarget(e,n){this.ti.Sr(n.targetId).forEach(l=>this.ii.add(l.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next(l=>{l.forEach(c=>this.ii.add(c.toString()))}).next(()=>a.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.ii,a=>{const l=ve.fromPath(a);return this.si(e,l).next(c=>{c||n.removeEntry(l,we.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(a=>{a?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return ne.or([()=>ne.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class Ih{constructor(e,n){this.persistence=e,this.oi=new hr(a=>kR(a.path),(a,l)=>a.isEqual(l)),this.garbageCollector=Hk(this,n)}static ri(e,n){return new Ih(e,n)}Zr(){}Xr(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>n.next(l=>a+l))}sr(e){let n=0;return this.rr(e,a=>{n++}).next(()=>n)}rr(e,n){return ne.forEach(this.oi,(a,l)=>this.ar(e,a,l).next(c=>c?ne.resolve():n(l)))}removeTargets(e,n,a){return this.persistence.getTargetCache().removeTargets(e,n,a)}removeOrphanedDocuments(e,n){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.qr(e,f=>this.ar(e,f,n).next(g=>{g||(a++,c.removeEntry(f,we.min()))})).next(()=>c.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const a=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,n,a){return this.oi.set(a,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,a){return this.oi.set(a,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),ne.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ch(e.data.value)),n}ar(e,n,a){return ne.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const l=this.oi.get(n);return ne.resolve(l!==void 0&&l>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(e,n,a,l){this.targetId=e,this.fromCache=n,this.Hi=a,this.Ji=l}static Yi(e,n){let a=Ve(),l=Ve();for(const c of n.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Lg(e,n.fromCache,a,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return QS()?8:NR(nn())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,a,l){const c={result:null};return this.rs(e,n).next(f=>{c.result=f}).next(()=>{if(!c.result)return this.ss(e,n,l,a).next(f=>{c.result=f})}).next(()=>{if(c.result)return;const f=new Jk;return this._s(e,n,f).next(g=>{if(c.result=g,this.Xi)return this.us(e,n,f,g.size)})}).next(()=>c.result)}us(e,n,a,l){return a.documentReadCount<this.es?(rl()<=Le.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",ll(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ne.resolve()):(rl()<=Le.DEBUG&&de("QueryEngine","Query:",ll(n),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.ts*l?(rl()<=Le.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",ll(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,bs(n))):ne.resolve())}rs(e,n){if(fx(n))return ne.resolve(null);let a=bs(n);return this.indexManager.getIndexType(e,a).next(l=>l===0?null:(n.limit!==null&&l===1&&(n=$m(n,null,"F"),a=bs(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next(c=>{const f=Ve(...c);return this.ns.getDocuments(e,f).next(g=>this.indexManager.getMinOffset(e,a).next(p=>{const _=this.cs(n,g);return this.ls(n,_,f,p.readTime)?this.rs(e,$m(n,null,"F")):this.hs(e,_,n,p)}))})))}ss(e,n,a,l){return fx(n)||l.isEqual(we.min())?ne.resolve(null):this.ns.getDocuments(e,a).next(c=>{const f=this.cs(n,c);return this.ls(n,f,a,l)?ne.resolve(null):(rl()<=Le.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),ll(n)),this.hs(e,f,n,TR(l,lc)).next(g=>g))})}cs(e,n){let a=new Dt(_E(e));return n.forEach((l,c)=>{$h(e,c)&&(a=a.add(c))}),a}ls(e,n,a,l){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}_s(e,n,a){return rl()<=Le.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",ll(n)),this.ns.getDocumentsMatchingQuery(e,n,ha.min(),a)}hs(e,n,a,l){return this.ns.getDocumentsMatchingQuery(e,a,l).next(c=>(n.forEach(f=>{c=c.insert(f.key,f)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vg="LocalStore",tI=3e8;class nI{constructor(e,n,a,l){this.persistence=e,this.Ps=n,this.serializer=l,this.Ts=new ot(Ue),this.Is=new hr(c=>Sg(c),Ng),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(a)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Kk(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function sI(s,e,n,a){return new nI(s,e,n,a)}async function BE(s,e){const n=Re(s);return await n.persistence.runTransaction("Handle user change","readonly",a=>{let l;return n.mutationQueue.getAllMutationBatches(a).next(c=>(l=c,n.As(e),n.mutationQueue.getAllMutationBatches(a))).next(c=>{const f=[],g=[];let p=Ve();for(const _ of l){f.push(_.batchId);for(const E of _.mutations)p=p.add(E.key)}for(const _ of c){g.push(_.batchId);for(const E of _.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(a,p).next(_=>({Rs:_,removedBatchIds:f,addedBatchIds:g}))})})}function iI(s,e){const n=Re(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const l=e.batch.keys(),c=n.ds.newChangeBuffer({trackRemovals:!0});return function(g,p,_,E){const b=_.batch,w=b.keys();let D=ne.resolve();return w.forEach(O=>{D=D.next(()=>E.getEntry(p,O)).next(q=>{const M=_.docVersions.get(O);Ye(M!==null),q.version.compareTo(M)<0&&(b.applyToRemoteDocument(q,_),q.isValidDocument()&&(q.setReadTime(_.commitVersion),E.addEntry(q)))})}),D.next(()=>g.mutationQueue.removeMutationBatch(p,b))}(n,a,e,c).next(()=>c.apply(a)).next(()=>n.mutationQueue.performConsistencyCheck(a)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(a,l,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(g){let p=Ve();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(p=p.add(g.batch.mutations[_].key));return p}(e))).next(()=>n.localDocuments.getDocuments(a,l))})}function HE(s){const e=Re(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function aI(s,e){const n=Re(s),a=e.snapshotVersion;let l=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const f=n.ds.newChangeBuffer({trackRemovals:!0});l=n.Ts;const g=[];e.targetChanges.forEach((E,b)=>{const w=l.get(b);if(!w)return;g.push(n.Hr.removeMatchingKeys(c,E.removedDocuments,b).next(()=>n.Hr.addMatchingKeys(c,E.addedDocuments,b)));let D=w.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(b)!==null?D=D.withResumeToken(Yt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):E.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(E.resumeToken,a)),l=l.insert(b,D),function(q,M,H){return q.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=tI?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0}(w,D,E)&&g.push(n.Hr.updateTargetData(c,D))});let p=ui(),_=Ve();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(c,E))}),g.push(rI(c,f,e.documentUpdates).next(E=>{p=E.Vs,_=E.fs})),!a.isEqual(we.min())){const E=n.Hr.getLastRemoteSnapshotVersion(c).next(b=>n.Hr.setTargetsMetadata(c,c.currentSequenceNumber,a));g.push(E)}return ne.waitFor(g).next(()=>f.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,p,_)).next(()=>p)}).then(c=>(n.Ts=l,c))}function rI(s,e,n){let a=Ve(),l=Ve();return n.forEach(c=>a=a.add(c)),e.getEntries(s,a).next(c=>{let f=ui();return n.forEach((g,p)=>{const _=c.get(g);p.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(g)),p.isNoDocument()&&p.version.isEqual(we.min())?(e.removeEntry(g,p.readTime),f=f.insert(g,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||p.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(p),f=f.insert(g,p)):de(Vg,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",p.version)}),{Vs:f,fs:l}})}function lI(s,e){const n=Re(s);return n.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=bg),n.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function oI(s,e){const n=Re(s);return n.persistence.runTransaction("Allocate target","readwrite",a=>{let l;return n.Hr.getTargetData(a,e).next(c=>c?(l=c,ne.resolve(l)):n.Hr.allocateTargetId(a).next(f=>(l=new sa(e,f,"TargetPurposeListen",a.currentSequenceNumber),n.Hr.addTargetData(a,l).next(()=>l))))}).then(a=>{const l=n.Ts.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(a.targetId,a),n.Is.set(e,a.targetId)),a})}async function Zm(s,e,n){const a=Re(s),l=a.Ts.get(e),c=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",c,f=>a.persistence.referenceDelegate.removeTarget(f,l))}catch(f){if(!Il(f))throw f;de(Vg,`Failed to update sequence numbers for target ${e}: ${f}`)}a.Ts=a.Ts.remove(e),a.Is.delete(l.target)}function Sx(s,e,n){const a=Re(s);let l=we.min(),c=Ve();return a.persistence.runTransaction("Execute query","readwrite",f=>function(p,_,E){const b=Re(p),w=b.Is.get(E);return w!==void 0?ne.resolve(b.Ts.get(w)):b.Hr.getTargetData(_,E)}(a,f,bs(e)).next(g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,a.Hr.getMatchingKeysForTargetId(f,g.targetId).next(p=>{c=p})}).next(()=>a.Ps.getDocumentsMatchingQuery(f,e,n?l:we.min(),n?c:Ve())).next(g=>(cI(a,QR(e),g),{documents:g,gs:c})))}function cI(s,e,n){let a=s.Es.get(e)||we.min();n.forEach((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)}),s.Es.set(e,a)}class Nx{constructor(){this.activeTargetIds=ek()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class uI{constructor(){this.ho=new Nx,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,a){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Nx,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx="ConnectivityMonitor";class kx{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){de(Rx,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){de(Rx,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eh=null;function Jm(){return eh===null?eh=function(){return 268435456+Math.round(2147483648*Math.random())}():eh++,"0x"+eh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm="RestConnection",dI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class fI{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${a}/databases/${l}`,this.wo=this.databaseId.database===bh?`project_id=${a}`:`project_id=${a}&database_id=${l}`}bo(e,n,a,l,c){const f=Jm(),g=this.So(e,n.toUriEncodedString());de(Nm,`Sending RPC '${e}' ${f}:`,g,a);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,l,c),this.vo(e,g,p,a).then(_=>(de(Nm,`Received RPC '${e}' ${f}: `,_),_),_=>{throw gl(Nm,`RPC '${e}' ${f} failed with error: `,_,"url: ",g,"request:",a),_})}Co(e,n,a,l,c,f){return this.bo(e,n,a,l,c)}Do(e,n,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Rl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((l,c)=>e[c]=l),a&&a.headers.forEach((l,c)=>e[c]=l)}So(e,n){const a=dI[e];return`${this.po}/v1/${n}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jt="WebChannelConnection";class gI extends fI{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,a,l){const c=Jm();return new Promise((f,g)=>{const p=new G0;p.setWithCredentials(!0),p.listenOnce($0.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case oh.NO_ERROR:const E=p.getResponseJson();de(Jt,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(E)),f(E);break;case oh.TIMEOUT:de(Jt,`RPC '${e}' ${c} timed out`),g(new fe(se.DEADLINE_EXCEEDED,"Request time out"));break;case oh.HTTP_ERROR:const b=p.getStatus();if(de(Jt,`RPC '${e}' ${c} failed with status:`,b,"response text:",p.getResponseText()),b>0){let w=p.getResponseJson();Array.isArray(w)&&(w=w[0]);const D=w==null?void 0:w.error;if(D&&D.status&&D.message){const O=function(M){const H=M.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(H)>=0?H:se.UNKNOWN}(D.status);g(new fe(O,D.message))}else g(new fe(se.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new fe(se.UNAVAILABLE,"Connection failed."));break;default:be()}}finally{de(Jt,`RPC '${e}' ${c} completed.`)}});const _=JSON.stringify(l);de(Jt,`RPC '${e}' ${c} sending request:`,l),p.send(n,"POST",_,a,15)})}Wo(e,n,a){const l=Jm(),c=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=X0(),g=Y0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,a),p.encodeInitMessageHeaders=!0;const E=c.join("");de(Jt,`Creating RPC '${e}' stream ${l}: ${E}`,p);const b=f.createWebChannel(E,p);let w=!1,D=!1;const O=new mI({Fo:M=>{D?de(Jt,`Not sending because RPC '${e}' stream ${l} is closed:`,M):(w||(de(Jt,`Opening RPC '${e}' stream ${l} transport.`),b.open(),w=!0),de(Jt,`RPC '${e}' stream ${l} sending:`,M),b.send(M))},Mo:()=>b.close()}),q=(M,H,G)=>{M.listen(H,Q=>{try{G(Q)}catch(ee){setTimeout(()=>{throw ee},0)}})};return q(b,Yo.EventType.OPEN,()=>{D||(de(Jt,`RPC '${e}' stream ${l} transport opened.`),O.Qo())}),q(b,Yo.EventType.CLOSE,()=>{D||(D=!0,de(Jt,`RPC '${e}' stream ${l} transport closed`),O.Ko())}),q(b,Yo.EventType.ERROR,M=>{D||(D=!0,gl(Jt,`RPC '${e}' stream ${l} transport errored:`,M),O.Ko(new fe(se.UNAVAILABLE,"The operation could not be completed")))}),q(b,Yo.EventType.MESSAGE,M=>{var H;if(!D){const G=M.data[0];Ye(!!G);const Q=G,ee=(Q==null?void 0:Q.error)||((H=Q[0])===null||H===void 0?void 0:H.error);if(ee){de(Jt,`RPC '${e}' stream ${l} received error:`,ee);const J=ee.status;let re=function(S){const k=bt[S];if(k!==void 0)return RE(k)}(J),V=ee.message;re===void 0&&(re=se.INTERNAL,V="Unknown error status: "+J+" with message "+ee.message),D=!0,O.Ko(new fe(re,V)),b.close()}else de(Jt,`RPC '${e}' stream ${l} received:`,G),O.Uo(G)}}),q(g,Q0.STAT_EVENT,M=>{M.stat===Hm.PROXY?de(Jt,`RPC '${e}' stream ${l} detected buffering proxy`):M.stat===Hm.NOPROXY&&de(Jt,`RPC '${e}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{O.$o()},0),O}}function Rm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wh(s){return new vk(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(e,n,a=1e3,l=1.5,c=6e4){this.Ti=e,this.timerId=n,this.Go=a,this.zo=l,this.jo=c,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),a=Math.max(0,Date.now()-this.Yo),l=Math.max(0,n-a);l>0&&de("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,l,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix="PersistentStream";class qE{constructor(e,n,a,l,c,f,g,p){this.Ti=e,this.n_=a,this.r_=l,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new zE(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===se.RESOURCE_EXHAUSTED?(ci(n.toString()),ci("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,l])=>{this.i_===n&&this.V_(a,l)},a=>{e(()=>{const l=new fe(se.UNKNOWN,"Fetching auth token failed: "+a.message);return this.m_(l)})})}V_(e,n){const a=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{a(()=>this.listener.xo())}),this.stream.No(()=>{a(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(l=>{a(()=>this.m_(l))}),this.stream.onMessage(l=>{a(()=>++this.__==1?this.g_(l):this.onNext(l))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return de(Ix,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(de(Ix,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class pI extends qE{constructor(e,n,a,l,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,l,f),this.serializer=c}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=Tk(this.serializer,e),a=function(c){if(!("targetChange"in c))return we.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?we.min():f.readTime?As(f.readTime):we.min()}(e);return this.listener.p_(n,a)}y_(e){const n={};n.database=Wm(this.serializer),n.addTarget=function(c,f){let g;const p=f.target;if(g=Fm(p)?{documents:wk(c,p)}:{query:Sk(c,p).ht},g.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){g.resumeToken=jE(c,f.resumeToken);const _=Qm(c,f.expectedCount);_!==null&&(g.expectedCount=_)}else if(f.snapshotVersion.compareTo(we.min())>0){g.readTime=kh(c,f.snapshotVersion.toTimestamp());const _=Qm(c,f.expectedCount);_!==null&&(g.expectedCount=_)}return g}(this.serializer,e);const a=Rk(this.serializer,e);a&&(n.labels=a),this.I_(n)}w_(e){const n={};n.database=Wm(this.serializer),n.removeTarget=e,this.I_(n)}}class _I extends qE{constructor(e,n,a,l,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,l,f),this.serializer=c}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Ye(!!e.streamToken),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ye(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=Ak(e.writeResults,e.commitTime),a=As(e.commitTime);return this.listener.v_(a,n)}C_(){const e={};e.database=Wm(this.serializer),this.I_(e)}S_(e){const n={streamToken:this.lastStreamToken,writes:e.map(a=>bk(this.serializer,a))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{}class vI extends yI{constructor(e,n,a,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=l,this.F_=!1}M_(){if(this.F_)throw new fe(se.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,a,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.bo(e,Ym(n,a),l,c,f)).catch(c=>{throw c.name==="FirebaseError"?(c.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new fe(se.UNKNOWN,c.toString())})}Co(e,n,a,l,c){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,g])=>this.connection.Co(e,Ym(n,a),l,f,g,c)).catch(f=>{throw f.name==="FirebaseError"?(f.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new fe(se.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class xI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(ci(n),this.N_=!1):de("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ir="RemoteStore";class EI{constructor(e,n,a,l,c){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=c,this.z_.To(f=>{a.enqueueAndForget(async()=>{dr(this)&&(de(ir,"Restarting streams for network reachability change."),await async function(p){const _=Re(p);_.W_.add(4),await Ec(_),_.j_.set("Unknown"),_.W_.delete(4),await Zh(_)}(this))})}),this.j_=new xI(a,l)}}async function Zh(s){if(dr(s))for(const e of s.G_)await e(!0)}async function Ec(s){for(const e of s.G_)await e(!1)}function KE(s,e){const n=Re(s);n.U_.has(e.targetId)||(n.U_.set(e.targetId,e),Hg(n)?Bg(n):jl(n).c_()&&Ug(n,e))}function Pg(s,e){const n=Re(s),a=jl(n);n.U_.delete(e),a.c_()&&FE(n,e),n.U_.size===0&&(a.c_()?a.P_():dr(n)&&n.j_.set("Unknown"))}function Ug(s,e){if(s.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}jl(s).y_(e)}function FE(s,e){s.H_.Ne(e),jl(s).w_(e)}function Bg(s){s.H_=new gk({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>s.U_.get(e)||null,it:()=>s.datastore.serializer.databaseId}),jl(s).start(),s.j_.B_()}function Hg(s){return dr(s)&&!jl(s).u_()&&s.U_.size>0}function dr(s){return Re(s).W_.size===0}function GE(s){s.H_=void 0}async function TI(s){s.j_.set("Online")}async function bI(s){s.U_.forEach((e,n)=>{Ug(s,e)})}async function AI(s,e){GE(s),Hg(s)?(s.j_.q_(e),Bg(s)):s.j_.set("Unknown")}async function wI(s,e,n){if(s.j_.set("Online"),e instanceof IE&&e.state===2&&e.cause)try{await async function(l,c){const f=c.cause;for(const g of c.targetIds)l.U_.has(g)&&(await l.remoteSyncer.rejectListen(g,f),l.U_.delete(g),l.H_.removeTarget(g))}(s,e)}catch(a){de(ir,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await jh(s,a)}else if(e instanceof dh?s.H_.We(e):e instanceof kE?s.H_.Ze(e):s.H_.je(e),!n.isEqual(we.min()))try{const a=await HE(s.localStore);n.compareTo(a)>=0&&await function(c,f){const g=c.H_.ot(f);return g.targetChanges.forEach((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const E=c.U_.get(_);E&&c.U_.set(_,E.withResumeToken(p.resumeToken,f))}}),g.targetMismatches.forEach((p,_)=>{const E=c.U_.get(p);if(!E)return;c.U_.set(p,E.withResumeToken(Yt.EMPTY_BYTE_STRING,E.snapshotVersion)),FE(c,p);const b=new sa(E.target,p,_,E.sequenceNumber);Ug(c,b)}),c.remoteSyncer.applyRemoteEvent(g)}(s,n)}catch(a){de(ir,"Failed to raise snapshot:",a),await jh(s,a)}}async function jh(s,e,n){if(!Il(e))throw e;s.W_.add(1),await Ec(s),s.j_.set("Offline"),n||(n=()=>HE(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{de(ir,"Retrying IndexedDB access"),await n(),s.W_.delete(1),await Zh(s)})}function $E(s,e){return e().catch(n=>jh(s,n,e))}async function Jh(s){const e=Re(s),n=ga(e);let a=e.K_.length>0?e.K_[e.K_.length-1].batchId:bg;for(;SI(e);)try{const l=await lI(e.localStore,a);if(l===null){e.K_.length===0&&n.P_();break}a=l.batchId,NI(e,l)}catch(l){await jh(e,l)}QE(e)&&YE(e)}function SI(s){return dr(s)&&s.K_.length<10}function NI(s,e){s.K_.push(e);const n=ga(s);n.c_()&&n.b_&&n.S_(e.mutations)}function QE(s){return dr(s)&&!ga(s).u_()&&s.K_.length>0}function YE(s){ga(s).start()}async function RI(s){ga(s).C_()}async function kI(s){const e=ga(s);for(const n of s.K_)e.S_(n.mutations)}async function II(s,e,n){const a=s.K_.shift(),l=jg.from(a,e,n);await $E(s,()=>s.remoteSyncer.applySuccessfulWrite(l)),await Jh(s)}async function jI(s,e){e&&ga(s).b_&&await async function(a,l){if(function(f){return dk(f)&&f!==se.ABORTED}(l.code)){const c=a.K_.shift();ga(a).h_(),await $E(a,()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l)),await Jh(a)}}(s,e),QE(s)&&YE(s)}async function jx(s,e){const n=Re(s);n.asyncQueue.verifyOperationInProgress(),de(ir,"RemoteStore received new credentials");const a=dr(n);n.W_.add(3),await Ec(n),a&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Zh(n)}async function CI(s,e){const n=Re(s);e?(n.W_.delete(2),await Zh(n)):e||(n.W_.add(2),await Ec(n),n.j_.set("Unknown"))}function jl(s){return s.J_||(s.J_=function(n,a,l){const c=Re(n);return c.M_(),new pI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(s.datastore,s.asyncQueue,{xo:TI.bind(null,s),No:bI.bind(null,s),Lo:AI.bind(null,s),p_:wI.bind(null,s)}),s.G_.push(async e=>{e?(s.J_.h_(),Hg(s)?Bg(s):s.j_.set("Unknown")):(await s.J_.stop(),GE(s))})),s.J_}function ga(s){return s.Y_||(s.Y_=function(n,a,l){const c=Re(n);return c.M_(),new _I(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(s.datastore,s.asyncQueue,{xo:()=>Promise.resolve(),No:RI.bind(null,s),Lo:jI.bind(null,s),D_:kI.bind(null,s),v_:II.bind(null,s)}),s.G_.push(async e=>{e?(s.Y_.h_(),await Jh(s)):(await s.Y_.stop(),s.K_.length>0&&(de(ir,`Stopping write stream with ${s.K_.length} pending writes`),s.K_=[]))})),s.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(e,n,a,l,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new ri,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,l,c){const f=Date.now()+a,g=new zg(e,n,f,l,c);return g.start(a),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qg(s,e){if(ci("AsyncQueue",`${e}: ${s}`),Il(s))return new fe(se.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{static emptySet(e){return new hl(e.comparator)}constructor(e){this.comparator=e?(n,a)=>e(n,a)||ve.comparator(n.key,a.key):(n,a)=>ve.comparator(n.key,a.key),this.keyedMap=Xo(),this.sortedSet=new ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,a)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof hl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new hl;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(){this.Z_=new ot(ve.comparator)}track(e){const n=e.doc.key,a=this.Z_.get(n);a?e.type!==0&&a.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&a.type!==1?this.Z_=this.Z_.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.Z_=this.Z_.remove(n):e.type===1&&a.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):be():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,a)=>{e.push(a)}),e}}class xl{constructor(e,n,a,l,c,f,g,p,_){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(e,n,a,l,c){const f=[];return n.forEach(g=>{f.push({type:0,doc:g})}),new xl(e,n,hl.emptySet(n),f,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==a[l].type||!n[l].doc.isEqual(a[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class OI{constructor(){this.queries=Dx(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,a){const l=Re(n),c=l.queries;l.queries=Dx(),c.forEach((f,g)=>{for(const p of g.ta)p.onError(a)})})(this,new fe(se.ABORTED,"Firestore shutting down"))}}function Dx(){return new hr(s=>pE(s),Gh)}async function XE(s,e){const n=Re(s);let a=3;const l=e.query;let c=n.queries.get(l);c?!c.na()&&e.ra()&&(a=2):(c=new DI,a=e.ra()?0:1);try{switch(a){case 0:c.ea=await n.onListen(l,!0);break;case 1:c.ea=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(f){const g=qg(f,`Initialization of query '${ll(e.query)}' failed`);return void e.onError(g)}n.queries.set(l,c),c.ta.push(e),e.sa(n.onlineState),c.ea&&e.oa(c.ea)&&Kg(n)}async function WE(s,e){const n=Re(s),a=e.query;let l=3;const c=n.queries.get(a);if(c){const f=c.ta.indexOf(e);f>=0&&(c.ta.splice(f,1),c.ta.length===0?l=e.ra()?0:1:!c.na()&&e.ra()&&(l=2))}switch(l){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function MI(s,e){const n=Re(s);let a=!1;for(const l of e){const c=l.query,f=n.queries.get(c);if(f){for(const g of f.ta)g.oa(l)&&(a=!0);f.ea=l}}a&&Kg(n)}function LI(s,e,n){const a=Re(s),l=a.queries.get(e);if(l)for(const c of l.ta)c.onError(n);a.queries.delete(e)}function Kg(s){s.ia.forEach(e=>{e.next()})}var eg,Ox;(Ox=eg||(eg={}))._a="default",Ox.Cache="cache";class ZE{constructor(e,n,a){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=a||{}}oa(e){if(!this.options.includeMetadataChanges){const a=[];for(const l of e.docChanges)l.type!==3&&a.push(l);e=new xl(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const a=n!=="Offline";return(!this.options.Ta||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=xl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==eg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(e){this.key=e}}class eT{constructor(e){this.key=e}}class VI{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ve(),this.mutatedKeys=Ve(),this.ya=_E(e),this.wa=new hl(this.ya)}get ba(){return this.fa}Sa(e,n){const a=n?n.Da:new Cx,l=n?n.wa:this.wa;let c=n?n.mutatedKeys:this.mutatedKeys,f=l,g=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((E,b)=>{const w=l.get(E),D=$h(this.query,b)?b:null,O=!!w&&this.mutatedKeys.has(w.key),q=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let M=!1;w&&D?w.data.isEqual(D.data)?O!==q&&(a.track({type:3,doc:D}),M=!0):this.va(w,D)||(a.track({type:2,doc:D}),M=!0,(p&&this.ya(D,p)>0||_&&this.ya(D,_)<0)&&(g=!0)):!w&&D?(a.track({type:0,doc:D}),M=!0):w&&!D&&(a.track({type:1,doc:w}),M=!0,(p||_)&&(g=!0)),M&&(D?(f=f.add(D),c=q?c.add(E):c.delete(E)):(f=f.delete(E),c=c.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),c=c.delete(E.key),a.track({type:1,doc:E})}return{wa:f,Da:a,ls:g,mutatedKeys:c}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,l){const c=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const f=e.Da.X_();f.sort((E,b)=>function(D,O){const q=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be()}};return q(D)-q(O)}(E.type,b.type)||this.ya(E.doc,b.doc)),this.Ca(a),l=l!=null&&l;const g=n&&!l?this.Fa():[],p=this.pa.size===0&&this.current&&!l?1:0,_=p!==this.ga;return this.ga=p,f.length!==0||_?{snapshot:new xl(this.query,e.wa,c,f,e.mutatedKeys,p===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),Ma:g}:{Ma:g}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Cx,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ve(),this.wa.forEach(a=>{this.xa(a.key)&&(this.pa=this.pa.add(a.key))});const n=[];return e.forEach(a=>{this.pa.has(a)||n.push(new eT(a))}),this.pa.forEach(a=>{e.has(a)||n.push(new JE(a))}),n}Oa(e){this.fa=e.gs,this.pa=Ve();const n=this.Sa(e.documents);return this.applyChanges(n,!0)}Na(){return xl.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Fg="SyncEngine";class PI{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class UI{constructor(e){this.key=e,this.Ba=!1}}class BI{constructor(e,n,a,l,c,f){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new hr(g=>pE(g),Gh),this.qa=new Map,this.Qa=new Set,this.$a=new ot(ve.comparator),this.Ka=new Map,this.Ua=new Og,this.Wa={},this.Ga=new Map,this.za=vl.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function HI(s,e,n=!0){const a=rT(s);let l;const c=a.ka.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.Na()):l=await tT(a,e,n,!0),l}async function zI(s,e){const n=rT(s);await tT(n,e,!0,!1)}async function tT(s,e,n,a){const l=await oI(s.localStore,bs(e)),c=l.targetId,f=s.sharedClientState.addLocalQueryTarget(c,n);let g;return a&&(g=await qI(s,e,c,f==="current",l.resumeToken)),s.isPrimaryClient&&n&&KE(s.remoteStore,l),g}async function qI(s,e,n,a,l){s.Ha=(b,w,D)=>async function(q,M,H,G){let Q=M.view.Sa(H);Q.ls&&(Q=await Sx(q.localStore,M.query,!1).then(({documents:V})=>M.view.Sa(V,Q)));const ee=G&&G.targetChanges.get(M.targetId),J=G&&G.targetMismatches.get(M.targetId)!=null,re=M.view.applyChanges(Q,q.isPrimaryClient,ee,J);return Lx(q,M.targetId,re.Ma),re.snapshot}(s,b,w,D);const c=await Sx(s.localStore,e,!0),f=new VI(e,c.gs),g=f.Sa(c.documents),p=xc.createSynthesizedTargetChangeForCurrentChange(n,a&&s.onlineState!=="Offline",l),_=f.applyChanges(g,s.isPrimaryClient,p);Lx(s,n,_.Ma);const E=new PI(e,n,f);return s.ka.set(e,E),s.qa.has(n)?s.qa.get(n).push(e):s.qa.set(n,[e]),_.snapshot}async function KI(s,e,n){const a=Re(s),l=a.ka.get(e),c=a.qa.get(l.targetId);if(c.length>1)return a.qa.set(l.targetId,c.filter(f=>!Gh(f,e))),void a.ka.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await Zm(a.localStore,l.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(l.targetId),n&&Pg(a.remoteStore,l.targetId),tg(a,l.targetId)}).catch(kl)):(tg(a,l.targetId),await Zm(a.localStore,l.targetId,!0))}async function FI(s,e){const n=Re(s),a=n.ka.get(e),l=n.qa.get(a.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),Pg(n.remoteStore,a.targetId))}async function GI(s,e,n){const a=JI(s);try{const l=await function(f,g){const p=Re(f),_=Ct.now(),E=g.reduce((D,O)=>D.add(O.key),Ve());let b,w;return p.persistence.runTransaction("Locally write mutations","readwrite",D=>{let O=ui(),q=Ve();return p.ds.getEntries(D,E).next(M=>{O=M,O.forEach((H,G)=>{G.isValidDocument()||(q=q.add(H))})}).next(()=>p.localDocuments.getOverlayedDocuments(D,O)).next(M=>{b=M;const H=[];for(const G of g){const Q=lk(G,b.get(G.key).overlayedDocument);Q!=null&&H.push(new ya(G.key,Q,oE(Q.value.mapValue),Fn.exists(!0)))}return p.mutationQueue.addMutationBatch(D,_,H,g)}).next(M=>{w=M;const H=M.applyToLocalDocumentSet(b,q);return p.documentOverlayCache.saveOverlays(D,M.batchId,H)})}).then(()=>({batchId:w.batchId,changes:vE(b)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(l.batchId),function(f,g,p){let _=f.Wa[f.currentUser.toKey()];_||(_=new ot(Ue)),_=_.insert(g,p),f.Wa[f.currentUser.toKey()]=_}(a,l.batchId,n),await Tc(a,l.changes),await Jh(a.remoteStore)}catch(l){const c=qg(l,"Failed to persist write");n.reject(c)}}async function nT(s,e){const n=Re(s);try{const a=await aI(n.localStore,e);e.targetChanges.forEach((l,c)=>{const f=n.Ka.get(c);f&&(Ye(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?f.Ba=!0:l.modifiedDocuments.size>0?Ye(f.Ba):l.removedDocuments.size>0&&(Ye(f.Ba),f.Ba=!1))}),await Tc(n,a,e)}catch(a){await kl(a)}}function Mx(s,e,n){const a=Re(s);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const l=[];a.ka.forEach((c,f)=>{const g=f.view.sa(e);g.snapshot&&l.push(g.snapshot)}),function(f,g){const p=Re(f);p.onlineState=g;let _=!1;p.queries.forEach((E,b)=>{for(const w of b.ta)w.sa(g)&&(_=!0)}),_&&Kg(p)}(a.eventManager,e),l.length&&a.La.p_(l),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function $I(s,e,n){const a=Re(s);a.sharedClientState.updateQueryState(e,"rejected",n);const l=a.Ka.get(e),c=l&&l.key;if(c){let f=new ot(ve.comparator);f=f.insert(c,tn.newNoDocument(c,we.min()));const g=Ve().add(c),p=new Xh(we.min(),new Map,new ot(Ue),f,g);await nT(a,p),a.$a=a.$a.remove(c),a.Ka.delete(e),Gg(a)}else await Zm(a.localStore,e,!1).then(()=>tg(a,e,n)).catch(kl)}async function QI(s,e){const n=Re(s),a=e.batch.batchId;try{const l=await iI(n.localStore,e);iT(n,a,null),sT(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await Tc(n,l)}catch(l){await kl(l)}}async function YI(s,e,n){const a=Re(s);try{const l=await function(f,g){const p=Re(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let E;return p.mutationQueue.lookupMutationBatch(_,g).next(b=>(Ye(b!==null),E=b.keys(),p.mutationQueue.removeMutationBatch(_,b))).next(()=>p.mutationQueue.performConsistencyCheck(_)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(_,E,g)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,E)).next(()=>p.localDocuments.getDocuments(_,E))})}(a.localStore,e);iT(a,e,n),sT(a,e),a.sharedClientState.updateMutationState(e,"rejected",n),await Tc(a,l)}catch(l){await kl(l)}}function sT(s,e){(s.Ga.get(e)||[]).forEach(n=>{n.resolve()}),s.Ga.delete(e)}function iT(s,e,n){const a=Re(s);let l=a.Wa[a.currentUser.toKey()];if(l){const c=l.get(e);c&&(n?c.reject(n):c.resolve(),l=l.remove(e)),a.Wa[a.currentUser.toKey()]=l}}function tg(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.qa.get(e))s.ka.delete(a),n&&s.La.Ja(a,n);s.qa.delete(e),s.isPrimaryClient&&s.Ua.Sr(e).forEach(a=>{s.Ua.containsKey(a)||aT(s,a)})}function aT(s,e){s.Qa.delete(e.path.canonicalString());const n=s.$a.get(e);n!==null&&(Pg(s.remoteStore,n),s.$a=s.$a.remove(e),s.Ka.delete(n),Gg(s))}function Lx(s,e,n){for(const a of n)a instanceof JE?(s.Ua.addReference(a.key,e),XI(s,a)):a instanceof eT?(de(Fg,"Document no longer in limbo: "+a.key),s.Ua.removeReference(a.key,e),s.Ua.containsKey(a.key)||aT(s,a.key)):be()}function XI(s,e){const n=e.key,a=n.path.canonicalString();s.$a.get(n)||s.Qa.has(a)||(de(Fg,"New document in limbo: "+n),s.Qa.add(a),Gg(s))}function Gg(s){for(;s.Qa.size>0&&s.$a.size<s.maxConcurrentLimboResolutions;){const e=s.Qa.values().next().value;s.Qa.delete(e);const n=new ve(nt.fromString(e)),a=s.za.next();s.Ka.set(a,new UI(n)),s.$a=s.$a.insert(n,a),KE(s.remoteStore,new sa(bs(Rg(n.path)),a,"TargetPurposeLimboResolution",qh.ae))}}async function Tc(s,e,n){const a=Re(s),l=[],c=[],f=[];a.ka.isEmpty()||(a.ka.forEach((g,p)=>{f.push(a.Ha(p,e,n).then(_=>{var E;if((_||n)&&a.isPrimaryClient){const b=_?!_.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;a.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(_){l.push(_);const b=Lg.Yi(p.targetId,_);c.push(b)}}))}),await Promise.all(f),a.La.p_(l),await async function(p,_){const E=Re(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>ne.forEach(_,w=>ne.forEach(w.Hi,D=>E.persistence.referenceDelegate.addReference(b,w.targetId,D)).next(()=>ne.forEach(w.Ji,D=>E.persistence.referenceDelegate.removeReference(b,w.targetId,D)))))}catch(b){if(!Il(b))throw b;de(Vg,"Failed to update sequence numbers: "+b)}for(const b of _){const w=b.targetId;if(!b.fromCache){const D=E.Ts.get(w),O=D.snapshotVersion,q=D.withLastLimboFreeSnapshotVersion(O);E.Ts=E.Ts.insert(w,q)}}}(a.localStore,c))}async function WI(s,e){const n=Re(s);if(!n.currentUser.isEqual(e)){de(Fg,"User change. New user:",e.toKey());const a=await BE(n.localStore,e);n.currentUser=e,function(c,f){c.Ga.forEach(g=>{g.forEach(p=>{p.reject(new fe(se.CANCELLED,f))})}),c.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Tc(n,a.Rs)}}function ZI(s,e){const n=Re(s),a=n.Ka.get(e);if(a&&a.Ba)return Ve().add(a.key);{let l=Ve();const c=n.qa.get(e);if(!c)return l;for(const f of c){const g=n.ka.get(f);l=l.unionWith(g.view.ba)}return l}}function rT(s){const e=Re(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=nT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ZI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$I.bind(null,e),e.La.p_=MI.bind(null,e.eventManager),e.La.Ja=LI.bind(null,e.eventManager),e}function JI(s){const e=Re(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=QI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=YI.bind(null,e),e}class Ch{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Wh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return sI(this.persistence,new eI,e.initialUser,this.serializer)}Xa(e){return new UE(Mg.ri,this.serializer)}Za(e){return new uI}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ch.provider={build:()=>new Ch};class ej extends Ch{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Ye(this.persistence.referenceDelegate instanceof Ih);const a=this.persistence.referenceDelegate.garbageCollector;return new Uk(a,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new UE(a=>Ih.ri(a,n),this.serializer)}}class ng{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Mx(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=WI.bind(null,this.syncEngine),await CI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new OI}()}createDatastore(e){const n=Wh(e.databaseInfo.databaseId),a=function(c){return new gI(c)}(e.databaseInfo);return function(c,f,g,p){return new vI(c,f,g,p)}(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return function(a,l,c,f,g){return new EI(a,l,c,f,g)}(this.localStore,this.datastore,e.asyncQueue,n=>Mx(this.syncEngine,n,0),function(){return kx.D()?new kx:new hI}())}createSyncEngine(e,n){return function(l,c,f,g,p,_,E){const b=new BI(l,c,f,g,p,_);return E&&(b.ja=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(l){const c=Re(l);de(ir,"RemoteStore shutting down."),c.W_.add(5),await Ec(c),c.z_.shutdown(),c.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}ng.provider={build:()=>new ng};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):ci("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa="FirestoreClient";class tj{constructor(e,n,a,l,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=l,this.user=en.UNAUTHENTICATED,this.clientId=Z0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,async f=>{de(pa,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(a,f=>(de(pa,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ri;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=qg(n,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function km(s,e){s.asyncQueue.verifyOperationInProgress(),de(pa,"Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let a=n.initialUser;s.setCredentialChangeListener(async l=>{a.isEqual(l)||(await BE(e.localStore,l),a=l)}),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}async function Vx(s,e){s.asyncQueue.verifyOperationInProgress();const n=await nj(s);de(pa,"Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener(a=>jx(e.remoteStore,a)),s.setAppCheckTokenChangeListener((a,l)=>jx(e.remoteStore,l)),s._onlineComponents=e}async function nj(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){de(pa,"Using user provided OfflineComponentProvider");try{await km(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(l){return l.name==="FirebaseError"?l.code===se.FAILED_PRECONDITION||l.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(n))throw n;gl("Error using user provided cache. Falling back to memory cache: "+n),await km(s,new Ch)}}else de(pa,"Using default OfflineComponentProvider"),await km(s,new ej(void 0));return s._offlineComponents}async function oT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(de(pa,"Using user provided OnlineComponentProvider"),await Vx(s,s._uninitializedComponentsProvider._online)):(de(pa,"Using default OnlineComponentProvider"),await Vx(s,new ng))),s._onlineComponents}function sj(s){return oT(s).then(e=>e.syncEngine)}async function cT(s){const e=await oT(s),n=e.eventManager;return n.onListen=HI.bind(null,e.syncEngine),n.onUnlisten=KI.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=zI.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=FI.bind(null,e.syncEngine),n}function ij(s,e,n={}){const a=new ri;return s.asyncQueue.enqueueAndForget(async()=>function(c,f,g,p,_){const E=new lT({next:w=>{E.su(),f.enqueueAndForget(()=>WE(c,b));const D=w.docs.has(g);!D&&w.fromCache?_.reject(new fe(se.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&w.fromCache&&p&&p.source==="server"?_.reject(new fe(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(w)},error:w=>_.reject(w)}),b=new ZE(Rg(g.path),E,{includeMetadataChanges:!0,Ta:!0});return XE(c,b)}(await cT(s),s.asyncQueue,e,n,a)),a.promise}function aj(s,e,n={}){const a=new ri;return s.asyncQueue.enqueueAndForget(async()=>function(c,f,g,p,_){const E=new lT({next:w=>{E.su(),f.enqueueAndForget(()=>WE(c,b)),w.fromCache&&p.source==="server"?_.reject(new fe(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(w)},error:w=>_.reject(w)}),b=new ZE(g,E,{includeMetadataChanges:!0,Ta:!0});return XE(c,b)}(await cT(s),s.asyncQueue,e,n,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uT(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hT(s,e,n){if(!n)throw new fe(se.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function rj(s,e,n,a){if(e===!0&&a===!0)throw new fe(se.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function Ux(s){if(!ve.isDocumentKey(s))throw new fe(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Bx(s){if(ve.isDocumentKey(s))throw new fe(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function ed(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":be()}function es(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new fe(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ed(s);throw new fe(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT="firestore.googleapis.com",Hx=!0;class zx{constructor(e){var n,a;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=dT,this.ssl=Hx}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Hx;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=PE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Vk)throw new fe(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=uT((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new fe(se.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new fe(se.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new fe(se.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,l){return a.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class td{constructor(e,n,a,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zx({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zx(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new mR;switch(a.type){case"firstParty":return new yR(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new fe(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const a=Px.get(n);a&&(de("ComponentProvider","Removing Datastore"),Px.delete(n),a.terminate())}(this),Promise.resolve()}}function lj(s,e,n,a={}){var l;const c=(s=es(s,td))._getSettings(),f=Object.assign(Object.assign({},c),{emulatorOptions:s._getEmulatorOptions()}),g=`${e}:${n}`;c.host!==dT&&c.host!==g&&gl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},c),{host:g,ssl:!1,emulatorOptions:a});if(!tr(p,f)&&(s._setSettings(p),a.mockUserToken)){let _,E;if(typeof a.mockUserToken=="string")_=a.mockUserToken,E=en.MOCK_USER;else{_=U0(a.mockUserToken,(l=s._app)===null||l===void 0?void 0:l.options.projectId);const b=a.mockUserToken.sub||a.mockUserToken.user_id;if(!b)throw new fe(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new en(b)}s._authCredentials=new gR(new W0(_,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Cl(this.firestore,e,this._query)}}class hn{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new oa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hn(this.firestore,e,this._key)}}class oa extends Cl{constructor(e,n,a){super(e,n,Rg(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hn(this.firestore,null,new ve(e))}withConverter(e){return new oa(this.firestore,e,this._path)}}function ia(s,e,...n){if(s=it(s),hT("collection","path",e),s instanceof td){const a=nt.fromString(e,...n);return Bx(a),new oa(s,null,a)}{if(!(s instanceof hn||s instanceof oa))throw new fe(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(nt.fromString(e,...n));return Bx(a),new oa(s.firestore,null,a)}}function Nn(s,e,...n){if(s=it(s),arguments.length===1&&(e=Z0.newId()),hT("doc","path",e),s instanceof td){const a=nt.fromString(e,...n);return Ux(a),new hn(s,null,new ve(a))}{if(!(s instanceof hn||s instanceof oa))throw new fe(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(nt.fromString(e,...n));return Ux(a),new hn(s.firestore,s instanceof oa?s.converter:null,new ve(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx="AsyncQueue";class Kx{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new zE(this,"async_queue_retry"),this.bu=()=>{const a=Rm();a&&de(qx,"Visibility state changed to "+a.visibilityState),this.a_.t_()},this.Su=e;const n=Rm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=Rm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new ri;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Il(e))throw e;de(qx,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.Su.then(()=>(this.pu=!0,e().catch(a=>{this.gu=a,this.pu=!1;const l=function(f){let g=f.message||"";return f.stack&&(g=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),g}(a);throw ci("INTERNAL UNHANDLED ERROR: ",l),a}).then(a=>(this.pu=!1,a))));return this.Su=n,n}enqueueAfterDelay(e,n,a){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const l=zg.createAndSchedule(this,e,n,a,c=>this.Fu(c));return this.fu.push(l),l}Du(){this.gu&&be()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,a)=>n.targetTimeMs-a.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class fr extends td{constructor(e,n,a,l){super(e,n,a,l),this.type="firestore",this._queue=new Kx,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Kx(e),this._firestoreClient=void 0,await e}}}function oj(s,e){const n=typeof s=="object"?s:Eg(),a=typeof s=="string"?s:bh,l=zh(n,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=L0("firestore");c&&lj(l,...c)}return l}function $g(s){if(s._terminated)throw new fe(se.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||cj(s),s._firestoreClient}function cj(s){var e,n,a;const l=s._freezeSettings(),c=function(g,p,_,E){return new CR(g,p,_,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,uT(E.experimentalLongPollingOptions),E.useFetchStreams)}(s._databaseId,((e=s._app)===null||e===void 0?void 0:e.options.appId)||"",s._persistenceKey,l);s._componentsProvider||!((n=l.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((a=l.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(s._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),s._firestoreClient=new tj(s._authCredentials,s._appCheckCredentials,s._queue,c,s._componentsProvider&&function(g){const p=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(p),_online:p}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e){this._byteString=e}static fromBase64String(e){try{return new El(Yt.fromBase64String(e))}catch(n){throw new fe(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new El(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uj=/^__.*__$/;class hj{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return this.fieldMask!==null?new ya(e,this.data,this.fieldMask,n,this.fieldTransforms):new vc(e,this.data,n,this.fieldTransforms)}}class fT{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return new ya(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function mT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be()}}class Wg{constructor(e,n,a,l,c,f){this.settings=e,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Bu(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Wg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(e),l=this.ku({path:a,Qu:!1});return l.$u(e),l}Ku(e){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(e),l=this.ku({path:a,Qu:!1});return l.Bu(),l}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Dh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(mT(this.Lu)&&uj.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class dj{constructor(e,n,a){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=a||Wh(e)}ju(e,n,a,l=!1){return new Wg({Lu:e,methodName:n,zu:a,path:$t.emptyPath(),Qu:!1,Gu:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function sd(s){const e=s._freezeSettings(),n=Wh(s._databaseId);return new dj(s._databaseId,!!e.ignoreUndefinedProperties,n)}function gT(s,e,n,a,l,c={}){const f=s.ju(c.merge||c.mergeFields?2:0,e,n,l);Zg("Data must be an object, but it was:",f,a);const g=pT(a,f);let p,_;if(c.merge)p=new wn(f.fieldMask),_=f.fieldTransforms;else if(c.mergeFields){const E=[];for(const b of c.mergeFields){const w=sg(e,b,n);if(!f.contains(w))throw new fe(se.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);yT(E,w)||E.push(w)}p=new wn(E),_=f.fieldTransforms.filter(b=>p.covers(b.field))}else p=null,_=f.fieldTransforms;return new hj(new pn(g),p,_)}class id extends Qg{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof id}}function fj(s,e,n,a){const l=s.ju(1,e,n);Zg("Data must be an object, but it was:",l,a);const c=[],f=pn.empty();_a(a,(p,_)=>{const E=Jg(e,p,n);_=it(_);const b=l.Ku(E);if(_ instanceof id)c.push(E);else{const w=bc(_,b);w!=null&&(c.push(E),f.set(E,w))}});const g=new wn(c);return new fT(f,g,l.fieldTransforms)}function mj(s,e,n,a,l,c){const f=s.ju(1,e,n),g=[sg(e,a,n)],p=[l];if(c.length%2!=0)throw new fe(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<c.length;w+=2)g.push(sg(e,c[w])),p.push(c[w+1]);const _=[],E=pn.empty();for(let w=g.length-1;w>=0;--w)if(!yT(_,g[w])){const D=g[w];let O=p[w];O=it(O);const q=f.Ku(D);if(O instanceof id)_.push(D);else{const M=bc(O,q);M!=null&&(_.push(D),E.set(D,M))}}const b=new wn(_);return new fT(E,b,f.fieldTransforms)}function gj(s,e,n,a=!1){return bc(n,s.ju(a?4:3,e))}function bc(s,e){if(_T(s=it(s)))return Zg("Unsupported field value:",e,s),pT(s,e);if(s instanceof Qg)return function(a,l){if(!mT(l.Lu))throw l.Wu(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Wu(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)}(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(a,l){const c=[];let f=0;for(const g of a){let p=bc(g,l.Uu(f));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),f++}return{arrayValue:{values:c}}}(s,e)}return function(a,l){if((a=it(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return tk(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=Ct.fromDate(a);return{timestampValue:kh(l.serializer,c)}}if(a instanceof Ct){const c=new Ct(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:kh(l.serializer,c)}}if(a instanceof Yg)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof El)return{bytesValue:jE(l.serializer,a._byteString)};if(a instanceof hn){const c=l.databaseId,f=a.firestore._databaseId;if(!f.isEqual(c))throw l.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Dg(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Xg)return function(f,g){return{mapValue:{fields:{[rE]:{stringValue:lE},[Ah]:{arrayValue:{values:f.toArray().map(_=>{if(typeof _!="number")throw g.Wu("VectorValues must only contain numeric values.");return kg(g.serializer,_)})}}}}}}(a,l);throw l.Wu(`Unsupported field value: ${ed(a)}`)}(s,e)}function pT(s,e){const n={};return eE(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_a(s,(a,l)=>{const c=bc(l,e.qu(a));c!=null&&(n[a]=c)}),{mapValue:{fields:n}}}function _T(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Ct||s instanceof Yg||s instanceof El||s instanceof hn||s instanceof Qg||s instanceof Xg)}function Zg(s,e,n){if(!_T(n)||!function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}(n)){const a=ed(n);throw a==="an object"?e.Wu(s+" a custom object"):e.Wu(s+" "+a)}}function sg(s,e,n){if((e=it(e))instanceof nd)return e._internalPath;if(typeof e=="string")return Jg(s,e);throw Dh("Field path arguments must be of type string or ",s,!1,void 0,n)}const pj=new RegExp("[~\\*/\\[\\]]");function Jg(s,e,n){if(e.search(pj)>=0)throw Dh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new nd(...e.split("."))._internalPath}catch{throw Dh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function Dh(s,e,n,a,l){const c=a&&!a.isEmpty(),f=l!==void 0;let g=`Function ${e}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(c||f)&&(p+=" (found",c&&(p+=` in field ${a}`),f&&(p+=` in document ${l}`),p+=")"),new fe(se.INVALID_ARGUMENT,g+s+p)}function yT(s,e){return s.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(e,n,a,l,c){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new hn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new _j(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ep("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class _j extends vT{data(){return super.data()}}function ep(s,e){return typeof e=="string"?Jg(s,e):e instanceof nd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yj(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new fe(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class tp{}class vj extends tp{}function Fo(s,e,...n){let a=[];e instanceof tp&&a.push(e),a=a.concat(n),function(c){const f=c.filter(p=>p instanceof np).length,g=c.filter(p=>p instanceof ad).length;if(f>1||f>0&&g>0)throw new fe(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const l of a)s=l._apply(s);return s}class ad extends vj{constructor(e,n,a){super(),this._field=e,this._op=n,this._value=a,this.type="where"}static _create(e,n,a){return new ad(e,n,a)}_apply(e){const n=this._parse(e);return xT(e._query,n),new Cl(e.firestore,e.converter,Gm(e._query,n))}_parse(e){const n=sd(e.firestore);return function(c,f,g,p,_,E,b){let w;if(_.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new fe(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){Gx(b,E);const O=[];for(const q of b)O.push(Fx(p,c,q));w={arrayValue:{values:O}}}else w=Fx(p,c,b)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||Gx(b,E),w=gj(g,f,b,E==="in"||E==="not-in");return At.create(_,E,w)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function th(s,e,n){const a=e,l=ep("where",s);return ad._create(l,a,n)}class np extends tp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new np(e,n)}_parse(e){const n=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return n.length===1?n[0]:Jn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(l,c){let f=l;const g=c.getFlattenedFilters();for(const p of g)xT(f,p),f=Gm(f,p)}(e._query,n),new Cl(e.firestore,e.converter,Gm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Fx(s,e,n){if(typeof(n=it(n))=="string"){if(n==="")throw new fe(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!gE(e)&&n.indexOf("/")!==-1)throw new fe(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=e.path.child(nt.fromString(n));if(!ve.isDocumentKey(a))throw new fe(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return lx(s,new ve(a))}if(n instanceof hn)return lx(s,n._key);throw new fe(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ed(n)}.`)}function Gx(s,e){if(!Array.isArray(s)||s.length===0)throw new fe(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function xT(s,e){const n=function(l,c){for(const f of l)for(const g of f.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null}(s.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new fe(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class xj{convertValue(e,n="none"){switch(ma(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(fa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw be()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return _a(e,(l,c)=>{a[l]=this.convertValue(c,n)}),a}convertVectorValue(e){var n,a,l;const c=(l=(a=(n=e.fields)===null||n===void 0?void 0:n[Ah].arrayValue)===null||a===void 0?void 0:a.values)===null||l===void 0?void 0:l.map(f=>yt(f.doubleValue));return new Xg(c)}convertGeoPoint(e){return new Yg(yt(e.latitude),yt(e.longitude))}convertArray(e,n){return(e.values||[]).map(a=>this.convertValue(a,n))}convertServerTimestamp(e,n){switch(n){case"previous":const a=Fh(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(oc(e));default:return null}}convertTimestamp(e){const n=da(e);return new Ct(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=nt.fromString(e);Ye(VE(a));const l=new cc(a.get(1),a.get(3)),c=new ve(a.popFirst(5));return l.isEqual(n)||ci(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ET(s,e,n){let a;return a=s?s.toFirestore(e):e,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class TT extends vT{constructor(e,n,a,l,c,f){super(e,n,a,l,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new fh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(ep("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}}class fh extends TT{data(e={}){return super.data(e)}}class Ej{constructor(e,n,a,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new Zo(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(a=>{e.call(n,new fh(this._firestore,this._userDataWriter,a.key,a,new Zo(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(l,c){if(l._snapshot.oldDocs.isEmpty()){let f=0;return l._snapshot.docChanges.map(g=>{const p=new fh(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Zo(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(g=>c||g.type!==3).map(g=>{const p=new fh(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Zo(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,E=-1;return g.type!==0&&(_=f.indexOf(g.doc.key),f=f.delete(g.doc.key)),g.type!==1&&(f=f.add(g.doc),E=f.indexOf(g.doc.key)),{type:Tj(g.type),doc:p,oldIndex:_,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Tj(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rd(s){s=es(s,hn);const e=es(s.firestore,fr);return ij($g(e),s._key).then(n=>Aj(e,s,n))}class bT extends xj{constructor(e){super(),this.firestore=e}convertBytes(e){return new El(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new hn(this.firestore,null,n)}}function sp(s){s=es(s,Cl);const e=es(s.firestore,fr),n=$g(e),a=new bT(e);return yj(s._query),aj(n,s._query).then(l=>new Ej(e,a,s,l))}function Tl(s,e,n){s=es(s,hn);const a=es(s.firestore,fr),l=ET(s.converter,e);return ld(a,[gT(sd(a),"setDoc",s._key,l,s.converter!==null,n).toMutation(s._key,Fn.none())])}function bj(s,e,n,...a){s=es(s,hn);const l=es(s.firestore,fr),c=sd(l);let f;return f=typeof(e=it(e))=="string"||e instanceof nd?mj(c,"updateDoc",s._key,e,n,a):fj(c,"updateDoc",s._key,e),ld(l,[f.toMutation(s._key,Fn.exists(!0))])}function AT(s){return ld(es(s.firestore,fr),[new Ig(s._key,Fn.none())])}function wT(s,e){const n=es(s.firestore,fr),a=Nn(s),l=ET(s.converter,e);return ld(n,[gT(sd(s.firestore),"addDoc",a._key,l,s.converter!==null,{}).toMutation(a._key,Fn.exists(!1))]).then(()=>a)}function ld(s,e){return function(a,l){const c=new ri;return a.asyncQueue.enqueueAndForget(async()=>GI(await sj(a),l,c)),c.promise}($g(s),e)}function Aj(s,e,n){const a=n.docs.get(e._key),l=new bT(s);return new TT(s,l,e._key,a,new Zo(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(l){Rl=l})(ur),nr(new ua("firestore",(a,{instanceIdentifier:l,options:c})=>{const f=a.getProvider("app").getImmediate(),g=new fr(new pR(a.getProvider("auth-internal")),new vR(f,a.getProvider("app-check-internal")),function(_,E){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new fe(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cc(_.options.projectId,E)}(f,l),f);return c=Object.assign({useFetchStreams:n},c),g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),Ts(Xv,Wv,e),Ts(Xv,Wv,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST="firebasestorage.googleapis.com",NT="storageBucket",wj=2*60*1e3,Sj=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt extends Rs{constructor(e,n,a=0){super(Im(e),`Firebase Storage: ${n} (${Im(e)})`),this.status_=a,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,gt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Im(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var mt;(function(s){s.UNKNOWN="unknown",s.OBJECT_NOT_FOUND="object-not-found",s.BUCKET_NOT_FOUND="bucket-not-found",s.PROJECT_NOT_FOUND="project-not-found",s.QUOTA_EXCEEDED="quota-exceeded",s.UNAUTHENTICATED="unauthenticated",s.UNAUTHORIZED="unauthorized",s.UNAUTHORIZED_APP="unauthorized-app",s.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",s.INVALID_CHECKSUM="invalid-checksum",s.CANCELED="canceled",s.INVALID_EVENT_NAME="invalid-event-name",s.INVALID_URL="invalid-url",s.INVALID_DEFAULT_BUCKET="invalid-default-bucket",s.NO_DEFAULT_BUCKET="no-default-bucket",s.CANNOT_SLICE_BLOB="cannot-slice-blob",s.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",s.NO_DOWNLOAD_URL="no-download-url",s.INVALID_ARGUMENT="invalid-argument",s.INVALID_ARGUMENT_COUNT="invalid-argument-count",s.APP_DELETED="app-deleted",s.INVALID_ROOT_OPERATION="invalid-root-operation",s.INVALID_FORMAT="invalid-format",s.INTERNAL_ERROR="internal-error",s.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(mt||(mt={}));function Im(s){return"storage/"+s}function ip(){const s="An unknown error occurred, please check the error payload for server response.";return new gt(mt.UNKNOWN,s)}function Nj(s){return new gt(mt.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")}function Rj(s){return new gt(mt.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function kj(){const s="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new gt(mt.UNAUTHENTICATED,s)}function Ij(){return new gt(mt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function jj(s){return new gt(mt.UNAUTHORIZED,"User does not have permission to access '"+s+"'.")}function Cj(){return new gt(mt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Dj(){return new gt(mt.CANCELED,"User canceled the upload/download.")}function Oj(s){return new gt(mt.INVALID_URL,"Invalid URL '"+s+"'.")}function Mj(s){return new gt(mt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+s+"'.")}function Lj(){return new gt(mt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+NT+"' property when initializing the app?")}function Vj(){return new gt(mt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Pj(){return new gt(mt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Uj(s){return new gt(mt.UNSUPPORTED_ENVIRONMENT,`${s} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function ig(s){return new gt(mt.INVALID_ARGUMENT,s)}function RT(){return new gt(mt.APP_DELETED,"The Firebase app was deleted.")}function Bj(s){return new gt(mt.INVALID_ROOT_OPERATION,"The operation '"+s+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function sc(s,e){return new gt(mt.INVALID_FORMAT,"String does not match format '"+s+"': "+e)}function Go(s){throw new gt(mt.INTERNAL_ERROR,"Internal error: "+s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let a;try{a=Sn.makeFromUrl(e,n)}catch{return new Sn(e,"")}if(a.path==="")return a;throw Mj(e)}static makeFromUrl(e,n){let a=null;const l="([A-Za-z0-9.\\-_]+)";function c(ee){ee.path.charAt(ee.path.length-1)==="/"&&(ee.path_=ee.path_.slice(0,-1))}const f="(/(.*))?$",g=new RegExp("^gs://"+l+f,"i"),p={bucket:1,path:3};function _(ee){ee.path_=decodeURIComponent(ee.path)}const E="v[A-Za-z0-9_]+",b=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",D=new RegExp(`^https?://${b}/${E}/b/${l}/o${w}`,"i"),O={bucket:1,path:3},q=n===ST?"(?:storage.googleapis.com|storage.cloud.google.com)":n,M="([^?#]*)",H=new RegExp(`^https?://${q}/${l}/${M}`,"i"),Q=[{regex:g,indices:p,postModify:c},{regex:D,indices:O,postModify:_},{regex:H,indices:{bucket:1,path:2},postModify:_}];for(let ee=0;ee<Q.length;ee++){const J=Q[ee],re=J.regex.exec(e);if(re){const V=re[J.indices.bucket];let N=re[J.indices.path];N||(N=""),a=new Sn(V,N),J.postModify(a);break}}if(a==null)throw Oj(e);return a}}class Hj{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zj(s,e,n){let a=1,l=null,c=null,f=!1,g=0;function p(){return g===2}let _=!1;function E(...M){_||(_=!0,e.apply(null,M))}function b(M){l=setTimeout(()=>{l=null,s(D,p())},M)}function w(){c&&clearTimeout(c)}function D(M,...H){if(_){w();return}if(M){w(),E.call(null,M,...H);return}if(p()||f){w(),E.call(null,M,...H);return}a<64&&(a*=2);let Q;g===1?(g=2,Q=0):Q=(a+Math.random())*1e3,b(Q)}let O=!1;function q(M){O||(O=!0,w(),!_&&(l!==null?(M||(g=2),clearTimeout(l),b(0)):M||(g=1)))}return b(0),c=setTimeout(()=>{f=!0,q(!0)},n),q}function qj(s){s(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kj(s){return s!==void 0}function Fj(s){return typeof s=="object"&&!Array.isArray(s)}function ap(s){return typeof s=="string"||s instanceof String}function $x(s){return rp()&&s instanceof Blob}function rp(){return typeof Blob<"u"}function Qx(s,e,n,a){if(a<e)throw ig(`Invalid value for '${s}'. Expected ${e} or greater.`);if(a>n)throw ig(`Invalid value for '${s}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function od(s,e,n){let a=e;return n==null&&(a=`https://${e}`),`${n}://${a}/v0${s}`}function kT(s){const e=encodeURIComponent;let n="?";for(const a in s)if(s.hasOwnProperty(a)){const l=e(a)+"="+e(s[a]);n=n+l+"&"}return n=n.slice(0,-1),n}var er;(function(s){s[s.NO_ERROR=0]="NO_ERROR",s[s.NETWORK_ERROR=1]="NETWORK_ERROR",s[s.ABORT=2]="ABORT"})(er||(er={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gj(s,e){const n=s>=500&&s<600,l=[408,429].indexOf(s)!==-1,c=e.indexOf(s)!==-1;return n||l||c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $j{constructor(e,n,a,l,c,f,g,p,_,E,b,w=!0){this.url_=e,this.method_=n,this.headers_=a,this.body_=l,this.successCodes_=c,this.additionalRetryCodes_=f,this.callback_=g,this.errorCallback_=p,this.timeout_=_,this.progressCallback_=E,this.connectionFactory_=b,this.retry=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((D,O)=>{this.resolve_=D,this.reject_=O,this.start_()})}start_(){const e=(a,l)=>{if(l){a(!1,new nh(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const f=g=>{const p=g.loaded,_=g.lengthComputable?g.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,_)};this.progressCallback_!==null&&c.addUploadProgressListener(f),c.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(f),this.pendingConnection_=null;const g=c.getErrorCode()===er.NO_ERROR,p=c.getStatus();if(!g||Gj(p,this.additionalRetryCodes_)&&this.retry){const E=c.getErrorCode()===er.ABORT;a(!1,new nh(!1,null,E));return}const _=this.successCodes_.indexOf(p)!==-1;a(!0,new nh(_,c))})},n=(a,l)=>{const c=this.resolve_,f=this.reject_,g=l.connection;if(l.wasSuccessCode)try{const p=this.callback_(g,g.getResponse());Kj(p)?c(p):c()}catch(p){f(p)}else if(g!==null){const p=ip();p.serverResponse=g.getErrorText(),this.errorCallback_?f(this.errorCallback_(g,p)):f(p)}else if(l.canceled){const p=this.appDelete_?RT():Dj();f(p)}else{const p=Cj();f(p)}};this.canceled_?n(!1,new nh(!1,null,!0)):this.backoffId_=zj(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&qj(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class nh{constructor(e,n,a){this.wasSuccessCode=e,this.connection=n,this.canceled=!!a}}function Qj(s,e){e!==null&&e.length>0&&(s.Authorization="Firebase "+e)}function Yj(s,e){s["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Xj(s,e){e&&(s["X-Firebase-GMPID"]=e)}function Wj(s,e){e!==null&&(s["X-Firebase-AppCheck"]=e)}function Zj(s,e,n,a,l,c,f=!0){const g=kT(s.urlParams),p=s.url+g,_=Object.assign({},s.headers);return Xj(_,e),Qj(_,n),Yj(_,c),Wj(_,a),new $j(p,s.method,_,s.body,s.successCodes,s.additionalRetryCodes,s.handler,s.errorHandler,s.timeout,s.progressCallback,l,f)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jj(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function eC(...s){const e=Jj();if(e!==void 0){const n=new e;for(let a=0;a<s.length;a++)n.append(s[a]);return n.getBlob()}else{if(rp())return new Blob(s);throw new gt(mt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function tC(s,e,n){return s.webkitSlice?s.webkitSlice(e,n):s.mozSlice?s.mozSlice(e,n):s.slice?s.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nC(s){if(typeof atob>"u")throw Uj("base-64");return atob(s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class jm{constructor(e,n){this.data=e,this.contentType=n||null}}function sC(s,e){switch(s){case Es.RAW:return new jm(IT(e));case Es.BASE64:case Es.BASE64URL:return new jm(jT(s,e));case Es.DATA_URL:return new jm(aC(e),rC(e))}throw ip()}function IT(s){const e=[];for(let n=0;n<s.length;n++){let a=s.charCodeAt(n);if(a<=127)e.push(a);else if(a<=2047)e.push(192|a>>6,128|a&63);else if((a&64512)===55296)if(!(n<s.length-1&&(s.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const c=a,f=s.charCodeAt(++n);a=65536|(c&1023)<<10|f&1023,e.push(240|a>>18,128|a>>12&63,128|a>>6&63,128|a&63)}else(a&64512)===56320?e.push(239,191,189):e.push(224|a>>12,128|a>>6&63,128|a&63)}return new Uint8Array(e)}function iC(s){let e;try{e=decodeURIComponent(s)}catch{throw sc(Es.DATA_URL,"Malformed data URL.")}return IT(e)}function jT(s,e){switch(s){case Es.BASE64:{const l=e.indexOf("-")!==-1,c=e.indexOf("_")!==-1;if(l||c)throw sc(s,"Invalid character '"+(l?"-":"_")+"' found: is it base64url encoded?");break}case Es.BASE64URL:{const l=e.indexOf("+")!==-1,c=e.indexOf("/")!==-1;if(l||c)throw sc(s,"Invalid character '"+(l?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=nC(e)}catch(l){throw l.message.includes("polyfill")?l:sc(s,"Invalid character found")}const a=new Uint8Array(n.length);for(let l=0;l<n.length;l++)a[l]=n.charCodeAt(l);return a}class CT{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw sc(Es.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const a=n[1]||null;a!=null&&(this.base64=lC(a,";base64"),this.contentType=this.base64?a.substring(0,a.length-7):a),this.rest=e.substring(e.indexOf(",")+1)}}function aC(s){const e=new CT(s);return e.base64?jT(Es.BASE64,e.rest):iC(e.rest)}function rC(s){return new CT(s).contentType}function lC(s,e){return s.length>=e.length?s.substring(s.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e,n){let a=0,l="";$x(e)?(this.data_=e,a=e.size,l=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),a=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),a=e.length),this.size_=a,this.type_=l}size(){return this.size_}type(){return this.type_}slice(e,n){if($x(this.data_)){const a=this.data_,l=tC(a,e,n);return l===null?null:new Zi(l)}else{const a=new Uint8Array(this.data_.buffer,e,n-e);return new Zi(a,!0)}}static getBlob(...e){if(rp()){const n=e.map(a=>a instanceof Zi?a.data_:a);return new Zi(eC.apply(null,n))}else{const n=e.map(f=>ap(f)?sC(Es.RAW,f).data:f.data_);let a=0;n.forEach(f=>{a+=f.byteLength});const l=new Uint8Array(a);let c=0;return n.forEach(f=>{for(let g=0;g<f.length;g++)l[c++]=f[g]}),new Zi(l,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DT(s){let e;try{e=JSON.parse(s)}catch{return null}return Fj(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oC(s){if(s.length===0)return null;const e=s.lastIndexOf("/");return e===-1?"":s.slice(0,e)}function cC(s,e){const n=e.split("/").filter(a=>a.length>0).join("/");return s.length===0?n:s+"/"+n}function OT(s){const e=s.lastIndexOf("/",s.length-2);return e===-1?s:s.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uC(s,e){return e}class un{constructor(e,n,a,l){this.server=e,this.local=n||e,this.writable=!!a,this.xform=l||uC}}let sh=null;function hC(s){return!ap(s)||s.length<2?s:OT(s)}function MT(){if(sh)return sh;const s=[];s.push(new un("bucket")),s.push(new un("generation")),s.push(new un("metageneration")),s.push(new un("name","fullPath",!0));function e(c,f){return hC(f)}const n=new un("name");n.xform=e,s.push(n);function a(c,f){return f!==void 0?Number(f):f}const l=new un("size");return l.xform=a,s.push(l),s.push(new un("timeCreated")),s.push(new un("updated")),s.push(new un("md5Hash",null,!0)),s.push(new un("cacheControl",null,!0)),s.push(new un("contentDisposition",null,!0)),s.push(new un("contentEncoding",null,!0)),s.push(new un("contentLanguage",null,!0)),s.push(new un("contentType",null,!0)),s.push(new un("metadata","customMetadata",!0)),sh=s,sh}function dC(s,e){function n(){const a=s.bucket,l=s.fullPath,c=new Sn(a,l);return e._makeStorageReference(c)}Object.defineProperty(s,"ref",{get:n})}function fC(s,e,n){const a={};a.type="file";const l=n.length;for(let c=0;c<l;c++){const f=n[c];a[f.local]=f.xform(a,e[f.server])}return dC(a,s),a}function LT(s,e,n){const a=DT(e);return a===null?null:fC(s,a,n)}function mC(s,e,n,a){const l=DT(e);if(l===null||!ap(l.downloadTokens))return null;const c=l.downloadTokens;if(c.length===0)return null;const f=encodeURIComponent;return c.split(",").map(_=>{const E=s.bucket,b=s.fullPath,w="/b/"+f(E)+"/o/"+f(b),D=od(w,n,a),O=kT({alt:"media",token:_});return D+O})[0]}function gC(s,e){const n={},a=e.length;for(let l=0;l<a;l++){const c=e[l];c.writable&&(n[c.server]=s[c.local])}return JSON.stringify(n)}class lp{constructor(e,n,a,l){this.url=e,this.method=n,this.handler=a,this.timeout=l,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(s){if(!s)throw ip()}function pC(s,e){function n(a,l){const c=LT(s,l,e);return VT(c!==null),c}return n}function _C(s,e){function n(a,l){const c=LT(s,l,e);return VT(c!==null),mC(c,l,s.host,s._protocol)}return n}function PT(s){function e(n,a){let l;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?l=Ij():l=kj():n.getStatus()===402?l=Rj(s.bucket):n.getStatus()===403?l=jj(s.path):l=a,l.status=n.getStatus(),l.serverResponse=a.serverResponse,l}return e}function UT(s){const e=PT(s);function n(a,l){let c=e(a,l);return a.getStatus()===404&&(c=Nj(s.path)),c.serverResponse=l.serverResponse,c}return n}function yC(s,e,n){const a=e.fullServerUrl(),l=od(a,s.host,s._protocol),c="GET",f=s.maxOperationRetryTime,g=new lp(l,c,_C(s,n),f);return g.errorHandler=UT(e),g}function vC(s,e){const n=e.fullServerUrl(),a=od(n,s.host,s._protocol),l="DELETE",c=s.maxOperationRetryTime;function f(p,_){}const g=new lp(a,l,f,c);return g.successCodes=[200,204],g.errorHandler=UT(e),g}function xC(s,e){return s&&s.contentType||e&&e.type()||"application/octet-stream"}function EC(s,e,n){const a=Object.assign({},n);return a.fullPath=s.path,a.size=e.size(),a.contentType||(a.contentType=xC(null,e)),a}function TC(s,e,n,a,l){const c=e.bucketOnlyServerUrl(),f={"X-Goog-Upload-Protocol":"multipart"};function g(){let Q="";for(let ee=0;ee<2;ee++)Q=Q+Math.random().toString().slice(2);return Q}const p=g();f["Content-Type"]="multipart/related; boundary="+p;const _=EC(e,a,l),E=gC(_,n),b="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+E+`\r
--`+p+`\r
Content-Type: `+_.contentType+`\r
\r
`,w=`\r
--`+p+"--",D=Zi.getBlob(b,a,w);if(D===null)throw Vj();const O={name:_.fullPath},q=od(c,s.host,s._protocol),M="POST",H=s.maxUploadRetryTime,G=new lp(q,M,pC(s,n),H);return G.urlParams=O,G.headers=f,G.body=D.uploadData(),G.errorHandler=PT(e),G}class bC{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=er.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=er.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=er.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,a,l){if(this.sent_)throw Go("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),l!==void 0)for(const c in l)l.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,l[c].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Go("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Go("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Go("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Go("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class AC extends bC{initXhr(){this.xhr_.responseType="text"}}function op(){return new AC}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e,n){this._service=e,n instanceof Sn?this._location=n:this._location=Sn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ar(e,n)}get root(){const e=new Sn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return OT(this._location.path)}get storage(){return this._service}get parent(){const e=oC(this._location.path);if(e===null)return null;const n=new Sn(this._location.bucket,e);return new ar(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Bj(e)}}function wC(s,e,n){s._throwIfRoot("uploadBytes");const a=TC(s.storage,s._location,MT(),new Zi(e,!0),n);return s.storage.makeRequestWithTokens(a,op).then(l=>({metadata:l,ref:s}))}function SC(s){s._throwIfRoot("getDownloadURL");const e=yC(s.storage,s._location,MT());return s.storage.makeRequestWithTokens(e,op).then(n=>{if(n===null)throw Pj();return n})}function NC(s){s._throwIfRoot("deleteObject");const e=vC(s.storage,s._location);return s.storage.makeRequestWithTokens(e,op)}function RC(s,e){const n=cC(s._location.path,e),a=new Sn(s._location.bucket,n);return new ar(s.storage,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kC(s){return/^[A-Za-z]+:\/\//.test(s)}function IC(s,e){return new ar(s,e)}function BT(s,e){if(s instanceof cp){const n=s;if(n._bucket==null)throw Lj();const a=new ar(n,n._bucket);return e!=null?BT(a,e):a}else return e!==void 0?RC(s,e):s}function jC(s,e){if(e&&kC(e)){if(s instanceof cp)return IC(s,e);throw ig("To use ref(service, url), the first argument must be a Storage instance.")}else return BT(s,e)}function Yx(s,e){const n=e==null?void 0:e[NT];return n==null?null:Sn.makeFromBucketSpec(n,s)}function CC(s,e,n,a={}){s.host=`${e}:${n}`,s._protocol="http";const{mockUserToken:l}=a;l&&(s._overrideAuthToken=typeof l=="string"?l:U0(l,s.app.options.projectId))}class cp{constructor(e,n,a,l,c){this.app=e,this._authProvider=n,this._appCheckProvider=a,this._url=l,this._firebaseVersion=c,this._bucket=null,this._host=ST,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=wj,this._maxUploadRetryTime=Sj,this._requests=new Set,l!=null?this._bucket=Sn.makeFromBucketSpec(l,this._host):this._bucket=Yx(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Sn.makeFromBucketSpec(this._url,e):this._bucket=Yx(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Qx("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Qx("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(An(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ar(this,e)}_makeRequest(e,n,a,l,c=!0){if(this._deleted)return new Hj(RT());{const f=Zj(e,this._appId,a,l,n,this._firebaseVersion,c);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(e,n){const[a,l]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,a,l).getPromise()}}const Xx="@firebase/storage",Wx="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT="storage";function cd(s,e,n){return s=it(s),wC(s,e,n)}function up(s){return s=it(s),SC(s)}function hp(s){return s=it(s),NC(s)}function rr(s,e){return s=it(s),jC(s,e)}function zT(s=Eg(),e){s=it(s);const a=zh(s,HT).getImmediate({identifier:e}),l=L0("storage");return l&&DC(a,...l),a}function DC(s,e,n,a={}){CC(s,e,n,a)}function OC(s,{instanceIdentifier:e}){const n=s.getProvider("app").getImmediate(),a=s.getProvider("auth-internal"),l=s.getProvider("app-check-internal");return new cp(n,a,l,e,ur)}function MC(){nr(new ua(HT,OC,"PUBLIC").setMultipleInstances(!0)),Ts(Xx,Wx,""),Ts(Xx,Wx,"esm2017")}MC();function dp(s,e){var n={};for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&e.indexOf(a)<0&&(n[a]=s[a]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(s);l<a.length;l++)e.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(s,a[l])&&(n[a[l]]=s[a[l]]);return n}function qT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const LC=qT,KT=new pc("auth","Firebase",qT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oh=new vg("@firebase/auth");function VC(s,...e){Oh.logLevel<=Le.WARN&&Oh.warn(`Auth (${ur}): ${s}`,...e)}function mh(s,...e){Oh.logLevel<=Le.ERROR&&Oh.error(`Auth (${ur}): ${s}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(s,...e){throw fp(s,...e)}function ws(s,...e){return fp(s,...e)}function FT(s,e,n){const a=Object.assign(Object.assign({},LC()),{[e]:n});return new pc("auth","Firebase",a).create(e,{appName:s.name})}function li(s){return FT(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function fp(s,...e){if(typeof s!="string"){const n=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(n,...a)}return KT.create(s,...e)}function Te(s,e,...n){if(!s)throw fp(e,...n)}function ni(s){const e="INTERNAL ASSERTION FAILED: "+s;throw mh(e),new Error(e)}function hi(s,e){s||ni(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ag(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.href)||""}function PC(){return Zx()==="http:"||Zx()==="https:"}function Zx(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(PC()||FS()||"connection"in navigator)?navigator.onLine:!0}function BC(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,n){this.shortDelay=e,this.longDelay=n,hi(n>e,"Short delay should be less than long delay!"),this.isMobile=zS()||GS()}get(){return UC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mp(s,e){hi(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{static initialize(e,n,a){this.fetchImpl=e,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ni("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ni("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ni("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC=new Ac(3e4,6e4);function va(s,e){return s.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:s.tenantId}):e}async function fi(s,e,n,a,l={}){return $T(s,l,async()=>{let c={},f={};a&&(e==="GET"?f=a:c={body:JSON.stringify(a)});const g=_c(Object.assign({key:s.config.apiKey},f)).slice(1),p=await s._getAdditionalHeaders();p["Content-Type"]="application/json",s.languageCode&&(p["X-Firebase-Locale"]=s.languageCode);const _=Object.assign({method:e,headers:p},c);return KS()||(_.referrerPolicy="no-referrer"),GT.fetch()(QT(s,s.config.apiHost,n,g),_)})}async function $T(s,e,n){s._canInitEmulator=!1;const a=Object.assign(Object.assign({},HC),e);try{const l=new KC(s),c=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const f=await c.json();if("needConfirmation"in f)throw ih(s,"account-exists-with-different-credential",f);if(c.ok&&!("errorMessage"in f))return f;{const g=c.ok?f.errorMessage:f.error.message,[p,_]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw ih(s,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw ih(s,"email-already-in-use",f);if(p==="USER_DISABLED")throw ih(s,"user-disabled",f);const E=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw FT(s,E,_);ts(s,E)}}catch(l){if(l instanceof Rs)throw l;ts(s,"network-request-failed",{message:String(l)})}}async function wc(s,e,n,a,l={}){const c=await fi(s,e,n,a,l);return"mfaPendingCredential"in c&&ts(s,"multi-factor-auth-required",{_serverResponse:c}),c}function QT(s,e,n,a){const l=`${e}${n}?${a}`;return s.config.emulator?mp(s.config,l):`${s.config.apiScheme}://${l}`}function qC(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class KC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(ws(this.auth,"network-request-failed")),zC.get())})}}function ih(s,e,n){const a={appName:s.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const l=ws(s,e,a);return l.customData._tokenResponse=n,l}function Jx(s){return s!==void 0&&s.enterprise!==void 0}class FC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return qC(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function GC(s,e){return fi(s,"GET","/v2/recaptchaConfig",va(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $C(s,e){return fi(s,"POST","/v1/accounts:delete",e)}async function YT(s,e){return fi(s,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ic(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function QC(s,e=!1){const n=it(s),a=await n.getIdToken(e),l=gp(a);Te(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,f=c==null?void 0:c.sign_in_provider;return{claims:l,token:a,authTime:ic(Cm(l.auth_time)),issuedAtTime:ic(Cm(l.iat)),expirationTime:ic(Cm(l.exp)),signInProvider:f||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function Cm(s){return Number(s)*1e3}function gp(s){const[e,n,a]=s.split(".");if(e===void 0||n===void 0||a===void 0)return mh("JWT malformed, contained fewer than 3 sections"),null;try{const l=O0(n);return l?JSON.parse(l):(mh("Failed to decode base64 JWT payload"),null)}catch(l){return mh("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function e0(s){const e=gp(s);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bl(s,e,n=!1){if(n)return e;try{return await e}catch(a){throw a instanceof Rs&&YC(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function YC({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const l=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ic(this.lastLoginAt),this.creationTime=ic(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mh(s){var e;const n=s.auth,a=await s.getIdToken(),l=await bl(s,YT(n,{idToken:a}));Te(l==null?void 0:l.users.length,n,"internal-error");const c=l.users[0];s._notifyReloadListener(c);const f=!((e=c.providerUserInfo)===null||e===void 0)&&e.length?XT(c.providerUserInfo):[],g=ZC(s.providerData,f),p=s.isAnonymous,_=!(s.email&&c.passwordHash)&&!(g!=null&&g.length),E=p?_:!1,b={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:g,metadata:new rg(c.createdAt,c.lastLoginAt),isAnonymous:E};Object.assign(s,b)}async function WC(s){const e=it(s);await Mh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ZC(s,e){return[...s.filter(a=>!e.some(l=>l.providerId===a.providerId)),...e]}function XT(s){return s.map(e=>{var{providerId:n}=e,a=dp(e,["providerId"]);return{providerId:n,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JC(s,e){const n=await $T(s,{},async()=>{const a=_c({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,f=QT(s,l,"/v1/token",`key=${c}`),g=await s._getAdditionalHeaders();return g["Content-Type"]="application/x-www-form-urlencoded",GT.fetch()(f,{method:"POST",headers:g,body:a})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function e1(s,e){return fi(s,"POST","/v2/accounts:revokeToken",va(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):e0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const n=e0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:a,refreshToken:l,expiresIn:c}=await JC(e,n);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(e,n,a){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,n){const{refreshToken:a,accessToken:l,expirationTime:c}=n,f=new dl;return a&&(Te(typeof a=="string","internal-error",{appName:e}),f.refreshToken=a),l&&(Te(typeof l=="string","internal-error",{appName:e}),f.accessToken=l),c&&(Te(typeof c=="number","internal-error",{appName:e}),f.expirationTime=c),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new dl,this.toJSON())}_performRefresh(){return ni("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wi(s,e){Te(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class si{constructor(e){var{uid:n,auth:a,stsTokenManager:l}=e,c=dp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new XC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=a,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new rg(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(e){const n=await bl(this,this.stsTokenManager.getToken(this.auth,e));return Te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return QC(this,e)}reload(){return WC(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new si(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),n&&await Mh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(An(this.auth.app))return Promise.reject(li(this.auth));const e=await this.getIdToken();return await bl(this,$C(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var a,l,c,f,g,p,_,E;const b=(a=n.displayName)!==null&&a!==void 0?a:void 0,w=(l=n.email)!==null&&l!==void 0?l:void 0,D=(c=n.phoneNumber)!==null&&c!==void 0?c:void 0,O=(f=n.photoURL)!==null&&f!==void 0?f:void 0,q=(g=n.tenantId)!==null&&g!==void 0?g:void 0,M=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,H=(_=n.createdAt)!==null&&_!==void 0?_:void 0,G=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:Q,emailVerified:ee,isAnonymous:J,providerData:re,stsTokenManager:V}=n;Te(Q&&V,e,"internal-error");const N=dl.fromJSON(this.name,V);Te(typeof Q=="string",e,"internal-error"),Wi(b,e.name),Wi(w,e.name),Te(typeof ee=="boolean",e,"internal-error"),Te(typeof J=="boolean",e,"internal-error"),Wi(D,e.name),Wi(O,e.name),Wi(q,e.name),Wi(M,e.name),Wi(H,e.name),Wi(G,e.name);const S=new si({uid:Q,auth:e,email:w,emailVerified:ee,displayName:b,isAnonymous:J,photoURL:O,phoneNumber:D,tenantId:q,stsTokenManager:N,createdAt:H,lastLoginAt:G});return re&&Array.isArray(re)&&(S.providerData=re.map(k=>Object.assign({},k))),M&&(S._redirectEventId=M),S}static async _fromIdTokenResponse(e,n,a=!1){const l=new dl;l.updateFromServerResponse(n);const c=new si({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:a});return await Mh(c),c}static async _fromGetAccountInfoResponse(e,n,a){const l=n.users[0];Te(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?XT(l.providerUserInfo):[],f=!(l.email&&l.passwordHash)&&!(c!=null&&c.length),g=new dl;g.updateFromIdToken(a);const p=new si({uid:l.localId,auth:e,stsTokenManager:g,isAnonymous:f}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new rg(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(c!=null&&c.length)};return Object.assign(p,_),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0=new Map;function ii(s){hi(s instanceof Function,"Expected a class definition");let e=t0.get(s);return e?(hi(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,t0.set(s,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}WT.type="NONE";const n0=WT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gh(s,e,n){return`firebase:${s}:${e}:${n}`}class fl{constructor(e,n,a){this.persistence=e,this.auth=n,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=gh(this.userKey,l.apiKey,c),this.fullPersistenceKey=gh("persistence",l.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?si._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,a="authUser"){if(!n.length)return new fl(ii(n0),e,a);const l=(await Promise.all(n.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||ii(n0);const f=gh(a,e.config.apiKey,e.name);let g=null;for(const _ of n)try{const E=await _._get(f);if(E){const b=si._fromJSON(e,E);_!==c&&(g=b),c=_;break}}catch{}const p=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new fl(c,e,a):(c=p[0],g&&await c._set(f,g.toJSON()),await Promise.all(n.map(async _=>{if(_!==c)try{await _._remove(f)}catch{}})),new fl(c,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s0(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(tb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ZT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(sb(e))return"Blackberry";if(ib(e))return"Webos";if(JT(e))return"Safari";if((e.includes("chrome/")||eb(e))&&!e.includes("edge/"))return"Chrome";if(nb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(n);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function ZT(s=nn()){return/firefox\//i.test(s)}function JT(s=nn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function eb(s=nn()){return/crios\//i.test(s)}function tb(s=nn()){return/iemobile/i.test(s)}function nb(s=nn()){return/android/i.test(s)}function sb(s=nn()){return/blackberry/i.test(s)}function ib(s=nn()){return/webos/i.test(s)}function pp(s=nn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function t1(s=nn()){var e;return pp(s)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function n1(){return $S()&&document.documentMode===10}function ab(s=nn()){return pp(s)||nb(s)||ib(s)||sb(s)||/windows phone/i.test(s)||tb(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rb(s,e=[]){let n;switch(s){case"Browser":n=s0(nn());break;case"Worker":n=`${s0(nn())}-${s}`;break;default:n=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ur}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const a=c=>new Promise((f,g)=>{try{const p=e(c);f(p)}catch(p){g(p)}});a.onAbort=n,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const a of this.queue)await a(e),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i1(s,e={}){return fi(s,"GET","/v2/passwordPolicy",va(s,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1=6;class r1{constructor(e){var n,a,l,c;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:a1,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(a=e.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(c=e.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,a,l,c,f,g;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(a=p.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(l=p.containsLowercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsUppercaseLetter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(g=p.containsNonAlphanumericCharacter)!==null&&g!==void 0?g:!0),p}validatePasswordLengthOptions(e,n){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=e.length>=a),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let l=0;l<e.length;l++)a=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,n,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e,n,a,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new i0(this),this.idTokenSubscription=new i0(this),this.beforeStateQueue=new s1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=KT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ii(n)),this._initializationPromise=this.queue(async()=>{var a,l;if(!this._deleted&&(this.persistenceManager=await fl.create(this,e),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await YT(this,{idToken:e}),a=await si._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(An(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(g,g))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let l=a,c=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,g=l==null?void 0:l._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===g)&&(p!=null&&p.user)&&(l=p.user,c=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(l)}catch(f){l=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Mh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=BC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(An(this.app))return Promise.reject(li(this));const n=e?it(e):null;return n&&Te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return An(this.app)?Promise.reject(li(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return An(this.app)?Promise.reject(li(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ii(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await i1(this),n=new r1(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new pc("auth","Firebase",e())}onAuthStateChanged(e,n,a){return this.registerStateListener(this.authStateSubscription,e,n,a)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,a){return this.registerStateListener(this.idTokenSubscription,e,n,a)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await e1(this,a)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const a=await this.getOrInitRedirectPersistenceManager(n);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ii(e)||this._popupRedirectResolver;Te(n,this,"argument-error"),this.redirectPersistenceManager=await fl.create(this,[ii(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,a;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,a,l){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let f=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(g,this,"internal-error"),g.then(()=>{f||c(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,a,l);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=rb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const a=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());a&&(n["X-Firebase-Client"]=a);const l=await this._getAppCheckToken();return l&&(n["X-Firebase-AppCheck"]=l),n}async _getAppCheckToken(){var e;if(An(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&VC(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function mr(s){return it(s)}class i0{constructor(e){this.auth=e,this.observer=null,this.addObserver=tN(n=>this.observer=n)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ud={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function o1(s){ud=s}function lb(s){return ud.loadJS(s)}function c1(){return ud.recaptchaEnterpriseScript}function u1(){return ud.gapiScript}function h1(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class d1{constructor(){this.enterprise=new f1}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class f1{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const m1="recaptcha-enterprise",ob="NO_RECAPTCHA";class g1{constructor(e){this.type=m1,this.auth=mr(e)}async verify(e="verify",n=!1){async function a(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(f,g)=>{GC(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const _=new FC(p);return c.tenantId==null?c._agentRecaptchaConfig=_:c._tenantRecaptchaConfigs[c.tenantId]=_,f(_.siteKey)}}).catch(p=>{g(p)})})}function l(c,f,g){const p=window.grecaptcha;Jx(p)?p.enterprise.ready(()=>{p.enterprise.execute(c,{action:e}).then(_=>{f(_)}).catch(()=>{f(ob)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new d1().execute("siteKey",{action:"verify"}):new Promise((c,f)=>{a(this.auth).then(g=>{if(!n&&Jx(window.grecaptcha))l(g,c,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=c1();p.length!==0&&(p+=g),lb(p).then(()=>{l(g,c,f)}).catch(_=>{f(_)})}}).catch(g=>{f(g)})})}}async function a0(s,e,n,a=!1,l=!1){const c=new g1(s);let f;if(l)f=ob;else try{f=await c.verify(n)}catch{f=await c.verify(n,!0)}const g=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const p=g.phoneEnrollmentInfo.phoneNumber,_=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:_,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const p=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return a?Object.assign(g,{captchaResp:f}):Object.assign(g,{captchaResponse:f}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function lg(s,e,n,a,l){var c;if(!((c=s._getRecaptchaConfig())===null||c===void 0)&&c.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await a0(s,e,n,n==="getOobCode");return a(s,f)}else return a(s,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const g=await a0(s,e,n,n==="getOobCode");return a(s,g)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1(s,e){const n=zh(s,"auth");if(n.isInitialized()){const l=n.getImmediate(),c=n.getOptions();if(tr(c,e??{}))return l;ts(l,"already-initialized")}return n.initialize({options:e})}function _1(s,e){const n=(e==null?void 0:e.persistence)||[],a=(Array.isArray(n)?n:[n]).map(ii);e!=null&&e.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e==null?void 0:e.popupRedirectResolver)}function y1(s,e,n){const a=mr(s);Te(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const l=!1,c=cb(e),{host:f,port:g}=v1(e),p=g===null?"":`:${g}`,_={url:`${c}//${f}${p}/`},E=Object.freeze({host:f,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){Te(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Te(tr(_,a.config.emulator)&&tr(E,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=E,a.settings.appVerificationDisabledForTesting=!0,x1()}function cb(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function v1(s){const e=cb(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:r0(a.substr(c.length+1))}}else{const[c,f]=a.split(":");return{host:c,port:r0(f)}}}function r0(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function x1(){function s(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ni("not implemented")}_getIdTokenResponse(e){return ni("not implemented")}_linkToIdToken(e,n){return ni("not implemented")}_getReauthenticationResolver(e){return ni("not implemented")}}async function E1(s,e){return fi(s,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T1(s,e){return wc(s,"POST","/v1/accounts:signInWithPassword",va(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b1(s,e){return wc(s,"POST","/v1/accounts:signInWithEmailLink",va(s,e))}async function A1(s,e){return wc(s,"POST","/v1/accounts:signInWithEmailLink",va(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc extends _p{constructor(e,n,a,l=null){super("password",a),this._email=e,this._password=n,this._tenantId=l}static _fromEmailAndPassword(e,n){return new fc(e,n,"password")}static _fromEmailAndCode(e,n,a=null){return new fc(e,n,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return lg(e,n,"signInWithPassword",T1);case"emailLink":return b1(e,{email:this._email,oobCode:this._password});default:ts(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const a={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return lg(e,a,"signUpPassword",E1);case"emailLink":return A1(e,{idToken:n,email:this._email,oobCode:this._password});default:ts(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ml(s,e){return wc(s,"POST","/v1/accounts:signInWithIdp",va(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1="http://localhost";class lr extends _p{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new lr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ts("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:l}=n,c=dp(n,["providerId","signInMethod"]);if(!a||!l)return null;const f=new lr(a,l);return f.idToken=c.idToken||void 0,f.accessToken=c.accessToken||void 0,f.secret=c.secret,f.nonce=c.nonce,f.pendingToken=c.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return ml(e,n)}_linkToIdToken(e,n){const a=this.buildRequest();return a.idToken=n,ml(e,a)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ml(e,n)}buildRequest(){const e={requestUri:w1,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=_c(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S1(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function N1(s){const e=$o(Qo(s)).link,n=e?$o(Qo(e)).deep_link_id:null,a=$o(Qo(s)).deep_link_id;return(a?$o(Qo(a)).link:null)||a||n||e||s}class yp{constructor(e){var n,a,l,c,f,g;const p=$o(Qo(e)),_=(n=p.apiKey)!==null&&n!==void 0?n:null,E=(a=p.oobCode)!==null&&a!==void 0?a:null,b=S1((l=p.mode)!==null&&l!==void 0?l:null);Te(_&&E&&b,"argument-error"),this.apiKey=_,this.operation=b,this.code=E,this.continueUrl=(c=p.continueUrl)!==null&&c!==void 0?c:null,this.languageCode=(f=p.languageCode)!==null&&f!==void 0?f:null,this.tenantId=(g=p.tenantId)!==null&&g!==void 0?g:null}static parseLink(e){const n=N1(e);try{return new yp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(){this.providerId=Dl.PROVIDER_ID}static credential(e,n){return fc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const a=yp.parseLink(n);return Te(a,"argument-error"),fc._fromEmailAndCode(e,a.code,a.tenantId)}}Dl.PROVIDER_ID="password";Dl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Dl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc extends ub{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji extends Sc{constructor(){super("facebook.com")}static credential(e){return lr._fromParams({providerId:Ji.PROVIDER_ID,signInMethod:Ji.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ji.credentialFromTaggedObject(e)}static credentialFromError(e){return Ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ji.credential(e.oauthAccessToken)}catch{return null}}}Ji.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ji.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea extends Sc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return lr._fromParams({providerId:ea.PROVIDER_ID,signInMethod:ea.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ea.credentialFromTaggedObject(e)}static credentialFromError(e){return ea.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:a}=e;if(!n&&!a)return null;try{return ea.credential(n,a)}catch{return null}}}ea.GOOGLE_SIGN_IN_METHOD="google.com";ea.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta extends Sc{constructor(){super("github.com")}static credential(e){return lr._fromParams({providerId:ta.PROVIDER_ID,signInMethod:ta.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ta.credentialFromTaggedObject(e)}static credentialFromError(e){return ta.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ta.credential(e.oauthAccessToken)}catch{return null}}}ta.GITHUB_SIGN_IN_METHOD="github.com";ta.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na extends Sc{constructor(){super("twitter.com")}static credential(e,n){return lr._fromParams({providerId:na.PROVIDER_ID,signInMethod:na.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return na.credentialFromTaggedObject(e)}static credentialFromError(e){return na.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=e;if(!n||!a)return null;try{return na.credential(n,a)}catch{return null}}}na.TWITTER_SIGN_IN_METHOD="twitter.com";na.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R1(s,e){return wc(s,"POST","/v1/accounts:signUp",va(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,a,l=!1){const c=await si._fromIdTokenResponse(e,a,l),f=l0(a);return new or({user:c,providerId:f,_tokenResponse:a,operationType:n})}static async _forOperation(e,n,a){await e._updateTokensIfNecessary(a,!0);const l=l0(a);return new or({user:e,providerId:l,_tokenResponse:a,operationType:n})}}function l0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh extends Rs{constructor(e,n,a,l){var c;super(n.code,n.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Lh.prototype),this.customData={appName:e.name,tenantId:(c=e.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,n,a,l){return new Lh(e,n,a,l)}}function hb(s,e,n,a){return(e==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Lh._fromErrorAndOperation(s,c,e,a):c})}async function k1(s,e,n=!1){const a=await bl(s,e._linkToIdToken(s.auth,await s.getIdToken()),n);return or._forOperation(s,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I1(s,e,n=!1){const{auth:a}=s;if(An(a.app))return Promise.reject(li(a));const l="reauthenticate";try{const c=await bl(s,hb(a,l,e,s),n);Te(c.idToken,a,"internal-error");const f=gp(c.idToken);Te(f,a,"internal-error");const{sub:g}=f;return Te(s.uid===g,a,"user-mismatch"),or._forOperation(s,l,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&ts(a,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function db(s,e,n=!1){if(An(s.app))return Promise.reject(li(s));const a="signIn",l=await hb(s,a,e),c=await or._fromIdTokenResponse(s,a,l);return n||await s._updateCurrentUser(c.user),c}async function j1(s,e){return db(mr(s),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fb(s){const e=mr(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function C1(s,e,n){if(An(s.app))return Promise.reject(li(s));const a=mr(s),f=await lg(a,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",R1).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&fb(s),p}),g=await or._fromIdTokenResponse(a,"signIn",f);return await a._updateCurrentUser(g.user),g}function D1(s,e,n){return An(s.app)?Promise.reject(li(s)):j1(it(s),Dl.credential(e,n)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&fb(s),a})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O1(s,e){return fi(s,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M1(s,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const a=it(s),c={idToken:await a.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},f=await bl(a,O1(a.auth,c));a.displayName=f.displayName||null,a.photoURL=f.photoUrl||null;const g=a.providerData.find(({providerId:p})=>p==="password");g&&(g.displayName=a.displayName,g.photoURL=a.photoURL),await a._updateTokensIfNecessary(f)}function L1(s,e,n,a){return it(s).onIdTokenChanged(e,n,a)}function V1(s,e,n){return it(s).beforeAuthStateChanged(e,n)}function P1(s,e,n,a){return it(s).onAuthStateChanged(e,n,a)}function U1(s){return it(s).signOut()}const Vh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Vh,"1"),this.storage.removeItem(Vh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1=1e3,H1=10;class gb extends mb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ab(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),l=this.localCache[n];a!==l&&e(n,l,a)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,g,p)=>{this.notifyListeners(f,p)});return}const a=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const f=this.storage.getItem(a);!n&&this.localCache[a]===f||this.notifyListeners(a,f)},c=this.storage.getItem(a);n1()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,H1):l()}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:a}),!0)})},B1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}gb.type="LOCAL";const z1=gb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb extends mb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}pb.type="SESSION";const _b=pb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q1(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const a=new hd(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:a,eventType:l,data:c}=n.data,f=this.handlersMap[l];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const g=Array.from(f).map(async _=>_(n.origin,c)),p=await q1(g);n.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vp(s="",e=10){let n="";for(let a=0;a<e;a++)n+=Math.floor(Math.random()*10);return s+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,f;return new Promise((g,p)=>{const _=vp("",20);l.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},a);f={messageChannel:l,onMessage(b){const w=b;if(w.data.eventId===_)switch(w.data.status){case"ack":clearTimeout(E),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(w.data.response);break;default:clearTimeout(E),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(f),l.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:_,data:n},[l.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ss(){return window}function F1(s){Ss().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yb(){return typeof Ss().WorkerGlobalScope<"u"&&typeof Ss().importScripts=="function"}async function G1(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function $1(){var s;return((s=navigator==null?void 0:navigator.serviceWorker)===null||s===void 0?void 0:s.controller)||null}function Q1(){return yb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb="firebaseLocalStorageDb",Y1=1,Ph="firebaseLocalStorage",xb="fbase_key";class Nc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function dd(s,e){return s.transaction([Ph],e?"readwrite":"readonly").objectStore(Ph)}function X1(){const s=indexedDB.deleteDatabase(vb);return new Nc(s).toPromise()}function og(){const s=indexedDB.open(vb,Y1);return new Promise((e,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(Ph,{keyPath:xb})}catch(l){n(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(Ph)?e(a):(a.close(),await X1(),e(await og()))})})}async function o0(s,e,n){const a=dd(s,!0).put({[xb]:e,value:n});return new Nc(a).toPromise()}async function W1(s,e){const n=dd(s,!1).get(e),a=await new Nc(n).toPromise();return a===void 0?null:a.value}function c0(s,e){const n=dd(s,!0).delete(e);return new Nc(n).toPromise()}const Z1=800,J1=3;class Eb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await og(),this.db)}async _withRetries(e){let n=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(n++>J1)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return yb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hd._getInstance(Q1()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await G1(),!this.activeServiceWorker)return;this.sender=new K1(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((e=a[0])===null||e===void 0)&&e.fulfilled&&!((n=a[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||$1()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await og();return await o0(e,Vh,"1"),await c0(e,Vh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>o0(a,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(a=>W1(a,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>c0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=dd(l,!1).getAll();return new Nc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Z1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Eb.type="LOCAL";const e2=Eb;new Ac(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t2(s,e){return e?ii(e):(Te(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp extends _p{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ml(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ml(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ml(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function n2(s){return db(s.auth,new xp(s),s.bypassAuthState)}function s2(s){const{auth:e,user:n}=s;return Te(n,e,"internal-error"),I1(n,new xp(s),s.bypassAuthState)}async function i2(s){const{auth:e,user:n}=s;return Te(n,e,"internal-error"),k1(n,new xp(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(e,n,a,l,c=!1){this.auth=e,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:a,postBody:l,tenantId:c,error:f,type:g}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return n2;case"linkViaPopup":case"linkViaRedirect":return i2;case"reauthViaPopup":case"reauthViaRedirect":return s2;default:ts(this.auth,"internal-error")}}resolve(e){hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2=new Ac(2e3,1e4);class ul extends Tb{constructor(e,n,a,l,c){super(e,n,l,c),this.provider=a,this.authWindow=null,this.pollId=null,ul.currentPopupAction&&ul.currentPopupAction.cancel(),ul.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){hi(this.filter.length===1,"Popup operations only handle one event");const e=vp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ws(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ws(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ul.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,a;if(!((a=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ws(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,a2.get())};e()}}ul.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2="pendingRedirect",ph=new Map;class l2 extends Tb{constructor(e,n,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let e=ph.get(this.auth._key());if(!e){try{const a=await o2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(n){e=()=>Promise.reject(n)}ph.set(this.auth._key(),e)}return this.bypassAuthState||ph.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function o2(s,e){const n=h2(e),a=u2(s);if(!await a._isAvailable())return!1;const l=await a._get(n)==="true";return await a._remove(n),l}function c2(s,e){ph.set(s._key(),e)}function u2(s){return ii(s._redirectPersistence)}function h2(s){return gh(r2,s.config.apiKey,s.name)}async function d2(s,e,n=!1){if(An(s.app))return Promise.reject(li(s));const a=mr(s),l=t2(a,e),f=await new l2(a,l,n).execute();return f&&!n&&(delete f.user._redirectEventId,await a._persistUserIfCurrent(f.user),await a._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2=10*60*1e3;class m2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(n=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!g2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var a;if(e.error&&!bb(e)){const l=((a=e.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";n.onError(ws(this.auth,l))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const a=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=f2&&this.cachedEventUids.clear(),this.cachedEventUids.has(u0(e))}saveEventToCache(e){this.cachedEventUids.add(u0(e)),this.lastProcessedEventTime=Date.now()}}function u0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function bb({type:s,error:e}){return s==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function g2(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bb(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p2(s,e={}){return fi(s,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,y2=/^https?/;async function v2(s){if(s.config.emulator)return;const{authorizedDomains:e}=await p2(s);for(const n of e)try{if(x2(n))return}catch{}ts(s,"unauthorized-domain")}function x2(s){const e=ag(),{protocol:n,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const f=new URL(s);return f.hostname===""&&a===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===a}if(!y2.test(n))return!1;if(_2.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2=new Ac(3e4,6e4);function h0(){const s=Ss().___jsl;if(s!=null&&s.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function T2(s){return new Promise((e,n)=>{var a,l,c;function f(){h0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{h0(),n(ws(s,"network-request-failed"))},timeout:E2.get()})}if(!((l=(a=Ss().gapi)===null||a===void 0?void 0:a.iframes)===null||l===void 0)&&l.Iframe)e(gapi.iframes.getContext());else if(!((c=Ss().gapi)===null||c===void 0)&&c.load)f();else{const g=h1("iframefcb");return Ss()[g]=()=>{gapi.load?f():n(ws(s,"network-request-failed"))},lb(`${u1()}?onload=${g}`).catch(p=>n(p))}}).catch(e=>{throw _h=null,e})}let _h=null;function b2(s){return _h=_h||T2(s),_h}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2=new Ac(5e3,15e3),w2="__/auth/iframe",S2="emulator/auth/iframe",N2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},R2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function k2(s){const e=s.config;Te(e.authDomain,s,"auth-domain-config-required");const n=e.emulator?mp(e,S2):`https://${s.config.authDomain}/${w2}`,a={apiKey:e.apiKey,appName:s.name,v:ur},l=R2.get(s.config.apiHost);l&&(a.eid=l);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${n}?${_c(a).slice(1)}`}async function I2(s){const e=await b2(s),n=Ss().gapi;return Te(n,s,"internal-error"),e.open({where:document.body,url:k2(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:N2,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const f=ws(s,"network-request-failed"),g=Ss().setTimeout(()=>{c(f)},A2.get());function p(){Ss().clearTimeout(g),l(a)}a.ping(p).then(p,()=>{c(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},C2=500,D2=600,O2="_blank",M2="http://localhost";class d0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function L2(s,e,n,a=C2,l=D2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),f=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const p=Object.assign(Object.assign({},j2),{width:a.toString(),height:l.toString(),top:c,left:f}),_=nn().toLowerCase();n&&(g=eb(_)?O2:n),ZT(_)&&(e=e||M2,p.scrollbars="yes");const E=Object.entries(p).reduce((w,[D,O])=>`${w}${D}=${O},`,"");if(t1(_)&&g!=="_self")return V2(e||"",g),new d0(null);const b=window.open(e||"",g,E);Te(b,s,"popup-blocked");try{b.focus()}catch{}return new d0(b)}function V2(s,e){const n=document.createElement("a");n.href=s,n.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2="__/auth/handler",U2="emulator/auth/handler",B2=encodeURIComponent("fac");async function f0(s,e,n,a,l,c){Te(s.config.authDomain,s,"auth-domain-config-required"),Te(s.config.apiKey,s,"invalid-api-key");const f={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:a,v:ur,eventId:l};if(e instanceof ub){e.setDefaultLanguage(s.languageCode),f.providerId=e.providerId||"",eN(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,b]of Object.entries({}))f[E]=b}if(e instanceof Sc){const E=e.getScopes().filter(b=>b!=="");E.length>0&&(f.scopes=E.join(","))}s.tenantId&&(f.tid=s.tenantId);const g=f;for(const E of Object.keys(g))g[E]===void 0&&delete g[E];const p=await s._getAppCheckToken(),_=p?`#${B2}=${encodeURIComponent(p)}`:"";return`${H2(s)}?${_c(g).slice(1)}${_}`}function H2({config:s}){return s.emulator?mp(s,U2):`https://${s.authDomain}/${P2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm="webStorageSupport";class z2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_b,this._completeRedirectFn=d2,this._overrideRedirectResult=c2}async _openPopup(e,n,a,l){var c;hi((c=this.eventManagers[e._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const f=await f0(e,n,a,ag(),l);return L2(e,f,vp())}async _openRedirect(e,n,a,l){await this._originValidation(e);const c=await f0(e,n,a,ag(),l);return F1(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:c}=this.eventManagers[n];return l?Promise.resolve(l):(hi(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(e){const n=await I2(e),a=new m2(e);return n.register("authEvent",l=>(Te(l==null?void 0:l.authEvent,e,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=n,a}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Dm,{type:Dm},l=>{var c;const f=(c=l==null?void 0:l[0])===null||c===void 0?void 0:c[Dm];f!==void 0&&n(!!f),ts(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=v2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ab()||JT()||pp()}}const q2=z2;var m0="@firebase/auth",g0="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(a=>{e((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F2(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function G2(s){nr(new ua("auth",(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:f,authDomain:g}=a.options;Te(f&&!f.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:f,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rb(s)},_=new l1(a,l,c,p);return _1(_,n),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,a)=>{e.getProvider("auth-internal").initialize()})),nr(new ua("auth-internal",e=>{const n=mr(e.getProvider("auth").getImmediate());return(a=>new K2(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ts(m0,g0,F2(s)),Ts(m0,g0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2=5*60,Q2=P0("authIdTokenMaxAge")||$2;let p0=null;const Y2=s=>async e=>{const n=e&&await e.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>Q2)return;const l=n==null?void 0:n.token;p0!==l&&(p0=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function X2(s=Eg()){const e=zh(s,"auth");if(e.isInitialized())return e.getImmediate();const n=p1(s,{popupRedirectResolver:q2,persistence:[e2,z1,_b]}),a=P0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const f=Y2(c.toString());V1(n,f,()=>f(n.currentUser)),L1(n,g=>f(g))}}const l=M0("auth");return l&&y1(n,`http://${l}`),n}function W2(){var s,e;return(e=(s=document.getElementsByTagName("head"))===null||s===void 0?void 0:s[0])!==null&&e!==void 0?e:document}o1({loadJS(s){return new Promise((e,n)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=l=>{const c=ws("internal-error");c.customData=l,n(c)},a.type="text/javascript",a.charset="UTF-8",W2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});G2("Browser");const Z2={apiKey:"AIzaSyB0zBdnr_ZBmmokxvgLiHWU52QhnFnoymU",authDomain:"aimchallange-67039.firebaseapp.com",projectId:"aimchallange-67039",storageBucket:"aimchallange-67039.appspot.com",messagingSenderId:"109617578227",appId:"1:109617578227:web:8f09f705f248bbdaf07786",measurementId:"G-42PJQ2LB6T"},fd=z0(Z2),yh=X2(fd),Qt=oj(fd),cr=zT(fd,"gs://aimchallange-67039.appspot.com");zT(fd,"gs://aimchallange-67039.appspot.com");const Ab=P.createContext(),gr=()=>P.useContext(Ab),J2=({children:s})=>{const[e,n]=P.useState(null),[a,l]=P.useState(!1),[c,f]=P.useState(!0);P.useEffect(()=>P1(yh,async b=>{if(b){const w={uid:b.uid,email:b.email,displayName:b.displayName||b.email.split("@")[0],role:"admin"};n(w),l(!0)}else n(null),l(!1);f(!1)}),[]);const _={currentUser:e,isAuthenticated:a,login:async(E,b)=>{try{return await D1(yh,E,b),{success:!0}}catch(w){return console.error("Login error:",w),{success:!1,error:w.message}}},logout:async()=>{try{return await U1(yh),{success:!0}}catch(E){return console.error("Logout error:",E),{success:!1,error:E.message}}}};return u.jsx(Ab.Provider,{value:_,children:!c&&s})},cg=Nn(Qt,"settings","textContent"),eD=async()=>{try{const s=await rd(cg);return s.exists()?s.data():(await Tl(cg,{}),{})}catch(s){return console.error("Error getting text content:",s),{}}},tD=async(s,e)=>{try{const n={};return n[s]=e,await bj(cg,n),!0}catch(n){return console.error("Error updating text content:",n),!1}};Nn(Qt,"settings","backgroundImages");const wb=P.createContext(),Ol=()=>P.useContext(wb),nD=({children:s})=>{const[e,n]=P.useState({}),[a,l]=P.useState(!1),[c,f]=P.useState([]),{currentUser:g,isAuthenticated:p}=gr(),_=(g==null?void 0:g.role)==="admin";P.useEffect(()=>{(async()=>{try{const Q=await eD();n(Q)}catch(Q){console.error("Error fetching text content:",Q);const ee=localStorage.getItem("textContent");if(ee)try{n(JSON.parse(ee))}catch(J){console.error("Error parsing saved content:",J),n({})}}})()},[]),P.useEffect(()=>{l(!!(p&&_))},[p,_]);const H={getText:(G,Q)=>e[G]||Q,updateText:async(G,Q)=>{try{await tD(G,Q);const ee={...e,[G]:Q};n(ee),f(J=>[...J,{content:{...e},timestamp:new Date().toISOString(),changedKey:G}]),localStorage.setItem("textContent",JSON.stringify(ee))}catch(ee){console.error("Error updating text content:",ee);const J={...e,[G]:Q};localStorage.setItem("textContent",JSON.stringify(J)),n(J)}},isEditing:a,toggleEditing:()=>{console.log("Edit mode is always on for admin users")},isAdmin:_,textContent:e,resetAllContent:()=>{f(G=>[...G,{content:{...e},timestamp:new Date().toISOString(),action:"reset-all"}]),n({}),localStorage.removeItem("textContent"),console.log("All content has been reset")},removeContentItem:G=>{f(ee=>[...ee,{content:{...e},timestamp:new Date().toISOString(),changedKey:G,action:"remove"}]);const Q={...e};delete Q[G],n(Q),localStorage.setItem("textContent",JSON.stringify(Q)),console.log(`Content item '${G}' has been removed`)},undoLastChange:()=>{if(c.length>1){const G=[...c];G.pop();const Q=G[G.length-1].content;return n(Q),localStorage.setItem("textContent",JSON.stringify(Q)),f(G),console.log("Last change undone"),!0}return console.log("No changes to undo"),!1},getEditHistory:()=>c,editHistory:c};return u.jsx(wb.Provider,{value:H,children:s})},sD=()=>{const[s,e]=P.useState(!1),[n,a]=P.useState(!1),[l,c]=P.useState(!1),{isAuthenticated:f,currentUser:g,logout:p}=gr(),{isEditing:_,getText:E,updateText:b}=Ol(),w=Nl(),D=()=>{e(!1)},O=()=>{a(!1)},q=()=>{c(!l),e(!1),a(!1)},M=()=>{p(),w("/")};return P.useEffect(()=>{const H=G=>{const Q=document.querySelector(".mobile-menu"),ee=document.querySelector(".hamburger-menu");l&&Q&&!Q.contains(G.target)&&!ee.contains(G.target)&&c(!1)};return document.addEventListener("mousedown",H),()=>{document.removeEventListener("mousedown",H)}},[l]),P.useEffect(()=>{console.log("Navbar auth state:",{isAuthenticated:f,currentUser:g,isAdmin:(g==null?void 0:g.role)==="admin"})},[f,g]),u.jsx("div",{className:"flex flex_col navbar-container",children:u.jsxs("div",{className:"navbar  flex flex_j_SA MaxWH location font_white",children:[u.jsx("div",{className:"navim MaxWH location",children:u.jsx(Ee,{to:"/",children:u.jsx("img",{src:"/images/Aim Blue.svg",alt:"aim challenge logo",className:"custom-image navim"})})}),u.jsxs("div",{className:"hamburger-menu",onClick:q,children:[u.jsx("span",{}),u.jsx("span",{}),u.jsx("span",{})]}),u.jsxs("div",{className:"navbside",children:[u.jsxs("div",{className:"nav-button",children:[u.jsx("a",{href:"#",className:"dropdown-trigger",onClick:H=>{H.preventDefault(),e(!s)},children:"Tävlingar"}),s&&u.jsxs("div",{className:"drop-down",children:[u.jsx(Ee,{to:"/competitions",onClick:D,className:"drop-item",children:"TÄVLINGAR"}),u.jsx("a",{href:"https://raceid.com/sv/campaigns/bcfa3952-92c0-11ef-a892-06546bc3018f",onClick:D,className:"drop-item",children:"ANMÄLAN"}),u.jsx(Ee,{to:"/results",onClick:D,className:"drop-item",children:"RESULTAT"})]})]}),u.jsxs("div",{className:"nav-button",children:[u.jsx("a",{href:"#",className:"dropdown-trigger",onClick:H=>{H.preventDefault(),a(!n)},children:"Om oss"}),n&&u.jsxs("div",{className:"drop-down",children:[u.jsx(Ee,{to:"/om-oss",onClick:O,className:"drop-item",children:"Om oss"}),u.jsx(Ee,{to:"/regler",onClick:O,className:"drop-item",children:"Regler"}),u.jsx(Ee,{to:"/faq",onClick:O,className:"drop-item",children:"FAQ"}),u.jsx(Ee,{to:"/historien-om-aim",onClick:O,className:"drop-item",children:"Historien om AIM"})]})]}),u.jsx("div",{className:"nav-button",children:u.jsx("a",{href:"#sponsors-section",onClick:H=>{H.preventDefault();const G=document.getElementById("sponsors-section");G&&G.scrollIntoView({behavior:"smooth"})},children:"Sponsorer"})}),u.jsx("div",{className:"nav-button",children:u.jsx(Ee,{to:"/senaste-nytt",children:"Senaste nytt"})}),u.jsx("div",{className:"nav-button",children:u.jsx(Ee,{to:"#",children:"Kontakta oss"})}),u.jsx("div",{className:"nav-button",children:u.jsx("a",{href:"#",children:"SV|NO|EN"})}),f&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"nav-button",children:u.jsx(Ee,{to:"/content-manager",children:"Innehåll"})}),u.jsx("div",{className:"nav-button",children:u.jsx("a",{href:"#",onClick:H=>{H.preventDefault(),M()},children:"Logga ut"})})]})]}),l&&u.jsxs("div",{className:"mobile-menu",children:[u.jsxs("div",{className:"mobile-menu-item",children:[u.jsxs("div",{className:"mobile-menu-header",onClick:()=>e(!s),children:["Tävlingar ",s?"▲":"▼"]}),s&&u.jsxs("div",{className:"mobile-submenu",children:[u.jsx(Ee,{to:"/competitions",onClick:q,className:"mobile-submenu-item",children:"TÄVLINGAR"}),u.jsx("a",{href:"https://raceid.com/sv/campaigns/bcfa3952-92c0-11ef-a892-06546bc3018f",onClick:q,className:"mobile-submenu-item",children:"ANMÄLAN"}),u.jsx(Ee,{to:"/results",onClick:q,className:"mobile-submenu-item",children:"RESULTAT"})]})]}),u.jsxs("div",{className:"mobile-menu-item",children:[u.jsxs("div",{className:"mobile-menu-header",onClick:()=>a(!n),children:["Om oss ",n?"▲":"▼"]}),n&&u.jsxs("div",{className:"mobile-submenu",children:[u.jsx(Ee,{to:"/om-oss",onClick:q,className:"mobile-submenu-item",children:"Om oss"}),u.jsx(Ee,{to:"/regler",onClick:q,className:"mobile-submenu-item",children:"Regler"}),u.jsx(Ee,{to:"/faq",onClick:q,className:"mobile-submenu-item",children:"FAQ"}),u.jsx(Ee,{to:"/historien-om-aim",onClick:q,className:"mobile-submenu-item",children:"Historien om AIM"})]})]}),u.jsx("div",{className:"mobile-menu-item",children:u.jsx("a",{href:"#sponsors-section",onClick:H=>{H.preventDefault();const G=document.getElementById("sponsors-section");G&&G.scrollIntoView({behavior:"smooth"}),q()},className:"mobile-menu-link",children:"Sponsorer"})}),u.jsx("div",{className:"mobile-menu-item",children:u.jsx(Ee,{to:"/senaste-nytt",onClick:q,className:"mobile-menu-link",children:"Senaste nytt"})}),u.jsx("div",{className:"mobile-menu-item",children:u.jsx(Ee,{to:"#",onClick:q,className:"mobile-menu-link",children:"Kontakta oss"})}),u.jsx("div",{className:"mobile-menu-item",children:u.jsx("a",{href:"#",className:"mobile-menu-link",children:"SV|NO|EN"})}),f&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"mobile-menu-item",children:u.jsx(Ee,{to:"/content-manager",onClick:q,className:"mobile-menu-link",children:"Innehåll"})}),u.jsx("div",{className:"mobile-menu-item",children:u.jsx("a",{href:"#",onClick:H=>{H.preventDefault(),M(),q()},className:"mobile-menu-link",children:"Logga ut"})})]})]})]})})},iD=()=>u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"footer-wrapper",children:u.jsx("div",{className:"container",children:u.jsx("div",{className:"footer-grid",children:u.jsxs("div",{className:"grid-item sponsors",children:[u.jsx("h1",{className:"footer-heading",id:"sponsors-section",children:"Sponsorer & Partners"}),u.jsxs("div",{className:"sponsors-grid",children:[u.jsx("div",{className:"sponsor-item",children:u.jsx("img",{src:"/images/Artboard 1@4x.png",alt:"Artboard",className:"sponsor-logo"})}),u.jsx("div",{className:"sponsor-item",children:u.jsx("img",{src:"/images/Camelbak_vit.svg",alt:"Camelbak",className:"sponsor-logo"})}),u.jsx("div",{className:"sponsor-item",children:u.jsx("img",{src:"/images/Hedghog_vit.svg",alt:"Hedghog",className:"sponsor-logo"})}),u.jsx("div",{className:"sponsor-item",children:u.jsx("img",{src:"/images/Kona_vit.png",alt:"Kona",className:"sponsor-logo"})}),u.jsx("div",{className:"sponsor-item",children:u.jsx("img",{src:"/images/Mareld_svart.svg",alt:"Mareld",className:"sponsor-logo"})}),u.jsx("div",{className:"sponsor-item",children:u.jsx("img",{src:"/images/ODD_white_RGB.png",alt:"ODD",className:"sponsor-logo"})}),u.jsx("div",{className:"sponsor-item",children:u.jsx("img",{src:"/images/Oofos.png",alt:"Oofos",className:"sponsor-logo"})}),u.jsx("div",{className:"sponsor-item",children:u.jsx("img",{src:"/images/Ortovox_svart.svg",alt:"Ortovox",className:"sponsor-logo"})}),u.jsx("div",{className:"sponsor-item",children:u.jsx("img",{src:"/images/UD Logo.png",alt:"UD",className:"sponsor-logo"})}),u.jsx("div",{className:"sponsor-item",children:u.jsx("img",{src:"/images/Upplev.png",alt:"Upplev Norrköping",className:"sponsor-logo"})}),u.jsx("div",{className:"sponsor-item",children:u.jsx("img",{src:"/images/holdut_logo_sort_1.png",alt:"Hold ut",className:"sponsor-logo"})}),u.jsx("div",{className:"sponsor-item",children:u.jsx("img",{src:"/images/h%C3%A4llmark logga sv_v.svg",alt:"Hällmark",className:"sponsor-logo"})}),u.jsx("div",{className:"sponsor-item",children:u.jsx("img",{src:"/images/injinji_black.svg",alt:"Injinji",className:"sponsor-logo"})})]})]})})})}),u.jsx("footer",{className:"footer-section",children:u.jsxs("div",{className:"footer-container",children:[u.jsxs("div",{className:"footer-top",children:[u.jsxs("div",{className:"footer-left",children:[u.jsx("div",{className:"footer-logo",children:u.jsx("img",{src:"/images/Aim_Challenge_logo_white.svg",alt:"AIM Challenge"})}),u.jsxs("div",{className:"footer-info",children:[u.jsx("p",{children:"Loftsdalian 108, 30129 Halmstad"}),u.jsx("p",{children:u.jsx("a",{href:"mailto:info@aimchallenge.com",children:"info@aimchallenge.com"})}),u.jsx("p",{children:"+46 (0) 73-81 87 54"})]}),u.jsxs("div",{className:"footer-social",children:[u.jsx("a",{href:"#",className:"social-icon",children:u.jsx("i",{className:"fa fa-instagram"})}),u.jsx("a",{href:"#",className:"social-icon",children:u.jsx("i",{className:"fa fa-facebook"})}),u.jsx("a",{href:"#",className:"social-icon",children:u.jsx("i",{className:"fa fa-twitter"})})]})]}),u.jsxs("div",{className:"footer-columns",children:[u.jsxs("div",{className:"footer-column footer-column-center",children:[u.jsx("h3",{className:"footer-title",children:"INFORMATION"}),u.jsxs("ul",{className:"footer-links",children:[u.jsx("li",{children:u.jsx("a",{href:"#",children:"Anmälningsvillkor"})}),u.jsx("li",{children:u.jsx("a",{href:"#",children:"Integritetspolicy"})}),u.jsx("li",{children:u.jsx("a",{href:"#",children:"FAQ"})})]})]}),u.jsxs("div",{className:"footer-column footer-column-right",children:[u.jsx("h3",{className:"footer-title",children:"NYHETSBREV"}),u.jsx("p",{className:"footer-newsletter-text",children:"Åtext om nyhetsbrev, samt en optin ruta för att fylla i sin epostadress. Integration mot mailchimp."})]})]})]}),u.jsx("div",{className:"footer-copyright-wrapper",children:u.jsx("div",{className:"footer-copyright",children:u.jsx("p",{children:"© 2023 Copyright AIM Challenge."})})})]})})]}),z=({textKey:s,defaultText:e,tag:n="p",className:a="",style:l={},placeholder:c="Skriv text här...",onClick:f})=>{const{getText:g,updateText:p,isAdmin:_}=Ol(),[E,b]=P.useState(!1),[w,D]=P.useState(""),[O,q]=P.useState(!1),[M,H]=P.useState(""),[G,Q]=P.useState(""),ee=P.useRef(null),J=P.useRef(null),re=P.useRef(null),V=["span","a","em","strong","i","b","code","small"].includes(n);P.useEffect(()=>{const C=g(s);D(C||e)},[s,e,g]),P.useEffect(()=>{const C=ie=>{ie.key==="Escape"&&E&&k()};return document.addEventListener("keydown",C),()=>{document.removeEventListener("keydown",C)}},[E]);const N=C=>{C&&(C.preventDefault(),C.stopPropagation()),b(!0)},S=()=>{p(s,w),b(!1),q(!1)},k=()=>{const C=g(s);D(C||e),b(!1),q(!1)},R=C=>{D(C.target.value)},L=()=>{q(!O),Q(""),H("")},I=()=>{if(G&&M){let C=M;!C.startsWith("http://")&&!C.startsWith("https://")&&(C="https://"+C);const ie=`<a href="${C}" target="_blank" rel="noopener noreferrer">${G}</a>`,me=ee.current,ue=me.selectionStart,he=w.substring(0,ue),Ie=w.substring(me.selectionEnd);D(he+ie+Ie),Q(""),H(""),setTimeout(()=>{me.focus();const Se=ue+ie.length;me.setSelectionRange(Se,Se)},0)}},Ce=C=>{Q(C.target.value)},Ae=C=>{H(C.target.value)},le=C=>{C.key==="Enter"&&C.ctrlKey?(C.preventDefault(),S()):C.key==="Escape"&&(C.preventDefault(),k())},ye=()=>E?CS.createPortal(u.jsx("div",{className:"edit-modal",children:u.jsxs("div",{className:"edit-modal__content",children:[u.jsx("textarea",{ref:ee,value:w,onChange:R,onKeyDown:le,placeholder:c,className:"edit-modal__textarea"}),u.jsx("button",{type:"button",onClick:L,className:"modal-action-button modal-action-button--secondary",children:O?"Dölj länkverktyg":"Lägg till länk"}),O&&u.jsxs("div",{className:"edit-modal__link-tools",children:[u.jsxs("div",{className:"edit-modal__form-group",children:[u.jsx("label",{htmlFor:"linkText",className:"edit-modal__label",children:"Länktext:"}),u.jsx("input",{ref:J,type:"text",id:"linkText",value:G,onChange:Ce,className:"edit-modal__input",placeholder:"Text som ska visas"})]}),u.jsxs("div",{className:"edit-modal__form-group",children:[u.jsx("label",{htmlFor:"linkUrl",className:"edit-modal__label",children:"URL:"}),u.jsx("input",{ref:re,type:"text",id:"linkUrl",value:M,onChange:Ae,className:"edit-modal__input",placeholder:"https://example.com"})]}),u.jsx("button",{type:"button",onClick:I,disabled:!G||!M,className:"modal-action-button modal-action-button--primary",children:"Infoga länk"})]}),u.jsxs("div",{className:"edit-modal__actions",children:[u.jsx("button",{type:"button",onClick:k,className:"modal-action-button modal-action-button--secondary",children:"Avbryt"}),u.jsx("button",{type:"button",onClick:S,className:"modal-action-button modal-action-button--primary",children:"Spara"})]})]})}),document.body):null,ce=()=>{const C=n,ie={className:`editable-text ${a}`,style:l,dangerouslySetInnerHTML:{__html:w||c},onClick:f};return u.jsx(C,{...ie})},ke=V?"span":"div";return u.jsxs(u.Fragment,{children:[u.jsxs(ke,{className:"editable-text-wrapper",children:[ce(),_&&u.jsx("button",{type:"button",onClick:N,className:"edit-button edit-button-primary",title:"Redigera text",children:"Redigera"})]}),ye()]})},aD=()=>u.jsxs("div",{className:"flex flex_col MaxWH location",children:[u.jsx("section",{id:"page_01",className:"page_01 dynamic-background ",children:u.jsx("div",{className:" page_01box flex flex_col flex_j_SA MaxWH",children:u.jsx(z,{textKey:"main-multisport-sedan",defaultText:"MUTLISPORT SEDAN 2004",tag:"p",className:"font_white fonts_large"})})}),u.jsxs("section",{id:"page_02",className:"page_02 flex flex_j_E MaxWH location",children:[u.jsx("h2",{className:"page_02-title",children:"ÅRETS TÄVLINGAR"}),u.jsxs("div",{className:"page_02box  flex flex_col MaxWH location",children:[u.jsx("div",{className:"page_02-image",style:{backgroundImage:"url('images/EE-AIMChallenge24-Uhamn-0171-high.jpg')"}}),u.jsx("div",{className:"page_02-content",children:u.jsxs("div",{className:"page_02-header",children:[u.jsx(z,{textKey:"main-ulricehamn-title",defaultText:"ULRICEHAMN 10/5",tag:"p",className:"font_white fonts_medium_B"}),u.jsx(z,{textKey:"ulricehamn-date",defaultText:"datum insert",tag:"p",className:"font_white fonts_medium"})]})}),u.jsx("div",{className:"page_02-button",children:u.jsx(Ee,{to:"/ulricehamn",className:"location button-2",children:u.jsx("span",{children:"Läs mer"})})})]}),u.jsxs("div",{className:"page_02box  flex flex_col MaxWH location",children:[u.jsx("div",{className:"page_02-image",style:{backgroundImage:"url('/images/AIM_lindvallen_2024_AnkiGrothe_highres_155.jpg')"}}),u.jsx("div",{className:"page_02-content",children:u.jsxs("div",{className:"page_02-header",children:[u.jsx(z,{textKey:"main-salen-title",defaultText:"SÄLEN 10/5",tag:"p",className:"font_white fonts_medium_B"}),u.jsx(z,{textKey:"salen-date",defaultText:"datum insert",tag:"p",className:"font_white fonts_medium"})]})}),u.jsx("div",{className:"page_02-button",children:u.jsx(Ee,{to:"/salen",className:"location button-2",children:u.jsx("span",{children:"Läs mer"})})})]}),u.jsxs("div",{className:"page_02box flex flex_col MaxWH location",children:[u.jsx("div",{className:"page_02-image",style:{backgroundImage:"url('/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg')"}}),u.jsx("div",{className:"page_02-content",children:u.jsxs("div",{className:"page_02-header",children:[u.jsx(z,{textKey:"main-hemsedal-title",defaultText:"HEMSEDAL 10/5",tag:"p",className:"font_white fonts_medium_B"}),u.jsx(z,{textKey:"hemsedal-date",defaultText:"datum insert",tag:"p",className:"font_white fonts_medium"})]})}),u.jsx("div",{className:"page_02-button",children:u.jsx(Ee,{to:"/hemsedal",className:"location button-2",children:u.jsx("span",{children:"Läs mer"})})})]}),u.jsxs("div",{className:"page_02box  flex flex_col MaxWH location",children:[u.jsx("div",{className:"page_02-image",style:{backgroundImage:"url('/images/AIM_lindvallen_2024_AnkiGrothe_highres_125.jpg')"}}),u.jsx("div",{className:"page_02-content",children:u.jsxs("div",{className:"page_02-header",children:[u.jsx(z,{textKey:"main-kolmarden-title",defaultText:"KOLMÅRDEN 10/5",tag:"p",className:"font_white fonts_medium_B"}),u.jsx(z,{textKey:"kolmarden-date",defaultText:"datum insert",tag:"p",className:"font_white fonts_medium"})]})}),u.jsx("div",{className:"page_02-button",children:u.jsx(Ee,{to:"/kolmarden",className:"location button-2",children:u.jsx("span",{children:"Läs mer"})})})]})]}),u.jsx("section",{id:"page_03",className:"page_03 flex MaxWH",children:u.jsxs("div",{className:"page_03-content flex",children:[u.jsxs("div",{className:"page_03-text",children:[u.jsx("h2",{className:"page_03-title",children:"OM AIM CHALLENGE"}),u.jsx(z,{textKey:"aim-challenge-desc-1",defaultText:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",tag:"p",className:"font_white"}),u.jsx(z,{textKey:"aim-challenge-desc-2",defaultText:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",tag:"p",className:"font_white"}),u.jsx("div",{className:"page_03-button",children:u.jsx(Ee,{to:"/about",className:"button-2",children:u.jsx("span",{children:"LÄS MER"})})})]}),u.jsx("div",{className:"page_03-image",children:u.jsx("img",{src:"/images/AIM_lindvallen_2024_AnkiGrothe_highres_155.jpg",alt:"AIM Challenge"})})]})}),u.jsx("section",{id:"ad-section",className:"ad-section",children:u.jsx("div",{className:"ad-container",children:u.jsx("div",{className:"ad-content",children:u.jsx("p",{children:"ANNONS"})})})}),u.jsxs("section",{id:"latest-news",className:"latest-news-section",children:[u.jsx("h2",{className:"latest-news-title",children:"SENASTE NYTT"}),u.jsxs("div",{className:"latest-news-container",children:[u.jsxs("div",{className:"news-card",children:[u.jsx("div",{className:"news-image",children:u.jsx("img",{src:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg",alt:"News"})}),u.jsxs("div",{className:"news-content",children:[u.jsx("h3",{className:"news-location",children:"ULRICEHAMN 10/5"}),u.jsx("p",{className:"news-description",children:"Brödtext om tävlingen, 2 korta meningar"}),u.jsx("div",{className:"news-button",children:u.jsx(Ee,{to:"/news/1",className:"button-2",children:u.jsx("span",{children:"LÄS MER"})})})]})]}),u.jsxs("div",{className:"news-card",children:[u.jsx("div",{className:"news-image",children:u.jsx("img",{src:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg",alt:"News"})}),u.jsxs("div",{className:"news-content",children:[u.jsx("h3",{className:"news-location",children:"ULRICEHAMN 10/5"}),u.jsx("p",{className:"news-description",children:"Brödtext om tävlingen, 2 korta meningar"}),u.jsx("div",{className:"news-button",children:u.jsx(Ee,{to:"/news/2",className:"button-2",children:u.jsx("span",{children:"LÄS MER"})})})]})]}),u.jsxs("div",{className:"news-card",children:[u.jsx("div",{className:"news-image",children:u.jsx("img",{src:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg",alt:"News"})}),u.jsxs("div",{className:"news-content",children:[u.jsx("h3",{className:"news-location",children:"ULRICEHAMN 10/5"}),u.jsx("p",{className:"news-description",children:"Brödtext om tävlingen, 2 korta meningar"}),u.jsx("div",{className:"news-button",children:u.jsx(Ee,{to:"/news/3",className:"button-2",children:u.jsx("span",{children:"LÄS MER"})})})]})]})]})]})]}),rD=()=>u.jsxs("div",{className:"competitions-container flex flex_col MaxWH location",children:[u.jsx("div",{className:"competitions-spacer"}),u.jsxs("div",{className:"competitions-grid",children:[u.jsxs("div",{className:"competitions-card competitions-card-ulricehamn flex flex_col flex_j_SB location simple-background",children:[u.jsxs("div",{className:"trans-background competitions-header flex flex_col flex_j_C flex_a_C flex_text_C MaxWH",children:[u.jsx(z,{textKey:"competitions-ulricehamn-title",defaultText:"ULRICEHAMN",tag:"p",className:"font_blue fonts_medium_B competitions-title text-center",style:{textAlign:"center"}}),u.jsx(z,{textKey:"ulricehamn-date",defaultText:"datum insert",tag:"p",className:"font_blue fonts_medium competitions-date text-center",style:{textAlign:"center"}})]}),u.jsx("div",{className:"competitions-button-container flex flex_col flex_j_SA flex_a_C MaxWH Button",children:u.jsx(Ee,{to:"/ulricehamn",className:"location button-2 competitions-button",children:u.jsx("span",{children:"Läs mer"})})})]}),u.jsxs("div",{className:"competitions-card competitions-card-salen flex flex_col flex_j_SB location simple-background",children:[u.jsxs("div",{className:"trans-background competitions-header flex flex_col flex_j_C flex_a_C flex_text_C MaxWH",children:[u.jsx(z,{textKey:"competitions-salen-title",defaultText:"SÄLEN",tag:"p",className:"font_blue fonts_medium_B competitions-title text-center",style:{textAlign:"center"}}),u.jsx(z,{textKey:"salen-date",defaultText:"datum insert",tag:"p",className:"font_blue fonts_medium competitions-date text-center",style:{textAlign:"center"}})]}),u.jsx("div",{className:"competitions-button-container flex flex_col flex_j_SA flex_a_C MaxWH Button",children:u.jsx(Ee,{to:"/salen",className:"location button-2 competitions-button",children:u.jsx("span",{children:"Läs mer"})})})]})]}),u.jsxs("div",{className:"competitions-grid",children:[u.jsxs("div",{className:"competitions-card competitions-card-hemsedal flex flex_col flex_j_SB location simple-background",children:[u.jsxs("div",{className:"trans-background competitions-header flex flex_col flex_j_C flex_a_C flex_text_C MaxWH",children:[u.jsx(z,{textKey:"competitions-hemsedal-title",defaultText:"HEMSEDAL",tag:"p",className:"font_blue fonts_medium_B competitions-title text-center",style:{textAlign:"center"}}),u.jsx(z,{textKey:"hemsedal-date",defaultText:"datum insert",tag:"p",className:"font_blue fonts_medium competitions-date text-center",style:{textAlign:"center"}})]}),u.jsx("div",{className:"competitions-button-container flex flex_col flex_j_SA flex_a_C MaxWH Button",children:u.jsx(Ee,{to:"/hemsedal",className:"location button-2 competitions-button",children:u.jsx("span",{children:"Läs mer"})})})]}),u.jsxs("div",{className:"competitions-card competitions-card-kolmarden flex flex_col flex_j_SB location simple-background",children:[u.jsxs("div",{className:"trans-background competitions-header flex flex_col flex_j_C flex_a_C flex_text_C MaxWH",children:[u.jsx(z,{textKey:"competitions-kolmarden-title",defaultText:"KOLMÅRDEN",tag:"p",className:"font_blue fonts_medium_B competitions-title text-center",style:{textAlign:"center"}}),u.jsx(z,{textKey:"kolmarden-date",defaultText:"datum insert",tag:"p",className:"font_blue fonts_medium competitions-date text-center",style:{textAlign:"center"}})]}),u.jsx("div",{className:"competitions-button-container flex flex_col flex_j_SA flex_a_C MaxWH Button",children:u.jsx(Ee,{to:"/kolmarden",className:"location button-2 competitions-button",children:u.jsx("span",{children:"Läs mer"})})})]})]}),u.jsx("div",{className:"competitions-grid",children:u.jsxs("div",{className:"competitions-card competitions-card-trippeln flex flex_col flex_j_SB location simple-background",style:{gridColumn:"span 2"},children:[u.jsxs("div",{className:"trans-background competitions-header flex flex_col flex_j_C flex_a_C flex_text_C MaxWH",children:[u.jsx(z,{textKey:"competitions-trippeln-title",defaultText:"AIM CHALLENGE TRIPPELN",tag:"p",className:"font_blue fonts_medium_B competitions-title text-center",style:{textAlign:"center"}}),u.jsx(z,{textKey:"trippeln-description",defaultText:"Tävla i alla tre deltävlingar och bli en del av AIM Challenge Trippeln",tag:"p",className:"font_blue fonts_medium competitions-date text-center",style:{textAlign:"center"}})]}),u.jsx("div",{className:"competitions-button-container flex flex_col flex_j_SA flex_a_C MaxWH Button",children:u.jsx(Ee,{to:"/trippeln",className:"location button-2 competitions-button",children:u.jsx("span",{children:"Läs mer"})})})]})})]}),lD=()=>u.jsxs("div",{className:"ulricehamn-container",children:[u.jsx("section",{className:"ulricehamn-hero-section",children:u.jsx("div",{className:"hero-content",children:u.jsx("div",{className:"hero-image-container",children:u.jsx("img",{src:"/images/EE-AIMChallenge24-Uhamn-0171-high.jpg",alt:"Ulricehamn Event"})})})}),u.jsx("section",{className:"ulricehamn-title-section",children:u.jsxs("div",{className:"title-container",children:[u.jsx(z,{textKey:"ulricehamn-title",defaultText:"ULRICEHAMN",tag:"h1",className:"location-title"}),u.jsx(z,{textKey:"ulricehamn-date",defaultText:"10 MAJ 2025",tag:"h2",className:"location-date"})]})}),u.jsx("section",{className:"ulricehamn-button-section",children:u.jsx("div",{className:"button-container",children:u.jsx("a",{href:"https://raceid.com/sv/races/12846/about",target:"_blank",rel:"noopener noreferrer",className:"anmalan-button",children:u.jsx("p",{children:"TA MIG TILL ANMÄLAN"})})})}),u.jsx("section",{className:"ulricehamn-program-section",children:u.jsx("div",{className:"program-container",children:u.jsxs("div",{className:"program-cards",children:[u.jsx("div",{className:"program-card image-card",children:u.jsx("img",{src:"/images/EE-AIMChallenge24-Uhamn-0171-high.jpg",alt:"Ulricehamn Event"})}),u.jsxs("div",{className:"program-card info-card",children:[u.jsx(z,{textKey:"ulricehamn-program-title",defaultText:"PROGRAM",tag:"h2",className:"program-title"}),u.jsxs("div",{className:"program-schedule",children:[u.jsxs("div",{className:"program-day",children:[u.jsx(z,{textKey:"ulricehamn-friday-title",defaultText:"Fredag 9/5",tag:"h3",className:"day-title"}),u.jsx(z,{textKey:"ulricehamn-friday-schedule",defaultText:"17:00 - 19:00 Nummerlappsutdelning på XCC",tag:"p",className:"schedule-item"})]}),u.jsxs("div",{className:"program-day",children:[u.jsx(z,{textKey:"ulricehamn-saturday-title",defaultText:"Lördag 10/5",tag:"h3",className:"day-title"}),u.jsx(z,{textKey:"ulricehamn-saturday-schedule1",defaultText:"08:30 - 10:15 Registrering för alla tävlande som ej registrerat sig under fredagen på 157 XCC, på Lassalyckan.",tag:"p",className:"schedule-item"}),u.jsx(z,{textKey:"ulricehamn-saturday-schedule2",defaultText:"10:30 Obligatoriskt informationsmöte vid starten på Lassalyckan stadion.",tag:"p",className:"schedule-item"}),u.jsx(z,{textKey:"ulricehamn-saturday-schedule3",defaultText:"11:00 Start AIM Challenge, på Lassalyckan stadion. Gemensam start för 3 & 6-timmars tävlingen.",tag:"p",className:"schedule-item"}),u.jsx(z,{textKey:"ulricehamn-saturday-schedule4",defaultText:"14:00 Målgång för 3-timmars tävlingen.",tag:"p",className:"schedule-item"}),u.jsx(z,{textKey:"ulricehamn-saturday-schedule5",defaultText:"ca 15:30 Prisutdelning 3-timmars tävlingen",tag:"p",className:"schedule-item"}),u.jsx(z,{textKey:"ulricehamn-saturday-schedule6",defaultText:"16:30 - 20:00 After AIM med mat och dryck på Hotell Lassalyckan.",tag:"p",className:"schedule-item"}),u.jsx(z,{textKey:"ulricehamn-saturday-schedule7",defaultText:"17:00 Målgång för 6-timmars tävlingen.",tag:"p",className:"schedule-item"}),u.jsx(z,{textKey:"ulricehamn-saturday-schedule8",defaultText:"19:00 Prisutdelning utanför Hotell Lassalyckan.",tag:"p",className:"schedule-item"})]})]})]})]})})}),u.jsx("section",{className:"ulricehamn-price-section",children:u.jsx("div",{className:"price-container",children:u.jsxs("div",{className:"price-image-container",children:[u.jsx("img",{src:"/images/EE-AIMChallenge24-Uhamn-0171-high.jpg",alt:"Climbing in Ulricehamn",className:"price-background-image"}),u.jsx("div",{className:"price-overlay",children:u.jsxs("div",{className:"price-content",children:[u.jsx(z,{textKey:"ulricehamn-price-title",defaultText:"PRIS",tag:"h2",className:"section-title"}),u.jsx(z,{textKey:"ulricehamn-price-subtitle",defaultText:"ULRICEHAMN 10/5-2025",tag:"h3",className:"price-subtitle"}),u.jsxs("div",{className:"price-categories",children:[u.jsxs("div",{className:"price-category",children:[u.jsx(z,{textKey:"ulricehamn-price-3h-title",defaultText:"3-TIMMARS",tag:"h4",className:"category-title"}),u.jsx(z,{textKey:"ulricehamn-price-3h-1",defaultText:"1500 SEK / lag för Early Bird-anmälan innan 1 november.",tag:"p",className:"price-item"}),u.jsx(z,{textKey:"ulricehamn-price-3h-2",defaultText:"1700 SEK / lag för anmälan mellan 1 november och 1 februari.",tag:"p",className:"price-item"}),u.jsx(z,{textKey:"ulricehamn-price-3h-3",defaultText:"1900 SEK / lag för anmälan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(z,{textKey:"ulricehamn-price-3h-4",defaultText:"2100 SEK / lag för anmälan från 25 april och fram till start.",tag:"p",className:"price-item"})]}),u.jsxs("div",{className:"price-category",children:[u.jsx(z,{textKey:"ulricehamn-price-6h-title",defaultText:"6-TIMMARS",tag:"h4",className:"category-title"}),u.jsx(z,{textKey:"ulricehamn-price-6h-1",defaultText:"1900 SEK / lag för Early Bird-anmälan innan 1 november.",tag:"p",className:"price-item"}),u.jsx(z,{textKey:"ulricehamn-price-6h-2",defaultText:"2100 SEK / lag för anmälan mellan 1 november och 1 februari.",tag:"p",className:"price-item"}),u.jsx(z,{textKey:"ulricehamn-price-6h-3",defaultText:"2300 SEK / lag för anmälan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(z,{textKey:"ulricehamn-price-6h-4",defaultText:"2500 SEK / lag för anmälan från 25 april och fram till start.",tag:"p",className:"price-item"})]})]}),u.jsxs("div",{className:"price-category trippeln-category",children:[u.jsx(z,{textKey:"ulricehamn-price-trippeln-title",defaultText:"AIM CHALLENGE TRIPPELN 2025",tag:"h4",className:"category-title"}),u.jsx(z,{textKey:"ulricehamn-price-trippeln-1",defaultText:"4750 SEK / lag för Early Bird-anmälan innan 1 januari.",tag:"p",className:"price-item"}),u.jsx(z,{textKey:"ulricehamn-price-trippeln-2",defaultText:"5250 SEK / lag för anmälan mellan 1 januari och 1 februari.",tag:"p",className:"price-item"}),u.jsx(z,{textKey:"ulricehamn-price-trippeln-3",defaultText:"5750 SEK / lag för anmälan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(z,{textKey:"ulricehamn-price-trippeln-4",defaultText:"6250 SEK / lag för anmälan efter den 25 april.",tag:"p",className:"price-item"})]}),u.jsx("div",{className:"price-button-container",children:u.jsx("a",{href:"https://raceid.com/sv/races/12846/about",target:"_blank",rel:"noopener noreferrer",className:"price-anmalan-button",children:u.jsx("p",{children:"TA MIG TILL ANMÄLAN"})})})]})})]})})}),u.jsxs("section",{id:"latest-news",className:"latest-news-section",children:[u.jsx("h2",{className:"latest-news-title",children:"SENASTE NYTT ULRICEHAMN"}),u.jsxs("div",{className:"latest-news-container",children:[u.jsxs("div",{className:"news-card",children:[u.jsx("div",{className:"news-image",children:u.jsx("img",{src:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg",alt:"News"})}),u.jsxs("div",{className:"news-content",children:[u.jsx("h3",{className:"news-location",children:"NYHETSARTIKEL 1"}),u.jsx("p",{className:"news-description",children:"Brödtext om tävlingen, 2 korta em-ningar"}),u.jsx("div",{className:"news-button",children:u.jsx(Ee,{to:"/news/1",className:"button-2",children:u.jsx("span",{children:"LÄS MER"})})})]})]}),u.jsxs("div",{className:"news-card",children:[u.jsx("div",{className:"news-image",children:u.jsx("img",{src:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg",alt:"News"})}),u.jsxs("div",{className:"news-content",children:[u.jsx("h3",{className:"news-location",children:"NYHETSARTIKEL 2"}),u.jsx("p",{className:"news-description",children:"Brödtext om tävlingen, 2 korta em-ningar"}),u.jsx("div",{className:"news-button",children:u.jsx(Ee,{to:"/news/2",className:"button-2",children:u.jsx("span",{children:"LÄS MER"})})})]})]}),u.jsxs("div",{className:"news-card",children:[u.jsx("div",{className:"news-image",children:u.jsx("img",{src:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg",alt:"News"})}),u.jsxs("div",{className:"news-content",children:[u.jsx("h3",{className:"news-location",children:"NYHETSARTIKEL 3"}),u.jsx("p",{className:"news-description",children:"Brödtext om tävlingen, 2 korta em-ningar"}),u.jsx("div",{className:"news-button",children:u.jsx(Ee,{to:"/news/3",className:"button-2",children:u.jsx("span",{children:"LÄS MER"})})})]})]})]})]}),u.jsx("section",{className:"useful-links-section",children:u.jsxs("div",{className:"useful-links-container",children:[u.jsx("h2",{className:"useful-links-title",children:"NYTTIGA LÄNKAR"}),u.jsxs("div",{className:"links-category",children:[u.jsx("h3",{className:"links-category-title",children:"Cykeluthyrning"}),u.jsxs("p",{className:"links-text",children:["Cykeluthyrning med in- och utlämning på Lassalyckan Stadion."," ",u.jsx("a",{href:"#",className:"links-link",children:"Läs mer och boka här."})]})]}),u.jsxs("div",{className:"links-category",children:[u.jsx("h3",{className:"links-category-title",children:"Boende"}),u.jsx("p",{className:"links-text",children:"Önskar du att bo nära start och mål så kan vi varmt rekommendera Hotell Lassalyckan som erbjuder ett modernt boende ett stenkast ifrån starten."}),u.jsx("a",{href:"https://www.hotell-lassalyckan.se",className:"links-link",target:"_blank",rel:"noopener noreferrer",children:"https://www.hotell-lassalyckan.se"})]}),u.jsxs("div",{className:"links-category",children:[u.jsx("h3",{className:"links-category-title",children:"Mat"}),u.jsx("p",{className:"links-text",children:"Önskar du att bo nära start och mål så kan vi varmt rekommendera Hotell Lassalyckan som erbjuder ett modernt boende ett stenkast ifrån starten."})]})]})}),u.jsxs("section",{className:"sponsors-section",children:[u.jsx("h2",{className:"sponsors-title",children:"LOKALA SPONSORER"}),u.jsxs("div",{className:"sponsors-container",children:[u.jsx("div",{className:"s-sponsor-logo side-logo",children:u.jsx("img",{src:"images/UD Logo.png",alt:"UD Logo"})}),u.jsx("div",{className:"s-sponsor-logo main-logo",children:u.jsx("img",{src:"images/Aim_Challenge_logo_white.svg",alt:"AIM Challenge"})}),u.jsx("div",{className:"s-sponsor-logo side-logo",children:u.jsx("img",{src:"images/holdut_logo_sort_1.png",alt:"Holdut Logo"})})]})]})]}),oD=()=>u.jsxs("div",{className:"salen-container",children:[u.jsx("section",{className:"salen-hero-section",children:u.jsx("div",{className:"hero-content",children:u.jsx("div",{className:"hero-image-container",children:u.jsx("img",{src:"/images/salen-hero.jpg",alt:"Sälen Event"})})})}),u.jsx("section",{className:"salen-title-section",children:u.jsxs("div",{className:"title-container",children:[u.jsx(z,{textKey:"salen-title",defaultText:"SÄLEN",tag:"h1",className:"location-title"}),u.jsx(z,{textKey:"salen-date",defaultText:"1 AUGUSTI 2025",tag:"h2",className:"location-date"})]})}),u.jsx("section",{className:"salen-program-section",children:u.jsx("div",{className:"program-container",children:u.jsxs("div",{className:"program-cards",children:[u.jsx("div",{className:"program-card image-card",children:u.jsx("img",{src:"/images/EE-AIMChallenge24-Uhamn-0171-high.jpg",alt:"Sälen Event"})}),u.jsxs("div",{className:"program-card info-card",children:[u.jsx(z,{textKey:"salen-program-title",defaultText:"PROGRAM",tag:"h2",className:"program-title"}),u.jsxs("div",{className:"program-schedule",children:[u.jsxs("div",{className:"program-day",children:[u.jsx(z,{textKey:"salen-friday-title",defaultText:"Fredag 9/5",tag:"h3",className:"day-title"}),u.jsx(z,{textKey:"salen-friday-schedule",defaultText:"17:00 - 19:00 Nummerlappsutdelning på XCC",tag:"p",className:"schedule-item"})]}),u.jsxs("div",{className:"program-day",children:[u.jsx(z,{textKey:"salen-saturday-title",defaultText:"Lördag 10/5",tag:"h3",className:"day-title"}),u.jsx(z,{textKey:"salen-saturday-schedule1",defaultText:"08:30 - 10:15 Registrering för alla tävlande som ej registrerat sig under fredagen på 157 XCC, på Lassalyckan.",tag:"p",className:"schedule-item"}),u.jsx(z,{textKey:"salen-saturday-schedule2",defaultText:"10:30 Obligatoriskt informationsmöte vid starten på Lassalyckan stadion.",tag:"p",className:"schedule-item"}),u.jsx(z,{textKey:"salen-saturday-schedule3",defaultText:"11:00 Start AIM Challenge, på Lassalyckan stadion. Gemensam start för 3 & 6-timmars tävlingen.",tag:"p",className:"schedule-item"}),u.jsx(z,{textKey:"salen-saturday-schedule4",defaultText:"14:00 Målgång för 3-timmars tävlingen.",tag:"p",className:"schedule-item"}),u.jsx(z,{textKey:"salen-saturday-schedule5",defaultText:"ca 15:30 Prisutdelning 3-timmars tävlingen",tag:"p",className:"schedule-item"}),u.jsx(z,{textKey:"salen-saturday-schedule6",defaultText:"16:30 - 20:00 After AIM med mat och dryck på Hotell Lassalyckan.",tag:"p",className:"schedule-item"}),u.jsx(z,{textKey:"salen-saturday-schedule7",defaultText:"17:00 Målgång för 6-timmars tävlingen.",tag:"p",className:"schedule-item"}),u.jsx(z,{textKey:"salen-saturday-schedule8",defaultText:"19:00 Prisutdelning utanför Hotell Lassalyckan.",tag:"p",className:"schedule-item"})]})]})]})]})})}),u.jsx("section",{className:"salen-price-section",children:u.jsx("div",{className:"price-container",children:u.jsxs("div",{className:"price-image-container",children:[u.jsx("img",{src:"/images/AIM_lindvallen_2024_AnkiGrothe_highres_34.jpg",alt:"Climbing in Lindvallen",className:"price-background-image"}),u.jsx("div",{className:"price-overlay",children:u.jsxs("div",{className:"price-content",children:[u.jsx(z,{textKey:"salen-price-title",defaultText:"PRIS",tag:"h2",className:"section-title"}),u.jsx(z,{textKey:"salen-price-subtitle",defaultText:"ULRICEHAMN 10/5-2025",tag:"h3",className:"price-subtitle"}),u.jsxs("div",{className:"price-categories",children:[u.jsxs("div",{className:"price-category",children:[u.jsx(z,{textKey:"salen-price-3h-title",defaultText:"3-TIMMARS",tag:"h4",className:"category-title"}),u.jsx(z,{textKey:"salen-price-3h-1",defaultText:"1500 SEK / lag för Early Bird-anmälan innan 1 november.",tag:"p",className:"price-item"}),u.jsx(z,{textKey:"salen-price-3h-2",defaultText:"1700 SEK / lag för anmälan mellan 1 november och 1 februari.",tag:"p",className:"price-item"}),u.jsx(z,{textKey:"salen-price-3h-3",defaultText:"1900 SEK / lag för anmälan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(z,{textKey:"salen-price-3h-4",defaultText:"2100 SEK / lag för anmälan från 25 april och fram till start.",tag:"p",className:"price-item"})]}),u.jsxs("div",{className:"price-category",children:[u.jsx(z,{textKey:"salen-price-6h-title",defaultText:"6-TIMMARS",tag:"h4",className:"category-title"}),u.jsx(z,{textKey:"salen-price-6h-1",defaultText:"1900 SEK / lag för Early Bird-anmälan innan 1 november.",tag:"p",className:"price-item"}),u.jsx(z,{textKey:"salen-price-6h-2",defaultText:"2100 SEK / lag för anmälan mellan 1 november och 1 februari.",tag:"p",className:"price-item"}),u.jsx(z,{textKey:"salen-price-6h-3",defaultText:"2300 SEK / lag för anmälan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(z,{textKey:"salen-price-6h-4",defaultText:"2500 SEK / lag för anmälan från 25 april och fram till start.",tag:"p",className:"price-item"})]})]}),u.jsxs("div",{className:"price-category trippeln-category",children:[u.jsx(z,{textKey:"salen-price-trippeln-title",defaultText:"AIM CHALLENGE TRIPPELN 2025",tag:"h4",className:"category-title"}),u.jsx(z,{textKey:"salen-price-trippeln-1",defaultText:"4750 SEK / lag för Early Bird-anmälan innan 1 januari.",tag:"p",className:"price-item"}),u.jsx(z,{textKey:"salen-price-trippeln-2",defaultText:"5250 SEK / lag för anmälan mellan 1 januari och 1 februari.",tag:"p",className:"price-item"}),u.jsx(z,{textKey:"salen-price-trippeln-3",defaultText:"5750 SEK / lag för anmälan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(z,{textKey:"salen-price-trippeln-4",defaultText:"6250 SEK / lag för anmälan efter den 25 april.",tag:"p",className:"price-item"})]}),u.jsx("div",{className:"price-button-container",children:u.jsx("a",{href:"https://raceid.com/sv/races/12846/about",target:"_blank",rel:"noopener noreferrer",className:"price-anmalan-button",children:u.jsx("p",{children:"TA MIG TILL ANMÄLAN"})})})]})})]})})}),u.jsxs("section",{id:"latest-news",className:"latest-news-section",children:[u.jsx("h2",{className:"latest-news-title",children:"SENASTE NYTT SÄLEN"}),u.jsxs("div",{className:"latest-news-container",children:[u.jsxs("div",{className:"news-card",children:[u.jsx("div",{className:"news-image",children:u.jsx("img",{src:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg",alt:"News"})}),u.jsxs("div",{className:"news-content",children:[u.jsx("h3",{className:"news-location",children:"NYHETSARTIKEL 1"}),u.jsx("p",{className:"news-description",children:"Brödtext om tävlingen, 2 korta em-ningar"}),u.jsx("div",{className:"news-button",children:u.jsx(Ee,{to:"/news/1",className:"button-2",children:u.jsx("span",{children:"LÄS MER"})})})]})]}),u.jsxs("div",{className:"news-card",children:[u.jsx("div",{className:"news-image",children:u.jsx("img",{src:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg",alt:"News"})}),u.jsxs("div",{className:"news-content",children:[u.jsx("h3",{className:"news-location",children:"NYHETSARTIKEL 2"}),u.jsx("p",{className:"news-description",children:"Brödtext om tävlingen, 2 korta em-ningar"}),u.jsx("div",{className:"news-button",children:u.jsx(Ee,{to:"/news/2",className:"button-2",children:u.jsx("span",{children:"LÄS MER"})})})]})]}),u.jsxs("div",{className:"news-card",children:[u.jsx("div",{className:"news-image",children:u.jsx("img",{src:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg",alt:"News"})}),u.jsxs("div",{className:"news-content",children:[u.jsx("h3",{className:"news-location",children:"NYHETSARTIKEL 3"}),u.jsx("p",{className:"news-description",children:"Brödtext om tävlingen, 2 korta em-ningar"}),u.jsx("div",{className:"news-button",children:u.jsx(Ee,{to:"/news/3",className:"button-2",children:u.jsx("span",{children:"LÄS MER"})})})]})]})]})]}),u.jsx("section",{className:"useful-links-section",children:u.jsxs("div",{className:"useful-links-container",children:[u.jsx("h2",{className:"useful-links-title",children:"NYTTIGA LÄNKAR"}),u.jsxs("div",{className:"links-category",children:[u.jsx("h3",{className:"links-category-title",children:"Cykeluthyrning"}),u.jsxs("p",{className:"links-text",children:["Cykeluthyrning med in- och utlämning på Lassalyckan Stadion."," ",u.jsx("a",{href:"#",className:"links-link",children:"Läs mer och boka här."})]})]}),u.jsxs("div",{className:"links-category",children:[u.jsx("h3",{className:"links-category-title",children:"Boende"}),u.jsx("p",{className:"links-text",children:"Önskar du att bo nära start och mål så kan vi varmt rekommendera Hotell Lassalyckan som erbjuder ett modernt boende ett stenkast ifrån starten."}),u.jsx("a",{href:"https://www.hotell-lassalyckan.se",className:"links-link",target:"_blank",rel:"noopener noreferrer",children:"https://www.hotell-lassalyckan.se"})]}),u.jsxs("div",{className:"links-category",children:[u.jsx("h3",{className:"links-category-title",children:"Mat"}),u.jsx("p",{className:"links-text",children:"Önskar du att bo nära start och mål så kan vi varmt rekommendera Hotell Lassalyckan som erbjuder ett modernt boende ett stenkast ifrån starten."})]})]})}),u.jsxs("section",{className:"sponsors-section",children:[u.jsx("h2",{className:"sponsors-title",children:"LOKALA SPONSORER"}),u.jsxs("div",{className:"sponsors-container",children:[u.jsx("div",{className:"s-sponsor-logo side-logo",children:u.jsx("img",{src:"images/UD Logo.png",alt:"UD Logo"})}),u.jsx("div",{className:"s-sponsor-logo main-logo",children:u.jsx("img",{src:"images/Aim_Challenge_logo_white.svg",alt:"AIM Challenge"})}),u.jsx("div",{className:"s-sponsor-logo side-logo",children:u.jsx("img",{src:"images/holdut_logo_sort_1.png",alt:"Holdut Logo"})})]})]})]}),cD=()=>u.jsxs("div",{className:"hemsedal-container",children:[u.jsx("section",{className:"hemsedal-hero-section",children:u.jsx("div",{className:"hero-content",children:u.jsx("div",{className:"hero-image-container",children:u.jsx("img",{src:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_025.jpg",alt:"Hemsedal Event"})})})}),u.jsx("section",{className:"hemsedal-title-section",children:u.jsxs("div",{className:"title-container",children:[u.jsx(z,{textKey:"hemsedal-title",defaultText:"HEMSEDAL",tag:"h1",className:"location-title"}),u.jsx(z,{textKey:"hemsedal-date",defaultText:"10 MAJ 2025",tag:"h2",className:"location-date"})]})}),u.jsx("section",{className:"hemsedal-button-section",children:u.jsx("div",{className:"button-container",children:u.jsx("a",{href:"https://raceid.com/sv/races/13015/about",target:"_blank",rel:"noopener noreferrer",className:"anmalan-button",children:u.jsx("p",{children:"TA MIG TILL ANMÄLAN"})})})}),u.jsx("section",{className:"hemsedal-program-section",children:u.jsx("div",{className:"program-container",children:u.jsxs("div",{className:"program-cards",children:[u.jsx("div",{className:"program-card image-card",children:u.jsx("img",{src:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_025.jpg",alt:"Hemsedal Event"})}),u.jsxs("div",{className:"program-card info-card",children:[u.jsx(z,{textKey:"hemsedal-program-title",defaultText:"PROGRAM",tag:"h2",className:"program-title"}),u.jsxs("div",{className:"program-schedule",children:[u.jsxs("div",{className:"program-day",children:[u.jsx(z,{textKey:"hemsedal-friday-title",defaultText:"Fredag 9/5",tag:"h3",className:"day-title"}),u.jsx(z,{textKey:"hemsedal-friday-schedule",defaultText:"17:00 - 19:00 Nummerlappsutdelning på XCC",tag:"p",className:"schedule-item"})]}),u.jsxs("div",{className:"program-day",children:[u.jsx(z,{textKey:"hemsedal-saturday-title",defaultText:"Lördag 10/5",tag:"h3",className:"day-title"}),u.jsx(z,{textKey:"hemsedal-saturday-schedule1",defaultText:"08:30 - 10:15 Registrering för alla tävlande som ej registrerat sig under fredagen på 157 XCC, på Lassalyckan.",tag:"p",className:"schedule-item"}),u.jsx(z,{textKey:"hemsedal-saturday-schedule2",defaultText:"10:30 Obligatoriskt informationsmöte vid starten på Lassalyckan stadion.",tag:"p",className:"schedule-item"}),u.jsx(z,{textKey:"hemsedal-saturday-schedule3",defaultText:"11:00 Start AIM Challenge, på Lassalyckan stadion. Gemensam start för 3 & 6-timmars tävlingen.",tag:"p",className:"schedule-item"}),u.jsx(z,{textKey:"hemsedal-saturday-schedule4",defaultText:"14:00 Målgång för 3-timmars tävlingen.",tag:"p",className:"schedule-item"}),u.jsx(z,{textKey:"hemsedal-saturday-schedule5",defaultText:"ca 15:30 Prisutdelning 3-timmars tävlingen",tag:"p",className:"schedule-item"}),u.jsx(z,{textKey:"hemsedal-saturday-schedule6",defaultText:"16:30 - 20:00 After AIM med mat och dryck på Hotell Lassalyckan.",tag:"p",className:"schedule-item"}),u.jsx(z,{textKey:"hemsedal-saturday-schedule7",defaultText:"17:00 Målgång för 6-timmars tävlingen.",tag:"p",className:"schedule-item"}),u.jsx(z,{textKey:"hemsedal-saturday-schedule8",defaultText:"19:00 Prisutdelning utanför Hotell Lassalyckan.",tag:"p",className:"schedule-item"})]})]})]})]})})}),u.jsx("section",{className:"hemsedal-price-section",children:u.jsx("div",{className:"price-container",children:u.jsxs("div",{className:"price-image-container",children:[u.jsx("img",{src:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_094.jpg",alt:"Climbing in Hemsedal",className:"price-background-image"}),u.jsx("div",{className:"price-overlay",children:u.jsxs("div",{className:"price-content",children:[u.jsx(z,{textKey:"hemsedal-price-title",defaultText:"PRIS",tag:"h2",className:"section-title"}),u.jsx(z,{textKey:"hemsedal-price-subtitle",defaultText:"HEMSEDAL 24/8-2024",tag:"h3",className:"price-subtitle"}),u.jsxs("div",{className:"price-categories",children:[u.jsxs("div",{className:"price-category",children:[u.jsx(z,{textKey:"hemsedal-price-3h-title",defaultText:"3-TIMMARS",tag:"h4",className:"category-title"}),u.jsx(z,{textKey:"hemsedal-price-3h-1",defaultText:"1500 SEK / lag för Early Bird-anmälan innan 1 november.",tag:"p",className:"price-item"}),u.jsx(z,{textKey:"hemsedal-price-3h-2",defaultText:"1700 SEK / lag för anmälan mellan 1 november och 1 februari.",tag:"p",className:"price-item"}),u.jsx(z,{textKey:"hemsedal-price-3h-3",defaultText:"1900 SEK / lag för anmälan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(z,{textKey:"hemsedal-price-3h-4",defaultText:"2100 SEK / lag för anmälan från 25 april och fram till start.",tag:"p",className:"price-item"})]}),u.jsxs("div",{className:"price-category",children:[u.jsx(z,{textKey:"hemsedal-price-6h-title",defaultText:"6-TIMMARS",tag:"h4",className:"category-title"}),u.jsx(z,{textKey:"hemsedal-price-6h-1",defaultText:"1900 SEK / lag för Early Bird-anmälan innan 1 november.",tag:"p",className:"price-item"}),u.jsx(z,{textKey:"hemsedal-price-6h-2",defaultText:"2100 SEK / lag för anmälan mellan 1 november och 1 februari.",tag:"p",className:"price-item"}),u.jsx(z,{textKey:"hemsedal-price-6h-3",defaultText:"2300 SEK / lag för anmälan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(z,{textKey:"hemsedal-price-6h-4",defaultText:"2500 SEK / lag för anmälan från 25 april och fram till start.",tag:"p",className:"price-item"})]})]}),u.jsxs("div",{className:"price-category trippeln-category",children:[u.jsx(z,{textKey:"hemsedal-price-trippeln-title",defaultText:"AIM CHALLENGE TRIPPELN 2025",tag:"h4",className:"category-title"}),u.jsx(z,{textKey:"hemsedal-price-trippeln-1",defaultText:"4750 SEK / lag för Early Bird-anmälan innan 1 januari.",tag:"p",className:"price-item"}),u.jsx(z,{textKey:"hemsedal-price-trippeln-2",defaultText:"5250 SEK / lag för anmälan mellan 1 januari och 1 februari.",tag:"p",className:"price-item"}),u.jsx(z,{textKey:"hemsedal-price-trippeln-3",defaultText:"5750 SEK / lag för anmälan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(z,{textKey:"hemsedal-price-trippeln-4",defaultText:"6250 SEK / lag för anmälan efter den 25 april.",tag:"p",className:"price-item"})]}),u.jsx("div",{className:"price-button-container",children:u.jsx("a",{href:"https://raceid.com/sv/races/13015/about",target:"_blank",rel:"noopener noreferrer",className:"price-anmalan-button",children:u.jsx("p",{children:"TA MIG TILL ANMÄLAN"})})})]})})]})})}),u.jsxs("section",{id:"latest-news",className:"latest-news-section",children:[u.jsx("h2",{className:"latest-news-title",children:"SENASTE NYTT HEMSEDAL"}),u.jsxs("div",{className:"latest-news-container",children:[u.jsxs("div",{className:"news-card",children:[u.jsx("div",{className:"news-image",children:u.jsx("img",{src:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg",alt:"News"})}),u.jsxs("div",{className:"news-content",children:[u.jsx("h3",{className:"news-location",children:"NYHETSARTIKEL 1"}),u.jsx("p",{className:"news-description",children:"Brödtext om tävlingen, 2 korta em-ningar"}),u.jsx("div",{className:"news-button",children:u.jsx(Ee,{to:"/news/1",className:"button-2",children:u.jsx("span",{children:"LÄS MER"})})})]})]}),u.jsxs("div",{className:"news-card",children:[u.jsx("div",{className:"news-image",children:u.jsx("img",{src:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg",alt:"News"})}),u.jsxs("div",{className:"news-content",children:[u.jsx("h3",{className:"news-location",children:"NYHETSARTIKEL 2"}),u.jsx("p",{className:"news-description",children:"Brödtext om tävlingen, 2 korta em-ningar"}),u.jsx("div",{className:"news-button",children:u.jsx(Ee,{to:"/news/2",className:"button-2",children:u.jsx("span",{children:"LÄS MER"})})})]})]}),u.jsxs("div",{className:"news-card",children:[u.jsx("div",{className:"news-image",children:u.jsx("img",{src:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg",alt:"News"})}),u.jsxs("div",{className:"news-content",children:[u.jsx("h3",{className:"news-location",children:"NYHETSARTIKEL 3"}),u.jsx("p",{className:"news-description",children:"Brödtext om tävlingen, 2 korta em-ningar"}),u.jsx("div",{className:"news-button",children:u.jsx(Ee,{to:"/news/3",className:"button-2",children:u.jsx("span",{children:"LÄS MER"})})})]})]})]})]}),u.jsx("section",{className:"useful-links-section",children:u.jsxs("div",{className:"useful-links-container",children:[u.jsx("h2",{className:"useful-links-title",children:"NYTTIGA LÄNKAR"}),u.jsxs("div",{className:"links-category",children:[u.jsx("h3",{className:"links-category-title",children:"Cykeluthyrning"}),u.jsxs("p",{className:"links-text",children:["Cykeluthyrning med in- och utlämning på Lassalyckan Stadion."," ",u.jsx("a",{href:"#",className:"links-link",children:"Läs mer och boka här."})]})]}),u.jsxs("div",{className:"links-category",children:[u.jsx("h3",{className:"links-category-title",children:"Boende"}),u.jsx("p",{className:"links-text",children:"Önskar du att bo nära start och mål så kan vi varmt rekommendera Hotell Lassalyckan som erbjuder ett modernt boende ett stenkast ifrån starten."}),u.jsx("a",{href:"https://www.hotell-lassalyckan.se",className:"links-link",target:"_blank",rel:"noopener noreferrer",children:"https://www.hotell-lassalyckan.se"})]}),u.jsxs("div",{className:"links-category",children:[u.jsx("h3",{className:"links-category-title",children:"Mat"}),u.jsx("p",{className:"links-text",children:"Önskar du att bo nära start och mål så kan vi varmt rekommendera Hotell Lassalyckan som erbjuder ett modernt boende ett stenkast ifrån starten."})]})]})}),u.jsxs("section",{className:"sponsors-section",children:[u.jsx("h2",{className:"sponsors-title",children:"LOKALA SPONSORER"}),u.jsxs("div",{className:"sponsors-container",children:[u.jsx("div",{className:"s-sponsor-logo side-logo",children:u.jsx("img",{src:"images/UD Logo.png",alt:"UD Logo"})}),u.jsx("div",{className:"s-sponsor-logo main-logo",children:u.jsx("img",{src:"images/Aim_Challenge_logo_white.svg",alt:"AIM Challenge"})}),u.jsx("div",{className:"s-sponsor-logo side-logo",children:u.jsx("img",{src:"images/holdut_logo_sort_1.png",alt:"Holdut Logo"})})]})]})]}),uD=()=>u.jsxs("div",{className:"kolmarden-container",children:[u.jsx("section",{className:"kolmarden-hero-section",children:u.jsx("div",{className:"hero-content",children:u.jsx("div",{className:"hero-image-container",children:u.jsx("img",{src:"/images/Kolmarden_1.jpg",alt:"Kolmarden Event"})})})}),u.jsx("section",{className:"kolmarden-title-section",children:u.jsxs("div",{className:"title-container",children:[u.jsx(z,{textKey:"kolmarden-title",defaultText:"KOLMÅRDEN",tag:"h1",className:"location-title"}),u.jsx(z,{textKey:"kolmarden-date",defaultText:"10 MAJ 2025",tag:"h2",className:"location-date"})]})}),u.jsx("section",{className:"kolmarden-button-section",children:u.jsx("div",{className:"button-container",children:u.jsx("a",{href:"https://raceid.com/sv/races/12846/about",target:"_blank",rel:"noopener noreferrer",className:"anmalan-button",children:u.jsx("p",{children:"TA MIG TILL ANMÄLAN"})})})}),u.jsx("section",{className:"kolmarden-program-section",children:u.jsx("div",{className:"program-container",children:u.jsxs("div",{className:"program-cards",children:[u.jsx("div",{className:"program-card image-card",children:u.jsx("img",{src:"/images/Kolmarden_2.jpg",alt:"Kolmarden Event"})}),u.jsxs("div",{className:"program-card info-card",children:[u.jsx(z,{textKey:"kolmarden-program-title",defaultText:"PROGRAM",tag:"h2",className:"program-title"}),u.jsxs("div",{className:"program-schedule",children:[u.jsxs("div",{className:"program-day",children:[u.jsx(z,{textKey:"kolmarden-friday-title",defaultText:"Fredag 9/5",tag:"h3",className:"day-title"}),u.jsx(z,{textKey:"kolmarden-friday-schedule",defaultText:"17:00 - 19:00 Nummerlappsutdelning på XCC",tag:"p",className:"schedule-item"})]}),u.jsxs("div",{className:"program-day",children:[u.jsx(z,{textKey:"kolmarden-saturday-title",defaultText:"Lördag 10/5",tag:"h3",className:"day-title"}),u.jsx(z,{textKey:"kolmarden-saturday-schedule1",defaultText:"08:30 - 10:15 Registrering för alla tävlande som ej registrerat sig under fredagen på 157 XCC, på Lassalyckan.",tag:"p",className:"schedule-item"}),u.jsx(z,{textKey:"kolmarden-saturday-schedule2",defaultText:"10:30 Obligatoriskt informationsmöte vid starten på Lassalyckan stadion.",tag:"p",className:"schedule-item"}),u.jsx(z,{textKey:"kolmarden-saturday-schedule3",defaultText:"11:00 Start AIM Challenge, på Lassalyckan stadion. Gemensam start för 3 & 6-timmars tävlingen.",tag:"p",className:"schedule-item"}),u.jsx(z,{textKey:"kolmarden-saturday-schedule4",defaultText:"14:00 Målgång för 3-timmars tävlingen.",tag:"p",className:"schedule-item"}),u.jsx(z,{textKey:"kolmarden-saturday-schedule5",defaultText:"ca 15:30 Prisutdelning 3-timmars tävlingen",tag:"p",className:"schedule-item"}),u.jsx(z,{textKey:"kolmarden-saturday-schedule6",defaultText:"16:30 - 20:00 After AIM med mat och dryck på Hotell Lassalyckan.",tag:"p",className:"schedule-item"}),u.jsx(z,{textKey:"kolmarden-saturday-schedule7",defaultText:"17:00 Målgång för 6-timmars tävlingen.",tag:"p",className:"schedule-item"}),u.jsx(z,{textKey:"kolmarden-saturday-schedule8",defaultText:"19:00 Prisutdelning utanför Hotell Lassalyckan.",tag:"p",className:"schedule-item"})]})]})]})]})})}),u.jsx("section",{className:"kolmarden-price-section",children:u.jsx("div",{className:"price-container",children:u.jsxs("div",{className:"price-image-container",children:[u.jsx("img",{src:"/images/Kolmarden_1.jpg",alt:"Climbing in Kolmarden",className:"price-background-image"}),u.jsx("div",{className:"price-overlay",children:u.jsxs("div",{className:"price-content",children:[u.jsx(z,{textKey:"kolmarden-price-title",defaultText:"PRIS",tag:"h2",className:"section-title"}),u.jsx(z,{textKey:"kolmarden-price-subtitle",defaultText:"KOLMADERN 10/5-2025",tag:"h3",className:"price-subtitle"}),u.jsxs("div",{className:"price-categories",children:[u.jsxs("div",{className:"price-category",children:[u.jsx(z,{textKey:"kolmarden-price-3h-title",defaultText:"3-TIMMARS",tag:"h4",className:"category-title"}),u.jsx(z,{textKey:"kolmarden-price-3h-1",defaultText:"1500 SEK / lag för Early Bird-anmälan innan 1 november.",tag:"p",className:"price-item"}),u.jsx(z,{textKey:"kolmarden-price-3h-2",defaultText:"1700 SEK / lag för anmälan mellan 1 november och 1 februari.",tag:"p",className:"price-item"}),u.jsx(z,{textKey:"kolmarden-price-3h-3",defaultText:"1900 SEK / lag för anmälan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(z,{textKey:"kolmarden-price-3h-4",defaultText:"2100 SEK / lag för anmälan från 25 april och fram till start.",tag:"p",className:"price-item"})]}),u.jsxs("div",{className:"price-category",children:[u.jsx(z,{textKey:"kolmarden-price-6h-title",defaultText:"6-TIMMARS",tag:"h4",className:"category-title"}),u.jsx(z,{textKey:"kolmarden-price-6h-1",defaultText:"1900 SEK / lag för Early Bird-anmälan innan 1 november.",tag:"p",className:"price-item"}),u.jsx(z,{textKey:"kolmarden-price-6h-2",defaultText:"2100 SEK / lag för anmälan mellan 1 november och 1 februari.",tag:"p",className:"price-item"}),u.jsx(z,{textKey:"kolmarden-price-6h-3",defaultText:"2300 SEK / lag för anmälan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(z,{textKey:"kolmarden-price-6h-4",defaultText:"2500 SEK / lag för anmälan från 25 april och fram till start.",tag:"p",className:"price-item"})]})]}),u.jsxs("div",{className:"price-category trippeln-category",children:[u.jsx(z,{textKey:"kolmarden-price-trippeln-title",defaultText:"AIM CHALLENGE TRIPPELN 2025",tag:"h4",className:"category-title"}),u.jsx(z,{textKey:"kolmarden-price-trippeln-1",defaultText:"4750 SEK / lag för Early Bird-anmälan innan 1 januari.",tag:"p",className:"price-item"}),u.jsx(z,{textKey:"kolmarden-price-trippeln-2",defaultText:"5250 SEK / lag för anmälan mellan 1 januari och 1 februari.",tag:"p",className:"price-item"}),u.jsx(z,{textKey:"kolmarden-price-trippeln-3",defaultText:"5750 SEK / lag för anmälan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(z,{textKey:"kolmarden-price-trippeln-4",defaultText:"6250 SEK / lag för anmälan efter den 25 april.",tag:"p",className:"price-item"})]}),u.jsx("div",{className:"price-button-container",children:u.jsx("a",{href:"https://raceid.com/sv/races/12846/about",target:"_blank",rel:"noopener noreferrer",className:"price-anmalan-button",children:u.jsx("p",{children:"TA MIG TILL ANMÄLAN"})})})]})})]})})}),u.jsxs("section",{id:"latest-news",className:"latest-news-section",children:[u.jsx("h2",{className:"latest-news-title",children:"SENASTE NYTT KOLMADERN"}),u.jsxs("div",{className:"latest-news-container",children:[u.jsxs("div",{className:"news-card",children:[u.jsx("div",{className:"news-image",children:u.jsx("img",{src:"/images/Kolmarden_2.jpg",alt:"News"})}),u.jsxs("div",{className:"news-content",children:[u.jsx("h3",{className:"news-location",children:"NYHETSARTIKEL 1"}),u.jsx("p",{className:"news-description",children:"Brödtext om tävlingen, 2 korta em-ningar"}),u.jsx("div",{className:"news-button",children:u.jsx(Ee,{to:"/news/1",className:"button-2",children:u.jsx("span",{children:"LÄS MER"})})})]})]}),u.jsxs("div",{className:"news-card",children:[u.jsx("div",{className:"news-image",children:u.jsx("img",{src:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg",alt:"News"})}),u.jsxs("div",{className:"news-content",children:[u.jsx("h3",{className:"news-location",children:"NYHETSARTIKEL 2"}),u.jsx("p",{className:"news-description",children:"Brödtext om tävlingen, 2 korta em-ningar"}),u.jsx("div",{className:"news-button",children:u.jsx(Ee,{to:"/news/2",className:"button-2",children:u.jsx("span",{children:"LÄS MER"})})})]})]}),u.jsxs("div",{className:"news-card",children:[u.jsx("div",{className:"news-image",children:u.jsx("img",{src:"/images/Kolmarden_3.jpg",alt:"News"})}),u.jsxs("div",{className:"news-content",children:[u.jsx("h3",{className:"news-location",children:"NYHETSARTIKEL 3"}),u.jsx("p",{className:"news-description",children:"Brödtext om tävlingen, 2 korta em-ningar"}),u.jsx("div",{className:"news-button",children:u.jsx(Ee,{to:"/news/3",className:"button-2",children:u.jsx("span",{children:"LÄS MER"})})})]})]})]})]}),u.jsx("section",{className:"useful-links-section",children:u.jsxs("div",{className:"useful-links-container",children:[u.jsx("h2",{className:"useful-links-title",children:"NYTTIGA LÄNKAR"}),u.jsxs("div",{className:"links-category",children:[u.jsx("h3",{className:"links-category-title",children:"Cykeluthyrning"}),u.jsxs("p",{className:"links-text",children:["Cykeluthyrning med in- och utlämning på Lassalyckan Stadion."," ",u.jsx("a",{href:"#",className:"links-link",children:"Läs mer och boka här."})]})]}),u.jsxs("div",{className:"links-category",children:[u.jsx("h3",{className:"links-category-title",children:"Boende"}),u.jsx("p",{className:"links-text",children:"Önskar du att bo nära start och mål så kan vi varmt rekommendera Hotell Lassalyckan som erbjuder ett modernt boende ett stenkast ifrån starten."}),u.jsx("a",{href:"https://www.hotell-lassalyckan.se",className:"links-link",target:"_blank",rel:"noopener noreferrer",children:"https://www.hotell-lassalyckan.se"})]}),u.jsxs("div",{className:"links-category",children:[u.jsx("h3",{className:"links-category-title",children:"Mat"}),u.jsx("p",{className:"links-text",children:"Önskar du att bo nära start och mål så kan vi varmt rekommendera Hotell Lassalyckan som erbjuder ett modernt boende ett stenkast ifrån starten."})]})]})}),u.jsxs("section",{className:"sponsors-section",children:[u.jsx("h2",{className:"sponsors-title",children:"LOKALA SPONSORER"}),u.jsxs("div",{className:"sponsors-container",children:[u.jsx("div",{className:"s-sponsor-logo side-logo",children:u.jsx("img",{src:"images/UD Logo.png",alt:"UD Logo"})}),u.jsx("div",{className:"s-sponsor-logo main-logo",children:u.jsx("img",{src:"images/Aim_Challenge_logo_white.svg",alt:"AIM Challenge"})}),u.jsx("div",{className:"s-sponsor-logo side-logo",children:u.jsx("img",{src:"images/holdut_logo_sort_1.png",alt:"Holdut Logo"})})]})]})]}),hD=()=>u.jsxs("div",{className:"MaxWH location",children:[u.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",children:u.jsx("div",{className:"trans-background page_01box flex flex_col flex_j_SA",children:u.jsx("p",{className:"font_blue fonts_huge",children:"AIM CHALLENGE TRIPPELN"})})}),u.jsxs("section",{className:"trippeln-section trippeln-bg",children:[u.jsx("div",{className:"trippeln-content trans-background",children:u.jsxs("div",{className:"font_blue",children:[u.jsx("p",{className:"fonts_medium",children:"Trippeln är en tävling i tävlingen där de som deltar i minst tre av årets deltävlingar är med och tävlar om den mycket hedervärda titeln Vinnare av AIM Challenge Trippeln!"}),u.jsx("br",{}),u.jsx("p",{children:"AIM Challenge Trippeln ersätter Landskampen som sedan 2010 har varit en tävling i tävlingen för de som genomfört AIM Challenge både i Lindvallen och Hemsedal. En tävling där det tävlats för antingen Sverige eller Norge, där det vinnande landet har hyllats och den som bidragit mest till sitt land har prisats."}),u.jsx("br",{}),u.jsx("p",{children:"Med AIM Challenge Trippeln lägger vi ner stridsyxan mellan Sverige och Norge och gör det därmed möjligt att även köra mixade lag mellan olika nationer utan att detta skapar en konflikt."}),u.jsx("br",{}),u.jsx("p",{className:"fonts_medium",children:"Hur går AIM Challenge Trippeln till:"}),u.jsx("br",{}),u.jsx("p",{children:"AIM Challenge Trippeln är en tävling i tävlingen för de lag som deltar på minst tre deltävlingar under ett och samma år. Tävlingarna som ingår är Ulricehamn, Sälen, Hemsedal och Kolmården. Det är fritt för laget att välja om ni önskar att delta i 3- eller 6-timmars tävlingen i Ulricehamn och Kolmården, båda anses att vara likvärdiga för Trippeln."}),u.jsx("br",{}),u.jsx("p",{children:"Vid anmälan till Trippeln blir man per automatik anmäld till alla fyra deltävlingar och väljer själv om man vill delta i tre eller fyra tävlingar. Priset för att anmäla sig till trippeln är rabatterat och blir billigare redan vid start i tre deltävlingar. Skulle ett lag delta i alla fyra deltävlingarna så räknas de tre bästa resultaten till Trippeln."}),u.jsx("br",{}),u.jsx("p",{children:"Det gäller att samla så många poäng som möjligt under årets tävlingar där varje lag får räkna in sina tre bästa resultat från det gångna året. Vinnaren av AIM Challenge Trippeln kommer att utses genom ett poängsystem som bygger på hur många poäng laget fått procentuellt i förhållande till vinnarlaget i respektive klass. Varje lag kommer då få en poängsumma mellan 1 och 100 per tävling och efter alla deltävlingarna kommer dessa poäng att adderas och det lag med högst sammanlagda poäng kommer att stå på prispallen! Skulle två lag få samma sammanlagda poäng så kommer vi se på placeringar i de enskilda loppen för att utse en vinnare."}),u.jsx("br",{}),u.jsx("p",{children:"Vid anmälan till AIM Challenge Trippeln så anmäler sig laget till alla fyra deltävlingarna, varav minst tre måste genomföras för att få ett resultat i Trippeln. Ett lag består av två personer, men om någon i laget skulle få förhinder inför någon av tävlingarna så gäller följande: För att resultatet i Trippeln skall bli godkänt så måste minst en i laget delta i alla tre tävlingarna, samt att deltagare 2 deltar vid minst två deltävlingar. Det vill säga att det är möjligt att ta in en reserv under en av deltävlingarna och fortfarande tävla som lag om den hedervärda titeln! I det fall deltagare 1 tävlat med tre olika lagkompisar under året är det enbart den som deltagit vid alla tre tävlingarna som kommer att premieras."}),u.jsx("br",{}),u.jsx("p",{children:"Det är inte möjligt att sälja sin startplats i Trippeln vidare för den tävling som laget eventuellt inte deltar i."})]})}),u.jsx("div",{className:"trippeln-spacer"})]}),u.jsx("section",{className:"ulric-button-section-bg flex flex_j_C flex_a_C",children:u.jsx("a",{href:"https://raceid.com/sv/races/13016/about",target:"_blank",rel:"noopener noreferrer",className:"ulric-button flex flex_j_C flex_a_C",children:u.jsx("p",{className:"font_white fonts_medium",children:"TA MIG TILL ANMÄLAN"})})})]}),dD=({onClose:s,onUploadSuccess:e,years:n=["2023","2022","2021","2020","2019","2018","2017","2016","2015"],categories:a=["Herrar","Damer","Mixed"],durations:l=["3 timmar","6 timmar","12 timmar","24 timmar"],locations:c=["Ulricehamn","Borås","Göteborg","Jönköping","Stockholm"],year:f})=>{const{currentUser:g}=gr(),[p,_]=P.useState("Ulricehamn"),[E,b]=P.useState(f||"2023"),[w,D]=P.useState("Herrar"),[O,q]=P.useState("3 timmar"),[M,H]=P.useState(null),[G,Q]=P.useState(""),[ee,J]=P.useState(!1),re=N=>{const S=N.target.files[0];S&&(H(S),Q(""))},V=async N=>{if(N.preventDefault(),!M){Q("Please select a file to upload");return}J(!0),Q("");try{const S=rr(cr,`results/${M.name}`),k=await cd(S,M),R=`https://firebasestorage.googleapis.com/v0/b/${k.ref.bucket}/o/${encodeURIComponent(k.ref.fullPath)}?alt=media`,L={year:parseInt(E),location:p,category:w,duration:O,fileName:M.name,fileUrl:R,uploadedAt:new Date().toISOString(),uploadedBy:g.uid},I=`${E}_${p}_${w}_${Date.now()}`;await Tl(Nn(Qt,"results",I),{...L,id:I}),H(null),e({...L,id:I}),s()}catch(S){console.error("Upload failed:",S),Q("Upload failed: "+S.message)}finally{J(!1)}};return u.jsx("div",{className:"result-upload-modal-overlay",children:u.jsxs("div",{className:"result-upload-modal",children:[u.jsxs("div",{className:"result-upload-modal-header",children:[u.jsx("h2",{children:"Ladda upp resultat"}),u.jsx("button",{className:"result-upload-modal-close",onClick:s,children:"×"})]}),u.jsx("div",{className:"result-upload-modal-body",children:u.jsxs("form",{className:"result-upload-modal-form",onSubmit:V,children:[u.jsxs("div",{className:"result-upload-modal-field",children:[u.jsx("label",{children:"Plats"}),u.jsx("select",{className:"result-upload-modal-select",value:p,onChange:N=>_(N.target.value),children:c.map((N,S)=>u.jsx("option",{value:N,children:N},S))})]}),u.jsxs("div",{className:"result-upload-modal-field",children:[u.jsx("label",{children:"År"}),u.jsx("select",{className:"result-upload-modal-select",value:E,onChange:N=>b(N.target.value),children:n.map((N,S)=>u.jsx("option",{value:N,children:N},S))})]}),u.jsxs("div",{className:"result-upload-modal-field",children:[u.jsx("label",{children:"Kategori"}),u.jsx("select",{className:"result-upload-modal-select",value:w,onChange:N=>D(N.target.value),children:a.map((N,S)=>u.jsx("option",{value:N,children:N},S))})]}),u.jsxs("div",{className:"result-upload-modal-field",children:[u.jsx("label",{children:"Distans"}),u.jsx("select",{className:"result-upload-modal-select",value:O,onChange:N=>q(N.target.value),children:l.map((N,S)=>u.jsx("option",{value:N,children:N},S))})]}),u.jsxs("div",{className:"result-upload-modal-field",children:[u.jsx("label",{children:"Fil"}),u.jsx("input",{type:"file",className:"result-upload-modal-file-input",onChange:re,accept:".txt,.pdf,.doc,.docx,.xls,.xlsx"})]}),G&&u.jsx("div",{className:"result-upload-modal-error",children:G}),u.jsxs("div",{className:"result-upload-modal-actions",children:[u.jsx("button",{type:"button",className:"result-upload-modal-cancel",onClick:s,disabled:ee,children:"Avbryt"}),u.jsx("button",{type:"submit",className:"result-upload-modal-submit",disabled:ee||!M,children:ee?"Laddar upp...":"Ladda upp"})]})]})})]})})},fD=ia(Qt,"results"),mD=async(s={})=>{try{let e=Fo(fD);s.year&&(e=Fo(e,th("year","==",parseInt(s.year)))),s.category&&(e=Fo(e,th("category","==",s.category))),s.duration&&(e=Fo(e,th("duration","==",s.duration))),s.location&&(e=Fo(e,th("location","==",s.location)));const n=await sp(e),a=[];return n.forEach(l=>{const c=l.data();a.push({id:l.id,...c,year:parseInt(c.year)})}),console.log("Firebase results:",a),a}catch(e){throw console.error("Error getting results:",e),e}},gD=async(s,e)=>{try{if(await AT(Nn(Qt,"results",s)),e){const n=rr(cr,e);await hp(n)}}catch(n){throw console.error("Error deleting result:",n),n}},pD=()=>{const{currentUser:s}=gr(),[e,n]=P.useState("all"),[a,l]=P.useState("all"),[c,f]=P.useState("all"),[g,p]=P.useState([]),[_,E]=P.useState(!0),[b,w]=P.useState(!1),[D,O]=P.useState(""),q=(s==null?void 0:s.role)==="admin",M=[2025,2024,2023,2022,2021,2020,2019,2018],H=["Herrar","Damer","Mixed"],G=["3 timmar","6 timmar"],Q=["Ulricehamn","Sälen","Hemsedal","Kolmården"];P.useEffect(()=>{console.log("Fetching results..."),ee()},[]);const ee=async()=>{try{E(!0),O(""),console.log("Getting results from Firebase...");const k=await mD({});console.log("Got results:",k),p(k||[])}catch(k){console.error("Error fetching results:",k),O("Failed to load results. Please try again later.")}finally{E(!1)}},J=async k=>{if(window.confirm("Är du säker på att du vill ta bort detta resultat?"))try{E(!0);const R=g.find(I=>I.id===k);await gD(k,R.fileUrl);const L=g.filter(I=>I.id!==k);p(L)}catch(R){console.error("Error deleting result:",R),O("Failed to delete result. Please try again.")}finally{E(!1)}},re=()=>{w(!0)},V=()=>{w(!1)},N=k=>{console.log("New result:",k),p(R=>[k,...R]),V()},S=k=>{let R=[...g];return e!=="all"&&(R=R.filter(L=>L.year===parseInt(e))),a!=="all"&&(R=R.filter(L=>L.category===a)),c!=="all"&&(R=R.filter(L=>L.duration===c)),R=R.filter(L=>L.location===k),console.log("Filtered results for",k,":",R),R};return u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"results-header-banner"}),u.jsxs("div",{className:"results-container",children:[u.jsx("h1",{className:"results-header-title",children:"Multisport för alla"}),u.jsxs("section",{className:"results-filters-section",children:[u.jsxs("div",{className:"results-filters",children:[u.jsxs("select",{value:e,onChange:k=>n(k.target.value),className:"results-filter-select",children:[u.jsx("option",{value:"all",children:"Alla År"}),M.map(k=>u.jsx("option",{value:k,children:k},k))]}),u.jsxs("select",{value:a,onChange:k=>l(k.target.value),className:"results-filter-select",children:[u.jsx("option",{value:"all",children:"Alla Kategorier"}),H.map(k=>u.jsx("option",{value:k,children:k},k))]}),u.jsxs("select",{value:c,onChange:k=>f(k.target.value),className:"results-filter-select",children:[u.jsx("option",{value:"all",children:"Alla Distanser"}),G.map(k=>u.jsx("option",{value:k,children:k},k))]})]}),u.jsx("div",{className:"results-upload-section",children:q&&u.jsx("button",{onClick:re,className:"upload-result-button",children:"Ladda upp resultat"})})]}),D&&u.jsx("div",{className:"results-error",children:D}),u.jsx("section",{className:"results-content-section",children:u.jsx("div",{className:"results-grid",children:Q.map(k=>u.jsxs("div",{className:"results-location-card",children:[u.jsx("h2",{className:"results-location-title",children:k}),u.jsx("div",{className:"results-list",children:_?u.jsx("div",{className:"results-loading",children:"Laddar..."}):S(k).map(R=>u.jsxs("div",{className:"results-item",children:[u.jsx("a",{href:R.fileUrl,target:"_blank",rel:"noopener noreferrer",className:"results-link",children:u.jsxs("div",{className:"results-info",children:[u.jsx("span",{className:"results-year",children:R.year}),u.jsx("span",{className:"results-category",children:R.category}),u.jsx("span",{className:"results-duration",children:R.duration})]})}),q&&u.jsx("button",{onClick:()=>J(R.id),className:"results-delete-button",children:"Ta bort"})]},R.id))})]},k))})}),b&&u.jsx(dD,{onClose:V,onUploadSuccess:N,isAdmin:q,locations:Q,years:M,categories:H,durations:G})]})]})},_D=()=>{const[s,e]=P.useState(null),[n,a]=P.useState([]),[l,c]=P.useState(1),f=8,[g,p]=P.useState({}),_=P.useMemo(()=>["/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_025.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_057.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_065.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_094.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_113.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_138.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_150.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_202.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_209.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_213.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_235.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_246.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_265.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_352.jpg","/AimRV/images/EE-AIMChallenge24-Uhamn-0132-high.jpg","/AimRV/images/EE-AIMChallenge24-Uhamn-0136-high.jpg","/AimRV/images/EE-AIMChallenge24-Uhamn-0171-high.jpg","/AimRV/images/EE-AIMChallenge24-Uhamn-0405-high.jpg","/AimRV/images/Kolmarden_1.jpg","/AimRV/images/Kolmarden_2.jpg"],[]),E=P.useCallback(()=>{const O=(l-1)*f,q=l*f,M=_.slice(O,q);a(H=>[...H,...M]),c(H=>H+1)},[l,_,f]);P.useEffect(()=>{E()},[E]),P.useEffect(()=>{const O=()=>{window.innerHeight+document.documentElement.scrollTop>=document.documentElement.offsetHeight-100&&(l-1)*f<_.length&&E()};return window.addEventListener("scroll",O),()=>window.removeEventListener("scroll",O)},[E,l,_.length,f]),P.useEffect(()=>{if(s!==null){const O=new Image;O.src=n[s],O.onload=()=>{p(q=>({...q,[s]:!0}))}}},[s,n]);const b=O=>{e(s===O?null:O)},D=(()=>{const O=[];let q=[],M=4;return n.forEach((H,G)=>{q.push({image:H,index:G}),q.length===M&&(O.push(q),q=[],M=M===4?3:4)}),q.length>0&&O.push(q),O})();return u.jsxs("div",{children:[u.jsx("div",{style:{height:"120px"}}),u.jsxs("div",{className:"gallery-container",style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"0.1rem",padding:"0.25rem",position:"relative"},children:[D.map((O,q)=>u.jsx("div",{style:{display:"flex",justifyContent:"center",gap:"3rem",width:"100%",marginBottom:"-20px",paddingLeft:O.length===3?"10%":"0",paddingRight:O.length===3?"10%":"0"},children:O.map(({image:M,index:H})=>{const G=s===H;return u.jsx("div",{onClick:()=>b(H),style:{width:G?"80vw":"250px",height:G?"80vh":"250px",transition:"all 0.5s ease",cursor:"pointer",position:G?"fixed":"relative",top:G?"50%":"auto",left:G?"50%":"auto",transform:G?"translate(-50%, -50%) rotate(0deg)":"rotate(45deg) scale(0.9)",zIndex:G?1e3:1,border:"2px solid #00a6fb",borderRadius:"8px",overflow:"hidden",boxShadow:"0 4px 8px rgba(0, 166, 251, 0.3)",margin:"0.1rem 1.5rem"},children:u.jsx("img",{src:M,alt:`Gallery image ${H+1}`,loading:"lazy",width:G?"auto":"250",height:G?"auto":"250",style:{width:"100%",height:"100%",objectFit:"cover",transform:G?"rotate(0deg) scale(1)":"rotate(-45deg) scale(1.5)"}})},H)})},q)),s!==null&&u.jsx("div",{onClick:()=>e(null),style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.8)",zIndex:999}}),n.length<_.length&&u.jsx("div",{style:{width:"100%",textAlign:"center",padding:"2rem"},children:u.jsx("button",{onClick:E,style:{padding:"0.75rem 1.5rem",backgroundColor:"#00a6fb",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"1rem",fontWeight:"bold"},children:"Load More Images"})})]}),u.jsx("div",{style:{height:"80px"}})]})},yD=()=>{const[s,e]=P.useState(0),[n,a]=P.useState(!1),l=P.useRef([]),c=[{id:1,src:"/videos/AIM nr 1 Formula 16x9.mov",title:"AIM Challenge Formula",description:"Highlights from the AIM Challenge Formula event"},{id:2,src:"/videos/AIM nr 1 Formula 16x9.mov",title:"AIM Challenge Highlights",description:"More exciting moments from the AIM Challenge"},{id:3,src:"/videos/AIM nr 1 Formula 16x9.mov",title:"AIM Challenge Recap",description:"A recap of the amazing AIM Challenge events"}];P.useEffect(()=>{l.current=l.current.slice(0,c.length)},[c.length]);const f=_=>{l.current.forEach((E,b)=>{b!==_&&E&&E.pause()}),a(!0),e(_)},g=()=>{e(_=>(_+1)%c.length)},p=()=>{e(_=>(_-1+c.length)%c.length)};return u.jsxs("div",{className:"video-carousel-container",style:{padding:"80px 0 40px 0",backgroundColor:"#f0f8ff",borderTop:"1px solid #e0e0e0",width:"100%",maxWidth:"100%"},children:[u.jsx("h2",{style:{textAlign:"center",marginBottom:"30px",color:"#00a6fb",fontSize:"2rem"},children:"AIM Challenge Videos"}),u.jsxs("div",{style:{position:"relative",width:"100%",margin:"0 auto",overflow:"hidden"},children:[u.jsx("button",{onClick:p,style:{position:"absolute",left:"10px",top:"50%",transform:"translateY(-50%)",zIndex:10,background:"rgba(0, 166, 251, 0.7)",color:"white",border:"none",borderRadius:"50%",width:"50px",height:"50px",fontSize:"24px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.3)"},"aria-label":"Previous video",children:"<"}),u.jsx("button",{onClick:g,style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",zIndex:10,background:"rgba(0, 166, 251, 0.7)",color:"white",border:"none",borderRadius:"50%",width:"50px",height:"50px",fontSize:"24px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.3)"},"aria-label":"Next video",children:">"}),u.jsx("div",{style:{display:"flex",transition:"transform 0.5s ease",transform:`translateX(${s*-100}%)`,width:"100%",position:"relative"},children:c.map((_,E)=>u.jsx("div",{style:{flex:"0 0 100%",padding:"0 20px",boxSizing:"border-box",width:"100%"},children:u.jsxs("div",{style:{background:"#fff",borderRadius:"8px",overflow:"hidden",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",maxWidth:"1200px",margin:"0 auto"},children:[u.jsx("div",{style:{position:"relative",paddingTop:"56.25%"},children:u.jsx("video",{ref:b=>l.current[E]=b,src:_.src,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover"},controls:!0,onPlay:()=>f(E),onPause:()=>a(!1)})}),u.jsxs("div",{style:{padding:"20px"},children:[u.jsx("h3",{style:{margin:"0 0 10px 0",color:"#00a6fb",fontSize:"1.5rem"},children:_.title}),u.jsx("p",{style:{margin:0,color:"#333",lineHeight:1.6},children:_.description})]})]})},_.id))}),u.jsx("div",{style:{display:"flex",justifyContent:"center",marginTop:"20px"},children:c.map((_,E)=>u.jsx("button",{onClick:()=>e(E),style:{width:"12px",height:"12px",borderRadius:"50%",margin:"0 5px",background:E===s?"#00a6fb":"#ccc",border:"none",cursor:"pointer"}},E))})]})]})},vD=()=>u.jsxs("div",{className:"om-oss-container",children:[u.jsx("div",{className:"om-oss-header page_01 locked-background flex flex_col flex_j_E",children:u.jsx("div",{className:"om-oss-header-content",children:u.jsx("div",{className:"trans-background page_01box flex flex_col flex_j_SA",children:u.jsx("div",{className:"om-oss-title flex flex_j_C flex_a_C",children:u.jsx(z,{textKey:"om-oss-title",defaultText:"OM OSS",tag:"p",className:"font_blue fonts_huge"})})})})}),u.jsx("section",{className:"om-oss-section flex flex_j_C flex_a_C set-03",children:u.jsx("div",{className:"om-oss-content MaxWH flex flex_col flex_j_C",children:u.jsxs("div",{className:"om-oss-content-wrapper",children:[u.jsx(z,{textKey:"om-oss-title-1",defaultText:"Vad är AIM Challenge?",tag:"h2",className:"fonts_large om-oss-title"}),u.jsx(z,{textKey:"om-oss-text-1",defaultText:"AIM Challenge är en multisporttävling som arrangeras i Åre, Sverige. Tävlingen går ut på att ta sig runt en bana med hjälp av karta och kompass. Längs banan finns kontroller som ska besökas i rätt ordning.",tag:"p",className:"fonts_small om-oss-text"}),u.jsx(z,{textKey:"om-oss-text-2",defaultText:"​",tag:"p",className:"fonts_small om-oss-text"}),u.jsx(z,{textKey:"om-oss-text-3",defaultText:"Tävlingen arrangeras av AIM Challenge AB och har funnits sedan 2004. Tävlingen har utvecklats under åren och är idag en av Sveriges största multisporttävlingar.",tag:"p",className:"fonts_small om-oss-text"}),u.jsx(z,{textKey:"om-oss-text-4",defaultText:"​",tag:"p",className:"fonts_small om-oss-text"}),u.jsx(z,{textKey:"om-oss-text-5",defaultText:"AIM Challenge är en tävling för alla. Oavsett om du är elit eller motionär finns det en klass för dig. Tävlingen är uppdelad i olika klasser beroende på svårighetsgrad och längd.",tag:"p",className:"fonts_small om-oss-text"}),u.jsx(z,{textKey:"om-oss-text-6",defaultText:"​",tag:"p",className:"fonts_small om-oss-text"}),u.jsx(z,{textKey:"om-oss-text-7",defaultText:"Tävlingen går ut på att ta sig runt en bana med hjälp av karta och kompass. Längs banan finns kontroller som ska besökas i rätt ordning. Tävlingen innehåller olika moment som löpning, cykling, paddling, simning och klättring.",tag:"p",className:"fonts_small om-oss-text"}),u.jsx(z,{textKey:"om-oss-text-8",defaultText:"​",tag:"p",className:"fonts_small om-oss-text"})]})})}),u.jsx("div",{className:"om-oss-background-container locked-background"}),u.jsx("section",{className:"om-oss-section flex flex_j_C flex_a_C set-03",children:u.jsx("div",{className:"om-oss-content MaxWH flex flex_col flex_j_C",children:u.jsxs("div",{className:"om-oss-content-wrapper",children:[u.jsx(z,{textKey:"om-oss-title-2",defaultText:"Så här är det att vara med i AIM Challenge",tag:"h2",className:"fonts_large om-oss-title"}),u.jsx(z,{textKey:"om-oss-text-9",defaultText:"AIM Challenge är en rolig tävling. Det är oftast det som är det centrala i de deltagarkommentarer vi får både från eliten och motionärerna. Man färdas till största delen med hjälp av sin mountainbike och sina löparskor, men också i klättersele, paddlandes i kanot eller så strippar man helt enkelt och simmar ut till kontroller som är i vattnet.",tag:"p",className:"fonts_small om-oss-text"}),u.jsx(z,{textKey:"om-oss-text-10",defaultText:"​",tag:"p",className:"fonts_small om-oss-text"}),u.jsx(z,{textKey:"om-oss-text-11",defaultText:"Det finns inga krav på förkunskaper om de olika momenten utan vi har kunnig personal vid varje post som innefattas av klättring, firning, simning, paddling. Varje lag genomför tävlingen i sin egen takt och med egen strategi. Visst finns det de lag som satsar allt för att knipa segern och det är det som är det roliga med konceptet. Elit och motionär tävlar på samma villkor på samma bana.",tag:"p",className:"fonts_small om-oss-text"}),u.jsx(z,{textKey:"om-oss-text-12",defaultText:"​",tag:"p",className:"fonts_small om-oss-text"}),u.jsx(z,{textKey:"om-oss-text-13",defaultText:"Våra deltagare är allt ifrån världseliten i multisport som Thule Adventure team, Team Silva, Team Multitude Salomon men också glada motionärer allt från åldrarna 15 till pensionärer. Oavsett ålder och fysiska förutsättningar är detta ett roligt och annorlunda sätt att tävla på.",tag:"p",className:"fonts_small om-oss-text"})]})})}),u.jsxs("section",{className:"om-oss-cards-container simple-background",children:[u.jsxs("div",{className:"om-oss-card simple-background",children:[u.jsxs("div",{className:"om-oss-card-content trans-background",children:[u.jsx(z,{textKey:"card-1-title",defaultText:"REGLER",tag:"p",className:"font_blue fonts_medium_B"}),u.jsx(z,{textKey:"card-1-text",defaultText:"Tävlingsregler och information",tag:"p",className:"font_blue fonts_medium"})]}),u.jsx("div",{className:"om-oss-card-button",children:u.jsx(Ee,{to:"/page2",className:"location button-2",children:"Läs mer"})})]}),u.jsxs("div",{className:"om-oss-card simple-background",children:[u.jsxs("div",{className:"om-oss-card-content trans-background",children:[u.jsx(z,{textKey:"card-2-title",defaultText:"FAQ",tag:"p",className:"font_blue fonts_medium_B"}),u.jsx(z,{textKey:"card-2-text",defaultText:"Vanliga frågor och svar",tag:"p",className:"font_blue fonts_medium"})]}),u.jsx("div",{className:"om-oss-card-button",children:u.jsx(Ee,{to:"/page3",className:"location button-2",children:"Läs mer"})})]}),u.jsxs("div",{className:"om-oss-card simple-background",children:[u.jsxs("div",{className:"om-oss-card-content trans-background",children:[u.jsx(z,{textKey:"card-3-title",defaultText:"HISTORIEN OM AIM",tag:"p",className:"font_blue fonts_medium_B"}),u.jsx(z,{textKey:"card-3-text",defaultText:"Vår resa sedan 2004",tag:"p",className:"font_blue fonts_medium"})]}),u.jsx("div",{className:"om-oss-card-button",children:u.jsx(Ee,{to:"/page3",className:"location button-2",children:"Läs mer"})})]})]})]}),xD=()=>u.jsxs("div",{className:"flex flex_col regler-container",children:[u.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",children:u.jsx("div",{className:"trans-background page_01box flex flex_col flex_j_SA",children:u.jsx("div",{className:"om-oss-title flex flex_j_C flex_a_C",children:u.jsx("p",{className:"font_blue fonts_huge font_white",children:"REGLER"})})})}),u.jsx("section",{className:"om-oss-section regler-section flex flex_j_C flex_a_C set-03",children:u.jsx("div",{className:"om-oss-content MaxWH flex flex_col flex_j_C regler-content-container",children:u.jsxs("div",{className:"regler-content",children:[u.jsx("h2",{className:"regler-heading font_white",children:"LAGET"}),u.jsxs("ul",{className:"regler-list",children:[u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Åldersgräns 15år/18år"}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Båda deltagarna måste ha olycksförsäkring som täcker olyckor i samband med tävling/idrottsaktiviteter."}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Det är lagets ansvar att se till att de är registrerade i rätt klass."}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Startnummer ska placeras fram på cykel samt synligt på kroppen på båda deltagarna"}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Det är tillåtet att använda GPS men det är alltid kartan som gäller. GPSens kartunderlag stämmer inte alltid överens med den utskrivna AIM kartan."}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Laget ska alltid vara samlade max 20 meter mellan lagmedlemmarna."}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Det är inte tillåtet att ha följebil."})]}),u.jsx("h2",{className:"regler-heading-with-margin font_white",children:"SÄKERHET"}),u.jsxs("ul",{className:"regler-list",children:[u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Lagen väljer själva vilka kontroller de klarar att ta baserat på väder, egen färdighet och kunskap."}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Lagen väljer själva vilken väg de vill ta till kontrollerna baserat på väder, egen färdighet och kunskap."}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Trafiken är inte reglerad under tävlingen."}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Trafikregler gäller alltid."}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Första hjälpen kit ska bäras med under hela tävlingen"}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Hjälm ska bäras under all cykling, klättring, bouldering och rappellering"}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Vid olycka är det obligatoriska att hjälpa till."}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Vid allvarlig olycka ring nöd nummer 112 i Sverige och 113 i Norge"}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Vid behov för enklare medicinsk hjälp ring telefonnumret på baksidan av kartan"}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Tävlingsledningens direktiv gäller alltid."})]}),u.jsx("h2",{className:"regler-heading-with-margin font_white",children:"ÖVRIGT"}),u.jsxs("ul",{className:"regler-list",children:[u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Elcyklar är ej tillåtet, med undantag för Elcykelklassen i Hemsedal."}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Beroende på kapacitet är det möjligt att använda liften i Hemsedal, lyssna noga på vad speakern ger för information för vad som gäller för årets tävling."}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Deltagare som bryter ska genast meddela tävlingsledningen. Telefonnummer står på kartan."}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Synliga, osynliga och tävlande domare befinner sig i tävlingsområdet och ser till att reglerna följs."}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Regelbrott kan leda till poängavdrag eller diskvalificering"}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Deltagare som vinner priser som lottas ut pga olika händelser eller som dras på startnummer måste närvara på prisutdelningen för att få sitt pris. Är man inte närvarande och ditt namn/lagnamn dras drar vi reservnamn/lagnamn."}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"LINDVALLEN, viadukten mellan Lodgen och Experium är stängd under hela tävlingen."}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Tävlingsledningens beslut går inte att överklaga."}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Kloka människor skräpar inte ner, för alla andra är det förbjudet."}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Respektera privat mark, ta inte genvägar över privata områden"}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Beträda odlad mark är förbjudet. Åkrar som inte har skördats är odlad mark."}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Stäng alla grindar som ni öppnar."}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Visa betande djur respekt genom att stiga av cykeln och gå förbi dem."})]}),u.jsx("h2",{className:"regler-heading-with-margin font_white",children:"OBLIGATORISK UTRUSTNING"}),u.jsxs("ul",{className:"regler-list",children:[u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Cykel, utan elmotor med undantag för Elcykelklassen i Hemsedal."}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Cykelhjälm vid cykling"}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Mobiltelefon (1 st per lag)"}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Första hjälpen (1 st per lag)"})]}),u.jsx("h2",{className:"regler-heading-with-margin font_white",children:"VI REKOMMENDERAR ATT NI ÄVEN HAR MED ER"}),u.jsxs("ul",{className:"regler-list",children:[u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Förstärkningskläder vid hastigt väderomslag"}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Kompass"}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Vatten i en Camelbak"}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Energy bars eller liknande"}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Klocka"}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Löparskor"}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Cykelslang och reparationskit + övriga verktyg, tex en biketool för enklare justeringar"})]}),u.jsx("h2",{className:"regler-heading-with-margin font_white",children:"AIM CHALLENGE STÅR FÖR"}),u.jsx("ul",{className:"regler-list",children:u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Kanot, SUP, sele, rep, hjälm vid firningar/klättring. All utrustning vid bemannade poster finns där klättring etc förekommer."})}),u.jsx("h2",{className:"regler-heading-with-margin font_white",children:"VILLKOR I FÖRBINDELSE MED ANMÄLAN"}),u.jsx("p",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Villkor i förbindelse med anmälan"}),u.jsxs("p",{className:"fonts_small om-oss-text regler-contact font_white",children:["Om du har frågor: ",u.jsx("a",{href:"mailto:info@aimchallenge.com",className:"font_white",children:"info@aimchallenge.com"})]})]})})}),u.jsx("div",{className:"locked-background",style:{height:"50vh",width:"100%"}})]}),ED=({question:s,answer:e})=>{const[n,a]=P.useState(!1),l=()=>{a(!n)};return u.jsxs("div",{className:"faq-item",children:[u.jsxs("div",{className:`faq-question ${n?"active":""}`,onClick:l,children:[u.jsx("h3",{className:"question-text",children:s}),u.jsx("span",{className:"icon",children:n?"▲":"▼"})]}),u.jsx("div",{className:`faq-answer ${n?"open":""}`,children:u.jsx("p",{children:e})})]})},ah=({title:s,items:e})=>u.jsxs("div",{className:"faq-category",children:[u.jsx("h2",{className:"faq-category-title",children:s}),e.map((n,a)=>u.jsx(ED,{question:n.question,answer:n.answer},a))]}),TD=()=>{const s=[{question:"Jag är nybörjare på multisport, kan jag delta?",answer:"Absolut, det är DU som väljer väg och antal kontroller. Ta 5 kontroller och ha en fin tur på fjället, eller ta 40 och vinn. Alla kan delta efter egen förmåga och ambition."},{question:"Behöver man vara en riktigt stenhård multisportare för att delta?",answer:"Det finns inga krav på förkunskaper om de olika momenten utan vi har kunnig personal vid varje post som innebär klättring, firning, simning etc. I och med AIM-konceptet så tar varje lag tävlingen i sin egen takt och sin egen strategi. Visst finns det de lag som satsar allt för att knipa segern och det är det som är det roliga med konceptet. Elit och motionär tävlar på samma villkor på samma bana."},{question:"Är det olika klasser?",answer:"Dam, Herr och Mix. Elit och motion tävlar i samma klass."},{question:"Vilken åldersgräns gäller?",answer:"Åldersgränsen för AIM Challenge är 15/18 år beroende på tävling och medtävlande. Läs mer här."},{question:"Kan jag ändra information om mitt lag. Tex ändrar lagnamn eller deltagare?",answer:"Ja, logga in på ditt RaceID-konto för att göra ändringar."},{question:"Om jag blir sjuk, får jag tillbaka min anmälningsavgift då?",answer:"Nej. Det går däremot bra att sälja sin startplats till en kompis. Vid försäljning så uppdaterar ni era uppgifter på ditt RaceID-konto. Alternativt ta kontakt med ditt försäkringsbolag för att se vad det täcker."},{question:"Hur vet jag om jag har olycksförsäkring?",answer:"Kontakta ditt försäkringsbolag, de flesta har den redan."}],e=[{question:"Ska jag tävla med löpskor eller cykelskor?",answer:"Det är en fördel att cykla med SPD sko, och det är en fördel att springa med löparskor. Ta med både och!"},{question:"Behöver man ha all utrustning med sig?",answer:"Nej. Deltagare ska ha med sig cykel, hjälm, första hjälpen och mobiltelefon. Vid en klätterkontroll finns kunnig personal med all nödvändig utrustning, de säkrar deltagarna och ser till att klättringen går säkert till. Vid en paddel kontroll finns det kanot, SUP, luftmadrass eller liknande. Skulle man inte ha en mountainbike går det bra att hyra och detta bör i så fall förbokas."},{question:"Får man använda sig av GPS?",answer:"Ja, det är tillåtet att använda en GPS. Det är dock inte alltid det bästa eftersom det är kartan som gäller och GPSen och kartans information kan skilja sig åt."}],n=[{question:"Om jag inte hinner till registreringen på fredag kväll, vad gör jag då?",answer:"Det finns möjlighet för registrering på lördag morgon innan start, dock ser vi helst att all registrering sker under fredag kvällen."},{question:"Ingår banketten i priset?",answer:"Nej, den får man köpa vid sidan om. Se respektive tävling för bokning av mat. Men prisutdelningen som följer efter banketten är gratis för alla deltagare."},{question:"Vilka tider är det som gäller för själva tävlandet?",answer:"Program: Fredagen: Registrering 17:00-21:00 i Lindvallen & 19.00-22.00 i Hemsedal. Lördagen: 9.30 Info möte vid start, 10.00 START, 16.00 MÅL. 22.00 PRISUTDELNING. Söndagen: Väl förtjänad sovmorgon och en härlig dag på fjället! Se detaljerat program under de enskilda tävlingarna."}],a=[{question:"Hur ser kartan ut?",answer:"Kartan får alla lagen när startskottet går. Där är samtliga kontroller utmärkta med position, poäng, beskrivning och om kontrollen innefattar klättring, paddling etc. Skalan är ungefär 1:30 000. Varje år är ett nytt år och därför en ny bansträckning. Kontrollernas position varierar från år till år så den strategi man hade året innan kanske inte lönar sig i år."},{question:"Måste både deltagarna simma/klättra/rappellera till en kontroll?",answer:"Lagen ska alltid hålla ihop och ska under hela tävlingen kunna kommunicera med varandra. Utom på de kontroller som vi kallar bemannade kontroller, dvs simma, paddla, klättra, balansera och rappelera. Här räcker det att den ena i laget tar posten. Både deltagarna ska dock vara så nära varandra som möjligt vid dessa poster."},{question:"Rappellering och klättring - hur goda bakgrundskunskaper måste man ha för att ställa upp?",answer:"Vid varje bemannad post finns det personal som är kunniga och med riktig utrustning. Lite erfarenhet ifrån klättring hjälper men är inte nödvändigt. Man behöver ingen kunskap om säkerhet."},{question:"Vilka regler gäller?",answer:"De regler som gäller för anmälan och under tävling finner du här >>"}];return u.jsxs("div",{className:"flex flex_col faq-container",children:[u.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",children:u.jsx("div",{className:"trans-background page_01box flex flex_col flex_j_SA",children:u.jsx("div",{className:"om-oss-title flex flex_j_C flex_a_C",children:u.jsx("p",{className:"font_blue fonts_huge font_white",children:"FAQ"})})})}),u.jsx("section",{className:"faq-section faq-dark-section",children:u.jsx("div",{className:"faq-content-container",children:u.jsxs("div",{className:"faq-content",children:[u.jsx("h1",{className:"faq-heading",children:"Vanliga frågor"}),u.jsx(ah,{title:"Allmänna frågor",items:s})]})})}),u.jsx("section",{className:"faq-section faq-light-section",children:u.jsx("div",{className:"faq-content-container",children:u.jsx("div",{className:"faq-content",children:u.jsx(ah,{title:"Utrustning",items:e})})})}),u.jsx("section",{className:"faq-section faq-dark-section",children:u.jsx("div",{className:"faq-content-container",children:u.jsx("div",{className:"faq-content",children:u.jsx(ah,{title:"Tävlingsdagen",items:n})})})}),u.jsx("section",{className:"faq-section faq-light-section",children:u.jsx("div",{className:"faq-content-container",children:u.jsx("div",{className:"faq-content",children:u.jsx(ah,{title:"Teknisk information",items:a})})})}),u.jsx("section",{className:"faq-section faq-dark-section",children:u.jsx("div",{className:"faq-content-container",children:u.jsx("div",{className:"faq-content",children:u.jsxs("div",{className:"faq-category",children:[u.jsx("h2",{className:"faq-category-title",children:"Har du fler frågor?"}),u.jsx("div",{className:"flex flex_j_C flex_a_C",children:u.jsxs("p",{className:"faq-contact-text",children:["Ta gärna kontakt om ni inte hittar svaret på era frågor: ",u.jsx("a",{href:"mailto:info@aimchallenge.com",className:"font_white",children:"info@aimchallenge.com"})]})})]})})})}),u.jsx("div",{className:"locked-background",style:{height:"50vh",width:"100%"}})]})},bD=()=>u.jsxs("div",{className:"flex flex_col",children:[u.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",children:u.jsx("div",{className:"trans-background page_01box flex flex_col flex_j_SA",children:u.jsx("div",{className:"om-oss-title flex flex_j_C flex_a_C",children:u.jsx(z,{textKey:"historien-om-aim-title",defaultText:"HISTORIEN OM AIM",tag:"p",className:"font_blue fonts_huge font_white"})})})}),u.jsx("section",{className:"om-oss-section regler-section flex flex_j_C flex_a_C set-03 historien-om-aim-section",children:u.jsx("div",{className:"om-oss-content MaxWH flex flex_col flex_j_C regler-content-container",children:u.jsxs("div",{className:"regler-content historien-om-aim-content",children:[u.jsx(z,{textKey:"historien-om-aim-text-1",defaultText:"AIM Challenge är idag Nordens största multisporttävling men historien om AIM Challenge börjar mycket tidigare än så.",tag:"p",className:"fonts_small om-oss-text font_white historien-om-aim-text"}),u.jsx(z,{textKey:"historien-om-aim-text-2",defaultText:"Vi låter Lisa Nordlind, grundare och initiativtagare till AIM Challenge berätta hur det gick till:",tag:"p",className:"fonts_small om-oss-text font_white historien-om-aim-text"}),u.jsx(z,{textKey:"historien-om-aim-text-3",defaultText:"År 2000 deltog jag i mitt livs största äventyr när jag tävlade i multisporttävlingen Camel Trophy.",tag:"p",className:"fonts_small om-oss-text font_white historien-om-aim-text"}),u.jsx(z,{textKey:"historien-om-aim-text-4",defaultText:"Av över en miljon sökande så var det 16 tvåmannalag från 22 länder som fick vara med och leka. Jag fick äran att representera Team Skandinavien tillsammans med brandmannen Mikael Stening.",tag:"p",className:"fonts_small om-oss-text font_white historien-om-aim-text"}),u.jsx(z,{textKey:"historien-om-aim-text-5",defaultText:"Lag på två personer skulle under 3 veckor samla så många kontroller som möjligt utav 400 utplacerade. Huvudtransportmedel var en specialbyggd RIB (Rigid Inflatable Boat). Båten var utrustad med mountainbikes, klätterutrustning, paddelbräda, dyk- och snorkel utrustning, tält, mat och vatten.",tag:"p",className:"fonts_small om-oss-text font_white historien-om-aim-text"}),u.jsx(z,{textKey:"historien-om-aim-text-6",defaultText:"Lagen fick själva välja vilka kontroller de ville ta, i vilken ordning och vilken väg.",tag:"p",className:"fonts_small om-oss-text font_white historien-om-aim-text"}),u.jsx(z,{textKey:"historien-om-aim-text-7",defaultText:"Olika kontroller gav olika poäng. Låter det bekant?",tag:"p",className:"fonts_small om-oss-text font_white historien-om-aim-text"}),u.jsx(z,{textKey:"historien-om-aim-text-8",defaultText:"Tävlingsområdet var ögrupperna Tonga och Samoa i Söderhavet. Det var galet roligt och Mikael och jag lyckades ta oss till en fjärde plats.",tag:"p",className:"fonts_small om-oss-text font_white historien-om-aim-text"}),u.jsx(z,{textKey:"historien-om-aim-text-9",defaultText:"År 2004 spenderade jag min första sommar i Hemsedal. Det var ganska lugnt i den lilla skidorten så jag beslutade mig för att starta ett nytt event. För mig är det viktigt att träning är roligt och jag tycker att den bästa träningen är tävling. Eftersom Camel Trophy var det roligaste jag någonsin varit med om så föll det naturligt att försöka skapa ett event där andra människor får uppleva samma lekfulla koncept om än i en mindre skala. Tävlingen fick namnet 'Hemsedal Challenge' och den första helgen i september 2004 stod 150 deltagare på startlinjen.",tag:"p",className:"fonts_small om-oss-text font_white historien-om-aim-text"}),u.jsx(z,{textKey:"historien-om-aim-text-10",defaultText:"Nära, kära, vänner och familj samlades från alla håll och kanter för att ställa upp som funktionärer.",tag:"p",className:"fonts_small om-oss-text font_white historien-om-aim-text"}),u.jsx(z,{textKey:"historien-om-aim-text-11",defaultText:"Efter 5 år startade vi en tävling till i Lindvallen och bytte namn till AIM Challenge.",tag:"p",className:"fonts_small om-oss-text font_white historien-om-aim-text"}),u.jsx(z,{textKey:"historien-om-aim-text-12",defaultText:"Efter AIM Challenge 2019 tackade Lisa för sig och lämnade över stafettpinnen till Marcus Andersson, som nu står inför en spännande framtid där han ser frem emot att driva vidare och utveckla AIM Challenge.",tag:"p",className:"fonts_small om-oss-text font_white historien-om-aim-text"})]})})}),u.jsx("div",{className:"historien-om-aim-background-container locked-background page_01"})]}),AD=({isOpen:s,onClose:e})=>{const[n,a]=P.useState(""),[l,c]=P.useState(""),[f,g]=P.useState(null),[p,_]=P.useState(""),[E,b]=P.useState(!1),[w,D]=P.useState(""),[O,q]=P.useState(""),[M,H]=P.useState(0),[G,Q]=P.useState(0),[ee,J]=P.useState("Alla"),re=P.useRef(null),V=P.useRef(null),{isAdmin:N}=Ol(),S=ce=>{const ke=ce.target.files[0];if(ke){ke.name||(ke.name=`image-${Date.now()}.jpg`);const C=new FileReader;C.onloadend=()=>{g(ke),_(C.result)},C.readAsDataURL(ke)}},k=ce=>{c(ce.target.value)},R=()=>{re.current&&(H(re.current.selectionStart),Q(re.current.selectionEnd))},L=()=>{if(b(!E),!E&&re.current){const ce=l.substring(re.current.selectionStart,re.current.selectionEnd);q(ce),H(re.current.selectionStart),Q(re.current.selectionEnd)}},I=()=>{if(!w.trim()){alert("Please enter a URL");return}const ce=`[${O||w}](${w})`,ke=l.substring(0,M)+ce+l.substring(G);c(ke),b(!1),D(""),q("")},Ce=async()=>{if(!n.trim()||!l.trim()){alert("Vänligen fyll i titel och innehåll");return}try{let ce=null;if(f){const ie=Date.now(),me=f.name?f.name.split(".").pop():"jpg",ue=`image_${ie}.${me}`,he=rr(cr,`post-images/${ue}`);console.log("Uploading image with new filename:",ue),await cd(he,f),ce=await up(he),console.log("Image URL after upload:",ce)}const ke={title:n,content:l,image:ce,date:new Date().toLocaleDateString("sv-SE",{year:"numeric",month:"long",day:"numeric"}),category:ee,createdAt:new Date().toISOString()},C=await wT(ia(Qt,"posts"),ke);console.log("Post saved with ID:",C.id),Ae(),e(),window.location.reload()}catch(ce){console.error("Error saving post:",ce),alert("Ett fel uppstod när inlägget skulle sparas. Försök igen.")}},Ae=()=>{a(""),c(""),g(null),_(""),b(!1),D(""),q(""),J("Alla")},le=()=>{Ae(),e()},ye=ce=>{ce.target.className==="create-post-modal__overlay"&&le()};return!s||!N?null:u.jsxs("div",{className:"create-post-modal",children:[u.jsx("div",{className:"create-post-modal__overlay",onClick:ye}),u.jsxs("div",{className:"create-post-modal__content",children:[u.jsx("h2",{className:"create-post-modal__title",children:"Skapa nytt inlägg"}),u.jsxs("div",{className:"create-post-modal__form",children:[u.jsxs("div",{className:"create-post-modal__form-group",children:[u.jsx("label",{className:"create-post-modal__label",children:"Titel"}),u.jsx("input",{type:"text",className:"create-post-modal__input",value:n,onChange:ce=>a(ce.target.value),placeholder:"Ange titel"})]}),u.jsxs("div",{className:"create-post-modal__form-group",children:[u.jsx("label",{className:"create-post-modal__label",children:"Bild (valfritt)"}),u.jsxs("div",{className:"create-post-modal__image-upload",onClick:()=>V.current.click(),children:[p?u.jsx("img",{src:p,alt:"Preview",className:"create-post-modal__image-preview"}):u.jsx("div",{className:"create-post-modal__image-placeholder",children:"Klicka för att ladda upp en bild"}),u.jsx("input",{type:"file",accept:"image/*",onChange:S,className:"create-post-modal__file-input",ref:V})]})]}),u.jsxs("div",{className:"create-post-modal__form-group",children:[u.jsx("label",{className:"create-post-modal__label",children:"Kategori"}),u.jsxs("select",{className:"create-post-modal__input",value:ee,onChange:ce=>J(ce.target.value),children:[u.jsx("option",{value:"Alla",children:"Alla"}),u.jsx("option",{value:"Inga",children:"Inga"}),u.jsx("option",{value:"Kolmården",children:"Kolmården"}),u.jsx("option",{value:"Sälen",children:"Sälen"}),u.jsx("option",{value:"Hemsedal",children:"Hemsedal"}),u.jsx("option",{value:"Ulricshamn",children:"Ulricshamn"}),u.jsx("option",{value:"Tripplen",children:"Tripplen"})]})]}),u.jsxs("div",{className:"create-post-modal__form-group",children:[u.jsx("label",{className:"create-post-modal__label",children:"Innehåll"}),u.jsxs("div",{children:[u.jsx("textarea",{className:"create-post-modal__textarea",value:l,onChange:k,onSelect:R,ref:re,placeholder:"Ange innehåll"}),u.jsx("button",{type:"button",onClick:L,className:"create-post-modal__button create-post-modal__button--secondary",style:{marginTop:"10px"},children:"Lägg till länk"}),E&&u.jsxs("div",{className:"create-post-modal__link-tools",children:[u.jsxs("div",{children:[u.jsx("label",{children:"Länktext:"}),u.jsx("input",{type:"text",value:O,onChange:ce=>q(ce.target.value),className:"create-post-modal__input",style:{marginTop:"5px",width:"100%"}})]}),u.jsxs("div",{children:[u.jsx("label",{children:"URL:"}),u.jsx("input",{type:"text",value:w,onChange:ce=>D(ce.target.value),className:"create-post-modal__input",style:{marginTop:"5px",width:"100%"}})]}),u.jsx("div",{style:{marginTop:"10px"},children:u.jsx("button",{onClick:I,className:"create-post-modal__button create-post-modal__button--primary",children:"Infoga länk"})})]})]})]}),u.jsxs("div",{className:"create-post-modal__actions",children:[u.jsx("button",{onClick:le,className:"create-post-modal__button create-post-modal__button--secondary",children:"Avbryt"}),u.jsx("button",{onClick:Ce,className:"create-post-modal__button create-post-modal__button--primary",disabled:!n.trim()||!l.trim(),children:"Spara"})]})]})]})]})},wD=()=>{const[s,e]=P.useState(""),[n,a]=P.useState(!1),[l,c]=P.useState(!1),{isAdmin:f}=Ol(),[g,p]=P.useState([]),[_,E]=P.useState(!0),[b,w]=P.useState(null);P.useEffect(()=>{(async()=>{try{E(!0);const H=ia(Qt,"posts"),Q=(await sp(H)).docs.map(J=>({id:J.id,...J.data()}));Q.forEach(J=>{J.image&&console.log(`Post ${J.id} image URL:`,J.image)});const ee=Q.map(J=>{const re=J;if(console.log(`Post ${J.id}:`,re),re.image){console.log(`Post ${J.id} image URL:`,re.image);const V=new Image;V.onload=()=>console.log(`Image for post ${J.id} loaded successfully`),V.onerror=()=>console.error(`Image for post ${J.id} failed to load`),V.src=re.image}else console.warn(`Post ${J.id} has no image URL`);return{...re,id:J.id}});p(ee),w(null)}catch(H){console.error("Error fetching posts:",H),w("Failed to load posts")}finally{E(!1)}})()},[]);const D=M=>{M.preventDefault(),console.log("Email submitted:",s),a(!0),e(""),setTimeout(()=>a(!1),3e3)},O=async M=>{try{E(!0);let H=null;if(M.image){const J=`post-images/${Date.now()}_${M.image.name}`;console.log("Uploading image with filename:",J);const re=rr(cr,J);await cd(re,M.image),H=await up(re),console.log("Image URL after upload:",H);try{const V=await fetch(H,{method:"HEAD"});console.log("Image URL test response:",V.status,V.ok)}catch(V){console.error("Error testing image URL:",V)}}const G={title:M.title,content:M.content,image:H,date:new Date().toLocaleDateString("sv-SE",{day:"numeric",month:"long",year:"numeric"}),createdAt:new Date().toISOString()};console.log("Saving post with data:",G);const Q=await wT(ia(Qt,"posts"),G);console.log("Post saved with ID:",Q.id);const ee={id:Q.id,...G};p(J=>[ee,...J]),c(!1),w(null)}catch(H){console.error("Error saving post:",H),w("Failed to save post")}finally{E(!1)}},q=async M=>{try{const H=g.find(G=>String(G.id)===String(M));if(await AT(Nn(Qt,"posts",String(M))),H&&H.image)try{const Q=(ee=>{const J=ee.match(/\/o\/(.+)\?alt=media/);return J?decodeURIComponent(J[1]):null})(H.image);if(Q){const ee=rr(cr,Q);await hp(ee)}}catch(G){console.error("Failed to delete image from storage:",G)}window.location.reload()}catch(H){console.error("Failed to delete post:",H)}};return u.jsxs("div",{className:"flex flex_col",children:[u.jsx("section",{className:"page_01 dynamic-background background-editable flex flex_col flex_j_E",id:"senaste-nytt-top-background",children:u.jsx("div",{className:"MaxWH flex flex_col flex_j_SA",children:u.jsx("div",{className:"om-oss-title flex flex_j_C flex_a_C",children:u.jsx("p",{className:"fonts_huge senaste-nytt-main-title",children:"SENASTE NYTT"})})})}),u.jsx("div",{className:"set-03 senaste-nytt-subscribe-section",children:u.jsxs("div",{className:"senaste-nytt-container flex flex_col flex_j_C flex_a_C font_white",children:[u.jsx("h2",{className:"fonts_large senaste-nytt-title",children:"Håll dig uppdaterad"}),u.jsx("p",{className:"fonts_small senaste-nytt-description",children:"Prenumerera på vårt nyhetsbrev för att få de senaste uppdateringarna om AIM Challenge direkt i din inkorg."}),u.jsxs("form",{onSubmit:D,className:"senaste-nytt-form flex flex_col flex_a_C",children:[u.jsxs("div",{className:"senaste-nytt-form-input-container flex",children:[u.jsx("input",{type:"email",value:s,onChange:M=>e(M.target.value),placeholder:"Din e-postadress",required:!0,className:"senaste-nytt-form-input fonts_small",id:"newsletter-email",name:"newsletter-email",autoComplete:"email"}),u.jsx("button",{type:"submit",className:"senaste-nytt-form-button fonts_small flex flex_j_C flex_a_C",children:u.jsx("span",{children:"Prenumerera"})})]}),n&&u.jsx("p",{className:"senaste-nytt-form-success",children:"Tack för din prenumeration!"})]})]})}),u.jsx("div",{className:"set-03 senaste-nytt-news-section",children:u.jsxs("div",{className:"senaste-nytt-container",children:[u.jsx("h2",{className:"senaste-nytt-section-title",children:"Nyheter"}),f&&u.jsx("div",{className:"senaste-nytt-admin-actions flex flex_j_E",children:u.jsx("button",{className:"senaste-nytt-create-post-button",onClick:()=>c(!0),children:"Skapa nytt inlägg"})}),u.jsx("div",{className:"senaste-nytt-news-grid",children:g.map(M=>u.jsxs("div",{className:"senaste-nytt-news-card",children:[u.jsx("div",{className:"senaste-nytt-news-image-wrapper",children:M.image?u.jsx("img",{className:"senaste-nytt-news-image-alt",src:M.image,alt:M.title||"Post image"}):u.jsx("div",{className:"senaste-nytt-news-image senaste-nytt-news-image--empty",children:u.jsx("span",{children:"Ingen bild"})})}),u.jsxs("div",{className:"senaste-nytt-news-content",children:[u.jsx("h3",{className:"senaste-nytt-news-card-title",children:M.title}),u.jsx("p",{className:"senaste-nytt-news-date",children:M.date}),u.jsx("p",{className:"senaste-nytt-news-text",children:M.content}),u.jsx(Ee,{to:`/news/${M.id}`,className:"senaste-nytt-read-more",children:"Läs mer"}),f&&u.jsx("button",{className:"senaste-nytt-delete-post-button",onClick:()=>{console.log("Post:",M),console.log("Post ID:",M.id),console.log("Post ID type:",typeof M.id),console.log("Post ID value:",String(M.id)),q(String(M.id))},children:"Ta bort"})]})]},M.id))})]})}),f&&u.jsx(AD,{isOpen:l,onClose:()=>c(!1),addPost:O}),u.jsx("div",{id:"senaste-nytt-background",className:"background-editable senaste-nytt-background-container locked-background page_01"})]})},SD=()=>{const{id:s}=Lw(),e=Nl(),[n,a]=P.useState(null),[l,c]=P.useState(!0),[f,g]=P.useState(null);P.useEffect(()=>{(async()=>{try{c(!0);const E=Nn(Qt,"posts",s),b=await rd(E);b.exists()?(a({id:b.id,...b.data()}),g(null)):g("Nyheten kunde inte hittas")}catch(E){console.error("Error fetching post:",E),g("Ett fel uppstod när nyheten skulle hämtas")}finally{c(!1)}})()},[s]);const p=()=>{e("/senaste-nytt")};return l?u.jsx("div",{className:"flex flex_col flex_a_C flex_j_C",style:{minHeight:"50vh"},children:u.jsx("p",{className:"fonts_large",children:"Laddar..."})}):f?u.jsxs("div",{className:"flex flex_col flex_a_C flex_j_C",style:{minHeight:"50vh"},children:[u.jsx("p",{className:"fonts_large",children:f}),u.jsx("button",{onClick:p,className:"navbbutton button font_blue",style:{marginTop:"20px",padding:"10px 20px"},children:"Tillbaka till nyheter"})]}):n?u.jsxs("div",{className:"flex flex_col",children:[u.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",children:u.jsx("div",{className:"MaxWH flex flex_col flex_j_SA",children:u.jsx("div",{className:"om-oss-title flex flex_j_C flex_a_C",children:u.jsx("p",{className:"fonts_huge senaste-nytt-main-title",children:"NYHETER"})})})}),u.jsx("section",{style:{padding:"50px 0",backgroundColor:"#f5f5f5",width:"100vw"},children:u.jsxs("div",{className:"MaxWH",style:{padding:"0 20px",maxWidth:"1000px",margin:"0 auto"},children:[u.jsxs("button",{onClick:p,className:"navbbutton button font_blue",style:{marginBottom:"20px",padding:"10px 30px 10px 20px",display:"flex",alignItems:"center",gap:"5px",minWidth:"120px"},children:[u.jsx("span",{children:"←"})," ",u.jsx("span",{children:"Tillbaka"})]}),u.jsxs("div",{style:{backgroundColor:"white",borderRadius:"8px",overflow:"hidden",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[n.image&&u.jsx("div",{style:{height:"400px",backgroundImage:`url(${n.image})`,backgroundSize:"cover",backgroundPosition:"center"}}),u.jsxs("div",{style:{padding:"30px"},children:[u.jsx("h1",{className:"fonts_large font_blue",style:{marginBottom:"10px"},children:n.title}),u.jsx("p",{className:"fonts_small",style:{color:"#666",marginBottom:"30px"},children:n.date}),n.content.split(`
`).map((_,E)=>u.jsx("p",{className:"fonts_small",style:{marginBottom:"20px"},children:_},E))]})]}),u.jsx("div",{style:{marginTop:"30px",textAlign:"center"},children:u.jsxs("button",{onClick:p,className:"navbbutton button font_blue",style:{padding:"10px 30px 10px 20px",display:"flex",alignItems:"center",gap:"5px",minWidth:"120px"},children:[u.jsx("span",{children:"←"})," ",u.jsx("span",{children:"Tillbaka"})]})})]})}),u.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",style:{height:"50vh",width:"100vw"}})]}):u.jsxs("div",{className:"flex flex_col flex_a_C flex_j_C",style:{minHeight:"50vh"},children:[u.jsx("p",{className:"fonts_large",children:"Nyheten kunde inte hittas"}),u.jsx("button",{onClick:p,className:"navbbutton button font_blue",style:{marginTop:"20px",padding:"10px 20px"},children:"Tillbaka till nyheter"})]})},_0=()=>{const[s,e]=P.useState(""),[n,a]=P.useState(""),[l,c]=P.useState(""),[f,g]=P.useState(!1),p=Nl(),{login:_,isAuthenticated:E}=gr();P.useEffect(()=>{E&&p("/")},[E,p]);const b=async w=>{w.preventDefault(),g(!0),c("");try{const D=await _(s,n);D.success?(console.log("Login successful"),console.log("Current user after login:",{email:s,role:"admin"}),p("/")):c(D.message||"Ogiltigt e-post eller lösenord")}catch(D){console.error("Login error:",D),c("Ett fel uppstod vid inloggning. Försök igen.")}finally{g(!1)}};return u.jsxs("div",{className:"flex flex_col",children:[u.jsx("section",{className:"login-header-section dynamic-background flex flex_col flex_j_E",children:u.jsx("div",{className:"login-header-container flex flex_col flex_j_SA",children:u.jsx("div",{className:"login-title-container",children:u.jsx("p",{className:"fonts_huge login-title",children:"LOGGA IN"})})})}),u.jsx("div",{className:"login-form-wrapper",children:u.jsx("div",{className:"login-form-container",children:u.jsx("div",{className:"login-form",children:u.jsxs("div",{className:"login-card",children:[u.jsx("h2",{className:"fonts_medium font_blue login-subtitle",children:"Administratörsinloggning"}),l&&u.jsx("div",{className:"error-message",children:l}),u.jsxs("form",{onSubmit:b,children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"email",className:"fonts_small",children:"E-post"}),u.jsx("input",{type:"email",id:"email",value:s,onChange:w=>e(w.target.value),required:!0,className:"form-input"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"password",className:"fonts_small",children:"Lösenord"}),u.jsx("input",{type:"password",id:"password",value:n,onChange:w=>a(w.target.value),required:!0,className:"form-input"})]}),u.jsx("button",{type:"submit",className:"navbbutton button font_blue",disabled:f,children:f?"Loggar in...":"Logga in"})]}),u.jsx("div",{className:"login-note",children:u.jsx("p",{className:"fonts_small",style:{color:"#666"},children:"Detta är en inloggning endast för administratörer."})})]})})})}),u.jsx("section",{className:"login-background-section dynamic-background flex flex_col flex_j_E",children:u.jsx("div",{className:"login-background-container"})})]})},ND=()=>{const{textContent:s,resetAllContent:e,removeContentItem:n,isAdmin:a}=Ol(),{isAuthenticated:l}=gr(),[c,f]=P.useState(!1),[g,p]=P.useState(null),[_,E]=P.useState("all"),b=Nl();if(P.useEffect(()=>{(!l||!a)&&b("/")},[l,a,b]),!l||!a)return null;const w=()=>{f(!0),p(null)},D=ee=>{f(!0),p(ee)},O=()=>{g?n(g):e(),f(!1),p(null)},q=()=>{f(!1),p(null)},H=(()=>{const ee={text:{},image:{},background:{}};return Object.entries(s).forEach(([J,re])=>{re.startsWith("data:image")||re.startsWith("http")||re.startsWith("/")?J.includes("-bg")||J.includes("background")?ee.background[J]=re:ee.image[J]=re:ee.text[J]=re}),ee})(),Q=_==="all"?s:H[_]||{};return u.jsxs("div",{className:"flex flex_col",style:{minHeight:"100vh"},children:[u.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",children:u.jsx("div",{className:"trans-background page_01box flex flex_col flex_j_SA",children:u.jsx("div",{className:"om-oss-title flex flex_j_C flex_a_C",children:u.jsx("p",{className:"font_blue fonts_huge",children:"Innehållshanterare"})})})}),u.jsxs("section",{style:{padding:"40px",maxWidth:"1200px",margin:"0 auto"},children:[u.jsxs("div",{style:{marginBottom:"30px",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"20px"},children:[u.jsx("h2",{className:"font_blue fonts_large",children:"Alla redigerbara innehåll"}),u.jsx("button",{onClick:w,style:{padding:"10px 20px",backgroundColor:"#ff4d4d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Återställ allt innehåll"})]}),u.jsxs("div",{style:{marginBottom:"30px",display:"flex",gap:"10px",flexWrap:"wrap"},children:[u.jsxs("button",{onClick:()=>E("all"),style:{padding:"8px 16px",backgroundColor:_==="all"?"#00a6fb":"#f0f0f0",color:_==="all"?"white":"black",border:"none",borderRadius:"4px",cursor:"pointer"},children:["Alla (",Object.keys(s).length,")"]}),u.jsxs("button",{onClick:()=>E("text"),style:{padding:"8px 16px",backgroundColor:_==="text"?"#00a6fb":"#f0f0f0",color:_==="text"?"white":"black",border:"none",borderRadius:"4px",cursor:"pointer"},children:["Texter (",Object.keys(H.text).length,")"]}),u.jsxs("button",{onClick:()=>E("image"),style:{padding:"8px 16px",backgroundColor:_==="image"?"#00a6fb":"#f0f0f0",color:_==="image"?"white":"black",border:"none",borderRadius:"4px",cursor:"pointer"},children:["Bilder (",Object.keys(H.image).length,")"]}),u.jsxs("button",{onClick:()=>E("background"),style:{padding:"8px 16px",backgroundColor:_==="background"?"#00a6fb":"#f0f0f0",color:_==="background"?"white":"black",border:"none",borderRadius:"4px",cursor:"pointer"},children:["Bakgrundsbilder (",Object.keys(H.background).length,")"]})]}),c&&u.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.7)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:9999},children:u.jsxs("div",{style:{backgroundColor:"white",padding:"30px",borderRadius:"8px",maxWidth:"500px",width:"90%",textAlign:"center"},children:[u.jsx("h3",{style:{marginBottom:"20px",color:"#00a6fb"},children:"Bekräfta åtgärd"}),u.jsx("p",{style:{marginBottom:"30px"},children:g?`Är du säker på att du vill ta bort innehållet med nyckeln "${g}"?`:"Är du säker på att du vill återställa allt innehåll? Detta kan inte ångras."}),u.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"20px"},children:[u.jsx("button",{onClick:O,style:{padding:"10px 20px",backgroundColor:"#ff4d4d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:g?"Ta bort":"Återställ allt"}),u.jsx("button",{onClick:q,style:{padding:"10px 20px",backgroundColor:"#ccc",color:"black",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Avbryt"})]})]})}),Object.keys(Q).length===0?u.jsxs("p",{children:["Inga redigerade ",_==="text"?"texter":_==="image"?"bilder":_==="background"?"bakgrundsbilder":"innehåll"," ännu."]}):u.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"20px"},children:Object.entries(Q).map(([ee,J])=>{const re=J.startsWith("data:image")||J.startsWith("http")||J.startsWith("/"),V=ee.includes("-bg")||ee.includes("background");return u.jsxs("div",{style:{border:"1px solid #ddd",borderRadius:"8px",padding:"15px",backgroundColor:"white",boxShadow:"0 2px 4px rgba(0,0,0,0.05)"},children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:[u.jsx("h3",{className:"font_blue fonts_medium",style:{wordBreak:"break-all",fontSize:"16px"},children:ee}),u.jsx("span",{style:{padding:"3px 8px",borderRadius:"4px",fontSize:"12px",backgroundColor:V?"#6c5ce7":re?"#00b894":"#0984e3",color:"white"},children:V?"Bakgrund":re?"Bild":"Text"})]}),u.jsx("div",{style:{marginBottom:"10px"},children:re?u.jsxs("div",{children:[u.jsx("img",{src:J,alt:ee,style:{width:"100%",height:V?"150px":"auto",maxHeight:"150px",objectFit:V?"cover":"contain",borderRadius:"4px",border:"1px solid #eee"}}),V&&u.jsx("div",{style:{marginTop:"5px",fontSize:"12px",color:"#666",textAlign:"center"},children:"Bakgrundsbild"})]}):u.jsx("p",{style:{maxHeight:"100px",overflow:"auto",backgroundColor:"#f5f5f5",padding:"10px",borderRadius:"4px",fontSize:"14px"},children:J})}),u.jsx("button",{onClick:()=>D(ee),style:{width:"100%",padding:"8px",backgroundColor:"#ff4d4d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px"},children:"Ta bort"})]},ee)})})]})]})},RD=({children:s,requireAdmin:e=!1})=>{const{isAuthenticated:n,currentUser:a}=gr();return n?e&&(a==null?void 0:a.role)!=="admin"?u.jsx(Vv,{to:"/"}):s:u.jsx(Vv,{to:"/login"})},kD=()=>{const[s,e]=P.useState(!1),[n,a]=P.useState(null),[l,c]=P.useState(null),[f,g]=P.useState(null),[p,_]=P.useState("simple"),[E,b]=P.useState(null),{isAdmin:w}=Ol();console.log("BackgroundEditor - isAdmin:",w);const D=P.useRef(null),O=P.useRef(null),q=di();P.useEffect(()=>{M()},[]),P.useEffect(()=>{const R=document.querySelectorAll(".background-editable");console.log("Found background elements:",R.length);const L=I=>{if(console.log("Background element clicked:",I.currentTarget.id),w){console.log("User is admin, showing modal"),a(I.currentTarget),e(!0);const Ce=I.currentTarget.id;Ce&&H(Ce)}else console.log("User is not admin, click ignored")};return R.forEach(I=>{console.log("Adding click listener to element:",I.id),I.addEventListener("click",L),w&&I.classList.add("admin-editable")}),M(),()=>{R.forEach(I=>{I.removeEventListener("click",L),w&&I.classList.remove("admin-editable")})}},[w,q]),P.useEffect(()=>{M()},[q]);const M=async()=>{try{console.log("Loading all background settings");const R=ia(Qt,"backgrounds"),L=await sp(R);console.log(`Found ${L.size} background settings`),L.forEach(I=>{const Ce=I.data(),Ae=document.getElementById(I.id);console.log(`Background for element ${I.id}:`,Ce),Ae?(console.log(`Applying background to element ${I.id}`),V(Ae,Ce.imageUrl,Ce.backgroundType)):console.log(`Element with ID ${I.id} not found in the DOM`)})}catch(R){console.error("Error loading background settings:",R)}},H=async R=>{try{console.log(`Loading background settings for element: ${R}`);const L=ia(Qt,"backgrounds"),I=Nn(L,R),Ce=await rd(I);if(Ce.exists()){const Ae=Ce.data();console.log("Found background settings:",Ae),_(Ae.backgroundType||"simple"),g(Ae.imageUrl),b(Ae.imageUrl),console.log(`Set previousImageUrl to: ${Ae.imageUrl}`)}else console.log(`No background settings found for element: ${R}`),_("simple"),g(null),c(null),b(null)}catch(L){console.error("Error loading background settings:",L)}},G=R=>{const L=R.target.files[0];if(L){L.name||(L.name=`image-${Date.now()}.jpg`);const I=new FileReader;I.onloadend=()=>{c(L),g(I.result)},I.readAsDataURL(L)}},Q=R=>{if(!R)return null;console.log("Extracting filename from URL:",R);try{if(R.includes("firebasestorage.googleapis.com")){const Ae=R.match(/%2F([^?]+)/g);if(Ae&&Ae.length>0){const ye=Ae[Ae.length-1].replace("%2F","").split("?")[0];return console.log("Extracted filename from Firebase URL:",ye),ye}}if(R.includes("background-images")){const Ae=R.split("/"),le=Ae[Ae.length-1];return console.log("Extracted filename from direct path:",le),le}const L=R.split("/"),Ce=L[L.length-1].split("?")[0];return console.log("Extracted filename using fallback method:",Ce),Ce}catch(L){return console.error("Error extracting filename:",L),null}},ee=async R=>{if(R)try{console.log("Attempting to delete old image with URL:",R);const L=Q(R);if(L){console.log("Deleting file with filename:",L);const I=rr(cr,`gs://aimchallange-67039.firebasestorage.app/background-images/${L}`);await hp(I),console.log("Successfully deleted old image")}}catch(L){console.error("Error deleting old image:",L)}},J=async()=>{if(!n||!n.id){alert("Selected element must have an ID attribute");return}try{let R=f;if(l){const L=Date.now(),I=l.name?l.name.split(".").pop():"jpg",Ce=`background_${L}.${I}`,Ae=rr(cr,`gs://aimchallange-67039.firebasestorage.app/background-images/${Ce}`);console.log("Uploading image with new filename:",Ce),await cd(Ae,l),R=await up(Ae),console.log("Image URL after upload:",R),console.log("Image URL format check:",{includesFirebaseStorage:R.includes("firebasestorage.googleapis.com"),includesBackgroundImages:R.includes("background-images"),urlParts:R.split("/"),containsPercent2F:R.includes("%2F")}),console.log("Previous image URL:",E),E&&E!==R?(console.log("Deleting previous image:",E),await ee(E)):console.log("No previous image to delete or same image URL")}if(R){const L=ia(Qt,"backgrounds");await Tl(Nn(L,n.id),{elementId:n.id,imageUrl:R,backgroundType:p,updatedAt:new Date,updatedBy:"anonymous"}),V(n,R,p)}e(!1)}catch(R){console.error("Error saving background:",R),alert("Error saving background. Please try again.")}},re=async R=>{R.stopPropagation();try{if(E&&await ee(E),n&&n.id){const L=ia(Qt,"backgrounds");await Tl(Nn(L,n.id),{elementId:n.id,imageUrl:null,backgroundType:"simple",updatedAt:new Date,updatedBy:"anonymous"}),n&&(n.style.backgroundImage="none")}c(null),g(null),b(null),console.log("Background image removed successfully")}catch(L){console.error("Error removing background image:",L)}},V=(R,L,I)=>{!R||!L||(console.log(`Applying background to element ${R.id} with image ${L}`),R.classList.remove("simple-background","fixed-background"),R.classList.add("has-background"),I==="simple"?R.classList.add("simple-background"):R.classList.add("locked-background"),R.style.backgroundImage=`url(${L})`,R.style.backgroundSize="cover",R.style.backgroundPosition="center",R.style.backgroundRepeat="no-repeat",I==="fixed"?R.style.backgroundAttachment="fixed":R.style.backgroundAttachment="scroll",console.log(`Background applied to element ${R.id}`))},N=()=>{e(!1),a(null),c(null),g(null),b(null)},S=R=>{O.current&&!O.current.contains(R.target)&&N()},k=()=>{D.current.click()};return w?u.jsx(u.Fragment,{children:s&&u.jsx("div",{className:"background-editor-overlay",onClick:S,children:u.jsxs("div",{className:"background-editor-modal",ref:O,children:[u.jsxs("div",{className:"background-editor-modal__header",children:[u.jsx("h2",{className:"background-editor-modal__title",children:"Edit Background"}),u.jsx("button",{className:"background-editor-modal__close",onClick:N,children:"×"})]}),u.jsxs("div",{className:"background-editor-modal__body",children:[u.jsxs("div",{className:"background-editor-modal__form-group",children:[u.jsx("label",{className:"background-editor-modal__label",children:"Background Type"}),u.jsxs("select",{className:"background-editor-modal__select",value:p,onChange:R=>_(R.target.value),children:[u.jsx("option",{value:"simple",children:"Simple (scrolls with content)"}),u.jsx("option",{value:"fixed",children:"Fixed (locked when scrolling)"})]})]}),u.jsxs("div",{className:"background-editor-modal__form-group",children:[u.jsx("label",{className:"background-editor-modal__label",children:"Background Image"}),u.jsxs("div",{className:"background-editor-modal__image-upload",onClick:k,children:[f?u.jsxs("div",{className:"background-editor-modal__image-preview-container",children:[u.jsx("img",{src:f,alt:"Preview",className:"background-editor-modal__image-preview"}),u.jsx("button",{className:"background-editor-modal__image-remove",onClick:re,children:"×"})]}):u.jsx("div",{className:"background-editor-modal__image-placeholder",children:"Click to upload an image"}),u.jsx("input",{type:"file",ref:D,onChange:G,accept:"image/*",className:"background-editor-modal__file-input"})]})]})]}),u.jsxs("div",{className:"background-editor-modal__footer",children:[u.jsx("button",{className:"background-editor-modal__button background-editor-modal__button--secondary",onClick:N,children:"Cancel"}),u.jsx("button",{className:"background-editor-modal__button background-editor-modal__button--primary",onClick:J,children:"Save Changes"})]})]})})}):null},ID=()=>u.jsx("div",{className:"background-container",children:u.jsx("img",{src:"/backgrounds/Höjdkurvor.svg",alt:"Background"})}),jD=async(s,e,n="Admin")=>{try{const l=(await C1(yh,s,e)).user;return await M1(l,{displayName:n}),await Tl(Nn(Qt,"users",l.uid),{email:s,displayName:n,role:"admin",createdAt:new Date}),{success:!0,user:{uid:l.uid,email:l.email,displayName:n,role:"admin"}}}catch(a){return console.error("Error creating admin user:",a),{success:!1,error:a.message}}},CD=async()=>{try{(await rd(Nn(Qt,"settings","admin"))).exists()||(await jD("admin@example.com","password123")).success&&(await Tl(Nn(Qt,"settings","admin"),{initialized:!0,adminEmail:"admin@example.com",createdAt:new Date}),console.log("Admin user initialized successfully"))}catch(s){console.error("Error initializing admin user:",s)}},DD=()=>(P.useEffect(()=>{CD().then(()=>console.log("Admin user initialized")).catch(s=>console.error("Error initializing admin user:",s))},[]),u.jsx(J2,{children:u.jsx(nD,{children:u.jsx(ES,{children:u.jsxs("div",{className:"flex flex_col MaxWH location",style:{width:"100%",maxWidth:"100%",overflow:"hidden",margin:0,padding:0,display:"flex",flexDirection:"column",position:"relative"},children:[u.jsx(ID,{}),u.jsx(sD,{}),u.jsx(kD,{}),u.jsx("div",{style:{margin:0,padding:0,width:"100%",position:"relative",top:0},children:u.jsxs(Ww,{children:[u.jsx(jt,{path:"/",element:u.jsx(aD,{})}),u.jsx(jt,{path:"/competitions",element:u.jsx(rD,{})}),u.jsx(jt,{path:"/ulricehamn",element:u.jsx(lD,{})}),u.jsx(jt,{path:"/salen",element:u.jsx(oD,{})}),u.jsx(jt,{path:"/hemsedal",element:u.jsx(cD,{})}),u.jsx(jt,{path:"/kolmarden",element:u.jsx(uD,{})}),u.jsx(jt,{path:"/trippeln",element:u.jsx(hD,{})}),u.jsx(jt,{path:"/results",element:u.jsx(pD,{})}),u.jsx(jt,{path:"/gallery",element:u.jsxs(u.Fragment,{children:[u.jsx(_D,{}),u.jsx(yD,{})]})}),u.jsx(jt,{path:"/om-oss",element:u.jsx(vD,{})}),u.jsx(jt,{path:"/regler",element:u.jsx(xD,{})}),u.jsx(jt,{path:"/faq",element:u.jsx(TD,{})}),u.jsx(jt,{path:"/historien-om-aim",element:u.jsx(bD,{})}),u.jsx(jt,{path:"/senaste-nytt",element:u.jsx(wD,{})}),u.jsx(jt,{path:"/news/:id",element:u.jsx(SD,{})}),u.jsx(jt,{path:"/login",element:u.jsx(_0,{})}),u.jsx(jt,{path:"login",element:u.jsx(_0,{})}),u.jsx(jt,{path:"/content-manager",element:u.jsx(RD,{requireAdmin:!0,children:u.jsx(ND,{})})})]})}),u.jsx(iD,{})]})})})}));(function(){const s=sessionStorage.redirect;delete sessionStorage.redirect,s&&s!==location.href&&history.replaceState(null,null,s)})();const OD=document.getElementById("root");rw.createRoot(OD).render(u.jsx(JA.StrictMode,{children:u.jsx(DD,{})}));
//# sourceMappingURL=index-CvH8ScXL.js.map
