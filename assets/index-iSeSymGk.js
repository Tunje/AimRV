(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();function og(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var hm={exports:{}},Uo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _v;function JA(){if(_v)return Uo;_v=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:c}}return Uo.Fragment=e,Uo.jsx=n,Uo.jsxs=n,Uo}var yv;function ew(){return yv||(yv=1,hm.exports=JA()),hm.exports}var u=ew(),dm={exports:{}},ke={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vv;function tw(){if(vv)return ke;vv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.iterator;function w(j){return j===null||typeof j!="object"?null:(j=A&&j[A]||j["@@iterator"],typeof j=="function"?j:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,K={};function V(j,ae,me){this.props=j,this.context=ae,this.refs=K,this.updater=me||C}V.prototype.isReactComponent={},V.prototype.setState=function(j,ae){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,ae,"setState")},V.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function F(){}F.prototype=V.prototype;function B(j,ae,me){this.props=j,this.context=ae,this.refs=K,this.updater=me||C}var Q=B.prototype=new F;Q.constructor=B,D(Q,V.prototype),Q.isPureReactComponent=!0;var ee=Array.isArray,J={H:null,A:null,T:null,S:null},ce=Object.prototype.hasOwnProperty;function M(j,ae,me,oe,ue,Re){return me=Re.ref,{$$typeof:s,type:j,key:ae,ref:me!==void 0?me:null,props:Re}}function N(j,ae){return M(j.type,ae,void 0,void 0,void 0,j.props)}function S(j){return typeof j=="object"&&j!==null&&j.$$typeof===s}function R(j){var ae={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(me){return ae[me]})}var O=/\/+/g;function H(j,ae){return typeof j=="object"&&j!==null&&j.key!=null?R(""+j.key):ae.toString(36)}function I(){}function it(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(I,I):(j.status="pending",j.then(function(ae){j.status==="pending"&&(j.status="fulfilled",j.value=ae)},function(ae){j.status==="pending"&&(j.status="rejected",j.reason=ae)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function nt(j,ae,me,oe,ue){var Re=typeof j;(Re==="undefined"||Re==="boolean")&&(j=null);var Ae=!1;if(j===null)Ae=!0;else switch(Re){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(j.$$typeof){case s:case e:Ae=!0;break;case E:return Ae=j._init,nt(Ae(j._payload),ae,me,oe,ue)}}if(Ae)return ue=ue(j),Ae=oe===""?"."+H(j,0):oe,ee(ue)?(me="",Ae!=null&&(me=Ae.replace(O,"$&/")+"/"),nt(ue,ae,me,"",function(ct){return ct})):ue!=null&&(S(ue)&&(ue=N(ue,me+(ue.key==null||j&&j.key===ue.key?"":(""+ue.key).replace(O,"$&/")+"/")+Ae)),ae.push(ue)),1;Ae=0;var vt=oe===""?".":oe+":";if(ee(j))for(var ze=0;ze<j.length;ze++)oe=j[ze],Re=vt+H(oe,ze),Ae+=nt(oe,ae,me,Re,ue);else if(ze=w(j),typeof ze=="function")for(j=ze.call(j),ze=0;!(oe=j.next()).done;)oe=oe.value,Re=vt+H(oe,ze++),Ae+=nt(oe,ae,me,Re,ue);else if(Re==="object"){if(typeof j.then=="function")return nt(it(j),ae,me,oe,ue);throw ae=String(j),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function re(j,ae,me){if(j==null)return j;var oe=[],ue=0;return nt(j,oe,"","",function(Re){return ae.call(me,Re,ue++)}),oe}function _e(j){if(j._status===-1){var ae=j._result;ae=ae(),ae.then(function(me){(j._status===0||j._status===-1)&&(j._status=1,j._result=me)},function(me){(j._status===0||j._status===-1)&&(j._status=2,j._result=me)}),j._status===-1&&(j._status=0,j._result=ae)}if(j._status===1)return j._result.default;throw j._result}var ge=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)};function He(){}return ke.Children={map:re,forEach:function(j,ae,me){re(j,function(){ae.apply(this,arguments)},me)},count:function(j){var ae=0;return re(j,function(){ae++}),ae},toArray:function(j){return re(j,function(ae){return ae})||[]},only:function(j){if(!S(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},ke.Component=V,ke.Fragment=n,ke.Profiler=l,ke.PureComponent=B,ke.StrictMode=a,ke.Suspense=p,ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,ke.act=function(){throw Error("act(...) is not supported in production builds of React.")},ke.cache=function(j){return function(){return j.apply(null,arguments)}},ke.cloneElement=function(j,ae,me){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var oe=D({},j.props),ue=j.key,Re=void 0;if(ae!=null)for(Ae in ae.ref!==void 0&&(Re=void 0),ae.key!==void 0&&(ue=""+ae.key),ae)!ce.call(ae,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&ae.ref===void 0||(oe[Ae]=ae[Ae]);var Ae=arguments.length-2;if(Ae===1)oe.children=me;else if(1<Ae){for(var vt=Array(Ae),ze=0;ze<Ae;ze++)vt[ze]=arguments[ze+2];oe.children=vt}return M(j.type,ue,void 0,void 0,Re,oe)},ke.createContext=function(j){return j={$$typeof:d,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:c,_context:j},j},ke.createElement=function(j,ae,me){var oe,ue={},Re=null;if(ae!=null)for(oe in ae.key!==void 0&&(Re=""+ae.key),ae)ce.call(ae,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(ue[oe]=ae[oe]);var Ae=arguments.length-2;if(Ae===1)ue.children=me;else if(1<Ae){for(var vt=Array(Ae),ze=0;ze<Ae;ze++)vt[ze]=arguments[ze+2];ue.children=vt}if(j&&j.defaultProps)for(oe in Ae=j.defaultProps,Ae)ue[oe]===void 0&&(ue[oe]=Ae[oe]);return M(j,Re,void 0,void 0,null,ue)},ke.createRef=function(){return{current:null}},ke.forwardRef=function(j){return{$$typeof:g,render:j}},ke.isValidElement=S,ke.lazy=function(j){return{$$typeof:E,_payload:{_status:-1,_result:j},_init:_e}},ke.memo=function(j,ae){return{$$typeof:_,type:j,compare:ae===void 0?null:ae}},ke.startTransition=function(j){var ae=J.T,me={};J.T=me;try{var oe=j(),ue=J.S;ue!==null&&ue(me,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(He,ge)}catch(Re){ge(Re)}finally{J.T=ae}},ke.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},ke.use=function(j){return J.H.use(j)},ke.useActionState=function(j,ae,me){return J.H.useActionState(j,ae,me)},ke.useCallback=function(j,ae){return J.H.useCallback(j,ae)},ke.useContext=function(j){return J.H.useContext(j)},ke.useDebugValue=function(){},ke.useDeferredValue=function(j,ae){return J.H.useDeferredValue(j,ae)},ke.useEffect=function(j,ae){return J.H.useEffect(j,ae)},ke.useId=function(){return J.H.useId()},ke.useImperativeHandle=function(j,ae,me){return J.H.useImperativeHandle(j,ae,me)},ke.useInsertionEffect=function(j,ae){return J.H.useInsertionEffect(j,ae)},ke.useLayoutEffect=function(j,ae){return J.H.useLayoutEffect(j,ae)},ke.useMemo=function(j,ae){return J.H.useMemo(j,ae)},ke.useOptimistic=function(j,ae){return J.H.useOptimistic(j,ae)},ke.useReducer=function(j,ae,me){return J.H.useReducer(j,ae,me)},ke.useRef=function(j){return J.H.useRef(j)},ke.useState=function(j){return J.H.useState(j)},ke.useSyncExternalStore=function(j,ae,me){return J.H.useSyncExternalStore(j,ae,me)},ke.useTransition=function(){return J.H.useTransition()},ke.version="19.0.0",ke}var xv;function cg(){return xv||(xv=1,dm.exports=tw()),dm.exports}var L=cg();const nw=og(L);var fm={exports:{}},Bo={},mm={exports:{}},gm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ev;function sw(){return Ev||(Ev=1,function(s){function e(re,_e){var ge=re.length;re.push(_e);e:for(;0<ge;){var He=ge-1>>>1,j=re[He];if(0<l(j,_e))re[He]=_e,re[ge]=j,ge=He;else break e}}function n(re){return re.length===0?null:re[0]}function a(re){if(re.length===0)return null;var _e=re[0],ge=re.pop();if(ge!==_e){re[0]=ge;e:for(var He=0,j=re.length,ae=j>>>1;He<ae;){var me=2*(He+1)-1,oe=re[me],ue=me+1,Re=re[ue];if(0>l(oe,ge))ue<j&&0>l(Re,oe)?(re[He]=Re,re[ue]=ge,He=ue):(re[He]=oe,re[me]=ge,He=me);else if(ue<j&&0>l(Re,ge))re[He]=Re,re[ue]=ge,He=ue;else break e}}return _e}function l(re,_e){var ge=re.sortIndex-_e.sortIndex;return ge!==0?ge:re.id-_e.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var p=[],_=[],E=1,A=null,w=3,C=!1,D=!1,K=!1,V=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function Q(re){for(var _e=n(_);_e!==null;){if(_e.callback===null)a(_);else if(_e.startTime<=re)a(_),_e.sortIndex=_e.expirationTime,e(p,_e);else break;_e=n(_)}}function ee(re){if(K=!1,Q(re),!D)if(n(p)!==null)D=!0,it();else{var _e=n(_);_e!==null&&nt(ee,_e.startTime-re)}}var J=!1,ce=-1,M=5,N=-1;function S(){return!(s.unstable_now()-N<M)}function R(){if(J){var re=s.unstable_now();N=re;var _e=!0;try{e:{D=!1,K&&(K=!1,F(ce),ce=-1),C=!0;var ge=w;try{t:{for(Q(re),A=n(p);A!==null&&!(A.expirationTime>re&&S());){var He=A.callback;if(typeof He=="function"){A.callback=null,w=A.priorityLevel;var j=He(A.expirationTime<=re);if(re=s.unstable_now(),typeof j=="function"){A.callback=j,Q(re),_e=!0;break t}A===n(p)&&a(p),Q(re)}else a(p);A=n(p)}if(A!==null)_e=!0;else{var ae=n(_);ae!==null&&nt(ee,ae.startTime-re),_e=!1}}break e}finally{A=null,w=ge,C=!1}_e=void 0}}finally{_e?O():J=!1}}}var O;if(typeof B=="function")O=function(){B(R)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,I=H.port2;H.port1.onmessage=R,O=function(){I.postMessage(null)}}else O=function(){V(R,0)};function it(){J||(J=!0,O())}function nt(re,_e){ce=V(function(){re(s.unstable_now())},_e)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(re){re.callback=null},s.unstable_continueExecution=function(){D||C||(D=!0,it())},s.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<re?Math.floor(1e3/re):5},s.unstable_getCurrentPriorityLevel=function(){return w},s.unstable_getFirstCallbackNode=function(){return n(p)},s.unstable_next=function(re){switch(w){case 1:case 2:case 3:var _e=3;break;default:_e=w}var ge=w;w=_e;try{return re()}finally{w=ge}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(re,_e){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var ge=w;w=re;try{return _e()}finally{w=ge}},s.unstable_scheduleCallback=function(re,_e,ge){var He=s.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?He+ge:He):ge=He,re){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=ge+j,re={id:E++,callback:_e,priorityLevel:re,startTime:ge,expirationTime:j,sortIndex:-1},ge>He?(re.sortIndex=ge,e(_,re),n(p)===null&&re===n(_)&&(K?(F(ce),ce=-1):K=!0,nt(ee,ge-He))):(re.sortIndex=j,e(p,re),D||C||(D=!0,it())),re},s.unstable_shouldYield=S,s.unstable_wrapCallback=function(re){var _e=w;return function(){var ge=w;w=_e;try{return re.apply(this,arguments)}finally{w=ge}}}}(gm)),gm}var Tv;function iw(){return Tv||(Tv=1,mm.exports=sw()),mm.exports}var pm={exports:{}},Xt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bv;function aw(){if(bv)return Xt;bv=1;var s=cg();function e(p){var _="https://react.dev/errors/"+p;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)_+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(p,_,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:p,containerInfo:_,implementation:E}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,_){if(p==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Xt.createPortal=function(p,_){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(p,_,null,E)},Xt.flushSync=function(p){var _=d.T,E=a.p;try{if(d.T=null,a.p=2,p)return p()}finally{d.T=_,a.p=E,a.d.f()}},Xt.preconnect=function(p,_){typeof p=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(p,_))},Xt.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},Xt.preinit=function(p,_){if(typeof p=="string"&&_&&typeof _.as=="string"){var E=_.as,A=g(E,_.crossOrigin),w=typeof _.integrity=="string"?_.integrity:void 0,C=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;E==="style"?a.d.S(p,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:A,integrity:w,fetchPriority:C}):E==="script"&&a.d.X(p,{crossOrigin:A,integrity:w,fetchPriority:C,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Xt.preinitModule=function(p,_){if(typeof p=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var E=g(_.as,_.crossOrigin);a.d.M(p,{crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(p)},Xt.preload=function(p,_){if(typeof p=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var E=_.as,A=g(E,_.crossOrigin);a.d.L(p,E,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Xt.preloadModule=function(p,_){if(typeof p=="string")if(_){var E=g(_.as,_.crossOrigin);a.d.m(p,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(p)},Xt.requestFormReset=function(p){a.d.r(p)},Xt.unstable_batchedUpdates=function(p,_){return p(_)},Xt.useFormState=function(p,_,E){return d.H.useFormState(p,_,E)},Xt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Xt.version="19.0.0",Xt}var Av;function m0(){if(Av)return pm.exports;Av=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),pm.exports=aw(),pm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wv;function rw(){if(wv)return Bo;wv=1;var s=iw(),e=cg(),n=m0();function a(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)i+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var c=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),C=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),Q=Symbol.for("react.offscreen"),ee=Symbol.for("react.memo_cache_sentinel"),J=Symbol.iterator;function ce(t){return t===null||typeof t!="object"?null:(t=J&&t[J]||t["@@iterator"],typeof t=="function"?t:null)}var M=Symbol.for("react.client.reference");function N(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===M?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case p:return"Fragment";case g:return"Portal";case E:return"Profiler";case _:return"StrictMode";case K:return"Suspense";case V:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case C:return(t.displayName||"Context")+".Provider";case w:return(t._context.displayName||"Context")+".Consumer";case D:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case F:return i=t.displayName||null,i!==null?i:N(t.type)||"Memo";case B:i=t._payload,t=t._init;try{return N(t(i))}catch{}}return null}var S=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R=Object.assign,O,H;function I(t){if(O===void 0)try{throw Error()}catch(r){var i=r.stack.trim().match(/\n( *(at )?)/);O=i&&i[1]||"",H=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+O+t+H}var it=!1;function nt(t,i){if(!t||it)return"";it=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(X){var Y=X}Reflect.construct(t,[],ie)}else{try{ie.call()}catch(X){Y=X}t.call(ie.prototype)}}else{try{throw Error()}catch(X){Y=X}(ie=t())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(X){if(X&&Y&&typeof X.stack=="string")return[X.stack,Y.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=o.DetermineComponentFrameRoot(),x=m[0],T=m[1];if(x&&T){var k=x.split(`
`),U=T.split(`
`);for(f=o=0;o<k.length&&!k[o].includes("DetermineComponentFrameRoot");)o++;for(;f<U.length&&!U[f].includes("DetermineComponentFrameRoot");)f++;if(o===k.length||f===U.length)for(o=k.length-1,f=U.length-1;1<=o&&0<=f&&k[o]!==U[f];)f--;for(;1<=o&&0<=f;o--,f--)if(k[o]!==U[f]){if(o!==1||f!==1)do if(o--,f--,0>f||k[o]!==U[f]){var Z=`
`+k[o].replace(" at new "," at ");return t.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",t.displayName)),Z}while(1<=o&&0<=f);break}}}finally{it=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?I(r):""}function re(t){switch(t.tag){case 26:case 27:case 5:return I(t.type);case 16:return I("Lazy");case 13:return I("Suspense");case 19:return I("SuspenseList");case 0:case 15:return t=nt(t.type,!1),t;case 11:return t=nt(t.type.render,!1),t;case 1:return t=nt(t.type,!0),t;default:return""}}function _e(t){try{var i="";do i+=re(t),t=t.return;while(t);return i}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function ge(t){var i=t,r=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(r=i.return),t=i.return;while(t)}return i.tag===3?r:null}function He(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function j(t){if(ge(t)!==t)throw Error(a(188))}function ae(t){var i=t.alternate;if(!i){if(i=ge(t),i===null)throw Error(a(188));return i!==t?null:t}for(var r=t,o=i;;){var f=r.return;if(f===null)break;var m=f.alternate;if(m===null){if(o=f.return,o!==null){r=o;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===r)return j(f),t;if(m===o)return j(f),i;m=m.sibling}throw Error(a(188))}if(r.return!==o.return)r=f,o=m;else{for(var x=!1,T=f.child;T;){if(T===r){x=!0,r=f,o=m;break}if(T===o){x=!0,o=f,r=m;break}T=T.sibling}if(!x){for(T=m.child;T;){if(T===r){x=!0,r=m,o=f;break}if(T===o){x=!0,o=m,r=f;break}T=T.sibling}if(!x)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:i}function me(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=me(t),i!==null)return i;t=t.sibling}return null}var oe=Array.isArray,ue=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Re={pending:!1,data:null,method:null,action:null},Ae=[],vt=-1;function ze(t){return{current:t}}function ct(t){0>vt||(t.current=Ae[vt],Ae[vt]=null,vt--)}function Qe(t,i){vt++,Ae[vt]=t.current,t.current=i}var nn=ze(null),Rs=ze(null),Sn=ze(null),fi=ze(null);function mi(t,i){switch(Qe(Sn,i),Qe(Rs,t),Qe(nn,null),t=i.nodeType,t){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?Gy(i):0;break;default:if(t=t===8?i.parentNode:i,i=t.tagName,t=t.namespaceURI)t=Gy(t),i=$y(t,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ct(nn),Qe(nn,i)}function ks(){ct(nn),ct(Rs),ct(Sn)}function Dl(t){t.memoizedState!==null&&Qe(fi,t);var i=nn.current,r=$y(i,t.type);i!==r&&(Qe(Rs,t),Qe(nn,r))}function gr(t){Rs.current===t&&(ct(nn),ct(Rs)),fi.current===t&&(ct(fi),Oo._currentValue=Re)}var pr=Object.prototype.hasOwnProperty,va=s.unstable_scheduleCallback,_r=s.unstable_cancelCallback,dd=s.unstable_shouldYield,Ol=s.unstable_requestPaint,hn=s.unstable_now,wc=s.unstable_getCurrentPriorityLevel,wt=s.unstable_ImmediatePriority,Ot=s.unstable_UserBlockingPriority,Cs=s.unstable_NormalPriority,Sc=s.unstable_LowPriority,Ml=s.unstable_IdlePriority,fd=s.log,xa=s.unstable_setDisableYieldValue,gi=null,Yt=null;function Ll(t){if(Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(gi,t,void 0,(t.current.flags&128)===128)}catch{}}function ss(t){if(typeof fd=="function"&&xa(t),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode(gi,t)}catch{}}var sn=Math.clz32?Math.clz32:Rc,Vl=Math.log,Nc=Math.LN2;function Rc(t){return t>>>=0,t===0?32:31-(Vl(t)/Nc|0)|0}var is=128,pi=4194304;function Kn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Nn(t,i){var r=t.pendingLanes;if(r===0)return 0;var o=0,f=t.suspendedLanes,m=t.pingedLanes,x=t.warmLanes;t=t.finishedLanes!==0;var T=r&134217727;return T!==0?(r=T&~f,r!==0?o=Kn(r):(m&=T,m!==0?o=Kn(m):t||(x=T&~x,x!==0&&(o=Kn(x))))):(T=r&~f,T!==0?o=Kn(T):m!==0?o=Kn(m):t||(x=r&~x,x!==0&&(o=Kn(x)))),o===0?0:i!==0&&i!==o&&(i&f)===0&&(f=o&-o,x=i&-i,f>=x||f===32&&(x&4194176)!==0)?i:o}function _i(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function yr(t,i){switch(t){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pl(){var t=is;return is<<=1,(is&4194176)===0&&(is=128),t}function yi(){var t=pi;return pi<<=1,(pi&62914560)===0&&(pi=4194304),t}function vr(t){for(var i=[],r=0;31>r;r++)i.push(t);return i}function pt(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function kc(t,i,r,o,f,m){var x=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var T=t.entanglements,k=t.expirationTimes,U=t.hiddenUpdates;for(r=x&~r;0<r;){var Z=31-sn(r),ie=1<<Z;T[Z]=0,k[Z]=-1;var Y=U[Z];if(Y!==null)for(U[Z]=null,Z=0;Z<Y.length;Z++){var X=Y[Z];X!==null&&(X.lane&=-536870913)}r&=~ie}o!==0&&vi(t,o,0),m!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=m&~(x&~i))}function vi(t,i,r){t.pendingLanes|=i,t.suspendedLanes&=~i;var o=31-sn(i);t.entangledLanes|=i,t.entanglements[o]=t.entanglements[o]|1073741824|r&4194218}function xi(t,i){var r=t.entangledLanes|=i;for(t=t.entanglements;r;){var o=31-sn(r),f=1<<o;f&i|t[o]&i&&(t[o]|=i),r&=~f}}function Cc(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ic(){var t=ue.p;return t!==0?t:(t=window.event,t===void 0?32:hv(t.type))}function Ei(t,i){var r=ue.p;try{return ue.p=t,i()}finally{ue.p=r}}var as=Math.random().toString(36).slice(2),Mt="__reactFiber$"+as,St="__reactProps$"+as,Is="__reactContainer$"+as,Ea="__reactEvents$"+as,xr="__reactListeners$"+as,rs="__reactHandles$"+as,Ul="__reactResources$"+as,Ti="__reactMarker$"+as;function Ta(t){delete t[Mt],delete t[St],delete t[Ea],delete t[xr],delete t[rs]}function Fn(t){var i=t[Mt];if(i)return i;for(var r=t.parentNode;r;){if(i=r[Is]||r[Mt]){if(r=i.alternate,i.child!==null||r!==null&&r.child!==null)for(t=Wy(t);t!==null;){if(r=t[Mt])return r;t=Wy(t)}return i}t=r,r=t.parentNode}return null}function js(t){if(t=t[Mt]||t[Is]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function bi(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(a(33))}function Ai(t){var i=t[Ul];return i||(i=t[Ul]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function at(t){t[Ti]=!0}var Bl=new Set,Er={};function pn(t,i){dn(t,i),dn(t+"Capture",i)}function dn(t,i){for(Er[t]=i,t=0;t<i.length;t++)Bl.add(i[t])}var _n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),md=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Hl={},zl={};function jc(t){return pr.call(zl,t)?!0:pr.call(Hl,t)?!1:md.test(t)?zl[t]=!0:(Hl[t]=!0,!1)}function wi(t,i,r){if(jc(i))if(r===null)t.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+r)}}function Si(t,i,r){if(r===null)t.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+r)}}function Rn(t,i,r,o){if(o===null)t.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(i,r,""+o)}}function an(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Dc(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function gd(t){var i=Dc(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),o=""+t[i];if(!t.hasOwnProperty(i)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var f=r.get,m=r.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(x){o=""+x,m.call(this,x)}}),Object.defineProperty(t,i,{enumerable:r.enumerable}),{getValue:function(){return o},setValue:function(x){o=""+x},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function ba(t){t._valueTracker||(t._valueTracker=gd(t))}function ql(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var r=i.getValue(),o="";return t&&(o=Dc(t)?t.checked?"true":"false":t.value),t=o,t!==r?(i.setValue(t),!0):!1}function Tr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ds=/[\n"\\]/g;function ut(t){return t.replace(Ds,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ni(t,i,r,o,f,m,x,T){t.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?t.type=x:t.removeAttribute("type"),i!=null?x==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+an(i)):t.value!==""+an(i)&&(t.value=""+an(i)):x!=="submit"&&x!=="reset"||t.removeAttribute("value"),i!=null?br(t,x,an(i)):r!=null?br(t,x,an(r)):o!=null&&t.removeAttribute("value"),f==null&&m!=null&&(t.defaultChecked=!!m),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+an(T):t.removeAttribute("name")}function Aa(t,i,r,o,f,m,x,T){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),i!=null||r!=null){if(!(m!=="submit"&&m!=="reset"||i!=null))return;r=r!=null?""+an(r):"",i=i!=null?""+an(i):r,T||i===t.value||(t.value=i),t.defaultValue=i}o=o??f,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=T?t.checked:!!o,t.defaultChecked=!!o,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(t.name=x)}function br(t,i,r){i==="number"&&Tr(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function qe(t,i,r,o){if(t=t.options,i){i={};for(var f=0;f<r.length;f++)i["$"+r[f]]=!0;for(r=0;r<t.length;r++)f=i.hasOwnProperty("$"+t[r].value),t[r].selected!==f&&(t[r].selected=f),f&&o&&(t[r].defaultSelected=!0)}else{for(r=""+an(r),i=null,f=0;f<t.length;f++){if(t[f].value===r){t[f].selected=!0,o&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function wa(t,i,r){if(i!=null&&(i=""+an(i),i!==t.value&&(t.value=i),r==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=r!=null?""+an(r):""}function Ri(t,i,r,o){if(i==null){if(o!=null){if(r!=null)throw Error(a(92));if(oe(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),i=r}r=an(i),t.defaultValue=r,o=t.textContent,o===r&&o!==""&&o!==null&&(t.value=o)}function kn(t,i){if(i){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=i;return}}t.textContent=i}var pd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Kl(t,i,r){var o=i.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":o?t.setProperty(i,r):typeof r!="number"||r===0||pd.has(i)?i==="float"?t.cssFloat=r:t[i]=(""+r).trim():t[i]=r+"px"}function Oc(t,i,r){if(i!=null&&typeof i!="object")throw Error(a(62));if(t=t.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var f in i)o=i[f],i.hasOwnProperty(f)&&r[f]!==o&&Kl(t,f,o)}else for(var m in i)i.hasOwnProperty(m)&&Kl(t,m,i[m])}function Fl(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _d=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),yd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ls(t){return yd.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Cn=null;function Ar(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Os=null,Ms=null;function Ls(t){var i=js(t);if(i&&(t=i.stateNode)){var r=t[St]||null;e:switch(t=i.stateNode,i.type){case"input":if(Ni(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),i=r.name,r.type==="radio"&&i!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+ut(""+i)+'"][type="radio"]'),i=0;i<r.length;i++){var o=r[i];if(o!==t&&o.form===t.form){var f=o[St]||null;if(!f)throw Error(a(90));Ni(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<r.length;i++)o=r[i],o.form===t.form&&ql(o)}break e;case"textarea":wa(t,r.value,r.defaultValue);break e;case"select":i=r.value,i!=null&&qe(t,!!r.multiple,i,!1)}}}var Gl=!1;function Mc(t,i,r){if(Gl)return t(i,r);Gl=!0;try{var o=t(i);return o}finally{if(Gl=!1,(Os!==null||Ms!==null)&&(Su(),Os&&(i=Os,t=Ms,Ms=Os=null,Ls(i),t)))for(i=0;i<t.length;i++)Ls(t[i])}}function Sa(t,i){var r=t.stateNode;if(r===null)return null;var o=r[St]||null;if(o===null)return null;r=o[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,i,typeof r));return r}var In=!1;if(_n)try{var Na={};Object.defineProperty(Na,"passive",{get:function(){In=!0}}),window.addEventListener("test",Na,Na),window.removeEventListener("test",Na,Na)}catch{In=!1}var os=null,ki=null,Vs=null;function $l(){if(Vs)return Vs;var t,i=ki,r=i.length,o,f="value"in os?os.value:os.textContent,m=f.length;for(t=0;t<r&&i[t]===f[t];t++);var x=r-t;for(o=1;o<=x&&i[r-o]===f[m-o];o++);return Vs=f.slice(t,1<o?1-o:void 0)}function cs(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function us(){return!0}function Ql(){return!1}function Lt(t){function i(r,o,f,m,x){this._reactName=r,this._targetInst=f,this.type=o,this.nativeEvent=m,this.target=x,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(r=t[T],this[T]=r?r(m):m[T]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?us:Ql,this.isPropagationStopped=Ql,this}return R(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=us)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=us)},persist:function(){},isPersistent:us}),i}var Ge={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wr=Lt(Ge),Ra=R({},Ge,{view:0,detail:0}),Lc=Lt(Ra),Sr,Nr,hs,ka=R({},Ra,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ja,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==hs&&(hs&&t.type==="mousemove"?(Sr=t.screenX-hs.screenX,Nr=t.screenY-hs.screenY):Nr=Sr=0,hs=t),Sr)},movementY:function(t){return"movementY"in t?t.movementY:Nr}}),jn=Lt(ka),Vc=R({},ka,{dataTransfer:0}),vd=Lt(Vc),Ca=R({},Ra,{relatedTarget:0}),Rr=Lt(Ca),Yl=R({},Ge,{animationName:0,elapsedTime:0,pseudoElement:0}),kr=Lt(Yl),Pc=R({},Ge,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Cr=Lt(Pc),xd=R({},Ge,{data:0}),Wl=Lt(xd),Ia={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Uc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xl(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Bc[t])?!!i[t]:!1}function ja(){return Xl}var Hc=R({},Ra,{key:function(t){if(t.key){var i=Ia[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=cs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Uc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ja,charCode:function(t){return t.type==="keypress"?cs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?cs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ir=Lt(Hc),zc=R({},ka,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zl=Lt(zc),Ps=R({},Ra,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ja}),qc=Lt(Ps),Kc=R({},Ge,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fc=Lt(Kc),Gc=R({},ka,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),jr=Lt(Gc),rn=R({},Ge,{newState:0,oldState:0}),$c=Lt(rn),Qc=[9,13,27,32],ds=_n&&"CompositionEvent"in window,h=null;_n&&"documentMode"in document&&(h=document.documentMode);var y=_n&&"TextEvent"in window&&!h,v=_n&&(!ds||h&&8<h&&11>=h),b=" ",G=!1;function W(t,i){switch(t){case"keyup":return Qc.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function le(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ve=!1;function Nt(t,i){switch(t){case"compositionend":return le(i);case"keypress":return i.which!==32?null:(G=!0,b);case"textInput":return t=i.data,t===b&&G?null:t;default:return null}}function Pe(t,i){if(Ve)return t==="compositionend"||!ds&&W(t,i)?(t=$l(),Vs=ki=os=null,Ve=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return v&&i.locale!=="ko"?null:i.data;default:return null}}var Vt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rt(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Vt[t.type]:i==="textarea"}function Us(t,i,r,o){Os?Ms?Ms.push(o):Ms=[o]:Os=o,i=Iu(i,"onChange"),0<i.length&&(r=new wr("onChange","change",null,r,o),t.push({event:r,listeners:i}))}var zt=null,fs=null;function Jl(t){Hy(t,0)}function Yc(t){var i=bi(t);if(ql(i))return t}function pp(t,i){if(t==="change")return i}var _p=!1;if(_n){var Ed;if(_n){var Td="oninput"in document;if(!Td){var yp=document.createElement("div");yp.setAttribute("oninput","return;"),Td=typeof yp.oninput=="function"}Ed=Td}else Ed=!1;_p=Ed&&(!document.documentMode||9<document.documentMode)}function vp(){zt&&(zt.detachEvent("onpropertychange",xp),fs=zt=null)}function xp(t){if(t.propertyName==="value"&&Yc(fs)){var i=[];Us(i,fs,t,Ar(t)),Mc(Jl,i)}}function kb(t,i,r){t==="focusin"?(vp(),zt=i,fs=r,zt.attachEvent("onpropertychange",xp)):t==="focusout"&&vp()}function Cb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Yc(fs)}function Ib(t,i){if(t==="click")return Yc(i)}function jb(t,i){if(t==="input"||t==="change")return Yc(i)}function Db(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var yn=typeof Object.is=="function"?Object.is:Db;function eo(t,i){if(yn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var r=Object.keys(t),o=Object.keys(i);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var f=r[o];if(!pr.call(i,f)||!yn(t[f],i[f]))return!1}return!0}function Ep(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Tp(t,i){var r=Ep(t);t=0;for(var o;r;){if(r.nodeType===3){if(o=t+r.textContent.length,t<=i&&o>=i)return{node:r,offset:i-t};t=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ep(r)}}function bp(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?bp(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Ap(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Tr(t.document);i instanceof t.HTMLIFrameElement;){try{var r=typeof i.contentWindow.location.href=="string"}catch{r=!1}if(r)t=i.contentWindow;else break;i=Tr(t.document)}return i}function bd(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}function Ob(t,i){var r=Ap(i);i=t.focusedElem;var o=t.selectionRange;if(r!==i&&i&&i.ownerDocument&&bp(i.ownerDocument.documentElement,i)){if(o!==null&&bd(i)){if(t=o.start,r=o.end,r===void 0&&(r=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(r,i.value.length);else if(r=(t=i.ownerDocument||document)&&t.defaultView||window,r.getSelection){r=r.getSelection();var f=i.textContent.length,m=Math.min(o.start,f);o=o.end===void 0?m:Math.min(o.end,f),!r.extend&&m>o&&(f=o,o=m,m=f),f=Tp(i,m);var x=Tp(i,o);f&&x&&(r.rangeCount!==1||r.anchorNode!==f.node||r.anchorOffset!==f.offset||r.focusNode!==x.node||r.focusOffset!==x.offset)&&(t=t.createRange(),t.setStart(f.node,f.offset),r.removeAllRanges(),m>o?(r.addRange(t),r.extend(x.node,x.offset)):(t.setEnd(x.node,x.offset),r.addRange(t)))}}for(t=[],r=i;r=r.parentNode;)r.nodeType===1&&t.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)r=t[i],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var Mb=_n&&"documentMode"in document&&11>=document.documentMode,Dr=null,Ad=null,to=null,wd=!1;function wp(t,i,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;wd||Dr==null||Dr!==Tr(o)||(o=Dr,"selectionStart"in o&&bd(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),to&&eo(to,o)||(to=o,o=Iu(Ad,"onSelect"),0<o.length&&(i=new wr("onSelect","select",null,i,r),t.push({event:i,listeners:o}),i.target=Dr)))}function Da(t,i){var r={};return r[t.toLowerCase()]=i.toLowerCase(),r["Webkit"+t]="webkit"+i,r["Moz"+t]="moz"+i,r}var Or={animationend:Da("Animation","AnimationEnd"),animationiteration:Da("Animation","AnimationIteration"),animationstart:Da("Animation","AnimationStart"),transitionrun:Da("Transition","TransitionRun"),transitionstart:Da("Transition","TransitionStart"),transitioncancel:Da("Transition","TransitionCancel"),transitionend:Da("Transition","TransitionEnd")},Sd={},Sp={};_n&&(Sp=document.createElement("div").style,"AnimationEvent"in window||(delete Or.animationend.animation,delete Or.animationiteration.animation,delete Or.animationstart.animation),"TransitionEvent"in window||delete Or.transitionend.transition);function Oa(t){if(Sd[t])return Sd[t];if(!Or[t])return t;var i=Or[t],r;for(r in i)if(i.hasOwnProperty(r)&&r in Sp)return Sd[t]=i[r];return t}var Np=Oa("animationend"),Rp=Oa("animationiteration"),kp=Oa("animationstart"),Lb=Oa("transitionrun"),Vb=Oa("transitionstart"),Pb=Oa("transitioncancel"),Cp=Oa("transitionend"),Ip=new Map,jp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Gn(t,i){Ip.set(t,i),pn(i,[t])}var Dn=[],Mr=0,Nd=0;function Wc(){for(var t=Mr,i=Nd=Mr=0;i<t;){var r=Dn[i];Dn[i++]=null;var o=Dn[i];Dn[i++]=null;var f=Dn[i];Dn[i++]=null;var m=Dn[i];if(Dn[i++]=null,o!==null&&f!==null){var x=o.pending;x===null?f.next=f:(f.next=x.next,x.next=f),o.pending=f}m!==0&&Dp(r,f,m)}}function Xc(t,i,r,o){Dn[Mr++]=t,Dn[Mr++]=i,Dn[Mr++]=r,Dn[Mr++]=o,Nd|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Rd(t,i,r,o){return Xc(t,i,r,o),Zc(t)}function Ci(t,i){return Xc(t,null,null,i),Zc(t)}function Dp(t,i,r){t.lanes|=r;var o=t.alternate;o!==null&&(o.lanes|=r);for(var f=!1,m=t.return;m!==null;)m.childLanes|=r,o=m.alternate,o!==null&&(o.childLanes|=r),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(f=!0)),t=m,m=m.return;f&&i!==null&&t.tag===3&&(m=t.stateNode,f=31-sn(r),m=m.hiddenUpdates,t=m[f],t===null?m[f]=[i]:t.push(i),i.lane=r|536870912)}function Zc(t){if(50<No)throw No=0,Mf=null,Error(a(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Lr={},Op=new WeakMap;function On(t,i){if(typeof t=="object"&&t!==null){var r=Op.get(t);return r!==void 0?r:(i={value:t,source:i,stack:_e(i)},Op.set(t,i),i)}return{value:t,source:i,stack:_e(i)}}var Vr=[],Pr=0,Jc=null,eu=0,Mn=[],Ln=0,Ma=null,Bs=1,Hs="";function La(t,i){Vr[Pr++]=eu,Vr[Pr++]=Jc,Jc=t,eu=i}function Mp(t,i,r){Mn[Ln++]=Bs,Mn[Ln++]=Hs,Mn[Ln++]=Ma,Ma=t;var o=Bs;t=Hs;var f=32-sn(o)-1;o&=~(1<<f),r+=1;var m=32-sn(i)+f;if(30<m){var x=f-f%5;m=(o&(1<<x)-1).toString(32),o>>=x,f-=x,Bs=1<<32-sn(i)+f|r<<f|o,Hs=m+t}else Bs=1<<m|r<<f|o,Hs=t}function kd(t){t.return!==null&&(La(t,1),Mp(t,1,0))}function Cd(t){for(;t===Jc;)Jc=Vr[--Pr],Vr[Pr]=null,eu=Vr[--Pr],Vr[Pr]=null;for(;t===Ma;)Ma=Mn[--Ln],Mn[Ln]=null,Hs=Mn[--Ln],Mn[Ln]=null,Bs=Mn[--Ln],Mn[Ln]=null}var ln=null,qt=null,Ke=!1,$n=null,ms=!1,Id=Error(a(519));function Va(t){var i=Error(a(418,""));throw io(On(i,t)),Id}function Lp(t){var i=t.stateNode,r=t.type,o=t.memoizedProps;switch(i[Mt]=t,i[St]=o,r){case"dialog":Me("cancel",i),Me("close",i);break;case"iframe":case"object":case"embed":Me("load",i);break;case"video":case"audio":for(r=0;r<ko.length;r++)Me(ko[r],i);break;case"source":Me("error",i);break;case"img":case"image":case"link":Me("error",i),Me("load",i);break;case"details":Me("toggle",i);break;case"input":Me("invalid",i),Aa(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),ba(i);break;case"select":Me("invalid",i);break;case"textarea":Me("invalid",i),Ri(i,o.value,o.defaultValue,o.children),ba(i)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||i.textContent===""+r||o.suppressHydrationWarning===!0||Fy(i.textContent,r)?(o.popover!=null&&(Me("beforetoggle",i),Me("toggle",i)),o.onScroll!=null&&Me("scroll",i),o.onScrollEnd!=null&&Me("scrollend",i),o.onClick!=null&&(i.onclick=ju),i=!0):i=!1,i||Va(t)}function Vp(t){for(ln=t.return;ln;)switch(ln.tag){case 3:case 27:ms=!0;return;case 5:case 13:ms=!1;return;default:ln=ln.return}}function no(t){if(t!==ln)return!1;if(!Ke)return Vp(t),Ke=!0,!1;var i=!1,r;if((r=t.tag!==3&&t.tag!==27)&&((r=t.tag===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Zf(t.type,t.memoizedProps)),r=!r),r&&(i=!0),i&&qt&&Va(t),Vp(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(i===0){qt=Yn(t.nextSibling);break e}i--}else r!=="$"&&r!=="$!"&&r!=="$?"||i++;t=t.nextSibling}qt=null}}else qt=ln?Yn(t.stateNode.nextSibling):null;return!0}function so(){qt=ln=null,Ke=!1}function io(t){$n===null?$n=[t]:$n.push(t)}var ao=Error(a(460)),Pp=Error(a(474)),jd={then:function(){}};function Up(t){return t=t.status,t==="fulfilled"||t==="rejected"}function tu(){}function Bp(t,i,r){switch(r=t[r],r===void 0?t.push(i):r!==i&&(i.then(tu,tu),i=r),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,t===ao?Error(a(483)):t;default:if(typeof i.status=="string")i.then(tu,tu);else{if(t=Ze,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=i,t.status="pending",t.then(function(o){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=o}},function(o){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,t===ao?Error(a(483)):t}throw ro=i,ao}}var ro=null;function Hp(){if(ro===null)throw Error(a(459));var t=ro;return ro=null,t}var Ur=null,lo=0;function nu(t){var i=lo;return lo+=1,Ur===null&&(Ur=[]),Bp(Ur,t,i)}function oo(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function su(t,i){throw i.$$typeof===c?Error(a(525)):(t=Object.prototype.toString.call(i),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function zp(t){var i=t._init;return i(t._payload)}function qp(t){function i(q,P){if(t){var $=q.deletions;$===null?(q.deletions=[P],q.flags|=16):$.push(P)}}function r(q,P){if(!t)return null;for(;P!==null;)i(q,P),P=P.sibling;return null}function o(q){for(var P=new Map;q!==null;)q.key!==null?P.set(q.key,q):P.set(q.index,q),q=q.sibling;return P}function f(q,P){return q=zi(q,P),q.index=0,q.sibling=null,q}function m(q,P,$){return q.index=$,t?($=q.alternate,$!==null?($=$.index,$<P?(q.flags|=33554434,P):$):(q.flags|=33554434,P)):(q.flags|=1048576,P)}function x(q){return t&&q.alternate===null&&(q.flags|=33554434),q}function T(q,P,$,te){return P===null||P.tag!==6?(P=Nf($,q.mode,te),P.return=q,P):(P=f(P,$),P.return=q,P)}function k(q,P,$,te){var fe=$.type;return fe===p?Z(q,P,$.props.children,te,$.key):P!==null&&(P.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===B&&zp(fe)===P.type)?(P=f(P,$.props),oo(P,$),P.return=q,P):(P=Eu($.type,$.key,$.props,null,q.mode,te),oo(P,$),P.return=q,P)}function U(q,P,$,te){return P===null||P.tag!==4||P.stateNode.containerInfo!==$.containerInfo||P.stateNode.implementation!==$.implementation?(P=Rf($,q.mode,te),P.return=q,P):(P=f(P,$.children||[]),P.return=q,P)}function Z(q,P,$,te,fe){return P===null||P.tag!==7?(P=$a($,q.mode,te,fe),P.return=q,P):(P=f(P,$),P.return=q,P)}function ie(q,P,$){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=Nf(""+P,q.mode,$),P.return=q,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case d:return $=Eu(P.type,P.key,P.props,null,q.mode,$),oo($,P),$.return=q,$;case g:return P=Rf(P,q.mode,$),P.return=q,P;case B:var te=P._init;return P=te(P._payload),ie(q,P,$)}if(oe(P)||ce(P))return P=$a(P,q.mode,$,null),P.return=q,P;if(typeof P.then=="function")return ie(q,nu(P),$);if(P.$$typeof===C)return ie(q,yu(q,P),$);su(q,P)}return null}function Y(q,P,$,te){var fe=P!==null?P.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return fe!==null?null:T(q,P,""+$,te);if(typeof $=="object"&&$!==null){switch($.$$typeof){case d:return $.key===fe?k(q,P,$,te):null;case g:return $.key===fe?U(q,P,$,te):null;case B:return fe=$._init,$=fe($._payload),Y(q,P,$,te)}if(oe($)||ce($))return fe!==null?null:Z(q,P,$,te,null);if(typeof $.then=="function")return Y(q,P,nu($),te);if($.$$typeof===C)return Y(q,P,yu(q,$),te);su(q,$)}return null}function X(q,P,$,te,fe){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return q=q.get($)||null,T(P,q,""+te,fe);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case d:return q=q.get(te.key===null?$:te.key)||null,k(P,q,te,fe);case g:return q=q.get(te.key===null?$:te.key)||null,U(P,q,te,fe);case B:var Ie=te._init;return te=Ie(te._payload),X(q,P,$,te,fe)}if(oe(te)||ce(te))return q=q.get($)||null,Z(P,q,te,fe,null);if(typeof te.then=="function")return X(q,P,$,nu(te),fe);if(te.$$typeof===C)return X(q,P,$,yu(P,te),fe);su(P,te)}return null}function pe(q,P,$,te){for(var fe=null,Ie=null,ye=P,xe=P=0,Bt=null;ye!==null&&xe<$.length;xe++){ye.index>xe?(Bt=ye,ye=null):Bt=ye.sibling;var Fe=Y(q,ye,$[xe],te);if(Fe===null){ye===null&&(ye=Bt);break}t&&ye&&Fe.alternate===null&&i(q,ye),P=m(Fe,P,xe),Ie===null?fe=Fe:Ie.sibling=Fe,Ie=Fe,ye=Bt}if(xe===$.length)return r(q,ye),Ke&&La(q,xe),fe;if(ye===null){for(;xe<$.length;xe++)ye=ie(q,$[xe],te),ye!==null&&(P=m(ye,P,xe),Ie===null?fe=ye:Ie.sibling=ye,Ie=ye);return Ke&&La(q,xe),fe}for(ye=o(ye);xe<$.length;xe++)Bt=X(ye,q,xe,$[xe],te),Bt!==null&&(t&&Bt.alternate!==null&&ye.delete(Bt.key===null?xe:Bt.key),P=m(Bt,P,xe),Ie===null?fe=Bt:Ie.sibling=Bt,Ie=Bt);return t&&ye.forEach(function(Yi){return i(q,Yi)}),Ke&&La(q,xe),fe}function we(q,P,$,te){if($==null)throw Error(a(151));for(var fe=null,Ie=null,ye=P,xe=P=0,Bt=null,Fe=$.next();ye!==null&&!Fe.done;xe++,Fe=$.next()){ye.index>xe?(Bt=ye,ye=null):Bt=ye.sibling;var Yi=Y(q,ye,Fe.value,te);if(Yi===null){ye===null&&(ye=Bt);break}t&&ye&&Yi.alternate===null&&i(q,ye),P=m(Yi,P,xe),Ie===null?fe=Yi:Ie.sibling=Yi,Ie=Yi,ye=Bt}if(Fe.done)return r(q,ye),Ke&&La(q,xe),fe;if(ye===null){for(;!Fe.done;xe++,Fe=$.next())Fe=ie(q,Fe.value,te),Fe!==null&&(P=m(Fe,P,xe),Ie===null?fe=Fe:Ie.sibling=Fe,Ie=Fe);return Ke&&La(q,xe),fe}for(ye=o(ye);!Fe.done;xe++,Fe=$.next())Fe=X(ye,q,xe,Fe.value,te),Fe!==null&&(t&&Fe.alternate!==null&&ye.delete(Fe.key===null?xe:Fe.key),P=m(Fe,P,xe),Ie===null?fe=Fe:Ie.sibling=Fe,Ie=Fe);return t&&ye.forEach(function(ZA){return i(q,ZA)}),Ke&&La(q,xe),fe}function ft(q,P,$,te){if(typeof $=="object"&&$!==null&&$.type===p&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case d:e:{for(var fe=$.key;P!==null;){if(P.key===fe){if(fe=$.type,fe===p){if(P.tag===7){r(q,P.sibling),te=f(P,$.props.children),te.return=q,q=te;break e}}else if(P.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===B&&zp(fe)===P.type){r(q,P.sibling),te=f(P,$.props),oo(te,$),te.return=q,q=te;break e}r(q,P);break}else i(q,P);P=P.sibling}$.type===p?(te=$a($.props.children,q.mode,te,$.key),te.return=q,q=te):(te=Eu($.type,$.key,$.props,null,q.mode,te),oo(te,$),te.return=q,q=te)}return x(q);case g:e:{for(fe=$.key;P!==null;){if(P.key===fe)if(P.tag===4&&P.stateNode.containerInfo===$.containerInfo&&P.stateNode.implementation===$.implementation){r(q,P.sibling),te=f(P,$.children||[]),te.return=q,q=te;break e}else{r(q,P);break}else i(q,P);P=P.sibling}te=Rf($,q.mode,te),te.return=q,q=te}return x(q);case B:return fe=$._init,$=fe($._payload),ft(q,P,$,te)}if(oe($))return pe(q,P,$,te);if(ce($)){if(fe=ce($),typeof fe!="function")throw Error(a(150));return $=fe.call($),we(q,P,$,te)}if(typeof $.then=="function")return ft(q,P,nu($),te);if($.$$typeof===C)return ft(q,P,yu(q,$),te);su(q,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,P!==null&&P.tag===6?(r(q,P.sibling),te=f(P,$),te.return=q,q=te):(r(q,P),te=Nf($,q.mode,te),te.return=q,q=te),x(q)):r(q,P)}return function(q,P,$,te){try{lo=0;var fe=ft(q,P,$,te);return Ur=null,fe}catch(ye){if(ye===ao)throw ye;var Ie=Bn(29,ye,null,q.mode);return Ie.lanes=te,Ie.return=q,Ie}finally{}}}var Pa=qp(!0),Kp=qp(!1),Br=ze(null),iu=ze(0);function Fp(t,i){t=Zs,Qe(iu,t),Qe(Br,i),Zs=t|i.baseLanes}function Dd(){Qe(iu,Zs),Qe(Br,Br.current)}function Od(){Zs=iu.current,ct(Br),ct(iu)}var Vn=ze(null),gs=null;function Ii(t){var i=t.alternate;Qe(kt,kt.current&1),Qe(Vn,t),gs===null&&(i===null||Br.current!==null||i.memoizedState!==null)&&(gs=t)}function Gp(t){if(t.tag===22){if(Qe(kt,kt.current),Qe(Vn,t),gs===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(gs=t)}}else ji()}function ji(){Qe(kt,kt.current),Qe(Vn,Vn.current)}function zs(t){ct(Vn),gs===t&&(gs=null),ct(kt)}var kt=ze(0);function au(t){for(var i=t;i!==null;){if(i.tag===13){var r=i.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Ub=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(r,o){t.push(o)}};this.abort=function(){i.aborted=!0,t.forEach(function(r){return r()})}},Bb=s.unstable_scheduleCallback,Hb=s.unstable_NormalPriority,Ct={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Md(){return{controller:new Ub,data:new Map,refCount:0}}function co(t){t.refCount--,t.refCount===0&&Bb(Hb,function(){t.controller.abort()})}var uo=null,Ld=0,Hr=0,zr=null;function zb(t,i){if(uo===null){var r=uo=[];Ld=0,Hr=qf(),zr={status:"pending",value:void 0,then:function(o){r.push(o)}}}return Ld++,i.then($p,$p),i}function $p(){if(--Ld===0&&uo!==null){zr!==null&&(zr.status="fulfilled");var t=uo;uo=null,Hr=0,zr=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function qb(t,i){var r=[],o={status:"pending",value:null,reason:null,then:function(f){r.push(f)}};return t.then(function(){o.status="fulfilled",o.value=i;for(var f=0;f<r.length;f++)(0,r[f])(i)},function(f){for(o.status="rejected",o.reason=f,f=0;f<r.length;f++)(0,r[f])(void 0)}),o}var Qp=S.S;S.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&zb(t,i),Qp!==null&&Qp(t,i)};var Ua=ze(null);function Vd(){var t=Ua.current;return t!==null?t:Ze.pooledCache}function ru(t,i){i===null?Qe(Ua,Ua.current):Qe(Ua,i.pool)}function Yp(){var t=Vd();return t===null?null:{parent:Ct._currentValue,pool:t}}var Di=0,Ce=null,Ye=null,xt=null,lu=!1,qr=!1,Ba=!1,ou=0,ho=0,Kr=null,Kb=0;function _t(){throw Error(a(321))}function Pd(t,i){if(i===null)return!1;for(var r=0;r<i.length&&r<t.length;r++)if(!yn(t[r],i[r]))return!1;return!0}function Ud(t,i,r,o,f,m){return Di=m,Ce=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,S.H=t===null||t.memoizedState===null?Ha:Oi,Ba=!1,m=r(o,f),Ba=!1,qr&&(m=Xp(i,r,o,f)),Wp(t),m}function Wp(t){S.H=ps;var i=Ye!==null&&Ye.next!==null;if(Di=0,xt=Ye=Ce=null,lu=!1,ho=0,Kr=null,i)throw Error(a(300));t===null||Pt||(t=t.dependencies,t!==null&&_u(t)&&(Pt=!0))}function Xp(t,i,r,o){Ce=t;var f=0;do{if(qr&&(Kr=null),ho=0,qr=!1,25<=f)throw Error(a(301));if(f+=1,xt=Ye=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}S.H=za,m=i(r,o)}while(qr);return m}function Fb(){var t=S.H,i=t.useState()[0];return i=typeof i.then=="function"?fo(i):i,t=t.useState()[0],(Ye!==null?Ye.memoizedState:null)!==t&&(Ce.flags|=1024),i}function Bd(){var t=ou!==0;return ou=0,t}function Hd(t,i,r){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~r}function zd(t){if(lu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}lu=!1}Di=0,xt=Ye=Ce=null,qr=!1,ho=ou=0,Kr=null}function fn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?Ce.memoizedState=xt=t:xt=xt.next=t,xt}function Et(){if(Ye===null){var t=Ce.alternate;t=t!==null?t.memoizedState:null}else t=Ye.next;var i=xt===null?Ce.memoizedState:xt.next;if(i!==null)xt=i,Ye=t;else{if(t===null)throw Ce.alternate===null?Error(a(467)):Error(a(310));Ye=t,t={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},xt===null?Ce.memoizedState=xt=t:xt=xt.next=t}return xt}var cu;cu=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function fo(t){var i=ho;return ho+=1,Kr===null&&(Kr=[]),t=Bp(Kr,t,i),i=Ce,(xt===null?i.memoizedState:xt.next)===null&&(i=i.alternate,S.H=i===null||i.memoizedState===null?Ha:Oi),t}function uu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return fo(t);if(t.$$typeof===C)return Wt(t)}throw Error(a(438,String(t)))}function qd(t){var i=null,r=Ce.updateQueue;if(r!==null&&(i=r.memoCache),i==null){var o=Ce.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),r===null&&(r=cu(),Ce.updateQueue=r),r.memoCache=i,r=i.data[i.index],r===void 0)for(r=i.data[i.index]=Array(t),o=0;o<t;o++)r[o]=ee;return i.index++,r}function qs(t,i){return typeof i=="function"?i(t):i}function hu(t){var i=Et();return Kd(i,Ye,t)}function Kd(t,i,r){var o=t.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var f=t.baseQueue,m=o.pending;if(m!==null){if(f!==null){var x=f.next;f.next=m.next,m.next=x}i.baseQueue=f=m,o.pending=null}if(m=t.baseState,f===null)t.memoizedState=m;else{i=f.next;var T=x=null,k=null,U=i,Z=!1;do{var ie=U.lane&-536870913;if(ie!==U.lane?(Ue&ie)===ie:(Di&ie)===ie){var Y=U.revertLane;if(Y===0)k!==null&&(k=k.next={lane:0,revertLane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),ie===Hr&&(Z=!0);else if((Di&Y)===Y){U=U.next,Y===Hr&&(Z=!0);continue}else ie={lane:0,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},k===null?(T=k=ie,x=m):k=k.next=ie,Ce.lanes|=Y,qi|=Y;ie=U.action,Ba&&r(m,ie),m=U.hasEagerState?U.eagerState:r(m,ie)}else Y={lane:ie,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},k===null?(T=k=Y,x=m):k=k.next=Y,Ce.lanes|=ie,qi|=ie;U=U.next}while(U!==null&&U!==i);if(k===null?x=m:k.next=T,!yn(m,t.memoizedState)&&(Pt=!0,Z&&(r=zr,r!==null)))throw r;t.memoizedState=m,t.baseState=x,t.baseQueue=k,o.lastRenderedState=m}return f===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Fd(t){var i=Et(),r=i.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var o=r.dispatch,f=r.pending,m=i.memoizedState;if(f!==null){r.pending=null;var x=f=f.next;do m=t(m,x.action),x=x.next;while(x!==f);yn(m,i.memoizedState)||(Pt=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),r.lastRenderedState=m}return[m,o]}function Zp(t,i,r){var o=Ce,f=Et(),m=Ke;if(m){if(r===void 0)throw Error(a(407));r=r()}else r=i();var x=!yn((Ye||f).memoizedState,r);if(x&&(f.memoizedState=r,Pt=!0),f=f.queue,Qd(t_.bind(null,o,f,t),[t]),f.getSnapshot!==i||x||xt!==null&&xt.memoizedState.tag&1){if(o.flags|=2048,Fr(9,e_.bind(null,o,f,r,i),{destroy:void 0},null),Ze===null)throw Error(a(349));m||(Di&60)!==0||Jp(o,i,r)}return r}function Jp(t,i,r){t.flags|=16384,t={getSnapshot:i,value:r},i=Ce.updateQueue,i===null?(i=cu(),Ce.updateQueue=i,i.stores=[t]):(r=i.stores,r===null?i.stores=[t]:r.push(t))}function e_(t,i,r,o){i.value=r,i.getSnapshot=o,n_(i)&&s_(t)}function t_(t,i,r){return r(function(){n_(i)&&s_(t)})}function n_(t){var i=t.getSnapshot;t=t.value;try{var r=i();return!yn(t,r)}catch{return!0}}function s_(t){var i=Ci(t,2);i!==null&&on(i,t,2)}function Gd(t){var i=fn();if(typeof t=="function"){var r=t;if(t=r(),Ba){ss(!0);try{r()}finally{ss(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qs,lastRenderedState:t},i}function i_(t,i,r,o){return t.baseState=r,Kd(t,Ye,typeof o=="function"?o:qs)}function Gb(t,i,r,o,f){if(mu(t))throw Error(a(485));if(t=i.action,t!==null){var m={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){m.listeners.push(x)}};S.T!==null?r(!0):m.isTransition=!1,o(m),r=i.pending,r===null?(m.next=i.pending=m,a_(i,m)):(m.next=r.next,i.pending=r.next=m)}}function a_(t,i){var r=i.action,o=i.payload,f=t.state;if(i.isTransition){var m=S.T,x={};S.T=x;try{var T=r(f,o),k=S.S;k!==null&&k(x,T),r_(t,i,T)}catch(U){$d(t,i,U)}finally{S.T=m}}else try{m=r(f,o),r_(t,i,m)}catch(U){$d(t,i,U)}}function r_(t,i,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){l_(t,i,o)},function(o){return $d(t,i,o)}):l_(t,i,r)}function l_(t,i,r){i.status="fulfilled",i.value=r,o_(i),t.state=r,i=t.pending,i!==null&&(r=i.next,r===i?t.pending=null:(r=r.next,i.next=r,a_(t,r)))}function $d(t,i,r){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=r,o_(i),i=i.next;while(i!==o)}t.action=null}function o_(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function c_(t,i){return i}function u_(t,i){if(Ke){var r=Ze.formState;if(r!==null){e:{var o=Ce;if(Ke){if(qt){t:{for(var f=qt,m=ms;f.nodeType!==8;){if(!m){f=null;break t}if(f=Yn(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){qt=Yn(f.nextSibling),o=f.data==="F!";break e}}Va(o)}o=!1}o&&(i=r[0])}}return r=fn(),r.memoizedState=r.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c_,lastRenderedState:i},r.queue=o,r=R_.bind(null,Ce,o),o.dispatch=r,o=Gd(!1),m=Jd.bind(null,Ce,!1,o.queue),o=fn(),f={state:i,dispatch:null,action:t,pending:null},o.queue=f,r=Gb.bind(null,Ce,f,m,r),f.dispatch=r,o.memoizedState=t,[i,r,!1]}function h_(t){var i=Et();return d_(i,Ye,t)}function d_(t,i,r){i=Kd(t,i,c_)[0],t=hu(qs)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?fo(i):i;var o=Et(),f=o.queue,m=f.dispatch;return r!==o.memoizedState&&(Ce.flags|=2048,Fr(9,$b.bind(null,f,r),{destroy:void 0},null)),[i,m,t]}function $b(t,i){t.action=i}function f_(t){var i=Et(),r=Ye;if(r!==null)return d_(i,r,t);Et(),i=i.memoizedState,r=Et();var o=r.queue.dispatch;return r.memoizedState=t,[i,o,!1]}function Fr(t,i,r,o){return t={tag:t,create:i,inst:r,deps:o,next:null},i=Ce.updateQueue,i===null&&(i=cu(),Ce.updateQueue=i),r=i.lastEffect,r===null?i.lastEffect=t.next=t:(o=r.next,r.next=t,t.next=o,i.lastEffect=t),t}function m_(){return Et().memoizedState}function du(t,i,r,o){var f=fn();Ce.flags|=t,f.memoizedState=Fr(1|i,r,{destroy:void 0},o===void 0?null:o)}function fu(t,i,r,o){var f=Et();o=o===void 0?null:o;var m=f.memoizedState.inst;Ye!==null&&o!==null&&Pd(o,Ye.memoizedState.deps)?f.memoizedState=Fr(i,r,m,o):(Ce.flags|=t,f.memoizedState=Fr(1|i,r,m,o))}function g_(t,i){du(8390656,8,t,i)}function Qd(t,i){fu(2048,8,t,i)}function p_(t,i){return fu(4,2,t,i)}function __(t,i){return fu(4,4,t,i)}function y_(t,i){if(typeof i=="function"){t=t();var r=i(t);return function(){typeof r=="function"?r():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function v_(t,i,r){r=r!=null?r.concat([t]):null,fu(4,4,y_.bind(null,i,t),r)}function Yd(){}function x_(t,i){var r=Et();i=i===void 0?null:i;var o=r.memoizedState;return i!==null&&Pd(i,o[1])?o[0]:(r.memoizedState=[t,i],t)}function E_(t,i){var r=Et();i=i===void 0?null:i;var o=r.memoizedState;if(i!==null&&Pd(i,o[1]))return o[0];if(o=t(),Ba){ss(!0);try{t()}finally{ss(!1)}}return r.memoizedState=[o,i],o}function Wd(t,i,r){return r===void 0||(Di&1073741824)!==0?t.memoizedState=i:(t.memoizedState=r,t=by(),Ce.lanes|=t,qi|=t,r)}function T_(t,i,r,o){return yn(r,i)?r:Br.current!==null?(t=Wd(t,r,o),yn(t,i)||(Pt=!0),t):(Di&42)===0?(Pt=!0,t.memoizedState=r):(t=by(),Ce.lanes|=t,qi|=t,i)}function b_(t,i,r,o,f){var m=ue.p;ue.p=m!==0&&8>m?m:8;var x=S.T,T={};S.T=T,Jd(t,!1,i,r);try{var k=f(),U=S.S;if(U!==null&&U(T,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var Z=qb(k,o);mo(t,i,Z,Tn(t))}else mo(t,i,o,Tn(t))}catch(ie){mo(t,i,{then:function(){},status:"rejected",reason:ie},Tn())}finally{ue.p=m,S.T=x}}function Qb(){}function Xd(t,i,r,o){if(t.tag!==5)throw Error(a(476));var f=A_(t).queue;b_(t,f,i,Re,r===null?Qb:function(){return w_(t),r(o)})}function A_(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:Re,baseState:Re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qs,lastRenderedState:Re},next:null};var r={};return i.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qs,lastRenderedState:r},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function w_(t){var i=A_(t).next.queue;mo(t,i,{},Tn())}function Zd(){return Wt(Oo)}function S_(){return Et().memoizedState}function N_(){return Et().memoizedState}function Yb(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var r=Tn();t=Vi(r);var o=Pi(i,t,r);o!==null&&(on(o,i,r),_o(o,i,r)),i={cache:Md()},t.payload=i;return}i=i.return}}function Wb(t,i,r){var o=Tn();r={lane:o,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},mu(t)?k_(i,r):(r=Rd(t,i,r,o),r!==null&&(on(r,t,o),C_(r,i,o)))}function R_(t,i,r){var o=Tn();mo(t,i,r,o)}function mo(t,i,r,o){var f={lane:o,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(mu(t))k_(i,f);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var x=i.lastRenderedState,T=m(x,r);if(f.hasEagerState=!0,f.eagerState=T,yn(T,x))return Xc(t,i,f,0),Ze===null&&Wc(),!1}catch{}finally{}if(r=Rd(t,i,f,o),r!==null)return on(r,t,o),C_(r,i,o),!0}return!1}function Jd(t,i,r,o){if(o={lane:2,revertLane:qf(),action:o,hasEagerState:!1,eagerState:null,next:null},mu(t)){if(i)throw Error(a(479))}else i=Rd(t,r,o,2),i!==null&&on(i,t,2)}function mu(t){var i=t.alternate;return t===Ce||i!==null&&i===Ce}function k_(t,i){qr=lu=!0;var r=t.pending;r===null?i.next=i:(i.next=r.next,r.next=i),t.pending=i}function C_(t,i,r){if((r&4194176)!==0){var o=i.lanes;o&=t.pendingLanes,r|=o,i.lanes=r,xi(t,r)}}var ps={readContext:Wt,use:uu,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useLayoutEffect:_t,useInsertionEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useSyncExternalStore:_t,useId:_t};ps.useCacheRefresh=_t,ps.useMemoCache=_t,ps.useHostTransitionStatus=_t,ps.useFormState=_t,ps.useActionState=_t,ps.useOptimistic=_t;var Ha={readContext:Wt,use:uu,useCallback:function(t,i){return fn().memoizedState=[t,i===void 0?null:i],t},useContext:Wt,useEffect:g_,useImperativeHandle:function(t,i,r){r=r!=null?r.concat([t]):null,du(4194308,4,y_.bind(null,i,t),r)},useLayoutEffect:function(t,i){return du(4194308,4,t,i)},useInsertionEffect:function(t,i){du(4,2,t,i)},useMemo:function(t,i){var r=fn();i=i===void 0?null:i;var o=t();if(Ba){ss(!0);try{t()}finally{ss(!1)}}return r.memoizedState=[o,i],o},useReducer:function(t,i,r){var o=fn();if(r!==void 0){var f=r(i);if(Ba){ss(!0);try{r(i)}finally{ss(!1)}}}else f=i;return o.memoizedState=o.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},o.queue=t,t=t.dispatch=Wb.bind(null,Ce,t),[o.memoizedState,t]},useRef:function(t){var i=fn();return t={current:t},i.memoizedState=t},useState:function(t){t=Gd(t);var i=t.queue,r=R_.bind(null,Ce,i);return i.dispatch=r,[t.memoizedState,r]},useDebugValue:Yd,useDeferredValue:function(t,i){var r=fn();return Wd(r,t,i)},useTransition:function(){var t=Gd(!1);return t=b_.bind(null,Ce,t.queue,!0,!1),fn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,r){var o=Ce,f=fn();if(Ke){if(r===void 0)throw Error(a(407));r=r()}else{if(r=i(),Ze===null)throw Error(a(349));(Ue&60)!==0||Jp(o,i,r)}f.memoizedState=r;var m={value:r,getSnapshot:i};return f.queue=m,g_(t_.bind(null,o,m,t),[t]),o.flags|=2048,Fr(9,e_.bind(null,o,m,r,i),{destroy:void 0},null),r},useId:function(){var t=fn(),i=Ze.identifierPrefix;if(Ke){var r=Hs,o=Bs;r=(o&~(1<<32-sn(o)-1)).toString(32)+r,i=":"+i+"R"+r,r=ou++,0<r&&(i+="H"+r.toString(32)),i+=":"}else r=Kb++,i=":"+i+"r"+r.toString(32)+":";return t.memoizedState=i},useCacheRefresh:function(){return fn().memoizedState=Yb.bind(null,Ce)}};Ha.useMemoCache=qd,Ha.useHostTransitionStatus=Zd,Ha.useFormState=u_,Ha.useActionState=u_,Ha.useOptimistic=function(t){var i=fn();i.memoizedState=i.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=r,i=Jd.bind(null,Ce,!0,r),r.dispatch=i,[t,i]};var Oi={readContext:Wt,use:uu,useCallback:x_,useContext:Wt,useEffect:Qd,useImperativeHandle:v_,useInsertionEffect:p_,useLayoutEffect:__,useMemo:E_,useReducer:hu,useRef:m_,useState:function(){return hu(qs)},useDebugValue:Yd,useDeferredValue:function(t,i){var r=Et();return T_(r,Ye.memoizedState,t,i)},useTransition:function(){var t=hu(qs)[0],i=Et().memoizedState;return[typeof t=="boolean"?t:fo(t),i]},useSyncExternalStore:Zp,useId:S_};Oi.useCacheRefresh=N_,Oi.useMemoCache=qd,Oi.useHostTransitionStatus=Zd,Oi.useFormState=h_,Oi.useActionState=h_,Oi.useOptimistic=function(t,i){var r=Et();return i_(r,Ye,t,i)};var za={readContext:Wt,use:uu,useCallback:x_,useContext:Wt,useEffect:Qd,useImperativeHandle:v_,useInsertionEffect:p_,useLayoutEffect:__,useMemo:E_,useReducer:Fd,useRef:m_,useState:function(){return Fd(qs)},useDebugValue:Yd,useDeferredValue:function(t,i){var r=Et();return Ye===null?Wd(r,t,i):T_(r,Ye.memoizedState,t,i)},useTransition:function(){var t=Fd(qs)[0],i=Et().memoizedState;return[typeof t=="boolean"?t:fo(t),i]},useSyncExternalStore:Zp,useId:S_};za.useCacheRefresh=N_,za.useMemoCache=qd,za.useHostTransitionStatus=Zd,za.useFormState=f_,za.useActionState=f_,za.useOptimistic=function(t,i){var r=Et();return Ye!==null?i_(r,Ye,t,i):(r.baseState=t,[t,r.queue.dispatch])};function ef(t,i,r,o){i=t.memoizedState,r=r(o,i),r=r==null?i:R({},i,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var tf={isMounted:function(t){return(t=t._reactInternals)?ge(t)===t:!1},enqueueSetState:function(t,i,r){t=t._reactInternals;var o=Tn(),f=Vi(o);f.payload=i,r!=null&&(f.callback=r),i=Pi(t,f,o),i!==null&&(on(i,t,o),_o(i,t,o))},enqueueReplaceState:function(t,i,r){t=t._reactInternals;var o=Tn(),f=Vi(o);f.tag=1,f.payload=i,r!=null&&(f.callback=r),i=Pi(t,f,o),i!==null&&(on(i,t,o),_o(i,t,o))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var r=Tn(),o=Vi(r);o.tag=2,i!=null&&(o.callback=i),i=Pi(t,o,r),i!==null&&(on(i,t,r),_o(i,t,r))}};function I_(t,i,r,o,f,m,x){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,m,x):i.prototype&&i.prototype.isPureReactComponent?!eo(r,o)||!eo(f,m):!0}function j_(t,i,r,o){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(r,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(r,o),i.state!==t&&tf.enqueueReplaceState(i,i.state,null)}function qa(t,i){var r=i;if("ref"in i){r={};for(var o in i)o!=="ref"&&(r[o]=i[o])}if(t=t.defaultProps){r===i&&(r=R({},r));for(var f in t)r[f]===void 0&&(r[f]=t[f])}return r}var gu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function D_(t){gu(t)}function O_(t){console.error(t)}function M_(t){gu(t)}function pu(t,i){try{var r=t.onUncaughtError;r(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function L_(t,i,r){try{var o=t.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function nf(t,i,r){return r=Vi(r),r.tag=3,r.payload={element:null},r.callback=function(){pu(t,i)},r}function V_(t){return t=Vi(t),t.tag=3,t}function P_(t,i,r,o){var f=r.type.getDerivedStateFromError;if(typeof f=="function"){var m=o.value;t.payload=function(){return f(m)},t.callback=function(){L_(i,r,o)}}var x=r.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(t.callback=function(){L_(i,r,o),typeof f!="function"&&(Ki===null?Ki=new Set([this]):Ki.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function Xb(t,i,r,o,f){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=r.alternate,i!==null&&po(i,r,f,!0),r=Vn.current,r!==null){switch(r.tag){case 13:return gs===null?Pf():r.alternate===null&&dt===0&&(dt=3),r.flags&=-257,r.flags|=65536,r.lanes=f,o===jd?r.flags|=16384:(i=r.updateQueue,i===null?r.updateQueue=new Set([o]):i.add(o),Bf(t,o,f)),!1;case 22:return r.flags|=65536,o===jd?r.flags|=16384:(i=r.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=i):(r=i.retryQueue,r===null?i.retryQueue=new Set([o]):r.add(o)),Bf(t,o,f)),!1}throw Error(a(435,r.tag))}return Bf(t,o,f),Pf(),!1}if(Ke)return i=Vn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,o!==Id&&(t=Error(a(422),{cause:o}),io(On(t,r)))):(o!==Id&&(i=Error(a(423),{cause:o}),io(On(i,r))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,o=On(o,r),f=nf(t.stateNode,o,f),yf(t,f),dt!==4&&(dt=2)),!1;var m=Error(a(520),{cause:o});if(m=On(m,r),wo===null?wo=[m]:wo.push(m),dt!==4&&(dt=2),i===null)return!0;o=On(o,r),r=i;do{switch(r.tag){case 3:return r.flags|=65536,t=f&-f,r.lanes|=t,t=nf(r.stateNode,o,t),yf(r,t),!1;case 1:if(i=r.type,m=r.stateNode,(r.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Ki===null||!Ki.has(m))))return r.flags|=65536,f&=-f,r.lanes|=f,f=V_(f),P_(f,t,r,o),yf(r,f),!1}r=r.return}while(r!==null);return!1}var U_=Error(a(461)),Pt=!1;function Kt(t,i,r,o){i.child=t===null?Kp(i,null,r,o):Pa(i,t.child,r,o)}function B_(t,i,r,o,f){r=r.render;var m=i.ref;if("ref"in o){var x={};for(var T in o)T!=="ref"&&(x[T]=o[T])}else x=o;return Fa(i),o=Ud(t,i,r,x,m,f),T=Bd(),t!==null&&!Pt?(Hd(t,i,f),Ks(t,i,f)):(Ke&&T&&kd(i),i.flags|=1,Kt(t,i,o,f),i.child)}function H_(t,i,r,o,f){if(t===null){var m=r.type;return typeof m=="function"&&!Sf(m)&&m.defaultProps===void 0&&r.compare===null?(i.tag=15,i.type=m,z_(t,i,m,o,f)):(t=Eu(r.type,null,o,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(m=t.child,!df(t,f)){var x=m.memoizedProps;if(r=r.compare,r=r!==null?r:eo,r(x,o)&&t.ref===i.ref)return Ks(t,i,f)}return i.flags|=1,t=zi(m,o),t.ref=i.ref,t.return=i,i.child=t}function z_(t,i,r,o,f){if(t!==null){var m=t.memoizedProps;if(eo(m,o)&&t.ref===i.ref)if(Pt=!1,i.pendingProps=o=m,df(t,f))(t.flags&131072)!==0&&(Pt=!0);else return i.lanes=t.lanes,Ks(t,i,f)}return sf(t,i,r,o,f)}function q_(t,i,r){var o=i.pendingProps,f=o.children,m=(i.stateNode._pendingVisibility&2)!==0,x=t!==null?t.memoizedState:null;if(go(t,i),o.mode==="hidden"||m){if((i.flags&128)!==0){if(o=x!==null?x.baseLanes|r:r,t!==null){for(f=i.child=t.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;i.childLanes=m&~o}else i.childLanes=0,i.child=null;return K_(t,i,o,r)}if((r&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&ru(i,x!==null?x.cachePool:null),x!==null?Fp(i,x):Dd(),Gp(i);else return i.lanes=i.childLanes=536870912,K_(t,i,x!==null?x.baseLanes|r:r,r)}else x!==null?(ru(i,x.cachePool),Fp(i,x),ji(),i.memoizedState=null):(t!==null&&ru(i,null),Dd(),ji());return Kt(t,i,f,r),i.child}function K_(t,i,r,o){var f=Vd();return f=f===null?null:{parent:Ct._currentValue,pool:f},i.memoizedState={baseLanes:r,cachePool:f},t!==null&&ru(i,null),Dd(),Gp(i),t!==null&&po(t,i,o,!0),null}function go(t,i){var r=i.ref;if(r===null)t!==null&&t.ref!==null&&(i.flags|=2097664);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(i.flags|=2097664)}}function sf(t,i,r,o,f){return Fa(i),r=Ud(t,i,r,o,void 0,f),o=Bd(),t!==null&&!Pt?(Hd(t,i,f),Ks(t,i,f)):(Ke&&o&&kd(i),i.flags|=1,Kt(t,i,r,f),i.child)}function F_(t,i,r,o,f,m){return Fa(i),i.updateQueue=null,r=Xp(i,o,r,f),Wp(t),o=Bd(),t!==null&&!Pt?(Hd(t,i,m),Ks(t,i,m)):(Ke&&o&&kd(i),i.flags|=1,Kt(t,i,r,m),i.child)}function G_(t,i,r,o,f){if(Fa(i),i.stateNode===null){var m=Lr,x=r.contextType;typeof x=="object"&&x!==null&&(m=Wt(x)),m=new r(o,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=tf,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=o,m.state=i.memoizedState,m.refs={},pf(i),x=r.contextType,m.context=typeof x=="object"&&x!==null?Wt(x):Lr,m.state=i.memoizedState,x=r.getDerivedStateFromProps,typeof x=="function"&&(ef(i,r,x,o),m.state=i.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(x=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),x!==m.state&&tf.enqueueReplaceState(m,m.state,null),vo(i,o,m,f),yo(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(t===null){m=i.stateNode;var T=i.memoizedProps,k=qa(r,T);m.props=k;var U=m.context,Z=r.contextType;x=Lr,typeof Z=="object"&&Z!==null&&(x=Wt(Z));var ie=r.getDerivedStateFromProps;Z=typeof ie=="function"||typeof m.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,Z||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T||U!==x)&&j_(i,m,o,x),Li=!1;var Y=i.memoizedState;m.state=Y,vo(i,o,m,f),yo(),U=i.memoizedState,T||Y!==U||Li?(typeof ie=="function"&&(ef(i,r,ie,o),U=i.memoizedState),(k=Li||I_(i,r,k,o,Y,U,x))?(Z||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=U),m.props=o,m.state=U,m.context=x,o=k):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{m=i.stateNode,_f(t,i),x=i.memoizedProps,Z=qa(r,x),m.props=Z,ie=i.pendingProps,Y=m.context,U=r.contextType,k=Lr,typeof U=="object"&&U!==null&&(k=Wt(U)),T=r.getDerivedStateFromProps,(U=typeof T=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(x!==ie||Y!==k)&&j_(i,m,o,k),Li=!1,Y=i.memoizedState,m.state=Y,vo(i,o,m,f),yo();var X=i.memoizedState;x!==ie||Y!==X||Li||t!==null&&t.dependencies!==null&&_u(t.dependencies)?(typeof T=="function"&&(ef(i,r,T,o),X=i.memoizedState),(Z=Li||I_(i,r,Z,o,Y,X,k)||t!==null&&t.dependencies!==null&&_u(t.dependencies))?(U||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(o,X,k),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(o,X,k)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||x===t.memoizedProps&&Y===t.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||x===t.memoizedProps&&Y===t.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=X),m.props=o,m.state=X,m.context=k,o=Z):(typeof m.componentDidUpdate!="function"||x===t.memoizedProps&&Y===t.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||x===t.memoizedProps&&Y===t.memoizedState||(i.flags|=1024),o=!1)}return m=o,go(t,i),o=(i.flags&128)!==0,m||o?(m=i.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,t!==null&&o?(i.child=Pa(i,t.child,null,f),i.child=Pa(i,null,r,f)):Kt(t,i,r,f),i.memoizedState=m.state,t=i.child):t=Ks(t,i,f),t}function $_(t,i,r,o){return so(),i.flags|=256,Kt(t,i,r,o),i.child}var af={dehydrated:null,treeContext:null,retryLane:0};function rf(t){return{baseLanes:t,cachePool:Yp()}}function lf(t,i,r){return t=t!==null?t.childLanes&~r:0,i&&(t|=Hn),t}function Q_(t,i,r){var o=i.pendingProps,f=!1,m=(i.flags&128)!==0,x;if((x=m)||(x=t!==null&&t.memoizedState===null?!1:(kt.current&2)!==0),x&&(f=!0,i.flags&=-129),x=(i.flags&32)!==0,i.flags&=-33,t===null){if(Ke){if(f?Ii(i):ji(),Ke){var T=qt,k;if(k=T){e:{for(k=T,T=ms;k.nodeType!==8;){if(!T){T=null;break e}if(k=Yn(k.nextSibling),k===null){T=null;break e}}T=k}T!==null?(i.memoizedState={dehydrated:T,treeContext:Ma!==null?{id:Bs,overflow:Hs}:null,retryLane:536870912},k=Bn(18,null,null,0),k.stateNode=T,k.return=i,i.child=k,ln=i,qt=null,k=!0):k=!1}k||Va(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return T.data==="$!"?i.lanes=16:i.lanes=536870912,null;zs(i)}return T=o.children,o=o.fallback,f?(ji(),f=i.mode,T=cf({mode:"hidden",children:T},f),o=$a(o,f,r,null),T.return=i,o.return=i,T.sibling=o,i.child=T,f=i.child,f.memoizedState=rf(r),f.childLanes=lf(t,x,r),i.memoizedState=af,o):(Ii(i),of(i,T))}if(k=t.memoizedState,k!==null&&(T=k.dehydrated,T!==null)){if(m)i.flags&256?(Ii(i),i.flags&=-257,i=uf(t,i,r)):i.memoizedState!==null?(ji(),i.child=t.child,i.flags|=128,i=null):(ji(),f=o.fallback,T=i.mode,o=cf({mode:"visible",children:o.children},T),f=$a(f,T,r,null),f.flags|=2,o.return=i,f.return=i,o.sibling=f,i.child=o,Pa(i,t.child,null,r),o=i.child,o.memoizedState=rf(r),o.childLanes=lf(t,x,r),i.memoizedState=af,i=f);else if(Ii(i),T.data==="$!"){if(x=T.nextSibling&&T.nextSibling.dataset,x)var U=x.dgst;x=U,o=Error(a(419)),o.stack="",o.digest=x,io({value:o,source:null,stack:null}),i=uf(t,i,r)}else if(Pt||po(t,i,r,!1),x=(r&t.childLanes)!==0,Pt||x){if(x=Ze,x!==null){if(o=r&-r,(o&42)!==0)o=1;else switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=64;break;case 268435456:o=134217728;break;default:o=0}if(o=(o&(x.suspendedLanes|r))!==0?0:o,o!==0&&o!==k.retryLane)throw k.retryLane=o,Ci(t,o),on(x,t,o),U_}T.data==="$?"||Pf(),i=uf(t,i,r)}else T.data==="$?"?(i.flags|=128,i.child=t.child,i=dA.bind(null,t),T._reactRetry=i,i=null):(t=k.treeContext,qt=Yn(T.nextSibling),ln=i,Ke=!0,$n=null,ms=!1,t!==null&&(Mn[Ln++]=Bs,Mn[Ln++]=Hs,Mn[Ln++]=Ma,Bs=t.id,Hs=t.overflow,Ma=i),i=of(i,o.children),i.flags|=4096);return i}return f?(ji(),f=o.fallback,T=i.mode,k=t.child,U=k.sibling,o=zi(k,{mode:"hidden",children:o.children}),o.subtreeFlags=k.subtreeFlags&31457280,U!==null?f=zi(U,f):(f=$a(f,T,r,null),f.flags|=2),f.return=i,o.return=i,o.sibling=f,i.child=o,o=f,f=i.child,T=t.child.memoizedState,T===null?T=rf(r):(k=T.cachePool,k!==null?(U=Ct._currentValue,k=k.parent!==U?{parent:U,pool:U}:k):k=Yp(),T={baseLanes:T.baseLanes|r,cachePool:k}),f.memoizedState=T,f.childLanes=lf(t,x,r),i.memoizedState=af,o):(Ii(i),r=t.child,t=r.sibling,r=zi(r,{mode:"visible",children:o.children}),r.return=i,r.sibling=null,t!==null&&(x=i.deletions,x===null?(i.deletions=[t],i.flags|=16):x.push(t)),i.child=r,i.memoizedState=null,r)}function of(t,i){return i=cf({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function cf(t,i){return xy(t,i,0,null)}function uf(t,i,r){return Pa(i,t.child,null,r),t=of(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Y_(t,i,r){t.lanes|=i;var o=t.alternate;o!==null&&(o.lanes|=i),mf(t.return,i,r)}function hf(t,i,r,o,f){var m=t.memoizedState;m===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:f}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=o,m.tail=r,m.tailMode=f)}function W_(t,i,r){var o=i.pendingProps,f=o.revealOrder,m=o.tail;if(Kt(t,i,o.children,r),o=kt.current,(o&2)!==0)o=o&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Y_(t,r,i);else if(t.tag===19)Y_(t,r,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}switch(Qe(kt,o),f){case"forwards":for(r=i.child,f=null;r!==null;)t=r.alternate,t!==null&&au(t)===null&&(f=r),r=r.sibling;r=f,r===null?(f=i.child,i.child=null):(f=r.sibling,r.sibling=null),hf(i,!1,f,r,m);break;case"backwards":for(r=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&au(t)===null){i.child=f;break}t=f.sibling,f.sibling=r,r=f,f=t}hf(i,!0,r,null,m);break;case"together":hf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ks(t,i,r){if(t!==null&&(i.dependencies=t.dependencies),qi|=i.lanes,(r&i.childLanes)===0)if(t!==null){if(po(t,i,r,!1),(r&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(a(153));if(i.child!==null){for(t=i.child,r=zi(t,t.pendingProps),i.child=r,r.return=i;t.sibling!==null;)t=t.sibling,r=r.sibling=zi(t,t.pendingProps),r.return=i;r.sibling=null}return i.child}function df(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&_u(t)))}function Zb(t,i,r){switch(i.tag){case 3:mi(i,i.stateNode.containerInfo),Mi(i,Ct,t.memoizedState.cache),so();break;case 27:case 5:Dl(i);break;case 4:mi(i,i.stateNode.containerInfo);break;case 10:Mi(i,i.type,i.memoizedProps.value);break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(Ii(i),i.flags|=128,null):(r&i.child.childLanes)!==0?Q_(t,i,r):(Ii(i),t=Ks(t,i,r),t!==null?t.sibling:null);Ii(i);break;case 19:var f=(t.flags&128)!==0;if(o=(r&i.childLanes)!==0,o||(po(t,i,r,!1),o=(r&i.childLanes)!==0),f){if(o)return W_(t,i,r);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Qe(kt,kt.current),o)break;return null;case 22:case 23:return i.lanes=0,q_(t,i,r);case 24:Mi(i,Ct,t.memoizedState.cache)}return Ks(t,i,r)}function X_(t,i,r){if(t!==null)if(t.memoizedProps!==i.pendingProps)Pt=!0;else{if(!df(t,r)&&(i.flags&128)===0)return Pt=!1,Zb(t,i,r);Pt=(t.flags&131072)!==0}else Pt=!1,Ke&&(i.flags&1048576)!==0&&Mp(i,eu,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var o=i.elementType,f=o._init;if(o=f(o._payload),i.type=o,typeof o=="function")Sf(o)?(t=qa(o,t),i.tag=1,i=G_(null,i,o,t,r)):(i.tag=0,i=sf(null,i,o,t,r));else{if(o!=null){if(f=o.$$typeof,f===D){i.tag=11,i=B_(null,i,o,t,r);break e}else if(f===F){i.tag=14,i=H_(null,i,o,t,r);break e}}throw i=N(o)||o,Error(a(306,i,""))}}return i;case 0:return sf(t,i,i.type,i.pendingProps,r);case 1:return o=i.type,f=qa(o,i.pendingProps),G_(t,i,o,f,r);case 3:e:{if(mi(i,i.stateNode.containerInfo),t===null)throw Error(a(387));var m=i.pendingProps;f=i.memoizedState,o=f.element,_f(t,i),vo(i,m,null,r);var x=i.memoizedState;if(m=x.cache,Mi(i,Ct,m),m!==f.cache&&gf(i,[Ct],r,!0),yo(),m=x.element,f.isDehydrated)if(f={element:m,isDehydrated:!1,cache:x.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=$_(t,i,m,r);break e}else if(m!==o){o=On(Error(a(424)),i),io(o),i=$_(t,i,m,r);break e}else for(qt=Yn(i.stateNode.containerInfo.firstChild),ln=i,Ke=!0,$n=null,ms=!0,r=Kp(i,null,m,r),i.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(so(),m===o){i=Ks(t,i,r);break e}Kt(t,i,m,r)}i=i.child}return i;case 26:return go(t,i),t===null?(r=ev(i.type,null,i.pendingProps,null))?i.memoizedState=r:Ke||(r=i.type,t=i.pendingProps,o=Du(Sn.current).createElement(r),o[Mt]=i,o[St]=t,Ft(o,r,t),at(o),i.stateNode=o):i.memoizedState=ev(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Dl(i),t===null&&Ke&&(o=i.stateNode=Xy(i.type,i.pendingProps,Sn.current),ln=i,ms=!0,qt=Yn(o.firstChild)),o=i.pendingProps.children,t!==null||Ke?Kt(t,i,o,r):i.child=Pa(i,null,o,r),go(t,i),i.child;case 5:return t===null&&Ke&&((f=o=qt)&&(o=RA(o,i.type,i.pendingProps,ms),o!==null?(i.stateNode=o,ln=i,qt=Yn(o.firstChild),ms=!1,f=!0):f=!1),f||Va(i)),Dl(i),f=i.type,m=i.pendingProps,x=t!==null?t.memoizedProps:null,o=m.children,Zf(f,m)?o=null:x!==null&&Zf(f,x)&&(i.flags|=32),i.memoizedState!==null&&(f=Ud(t,i,Fb,null,null,r),Oo._currentValue=f),go(t,i),Kt(t,i,o,r),i.child;case 6:return t===null&&Ke&&((t=r=qt)&&(r=kA(r,i.pendingProps,ms),r!==null?(i.stateNode=r,ln=i,qt=null,t=!0):t=!1),t||Va(i)),null;case 13:return Q_(t,i,r);case 4:return mi(i,i.stateNode.containerInfo),o=i.pendingProps,t===null?i.child=Pa(i,null,o,r):Kt(t,i,o,r),i.child;case 11:return B_(t,i,i.type,i.pendingProps,r);case 7:return Kt(t,i,i.pendingProps,r),i.child;case 8:return Kt(t,i,i.pendingProps.children,r),i.child;case 12:return Kt(t,i,i.pendingProps.children,r),i.child;case 10:return o=i.pendingProps,Mi(i,i.type,o.value),Kt(t,i,o.children,r),i.child;case 9:return f=i.type._context,o=i.pendingProps.children,Fa(i),f=Wt(f),o=o(f),i.flags|=1,Kt(t,i,o,r),i.child;case 14:return H_(t,i,i.type,i.pendingProps,r);case 15:return z_(t,i,i.type,i.pendingProps,r);case 19:return W_(t,i,r);case 22:return q_(t,i,r);case 24:return Fa(i),o=Wt(Ct),t===null?(f=Vd(),f===null&&(f=Ze,m=Md(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=r),f=m),i.memoizedState={parent:o,cache:f},pf(i),Mi(i,Ct,f)):((t.lanes&r)!==0&&(_f(t,i),vo(i,null,null,r),yo()),f=t.memoizedState,m=i.memoizedState,f.parent!==o?(f={parent:o,cache:o},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Mi(i,Ct,o)):(o=m.cache,Mi(i,Ct,o),o!==f.cache&&gf(i,[Ct],r,!0))),Kt(t,i,i.pendingProps.children,r),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}var ff=ze(null),Ka=null,Fs=null;function Mi(t,i,r){Qe(ff,i._currentValue),i._currentValue=r}function Gs(t){t._currentValue=ff.current,ct(ff)}function mf(t,i,r){for(;t!==null;){var o=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),t===r)break;t=t.return}}function gf(t,i,r,o){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var m=f.dependencies;if(m!==null){var x=f.child;m=m.firstContext;e:for(;m!==null;){var T=m;m=f;for(var k=0;k<i.length;k++)if(T.context===i[k]){m.lanes|=r,T=m.alternate,T!==null&&(T.lanes|=r),mf(m.return,r,t),o||(x=null);break e}m=T.next}}else if(f.tag===18){if(x=f.return,x===null)throw Error(a(341));x.lanes|=r,m=x.alternate,m!==null&&(m.lanes|=r),mf(x,r,t),x=null}else x=f.child;if(x!==null)x.return=f;else for(x=f;x!==null;){if(x===t){x=null;break}if(f=x.sibling,f!==null){f.return=x.return,x=f;break}x=x.return}f=x}}function po(t,i,r,o){t=null;for(var f=i,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var x=f.alternate;if(x===null)throw Error(a(387));if(x=x.memoizedProps,x!==null){var T=f.type;yn(f.pendingProps.value,x.value)||(t!==null?t.push(T):t=[T])}}else if(f===fi.current){if(x=f.alternate,x===null)throw Error(a(387));x.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Oo):t=[Oo])}f=f.return}t!==null&&gf(i,t,r,o),i.flags|=262144}function _u(t){for(t=t.firstContext;t!==null;){if(!yn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Fa(t){Ka=t,Fs=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Wt(t){return Z_(Ka,t)}function yu(t,i){return Ka===null&&Fa(t),Z_(t,i)}function Z_(t,i){var r=i._currentValue;if(i={context:i,memoizedValue:r,next:null},Fs===null){if(t===null)throw Error(a(308));Fs=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Fs=Fs.next=i;return r}var Li=!1;function pf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _f(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Vi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Pi(t,i,r){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(lt&2)!==0){var f=o.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),o.pending=i,i=Zc(t),Dp(t,null,r),i}return Xc(t,o,i,r),Zc(t)}function _o(t,i,r){if(i=i.updateQueue,i!==null&&(i=i.shared,(r&4194176)!==0)){var o=i.lanes;o&=t.pendingLanes,r|=o,i.lanes=r,xi(t,r)}}function yf(t,i){var r=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var f=null,m=null;if(r=r.firstBaseUpdate,r!==null){do{var x={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};m===null?f=m=x:m=m.next=x,r=r.next}while(r!==null);m===null?f=m=i:m=m.next=i}else f=m=i;r={baseState:o.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:o.shared,callbacks:o.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=i:t.next=i,r.lastBaseUpdate=i}var vf=!1;function yo(){if(vf){var t=zr;if(t!==null)throw t}}function vo(t,i,r,o){vf=!1;var f=t.updateQueue;Li=!1;var m=f.firstBaseUpdate,x=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var k=T,U=k.next;k.next=null,x===null?m=U:x.next=U,x=k;var Z=t.alternate;Z!==null&&(Z=Z.updateQueue,T=Z.lastBaseUpdate,T!==x&&(T===null?Z.firstBaseUpdate=U:T.next=U,Z.lastBaseUpdate=k))}if(m!==null){var ie=f.baseState;x=0,Z=U=k=null,T=m;do{var Y=T.lane&-536870913,X=Y!==T.lane;if(X?(Ue&Y)===Y:(o&Y)===Y){Y!==0&&Y===Hr&&(vf=!0),Z!==null&&(Z=Z.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var pe=t,we=T;Y=i;var ft=r;switch(we.tag){case 1:if(pe=we.payload,typeof pe=="function"){ie=pe.call(ft,ie,Y);break e}ie=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=we.payload,Y=typeof pe=="function"?pe.call(ft,ie,Y):pe,Y==null)break e;ie=R({},ie,Y);break e;case 2:Li=!0}}Y=T.callback,Y!==null&&(t.flags|=64,X&&(t.flags|=8192),X=f.callbacks,X===null?f.callbacks=[Y]:X.push(Y))}else X={lane:Y,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Z===null?(U=Z=X,k=ie):Z=Z.next=X,x|=Y;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;X=T,T=X.next,X.next=null,f.lastBaseUpdate=X,f.shared.pending=null}}while(!0);Z===null&&(k=ie),f.baseState=k,f.firstBaseUpdate=U,f.lastBaseUpdate=Z,m===null&&(f.shared.lanes=0),qi|=x,t.lanes=x,t.memoizedState=ie}}function J_(t,i){if(typeof t!="function")throw Error(a(191,t));t.call(i)}function ey(t,i){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)J_(r[t],i)}function xo(t,i){try{var r=i.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var f=o.next;r=f;do{if((r.tag&t)===t){o=void 0;var m=r.create,x=r.inst;o=m(),x.destroy=o}r=r.next}while(r!==f)}}catch(T){Xe(i,i.return,T)}}function Ui(t,i,r){try{var o=i.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var m=f.next;o=m;do{if((o.tag&t)===t){var x=o.inst,T=x.destroy;if(T!==void 0){x.destroy=void 0,f=i;var k=r;try{T()}catch(U){Xe(f,k,U)}}}o=o.next}while(o!==m)}}catch(U){Xe(i,i.return,U)}}function ty(t){var i=t.updateQueue;if(i!==null){var r=t.stateNode;try{ey(i,r)}catch(o){Xe(t,t.return,o)}}}function ny(t,i,r){r.props=qa(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(o){Xe(t,i,o)}}function Ga(t,i){try{var r=t.ref;if(r!==null){var o=t.stateNode;switch(t.tag){case 26:case 27:case 5:var f=o;break;default:f=o}typeof r=="function"?t.refCleanup=r(f):r.current=f}}catch(m){Xe(t,i,m)}}function vn(t,i){var r=t.ref,o=t.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(f){Xe(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(f){Xe(t,i,f)}else r.current=null}function sy(t){var i=t.type,r=t.memoizedProps,o=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break e;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(f){Xe(t,t.return,f)}}function iy(t,i,r){try{var o=t.stateNode;bA(o,t.type,r,i),o[St]=i}catch(f){Xe(t,t.return,f)}}function ay(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function xf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ay(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ef(t,i,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?r.nodeType===8?r.parentNode.insertBefore(t,i):r.insertBefore(t,i):(r.nodeType===8?(i=r.parentNode,i.insertBefore(t,r)):(i=r,i.appendChild(t)),r=r._reactRootContainer,r!=null||i.onclick!==null||(i.onclick=ju));else if(o!==4&&o!==27&&(t=t.child,t!==null))for(Ef(t,i,r),t=t.sibling;t!==null;)Ef(t,i,r),t=t.sibling}function vu(t,i,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?r.insertBefore(t,i):r.appendChild(t);else if(o!==4&&o!==27&&(t=t.child,t!==null))for(vu(t,i,r),t=t.sibling;t!==null;)vu(t,i,r),t=t.sibling}var $s=!1,ht=!1,Tf=!1,ry=typeof WeakSet=="function"?WeakSet:Set,Ut=null,ly=!1;function Jb(t,i){if(t=t.containerInfo,Wf=Uu,t=Ap(t),bd(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var f=o.anchorOffset,m=o.focusNode;o=o.focusOffset;try{r.nodeType,m.nodeType}catch{r=null;break e}var x=0,T=-1,k=-1,U=0,Z=0,ie=t,Y=null;t:for(;;){for(var X;ie!==r||f!==0&&ie.nodeType!==3||(T=x+f),ie!==m||o!==0&&ie.nodeType!==3||(k=x+o),ie.nodeType===3&&(x+=ie.nodeValue.length),(X=ie.firstChild)!==null;)Y=ie,ie=X;for(;;){if(ie===t)break t;if(Y===r&&++U===f&&(T=x),Y===m&&++Z===o&&(k=x),(X=ie.nextSibling)!==null)break;ie=Y,Y=ie.parentNode}ie=X}r=T===-1||k===-1?null:{start:T,end:k}}else r=null}r=r||{start:0,end:0}}else r=null;for(Xf={focusedElem:t,selectionRange:r},Uu=!1,Ut=i;Ut!==null;)if(i=Ut,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Ut=t;else for(;Ut!==null;){switch(i=Ut,m=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,r=i,f=m.memoizedProps,m=m.memoizedState,o=r.stateNode;try{var pe=qa(r.type,f,r.elementType===r.type);t=o.getSnapshotBeforeUpdate(pe,m),o.__reactInternalSnapshotBeforeUpdate=t}catch(we){Xe(r,r.return,we)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,r=t.nodeType,r===9)tm(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":tm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=i.sibling,t!==null){t.return=i.return,Ut=t;break}Ut=i.return}return pe=ly,ly=!1,pe}function oy(t,i,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:Ys(t,r),o&4&&xo(5,r);break;case 1:if(Ys(t,r),o&4)if(t=r.stateNode,i===null)try{t.componentDidMount()}catch(T){Xe(r,r.return,T)}else{var f=qa(r.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(T){Xe(r,r.return,T)}}o&64&&ty(r),o&512&&Ga(r,r.return);break;case 3:if(Ys(t,r),o&64&&(o=r.updateQueue,o!==null)){if(t=null,r.child!==null)switch(r.child.tag){case 27:case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}try{ey(o,t)}catch(T){Xe(r,r.return,T)}}break;case 26:Ys(t,r),o&512&&Ga(r,r.return);break;case 27:case 5:Ys(t,r),i===null&&o&4&&sy(r),o&512&&Ga(r,r.return);break;case 12:Ys(t,r);break;case 13:Ys(t,r),o&4&&hy(t,r);break;case 22:if(f=r.memoizedState!==null||$s,!f){i=i!==null&&i.memoizedState!==null||ht;var m=$s,x=ht;$s=f,(ht=i)&&!x?Bi(t,r,(r.subtreeFlags&8772)!==0):Ys(t,r),$s=m,ht=x}o&512&&(r.memoizedProps.mode==="manual"?Ga(r,r.return):vn(r,r.return));break;default:Ys(t,r)}}function cy(t){var i=t.alternate;i!==null&&(t.alternate=null,cy(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Ta(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Tt=null,xn=!1;function Qs(t,i,r){for(r=r.child;r!==null;)uy(t,i,r),r=r.sibling}function uy(t,i,r){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(gi,r)}catch{}switch(r.tag){case 26:ht||vn(r,i),Qs(t,i,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:ht||vn(r,i);var o=Tt,f=xn;for(Tt=r.stateNode,Qs(t,i,r),r=r.stateNode,i=r.attributes;i.length;)r.removeAttributeNode(i[0]);Ta(r),Tt=o,xn=f;break;case 5:ht||vn(r,i);case 6:f=Tt;var m=xn;if(Tt=null,Qs(t,i,r),Tt=f,xn=m,Tt!==null)if(xn)try{t=Tt,o=r.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)}catch(x){Xe(r,i,x)}else try{Tt.removeChild(r.stateNode)}catch(x){Xe(r,i,x)}break;case 18:Tt!==null&&(xn?(i=Tt,r=r.stateNode,i.nodeType===8?em(i.parentNode,r):i.nodeType===1&&em(i,r),Po(i)):em(Tt,r.stateNode));break;case 4:o=Tt,f=xn,Tt=r.stateNode.containerInfo,xn=!0,Qs(t,i,r),Tt=o,xn=f;break;case 0:case 11:case 14:case 15:ht||Ui(2,r,i),ht||Ui(4,r,i),Qs(t,i,r);break;case 1:ht||(vn(r,i),o=r.stateNode,typeof o.componentWillUnmount=="function"&&ny(r,i,o)),Qs(t,i,r);break;case 21:Qs(t,i,r);break;case 22:ht||vn(r,i),ht=(o=ht)||r.memoizedState!==null,Qs(t,i,r),ht=o;break;default:Qs(t,i,r)}}function hy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Po(t)}catch(r){Xe(i,i.return,r)}}function eA(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new ry),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new ry),i;default:throw Error(a(435,t.tag))}}function bf(t,i){var r=eA(t);i.forEach(function(o){var f=fA.bind(null,t,o);r.has(o)||(r.add(o),o.then(f,f))})}function Pn(t,i){var r=i.deletions;if(r!==null)for(var o=0;o<r.length;o++){var f=r[o],m=t,x=i,T=x;e:for(;T!==null;){switch(T.tag){case 27:case 5:Tt=T.stateNode,xn=!1;break e;case 3:Tt=T.stateNode.containerInfo,xn=!0;break e;case 4:Tt=T.stateNode.containerInfo,xn=!0;break e}T=T.return}if(Tt===null)throw Error(a(160));uy(m,x,f),Tt=null,xn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)dy(i,t),i=i.sibling}var Qn=null;function dy(t,i){var r=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Pn(i,t),Un(t),o&4&&(Ui(3,t,t.return),xo(3,t),Ui(5,t,t.return));break;case 1:Pn(i,t),Un(t),o&512&&(ht||r===null||vn(r,r.return)),o&64&&$s&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var f=Qn;if(Pn(i,t),Un(t),o&512&&(ht||r===null||vn(r,r.return)),o&4){var m=r!==null?r.memoizedState:null;if(o=t.memoizedState,r===null)if(o===null)if(t.stateNode===null){e:{o=t.type,r=t.memoizedProps,f=f.ownerDocument||f;t:switch(o){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Ti]||m[Mt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(o),f.head.insertBefore(m,f.querySelector("head > title"))),Ft(m,o,r),m[Mt]=t,at(m),o=m;break e;case"link":var x=sv("link","href",f).get(o+(r.href||""));if(x){for(var T=0;T<x.length;T++)if(m=x[T],m.getAttribute("href")===(r.href==null?null:r.href)&&m.getAttribute("rel")===(r.rel==null?null:r.rel)&&m.getAttribute("title")===(r.title==null?null:r.title)&&m.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){x.splice(T,1);break t}}m=f.createElement(o),Ft(m,o,r),f.head.appendChild(m);break;case"meta":if(x=sv("meta","content",f).get(o+(r.content||""))){for(T=0;T<x.length;T++)if(m=x[T],m.getAttribute("content")===(r.content==null?null:""+r.content)&&m.getAttribute("name")===(r.name==null?null:r.name)&&m.getAttribute("property")===(r.property==null?null:r.property)&&m.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&m.getAttribute("charset")===(r.charSet==null?null:r.charSet)){x.splice(T,1);break t}}m=f.createElement(o),Ft(m,o,r),f.head.appendChild(m);break;default:throw Error(a(468,o))}m[Mt]=t,at(m),o=m}t.stateNode=o}else iv(f,t.type,t.stateNode);else t.stateNode=nv(f,o,t.memoizedProps);else m!==o?(m===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):m.count--,o===null?iv(f,t.type,t.stateNode):nv(f,o,t.memoizedProps)):o===null&&t.stateNode!==null&&iy(t,t.memoizedProps,r.memoizedProps)}break;case 27:if(o&4&&t.alternate===null){f=t.stateNode,m=t.memoizedProps;try{for(var k=f.firstChild;k;){var U=k.nextSibling,Z=k.nodeName;k[Ti]||Z==="HEAD"||Z==="BODY"||Z==="SCRIPT"||Z==="STYLE"||Z==="LINK"&&k.rel.toLowerCase()==="stylesheet"||f.removeChild(k),k=U}for(var ie=t.type,Y=f.attributes;Y.length;)f.removeAttributeNode(Y[0]);Ft(f,ie,m),f[Mt]=t,f[St]=m}catch(pe){Xe(t,t.return,pe)}}case 5:if(Pn(i,t),Un(t),o&512&&(ht||r===null||vn(r,r.return)),t.flags&32){f=t.stateNode;try{kn(f,"")}catch(pe){Xe(t,t.return,pe)}}o&4&&t.stateNode!=null&&(f=t.memoizedProps,iy(t,f,r!==null?r.memoizedProps:f)),o&1024&&(Tf=!0);break;case 6:if(Pn(i,t),Un(t),o&4){if(t.stateNode===null)throw Error(a(162));o=t.memoizedProps,r=t.stateNode;try{r.nodeValue=o}catch(pe){Xe(t,t.return,pe)}}break;case 3:if(Lu=null,f=Qn,Qn=Ou(i.containerInfo),Pn(i,t),Qn=f,Un(t),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Po(i.containerInfo)}catch(pe){Xe(t,t.return,pe)}Tf&&(Tf=!1,fy(t));break;case 4:o=Qn,Qn=Ou(t.stateNode.containerInfo),Pn(i,t),Un(t),Qn=o;break;case 12:Pn(i,t),Un(t);break;case 13:Pn(i,t),Un(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(jf=hn()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,bf(t,o)));break;case 22:if(o&512&&(ht||r===null||vn(r,r.return)),k=t.memoizedState!==null,U=r!==null&&r.memoizedState!==null,Z=$s,ie=ht,$s=Z||k,ht=ie||U,Pn(i,t),ht=ie,$s=Z,Un(t),i=t.stateNode,i._current=t,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,o&8192&&(i._visibility=k?i._visibility&-2:i._visibility|1,k&&(i=$s||ht,r===null||U||i||Gr(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))e:for(r=null,i=t;;){if(i.tag===5||i.tag===26||i.tag===27){if(r===null){U=r=i;try{if(f=U.stateNode,k)m=f.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{x=U.stateNode,T=U.memoizedProps.style;var X=T!=null&&T.hasOwnProperty("display")?T.display:null;x.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(pe){Xe(U,U.return,pe)}}}else if(i.tag===6){if(r===null){U=i;try{U.stateNode.nodeValue=k?"":U.memoizedProps}catch(pe){Xe(U,U.return,pe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;r===i&&(r=null),i=i.return}r===i&&(r=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=t.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,bf(t,r))));break;case 19:Pn(i,t),Un(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,bf(t,o)));break;case 21:break;default:Pn(i,t),Un(t)}}function Un(t){var i=t.flags;if(i&2){try{if(t.tag!==27){e:{for(var r=t.return;r!==null;){if(ay(r)){var o=r;break e}r=r.return}throw Error(a(160))}switch(o.tag){case 27:var f=o.stateNode,m=xf(t);vu(t,m,f);break;case 5:var x=o.stateNode;o.flags&32&&(kn(x,""),o.flags&=-33);var T=xf(t);vu(t,T,x);break;case 3:case 4:var k=o.stateNode.containerInfo,U=xf(t);Ef(t,U,k);break;default:throw Error(a(161))}}}catch(Z){Xe(t,t.return,Z)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function fy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;fy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Ys(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)oy(t,i.alternate,i),i=i.sibling}function Gr(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Ui(4,i,i.return),Gr(i);break;case 1:vn(i,i.return);var r=i.stateNode;typeof r.componentWillUnmount=="function"&&ny(i,i.return,r),Gr(i);break;case 26:case 27:case 5:vn(i,i.return),Gr(i);break;case 22:vn(i,i.return),i.memoizedState===null&&Gr(i);break;default:Gr(i)}t=t.sibling}}function Bi(t,i,r){for(r=r&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,f=t,m=i,x=m.flags;switch(m.tag){case 0:case 11:case 15:Bi(f,m,r),xo(4,m);break;case 1:if(Bi(f,m,r),o=m,f=o.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(U){Xe(o,o.return,U)}if(o=m,f=o.updateQueue,f!==null){var T=o.stateNode;try{var k=f.shared.hiddenCallbacks;if(k!==null)for(f.shared.hiddenCallbacks=null,f=0;f<k.length;f++)J_(k[f],T)}catch(U){Xe(o,o.return,U)}}r&&x&64&&ty(m),Ga(m,m.return);break;case 26:case 27:case 5:Bi(f,m,r),r&&o===null&&x&4&&sy(m),Ga(m,m.return);break;case 12:Bi(f,m,r);break;case 13:Bi(f,m,r),r&&x&4&&hy(f,m);break;case 22:m.memoizedState===null&&Bi(f,m,r),Ga(m,m.return);break;default:Bi(f,m,r)}i=i.sibling}}function Af(t,i){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&co(r))}function wf(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&co(t))}function Hi(t,i,r,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)my(t,i,r,o),i=i.sibling}function my(t,i,r,o){var f=i.flags;switch(i.tag){case 0:case 11:case 15:Hi(t,i,r,o),f&2048&&xo(9,i);break;case 3:Hi(t,i,r,o),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&co(t)));break;case 12:if(f&2048){Hi(t,i,r,o),t=i.stateNode;try{var m=i.memoizedProps,x=m.id,T=m.onPostCommit;typeof T=="function"&&T(x,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(k){Xe(i,i.return,k)}}else Hi(t,i,r,o);break;case 23:break;case 22:m=i.stateNode,i.memoizedState!==null?m._visibility&4?Hi(t,i,r,o):Eo(t,i):m._visibility&4?Hi(t,i,r,o):(m._visibility|=4,$r(t,i,r,o,(i.subtreeFlags&10256)!==0)),f&2048&&Af(i.alternate,i);break;case 24:Hi(t,i,r,o),f&2048&&wf(i.alternate,i);break;default:Hi(t,i,r,o)}}function $r(t,i,r,o,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var m=t,x=i,T=r,k=o,U=x.flags;switch(x.tag){case 0:case 11:case 15:$r(m,x,T,k,f),xo(8,x);break;case 23:break;case 22:var Z=x.stateNode;x.memoizedState!==null?Z._visibility&4?$r(m,x,T,k,f):Eo(m,x):(Z._visibility|=4,$r(m,x,T,k,f)),f&&U&2048&&Af(x.alternate,x);break;case 24:$r(m,x,T,k,f),f&&U&2048&&wf(x.alternate,x);break;default:$r(m,x,T,k,f)}i=i.sibling}}function Eo(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var r=t,o=i,f=o.flags;switch(o.tag){case 22:Eo(r,o),f&2048&&Af(o.alternate,o);break;case 24:Eo(r,o),f&2048&&wf(o.alternate,o);break;default:Eo(r,o)}i=i.sibling}}var To=8192;function Qr(t){if(t.subtreeFlags&To)for(t=t.child;t!==null;)gy(t),t=t.sibling}function gy(t){switch(t.tag){case 26:Qr(t),t.flags&To&&t.memoizedState!==null&&zA(Qn,t.memoizedState,t.memoizedProps);break;case 5:Qr(t);break;case 3:case 4:var i=Qn;Qn=Ou(t.stateNode.containerInfo),Qr(t),Qn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=To,To=16777216,Qr(t),To=i):Qr(t));break;default:Qr(t)}}function py(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function bo(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var r=0;r<i.length;r++){var o=i[r];Ut=o,yy(o,t)}py(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)_y(t),t=t.sibling}function _y(t){switch(t.tag){case 0:case 11:case 15:bo(t),t.flags&2048&&Ui(9,t,t.return);break;case 3:bo(t);break;case 12:bo(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&4&&(t.return===null||t.return.tag!==13)?(i._visibility&=-5,xu(t)):bo(t);break;default:bo(t)}}function xu(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var r=0;r<i.length;r++){var o=i[r];Ut=o,yy(o,t)}py(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Ui(8,i,i.return),xu(i);break;case 22:r=i.stateNode,r._visibility&4&&(r._visibility&=-5,xu(i));break;default:xu(i)}t=t.sibling}}function yy(t,i){for(;Ut!==null;){var r=Ut;switch(r.tag){case 0:case 11:case 15:Ui(8,r,i);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:co(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Ut=o;else e:for(r=t;Ut!==null;){o=Ut;var f=o.sibling,m=o.return;if(cy(o),o===r){Ut=null;break e}if(f!==null){f.return=m,Ut=f;break e}Ut=m}}}function tA(t,i,r,o){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bn(t,i,r,o){return new tA(t,i,r,o)}function Sf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function zi(t,i){var r=t.alternate;return r===null?(r=Bn(t.tag,i,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=i,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&31457280,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,i=t.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function vy(t,i){t.flags&=31457282;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,i=r.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Eu(t,i,r,o,f,m){var x=0;if(o=t,typeof t=="function")Sf(t)&&(x=1);else if(typeof t=="string")x=BA(t,r,nn.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case p:return $a(r.children,f,m,i);case _:x=8,f|=24;break;case E:return t=Bn(12,r,i,f|2),t.elementType=E,t.lanes=m,t;case K:return t=Bn(13,r,i,f),t.elementType=K,t.lanes=m,t;case V:return t=Bn(19,r,i,f),t.elementType=V,t.lanes=m,t;case Q:return xy(r,f,m,i);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case A:case C:x=10;break e;case w:x=9;break e;case D:x=11;break e;case F:x=14;break e;case B:x=16,o=null;break e}x=29,r=Error(a(130,t===null?"null":typeof t,"")),o=null}return i=Bn(x,r,i,f),i.elementType=t,i.type=o,i.lanes=m,i}function $a(t,i,r,o){return t=Bn(7,t,o,i),t.lanes=r,t}function xy(t,i,r,o){t=Bn(22,t,o,i),t.elementType=Q,t.lanes=r;var f={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var m=f._current;if(m===null)throw Error(a(456));if((f._pendingVisibility&2)===0){var x=Ci(m,2);x!==null&&(f._pendingVisibility|=2,on(x,m,2))}},attach:function(){var m=f._current;if(m===null)throw Error(a(456));if((f._pendingVisibility&2)!==0){var x=Ci(m,2);x!==null&&(f._pendingVisibility&=-3,on(x,m,2))}}};return t.stateNode=f,t}function Nf(t,i,r){return t=Bn(6,t,null,i),t.lanes=r,t}function Rf(t,i,r){return i=Bn(4,t.children!==null?t.children:[],t.key,i),i.lanes=r,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}function Ws(t){t.flags|=4}function Ey(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!av(i)){if(i=Vn.current,i!==null&&((Ue&4194176)===Ue?gs!==null:(Ue&62914560)!==Ue&&(Ue&536870912)===0||i!==gs))throw ro=jd,Pp;t.flags|=8192}}function Tu(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?yi():536870912,t.lanes|=i,Wr|=i)}function Ao(t,i){if(!Ke)switch(t.tailMode){case"hidden":i=t.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function rt(t){var i=t.alternate!==null&&t.alternate.child===t.child,r=0,o=0;if(i)for(var f=t.child;f!==null;)r|=f.lanes|f.childLanes,o|=f.subtreeFlags&31457280,o|=f.flags&31457280,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)r|=f.lanes|f.childLanes,o|=f.subtreeFlags,o|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=o,t.childLanes=r,i}function nA(t,i,r){var o=i.pendingProps;switch(Cd(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(i),null;case 1:return rt(i),null;case 3:return r=i.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Gs(Ct),ks(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(no(i)?Ws(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,$n!==null&&(Lf($n),$n=null))),rt(i),null;case 26:return r=i.memoizedState,t===null?(Ws(i),r!==null?(rt(i),Ey(i,r)):(rt(i),i.flags&=-16777217)):r?r!==t.memoizedState?(Ws(i),rt(i),Ey(i,r)):(rt(i),i.flags&=-16777217):(t.memoizedProps!==o&&Ws(i),rt(i),i.flags&=-16777217),null;case 27:gr(i),r=Sn.current;var f=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==o&&Ws(i);else{if(!o){if(i.stateNode===null)throw Error(a(166));return rt(i),null}t=nn.current,no(i)?Lp(i):(t=Xy(f,o,r),i.stateNode=t,Ws(i))}return rt(i),null;case 5:if(gr(i),r=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&Ws(i);else{if(!o){if(i.stateNode===null)throw Error(a(166));return rt(i),null}if(t=nn.current,no(i))Lp(i);else{switch(f=Du(Sn.current),t){case 1:t=f.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=f.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=f.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=f.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=f.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof o.is=="string"?f.createElement("select",{is:o.is}):f.createElement("select"),o.multiple?t.multiple=!0:o.size&&(t.size=o.size);break;default:t=typeof o.is=="string"?f.createElement(r,{is:o.is}):f.createElement(r)}}t[Mt]=i,t[St]=o;e:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)t.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break e;for(;f.sibling===null;){if(f.return===null||f.return===i)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=t;e:switch(Ft(t,r,o),r){case"button":case"input":case"select":case"textarea":t=!!o.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Ws(i)}}return rt(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==o&&Ws(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(a(166));if(t=Sn.current,no(i)){if(t=i.stateNode,r=i.memoizedProps,o=null,f=ln,f!==null)switch(f.tag){case 27:case 5:o=f.memoizedProps}t[Mt]=i,t=!!(t.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||Fy(t.nodeValue,r)),t||Va(i)}else t=Du(t).createTextNode(o),t[Mt]=i,i.stateNode=t}return rt(i),null;case 13:if(o=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=no(i),o!==null&&o.dehydrated!==null){if(t===null){if(!f)throw Error(a(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[Mt]=i}else so(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;rt(i),f=!1}else $n!==null&&(Lf($n),$n=null),f=!0;if(!f)return i.flags&256?(zs(i),i):(zs(i),null)}if(zs(i),(i.flags&128)!==0)return i.lanes=r,i;if(r=o!==null,t=t!==null&&t.memoizedState!==null,r){o=i.child,f=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(f=o.alternate.memoizedState.cachePool.pool);var m=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==f&&(o.flags|=2048)}return r!==t&&r&&(i.child.flags|=8192),Tu(i,i.updateQueue),rt(i),null;case 4:return ks(),t===null&&$f(i.stateNode.containerInfo),rt(i),null;case 10:return Gs(i.type),rt(i),null;case 19:if(ct(kt),f=i.memoizedState,f===null)return rt(i),null;if(o=(i.flags&128)!==0,m=f.rendering,m===null)if(o)Ao(f,!1);else{if(dt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(m=au(t),m!==null){for(i.flags|=128,Ao(f,!1),t=m.updateQueue,i.updateQueue=t,Tu(i,t),i.subtreeFlags=0,t=r,r=i.child;r!==null;)vy(r,t),r=r.sibling;return Qe(kt,kt.current&1|2),i.child}t=t.sibling}f.tail!==null&&hn()>bu&&(i.flags|=128,o=!0,Ao(f,!1),i.lanes=4194304)}else{if(!o)if(t=au(m),t!==null){if(i.flags|=128,o=!0,t=t.updateQueue,i.updateQueue=t,Tu(i,t),Ao(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!Ke)return rt(i),null}else 2*hn()-f.renderingStartTime>bu&&r!==536870912&&(i.flags|=128,o=!0,Ao(f,!1),i.lanes=4194304);f.isBackwards?(m.sibling=i.child,i.child=m):(t=f.last,t!==null?t.sibling=m:i.child=m,f.last=m)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=hn(),i.sibling=null,t=kt.current,Qe(kt,o?t&1|2:t&1),i):(rt(i),null);case 22:case 23:return zs(i),Od(),o=i.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(r&536870912)!==0&&(i.flags&128)===0&&(rt(i),i.subtreeFlags&6&&(i.flags|=8192)):rt(i),r=i.updateQueue,r!==null&&Tu(i,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==r&&(i.flags|=2048),t!==null&&ct(Ua),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),i.memoizedState.cache!==r&&(i.flags|=2048),Gs(Ct),rt(i),null;case 25:return null}throw Error(a(156,i.tag))}function sA(t,i){switch(Cd(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Gs(Ct),ks(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return gr(i),null;case 13:if(zs(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(a(340));so()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return ct(kt),null;case 4:return ks(),null;case 10:return Gs(i.type),null;case 22:case 23:return zs(i),Od(),t!==null&&ct(Ua),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Gs(Ct),null;case 25:return null;default:return null}}function Ty(t,i){switch(Cd(i),i.tag){case 3:Gs(Ct),ks();break;case 26:case 27:case 5:gr(i);break;case 4:ks();break;case 13:zs(i);break;case 19:ct(kt);break;case 10:Gs(i.type);break;case 22:case 23:zs(i),Od(),t!==null&&ct(Ua);break;case 24:Gs(Ct)}}var iA={getCacheForType:function(t){var i=Wt(Ct),r=i.data.get(t);return r===void 0&&(r=t(),i.data.set(t,r)),r}},aA=typeof WeakMap=="function"?WeakMap:Map,lt=0,Ze=null,je=null,Ue=0,Je=0,En=null,Xs=!1,Yr=!1,kf=!1,Zs=0,dt=0,qi=0,Qa=0,Cf=0,Hn=0,Wr=0,wo=null,_s=null,If=!1,jf=0,bu=1/0,Au=null,Ki=null,wu=!1,Ya=null,So=0,Df=0,Of=null,No=0,Mf=null;function Tn(){if((lt&2)!==0&&Ue!==0)return Ue&-Ue;if(S.T!==null){var t=Hr;return t!==0?t:qf()}return Ic()}function by(){Hn===0&&(Hn=(Ue&536870912)===0||Ke?Pl():536870912);var t=Vn.current;return t!==null&&(t.flags|=32),Hn}function on(t,i,r){(t===Ze&&Je===2||t.cancelPendingCommit!==null)&&(Xr(t,0),Js(t,Ue,Hn,!1)),pt(t,r),((lt&2)===0||t!==Ze)&&(t===Ze&&((lt&2)===0&&(Qa|=r),dt===4&&Js(t,Ue,Hn,!1)),ys(t))}function Ay(t,i,r){if((lt&6)!==0)throw Error(a(327));var o=!r&&(i&60)===0&&(i&t.expiredLanes)===0||_i(t,i),f=o?oA(t,i):Uf(t,i,!0),m=o;do{if(f===0){Yr&&!o&&Js(t,i,0,!1);break}else if(f===6)Js(t,i,0,!Xs);else{if(r=t.current.alternate,m&&!rA(r)){f=Uf(t,i,!1),m=!1;continue}if(f===2){if(m=i,t.errorRecoveryDisabledLanes&m)var x=0;else x=t.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){i=x;e:{var T=t;f=wo;var k=T.current.memoizedState.isDehydrated;if(k&&(Xr(T,x).flags|=256),x=Uf(T,x,!1),x!==2){if(kf&&!k){T.errorRecoveryDisabledLanes|=m,Qa|=m,f=4;break e}m=_s,_s=f,m!==null&&Lf(m)}f=x}if(m=!1,f!==2)continue}}if(f===1){Xr(t,0),Js(t,i,0,!0);break}e:{switch(o=t,f){case 0:case 1:throw Error(a(345));case 4:if((i&4194176)===i){Js(o,i,Hn,!Xs);break e}break;case 2:_s=null;break;case 3:case 5:break;default:throw Error(a(329))}if(o.finishedWork=r,o.finishedLanes=i,(i&62914560)===i&&(m=jf+300-hn(),10<m)){if(Js(o,i,Hn,!Xs),Nn(o,0)!==0)break e;o.timeoutHandle=Qy(wy.bind(null,o,r,_s,Au,If,i,Hn,Qa,Wr,Xs,2,-0,0),m);break e}wy(o,r,_s,Au,If,i,Hn,Qa,Wr,Xs,0,-0,0)}}break}while(!0);ys(t)}function Lf(t){_s===null?_s=t:_s.push.apply(_s,t)}function wy(t,i,r,o,f,m,x,T,k,U,Z,ie,Y){var X=i.subtreeFlags;if((X&8192||(X&16785408)===16785408)&&(Do={stylesheets:null,count:0,unsuspend:HA},gy(i),i=qA(),i!==null)){t.cancelPendingCommit=i(jy.bind(null,t,r,o,f,x,T,k,1,ie,Y)),Js(t,m,x,!U);return}jy(t,r,o,f,x,T,k,Z,ie,Y)}function rA(t){for(var i=t;;){var r=i.tag;if((r===0||r===11||r===15)&&i.flags&16384&&(r=i.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var f=r[o],m=f.getSnapshot;f=f.value;try{if(!yn(m(),f))return!1}catch{return!1}}if(r=i.child,i.subtreeFlags&16384&&r!==null)r.return=i,i=r;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Js(t,i,r,o){i&=~Cf,i&=~Qa,t.suspendedLanes|=i,t.pingedLanes&=~i,o&&(t.warmLanes|=i),o=t.expirationTimes;for(var f=i;0<f;){var m=31-sn(f),x=1<<m;o[m]=-1,f&=~x}r!==0&&vi(t,r,i)}function Su(){return(lt&6)===0?(Ro(0),!1):!0}function Vf(){if(je!==null){if(Je===0)var t=je.return;else t=je,Fs=Ka=null,zd(t),Ur=null,lo=0,t=je;for(;t!==null;)Ty(t.alternate,t),t=t.return;je=null}}function Xr(t,i){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,wA(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Vf(),Ze=t,je=r=zi(t.current,null),Ue=i,Je=0,En=null,Xs=!1,Yr=_i(t,i),kf=!1,Wr=Hn=Cf=Qa=qi=dt=0,_s=wo=null,If=!1,(i&8)!==0&&(i|=i&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=i;0<o;){var f=31-sn(o),m=1<<f;i|=t[f],o&=~m}return Zs=i,Wc(),r}function Sy(t,i){Ce=null,S.H=ps,i===ao?(i=Hp(),Je=3):i===Pp?(i=Hp(),Je=4):Je=i===U_?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,En=i,je===null&&(dt=1,pu(t,On(i,t.current)))}function Ny(){var t=S.H;return S.H=ps,t===null?ps:t}function Ry(){var t=S.A;return S.A=iA,t}function Pf(){dt=4,Xs||(Ue&4194176)!==Ue&&Vn.current!==null||(Yr=!0),(qi&134217727)===0&&(Qa&134217727)===0||Ze===null||Js(Ze,Ue,Hn,!1)}function Uf(t,i,r){var o=lt;lt|=2;var f=Ny(),m=Ry();(Ze!==t||Ue!==i)&&(Au=null,Xr(t,i)),i=!1;var x=dt;e:do try{if(Je!==0&&je!==null){var T=je,k=En;switch(Je){case 8:Vf(),x=6;break e;case 3:case 2:case 6:Vn.current===null&&(i=!0);var U=Je;if(Je=0,En=null,Zr(t,T,k,U),r&&Yr){x=0;break e}break;default:U=Je,Je=0,En=null,Zr(t,T,k,U)}}lA(),x=dt;break}catch(Z){Sy(t,Z)}while(!0);return i&&t.shellSuspendCounter++,Fs=Ka=null,lt=o,S.H=f,S.A=m,je===null&&(Ze=null,Ue=0,Wc()),x}function lA(){for(;je!==null;)ky(je)}function oA(t,i){var r=lt;lt|=2;var o=Ny(),f=Ry();Ze!==t||Ue!==i?(Au=null,bu=hn()+500,Xr(t,i)):Yr=_i(t,i);e:do try{if(Je!==0&&je!==null){i=je;var m=En;t:switch(Je){case 1:Je=0,En=null,Zr(t,i,m,1);break;case 2:if(Up(m)){Je=0,En=null,Cy(i);break}i=function(){Je===2&&Ze===t&&(Je=7),ys(t)},m.then(i,i);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:Up(m)?(Je=0,En=null,Cy(i)):(Je=0,En=null,Zr(t,i,m,7));break;case 5:var x=null;switch(je.tag){case 26:x=je.memoizedState;case 5:case 27:var T=je;if(!x||av(x)){Je=0,En=null;var k=T.sibling;if(k!==null)je=k;else{var U=T.return;U!==null?(je=U,Nu(U)):je=null}break t}}Je=0,En=null,Zr(t,i,m,5);break;case 6:Je=0,En=null,Zr(t,i,m,6);break;case 8:Vf(),dt=6;break e;default:throw Error(a(462))}}cA();break}catch(Z){Sy(t,Z)}while(!0);return Fs=Ka=null,S.H=o,S.A=f,lt=r,je!==null?0:(Ze=null,Ue=0,Wc(),dt)}function cA(){for(;je!==null&&!dd();)ky(je)}function ky(t){var i=X_(t.alternate,t,Zs);t.memoizedProps=t.pendingProps,i===null?Nu(t):je=i}function Cy(t){var i=t,r=i.alternate;switch(i.tag){case 15:case 0:i=F_(r,i,i.pendingProps,i.type,void 0,Ue);break;case 11:i=F_(r,i,i.pendingProps,i.type.render,i.ref,Ue);break;case 5:zd(i);default:Ty(r,i),i=je=vy(i,Zs),i=X_(r,i,Zs)}t.memoizedProps=t.pendingProps,i===null?Nu(t):je=i}function Zr(t,i,r,o){Fs=Ka=null,zd(i),Ur=null,lo=0;var f=i.return;try{if(Xb(t,f,i,r,Ue)){dt=1,pu(t,On(r,t.current)),je=null;return}}catch(m){if(f!==null)throw je=f,m;dt=1,pu(t,On(r,t.current)),je=null;return}i.flags&32768?(Ke||o===1?t=!0:Yr||(Ue&536870912)!==0?t=!1:(Xs=t=!0,(o===2||o===3||o===6)&&(o=Vn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Iy(i,t)):Nu(i)}function Nu(t){var i=t;do{if((i.flags&32768)!==0){Iy(i,Xs);return}t=i.return;var r=nA(i.alternate,i,Zs);if(r!==null){je=r;return}if(i=i.sibling,i!==null){je=i;return}je=i=t}while(i!==null);dt===0&&(dt=5)}function Iy(t,i){do{var r=sA(t.alternate,t);if(r!==null){r.flags&=32767,je=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!i&&(t=t.sibling,t!==null)){je=t;return}je=t=r}while(t!==null);dt=6,je=null}function jy(t,i,r,o,f,m,x,T,k,U){var Z=S.T,ie=ue.p;try{ue.p=2,S.T=null,uA(t,i,r,o,ie,f,m,x,T,k,U)}finally{S.T=Z,ue.p=ie}}function uA(t,i,r,o,f,m,x,T){do Jr();while(Ya!==null);if((lt&6)!==0)throw Error(a(327));var k=t.finishedWork;if(o=t.finishedLanes,k===null)return null;if(t.finishedWork=null,t.finishedLanes=0,k===t.current)throw Error(a(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var U=k.lanes|k.childLanes;if(U|=Nd,kc(t,o,U,m,x,T),t===Ze&&(je=Ze=null,Ue=0),(k.subtreeFlags&10256)===0&&(k.flags&10256)===0||wu||(wu=!0,Df=U,Of=r,mA(Cs,function(){return Jr(),null})),r=(k.flags&15990)!==0,(k.subtreeFlags&15990)!==0||r?(r=S.T,S.T=null,m=ue.p,ue.p=2,x=lt,lt|=4,Jb(t,k),dy(k,t),Ob(Xf,t.containerInfo),Uu=!!Wf,Xf=Wf=null,t.current=k,oy(t,k.alternate,k),Ol(),lt=x,ue.p=m,S.T=r):t.current=k,wu?(wu=!1,Ya=t,So=o):Dy(t,U),U=t.pendingLanes,U===0&&(Ki=null),Ll(k.stateNode),ys(t),i!==null)for(f=t.onRecoverableError,k=0;k<i.length;k++)U=i[k],f(U.value,{componentStack:U.stack});return(So&3)!==0&&Jr(),U=t.pendingLanes,(o&4194218)!==0&&(U&42)!==0?t===Mf?No++:(No=0,Mf=t):No=0,Ro(0),null}function Dy(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,co(i)))}function Jr(){if(Ya!==null){var t=Ya,i=Df;Df=0;var r=Cc(So),o=S.T,f=ue.p;try{if(ue.p=32>r?32:r,S.T=null,Ya===null)var m=!1;else{r=Of,Of=null;var x=Ya,T=So;if(Ya=null,So=0,(lt&6)!==0)throw Error(a(331));var k=lt;if(lt|=4,_y(x.current),my(x,x.current,T,r),lt=k,Ro(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(gi,x)}catch{}m=!0}return m}finally{ue.p=f,S.T=o,Dy(t,i)}}return!1}function Oy(t,i,r){i=On(r,i),i=nf(t.stateNode,i,2),t=Pi(t,i,2),t!==null&&(pt(t,2),ys(t))}function Xe(t,i,r){if(t.tag===3)Oy(t,t,r);else for(;i!==null;){if(i.tag===3){Oy(i,t,r);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ki===null||!Ki.has(o))){t=On(r,t),r=V_(2),o=Pi(i,r,2),o!==null&&(P_(r,o,i,t),pt(o,2),ys(o));break}}i=i.return}}function Bf(t,i,r){var o=t.pingCache;if(o===null){o=t.pingCache=new aA;var f=new Set;o.set(i,f)}else f=o.get(i),f===void 0&&(f=new Set,o.set(i,f));f.has(r)||(kf=!0,f.add(r),t=hA.bind(null,t,i,r),i.then(t,t))}function hA(t,i,r){var o=t.pingCache;o!==null&&o.delete(i),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Ze===t&&(Ue&r)===r&&(dt===4||dt===3&&(Ue&62914560)===Ue&&300>hn()-jf?(lt&2)===0&&Xr(t,0):Cf|=r,Wr===Ue&&(Wr=0)),ys(t)}function My(t,i){i===0&&(i=yi()),t=Ci(t,i),t!==null&&(pt(t,i),ys(t))}function dA(t){var i=t.memoizedState,r=0;i!==null&&(r=i.retryLane),My(t,r)}function fA(t,i){var r=0;switch(t.tag){case 13:var o=t.stateNode,f=t.memoizedState;f!==null&&(r=f.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(i),My(t,r)}function mA(t,i){return va(t,i)}var Ru=null,el=null,Hf=!1,ku=!1,zf=!1,Wa=0;function ys(t){t!==el&&t.next===null&&(el===null?Ru=el=t:el=el.next=t),ku=!0,Hf||(Hf=!0,pA(gA))}function Ro(t,i){if(!zf&&ku){zf=!0;do for(var r=!1,o=Ru;o!==null;){if(t!==0){var f=o.pendingLanes;if(f===0)var m=0;else{var x=o.suspendedLanes,T=o.pingedLanes;m=(1<<31-sn(42|t)+1)-1,m&=f&~(x&~T),m=m&201326677?m&201326677|1:m?m|2:0}m!==0&&(r=!0,Py(o,m))}else m=Ue,m=Nn(o,o===Ze?m:0),(m&3)===0||_i(o,m)||(r=!0,Py(o,m));o=o.next}while(r);zf=!1}}function gA(){ku=Hf=!1;var t=0;Wa!==0&&(AA()&&(t=Wa),Wa=0);for(var i=hn(),r=null,o=Ru;o!==null;){var f=o.next,m=Ly(o,i);m===0?(o.next=null,r===null?Ru=f:r.next=f,f===null&&(el=r)):(r=o,(t!==0||(m&3)!==0)&&(ku=!0)),o=f}Ro(t)}function Ly(t,i){for(var r=t.suspendedLanes,o=t.pingedLanes,f=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var x=31-sn(m),T=1<<x,k=f[x];k===-1?((T&r)===0||(T&o)!==0)&&(f[x]=yr(T,i)):k<=i&&(t.expiredLanes|=T),m&=~T}if(i=Ze,r=Ue,r=Nn(t,t===i?r:0),o=t.callbackNode,r===0||t===i&&Je===2||t.cancelPendingCommit!==null)return o!==null&&o!==null&&_r(o),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||_i(t,r)){if(i=r&-r,i===t.callbackPriority)return i;switch(o!==null&&_r(o),Cc(r)){case 2:case 8:r=Ot;break;case 32:r=Cs;break;case 268435456:r=Ml;break;default:r=Cs}return o=Vy.bind(null,t),r=va(r,o),t.callbackPriority=i,t.callbackNode=r,i}return o!==null&&o!==null&&_r(o),t.callbackPriority=2,t.callbackNode=null,2}function Vy(t,i){var r=t.callbackNode;if(Jr()&&t.callbackNode!==r)return null;var o=Ue;return o=Nn(t,t===Ze?o:0),o===0?null:(Ay(t,o,i),Ly(t,hn()),t.callbackNode!=null&&t.callbackNode===r?Vy.bind(null,t):null)}function Py(t,i){if(Jr())return null;Ay(t,i,!0)}function pA(t){SA(function(){(lt&6)!==0?va(wt,t):t()})}function qf(){return Wa===0&&(Wa=Pl()),Wa}function Uy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ls(""+t)}function By(t,i){var r=i.ownerDocument.createElement("input");return r.name=i.name,r.value=i.value,t.id&&r.setAttribute("form",t.id),i.parentNode.insertBefore(r,i),t=new FormData(t),r.parentNode.removeChild(r),t}function _A(t,i,r,o,f){if(i==="submit"&&r&&r.stateNode===f){var m=Uy((f[St]||null).action),x=o.submitter;x&&(i=(i=x[St]||null)?Uy(i.formAction):x.getAttribute("formAction"),i!==null&&(m=i,x=null));var T=new wr("action","action",null,o,f);t.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Wa!==0){var k=x?By(f,x):new FormData(f);Xd(r,{pending:!0,data:k,method:f.method,action:m},null,k)}}else typeof m=="function"&&(T.preventDefault(),k=x?By(f,x):new FormData(f),Xd(r,{pending:!0,data:k,method:f.method,action:m},m,k))},currentTarget:f}]})}}for(var Kf=0;Kf<jp.length;Kf++){var Ff=jp[Kf],yA=Ff.toLowerCase(),vA=Ff[0].toUpperCase()+Ff.slice(1);Gn(yA,"on"+vA)}Gn(Np,"onAnimationEnd"),Gn(Rp,"onAnimationIteration"),Gn(kp,"onAnimationStart"),Gn("dblclick","onDoubleClick"),Gn("focusin","onFocus"),Gn("focusout","onBlur"),Gn(Lb,"onTransitionRun"),Gn(Vb,"onTransitionStart"),Gn(Pb,"onTransitionCancel"),Gn(Cp,"onTransitionEnd"),dn("onMouseEnter",["mouseout","mouseover"]),dn("onMouseLeave",["mouseout","mouseover"]),dn("onPointerEnter",["pointerout","pointerover"]),dn("onPointerLeave",["pointerout","pointerover"]),pn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pn("onBeforeInput",["compositionend","keypress","textInput","paste"]),pn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ko="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ko));function Hy(t,i){i=(i&4)!==0;for(var r=0;r<t.length;r++){var o=t[r],f=o.event;o=o.listeners;e:{var m=void 0;if(i)for(var x=o.length-1;0<=x;x--){var T=o[x],k=T.instance,U=T.currentTarget;if(T=T.listener,k!==m&&f.isPropagationStopped())break e;m=T,f.currentTarget=U;try{m(f)}catch(Z){gu(Z)}f.currentTarget=null,m=k}else for(x=0;x<o.length;x++){if(T=o[x],k=T.instance,U=T.currentTarget,T=T.listener,k!==m&&f.isPropagationStopped())break e;m=T,f.currentTarget=U;try{m(f)}catch(Z){gu(Z)}f.currentTarget=null,m=k}}}}function Me(t,i){var r=i[Ea];r===void 0&&(r=i[Ea]=new Set);var o=t+"__bubble";r.has(o)||(zy(i,t,2,!1),r.add(o))}function Gf(t,i,r){var o=0;i&&(o|=4),zy(r,t,o,i)}var Cu="_reactListening"+Math.random().toString(36).slice(2);function $f(t){if(!t[Cu]){t[Cu]=!0,Bl.forEach(function(r){r!=="selectionchange"&&(xA.has(r)||Gf(r,!1,t),Gf(r,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Cu]||(i[Cu]=!0,Gf("selectionchange",!1,i))}}function zy(t,i,r,o){switch(hv(i)){case 2:var f=GA;break;case 8:f=$A;break;default:f=rm}r=f.bind(null,i,r,t),f=void 0,!In||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),o?f!==void 0?t.addEventListener(i,r,{capture:!0,passive:f}):t.addEventListener(i,r,!0):f!==void 0?t.addEventListener(i,r,{passive:f}):t.addEventListener(i,r,!1)}function Qf(t,i,r,o,f){var m=o;if((i&1)===0&&(i&2)===0&&o!==null)e:for(;;){if(o===null)return;var x=o.tag;if(x===3||x===4){var T=o.stateNode.containerInfo;if(T===f||T.nodeType===8&&T.parentNode===f)break;if(x===4)for(x=o.return;x!==null;){var k=x.tag;if((k===3||k===4)&&(k=x.stateNode.containerInfo,k===f||k.nodeType===8&&k.parentNode===f))return;x=x.return}for(;T!==null;){if(x=Fn(T),x===null)return;if(k=x.tag,k===5||k===6||k===26||k===27){o=m=x;continue e}T=T.parentNode}}o=o.return}Mc(function(){var U=m,Z=Ar(r),ie=[];e:{var Y=Ip.get(t);if(Y!==void 0){var X=wr,pe=t;switch(t){case"keypress":if(cs(r)===0)break e;case"keydown":case"keyup":X=Ir;break;case"focusin":pe="focus",X=Rr;break;case"focusout":pe="blur",X=Rr;break;case"beforeblur":case"afterblur":X=Rr;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=jn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=vd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=qc;break;case Np:case Rp:case kp:X=kr;break;case Cp:X=Fc;break;case"scroll":case"scrollend":X=Lc;break;case"wheel":X=jr;break;case"copy":case"cut":case"paste":X=Cr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Zl;break;case"toggle":case"beforetoggle":X=$c}var we=(i&4)!==0,ft=!we&&(t==="scroll"||t==="scrollend"),q=we?Y!==null?Y+"Capture":null:Y;we=[];for(var P=U,$;P!==null;){var te=P;if($=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||$===null||q===null||(te=Sa(P,q),te!=null&&we.push(Co(P,te,$))),ft)break;P=P.return}0<we.length&&(Y=new X(Y,pe,null,r,Z),ie.push({event:Y,listeners:we}))}}if((i&7)===0){e:{if(Y=t==="mouseover"||t==="pointerover",X=t==="mouseout"||t==="pointerout",Y&&r!==Cn&&(pe=r.relatedTarget||r.fromElement)&&(Fn(pe)||pe[Is]))break e;if((X||Y)&&(Y=Z.window===Z?Z:(Y=Z.ownerDocument)?Y.defaultView||Y.parentWindow:window,X?(pe=r.relatedTarget||r.toElement,X=U,pe=pe?Fn(pe):null,pe!==null&&(ft=ge(pe),we=pe.tag,pe!==ft||we!==5&&we!==27&&we!==6)&&(pe=null)):(X=null,pe=U),X!==pe)){if(we=jn,te="onMouseLeave",q="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(we=Zl,te="onPointerLeave",q="onPointerEnter",P="pointer"),ft=X==null?Y:bi(X),$=pe==null?Y:bi(pe),Y=new we(te,P+"leave",X,r,Z),Y.target=ft,Y.relatedTarget=$,te=null,Fn(Z)===U&&(we=new we(q,P+"enter",pe,r,Z),we.target=$,we.relatedTarget=ft,te=we),ft=te,X&&pe)t:{for(we=X,q=pe,P=0,$=we;$;$=tl($))P++;for($=0,te=q;te;te=tl(te))$++;for(;0<P-$;)we=tl(we),P--;for(;0<$-P;)q=tl(q),$--;for(;P--;){if(we===q||q!==null&&we===q.alternate)break t;we=tl(we),q=tl(q)}we=null}else we=null;X!==null&&qy(ie,Y,X,we,!1),pe!==null&&ft!==null&&qy(ie,ft,pe,we,!0)}}e:{if(Y=U?bi(U):window,X=Y.nodeName&&Y.nodeName.toLowerCase(),X==="select"||X==="input"&&Y.type==="file")var fe=pp;else if(Rt(Y))if(_p)fe=jb;else{fe=Cb;var Ie=kb}else X=Y.nodeName,!X||X.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?U&&Fl(U.elementType)&&(fe=pp):fe=Ib;if(fe&&(fe=fe(t,U))){Us(ie,fe,r,Z);break e}Ie&&Ie(t,Y,U),t==="focusout"&&U&&Y.type==="number"&&U.memoizedProps.value!=null&&br(Y,"number",Y.value)}switch(Ie=U?bi(U):window,t){case"focusin":(Rt(Ie)||Ie.contentEditable==="true")&&(Dr=Ie,Ad=U,to=null);break;case"focusout":to=Ad=Dr=null;break;case"mousedown":wd=!0;break;case"contextmenu":case"mouseup":case"dragend":wd=!1,wp(ie,r,Z);break;case"selectionchange":if(Mb)break;case"keydown":case"keyup":wp(ie,r,Z)}var ye;if(ds)e:{switch(t){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else Ve?W(t,r)&&(xe="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(xe="onCompositionStart");xe&&(v&&r.locale!=="ko"&&(Ve||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&Ve&&(ye=$l()):(os=Z,ki="value"in os?os.value:os.textContent,Ve=!0)),Ie=Iu(U,xe),0<Ie.length&&(xe=new Wl(xe,t,null,r,Z),ie.push({event:xe,listeners:Ie}),ye?xe.data=ye:(ye=le(r),ye!==null&&(xe.data=ye)))),(ye=y?Nt(t,r):Pe(t,r))&&(xe=Iu(U,"onBeforeInput"),0<xe.length&&(Ie=new Wl("onBeforeInput","beforeinput",null,r,Z),ie.push({event:Ie,listeners:xe}),Ie.data=ye)),_A(ie,t,U,r,Z)}Hy(ie,i)})}function Co(t,i,r){return{instance:t,listener:i,currentTarget:r}}function Iu(t,i){for(var r=i+"Capture",o=[];t!==null;){var f=t,m=f.stateNode;f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=Sa(t,r),f!=null&&o.unshift(Co(t,f,m)),f=Sa(t,i),f!=null&&o.push(Co(t,f,m))),t=t.return}return o}function tl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function qy(t,i,r,o,f){for(var m=i._reactName,x=[];r!==null&&r!==o;){var T=r,k=T.alternate,U=T.stateNode;if(T=T.tag,k!==null&&k===o)break;T!==5&&T!==26&&T!==27||U===null||(k=U,f?(U=Sa(r,m),U!=null&&x.unshift(Co(r,U,k))):f||(U=Sa(r,m),U!=null&&x.push(Co(r,U,k)))),r=r.return}x.length!==0&&t.push({event:i,listeners:x})}var EA=/\r\n?/g,TA=/\u0000|\uFFFD/g;function Ky(t){return(typeof t=="string"?t:""+t).replace(EA,`
`).replace(TA,"")}function Fy(t,i){return i=Ky(i),Ky(t)===i}function ju(){}function We(t,i,r,o,f,m){switch(r){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||kn(t,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&kn(t,""+o);break;case"className":Si(t,"class",o);break;case"tabIndex":Si(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Si(t,r,o);break;case"style":Oc(t,o,m);break;case"data":if(i!=="object"){Si(t,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||r!=="href")){t.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=ls(""+o),t.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(r==="formAction"?(i!=="input"&&We(t,i,"name",f.name,f,null),We(t,i,"formEncType",f.formEncType,f,null),We(t,i,"formMethod",f.formMethod,f,null),We(t,i,"formTarget",f.formTarget,f,null)):(We(t,i,"encType",f.encType,f,null),We(t,i,"method",f.method,f,null),We(t,i,"target",f.target,f,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=ls(""+o),t.setAttribute(r,o);break;case"onClick":o!=null&&(t.onclick=ju);break;case"onScroll":o!=null&&Me("scroll",t);break;case"onScrollEnd":o!=null&&Me("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(f.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}r=ls(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""+o):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":o===!0?t.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,o):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(r,o):t.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(r):t.setAttribute(r,o);break;case"popover":Me("beforetoggle",t),Me("toggle",t),wi(t,"popover",o);break;case"xlinkActuate":Rn(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Rn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Rn(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Rn(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Rn(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Rn(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Rn(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Rn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Rn(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":wi(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=_d.get(r)||r,wi(t,r,o))}}function Yf(t,i,r,o,f,m){switch(r){case"style":Oc(t,o,m);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(f.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof o=="string"?kn(t,o):(typeof o=="number"||typeof o=="bigint")&&kn(t,""+o);break;case"onScroll":o!=null&&Me("scroll",t);break;case"onScrollEnd":o!=null&&Me("scrollend",t);break;case"onClick":o!=null&&(t.onclick=ju);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Er.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(f=r.endsWith("Capture"),i=r.slice(2,f?r.length-7:void 0),m=t[St]||null,m=m!=null?m[r]:null,typeof m=="function"&&t.removeEventListener(i,m,f),typeof o=="function")){typeof m!="function"&&m!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(i,o,f);break e}r in t?t[r]=o:o===!0?t.setAttribute(r,""):wi(t,r,o)}}}function Ft(t,i,r){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",t),Me("load",t);var o=!1,f=!1,m;for(m in r)if(r.hasOwnProperty(m)){var x=r[m];if(x!=null)switch(m){case"src":o=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:We(t,i,m,x,r,null)}}f&&We(t,i,"srcSet",r.srcSet,r,null),o&&We(t,i,"src",r.src,r,null);return;case"input":Me("invalid",t);var T=m=x=f=null,k=null,U=null;for(o in r)if(r.hasOwnProperty(o)){var Z=r[o];if(Z!=null)switch(o){case"name":f=Z;break;case"type":x=Z;break;case"checked":k=Z;break;case"defaultChecked":U=Z;break;case"value":m=Z;break;case"defaultValue":T=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(a(137,i));break;default:We(t,i,o,Z,r,null)}}Aa(t,m,T,k,U,x,f,!1),ba(t);return;case"select":Me("invalid",t),o=x=m=null;for(f in r)if(r.hasOwnProperty(f)&&(T=r[f],T!=null))switch(f){case"value":m=T;break;case"defaultValue":x=T;break;case"multiple":o=T;default:We(t,i,f,T,r,null)}i=m,r=x,t.multiple=!!o,i!=null?qe(t,!!o,i,!1):r!=null&&qe(t,!!o,r,!0);return;case"textarea":Me("invalid",t),m=f=o=null;for(x in r)if(r.hasOwnProperty(x)&&(T=r[x],T!=null))switch(x){case"value":o=T;break;case"defaultValue":f=T;break;case"children":m=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:We(t,i,x,T,r,null)}Ri(t,o,f,m),ba(t);return;case"option":for(k in r)if(r.hasOwnProperty(k)&&(o=r[k],o!=null))switch(k){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:We(t,i,k,o,r,null)}return;case"dialog":Me("cancel",t),Me("close",t);break;case"iframe":case"object":Me("load",t);break;case"video":case"audio":for(o=0;o<ko.length;o++)Me(ko[o],t);break;case"image":Me("error",t),Me("load",t);break;case"details":Me("toggle",t);break;case"embed":case"source":case"link":Me("error",t),Me("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in r)if(r.hasOwnProperty(U)&&(o=r[U],o!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:We(t,i,U,o,r,null)}return;default:if(Fl(i)){for(Z in r)r.hasOwnProperty(Z)&&(o=r[Z],o!==void 0&&Yf(t,i,Z,o,r,void 0));return}}for(T in r)r.hasOwnProperty(T)&&(o=r[T],o!=null&&We(t,i,T,o,r,null))}function bA(t,i,r,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,x=null,T=null,k=null,U=null,Z=null;for(X in r){var ie=r[X];if(r.hasOwnProperty(X)&&ie!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":k=ie;default:o.hasOwnProperty(X)||We(t,i,X,null,o,ie)}}for(var Y in o){var X=o[Y];if(ie=r[Y],o.hasOwnProperty(Y)&&(X!=null||ie!=null))switch(Y){case"type":m=X;break;case"name":f=X;break;case"checked":U=X;break;case"defaultChecked":Z=X;break;case"value":x=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(a(137,i));break;default:X!==ie&&We(t,i,Y,X,o,ie)}}Ni(t,x,T,k,U,Z,m,f);return;case"select":X=x=T=Y=null;for(m in r)if(k=r[m],r.hasOwnProperty(m)&&k!=null)switch(m){case"value":break;case"multiple":X=k;default:o.hasOwnProperty(m)||We(t,i,m,null,o,k)}for(f in o)if(m=o[f],k=r[f],o.hasOwnProperty(f)&&(m!=null||k!=null))switch(f){case"value":Y=m;break;case"defaultValue":T=m;break;case"multiple":x=m;default:m!==k&&We(t,i,f,m,o,k)}i=T,r=x,o=X,Y!=null?qe(t,!!r,Y,!1):!!o!=!!r&&(i!=null?qe(t,!!r,i,!0):qe(t,!!r,r?[]:"",!1));return;case"textarea":X=Y=null;for(T in r)if(f=r[T],r.hasOwnProperty(T)&&f!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:We(t,i,T,null,o,f)}for(x in o)if(f=o[x],m=r[x],o.hasOwnProperty(x)&&(f!=null||m!=null))switch(x){case"value":Y=f;break;case"defaultValue":X=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==m&&We(t,i,x,f,o,m)}wa(t,Y,X);return;case"option":for(var pe in r)if(Y=r[pe],r.hasOwnProperty(pe)&&Y!=null&&!o.hasOwnProperty(pe))switch(pe){case"selected":t.selected=!1;break;default:We(t,i,pe,null,o,Y)}for(k in o)if(Y=o[k],X=r[k],o.hasOwnProperty(k)&&Y!==X&&(Y!=null||X!=null))switch(k){case"selected":t.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:We(t,i,k,Y,o,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in r)Y=r[we],r.hasOwnProperty(we)&&Y!=null&&!o.hasOwnProperty(we)&&We(t,i,we,null,o,Y);for(U in o)if(Y=o[U],X=r[U],o.hasOwnProperty(U)&&Y!==X&&(Y!=null||X!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(a(137,i));break;default:We(t,i,U,Y,o,X)}return;default:if(Fl(i)){for(var ft in r)Y=r[ft],r.hasOwnProperty(ft)&&Y!==void 0&&!o.hasOwnProperty(ft)&&Yf(t,i,ft,void 0,o,Y);for(Z in o)Y=o[Z],X=r[Z],!o.hasOwnProperty(Z)||Y===X||Y===void 0&&X===void 0||Yf(t,i,Z,Y,o,X);return}}for(var q in r)Y=r[q],r.hasOwnProperty(q)&&Y!=null&&!o.hasOwnProperty(q)&&We(t,i,q,null,o,Y);for(ie in o)Y=o[ie],X=r[ie],!o.hasOwnProperty(ie)||Y===X||Y==null&&X==null||We(t,i,ie,Y,o,X)}var Wf=null,Xf=null;function Du(t){return t.nodeType===9?t:t.ownerDocument}function Gy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $y(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Zf(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Jf=null;function AA(){var t=window.event;return t&&t.type==="popstate"?t===Jf?!1:(Jf=t,!0):(Jf=null,!1)}var Qy=typeof setTimeout=="function"?setTimeout:void 0,wA=typeof clearTimeout=="function"?clearTimeout:void 0,Yy=typeof Promise=="function"?Promise:void 0,SA=typeof queueMicrotask=="function"?queueMicrotask:typeof Yy<"u"?function(t){return Yy.resolve(null).then(t).catch(NA)}:Qy;function NA(t){setTimeout(function(){throw t})}function em(t,i){var r=i,o=0;do{var f=r.nextSibling;if(t.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(o===0){t.removeChild(f),Po(i);return}o--}else r!=="$"&&r!=="$?"&&r!=="$!"||o++;r=f}while(r);Po(i)}function tm(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var r=i;switch(i=i.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":tm(r),Ta(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function RA(t,i,r,o){for(;t.nodeType===1;){var f=r;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Ti])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==f.rel||t.getAttribute("href")!==(f.href==null?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=Yn(t.nextSibling),t===null)break}return null}function kA(t,i,r){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Yn(t.nextSibling),t===null))return null;return t}function Yn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}function Wy(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(i===0)return t;i--}else r==="/$"&&i++}t=t.previousSibling}return null}function Xy(t,i,r){switch(i=Du(r),t){case"html":if(t=i.documentElement,!t)throw Error(a(452));return t;case"head":if(t=i.head,!t)throw Error(a(453));return t;case"body":if(t=i.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}var zn=new Map,Zy=new Set;function Ou(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var ei=ue.d;ue.d={f:CA,r:IA,D:jA,C:DA,L:OA,m:MA,X:VA,S:LA,M:PA};function CA(){var t=ei.f(),i=Su();return t||i}function IA(t){var i=js(t);i!==null&&i.tag===5&&i.type==="form"?w_(i):ei.r(t)}var nl=typeof document>"u"?null:document;function Jy(t,i,r){var o=nl;if(o&&typeof i=="string"&&i){var f=ut(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof r=="string"&&(f+='[crossorigin="'+r+'"]'),Zy.has(f)||(Zy.add(f),t={rel:t,crossOrigin:r,href:i},o.querySelector(f)===null&&(i=o.createElement("link"),Ft(i,"link",t),at(i),o.head.appendChild(i)))}}function jA(t){ei.D(t),Jy("dns-prefetch",t,null)}function DA(t,i){ei.C(t,i),Jy("preconnect",t,i)}function OA(t,i,r){ei.L(t,i,r);var o=nl;if(o&&t&&i){var f='link[rel="preload"][as="'+ut(i)+'"]';i==="image"&&r&&r.imageSrcSet?(f+='[imagesrcset="'+ut(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(f+='[imagesizes="'+ut(r.imageSizes)+'"]')):f+='[href="'+ut(t)+'"]';var m=f;switch(i){case"style":m=sl(t);break;case"script":m=il(t)}zn.has(m)||(t=R({rel:"preload",href:i==="image"&&r&&r.imageSrcSet?void 0:t,as:i},r),zn.set(m,t),o.querySelector(f)!==null||i==="style"&&o.querySelector(Io(m))||i==="script"&&o.querySelector(jo(m))||(i=o.createElement("link"),Ft(i,"link",t),at(i),o.head.appendChild(i)))}}function MA(t,i){ei.m(t,i);var r=nl;if(r&&t){var o=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+ut(o)+'"][href="'+ut(t)+'"]',m=f;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=il(t)}if(!zn.has(m)&&(t=R({rel:"modulepreload",href:t},i),zn.set(m,t),r.querySelector(f)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(jo(m)))return}o=r.createElement("link"),Ft(o,"link",t),at(o),r.head.appendChild(o)}}}function LA(t,i,r){ei.S(t,i,r);var o=nl;if(o&&t){var f=Ai(o).hoistableStyles,m=sl(t);i=i||"default";var x=f.get(m);if(!x){var T={loading:0,preload:null};if(x=o.querySelector(Io(m)))T.loading=5;else{t=R({rel:"stylesheet",href:t,"data-precedence":i},r),(r=zn.get(m))&&nm(t,r);var k=x=o.createElement("link");at(k),Ft(k,"link",t),k._p=new Promise(function(U,Z){k.onload=U,k.onerror=Z}),k.addEventListener("load",function(){T.loading|=1}),k.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Mu(x,i,o)}x={type:"stylesheet",instance:x,count:1,state:T},f.set(m,x)}}}function VA(t,i){ei.X(t,i);var r=nl;if(r&&t){var o=Ai(r).hoistableScripts,f=il(t),m=o.get(f);m||(m=r.querySelector(jo(f)),m||(t=R({src:t,async:!0},i),(i=zn.get(f))&&sm(t,i),m=r.createElement("script"),at(m),Ft(m,"link",t),r.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(f,m))}}function PA(t,i){ei.M(t,i);var r=nl;if(r&&t){var o=Ai(r).hoistableScripts,f=il(t),m=o.get(f);m||(m=r.querySelector(jo(f)),m||(t=R({src:t,async:!0,type:"module"},i),(i=zn.get(f))&&sm(t,i),m=r.createElement("script"),at(m),Ft(m,"link",t),r.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(f,m))}}function ev(t,i,r,o){var f=(f=Sn.current)?Ou(f):null;if(!f)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(i=sl(r.href),r=Ai(f).hoistableStyles,o=r.get(i),o||(o={type:"style",instance:null,count:0,state:null},r.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=sl(r.href);var m=Ai(f).hoistableStyles,x=m.get(t);if(x||(f=f.ownerDocument||f,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,x),(m=f.querySelector(Io(t)))&&!m._p&&(x.instance=m,x.state.loading=5),zn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},zn.set(t,r),m||UA(f,t,r,x.state))),i&&o===null)throw Error(a(528,""));return x}if(i&&o!==null)throw Error(a(529,""));return null;case"script":return i=r.async,r=r.src,typeof r=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=il(r),r=Ai(f).hoistableScripts,o=r.get(i),o||(o={type:"script",instance:null,count:0,state:null},r.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function sl(t){return'href="'+ut(t)+'"'}function Io(t){return'link[rel="stylesheet"]['+t+"]"}function tv(t){return R({},t,{"data-precedence":t.precedence,precedence:null})}function UA(t,i,r,o){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=t.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Ft(i,"link",r),at(i),t.head.appendChild(i))}function il(t){return'[src="'+ut(t)+'"]'}function jo(t){return"script[async]"+t}function nv(t,i,r){if(i.count++,i.instance===null)switch(i.type){case"style":var o=t.querySelector('style[data-href~="'+ut(r.href)+'"]');if(o)return i.instance=o,at(o),o;var f=R({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),at(o),Ft(o,"style",f),Mu(o,r.precedence,t),i.instance=o;case"stylesheet":f=sl(r.href);var m=t.querySelector(Io(f));if(m)return i.state.loading|=4,i.instance=m,at(m),m;o=tv(r),(f=zn.get(f))&&nm(o,f),m=(t.ownerDocument||t).createElement("link"),at(m);var x=m;return x._p=new Promise(function(T,k){x.onload=T,x.onerror=k}),Ft(m,"link",o),i.state.loading|=4,Mu(m,r.precedence,t),i.instance=m;case"script":return m=il(r.src),(f=t.querySelector(jo(m)))?(i.instance=f,at(f),f):(o=r,(f=zn.get(m))&&(o=R({},r),sm(o,f)),t=t.ownerDocument||t,f=t.createElement("script"),at(f),Ft(f,"link",o),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,Mu(o,r.precedence,t));return i.instance}function Mu(t,i,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=o.length?o[o.length-1]:null,m=f,x=0;x<o.length;x++){var T=o[x];if(T.dataset.precedence===i)m=T;else if(m!==f)break}m?m.parentNode.insertBefore(t,m.nextSibling):(i=r.nodeType===9?r.head:r,i.insertBefore(t,i.firstChild))}function nm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function sm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Lu=null;function sv(t,i,r){if(Lu===null){var o=new Map,f=Lu=new Map;f.set(r,o)}else f=Lu,o=f.get(r),o||(o=new Map,f.set(r,o));if(o.has(t))return o;for(o.set(t,null),r=r.getElementsByTagName(t),f=0;f<r.length;f++){var m=r[f];if(!(m[Ti]||m[Mt]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var x=m.getAttribute(i)||"";x=t+x;var T=o.get(x);T?T.push(m):o.set(x,[m])}}return o}function iv(t,i,r){t=t.ownerDocument||t,t.head.insertBefore(r,i==="title"?t.querySelector("head > title"):null)}function BA(t,i,r){if(r===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function av(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Do=null;function HA(){}function zA(t,i,r){if(Do===null)throw Error(a(475));var o=Do;if(i.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=sl(r.href),m=t.querySelector(Io(f));if(m){t=m._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(o.count++,o=Vu.bind(o),t.then(o,o)),i.state.loading|=4,i.instance=m,at(m);return}m=t.ownerDocument||t,r=tv(r),(f=zn.get(f))&&nm(r,f),m=m.createElement("link"),at(m);var x=m;x._p=new Promise(function(T,k){x.onload=T,x.onerror=k}),Ft(m,"link",r),i.instance=m}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(o.count++,i=Vu.bind(o),t.addEventListener("load",i),t.addEventListener("error",i))}}function qA(){if(Do===null)throw Error(a(475));var t=Do;return t.stylesheets&&t.count===0&&im(t,t.stylesheets),0<t.count?function(i){var r=setTimeout(function(){if(t.stylesheets&&im(t,t.stylesheets),t.unsuspend){var o=t.unsuspend;t.unsuspend=null,o()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(r)}}:null}function Vu(){if(this.count--,this.count===0){if(this.stylesheets)im(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Pu=null;function im(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Pu=new Map,i.forEach(KA,t),Pu=null,Vu.call(t))}function KA(t,i){if(!(i.state.loading&4)){var r=Pu.get(t);if(r)var o=r.get(null);else{r=new Map,Pu.set(t,r);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var x=f[m];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(r.set(x.dataset.precedence,x),o=x)}o&&r.set(null,o)}f=i.instance,x=f.getAttribute("data-precedence"),m=r.get(x)||o,m===o&&r.set(null,f),r.set(x,f),this.count++,o=Vu.bind(this),f.addEventListener("load",o),f.addEventListener("error",o),m?m.parentNode.insertBefore(f,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var Oo={$$typeof:C,Provider:null,Consumer:null,_currentValue:Re,_currentValue2:Re,_threadCount:0};function FA(t,i,r,o,f,m,x,T){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vr(0),this.hiddenUpdates=vr(null),this.identifierPrefix=o,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function rv(t,i,r,o,f,m,x,T,k,U,Z,ie){return t=new FA(t,i,r,x,T,k,U,ie),i=1,m===!0&&(i|=24),m=Bn(3,null,null,i),t.current=m,m.stateNode=t,i=Md(),i.refCount++,t.pooledCache=i,i.refCount++,m.memoizedState={element:o,isDehydrated:r,cache:i},pf(m),t}function lv(t){return t?(t=Lr,t):Lr}function ov(t,i,r,o,f,m){f=lv(f),o.context===null?o.context=f:o.pendingContext=f,o=Vi(i),o.payload={element:r},m=m===void 0?null:m,m!==null&&(o.callback=m),r=Pi(t,o,i),r!==null&&(on(r,t,i),_o(r,t,i))}function cv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<i?r:i}}function am(t,i){cv(t,i),(t=t.alternate)&&cv(t,i)}function uv(t){if(t.tag===13){var i=Ci(t,67108864);i!==null&&on(i,t,67108864),am(t,67108864)}}var Uu=!0;function GA(t,i,r,o){var f=S.T;S.T=null;var m=ue.p;try{ue.p=2,rm(t,i,r,o)}finally{ue.p=m,S.T=f}}function $A(t,i,r,o){var f=S.T;S.T=null;var m=ue.p;try{ue.p=8,rm(t,i,r,o)}finally{ue.p=m,S.T=f}}function rm(t,i,r,o){if(Uu){var f=lm(o);if(f===null)Qf(t,i,o,Bu,r),dv(t,o);else if(YA(f,t,i,r,o))o.stopPropagation();else if(dv(t,o),i&4&&-1<QA.indexOf(t)){for(;f!==null;){var m=js(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var x=Kn(m.pendingLanes);if(x!==0){var T=m;for(T.pendingLanes|=2,T.entangledLanes|=2;x;){var k=1<<31-sn(x);T.entanglements[1]|=k,x&=~k}ys(m),(lt&6)===0&&(bu=hn()+500,Ro(0))}}break;case 13:T=Ci(m,2),T!==null&&on(T,m,2),Su(),am(m,2)}if(m=lm(o),m===null&&Qf(t,i,o,Bu,r),m===f)break;f=m}f!==null&&o.stopPropagation()}else Qf(t,i,o,null,r)}}function lm(t){return t=Ar(t),om(t)}var Bu=null;function om(t){if(Bu=null,t=Fn(t),t!==null){var i=ge(t);if(i===null)t=null;else{var r=i.tag;if(r===13){if(t=He(i),t!==null)return t;t=null}else if(r===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Bu=t,null}function hv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(wc()){case wt:return 2;case Ot:return 8;case Cs:case Sc:return 32;case Ml:return 268435456;default:return 32}default:return 32}}var cm=!1,Fi=null,Gi=null,$i=null,Mo=new Map,Lo=new Map,Qi=[],QA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function dv(t,i){switch(t){case"focusin":case"focusout":Fi=null;break;case"dragenter":case"dragleave":Gi=null;break;case"mouseover":case"mouseout":$i=null;break;case"pointerover":case"pointerout":Mo.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lo.delete(i.pointerId)}}function Vo(t,i,r,o,f,m){return t===null||t.nativeEvent!==m?(t={blockedOn:i,domEventName:r,eventSystemFlags:o,nativeEvent:m,targetContainers:[f]},i!==null&&(i=js(i),i!==null&&uv(i)),t):(t.eventSystemFlags|=o,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function YA(t,i,r,o,f){switch(i){case"focusin":return Fi=Vo(Fi,t,i,r,o,f),!0;case"dragenter":return Gi=Vo(Gi,t,i,r,o,f),!0;case"mouseover":return $i=Vo($i,t,i,r,o,f),!0;case"pointerover":var m=f.pointerId;return Mo.set(m,Vo(Mo.get(m)||null,t,i,r,o,f)),!0;case"gotpointercapture":return m=f.pointerId,Lo.set(m,Vo(Lo.get(m)||null,t,i,r,o,f)),!0}return!1}function fv(t){var i=Fn(t.target);if(i!==null){var r=ge(i);if(r!==null){if(i=r.tag,i===13){if(i=He(r),i!==null){t.blockedOn=i,Ei(t.priority,function(){if(r.tag===13){var o=Tn(),f=Ci(r,o);f!==null&&on(f,r,o),am(r,o)}});return}}else if(i===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Hu(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var r=lm(t.nativeEvent);if(r===null){r=t.nativeEvent;var o=new r.constructor(r.type,r);Cn=o,r.target.dispatchEvent(o),Cn=null}else return i=js(r),i!==null&&uv(i),t.blockedOn=r,!1;i.shift()}return!0}function mv(t,i,r){Hu(t)&&r.delete(i)}function WA(){cm=!1,Fi!==null&&Hu(Fi)&&(Fi=null),Gi!==null&&Hu(Gi)&&(Gi=null),$i!==null&&Hu($i)&&($i=null),Mo.forEach(mv),Lo.forEach(mv)}function zu(t,i){t.blockedOn===i&&(t.blockedOn=null,cm||(cm=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,WA)))}var qu=null;function gv(t){qu!==t&&(qu=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){qu===t&&(qu=null);for(var i=0;i<t.length;i+=3){var r=t[i],o=t[i+1],f=t[i+2];if(typeof o!="function"){if(om(o||r)===null)continue;break}var m=js(r);m!==null&&(t.splice(i,3),i-=3,Xd(m,{pending:!0,data:f,method:r.method,action:o},o,f))}}))}function Po(t){function i(k){return zu(k,t)}Fi!==null&&zu(Fi,t),Gi!==null&&zu(Gi,t),$i!==null&&zu($i,t),Mo.forEach(i),Lo.forEach(i);for(var r=0;r<Qi.length;r++){var o=Qi[r];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Qi.length&&(r=Qi[0],r.blockedOn===null);)fv(r),r.blockedOn===null&&Qi.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var f=r[o],m=r[o+1],x=f[St]||null;if(typeof m=="function")x||gv(r);else if(x){var T=null;if(m&&m.hasAttribute("formAction")){if(f=m,x=m[St]||null)T=x.formAction;else if(om(f)!==null)continue}else T=x.action;typeof T=="function"?r[o+1]=T:(r.splice(o,3),o-=3),gv(r)}}}function um(t){this._internalRoot=t}Ku.prototype.render=um.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(a(409));var r=i.current,o=Tn();ov(r,o,t,i,null,null)},Ku.prototype.unmount=um.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;t.tag===0&&Jr(),ov(t.current,2,null,t,null,null),Su(),i[Is]=null}};function Ku(t){this._internalRoot=t}Ku.prototype.unstable_scheduleHydration=function(t){if(t){var i=Ic();t={blockedOn:null,target:t,priority:i};for(var r=0;r<Qi.length&&i!==0&&i<Qi[r].priority;r++);Qi.splice(r,0,t),r===0&&fv(t)}};var pv=e.version;if(pv!=="19.0.0")throw Error(a(527,pv,"19.0.0"));ue.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=ae(i),t=t!==null?me(t):null,t=t===null?null:t.stateNode,t};var XA={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:S,findFiberByHostInstance:Fn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fu.isDisabled&&Fu.supportsFiber)try{gi=Fu.inject(XA),Yt=Fu}catch{}}return Bo.createRoot=function(t,i){if(!l(t))throw Error(a(299));var r=!1,o="",f=D_,m=O_,x=M_,T=null;return i!=null&&(i.unstable_strictMode===!0&&(r=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(x=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=rv(t,1,!1,null,null,r,o,f,m,x,T,null),t[Is]=i.current,$f(t.nodeType===8?t.parentNode:t),new um(i)},Bo.hydrateRoot=function(t,i,r){if(!l(t))throw Error(a(299));var o=!1,f="",m=D_,x=O_,T=M_,k=null,U=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(f=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(x=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(k=r.unstable_transitionCallbacks),r.formState!==void 0&&(U=r.formState)),i=rv(t,1,!0,i,r??null,o,f,m,x,T,k,U),i.context=lv(null),r=i.current,o=Tn(),f=Vi(o),f.callback=null,Pi(r,f,o),i.current.lanes=o,pt(i,o),ys(i),t[Is]=i.current,$f(t),new Ku(i)},Bo.version="19.0.0",Bo}var Sv;function lw(){if(Sv)return fm.exports;Sv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),fm.exports=rw(),fm.exports}var ow=lw();const cw=og(ow);var Ho={},Nv;function uw(){if(Nv)return Ho;Nv=1,Object.defineProperty(Ho,"__esModule",{value:!0}),Ho.parse=d,Ho.serialize=_;const s=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,c=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function d(w,C){const D=new c,K=w.length;if(K<2)return D;const V=(C==null?void 0:C.decode)||E;let F=0;do{const B=w.indexOf("=",F);if(B===-1)break;const Q=w.indexOf(";",F),ee=Q===-1?K:Q;if(B>ee){F=w.lastIndexOf(";",B-1)+1;continue}const J=g(w,F,B),ce=p(w,B,J),M=w.slice(J,ce);if(D[M]===void 0){let N=g(w,B+1,ee),S=p(w,ee,N);const R=V(w.slice(N,S));D[M]=R}F=ee+1}while(F<K);return D}function g(w,C,D){do{const K=w.charCodeAt(C);if(K!==32&&K!==9)return C}while(++C<D);return D}function p(w,C,D){for(;C>D;){const K=w.charCodeAt(--C);if(K!==32&&K!==9)return C+1}return D}function _(w,C,D){const K=(D==null?void 0:D.encode)||encodeURIComponent;if(!s.test(w))throw new TypeError(`argument name is invalid: ${w}`);const V=K(C);if(!e.test(V))throw new TypeError(`argument val is invalid: ${C}`);let F=w+"="+V;if(!D)return F;if(D.maxAge!==void 0){if(!Number.isInteger(D.maxAge))throw new TypeError(`option maxAge is invalid: ${D.maxAge}`);F+="; Max-Age="+D.maxAge}if(D.domain){if(!n.test(D.domain))throw new TypeError(`option domain is invalid: ${D.domain}`);F+="; Domain="+D.domain}if(D.path){if(!a.test(D.path))throw new TypeError(`option path is invalid: ${D.path}`);F+="; Path="+D.path}if(D.expires){if(!A(D.expires)||!Number.isFinite(D.expires.valueOf()))throw new TypeError(`option expires is invalid: ${D.expires}`);F+="; Expires="+D.expires.toUTCString()}if(D.httpOnly&&(F+="; HttpOnly"),D.secure&&(F+="; Secure"),D.partitioned&&(F+="; Partitioned"),D.priority)switch(typeof D.priority=="string"?D.priority.toLowerCase():void 0){case"low":F+="; Priority=Low";break;case"medium":F+="; Priority=Medium";break;case"high":F+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${D.priority}`)}if(D.sameSite)switch(typeof D.sameSite=="string"?D.sameSite.toLowerCase():D.sameSite){case!0:case"strict":F+="; SameSite=Strict";break;case"lax":F+="; SameSite=Lax";break;case"none":F+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${D.sameSite}`)}return F}function E(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function A(w){return l.call(w)==="[object Date]"}return Ho}uw();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Rv="popstate";function hw(s={}){function e(a,l){let{pathname:c,search:d,hash:g}=a.location;return jm("",{pathname:c,search:d,hash:g},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(a,l){return typeof l=="string"?l:nc(l)}return fw(e,n,null,s)}function st(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function Xn(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function dw(){return Math.random().toString(36).substring(2,10)}function kv(s,e){return{usr:s.state,key:s.key,idx:e}}function jm(s,e,n=null,a){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?bl(e):e,state:n,key:e&&e.key||a||dw()}}function nc({pathname:s="/",search:e="",hash:n=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(s+=n.charAt(0)==="#"?n:"#"+n),s}function bl(s){let e={};if(s){let n=s.indexOf("#");n>=0&&(e.hash=s.substring(n),s=s.substring(0,n));let a=s.indexOf("?");a>=0&&(e.search=s.substring(a),s=s.substring(0,a)),s&&(e.pathname=s)}return e}function fw(s,e,n,a={}){let{window:l=document.defaultView,v5Compat:c=!1}=a,d=l.history,g="POP",p=null,_=E();_==null&&(_=0,d.replaceState({...d.state,idx:_},""));function E(){return(d.state||{idx:null}).idx}function A(){g="POP";let V=E(),F=V==null?null:V-_;_=V,p&&p({action:g,location:K.location,delta:F})}function w(V,F){g="PUSH";let B=jm(K.location,V,F);_=E()+1;let Q=kv(B,_),ee=K.createHref(B);try{d.pushState(Q,"",ee)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;l.location.assign(ee)}c&&p&&p({action:g,location:K.location,delta:1})}function C(V,F){g="REPLACE";let B=jm(K.location,V,F);_=E();let Q=kv(B,_),ee=K.createHref(B);d.replaceState(Q,"",ee),c&&p&&p({action:g,location:K.location,delta:0})}function D(V){let F=l.location.origin!=="null"?l.location.origin:l.location.href,B=typeof V=="string"?V:nc(V);return B=B.replace(/ $/,"%20"),st(F,`No window.location.(origin|href) available to create URL for href: ${B}`),new URL(B,F)}let K={get action(){return g},get location(){return s(l,d)},listen(V){if(p)throw new Error("A history only accepts one active listener");return l.addEventListener(Rv,A),p=V,()=>{l.removeEventListener(Rv,A),p=null}},createHref(V){return e(l,V)},createURL:D,encodeLocation(V){let F=D(V);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:w,replace:C,go(V){return d.go(V)}};return K}function g0(s,e,n="/"){return mw(s,e,n,!1)}function mw(s,e,n,a){let l=typeof e=="string"?bl(e):e,c=la(l.pathname||"/",n);if(c==null)return null;let d=p0(s);gw(d);let g=null;for(let p=0;g==null&&p<d.length;++p){let _=Sw(c);g=Aw(d[p],_,a)}return g}function p0(s,e=[],n=[],a=""){let l=(c,d,g)=>{let p={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};p.relativePath.startsWith("/")&&(st(p.relativePath.startsWith(a),`Absolute route path "${p.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(a.length));let _=ii([a,p.relativePath]),E=n.concat(p);c.children&&c.children.length>0&&(st(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),p0(c.children,e,E,_)),!(c.path==null&&!c.index)&&e.push({path:_,score:Tw(_,c.index),routesMeta:E})};return s.forEach((c,d)=>{var g;if(c.path===""||!((g=c.path)!=null&&g.includes("?")))l(c,d);else for(let p of _0(c.path))l(c,d,p)}),e}function _0(s){let e=s.split("/");if(e.length===0)return[];let[n,...a]=e,l=n.endsWith("?"),c=n.replace(/\?$/,"");if(a.length===0)return l?[c,""]:[c];let d=_0(a.join("/")),g=[];return g.push(...d.map(p=>p===""?c:[c,p].join("/"))),l&&g.push(...d),g.map(p=>s.startsWith("/")&&p===""?"/":p)}function gw(s){s.sort((e,n)=>e.score!==n.score?n.score-e.score:bw(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var pw=/^:[\w-]+$/,_w=3,yw=2,vw=1,xw=10,Ew=-2,Cv=s=>s==="*";function Tw(s,e){let n=s.split("/"),a=n.length;return n.some(Cv)&&(a+=Ew),e&&(a+=yw),n.filter(l=>!Cv(l)).reduce((l,c)=>l+(pw.test(c)?_w:c===""?vw:xw),a)}function bw(s,e){return s.length===e.length&&s.slice(0,-1).every((a,l)=>a===e[l])?s[s.length-1]-e[e.length-1]:0}function Aw(s,e,n=!1){let{routesMeta:a}=s,l={},c="/",d=[];for(let g=0;g<a.length;++g){let p=a[g],_=g===a.length-1,E=c==="/"?e:e.slice(c.length)||"/",A=ph({path:p.relativePath,caseSensitive:p.caseSensitive,end:_},E),w=p.route;if(!A&&_&&n&&!a[a.length-1].route.index&&(A=ph({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!A)return null;Object.assign(l,A.params),d.push({params:l,pathname:ii([c,A.pathname]),pathnameBase:Cw(ii([c,A.pathnameBase])),route:w}),A.pathnameBase!=="/"&&(c=ii([c,A.pathnameBase]))}return d}function ph(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[n,a]=ww(s.path,s.caseSensitive,s.end),l=e.match(n);if(!l)return null;let c=l[0],d=c.replace(/(.)\/+$/,"$1"),g=l.slice(1);return{params:a.reduce((_,{paramName:E,isOptional:A},w)=>{if(E==="*"){let D=g[w]||"";d=c.slice(0,c.length-D.length).replace(/(.)\/+$/,"$1")}const C=g[w];return A&&!C?_[E]=void 0:_[E]=(C||"").replace(/%2F/g,"/"),_},{}),pathname:c,pathnameBase:d,pattern:s}}function ww(s,e=!1,n=!0){Xn(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let a=[],l="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,g,p)=>(a.push({paramName:g,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(a.push({paramName:"*"}),l+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":s!==""&&s!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),a]}function Sw(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Xn(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function la(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=s.charAt(n);return a&&a!=="/"?null:s.slice(n)||"/"}function Nw(s,e="/"){let{pathname:n,search:a="",hash:l=""}=typeof s=="string"?bl(s):s;return{pathname:n?n.startsWith("/")?n:Rw(n,e):e,search:Iw(a),hash:jw(l)}}function Rw(s,e){let n=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function _m(s,e,n,a){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function kw(s){return s.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ug(s){let e=kw(s);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function hg(s,e,n,a=!1){let l;typeof s=="string"?l=bl(s):(l={...s},st(!l.pathname||!l.pathname.includes("?"),_m("?","pathname","search",l)),st(!l.pathname||!l.pathname.includes("#"),_m("#","pathname","hash",l)),st(!l.search||!l.search.includes("#"),_m("#","search","hash",l)));let c=s===""||l.pathname==="",d=c?"/":l.pathname,g;if(d==null)g=n;else{let A=e.length-1;if(!a&&d.startsWith("..")){let w=d.split("/");for(;w[0]==="..";)w.shift(),A-=1;l.pathname=w.join("/")}g=A>=0?e[A]:"/"}let p=Nw(l,g),_=d&&d!=="/"&&d.endsWith("/"),E=(c||d===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(_||E)&&(p.pathname+="/"),p}var ii=s=>s.join("/").replace(/\/\/+/g,"/"),Cw=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),Iw=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,jw=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function Dw(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var y0=["POST","PUT","PATCH","DELETE"];new Set(y0);var Ow=["GET",...y0];new Set(Ow);var Al=L.createContext(null);Al.displayName="DataRouter";var Mh=L.createContext(null);Mh.displayName="DataRouterState";var v0=L.createContext({isTransitioning:!1});v0.displayName="ViewTransition";var Mw=L.createContext(new Map);Mw.displayName="Fetchers";var Lw=L.createContext(null);Lw.displayName="Await";var ts=L.createContext(null);ts.displayName="Navigation";var dc=L.createContext(null);dc.displayName="Location";var ns=L.createContext({outlet:null,matches:[],isDataRoute:!1});ns.displayName="Route";var dg=L.createContext(null);dg.displayName="RouteError";function Vw(s,{relative:e}={}){st(wl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=L.useContext(ts),{hash:l,pathname:c,search:d}=fc(s,{relative:e}),g=c;return n!=="/"&&(g=c==="/"?n:ii([n,c])),a.createHref({pathname:g,search:d,hash:l})}function wl(){return L.useContext(dc)!=null}function ga(){return st(wl(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(dc).location}var x0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function E0(s){L.useContext(ts).static||L.useLayoutEffect(s)}function Sl(){let{isDataRoute:s}=L.useContext(ns);return s?Xw():Pw()}function Pw(){st(wl(),"useNavigate() may be used only in the context of a <Router> component.");let s=L.useContext(Al),{basename:e,navigator:n}=L.useContext(ts),{matches:a}=L.useContext(ns),{pathname:l}=ga(),c=JSON.stringify(ug(a)),d=L.useRef(!1);return E0(()=>{d.current=!0}),L.useCallback((p,_={})=>{if(Xn(d.current,x0),!d.current)return;if(typeof p=="number"){n.go(p);return}let E=hg(p,JSON.parse(c),l,_.relative==="path");s==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:ii([e,E.pathname])),(_.replace?n.replace:n.push)(E,_.state,_)},[e,n,c,l,s])}L.createContext(null);function Uw(){let{matches:s}=L.useContext(ns),e=s[s.length-1];return e?e.params:{}}function fc(s,{relative:e}={}){let{matches:n}=L.useContext(ns),{pathname:a}=ga(),l=JSON.stringify(ug(n));return L.useMemo(()=>hg(s,JSON.parse(l),a,e==="path"),[s,l,a,e])}function Bw(s,e){return T0(s,e)}function T0(s,e,n,a){var B;st(wl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l,static:c}=L.useContext(ts),{matches:d}=L.useContext(ns),g=d[d.length-1],p=g?g.params:{},_=g?g.pathname:"/",E=g?g.pathnameBase:"/",A=g&&g.route;{let Q=A&&A.path||"";b0(_,!A||Q.endsWith("*")||Q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${_}" (under <Route path="${Q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Q}"> to <Route path="${Q==="/"?"*":`${Q}/*`}">.`)}let w=ga(),C;if(e){let Q=typeof e=="string"?bl(e):e;st(E==="/"||((B=Q.pathname)==null?void 0:B.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${Q.pathname}" was given in the \`location\` prop.`),C=Q}else C=w;let D=C.pathname||"/",K=D;if(E!=="/"){let Q=E.replace(/^\//,"").split("/");K="/"+D.replace(/^\//,"").split("/").slice(Q.length).join("/")}let V=!c&&n&&n.matches&&n.matches.length>0?n.matches:g0(s,{pathname:K});Xn(A||V!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),Xn(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=Fw(V&&V.map(Q=>Object.assign({},Q,{params:Object.assign({},p,Q.params),pathname:ii([E,l.encodeLocation?l.encodeLocation(Q.pathname).pathname:Q.pathname]),pathnameBase:Q.pathnameBase==="/"?E:ii([E,l.encodeLocation?l.encodeLocation(Q.pathnameBase).pathname:Q.pathnameBase])})),d,n,a);return e&&F?L.createElement(dc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},F):F}function Hw(){let s=Ww(),e=Dw(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),n=s instanceof Error?s.stack:null,a="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:a},c={padding:"2px 4px",backgroundColor:a},d=null;return console.error("Error handled by React Router default ErrorBoundary:",s),d=L.createElement(L.Fragment,null,L.createElement("p",null,"💿 Hey developer 👋"),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:c},"ErrorBoundary")," or"," ",L.createElement("code",{style:c},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),n?L.createElement("pre",{style:l},n):null,d)}var zw=L.createElement(Hw,null),qw=class extends L.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){console.error("React Router caught the following error during render",s,e)}render(){return this.state.error!==void 0?L.createElement(ns.Provider,{value:this.props.routeContext},L.createElement(dg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Kw({routeContext:s,match:e,children:n}){let a=L.useContext(Al);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(ns.Provider,{value:s},n)}function Fw(s,e=[],n=null,a=null){if(s==null){if(!n)return null;if(n.errors)s=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)s=n.matches;else return null}let l=s,c=n==null?void 0:n.errors;if(c!=null){let p=l.findIndex(_=>_.route.id&&(c==null?void 0:c[_.route.id])!==void 0);st(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,p+1))}let d=!1,g=-1;if(n)for(let p=0;p<l.length;p++){let _=l[p];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(g=p),_.route.id){let{loaderData:E,errors:A}=n,w=_.route.loader&&!E.hasOwnProperty(_.route.id)&&(!A||A[_.route.id]===void 0);if(_.route.lazy||w){d=!0,g>=0?l=l.slice(0,g+1):l=[l[0]];break}}}return l.reduceRight((p,_,E)=>{let A,w=!1,C=null,D=null;n&&(A=c&&_.route.id?c[_.route.id]:void 0,C=_.route.errorElement||zw,d&&(g<0&&E===0?(b0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,D=null):g===E&&(w=!0,D=_.route.hydrateFallbackElement||null)));let K=e.concat(l.slice(0,E+1)),V=()=>{let F;return A?F=C:w?F=D:_.route.Component?F=L.createElement(_.route.Component,null):_.route.element?F=_.route.element:F=p,L.createElement(Kw,{match:_,routeContext:{outlet:p,matches:K,isDataRoute:n!=null},children:F})};return n&&(_.route.ErrorBoundary||_.route.errorElement||E===0)?L.createElement(qw,{location:n.location,revalidation:n.revalidation,component:C,error:A,children:V(),routeContext:{outlet:null,matches:K,isDataRoute:!0}}):V()},null)}function fg(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Gw(s){let e=L.useContext(Al);return st(e,fg(s)),e}function $w(s){let e=L.useContext(Mh);return st(e,fg(s)),e}function Qw(s){let e=L.useContext(ns);return st(e,fg(s)),e}function mg(s){let e=Qw(s),n=e.matches[e.matches.length-1];return st(n.route.id,`${s} can only be used on routes that contain a unique "id"`),n.route.id}function Yw(){return mg("useRouteId")}function Ww(){var a;let s=L.useContext(dg),e=$w("useRouteError"),n=mg("useRouteError");return s!==void 0?s:(a=e.errors)==null?void 0:a[n]}function Xw(){let{router:s}=Gw("useNavigate"),e=mg("useNavigate"),n=L.useRef(!1);return E0(()=>{n.current=!0}),L.useCallback(async(l,c={})=>{Xn(n.current,x0),n.current&&(typeof l=="number"?s.navigate(l):await s.navigate(l,{fromRouteId:e,...c}))},[s,e])}var Iv={};function b0(s,e,n){!e&&!Iv[s]&&(Iv[s]=!0,Xn(!1,n))}L.memo(Zw);function Zw({routes:s,future:e,state:n}){return T0(s,void 0,n,e)}function jv({to:s,replace:e,state:n,relative:a}){st(wl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=L.useContext(ts);Xn(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=L.useContext(ns),{pathname:d}=ga(),g=Sl(),p=hg(s,ug(c),d,a==="path"),_=JSON.stringify(p);return L.useEffect(()=>{g(JSON.parse(_),{replace:e,state:n,relative:a})},[g,_,a,e,n]),null}function It(s){st(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Jw({basename:s="/",children:e=null,location:n,navigationType:a="POP",navigator:l,static:c=!1}){st(!wl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=s.replace(/^\/*/,"/"),g=L.useMemo(()=>({basename:d,navigator:l,static:c,future:{}}),[d,l,c]);typeof n=="string"&&(n=bl(n));let{pathname:p="/",search:_="",hash:E="",state:A=null,key:w="default"}=n,C=L.useMemo(()=>{let D=la(p,d);return D==null?null:{location:{pathname:D,search:_,hash:E,state:A,key:w},navigationType:a}},[d,p,_,E,A,w,a]);return Xn(C!=null,`<Router basename="${d}"> is not able to match the URL "${p}${_}${E}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:L.createElement(ts.Provider,{value:g},L.createElement(dc.Provider,{children:e,value:C}))}function eS({children:s,location:e}){return Bw(Dm(s),e)}function Dm(s,e=[]){let n=[];return L.Children.forEach(s,(a,l)=>{if(!L.isValidElement(a))return;let c=[...e,l];if(a.type===L.Fragment){n.push.apply(n,Dm(a.props.children,c));return}st(a.type===It,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),st(!a.props.index||!a.props.children,"An index route cannot have child routes.");let d={id:a.props.id||c.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(d.children=Dm(a.props.children,c)),n.push(d)}),n}var sh="get",ih="application/x-www-form-urlencoded";function Lh(s){return s!=null&&typeof s.tagName=="string"}function tS(s){return Lh(s)&&s.tagName.toLowerCase()==="button"}function nS(s){return Lh(s)&&s.tagName.toLowerCase()==="form"}function sS(s){return Lh(s)&&s.tagName.toLowerCase()==="input"}function iS(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function aS(s,e){return s.button===0&&(!e||e==="_self")&&!iS(s)}var Gu=null;function rS(){if(Gu===null)try{new FormData(document.createElement("form"),0),Gu=!1}catch{Gu=!0}return Gu}var lS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ym(s){return s!=null&&!lS.has(s)?(Xn(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ih}"`),null):s}function oS(s,e){let n,a,l,c,d;if(nS(s)){let g=s.getAttribute("action");a=g?la(g,e):null,n=s.getAttribute("method")||sh,l=ym(s.getAttribute("enctype"))||ih,c=new FormData(s)}else if(tS(s)||sS(s)&&(s.type==="submit"||s.type==="image")){let g=s.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=s.getAttribute("formaction")||g.getAttribute("action");if(a=p?la(p,e):null,n=s.getAttribute("formmethod")||g.getAttribute("method")||sh,l=ym(s.getAttribute("formenctype"))||ym(g.getAttribute("enctype"))||ih,c=new FormData(g,s),!rS()){let{name:_,type:E,value:A}=s;if(E==="image"){let w=_?`${_}.`:"";c.append(`${w}x`,"0"),c.append(`${w}y`,"0")}else _&&c.append(_,A)}}else{if(Lh(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=sh,a=null,l=ih,d=s}return c&&l==="text/plain"&&(d=c,c=void 0),{action:a,method:n.toLowerCase(),encType:l,formData:c,body:d}}function gg(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}async function cS(s,e){if(s.id in e)return e[s.id];try{let n=await import(s.module);return e[s.id]=n,n}catch(n){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function uS(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function hS(s,e,n){let a=await Promise.all(s.map(async l=>{let c=e.routes[l.route.id];if(c){let d=await cS(c,n);return d.links?d.links():[]}return[]}));return gS(a.flat(1).filter(uS).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function Dv(s,e,n,a,l,c){let d=(p,_)=>n[_]?p.route.id!==n[_].route.id:!0,g=(p,_)=>{var E;return n[_].pathname!==p.pathname||((E=n[_].route.path)==null?void 0:E.endsWith("*"))&&n[_].params["*"]!==p.params["*"]};return c==="assets"?e.filter((p,_)=>d(p,_)||g(p,_)):c==="data"?e.filter((p,_)=>{var A;let E=a.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(d(p,_)||g(p,_))return!0;if(p.route.shouldRevalidate){let w=p.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((A=n[0])==null?void 0:A.params)||{},nextUrl:new URL(s,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function dS(s,e,{includeHydrateFallback:n}={}){return fS(s.map(a=>{let l=e.routes[a.route.id];if(!l)return[];let c=[l.module];return l.clientActionModule&&(c=c.concat(l.clientActionModule)),l.clientLoaderModule&&(c=c.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(c=c.concat(l.hydrateFallbackModule)),l.imports&&(c=c.concat(l.imports)),c}).flat(1))}function fS(s){return[...new Set(s)]}function mS(s){let e={},n=Object.keys(s).sort();for(let a of n)e[a]=s[a];return e}function gS(s,e){let n=new Set;return new Set(e),s.reduce((a,l)=>{let c=JSON.stringify(mS(l));return n.has(c)||(n.add(c),a.push({key:c,link:l})),a},[])}function pS(s){let e=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function _S(){let s=L.useContext(Al);return gg(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function yS(){let s=L.useContext(Mh);return gg(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var pg=L.createContext(void 0);pg.displayName="FrameworkContext";function A0(){let s=L.useContext(pg);return gg(s,"You must render this element inside a <HydratedRouter> element"),s}function vS(s,e){let n=L.useContext(pg),[a,l]=L.useState(!1),[c,d]=L.useState(!1),{onFocus:g,onBlur:p,onMouseEnter:_,onMouseLeave:E,onTouchStart:A}=e,w=L.useRef(null);L.useEffect(()=>{if(s==="render"&&d(!0),s==="viewport"){let K=F=>{F.forEach(B=>{d(B.isIntersecting)})},V=new IntersectionObserver(K,{threshold:.5});return w.current&&V.observe(w.current),()=>{V.disconnect()}}},[s]),L.useEffect(()=>{if(a){let K=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(K)}}},[a]);let C=()=>{l(!0)},D=()=>{l(!1),d(!1)};return n?s!=="intent"?[c,w,{}]:[c,w,{onFocus:zo(g,C),onBlur:zo(p,D),onMouseEnter:zo(_,C),onMouseLeave:zo(E,D),onTouchStart:zo(A,C)}]:[!1,w,{}]}function zo(s,e){return n=>{s&&s(n),n.defaultPrevented||e(n)}}function xS({page:s,...e}){let{router:n}=_S(),a=L.useMemo(()=>g0(n.routes,s,n.basename),[n.routes,s,n.basename]);return a?L.createElement(TS,{page:s,matches:a,...e}):null}function ES(s){let{manifest:e,routeModules:n}=A0(),[a,l]=L.useState([]);return L.useEffect(()=>{let c=!1;return hS(s,e,n).then(d=>{c||l(d)}),()=>{c=!0}},[s,e,n]),a}function TS({page:s,matches:e,...n}){let a=ga(),{manifest:l,routeModules:c}=A0(),{loaderData:d,matches:g}=yS(),p=L.useMemo(()=>Dv(s,e,g,l,a,"data"),[s,e,g,l,a]),_=L.useMemo(()=>Dv(s,e,g,l,a,"assets"),[s,e,g,l,a]),E=L.useMemo(()=>{if(s===a.pathname+a.search+a.hash)return[];let C=new Set,D=!1;if(e.forEach(V=>{var B;let F=l.routes[V.route.id];!F||!F.hasLoader||(!p.some(Q=>Q.route.id===V.route.id)&&V.route.id in d&&((B=c[V.route.id])!=null&&B.shouldRevalidate)||F.hasClientLoader?D=!0:C.add(V.route.id))}),C.size===0)return[];let K=pS(s);return D&&C.size>0&&K.searchParams.set("_routes",e.filter(V=>C.has(V.route.id)).map(V=>V.route.id).join(",")),[K.pathname+K.search]},[d,a,l,p,e,s,c]),A=L.useMemo(()=>dS(_,l),[_,l]),w=ES(_);return L.createElement(L.Fragment,null,E.map(C=>L.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...n})),A.map(C=>L.createElement("link",{key:C,rel:"modulepreload",href:C,...n})),w.map(({key:C,link:D})=>L.createElement("link",{key:C,...D})))}function bS(...s){return e=>{s.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var w0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{w0&&(window.__reactRouterVersion="7.2.0")}catch{}function AS({basename:s,children:e,window:n}){let a=L.useRef();a.current==null&&(a.current=hw({window:n,v5Compat:!0}));let l=a.current,[c,d]=L.useState({action:l.action,location:l.location}),g=L.useCallback(p=>{L.startTransition(()=>d(p))},[d]);return L.useLayoutEffect(()=>l.listen(g),[l,g]),L.createElement(Jw,{basename:s,children:e,location:c.location,navigationType:c.action,navigator:l})}var S0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Se=L.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:l,reloadDocument:c,replace:d,state:g,target:p,to:_,preventScrollReset:E,viewTransition:A,...w},C){let{basename:D}=L.useContext(ts),K=typeof _=="string"&&S0.test(_),V,F=!1;if(typeof _=="string"&&K&&(V=_,w0))try{let S=new URL(window.location.href),R=_.startsWith("//")?new URL(S.protocol+_):new URL(_),O=la(R.pathname,D);R.origin===S.origin&&O!=null?_=O+R.search+R.hash:F=!0}catch{Xn(!1,`<Link to="${_}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let B=Vw(_,{relative:l}),[Q,ee,J]=vS(a,w),ce=RS(_,{replace:d,state:g,target:p,preventScrollReset:E,relative:l,viewTransition:A});function M(S){e&&e(S),S.defaultPrevented||ce(S)}let N=L.createElement("a",{...w,...J,href:V||B,onClick:F||c?e:M,ref:bS(C,ee),target:p,"data-discover":!K&&n==="render"?"true":void 0});return Q&&!K?L.createElement(L.Fragment,null,N,L.createElement(xS,{page:B})):N});Se.displayName="Link";var wS=L.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:l=!1,style:c,to:d,viewTransition:g,children:p,..._},E){let A=fc(d,{relative:_.relative}),w=ga(),C=L.useContext(Mh),{navigator:D,basename:K}=L.useContext(ts),V=C!=null&&DS(A)&&g===!0,F=D.encodeLocation?D.encodeLocation(A).pathname:A.pathname,B=w.pathname,Q=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;n||(B=B.toLowerCase(),Q=Q?Q.toLowerCase():null,F=F.toLowerCase()),Q&&K&&(Q=la(Q,K)||Q);const ee=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let J=B===F||!l&&B.startsWith(F)&&B.charAt(ee)==="/",ce=Q!=null&&(Q===F||!l&&Q.startsWith(F)&&Q.charAt(F.length)==="/"),M={isActive:J,isPending:ce,isTransitioning:V},N=J?e:void 0,S;typeof a=="function"?S=a(M):S=[a,J?"active":null,ce?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let R=typeof c=="function"?c(M):c;return L.createElement(Se,{..._,"aria-current":N,className:S,ref:E,style:R,to:d,viewTransition:g},typeof p=="function"?p(M):p)});wS.displayName="NavLink";var SS=L.forwardRef(({discover:s="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:l,state:c,method:d=sh,action:g,onSubmit:p,relative:_,preventScrollReset:E,viewTransition:A,...w},C)=>{let D=IS(),K=jS(g,{relative:_}),V=d.toLowerCase()==="get"?"get":"post",F=typeof g=="string"&&S0.test(g),B=Q=>{if(p&&p(Q),Q.defaultPrevented)return;Q.preventDefault();let ee=Q.nativeEvent.submitter,J=(ee==null?void 0:ee.getAttribute("formmethod"))||d;D(ee||Q.currentTarget,{fetcherKey:e,method:J,navigate:n,replace:l,state:c,relative:_,preventScrollReset:E,viewTransition:A})};return L.createElement("form",{ref:C,method:V,action:K,onSubmit:a?p:B,...w,"data-discover":!F&&s==="render"?"true":void 0})});SS.displayName="Form";function NS(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function N0(s){let e=L.useContext(Al);return st(e,NS(s)),e}function RS(s,{target:e,replace:n,state:a,preventScrollReset:l,relative:c,viewTransition:d}={}){let g=Sl(),p=ga(),_=fc(s,{relative:c});return L.useCallback(E=>{if(aS(E,e)){E.preventDefault();let A=n!==void 0?n:nc(p)===nc(_);g(s,{replace:A,state:a,preventScrollReset:l,relative:c,viewTransition:d})}},[p,g,_,n,a,e,s,l,c,d])}var kS=0,CS=()=>`__${String(++kS)}__`;function IS(){let{router:s}=N0("useSubmit"),{basename:e}=L.useContext(ts),n=Yw();return L.useCallback(async(a,l={})=>{let{action:c,method:d,encType:g,formData:p,body:_}=oS(a,e);if(l.navigate===!1){let E=l.fetcherKey||CS();await s.fetch(E,n,l.action||c,{preventScrollReset:l.preventScrollReset,formData:p,body:_,formMethod:l.method||d,formEncType:l.encType||g,flushSync:l.flushSync})}else await s.navigate(l.action||c,{preventScrollReset:l.preventScrollReset,formData:p,body:_,formMethod:l.method||d,formEncType:l.encType||g,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[s,e,n])}function jS(s,{relative:e}={}){let{basename:n}=L.useContext(ts),a=L.useContext(ns);st(a,"useFormAction must be used inside a RouteContext");let[l]=a.matches.slice(-1),c={...fc(s||".",{relative:e})},d=ga();if(s==null){c.search=d.search;let g=new URLSearchParams(c.search),p=g.getAll("index");if(p.some(E=>E==="")){g.delete("index"),p.filter(A=>A).forEach(A=>g.append("index",A));let E=g.toString();c.search=E?`?${E}`:""}}return(!s||s===".")&&l.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:ii([n,c.pathname])),nc(c)}function DS(s,e={}){let n=L.useContext(v0);st(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=N0("useViewTransitionState"),l=fc(s,{relative:e.relative});if(!n.isTransitioning)return!1;let c=la(n.currentLocation.pathname,a)||n.currentLocation.pathname,d=la(n.nextLocation.pathname,a)||n.nextLocation.pathname;return ph(l.pathname,d)!=null||ph(l.pathname,c)!=null}new TextEncoder;var OS=m0();const MS=og(OS);document.addEventListener("DOMContentLoaded",function(){const s=["/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg","/AimRV/images/EE-AIMChallenge24-Uhamn-0171-high.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_113.jpg","/AimRV/images/AIM_lindvallen_2024_AnkiGrothe_highres_125.jpg"];function e(){const n=document.querySelectorAll(".dynamic-background");if(n.length===0){setTimeout(e,100);return}let a=s;try{const l=JSON.parse(localStorage.getItem("aimrv-background-images"));l&&Array.isArray(l)&&l.length>0&&(a=l)}catch(l){console.error("Error loading custom background images:",l)}n.forEach(function(l){let c=0;l.style.backgroundImage=`url(${a[c]})`,l.style.backgroundSize="cover",l.style.backgroundPosition="center",l.style.backgroundRepeat="no-repeat";const d=document.createElement("div");d.className="background-overlay",d.style.position="absolute",d.style.top="0",d.style.left="0",d.style.width="100%",d.style.height="100%",d.style.backgroundSize="cover",d.style.backgroundPosition="center",d.style.opacity="0",d.style.transition="opacity 2s ease-in-out",d.style.zIndex="1",getComputedStyle(l).position==="static"&&(l.style.position="relative"),Array.from(l.children).forEach(p=>{p!==d&&(p.style.zIndex===""||parseInt(p.style.zIndex)<10)&&(p.style.position="relative",p.style.zIndex="10")}),l.appendChild(d);function g(){const p=(c+1)%a.length;d.style.backgroundImage=`url(${a[p]})`,d.style.opacity="1",setTimeout(()=>{l.style.backgroundImage=`url(${a[p]})`,d.style.opacity="0",c=p},2e3)}setInterval(g,5e3)}),window.addEventListener("storage",function(l){if(l.key==="aimrv-background-images")try{const c=JSON.parse(l.newValue);c&&Array.isArray(c)&&c.length>0&&(a=c)}catch(c){console.error("Error updating background images:",c)}})}e()});const LS=()=>{};var Ov={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0=function(s){const e=[];let n=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},VS=function(s){const e=[];let n=0,a=0;for(;n<s.length;){const l=s[n++];if(l<128)e[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[n++];e[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[n++],d=s[n++],g=s[n++],p=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[a++]=String.fromCharCode(55296+(p>>10)),e[a++]=String.fromCharCode(56320+(p&1023))}else{const c=s[n++],d=s[n++];e[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},k0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,g=d?s[l+1]:0,p=l+2<s.length,_=p?s[l+2]:0,E=c>>2,A=(c&3)<<4|g>>4;let w=(g&15)<<2|_>>6,C=_&63;p||(C=64,d||(w=64)),a.push(n[E],n[A],n[w],n[C])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(R0(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):VS(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const c=n[s.charAt(l++)],g=l<s.length?n[s.charAt(l)]:0;++l;const _=l<s.length?n[s.charAt(l)]:64;++l;const A=l<s.length?n[s.charAt(l)]:64;if(++l,c==null||g==null||_==null||A==null)throw new PS;const w=c<<2|g>>4;if(a.push(w),_!==64){const C=g<<4&240|_>>2;if(a.push(C),A!==64){const D=_<<6&192|A;a.push(D)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class PS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const US=function(s){const e=R0(s);return k0.encodeByteArray(e,!0)},_h=function(s){return US(s).replace(/\./g,"")},C0=function(s){try{return k0.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HS=()=>BS().__FIREBASE_DEFAULTS__,zS=()=>{if(typeof process>"u"||typeof Ov>"u")return;const s=Ov.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},qS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&C0(s[1]);return e&&JSON.parse(e)},Vh=()=>{try{return LS()||HS()||zS()||qS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},I0=s=>{var e,n;return(n=(e=Vh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[s]},j0=s=>{const e=I0(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},D0=()=>{var s;return(s=Vh())===null||s===void 0?void 0:s.config},O0=s=>{var e;return(e=Vh())===null||e===void 0?void 0:e[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M0(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},s);return[_h(JSON.stringify(n)),_h(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function FS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function GS(){var s;const e=(s=Vh())===null||s===void 0?void 0:s.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $S(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function QS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function YS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function WS(){const s=tn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function XS(){return!GS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ZS(){try{return typeof indexedDB=="object"}catch{return!1}}function JS(){return new Promise((s,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var c;e(((c=l.error)===null||c===void 0?void 0:c.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN="FirebaseError";class Ns extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=eN,Object.setPrototypeOf(this,Ns.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mc.prototype.create)}}class mc{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?tN(c,a):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new Ns(l,g,a)}}function tN(s,e){return s.replace(nN,(n,a)=>{const l=e[a];return l!=null?String(l):`<${a}?>`})}const nN=/\{\$([^}]+)}/g;function sN(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function er(s,e){if(s===e)return!0;const n=Object.keys(s),a=Object.keys(e);for(const l of n){if(!a.includes(l))return!1;const c=s[l],d=e[l];if(Mv(c)&&Mv(d)){if(!er(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!n.includes(l))return!1;return!0}function Mv(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gc(s){const e=[];for(const[n,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function Ko(s){const e={};return s.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[l,c]=a.split("=");e[decodeURIComponent(l)]=decodeURIComponent(c)}}),e}function Fo(s){const e=s.indexOf("?");if(!e)return"";const n=s.indexOf("#",e);return s.substring(e,n>0?n:void 0)}function iN(s,e){const n=new aN(s,e);return n.subscribe.bind(n)}class aN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,a){let l;if(e===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");rN(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:a},l.next===void 0&&(l.next=vm),l.error===void 0&&(l.error=vm),l.complete===void 0&&(l.complete=vm);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rN(s,e){if(typeof s!="object"||s===null)return!1;for(const n of e)if(n in s&&typeof s[n]=="function")return!0;return!1}function vm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tt(s){return s&&s._delegate?s._delegate:s}class oa{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new KS;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),l=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(c){if(l)return null;throw c}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cN(e))try{this.getOrInitializeService({instanceIdentifier:Xa})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(e=Xa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xa){return this.instances.has(e)}getOptions(e=Xa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&d.resolve(l)}return l}onInit(e,n){var a;const l=this.normalizeInstanceIdentifier(n),c=(a=this.onInitCallbacks.get(l))!==null&&a!==void 0?a:new Set;c.add(e),this.onInitCallbacks.set(l,c);const d=this.instances.get(l);return d&&e(d,l),()=>{c.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const l of a)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:oN(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Xa){return this.component?this.component.multipleInstances?e:Xa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function oN(s){return s===Xa?void 0:s}function cN(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new lN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(De||(De={}));const hN={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},dN=De.INFO,fN={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},mN=(s,e,...n)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),l=fN[e];if(l)console[l](`[${a}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class _g{constructor(e){this.name=e,this._logLevel=dN,this._logHandler=mN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in De))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...e),this._logHandler(this,De.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...e),this._logHandler(this,De.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,De.INFO,...e),this._logHandler(this,De.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,De.WARN,...e),this._logHandler(this,De.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...e),this._logHandler(this,De.ERROR,...e)}}const gN=(s,e)=>e.some(n=>s instanceof n);let Lv,Vv;function pN(){return Lv||(Lv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _N(){return Vv||(Vv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const L0=new WeakMap,Om=new WeakMap,V0=new WeakMap,xm=new WeakMap,yg=new WeakMap;function yN(s){const e=new Promise((n,a)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{n(sa(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&L0.set(n,s)}).catch(()=>{}),yg.set(e,s),e}function vN(s){if(Om.has(s))return;const e=new Promise((n,a)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{n(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});Om.set(s,e)}let Mm={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return Om.get(s);if(e==="objectStoreNames")return s.objectStoreNames||V0.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return sa(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function xN(s){Mm=s(Mm)}function EN(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=s.call(Em(this),e,...n);return V0.set(a,e.sort?e.sort():[e]),sa(a)}:_N().includes(s)?function(...e){return s.apply(Em(this),e),sa(L0.get(this))}:function(...e){return sa(s.apply(Em(this),e))}}function TN(s){return typeof s=="function"?EN(s):(s instanceof IDBTransaction&&vN(s),gN(s,pN())?new Proxy(s,Mm):s)}function sa(s){if(s instanceof IDBRequest)return yN(s);if(xm.has(s))return xm.get(s);const e=TN(s);return e!==s&&(xm.set(s,e),yg.set(e,s)),e}const Em=s=>yg.get(s);function bN(s,e,{blocked:n,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(s,e),g=sa(d);return a&&d.addEventListener("upgradeneeded",p=>{a(sa(d.result),p.oldVersion,p.newVersion,sa(d.transaction),p)}),n&&d.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),g.then(p=>{c&&p.addEventListener("close",()=>c()),l&&p.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const AN=["get","getKey","getAll","getAllKeys","count"],wN=["put","add","delete","clear"],Tm=new Map;function Pv(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Tm.get(e))return Tm.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,l=wN.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(l||AN.includes(n)))return;const c=async function(d,...g){const p=this.transaction(d,l?"readwrite":"readonly");let _=p.store;return a&&(_=_.index(g.shift())),(await Promise.all([_[n](...g),l&&p.done]))[0]};return Tm.set(e,c),c}xN(s=>({...s,get:(e,n,a)=>Pv(e,n)||s.get(e,n,a),has:(e,n)=>!!Pv(e,n)||s.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(NN(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function NN(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Lm="@firebase/app",Uv="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const li=new _g("@firebase/app"),RN="@firebase/app-compat",kN="@firebase/analytics-compat",CN="@firebase/analytics",IN="@firebase/app-check-compat",jN="@firebase/app-check",DN="@firebase/auth",ON="@firebase/auth-compat",MN="@firebase/database",LN="@firebase/data-connect",VN="@firebase/database-compat",PN="@firebase/functions",UN="@firebase/functions-compat",BN="@firebase/installations",HN="@firebase/installations-compat",zN="@firebase/messaging",qN="@firebase/messaging-compat",KN="@firebase/performance",FN="@firebase/performance-compat",GN="@firebase/remote-config",$N="@firebase/remote-config-compat",QN="@firebase/storage",YN="@firebase/storage-compat",WN="@firebase/firestore",XN="@firebase/vertexai",ZN="@firebase/firestore-compat",JN="firebase",eR="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vm="[DEFAULT]",tR={[Lm]:"fire-core",[RN]:"fire-core-compat",[CN]:"fire-analytics",[kN]:"fire-analytics-compat",[jN]:"fire-app-check",[IN]:"fire-app-check-compat",[DN]:"fire-auth",[ON]:"fire-auth-compat",[MN]:"fire-rtdb",[LN]:"fire-data-connect",[VN]:"fire-rtdb-compat",[PN]:"fire-fn",[UN]:"fire-fn-compat",[BN]:"fire-iid",[HN]:"fire-iid-compat",[zN]:"fire-fcm",[qN]:"fire-fcm-compat",[KN]:"fire-perf",[FN]:"fire-perf-compat",[GN]:"fire-rc",[$N]:"fire-rc-compat",[QN]:"fire-gcs",[YN]:"fire-gcs-compat",[WN]:"fire-fst",[ZN]:"fire-fst-compat",[XN]:"fire-vertex","fire-js":"fire-js",[JN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yh=new Map,nR=new Map,Pm=new Map;function Bv(s,e){try{s.container.addComponent(e)}catch(n){li.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function tr(s){const e=s.name;if(Pm.has(e))return li.debug(`There were multiple attempts to register component ${e}.`),!1;Pm.set(e,s);for(const n of yh.values())Bv(n,s);for(const n of nR.values())Bv(n,s);return!0}function Ph(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function bn(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ia=new mc("app","Firebase",sR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e,n,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new oa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ia.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lr=eR;function P0(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const a=Object.assign({name:Vm,automaticDataCollectionEnabled:!1},e),l=a.name;if(typeof l!="string"||!l)throw ia.create("bad-app-name",{appName:String(l)});if(n||(n=D0()),!n)throw ia.create("no-options");const c=yh.get(l);if(c){if(er(n,c.options)&&er(a,c.config))return c;throw ia.create("duplicate-app",{appName:l})}const d=new uN(l);for(const p of Pm.values())d.addComponent(p);const g=new iR(n,a,d);return yh.set(l,g),g}function vg(s=Vm){const e=yh.get(s);if(!e&&s===Vm&&D0())return P0();if(!e)throw ia.create("no-app",{appName:s});return e}function xs(s,e,n){var a;let l=(a=tR[s])!==null&&a!==void 0?a:s;n&&(l+=`-${n}`);const c=l.match(/\s|\//),d=e.match(/\s|\//);if(c||d){const g=[`Unable to register library "${l}" with version "${e}":`];c&&g.push(`library name "${l}" contains illegal characters (whitespace or "/")`),c&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),li.warn(g.join(" "));return}tr(new oa(`${l}-version`,()=>({library:l,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR="firebase-heartbeat-database",rR=1,sc="firebase-heartbeat-store";let bm=null;function U0(){return bm||(bm=bN(aR,rR,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(sc)}catch(n){console.warn(n)}}}}).catch(s=>{throw ia.create("idb-open",{originalErrorMessage:s.message})})),bm}async function lR(s){try{const n=(await U0()).transaction(sc),a=await n.objectStore(sc).get(B0(s));return await n.done,a}catch(e){if(e instanceof Ns)li.warn(e.message);else{const n=ia.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});li.warn(n.message)}}}async function Hv(s,e){try{const a=(await U0()).transaction(sc,"readwrite");await a.objectStore(sc).put(e,B0(s)),await a.done}catch(n){if(n instanceof Ns)li.warn(n.message);else{const a=ia.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});li.warn(a.message)}}}function B0(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR=1024,cR=30;class uR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new dR(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=zv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats.length>cR){const d=fR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){li.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=zv(),{heartbeatsToSend:a,unsentEntries:l}=hR(this._heartbeatsCache.heartbeats),c=_h(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return li.warn(n),""}}}function zv(){return new Date().toISOString().substring(0,10)}function hR(s,e=oR){const n=[];let a=s.slice();for(const l of s){const c=n.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),qv(n)>e){c.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),qv(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class dR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ZS()?JS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await lR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return Hv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return Hv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...e.heartbeats]})}else return}}function qv(s){return _h(JSON.stringify({version:2,heartbeats:s})).length}function fR(s){if(s.length===0)return-1;let e=0,n=s[0].date;for(let a=1;a<s.length;a++)s[a].date<n&&(n=s[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mR(s){tr(new oa("platform-logger",e=>new SN(e),"PRIVATE")),tr(new oa("heartbeat",e=>new uR(e),"PRIVATE")),xs(Lm,Uv,s),xs(Lm,Uv,"esm2017"),xs("fire-js","")}mR("");var gR="firebase",pR="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xs(gR,pR,"app");var Kv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var aa,H0;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,N){function S(){}S.prototype=N.prototype,M.D=N.prototype,M.prototype=new S,M.prototype.constructor=M,M.C=function(R,O,H){for(var I=Array(arguments.length-2),it=2;it<arguments.length;it++)I[it-2]=arguments[it];return N.prototype[O].apply(R,I)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,n),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(M,N,S){S||(S=0);var R=Array(16);if(typeof N=="string")for(var O=0;16>O;++O)R[O]=N.charCodeAt(S++)|N.charCodeAt(S++)<<8|N.charCodeAt(S++)<<16|N.charCodeAt(S++)<<24;else for(O=0;16>O;++O)R[O]=N[S++]|N[S++]<<8|N[S++]<<16|N[S++]<<24;N=M.g[0],S=M.g[1],O=M.g[2];var H=M.g[3],I=N+(H^S&(O^H))+R[0]+3614090360&4294967295;N=S+(I<<7&4294967295|I>>>25),I=H+(O^N&(S^O))+R[1]+3905402710&4294967295,H=N+(I<<12&4294967295|I>>>20),I=O+(S^H&(N^S))+R[2]+606105819&4294967295,O=H+(I<<17&4294967295|I>>>15),I=S+(N^O&(H^N))+R[3]+3250441966&4294967295,S=O+(I<<22&4294967295|I>>>10),I=N+(H^S&(O^H))+R[4]+4118548399&4294967295,N=S+(I<<7&4294967295|I>>>25),I=H+(O^N&(S^O))+R[5]+1200080426&4294967295,H=N+(I<<12&4294967295|I>>>20),I=O+(S^H&(N^S))+R[6]+2821735955&4294967295,O=H+(I<<17&4294967295|I>>>15),I=S+(N^O&(H^N))+R[7]+4249261313&4294967295,S=O+(I<<22&4294967295|I>>>10),I=N+(H^S&(O^H))+R[8]+1770035416&4294967295,N=S+(I<<7&4294967295|I>>>25),I=H+(O^N&(S^O))+R[9]+2336552879&4294967295,H=N+(I<<12&4294967295|I>>>20),I=O+(S^H&(N^S))+R[10]+4294925233&4294967295,O=H+(I<<17&4294967295|I>>>15),I=S+(N^O&(H^N))+R[11]+2304563134&4294967295,S=O+(I<<22&4294967295|I>>>10),I=N+(H^S&(O^H))+R[12]+1804603682&4294967295,N=S+(I<<7&4294967295|I>>>25),I=H+(O^N&(S^O))+R[13]+4254626195&4294967295,H=N+(I<<12&4294967295|I>>>20),I=O+(S^H&(N^S))+R[14]+2792965006&4294967295,O=H+(I<<17&4294967295|I>>>15),I=S+(N^O&(H^N))+R[15]+1236535329&4294967295,S=O+(I<<22&4294967295|I>>>10),I=N+(O^H&(S^O))+R[1]+4129170786&4294967295,N=S+(I<<5&4294967295|I>>>27),I=H+(S^O&(N^S))+R[6]+3225465664&4294967295,H=N+(I<<9&4294967295|I>>>23),I=O+(N^S&(H^N))+R[11]+643717713&4294967295,O=H+(I<<14&4294967295|I>>>18),I=S+(H^N&(O^H))+R[0]+3921069994&4294967295,S=O+(I<<20&4294967295|I>>>12),I=N+(O^H&(S^O))+R[5]+3593408605&4294967295,N=S+(I<<5&4294967295|I>>>27),I=H+(S^O&(N^S))+R[10]+38016083&4294967295,H=N+(I<<9&4294967295|I>>>23),I=O+(N^S&(H^N))+R[15]+3634488961&4294967295,O=H+(I<<14&4294967295|I>>>18),I=S+(H^N&(O^H))+R[4]+3889429448&4294967295,S=O+(I<<20&4294967295|I>>>12),I=N+(O^H&(S^O))+R[9]+568446438&4294967295,N=S+(I<<5&4294967295|I>>>27),I=H+(S^O&(N^S))+R[14]+3275163606&4294967295,H=N+(I<<9&4294967295|I>>>23),I=O+(N^S&(H^N))+R[3]+4107603335&4294967295,O=H+(I<<14&4294967295|I>>>18),I=S+(H^N&(O^H))+R[8]+1163531501&4294967295,S=O+(I<<20&4294967295|I>>>12),I=N+(O^H&(S^O))+R[13]+2850285829&4294967295,N=S+(I<<5&4294967295|I>>>27),I=H+(S^O&(N^S))+R[2]+4243563512&4294967295,H=N+(I<<9&4294967295|I>>>23),I=O+(N^S&(H^N))+R[7]+1735328473&4294967295,O=H+(I<<14&4294967295|I>>>18),I=S+(H^N&(O^H))+R[12]+2368359562&4294967295,S=O+(I<<20&4294967295|I>>>12),I=N+(S^O^H)+R[5]+4294588738&4294967295,N=S+(I<<4&4294967295|I>>>28),I=H+(N^S^O)+R[8]+2272392833&4294967295,H=N+(I<<11&4294967295|I>>>21),I=O+(H^N^S)+R[11]+1839030562&4294967295,O=H+(I<<16&4294967295|I>>>16),I=S+(O^H^N)+R[14]+4259657740&4294967295,S=O+(I<<23&4294967295|I>>>9),I=N+(S^O^H)+R[1]+2763975236&4294967295,N=S+(I<<4&4294967295|I>>>28),I=H+(N^S^O)+R[4]+1272893353&4294967295,H=N+(I<<11&4294967295|I>>>21),I=O+(H^N^S)+R[7]+4139469664&4294967295,O=H+(I<<16&4294967295|I>>>16),I=S+(O^H^N)+R[10]+3200236656&4294967295,S=O+(I<<23&4294967295|I>>>9),I=N+(S^O^H)+R[13]+681279174&4294967295,N=S+(I<<4&4294967295|I>>>28),I=H+(N^S^O)+R[0]+3936430074&4294967295,H=N+(I<<11&4294967295|I>>>21),I=O+(H^N^S)+R[3]+3572445317&4294967295,O=H+(I<<16&4294967295|I>>>16),I=S+(O^H^N)+R[6]+76029189&4294967295,S=O+(I<<23&4294967295|I>>>9),I=N+(S^O^H)+R[9]+3654602809&4294967295,N=S+(I<<4&4294967295|I>>>28),I=H+(N^S^O)+R[12]+3873151461&4294967295,H=N+(I<<11&4294967295|I>>>21),I=O+(H^N^S)+R[15]+530742520&4294967295,O=H+(I<<16&4294967295|I>>>16),I=S+(O^H^N)+R[2]+3299628645&4294967295,S=O+(I<<23&4294967295|I>>>9),I=N+(O^(S|~H))+R[0]+4096336452&4294967295,N=S+(I<<6&4294967295|I>>>26),I=H+(S^(N|~O))+R[7]+1126891415&4294967295,H=N+(I<<10&4294967295|I>>>22),I=O+(N^(H|~S))+R[14]+2878612391&4294967295,O=H+(I<<15&4294967295|I>>>17),I=S+(H^(O|~N))+R[5]+4237533241&4294967295,S=O+(I<<21&4294967295|I>>>11),I=N+(O^(S|~H))+R[12]+1700485571&4294967295,N=S+(I<<6&4294967295|I>>>26),I=H+(S^(N|~O))+R[3]+2399980690&4294967295,H=N+(I<<10&4294967295|I>>>22),I=O+(N^(H|~S))+R[10]+4293915773&4294967295,O=H+(I<<15&4294967295|I>>>17),I=S+(H^(O|~N))+R[1]+2240044497&4294967295,S=O+(I<<21&4294967295|I>>>11),I=N+(O^(S|~H))+R[8]+1873313359&4294967295,N=S+(I<<6&4294967295|I>>>26),I=H+(S^(N|~O))+R[15]+4264355552&4294967295,H=N+(I<<10&4294967295|I>>>22),I=O+(N^(H|~S))+R[6]+2734768916&4294967295,O=H+(I<<15&4294967295|I>>>17),I=S+(H^(O|~N))+R[13]+1309151649&4294967295,S=O+(I<<21&4294967295|I>>>11),I=N+(O^(S|~H))+R[4]+4149444226&4294967295,N=S+(I<<6&4294967295|I>>>26),I=H+(S^(N|~O))+R[11]+3174756917&4294967295,H=N+(I<<10&4294967295|I>>>22),I=O+(N^(H|~S))+R[2]+718787259&4294967295,O=H+(I<<15&4294967295|I>>>17),I=S+(H^(O|~N))+R[9]+3951481745&4294967295,M.g[0]=M.g[0]+N&4294967295,M.g[1]=M.g[1]+(O+(I<<21&4294967295|I>>>11))&4294967295,M.g[2]=M.g[2]+O&4294967295,M.g[3]=M.g[3]+H&4294967295}a.prototype.u=function(M,N){N===void 0&&(N=M.length);for(var S=N-this.blockSize,R=this.B,O=this.h,H=0;H<N;){if(O==0)for(;H<=S;)l(this,M,H),H+=this.blockSize;if(typeof M=="string"){for(;H<N;)if(R[O++]=M.charCodeAt(H++),O==this.blockSize){l(this,R),O=0;break}}else for(;H<N;)if(R[O++]=M[H++],O==this.blockSize){l(this,R),O=0;break}}this.h=O,this.o+=N},a.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var N=1;N<M.length-8;++N)M[N]=0;var S=8*this.o;for(N=M.length-8;N<M.length;++N)M[N]=S&255,S/=256;for(this.u(M),M=Array(16),N=S=0;4>N;++N)for(var R=0;32>R;R+=8)M[S++]=this.g[N]>>>R&255;return M};function c(M,N){var S=g;return Object.prototype.hasOwnProperty.call(S,M)?S[M]:S[M]=N(M)}function d(M,N){this.h=N;for(var S=[],R=!0,O=M.length-1;0<=O;O--){var H=M[O]|0;R&&H==N||(S[O]=H,R=!1)}this.g=S}var g={};function p(M){return-128<=M&&128>M?c(M,function(N){return new d([N|0],0>N?-1:0)}):new d([M|0],0>M?-1:0)}function _(M){if(isNaN(M)||!isFinite(M))return A;if(0>M)return V(_(-M));for(var N=[],S=1,R=0;M>=S;R++)N[R]=M/S|0,S*=4294967296;return new d(N,0)}function E(M,N){if(M.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(M.charAt(0)=="-")return V(E(M.substring(1),N));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=_(Math.pow(N,8)),R=A,O=0;O<M.length;O+=8){var H=Math.min(8,M.length-O),I=parseInt(M.substring(O,O+H),N);8>H?(H=_(Math.pow(N,H)),R=R.j(H).add(_(I))):(R=R.j(S),R=R.add(_(I)))}return R}var A=p(0),w=p(1),C=p(16777216);s=d.prototype,s.m=function(){if(K(this))return-V(this).m();for(var M=0,N=1,S=0;S<this.g.length;S++){var R=this.i(S);M+=(0<=R?R:4294967296+R)*N,N*=4294967296}return M},s.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(D(this))return"0";if(K(this))return"-"+V(this).toString(M);for(var N=_(Math.pow(M,6)),S=this,R="";;){var O=ee(S,N).g;S=F(S,O.j(N));var H=((0<S.g.length?S.g[0]:S.h)>>>0).toString(M);if(S=O,D(S))return H+R;for(;6>H.length;)H="0"+H;R=H+R}},s.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function D(M){if(M.h!=0)return!1;for(var N=0;N<M.g.length;N++)if(M.g[N]!=0)return!1;return!0}function K(M){return M.h==-1}s.l=function(M){return M=F(this,M),K(M)?-1:D(M)?0:1};function V(M){for(var N=M.g.length,S=[],R=0;R<N;R++)S[R]=~M.g[R];return new d(S,~M.h).add(w)}s.abs=function(){return K(this)?V(this):this},s.add=function(M){for(var N=Math.max(this.g.length,M.g.length),S=[],R=0,O=0;O<=N;O++){var H=R+(this.i(O)&65535)+(M.i(O)&65535),I=(H>>>16)+(this.i(O)>>>16)+(M.i(O)>>>16);R=I>>>16,H&=65535,I&=65535,S[O]=I<<16|H}return new d(S,S[S.length-1]&-2147483648?-1:0)};function F(M,N){return M.add(V(N))}s.j=function(M){if(D(this)||D(M))return A;if(K(this))return K(M)?V(this).j(V(M)):V(V(this).j(M));if(K(M))return V(this.j(V(M)));if(0>this.l(C)&&0>M.l(C))return _(this.m()*M.m());for(var N=this.g.length+M.g.length,S=[],R=0;R<2*N;R++)S[R]=0;for(R=0;R<this.g.length;R++)for(var O=0;O<M.g.length;O++){var H=this.i(R)>>>16,I=this.i(R)&65535,it=M.i(O)>>>16,nt=M.i(O)&65535;S[2*R+2*O]+=I*nt,B(S,2*R+2*O),S[2*R+2*O+1]+=H*nt,B(S,2*R+2*O+1),S[2*R+2*O+1]+=I*it,B(S,2*R+2*O+1),S[2*R+2*O+2]+=H*it,B(S,2*R+2*O+2)}for(R=0;R<N;R++)S[R]=S[2*R+1]<<16|S[2*R];for(R=N;R<2*N;R++)S[R]=0;return new d(S,0)};function B(M,N){for(;(M[N]&65535)!=M[N];)M[N+1]+=M[N]>>>16,M[N]&=65535,N++}function Q(M,N){this.g=M,this.h=N}function ee(M,N){if(D(N))throw Error("division by zero");if(D(M))return new Q(A,A);if(K(M))return N=ee(V(M),N),new Q(V(N.g),V(N.h));if(K(N))return N=ee(M,V(N)),new Q(V(N.g),N.h);if(30<M.g.length){if(K(M)||K(N))throw Error("slowDivide_ only works with positive integers.");for(var S=w,R=N;0>=R.l(M);)S=J(S),R=J(R);var O=ce(S,1),H=ce(R,1);for(R=ce(R,2),S=ce(S,2);!D(R);){var I=H.add(R);0>=I.l(M)&&(O=O.add(S),H=I),R=ce(R,1),S=ce(S,1)}return N=F(M,O.j(N)),new Q(O,N)}for(O=A;0<=M.l(N);){for(S=Math.max(1,Math.floor(M.m()/N.m())),R=Math.ceil(Math.log(S)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),H=_(S),I=H.j(N);K(I)||0<I.l(M);)S-=R,H=_(S),I=H.j(N);D(H)&&(H=w),O=O.add(H),M=F(M,I)}return new Q(O,M)}s.A=function(M){return ee(this,M).h},s.and=function(M){for(var N=Math.max(this.g.length,M.g.length),S=[],R=0;R<N;R++)S[R]=this.i(R)&M.i(R);return new d(S,this.h&M.h)},s.or=function(M){for(var N=Math.max(this.g.length,M.g.length),S=[],R=0;R<N;R++)S[R]=this.i(R)|M.i(R);return new d(S,this.h|M.h)},s.xor=function(M){for(var N=Math.max(this.g.length,M.g.length),S=[],R=0;R<N;R++)S[R]=this.i(R)^M.i(R);return new d(S,this.h^M.h)};function J(M){for(var N=M.g.length+1,S=[],R=0;R<N;R++)S[R]=M.i(R)<<1|M.i(R-1)>>>31;return new d(S,M.h)}function ce(M,N){var S=N>>5;N%=32;for(var R=M.g.length-S,O=[],H=0;H<R;H++)O[H]=0<N?M.i(H+S)>>>N|M.i(H+S+1)<<32-N:M.i(H+S);return new d(O,M.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,H0=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=E,aa=d}).apply(typeof Kv<"u"?Kv:typeof self<"u"?self:typeof window<"u"?window:{});var $u=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var z0,Go,q0,ah,Um,K0,F0,G0;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,y,v){return h==Array.prototype||h==Object.prototype||(h[y]=v.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof $u=="object"&&$u];for(var y=0;y<h.length;++y){var v=h[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=n(this);function l(h,y){if(y)e:{var v=a;h=h.split(".");for(var b=0;b<h.length-1;b++){var G=h[b];if(!(G in v))break e;v=v[G]}h=h[h.length-1],b=v[h],y=y(b),y!=b&&y!=null&&e(v,h,{configurable:!0,writable:!0,value:y})}}function c(h,y){h instanceof String&&(h+="");var v=0,b=!1,G={next:function(){if(!b&&v<h.length){var W=v++;return{value:y(W,h[W]),done:!1}}return b=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}l("Array.prototype.values",function(h){return h||function(){return c(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function p(h){var y=typeof h;return y=y!="object"?y:h?Array.isArray(h)?"array":y:"null",y=="array"||y=="object"&&typeof h.length=="number"}function _(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function E(h,y,v){return h.call.apply(h.bind,arguments)}function A(h,y,v){if(!h)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,b),h.apply(y,G)}}return function(){return h.apply(y,arguments)}}function w(h,y,v){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:A,w.apply(null,arguments)}function C(h,y){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),h.apply(this,b)}}function D(h,y){function v(){}v.prototype=y.prototype,h.aa=y.prototype,h.prototype=new v,h.prototype.constructor=h,h.Qb=function(b,G,W){for(var le=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)le[Ve-2]=arguments[Ve];return y.prototype[G].apply(b,le)}}function K(h){const y=h.length;if(0<y){const v=Array(y);for(let b=0;b<y;b++)v[b]=h[b];return v}return[]}function V(h,y){for(let v=1;v<arguments.length;v++){const b=arguments[v];if(p(b)){const G=h.length||0,W=b.length||0;h.length=G+W;for(let le=0;le<W;le++)h[G+le]=b[le]}else h.push(b)}}class F{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function B(h){return/^[\s\xa0]*$/.test(h)}function Q(){var h=g.navigator;return h&&(h=h.userAgent)?h:""}function ee(h){return ee[" "](h),h}ee[" "]=function(){};var J=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function ce(h,y,v){for(const b in h)y.call(v,h[b],b,h)}function M(h,y){for(const v in h)y.call(void 0,h[v],v,h)}function N(h){const y={};for(const v in h)y[v]=h[v];return y}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(h,y){let v,b;for(let G=1;G<arguments.length;G++){b=arguments[G];for(v in b)h[v]=b[v];for(let W=0;W<S.length;W++)v=S[W],Object.prototype.hasOwnProperty.call(b,v)&&(h[v]=b[v])}}function O(h){var y=1;h=h.split(":");const v=[];for(;0<y&&h.length;)v.push(h.shift()),y--;return h.length&&v.push(h.join(":")),v}function H(h){g.setTimeout(()=>{throw h},0)}function I(){var h=He;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class it{constructor(){this.h=this.g=null}add(y,v){const b=nt.get();b.set(y,v),this.h?this.h.next=b:this.g=b,this.h=b}}var nt=new F(()=>new re,h=>h.reset());class re{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let _e,ge=!1,He=new it,j=()=>{const h=g.Promise.resolve(void 0);_e=()=>{h.then(ae)}};var ae=()=>{for(var h;h=I();){try{h.h.call(h.g)}catch(v){H(v)}var y=nt;y.j(h),100>y.h&&(y.h++,h.next=y.g,y.g=h)}ge=!1};function me(){this.s=this.s,this.C=this.C}me.prototype.s=!1,me.prototype.ma=function(){this.s||(this.s=!0,this.N())},me.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var ue=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const v=()=>{};g.addEventListener("test",v,y),g.removeEventListener("test",v,y)}catch{}return h}();function Re(h,y){if(oe.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var v=this.type=h.type,b=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget){if(J){e:{try{ee(y.nodeName);var G=!0;break e}catch{}G=!1}G||(y=null)}}else v=="mouseover"?y=h.fromElement:v=="mouseout"&&(y=h.toElement);this.relatedTarget=y,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Ae[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Re.aa.h.call(this)}}D(Re,oe);var Ae={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var vt="closure_listenable_"+(1e6*Math.random()|0),ze=0;function ct(h,y,v,b,G){this.listener=h,this.proxy=null,this.src=y,this.type=v,this.capture=!!b,this.ha=G,this.key=++ze,this.da=this.fa=!1}function Qe(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function nn(h){this.src=h,this.g={},this.h=0}nn.prototype.add=function(h,y,v,b,G){var W=h.toString();h=this.g[W],h||(h=this.g[W]=[],this.h++);var le=Sn(h,y,b,G);return-1<le?(y=h[le],v||(y.fa=!1)):(y=new ct(y,this.src,W,!!b,G),y.fa=v,h.push(y)),y};function Rs(h,y){var v=y.type;if(v in h.g){var b=h.g[v],G=Array.prototype.indexOf.call(b,y,void 0),W;(W=0<=G)&&Array.prototype.splice.call(b,G,1),W&&(Qe(y),h.g[v].length==0&&(delete h.g[v],h.h--))}}function Sn(h,y,v,b){for(var G=0;G<h.length;++G){var W=h[G];if(!W.da&&W.listener==y&&W.capture==!!v&&W.ha==b)return G}return-1}var fi="closure_lm_"+(1e6*Math.random()|0),mi={};function ks(h,y,v,b,G){if(Array.isArray(y)){for(var W=0;W<y.length;W++)ks(h,y[W],v,b,G);return null}return v=wc(v),h&&h[vt]?h.K(y,v,_(b)?!!b.capture:!1,G):Dl(h,y,v,!1,b,G)}function Dl(h,y,v,b,G,W){if(!y)throw Error("Invalid event type");var le=_(G)?!!G.capture:!!G,Ve=Ol(h);if(Ve||(h[fi]=Ve=new nn(h)),v=Ve.add(y,v,b,le,W),v.proxy)return v;if(b=gr(),v.proxy=b,b.src=h,b.listener=v,h.addEventListener)ue||(G=le),G===void 0&&(G=!1),h.addEventListener(y.toString(),b,G);else if(h.attachEvent)h.attachEvent(_r(y.toString()),b);else if(h.addListener&&h.removeListener)h.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function gr(){function h(v){return y.call(h.src,h.listener,v)}const y=dd;return h}function pr(h,y,v,b,G){if(Array.isArray(y))for(var W=0;W<y.length;W++)pr(h,y[W],v,b,G);else b=_(b)?!!b.capture:!!b,v=wc(v),h&&h[vt]?(h=h.i,y=String(y).toString(),y in h.g&&(W=h.g[y],v=Sn(W,v,b,G),-1<v&&(Qe(W[v]),Array.prototype.splice.call(W,v,1),W.length==0&&(delete h.g[y],h.h--)))):h&&(h=Ol(h))&&(y=h.g[y.toString()],h=-1,y&&(h=Sn(y,v,b,G)),(v=-1<h?y[h]:null)&&va(v))}function va(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[vt])Rs(y.i,h);else{var v=h.type,b=h.proxy;y.removeEventListener?y.removeEventListener(v,b,h.capture):y.detachEvent?y.detachEvent(_r(v),b):y.addListener&&y.removeListener&&y.removeListener(b),(v=Ol(y))?(Rs(v,h),v.h==0&&(v.src=null,y[fi]=null)):Qe(h)}}}function _r(h){return h in mi?mi[h]:mi[h]="on"+h}function dd(h,y){if(h.da)h=!0;else{y=new Re(y,this);var v=h.listener,b=h.ha||h.src;h.fa&&va(h),h=v.call(b,y)}return h}function Ol(h){return h=h[fi],h instanceof nn?h:null}var hn="__closure_events_fn_"+(1e9*Math.random()>>>0);function wc(h){return typeof h=="function"?h:(h[hn]||(h[hn]=function(y){return h.handleEvent(y)}),h[hn])}function wt(){me.call(this),this.i=new nn(this),this.M=this,this.F=null}D(wt,me),wt.prototype[vt]=!0,wt.prototype.removeEventListener=function(h,y,v,b){pr(this,h,y,v,b)};function Ot(h,y){var v,b=h.F;if(b)for(v=[];b;b=b.F)v.push(b);if(h=h.M,b=y.type||y,typeof y=="string")y=new oe(y,h);else if(y instanceof oe)y.target=y.target||h;else{var G=y;y=new oe(b,h),R(y,G)}if(G=!0,v)for(var W=v.length-1;0<=W;W--){var le=y.g=v[W];G=Cs(le,b,!0,y)&&G}if(le=y.g=h,G=Cs(le,b,!0,y)&&G,G=Cs(le,b,!1,y)&&G,v)for(W=0;W<v.length;W++)le=y.g=v[W],G=Cs(le,b,!1,y)&&G}wt.prototype.N=function(){if(wt.aa.N.call(this),this.i){var h=this.i,y;for(y in h.g){for(var v=h.g[y],b=0;b<v.length;b++)Qe(v[b]);delete h.g[y],h.h--}}this.F=null},wt.prototype.K=function(h,y,v,b){return this.i.add(String(h),y,!1,v,b)},wt.prototype.L=function(h,y,v,b){return this.i.add(String(h),y,!0,v,b)};function Cs(h,y,v,b){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();for(var G=!0,W=0;W<y.length;++W){var le=y[W];if(le&&!le.da&&le.capture==v){var Ve=le.listener,Nt=le.ha||le.src;le.fa&&Rs(h.i,le),G=Ve.call(Nt,b)!==!1&&G}}return G&&!b.defaultPrevented}function Sc(h,y,v){if(typeof h=="function")v&&(h=w(h,v));else if(h&&typeof h.handleEvent=="function")h=w(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:g.setTimeout(h,y||0)}function Ml(h){h.g=Sc(()=>{h.g=null,h.i&&(h.i=!1,Ml(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class fd extends me{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Ml(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xa(h){me.call(this),this.h=h,this.g={}}D(xa,me);var gi=[];function Yt(h){ce(h.g,function(y,v){this.g.hasOwnProperty(v)&&va(y)},h),h.g={}}xa.prototype.N=function(){xa.aa.N.call(this),Yt(this)},xa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ll=g.JSON.stringify,ss=g.JSON.parse,sn=class{stringify(h){return g.JSON.stringify(h,void 0)}parse(h){return g.JSON.parse(h,void 0)}};function Vl(){}Vl.prototype.h=null;function Nc(h){return h.h||(h.h=h.i())}function Rc(){}var is={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function pi(){oe.call(this,"d")}D(pi,oe);function Kn(){oe.call(this,"c")}D(Kn,oe);var Nn={},_i=null;function yr(){return _i=_i||new wt}Nn.La="serverreachability";function Pl(h){oe.call(this,Nn.La,h)}D(Pl,oe);function yi(h){const y=yr();Ot(y,new Pl(y))}Nn.STAT_EVENT="statevent";function vr(h,y){oe.call(this,Nn.STAT_EVENT,h),this.stat=y}D(vr,oe);function pt(h){const y=yr();Ot(y,new vr(y,h))}Nn.Ma="timingevent";function kc(h,y){oe.call(this,Nn.Ma,h),this.size=y}D(kc,oe);function vi(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){h()},y)}function xi(){this.g=!0}xi.prototype.xa=function(){this.g=!1};function Cc(h,y,v,b,G,W){h.info(function(){if(h.g)if(W)for(var le="",Ve=W.split("&"),Nt=0;Nt<Ve.length;Nt++){var Pe=Ve[Nt].split("=");if(1<Pe.length){var Vt=Pe[0];Pe=Pe[1];var Rt=Vt.split("_");le=2<=Rt.length&&Rt[1]=="type"?le+(Vt+"="+Pe+"&"):le+(Vt+"=redacted&")}}else le=null;else le=W;return"XMLHTTP REQ ("+b+") [attempt "+G+"]: "+y+`
`+v+`
`+le})}function Ic(h,y,v,b,G,W,le){h.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+G+"]: "+y+`
`+v+`
`+W+" "+le})}function Ei(h,y,v,b){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+Mt(h,v)+(b?" "+b:"")})}function as(h,y){h.info(function(){return"TIMEOUT: "+y})}xi.prototype.info=function(){};function Mt(h,y){if(!h.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(h=0;h<v.length;h++)if(Array.isArray(v[h])){var b=v[h];if(!(2>b.length)){var G=b[1];if(Array.isArray(G)&&!(1>G.length)){var W=G[0];if(W!="noop"&&W!="stop"&&W!="close")for(var le=1;le<G.length;le++)G[le]=""}}}}return Ll(v)}catch{return y}}var St={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Is={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ea;function xr(){}D(xr,Vl),xr.prototype.g=function(){return new XMLHttpRequest},xr.prototype.i=function(){return{}},Ea=new xr;function rs(h,y,v,b){this.j=h,this.i=y,this.l=v,this.R=b||1,this.U=new xa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ul}function Ul(){this.i=null,this.g="",this.h=!1}var Ti={},Ta={};function Fn(h,y,v){h.L=1,h.v=wa(ut(y)),h.m=v,h.P=!0,js(h,null)}function js(h,y){h.F=Date.now(),at(h),h.A=ut(h.v);var v=h.A,b=h.R;Array.isArray(b)||(b=[String(b)]),Ms(v.i,"t",b),h.C=0,v=h.j.J,h.h=new Ul,h.g=Fc(h.j,v?y:null,!h.m),0<h.O&&(h.M=new fd(w(h.Y,h,h.g),h.O)),y=h.U,v=h.g,b=h.ca;var G="readystatechange";Array.isArray(G)||(G&&(gi[0]=G.toString()),G=gi);for(var W=0;W<G.length;W++){var le=ks(v,G[W],b||y.handleEvent,!1,y.h||y);if(!le)break;y.g[le.key]=le}y=h.H?N(h.H):{},h.m?(h.u||(h.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,y)):(h.u="GET",h.g.ea(h.A,h.u,null,y)),yi(),Cc(h.i,h.u,h.A,h.l,h.R,h.m)}rs.prototype.ca=function(h){h=h.target;const y=this.M;y&&jn(h)==3?y.j():this.Y(h)},rs.prototype.Y=function(h){try{if(h==this.g)e:{const Rt=jn(this.g);var y=this.g.Ba();const Us=this.g.Z();if(!(3>Rt)&&(Rt!=3||this.g&&(this.h.h||this.g.oa()||Vc(this.g)))){this.J||Rt!=4||y==7||(y==8||0>=Us?yi(3):yi(2)),Er(this);var v=this.g.Z();this.X=v;t:if(bi(this)){var b=Vc(this.g);h="";var G=b.length,W=jn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){dn(this),pn(this);var le="";break t}this.h.i=new g.TextDecoder}for(y=0;y<G;y++)this.h.h=!0,h+=this.h.i.decode(b[y],{stream:!(W&&y==G-1)});b.length=0,this.h.g+=h,this.C=0,le=this.h.g}else le=this.g.oa();if(this.o=v==200,Ic(this.i,this.u,this.A,this.l,this.R,Rt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Ve,Nt=this.g;if((Ve=Nt.g?Nt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(Ve)){var Pe=Ve;break t}}Pe=null}if(v=Pe)Ei(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_n(this,v);else{this.o=!1,this.s=3,pt(12),dn(this),pn(this);break e}}if(this.P){v=!0;let zt;for(;!this.J&&this.C<le.length;)if(zt=Ai(this,le),zt==Ta){Rt==4&&(this.s=4,pt(14),v=!1),Ei(this.i,this.l,null,"[Incomplete Response]");break}else if(zt==Ti){this.s=4,pt(15),Ei(this.i,this.l,le,"[Invalid Chunk]"),v=!1;break}else Ei(this.i,this.l,zt,null),_n(this,zt);if(bi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||le.length!=0||this.h.h||(this.s=1,pt(16),v=!1),this.o=this.o&&v,!v)Ei(this.i,this.l,le,"[Invalid Chunked Response]"),dn(this),pn(this);else if(0<le.length&&!this.W){this.W=!0;var Vt=this.j;Vt.g==this&&Vt.ba&&!Vt.M&&(Vt.j.info("Great, no buffering proxy detected. Bytes received: "+le.length),ja(Vt),Vt.M=!0,pt(11))}}else Ei(this.i,this.l,le,null),_n(this,le);Rt==4&&dn(this),this.o&&!this.J&&(Rt==4?zc(this.j,this):(this.o=!1,at(this)))}else vd(this.g),v==400&&0<le.indexOf("Unknown SID")?(this.s=3,pt(12)):(this.s=0,pt(13)),dn(this),pn(this)}}}catch{}finally{}};function bi(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Ai(h,y){var v=h.C,b=y.indexOf(`
`,v);return b==-1?Ta:(v=Number(y.substring(v,b)),isNaN(v)?Ti:(b+=1,b+v>y.length?Ta:(y=y.slice(b,b+v),h.C=b+v,y)))}rs.prototype.cancel=function(){this.J=!0,dn(this)};function at(h){h.S=Date.now()+h.I,Bl(h,h.I)}function Bl(h,y){if(h.B!=null)throw Error("WatchDog timer not null");h.B=vi(w(h.ba,h),y)}function Er(h){h.B&&(g.clearTimeout(h.B),h.B=null)}rs.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(as(this.i,this.A),this.L!=2&&(yi(),pt(17)),dn(this),this.s=2,pn(this)):Bl(this,this.S-h)};function pn(h){h.j.G==0||h.J||zc(h.j,h)}function dn(h){Er(h);var y=h.M;y&&typeof y.ma=="function"&&y.ma(),h.M=null,Yt(h.U),h.g&&(y=h.g,h.g=null,y.abort(),y.ma())}function _n(h,y){try{var v=h.j;if(v.G!=0&&(v.g==h||wi(v.h,h))){if(!h.K&&wi(v.h,h)&&v.G==3){try{var b=v.Da.g.parse(y)}catch{b=null}if(Array.isArray(b)&&b.length==3){var G=b;if(G[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<h.F)Ir(v),kr(v);else break e;Xl(v),pt(18)}}else v.za=G[1],0<v.za-v.T&&37500>G[2]&&v.F&&v.v==0&&!v.C&&(v.C=vi(w(v.Za,v),6e3));if(1>=jc(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Ps(v,11)}else if((h.K||v.g==h)&&Ir(v),!B(y))for(G=v.Da.g.parse(y),y=0;y<G.length;y++){let Pe=G[y];if(v.T=Pe[0],Pe=Pe[1],v.G==2)if(Pe[0]=="c"){v.K=Pe[1],v.ia=Pe[2];const Vt=Pe[3];Vt!=null&&(v.la=Vt,v.j.info("VER="+v.la));const Rt=Pe[4];Rt!=null&&(v.Aa=Rt,v.j.info("SVER="+v.Aa));const Us=Pe[5];Us!=null&&typeof Us=="number"&&0<Us&&(b=1.5*Us,v.L=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const zt=h.g;if(zt){const fs=zt.g?zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fs){var W=b.h;W.g||fs.indexOf("spdy")==-1&&fs.indexOf("quic")==-1&&fs.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(Si(W,W.h),W.h=null))}if(b.D){const Jl=zt.g?zt.g.getResponseHeader("X-HTTP-Session-Id"):null;Jl&&(b.ya=Jl,qe(b.I,b.D,Jl))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-h.F,v.j.info("Handshake RTT: "+v.R+"ms")),b=v;var le=h;if(b.qa=Kc(b,b.J?b.ia:null,b.W),le.K){Rn(b.h,le);var Ve=le,Nt=b.L;Nt&&(Ve.I=Nt),Ve.B&&(Er(Ve),at(Ve)),b.g=le}else Bc(b);0<v.i.length&&Cr(v)}else Pe[0]!="stop"&&Pe[0]!="close"||Ps(v,7);else v.G==3&&(Pe[0]=="stop"||Pe[0]=="close"?Pe[0]=="stop"?Ps(v,7):Yl(v):Pe[0]!="noop"&&v.l&&v.l.ta(Pe),v.v=0)}}yi(4)}catch{}}var md=class{constructor(h,y){this.g=h,this.map=y}};function Hl(h){this.l=h||10,g.PerformanceNavigationTiming?(h=g.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function zl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function jc(h){return h.h?1:h.g?h.g.size:0}function wi(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function Si(h,y){h.g?h.g.add(y):h.h=y}function Rn(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}Hl.prototype.cancel=function(){if(this.i=an(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function an(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const v of h.g.values())y=y.concat(v.D);return y}return K(h.i)}function Dc(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(p(h)){for(var y=[],v=h.length,b=0;b<v;b++)y.push(h[b]);return y}y=[],v=0;for(b in h)y[v++]=h[b];return y}function gd(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(p(h)||typeof h=="string"){var y=[];h=h.length;for(var v=0;v<h;v++)y.push(v);return y}y=[],v=0;for(const b in h)y[v++]=b;return y}}}function ba(h,y){if(h.forEach&&typeof h.forEach=="function")h.forEach(y,void 0);else if(p(h)||typeof h=="string")Array.prototype.forEach.call(h,y,void 0);else for(var v=gd(h),b=Dc(h),G=b.length,W=0;W<G;W++)y.call(void 0,b[W],v&&v[W],h)}var ql=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Tr(h,y){if(h){h=h.split("&");for(var v=0;v<h.length;v++){var b=h[v].indexOf("="),G=null;if(0<=b){var W=h[v].substring(0,b);G=h[v].substring(b+1)}else W=h[v];y(W,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Ds(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Ds){this.h=h.h,Ni(this,h.j),this.o=h.o,this.g=h.g,Aa(this,h.s),this.l=h.l;var y=h.i,v=new ls;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),br(this,v),this.m=h.m}else h&&(y=String(h).match(ql))?(this.h=!1,Ni(this,y[1]||"",!0),this.o=Ri(y[2]||""),this.g=Ri(y[3]||"",!0),Aa(this,y[4]),this.l=Ri(y[5]||"",!0),br(this,y[6]||"",!0),this.m=Ri(y[7]||"")):(this.h=!1,this.i=new ls(null,this.h))}Ds.prototype.toString=function(){var h=[],y=this.j;y&&h.push(kn(y,Kl,!0),":");var v=this.g;return(v||y=="file")&&(h.push("//"),(y=this.o)&&h.push(kn(y,Kl,!0),"@"),h.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&h.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&h.push("/"),h.push(kn(v,v.charAt(0)=="/"?Fl:Oc,!0))),(v=this.i.toString())&&h.push("?",v),(v=this.m)&&h.push("#",kn(v,yd)),h.join("")};function ut(h){return new Ds(h)}function Ni(h,y,v){h.j=v?Ri(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function Aa(h,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);h.s=y}else h.s=null}function br(h,y,v){y instanceof ls?(h.i=y,Gl(h.i,h.h)):(v||(y=kn(y,_d)),h.i=new ls(y,h.h))}function qe(h,y,v){h.i.set(y,v)}function wa(h){return qe(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Ri(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function kn(h,y,v){return typeof h=="string"?(h=encodeURI(h).replace(y,pd),v&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function pd(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Kl=/[#\/\?@]/g,Oc=/[#\?:]/g,Fl=/[#\?]/g,_d=/[#\?@]/g,yd=/#/g;function ls(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function Cn(h){h.g||(h.g=new Map,h.h=0,h.i&&Tr(h.i,function(y,v){h.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}s=ls.prototype,s.add=function(h,y){Cn(this),this.i=null,h=Ls(this,h);var v=this.g.get(h);return v||this.g.set(h,v=[]),v.push(y),this.h+=1,this};function Ar(h,y){Cn(h),y=Ls(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function Os(h,y){return Cn(h),y=Ls(h,y),h.g.has(y)}s.forEach=function(h,y){Cn(this),this.g.forEach(function(v,b){v.forEach(function(G){h.call(y,G,b,this)},this)},this)},s.na=function(){Cn(this);const h=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let b=0;b<y.length;b++){const G=h[b];for(let W=0;W<G.length;W++)v.push(y[b])}return v},s.V=function(h){Cn(this);let y=[];if(typeof h=="string")Os(this,h)&&(y=y.concat(this.g.get(Ls(this,h))));else{h=Array.from(this.g.values());for(let v=0;v<h.length;v++)y=y.concat(h[v])}return y},s.set=function(h,y){return Cn(this),this.i=null,h=Ls(this,h),Os(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},s.get=function(h,y){return h?(h=this.V(h),0<h.length?String(h[0]):y):y};function Ms(h,y,v){Ar(h,y),0<v.length&&(h.i=null,h.g.set(Ls(h,y),K(v)),h.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var b=y[v];const W=encodeURIComponent(String(b)),le=this.V(b);for(b=0;b<le.length;b++){var G=W;le[b]!==""&&(G+="="+encodeURIComponent(String(le[b]))),h.push(G)}}return this.i=h.join("&")};function Ls(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function Gl(h,y){y&&!h.j&&(Cn(h),h.i=null,h.g.forEach(function(v,b){var G=b.toLowerCase();b!=G&&(Ar(this,b),Ms(this,G,v))},h)),h.j=y}function Mc(h,y){const v=new xi;if(g.Image){const b=new Image;b.onload=C(In,v,"TestLoadImage: loaded",!0,y,b),b.onerror=C(In,v,"TestLoadImage: error",!1,y,b),b.onabort=C(In,v,"TestLoadImage: abort",!1,y,b),b.ontimeout=C(In,v,"TestLoadImage: timeout",!1,y,b),g.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=h}else y(!1)}function Sa(h,y){const v=new xi,b=new AbortController,G=setTimeout(()=>{b.abort(),In(v,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:b.signal}).then(W=>{clearTimeout(G),W.ok?In(v,"TestPingServer: ok",!0,y):In(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(G),In(v,"TestPingServer: error",!1,y)})}function In(h,y,v,b,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),b(v)}catch{}}function Na(){this.g=new sn}function os(h,y,v){const b=v||"";try{ba(h,function(G,W){let le=G;_(G)&&(le=Ll(G)),y.push(b+W+"="+encodeURIComponent(le))})}catch(G){throw y.push(b+"type="+encodeURIComponent("_badmap")),G}}function ki(h){this.l=h.Ub||null,this.j=h.eb||!1}D(ki,Vl),ki.prototype.g=function(){return new Vs(this.l,this.j)},ki.prototype.i=function(h){return function(){return h}}({});function Vs(h,y){wt.call(this),this.D=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(Vs,wt),s=Vs.prototype,s.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=y,this.readyState=1,us(this)},s.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(y.body=h),(this.D||g).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,cs(this)),this.readyState=0},s.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,us(this)),this.g&&(this.readyState=3,us(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;$l(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function $l(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}s.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?cs(this):us(this),this.readyState==3&&$l(this)}},s.Ra=function(h){this.g&&(this.response=this.responseText=h,cs(this))},s.Qa=function(h){this.g&&(this.response=h,cs(this))},s.ga=function(){this.g&&cs(this)};function cs(h){h.readyState=4,h.l=null,h.j=null,h.v=null,us(h)}s.setRequestHeader=function(h,y){this.u.append(h,y)},s.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,h.push(v[0]+": "+v[1]),v=y.next();return h.join(`\r
`)};function us(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Vs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Ql(h){let y="";return ce(h,function(v,b){y+=b,y+=":",y+=v,y+=`\r
`}),y}function Lt(h,y,v){e:{for(b in v){var b=!1;break e}b=!0}b||(v=Ql(v),typeof h=="string"?v!=null&&encodeURIComponent(String(v)):qe(h,y,v))}function Ge(h){wt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(Ge,wt);var wr=/^https?$/i,Ra=["POST","PUT"];s=Ge.prototype,s.Ha=function(h){this.J=h},s.ea=function(h,y,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ea.g(),this.v=this.o?Nc(this.o):Nc(Ea),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(W){Lc(this,W);return}if(h=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var G in b)v.set(G,b[G]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const W of b.keys())v.set(W,b.get(W));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(W=>W.toLowerCase()=="content-type"),G=g.FormData&&h instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Ra,y,void 0))||b||G||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,le]of v)this.g.setRequestHeader(W,le);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ka(this),this.u=!0,this.g.send(h),this.u=!1}catch(W){Lc(this,W)}};function Lc(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.m=5,Sr(h),hs(h)}function Sr(h){h.A||(h.A=!0,Ot(h,"complete"),Ot(h,"error"))}s.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Ot(this,"complete"),Ot(this,"abort"),hs(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hs(this,!0)),Ge.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Nr(this):this.bb())},s.bb=function(){Nr(this)};function Nr(h){if(h.h&&typeof d<"u"&&(!h.v[1]||jn(h)!=4||h.Z()!=2)){if(h.u&&jn(h)==4)Sc(h.Ea,0,h);else if(Ot(h,"readystatechange"),jn(h)==4){h.h=!1;try{const le=h.Z();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var b;if(b=le===0){var G=String(h.D).match(ql)[1]||null;!G&&g.self&&g.self.location&&(G=g.self.location.protocol.slice(0,-1)),b=!wr.test(G?G.toLowerCase():"")}v=b}if(v)Ot(h,"complete"),Ot(h,"success");else{h.m=6;try{var W=2<jn(h)?h.g.statusText:""}catch{W=""}h.l=W+" ["+h.Z()+"]",Sr(h)}}finally{hs(h)}}}}function hs(h,y){if(h.g){ka(h);const v=h.g,b=h.v[0]?()=>{}:null;h.g=null,h.v=null,y||Ot(h,"ready");try{v.onreadystatechange=b}catch{}}}function ka(h){h.I&&(g.clearTimeout(h.I),h.I=null)}s.isActive=function(){return!!this.g};function jn(h){return h.g?h.g.readyState:0}s.Z=function(){try{return 2<jn(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),ss(y)}};function Vc(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function vd(h){const y={};h=(h.g&&2<=jn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<h.length;b++){if(B(h[b]))continue;var v=O(h[b]);const G=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const W=y[G]||[];y[G]=W,W.push(v)}M(y,function(b){return b.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ca(h,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[h]||y}function Rr(h){this.Aa=0,this.i=[],this.j=new xi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ca("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ca("baseRetryDelayMs",5e3,h),this.cb=Ca("retryDelaySeedMs",1e4,h),this.Wa=Ca("forwardChannelMaxRetries",2,h),this.wa=Ca("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Hl(h&&h.concurrentRequestLimit),this.Da=new Na,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=Rr.prototype,s.la=8,s.G=1,s.connect=function(h,y,v,b){pt(0),this.W=h,this.H=y||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.I=Kc(this,null,this.W),Cr(this)};function Yl(h){if(Pc(h),h.G==3){var y=h.U++,v=ut(h.I);if(qe(v,"SID",h.K),qe(v,"RID",y),qe(v,"TYPE","terminate"),Ia(h,v),y=new rs(h,h.j,y),y.L=2,y.v=wa(ut(v)),v=!1,g.navigator&&g.navigator.sendBeacon)try{v=g.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&g.Image&&(new Image().src=y.v,v=!0),v||(y.g=Fc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),at(y)}qc(h)}function kr(h){h.g&&(ja(h),h.g.cancel(),h.g=null)}function Pc(h){kr(h),h.u&&(g.clearTimeout(h.u),h.u=null),Ir(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&g.clearTimeout(h.s),h.s=null)}function Cr(h){if(!zl(h.h)&&!h.s){h.s=!0;var y=h.Ga;_e||j(),ge||(_e(),ge=!0),He.add(y,h),h.B=0}}function xd(h,y){return jc(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=y.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=vi(w(h.Ga,h,y),Zl(h,h.B)),h.B++,!0)}s.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const G=new rs(this,this.j,h);let W=this.o;if(this.S&&(W?(W=N(W),R(W,this.S)):W=this.S),this.m!==null||this.O||(G.H=W,W=null),this.P)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(y+=b,4096<y){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Uc(this,G,y),v=ut(this.I),qe(v,"RID",h),qe(v,"CVER",22),this.D&&qe(v,"X-HTTP-Session-Id",this.D),Ia(this,v),W&&(this.O?y="headers="+encodeURIComponent(String(Ql(W)))+"&"+y:this.m&&Lt(v,this.m,W)),Si(this.h,G),this.Ua&&qe(v,"TYPE","init"),this.P?(qe(v,"$req",y),qe(v,"SID","null"),G.T=!0,Fn(G,v,null)):Fn(G,v,y),this.G=2}}else this.G==3&&(h?Wl(this,h):this.i.length==0||zl(this.h)||Wl(this))};function Wl(h,y){var v;y?v=y.l:v=h.U++;const b=ut(h.I);qe(b,"SID",h.K),qe(b,"RID",v),qe(b,"AID",h.T),Ia(h,b),h.m&&h.o&&Lt(b,h.m,h.o),v=new rs(h,h.j,v,h.B+1),h.m===null&&(v.H=h.o),y&&(h.i=y.D.concat(h.i)),y=Uc(h,v,1e3),v.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Si(h.h,v),Fn(v,b,y)}function Ia(h,y){h.H&&ce(h.H,function(v,b){qe(y,b,v)}),h.l&&ba({},function(v,b){qe(y,b,v)})}function Uc(h,y,v){v=Math.min(h.i.length,v);var b=h.l?w(h.l.Na,h.l,h):null;e:{var G=h.i;let W=-1;for(;;){const le=["count="+v];W==-1?0<v?(W=G[0].g,le.push("ofs="+W)):W=0:le.push("ofs="+W);let Ve=!0;for(let Nt=0;Nt<v;Nt++){let Pe=G[Nt].g;const Vt=G[Nt].map;if(Pe-=W,0>Pe)W=Math.max(0,G[Nt].g-100),Ve=!1;else try{os(Vt,le,"req"+Pe+"_")}catch{b&&b(Vt)}}if(Ve){b=le.join("&");break e}}}return h=h.i.splice(0,v),y.D=h,b}function Bc(h){if(!h.g&&!h.u){h.Y=1;var y=h.Fa;_e||j(),ge||(_e(),ge=!0),He.add(y,h),h.v=0}}function Xl(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=vi(w(h.Fa,h),Zl(h,h.v)),h.v++,!0)}s.Fa=function(){if(this.u=null,Hc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=vi(w(this.ab,this),h)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,pt(10),kr(this),Hc(this))};function ja(h){h.A!=null&&(g.clearTimeout(h.A),h.A=null)}function Hc(h){h.g=new rs(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var y=ut(h.qa);qe(y,"RID","rpc"),qe(y,"SID",h.K),qe(y,"AID",h.T),qe(y,"CI",h.F?"0":"1"),!h.F&&h.ja&&qe(y,"TO",h.ja),qe(y,"TYPE","xmlhttp"),Ia(h,y),h.m&&h.o&&Lt(y,h.m,h.o),h.L&&(h.g.I=h.L);var v=h.g;h=h.ia,v.L=1,v.v=wa(ut(y)),v.m=null,v.P=!0,js(v,h)}s.Za=function(){this.C!=null&&(this.C=null,kr(this),Xl(this),pt(19))};function Ir(h){h.C!=null&&(g.clearTimeout(h.C),h.C=null)}function zc(h,y){var v=null;if(h.g==y){Ir(h),ja(h),h.g=null;var b=2}else if(wi(h.h,y))v=y.D,Rn(h.h,y),b=1;else return;if(h.G!=0){if(y.o)if(b==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var G=h.B;b=yr(),Ot(b,new kc(b,v)),Cr(h)}else Bc(h);else if(G=y.s,G==3||G==0&&0<y.X||!(b==1&&xd(h,y)||b==2&&Xl(h)))switch(v&&0<v.length&&(y=h.h,y.i=y.i.concat(v)),G){case 1:Ps(h,5);break;case 4:Ps(h,10);break;case 3:Ps(h,6);break;default:Ps(h,2)}}}function Zl(h,y){let v=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(v*=2),v*y}function Ps(h,y){if(h.j.info("Error code "+y),y==2){var v=w(h.fb,h),b=h.Xa;const G=!b;b=new Ds(b||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Ni(b,"https"),wa(b),G?Mc(b.toString(),v):Sa(b.toString(),v)}else pt(2);h.G=0,h.l&&h.l.sa(y),qc(h),Pc(h)}s.fb=function(h){h?(this.j.info("Successfully pinged google.com"),pt(2)):(this.j.info("Failed to ping google.com"),pt(1))};function qc(h){if(h.G=0,h.ka=[],h.l){const y=an(h.h);(y.length!=0||h.i.length!=0)&&(V(h.ka,y),V(h.ka,h.i),h.h.i.length=0,K(h.i),h.i.length=0),h.l.ra()}}function Kc(h,y,v){var b=v instanceof Ds?ut(v):new Ds(v);if(b.g!="")y&&(b.g=y+"."+b.g),Aa(b,b.s);else{var G=g.location;b=G.protocol,y=y?y+"."+G.hostname:G.hostname,G=+G.port;var W=new Ds(null);b&&Ni(W,b),y&&(W.g=y),G&&Aa(W,G),v&&(W.l=v),b=W}return v=h.D,y=h.ya,v&&y&&qe(b,v,y),qe(b,"VER",h.la),Ia(h,b),b}function Fc(h,y,v){if(y&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Ca&&!h.pa?new Ge(new ki({eb:v})):new Ge(h.pa),y.Ha(h.J),y}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Gc(){}s=Gc.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function jr(){}jr.prototype.g=function(h,y){return new rn(h,y)};function rn(h,y){wt.call(this),this.g=new Rr(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(h?h["X-WebChannel-Client-Profile"]=y.va:h={"X-WebChannel-Client-Profile":y.va}),this.g.S=h,(h=y&&y.Sb)&&!B(h)&&(this.g.m=h),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!B(y)&&(this.g.D=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new ds(this)}D(rn,wt),rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){Yl(this.g)},rn.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var v={};v.__data__=h,h=v}else this.u&&(v={},v.__data__=Ll(h),h=v);y.i.push(new md(y.Ya++,h)),y.G==3&&Cr(y)},rn.prototype.N=function(){this.g.l=null,delete this.j,Yl(this.g),delete this.g,rn.aa.N.call(this)};function $c(h){pi.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const v in y){h=v;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}D($c,pi);function Qc(){Kn.call(this),this.status=1}D(Qc,Kn);function ds(h){this.g=h}D(ds,Gc),ds.prototype.ua=function(){Ot(this.g,"a")},ds.prototype.ta=function(h){Ot(this.g,new $c(h))},ds.prototype.sa=function(h){Ot(this.g,new Qc)},ds.prototype.ra=function(){Ot(this.g,"b")},jr.prototype.createWebChannel=jr.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,G0=function(){return new jr},F0=function(){return yr()},K0=Nn,Um={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},St.NO_ERROR=0,St.TIMEOUT=8,St.HTTP_ERROR=6,ah=St,Is.COMPLETE="complete",q0=Is,Rc.EventType=is,is.OPEN="a",is.CLOSE="b",is.ERROR="c",is.MESSAGE="d",wt.prototype.listen=wt.prototype.K,Go=Rc,Ge.prototype.listenOnce=Ge.prototype.L,Ge.prototype.getLastError=Ge.prototype.Ka,Ge.prototype.getLastErrorCode=Ge.prototype.Ba,Ge.prototype.getStatus=Ge.prototype.Z,Ge.prototype.getResponseJson=Ge.prototype.Oa,Ge.prototype.getResponseText=Ge.prototype.oa,Ge.prototype.send=Ge.prototype.ea,Ge.prototype.setWithCredentials=Ge.prototype.Ha,z0=Ge}).apply(typeof $u<"u"?$u:typeof self<"u"?self:typeof window<"u"?window:{});const Fv="@firebase/firestore",Gv="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nl="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nr=new _g("@firebase/firestore");function al(){return nr.logLevel}function he(s,...e){if(nr.logLevel<=De.DEBUG){const n=e.map(xg);nr.debug(`Firestore (${Nl}): ${s}`,...n)}}function oi(s,...e){if(nr.logLevel<=De.ERROR){const n=e.map(xg);nr.error(`Firestore (${Nl}): ${s}`,...n)}}function gl(s,...e){if(nr.logLevel<=De.WARN){const n=e.map(xg);nr.warn(`Firestore (${Nl}): ${s}`,...n)}}function xg(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(s="Unexpected state"){const e=`FIRESTORE (${Nl}) INTERNAL ASSERTION FAILED: `+s;throw oi(e),new Error(e)}function $e(s,e){s||Te()}function Ne(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends Ns{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _R{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Jt.UNAUTHENTICATED))}shutdown(){}}class yR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class vR{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){$e(this.o===void 0);let a=this.i;const l=p=>this.i!==a?(a=this.i,n(p)):Promise.resolve();let c=new ai;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ai,e.enqueueRetryable(()=>l(this.currentUser))};const d=()=>{const p=c;e.enqueueRetryable(async()=>{await p.promise,await l(this.currentUser)})},g=p=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(p=>g(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ai)}},0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(a=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?($e(typeof a.accessToken=="string"),new $0(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string"),new Jt(e)}}class xR{constructor(e,n,a){this.l=e,this.h=n,this.P=a,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class ER{constructor(e,n,a){this.l=e,this.h=n,this.P=a}getToken(){return Promise.resolve(new xR(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class $v{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class TR{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,bn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){$e(this.o===void 0);const a=c=>{c.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.R;return this.R=c.token,he("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>a(c))};const l=c=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>l(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?l(c):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new $v(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?($e(typeof n.token=="string"),this.R=n.token,new $v(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bR(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<s;a++)n[a]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=bR(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<n&&(a+=e.charAt(l[c]%62))}return a}}function Le(s,e){return s<e?-1:s>e?1:0}function pl(s,e,n){return s.length===e.length&&s.every((a,l)=>n(a,e[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv=-62135596800,Yv=1e6;class jt{static now(){return jt.fromMillis(Date.now())}static fromDate(e){return jt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor((e-1e3*n)*Yv);return new jt(n,a)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Qv)throw new de(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Yv}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Qv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new jt(0,0))}static max(){return new be(new jt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv="__name__";class vs{constructor(e,n,a){n===void 0?n=0:n>e.length&&Te(),a===void 0?a=e.length-n:a>e.length-n&&Te(),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return vs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof vs?e.forEach(a=>{n.push(a)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let l=0;l<a;l++){const c=vs.compareSegments(e.get(l),n.get(l));if(c!==0)return c}return Math.sign(e.length-n.length)}static compareSegments(e,n){const a=vs.isNumericId(e),l=vs.isNumericId(n);return a&&!l?-1:!a&&l?1:a&&l?vs.extractNumericId(e).compare(vs.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return aa.fromString(e.substring(4,e.length-2))}}class et extends vs{construct(e,n,a){return new et(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new de(ne.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter(l=>l.length>0))}return new et(n)}static emptyPath(){return new et([])}}const AR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $t extends vs{construct(e,n,a){return new $t(e,n,a)}static isValidIdentifier(e){return AR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Wv}static keyField(){return new $t([Wv])}static fromServerFormat(e){const n=[];let a="",l=0;const c=()=>{if(a.length===0)throw new de(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let d=!1;for(;l<e.length;){const g=e[l];if(g==="\\"){if(l+1===e.length)throw new de(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new de(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=p,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(a+=g,l++):(c(),l++)}if(c(),d)throw new de(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $t(n)}static emptyPath(){return new $t([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(et.fromString(e))}static fromName(e){return new ve(et.fromString(e).popFirst(5))}static empty(){return new ve(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new et(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ic=-1;function wR(s,e){const n=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=be.fromTimestamp(a===1e9?new jt(n+1,0):new jt(n,a));return new ca(l,ve.empty(),e)}function SR(s){return new ca(s.readTime,s.key,ic)}class ca{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new ca(be.min(),ve.empty(),ic)}static max(){return new ca(be.max(),ve.empty(),ic)}}function NR(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=ve.comparator(s.documentKey,e.documentKey),n!==0?n:Le(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rl(s){if(s.code!==ne.FAILED_PRECONDITION||s.message!==RR)throw s;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new se((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(n,c).next(a,l)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof se?n:se.resolve(n)}catch(n){return se.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):se.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):se.reject(n)}static resolve(e){return new se((n,a)=>{n(e)})}static reject(e){return new se((n,a)=>{a(e)})}static waitFor(e){return new se((n,a)=>{let l=0,c=0,d=!1;e.forEach(g=>{++l,g.next(()=>{++c,d&&c===l&&n()},p=>a(p))}),d=!0,c===l&&n()})}static or(e){let n=se.resolve(!1);for(const a of e)n=n.next(l=>l?se.resolve(l):a());return n}static forEach(e,n){const a=[];return e.forEach((l,c)=>{a.push(n.call(this,l,c))}),this.waitFor(a)}static mapArray(e,n){return new se((a,l)=>{const c=e.length,d=new Array(c);let g=0;for(let p=0;p<c;p++){const _=p;n(e[_]).next(E=>{d[_]=E,++g,g===c&&a(d)},E=>l(E))}})}static doWhile(e,n){return new se((a,l)=>{const c=()=>{e()===!0?n().next(()=>{c()},l):a()};c()})}}function CR(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function kl(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this.oe(a),this._e=a=>n.writeSequenceNumber(a))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Uh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eg=-1;function Bh(s){return s==null}function vh(s){return s===0&&1/s==-1/0}function IR(s){return typeof s=="number"&&Number.isInteger(s)&&!vh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0="";function jR(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=Xv(e)),e=DR(s.get(n),e);return Xv(e)}function DR(s,e){let n=e;const a=s.length;for(let l=0;l<a;l++){const c=s.charAt(l);switch(c){case"\0":n+="";break;case Y0:n+="";break;default:n+=c}}return n}function Xv(s){return s+Y0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zv(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function pa(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function W0(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,n){this.comparator=e,this.root=n||Gt.EMPTY}insert(e,n){return new ot(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(e,a.key);if(l===0)return n+a.left.size;l<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,a)=>(e(n,a),!1))}toString(){const e=[];return this.inorderTraversal((n,a)=>(e.push(`${n}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Qu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Qu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Qu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Qu(this.root,e,this.comparator,!0)}}class Qu{constructor(e,n,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?a(e.key,n):1,n&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,n,a,l,c){this.key=e,this.value=n,this.color=a??Gt.RED,this.left=l??Gt.EMPTY,this.right=c??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,l,c){return new Gt(e??this.key,n??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let l=this;const c=a(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,n,a),null):c===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(e,l.key)===0){if(l.right.isEmpty())return Gt.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Te();const e=this.left.check();if(e!==this.right.check())throw Te();return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te()}get value(){throw Te()}get color(){throw Te()}get left(){throw Te()}get right(){throw Te()}copy(e,n,a,l,c){return this}insert(e,n,a){return new Gt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,a)=>(e(n),!1))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Jv(this.data.getIterator())}getIteratorFrom(e){return new Jv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(a=>{n=n.add(a)}),n}isEqual(e){if(!(e instanceof Dt)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Dt(this.comparator);return n.data=e,n}}class Jv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.fields=e,e.sort($t.comparator)}static empty(){return new An([])}unionWith(e){let n=new Dt($t.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new An(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return pl(this.fields,e.fields,(n,a)=>n.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new X0("Invalid base64 string: "+c):c}}(e);return new Qt(n)}static fromUint8Array(e){const n=function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c}(e);return new Qt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const a=new Uint8Array(n.length);for(let l=0;l<n.length;l++)a[l]=n.charCodeAt(l);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const OR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ua(s){if($e(!!s),typeof s=="string"){let e=0;const n=OR.exec(s);if($e(!!n),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:yt(s.seconds),nanos:yt(s.nanos)}}function yt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function ha(s){return typeof s=="string"?Qt.fromBase64String(s):Qt.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0="server_timestamp",J0="__type__",eE="__previous_value__",tE="__local_write_time__";function Tg(s){var e,n;return((n=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[J0])===null||n===void 0?void 0:n.stringValue)===Z0}function Hh(s){const e=s.mapValue.fields[eE];return Tg(e)?Hh(e):e}function ac(s){const e=ua(s.mapValue.fields[tE].timestampValue);return new jt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(e,n,a,l,c,d,g,p,_){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=_}}const xh="(default)";class rc{constructor(e,n){this.projectId=e,this.database=n||xh}static empty(){return new rc("","")}get isDefaultDatabase(){return this.database===xh}isEqual(e){return e instanceof rc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE="__type__",LR="__max__",Yu={mapValue:{}},sE="__vector__",Eh="value";function da(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Tg(s)?4:PR(s)?9007199254740991:VR(s)?10:11:Te()}function ws(s,e){if(s===e)return!0;const n=da(s);if(n!==da(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return ac(s).isEqual(ac(e));case 3:return function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=ua(l.timestampValue),g=ua(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(l,c){return ha(l.bytesValue).isEqual(ha(c.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(l,c){return yt(l.geoPointValue.latitude)===yt(c.geoPointValue.latitude)&&yt(l.geoPointValue.longitude)===yt(c.geoPointValue.longitude)}(s,e);case 2:return function(l,c){if("integerValue"in l&&"integerValue"in c)return yt(l.integerValue)===yt(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=yt(l.doubleValue),g=yt(c.doubleValue);return d===g?vh(d)===vh(g):isNaN(d)&&isNaN(g)}return!1}(s,e);case 9:return pl(s.arrayValue.values||[],e.arrayValue.values||[],ws);case 10:case 11:return function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(Zv(d)!==Zv(g))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(g[p]===void 0||!ws(d[p],g[p])))return!1;return!0}(s,e);default:return Te()}}function lc(s,e){return(s.values||[]).find(n=>ws(n,e))!==void 0}function _l(s,e){if(s===e)return 0;const n=da(s),a=da(e);if(n!==a)return Le(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return Le(s.booleanValue,e.booleanValue);case 2:return function(c,d){const g=yt(c.integerValue||c.doubleValue),p=yt(d.integerValue||d.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1}(s,e);case 3:return ex(s.timestampValue,e.timestampValue);case 4:return ex(ac(s),ac(e));case 5:return Le(s.stringValue,e.stringValue);case 6:return function(c,d){const g=ha(c),p=ha(d);return g.compareTo(p)}(s.bytesValue,e.bytesValue);case 7:return function(c,d){const g=c.split("/"),p=d.split("/");for(let _=0;_<g.length&&_<p.length;_++){const E=Le(g[_],p[_]);if(E!==0)return E}return Le(g.length,p.length)}(s.referenceValue,e.referenceValue);case 8:return function(c,d){const g=Le(yt(c.latitude),yt(d.latitude));return g!==0?g:Le(yt(c.longitude),yt(d.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return tx(s.arrayValue,e.arrayValue);case 10:return function(c,d){var g,p,_,E;const A=c.fields||{},w=d.fields||{},C=(g=A[Eh])===null||g===void 0?void 0:g.arrayValue,D=(p=w[Eh])===null||p===void 0?void 0:p.arrayValue,K=Le(((_=C==null?void 0:C.values)===null||_===void 0?void 0:_.length)||0,((E=D==null?void 0:D.values)===null||E===void 0?void 0:E.length)||0);return K!==0?K:tx(C,D)}(s.mapValue,e.mapValue);case 11:return function(c,d){if(c===Yu.mapValue&&d===Yu.mapValue)return 0;if(c===Yu.mapValue)return 1;if(d===Yu.mapValue)return-1;const g=c.fields||{},p=Object.keys(g),_=d.fields||{},E=Object.keys(_);p.sort(),E.sort();for(let A=0;A<p.length&&A<E.length;++A){const w=Le(p[A],E[A]);if(w!==0)return w;const C=_l(g[p[A]],_[E[A]]);if(C!==0)return C}return Le(p.length,E.length)}(s.mapValue,e.mapValue);default:throw Te()}}function ex(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Le(s,e);const n=ua(s),a=ua(e),l=Le(n.seconds,a.seconds);return l!==0?l:Le(n.nanos,a.nanos)}function tx(s,e){const n=s.values||[],a=e.values||[];for(let l=0;l<n.length&&l<a.length;++l){const c=_l(n[l],a[l]);if(c)return c}return Le(n.length,a.length)}function yl(s){return Bm(s)}function Bm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(n){const a=ua(n);return`time(${a.seconds},${a.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(n){return ha(n).toBase64()}(s.bytesValue):"referenceValue"in s?function(n){return ve.fromName(n).toString()}(s.referenceValue):"geoPointValue"in s?function(n){return`geo(${n.latitude},${n.longitude})`}(s.geoPointValue):"arrayValue"in s?function(n){let a="[",l=!0;for(const c of n.values||[])l?l=!1:a+=",",a+=Bm(c);return a+"]"}(s.arrayValue):"mapValue"in s?function(n){const a=Object.keys(n.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${Bm(n.fields[d])}`;return l+"}"}(s.mapValue):Te()}function rh(s){switch(da(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Hh(s);return e?16+rh(e):16;case 5:return 2*s.stringValue.length;case 6:return ha(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((l,c)=>l+rh(c),0)}(s.arrayValue);case 10:case 11:return function(a){let l=0;return pa(a.fields,(c,d)=>{l+=c.length+rh(d)}),l}(s.mapValue);default:throw Te()}}function nx(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Hm(s){return!!s&&"integerValue"in s}function bg(s){return!!s&&"arrayValue"in s}function sx(s){return!!s&&"nullValue"in s}function ix(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function lh(s){return!!s&&"mapValue"in s}function VR(s){var e,n;return((n=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[nE])===null||n===void 0?void 0:n.stringValue)===sE}function Wo(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return pa(s.mapValue.fields,(n,a)=>e.mapValue.fields[n]=Wo(a)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Wo(s.arrayValue.values[n]);return e}return Object.assign({},s)}function PR(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===LR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.value=e}static empty(){return new gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!lh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wo(n)}setAll(e){let n=$t.emptyPath(),a={},l=[];e.forEach((d,g)=>{if(!n.isImmediateParentOf(g)){const p=this.getFieldsMap(n);this.applyChanges(p,a,l),a={},l=[],n=g.popLast()}d?a[g.lastSegment()]=Wo(d):l.push(g.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,a,l)}delete(e){const n=this.field(e.popLast());lh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ws(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let l=n.mapValue.fields[e.get(a)];lh(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,a){pa(n,(l,c)=>e[l]=c);for(const l of a)delete e[l]}clone(){return new gn(Wo(this.value))}}function iE(s){const e=[];return pa(s.fields,(n,a)=>{const l=new $t([n]);if(lh(a)){const c=iE(a.mapValue).fields;if(c.length===0)e.push(l);else for(const d of c)e.push(l.child(d))}else e.push(l)}),new An(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,n,a,l,c,d,g){this.key=e,this.documentType=n,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(e){return new en(e,0,be.min(),be.min(),be.min(),gn.empty(),0)}static newFoundDocument(e,n,a,l){return new en(e,1,n,be.min(),a,l,0)}static newNoDocument(e,n){return new en(e,2,n,be.min(),be.min(),gn.empty(),0)}static newUnknownDocument(e,n){return new en(e,3,n,be.min(),be.min(),gn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,n){this.position=e,this.inclusive=n}}function ax(s,e,n){let a=0;for(let l=0;l<s.position.length;l++){const c=e[l],d=s.position[l];if(c.field.isKeyField()?a=ve.comparator(ve.fromName(d.referenceValue),n.key):a=_l(d,n.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function rx(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!ws(s.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e,n="asc"){this.field=e,this.dir=n}}function UR(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{}class At extends aE{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new HR(e,n,a):n==="array-contains"?new KR(e,a):n==="in"?new FR(e,a):n==="not-in"?new GR(e,a):n==="array-contains-any"?new $R(e,a):new At(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new zR(e,a):new qR(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(_l(n,this.value)):n!==null&&da(this.value)===da(n)&&this.matchesComparison(_l(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zn extends aE{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Zn(e,n)}matches(e){return rE(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function rE(s){return s.op==="and"}function lE(s){return BR(s)&&rE(s)}function BR(s){for(const e of s.filters)if(e instanceof Zn)return!1;return!0}function zm(s){if(s instanceof At)return s.field.canonicalString()+s.op.toString()+yl(s.value);if(lE(s))return s.filters.map(e=>zm(e)).join(",");{const e=s.filters.map(n=>zm(n)).join(",");return`${s.op}(${e})`}}function oE(s,e){return s instanceof At?function(a,l){return l instanceof At&&a.op===l.op&&a.field.isEqual(l.field)&&ws(a.value,l.value)}(s,e):s instanceof Zn?function(a,l){return l instanceof Zn&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce((c,d,g)=>c&&oE(d,l.filters[g]),!0):!1}(s,e):void Te()}function cE(s){return s instanceof At?function(n){return`${n.field.canonicalString()} ${n.op} ${yl(n.value)}`}(s):s instanceof Zn?function(n){return n.op.toString()+" {"+n.getFilters().map(cE).join(" ,")+"}"}(s):"Filter"}class HR extends At{constructor(e,n,a){super(e,n,a),this.key=ve.fromName(a.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class zR extends At{constructor(e,n){super(e,"in",n),this.keys=uE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class qR extends At{constructor(e,n){super(e,"not-in",n),this.keys=uE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function uE(s,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(a=>ve.fromName(a.referenceValue))}class KR extends At{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return bg(n)&&lc(n.arrayValue,this.value)}}class FR extends At{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&lc(this.value.arrayValue,n)}}class GR extends At{constructor(e,n){super(e,"not-in",n)}matches(e){if(lc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!lc(this.value.arrayValue,n)}}class $R extends At{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!bg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(a=>lc(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e,n=null,a=[],l=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.le=null}}function lx(s,e=null,n=[],a=[],l=null,c=null,d=null){return new QR(s,e,n,a,l,c,d)}function Ag(s){const e=Ne(s);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(a=>zm(a)).join(","),n+="|ob:",n+=e.orderBy.map(a=>function(c){return c.field.canonicalString()+c.dir}(a)).join(","),Bh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(a=>yl(a)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(a=>yl(a)).join(",")),e.le=n}return e.le}function wg(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!UR(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!oE(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!rx(s.startAt,e.startAt)&&rx(s.endAt,e.endAt)}function qm(s){return ve.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e,n=null,a=[],l=[],c=null,d="F",g=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function YR(s,e,n,a,l,c,d,g){return new Cl(s,e,n,a,l,c,d,g)}function Sg(s){return new Cl(s)}function ox(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function hE(s){return s.collectionGroup!==null}function Xo(s){const e=Ne(s);if(e.he===null){e.he=[];const n=new Set;for(const c of e.explicitOrderBy)e.he.push(c),n.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Dt($t.comparator);return d.filters.forEach(p=>{p.getFlattenedFilters().forEach(_=>{_.isInequality()&&(g=g.add(_.field))})}),g})(e).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||e.he.push(new oc(c,a))}),n.has($t.keyField().canonicalString())||e.he.push(new oc($t.keyField(),a))}return e.he}function Es(s){const e=Ne(s);return e.Pe||(e.Pe=WR(e,Xo(s))),e.Pe}function WR(s,e){if(s.limitType==="F")return lx(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(l=>{const c=l.dir==="desc"?"asc":"desc";return new oc(l.field,c)});const n=s.endAt?new Th(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new Th(s.startAt.position,s.startAt.inclusive):null;return lx(s.path,s.collectionGroup,e,s.filters,s.limit,n,a)}}function Km(s,e){const n=s.filters.concat([e]);return new Cl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function Fm(s,e,n){return new Cl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function zh(s,e){return wg(Es(s),Es(e))&&s.limitType===e.limitType}function dE(s){return`${Ag(Es(s))}|lt:${s.limitType}`}function rl(s){return`Query(target=${function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map(l=>cE(l)).join(", ")}]`),Bh(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map(l=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(l)).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map(l=>yl(l)).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map(l=>yl(l)).join(",")),`Target(${a})`}(Es(s))}; limitType=${s.limitType})`}function qh(s,e){return e.isFoundDocument()&&function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ve.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)}(s,e)&&function(a,l){for(const c of Xo(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0}(s,e)&&function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0}(s,e)&&function(a,l){return!(a.startAt&&!function(d,g,p){const _=ax(d,g,p);return d.inclusive?_<=0:_<0}(a.startAt,Xo(a),l)||a.endAt&&!function(d,g,p){const _=ax(d,g,p);return d.inclusive?_>=0:_>0}(a.endAt,Xo(a),l))}(s,e)}function XR(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function fE(s){return(e,n)=>{let a=!1;for(const l of Xo(s)){const c=ZR(l,e,n);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function ZR(s,e,n){const a=s.field.isKeyField()?ve.comparator(e.key,n.key):function(c,d,g){const p=d.data.field(c),_=g.data.field(c);return p!==null&&_!==null?_l(p,_):Te()}(s.field,e,n);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return Te()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),l=this.inner[a];if(l===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return a.length===1?delete this.inner[n]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(e){pa(this.inner,(n,a)=>{for(const[l,c]of a)e(l,c)})}isEmpty(){return W0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR=new ot(ve.comparator);function ci(){return JR}const mE=new ot(ve.comparator);function $o(...s){let e=mE;for(const n of s)e=e.insert(n.key,n);return e}function gE(s){let e=mE;return s.forEach((n,a)=>e=e.insert(n,a.overlayedDocument)),e}function Za(){return Zo()}function pE(){return Zo()}function Zo(){return new or(s=>s.toString(),(s,e)=>s.isEqual(e))}const ek=new ot(ve.comparator),tk=new Dt(ve.comparator);function Oe(...s){let e=tk;for(const n of s)e=e.add(n);return e}const nk=new Dt(Le);function sk(){return nk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ng(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vh(e)?"-0":e}}function _E(s){return{integerValue:""+s}}function ik(s,e){return IR(e)?_E(e):Ng(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(){this._=void 0}}function ak(s,e,n){return s instanceof bh?function(l,c){const d={fields:{[J0]:{stringValue:Z0},[tE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Tg(c)&&(c=Hh(c)),c&&(d.fields[eE]=c),{mapValue:d}}(n,e):s instanceof cc?vE(s,e):s instanceof uc?xE(s,e):function(l,c){const d=yE(l,c),g=cx(d)+cx(l.Ie);return Hm(d)&&Hm(l.Ie)?_E(g):Ng(l.serializer,g)}(s,e)}function rk(s,e,n){return s instanceof cc?vE(s,e):s instanceof uc?xE(s,e):n}function yE(s,e){return s instanceof Ah?function(a){return Hm(a)||function(c){return!!c&&"doubleValue"in c}(a)}(e)?e:{integerValue:0}:null}class bh extends Kh{}class cc extends Kh{constructor(e){super(),this.elements=e}}function vE(s,e){const n=EE(e);for(const a of s.elements)n.some(l=>ws(l,a))||n.push(a);return{arrayValue:{values:n}}}class uc extends Kh{constructor(e){super(),this.elements=e}}function xE(s,e){let n=EE(e);for(const a of s.elements)n=n.filter(l=>!ws(l,a));return{arrayValue:{values:n}}}class Ah extends Kh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function cx(s){return yt(s.integerValue||s.doubleValue)}function EE(s){return bg(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function lk(s,e){return s.field.isEqual(e.field)&&function(a,l){return a instanceof cc&&l instanceof cc||a instanceof uc&&l instanceof uc?pl(a.elements,l.elements,ws):a instanceof Ah&&l instanceof Ah?ws(a.Ie,l.Ie):a instanceof bh&&l instanceof bh}(s.transform,e.transform)}class ok{constructor(e,n){this.version=e,this.transformResults=n}}class qn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new qn}static exists(e){return new qn(void 0,e)}static updateTime(e){return new qn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function oh(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Fh{}function TE(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Rg(s.key,qn.none()):new pc(s.key,s.data,qn.none());{const n=s.data,a=gn.empty();let l=new Dt($t.comparator);for(let c of e.fields)if(!l.has(c)){let d=n.field(c);d===null&&c.length>1&&(c=c.popLast(),d=n.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new _a(s.key,a,new An(l.toArray()),qn.none())}}function ck(s,e,n){s instanceof pc?function(l,c,d){const g=l.value.clone(),p=hx(l.fieldTransforms,c,d.transformResults);g.setAll(p),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(s,e,n):s instanceof _a?function(l,c,d){if(!oh(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=hx(l.fieldTransforms,c,d.transformResults),p=c.data;p.setAll(bE(l)),p.setAll(g),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(s,e,n):function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,n)}function Jo(s,e,n,a){return s instanceof pc?function(c,d,g,p){if(!oh(c.precondition,d))return g;const _=c.value.clone(),E=dx(c.fieldTransforms,p,d);return _.setAll(E),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null}(s,e,n,a):s instanceof _a?function(c,d,g,p){if(!oh(c.precondition,d))return g;const _=dx(c.fieldTransforms,p,d),E=d.data;return E.setAll(bE(c)),E.setAll(_),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(A=>A.field))}(s,e,n,a):function(c,d,g){return oh(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(s,e,n)}function uk(s,e){let n=null;for(const a of s.fieldTransforms){const l=e.data.field(a.field),c=yE(a.transform,l||null);c!=null&&(n===null&&(n=gn.empty()),n.set(a.field,c))}return n||null}function ux(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&pl(a,l,(c,d)=>lk(c,d))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class pc extends Fh{constructor(e,n,a,l=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class _a extends Fh{constructor(e,n,a,l,c=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function bE(s){const e=new Map;return s.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const a=s.data.field(n);e.set(n,a)}}),e}function hx(s,e,n){const a=new Map;$e(s.length===n.length);for(let l=0;l<n.length;l++){const c=s[l],d=c.transform,g=e.data.field(c.field);a.set(c.field,rk(d,g,n[l]))}return a}function dx(s,e,n){const a=new Map;for(const l of s){const c=l.transform,d=n.data.field(l.field);a.set(l.field,ak(c,d,e))}return a}class Rg extends Fh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hk extends Fh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(e,n,a,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&ck(c,e,a[l])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=Jo(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=Jo(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=pE();return this.mutations.forEach(l=>{const c=e.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=n.has(l.key)?null:g;const p=TE(d,g);p!==null&&a.set(l.key,p),d.isValidDocument()||d.convertToNoDocument(be.min())}),a}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Oe())}isEqual(e){return this.batchId===e.batchId&&pl(this.mutations,e.mutations,(n,a)=>ux(n,a))&&pl(this.baseMutations,e.baseMutations,(n,a)=>ux(n,a))}}class kg{constructor(e,n,a,l){this.batch=e,this.commitVersion=n,this.mutationResults=a,this.docVersions=l}static from(e,n,a){$e(e.mutations.length===a.length);let l=function(){return ek}();const c=e.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new kg(e,n,a,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bt,Be;function gk(s){switch(s){case ne.OK:return Te();case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Te()}}function AE(s){if(s===void 0)return oi("GRPC error has no .code"),ne.UNKNOWN;switch(s){case bt.OK:return ne.OK;case bt.CANCELLED:return ne.CANCELLED;case bt.UNKNOWN:return ne.UNKNOWN;case bt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case bt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case bt.INTERNAL:return ne.INTERNAL;case bt.UNAVAILABLE:return ne.UNAVAILABLE;case bt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case bt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case bt.NOT_FOUND:return ne.NOT_FOUND;case bt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case bt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case bt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case bt.ABORTED:return ne.ABORTED;case bt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case bt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case bt.DATA_LOSS:return ne.DATA_LOSS;default:return Te()}}(Be=bt||(bt={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _k=new aa([4294967295,4294967295],0);function fx(s){const e=pk().encode(s),n=new H0;return n.update(e),new Uint8Array(n.digest())}function mx(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new aa([n,a],0),new aa([l,c],0)]}class Cg{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new Qo(`Invalid padding: ${n}`);if(a<0)throw new Qo(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Qo(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new Qo(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=aa.fromNumber(this.Ee)}Ae(e,n,a){let l=e.add(n.multiply(aa.fromNumber(a)));return l.compare(_k)===1&&(l=new aa([l.getBits(0),l.getBits(1)],0)),l.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=fx(e),[a,l]=mx(n);for(let c=0;c<this.hashCount;c++){const d=this.Ae(a,l,c);if(!this.Re(d))return!1}return!0}static create(e,n,a){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Cg(c,l,n);return a.forEach(g=>d.insert(g)),d}insert(e){if(this.Ee===0)return;const n=fx(e),[a,l]=mx(n);for(let c=0;c<this.hashCount;c++){const d=this.Ae(a,l,c);this.Ve(d)}}Ve(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class Qo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,n,a,l,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const l=new Map;return l.set(e,_c.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new Gh(be.min(),l,new ot(Le),ci(),Oe())}}class _c{constructor(e,n,a,l,c){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new _c(a,n,Oe(),Oe(),Oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(e,n,a,l){this.me=e,this.removedTargetIds=n,this.key=a,this.fe=l}}class wE{constructor(e,n){this.targetId=e,this.ge=n}}class SE{constructor(e,n,a=Qt.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=l}}class gx{constructor(){this.pe=0,this.ye=px(),this.we=Qt.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Oe(),n=Oe(),a=Oe();return this.ye.forEach((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:a=a.add(l);break;default:Te()}}),new _c(this.we,this.be,e,n,a)}Me(){this.Se=!1,this.ye=px()}xe(e,n){this.Se=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,$e(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class yk{constructor(e){this.ke=e,this.qe=new Map,this.Qe=ci(),this.$e=Wu(),this.Ke=Wu(),this.Ue=new ot(Le)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const a=this.He(n);switch(e.state){case 0:this.Je(n)&&a.Ce(e.resumeToken);break;case 1:a.Be(),a.De||a.Me(),a.Ce(e.resumeToken);break;case 2:a.Be(),a.De||this.removeTarget(n);break;case 3:this.Je(n)&&(a.Le(),a.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),a.Ce(e.resumeToken));break;default:Te()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((a,l)=>{this.Je(l)&&n(l)})}Ze(e){const n=e.targetId,a=e.ge.count,l=this.Xe(n);if(l){const c=l.target;if(qm(c))if(a===0){const d=new ve(c.path);this.ze(n,d,en.newNoDocument(d,be.min()))}else $e(a===1);else{const d=this.et(n);if(d!==a){const g=this.tt(e),p=g?this.nt(g,e,d):1;if(p!==0){this.Ye(n);const _=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,_)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=n;let d,g;try{d=ha(a).toUint8Array()}catch(p){if(p instanceof X0)return gl("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new Cg(d,l,c)}catch(p){return gl(p instanceof Qo?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.Ee===0?null:g}nt(e,n,a){return n.ge.count===a-this.st(e,n.targetId)?0:2}st(e,n){const a=this.ke.getRemoteKeysForTarget(n);let l=0;return a.forEach(c=>{const d=this.ke.it(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.ze(n,c,null),l++)}),l}ot(e){const n=new Map;this.qe.forEach((c,d)=>{const g=this.Xe(d);if(g){if(c.current&&qm(g.target)){const p=new ve(g.target.path);this._t(p).has(d)||this.ut(d,p)||this.ze(d,p,en.newNoDocument(p,e))}c.ve&&(n.set(d,c.Fe()),c.Me())}});let a=Oe();this.Ke.forEach((c,d)=>{let g=!0;d.forEachWhile(p=>{const _=this.Xe(p);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(a=a.add(c))}),this.Qe.forEach((c,d)=>d.setReadTime(e));const l=new Gh(e,n,this.Ue,this.Qe,a);return this.Qe=ci(),this.$e=Wu(),this.Ke=Wu(),this.Ue=new ot(Le),l}Ge(e,n){if(!this.Je(e))return;const a=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,a),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(e))}ze(e,n,a){if(!this.Je(e))return;const l=this.He(e);this.ut(e,n)?l.xe(n,1):l.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(e)),this.Ke=this.Ke.insert(n,this.ct(n).add(e)),a&&(this.Qe=this.Qe.insert(n,a))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new gx,this.qe.set(e,n)),n}ct(e){let n=this.Ke.get(e);return n||(n=new Dt(Le),this.Ke=this.Ke.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Dt(Le),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new gx),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Wu(){return new ot(ve.comparator)}function px(){return new ot(ve.comparator)}const vk={asc:"ASCENDING",desc:"DESCENDING"},xk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ek={and:"AND",or:"OR"};class Tk{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Gm(s,e){return s.useProto3Json||Bh(e)?e:{value:e}}function wh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function NE(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function bk(s,e){return wh(s,e.toTimestamp())}function Ts(s){return $e(!!s),be.fromTimestamp(function(n){const a=ua(n);return new jt(a.seconds,a.nanos)}(s))}function Ig(s,e){return $m(s,e).canonicalString()}function $m(s,e){const n=function(l){return new et(["projects",l.projectId,"databases",l.database])}(s).child("documents");return e===void 0?n:n.child(e)}function RE(s){const e=et.fromString(s);return $e(DE(e)),e}function Qm(s,e){return Ig(s.databaseId,e.path)}function Am(s,e){const n=RE(e);if(n.get(1)!==s.databaseId.projectId)throw new de(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new de(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new ve(CE(n))}function kE(s,e){return Ig(s.databaseId,e)}function Ak(s){const e=RE(s);return e.length===4?et.emptyPath():CE(e)}function Ym(s){return new et(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function CE(s){return $e(s.length>4&&s.get(4)==="documents"),s.popFirst(5)}function _x(s,e,n){return{name:Qm(s,e),fields:n.value.mapValue.fields}}function wk(s,e){let n;if("targetChange"in e){e.targetChange;const a=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Te()}(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=function(_,E){return _.useProto3Json?($e(E===void 0||typeof E=="string"),Qt.fromBase64String(E||"")):($e(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Qt.fromUint8Array(E||new Uint8Array))}(s,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(_){const E=_.code===void 0?ne.UNKNOWN:AE(_.code);return new de(E,_.message||"")}(d);n=new SE(a,l,c,g||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const l=Am(s,a.document.name),c=Ts(a.document.updateTime),d=a.document.createTime?Ts(a.document.createTime):be.min(),g=new gn({mapValue:{fields:a.document.fields}}),p=en.newFoundDocument(l,c,d,g),_=a.targetIds||[],E=a.removedTargetIds||[];n=new ch(_,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const l=Am(s,a.document),c=a.readTime?Ts(a.readTime):be.min(),d=en.newNoDocument(l,c),g=a.removedTargetIds||[];n=new ch([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const l=Am(s,a.document),c=a.removedTargetIds||[];n=new ch([],c,l,null)}else{if(!("filter"in e))return Te();{e.filter;const a=e.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new mk(l,c),g=a.targetId;n=new wE(g,d)}}return n}function Sk(s,e){let n;if(e instanceof pc)n={update:_x(s,e.key,e.value)};else if(e instanceof Rg)n={delete:Qm(s,e.key)};else if(e instanceof _a)n={update:_x(s,e.key,e.data),updateMask:Mk(e.fieldMask)};else{if(!(e instanceof hk))return Te();n={verify:Qm(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(a=>function(c,d){const g=d.transform;if(g instanceof bh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof cc)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof uc)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Ah)return{fieldPath:d.field.canonicalString(),increment:g.Ie};throw Te()}(0,a))),e.precondition.isNone||(n.currentDocument=function(l,c){return c.updateTime!==void 0?{updateTime:bk(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Te()}(s,e.precondition)),n}function Nk(s,e){return s&&s.length>0?($e(e!==void 0),s.map(n=>function(l,c){let d=l.updateTime?Ts(l.updateTime):Ts(c);return d.isEqual(be.min())&&(d=Ts(c)),new ok(d,l.transformResults||[])}(n,e))):[]}function Rk(s,e){return{documents:[kE(s,e.path)]}}function kk(s,e){const n={structuredQuery:{}},a=e.path;let l;e.collectionGroup!==null?(l=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=kE(s,l);const c=function(_){if(_.length!==0)return jE(Zn.create(_,"and"))}(e.filters);c&&(n.structuredQuery.where=c);const d=function(_){if(_.length!==0)return _.map(E=>function(w){return{field:ll(w.field),direction:jk(w.dir)}}(E))}(e.orderBy);d&&(n.structuredQuery.orderBy=d);const g=Gm(s,e.limit);return g!==null&&(n.structuredQuery.limit=g),e.startAt&&(n.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{ht:n,parent:l}}function Ck(s){let e=Ak(s.parent);const n=s.structuredQuery,a=n.from?n.from.length:0;let l=null;if(a>0){$e(a===1);const E=n.from[0];E.allDescendants?l=E.collectionId:e=e.child(E.collectionId)}let c=[];n.where&&(c=function(A){const w=IE(A);return w instanceof Zn&&lE(w)?w.getFilters():[w]}(n.where));let d=[];n.orderBy&&(d=function(A){return A.map(w=>function(D){return new oc(ol(D.field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction))}(w))}(n.orderBy));let g=null;n.limit&&(g=function(A){let w;return w=typeof A=="object"?A.value:A,Bh(w)?null:w}(n.limit));let p=null;n.startAt&&(p=function(A){const w=!!A.before,C=A.values||[];return new Th(C,w)}(n.startAt));let _=null;return n.endAt&&(_=function(A){const w=!A.before,C=A.values||[];return new Th(C,w)}(n.endAt)),YR(e,l,d,c,g,"F",p,_)}function Ik(s,e){const n=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function IE(s){return s.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=ol(n.unaryFilter.field);return At.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=ol(n.unaryFilter.field);return At.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ol(n.unaryFilter.field);return At.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ol(n.unaryFilter.field);return At.create(d,"!=",{nullValue:"NULL_VALUE"});default:return Te()}}(s):s.fieldFilter!==void 0?function(n){return At.create(ol(n.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Te()}}(n.fieldFilter.op),n.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(n){return Zn.create(n.compositeFilter.filters.map(a=>IE(a)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Te()}}(n.compositeFilter.op))}(s):Te()}function jk(s){return vk[s]}function Dk(s){return xk[s]}function Ok(s){return Ek[s]}function ll(s){return{fieldPath:s.canonicalString()}}function ol(s){return $t.fromServerFormat(s.fieldPath)}function jE(s){return s instanceof At?function(n){if(n.op==="=="){if(ix(n.value))return{unaryFilter:{field:ll(n.field),op:"IS_NAN"}};if(sx(n.value))return{unaryFilter:{field:ll(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ix(n.value))return{unaryFilter:{field:ll(n.field),op:"IS_NOT_NAN"}};if(sx(n.value))return{unaryFilter:{field:ll(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ll(n.field),op:Dk(n.op),value:n.value}}}(s):s instanceof Zn?function(n){const a=n.getFilters().map(l=>jE(l));return a.length===1?a[0]:{compositeFilter:{op:Ok(n.op),filters:a}}}(s):Te()}function Mk(s){const e=[];return s.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function DE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,n,a,l,c=be.min(),d=be.min(),g=Qt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(e){return new na(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new na(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new na(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new na(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(e){this.Tt=e}}function Vk(s){const e=Ck({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Fm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(){this.Tn=new Uk}addToCollectionParentIndex(e,n){return this.Tn.add(n),se.resolve()}getCollectionParents(e,n){return se.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return se.resolve()}deleteFieldIndex(e,n){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,n){return se.resolve()}getDocumentsMatchingTarget(e,n){return se.resolve(null)}getIndexType(e,n){return se.resolve(0)}getFieldIndexes(e,n){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,n){return se.resolve(ca.min())}getMinOffsetFromCollectionGroup(e,n){return se.resolve(ca.min())}updateCollectionGroup(e,n,a){return se.resolve()}updateIndexEntries(e,n){return se.resolve()}}class Uk{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),l=this.index[n]||new Dt(et.comparator),c=!l.has(a);return this.index[n]=l.add(a),c}has(e){const n=e.lastSegment(),a=e.popLast(),l=this.index[n];return l&&l.has(a)}getEntries(e){return(this.index[e]||new Dt(et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},OE=41943040;class mn{static withCacheSize(e){return new mn(e,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(OE,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new vl(0)}static Un(){return new vl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vx="LruGarbageCollector",Bk=1048576;function xx([s,e],[n,a]){const l=Le(s,n);return l===0?Le(e,a):l}class Hk{constructor(e){this.Hn=e,this.buffer=new Dt(xx),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();xx(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class zk{constructor(e,n,a){this.garbageCollector=e,this.asyncQueue=n,this.localStore=a,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){he(vx,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){kl(n)?he(vx,"Ignoring IndexedDB error during garbage collection: ",n):await Rl(n)}await this.er(3e5)})}}class qk{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(a=>Math.floor(n/100*a))}nthSequenceNumber(e,n){if(n===0)return se.resolve(Uh.ae);const a=new Hk(n);return this.tr.forEachTarget(e,l=>a.Zn(l.sequenceNumber)).next(()=>this.tr.rr(e,l=>a.Zn(l))).next(()=>a.maxValue)}removeTargets(e,n,a){return this.tr.removeTargets(e,n,a)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(yx)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),yx):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let a,l,c,d,g,p,_;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,d=Date.now(),this.nthSequenceNumber(e,l))).next(A=>(a=A,g=Date.now(),this.removeTargets(e,a,n))).next(A=>(c=A,p=Date.now(),this.removeOrphanedDocuments(e,a))).next(A=>(_=Date.now(),al()<=De.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(p-g)+`ms
	Removed ${A} documents in `+(_-p)+`ms
Total Duration: ${_-E}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:A})))}}function Kk(s,e){return new qk(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(){this.changes=new or(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?se.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(e,n,a,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=l}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next(l=>(a=l,this.remoteDocumentCache.getEntry(e,n))).next(l=>(a!==null&&Jo(a.mutation,l,An.empty(),jt.now()),l))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.getLocalViewOfDocuments(e,a,Oe()).next(()=>a))}getLocalViewOfDocuments(e,n,a=Oe()){const l=Za();return this.populateOverlays(e,l,n).next(()=>this.computeViews(e,n,l,a).next(c=>{let d=$o();return c.forEach((g,p)=>{d=d.insert(g,p.overlayedDocument)}),d}))}getOverlayedDocuments(e,n){const a=Za();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,Oe()))}populateOverlays(e,n,a){const l=[];return a.forEach(c=>{n.has(c)||l.push(c)}),this.documentOverlayCache.getOverlays(e,l).next(c=>{c.forEach((d,g)=>{n.set(d,g)})})}computeViews(e,n,a,l){let c=ci();const d=Zo(),g=function(){return Zo()}();return n.forEach((p,_)=>{const E=a.get(_.key);l.has(_.key)&&(E===void 0||E.mutation instanceof _a)?c=c.insert(_.key,_):E!==void 0?(d.set(_.key,E.mutation.getFieldMask()),Jo(E.mutation,_,E.mutation.getFieldMask(),jt.now())):d.set(_.key,An.empty())}),this.recalculateAndSaveOverlays(e,c).next(p=>(p.forEach((_,E)=>d.set(_,E)),n.forEach((_,E)=>{var A;return g.set(_,new Gk(E,(A=d.get(_))!==null&&A!==void 0?A:null))}),g))}recalculateAndSaveOverlays(e,n){const a=Zo();let l=new ot((d,g)=>d-g),c=Oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(d=>{for(const g of d)g.keys().forEach(p=>{const _=n.get(p);if(_===null)return;let E=a.get(p)||An.empty();E=g.applyToLocalView(_,E),a.set(p,E);const A=(l.get(g.batchId)||Oe()).add(p);l=l.insert(g.batchId,A)})}).next(()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),_=p.key,E=p.value,A=pE();E.forEach(w=>{if(!c.has(w)){const C=TE(n.get(w),a.get(w));C!==null&&A.set(w,C),c=c.add(w)}}),d.push(this.documentOverlayCache.saveOverlays(e,_,A))}return se.waitFor(d)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,n,a,l){return function(d){return ve.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):hE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,l):this.getDocumentsMatchingCollectionQuery(e,n,a,l)}getNextDocuments(e,n,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,l).next(c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,l-c.size):se.resolve(Za());let g=ic,p=c;return d.next(_=>se.forEach(_,(E,A)=>(g<A.largestBatchId&&(g=A.largestBatchId),c.get(E)?se.resolve():this.remoteDocumentCache.getEntry(e,E).next(w=>{p=p.insert(E,w)}))).next(()=>this.populateOverlays(e,_,c)).next(()=>this.computeViews(e,p,_,Oe())).next(E=>({batchId:g,changes:gE(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next(a=>{let l=$o();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l})}getDocumentsMatchingCollectionGroupQuery(e,n,a,l){const c=n.collectionGroup;let d=$o();return this.indexManager.getCollectionParents(e,c).next(g=>se.forEach(g,p=>{const _=function(A,w){return new Cl(w,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(n,p.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,a,l).next(E=>{E.forEach((A,w)=>{d=d.insert(A,w)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,n,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,c,l))).next(d=>{c.forEach((p,_)=>{const E=_.getKey();d.get(E)===null&&(d=d.insert(E,en.newInvalidDocument(E)))});let g=$o();return d.forEach((p,_)=>{const E=c.get(p);E!==void 0&&Jo(E.mutation,_,An.empty(),jt.now()),qh(n,_)&&(g=g.insert(p,_))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return se.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(l){return{id:l.id,version:l.version,createTime:Ts(l.createTime)}}(n)),se.resolve()}getNamedQuery(e,n){return se.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(l){return{name:l.name,query:Vk(l.bundledQuery),readTime:Ts(l.readTime)}}(n)),se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(){this.overlays=new ot(ve.comparator),this.Rr=new Map}getOverlay(e,n){return se.resolve(this.overlays.get(n))}getOverlays(e,n){const a=Za();return se.forEach(n,l=>this.getOverlay(e,l).next(c=>{c!==null&&a.set(l,c)})).next(()=>a)}saveOverlays(e,n,a){return a.forEach((l,c)=>{this.Et(e,n,c)}),se.resolve()}removeOverlaysForBatchId(e,n,a){const l=this.Rr.get(a);return l!==void 0&&(l.forEach(c=>this.overlays=this.overlays.remove(c)),this.Rr.delete(a)),se.resolve()}getOverlaysForCollection(e,n,a){const l=Za(),c=n.length+1,d=new ve(n.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const p=g.getNext().value,_=p.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===c&&p.largestBatchId>a&&l.set(p.getKey(),p)}return se.resolve(l)}getOverlaysForCollectionGroup(e,n,a,l){let c=new ot((_,E)=>_-E);const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>a){let E=c.get(_.largestBatchId);E===null&&(E=Za(),c=c.insert(_.largestBatchId,E)),E.set(_.getKey(),_)}}const g=Za(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((_,E)=>g.set(_,E)),!(g.size()>=l)););return se.resolve(g)}Et(e,n,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.Rr.get(l.largestBatchId).delete(a.key);this.Rr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new fk(n,a));let c=this.Rr.get(n);c===void 0&&(c=Oe(),this.Rr.set(n,c)),this.Rr.set(n,c.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(){this.sessionToken=Qt.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(){this.Vr=new Dt(Ht.mr),this.gr=new Dt(Ht.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const a=new Ht(e,n);this.Vr=this.Vr.add(a),this.gr=this.gr.add(a)}yr(e,n){e.forEach(a=>this.addReference(a,n))}removeReference(e,n){this.wr(new Ht(e,n))}br(e,n){e.forEach(a=>this.removeReference(a,n))}Sr(e){const n=new ve(new et([])),a=new Ht(n,e),l=new Ht(n,e+1),c=[];return this.gr.forEachInRange([a,l],d=>{this.wr(d),c.push(d.key)}),c}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new ve(new et([])),a=new Ht(n,e),l=new Ht(n,e+1);let c=Oe();return this.gr.forEachInRange([a,l],d=>{c=c.add(d.key)}),c}containsKey(e){const n=new Ht(e,0),a=this.Vr.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class Ht{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return ve.comparator(e.key,n.key)||Le(e.Cr,n.Cr)}static pr(e,n){return Le(e.Cr,n.Cr)||ve.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Dt(Ht.mr)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,l){const c=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new dk(c,n,a,l);this.mutationQueue.push(d);for(const g of l)this.Mr=this.Mr.add(new Ht(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return se.resolve(d)}lookupMutationBatch(e,n){return se.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,l=this.Nr(a),c=l<0?0:l;return se.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?Eg:this.Fr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new Ht(n,0),l=new Ht(n,Number.POSITIVE_INFINITY),c=[];return this.Mr.forEachInRange([a,l],d=>{const g=this.Or(d.Cr);c.push(g)}),se.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new Dt(Le);return n.forEach(l=>{const c=new Ht(l,0),d=new Ht(l,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([c,d],g=>{a=a.add(g.Cr)})}),se.resolve(this.Br(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,l=a.length+1;let c=a;ve.isDocumentKey(c)||(c=c.child(""));const d=new Ht(new ve(c),0);let g=new Dt(Le);return this.Mr.forEachWhile(p=>{const _=p.key.path;return!!a.isPrefixOf(_)&&(_.length===l&&(g=g.add(p.Cr)),!0)},d),se.resolve(this.Br(g))}Br(e){const n=[];return e.forEach(a=>{const l=this.Or(a);l!==null&&n.push(l)}),n}removeMutationBatch(e,n){$e(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let a=this.Mr;return se.forEach(n.mutations,l=>{const c=new Ht(l.key,n.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.Mr=a})}qn(e){}containsKey(e,n){const a=new Ht(n,0),l=this.Mr.firstAfterOrEqual(a);return se.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(e){this.kr=e,this.docs=function(){return new ot(ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,l=this.docs.get(a),c=l?l.size:0,d=this.kr(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return se.resolve(a?a.document.mutableCopy():en.newInvalidDocument(n))}getEntries(e,n){let a=ci();return n.forEach(l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():en.newInvalidDocument(l))}),se.resolve(a)}getDocumentsMatchingQuery(e,n,a,l){let c=ci();const d=n.path,g=new ve(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:_,value:{document:E}}=p.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||NR(SR(E),a)<=0||(l.has(E.key)||qh(n,E))&&(c=c.insert(E.key,E.mutableCopy()))}return se.resolve(c)}getAllFromCollectionGroup(e,n,a,l){Te()}qr(e,n){return se.forEach(this.docs,a=>n(a))}newChangeBuffer(e){return new Jk(this)}getSize(e){return se.resolve(this.size)}}class Jk extends Fk{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((a,l)=>{l.isValidDocument()?n.push(this.Ir.addEntry(e,l)):this.Ir.removeEntry(a)}),se.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e){this.persistence=e,this.Qr=new or(n=>Ag(n),wg),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.$r=0,this.Kr=new jg,this.targetCount=0,this.Ur=vl.Kn()}forEachTarget(e,n){return this.Qr.forEach((a,l)=>n(l)),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.$r&&(this.$r=n),se.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ur=new vl(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,se.resolve()}updateTargetData(e,n){return this.zn(n),se.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Kr.Sr(n.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,n,a){let l=0;const c=[];return this.Qr.forEach((d,g)=>{g.sequenceNumber<=n&&a.get(g.targetId)===null&&(this.Qr.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),l++)}),se.waitFor(c).next(()=>l)}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,n){const a=this.Qr.get(n)||null;return se.resolve(a)}addMatchingKeys(e,n,a){return this.Kr.yr(n,a),se.resolve()}removeMatchingKeys(e,n,a){this.Kr.br(n,a);const l=this.persistence.referenceDelegate,c=[];return l&&n.forEach(d=>{c.push(l.markPotentiallyOrphaned(e,d))}),se.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.Kr.Sr(n),se.resolve()}getMatchingKeysForTargetId(e,n){const a=this.Kr.vr(n);return se.resolve(a)}containsKey(e,n){return se.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Uh(0),this.zr=!1,this.zr=!0,this.jr=new Wk,this.referenceDelegate=e(this),this.Hr=new eC(this),this.indexManager=new Pk,this.remoteDocumentCache=function(l){return new Zk(l)}(a=>this.referenceDelegate.Jr(a)),this.serializer=new Lk(n),this.Yr=new Qk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Yk,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this.Wr[e.toKey()];return a||(a=new Xk(n,this.referenceDelegate),this.Wr[e.toKey()]=a),a}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,a){he("MemoryPersistence","Starting transaction:",e);const l=new tC(this.Gr.next());return this.referenceDelegate.Zr(),a(l).next(c=>this.referenceDelegate.Xr(l).next(()=>c)).toPromise().then(c=>(l.raiseOnCommittedEvent(),c))}ei(e,n){return se.or(Object.values(this.Wr).map(a=>()=>a.containsKey(e,n)))}}class tC extends kR{constructor(e){super(),this.currentSequenceNumber=e}}class Dg{constructor(e){this.persistence=e,this.ti=new jg,this.ni=null}static ri(e){return new Dg(e)}get ii(){if(this.ni)return this.ni;throw Te()}addReference(e,n,a){return this.ti.addReference(a,n),this.ii.delete(a.toString()),se.resolve()}removeReference(e,n,a){return this.ti.removeReference(a,n),this.ii.add(a.toString()),se.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),se.resolve()}removeTarget(e,n){this.ti.Sr(n.targetId).forEach(l=>this.ii.add(l.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next(l=>{l.forEach(c=>this.ii.add(c.toString()))}).next(()=>a.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.ii,a=>{const l=ve.fromPath(a);return this.si(e,l).next(c=>{c||n.removeEntry(l,be.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(a=>{a?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return se.or([()=>se.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class Sh{constructor(e,n){this.persistence=e,this.oi=new or(a=>jR(a.path),(a,l)=>a.isEqual(l)),this.garbageCollector=Kk(this,n)}static ri(e,n){return new Sh(e,n)}Zr(){}Xr(e){return se.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>n.next(l=>a+l))}sr(e){let n=0;return this.rr(e,a=>{n++}).next(()=>n)}rr(e,n){return se.forEach(this.oi,(a,l)=>this.ar(e,a,l).next(c=>c?se.resolve():n(l)))}removeTargets(e,n,a){return this.persistence.getTargetCache().removeTargets(e,n,a)}removeOrphanedDocuments(e,n){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.qr(e,d=>this.ar(e,d,n).next(g=>{g||(a++,c.removeEntry(d,be.min()))})).next(()=>c.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),se.resolve()}removeTarget(e,n){const a=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,n,a){return this.oi.set(a,e.currentSequenceNumber),se.resolve()}removeReference(e,n,a){return this.oi.set(a,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),se.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=rh(e.data.value)),n}ar(e,n,a){return se.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const l=this.oi.get(n);return se.resolve(l!==void 0&&l>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(e,n,a,l){this.targetId=e,this.fromCache=n,this.Hi=a,this.Ji=l}static Yi(e,n){let a=Oe(),l=Oe();for(const c of n.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Og(e,n.fromCache,a,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return XS()?8:CR(tn())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,a,l){const c={result:null};return this.rs(e,n).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.ss(e,n,l,a).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new nC;return this._s(e,n,d).next(g=>{if(c.result=g,this.Xi)return this.us(e,n,d,g.size)})}).next(()=>c.result)}us(e,n,a,l){return a.documentReadCount<this.es?(al()<=De.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",rl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),se.resolve()):(al()<=De.DEBUG&&he("QueryEngine","Query:",rl(n),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.ts*l?(al()<=De.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",rl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Es(n))):se.resolve())}rs(e,n){if(ox(n))return se.resolve(null);let a=Es(n);return this.indexManager.getIndexType(e,a).next(l=>l===0?null:(n.limit!==null&&l===1&&(n=Fm(n,null,"F"),a=Es(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next(c=>{const d=Oe(...c);return this.ns.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,a).next(p=>{const _=this.cs(n,g);return this.ls(n,_,d,p.readTime)?this.rs(e,Fm(n,null,"F")):this.hs(e,_,n,p)}))})))}ss(e,n,a,l){return ox(n)||l.isEqual(be.min())?se.resolve(null):this.ns.getDocuments(e,a).next(c=>{const d=this.cs(n,c);return this.ls(n,d,a,l)?se.resolve(null):(al()<=De.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),rl(n)),this.hs(e,d,n,wR(l,ic)).next(g=>g))})}cs(e,n){let a=new Dt(fE(e));return n.forEach((l,c)=>{qh(e,c)&&(a=a.add(c))}),a}ls(e,n,a,l){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}_s(e,n,a){return al()<=De.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",rl(n)),this.ns.getDocumentsMatchingQuery(e,n,ca.min(),a)}hs(e,n,a,l){return this.ns.getDocumentsMatchingQuery(e,a,l).next(c=>(n.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mg="LocalStore",iC=3e8;class aC{constructor(e,n,a,l){this.persistence=e,this.Ps=n,this.serializer=l,this.Ts=new ot(Le),this.Is=new or(c=>Ag(c),wg),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(a)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $k(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function rC(s,e,n,a){return new aC(s,e,n,a)}async function LE(s,e){const n=Ne(s);return await n.persistence.runTransaction("Handle user change","readonly",a=>{let l;return n.mutationQueue.getAllMutationBatches(a).next(c=>(l=c,n.As(e),n.mutationQueue.getAllMutationBatches(a))).next(c=>{const d=[],g=[];let p=Oe();for(const _ of l){d.push(_.batchId);for(const E of _.mutations)p=p.add(E.key)}for(const _ of c){g.push(_.batchId);for(const E of _.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(a,p).next(_=>({Rs:_,removedBatchIds:d,addedBatchIds:g}))})})}function lC(s,e){const n=Ne(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const l=e.batch.keys(),c=n.ds.newChangeBuffer({trackRemovals:!0});return function(g,p,_,E){const A=_.batch,w=A.keys();let C=se.resolve();return w.forEach(D=>{C=C.next(()=>E.getEntry(p,D)).next(K=>{const V=_.docVersions.get(D);$e(V!==null),K.version.compareTo(V)<0&&(A.applyToRemoteDocument(K,_),K.isValidDocument()&&(K.setReadTime(_.commitVersion),E.addEntry(K)))})}),C.next(()=>g.mutationQueue.removeMutationBatch(p,A))}(n,a,e,c).next(()=>c.apply(a)).next(()=>n.mutationQueue.performConsistencyCheck(a)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(a,l,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(g){let p=Oe();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(p=p.add(g.batch.mutations[_].key));return p}(e))).next(()=>n.localDocuments.getDocuments(a,l))})}function VE(s){const e=Ne(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function oC(s,e){const n=Ne(s),a=e.snapshotVersion;let l=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=n.ds.newChangeBuffer({trackRemovals:!0});l=n.Ts;const g=[];e.targetChanges.forEach((E,A)=>{const w=l.get(A);if(!w)return;g.push(n.Hr.removeMatchingKeys(c,E.removedDocuments,A).next(()=>n.Hr.addMatchingKeys(c,E.addedDocuments,A)));let C=w.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(A)!==null?C=C.withResumeToken(Qt.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):E.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(E.resumeToken,a)),l=l.insert(A,C),function(K,V,F){return K.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=iC?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(w,C,E)&&g.push(n.Hr.updateTargetData(c,C))});let p=ci(),_=Oe();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(c,E))}),g.push(cC(c,d,e.documentUpdates).next(E=>{p=E.Vs,_=E.fs})),!a.isEqual(be.min())){const E=n.Hr.getLastRemoteSnapshotVersion(c).next(A=>n.Hr.setTargetsMetadata(c,c.currentSequenceNumber,a));g.push(E)}return se.waitFor(g).next(()=>d.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,p,_)).next(()=>p)}).then(c=>(n.Ts=l,c))}function cC(s,e,n){let a=Oe(),l=Oe();return n.forEach(c=>a=a.add(c)),e.getEntries(s,a).next(c=>{let d=ci();return n.forEach((g,p)=>{const _=c.get(g);p.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(g)),p.isNoDocument()&&p.version.isEqual(be.min())?(e.removeEntry(g,p.readTime),d=d.insert(g,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||p.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(p),d=d.insert(g,p)):he(Mg,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",p.version)}),{Vs:d,fs:l}})}function uC(s,e){const n=Ne(s);return n.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=Eg),n.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function hC(s,e){const n=Ne(s);return n.persistence.runTransaction("Allocate target","readwrite",a=>{let l;return n.Hr.getTargetData(a,e).next(c=>c?(l=c,se.resolve(l)):n.Hr.allocateTargetId(a).next(d=>(l=new na(e,d,"TargetPurposeListen",a.currentSequenceNumber),n.Hr.addTargetData(a,l).next(()=>l))))}).then(a=>{const l=n.Ts.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(a.targetId,a),n.Is.set(e,a.targetId)),a})}async function Wm(s,e,n){const a=Ne(s),l=a.Ts.get(e),c=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",c,d=>a.persistence.referenceDelegate.removeTarget(d,l))}catch(d){if(!kl(d))throw d;he(Mg,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ts=a.Ts.remove(e),a.Is.delete(l.target)}function Ex(s,e,n){const a=Ne(s);let l=be.min(),c=Oe();return a.persistence.runTransaction("Execute query","readwrite",d=>function(p,_,E){const A=Ne(p),w=A.Is.get(E);return w!==void 0?se.resolve(A.Ts.get(w)):A.Hr.getTargetData(_,E)}(a,d,Es(e)).next(g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,a.Hr.getMatchingKeysForTargetId(d,g.targetId).next(p=>{c=p})}).next(()=>a.Ps.getDocumentsMatchingQuery(d,e,n?l:be.min(),n?c:Oe())).next(g=>(dC(a,XR(e),g),{documents:g,gs:c})))}function dC(s,e,n){let a=s.Es.get(e)||be.min();n.forEach((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)}),s.Es.set(e,a)}class Tx{constructor(){this.activeTargetIds=sk()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class fC{constructor(){this.ho=new Tx,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,a){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Tx,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx="ConnectivityMonitor";class Ax{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){he(bx,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){he(bx,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xu=null;function Xm(){return Xu===null?Xu=function(){return 268435456+Math.round(2147483648*Math.random())}():Xu++,"0x"+Xu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm="RestConnection",gC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class pC{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${a}/databases/${l}`,this.wo=this.databaseId.database===xh?`project_id=${a}`:`project_id=${a}&database_id=${l}`}bo(e,n,a,l,c){const d=Xm(),g=this.So(e,n.toUriEncodedString());he(wm,`Sending RPC '${e}' ${d}:`,g,a);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,l,c),this.vo(e,g,p,a).then(_=>(he(wm,`Received RPC '${e}' ${d}: `,_),_),_=>{throw gl(wm,`RPC '${e}' ${d} failed with error: `,_,"url: ",g,"request:",a),_})}Co(e,n,a,l,c,d){return this.bo(e,n,a,l,c)}Do(e,n,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Nl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((l,c)=>e[c]=l),a&&a.headers.forEach((l,c)=>e[c]=l)}So(e,n){const a=gC[e];return`${this.po}/v1/${n}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt="WebChannelConnection";class yC extends pC{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,a,l){const c=Xm();return new Promise((d,g)=>{const p=new z0;p.setWithCredentials(!0),p.listenOnce(q0.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case ah.NO_ERROR:const E=p.getResponseJson();he(Zt,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(E)),d(E);break;case ah.TIMEOUT:he(Zt,`RPC '${e}' ${c} timed out`),g(new de(ne.DEADLINE_EXCEEDED,"Request time out"));break;case ah.HTTP_ERROR:const A=p.getStatus();if(he(Zt,`RPC '${e}' ${c} failed with status:`,A,"response text:",p.getResponseText()),A>0){let w=p.getResponseJson();Array.isArray(w)&&(w=w[0]);const C=w==null?void 0:w.error;if(C&&C.status&&C.message){const D=function(V){const F=V.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(F)>=0?F:ne.UNKNOWN}(C.status);g(new de(D,C.message))}else g(new de(ne.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new de(ne.UNAVAILABLE,"Connection failed."));break;default:Te()}}finally{he(Zt,`RPC '${e}' ${c} completed.`)}});const _=JSON.stringify(l);he(Zt,`RPC '${e}' ${c} sending request:`,l),p.send(n,"POST",_,a,15)})}Wo(e,n,a){const l=Xm(),c=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=G0(),g=F0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,a),p.encodeInitMessageHeaders=!0;const E=c.join("");he(Zt,`Creating RPC '${e}' stream ${l}: ${E}`,p);const A=d.createWebChannel(E,p);let w=!1,C=!1;const D=new _C({Fo:V=>{C?he(Zt,`Not sending because RPC '${e}' stream ${l} is closed:`,V):(w||(he(Zt,`Opening RPC '${e}' stream ${l} transport.`),A.open(),w=!0),he(Zt,`RPC '${e}' stream ${l} sending:`,V),A.send(V))},Mo:()=>A.close()}),K=(V,F,B)=>{V.listen(F,Q=>{try{B(Q)}catch(ee){setTimeout(()=>{throw ee},0)}})};return K(A,Go.EventType.OPEN,()=>{C||(he(Zt,`RPC '${e}' stream ${l} transport opened.`),D.Qo())}),K(A,Go.EventType.CLOSE,()=>{C||(C=!0,he(Zt,`RPC '${e}' stream ${l} transport closed`),D.Ko())}),K(A,Go.EventType.ERROR,V=>{C||(C=!0,gl(Zt,`RPC '${e}' stream ${l} transport errored:`,V),D.Ko(new de(ne.UNAVAILABLE,"The operation could not be completed")))}),K(A,Go.EventType.MESSAGE,V=>{var F;if(!C){const B=V.data[0];$e(!!B);const Q=B,ee=(Q==null?void 0:Q.error)||((F=Q[0])===null||F===void 0?void 0:F.error);if(ee){he(Zt,`RPC '${e}' stream ${l} received error:`,ee);const J=ee.status;let ce=function(S){const R=bt[S];if(R!==void 0)return AE(R)}(J),M=ee.message;ce===void 0&&(ce=ne.INTERNAL,M="Unknown error status: "+J+" with message "+ee.message),C=!0,D.Ko(new de(ce,M)),A.close()}else he(Zt,`RPC '${e}' stream ${l} received:`,B),D.Uo(B)}}),K(g,K0.STAT_EVENT,V=>{V.stat===Um.PROXY?he(Zt,`RPC '${e}' stream ${l} detected buffering proxy`):V.stat===Um.NOPROXY&&he(Zt,`RPC '${e}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{D.$o()},0),D}}function Sm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $h(s){return new Tk(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(e,n,a=1e3,l=1.5,c=6e4){this.Ti=e,this.timerId=n,this.Go=a,this.zo=l,this.jo=c,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),a=Math.max(0,Date.now()-this.Yo),l=Math.max(0,n-a);l>0&&he("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,l,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wx="PersistentStream";class UE{constructor(e,n,a,l,c,d,g,p){this.Ti=e,this.n_=a,this.r_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new PE(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(oi(n.toString()),oi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,l])=>{this.i_===n&&this.V_(a,l)},a=>{e(()=>{const l=new de(ne.UNKNOWN,"Fetching auth token failed: "+a.message);return this.m_(l)})})}V_(e,n){const a=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{a(()=>this.listener.xo())}),this.stream.No(()=>{a(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(l=>{a(()=>this.m_(l))}),this.stream.onMessage(l=>{a(()=>++this.__==1?this.g_(l):this.onNext(l))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return he(wx,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(he(wx,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class vC extends UE{constructor(e,n,a,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,l,d),this.serializer=c}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=wk(this.serializer,e),a=function(c){if(!("targetChange"in c))return be.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?be.min():d.readTime?Ts(d.readTime):be.min()}(e);return this.listener.p_(n,a)}y_(e){const n={};n.database=Ym(this.serializer),n.addTarget=function(c,d){let g;const p=d.target;if(g=qm(p)?{documents:Rk(c,p)}:{query:kk(c,p).ht},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=NE(c,d.resumeToken);const _=Gm(c,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(be.min())>0){g.readTime=wh(c,d.snapshotVersion.toTimestamp());const _=Gm(c,d.expectedCount);_!==null&&(g.expectedCount=_)}return g}(this.serializer,e);const a=Ik(this.serializer,e);a&&(n.labels=a),this.I_(n)}w_(e){const n={};n.database=Ym(this.serializer),n.removeTarget=e,this.I_(n)}}class xC extends UE{constructor(e,n,a,l,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,l,d),this.serializer=c}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return $e(!!e.streamToken),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){$e(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=Nk(e.writeResults,e.commitTime),a=Ts(e.commitTime);return this.listener.v_(a,n)}C_(){const e={};e.database=Ym(this.serializer),this.I_(e)}S_(e){const n={streamToken:this.lastStreamToken,writes:e.map(a=>Sk(this.serializer,a))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{}class TC extends EC{constructor(e,n,a,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=l,this.F_=!1}M_(){if(this.F_)throw new de(ne.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,a,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.bo(e,$m(n,a),l,c,d)).catch(c=>{throw c.name==="FirebaseError"?(c.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new de(ne.UNKNOWN,c.toString())})}Co(e,n,a,l,c){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Co(e,$m(n,a),l,d,g,c)).catch(d=>{throw d.name==="FirebaseError"?(d.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new de(ne.UNKNOWN,d.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class bC{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(oi(n),this.N_=!1):he("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sr="RemoteStore";class AC{constructor(e,n,a,l,c){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=c,this.z_.To(d=>{a.enqueueAndForget(async()=>{cr(this)&&(he(sr,"Restarting streams for network reachability change."),await async function(p){const _=Ne(p);_.W_.add(4),await yc(_),_.j_.set("Unknown"),_.W_.delete(4),await Qh(_)}(this))})}),this.j_=new bC(a,l)}}async function Qh(s){if(cr(s))for(const e of s.G_)await e(!0)}async function yc(s){for(const e of s.G_)await e(!1)}function BE(s,e){const n=Ne(s);n.U_.has(e.targetId)||(n.U_.set(e.targetId,e),Ug(n)?Pg(n):Il(n).c_()&&Vg(n,e))}function Lg(s,e){const n=Ne(s),a=Il(n);n.U_.delete(e),a.c_()&&HE(n,e),n.U_.size===0&&(a.c_()?a.P_():cr(n)&&n.j_.set("Unknown"))}function Vg(s,e){if(s.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Il(s).y_(e)}function HE(s,e){s.H_.Ne(e),Il(s).w_(e)}function Pg(s){s.H_=new yk({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>s.U_.get(e)||null,it:()=>s.datastore.serializer.databaseId}),Il(s).start(),s.j_.B_()}function Ug(s){return cr(s)&&!Il(s).u_()&&s.U_.size>0}function cr(s){return Ne(s).W_.size===0}function zE(s){s.H_=void 0}async function wC(s){s.j_.set("Online")}async function SC(s){s.U_.forEach((e,n)=>{Vg(s,e)})}async function NC(s,e){zE(s),Ug(s)?(s.j_.q_(e),Pg(s)):s.j_.set("Unknown")}async function RC(s,e,n){if(s.j_.set("Online"),e instanceof SE&&e.state===2&&e.cause)try{await async function(l,c){const d=c.cause;for(const g of c.targetIds)l.U_.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.U_.delete(g),l.H_.removeTarget(g))}(s,e)}catch(a){he(sr,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await Nh(s,a)}else if(e instanceof ch?s.H_.We(e):e instanceof wE?s.H_.Ze(e):s.H_.je(e),!n.isEqual(be.min()))try{const a=await VE(s.localStore);n.compareTo(a)>=0&&await function(c,d){const g=c.H_.ot(d);return g.targetChanges.forEach((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const E=c.U_.get(_);E&&c.U_.set(_,E.withResumeToken(p.resumeToken,d))}}),g.targetMismatches.forEach((p,_)=>{const E=c.U_.get(p);if(!E)return;c.U_.set(p,E.withResumeToken(Qt.EMPTY_BYTE_STRING,E.snapshotVersion)),HE(c,p);const A=new na(E.target,p,_,E.sequenceNumber);Vg(c,A)}),c.remoteSyncer.applyRemoteEvent(g)}(s,n)}catch(a){he(sr,"Failed to raise snapshot:",a),await Nh(s,a)}}async function Nh(s,e,n){if(!kl(e))throw e;s.W_.add(1),await yc(s),s.j_.set("Offline"),n||(n=()=>VE(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{he(sr,"Retrying IndexedDB access"),await n(),s.W_.delete(1),await Qh(s)})}function qE(s,e){return e().catch(n=>Nh(s,n,e))}async function Yh(s){const e=Ne(s),n=fa(e);let a=e.K_.length>0?e.K_[e.K_.length-1].batchId:Eg;for(;kC(e);)try{const l=await uC(e.localStore,a);if(l===null){e.K_.length===0&&n.P_();break}a=l.batchId,CC(e,l)}catch(l){await Nh(e,l)}KE(e)&&FE(e)}function kC(s){return cr(s)&&s.K_.length<10}function CC(s,e){s.K_.push(e);const n=fa(s);n.c_()&&n.b_&&n.S_(e.mutations)}function KE(s){return cr(s)&&!fa(s).u_()&&s.K_.length>0}function FE(s){fa(s).start()}async function IC(s){fa(s).C_()}async function jC(s){const e=fa(s);for(const n of s.K_)e.S_(n.mutations)}async function DC(s,e,n){const a=s.K_.shift(),l=kg.from(a,e,n);await qE(s,()=>s.remoteSyncer.applySuccessfulWrite(l)),await Yh(s)}async function OC(s,e){e&&fa(s).b_&&await async function(a,l){if(function(d){return gk(d)&&d!==ne.ABORTED}(l.code)){const c=a.K_.shift();fa(a).h_(),await qE(a,()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l)),await Yh(a)}}(s,e),KE(s)&&FE(s)}async function Sx(s,e){const n=Ne(s);n.asyncQueue.verifyOperationInProgress(),he(sr,"RemoteStore received new credentials");const a=cr(n);n.W_.add(3),await yc(n),a&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Qh(n)}async function MC(s,e){const n=Ne(s);e?(n.W_.delete(2),await Qh(n)):e||(n.W_.add(2),await yc(n),n.j_.set("Unknown"))}function Il(s){return s.J_||(s.J_=function(n,a,l){const c=Ne(n);return c.M_(),new vC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(s.datastore,s.asyncQueue,{xo:wC.bind(null,s),No:SC.bind(null,s),Lo:NC.bind(null,s),p_:RC.bind(null,s)}),s.G_.push(async e=>{e?(s.J_.h_(),Ug(s)?Pg(s):s.j_.set("Unknown")):(await s.J_.stop(),zE(s))})),s.J_}function fa(s){return s.Y_||(s.Y_=function(n,a,l){const c=Ne(n);return c.M_(),new xC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(s.datastore,s.asyncQueue,{xo:()=>Promise.resolve(),No:IC.bind(null,s),Lo:OC.bind(null,s),D_:jC.bind(null,s),v_:DC.bind(null,s)}),s.G_.push(async e=>{e?(s.Y_.h_(),await Yh(s)):(await s.Y_.stop(),s.K_.length>0&&(he(sr,`Stopping write stream with ${s.K_.length} pending writes`),s.K_=[]))})),s.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(e,n,a,l,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new ai,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,l,c){const d=Date.now()+a,g=new Bg(e,n,d,l,c);return g.start(a),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hg(s,e){if(oi("AsyncQueue",`${e}: ${s}`),kl(s))return new de(ne.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{static emptySet(e){return new hl(e.comparator)}constructor(e){this.comparator=e?(n,a)=>e(n,a)||ve.comparator(n.key,a.key):(n,a)=>ve.comparator(n.key,a.key),this.keyedMap=$o(),this.sortedSet=new ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,a)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof hl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new hl;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(){this.Z_=new ot(ve.comparator)}track(e){const n=e.doc.key,a=this.Z_.get(n);a?e.type!==0&&a.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&a.type!==1?this.Z_=this.Z_.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.Z_=this.Z_.remove(n):e.type===1&&a.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Te():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,a)=>{e.push(a)}),e}}class xl{constructor(e,n,a,l,c,d,g,p,_){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(e,n,a,l,c){const d=[];return n.forEach(g=>{d.push({type:0,doc:g})}),new xl(e,n,hl.emptySet(n),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==a[l].type||!n[l].doc.isEqual(a[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class VC{constructor(){this.queries=Rx(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,a){const l=Ne(n),c=l.queries;l.queries=Rx(),c.forEach((d,g)=>{for(const p of g.ta)p.onError(a)})})(this,new de(ne.ABORTED,"Firestore shutting down"))}}function Rx(){return new or(s=>dE(s),zh)}async function GE(s,e){const n=Ne(s);let a=3;const l=e.query;let c=n.queries.get(l);c?!c.na()&&e.ra()&&(a=2):(c=new LC,a=e.ra()?0:1);try{switch(a){case 0:c.ea=await n.onListen(l,!0);break;case 1:c.ea=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(d){const g=Hg(d,`Initialization of query '${rl(e.query)}' failed`);return void e.onError(g)}n.queries.set(l,c),c.ta.push(e),e.sa(n.onlineState),c.ea&&e.oa(c.ea)&&zg(n)}async function $E(s,e){const n=Ne(s),a=e.query;let l=3;const c=n.queries.get(a);if(c){const d=c.ta.indexOf(e);d>=0&&(c.ta.splice(d,1),c.ta.length===0?l=e.ra()?0:1:!c.na()&&e.ra()&&(l=2))}switch(l){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function PC(s,e){const n=Ne(s);let a=!1;for(const l of e){const c=l.query,d=n.queries.get(c);if(d){for(const g of d.ta)g.oa(l)&&(a=!0);d.ea=l}}a&&zg(n)}function UC(s,e,n){const a=Ne(s),l=a.queries.get(e);if(l)for(const c of l.ta)c.onError(n);a.queries.delete(e)}function zg(s){s.ia.forEach(e=>{e.next()})}var Zm,kx;(kx=Zm||(Zm={}))._a="default",kx.Cache="cache";class QE{constructor(e,n,a){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=a||{}}oa(e){if(!this.options.includeMetadataChanges){const a=[];for(const l of e.docChanges)l.type!==3&&a.push(l);e=new xl(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const a=n!=="Offline";return(!this.options.Ta||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=xl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Zm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(e){this.key=e}}class WE{constructor(e){this.key=e}}class BC{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Oe(),this.mutatedKeys=Oe(),this.ya=fE(e),this.wa=new hl(this.ya)}get ba(){return this.fa}Sa(e,n){const a=n?n.Da:new Nx,l=n?n.wa:this.wa;let c=n?n.mutatedKeys:this.mutatedKeys,d=l,g=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((E,A)=>{const w=l.get(E),C=qh(this.query,A)?A:null,D=!!w&&this.mutatedKeys.has(w.key),K=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let V=!1;w&&C?w.data.isEqual(C.data)?D!==K&&(a.track({type:3,doc:C}),V=!0):this.va(w,C)||(a.track({type:2,doc:C}),V=!0,(p&&this.ya(C,p)>0||_&&this.ya(C,_)<0)&&(g=!0)):!w&&C?(a.track({type:0,doc:C}),V=!0):w&&!C&&(a.track({type:1,doc:w}),V=!0,(p||_)&&(g=!0)),V&&(C?(d=d.add(C),c=K?c.add(E):c.delete(E)):(d=d.delete(E),c=c.delete(E)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),c=c.delete(E.key),a.track({type:1,doc:E})}return{wa:d,Da:a,ls:g,mutatedKeys:c}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,l){const c=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const d=e.Da.X_();d.sort((E,A)=>function(C,D){const K=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te()}};return K(C)-K(D)}(E.type,A.type)||this.ya(E.doc,A.doc)),this.Ca(a),l=l!=null&&l;const g=n&&!l?this.Fa():[],p=this.pa.size===0&&this.current&&!l?1:0,_=p!==this.ga;return this.ga=p,d.length!==0||_?{snapshot:new xl(this.query,e.wa,c,d,e.mutatedKeys,p===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),Ma:g}:{Ma:g}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Nx,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Oe(),this.wa.forEach(a=>{this.xa(a.key)&&(this.pa=this.pa.add(a.key))});const n=[];return e.forEach(a=>{this.pa.has(a)||n.push(new WE(a))}),this.pa.forEach(a=>{e.has(a)||n.push(new YE(a))}),n}Oa(e){this.fa=e.gs,this.pa=Oe();const n=this.Sa(e.documents);return this.applyChanges(n,!0)}Na(){return xl.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const qg="SyncEngine";class HC{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class zC{constructor(e){this.key=e,this.Ba=!1}}class qC{constructor(e,n,a,l,c,d){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.La={},this.ka=new or(g=>dE(g),zh),this.qa=new Map,this.Qa=new Set,this.$a=new ot(ve.comparator),this.Ka=new Map,this.Ua=new jg,this.Wa={},this.Ga=new Map,this.za=vl.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function KC(s,e,n=!0){const a=nT(s);let l;const c=a.ka.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.Na()):l=await XE(a,e,n,!0),l}async function FC(s,e){const n=nT(s);await XE(n,e,!0,!1)}async function XE(s,e,n,a){const l=await hC(s.localStore,Es(e)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,n);let g;return a&&(g=await GC(s,e,c,d==="current",l.resumeToken)),s.isPrimaryClient&&n&&BE(s.remoteStore,l),g}async function GC(s,e,n,a,l){s.Ha=(A,w,C)=>async function(K,V,F,B){let Q=V.view.Sa(F);Q.ls&&(Q=await Ex(K.localStore,V.query,!1).then(({documents:M})=>V.view.Sa(M,Q)));const ee=B&&B.targetChanges.get(V.targetId),J=B&&B.targetMismatches.get(V.targetId)!=null,ce=V.view.applyChanges(Q,K.isPrimaryClient,ee,J);return Ix(K,V.targetId,ce.Ma),ce.snapshot}(s,A,w,C);const c=await Ex(s.localStore,e,!0),d=new BC(e,c.gs),g=d.Sa(c.documents),p=_c.createSynthesizedTargetChangeForCurrentChange(n,a&&s.onlineState!=="Offline",l),_=d.applyChanges(g,s.isPrimaryClient,p);Ix(s,n,_.Ma);const E=new HC(e,n,d);return s.ka.set(e,E),s.qa.has(n)?s.qa.get(n).push(e):s.qa.set(n,[e]),_.snapshot}async function $C(s,e,n){const a=Ne(s),l=a.ka.get(e),c=a.qa.get(l.targetId);if(c.length>1)return a.qa.set(l.targetId,c.filter(d=>!zh(d,e))),void a.ka.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await Wm(a.localStore,l.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(l.targetId),n&&Lg(a.remoteStore,l.targetId),Jm(a,l.targetId)}).catch(Rl)):(Jm(a,l.targetId),await Wm(a.localStore,l.targetId,!0))}async function QC(s,e){const n=Ne(s),a=n.ka.get(e),l=n.qa.get(a.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),Lg(n.remoteStore,a.targetId))}async function YC(s,e,n){const a=nI(s);try{const l=await function(d,g){const p=Ne(d),_=jt.now(),E=g.reduce((C,D)=>C.add(D.key),Oe());let A,w;return p.persistence.runTransaction("Locally write mutations","readwrite",C=>{let D=ci(),K=Oe();return p.ds.getEntries(C,E).next(V=>{D=V,D.forEach((F,B)=>{B.isValidDocument()||(K=K.add(F))})}).next(()=>p.localDocuments.getOverlayedDocuments(C,D)).next(V=>{A=V;const F=[];for(const B of g){const Q=uk(B,A.get(B.key).overlayedDocument);Q!=null&&F.push(new _a(B.key,Q,iE(Q.value.mapValue),qn.exists(!0)))}return p.mutationQueue.addMutationBatch(C,_,F,g)}).next(V=>{w=V;const F=V.applyToLocalDocumentSet(A,K);return p.documentOverlayCache.saveOverlays(C,V.batchId,F)})}).then(()=>({batchId:w.batchId,changes:gE(A)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(l.batchId),function(d,g,p){let _=d.Wa[d.currentUser.toKey()];_||(_=new ot(Le)),_=_.insert(g,p),d.Wa[d.currentUser.toKey()]=_}(a,l.batchId,n),await vc(a,l.changes),await Yh(a.remoteStore)}catch(l){const c=Hg(l,"Failed to persist write");n.reject(c)}}async function ZE(s,e){const n=Ne(s);try{const a=await oC(n.localStore,e);e.targetChanges.forEach((l,c)=>{const d=n.Ka.get(c);d&&($e(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?d.Ba=!0:l.modifiedDocuments.size>0?$e(d.Ba):l.removedDocuments.size>0&&($e(d.Ba),d.Ba=!1))}),await vc(n,a,e)}catch(a){await Rl(a)}}function Cx(s,e,n){const a=Ne(s);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const l=[];a.ka.forEach((c,d)=>{const g=d.view.sa(e);g.snapshot&&l.push(g.snapshot)}),function(d,g){const p=Ne(d);p.onlineState=g;let _=!1;p.queries.forEach((E,A)=>{for(const w of A.ta)w.sa(g)&&(_=!0)}),_&&zg(p)}(a.eventManager,e),l.length&&a.La.p_(l),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function WC(s,e,n){const a=Ne(s);a.sharedClientState.updateQueryState(e,"rejected",n);const l=a.Ka.get(e),c=l&&l.key;if(c){let d=new ot(ve.comparator);d=d.insert(c,en.newNoDocument(c,be.min()));const g=Oe().add(c),p=new Gh(be.min(),new Map,new ot(Le),d,g);await ZE(a,p),a.$a=a.$a.remove(c),a.Ka.delete(e),Kg(a)}else await Wm(a.localStore,e,!1).then(()=>Jm(a,e,n)).catch(Rl)}async function XC(s,e){const n=Ne(s),a=e.batch.batchId;try{const l=await lC(n.localStore,e);eT(n,a,null),JE(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await vc(n,l)}catch(l){await Rl(l)}}async function ZC(s,e,n){const a=Ne(s);try{const l=await function(d,g){const p=Ne(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let E;return p.mutationQueue.lookupMutationBatch(_,g).next(A=>($e(A!==null),E=A.keys(),p.mutationQueue.removeMutationBatch(_,A))).next(()=>p.mutationQueue.performConsistencyCheck(_)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(_,E,g)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,E)).next(()=>p.localDocuments.getDocuments(_,E))})}(a.localStore,e);eT(a,e,n),JE(a,e),a.sharedClientState.updateMutationState(e,"rejected",n),await vc(a,l)}catch(l){await Rl(l)}}function JE(s,e){(s.Ga.get(e)||[]).forEach(n=>{n.resolve()}),s.Ga.delete(e)}function eT(s,e,n){const a=Ne(s);let l=a.Wa[a.currentUser.toKey()];if(l){const c=l.get(e);c&&(n?c.reject(n):c.resolve(),l=l.remove(e)),a.Wa[a.currentUser.toKey()]=l}}function Jm(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.qa.get(e))s.ka.delete(a),n&&s.La.Ja(a,n);s.qa.delete(e),s.isPrimaryClient&&s.Ua.Sr(e).forEach(a=>{s.Ua.containsKey(a)||tT(s,a)})}function tT(s,e){s.Qa.delete(e.path.canonicalString());const n=s.$a.get(e);n!==null&&(Lg(s.remoteStore,n),s.$a=s.$a.remove(e),s.Ka.delete(n),Kg(s))}function Ix(s,e,n){for(const a of n)a instanceof YE?(s.Ua.addReference(a.key,e),JC(s,a)):a instanceof WE?(he(qg,"Document no longer in limbo: "+a.key),s.Ua.removeReference(a.key,e),s.Ua.containsKey(a.key)||tT(s,a.key)):Te()}function JC(s,e){const n=e.key,a=n.path.canonicalString();s.$a.get(n)||s.Qa.has(a)||(he(qg,"New document in limbo: "+n),s.Qa.add(a),Kg(s))}function Kg(s){for(;s.Qa.size>0&&s.$a.size<s.maxConcurrentLimboResolutions;){const e=s.Qa.values().next().value;s.Qa.delete(e);const n=new ve(et.fromString(e)),a=s.za.next();s.Ka.set(a,new zC(n)),s.$a=s.$a.insert(n,a),BE(s.remoteStore,new na(Es(Sg(n.path)),a,"TargetPurposeLimboResolution",Uh.ae))}}async function vc(s,e,n){const a=Ne(s),l=[],c=[],d=[];a.ka.isEmpty()||(a.ka.forEach((g,p)=>{d.push(a.Ha(p,e,n).then(_=>{var E;if((_||n)&&a.isPrimaryClient){const A=_?!_.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;a.sharedClientState.updateQueryState(p.targetId,A?"current":"not-current")}if(_){l.push(_);const A=Og.Yi(p.targetId,_);c.push(A)}}))}),await Promise.all(d),a.La.p_(l),await async function(p,_){const E=Ne(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>se.forEach(_,w=>se.forEach(w.Hi,C=>E.persistence.referenceDelegate.addReference(A,w.targetId,C)).next(()=>se.forEach(w.Ji,C=>E.persistence.referenceDelegate.removeReference(A,w.targetId,C)))))}catch(A){if(!kl(A))throw A;he(Mg,"Failed to update sequence numbers: "+A)}for(const A of _){const w=A.targetId;if(!A.fromCache){const C=E.Ts.get(w),D=C.snapshotVersion,K=C.withLastLimboFreeSnapshotVersion(D);E.Ts=E.Ts.insert(w,K)}}}(a.localStore,c))}async function eI(s,e){const n=Ne(s);if(!n.currentUser.isEqual(e)){he(qg,"User change. New user:",e.toKey());const a=await LE(n.localStore,e);n.currentUser=e,function(c,d){c.Ga.forEach(g=>{g.forEach(p=>{p.reject(new de(ne.CANCELLED,d))})}),c.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await vc(n,a.Rs)}}function tI(s,e){const n=Ne(s),a=n.Ka.get(e);if(a&&a.Ba)return Oe().add(a.key);{let l=Oe();const c=n.qa.get(e);if(!c)return l;for(const d of c){const g=n.ka.get(d);l=l.unionWith(g.view.ba)}return l}}function nT(s){const e=Ne(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=ZE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=tI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=WC.bind(null,e),e.La.p_=PC.bind(null,e.eventManager),e.La.Ja=UC.bind(null,e.eventManager),e}function nI(s){const e=Ne(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=XC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ZC.bind(null,e),e}class Rh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=$h(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return rC(this.persistence,new sC,e.initialUser,this.serializer)}Xa(e){return new ME(Dg.ri,this.serializer)}Za(e){return new fC}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Rh.provider={build:()=>new Rh};class sI extends Rh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){$e(this.persistence.referenceDelegate instanceof Sh);const a=this.persistence.referenceDelegate.garbageCollector;return new zk(a,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new ME(a=>Sh.ri(a,n),this.serializer)}}class eg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Cx(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=eI.bind(null,this.syncEngine),await MC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new VC}()}createDatastore(e){const n=$h(e.databaseInfo.databaseId),a=function(c){return new yC(c)}(e.databaseInfo);return function(c,d,g,p){return new TC(c,d,g,p)}(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return function(a,l,c,d,g){return new AC(a,l,c,d,g)}(this.localStore,this.datastore,e.asyncQueue,n=>Cx(this.syncEngine,n,0),function(){return Ax.D()?new Ax:new mC}())}createSyncEngine(e,n){return function(l,c,d,g,p,_,E){const A=new qC(l,c,d,g,p,_);return E&&(A.ja=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(l){const c=Ne(l);he(sr,"RemoteStore shutting down."),c.W_.add(5),await yc(c),c.z_.shutdown(),c.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}eg.provider={build:()=>new eg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):oi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma="FirestoreClient";class iI{constructor(e,n,a,l,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=l,this.user=Jt.UNAUTHENTICATED,this.clientId=Q0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,async d=>{he(ma,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(a,d=>(he(ma,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ai;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=Hg(n,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function Nm(s,e){s.asyncQueue.verifyOperationInProgress(),he(ma,"Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let a=n.initialUser;s.setCredentialChangeListener(async l=>{a.isEqual(l)||(await LE(e.localStore,l),a=l)}),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}async function jx(s,e){s.asyncQueue.verifyOperationInProgress();const n=await aI(s);he(ma,"Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener(a=>Sx(e.remoteStore,a)),s.setAppCheckTokenChangeListener((a,l)=>Sx(e.remoteStore,l)),s._onlineComponents=e}async function aI(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){he(ma,"Using user provided OfflineComponentProvider");try{await Nm(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(l){return l.name==="FirebaseError"?l.code===ne.FAILED_PRECONDITION||l.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(n))throw n;gl("Error using user provided cache. Falling back to memory cache: "+n),await Nm(s,new Rh)}}else he(ma,"Using default OfflineComponentProvider"),await Nm(s,new sI(void 0));return s._offlineComponents}async function iT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(he(ma,"Using user provided OnlineComponentProvider"),await jx(s,s._uninitializedComponentsProvider._online)):(he(ma,"Using default OnlineComponentProvider"),await jx(s,new eg))),s._onlineComponents}function rI(s){return iT(s).then(e=>e.syncEngine)}async function aT(s){const e=await iT(s),n=e.eventManager;return n.onListen=KC.bind(null,e.syncEngine),n.onUnlisten=$C.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=FC.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=QC.bind(null,e.syncEngine),n}function lI(s,e,n={}){const a=new ai;return s.asyncQueue.enqueueAndForget(async()=>function(c,d,g,p,_){const E=new sT({next:w=>{E.su(),d.enqueueAndForget(()=>$E(c,A));const C=w.docs.has(g);!C&&w.fromCache?_.reject(new de(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&w.fromCache&&p&&p.source==="server"?_.reject(new de(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(w)},error:w=>_.reject(w)}),A=new QE(Sg(g.path),E,{includeMetadataChanges:!0,Ta:!0});return GE(c,A)}(await aT(s),s.asyncQueue,e,n,a)),a.promise}function oI(s,e,n={}){const a=new ai;return s.asyncQueue.enqueueAndForget(async()=>function(c,d,g,p,_){const E=new sT({next:w=>{E.su(),d.enqueueAndForget(()=>$E(c,A)),w.fromCache&&p.source==="server"?_.reject(new de(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(w)},error:w=>_.reject(w)}),A=new QE(g,E,{includeMetadataChanges:!0,Ta:!0});return GE(c,A)}(await aT(s),s.asyncQueue,e,n,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lT(s,e,n){if(!n)throw new de(ne.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function cI(s,e,n,a){if(e===!0&&a===!0)throw new de(ne.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function Ox(s){if(!ve.isDocumentKey(s))throw new de(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Mx(s){if(ve.isDocumentKey(s))throw new de(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function Wh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Te()}function Jn(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new de(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Wh(s);throw new de(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT="firestore.googleapis.com",Lx=!0;class Vx{constructor(e){var n,a;if(e.host===void 0){if(e.ssl!==void 0)throw new de(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=oT,this.ssl=Lx}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Lx;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=OE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Bk)throw new de(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}cI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rT((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new de(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new de(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new de(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,l){return a.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xh{constructor(e,n,a,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Vx({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Vx(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new _R;switch(a.type){case"firstParty":return new ER(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new de(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const a=Dx.get(n);a&&(he("ComponentProvider","Removing Datastore"),Dx.delete(n),a.terminate())}(this),Promise.resolve()}}function uI(s,e,n,a={}){var l;const c=(s=Jn(s,Xh))._getSettings(),d=Object.assign(Object.assign({},c),{emulatorOptions:s._getEmulatorOptions()}),g=`${e}:${n}`;c.host!==oT&&c.host!==g&&gl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},c),{host:g,ssl:!1,emulatorOptions:a});if(!er(p,d)&&(s._setSettings(p),a.mockUserToken)){let _,E;if(typeof a.mockUserToken=="string")_=a.mockUserToken,E=Jt.MOCK_USER;else{_=M0(a.mockUserToken,(l=s._app)===null||l===void 0?void 0:l.options.projectId);const A=a.mockUserToken.sub||a.mockUserToken.user_id;if(!A)throw new de(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Jt(A)}s._authCredentials=new yR(new $0(_,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new ur(this.firestore,e,this._query)}}class un{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ra(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new un(this.firestore,e,this._key)}}class ra extends ur{constructor(e,n,a){super(e,n,Sg(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new un(this.firestore,null,new ve(e))}withConverter(e){return new ra(this.firestore,e,this._path)}}function cT(s,e,...n){if(s=tt(s),lT("collection","path",e),s instanceof Xh){const a=et.fromString(e,...n);return Mx(a),new ra(s,null,a)}{if(!(s instanceof un||s instanceof ra))throw new de(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(et.fromString(e,...n));return Mx(a),new ra(s.firestore,null,a)}}function ui(s,e,...n){if(s=tt(s),arguments.length===1&&(e=Q0.newId()),lT("doc","path",e),s instanceof Xh){const a=et.fromString(e,...n);return Ox(a),new un(s,null,new ve(a))}{if(!(s instanceof un||s instanceof ra))throw new de(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(et.fromString(e,...n));return Ox(a),new un(s.firestore,s instanceof ra?s.converter:null,new ve(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px="AsyncQueue";class Ux{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new PE(this,"async_queue_retry"),this.bu=()=>{const a=Sm();a&&he(Px,"Visibility state changed to "+a.visibilityState),this.a_.t_()},this.Su=e;const n=Sm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=Sm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new ai;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!kl(e))throw e;he(Px,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.Su.then(()=>(this.pu=!0,e().catch(a=>{this.gu=a,this.pu=!1;const l=function(d){let g=d.message||"";return d.stack&&(g=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),g}(a);throw oi("INTERNAL UNHANDLED ERROR: ",l),a}).then(a=>(this.pu=!1,a))));return this.Su=n,n}enqueueAfterDelay(e,n,a){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const l=Bg.createAndSchedule(this,e,n,a,c=>this.Fu(c));return this.fu.push(l),l}Du(){this.gu&&Te()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,a)=>n.targetTimeMs-a.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class hr extends Xh{constructor(e,n,a,l){super(e,n,a,l),this.type="firestore",this._queue=new Ux,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ux(e),this._firestoreClient=void 0,await e}}}function hI(s,e){const n=typeof s=="object"?s:vg(),a=typeof s=="string"?s:xh,l=Ph(n,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=j0("firestore");c&&uI(l,...c)}return l}function Fg(s){if(s._terminated)throw new de(ne.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||dI(s),s._firestoreClient}function dI(s){var e,n,a;const l=s._freezeSettings(),c=function(g,p,_,E){return new MR(g,p,_,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,rT(E.experimentalLongPollingOptions),E.useFetchStreams)}(s._databaseId,((e=s._app)===null||e===void 0?void 0:e.options.appId)||"",s._persistenceKey,l);s._componentsProvider||!((n=l.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((a=l.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(s._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),s._firestoreClient=new iI(s._authCredentials,s._appCheckCredentials,s._queue,c,s._componentsProvider&&function(g){const p=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(p),_online:p}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e){this._byteString=e}static fromBase64String(e){try{return new El(Qt.fromBase64String(e))}catch(n){throw new de(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new El(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI=/^__.*__$/;class mI{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return this.fieldMask!==null?new _a(e,this.data,this.fieldMask,n,this.fieldTransforms):new pc(e,this.data,n,this.fieldTransforms)}}class uT{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return new _a(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function hT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te()}}class Yg{constructor(e,n,a,l,c,d){this.settings=e,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Bu(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Yg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(e),l=this.ku({path:a,Qu:!1});return l.$u(e),l}Ku(e){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(e),l=this.ku({path:a,Qu:!1});return l.Bu(),l}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return kh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(hT(this.Lu)&&fI.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class gI{constructor(e,n,a){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=a||$h(e)}ju(e,n,a,l=!1){return new Yg({Lu:e,methodName:n,zu:a,path:$t.emptyPath(),Qu:!1,Gu:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Jh(s){const e=s._freezeSettings(),n=$h(s._databaseId);return new gI(s._databaseId,!!e.ignoreUndefinedProperties,n)}function dT(s,e,n,a,l,c={}){const d=s.ju(c.merge||c.mergeFields?2:0,e,n,l);Wg("Data must be an object, but it was:",d,a);const g=fT(a,d);let p,_;if(c.merge)p=new An(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const A of c.mergeFields){const w=tg(e,A,n);if(!d.contains(w))throw new de(ne.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);gT(E,w)||E.push(w)}p=new An(E),_=d.fieldTransforms.filter(A=>p.covers(A.field))}else p=null,_=d.fieldTransforms;return new mI(new gn(g),p,_)}class ed extends Gg{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ed}}function pI(s,e,n,a){const l=s.ju(1,e,n);Wg("Data must be an object, but it was:",l,a);const c=[],d=gn.empty();pa(a,(p,_)=>{const E=Xg(e,p,n);_=tt(_);const A=l.Ku(E);if(_ instanceof ed)c.push(E);else{const w=xc(_,A);w!=null&&(c.push(E),d.set(E,w))}});const g=new An(c);return new uT(d,g,l.fieldTransforms)}function _I(s,e,n,a,l,c){const d=s.ju(1,e,n),g=[tg(e,a,n)],p=[l];if(c.length%2!=0)throw new de(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<c.length;w+=2)g.push(tg(e,c[w])),p.push(c[w+1]);const _=[],E=gn.empty();for(let w=g.length-1;w>=0;--w)if(!gT(_,g[w])){const C=g[w];let D=p[w];D=tt(D);const K=d.Ku(C);if(D instanceof ed)_.push(C);else{const V=xc(D,K);V!=null&&(_.push(C),E.set(C,V))}}const A=new An(_);return new uT(E,A,d.fieldTransforms)}function yI(s,e,n,a=!1){return xc(n,s.ju(a?4:3,e))}function xc(s,e){if(mT(s=tt(s)))return Wg("Unsupported field value:",e,s),fT(s,e);if(s instanceof Gg)return function(a,l){if(!hT(l.Lu))throw l.Wu(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Wu(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)}(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(a,l){const c=[];let d=0;for(const g of a){let p=xc(g,l.Uu(d));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),d++}return{arrayValue:{values:c}}}(s,e)}return function(a,l){if((a=tt(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return ik(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=jt.fromDate(a);return{timestampValue:wh(l.serializer,c)}}if(a instanceof jt){const c=new jt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:wh(l.serializer,c)}}if(a instanceof $g)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof El)return{bytesValue:NE(l.serializer,a._byteString)};if(a instanceof un){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Wu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Ig(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Qg)return function(d,g){return{mapValue:{fields:{[nE]:{stringValue:sE},[Eh]:{arrayValue:{values:d.toArray().map(_=>{if(typeof _!="number")throw g.Wu("VectorValues must only contain numeric values.");return Ng(g.serializer,_)})}}}}}}(a,l);throw l.Wu(`Unsupported field value: ${Wh(a)}`)}(s,e)}function fT(s,e){const n={};return W0(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):pa(s,(a,l)=>{const c=xc(l,e.qu(a));c!=null&&(n[a]=c)}),{mapValue:{fields:n}}}function mT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof jt||s instanceof $g||s instanceof El||s instanceof un||s instanceof Gg||s instanceof Qg)}function Wg(s,e,n){if(!mT(n)||!function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}(n)){const a=Wh(n);throw a==="an object"?e.Wu(s+" a custom object"):e.Wu(s+" "+a)}}function tg(s,e,n){if((e=tt(e))instanceof Zh)return e._internalPath;if(typeof e=="string")return Xg(s,e);throw kh("Field path arguments must be of type string or ",s,!1,void 0,n)}const vI=new RegExp("[~\\*/\\[\\]]");function Xg(s,e,n){if(e.search(vI)>=0)throw kh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new Zh(...e.split("."))._internalPath}catch{throw kh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function kh(s,e,n,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let g=`Function ${e}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(c||d)&&(p+=" (found",c&&(p+=` in field ${a}`),d&&(p+=` in document ${l}`),p+=")"),new de(ne.INVALID_ARGUMENT,g+s+p)}function gT(s,e){return s.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(e,n,a,l,c){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new un(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new xI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(td("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class xI extends pT{data(){return super.data()}}function td(s,e){return typeof e=="string"?Xg(s,e):e instanceof Zh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EI(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new de(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Zg{}class _T extends Zg{}function cl(s,e,...n){let a=[];e instanceof Zg&&a.push(e),a=a.concat(n),function(c){const d=c.filter(p=>p instanceof Jg).length,g=c.filter(p=>p instanceof nd).length;if(d>1||d>0&&g>0)throw new de(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const l of a)s=l._apply(s);return s}class nd extends _T{constructor(e,n,a){super(),this._field=e,this._op=n,this._value=a,this.type="where"}static _create(e,n,a){return new nd(e,n,a)}_apply(e){const n=this._parse(e);return yT(e._query,n),new ur(e.firestore,e.converter,Km(e._query,n))}_parse(e){const n=Jh(e.firestore);return function(c,d,g,p,_,E,A){let w;if(_.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new de(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){Hx(A,E);const D=[];for(const K of A)D.push(Bx(p,c,K));w={arrayValue:{values:D}}}else w=Bx(p,c,A)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||Hx(A,E),w=yI(g,d,A,E==="in"||E==="not-in");return At.create(_,E,w)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Zu(s,e,n){const a=e,l=td("where",s);return nd._create(l,a,n)}class Jg extends Zg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Jg(e,n)}_parse(e){const n=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return n.length===1?n[0]:Zn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(l,c){let d=l;const g=c.getFlattenedFilters();for(const p of g)yT(d,p),d=Km(d,p)}(e._query,n),new ur(e.firestore,e.converter,Km(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ep extends _T{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new ep(e,n)}_apply(e){const n=function(l,c,d){if(l.startAt!==null)throw new de(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new de(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new oc(c,d)}(e._query,this._field,this._direction);return new ur(e.firestore,e.converter,function(l,c){const d=l.explicitOrderBy.concat([c]);return new Cl(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(e._query,n))}}function TI(s,e="asc"){const n=e,a=td("orderBy",s);return ep._create(a,n)}function Bx(s,e,n){if(typeof(n=tt(n))=="string"){if(n==="")throw new de(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hE(e)&&n.indexOf("/")!==-1)throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=e.path.child(et.fromString(n));if(!ve.isDocumentKey(a))throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return nx(s,new ve(a))}if(n instanceof un)return nx(s,n._key);throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wh(n)}.`)}function Hx(s,e){if(!Array.isArray(s)||s.length===0)throw new de(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function yT(s,e){const n=function(l,c){for(const d of l)for(const g of d.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null}(s.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new de(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class bI{convertValue(e,n="none"){switch(da(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ha(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return pa(e,(l,c)=>{a[l]=this.convertValue(c,n)}),a}convertVectorValue(e){var n,a,l;const c=(l=(a=(n=e.fields)===null||n===void 0?void 0:n[Eh].arrayValue)===null||a===void 0?void 0:a.values)===null||l===void 0?void 0:l.map(d=>yt(d.doubleValue));return new Qg(c)}convertGeoPoint(e){return new $g(yt(e.latitude),yt(e.longitude))}convertArray(e,n){return(e.values||[]).map(a=>this.convertValue(a,n))}convertServerTimestamp(e,n){switch(n){case"previous":const a=Hh(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(ac(e));default:return null}}convertTimestamp(e){const n=ua(e);return new jt(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=et.fromString(e);$e(DE(a));const l=new rc(a.get(1),a.get(3)),c=new ve(a.popFirst(5));return l.isEqual(n)||oi(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vT(s,e,n){let a;return a=s?s.toFirestore(e):e,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class xT extends pT{constructor(e,n,a,l,c,d){super(e,n,a,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new uh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(td("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}}class uh extends xT{data(e={}){return super.data(e)}}class AI{constructor(e,n,a,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new Yo(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(a=>{e.call(n,new uh(this._firestore,this._userDataWriter,a.key,a,new Yo(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map(g=>{const p=new uh(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Yo(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}})}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(g=>c||g.type!==3).map(g=>{const p=new uh(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Yo(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,E=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),E=d.indexOf(g.doc.key)),{type:wI(g.type),doc:p,oldIndex:_,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function wI(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ET(s){s=Jn(s,un);const e=Jn(s.firestore,hr);return lI(Fg(e),s._key).then(n=>RI(e,s,n))}class TT extends bI{constructor(e){super(),this.firestore=e}convertBytes(e){return new El(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new un(this.firestore,null,n)}}function bT(s){s=Jn(s,ur);const e=Jn(s.firestore,hr),n=Fg(e),a=new TT(e);return EI(s._query),oI(n,s._query).then(l=>new AI(e,a,s,l))}function sd(s,e,n){s=Jn(s,un);const a=Jn(s.firestore,hr),l=vT(s.converter,e);return id(a,[dT(Jh(a),"setDoc",s._key,l,s.converter!==null,n).toMutation(s._key,qn.none())])}function SI(s,e,n,...a){s=Jn(s,un);const l=Jn(s.firestore,hr),c=Jh(l);let d;return d=typeof(e=tt(e))=="string"||e instanceof Zh?_I(c,"updateDoc",s._key,e,n,a):pI(c,"updateDoc",s._key,e),id(l,[d.toMutation(s._key,qn.exists(!0))])}function AT(s){return id(Jn(s.firestore,hr),[new Rg(s._key,qn.none())])}function NI(s,e){const n=Jn(s.firestore,hr),a=ui(s),l=vT(s.converter,e);return id(n,[dT(Jh(s.firestore),"addDoc",a._key,l,s.converter!==null,{}).toMutation(a._key,qn.exists(!1))]).then(()=>a)}function id(s,e){return function(a,l){const c=new ai;return a.asyncQueue.enqueueAndForget(async()=>YC(await rI(a),l,c)),c.promise}(Fg(s),e)}function RI(s,e,n){const a=n.docs.get(e._key),l=new TT(s);return new xT(s,l,e._key,a,new Yo(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(l){Nl=l})(lr),tr(new oa("firestore",(a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),g=new hr(new vR(a.getProvider("auth-internal")),new TR(d,a.getProvider("app-check-internal")),function(_,E){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new de(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rc(_.options.projectId,E)}(d,l),d);return c=Object.assign({useFetchStreams:n},c),g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),xs(Fv,Gv,e),xs(Fv,Gv,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT="firebasestorage.googleapis.com",ST="storageBucket",kI=2*60*1e3,CI=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt extends Ns{constructor(e,n,a=0){super(Rm(e),`Firebase Storage: ${n} (${Rm(e)})`),this.status_=a,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,gt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Rm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var mt;(function(s){s.UNKNOWN="unknown",s.OBJECT_NOT_FOUND="object-not-found",s.BUCKET_NOT_FOUND="bucket-not-found",s.PROJECT_NOT_FOUND="project-not-found",s.QUOTA_EXCEEDED="quota-exceeded",s.UNAUTHENTICATED="unauthenticated",s.UNAUTHORIZED="unauthorized",s.UNAUTHORIZED_APP="unauthorized-app",s.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",s.INVALID_CHECKSUM="invalid-checksum",s.CANCELED="canceled",s.INVALID_EVENT_NAME="invalid-event-name",s.INVALID_URL="invalid-url",s.INVALID_DEFAULT_BUCKET="invalid-default-bucket",s.NO_DEFAULT_BUCKET="no-default-bucket",s.CANNOT_SLICE_BLOB="cannot-slice-blob",s.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",s.NO_DOWNLOAD_URL="no-download-url",s.INVALID_ARGUMENT="invalid-argument",s.INVALID_ARGUMENT_COUNT="invalid-argument-count",s.APP_DELETED="app-deleted",s.INVALID_ROOT_OPERATION="invalid-root-operation",s.INVALID_FORMAT="invalid-format",s.INTERNAL_ERROR="internal-error",s.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(mt||(mt={}));function Rm(s){return"storage/"+s}function tp(){const s="An unknown error occurred, please check the error payload for server response.";return new gt(mt.UNKNOWN,s)}function II(s){return new gt(mt.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")}function jI(s){return new gt(mt.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function DI(){const s="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new gt(mt.UNAUTHENTICATED,s)}function OI(){return new gt(mt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function MI(s){return new gt(mt.UNAUTHORIZED,"User does not have permission to access '"+s+"'.")}function LI(){return new gt(mt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function VI(){return new gt(mt.CANCELED,"User canceled the upload/download.")}function PI(s){return new gt(mt.INVALID_URL,"Invalid URL '"+s+"'.")}function UI(s){return new gt(mt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+s+"'.")}function BI(){return new gt(mt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+ST+"' property when initializing the app?")}function HI(){return new gt(mt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function zI(){return new gt(mt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function qI(s){return new gt(mt.UNSUPPORTED_ENVIRONMENT,`${s} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function ng(s){return new gt(mt.INVALID_ARGUMENT,s)}function NT(){return new gt(mt.APP_DELETED,"The Firebase app was deleted.")}function KI(s){return new gt(mt.INVALID_ROOT_OPERATION,"The operation '"+s+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ec(s,e){return new gt(mt.INVALID_FORMAT,"String does not match format '"+s+"': "+e)}function qo(s){throw new gt(mt.INTERNAL_ERROR,"Internal error: "+s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let a;try{a=wn.makeFromUrl(e,n)}catch{return new wn(e,"")}if(a.path==="")return a;throw UI(e)}static makeFromUrl(e,n){let a=null;const l="([A-Za-z0-9.\\-_]+)";function c(ee){ee.path.charAt(ee.path.length-1)==="/"&&(ee.path_=ee.path_.slice(0,-1))}const d="(/(.*))?$",g=new RegExp("^gs://"+l+d,"i"),p={bucket:1,path:3};function _(ee){ee.path_=decodeURIComponent(ee.path)}const E="v[A-Za-z0-9_]+",A=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",C=new RegExp(`^https?://${A}/${E}/b/${l}/o${w}`,"i"),D={bucket:1,path:3},K=n===wT?"(?:storage.googleapis.com|storage.cloud.google.com)":n,V="([^?#]*)",F=new RegExp(`^https?://${K}/${l}/${V}`,"i"),Q=[{regex:g,indices:p,postModify:c},{regex:C,indices:D,postModify:_},{regex:F,indices:{bucket:1,path:2},postModify:_}];for(let ee=0;ee<Q.length;ee++){const J=Q[ee],ce=J.regex.exec(e);if(ce){const M=ce[J.indices.bucket];let N=ce[J.indices.path];N||(N=""),a=new wn(M,N),J.postModify(a);break}}if(a==null)throw PI(e);return a}}class FI{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GI(s,e,n){let a=1,l=null,c=null,d=!1,g=0;function p(){return g===2}let _=!1;function E(...V){_||(_=!0,e.apply(null,V))}function A(V){l=setTimeout(()=>{l=null,s(C,p())},V)}function w(){c&&clearTimeout(c)}function C(V,...F){if(_){w();return}if(V){w(),E.call(null,V,...F);return}if(p()||d){w(),E.call(null,V,...F);return}a<64&&(a*=2);let Q;g===1?(g=2,Q=0):Q=(a+Math.random())*1e3,A(Q)}let D=!1;function K(V){D||(D=!0,w(),!_&&(l!==null?(V||(g=2),clearTimeout(l),A(0)):V||(g=1)))}return A(0),c=setTimeout(()=>{d=!0,K(!0)},n),K}function $I(s){s(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(s){return s!==void 0}function YI(s){return typeof s=="object"&&!Array.isArray(s)}function np(s){return typeof s=="string"||s instanceof String}function zx(s){return sp()&&s instanceof Blob}function sp(){return typeof Blob<"u"}function qx(s,e,n,a){if(a<e)throw ng(`Invalid value for '${s}'. Expected ${e} or greater.`);if(a>n)throw ng(`Invalid value for '${s}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ad(s,e,n){let a=e;return n==null&&(a=`https://${e}`),`${n}://${a}/v0${s}`}function RT(s){const e=encodeURIComponent;let n="?";for(const a in s)if(s.hasOwnProperty(a)){const l=e(a)+"="+e(s[a]);n=n+l+"&"}return n=n.slice(0,-1),n}var Ja;(function(s){s[s.NO_ERROR=0]="NO_ERROR",s[s.NETWORK_ERROR=1]="NETWORK_ERROR",s[s.ABORT=2]="ABORT"})(Ja||(Ja={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(s,e){const n=s>=500&&s<600,l=[408,429].indexOf(s)!==-1,c=e.indexOf(s)!==-1;return n||l||c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(e,n,a,l,c,d,g,p,_,E,A,w=!0){this.url_=e,this.method_=n,this.headers_=a,this.body_=l,this.successCodes_=c,this.additionalRetryCodes_=d,this.callback_=g,this.errorCallback_=p,this.timeout_=_,this.progressCallback_=E,this.connectionFactory_=A,this.retry=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,D)=>{this.resolve_=C,this.reject_=D,this.start_()})}start_(){const e=(a,l)=>{if(l){a(!1,new Ju(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const d=g=>{const p=g.loaded,_=g.lengthComputable?g.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,_)};this.progressCallback_!==null&&c.addUploadProgressListener(d),c.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(d),this.pendingConnection_=null;const g=c.getErrorCode()===Ja.NO_ERROR,p=c.getStatus();if(!g||WI(p,this.additionalRetryCodes_)&&this.retry){const E=c.getErrorCode()===Ja.ABORT;a(!1,new Ju(!1,null,E));return}const _=this.successCodes_.indexOf(p)!==-1;a(!0,new Ju(_,c))})},n=(a,l)=>{const c=this.resolve_,d=this.reject_,g=l.connection;if(l.wasSuccessCode)try{const p=this.callback_(g,g.getResponse());QI(p)?c(p):c()}catch(p){d(p)}else if(g!==null){const p=tp();p.serverResponse=g.getErrorText(),this.errorCallback_?d(this.errorCallback_(g,p)):d(p)}else if(l.canceled){const p=this.appDelete_?NT():VI();d(p)}else{const p=LI();d(p)}};this.canceled_?n(!1,new Ju(!1,null,!0)):this.backoffId_=GI(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&$I(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ju{constructor(e,n,a){this.wasSuccessCode=e,this.connection=n,this.canceled=!!a}}function ZI(s,e){e!==null&&e.length>0&&(s.Authorization="Firebase "+e)}function JI(s,e){s["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function e1(s,e){e&&(s["X-Firebase-GMPID"]=e)}function t1(s,e){e!==null&&(s["X-Firebase-AppCheck"]=e)}function n1(s,e,n,a,l,c,d=!0){const g=RT(s.urlParams),p=s.url+g,_=Object.assign({},s.headers);return e1(_,e),ZI(_,n),JI(_,c),t1(_,a),new XI(p,s.method,_,s.body,s.successCodes,s.additionalRetryCodes,s.handler,s.errorHandler,s.timeout,s.progressCallback,l,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function i1(...s){const e=s1();if(e!==void 0){const n=new e;for(let a=0;a<s.length;a++)n.append(s[a]);return n.getBlob()}else{if(sp())return new Blob(s);throw new gt(mt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function a1(s,e,n){return s.webkitSlice?s.webkitSlice(e,n):s.mozSlice?s.mozSlice(e,n):s.slice?s.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1(s){if(typeof atob>"u")throw qI("base-64");return atob(s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class km{constructor(e,n){this.data=e,this.contentType=n||null}}function kT(s,e){switch(s){case Wn.RAW:return new km(CT(e));case Wn.BASE64:case Wn.BASE64URL:return new km(IT(s,e));case Wn.DATA_URL:return new km(o1(e),c1(e))}throw tp()}function CT(s){const e=[];for(let n=0;n<s.length;n++){let a=s.charCodeAt(n);if(a<=127)e.push(a);else if(a<=2047)e.push(192|a>>6,128|a&63);else if((a&64512)===55296)if(!(n<s.length-1&&(s.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const c=a,d=s.charCodeAt(++n);a=65536|(c&1023)<<10|d&1023,e.push(240|a>>18,128|a>>12&63,128|a>>6&63,128|a&63)}else(a&64512)===56320?e.push(239,191,189):e.push(224|a>>12,128|a>>6&63,128|a&63)}return new Uint8Array(e)}function l1(s){let e;try{e=decodeURIComponent(s)}catch{throw ec(Wn.DATA_URL,"Malformed data URL.")}return CT(e)}function IT(s,e){switch(s){case Wn.BASE64:{const l=e.indexOf("-")!==-1,c=e.indexOf("_")!==-1;if(l||c)throw ec(s,"Invalid character '"+(l?"-":"_")+"' found: is it base64url encoded?");break}case Wn.BASE64URL:{const l=e.indexOf("+")!==-1,c=e.indexOf("/")!==-1;if(l||c)throw ec(s,"Invalid character '"+(l?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=r1(e)}catch(l){throw l.message.includes("polyfill")?l:ec(s,"Invalid character found")}const a=new Uint8Array(n.length);for(let l=0;l<n.length;l++)a[l]=n.charCodeAt(l);return a}class jT{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw ec(Wn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const a=n[1]||null;a!=null&&(this.base64=u1(a,";base64"),this.contentType=this.base64?a.substring(0,a.length-7):a),this.rest=e.substring(e.indexOf(",")+1)}}function o1(s){const e=new jT(s);return e.base64?IT(Wn.BASE64,e.rest):l1(e.rest)}function c1(s){return new jT(s).contentType}function u1(s,e){return s.length>=e.length?s.substring(s.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e,n){let a=0,l="";zx(e)?(this.data_=e,a=e.size,l=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),a=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),a=e.length),this.size_=a,this.type_=l}size(){return this.size_}type(){return this.type_}slice(e,n){if(zx(this.data_)){const a=this.data_,l=a1(a,e,n);return l===null?null:new Xi(l)}else{const a=new Uint8Array(this.data_.buffer,e,n-e);return new Xi(a,!0)}}static getBlob(...e){if(sp()){const n=e.map(a=>a instanceof Xi?a.data_:a);return new Xi(i1.apply(null,n))}else{const n=e.map(d=>np(d)?kT(Wn.RAW,d).data:d.data_);let a=0;n.forEach(d=>{a+=d.byteLength});const l=new Uint8Array(a);let c=0;return n.forEach(d=>{for(let g=0;g<d.length;g++)l[c++]=d[g]}),new Xi(l,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DT(s){let e;try{e=JSON.parse(s)}catch{return null}return YI(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h1(s){if(s.length===0)return null;const e=s.lastIndexOf("/");return e===-1?"":s.slice(0,e)}function d1(s,e){const n=e.split("/").filter(a=>a.length>0).join("/");return s.length===0?n:s+"/"+n}function OT(s){const e=s.lastIndexOf("/",s.length-2);return e===-1?s:s.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f1(s,e){return e}class cn{constructor(e,n,a,l){this.server=e,this.local=n||e,this.writable=!!a,this.xform=l||f1}}let eh=null;function m1(s){return!np(s)||s.length<2?s:OT(s)}function MT(){if(eh)return eh;const s=[];s.push(new cn("bucket")),s.push(new cn("generation")),s.push(new cn("metageneration")),s.push(new cn("name","fullPath",!0));function e(c,d){return m1(d)}const n=new cn("name");n.xform=e,s.push(n);function a(c,d){return d!==void 0?Number(d):d}const l=new cn("size");return l.xform=a,s.push(l),s.push(new cn("timeCreated")),s.push(new cn("updated")),s.push(new cn("md5Hash",null,!0)),s.push(new cn("cacheControl",null,!0)),s.push(new cn("contentDisposition",null,!0)),s.push(new cn("contentEncoding",null,!0)),s.push(new cn("contentLanguage",null,!0)),s.push(new cn("contentType",null,!0)),s.push(new cn("metadata","customMetadata",!0)),eh=s,eh}function g1(s,e){function n(){const a=s.bucket,l=s.fullPath,c=new wn(a,l);return e._makeStorageReference(c)}Object.defineProperty(s,"ref",{get:n})}function p1(s,e,n){const a={};a.type="file";const l=n.length;for(let c=0;c<l;c++){const d=n[c];a[d.local]=d.xform(a,e[d.server])}return g1(a,s),a}function LT(s,e,n){const a=DT(e);return a===null?null:p1(s,a,n)}function _1(s,e,n,a){const l=DT(e);if(l===null||!np(l.downloadTokens))return null;const c=l.downloadTokens;if(c.length===0)return null;const d=encodeURIComponent;return c.split(",").map(_=>{const E=s.bucket,A=s.fullPath,w="/b/"+d(E)+"/o/"+d(A),C=ad(w,n,a),D=RT({alt:"media",token:_});return C+D})[0]}function y1(s,e){const n={},a=e.length;for(let l=0;l<a;l++){const c=e[l];c.writable&&(n[c.server]=s[c.local])}return JSON.stringify(n)}class ip{constructor(e,n,a,l){this.url=e,this.method=n,this.handler=a,this.timeout=l,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(s){if(!s)throw tp()}function v1(s,e){function n(a,l){const c=LT(s,l,e);return VT(c!==null),c}return n}function x1(s,e){function n(a,l){const c=LT(s,l,e);return VT(c!==null),_1(c,l,s.host,s._protocol)}return n}function PT(s){function e(n,a){let l;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?l=OI():l=DI():n.getStatus()===402?l=jI(s.bucket):n.getStatus()===403?l=MI(s.path):l=a,l.status=n.getStatus(),l.serverResponse=a.serverResponse,l}return e}function UT(s){const e=PT(s);function n(a,l){let c=e(a,l);return a.getStatus()===404&&(c=II(s.path)),c.serverResponse=l.serverResponse,c}return n}function E1(s,e,n){const a=e.fullServerUrl(),l=ad(a,s.host,s._protocol),c="GET",d=s.maxOperationRetryTime,g=new ip(l,c,x1(s,n),d);return g.errorHandler=UT(e),g}function T1(s,e){const n=e.fullServerUrl(),a=ad(n,s.host,s._protocol),l="DELETE",c=s.maxOperationRetryTime;function d(p,_){}const g=new ip(a,l,d,c);return g.successCodes=[200,204],g.errorHandler=UT(e),g}function b1(s,e){return s&&s.contentType||e&&e.type()||"application/octet-stream"}function A1(s,e,n){const a=Object.assign({},n);return a.fullPath=s.path,a.size=e.size(),a.contentType||(a.contentType=b1(null,e)),a}function w1(s,e,n,a,l){const c=e.bucketOnlyServerUrl(),d={"X-Goog-Upload-Protocol":"multipart"};function g(){let Q="";for(let ee=0;ee<2;ee++)Q=Q+Math.random().toString().slice(2);return Q}const p=g();d["Content-Type"]="multipart/related; boundary="+p;const _=A1(e,a,l),E=y1(_,n),A="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+E+`\r
--`+p+`\r
Content-Type: `+_.contentType+`\r
\r
`,w=`\r
--`+p+"--",C=Xi.getBlob(A,a,w);if(C===null)throw HI();const D={name:_.fullPath},K=ad(c,s.host,s._protocol),V="POST",F=s.maxUploadRetryTime,B=new ip(K,V,v1(s,n),F);return B.urlParams=D,B.headers=d,B.body=C.uploadData(),B.errorHandler=PT(e),B}class S1{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ja.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ja.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ja.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,a,l){if(this.sent_)throw qo("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),l!==void 0)for(const c in l)l.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,l[c].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw qo("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw qo("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw qo("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw qo("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class N1 extends S1{initXhr(){this.xhr_.responseType="text"}}function ap(){return new N1}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e,n){this._service=e,n instanceof wn?this._location=n:this._location=wn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ir(e,n)}get root(){const e=new wn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return OT(this._location.path)}get storage(){return this._service}get parent(){const e=h1(this._location.path);if(e===null)return null;const n=new wn(this._location.bucket,e);return new ir(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw KI(e)}}function BT(s,e,n){s._throwIfRoot("uploadBytes");const a=w1(s.storage,s._location,MT(),new Xi(e,!0),n);return s.storage.makeRequestWithTokens(a,ap).then(l=>({metadata:l,ref:s}))}function R1(s,e,n=Wn.RAW,a){s._throwIfRoot("uploadString");const l=kT(n,e),c=Object.assign({},a);return c.contentType==null&&l.contentType!=null&&(c.contentType=l.contentType),BT(s,l.data,c)}function k1(s){s._throwIfRoot("getDownloadURL");const e=E1(s.storage,s._location,MT());return s.storage.makeRequestWithTokens(e,ap).then(n=>{if(n===null)throw zI();return n})}function C1(s){s._throwIfRoot("deleteObject");const e=T1(s.storage,s._location);return s.storage.makeRequestWithTokens(e,ap)}function I1(s,e){const n=d1(s._location.path,e),a=new wn(s._location.bucket,n);return new ir(s.storage,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j1(s){return/^[A-Za-z]+:\/\//.test(s)}function D1(s,e){return new ir(s,e)}function HT(s,e){if(s instanceof rp){const n=s;if(n._bucket==null)throw BI();const a=new ir(n,n._bucket);return e!=null?HT(a,e):a}else return e!==void 0?I1(s,e):s}function O1(s,e){if(e&&j1(e)){if(s instanceof rp)return D1(s,e);throw ng("To use ref(service, url), the first argument must be a Storage instance.")}else return HT(s,e)}function Kx(s,e){const n=e==null?void 0:e[ST];return n==null?null:wn.makeFromBucketSpec(n,s)}function M1(s,e,n,a={}){s.host=`${e}:${n}`,s._protocol="http";const{mockUserToken:l}=a;l&&(s._overrideAuthToken=typeof l=="string"?l:M0(l,s.app.options.projectId))}class rp{constructor(e,n,a,l,c){this.app=e,this._authProvider=n,this._appCheckProvider=a,this._url=l,this._firebaseVersion=c,this._bucket=null,this._host=wT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=kI,this._maxUploadRetryTime=CI,this._requests=new Set,l!=null?this._bucket=wn.makeFromBucketSpec(l,this._host):this._bucket=Kx(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=wn.makeFromBucketSpec(this._url,e):this._bucket=Kx(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){qx("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){qx("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ir(this,e)}_makeRequest(e,n,a,l,c=!0){if(this._deleted)return new FI(NT());{const d=n1(e,this._appId,a,l,n,this._firebaseVersion,c);return this._requests.add(d),d.getPromise().then(()=>this._requests.delete(d),()=>this._requests.delete(d)),d}}async makeRequestWithTokens(e,n){const[a,l]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,a,l).getPromise()}}const Fx="@firebase/storage",Gx="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT="storage";function L1(s,e,n){return s=tt(s),BT(s,e,n)}function V1(s,e,n,a){return s=tt(s),R1(s,e,n,a)}function P1(s){return s=tt(s),k1(s)}function qT(s){return s=tt(s),C1(s)}function rd(s,e){return s=tt(s),O1(s,e)}function KT(s=vg(),e){s=tt(s);const a=Ph(s,zT).getImmediate({identifier:e}),l=j0("storage");return l&&U1(a,...l),a}function U1(s,e,n,a={}){M1(s,e,n,a)}function B1(s,{instanceIdentifier:e}){const n=s.getProvider("app").getImmediate(),a=s.getProvider("auth-internal"),l=s.getProvider("app-check-internal");return new rp(n,a,l,e,lr)}function H1(){tr(new oa(zT,B1,"PUBLIC").setMultipleInstances(!0)),xs(Fx,Gx,""),xs(Fx,Gx,"esm2017")}H1();function lp(s,e){var n={};for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&e.indexOf(a)<0&&(n[a]=s[a]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(s);l<a.length;l++)e.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(s,a[l])&&(n[a[l]]=s[a[l]]);return n}function FT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const z1=FT,GT=new mc("auth","Firebase",FT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ch=new _g("@firebase/auth");function q1(s,...e){Ch.logLevel<=De.WARN&&Ch.warn(`Auth (${lr}): ${s}`,...e)}function hh(s,...e){Ch.logLevel<=De.ERROR&&Ch.error(`Auth (${lr}): ${s}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function es(s,...e){throw op(s,...e)}function bs(s,...e){return op(s,...e)}function $T(s,e,n){const a=Object.assign(Object.assign({},z1()),{[e]:n});return new mc("auth","Firebase",a).create(e,{appName:s.name})}function ri(s){return $T(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function op(s,...e){if(typeof s!="string"){const n=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(n,...a)}return GT.create(s,...e)}function Ee(s,e,...n){if(!s)throw op(e,...n)}function ti(s){const e="INTERNAL ASSERTION FAILED: "+s;throw hh(e),new Error(e)}function hi(s,e){s||ti(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sg(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.href)||""}function K1(){return $x()==="http:"||$x()==="https:"}function $x(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(K1()||QS()||"connection"in navigator)?navigator.onLine:!0}function G1(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e,n){this.shortDelay=e,this.longDelay=n,hi(n>e,"Short delay should be less than long delay!"),this.isMobile=FS()||YS()}get(){return F1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cp(s,e){hi(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{static initialize(e,n,a){this.fetchImpl=e,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ti("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ti("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ti("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1=new Ec(3e4,6e4);function ya(s,e){return s.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:s.tenantId}):e}async function di(s,e,n,a,l={}){return YT(s,l,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const g=gc(Object.assign({key:s.config.apiKey},d)).slice(1),p=await s._getAdditionalHeaders();p["Content-Type"]="application/json",s.languageCode&&(p["X-Firebase-Locale"]=s.languageCode);const _=Object.assign({method:e,headers:p},c);return $S()||(_.referrerPolicy="no-referrer"),QT.fetch()(WT(s,s.config.apiHost,n,g),_)})}async function YT(s,e,n){s._canInitEmulator=!1;const a=Object.assign(Object.assign({},$1),e);try{const l=new W1(s),c=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw th(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[p,_]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw th(s,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw th(s,"email-already-in-use",d);if(p==="USER_DISABLED")throw th(s,"user-disabled",d);const E=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw $T(s,E,_);es(s,E)}}catch(l){if(l instanceof Ns)throw l;es(s,"network-request-failed",{message:String(l)})}}async function Tc(s,e,n,a,l={}){const c=await di(s,e,n,a,l);return"mfaPendingCredential"in c&&es(s,"multi-factor-auth-required",{_serverResponse:c}),c}function WT(s,e,n,a){const l=`${e}${n}?${a}`;return s.config.emulator?cp(s.config,l):`${s.config.apiScheme}://${l}`}function Y1(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class W1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(bs(this.auth,"network-request-failed")),Q1.get())})}}function th(s,e,n){const a={appName:s.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const l=bs(s,e,a);return l.customData._tokenResponse=n,l}function Qx(s){return s!==void 0&&s.enterprise!==void 0}class X1{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Y1(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Z1(s,e){return di(s,"GET","/v2/recaptchaConfig",ya(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J1(s,e){return di(s,"POST","/v1/accounts:delete",e)}async function XT(s,e){return di(s,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tc(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ej(s,e=!1){const n=tt(s),a=await n.getIdToken(e),l=up(a);Ee(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c==null?void 0:c.sign_in_provider;return{claims:l,token:a,authTime:tc(Cm(l.auth_time)),issuedAtTime:tc(Cm(l.iat)),expirationTime:tc(Cm(l.exp)),signInProvider:d||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function Cm(s){return Number(s)*1e3}function up(s){const[e,n,a]=s.split(".");if(e===void 0||n===void 0||a===void 0)return hh("JWT malformed, contained fewer than 3 sections"),null;try{const l=C0(n);return l?JSON.parse(l):(hh("Failed to decode base64 JWT payload"),null)}catch(l){return hh("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function Yx(s){const e=up(s);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tl(s,e,n=!1){if(n)return e;try{return await e}catch(a){throw a instanceof Ns&&tj(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function tj({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const l=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=tc(this.lastLoginAt),this.creationTime=tc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ih(s){var e;const n=s.auth,a=await s.getIdToken(),l=await Tl(s,XT(n,{idToken:a}));Ee(l==null?void 0:l.users.length,n,"internal-error");const c=l.users[0];s._notifyReloadListener(c);const d=!((e=c.providerUserInfo)===null||e===void 0)&&e.length?ZT(c.providerUserInfo):[],g=ij(s.providerData,d),p=s.isAnonymous,_=!(s.email&&c.passwordHash)&&!(g!=null&&g.length),E=p?_:!1,A={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:g,metadata:new ig(c.createdAt,c.lastLoginAt),isAnonymous:E};Object.assign(s,A)}async function sj(s){const e=tt(s);await Ih(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ij(s,e){return[...s.filter(a=>!e.some(l=>l.providerId===a.providerId)),...e]}function ZT(s){return s.map(e=>{var{providerId:n}=e,a=lp(e,["providerId"]);return{providerId:n,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aj(s,e){const n=await YT(s,{},async()=>{const a=gc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=WT(s,l,"/v1/token",`key=${c}`),g=await s._getAdditionalHeaders();return g["Content-Type"]="application/x-www-form-urlencoded",QT.fetch()(d,{method:"POST",headers:g,body:a})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function rj(s,e){return di(s,"POST","/v2/accounts:revokeToken",ya(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Yx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=Yx(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:a,refreshToken:l,expiresIn:c}=await aj(e,n);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(e,n,a){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,n){const{refreshToken:a,accessToken:l,expirationTime:c}=n,d=new dl;return a&&(Ee(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),l&&(Ee(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(Ee(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new dl,this.toJSON())}_performRefresh(){return ti("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wi(s,e){Ee(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class ni{constructor(e){var{uid:n,auth:a,stsTokenManager:l}=e,c=lp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new nj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=a,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new ig(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(e){const n=await Tl(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return ej(this,e)}reload(){return sj(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ni(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),n&&await Ih(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(bn(this.auth.app))return Promise.reject(ri(this.auth));const e=await this.getIdToken();return await Tl(this,J1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var a,l,c,d,g,p,_,E;const A=(a=n.displayName)!==null&&a!==void 0?a:void 0,w=(l=n.email)!==null&&l!==void 0?l:void 0,C=(c=n.phoneNumber)!==null&&c!==void 0?c:void 0,D=(d=n.photoURL)!==null&&d!==void 0?d:void 0,K=(g=n.tenantId)!==null&&g!==void 0?g:void 0,V=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,F=(_=n.createdAt)!==null&&_!==void 0?_:void 0,B=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:Q,emailVerified:ee,isAnonymous:J,providerData:ce,stsTokenManager:M}=n;Ee(Q&&M,e,"internal-error");const N=dl.fromJSON(this.name,M);Ee(typeof Q=="string",e,"internal-error"),Wi(A,e.name),Wi(w,e.name),Ee(typeof ee=="boolean",e,"internal-error"),Ee(typeof J=="boolean",e,"internal-error"),Wi(C,e.name),Wi(D,e.name),Wi(K,e.name),Wi(V,e.name),Wi(F,e.name),Wi(B,e.name);const S=new ni({uid:Q,auth:e,email:w,emailVerified:ee,displayName:A,isAnonymous:J,photoURL:D,phoneNumber:C,tenantId:K,stsTokenManager:N,createdAt:F,lastLoginAt:B});return ce&&Array.isArray(ce)&&(S.providerData=ce.map(R=>Object.assign({},R))),V&&(S._redirectEventId=V),S}static async _fromIdTokenResponse(e,n,a=!1){const l=new dl;l.updateFromServerResponse(n);const c=new ni({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:a});return await Ih(c),c}static async _fromGetAccountInfoResponse(e,n,a){const l=n.users[0];Ee(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?ZT(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!(c!=null&&c.length),g=new dl;g.updateFromIdToken(a);const p=new ni({uid:l.localId,auth:e,stsTokenManager:g,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new ig(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(c!=null&&c.length)};return Object.assign(p,_),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx=new Map;function si(s){hi(s instanceof Function,"Expected a class definition");let e=Wx.get(s);return e?(hi(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,Wx.set(s,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}JT.type="NONE";const Xx=JT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dh(s,e,n){return`firebase:${s}:${e}:${n}`}class fl{constructor(e,n,a){this.persistence=e,this.auth=n,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=dh(this.userKey,l.apiKey,c),this.fullPersistenceKey=dh("persistence",l.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ni._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,a="authUser"){if(!n.length)return new fl(si(Xx),e,a);const l=(await Promise.all(n.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||si(Xx);const d=dh(a,e.config.apiKey,e.name);let g=null;for(const _ of n)try{const E=await _._get(d);if(E){const A=ni._fromJSON(e,E);_!==c&&(g=A),c=_;break}}catch{}const p=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new fl(c,e,a):(c=p[0],g&&await c._set(d,g.toJSON()),await Promise.all(n.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new fl(c,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zx(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(sb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(eb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ab(e))return"Blackberry";if(rb(e))return"Webos";if(tb(e))return"Safari";if((e.includes("chrome/")||nb(e))&&!e.includes("edge/"))return"Chrome";if(ib(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(n);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function eb(s=tn()){return/firefox\//i.test(s)}function tb(s=tn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function nb(s=tn()){return/crios\//i.test(s)}function sb(s=tn()){return/iemobile/i.test(s)}function ib(s=tn()){return/android/i.test(s)}function ab(s=tn()){return/blackberry/i.test(s)}function rb(s=tn()){return/webos/i.test(s)}function hp(s=tn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function lj(s=tn()){var e;return hp(s)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function oj(){return WS()&&document.documentMode===10}function lb(s=tn()){return hp(s)||ib(s)||rb(s)||ab(s)||/windows phone/i.test(s)||sb(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ob(s,e=[]){let n;switch(s){case"Browser":n=Zx(tn());break;case"Worker":n=`${Zx(tn())}-${s}`;break;default:n=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${lr}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const a=c=>new Promise((d,g)=>{try{const p=e(c);d(p)}catch(p){g(p)}});a.onAbort=n,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const a of this.queue)await a(e),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uj(s,e={}){return di(s,"GET","/v2/passwordPolicy",ya(s,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hj=6;class dj{constructor(e){var n,a,l,c;const d=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=d.minPasswordLength)!==null&&n!==void 0?n:hj,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(a=e.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(c=e.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,a,l,c,d,g;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(a=p.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(l=p.containsLowercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsUppercaseLetter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(d=p.containsNumericCharacter)!==null&&d!==void 0?d:!0),p.isValid&&(p.isValid=(g=p.containsNonAlphanumericCharacter)!==null&&g!==void 0?g:!0),p}validatePasswordLengthOptions(e,n){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=e.length>=a),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let l=0;l<e.length;l++)a=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,n,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fj{constructor(e,n,a,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Jx(this),this.idTokenSubscription=new Jx(this),this.beforeStateQueue=new cj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=GT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=si(n)),this._initializationPromise=this.queue(async()=>{var a,l;if(!this._deleted&&(this.persistenceManager=await fl.create(this,e),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await XT(this,{idToken:e}),a=await ni._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(bn(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(g,g))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let l=a,c=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,g=l==null?void 0:l._redirectEventId,p=await this.tryRedirectSignIn(e);(!d||d===g)&&(p!=null&&p.user)&&(l=p.user,c=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(l)}catch(d){l=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ih(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=G1()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(bn(this.app))return Promise.reject(ri(this));const n=e?tt(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return bn(this.app)?Promise.reject(ri(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return bn(this.app)?Promise.reject(ri(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(si(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await uj(this),n=new dj(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new mc("auth","Firebase",e())}onAuthStateChanged(e,n,a){return this.registerStateListener(this.authStateSubscription,e,n,a)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,a){return this.registerStateListener(this.idTokenSubscription,e,n,a)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await rj(this,a)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const a=await this.getOrInitRedirectPersistenceManager(n);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&si(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await fl.create(this,[si(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,a;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,a,l){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,a,l);return()=>{d=!0,p()}}else{const p=e.addObserver(n);return()=>{d=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ob(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const a=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());a&&(n["X-Firebase-Client"]=a);const l=await this._getAppCheckToken();return l&&(n["X-Firebase-AppCheck"]=l),n}async _getAppCheckToken(){var e;if(bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&q1(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function dr(s){return tt(s)}class Jx{constructor(e){this.auth=e,this.observer=null,this.addObserver=iN(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ld={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function mj(s){ld=s}function cb(s){return ld.loadJS(s)}function gj(){return ld.recaptchaEnterpriseScript}function pj(){return ld.gapiScript}function _j(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class yj{constructor(){this.enterprise=new vj}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class vj{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const xj="recaptcha-enterprise",ub="NO_RECAPTCHA";class Ej{constructor(e){this.type=xj,this.auth=dr(e)}async verify(e="verify",n=!1){async function a(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,g)=>{Z1(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const _=new X1(p);return c.tenantId==null?c._agentRecaptchaConfig=_:c._tenantRecaptchaConfigs[c.tenantId]=_,d(_.siteKey)}}).catch(p=>{g(p)})})}function l(c,d,g){const p=window.grecaptcha;Qx(p)?p.enterprise.ready(()=>{p.enterprise.execute(c,{action:e}).then(_=>{d(_)}).catch(()=>{d(ub)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new yj().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{a(this.auth).then(g=>{if(!n&&Qx(window.grecaptcha))l(g,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let p=gj();p.length!==0&&(p+=g),cb(p).then(()=>{l(g,c,d)}).catch(_=>{d(_)})}}).catch(g=>{d(g)})})}}async function e0(s,e,n,a=!1,l=!1){const c=new Ej(s);let d;if(l)d=ub;else try{d=await c.verify(n)}catch{d=await c.verify(n,!0)}const g=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const p=g.phoneEnrollmentInfo.phoneNumber,_=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const p=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return a?Object.assign(g,{captchaResp:d}):Object.assign(g,{captchaResponse:d}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function ag(s,e,n,a,l){var c;if(!((c=s._getRecaptchaConfig())===null||c===void 0)&&c.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const d=await e0(s,e,n,n==="getOobCode");return a(s,d)}else return a(s,e).catch(async d=>{if(d.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const g=await e0(s,e,n,n==="getOobCode");return a(s,g)}else return Promise.reject(d)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tj(s,e){const n=Ph(s,"auth");if(n.isInitialized()){const l=n.getImmediate(),c=n.getOptions();if(er(c,e??{}))return l;es(l,"already-initialized")}return n.initialize({options:e})}function bj(s,e){const n=(e==null?void 0:e.persistence)||[],a=(Array.isArray(n)?n:[n]).map(si);e!=null&&e.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e==null?void 0:e.popupRedirectResolver)}function Aj(s,e,n){const a=dr(s);Ee(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const l=!1,c=hb(e),{host:d,port:g}=wj(e),p=g===null?"":`:${g}`,_={url:`${c}//${d}${p}/`},E=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){Ee(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Ee(er(_,a.config.emulator)&&er(E,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=E,a.settings.appVerificationDisabledForTesting=!0,Sj()}function hb(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function wj(s){const e=hb(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:t0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:t0(d)}}}function t0(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function Sj(){function s(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ti("not implemented")}_getIdTokenResponse(e){return ti("not implemented")}_linkToIdToken(e,n){return ti("not implemented")}_getReauthenticationResolver(e){return ti("not implemented")}}async function Nj(s,e){return di(s,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rj(s,e){return Tc(s,"POST","/v1/accounts:signInWithPassword",ya(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kj(s,e){return Tc(s,"POST","/v1/accounts:signInWithEmailLink",ya(s,e))}async function Cj(s,e){return Tc(s,"POST","/v1/accounts:signInWithEmailLink",ya(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc extends dp{constructor(e,n,a,l=null){super("password",a),this._email=e,this._password=n,this._tenantId=l}static _fromEmailAndPassword(e,n){return new hc(e,n,"password")}static _fromEmailAndCode(e,n,a=null){return new hc(e,n,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ag(e,n,"signInWithPassword",Rj);case"emailLink":return kj(e,{email:this._email,oobCode:this._password});default:es(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const a={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ag(e,a,"signUpPassword",Nj);case"emailLink":return Cj(e,{idToken:n,email:this._email,oobCode:this._password});default:es(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ml(s,e){return Tc(s,"POST","/v1/accounts:signInWithIdp",ya(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ij="http://localhost";class ar extends dp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ar(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):es("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:l}=n,c=lp(n,["providerId","signInMethod"]);if(!a||!l)return null;const d=new ar(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return ml(e,n)}_linkToIdToken(e,n){const a=this.buildRequest();return a.idToken=n,ml(e,a)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ml(e,n)}buildRequest(){const e={requestUri:Ij,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=gc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jj(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Dj(s){const e=Ko(Fo(s)).link,n=e?Ko(Fo(e)).deep_link_id:null,a=Ko(Fo(s)).deep_link_id;return(a?Ko(Fo(a)).link:null)||a||n||e||s}class fp{constructor(e){var n,a,l,c,d,g;const p=Ko(Fo(e)),_=(n=p.apiKey)!==null&&n!==void 0?n:null,E=(a=p.oobCode)!==null&&a!==void 0?a:null,A=jj((l=p.mode)!==null&&l!==void 0?l:null);Ee(_&&E&&A,"argument-error"),this.apiKey=_,this.operation=A,this.code=E,this.continueUrl=(c=p.continueUrl)!==null&&c!==void 0?c:null,this.languageCode=(d=p.languageCode)!==null&&d!==void 0?d:null,this.tenantId=(g=p.tenantId)!==null&&g!==void 0?g:null}static parseLink(e){const n=Dj(e);try{return new fp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(){this.providerId=jl.PROVIDER_ID}static credential(e,n){return hc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const a=fp.parseLink(n);return Ee(a,"argument-error"),hc._fromEmailAndCode(e,a.code,a.tenantId)}}jl.PROVIDER_ID="password";jl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";jl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc extends db{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi extends bc{constructor(){super("facebook.com")}static credential(e){return ar._fromParams({providerId:Zi.PROVIDER_ID,signInMethod:Zi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zi.credentialFromTaggedObject(e)}static credentialFromError(e){return Zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zi.credential(e.oauthAccessToken)}catch{return null}}}Zi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji extends bc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ar._fromParams({providerId:Ji.PROVIDER_ID,signInMethod:Ji.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ji.credentialFromTaggedObject(e)}static credentialFromError(e){return Ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:a}=e;if(!n&&!a)return null;try{return Ji.credential(n,a)}catch{return null}}}Ji.GOOGLE_SIGN_IN_METHOD="google.com";Ji.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea extends bc{constructor(){super("github.com")}static credential(e){return ar._fromParams({providerId:ea.PROVIDER_ID,signInMethod:ea.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ea.credentialFromTaggedObject(e)}static credentialFromError(e){return ea.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ea.credential(e.oauthAccessToken)}catch{return null}}}ea.GITHUB_SIGN_IN_METHOD="github.com";ea.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta extends bc{constructor(){super("twitter.com")}static credential(e,n){return ar._fromParams({providerId:ta.PROVIDER_ID,signInMethod:ta.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ta.credentialFromTaggedObject(e)}static credentialFromError(e){return ta.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=e;if(!n||!a)return null;try{return ta.credential(n,a)}catch{return null}}}ta.TWITTER_SIGN_IN_METHOD="twitter.com";ta.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oj(s,e){return Tc(s,"POST","/v1/accounts:signUp",ya(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,a,l=!1){const c=await ni._fromIdTokenResponse(e,a,l),d=n0(a);return new rr({user:c,providerId:d,_tokenResponse:a,operationType:n})}static async _forOperation(e,n,a){await e._updateTokensIfNecessary(a,!0);const l=n0(a);return new rr({user:e,providerId:l,_tokenResponse:a,operationType:n})}}function n0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh extends Ns{constructor(e,n,a,l){var c;super(n.code,n.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,jh.prototype),this.customData={appName:e.name,tenantId:(c=e.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,n,a,l){return new jh(e,n,a,l)}}function fb(s,e,n,a){return(e==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?jh._fromErrorAndOperation(s,c,e,a):c})}async function Mj(s,e,n=!1){const a=await Tl(s,e._linkToIdToken(s.auth,await s.getIdToken()),n);return rr._forOperation(s,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lj(s,e,n=!1){const{auth:a}=s;if(bn(a.app))return Promise.reject(ri(a));const l="reauthenticate";try{const c=await Tl(s,fb(a,l,e,s),n);Ee(c.idToken,a,"internal-error");const d=up(c.idToken);Ee(d,a,"internal-error");const{sub:g}=d;return Ee(s.uid===g,a,"user-mismatch"),rr._forOperation(s,l,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&es(a,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mb(s,e,n=!1){if(bn(s.app))return Promise.reject(ri(s));const a="signIn",l=await fb(s,a,e),c=await rr._fromIdTokenResponse(s,a,l);return n||await s._updateCurrentUser(c.user),c}async function Vj(s,e){return mb(dr(s),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gb(s){const e=dr(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Pj(s,e,n){if(bn(s.app))return Promise.reject(ri(s));const a=dr(s),d=await ag(a,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Oj).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&gb(s),p}),g=await rr._fromIdTokenResponse(a,"signIn",d);return await a._updateCurrentUser(g.user),g}function Uj(s,e,n){return bn(s.app)?Promise.reject(ri(s)):Vj(tt(s),jl.credential(e,n)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&gb(s),a})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bj(s,e){return di(s,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hj(s,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const a=tt(s),c={idToken:await a.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},d=await Tl(a,Bj(a.auth,c));a.displayName=d.displayName||null,a.photoURL=d.photoUrl||null;const g=a.providerData.find(({providerId:p})=>p==="password");g&&(g.displayName=a.displayName,g.photoURL=a.photoURL),await a._updateTokensIfNecessary(d)}function zj(s,e,n,a){return tt(s).onIdTokenChanged(e,n,a)}function qj(s,e,n){return tt(s).beforeAuthStateChanged(e,n)}function Kj(s,e,n,a){return tt(s).onAuthStateChanged(e,n,a)}function Fj(s){return tt(s).signOut()}const Dh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Dh,"1"),this.storage.removeItem(Dh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gj=1e3,$j=10;class _b extends pb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=lb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),l=this.localCache[n];a!==l&&e(n,l,a)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,g,p)=>{this.notifyListeners(d,p)});return}const a=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!n&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);oj()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,$j):l()}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:a}),!0)})},Gj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}_b.type="LOCAL";const Qj=_b;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb extends pb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}yb.type="SESSION";const vb=yb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yj(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const a=new od(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:a,eventType:l,data:c}=n.data,d=this.handlersMap[l];if(!(d!=null&&d.size))return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const g=Array.from(d).map(async _=>_(n.origin,c)),p=await Yj(g);n.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}od.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mp(s="",e=10){let n="";for(let a=0;a<e;a++)n+=Math.floor(Math.random()*10);return s+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,p)=>{const _=mp("",20);l.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(A){const w=A;if(w.data.eventId===_)switch(w.data.status){case"ack":clearTimeout(E),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(w.data.response);break;default:clearTimeout(E),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:n},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function As(){return window}function Xj(s){As().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xb(){return typeof As().WorkerGlobalScope<"u"&&typeof As().importScripts=="function"}async function Zj(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Jj(){var s;return((s=navigator==null?void 0:navigator.serviceWorker)===null||s===void 0?void 0:s.controller)||null}function e2(){return xb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb="firebaseLocalStorageDb",t2=1,Oh="firebaseLocalStorage",Tb="fbase_key";class Ac{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function cd(s,e){return s.transaction([Oh],e?"readwrite":"readonly").objectStore(Oh)}function n2(){const s=indexedDB.deleteDatabase(Eb);return new Ac(s).toPromise()}function rg(){const s=indexedDB.open(Eb,t2);return new Promise((e,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(Oh,{keyPath:Tb})}catch(l){n(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(Oh)?e(a):(a.close(),await n2(),e(await rg()))})})}async function s0(s,e,n){const a=cd(s,!0).put({[Tb]:e,value:n});return new Ac(a).toPromise()}async function s2(s,e){const n=cd(s,!1).get(e),a=await new Ac(n).toPromise();return a===void 0?null:a.value}function i0(s,e){const n=cd(s,!0).delete(e);return new Ac(n).toPromise()}const i2=800,a2=3;class bb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await rg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(n++>a2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return xb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=od._getInstance(e2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Zj(),!this.activeServiceWorker)return;this.sender=new Wj(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((e=a[0])===null||e===void 0)&&e.fulfilled&&!((n=a[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Jj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await rg();return await s0(e,Dh,"1"),await i0(e,Dh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>s0(a,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(a=>s2(a,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>i0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=cd(l,!1).getAll();return new Ac(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),i2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}bb.type="LOCAL";const r2=bb;new Ec(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l2(s,e){return e?si(e):(Ee(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp extends dp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ml(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ml(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ml(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function o2(s){return mb(s.auth,new gp(s),s.bypassAuthState)}function c2(s){const{auth:e,user:n}=s;return Ee(n,e,"internal-error"),Lj(n,new gp(s),s.bypassAuthState)}async function u2(s){const{auth:e,user:n}=s;return Ee(n,e,"internal-error"),Mj(n,new gp(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(e,n,a,l,c=!1){this.auth=e,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:a,postBody:l,tenantId:c,error:d,type:g}=e;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:n,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return o2;case"linkViaPopup":case"linkViaRedirect":return u2;case"reauthViaPopup":case"reauthViaRedirect":return c2;default:es(this.auth,"internal-error")}}resolve(e){hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2=new Ec(2e3,1e4);class ul extends Ab{constructor(e,n,a,l,c){super(e,n,l,c),this.provider=a,this.authWindow=null,this.pollId=null,ul.currentPopupAction&&ul.currentPopupAction.cancel(),ul.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){hi(this.filter.length===1,"Popup operations only handle one event");const e=mp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(bs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(bs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ul.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,a;if(!((a=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,h2.get())};e()}}ul.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2="pendingRedirect",fh=new Map;class f2 extends Ab{constructor(e,n,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let e=fh.get(this.auth._key());if(!e){try{const a=await m2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(n){e=()=>Promise.reject(n)}fh.set(this.auth._key(),e)}return this.bypassAuthState||fh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function m2(s,e){const n=_2(e),a=p2(s);if(!await a._isAvailable())return!1;const l=await a._get(n)==="true";return await a._remove(n),l}function g2(s,e){fh.set(s._key(),e)}function p2(s){return si(s._redirectPersistence)}function _2(s){return dh(d2,s.config.apiKey,s.name)}async function y2(s,e,n=!1){if(bn(s.app))return Promise.reject(ri(s));const a=dr(s),l=l2(a,e),d=await new f2(a,l,n).execute();return d&&!n&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2=10*60*1e3;class x2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(n=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!E2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var a;if(e.error&&!wb(e)){const l=((a=e.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";n.onError(bs(this.auth,l))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const a=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=v2&&this.cachedEventUids.clear(),this.cachedEventUids.has(a0(e))}saveEventToCache(e){this.cachedEventUids.add(a0(e)),this.lastProcessedEventTime=Date.now()}}function a0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function wb({type:s,error:e}){return s==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function E2(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wb(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T2(s,e={}){return di(s,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,A2=/^https?/;async function w2(s){if(s.config.emulator)return;const{authorizedDomains:e}=await T2(s);for(const n of e)try{if(S2(n))return}catch{}es(s,"unauthorized-domain")}function S2(s){const e=sg(),{protocol:n,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===a}if(!A2.test(n))return!1;if(b2.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2=new Ec(3e4,6e4);function r0(){const s=As().___jsl;if(s!=null&&s.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function R2(s){return new Promise((e,n)=>{var a,l,c;function d(){r0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{r0(),n(bs(s,"network-request-failed"))},timeout:N2.get()})}if(!((l=(a=As().gapi)===null||a===void 0?void 0:a.iframes)===null||l===void 0)&&l.Iframe)e(gapi.iframes.getContext());else if(!((c=As().gapi)===null||c===void 0)&&c.load)d();else{const g=_j("iframefcb");return As()[g]=()=>{gapi.load?d():n(bs(s,"network-request-failed"))},cb(`${pj()}?onload=${g}`).catch(p=>n(p))}}).catch(e=>{throw mh=null,e})}let mh=null;function k2(s){return mh=mh||R2(s),mh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2=new Ec(5e3,15e3),I2="__/auth/iframe",j2="emulator/auth/iframe",D2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},O2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function M2(s){const e=s.config;Ee(e.authDomain,s,"auth-domain-config-required");const n=e.emulator?cp(e,j2):`https://${s.config.authDomain}/${I2}`,a={apiKey:e.apiKey,appName:s.name,v:lr},l=O2.get(s.config.apiHost);l&&(a.eid=l);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${n}?${gc(a).slice(1)}`}async function L2(s){const e=await k2(s),n=As().gapi;return Ee(n,s,"internal-error"),e.open({where:document.body,url:M2(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:D2,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=bs(s,"network-request-failed"),g=As().setTimeout(()=>{c(d)},C2.get());function p(){As().clearTimeout(g),l(a)}a.ping(p).then(p,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},P2=500,U2=600,B2="_blank",H2="http://localhost";class l0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function z2(s,e,n,a=P2,l=U2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const p=Object.assign(Object.assign({},V2),{width:a.toString(),height:l.toString(),top:c,left:d}),_=tn().toLowerCase();n&&(g=nb(_)?B2:n),eb(_)&&(e=e||H2,p.scrollbars="yes");const E=Object.entries(p).reduce((w,[C,D])=>`${w}${C}=${D},`,"");if(lj(_)&&g!=="_self")return q2(e||"",g),new l0(null);const A=window.open(e||"",g,E);Ee(A,s,"popup-blocked");try{A.focus()}catch{}return new l0(A)}function q2(s,e){const n=document.createElement("a");n.href=s,n.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2="__/auth/handler",F2="emulator/auth/handler",G2=encodeURIComponent("fac");async function o0(s,e,n,a,l,c){Ee(s.config.authDomain,s,"auth-domain-config-required"),Ee(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:a,v:lr,eventId:l};if(e instanceof db){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",sN(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,A]of Object.entries({}))d[E]=A}if(e instanceof bc){const E=e.getScopes().filter(A=>A!=="");E.length>0&&(d.scopes=E.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const E of Object.keys(g))g[E]===void 0&&delete g[E];const p=await s._getAppCheckToken(),_=p?`#${G2}=${encodeURIComponent(p)}`:"";return`${$2(s)}?${gc(g).slice(1)}${_}`}function $2({config:s}){return s.emulator?cp(s,F2):`https://${s.authDomain}/${K2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Im="webStorageSupport";class Q2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vb,this._completeRedirectFn=y2,this._overrideRedirectResult=g2}async _openPopup(e,n,a,l){var c;hi((c=this.eventManagers[e._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const d=await o0(e,n,a,sg(),l);return z2(e,d,mp())}async _openRedirect(e,n,a,l){await this._originValidation(e);const c=await o0(e,n,a,sg(),l);return Xj(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:c}=this.eventManagers[n];return l?Promise.resolve(l):(hi(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(e){const n=await L2(e),a=new x2(e);return n.register("authEvent",l=>(Ee(l==null?void 0:l.authEvent,e,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=n,a}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Im,{type:Im},l=>{var c;const d=(c=l==null?void 0:l[0])===null||c===void 0?void 0:c[Im];d!==void 0&&n(!!d),es(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=w2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return lb()||tb()||hp()}}const Y2=Q2;var c0="@firebase/auth",u0="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(a=>{e((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X2(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Z2(s){tr(new oa("auth",(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;Ee(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ob(s)},_=new fj(a,l,c,p);return bj(_,n),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,a)=>{e.getProvider("auth-internal").initialize()})),tr(new oa("auth-internal",e=>{const n=dr(e.getProvider("auth").getImmediate());return(a=>new W2(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),xs(c0,u0,X2(s)),xs(c0,u0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2=5*60,eD=O0("authIdTokenMaxAge")||J2;let h0=null;const tD=s=>async e=>{const n=e&&await e.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>eD)return;const l=n==null?void 0:n.token;h0!==l&&(h0=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function nD(s=vg()){const e=Ph(s,"auth");if(e.isInitialized())return e.getImmediate();const n=Tj(s,{popupRedirectResolver:Y2,persistence:[r2,Qj,vb]}),a=O0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=tD(c.toString());qj(n,d,()=>d(n.currentUser)),zj(n,g=>d(g))}}const l=I0("auth");return l&&Aj(n,`http://${l}`),n}function sD(){var s,e;return(e=(s=document.getElementsByTagName("head"))===null||s===void 0?void 0:s[0])!==null&&e!==void 0?e:document}mj({loadJS(s){return new Promise((e,n)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=l=>{const c=bs("internal-error");c.customData=l,n(c)},a.type="text/javascript",a.charset="UTF-8",sD().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Z2("Browser");const iD={apiKey:"AIzaSyB0zBdnr_ZBmmokxvgLiHWU52QhnFnoymU",authDomain:"aimchallange-67039.firebaseapp.com",projectId:"aimchallange-67039",storageBucket:"aimchallange-67039.appspot.com",messagingSenderId:"109617578227",appId:"1:109617578227:web:8f09f705f248bbdaf07786",measurementId:"G-42PJQ2LB6T"},ud=P0(iD),gh=nD(ud),Ss=hI(ud),hd=KT(ud,"gs://aimchallange-67039.firebasestorage.app");KT(ud,"gs://aimchallange-67039.appspot.com");const Sb=L.createContext(),fr=()=>L.useContext(Sb),aD=({children:s})=>{const[e,n]=L.useState(null),[a,l]=L.useState(!1),[c,d]=L.useState(!0);L.useEffect(()=>Kj(gh,async A=>{if(A){const w={uid:A.uid,email:A.email,displayName:A.displayName||A.email.split("@")[0],role:"admin"};n(w),l(!0)}else n(null),l(!1);d(!1)}),[]);const _={currentUser:e,isAuthenticated:a,login:async(E,A)=>{try{return await Uj(gh,E,A),{success:!0}}catch(w){return console.error("Login error:",w),{success:!1,error:w.message}}},logout:async()=>{try{return await Fj(gh),{success:!0}}catch(E){return console.error("Logout error:",E),{success:!1,error:E.message}}}};return u.jsx(Sb.Provider,{value:_,children:!c&&s})},lg=ui(Ss,"settings","textContent"),rD=async()=>{try{const s=await ET(lg);return s.exists()?s.data():(await sd(lg,{}),{})}catch(s){return console.error("Error getting text content:",s),{}}},lD=async(s,e)=>{try{const n={};return n[s]=e,await SI(lg,n),!0}catch(n){return console.error("Error updating text content:",n),!1}};ui(Ss,"settings","backgroundImages");const Nb=L.createContext(),mr=()=>L.useContext(Nb),oD=({children:s})=>{const[e,n]=L.useState({}),[a,l]=L.useState(!1),[c,d]=L.useState([]),{currentUser:g,isAuthenticated:p}=fr(),_=(g==null?void 0:g.role)==="admin";L.useEffect(()=>{(async()=>{try{const Q=await rD();n(Q)}catch(Q){console.error("Error fetching text content:",Q);const ee=localStorage.getItem("textContent");if(ee)try{n(JSON.parse(ee))}catch(J){console.error("Error parsing saved content:",J),n({})}}})()},[]),L.useEffect(()=>{l(!!(p&&_))},[p,_]);const F={getText:(B,Q)=>e[B]||Q,updateText:async(B,Q)=>{try{await lD(B,Q);const ee={...e,[B]:Q};n(ee),d(J=>[...J,{content:{...e},timestamp:new Date().toISOString(),changedKey:B}]),localStorage.setItem("textContent",JSON.stringify(ee))}catch(ee){console.error("Error updating text content:",ee);const J={...e,[B]:Q};localStorage.setItem("textContent",JSON.stringify(J)),n(J)}},isEditing:a,toggleEditing:()=>{console.log("Edit mode is always on for admin users")},isAdmin:_,textContent:e,resetAllContent:()=>{d(B=>[...B,{content:{...e},timestamp:new Date().toISOString(),action:"reset-all"}]),n({}),localStorage.removeItem("textContent"),console.log("All content has been reset")},removeContentItem:B=>{d(ee=>[...ee,{content:{...e},timestamp:new Date().toISOString(),changedKey:B,action:"remove"}]);const Q={...e};delete Q[B],n(Q),localStorage.setItem("textContent",JSON.stringify(Q)),console.log(`Content item '${B}' has been removed`)},undoLastChange:()=>{if(c.length>1){const B=[...c];B.pop();const Q=B[B.length-1].content;return n(Q),localStorage.setItem("textContent",JSON.stringify(Q)),d(B),console.log("Last change undone"),!0}return console.log("No changes to undo"),!1},getEditHistory:()=>c,editHistory:c};return u.jsx(Nb.Provider,{value:F,children:s})},cD=()=>{const[s,e]=L.useState(!1),[n,a]=L.useState(!1),[l,c]=L.useState(!1),{isAuthenticated:d,currentUser:g,logout:p}=fr(),{isEditing:_,getText:E,updateText:A}=mr(),w=Sl(),C=()=>{e(!1)},D=()=>{a(!1)},K=()=>{c(!l),e(!1),a(!1)},V=()=>{p(),w("/")};return L.useEffect(()=>{const F=B=>{const Q=document.querySelector(".mobile-menu"),ee=document.querySelector(".hamburger-menu");l&&Q&&!Q.contains(B.target)&&!ee.contains(B.target)&&c(!1)};return document.addEventListener("mousedown",F),()=>{document.removeEventListener("mousedown",F)}},[l]),L.useEffect(()=>{console.log("Navbar auth state:",{isAuthenticated:d,currentUser:g,isAdmin:(g==null?void 0:g.role)==="admin"})},[d,g]),u.jsx("div",{className:"flex flex_col navbar-container",children:u.jsxs("div",{className:"navbar  flex flex_j_SA MaxWH location font_white",children:[u.jsx("div",{className:"navim MaxWH location",children:u.jsx(Se,{to:"/",children:u.jsx("img",{src:"/images/Aim Blue.svg",alt:"aim challenge logo",className:"custom-image navim"})})}),u.jsxs("div",{className:"hamburger-menu",onClick:K,children:[u.jsx("span",{}),u.jsx("span",{}),u.jsx("span",{})]}),u.jsxs("div",{className:"navbside",children:[u.jsxs("div",{className:"nav-button",children:[u.jsx("a",{href:"#",className:"dropdown-trigger",onClick:F=>{F.preventDefault(),e(!s)},children:"Tävlingar"}),s&&u.jsxs("div",{className:"drop-down",children:[u.jsx(Se,{to:"/competitions",onClick:C,className:"drop-item",children:"TÄVLINGAR"}),u.jsx("a",{href:"https://raceid.com/sv/campaigns/bcfa3952-92c0-11ef-a892-06546bc3018f",onClick:C,className:"drop-item",children:"ANMÄLAN"}),u.jsx(Se,{to:"/results",onClick:C,className:"drop-item",children:"RESULTAT"})]})]}),u.jsxs("div",{className:"nav-button",children:[u.jsx("a",{href:"#",className:"dropdown-trigger",onClick:F=>{F.preventDefault(),a(!n)},children:"Om oss"}),n&&u.jsxs("div",{className:"drop-down",children:[u.jsx(Se,{to:"/om-oss",onClick:D,className:"drop-item",children:"Om oss"}),u.jsx(Se,{to:"/regler",onClick:D,className:"drop-item",children:"Regler"}),u.jsx(Se,{to:"/faq",onClick:D,className:"drop-item",children:"FAQ"}),u.jsx(Se,{to:"/historien-om-aim",onClick:D,className:"drop-item",children:"Historien om AIM"})]})]}),u.jsx("div",{className:"nav-button",children:u.jsx("a",{href:"#sponsors-section",onClick:F=>{F.preventDefault();const B=document.getElementById("sponsors-section");B&&B.scrollIntoView({behavior:"smooth"})},children:"Sponsorer"})}),u.jsx("div",{className:"nav-button",children:u.jsx(Se,{to:"/senaste-nytt",children:"Senaste nytt"})}),u.jsx("div",{className:"nav-button",children:u.jsx(Se,{to:"#",children:"Kontakta oss"})}),u.jsx("div",{className:"nav-button",children:u.jsx("a",{href:"#",children:"SV|NO|EN"})}),d&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"nav-button",children:u.jsx(Se,{to:"/content-manager",children:"Innehåll"})}),u.jsx("div",{className:"nav-button",children:u.jsx("a",{href:"#",onClick:F=>{F.preventDefault(),V()},children:"Logga ut"})})]})]}),l&&u.jsxs("div",{className:"mobile-menu",children:[u.jsxs("div",{className:"mobile-menu-item",children:[u.jsxs("div",{className:"mobile-menu-header",onClick:()=>e(!s),children:["Tävlingar ",s?"▲":"▼"]}),s&&u.jsxs("div",{className:"mobile-submenu",children:[u.jsx(Se,{to:"/competitions",onClick:K,className:"mobile-submenu-item",children:"TÄVLINGAR"}),u.jsx("a",{href:"https://raceid.com/sv/campaigns/bcfa3952-92c0-11ef-a892-06546bc3018f",onClick:K,className:"mobile-submenu-item",children:"ANMÄLAN"}),u.jsx(Se,{to:"/results",onClick:K,className:"mobile-submenu-item",children:"RESULTAT"})]})]}),u.jsxs("div",{className:"mobile-menu-item",children:[u.jsxs("div",{className:"mobile-menu-header",onClick:()=>a(!n),children:["Om oss ",n?"▲":"▼"]}),n&&u.jsxs("div",{className:"mobile-submenu",children:[u.jsx(Se,{to:"/om-oss",onClick:K,className:"mobile-submenu-item",children:"Om oss"}),u.jsx(Se,{to:"/regler",onClick:K,className:"mobile-submenu-item",children:"Regler"}),u.jsx(Se,{to:"/faq",onClick:K,className:"mobile-submenu-item",children:"FAQ"}),u.jsx(Se,{to:"/historien-om-aim",onClick:K,className:"mobile-submenu-item",children:"Historien om AIM"})]})]}),u.jsx("div",{className:"mobile-menu-item",children:u.jsx("a",{href:"#sponsors-section",onClick:F=>{F.preventDefault();const B=document.getElementById("sponsors-section");B&&B.scrollIntoView({behavior:"smooth"}),K()},className:"mobile-menu-link",children:"Sponsorer"})}),u.jsx("div",{className:"mobile-menu-item",children:u.jsx(Se,{to:"/senaste-nytt",onClick:K,className:"mobile-menu-link",children:"Senaste nytt"})}),u.jsx("div",{className:"mobile-menu-item",children:u.jsx(Se,{to:"#",onClick:K,className:"mobile-menu-link",children:"Kontakta oss"})}),u.jsx("div",{className:"mobile-menu-item",children:u.jsx("a",{href:"#",className:"mobile-menu-link",children:"SV|NO|EN"})}),d&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"mobile-menu-item",children:u.jsx(Se,{to:"/content-manager",onClick:K,className:"mobile-menu-link",children:"Innehåll"})}),u.jsx("div",{className:"mobile-menu-item",children:u.jsx("a",{href:"#",onClick:F=>{F.preventDefault(),V(),K()},className:"mobile-menu-link",children:"Logga ut"})})]})]})]})})},uD=()=>u.jsx("div",{className:"footer-wrapper",children:u.jsx("footer",{className:"footer",children:u.jsxs("div",{className:"container",children:[u.jsx("div",{className:"footer-grid",children:u.jsxs("div",{className:"grid-item sponsors",children:[u.jsx("h1",{className:"footer-heading",id:"sponsors-section",children:"Sponsorer & Partners"}),u.jsxs("div",{className:"grid",children:[u.jsx("div",{children:u.jsx("img",{src:"/images/Artboard 1@4x.png",alt:"Artboard",className:"sponsor-logo"})}),u.jsx("div",{children:u.jsx("img",{src:"/images/Camelbak_vit.svg",alt:"Camelbak",className:"sponsor-logo"})}),u.jsx("div",{children:u.jsx("img",{src:"/images/Hedghog_vit.svg",alt:"Hedghog",className:"sponsor-logo"})}),u.jsx("div",{children:u.jsx("img",{src:"/images/Kona_vit.png",alt:"Kona",className:"sponsor-logo"})}),u.jsx("div",{children:u.jsx("img",{src:"/images/Mareld_svart.svg",alt:"Mareld",className:"sponsor-logo"})}),u.jsx("div",{children:u.jsx("img",{src:"/images/ODD_white_RGB.png",alt:"ODD",className:"sponsor-logo"})}),u.jsx("div",{children:u.jsx("img",{src:"/images/Oofos.png",alt:"Oofos",className:"sponsor-logo"})}),u.jsx("div",{children:u.jsx("img",{src:"/images/Ortovox_svart.svg",alt:"Ortovox",className:"sponsor-logo"})}),u.jsx("div",{children:u.jsx("img",{src:"/images/UD Logo.png",alt:"UD",className:"sponsor-logo"})}),u.jsx("div",{children:u.jsx("img",{src:"/images/Upplev.png",alt:"Upplev Norrköping",className:"sponsor-logo"})}),u.jsx("div",{children:u.jsx("img",{src:"/images/holdut_logo_sort_1.png",alt:"Hold ut",className:"sponsor-logo"})}),u.jsx("div",{children:u.jsx("img",{src:"/images/h%C3%A4llmark logga sv_v.svg",alt:"Hällmark",className:"sponsor-logo"})}),u.jsx("div",{children:u.jsx("img",{src:"/images/injinji_black.svg",alt:"Injinji",className:"sponsor-logo"})})]})]})}),u.jsxs("div",{className:"footer-bottom",children:[u.jsx("p",{className:"trademark",children:"© 2025 Aimchallenge"}),u.jsxs("div",{className:"social-icons",children:[u.jsx("a",{href:"https://www.facebook.com/aimchallenge/",className:"social-icon","aria-label":"Facebook",children:u.jsx("i",{className:"fa fa-facebook"})}),u.jsx("a",{href:"https://www.instagram.com/aimchallenge/",className:"social-icon","aria-label":"Instagram",children:u.jsx("i",{className:"fa fa-instagram"})}),u.jsx("a",{href:"https://vimeo.com/user45220061",className:"social-icon","aria-label":"Vimeo",children:u.jsx("i",{className:"fa fa-vimeo"})})]})]})]})})}),z=({textKey:s,defaultText:e,tag:n="p",className:a="",style:l={},placeholder:c="Skriv text här...",onClick:d})=>{const{getText:g,updateText:p,isAdmin:_}=mr(),[E,A]=L.useState(!1),[w,C]=L.useState(""),[D,K]=L.useState(!1),[V,F]=L.useState(""),[B,Q]=L.useState(""),ee=L.useRef(null),J=L.useRef(null),ce=L.useRef(null),M=["span","a","em","strong","i","b","code","small"].includes(n);L.useEffect(()=>{const j=g(s);C(j||e)},[s,e,g]),L.useEffect(()=>{const j=ae=>{ae.key==="Escape"&&E&&R()};return document.addEventListener("keydown",j),()=>{document.removeEventListener("keydown",j)}},[E]);const N=j=>{j&&(j.preventDefault(),j.stopPropagation()),A(!0)},S=()=>{p(s,w),A(!1),K(!1)},R=()=>{const j=g(s);C(j||e),A(!1),K(!1)},O=j=>{C(j.target.value)},H=()=>{K(!D),Q(""),F("")},I=()=>{if(B&&V){let j=V;!j.startsWith("http://")&&!j.startsWith("https://")&&(j="https://"+j);const ae=`<a href="${j}" target="_blank" rel="noopener noreferrer">${B}</a>`,me=ee.current,oe=me.selectionStart,ue=w.substring(0,oe),Re=w.substring(me.selectionEnd);C(ue+ae+Re),Q(""),F(""),setTimeout(()=>{me.focus();const Ae=oe+ae.length;me.setSelectionRange(Ae,Ae)},0)}},it=j=>{Q(j.target.value)},nt=j=>{F(j.target.value)},re=j=>{j.key==="Enter"&&j.ctrlKey?(j.preventDefault(),S()):j.key==="Escape"&&(j.preventDefault(),R())},_e=()=>E?MS.createPortal(u.jsx("div",{className:"edit-modal",children:u.jsxs("div",{className:"edit-modal__content",children:[u.jsx("textarea",{ref:ee,value:w,onChange:O,onKeyDown:re,placeholder:c,className:"edit-modal__textarea"}),u.jsx("button",{type:"button",onClick:H,className:"modal-action-button modal-action-button--secondary",children:D?"Dölj länkverktyg":"Lägg till länk"}),D&&u.jsxs("div",{className:"edit-modal__link-tools",children:[u.jsxs("div",{className:"edit-modal__form-group",children:[u.jsx("label",{htmlFor:"linkText",className:"edit-modal__label",children:"Länktext:"}),u.jsx("input",{ref:J,type:"text",id:"linkText",value:B,onChange:it,className:"edit-modal__input",placeholder:"Text som ska visas"})]}),u.jsxs("div",{className:"edit-modal__form-group",children:[u.jsx("label",{htmlFor:"linkUrl",className:"edit-modal__label",children:"URL:"}),u.jsx("input",{ref:ce,type:"text",id:"linkUrl",value:V,onChange:nt,className:"edit-modal__input",placeholder:"https://example.com"})]}),u.jsx("button",{type:"button",onClick:I,disabled:!B||!V,className:"modal-action-button modal-action-button--primary",children:"Infoga länk"})]}),u.jsxs("div",{className:"edit-modal__actions",children:[u.jsx("button",{type:"button",onClick:R,className:"modal-action-button modal-action-button--secondary",children:"Avbryt"}),u.jsx("button",{type:"button",onClick:S,className:"modal-action-button modal-action-button--primary",children:"Spara"})]})]})}),document.body):null,ge=()=>{const j=n,ae={className:`editable-text ${a}`,style:l,dangerouslySetInnerHTML:{__html:w||c},onClick:d};return u.jsx(j,{...ae})},He=M?"span":"div";return u.jsxs(u.Fragment,{children:[u.jsxs(He,{className:"editable-text-wrapper",children:[ge(),_&&u.jsx("button",{type:"button",onClick:N,className:"edit-button edit-button-primary",title:"Redigera text",children:"Redigera"})]}),_e()]})},hD=()=>u.jsxs("div",{className:"flex flex_col MaxWH location",children:[u.jsx("section",{id:"page_01",className:"page_01 dynamic-background ",children:u.jsx("div",{className:" page_01box flex flex_col flex_j_SA MaxWH",children:u.jsx(z,{textKey:"main-multisport-sedan",defaultText:"MUTLISPORT SEDAN 2004",tag:"p",className:"font_white fonts_large"})})}),u.jsxs("section",{id:"page_02",className:"page_02 flex flex_j_E MaxWH location",children:[u.jsx("h2",{className:"page_02-title",children:"ÅRETS TÄVLINGAR"}),u.jsxs("div",{className:"page_02box  flex flex_col MaxWH location",children:[u.jsx("div",{className:"page_02-image",style:{backgroundImage:"url('images/EE-AIMChallenge24-Uhamn-0171-high.jpg')"}}),u.jsx("div",{className:"page_02-content",children:u.jsxs("div",{className:"page_02-header",children:[u.jsx(z,{textKey:"main-ulricehamn-title",defaultText:"ULRICEHAMN 10/5",tag:"p",className:"font_white fonts_medium_B"}),u.jsx(z,{textKey:"ulricehamn-date",defaultText:"datum insert",tag:"p",className:"font_white fonts_medium"})]})}),u.jsx("div",{className:"page_02-button",children:u.jsx(Se,{to:"/ulricehamn",className:"location button-2",children:u.jsx("span",{children:"Läs mer"})})})]}),u.jsxs("div",{className:"page_02box  flex flex_col MaxWH location",children:[u.jsx("div",{className:"page_02-image",style:{backgroundImage:"url('/images/AIM_lindvallen_2024_AnkiGrothe_highres_155.jpg')"}}),u.jsx("div",{className:"page_02-content",children:u.jsxs("div",{className:"page_02-header",children:[u.jsx(z,{textKey:"main-salen-title",defaultText:"SÄLEN 10/5",tag:"p",className:"font_white fonts_medium_B"}),u.jsx(z,{textKey:"salen-date",defaultText:"datum insert",tag:"p",className:"font_white fonts_medium"})]})}),u.jsx("div",{className:"page_02-button",children:u.jsx(Se,{to:"/salen",className:"location button-2",children:u.jsx("span",{children:"Läs mer"})})})]}),u.jsxs("div",{className:"page_02box flex flex_col MaxWH location",children:[u.jsx("div",{className:"page_02-image",style:{backgroundImage:"url('/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg')"}}),u.jsx("div",{className:"page_02-content",children:u.jsxs("div",{className:"page_02-header",children:[u.jsx(z,{textKey:"main-hemsedal-title",defaultText:"HEMSEDAL 10/5",tag:"p",className:"font_white fonts_medium_B"}),u.jsx(z,{textKey:"hemsedal-date",defaultText:"datum insert",tag:"p",className:"font_white fonts_medium"})]})}),u.jsx("div",{className:"page_02-button",children:u.jsx(Se,{to:"/hemsedal",className:"location button-2",children:u.jsx("span",{children:"Läs mer"})})})]}),u.jsxs("div",{className:"page_02box  flex flex_col MaxWH location",children:[u.jsx("div",{className:"page_02-image",style:{backgroundImage:"url('/images/AIM_lindvallen_2024_AnkiGrothe_highres_125.jpg')"}}),u.jsx("div",{className:"page_02-content",children:u.jsxs("div",{className:"page_02-header",children:[u.jsx(z,{textKey:"main-kolmarden-title",defaultText:"KOLMÅRDEN 10/5",tag:"p",className:"font_white fonts_medium_B"}),u.jsx(z,{textKey:"kolmarden-date",defaultText:"datum insert",tag:"p",className:"font_white fonts_medium"})]})}),u.jsx("div",{className:"page_02-button",children:u.jsx(Se,{to:"/kolmarden",className:"location button-2",children:u.jsx("span",{children:"Läs mer"})})})]})]}),u.jsx("section",{id:"page_03",className:"page_03 flex MaxWH",children:u.jsxs("div",{className:"page_03-content flex",children:[u.jsxs("div",{className:"page_03-text",children:[u.jsx("h2",{className:"page_03-title",children:"OM AIM CHALLENGE"}),u.jsx(z,{textKey:"aim-challenge-desc-1",defaultText:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",tag:"p",className:"font_white"}),u.jsx(z,{textKey:"aim-challenge-desc-2",defaultText:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",tag:"p",className:"font_white"}),u.jsx("div",{className:"page_03-button",children:u.jsx(Se,{to:"/about",className:"button-2",children:u.jsx("span",{children:"LÄS MER"})})})]}),u.jsx("div",{className:"page_03-image",children:u.jsx("img",{src:"/images/AIM_lindvallen_2024_AnkiGrothe_highres_155.jpg",alt:"AIM Challenge"})})]})}),u.jsx("section",{id:"ad-section",className:"ad-section",children:u.jsx("div",{className:"ad-container",children:u.jsx("div",{className:"ad-content",children:u.jsx("p",{children:"ANNONS"})})})}),u.jsxs("section",{id:"latest-news",className:"latest-news-section",children:[u.jsx("h2",{className:"latest-news-title",children:"SENASTE NYTT"}),u.jsxs("div",{className:"latest-news-container",children:[u.jsxs("div",{className:"news-card",children:[u.jsx("div",{className:"news-image",children:u.jsx("img",{src:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg",alt:"News"})}),u.jsxs("div",{className:"news-content",children:[u.jsx("h3",{className:"news-location",children:"ULRICEHAMN 10/5"}),u.jsx("p",{className:"news-description",children:"Brödtext om tävlingen, 2 korta meningar"}),u.jsx("div",{className:"news-button",children:u.jsx(Se,{to:"/news/1",className:"button-2",children:u.jsx("span",{children:"LÄS MER"})})})]})]}),u.jsxs("div",{className:"news-card",children:[u.jsx("div",{className:"news-image",children:u.jsx("img",{src:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg",alt:"News"})}),u.jsxs("div",{className:"news-content",children:[u.jsx("h3",{className:"news-location",children:"ULRICEHAMN 10/5"}),u.jsx("p",{className:"news-description",children:"Brödtext om tävlingen, 2 korta meningar"}),u.jsx("div",{className:"news-button",children:u.jsx(Se,{to:"/news/2",className:"button-2",children:u.jsx("span",{children:"LÄS MER"})})})]})]}),u.jsxs("div",{className:"news-card",children:[u.jsx("div",{className:"news-image",children:u.jsx("img",{src:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg",alt:"News"})}),u.jsxs("div",{className:"news-content",children:[u.jsx("h3",{className:"news-location",children:"ULRICEHAMN 10/5"}),u.jsx("p",{className:"news-description",children:"Brödtext om tävlingen, 2 korta meningar"}),u.jsx("div",{className:"news-button",children:u.jsx(Se,{to:"/news/3",className:"button-2",children:u.jsx("span",{children:"LÄS MER"})})})]})]})]})]})]}),dD=()=>u.jsxs("div",{className:"competitions-container flex flex_col MaxWH location",children:[u.jsx("div",{className:"competitions-spacer"}),u.jsxs("div",{className:"competitions-grid",children:[u.jsxs("div",{className:"competitions-card competitions-card-ulricehamn flex flex_col flex_j_SB location simple-background",children:[u.jsxs("div",{className:"trans-background competitions-header flex flex_col flex_j_C flex_a_C flex_text_C MaxWH",children:[u.jsx(z,{textKey:"competitions-ulricehamn-title",defaultText:"ULRICEHAMN",tag:"p",className:"font_blue fonts_medium_B competitions-title text-center",style:{textAlign:"center"}}),u.jsx(z,{textKey:"ulricehamn-date",defaultText:"datum insert",tag:"p",className:"font_blue fonts_medium competitions-date text-center",style:{textAlign:"center"}})]}),u.jsx("div",{className:"competitions-button-container flex flex_col flex_j_SA flex_a_C MaxWH Button",children:u.jsx(Se,{to:"/ulricehamn",className:"location button-2 competitions-button",children:u.jsx("span",{children:"Läs mer"})})})]}),u.jsxs("div",{className:"competitions-card competitions-card-salen flex flex_col flex_j_SB location simple-background",children:[u.jsxs("div",{className:"trans-background competitions-header flex flex_col flex_j_C flex_a_C flex_text_C MaxWH",children:[u.jsx(z,{textKey:"competitions-salen-title",defaultText:"SÄLEN",tag:"p",className:"font_blue fonts_medium_B competitions-title text-center",style:{textAlign:"center"}}),u.jsx(z,{textKey:"salen-date",defaultText:"datum insert",tag:"p",className:"font_blue fonts_medium competitions-date text-center",style:{textAlign:"center"}})]}),u.jsx("div",{className:"competitions-button-container flex flex_col flex_j_SA flex_a_C MaxWH Button",children:u.jsx(Se,{to:"/salen",className:"location button-2 competitions-button",children:u.jsx("span",{children:"Läs mer"})})})]})]}),u.jsxs("div",{className:"competitions-grid",children:[u.jsxs("div",{className:"competitions-card competitions-card-hemsedal flex flex_col flex_j_SB location simple-background",children:[u.jsxs("div",{className:"trans-background competitions-header flex flex_col flex_j_C flex_a_C flex_text_C MaxWH",children:[u.jsx(z,{textKey:"competitions-hemsedal-title",defaultText:"HEMSEDAL",tag:"p",className:"font_blue fonts_medium_B competitions-title text-center",style:{textAlign:"center"}}),u.jsx(z,{textKey:"hemsedal-date",defaultText:"datum insert",tag:"p",className:"font_blue fonts_medium competitions-date text-center",style:{textAlign:"center"}})]}),u.jsx("div",{className:"competitions-button-container flex flex_col flex_j_SA flex_a_C MaxWH Button",children:u.jsx(Se,{to:"/hemsedal",className:"location button-2 competitions-button",children:u.jsx("span",{children:"Läs mer"})})})]}),u.jsxs("div",{className:"competitions-card competitions-card-kolmarden flex flex_col flex_j_SB location simple-background",children:[u.jsxs("div",{className:"trans-background competitions-header flex flex_col flex_j_C flex_a_C flex_text_C MaxWH",children:[u.jsx(z,{textKey:"competitions-kolmarden-title",defaultText:"KOLMÅRDEN",tag:"p",className:"font_blue fonts_medium_B competitions-title text-center",style:{textAlign:"center"}}),u.jsx(z,{textKey:"kolmarden-date",defaultText:"datum insert",tag:"p",className:"font_blue fonts_medium competitions-date text-center",style:{textAlign:"center"}})]}),u.jsx("div",{className:"competitions-button-container flex flex_col flex_j_SA flex_a_C MaxWH Button",children:u.jsx(Se,{to:"/kolmarden",className:"location button-2 competitions-button",children:u.jsx("span",{children:"Läs mer"})})})]})]}),u.jsx("div",{className:"competitions-grid",children:u.jsxs("div",{className:"competitions-card competitions-card-trippeln flex flex_col flex_j_SB location simple-background",style:{gridColumn:"span 2"},children:[u.jsxs("div",{className:"trans-background competitions-header flex flex_col flex_j_C flex_a_C flex_text_C MaxWH",children:[u.jsx(z,{textKey:"competitions-trippeln-title",defaultText:"AIM CHALLENGE TRIPPELN",tag:"p",className:"font_blue fonts_medium_B competitions-title text-center",style:{textAlign:"center"}}),u.jsx(z,{textKey:"trippeln-description",defaultText:"Tävla i alla tre deltävlingar och bli en del av AIM Challenge Trippeln",tag:"p",className:"font_blue fonts_medium competitions-date text-center",style:{textAlign:"center"}})]}),u.jsx("div",{className:"competitions-button-container flex flex_col flex_j_SA flex_a_C MaxWH Button",children:u.jsx(Se,{to:"/trippeln",className:"location button-2 competitions-button",children:u.jsx("span",{children:"Läs mer"})})})]})})]}),fD=()=>u.jsxs("div",{className:"ulricehamn-container",children:[u.jsx("section",{className:"ulricehamn-hero-section",children:u.jsx("div",{className:"hero-content",children:u.jsx("div",{className:"hero-image-container",children:u.jsx("img",{src:"/images/EE-AIMChallenge24-Uhamn-0171-high.jpg",alt:"Ulricehamn Event"})})})}),u.jsx("section",{className:"ulricehamn-title-section",children:u.jsx("div",{className:"title-container",children:u.jsx(z,{textKey:"ulricehamn-title-with-date",defaultText:"ULRICEHAMN - 10 MAJ 2025",tag:"h1",className:"ulricehamn-title"})})}),u.jsx("section",{className:"ulricehamn-button-section",children:u.jsx("div",{className:"button-container",children:u.jsx("a",{href:"https://raceid.com/sv/races/12846/about",target:"_blank",rel:"noopener noreferrer",className:"anmalan-button",children:u.jsx("p",{children:"TA MIG TILL ANMÄLAN"})})})}),u.jsx("section",{className:"ulricehamn-program-section",children:u.jsx("div",{className:"program-container",children:u.jsxs("div",{className:"program-cards",children:[u.jsx("div",{className:"program-card image-card",children:u.jsx("img",{src:"/images/EE-AIMChallenge24-Uhamn-0171-high.jpg",alt:"Ulricehamn Event"})}),u.jsxs("div",{className:"program-card info-card",children:[u.jsx(z,{textKey:"ulricehamn-program-title",defaultText:"PROGRAM",tag:"h2",className:"program-title"}),u.jsxs("div",{className:"program-schedule",children:[u.jsxs("div",{className:"program-day",children:[u.jsx(z,{textKey:"ulricehamn-friday-title",defaultText:"Fredag 9/5",tag:"h3",className:"day-title"}),u.jsx(z,{textKey:"ulricehamn-friday-schedule",defaultText:"17:00 - 19:00 Nummerlappsutdelning på XCC",tag:"p",className:"schedule-item"})]}),u.jsxs("div",{className:"program-day",children:[u.jsx(z,{textKey:"ulricehamn-saturday-title",defaultText:"Lördag 10/5",tag:"h3",className:"day-title"}),u.jsx(z,{textKey:"ulricehamn-saturday-schedule1",defaultText:"08:30 - 10:15 Registrering för alla tävlande som ej registrerat sig under fredagen på 157 XCC, på Lassalyckan.",tag:"p",className:"schedule-item"}),u.jsx(z,{textKey:"ulricehamn-saturday-schedule2",defaultText:"10:30 Obligatoriskt informationsmöte vid starten på Lassalyckan stadion.",tag:"p",className:"schedule-item"}),u.jsx(z,{textKey:"ulricehamn-saturday-schedule3",defaultText:"11:00 Start AIM Challenge, på Lassalyckan stadion. Gemensam start för 3 & 6-timmars tävlingen.",tag:"p",className:"schedule-item"}),u.jsx(z,{textKey:"ulricehamn-saturday-schedule4",defaultText:"14:00 Målgång för 3-timmars tävlingen.",tag:"p",className:"schedule-item"}),u.jsx(z,{textKey:"ulricehamn-saturday-schedule5",defaultText:"ca 15:30 Prisutdelning 3-timmars tävlingen",tag:"p",className:"schedule-item"}),u.jsx(z,{textKey:"ulricehamn-saturday-schedule6",defaultText:"16:30 - 20:00 After AIM med mat och dryck på Hotell Lassalyckan.",tag:"p",className:"schedule-item"}),u.jsx(z,{textKey:"ulricehamn-saturday-schedule7",defaultText:"17:00 Målgång för 6-timmars tävlingen.",tag:"p",className:"schedule-item"}),u.jsx(z,{textKey:"ulricehamn-saturday-schedule8",defaultText:"19:00 Prisutdelning utanför Hotell Lassalyckan.",tag:"p",className:"schedule-item"})]})]})]})]})})}),u.jsx("section",{className:"ulricehamn-price-section",children:u.jsx("div",{className:"price-container",children:u.jsxs("div",{className:"price-image-container",children:[u.jsx("img",{src:"/images/EE-AIMChallenge24-Uhamn-0171-high.jpg",alt:"Climbing in Ulricehamn",className:"price-background-image"}),u.jsx("div",{className:"price-overlay",children:u.jsxs("div",{className:"price-content",children:[u.jsx(z,{textKey:"ulricehamn-price-title",defaultText:"PRIS",tag:"h2",className:"section-title"}),u.jsx(z,{textKey:"ulricehamn-price-subtitle",defaultText:"ULRICEHAMN 10/5-2025",tag:"h3",className:"price-subtitle"}),u.jsxs("div",{className:"price-categories",children:[u.jsxs("div",{className:"price-category",children:[u.jsx(z,{textKey:"ulricehamn-price-3h-title",defaultText:"3-TIMMARS",tag:"h4",className:"category-title"}),u.jsx(z,{textKey:"ulricehamn-price-3h-1",defaultText:"1500 SEK / lag för Early Bird-anmälan innan 1 november.",tag:"p",className:"price-item"}),u.jsx(z,{textKey:"ulricehamn-price-3h-2",defaultText:"1700 SEK / lag för anmälan mellan 1 november och 1 februari.",tag:"p",className:"price-item"}),u.jsx(z,{textKey:"ulricehamn-price-3h-3",defaultText:"1900 SEK / lag för anmälan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(z,{textKey:"ulricehamn-price-3h-4",defaultText:"2100 SEK / lag för anmälan från 25 april och fram till start.",tag:"p",className:"price-item"})]}),u.jsxs("div",{className:"price-category",children:[u.jsx(z,{textKey:"ulricehamn-price-6h-title",defaultText:"6-TIMMARS",tag:"h4",className:"category-title"}),u.jsx(z,{textKey:"ulricehamn-price-6h-1",defaultText:"1900 SEK / lag för Early Bird-anmälan innan 1 november.",tag:"p",className:"price-item"}),u.jsx(z,{textKey:"ulricehamn-price-6h-2",defaultText:"2100 SEK / lag för anmälan mellan 1 november och 1 februari.",tag:"p",className:"price-item"}),u.jsx(z,{textKey:"ulricehamn-price-6h-3",defaultText:"2300 SEK / lag för anmälan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(z,{textKey:"ulricehamn-price-6h-4",defaultText:"2500 SEK / lag för anmälan från 25 april och fram till start.",tag:"p",className:"price-item"})]})]}),u.jsxs("div",{className:"price-category trippeln-category",children:[u.jsx(z,{textKey:"ulricehamn-price-trippeln-title",defaultText:"AIM CHALLENGE TRIPPELN 2025",tag:"h4",className:"category-title"}),u.jsx(z,{textKey:"ulricehamn-price-trippeln-1",defaultText:"4750 SEK / lag för Early Bird-anmälan innan 1 januari.",tag:"p",className:"price-item"}),u.jsx(z,{textKey:"ulricehamn-price-trippeln-2",defaultText:"5250 SEK / lag för anmälan mellan 1 januari och 1 februari.",tag:"p",className:"price-item"}),u.jsx(z,{textKey:"ulricehamn-price-trippeln-3",defaultText:"5750 SEK / lag för anmälan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(z,{textKey:"ulricehamn-price-trippeln-4",defaultText:"6250 SEK / lag för anmälan efter den 25 april.",tag:"p",className:"price-item"})]}),u.jsx("div",{className:"price-button-container",children:u.jsx("a",{href:"https://raceid.com/sv/races/12846/about",target:"_blank",rel:"noopener noreferrer",className:"anmalan-button",children:u.jsx("p",{children:"TA MIG TILL ANMÄLAN"})})})]})})]})})}),u.jsxs("section",{id:"latest-news",className:"latest-news-section",children:[u.jsx("h2",{className:"latest-news-title",children:"SENASTE NYTT ULRICEHAMN"}),u.jsxs("div",{className:"latest-news-container",children:[u.jsxs("div",{className:"news-card",children:[u.jsx("div",{className:"news-image",children:u.jsx("img",{src:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg",alt:"News"})}),u.jsxs("div",{className:"news-content",children:[u.jsx("h3",{className:"news-location",children:"NYHETSARTIKEL 1"}),u.jsx("p",{className:"news-description",children:"Brödtext om tävlingen, 2 korta em-ningar"}),u.jsx("div",{className:"news-button",children:u.jsx(Se,{to:"/news/1",className:"button-2",children:u.jsx("span",{children:"LÄS MER"})})})]})]}),u.jsxs("div",{className:"news-card",children:[u.jsx("div",{className:"news-image",children:u.jsx("img",{src:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg",alt:"News"})}),u.jsxs("div",{className:"news-content",children:[u.jsx("h3",{className:"news-location",children:"NYHETSARTIKEL 2"}),u.jsx("p",{className:"news-description",children:"Brödtext om tävlingen, 2 korta em-ningar"}),u.jsx("div",{className:"news-button",children:u.jsx(Se,{to:"/news/2",className:"button-2",children:u.jsx("span",{children:"LÄS MER"})})})]})]}),u.jsxs("div",{className:"news-card",children:[u.jsx("div",{className:"news-image",children:u.jsx("img",{src:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg",alt:"News"})}),u.jsxs("div",{className:"news-content",children:[u.jsx("h3",{className:"news-location",children:"NYHETSARTIKEL 3"}),u.jsx("p",{className:"news-description",children:"Brödtext om tävlingen, 2 korta em-ningar"}),u.jsx("div",{className:"news-button",children:u.jsx(Se,{to:"/news/3",className:"button-2",children:u.jsx("span",{children:"LÄS MER"})})})]})]})]})]}),u.jsx("section",{className:"useful-links-section",children:u.jsxs("div",{className:"useful-links-container",children:[u.jsx("h2",{className:"useful-links-title",children:"NYTTIGA LÄNKAR"}),u.jsxs("div",{className:"links-category",children:[u.jsx("h3",{className:"links-category-title",children:"Cykeluthyrning"}),u.jsxs("p",{className:"links-text",children:["Cykeluthyrning med in- och utlämning på Lassalyckan Stadion."," ",u.jsx("a",{href:"#",className:"links-link",children:"Läs mer och boka här."})]})]}),u.jsxs("div",{className:"links-category",children:[u.jsx("h3",{className:"links-category-title",children:"Boende"}),u.jsx("p",{className:"links-text",children:"Önskar du att bo nära start och mål så kan vi varmt rekommendera Hotell Lassalyckan som erbjuder ett modernt boende ett stenkast ifrån starten."}),u.jsx("a",{href:"https://www.hotell-lassalyckan.se",className:"links-link",target:"_blank",rel:"noopener noreferrer",children:"https://www.hotell-lassalyckan.se"})]}),u.jsxs("div",{className:"links-category",children:[u.jsx("h3",{className:"links-category-title",children:"Mat"}),u.jsx("p",{className:"links-text",children:"Önskar du att bo nära start och mål så kan vi varmt rekommendera Hotell Lassalyckan som erbjuder ett modernt boende ett stenkast ifrån starten."})]})]})}),u.jsxs("section",{className:"sponsors-section",children:[u.jsx("h2",{className:"sponsors-title",children:"LOKALA SPONSORER"}),u.jsxs("div",{className:"sponsors-container",children:[u.jsx("div",{className:"sponsor-logo side-logo",children:u.jsx("img",{src:"/images/UD Logo.png",alt:"UD Logo"})}),u.jsx("div",{className:"sponsor-logo main-logo",children:u.jsx("img",{src:"/images/Aim_Challenge_logo_white.svg",alt:"AIM Challenge"})}),u.jsx("div",{className:"sponsor-logo side-logo",children:u.jsx("img",{src:"/images/holdut_logo_sort_1.png",alt:"Holdut Logo"})})]})]}),u.jsx("section",{className:"footer-section",children:u.jsxs("div",{className:"footer-container",children:[u.jsxs("div",{className:"footer-top",children:[u.jsxs("div",{className:"footer-left",children:[u.jsx("div",{className:"footer-logo",children:u.jsx("img",{src:"/images/Aim_Challenge_logo_white.svg",alt:"AIM Challenge"})}),u.jsxs("div",{className:"footer-info",children:[u.jsx("p",{children:"Loftsdalian 108, 30129 Halmstad"}),u.jsx("p",{children:u.jsx("a",{href:"mailto:info@aimchallenge.com",children:"info@aimchallenge.com"})}),u.jsx("p",{children:"+46 (0) 73-81 87 54"})]}),u.jsxs("div",{className:"footer-social",children:[u.jsx("a",{href:"#",className:"social-icon",children:u.jsx("i",{className:"fa fa-instagram"})}),u.jsx("a",{href:"#",className:"social-icon",children:u.jsx("i",{className:"fa fa-facebook"})}),u.jsx("a",{href:"#",className:"social-icon",children:u.jsx("i",{className:"fa fa-twitter"})})]})]}),u.jsxs("div",{className:"footer-columns",children:[u.jsxs("div",{className:"footer-column footer-column-center",children:[u.jsx("h3",{className:"footer-title",children:"INFORMATION"}),u.jsxs("ul",{className:"footer-links",children:[u.jsx("li",{children:u.jsx("a",{href:"#",children:"Anmälningsvillkor"})}),u.jsx("li",{children:u.jsx("a",{href:"#",children:"Integritetspolicy"})}),u.jsx("li",{children:u.jsx("a",{href:"#",children:"FAQ"})})]})]}),u.jsxs("div",{className:"footer-column footer-column-right",children:[u.jsx("h3",{className:"footer-title",children:"NYHETSBREV"}),u.jsx("p",{className:"footer-newsletter-text",children:"Åtext om nyhetsbrev, samt en optin ruta för att fylla i sin epostadress. Integration mot mailchimp."})]})]})]}),u.jsx("div",{className:"footer-copyright",children:u.jsx("p",{children:"© Copyright AIM Challenge."})})]})})]}),mD=()=>u.jsxs("div",{className:"salen-container",children:[u.jsx("section",{className:"salen-hero-section",children:u.jsx("div",{className:"hero-content",children:u.jsx("div",{className:"hero-image-container",children:u.jsx("img",{src:"/images/salen-hero.jpg",alt:"Sälen Event"})})})}),u.jsx("section",{className:"salen-title-section",children:u.jsx("div",{className:"title-container",children:u.jsx(z,{textKey:"salen-title-with-date",defaultText:"SÄLEN - 1 AUGUSTI 2025",tag:"h1",className:"salen-title"})})}),u.jsx("section",{className:"salen-button-section",children:u.jsx("div",{className:"button-container",children:u.jsx("a",{href:"https://raceid.com/sv/races/13016/about",target:"_blank",rel:"noopener noreferrer",className:"anmalan-button",children:u.jsx("p",{children:"TA MIG TILL ANMÄLAN"})})})}),u.jsx("section",{className:"latest-news-section",children:u.jsxs("div",{className:"news-container",children:[u.jsx("h2",{className:"news-title",children:"SENASTE NYTT"}),u.jsxs("div",{className:"news-cards",children:[u.jsxs("div",{className:"news-card",children:[u.jsx("div",{className:"news-image",children:u.jsx("img",{src:"/images/salen-news-1.jpg",alt:"Sälen News"})}),u.jsxs("div",{className:"news-content",children:[u.jsx("h3",{className:"news-location",children:"NYHETSARTIKEL 1"}),u.jsx("p",{className:"news-description",children:"Brödtext om tävlingen, 2 korta em-ningar"}),u.jsx("div",{className:"news-button",children:u.jsx(Se,{to:"/news/1",className:"button-2",children:u.jsx("span",{children:"LÄS MER"})})})]})]}),u.jsxs("div",{className:"news-card",children:[u.jsx("div",{className:"news-image",children:u.jsx("img",{src:"/images/salen-news-1.jpg",alt:"Sälen News"})}),u.jsxs("div",{className:"news-content",children:[u.jsx("h3",{className:"news-location",children:"NYHETSARTIKEL 2"}),u.jsx("p",{className:"news-description",children:"Brödtext om tävlingen, 2 korta em-ningar"}),u.jsx("div",{className:"news-button",children:u.jsx(Se,{to:"/news/2",className:"button-2",children:u.jsx("span",{children:"LÄS MER"})})})]})]}),u.jsxs("div",{className:"news-card",children:[u.jsx("div",{className:"news-image",children:u.jsx("img",{src:"/images/salen-news-1.jpg",alt:"Sälen News"})}),u.jsxs("div",{className:"news-content",children:[u.jsx("h3",{className:"news-location",children:"NYHETSARTIKEL 3"}),u.jsx("p",{className:"news-description",children:"Brödtext om tävlingen, 2 korta em-ningar"}),u.jsx("div",{className:"news-button",children:u.jsx(Se,{to:"/news/3",className:"button-2",children:u.jsx("span",{children:"LÄS MER"})})})]})]})]})]})}),u.jsx("section",{className:"useful-links-section",children:u.jsxs("div",{className:"useful-links-container",children:[u.jsx("h2",{className:"useful-links-title",children:"NYTTIGA LÄNKAR"}),u.jsxs("div",{className:"links-category",children:[u.jsx("h3",{className:"links-category-title",children:"Cykeluthyrning"}),u.jsxs("p",{className:"links-text",children:["Cykeluthyrning med in- och utlämning på Sälen."," ",u.jsx("a",{href:"#",className:"links-link",children:"Läs mer och boka här."})]})]}),u.jsxs("div",{className:"links-category",children:[u.jsx("h3",{className:"links-category-title",children:"Boende"}),u.jsx("p",{className:"links-text",children:"Önskar du att bo nära start och mål så kan vi varmt rekommendera Skistar Sälen som erbjuder ett modernt boende ett stenkast ifrån starten."}),u.jsx("a",{href:"https://www.skistar.com/sv/boka/boende/",className:"links-link",target:"_blank",rel:"noopener noreferrer",children:"https://www.skistar.com/sv/boka/boende/"})]}),u.jsxs("div",{className:"links-category",children:[u.jsx("h3",{className:"links-category-title",children:"Mat"}),u.jsx("p",{className:"links-text",children:"Det finns flera restauranger i Sälen som erbjuder god mat och dryck. Vi rekommenderar att boka bord i förväg."})]})]})}),u.jsxs("section",{className:"sponsors-section",children:[u.jsx("h2",{className:"sponsors-title",children:"LOKALA SPONSORER"}),u.jsxs("div",{className:"sponsors-container",children:[u.jsx("div",{className:"sponsor-logo side-logo",children:u.jsx("img",{src:"/images/skistar-logo.png",alt:"Skistar Logo"})}),u.jsx("div",{className:"sponsor-logo main-logo",children:u.jsx("img",{src:"/images/Aim_Challenge_logo_white.svg",alt:"AIM Challenge"})}),u.jsx("div",{className:"sponsor-logo side-logo",children:u.jsx("img",{src:"/images/salen-sponsor.png",alt:"Sponsor Logo"})})]})]}),u.jsx("section",{className:"footer-section",children:u.jsxs("div",{className:"footer-container",children:[u.jsxs("div",{className:"footer-top",children:[u.jsxs("div",{className:"footer-left",children:[u.jsx("div",{className:"footer-logo",children:u.jsx("img",{src:"/images/Aim_Challenge_logo_white.svg",alt:"AIM Challenge"})}),u.jsxs("div",{className:"footer-info",children:[u.jsx("p",{children:"Loftsdalian 108, 30129 Halmstad"}),u.jsx("p",{children:u.jsx("a",{href:"mailto:info@aimchallenge.com",children:"info@aimchallenge.com"})}),u.jsx("p",{children:"+46 (0) 73-81 87 54"})]}),u.jsxs("div",{className:"footer-social",children:[u.jsx("a",{href:"#",className:"social-icon",children:u.jsx("i",{className:"fa fa-instagram"})}),u.jsx("a",{href:"#",className:"social-icon",children:u.jsx("i",{className:"fa fa-facebook"})}),u.jsx("a",{href:"#",className:"social-icon",children:u.jsx("i",{className:"fa fa-twitter"})})]})]}),u.jsxs("div",{className:"footer-columns",children:[u.jsxs("div",{className:"footer-column footer-column-center",children:[u.jsx("h3",{className:"footer-title",children:"INFORMATION"}),u.jsxs("ul",{className:"footer-links",children:[u.jsx("li",{children:u.jsx("a",{href:"#",children:"Anmälningsvillkor"})}),u.jsx("li",{children:u.jsx("a",{href:"#",children:"Integritetspolicy"})}),u.jsx("li",{children:u.jsx("a",{href:"#",children:"FAQ"})})]})]}),u.jsxs("div",{className:"footer-column footer-column-right",children:[u.jsx("h3",{className:"footer-title",children:"KONTAKT"}),u.jsxs("ul",{className:"footer-links",children:[u.jsx("li",{children:u.jsx("a",{href:"mailto:info@aimchallenge.com",children:"info@aimchallenge.com"})}),u.jsx("li",{children:u.jsx("a",{href:"tel:+46738187554",children:"+46 (0) 73-81 87 54"})})]})]})]})]}),u.jsx("div",{className:"footer-copyright",children:u.jsx("p",{children:"© 2025 AIM Challenge. Alla rättigheter förbehållna."})})]})})]}),gD=()=>u.jsxs("div",{className:"MaxWH location",children:[u.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",children:u.jsxs("div",{className:"trans-background page_01box flex flex_col flex_j_SA",children:[u.jsx(z,{textKey:"hemsedal-title",defaultText:"HEMSEDAL",tag:"p",className:"font_blue fonts_huge"}),u.jsx(z,{textKey:"hemsedal-date",defaultText:"datum insert",tag:"p",className:"font_blue fonts_medium competitions-date text-center"})]})}),u.jsx("section",{className:"hemsedal-button-section-bg flex flex_j_C flex_a_C",children:u.jsx("a",{href:"https://raceid.com/sv/races/13015/about",target:"_blank",rel:"noopener noreferrer",className:"hemsedal-button flex flex_j_C flex_a_C",children:u.jsx("p",{className:"font_white fonts_medium",children:"TA MIG TILL ANMÄLAN"})})}),u.jsxs("section",{className:"hemsedal-section hemsedal-bg-1 flex flex_j_C flex_a_C",children:[u.jsxs("div",{className:"hemsedal-content trans-background MaxWH flex flex_col flex_j_C",children:[u.jsx(z,{textKey:"hemsedal-program-title",defaultText:"PROGRAM",tag:"p",className:"font_blue fonts_large"}),u.jsx(z,{textKey:"hemsedal-program-subtitle",defaultText:"PRELIMINÄRT PROGRAM:",tag:"p",className:"font_blue fonts_medium"}),u.jsxs("div",{className:"font_blue",children:[u.jsx(z,{textKey:"hemsedal-friday-title",defaultText:"FREDAG 23 AUGUSTI",tag:"p",className:"fonts_medium"}),u.jsx(z,{textKey:"hemsedal-friday-schedule",defaultText:"17:00 - 20:00 Nummerlappsutdelning för alla tävlande på SkiStarshop Hemsedal",tag:"p",className:"fonts_xsmall hemsedal-time-entry"})]}),u.jsxs("div",{className:"font_blue",children:[u.jsx(z,{textKey:"hemsedal-saturday-title",defaultText:"LÖRDAG 24 AUGUSTI",tag:"p",className:"fonts_medium"}),u.jsx(z,{textKey:"hemsedal-saturday-schedule1",defaultText:"08:30-09:00 Nummerlappsutdelning vid starten",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),u.jsx(z,{textKey:"hemsedal-saturday-schedule2",defaultText:"09:30 Obligatoriskt infomöte vid starten",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),u.jsx(z,{textKey:"hemsedal-saturday-schedule3",defaultText:"10:00 START! Start/målområde vid Hemsedal Skisenter",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),u.jsx(z,{textKey:"hemsedal-saturday-schedule4",defaultText:"15:30 After AIM på Stavkroa",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),u.jsx(z,{textKey:"hemsedal-saturday-schedule5",defaultText:"16:00 Målgång AIM Challenge",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),u.jsx(z,{textKey:"hemsedal-saturday-schedule6",defaultText:"18:00 Prisutdelning på Stavkroa",tag:"p",className:"fonts_xsmall hemsedal-time-entry"})]})]}),u.jsx("div",{className:"hemsedal-spacer MaxWH"})]}),u.jsxs("section",{className:"hemsedal-section hemsedal-bg-2 flex flex_j_C flex_a_C",children:[u.jsx("div",{className:"hemsedal-spacer MaxWH"}),u.jsxs("div",{className:"hemsedal-content trans-background MaxWH flex flex_col flex_j_C",children:[u.jsx(z,{textKey:"hemsedal-pris-title",defaultText:"PRIS",tag:"p",className:"font_blue fonts_large"}),u.jsxs("div",{className:"font_blue",children:[u.jsx(z,{textKey:"hemsedal-pris-date",defaultText:"HEMSEDAL",tag:"p",className:"fonts_medium"}),u.jsx("a",{href:"https://raceid.com/sv/races/13015/about",target:"_blank",rel:"noopener noreferrer",children:u.jsx(z,{textKey:"hemsedal-date",defaultText:"24/8-2024",tag:"p",className:"font_blue fonts_medium competitions-date text-center"})}),u.jsx(z,{textKey:"hemsedal-pris-price1",defaultText:"1900 NOK / lag för Early Bird-anmälan innan 1 januari",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),u.jsx(z,{textKey:"hemsedal-pris-price2",defaultText:"2100 NOK / lag för anmälan mellan 1 januari och 1 april",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),u.jsx(z,{textKey:"hemsedal-pris-price3",defaultText:"2300 NOK / lag för anmälan mellan 2 april och 18 juli",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),u.jsx(z,{textKey:"hemsedal-pris-price4",defaultText:"2500 NOK / lag för anmälan från 19 juli och fram till start",tag:"p",className:"fonts_xsmall hemsedal-time-entry"})]}),u.jsxs("div",{className:"font_blue",children:[u.jsx(z,{textKey:"hemsedal-trippeln-title",defaultText:"AIM CHALLENGE TRIPPELN 2025",tag:"p",className:"fonts_medium"}),u.jsx(z,{textKey:"hemsedal-trippeln-price1",defaultText:"4750 SEK / lag för Early Bird-anmälan innan 1 januari",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),u.jsx(z,{textKey:"hemsedal-trippeln-price2",defaultText:"5250 SEK / lag för anmälan mellan 1 januari och 1 februari",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),u.jsx(z,{textKey:"hemsedal-trippeln-price3",defaultText:"5750 SEK / lag för anmälan mellan 2 februari och 25 april",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),u.jsx(z,{textKey:"hemsedal-trippeln-price4",defaultText:"6250 SEK / lag för anmälan efter den 26 april",tag:"p",className:"fonts_xsmall hemsedal-time-entry"})]}),u.jsxs("div",{className:"font_blue",children:[u.jsx(z,{textKey:"hemsedal-landskampen-title",defaultText:"LANDSKAMPEN = LINDVALLEN OCH HEMSEDAL",tag:"p",className:"fonts_medium"}),u.jsx(z,{textKey:"hemsedal-landskampen-price1",defaultText:"3400 SEK / lag för anmälan innan 1 maj",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),u.jsx(z,{textKey:"hemsedal-landskampen-price2",defaultText:"3800 SEK / lag för anmälan mellan 1 maj och 1 juli",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),u.jsx(z,{textKey:"hemsedal-landskampen-price3",defaultText:"4200 SEK / lag för anmälan från 1 juli och framåt",tag:"p",className:"fonts_xsmall hemsedal-time-entry"})]}),u.jsx("a",{href:"https://raceid.com/sv/races/13014/about",target:"_blank",rel:"noopener noreferrer",className:"button-2 hemsedal-button-align flex flex_s",children:u.jsx("span",{className:"font_white",children:"ANMÄLAN"})})]})]}),u.jsxs("section",{className:"hemsedal-section hemsedal-bg-3 flex flex_j_C flex_a_C",children:[u.jsxs("div",{className:"hemsedal-content trans-background MaxWH flex flex_col flex_j_C",children:[u.jsx(z,{textKey:"hemsedal-overnattning-title",defaultText:"ÖVERNATTNING OCH MAT",tag:"p",className:"font_blue fonts_large"}),u.jsxs("div",{className:"font_blue hemsedal-text-block",children:[u.jsx(z,{textKey:"hemsedal-overnattning-subtitle",defaultText:"ÖVERNATTNING",tag:"p",className:"fonts_medium"}),u.jsx(z,{textKey:"hemsedal-overnattning-info",defaultText:"Boende bokas enklast genom Skistar. Klicka för att komma direkt till bokningssida.",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),u.jsx(z,{textKey:"hemsedal-cykeluthyrning-info",defaultText:"Cykel kan hyras hos Concept Store. Klicka för att komma till bokningssida.",tag:"p",className:"fonts_xsmall hemsedal-time-entry"})]}),u.jsxs("div",{className:"font_blue hemsedal-text-block",children:[u.jsx(z,{textKey:"hemsedal-mat-subtitle",defaultText:"MAT",tag:"p",className:"fonts_medium"}),u.jsx(z,{textKey:"hemsedal-mat-friday",defaultText:"FREDAG:",tag:"p",className:"fonts_small"}),u.jsx(z,{textKey:"hemsedal-mat-friday-info",defaultText:"18:00 - 21:00 Italiensk pizza som Take Away - Beställ på plats på lodgen Spiseri eller ring +47 458 65 086. Meny kommer att läggas ut HÄR.",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),u.jsx(z,{textKey:"hemsedal-mat-saturday",defaultText:"LÖRDAG:",tag:"p",className:"fonts_small"}),u.jsx(z,{textKey:"hemsedal-mat-saturday-info1",defaultText:"10:00 - 15:00 Cafe och lunchservering på Lodgen Spiseri",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),u.jsx(z,{textKey:"hemsedal-mat-saturday-info2",defaultText:"15:30-18:00 After AIM på Lodgen Spiseri. Viktigt att fylla på med vätska och energi efter målgång!",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),u.jsx(z,{textKey:"hemsedal-mat-saturday-info3",defaultText:"19:30 Bankettmiddag på Lodgen Spiseri. Bokas här.",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),u.jsx(z,{textKey:"hemsedal-mat-sunday",defaultText:"SÖNDAG:",tag:"p",className:"fonts_small"}),u.jsx(z,{textKey:"hemsedal-mat-sunday-info",defaultText:"10:00 - 15:00 Cafe och lunchservering på Lodgen Spiseri",tag:"p",className:"fonts_xsmall hemsedal-time-entry"})]}),u.jsx("div",{className:"font_blue hemsedal-text-block",children:u.jsx(z,{textKey:"hemsedal-mat-info",defaultText:"Lodgen Spiseri följer alla de nationella riktlinjerna för att ge dig en trygg och bra upplevelse.",tag:"p",className:"fonts_xsmall"})})]}),u.jsx("div",{className:"hemsedal-spacer MaxWH"})]})]}),pD=()=>u.jsxs("div",{className:"MaxWH location",children:[u.jsx("div",{className:"set-03",style:{height:"120px"}}),u.jsx("section",{className:"page_01 kolmarden-bg-1 flex flex_col flex_j_E set-03",children:u.jsxs("div",{className:"trans-background page_01box flex flex_col flex_j_SA",children:[u.jsx(z,{textKey:"kolmarden-title",defaultText:"KOLMÅRDEN",tag:"p",className:"font_blue fonts_huge"}),u.jsx(z,{textKey:"kolmarden-date",defaultText:"datum insert",tag:"p",className:"font_blue fonts_medium competitions-date text-center"})]})}),u.jsx("section",{className:"kolmarden-button-section-bg flex flex_j_C flex_a_C set-03",children:u.jsx("a",{href:"https://raceid.com/sv/races/13014/about",target:"_blank",rel:"noopener noreferrer",className:"kolmarden-button flex flex_j_C flex_a_C",children:u.jsx("p",{className:"font_white fonts_medium",children:"TA MIG TILL ANMÄLAN"})})}),u.jsx("section",{className:"kolmarden-section kolmarden-bg-2 flex flex_j_R flex_a_C set-03",children:u.jsxs("div",{className:"kolmarden-content trans-background MaxWH flex flex_col flex_j_C",children:[u.jsx(z,{textKey:"kolmarden-program-title",defaultText:"PROGRAM",tag:"p",className:"font_blue fonts_large"}),u.jsx(z,{textKey:"kolmarden-program-subtitle",defaultText:"PRELIMINÄRT PROGRAM:",tag:"p",className:"font_blue fonts_medium"}),u.jsxs("div",{className:"font_blue",children:[u.jsx(z,{textKey:"kolmarden-friday-title",defaultText:"FREDAG 27 SEPTEMBER",tag:"p",className:"fonts_small kolmarden-day-title"}),u.jsx(z,{textKey:"kolmarden-friday-program",defaultText:"15:00-19:00 Tävlingsexpeditionen öppen, utlämning av nummerlappar och kartor",tag:"p",className:"fonts_xsmall kolmarden-program-entry"})]}),u.jsxs("div",{className:"font_blue",children:[u.jsx(z,{textKey:"kolmarden-saturday-title",defaultText:"LÖRDAG 28 SEPTEMBER",tag:"p",className:"fonts_small kolmarden-day-title"}),u.jsx(z,{textKey:"kolmarden-saturday-program-1",defaultText:"07:30-08:30 Tävlingsexpeditionen öppen, utlämning av nummerlappar och kartor",tag:"p",className:"fonts_xsmall kolmarden-program-entry"}),u.jsx(z,{textKey:"kolmarden-saturday-program-2",defaultText:"08:30 Obligatorisk genomgång vid startområdet",tag:"p",className:"fonts_xsmall kolmarden-program-entry"}),u.jsx(z,{textKey:"kolmarden-saturday-program-3",defaultText:"09:00 Start",tag:"p",className:"fonts_xsmall kolmarden-program-entry"}),u.jsx(z,{textKey:"kolmarden-saturday-program-4",defaultText:"15:00 Målet stänger",tag:"p",className:"fonts_xsmall kolmarden-program-entry"}),u.jsx(z,{textKey:"kolmarden-saturday-program-5",defaultText:"16:00 Prisutdelning",tag:"p",className:"fonts_xsmall kolmarden-program-entry"})]})]})}),u.jsx("section",{className:"kolmarden-section kolmarden-bg-3 flex flex_j_E flex_a_C set-03",children:u.jsxs("div",{className:"kolmarden-content trans-background MaxWH flex flex_col flex_j_C",children:[u.jsx(z,{textKey:"kolmarden-registration-title",defaultText:"ANMÄLAN",tag:"p",className:"font_blue fonts_large"}),u.jsx("div",{className:"font_blue kolmarden-text-block",children:u.jsx(z,{textKey:"kolmarden-registration-text",defaultText:"Anmälan görs via RaceID. Klicka på knappen nedan för att komma till anmälningssidan.",tag:"p"})}),u.jsxs("div",{className:"kolmarden-registration-info font_blue",children:[u.jsxs("div",{className:"kolmarden-registration-column",children:[u.jsx(z,{textKey:"kolmarden-registration-early-title",defaultText:"ORDINARIE ANMÄLAN",tag:"p",className:"fonts_small kolmarden-fee-title"}),u.jsx(z,{textKey:"kolmarden-registration-early-dates",defaultText:"t.o.m. 31 augusti 2024",tag:"p",className:"fonts_xsmall kolmarden-date-entry"}),u.jsx(z,{textKey:"kolmarden-registration-early-fee",defaultText:"1 495 kr / lag",tag:"p",className:"fonts_xsmall kolmarden-fee-entry"})]}),u.jsxs("div",{className:"kolmarden-registration-column",children:[u.jsx(z,{textKey:"kolmarden-registration-late-title",defaultText:"SEN ANMÄLAN",tag:"p",className:"fonts_small kolmarden-fee-title"}),u.jsx(z,{textKey:"kolmarden-registration-late-dates",defaultText:"1 september - 20 september 2024",tag:"p",className:"fonts_xsmall kolmarden-date-entry"}),u.jsx(z,{textKey:"kolmarden-registration-late-fee",defaultText:"1 795 kr / lag",tag:"p",className:"fonts_xsmall kolmarden-fee-entry"})]}),u.jsxs("div",{className:"kolmarden-registration-column",children:[u.jsx(z,{textKey:"kolmarden-registration-onsite-title",defaultText:"EFTERANMÄLAN",tag:"p",className:"fonts_small kolmarden-fee-title"}),u.jsx(z,{textKey:"kolmarden-registration-onsite-dates",defaultText:"21 september - 27 september 2024",tag:"p",className:"fonts_xsmall kolmarden-date-entry"}),u.jsx(z,{textKey:"kolmarden-registration-onsite-fee",defaultText:"1 995 kr / lag",tag:"p",className:"fonts_xsmall kolmarden-fee-entry"})]})]}),u.jsxs("div",{className:"kolmarden-text-block font_blue",children:[u.jsx(z,{textKey:"kolmarden-registration-includes",defaultText:"I anmälningsavgiften ingår:",tag:"p",className:"fonts_small"}),u.jsx(z,{textKey:"kolmarden-registration-includes-list",defaultText:"Kartor, nummerlappar, tidtagningschip, vätskekontroller under loppet, enklare mat efter målgång, sjukvård och säkerhet under loppet.",tag:"p",className:"fonts_xsmall kolmarden-time-entry"})]}),u.jsx("a",{href:"https://raceid.com/sv/races/13014/about",target:"_blank",rel:"noopener noreferrer",className:"button-2 kolmarden-button-align flex flex_s",children:u.jsx(z,{textKey:"kolmarden-anmalan-button2",defaultText:"ANMÄLAN",tag:"span",className:"font_white"})})]})}),u.jsxs("section",{className:"kolmarden-section kolmarden-bg-4 flex flex_j_R flex_a_C set-03",children:[u.jsxs("div",{className:"kolmarden-content trans-background MaxWH flex flex_col flex_j_C",children:[u.jsx(z,{textKey:"kolmarden-accommodation-title",defaultText:"ÖVERNATTNING OCH MAT",tag:"p",className:"font_blue fonts_large"}),u.jsxs("div",{className:"font_blue kolmarden-text-block",children:[u.jsx(z,{textKey:"kolmarden-accommodation-text",defaultText:"Under tävlingshelgen bor du smidigt på First Camp Kolmården – Norrköping med krypavstånd från start- och målgången. Som tävlingsdeltagare får du dessutom 25% rabatt på stugor och camping när du bokar online.",tag:"p"}),u.jsx(z,{textKey:"kolmarden-discount-code",defaultText:"Rabattkod: AIMCHALLENGE25",tag:"p",className:"fonts_small"}),u.jsx(z,{textKey:"kolmarden-discount-dates",defaultText:"23-29 september 2024",tag:"p",className:"fonts_small"}),u.jsx(z,{textKey:"kolmarden-discount-note1",defaultText:"Endast BAS-bokningar",tag:"p",className:"fonts_small"}),u.jsx(z,{textKey:"kolmarden-discount-note2",defaultText:"Boka online på firstcamp.se",tag:"p",className:"fonts_small"}),u.jsx("div",{className:"kolmarden-button-align",children:u.jsx("a",{href:"https://firstcamp.se",target:"_blank",rel:"noopener noreferrer",className:"kolmarden-link",children:u.jsx(z,{textKey:"kolmarden-book-here",defaultText:"Boka här",tag:"span"})})})]}),u.jsxs("div",{className:"font_blue kolmarden-text-block",children:[u.jsx("p",{children:u.jsx(z,{textKey:"kolmarden-other-accommodation",defaultText:"Övriga boendealternativ finns att hitta här.",tag:"span"})}),u.jsx("p",{children:u.jsx(z,{textKey:"kolmarden-food-tips",defaultText:"Tips på ställen att äta i samband med ditt besök i Norrköping/Kolmården.",tag:"span"})}),u.jsx("p",{children:u.jsx(z,{textKey:"kolmarden-other-activities",defaultText:"Här kan du hitta inspiration på övriga saker att se och göra under ditt besök i Norrköping/Kolmården.",tag:"span"})})]})]}),u.jsx("div",{className:"kolmarden-spacer MaxWH"})]})]}),_D=()=>u.jsxs("div",{className:"MaxWH location",children:[u.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",children:u.jsx("div",{className:"trans-background page_01box flex flex_col flex_j_SA",children:u.jsx("p",{className:"font_blue fonts_huge",children:"AIM CHALLENGE TRIPPELN"})})}),u.jsxs("section",{className:"trippeln-section trippeln-bg",children:[u.jsx("div",{className:"trippeln-content trans-background",children:u.jsxs("div",{className:"font_blue",children:[u.jsx("p",{className:"fonts_medium",children:"Trippeln är en tävling i tävlingen där de som deltar i minst tre av årets deltävlingar är med och tävlar om den mycket hedervärda titeln Vinnare av AIM Challenge Trippeln!"}),u.jsx("br",{}),u.jsx("p",{children:"AIM Challenge Trippeln ersätter Landskampen som sedan 2010 har varit en tävling i tävlingen för de som genomfört AIM Challenge både i Lindvallen och Hemsedal. En tävling där det tävlats för antingen Sverige eller Norge, där det vinnande landet har hyllats och den som bidragit mest till sitt land har prisats."}),u.jsx("br",{}),u.jsx("p",{children:"Med AIM Challenge Trippeln lägger vi ner stridsyxan mellan Sverige och Norge och gör det därmed möjligt att även köra mixade lag mellan olika nationer utan att detta skapar en konflikt."}),u.jsx("br",{}),u.jsx("p",{className:"fonts_medium",children:"Hur går AIM Challenge Trippeln till:"}),u.jsx("br",{}),u.jsx("p",{children:"AIM Challenge Trippeln är en tävling i tävlingen för de lag som deltar på minst tre deltävlingar under ett och samma år. Tävlingarna som ingår är Ulricehamn, Sälen, Hemsedal och Kolmården. Det är fritt för laget att välja om ni önskar att delta i 3- eller 6-timmars tävlingen i Ulricehamn och Kolmården, båda anses att vara likvärdiga för Trippeln."}),u.jsx("br",{}),u.jsx("p",{children:"Vid anmälan till Trippeln blir man per automatik anmäld till alla fyra deltävlingar och väljer själv om man vill delta i tre eller fyra tävlingar. Priset för att anmäla sig till trippeln är rabatterat och blir billigare redan vid start i tre deltävlingar. Skulle ett lag delta i alla fyra deltävlingarna så räknas de tre bästa resultaten till Trippeln."}),u.jsx("br",{}),u.jsx("p",{children:"Det gäller att samla så många poäng som möjligt under årets tävlingar där varje lag får räkna in sina tre bästa resultat från det gångna året. Vinnaren av AIM Challenge Trippeln kommer att utses genom ett poängsystem som bygger på hur många poäng laget fått procentuellt i förhållande till vinnarlaget i respektive klass. Varje lag kommer då få en poängsumma mellan 1 och 100 per tävling och efter alla deltävlingarna kommer dessa poäng att adderas och det lag med högst sammanlagda poäng kommer att stå på prispallen! Skulle två lag få samma sammanlagda poäng så kommer vi se på placeringar i de enskilda loppen för att utse en vinnare."}),u.jsx("br",{}),u.jsx("p",{children:"Vid anmälan till AIM Challenge Trippeln så anmäler sig laget till alla fyra deltävlingarna, varav minst tre måste genomföras för att få ett resultat i Trippeln. Ett lag består av två personer, men om någon i laget skulle få förhinder inför någon av tävlingarna så gäller följande: För att resultatet i Trippeln skall bli godkänt så måste minst en i laget delta i alla tre tävlingarna, samt att deltagare 2 deltar vid minst två deltävlingar. Det vill säga att det är möjligt att ta in en reserv under en av deltävlingarna och fortfarande tävla som lag om den hedervärda titeln! I det fall deltagare 1 tävlat med tre olika lagkompisar under året är det enbart den som deltagit vid alla tre tävlingarna som kommer att premieras."}),u.jsx("br",{}),u.jsx("p",{children:"Det är inte möjligt att sälja sin startplats i Trippeln vidare för den tävling som laget eventuellt inte deltar i."})]})}),u.jsx("div",{className:"trippeln-spacer"})]}),u.jsx("section",{className:"ulric-button-section-bg flex flex_j_C flex_a_C",children:u.jsx("a",{href:"https://raceid.com/sv/races/13016/about",target:"_blank",rel:"noopener noreferrer",className:"ulric-button flex flex_j_C flex_a_C",children:u.jsx("p",{className:"font_white fonts_medium",children:"TA MIG TILL ANMÄLAN"})})})]}),yD=({onClose:s,onUploadSuccess:e,years:n=["2023","2022","2021","2020","2019","2018","2017","2016","2015"],categories:a=["Herrar","Damer","Mixed"],durations:l=["3 timmar","6 timmar","12 timmar","24 timmar"],locations:c=["Ulricehamn","Borås","Göteborg","Jönköping","Stockholm"],year:d})=>{const{currentUser:g}=fr(),[p,_]=L.useState("Ulricehamn"),[E,A]=L.useState(d||"2023"),[w,C]=L.useState("Herrar"),[D,K]=L.useState("3 timmar"),[V,F]=L.useState(null),[B,Q]=L.useState(""),[ee,J]=L.useState(!1),ce=N=>{const S=N.target.files[0];S&&(F(S),Q(""))},M=async N=>{if(N.preventDefault(),!V){Q("Please select a file to upload");return}J(!0),Q("");try{const S=rd(hd,`results/${V.name}`),R=await L1(S,V),O=`https://firebasestorage.googleapis.com/v0/b/${R.ref.bucket}/o/${encodeURIComponent(R.ref.fullPath)}?alt=media`,H={year:parseInt(E),location:p,category:w,duration:D,fileName:V.name,fileUrl:O,uploadedAt:new Date().toISOString(),uploadedBy:g.uid},I=`${E}_${p}_${w}_${Date.now()}`;await sd(ui(Ss,"results",I),{...H,id:I}),F(null),e({...H,id:I}),s()}catch(S){console.error("Upload failed:",S),Q("Upload failed: "+S.message)}finally{J(!1)}};return u.jsx("div",{className:"result-upload-modal-overlay",children:u.jsxs("div",{className:"result-upload-modal",children:[u.jsxs("div",{className:"result-upload-modal-header",children:[u.jsx("h2",{children:"Ladda upp resultat"}),u.jsx("button",{className:"result-upload-modal-close",onClick:s,children:"×"})]}),u.jsx("div",{className:"result-upload-modal-body",children:u.jsxs("form",{className:"result-upload-modal-form",onSubmit:M,children:[u.jsxs("div",{className:"result-upload-modal-field",children:[u.jsx("label",{children:"Plats"}),u.jsx("select",{className:"result-upload-modal-select",value:p,onChange:N=>_(N.target.value),children:c.map((N,S)=>u.jsx("option",{value:N,children:N},S))})]}),u.jsxs("div",{className:"result-upload-modal-field",children:[u.jsx("label",{children:"År"}),u.jsx("select",{className:"result-upload-modal-select",value:E,onChange:N=>A(N.target.value),children:n.map((N,S)=>u.jsx("option",{value:N,children:N},S))})]}),u.jsxs("div",{className:"result-upload-modal-field",children:[u.jsx("label",{children:"Kategori"}),u.jsx("select",{className:"result-upload-modal-select",value:w,onChange:N=>C(N.target.value),children:a.map((N,S)=>u.jsx("option",{value:N,children:N},S))})]}),u.jsxs("div",{className:"result-upload-modal-field",children:[u.jsx("label",{children:"Distans"}),u.jsx("select",{className:"result-upload-modal-select",value:D,onChange:N=>K(N.target.value),children:l.map((N,S)=>u.jsx("option",{value:N,children:N},S))})]}),u.jsxs("div",{className:"result-upload-modal-field",children:[u.jsx("label",{children:"Fil"}),u.jsx("input",{type:"file",className:"result-upload-modal-file-input",onChange:ce,accept:".txt,.pdf,.doc,.docx,.xls,.xlsx"})]}),B&&u.jsx("div",{className:"result-upload-modal-error",children:B}),u.jsxs("div",{className:"result-upload-modal-actions",children:[u.jsx("button",{type:"button",className:"result-upload-modal-cancel",onClick:s,disabled:ee,children:"Avbryt"}),u.jsx("button",{type:"submit",className:"result-upload-modal-submit",disabled:ee||!V,children:ee?"Laddar upp...":"Ladda upp"})]})]})})]})})},vD=cT(Ss,"results"),xD=async(s={})=>{try{let e=cl(vD);s.year&&(e=cl(e,Zu("year","==",parseInt(s.year)))),s.category&&(e=cl(e,Zu("category","==",s.category))),s.duration&&(e=cl(e,Zu("duration","==",s.duration))),s.location&&(e=cl(e,Zu("location","==",s.location)));const n=await bT(e),a=[];return n.forEach(l=>{const c=l.data();a.push({id:l.id,...c,year:parseInt(c.year)})}),console.log("Firebase results:",a),a}catch(e){throw console.error("Error getting results:",e),e}},ED=async(s,e)=>{try{if(await AT(ui(Ss,"results",s)),e){const n=rd(hd,e);await qT(n)}}catch(n){throw console.error("Error deleting result:",n),n}},TD=()=>{const{currentUser:s}=fr(),[e,n]=L.useState("all"),[a,l]=L.useState("all"),[c,d]=L.useState("all"),[g,p]=L.useState([]),[_,E]=L.useState(!0),[A,w]=L.useState(!1),[C,D]=L.useState(""),K=(s==null?void 0:s.role)==="admin",V=[2025,2024,2023,2022,2021,2020,2019,2018],F=["Herrar","Damer","Mixed"],B=["3 timmar","6 timmar"],Q=["Ulricehamn","Sälen","Hemsedal","Kolmården"];L.useEffect(()=>{console.log("Fetching results..."),ee()},[]);const ee=async()=>{try{E(!0),D(""),console.log("Getting results from Firebase...");const R=await xD({});console.log("Got results:",R),p(R||[])}catch(R){console.error("Error fetching results:",R),D("Failed to load results. Please try again later.")}finally{E(!1)}},J=async R=>{if(window.confirm("Är du säker på att du vill ta bort detta resultat?"))try{E(!0);const O=g.find(I=>I.id===R);await ED(R,O.fileUrl);const H=g.filter(I=>I.id!==R);p(H)}catch(O){console.error("Error deleting result:",O),D("Failed to delete result. Please try again.")}finally{E(!1)}},ce=()=>{w(!0)},M=()=>{w(!1)},N=R=>{console.log("New result:",R),p(O=>[R,...O]),M()},S=R=>{let O=[...g];return e!=="all"&&(O=O.filter(H=>H.year===parseInt(e))),a!=="all"&&(O=O.filter(H=>H.category===a)),c!=="all"&&(O=O.filter(H=>H.duration===c)),O=O.filter(H=>H.location===R),console.log("Filtered results for",R,":",O),O};return u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"results-header-banner"}),u.jsxs("div",{className:"results-container",children:[u.jsx("h1",{className:"results-header-title",children:"Multisport för alla"}),u.jsxs("section",{className:"results-filters-section",children:[u.jsxs("div",{className:"results-filters",children:[u.jsxs("select",{value:e,onChange:R=>n(R.target.value),className:"results-filter-select",children:[u.jsx("option",{value:"all",children:"Alla År"}),V.map(R=>u.jsx("option",{value:R,children:R},R))]}),u.jsxs("select",{value:a,onChange:R=>l(R.target.value),className:"results-filter-select",children:[u.jsx("option",{value:"all",children:"Alla Kategorier"}),F.map(R=>u.jsx("option",{value:R,children:R},R))]}),u.jsxs("select",{value:c,onChange:R=>d(R.target.value),className:"results-filter-select",children:[u.jsx("option",{value:"all",children:"Alla Distanser"}),B.map(R=>u.jsx("option",{value:R,children:R},R))]})]}),u.jsx("div",{className:"results-upload-section",children:K&&u.jsx("button",{onClick:ce,className:"upload-result-button",children:"Ladda upp resultat"})})]}),C&&u.jsx("div",{className:"results-error",children:C}),u.jsx("section",{className:"results-content-section",children:u.jsx("div",{className:"results-grid",children:Q.map(R=>u.jsxs("div",{className:"results-location-card",children:[u.jsx("h2",{className:"results-location-title",children:R}),u.jsx("div",{className:"results-list",children:_?u.jsx("div",{className:"results-loading",children:"Laddar..."}):S(R).map(O=>u.jsxs("div",{className:"results-item",children:[u.jsx("a",{href:O.fileUrl,target:"_blank",rel:"noopener noreferrer",className:"results-link",children:u.jsxs("div",{className:"results-info",children:[u.jsx("span",{className:"results-year",children:O.year}),u.jsx("span",{className:"results-category",children:O.category}),u.jsx("span",{className:"results-duration",children:O.duration})]})}),K&&u.jsx("button",{onClick:()=>J(O.id),className:"results-delete-button",children:"Ta bort"})]},O.id))})]},R))})}),A&&u.jsx(yD,{onClose:M,onUploadSuccess:N,isAdmin:K,locations:Q,years:V,categories:F,durations:B})]})]})},bD=()=>{const[s,e]=L.useState(null),[n,a]=L.useState([]),[l,c]=L.useState(1),d=8,[g,p]=L.useState({}),_=L.useMemo(()=>["/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_025.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_057.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_065.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_094.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_113.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_138.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_150.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_202.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_209.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_213.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_235.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_246.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_265.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_352.jpg","/AimRV/images/EE-AIMChallenge24-Uhamn-0132-high.jpg","/AimRV/images/EE-AIMChallenge24-Uhamn-0136-high.jpg","/AimRV/images/EE-AIMChallenge24-Uhamn-0171-high.jpg","/AimRV/images/EE-AIMChallenge24-Uhamn-0405-high.jpg","/AimRV/images/Kolmarden_1.jpg","/AimRV/images/Kolmarden_2.jpg"],[]),E=L.useCallback(()=>{const D=(l-1)*d,K=l*d,V=_.slice(D,K);a(F=>[...F,...V]),c(F=>F+1)},[l,_,d]);L.useEffect(()=>{E()},[E]),L.useEffect(()=>{const D=()=>{window.innerHeight+document.documentElement.scrollTop>=document.documentElement.offsetHeight-100&&(l-1)*d<_.length&&E()};return window.addEventListener("scroll",D),()=>window.removeEventListener("scroll",D)},[E,l,_.length,d]),L.useEffect(()=>{if(s!==null){const D=new Image;D.src=n[s],D.onload=()=>{p(K=>({...K,[s]:!0}))}}},[s,n]);const A=D=>{e(s===D?null:D)},C=(()=>{const D=[];let K=[],V=4;return n.forEach((F,B)=>{K.push({image:F,index:B}),K.length===V&&(D.push(K),K=[],V=V===4?3:4)}),K.length>0&&D.push(K),D})();return u.jsxs("div",{children:[u.jsx("div",{style:{height:"120px"}}),u.jsxs("div",{className:"gallery-container",style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"0.1rem",padding:"0.25rem",position:"relative"},children:[C.map((D,K)=>u.jsx("div",{style:{display:"flex",justifyContent:"center",gap:"3rem",width:"100%",marginBottom:"-20px",paddingLeft:D.length===3?"10%":"0",paddingRight:D.length===3?"10%":"0"},children:D.map(({image:V,index:F})=>{const B=s===F;return u.jsx("div",{onClick:()=>A(F),style:{width:B?"80vw":"250px",height:B?"80vh":"250px",transition:"all 0.5s ease",cursor:"pointer",position:B?"fixed":"relative",top:B?"50%":"auto",left:B?"50%":"auto",transform:B?"translate(-50%, -50%) rotate(0deg)":"rotate(45deg) scale(0.9)",zIndex:B?1e3:1,border:"2px solid #00a6fb",borderRadius:"8px",overflow:"hidden",boxShadow:"0 4px 8px rgba(0, 166, 251, 0.3)",margin:"0.1rem 1.5rem"},children:u.jsx("img",{src:V,alt:`Gallery image ${F+1}`,loading:"lazy",width:B?"auto":"250",height:B?"auto":"250",style:{width:"100%",height:"100%",objectFit:"cover",transform:B?"rotate(0deg) scale(1)":"rotate(-45deg) scale(1.5)"}})},F)})},K)),s!==null&&u.jsx("div",{onClick:()=>e(null),style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.8)",zIndex:999}}),n.length<_.length&&u.jsx("div",{style:{width:"100%",textAlign:"center",padding:"2rem"},children:u.jsx("button",{onClick:E,style:{padding:"0.75rem 1.5rem",backgroundColor:"#00a6fb",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"1rem",fontWeight:"bold"},children:"Load More Images"})})]}),u.jsx("div",{style:{height:"80px"}})]})},AD=()=>{const[s,e]=L.useState(0),[n,a]=L.useState(!1),l=L.useRef([]),c=[{id:1,src:"/videos/AIM nr 1 Formula 16x9.mov",title:"AIM Challenge Formula",description:"Highlights from the AIM Challenge Formula event"},{id:2,src:"/videos/AIM nr 1 Formula 16x9.mov",title:"AIM Challenge Highlights",description:"More exciting moments from the AIM Challenge"},{id:3,src:"/videos/AIM nr 1 Formula 16x9.mov",title:"AIM Challenge Recap",description:"A recap of the amazing AIM Challenge events"}];L.useEffect(()=>{l.current=l.current.slice(0,c.length)},[c.length]);const d=_=>{l.current.forEach((E,A)=>{A!==_&&E&&E.pause()}),a(!0),e(_)},g=()=>{e(_=>(_+1)%c.length)},p=()=>{e(_=>(_-1+c.length)%c.length)};return u.jsxs("div",{className:"video-carousel-container",style:{padding:"80px 0 40px 0",backgroundColor:"#f0f8ff",borderTop:"1px solid #e0e0e0",width:"100%",maxWidth:"100%"},children:[u.jsx("h2",{style:{textAlign:"center",marginBottom:"30px",color:"#00a6fb",fontSize:"2rem"},children:"AIM Challenge Videos"}),u.jsxs("div",{style:{position:"relative",width:"100%",margin:"0 auto",overflow:"hidden"},children:[u.jsx("button",{onClick:p,style:{position:"absolute",left:"10px",top:"50%",transform:"translateY(-50%)",zIndex:10,background:"rgba(0, 166, 251, 0.7)",color:"white",border:"none",borderRadius:"50%",width:"50px",height:"50px",fontSize:"24px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.3)"},"aria-label":"Previous video",children:"<"}),u.jsx("button",{onClick:g,style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",zIndex:10,background:"rgba(0, 166, 251, 0.7)",color:"white",border:"none",borderRadius:"50%",width:"50px",height:"50px",fontSize:"24px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.3)"},"aria-label":"Next video",children:">"}),u.jsx("div",{style:{display:"flex",transition:"transform 0.5s ease",transform:`translateX(${s*-100}%)`,width:"100%",position:"relative"},children:c.map((_,E)=>u.jsx("div",{style:{flex:"0 0 100%",padding:"0 20px",boxSizing:"border-box",width:"100%"},children:u.jsxs("div",{style:{background:"#fff",borderRadius:"8px",overflow:"hidden",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",maxWidth:"1200px",margin:"0 auto"},children:[u.jsx("div",{style:{position:"relative",paddingTop:"56.25%"},children:u.jsx("video",{ref:A=>l.current[E]=A,src:_.src,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover"},controls:!0,onPlay:()=>d(E),onPause:()=>a(!1)})}),u.jsxs("div",{style:{padding:"20px"},children:[u.jsx("h3",{style:{margin:"0 0 10px 0",color:"#00a6fb",fontSize:"1.5rem"},children:_.title}),u.jsx("p",{style:{margin:0,color:"#333",lineHeight:1.6},children:_.description})]})]})},_.id))}),u.jsx("div",{style:{display:"flex",justifyContent:"center",marginTop:"20px"},children:c.map((_,E)=>u.jsx("button",{onClick:()=>e(E),style:{width:"12px",height:"12px",borderRadius:"50%",margin:"0 5px",background:E===s?"#00a6fb":"#ccc",border:"none",cursor:"pointer"}},E))})]})]})},wD=()=>u.jsxs("div",{className:"om-oss-container",children:[u.jsx("div",{className:"om-oss-header page_01 locked-background flex flex_col flex_j_E",children:u.jsx("div",{className:"om-oss-header-content",children:u.jsx("div",{className:"trans-background page_01box flex flex_col flex_j_SA",children:u.jsx("div",{className:"om-oss-title flex flex_j_C flex_a_C",children:u.jsx(z,{textKey:"om-oss-title",defaultText:"OM OSS",tag:"p",className:"font_blue fonts_huge"})})})})}),u.jsx("section",{className:"om-oss-section flex flex_j_C flex_a_C set-03",children:u.jsx("div",{className:"om-oss-content MaxWH flex flex_col flex_j_C",children:u.jsxs("div",{className:"om-oss-content-wrapper",children:[u.jsx(z,{textKey:"om-oss-title-1",defaultText:"Vad är AIM Challenge?",tag:"h2",className:"fonts_large om-oss-title"}),u.jsx(z,{textKey:"om-oss-text-1",defaultText:"AIM Challenge är en multisporttävling som arrangeras i Åre, Sverige. Tävlingen går ut på att ta sig runt en bana med hjälp av karta och kompass. Längs banan finns kontroller som ska besökas i rätt ordning.",tag:"p",className:"fonts_small om-oss-text"}),u.jsx(z,{textKey:"om-oss-text-2",defaultText:"​",tag:"p",className:"fonts_small om-oss-text"}),u.jsx(z,{textKey:"om-oss-text-3",defaultText:"Tävlingen arrangeras av AIM Challenge AB och har funnits sedan 2004. Tävlingen har utvecklats under åren och är idag en av Sveriges största multisporttävlingar.",tag:"p",className:"fonts_small om-oss-text"}),u.jsx(z,{textKey:"om-oss-text-4",defaultText:"​",tag:"p",className:"fonts_small om-oss-text"}),u.jsx(z,{textKey:"om-oss-text-5",defaultText:"AIM Challenge är en tävling för alla. Oavsett om du är elit eller motionär finns det en klass för dig. Tävlingen är uppdelad i olika klasser beroende på svårighetsgrad och längd.",tag:"p",className:"fonts_small om-oss-text"}),u.jsx(z,{textKey:"om-oss-text-6",defaultText:"​",tag:"p",className:"fonts_small om-oss-text"}),u.jsx(z,{textKey:"om-oss-text-7",defaultText:"Tävlingen går ut på att ta sig runt en bana med hjälp av karta och kompass. Längs banan finns kontroller som ska besökas i rätt ordning. Tävlingen innehåller olika moment som löpning, cykling, paddling, simning och klättring.",tag:"p",className:"fonts_small om-oss-text"}),u.jsx(z,{textKey:"om-oss-text-8",defaultText:"​",tag:"p",className:"fonts_small om-oss-text"})]})})}),u.jsx("div",{className:"om-oss-background-container locked-background"}),u.jsx("section",{className:"om-oss-section flex flex_j_C flex_a_C set-03",children:u.jsx("div",{className:"om-oss-content MaxWH flex flex_col flex_j_C",children:u.jsxs("div",{className:"om-oss-content-wrapper",children:[u.jsx(z,{textKey:"om-oss-title-2",defaultText:"Så här är det att vara med i AIM Challenge",tag:"h2",className:"fonts_large om-oss-title"}),u.jsx(z,{textKey:"om-oss-text-9",defaultText:"AIM Challenge är en rolig tävling. Det är oftast det som är det centrala i de deltagarkommentarer vi får både från eliten och motionärerna. Man färdas till största delen med hjälp av sin mountainbike och sina löparskor, men också i klättersele, paddlandes i kanot eller så strippar man helt enkelt och simmar ut till kontroller som är i vattnet.",tag:"p",className:"fonts_small om-oss-text"}),u.jsx(z,{textKey:"om-oss-text-10",defaultText:"​",tag:"p",className:"fonts_small om-oss-text"}),u.jsx(z,{textKey:"om-oss-text-11",defaultText:"Det finns inga krav på förkunskaper om de olika momenten utan vi har kunnig personal vid varje post som innefattas av klättring, firning, simning, paddling. Varje lag genomför tävlingen i sin egen takt och med egen strategi. Visst finns det de lag som satsar allt för att knipa segern och det är det som är det roliga med konceptet. Elit och motionär tävlar på samma villkor på samma bana.",tag:"p",className:"fonts_small om-oss-text"}),u.jsx(z,{textKey:"om-oss-text-12",defaultText:"​",tag:"p",className:"fonts_small om-oss-text"}),u.jsx(z,{textKey:"om-oss-text-13",defaultText:"Våra deltagare är allt ifrån världseliten i multisport som Thule Adventure team, Team Silva, Team Multitude Salomon men också glada motionärer allt från åldrarna 15 till pensionärer. Oavsett ålder och fysiska förutsättningar är detta ett roligt och annorlunda sätt att tävla på.",tag:"p",className:"fonts_small om-oss-text"})]})})}),u.jsxs("section",{className:"om-oss-cards-container simple-background",children:[u.jsxs("div",{className:"om-oss-card simple-background",children:[u.jsxs("div",{className:"om-oss-card-content trans-background",children:[u.jsx(z,{textKey:"card-1-title",defaultText:"REGLER",tag:"p",className:"font_blue fonts_medium_B"}),u.jsx(z,{textKey:"card-1-text",defaultText:"Tävlingsregler och information",tag:"p",className:"font_blue fonts_medium"})]}),u.jsx("div",{className:"om-oss-card-button",children:u.jsx(Se,{to:"/page2",className:"location button-2",children:"Läs mer"})})]}),u.jsxs("div",{className:"om-oss-card simple-background",children:[u.jsxs("div",{className:"om-oss-card-content trans-background",children:[u.jsx(z,{textKey:"card-2-title",defaultText:"FAQ",tag:"p",className:"font_blue fonts_medium_B"}),u.jsx(z,{textKey:"card-2-text",defaultText:"Vanliga frågor och svar",tag:"p",className:"font_blue fonts_medium"})]}),u.jsx("div",{className:"om-oss-card-button",children:u.jsx(Se,{to:"/page3",className:"location button-2",children:"Läs mer"})})]}),u.jsxs("div",{className:"om-oss-card simple-background",children:[u.jsxs("div",{className:"om-oss-card-content trans-background",children:[u.jsx(z,{textKey:"card-3-title",defaultText:"HISTORIEN OM AIM",tag:"p",className:"font_blue fonts_medium_B"}),u.jsx(z,{textKey:"card-3-text",defaultText:"Vår resa sedan 2004",tag:"p",className:"font_blue fonts_medium"})]}),u.jsx("div",{className:"om-oss-card-button",children:u.jsx(Se,{to:"/page3",className:"location button-2",children:"Läs mer"})})]})]})]}),SD=()=>u.jsxs("div",{className:"flex flex_col regler-container",children:[u.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",children:u.jsx("div",{className:"trans-background page_01box flex flex_col flex_j_SA",children:u.jsx("div",{className:"om-oss-title flex flex_j_C flex_a_C",children:u.jsx("p",{className:"font_blue fonts_huge font_white",children:"REGLER"})})})}),u.jsx("section",{className:"om-oss-section regler-section flex flex_j_C flex_a_C set-03",children:u.jsx("div",{className:"om-oss-content MaxWH flex flex_col flex_j_C regler-content-container",children:u.jsxs("div",{className:"regler-content",children:[u.jsx("h2",{className:"regler-heading font_white",children:"LAGET"}),u.jsxs("ul",{className:"regler-list",children:[u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Åldersgräns 15år/18år"}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Båda deltagarna måste ha olycksförsäkring som täcker olyckor i samband med tävling/idrottsaktiviteter."}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Det är lagets ansvar att se till att de är registrerade i rätt klass."}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Startnummer ska placeras fram på cykel samt synligt på kroppen på båda deltagarna"}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Det är tillåtet att använda GPS men det är alltid kartan som gäller. GPSens kartunderlag stämmer inte alltid överens med den utskrivna AIM kartan."}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Laget ska alltid vara samlade max 20 meter mellan lagmedlemmarna."}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Det är inte tillåtet att ha följebil."})]}),u.jsx("h2",{className:"regler-heading-with-margin font_white",children:"SÄKERHET"}),u.jsxs("ul",{className:"regler-list",children:[u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Lagen väljer själva vilka kontroller de klarar att ta baserat på väder, egen färdighet och kunskap."}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Lagen väljer själva vilken väg de vill ta till kontrollerna baserat på väder, egen färdighet och kunskap."}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Trafiken är inte reglerad under tävlingen."}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Trafikregler gäller alltid."}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Första hjälpen kit ska bäras med under hela tävlingen"}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Hjälm ska bäras under all cykling, klättring, bouldering och rappellering"}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Vid olycka är det obligatoriska att hjälpa till."}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Vid allvarlig olycka ring nöd nummer 112 i Sverige och 113 i Norge"}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Vid behov för enklare medicinsk hjälp ring telefonnumret på baksidan av kartan"}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Tävlingsledningens direktiv gäller alltid."})]}),u.jsx("h2",{className:"regler-heading-with-margin font_white",children:"ÖVRIGT"}),u.jsxs("ul",{className:"regler-list",children:[u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Elcyklar är ej tillåtet, med undantag för Elcykelklassen i Hemsedal."}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Beroende på kapacitet är det möjligt att använda liften i Hemsedal, lyssna noga på vad speakern ger för information för vad som gäller för årets tävling."}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Deltagare som bryter ska genast meddela tävlingsledningen. Telefonnummer står på kartan."}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Synliga, osynliga och tävlande domare befinner sig i tävlingsområdet och ser till att reglerna följs."}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Regelbrott kan leda till poängavdrag eller diskvalificering"}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Deltagare som vinner priser som lottas ut pga olika händelser eller som dras på startnummer måste närvara på prisutdelningen för att få sitt pris. Är man inte närvarande och ditt namn/lagnamn dras drar vi reservnamn/lagnamn."}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"LINDVALLEN, viadukten mellan Lodgen och Experium är stängd under hela tävlingen."}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Tävlingsledningens beslut går inte att överklaga."}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Kloka människor skräpar inte ner, för alla andra är det förbjudet."}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Respektera privat mark, ta inte genvägar över privata områden"}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Beträda odlad mark är förbjudet. Åkrar som inte har skördats är odlad mark."}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Stäng alla grindar som ni öppnar."}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Visa betande djur respekt genom att stiga av cykeln och gå förbi dem."})]}),u.jsx("h2",{className:"regler-heading-with-margin font_white",children:"OBLIGATORISK UTRUSTNING"}),u.jsxs("ul",{className:"regler-list",children:[u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Cykel, utan elmotor med undantag för Elcykelklassen i Hemsedal."}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Cykelhjälm vid cykling"}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Mobiltelefon (1 st per lag)"}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Första hjälpen (1 st per lag)"})]}),u.jsx("h2",{className:"regler-heading-with-margin font_white",children:"VI REKOMMENDERAR ATT NI ÄVEN HAR MED ER"}),u.jsxs("ul",{className:"regler-list",children:[u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Förstärkningskläder vid hastigt väderomslag"}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Kompass"}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Vatten i en Camelbak"}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Energy bars eller liknande"}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Klocka"}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Löparskor"}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Cykelslang och reparationskit + övriga verktyg, tex en biketool för enklare justeringar"})]}),u.jsx("h2",{className:"regler-heading-with-margin font_white",children:"AIM CHALLENGE STÅR FÖR"}),u.jsx("ul",{className:"regler-list",children:u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Kanot, SUP, sele, rep, hjälm vid firningar/klättring. All utrustning vid bemannade poster finns där klättring etc förekommer."})}),u.jsx("h2",{className:"regler-heading-with-margin font_white",children:"VILLKOR I FÖRBINDELSE MED ANMÄLAN"}),u.jsx("p",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Villkor i förbindelse med anmälan"}),u.jsxs("p",{className:"fonts_small om-oss-text regler-contact font_white",children:["Om du har frågor: ",u.jsx("a",{href:"mailto:info@aimchallenge.com",className:"font_white",children:"info@aimchallenge.com"})]})]})})}),u.jsx("div",{className:"locked-background",style:{height:"50vh",width:"100%"}})]}),ND=({question:s,answer:e})=>{const[n,a]=L.useState(!1),l=()=>{a(!n)};return u.jsxs("div",{className:"faq-item",children:[u.jsxs("div",{className:`faq-question ${n?"active":""}`,onClick:l,children:[u.jsx("h3",{className:"question-text",children:s}),u.jsx("span",{className:"icon",children:n?"▲":"▼"})]}),u.jsx("div",{className:`faq-answer ${n?"open":""}`,children:u.jsx("p",{children:e})})]})},nh=({title:s,items:e})=>u.jsxs("div",{className:"faq-category",children:[u.jsx("h2",{className:"faq-category-title",children:s}),e.map((n,a)=>u.jsx(ND,{question:n.question,answer:n.answer},a))]}),RD=()=>{const s=[{question:"Jag är nybörjare på multisport, kan jag delta?",answer:"Absolut, det är DU som väljer väg och antal kontroller. Ta 5 kontroller och ha en fin tur på fjället, eller ta 40 och vinn. Alla kan delta efter egen förmåga och ambition."},{question:"Behöver man vara en riktigt stenhård multisportare för att delta?",answer:"Det finns inga krav på förkunskaper om de olika momenten utan vi har kunnig personal vid varje post som innebär klättring, firning, simning etc. I och med AIM-konceptet så tar varje lag tävlingen i sin egen takt och sin egen strategi. Visst finns det de lag som satsar allt för att knipa segern och det är det som är det roliga med konceptet. Elit och motionär tävlar på samma villkor på samma bana."},{question:"Är det olika klasser?",answer:"Dam, Herr och Mix. Elit och motion tävlar i samma klass."},{question:"Vilken åldersgräns gäller?",answer:"Åldersgränsen för AIM Challenge är 15/18 år beroende på tävling och medtävlande. Läs mer här."},{question:"Kan jag ändra information om mitt lag. Tex ändrar lagnamn eller deltagare?",answer:"Ja, logga in på ditt RaceID-konto för att göra ändringar."},{question:"Om jag blir sjuk, får jag tillbaka min anmälningsavgift då?",answer:"Nej. Det går däremot bra att sälja sin startplats till en kompis. Vid försäljning så uppdaterar ni era uppgifter på ditt RaceID-konto. Alternativt ta kontakt med ditt försäkringsbolag för att se vad det täcker."},{question:"Hur vet jag om jag har olycksförsäkring?",answer:"Kontakta ditt försäkringsbolag, de flesta har den redan."}],e=[{question:"Ska jag tävla med löpskor eller cykelskor?",answer:"Det är en fördel att cykla med SPD sko, och det är en fördel att springa med löparskor. Ta med både och!"},{question:"Behöver man ha all utrustning med sig?",answer:"Nej. Deltagare ska ha med sig cykel, hjälm, första hjälpen och mobiltelefon. Vid en klätterkontroll finns kunnig personal med all nödvändig utrustning, de säkrar deltagarna och ser till att klättringen går säkert till. Vid en paddel kontroll finns det kanot, SUP, luftmadrass eller liknande. Skulle man inte ha en mountainbike går det bra att hyra och detta bör i så fall förbokas."},{question:"Får man använda sig av GPS?",answer:"Ja, det är tillåtet att använda en GPS. Det är dock inte alltid det bästa eftersom det är kartan som gäller och GPSen och kartans information kan skilja sig åt."}],n=[{question:"Om jag inte hinner till registreringen på fredag kväll, vad gör jag då?",answer:"Det finns möjlighet för registrering på lördag morgon innan start, dock ser vi helst att all registrering sker under fredag kvällen."},{question:"Ingår banketten i priset?",answer:"Nej, den får man köpa vid sidan om. Se respektive tävling för bokning av mat. Men prisutdelningen som följer efter banketten är gratis för alla deltagare."},{question:"Vilka tider är det som gäller för själva tävlandet?",answer:"Program: Fredagen: Registrering 17:00-21:00 i Lindvallen & 19.00-22.00 i Hemsedal. Lördagen: 9.30 Info möte vid start, 10.00 START, 16.00 MÅL. 22.00 PRISUTDELNING. Söndagen: Väl förtjänad sovmorgon och en härlig dag på fjället! Se detaljerat program under de enskilda tävlingarna."}],a=[{question:"Hur ser kartan ut?",answer:"Kartan får alla lagen när startskottet går. Där är samtliga kontroller utmärkta med position, poäng, beskrivning och om kontrollen innefattar klättring, paddling etc. Skalan är ungefär 1:30 000. Varje år är ett nytt år och därför en ny bansträckning. Kontrollernas position varierar från år till år så den strategi man hade året innan kanske inte lönar sig i år."},{question:"Måste både deltagarna simma/klättra/rappellera till en kontroll?",answer:"Lagen ska alltid hålla ihop och ska under hela tävlingen kunna kommunicera med varandra. Utom på de kontroller som vi kallar bemannade kontroller, dvs simma, paddla, klättra, balansera och rappelera. Här räcker det att den ena i laget tar posten. Både deltagarna ska dock vara så nära varandra som möjligt vid dessa poster."},{question:"Rappellering och klättring - hur goda bakgrundskunskaper måste man ha för att ställa upp?",answer:"Vid varje bemannad post finns det personal som är kunniga och med riktig utrustning. Lite erfarenhet ifrån klättring hjälper men är inte nödvändigt. Man behöver ingen kunskap om säkerhet."},{question:"Vilka regler gäller?",answer:"De regler som gäller för anmälan och under tävling finner du här >>"}];return u.jsxs("div",{className:"flex flex_col faq-container",children:[u.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",children:u.jsx("div",{className:"trans-background page_01box flex flex_col flex_j_SA",children:u.jsx("div",{className:"om-oss-title flex flex_j_C flex_a_C",children:u.jsx("p",{className:"font_blue fonts_huge font_white",children:"FAQ"})})})}),u.jsx("section",{className:"faq-section faq-dark-section",children:u.jsx("div",{className:"faq-content-container",children:u.jsxs("div",{className:"faq-content",children:[u.jsx("h1",{className:"faq-heading",children:"Vanliga frågor"}),u.jsx(nh,{title:"Allmänna frågor",items:s})]})})}),u.jsx("section",{className:"faq-section faq-light-section",children:u.jsx("div",{className:"faq-content-container",children:u.jsx("div",{className:"faq-content",children:u.jsx(nh,{title:"Utrustning",items:e})})})}),u.jsx("section",{className:"faq-section faq-dark-section",children:u.jsx("div",{className:"faq-content-container",children:u.jsx("div",{className:"faq-content",children:u.jsx(nh,{title:"Tävlingsdagen",items:n})})})}),u.jsx("section",{className:"faq-section faq-light-section",children:u.jsx("div",{className:"faq-content-container",children:u.jsx("div",{className:"faq-content",children:u.jsx(nh,{title:"Teknisk information",items:a})})})}),u.jsx("section",{className:"faq-section faq-dark-section",children:u.jsx("div",{className:"faq-content-container",children:u.jsx("div",{className:"faq-content",children:u.jsxs("div",{className:"faq-category",children:[u.jsx("h2",{className:"faq-category-title",children:"Har du fler frågor?"}),u.jsx("div",{className:"flex flex_j_C flex_a_C",children:u.jsxs("p",{className:"faq-contact-text",children:["Ta gärna kontakt om ni inte hittar svaret på era frågor: ",u.jsx("a",{href:"mailto:info@aimchallenge.com",className:"font_white",children:"info@aimchallenge.com"})]})})]})})})}),u.jsx("div",{className:"locked-background",style:{height:"50vh",width:"100%"}})]})},kD=()=>u.jsxs("div",{className:"flex flex_col",children:[u.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",children:u.jsx("div",{className:"trans-background page_01box flex flex_col flex_j_SA",children:u.jsx("div",{className:"om-oss-title flex flex_j_C flex_a_C",children:u.jsx(z,{textKey:"historien-om-aim-title",defaultText:"HISTORIEN OM AIM",tag:"p",className:"font_blue fonts_huge font_white"})})})}),u.jsx("section",{className:"om-oss-section regler-section flex flex_j_C flex_a_C set-03 historien-om-aim-section",children:u.jsx("div",{className:"om-oss-content MaxWH flex flex_col flex_j_C regler-content-container",children:u.jsxs("div",{className:"regler-content historien-om-aim-content",children:[u.jsx(z,{textKey:"historien-om-aim-text-1",defaultText:"AIM Challenge är idag Nordens största multisporttävling men historien om AIM Challenge börjar mycket tidigare än så.",tag:"p",className:"fonts_small om-oss-text font_white historien-om-aim-text"}),u.jsx(z,{textKey:"historien-om-aim-text-2",defaultText:"Vi låter Lisa Nordlind, grundare och initiativtagare till AIM Challenge berätta hur det gick till:",tag:"p",className:"fonts_small om-oss-text font_white historien-om-aim-text"}),u.jsx(z,{textKey:"historien-om-aim-text-3",defaultText:"År 2000 deltog jag i mitt livs största äventyr när jag tävlade i multisporttävlingen Camel Trophy.",tag:"p",className:"fonts_small om-oss-text font_white historien-om-aim-text"}),u.jsx(z,{textKey:"historien-om-aim-text-4",defaultText:"Av över en miljon sökande så var det 16 tvåmannalag från 22 länder som fick vara med och leka. Jag fick äran att representera Team Skandinavien tillsammans med brandmannen Mikael Stening.",tag:"p",className:"fonts_small om-oss-text font_white historien-om-aim-text"}),u.jsx(z,{textKey:"historien-om-aim-text-5",defaultText:"Lag på två personer skulle under 3 veckor samla så många kontroller som möjligt utav 400 utplacerade. Huvudtransportmedel var en specialbyggd RIB (Rigid Inflatable Boat). Båten var utrustad med mountainbikes, klätterutrustning, paddelbräda, dyk- och snorkel utrustning, tält, mat och vatten.",tag:"p",className:"fonts_small om-oss-text font_white historien-om-aim-text"}),u.jsx(z,{textKey:"historien-om-aim-text-6",defaultText:"Lagen fick själva välja vilka kontroller de ville ta, i vilken ordning och vilken väg.",tag:"p",className:"fonts_small om-oss-text font_white historien-om-aim-text"}),u.jsx(z,{textKey:"historien-om-aim-text-7",defaultText:"Olika kontroller gav olika poäng. Låter det bekant?",tag:"p",className:"fonts_small om-oss-text font_white historien-om-aim-text"}),u.jsx(z,{textKey:"historien-om-aim-text-8",defaultText:"Tävlingsområdet var ögrupperna Tonga och Samoa i Söderhavet. Det var galet roligt och Mikael och jag lyckades ta oss till en fjärde plats.",tag:"p",className:"fonts_small om-oss-text font_white historien-om-aim-text"}),u.jsx(z,{textKey:"historien-om-aim-text-9",defaultText:"År 2004 spenderade jag min första sommar i Hemsedal. Det var ganska lugnt i den lilla skidorten så jag beslutade mig för att starta ett nytt event. För mig är det viktigt att träning är roligt och jag tycker att den bästa träningen är tävling. Eftersom Camel Trophy var det roligaste jag någonsin varit med om så föll det naturligt att försöka skapa ett event där andra människor får uppleva samma lekfulla koncept om än i en mindre skala. Tävlingen fick namnet 'Hemsedal Challenge' och den första helgen i september 2004 stod 150 deltagare på startlinjen.",tag:"p",className:"fonts_small om-oss-text font_white historien-om-aim-text"}),u.jsx(z,{textKey:"historien-om-aim-text-10",defaultText:"Nära, kära, vänner och familj samlades från alla håll och kanter för att ställa upp som funktionärer.",tag:"p",className:"fonts_small om-oss-text font_white historien-om-aim-text"}),u.jsx(z,{textKey:"historien-om-aim-text-11",defaultText:"Efter 5 år startade vi en tävling till i Lindvallen och bytte namn till AIM Challenge.",tag:"p",className:"fonts_small om-oss-text font_white historien-om-aim-text"}),u.jsx(z,{textKey:"historien-om-aim-text-12",defaultText:"Efter AIM Challenge 2019 tackade Lisa för sig och lämnade över stafettpinnen till Marcus Andersson, som nu står inför en spännande framtid där han ser frem emot att driva vidare och utveckla AIM Challenge.",tag:"p",className:"fonts_small om-oss-text font_white historien-om-aim-text"})]})})}),u.jsx("div",{className:"historien-om-aim-background-container locked-background page_01"})]}),CD=({isOpen:s,onClose:e,onSave:n})=>{const[a,l]=L.useState(""),[c,d]=L.useState(""),[g,p]=L.useState(null),[_,E]=L.useState(""),[A,w]=L.useState(!1),[C,D]=L.useState(""),[K,V]=L.useState(""),[F,B]=L.useState(0),[Q,ee]=L.useState(0),J=L.useRef(null),ce=L.useRef(null),{isAdmin:M}=mr(),N=re=>{const _e=re.target.files[0];if(_e){const ge=new FileReader;ge.onloadend=()=>{p(_e),E(ge.result)},ge.readAsDataURL(_e)}},S=re=>{d(re.target.value)},R=()=>{J.current&&(B(J.current.selectionStart),ee(J.current.selectionEnd))},O=()=>{if(w(!A),!A&&J.current){const re=c.substring(J.current.selectionStart,J.current.selectionEnd);V(re),B(J.current.selectionStart),ee(J.current.selectionEnd)}},H=()=>{if(!C.trim()){alert("Please enter a URL");return}const re=`[${K||C}](${C})`,_e=c.substring(0,F)+re+c.substring(Q);d(_e),w(!1),D(""),V("")},I=()=>{if(!a.trim()||!c.trim()||!_){alert("Vänligen fyll i alla fält (titel, bild och innehåll)");return}const re={id:Date.now(),title:a,date:new Date().toLocaleDateString("sv-SE",{year:"numeric",month:"long",day:"numeric"}),content:c,image:_};n(re),it(),e()},it=()=>{l(""),d(""),p(null),E(""),w(!1),D(""),V("")},nt=re=>{re.target.className==="create-post-modal__overlay"&&e()};return!s||!M?null:u.jsxs("div",{className:"create-post-modal",children:[u.jsx("div",{className:"create-post-modal__overlay",onClick:nt}),u.jsxs("div",{className:"create-post-modal__content",children:[u.jsx("h2",{className:"create-post-modal__title",children:"Skapa nytt inlägg"}),u.jsxs("div",{className:"create-post-modal__form",children:[u.jsxs("div",{className:"create-post-modal__form-group",children:[u.jsx("label",{className:"create-post-modal__label",children:"Titel"}),u.jsx("input",{type:"text",className:"create-post-modal__input",value:a,onChange:re=>l(re.target.value),placeholder:"Ange titel"})]}),u.jsxs("div",{className:"create-post-modal__form-group",children:[u.jsx("label",{className:"create-post-modal__label",children:"Bild"}),u.jsxs("div",{className:"create-post-modal__image-upload",onClick:()=>ce.current.click(),children:[_?u.jsx("img",{src:_,alt:"Preview",className:"create-post-modal__image-preview"}):u.jsx("div",{className:"create-post-modal__image-placeholder",children:"Klicka för att ladda upp en bild"}),u.jsx("input",{type:"file",accept:"image/*",onChange:N,className:"create-post-modal__file-input",ref:ce})]})]}),u.jsxs("div",{className:"create-post-modal__form-group",children:[u.jsx("label",{className:"create-post-modal__label",children:"Innehåll"}),u.jsxs("div",{children:[u.jsx("textarea",{className:"create-post-modal__textarea",value:c,onChange:S,onSelect:R,ref:J,placeholder:"Ange innehåll"}),u.jsx("button",{type:"button",onClick:O,className:"create-post-modal__button create-post-modal__button--secondary",style:{marginTop:"10px"},children:"Lägg till länk"}),A&&u.jsxs("div",{className:"create-post-modal__link-tools",children:[u.jsxs("div",{children:[u.jsx("label",{children:"Länktext:"}),u.jsx("input",{type:"text",value:K,onChange:re=>V(re.target.value),className:"create-post-modal__input",style:{marginTop:"5px",width:"100%"}})]}),u.jsxs("div",{children:[u.jsx("label",{children:"URL:"}),u.jsx("input",{type:"text",value:C,onChange:re=>D(re.target.value),className:"create-post-modal__input",style:{marginTop:"5px",width:"100%"}})]}),u.jsxs("div",{style:{marginTop:"10px"},children:[u.jsx("button",{onClick:H,className:"create-post-modal__button create-post-modal__button--primary",children:"Infoga länk"}),u.jsx("button",{onClick:()=>w(!1),className:"create-post-modal__button create-post-modal__button--secondary",style:{marginLeft:"10px"},children:"Avbryt"})]})]})]})]}),u.jsxs("div",{className:"create-post-modal__actions",children:[u.jsx("button",{onClick:e,className:"create-post-modal__button create-post-modal__button--secondary",children:"Avbryt"}),u.jsx("button",{onClick:I,className:"create-post-modal__button create-post-modal__button--primary",disabled:!a.trim()||!c.trim()||!_,children:"Spara"})]})]})]})]})},Rb=cT(Ss,"posts"),ID=async()=>{try{const s=cl(Rb,TI("createdAt","desc")),e=await bT(s),n=[];return e.forEach(a=>{n.push({id:a.id,...a.data()})}),n}catch(s){throw console.error("Error getting posts:",s),s}},d0=async(s,e)=>{try{let n=null;if(e){const l=rd(hd,`post-images/${Date.now()}`);await V1(l,e,"data_url"),n=await P1(l)}return{id:(await NI(Rb,{title:s.title,content:s.content,image:n||s.image,date:s.date,createdAt:new Date().toISOString()})).id,...s,image:n||s.image}}catch(n){throw console.error("Error adding post:",n),n}},jD=async(s,e)=>{try{if(await AT(ui(Ss,"posts",s)),e){const n=rd(hd,e);await qT(n)}}catch(n){throw console.error("Error deleting post:",n),n}},DD=()=>{const[s,e]=L.useState(""),[n,a]=L.useState(!1),[l,c]=L.useState(!1),{isAdmin:d}=mr(),[g,p]=L.useState([]),[_,E]=L.useState(!0),[A,w]=L.useState(null);L.useEffect(()=>{(async()=>{try{E(!0);const Q=await ID();p(Q),w(null)}catch(Q){console.error("Error fetching posts:",Q),w("Failed to load posts. Please try again later."),C()}finally{E(!1)}})()},[]);const C=()=>{p([{id:"default-1",title:"AIM Challenge 2025 - Anmälan öppen!",date:"28 februari 2025",content:"Nu är anmälan öppen för AIM Challenge 2025! Vi ser fram emot att välkomna både nya och återkommande deltagare till årets tävlingar i Hemsedal, Sälen, Ulricehamn och Kolmården.",image:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_094.jpg"},{id:"default-2",title:"Nya utmaningar i Hemsedal",date:"15 februari 2025",content:"I år har vi lagt till flera nya spännande utmaningar på Hemsedal-banan. Förbered er på att testa era gränser i den vackra norska fjällmiljön!",image:"/images/AIM_lindvallen_2024_AnkiGrothe_highres_125.jpg"},{id:"default-3",title:"Resultat från förra årets tävlingar",date:"10 januari 2025",content:"Nu finns alla resultat från förra årets tävlingar tillgängliga på vår hemsida. Kolla in hur du och ditt lag placerade er!",image:"/images/EE-AIMChallenge24-Uhamn-0171-high.jpg"},{id:"default-4",title:"Ny sponsor för AIM Challenge",date:"5 januari 2025",content:"Vi är glada att meddela att vi har fått en ny huvudsponsor för AIM Challenge 2025. Mer information kommer snart!",image:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_094.jpg"}])},D=B=>{B.preventDefault(),console.log("Email submitted:",s),a(!0),e(""),setTimeout(()=>a(!1),3e3)},K=async B=>{try{E(!0);const Q=await d0(B,B.image);p([Q,...g]),w(null)}catch(Q){console.error("Error saving post:",Q),w("Failed to save post. Please try again.")}finally{E(!1)}},V=async(B,Q)=>{if(window.confirm("Är du säker på att du vill ta bort detta inlägg?"))try{E(!0),await jD(B,Q);const ee=g.filter(J=>J.id!==B);p(ee),w(null)}catch(ee){console.error("Error deleting post:",ee),w("Failed to delete post. Please try again.")}finally{E(!1)}},F=async()=>{if(window.confirm("Är du säker på att du vill återställa till standardinlägg? Alla dina anpassade inlägg kommer att försvinna."))try{E(!0),C();for(const B of g)await d0(B,B.image);w(null)}catch(B){console.error("Error resetting posts:",B),w("Failed to reset posts. Please try again.")}finally{E(!1)}};return u.jsxs("div",{className:"flex flex_col",children:[u.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",children:u.jsx("div",{className:"page_01box flex flex_col flex_j_SA",children:u.jsx("div",{className:"om-oss-title flex flex_j_C flex_a_C",children:u.jsx(z,{textKey:"senaste-nytt-title",defaultText:"SENASTE NYTT",tag:"p",className:"fonts_huge senaste-nytt-main-title",style:{color:"rgb(56, 76, 135)"}})})})}),u.jsx("section",{className:"set-03 senaste-nytt-subscribe-section",children:u.jsxs("div",{className:"MaxWH flex flex_col flex_j_C flex_a_C font_white",children:[u.jsx(z,{textKey:"senaste-nytt-subscribe-title",defaultText:"Håll dig uppdaterad",tag:"h2",className:"fonts_large senaste-nytt-title"}),u.jsx(z,{textKey:"senaste-nytt-subscribe-text",defaultText:"Prenumerera på vårt nyhetsbrev för att få de senaste uppdateringarna om AIM Challenge direkt i din inkorg.",tag:"p",className:"fonts_small senaste-nytt-description"}),u.jsxs("form",{onSubmit:D,className:"senaste-nytt-form flex flex_col flex_a_C",children:[u.jsxs("div",{className:"senaste-nytt-form-input-container flex",children:[u.jsx("input",{type:"email",value:s,onChange:B=>e(B.target.value),placeholder:"Din e-postadress",required:!0,className:"senaste-nytt-form-input"}),u.jsx("button",{type:"submit",className:"senaste-nytt-form-button",children:u.jsx(z,{textKey:"senaste-nytt-subscribe-button",defaultText:"Prenumerera",tag:"span",className:""})})]}),n&&u.jsx("p",{className:"senaste-nytt-form-success",children:u.jsx(z,{textKey:"senaste-nytt-subscribe-thanks",defaultText:"Tack för din prenumeration!",tag:"span",className:""})})]})]})}),u.jsx("section",{className:"senaste-nytt-news-section",children:u.jsxs("div",{className:"MaxWH senaste-nytt-container",children:[u.jsx(z,{textKey:"senaste-nytt-news-title",defaultText:"Nyheter",tag:"h2",className:"senaste-nytt-section-title"}),d&&u.jsxs("div",{className:"senaste-nytt-admin-actions flex flex_j_E",children:[u.jsx("button",{className:"senaste-nytt-create-post-button",onClick:()=>c(!0),children:u.jsx(z,{textKey:"senaste-nytt-create-post-button",defaultText:"Skapa nytt inlägg",tag:"span",className:""})}),u.jsx("button",{className:"senaste-nytt-reset-posts-button",onClick:F,children:u.jsx(z,{textKey:"senaste-nytt-reset-posts-button",defaultText:"Återställ till standardinlägg",tag:"span",className:""})})]}),u.jsx("div",{className:"senaste-nytt-news-grid",children:g.map(B=>u.jsxs("div",{className:"senaste-nytt-news-card",children:[u.jsx("div",{className:"senaste-nytt-news-image",style:{backgroundImage:`url(${B.image})`}}),u.jsxs("div",{className:"senaste-nytt-news-content",children:[u.jsx(z,{textKey:`senaste-nytt-news-title-${B.id}`,defaultText:B.title,tag:"h3",className:"senaste-nytt-news-card-title"}),u.jsx(z,{textKey:`senaste-nytt-news-date-${B.id}`,defaultText:B.date,tag:"p",className:"senaste-nytt-news-date"}),u.jsx(z,{textKey:`senaste-nytt-news-content-${B.id}`,defaultText:B.content,tag:"p",className:"senaste-nytt-news-text"}),u.jsx(Se,{to:`/news/${B.id}`,className:"senaste-nytt-read-more",children:u.jsx(z,{textKey:`senaste-nytt-news-read-more-${B.id}`,defaultText:"Läs mer",tag:"span",className:"senaste-nytt-read-more-text"})}),d&&u.jsx("button",{className:"senaste-nytt-delete-post-button",onClick:()=>V(B.id,B.image),children:u.jsx(z,{textKey:`senaste-nytt-delete-post-button-${B.id}`,defaultText:"Ta bort",tag:"span",className:""})})]})]},B.id))})]})}),d&&u.jsx(CD,{isOpen:l,onClose:()=>c(!1),onSave:K}),u.jsx("div",{className:"senaste-nytt-background-container locked-background page_01"})]})},OD=()=>{const{id:s}=Uw(),e=Sl(),[n,a]=L.useState(null),[l,c]=L.useState(!0),d=[{id:1,title:"AIM Challenge 2025 - Anmälan öppen!",date:"28 februari 2025",content:`Nu är anmälan öppen för AIM Challenge 2025! Vi ser fram emot att välkomna både nya och återkommande deltagare till årets tävlingar i Hemsedal, Sälen, Ulricehamn och Kolmården.

AIM Challenge har blivit en tradition för många äventyrslystna deltagare, och i år kommer vi att erbjuda ännu fler spännande utmaningar. Tävlingarna kommer att äga rum under följande datum:

- Hemsedal: 15-17 mars 2025
- Sälen: 22-24 mars 2025
- Ulricehamn: 5-7 april 2025
- Kolmården: 19-21 april 2025

Anmälan sker via vår hemsida och platserna fylls snabbt, så se till att säkra din plats redan idag!`,image:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_094.jpg",fullImage:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_094.jpg"},{id:2,title:"Nya utmaningar i Hemsedal",date:"15 februari 2025",content:`I år har vi lagt till flera nya spännande utmaningar på Hemsedal-banan. Förbered er på att testa era gränser i den vackra norska fjällmiljön!

Vårt team har arbetat hårt för att designa nya hinderbanor som kommer att utmana även de mest erfarna deltagarna. De nya utmaningarna inkluderar:

1. "Fjällpassagen" - en tekniskt krävande sträcka med klättring och balansmoment
2. "Isfloden" - en isande kall utmaning som testar både styrka och mental uthållighet
3. "Lavinzonen" - en hinderbana där samarbete är nyckeln till framgång

Vi har också förbättrat säkerheten längs hela banan med fler kontrollpunkter och medicinsk personal på plats. Vårt mål är att skapa en utmanande men säker upplevelse för alla deltagare.`,image:"/images/AIM_lindvallen_2024_AnkiGrothe_highres_125.jpg",fullImage:"/images/AIM_lindvallen_2024_AnkiGrothe_highres_125.jpg"},{id:3,title:"Resultat från förra årets tävlingar",date:"10 januari 2025",content:`Nu finns alla resultat från förra årets tävlingar tillgängliga på vår hemsida. Kolla in hur du och ditt lag placerade er!

Förra årets AIM Challenge var en enorm framgång med rekordmånga deltagare. Vi vill gratulera alla vinnare och tacka samtliga deltagare för ert engagemang och er sportslighet.

Här är topplaceringarna från förra årets tävlingar:

Hemsedal:
- Herrar: 1. Erik Johansson, 2. Petter Nordlund, 3. Magnus Ek
- Damer: 1. Anna Lindberg, 2. Sofia Axelsson, 3. Emma Karlsson

Sälen:
- Herrar: 1. Johan Bergström, 2. Anders Nyström, 3. Karl Lundgren
- Damer: 1. Lina Ekström, 2. Maria Holmberg, 3. Johanna Wikström

Ulricehamn:
- Herrar: 1. Niklas Andersson, 2. Fredrik Lindholm, 3. Gustav Holm
- Damer: 1. Elin Sandberg, 2. Kristina Berg, 3. Maja Nilsson

Kolmården:
- Herrar: 1. Mikael Svensson, 2. David Karlsson, 3. Simon Lindgren
- Damer: 1. Sara Björk, 2. Hanna Lindqvist, 3. Klara Öberg

Fullständiga resultatlistor finns tillgängliga på vår hemsida under fliken "Resultat".`,image:"/images/EE-AIMChallenge24-Uhamn-0171-high.jpg",fullImage:"/images/EE-AIMChallenge24-Uhamn-0171-high.jpg"},{id:4,title:"Ny sponsor för AIM Challenge",date:"5 januari 2025",content:`Vi är glada att meddela att vi har fått en ny huvudsponsor för AIM Challenge 2025. Mer information kommer snart!

Den nya sponsorn kommer att bidra till att höja kvaliteten på våra evenemang ytterligare och möjliggöra fler spännande utmaningar och bättre priser för deltagarna.

Vi kommer att presentera vår nya huvudsponsor vid en presskonferens nästa vecka, så håll utkik efter mer information på vår hemsida och i våra sociala medier.

Detta partnerskap markerar början på ett nytt kapitel för AIM Challenge, och vi ser fram emot att tillsammans med vår nya sponsor ta tävlingen till nya höjder.`,image:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_094.jpg",fullImage:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_094.jpg"}];L.useEffect(()=>{if(s){const p=d.find(_=>_.id===parseInt(s));p&&a(p),c(!1)}},[s]);const g=()=>{e("/senaste-nytt")};return l?u.jsx("div",{className:"flex flex_col flex_a_C flex_j_C",style:{minHeight:"50vh"},children:u.jsx("p",{className:"fonts_large",children:"Laddar..."})}):n?u.jsxs("div",{className:"flex flex_col",children:[u.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",children:u.jsx("div",{className:"trans-background page_01box flex flex_col flex_j_SA",children:u.jsx("div",{className:"om-oss-title flex flex_j_C flex_a_C",children:u.jsx("p",{className:"font_blue fonts_huge font_white",children:"NYHETER"})})})}),u.jsx("section",{style:{padding:"50px 0",backgroundColor:"#f5f5f5",width:"100vw"},children:u.jsxs("div",{className:"MaxWH",style:{padding:"0 20px",maxWidth:"1000px",margin:"0 auto"},children:[u.jsxs("button",{onClick:g,className:"navbbutton button font_blue",style:{marginBottom:"20px",padding:"10px 30px 10px 20px",display:"flex",alignItems:"center",gap:"5px",minWidth:"120px"},children:[u.jsx("span",{children:"←"})," ",u.jsx("span",{children:"Tillbaka"})]}),u.jsxs("div",{style:{backgroundColor:"white",borderRadius:"8px",overflow:"hidden",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[u.jsx("div",{style:{height:"400px",backgroundImage:`url(${n.fullImage||n.image})`,backgroundSize:"cover",backgroundPosition:"center"}}),u.jsxs("div",{style:{padding:"30px"},children:[u.jsx("h1",{className:"fonts_large font_blue",style:{marginBottom:"10px"},children:n.title}),u.jsx("p",{className:"fonts_small",style:{color:"#666",marginBottom:"30px"},children:n.date}),n.content.split(`

`).map((p,_)=>u.jsx("p",{className:"fonts_small",style:{marginBottom:"20px"},children:p},_))]})]}),u.jsx("div",{style:{marginTop:"30px",textAlign:"center"},children:u.jsxs("button",{onClick:g,className:"navbbutton button font_blue",style:{padding:"10px 30px 10px 20px",display:"flex",alignItems:"center",gap:"5px",minWidth:"120px"},children:[u.jsx("span",{children:"←"})," ",u.jsx("span",{children:"Tillbaka"})]})})]})}),u.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",style:{height:"50vh",width:"100vw"}})]}):u.jsxs("div",{className:"flex flex_col flex_a_C flex_j_C",style:{minHeight:"50vh"},children:[u.jsx("p",{className:"fonts_large",children:"Nyheten kunde inte hittas"}),u.jsx("button",{onClick:g,className:"navbbutton button font_blue",style:{marginTop:"20px",padding:"10px 20px"},children:"Tillbaka till nyheter"})]})},f0=()=>{const[s,e]=L.useState(""),[n,a]=L.useState(""),[l,c]=L.useState(""),[d,g]=L.useState(!1),p=Sl(),{login:_,isAuthenticated:E}=fr();L.useEffect(()=>{E&&p("/")},[E,p]);const A=async w=>{w.preventDefault(),g(!0),c("");try{const C=await _(s,n);C.success?(console.log("Login successful"),console.log("Current user after login:",{email:s,role:"admin"}),p("/")):c(C.message||"Ogiltigt e-post eller lösenord")}catch(C){console.error("Login error:",C),c("Ett fel uppstod vid inloggning. Försök igen.")}finally{g(!1)}};return u.jsxs("div",{className:"flex flex_col",children:[u.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",children:u.jsx("div",{className:"trans-background page_01box flex flex_col flex_j_SA",children:u.jsx("div",{className:"om-oss-title flex flex_j_C flex_a_C",children:u.jsx("p",{className:"font_blue fonts_huge font_white",children:"LOGGA IN"})})})}),u.jsx("section",{style:{padding:"50px 0",backgroundColor:"#f5f5f5",width:"100vw",minHeight:"60vh"},children:u.jsx("div",{className:"MaxWH",style:{padding:"0 20px",maxWidth:"500px",margin:"0 auto"},children:u.jsxs("div",{style:{backgroundColor:"white",borderRadius:"8px",overflow:"hidden",boxShadow:"0 4px 6px rgba(0,0,0,0.1)",padding:"30px"},children:[u.jsx("h2",{className:"fonts_medium font_blue",style:{marginBottom:"20px",textAlign:"center"},children:"Administratörsinloggning"}),l&&u.jsx("div",{style:{backgroundColor:"rgba(255, 0, 0, 0.1)",color:"#d32f2f",padding:"10px",borderRadius:"4px",marginBottom:"20px",textAlign:"center"},children:l}),u.jsxs("form",{onSubmit:A,children:[u.jsxs("div",{style:{marginBottom:"20px"},children:[u.jsx("label",{htmlFor:"email",className:"fonts_small",style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"E-post"}),u.jsx("input",{type:"email",id:"email",value:s,onChange:w=>e(w.target.value),required:!0,style:{width:"80%",padding:"10px 12px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"16px"}})]}),u.jsxs("div",{style:{marginBottom:"30px"},children:[u.jsx("label",{htmlFor:"password",className:"fonts_small",style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Lösenord"}),u.jsx("input",{type:"password",id:"password",value:n,onChange:w=>a(w.target.value),required:!0,style:{width:"80%",padding:"10px 12px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"16px"}})]}),u.jsx("button",{type:"submit",className:"navbbutton button font_blue",style:{width:"80%",padding:"10px 15px",fontSize:"16px",cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center"},disabled:d,children:d?"Loggar in...":"Logga in"})]}),u.jsxs("div",{style:{marginTop:"20px",textAlign:"center"},children:[u.jsx("p",{className:"fonts_small",style:{color:"#666"},children:"Detta är en inloggning endast för administratörer."}),u.jsx("p",{className:"fonts_small",style:{color:"#666",marginTop:"5px"},children:"Standard: admin@example.com / password123"})]})]})})}),u.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",style:{height:"30vh",width:"100vw"}})]})},MD=()=>{const{textContent:s,resetAllContent:e,removeContentItem:n,isAdmin:a}=mr(),{isAuthenticated:l}=fr(),[c,d]=L.useState(!1),[g,p]=L.useState(null),[_,E]=L.useState("all"),A=Sl();if(L.useEffect(()=>{(!l||!a)&&A("/")},[l,a,A]),!l||!a)return null;const w=()=>{d(!0),p(null)},C=ee=>{d(!0),p(ee)},D=()=>{g?n(g):e(),d(!1),p(null)},K=()=>{d(!1),p(null)},F=(()=>{const ee={text:{},image:{},background:{}};return Object.entries(s).forEach(([J,ce])=>{ce.startsWith("data:image")||ce.startsWith("http")||ce.startsWith("/")?J.includes("-bg")||J.includes("background")?ee.background[J]=ce:ee.image[J]=ce:ee.text[J]=ce}),ee})(),Q=_==="all"?s:F[_]||{};return u.jsxs("div",{className:"flex flex_col",style:{minHeight:"100vh"},children:[u.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",children:u.jsx("div",{className:"trans-background page_01box flex flex_col flex_j_SA",children:u.jsx("div",{className:"om-oss-title flex flex_j_C flex_a_C",children:u.jsx("p",{className:"font_blue fonts_huge",children:"Innehållshanterare"})})})}),u.jsxs("section",{style:{padding:"40px",maxWidth:"1200px",margin:"0 auto"},children:[u.jsxs("div",{style:{marginBottom:"30px",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"20px"},children:[u.jsx("h2",{className:"font_blue fonts_large",children:"Alla redigerbara innehåll"}),u.jsx("button",{onClick:w,style:{padding:"10px 20px",backgroundColor:"#ff4d4d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Återställ allt innehåll"})]}),u.jsxs("div",{style:{marginBottom:"30px",display:"flex",gap:"10px",flexWrap:"wrap"},children:[u.jsxs("button",{onClick:()=>E("all"),style:{padding:"8px 16px",backgroundColor:_==="all"?"#00a6fb":"#f0f0f0",color:_==="all"?"white":"black",border:"none",borderRadius:"4px",cursor:"pointer"},children:["Alla (",Object.keys(s).length,")"]}),u.jsxs("button",{onClick:()=>E("text"),style:{padding:"8px 16px",backgroundColor:_==="text"?"#00a6fb":"#f0f0f0",color:_==="text"?"white":"black",border:"none",borderRadius:"4px",cursor:"pointer"},children:["Texter (",Object.keys(F.text).length,")"]}),u.jsxs("button",{onClick:()=>E("image"),style:{padding:"8px 16px",backgroundColor:_==="image"?"#00a6fb":"#f0f0f0",color:_==="image"?"white":"black",border:"none",borderRadius:"4px",cursor:"pointer"},children:["Bilder (",Object.keys(F.image).length,")"]}),u.jsxs("button",{onClick:()=>E("background"),style:{padding:"8px 16px",backgroundColor:_==="background"?"#00a6fb":"#f0f0f0",color:_==="background"?"white":"black",border:"none",borderRadius:"4px",cursor:"pointer"},children:["Bakgrundsbilder (",Object.keys(F.background).length,")"]})]}),c&&u.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.7)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:9999},children:u.jsxs("div",{style:{backgroundColor:"white",padding:"30px",borderRadius:"8px",maxWidth:"500px",width:"90%",textAlign:"center"},children:[u.jsx("h3",{style:{marginBottom:"20px",color:"#00a6fb"},children:"Bekräfta åtgärd"}),u.jsx("p",{style:{marginBottom:"30px"},children:g?`Är du säker på att du vill ta bort innehållet med nyckeln "${g}"?`:"Är du säker på att du vill återställa allt innehåll? Detta kan inte ångras."}),u.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"20px"},children:[u.jsx("button",{onClick:D,style:{padding:"10px 20px",backgroundColor:"#ff4d4d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:g?"Ta bort":"Återställ allt"}),u.jsx("button",{onClick:K,style:{padding:"10px 20px",backgroundColor:"#ccc",color:"black",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Avbryt"})]})]})}),Object.keys(Q).length===0?u.jsxs("p",{children:["Inga redigerade ",_==="text"?"texter":_==="image"?"bilder":_==="background"?"bakgrundsbilder":"innehåll"," ännu."]}):u.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"20px"},children:Object.entries(Q).map(([ee,J])=>{const ce=J.startsWith("data:image")||J.startsWith("http")||J.startsWith("/"),M=ee.includes("-bg")||ee.includes("background");return u.jsxs("div",{style:{border:"1px solid #ddd",borderRadius:"8px",padding:"15px",backgroundColor:"white",boxShadow:"0 2px 4px rgba(0,0,0,0.05)"},children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:[u.jsx("h3",{className:"font_blue fonts_medium",style:{wordBreak:"break-all",fontSize:"16px"},children:ee}),u.jsx("span",{style:{padding:"3px 8px",borderRadius:"4px",fontSize:"12px",backgroundColor:M?"#6c5ce7":ce?"#00b894":"#0984e3",color:"white"},children:M?"Bakgrund":ce?"Bild":"Text"})]}),u.jsx("div",{style:{marginBottom:"10px"},children:ce?u.jsxs("div",{children:[u.jsx("img",{src:J,alt:ee,style:{width:"100%",height:M?"150px":"auto",maxHeight:"150px",objectFit:M?"cover":"contain",borderRadius:"4px",border:"1px solid #eee"}}),M&&u.jsx("div",{style:{marginTop:"5px",fontSize:"12px",color:"#666",textAlign:"center"},children:"Bakgrundsbild"})]}):u.jsx("p",{style:{maxHeight:"100px",overflow:"auto",backgroundColor:"#f5f5f5",padding:"10px",borderRadius:"4px",fontSize:"14px"},children:J})}),u.jsx("button",{onClick:()=>C(ee),style:{width:"100%",padding:"8px",backgroundColor:"#ff4d4d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px"},children:"Ta bort"})]},ee)})})]})]})},LD=({children:s,requireAdmin:e=!1})=>{const{isAuthenticated:n,currentUser:a}=fr();return n?e&&(a==null?void 0:a.role)!=="admin"?u.jsx(jv,{to:"/"}):s:u.jsx(jv,{to:"/login"})},VD=()=>{const{isAdmin:s,getText:e}=mr();return L.useEffect(()=>{if(s)return document.body.classList.add("admin-editing-mode"),()=>{document.body.classList.remove("admin-editing-mode")}},[s]),L.useEffect(()=>{const n=()=>{const a=JSON.parse(localStorage.getItem("textContent")||"{}"),l=Object.keys(a).filter(d=>d.startsWith("bg-")&&(d.endsWith("-type")||d.endsWith("-image"))),c={};l.forEach(d=>{const g=d.split("-type")[0].split("-image")[0];c[g]||(c[g]={}),d.endsWith("-type")?c[g].type=a[d]:d.endsWith("-image")&&(c[g].image=a[d])}),Object.keys(c).forEach(d=>{const g=document.getElementById(d);if(!g)return;const p=c[d];p.type&&(g.classList.remove("simple-background","locked-background"),g.classList.add(`${p.type}-background`),p.type==="locked"?g.style.backgroundAttachment="fixed":g.style.backgroundAttachment="scroll"),p.image&&(g.style.backgroundImage=`url('${p.image}')`,g.style.backgroundSize="cover",g.style.backgroundPosition="center",g.style.backgroundRepeat="no-repeat")})};return n(),window.addEventListener("storage",n),()=>{window.removeEventListener("storage",n)}},[]),null},PD=()=>u.jsx("div",{className:"background-container",children:u.jsx("img",{src:"/backgrounds/Höjdkurvor.svg",alt:"Background"})}),UD=()=>{const{isAdmin:s,getText:e,updateText:n}=mr(),[a,l]=L.useState(null),[c,d]=L.useState(null),[g,p]=L.useState(!1),[_,E]=L.useState("simple"),[A,w]=L.useState("type"),[C,D]=L.useState(""),K=L.useRef(null);L.useEffect(()=>{if(!s)return;const ee=J=>{if(J.target.classList.contains("simple-background")||J.target.classList.contains("locked-background")||J.target.classList.contains("dynamic-background")||[...J.target.classList].some(M=>M.includes("-bg"))){J.stopPropagation(),l(J.target);let M=J.target.id;M||(M=`bg-${Date.now()}`,J.target.id=M),d(M);const N=e(`${M}-type`,null);N?E(N):J.target.classList.contains("locked-background")?E("locked"):E("simple");const S=e(`${M}-image`,null);if(S)D(S);else{let O=window.getComputedStyle(J.target).backgroundImage;O&&O!=="none"?(O=O.replace(/url\(['"]?(.*?)['"]?\)/i,"$1"),D(O)):D("")}p(!0)}};return document.addEventListener("click",ee),()=>{document.removeEventListener("click",ee)}},[s,e]);const V=()=>{!a||!c||(a.classList.remove("simple-background","locked-background"),a.classList.add(`${_}-background`),_==="locked"?a.style.backgroundAttachment="fixed":a.style.backgroundAttachment="scroll",n(`${c}-type`,_))},F=()=>{!a||!C||!c||(a.style.backgroundImage=`url('${C}')`,a.style.backgroundSize="cover",a.style.backgroundPosition="center",a.style.backgroundRepeat="no-repeat",n(`${c}-image`,C))},B=ee=>{const J=ee.target.files[0];if(!J)return;const ce=URL.createObjectURL(J);D(ce);const M=new FileReader;M.onloadend=()=>{D(M.result)},M.readAsDataURL(J)},Q=()=>{V(),F(),p(!1)};return!s||!g?null:u.jsx("div",{className:"background-settings-modal",onClick:()=>p(!1),children:u.jsxs("div",{className:"background-settings-content",onClick:ee=>ee.stopPropagation(),children:[u.jsx("h3",{children:"Background Settings"}),u.jsxs("div",{className:"settings-tabs",children:[u.jsx("button",{className:`tab-button ${A==="type"?"active":""}`,onClick:()=>w("type"),children:"Background Type"}),u.jsx("button",{className:`tab-button ${A==="image"?"active":""}`,onClick:()=>w("image"),children:"Background Image"})]}),A==="type"&&u.jsxs("div",{className:"background-type-options",children:[u.jsx("div",{className:"form-group",children:u.jsxs("label",{children:[u.jsx("input",{type:"radio",name:"backgroundType",value:"simple",checked:_==="simple",onChange:()=>E("simple")}),"Simple (Scrolls with content)"]})}),u.jsx("div",{className:"form-group",children:u.jsxs("label",{children:[u.jsx("input",{type:"radio",name:"backgroundType",value:"locked",checked:_==="locked",onChange:()=>E("locked")}),"Locked (Fixed when scrolling)"]})})]}),A==="image"&&u.jsxs("div",{className:"background-image-options",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"imageUrl",children:"Image URL:"}),u.jsx("input",{type:"text",id:"imageUrl",value:C,onChange:ee=>D(ee.target.value),placeholder:"Enter image URL",className:"image-url-input"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Or upload an image:"}),u.jsx("input",{type:"file",accept:"image/*",onChange:B,ref:K,className:"file-input"}),u.jsx("button",{className:"upload-button",onClick:()=>K.current.click(),children:"Choose File"})]}),C&&u.jsxs("div",{className:"image-preview",children:[u.jsx("p",{children:"Preview:"}),u.jsx("img",{src:C,alt:"Background preview"})]})]}),u.jsxs("div",{className:"button-group",children:[u.jsx("button",{className:"cancel-button",onClick:()=>p(!1),children:"Cancel"}),u.jsx("button",{className:"apply-button",onClick:Q,children:"Apply"})]})]})})},BD=async(s,e,n="Admin")=>{try{const l=(await Pj(gh,s,e)).user;return await Hj(l,{displayName:n}),await sd(ui(Ss,"users",l.uid),{email:s,displayName:n,role:"admin",createdAt:new Date}),{success:!0,user:{uid:l.uid,email:l.email,displayName:n,role:"admin"}}}catch(a){return console.error("Error creating admin user:",a),{success:!1,error:a.message}}},HD=async()=>{try{(await ET(ui(Ss,"settings","admin"))).exists()||(await BD("admin@example.com","password123")).success&&(await sd(ui(Ss,"settings","admin"),{initialized:!0,adminEmail:"admin@example.com",createdAt:new Date}),console.log("Admin user initialized successfully"))}catch(s){console.error("Error initializing admin user:",s)}},zD=()=>(L.useEffect(()=>{HD().then(()=>console.log("Admin user initialized")).catch(s=>console.error("Error initializing admin user:",s))},[]),u.jsx(aD,{children:u.jsx(oD,{children:u.jsx(AS,{children:u.jsxs("div",{className:"flex flex_col MaxWH location",style:{width:"100%",maxWidth:"100%",overflow:"hidden",margin:0,padding:0,display:"flex",flexDirection:"column",position:"relative"},children:[u.jsx(PD,{}),u.jsx(cD,{}),u.jsx(VD,{}),u.jsx(UD,{}),u.jsx("div",{style:{margin:0,padding:0,width:"100%",position:"relative",top:0},children:u.jsxs(eS,{children:[u.jsx(It,{path:"/",element:u.jsx(hD,{})}),u.jsx(It,{path:"/competitions",element:u.jsx(dD,{})}),u.jsx(It,{path:"/ulricehamn",element:u.jsx(fD,{})}),u.jsx(It,{path:"/salen",element:u.jsx(mD,{})}),u.jsx(It,{path:"/hemsedal",element:u.jsx(gD,{})}),u.jsx(It,{path:"/kolmarden",element:u.jsx(pD,{})}),u.jsx(It,{path:"/trippeln",element:u.jsx(_D,{})}),u.jsx(It,{path:"/results",element:u.jsx(TD,{})}),u.jsx(It,{path:"/gallery",element:u.jsxs(u.Fragment,{children:[u.jsx(bD,{}),u.jsx(AD,{})]})}),u.jsx(It,{path:"/om-oss",element:u.jsx(wD,{})}),u.jsx(It,{path:"/regler",element:u.jsx(SD,{})}),u.jsx(It,{path:"/faq",element:u.jsx(RD,{})}),u.jsx(It,{path:"/historien-om-aim",element:u.jsx(kD,{})}),u.jsx(It,{path:"/senaste-nytt",element:u.jsx(DD,{})}),u.jsx(It,{path:"/news/:id",element:u.jsx(OD,{})}),u.jsx(It,{path:"/login",element:u.jsx(f0,{})}),u.jsx(It,{path:"login",element:u.jsx(f0,{})}),u.jsx(It,{path:"/content-manager",element:u.jsx(LD,{requireAdmin:!0,children:u.jsx(MD,{})})})]})}),u.jsx(uD,{})]})})})}));(function(){const s=sessionStorage.redirect;delete sessionStorage.redirect,s&&s!==location.href&&history.replaceState(null,null,s)})();const qD=document.getElementById("root");cw.createRoot(qD).render(u.jsx(nw.StrictMode,{children:u.jsx(zD,{})}));
//# sourceMappingURL=index-iSeSymGk.js.map
