(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function t(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(l){if(l.ep)return;l.ep=!0;const c=t(l);fetch(l.href,c)}})();function _g(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var bm={exports:{}},Wo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rv;function lS(){if(Rv)return Wo;Rv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,l,c){var h=null;if(c!==void 0&&(h=""+c),l.key!==void 0&&(h=""+l.key),"key"in l){c={};for(var m in l)m!=="key"&&(c[m]=l[m])}else c=l;return l=c.ref,{$$typeof:s,type:i,key:h,ref:l!==void 0?l:null,props:c}}return Wo.Fragment=e,Wo.jsx=t,Wo.jsxs=t,Wo}var kv;function oS(){return kv||(kv=1,bm.exports=lS()),bm.exports}var u=oS(),Tm={exports:{}},De={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cv;function cS(){if(Cv)return De;Cv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),A=Symbol.iterator;function S(P){return P===null||typeof P!="object"?null:(P=A&&P[A]||P["@@iterator"],typeof P=="function"?P:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,V={};function B(P,ne,pe){this.props=P,this.context=ne,this.refs=V,this.updater=pe||j}B.prototype.isReactComponent={},B.prototype.setState=function(P,ne){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,ne,"setState")},B.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function F(){}F.prototype=B.prototype;function G(P,ne,pe){this.props=P,this.context=ne,this.refs=V,this.updater=pe||j}var $=G.prototype=new F;$.constructor=G,O($,B.prototype),$.isPureReactComponent=!0;var J=Array.isArray,se={H:null,A:null,T:null,S:null},le=Object.prototype.hasOwnProperty;function L(P,ne,pe,ge,me,Ne){return pe=Ne.ref,{$$typeof:s,type:P,key:ne,ref:pe!==void 0?pe:null,props:Ne}}function N(P,ne){return L(P.type,ne,void 0,void 0,void 0,P.props)}function b(P){return typeof P=="object"&&P!==null&&P.$$typeof===s}function T(P){var ne={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(pe){return ne[pe]})}var C=/\/+/g;function D(P,ne){return typeof P=="object"&&P!==null&&P.key!=null?T(""+P.key):ne.toString(36)}function w(){}function z(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(w,w):(P.status="pending",P.then(function(ne){P.status==="pending"&&(P.status="fulfilled",P.value=ne)},function(ne){P.status==="pending"&&(P.status="rejected",P.reason=ne)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function ee(P,ne,pe,ge,me){var Ne=typeof P;(Ne==="undefined"||Ne==="boolean")&&(P=null);var je=!1;if(P===null)je=!0;else switch(Ne){case"bigint":case"string":case"number":je=!0;break;case"object":switch(P.$$typeof){case s:case e:je=!0;break;case v:return je=P._init,ee(je(P._payload),ne,pe,ge,me)}}if(je)return me=me(P),je=ge===""?"."+D(P,0):ge,J(me)?(pe="",je!=null&&(pe=je.replace(C,"$&/")+"/"),ee(me,ne,pe,"",function(it){return it})):me!=null&&(b(me)&&(me=N(me,pe+(me.key==null||P&&P.key===me.key?"":(""+me.key).replace(C,"$&/")+"/")+je)),ne.push(me)),1;je=0;var ft=ge===""?".":ge+":";if(J(P))for(var ze=0;ze<P.length;ze++)ge=P[ze],Ne=ft+D(ge,ze),je+=ee(ge,ne,pe,Ne,me);else if(ze=S(P),typeof ze=="function")for(P=ze.call(P),ze=0;!(ge=P.next()).done;)ge=ge.value,Ne=ft+D(ge,ze++),je+=ee(ge,ne,pe,Ne,me);else if(Ne==="object"){if(typeof P.then=="function")return ee(z(P),ne,pe,ge,me);throw ne=String(P),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return je}function H(P,ne,pe){if(P==null)return P;var ge=[],me=0;return ee(P,ge,"","",function(Ne){return ne.call(pe,Ne,me++)}),ge}function X(P){if(P._status===-1){var ne=P._result;ne=ne(),ne.then(function(pe){(P._status===0||P._status===-1)&&(P._status=1,P._result=pe)},function(pe){(P._status===0||P._status===-1)&&(P._status=2,P._result=pe)}),P._status===-1&&(P._status=0,P._result=ne)}if(P._status===1)return P._result.default;throw P._result}var ae=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)};function he(){}return De.Children={map:H,forEach:function(P,ne,pe){H(P,function(){ne.apply(this,arguments)},pe)},count:function(P){var ne=0;return H(P,function(){ne++}),ne},toArray:function(P){return H(P,function(ne){return ne})||[]},only:function(P){if(!b(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},De.Component=B,De.Fragment=t,De.Profiler=l,De.PureComponent=G,De.StrictMode=i,De.Suspense=p,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=se,De.act=function(){throw Error("act(...) is not supported in production builds of React.")},De.cache=function(P){return function(){return P.apply(null,arguments)}},De.cloneElement=function(P,ne,pe){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var ge=O({},P.props),me=P.key,Ne=void 0;if(ne!=null)for(je in ne.ref!==void 0&&(Ne=void 0),ne.key!==void 0&&(me=""+ne.key),ne)!le.call(ne,je)||je==="key"||je==="__self"||je==="__source"||je==="ref"&&ne.ref===void 0||(ge[je]=ne[je]);var je=arguments.length-2;if(je===1)ge.children=pe;else if(1<je){for(var ft=Array(je),ze=0;ze<je;ze++)ft[ze]=arguments[ze+2];ge.children=ft}return L(P.type,me,void 0,void 0,Ne,ge)},De.createContext=function(P){return P={$$typeof:h,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:c,_context:P},P},De.createElement=function(P,ne,pe){var ge,me={},Ne=null;if(ne!=null)for(ge in ne.key!==void 0&&(Ne=""+ne.key),ne)le.call(ne,ge)&&ge!=="key"&&ge!=="__self"&&ge!=="__source"&&(me[ge]=ne[ge]);var je=arguments.length-2;if(je===1)me.children=pe;else if(1<je){for(var ft=Array(je),ze=0;ze<je;ze++)ft[ze]=arguments[ze+2];me.children=ft}if(P&&P.defaultProps)for(ge in je=P.defaultProps,je)me[ge]===void 0&&(me[ge]=je[ge]);return L(P,Ne,void 0,void 0,null,me)},De.createRef=function(){return{current:null}},De.forwardRef=function(P){return{$$typeof:m,render:P}},De.isValidElement=b,De.lazy=function(P){return{$$typeof:v,_payload:{_status:-1,_result:P},_init:X}},De.memo=function(P,ne){return{$$typeof:y,type:P,compare:ne===void 0?null:ne}},De.startTransition=function(P){var ne=se.T,pe={};se.T=pe;try{var ge=P(),me=se.S;me!==null&&me(pe,ge),typeof ge=="object"&&ge!==null&&typeof ge.then=="function"&&ge.then(he,ae)}catch(Ne){ae(Ne)}finally{se.T=ne}},De.unstable_useCacheRefresh=function(){return se.H.useCacheRefresh()},De.use=function(P){return se.H.use(P)},De.useActionState=function(P,ne,pe){return se.H.useActionState(P,ne,pe)},De.useCallback=function(P,ne){return se.H.useCallback(P,ne)},De.useContext=function(P){return se.H.useContext(P)},De.useDebugValue=function(){},De.useDeferredValue=function(P,ne){return se.H.useDeferredValue(P,ne)},De.useEffect=function(P,ne){return se.H.useEffect(P,ne)},De.useId=function(){return se.H.useId()},De.useImperativeHandle=function(P,ne,pe){return se.H.useImperativeHandle(P,ne,pe)},De.useInsertionEffect=function(P,ne){return se.H.useInsertionEffect(P,ne)},De.useLayoutEffect=function(P,ne){return se.H.useLayoutEffect(P,ne)},De.useMemo=function(P,ne){return se.H.useMemo(P,ne)},De.useOptimistic=function(P,ne){return se.H.useOptimistic(P,ne)},De.useReducer=function(P,ne,pe){return se.H.useReducer(P,ne,pe)},De.useRef=function(P){return se.H.useRef(P)},De.useState=function(P){return se.H.useState(P)},De.useSyncExternalStore=function(P,ne,pe){return se.H.useSyncExternalStore(P,ne,pe)},De.useTransition=function(){return se.H.useTransition()},De.version="19.0.0",De}var Iv;function vg(){return Iv||(Iv=1,Tm.exports=cS()),Tm.exports}var k=vg();const uS=_g(k);var Am={exports:{}},Xo={},Sm={exports:{}},wm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jv;function dS(){return jv||(jv=1,function(s){function e(H,X){var ae=H.length;H.push(X);e:for(;0<ae;){var he=ae-1>>>1,P=H[he];if(0<l(P,X))H[he]=X,H[ae]=P,ae=he;else break e}}function t(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var X=H[0],ae=H.pop();if(ae!==X){H[0]=ae;e:for(var he=0,P=H.length,ne=P>>>1;he<ne;){var pe=2*(he+1)-1,ge=H[pe],me=pe+1,Ne=H[me];if(0>l(ge,ae))me<P&&0>l(Ne,ge)?(H[he]=Ne,H[me]=ae,he=me):(H[he]=ge,H[pe]=ae,he=pe);else if(me<P&&0>l(Ne,ae))H[he]=Ne,H[me]=ae,he=me;else break e}}return X}function l(H,X){var ae=H.sortIndex-X.sortIndex;return ae!==0?ae:H.id-X.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var h=Date,m=h.now();s.unstable_now=function(){return h.now()-m}}var p=[],y=[],v=1,A=null,S=3,j=!1,O=!1,V=!1,B=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function $(H){for(var X=t(y);X!==null;){if(X.callback===null)i(y);else if(X.startTime<=H)i(y),X.sortIndex=X.expirationTime,e(p,X);else break;X=t(y)}}function J(H){if(V=!1,$(H),!O)if(t(p)!==null)O=!0,z();else{var X=t(y);X!==null&&ee(J,X.startTime-H)}}var se=!1,le=-1,L=5,N=-1;function b(){return!(s.unstable_now()-N<L)}function T(){if(se){var H=s.unstable_now();N=H;var X=!0;try{e:{O=!1,V&&(V=!1,F(le),le=-1),j=!0;var ae=S;try{t:{for($(H),A=t(p);A!==null&&!(A.expirationTime>H&&b());){var he=A.callback;if(typeof he=="function"){A.callback=null,S=A.priorityLevel;var P=he(A.expirationTime<=H);if(H=s.unstable_now(),typeof P=="function"){A.callback=P,$(H),X=!0;break t}A===t(p)&&i(p),$(H)}else i(p);A=t(p)}if(A!==null)X=!0;else{var ne=t(y);ne!==null&&ee(J,ne.startTime-H),X=!1}}break e}finally{A=null,S=ae,j=!1}X=void 0}}finally{X?C():se=!1}}}var C;if(typeof G=="function")C=function(){G(T)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,w=D.port2;D.port1.onmessage=T,C=function(){w.postMessage(null)}}else C=function(){B(T,0)};function z(){se||(se=!0,C())}function ee(H,X){le=B(function(){H(s.unstable_now())},X)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_continueExecution=function(){O||j||(O=!0,z())},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return S},s.unstable_getFirstCallbackNode=function(){return t(p)},s.unstable_next=function(H){switch(S){case 1:case 2:case 3:var X=3;break;default:X=S}var ae=S;S=X;try{return H()}finally{S=ae}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(H,X){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ae=S;S=H;try{return X()}finally{S=ae}},s.unstable_scheduleCallback=function(H,X,ae){var he=s.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?he+ae:he):ae=he,H){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=ae+P,H={id:v++,callback:X,priorityLevel:H,startTime:ae,expirationTime:P,sortIndex:-1},ae>he?(H.sortIndex=ae,e(y,H),t(p)===null&&H===t(y)&&(V?(F(le),le=-1):V=!0,ee(J,ae-he))):(H.sortIndex=P,e(p,H),O||j||(O=!0,z())),H},s.unstable_shouldYield=b,s.unstable_wrapCallback=function(H){var X=S;return function(){var ae=S;S=X;try{return H.apply(this,arguments)}finally{S=ae}}}}(wm)),wm}var Dv;function hS(){return Dv||(Dv=1,Sm.exports=dS()),Sm.exports}var Nm={exports:{}},ln={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ov;function fS(){if(Ov)return ln;Ov=1;var s=vg();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)y+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(p,y,v){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:p,containerInfo:y,implementation:v}}var h=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return ln.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,ln.createPortal=function(p,y){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(p,y,null,v)},ln.flushSync=function(p){var y=h.T,v=i.p;try{if(h.T=null,i.p=2,p)return p()}finally{h.T=y,i.p=v,i.d.f()}},ln.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,i.d.C(p,y))},ln.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},ln.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var v=y.as,A=m(v,y.crossOrigin),S=typeof y.integrity=="string"?y.integrity:void 0,j=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;v==="style"?i.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:S,fetchPriority:j}):v==="script"&&i.d.X(p,{crossOrigin:A,integrity:S,fetchPriority:j,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},ln.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var v=m(y.as,y.crossOrigin);i.d.M(p,{crossOrigin:v,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&i.d.M(p)},ln.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var v=y.as,A=m(v,y.crossOrigin);i.d.L(p,v,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},ln.preloadModule=function(p,y){if(typeof p=="string")if(y){var v=m(y.as,y.crossOrigin);i.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:v,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else i.d.m(p)},ln.requestFormReset=function(p){i.d.r(p)},ln.unstable_batchedUpdates=function(p,y){return p(y)},ln.useFormState=function(p,y,v){return h.H.useFormState(p,y,v)},ln.useFormStatus=function(){return h.H.useHostTransitionStatus()},ln.version="19.0.0",ln}var Mv;function N0(){if(Mv)return Nm.exports;Mv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Nm.exports=fS(),Nm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lv;function mS(){if(Lv)return Xo;Lv=1;var s=hS(),e=vg(),t=N0();function i(n){var a="https://react.dev/errors/"+n;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)a+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+n+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}var c=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),S=Symbol.for("react.consumer"),j=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),$=Symbol.for("react.offscreen"),J=Symbol.for("react.memo_cache_sentinel"),se=Symbol.iterator;function le(n){return n===null||typeof n!="object"?null:(n=se&&n[se]||n["@@iterator"],typeof n=="function"?n:null)}var L=Symbol.for("react.client.reference");function N(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===L?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case p:return"Fragment";case m:return"Portal";case v:return"Profiler";case y:return"StrictMode";case V:return"Suspense";case B:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case j:return(n.displayName||"Context")+".Provider";case S:return(n._context.displayName||"Context")+".Consumer";case O:var a=n.render;return n=n.displayName,n||(n=a.displayName||a.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case F:return a=n.displayName||null,a!==null?a:N(n.type)||"Memo";case G:a=n._payload,n=n._init;try{return N(n(a))}catch{}}return null}var b=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,T=Object.assign,C,D;function w(n){if(C===void 0)try{throw Error()}catch(r){var a=r.stack.trim().match(/\n( *(at )?)/);C=a&&a[1]||"",D=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+C+n+D}var z=!1;function ee(n,a){if(!n||z)return"";z=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(a){var de=function(){throw Error()};if(Object.defineProperty(de.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(de,[])}catch(ie){var Z=ie}Reflect.construct(n,[],de)}else{try{de.call()}catch(ie){Z=ie}n.call(de.prototype)}}else{try{throw Error()}catch(ie){Z=ie}(de=n())&&typeof de.catch=="function"&&de.catch(function(){})}}catch(ie){if(ie&&Z&&typeof ie.stack=="string")return[ie.stack,Z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=o.DetermineComponentFrameRoot(),E=g[0],R=g[1];if(E&&R){var M=E.split(`
`),K=R.split(`
`);for(f=o=0;o<M.length&&!M[o].includes("DetermineComponentFrameRoot");)o++;for(;f<K.length&&!K[f].includes("DetermineComponentFrameRoot");)f++;if(o===M.length||f===K.length)for(o=M.length-1,f=K.length-1;1<=o&&0<=f&&M[o]!==K[f];)f--;for(;1<=o&&0<=f;o--,f--)if(M[o]!==K[f]){if(o!==1||f!==1)do if(o--,f--,0>f||M[o]!==K[f]){var re=`
`+M[o].replace(" at new "," at ");return n.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",n.displayName)),re}while(1<=o&&0<=f);break}}}finally{z=!1,Error.prepareStackTrace=r}return(r=n?n.displayName||n.name:"")?w(r):""}function H(n){switch(n.tag){case 26:case 27:case 5:return w(n.type);case 16:return w("Lazy");case 13:return w("Suspense");case 19:return w("SuspenseList");case 0:case 15:return n=ee(n.type,!1),n;case 11:return n=ee(n.type.render,!1),n;case 1:return n=ee(n.type,!0),n;default:return""}}function X(n){try{var a="";do a+=H(n),n=n.return;while(n);return a}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function ae(n){var a=n,r=n;if(n.alternate)for(;a.return;)a=a.return;else{n=a;do a=n,(a.flags&4098)!==0&&(r=a.return),n=a.return;while(n)}return a.tag===3?r:null}function he(n){if(n.tag===13){var a=n.memoizedState;if(a===null&&(n=n.alternate,n!==null&&(a=n.memoizedState)),a!==null)return a.dehydrated}return null}function P(n){if(ae(n)!==n)throw Error(i(188))}function ne(n){var a=n.alternate;if(!a){if(a=ae(n),a===null)throw Error(i(188));return a!==n?null:n}for(var r=n,o=a;;){var f=r.return;if(f===null)break;var g=f.alternate;if(g===null){if(o=f.return,o!==null){r=o;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===r)return P(f),n;if(g===o)return P(f),a;g=g.sibling}throw Error(i(188))}if(r.return!==o.return)r=f,o=g;else{for(var E=!1,R=f.child;R;){if(R===r){E=!0,r=f,o=g;break}if(R===o){E=!0,o=f,r=g;break}R=R.sibling}if(!E){for(R=g.child;R;){if(R===r){E=!0,r=g,o=f;break}if(R===o){E=!0,o=g,r=f;break}R=R.sibling}if(!E)throw Error(i(189))}}if(r.alternate!==o)throw Error(i(190))}if(r.tag!==3)throw Error(i(188));return r.stateNode.current===r?n:a}function pe(n){var a=n.tag;if(a===5||a===26||a===27||a===6)return n;for(n=n.child;n!==null;){if(a=pe(n),a!==null)return a;n=n.sibling}return null}var ge=Array.isArray,me=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ne={pending:!1,data:null,method:null,action:null},je=[],ft=-1;function ze(n){return{current:n}}function it(n){0>ft||(n.current=je[ft],je[ft]=null,ft--)}function We(n,a){ft++,je[ft]=n.current,n.current=a}var Qt=ze(null),ss=ze(null),vn=ze(null),ye=ze(null);function Ge(n,a){switch(We(vn,a),We(ss,n),We(Qt,null),n=a.nodeType,n){case 9:case 11:a=(a=a.documentElement)&&(a=a.namespaceURI)?sv(a):0;break;default:if(n=n===8?a.parentNode:a,a=n.tagName,n=n.namespaceURI)n=sv(n),a=av(n,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}it(Qt),We(Qt,a)}function Ct(){it(Qt),it(ss),it(vn)}function Mn(n){n.memoizedState!==null&&We(ye,n);var a=Qt.current,r=av(a,n.type);a!==r&&(We(ss,n),We(Qt,r))}function An(n){ss.current===n&&(it(Qt),it(ss)),ye.current===n&&(it(ye),Fo._currentValue=Ne)}var Fs=Object.prototype.hasOwnProperty,_s=s.unstable_scheduleCallback,ka=s.unstable_cancelCallback,Fl=s.unstable_shouldYield,Di=s.unstable_requestPaint,Yt=s.unstable_now,Vc=s.unstable_getCurrentPriorityLevel,It=s.unstable_ImmediatePriority,Bt=s.unstable_UserBlockingPriority,Gs=s.unstable_NormalPriority,Bc=s.unstable_LowPriority,Gl=s.unstable_IdlePriority,Ah=s.log,Oi=s.unstable_setDisableYieldValue,Ca=null,an=null;function $l(n){if(an&&typeof an.onCommitFiberRoot=="function")try{an.onCommitFiberRoot(Ca,n,void 0,(n.current.flags&128)===128)}catch{}}function vs(n){if(typeof Ah=="function"&&Oi(n),an&&typeof an.setStrictMode=="function")try{an.setStrictMode(Ca,n)}catch{}}var hn=Math.clz32?Math.clz32:Hc,Ql=Math.log,zc=Math.LN2;function Hc(n){return n>>>=0,n===0?32:31-(Ql(n)/zc|0)|0}var xs=128,Ia=4194304;function as(n){var a=n&42;if(a!==0)return a;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Ln(n,a){var r=n.pendingLanes;if(r===0)return 0;var o=0,f=n.suspendedLanes,g=n.pingedLanes,E=n.warmLanes;n=n.finishedLanes!==0;var R=r&134217727;return R!==0?(r=R&~f,r!==0?o=as(r):(g&=R,g!==0?o=as(g):n||(E=R&~E,E!==0&&(o=as(E))))):(R=r&~f,R!==0?o=as(R):g!==0?o=as(g):n||(E=r&~E,E!==0&&(o=as(E)))),o===0?0:a!==0&&a!==o&&(a&f)===0&&(f=o&-o,E=a&-a,f>=E||f===32&&(E&4194176)!==0)?a:o}function ja(n,a){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&a)===0}function Ir(n,a){switch(n){case 1:case 2:case 4:case 8:return a+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yl(){var n=xs;return xs<<=1,(xs&4194176)===0&&(xs=128),n}function Da(){var n=Ia;return Ia<<=1,(Ia&62914560)===0&&(Ia=4194304),n}function jr(n){for(var a=[],r=0;31>r;r++)a.push(n);return a}function bt(n,a){n.pendingLanes|=a,a!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function qc(n,a,r,o,f,g){var E=n.pendingLanes;n.pendingLanes=r,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=r,n.entangledLanes&=r,n.errorRecoveryDisabledLanes&=r,n.shellSuspendCounter=0;var R=n.entanglements,M=n.expirationTimes,K=n.hiddenUpdates;for(r=E&~r;0<r;){var re=31-hn(r),de=1<<re;R[re]=0,M[re]=-1;var Z=K[re];if(Z!==null)for(K[re]=null,re=0;re<Z.length;re++){var ie=Z[re];ie!==null&&(ie.lane&=-536870913)}r&=~de}o!==0&&Oa(n,o,0),g!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=g&~(E&~a))}function Oa(n,a,r){n.pendingLanes|=a,n.suspendedLanes&=~a;var o=31-hn(a);n.entangledLanes|=a,n.entanglements[o]=n.entanglements[o]|1073741824|r&4194218}function Ma(n,a){var r=n.entangledLanes|=a;for(n=n.entanglements;r;){var o=31-hn(r),f=1<<o;f&a|n[o]&a&&(n[o]|=a),r&=~f}}function Kc(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Fc(){var n=me.p;return n!==0?n:(n=window.event,n===void 0?32:bv(n.type))}function La(n,a){var r=me.p;try{return me.p=n,a()}finally{me.p=r}}var Es=Math.random().toString(36).slice(2),zt="__reactFiber$"+Es,jt="__reactProps$"+Es,$s="__reactContainer$"+Es,Mi="__reactEvents$"+Es,Dr="__reactListeners$"+Es,bs="__reactHandles$"+Es,Wl="__reactResources$"+Es,Pa="__reactMarker$"+Es;function Li(n){delete n[zt],delete n[jt],delete n[Mi],delete n[Dr],delete n[bs]}function is(n){var a=n[zt];if(a)return a;for(var r=n.parentNode;r;){if(a=r[$s]||r[zt]){if(r=a.alternate,a.child!==null||r!==null&&r.child!==null)for(n=lv(n);n!==null;){if(r=n[zt])return r;n=lv(n)}return a}n=r,r=n.parentNode}return null}function Qs(n){if(n=n[zt]||n[$s]){var a=n.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return n}return null}function Ua(n){var a=n.tag;if(a===5||a===26||a===27||a===6)return n.stateNode;throw Error(i(33))}function Va(n){var a=n[Wl];return a||(a=n[Wl]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function ct(n){n[Pa]=!0}var Xl=new Set,Or={};function Sn(n,a){xn(n,a),xn(n+"Capture",a)}function xn(n,a){for(Or[n]=a,n=0;n<a.length;n++)Xl.add(a[n])}var wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zl={},Jl={};function Gc(n){return Fs.call(Jl,n)?!0:Fs.call(Zl,n)?!1:Sh.test(n)?Jl[n]=!0:(Zl[n]=!0,!1)}function Ba(n,a,r){if(Gc(a))if(r===null)n.removeAttribute(a);else{switch(typeof r){case"undefined":case"function":case"symbol":n.removeAttribute(a);return;case"boolean":var o=a.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){n.removeAttribute(a);return}}n.setAttribute(a,""+r)}}function za(n,a,r){if(r===null)n.removeAttribute(a);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttribute(a,""+r)}}function Pn(n,a,r,o){if(o===null)n.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttributeNS(a,r,""+o)}}function fn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function $c(n){var a=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function wh(n){var a=$c(n)?"checked":"value",r=Object.getOwnPropertyDescriptor(n.constructor.prototype,a),o=""+n[a];if(!n.hasOwnProperty(a)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var f=r.get,g=r.set;return Object.defineProperty(n,a,{configurable:!0,get:function(){return f.call(this)},set:function(E){o=""+E,g.call(this,E)}}),Object.defineProperty(n,a,{enumerable:r.enumerable}),{getValue:function(){return o},setValue:function(E){o=""+E},stopTracking:function(){n._valueTracker=null,delete n[a]}}}}function Pi(n){n._valueTracker||(n._valueTracker=wh(n))}function eo(n){if(!n)return!1;var a=n._valueTracker;if(!a)return!0;var r=a.getValue(),o="";return n&&(o=$c(n)?n.checked?"true":"false":n.value),n=o,n!==r?(a.setValue(n),!0):!1}function Mr(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Ys=/[\n"\\]/g;function mt(n){return n.replace(Ys,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Ha(n,a,r,o,f,g,E,R){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),a!=null?E==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+fn(a)):n.value!==""+fn(a)&&(n.value=""+fn(a)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),a!=null?Lr(n,E,fn(a)):r!=null?Lr(n,E,fn(r)):o!=null&&n.removeAttribute("value"),f==null&&g!=null&&(n.defaultChecked=!!g),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?n.name=""+fn(R):n.removeAttribute("name")}function Ui(n,a,r,o,f,g,E,R){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(n.type=g),a!=null||r!=null){if(!(g!=="submit"&&g!=="reset"||a!=null))return;r=r!=null?""+fn(r):"",a=a!=null?""+fn(a):r,R||a===n.value||(n.value=a),n.defaultValue=a}o=o??f,o=typeof o!="function"&&typeof o!="symbol"&&!!o,n.checked=R?n.checked:!!o,n.defaultChecked=!!o,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E)}function Lr(n,a,r){a==="number"&&Mr(n.ownerDocument)===n||n.defaultValue===""+r||(n.defaultValue=""+r)}function $e(n,a,r,o){if(n=n.options,a){a={};for(var f=0;f<r.length;f++)a["$"+r[f]]=!0;for(r=0;r<n.length;r++)f=a.hasOwnProperty("$"+n[r].value),n[r].selected!==f&&(n[r].selected=f),f&&o&&(n[r].defaultSelected=!0)}else{for(r=""+fn(r),a=null,f=0;f<n.length;f++){if(n[f].value===r){n[f].selected=!0,o&&(n[f].defaultSelected=!0);return}a!==null||n[f].disabled||(a=n[f])}a!==null&&(a.selected=!0)}}function Vi(n,a,r){if(a!=null&&(a=""+fn(a),a!==n.value&&(n.value=a),r==null)){n.defaultValue!==a&&(n.defaultValue=a);return}n.defaultValue=r!=null?""+fn(r):""}function qa(n,a,r,o){if(a==null){if(o!=null){if(r!=null)throw Error(i(92));if(ge(o)){if(1<o.length)throw Error(i(93));o=o[0]}r=o}r==null&&(r=""),a=r}r=fn(a),n.defaultValue=r,o=n.textContent,o===r&&o!==""&&o!==null&&(n.value=o)}function Un(n,a){if(a){var r=n.firstChild;if(r&&r===n.lastChild&&r.nodeType===3){r.nodeValue=a;return}}n.textContent=a}var Nh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function to(n,a,r){var o=a.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?n.setProperty(a,""):a==="float"?n.cssFloat="":n[a]="":o?n.setProperty(a,r):typeof r!="number"||r===0||Nh.has(a)?a==="float"?n.cssFloat=r:n[a]=(""+r).trim():n[a]=r+"px"}function Qc(n,a,r){if(a!=null&&typeof a!="object")throw Error(i(62));if(n=n.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||a!=null&&a.hasOwnProperty(o)||(o.indexOf("--")===0?n.setProperty(o,""):o==="float"?n.cssFloat="":n[o]="");for(var f in a)o=a[f],a.hasOwnProperty(f)&&r[f]!==o&&to(n,f,o)}else for(var g in a)a.hasOwnProperty(g)&&to(n,g,a[g])}function no(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),kh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ts(n){return kh.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Vn=null;function Pr(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ws=null,Xs=null;function Zs(n){var a=Qs(n);if(a&&(n=a.stateNode)){var r=n[jt]||null;e:switch(n=a.stateNode,a.type){case"input":if(Ha(n,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),a=r.name,r.type==="radio"&&a!=null){for(r=n;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+mt(""+a)+'"][type="radio"]'),a=0;a<r.length;a++){var o=r[a];if(o!==n&&o.form===n.form){var f=o[jt]||null;if(!f)throw Error(i(90));Ha(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(a=0;a<r.length;a++)o=r[a],o.form===n.form&&eo(o)}break e;case"textarea":Vi(n,r.value,r.defaultValue);break e;case"select":a=r.value,a!=null&&$e(n,!!r.multiple,a,!1)}}}var so=!1;function Yc(n,a,r){if(so)return n(a,r);so=!0;try{var o=n(a);return o}finally{if(so=!1,(Ws!==null||Xs!==null)&&(Bu(),Ws&&(a=Ws,n=Xs,Xs=Ws=null,Zs(a),n)))for(a=0;a<n.length;a++)Zs(n[a])}}function Bi(n,a){var r=n.stateNode;if(r===null)return null;var o=r[jt]||null;if(o===null)return null;r=o[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(n=n.type,o=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!o;break e;default:n=!1}if(n)return null;if(r&&typeof r!="function")throw Error(i(231,a,typeof r));return r}var Bn=!1;if(wn)try{var zi={};Object.defineProperty(zi,"passive",{get:function(){Bn=!0}}),window.addEventListener("test",zi,zi),window.removeEventListener("test",zi,zi)}catch{Bn=!1}var As=null,Ka=null,Js=null;function ao(){if(Js)return Js;var n,a=Ka,r=a.length,o,f="value"in As?As.value:As.textContent,g=f.length;for(n=0;n<r&&a[n]===f[n];n++);var E=r-n;for(o=1;o<=E&&a[r-o]===f[g-o];o++);return Js=f.slice(n,1<o?1-o:void 0)}function Ss(n){var a=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&a===13&&(n=13)):n=a,n===10&&(n=13),32<=n||n===13?n:0}function ws(){return!0}function io(){return!1}function Ht(n){function a(r,o,f,g,E){this._reactName=r,this._targetInst=f,this.type=o,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var R in n)n.hasOwnProperty(R)&&(r=n[R],this[R]=r?r(g):g[R]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?ws:io,this.isPropagationStopped=io,this}return T(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ws)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ws)},persist:function(){},isPersistent:ws}),a}var Xe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ur=Ht(Xe),Hi=T({},Xe,{view:0,detail:0}),Wc=Ht(Hi),Vr,Br,Ns,qi=T({},Hi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gi,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ns&&(Ns&&n.type==="mousemove"?(Vr=n.screenX-Ns.screenX,Br=n.screenY-Ns.screenY):Br=Vr=0,Ns=n),Vr)},movementY:function(n){return"movementY"in n?n.movementY:Br}}),zn=Ht(qi),Xc=T({},qi,{dataTransfer:0}),Ch=Ht(Xc),Ki=T({},Hi,{relatedTarget:0}),zr=Ht(Ki),ro=T({},Xe,{animationName:0,elapsedTime:0,pseudoElement:0}),Hr=Ht(ro),Zc=T({},Xe,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),qr=Ht(Zc),Ih=T({},Xe,{data:0}),lo=Ht(Ih),Fi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oo(n){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(n):(n=eu[n])?!!a[n]:!1}function Gi(){return oo}var tu=T({},Hi,{key:function(n){if(n.key){var a=Fi[n.key]||n.key;if(a!=="Unidentified")return a}return n.type==="keypress"?(n=Ss(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Jc[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gi,charCode:function(n){return n.type==="keypress"?Ss(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Ss(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Kr=Ht(tu),nu=T({},qi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),co=Ht(nu),ea=T({},Hi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gi}),su=Ht(ea),au=T({},Xe,{propertyName:0,elapsedTime:0,pseudoElement:0}),iu=Ht(au),ru=T({},qi,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Fr=Ht(ru),mn=T({},Xe,{newState:0,oldState:0}),lu=Ht(mn),ou=[9,13,27,32],Rs=wn&&"CompositionEvent"in window,d=null;wn&&"documentMode"in document&&(d=document.documentMode);var _=wn&&"TextEvent"in window&&!d,x=wn&&(!Rs||d&&8<d&&11>=d),I=" ",Y=!1;function te(n,a){switch(n){case"keyup":return ou.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fe(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var He=!1;function Dt(n,a){switch(n){case"compositionend":return fe(a);case"keypress":return a.which!==32?null:(Y=!0,I);case"textInput":return n=a.data,n===I&&Y?null:n;default:return null}}function qe(n,a){if(He)return n==="compositionend"||!Rs&&te(n,a)?(n=ao(),Js=Ka=As=null,He=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return x&&a.locale!=="ko"?null:a.data;default:return null}}var qt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ot(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a==="input"?!!qt[n.type]:a==="textarea"}function ta(n,a,r,o){Ws?Xs?Xs.push(o):Xs=[o]:Ws=o,a=Fu(a,"onChange"),0<a.length&&(r=new Ur("onChange","change",null,r,o),n.push({event:r,listeners:a}))}var Wt=null,ks=null;function uo(n){Z_(n,0)}function cu(n){var a=Ua(n);if(eo(a))return n}function Np(n,a){if(n==="change")return a}var Rp=!1;if(wn){var jh;if(wn){var Dh="oninput"in document;if(!Dh){var kp=document.createElement("div");kp.setAttribute("oninput","return;"),Dh=typeof kp.oninput=="function"}jh=Dh}else jh=!1;Rp=jh&&(!document.documentMode||9<document.documentMode)}function Cp(){Wt&&(Wt.detachEvent("onpropertychange",Ip),ks=Wt=null)}function Ip(n){if(n.propertyName==="value"&&cu(ks)){var a=[];ta(a,ks,n,Pr(n)),Yc(uo,a)}}function PT(n,a,r){n==="focusin"?(Cp(),Wt=a,ks=r,Wt.attachEvent("onpropertychange",Ip)):n==="focusout"&&Cp()}function UT(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return cu(ks)}function VT(n,a){if(n==="click")return cu(a)}function BT(n,a){if(n==="input"||n==="change")return cu(a)}function zT(n,a){return n===a&&(n!==0||1/n===1/a)||n!==n&&a!==a}var Nn=typeof Object.is=="function"?Object.is:zT;function ho(n,a){if(Nn(n,a))return!0;if(typeof n!="object"||n===null||typeof a!="object"||a===null)return!1;var r=Object.keys(n),o=Object.keys(a);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var f=r[o];if(!Fs.call(a,f)||!Nn(n[f],a[f]))return!1}return!0}function jp(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Dp(n,a){var r=jp(n);n=0;for(var o;r;){if(r.nodeType===3){if(o=n+r.textContent.length,n<=a&&o>=a)return{node:r,offset:a-n};n=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=jp(r)}}function Op(n,a){return n&&a?n===a?!0:n&&n.nodeType===3?!1:a&&a.nodeType===3?Op(n,a.parentNode):"contains"in n?n.contains(a):n.compareDocumentPosition?!!(n.compareDocumentPosition(a)&16):!1:!1}function Mp(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var a=Mr(n.document);a instanceof n.HTMLIFrameElement;){try{var r=typeof a.contentWindow.location.href=="string"}catch{r=!1}if(r)n=a.contentWindow;else break;a=Mr(n.document)}return a}function Oh(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a&&(a==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||a==="textarea"||n.contentEditable==="true")}function HT(n,a){var r=Mp(a);a=n.focusedElem;var o=n.selectionRange;if(r!==a&&a&&a.ownerDocument&&Op(a.ownerDocument.documentElement,a)){if(o!==null&&Oh(a)){if(n=o.start,r=o.end,r===void 0&&(r=n),"selectionStart"in a)a.selectionStart=n,a.selectionEnd=Math.min(r,a.value.length);else if(r=(n=a.ownerDocument||document)&&n.defaultView||window,r.getSelection){r=r.getSelection();var f=a.textContent.length,g=Math.min(o.start,f);o=o.end===void 0?g:Math.min(o.end,f),!r.extend&&g>o&&(f=o,o=g,g=f),f=Dp(a,g);var E=Dp(a,o);f&&E&&(r.rangeCount!==1||r.anchorNode!==f.node||r.anchorOffset!==f.offset||r.focusNode!==E.node||r.focusOffset!==E.offset)&&(n=n.createRange(),n.setStart(f.node,f.offset),r.removeAllRanges(),g>o?(r.addRange(n),r.extend(E.node,E.offset)):(n.setEnd(E.node,E.offset),r.addRange(n)))}}for(n=[],r=a;r=r.parentNode;)r.nodeType===1&&n.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<n.length;a++)r=n[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var qT=wn&&"documentMode"in document&&11>=document.documentMode,Gr=null,Mh=null,fo=null,Lh=!1;function Lp(n,a,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Lh||Gr==null||Gr!==Mr(o)||(o=Gr,"selectionStart"in o&&Oh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),fo&&ho(fo,o)||(fo=o,o=Fu(Mh,"onSelect"),0<o.length&&(a=new Ur("onSelect","select",null,a,r),n.push({event:a,listeners:o}),a.target=Gr)))}function $i(n,a){var r={};return r[n.toLowerCase()]=a.toLowerCase(),r["Webkit"+n]="webkit"+a,r["Moz"+n]="moz"+a,r}var $r={animationend:$i("Animation","AnimationEnd"),animationiteration:$i("Animation","AnimationIteration"),animationstart:$i("Animation","AnimationStart"),transitionrun:$i("Transition","TransitionRun"),transitionstart:$i("Transition","TransitionStart"),transitioncancel:$i("Transition","TransitionCancel"),transitionend:$i("Transition","TransitionEnd")},Ph={},Pp={};wn&&(Pp=document.createElement("div").style,"AnimationEvent"in window||(delete $r.animationend.animation,delete $r.animationiteration.animation,delete $r.animationstart.animation),"TransitionEvent"in window||delete $r.transitionend.transition);function Qi(n){if(Ph[n])return Ph[n];if(!$r[n])return n;var a=$r[n],r;for(r in a)if(a.hasOwnProperty(r)&&r in Pp)return Ph[n]=a[r];return n}var Up=Qi("animationend"),Vp=Qi("animationiteration"),Bp=Qi("animationstart"),KT=Qi("transitionrun"),FT=Qi("transitionstart"),GT=Qi("transitioncancel"),zp=Qi("transitionend"),Hp=new Map,qp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function rs(n,a){Hp.set(n,a),Sn(a,[n])}var Hn=[],Qr=0,Uh=0;function uu(){for(var n=Qr,a=Uh=Qr=0;a<n;){var r=Hn[a];Hn[a++]=null;var o=Hn[a];Hn[a++]=null;var f=Hn[a];Hn[a++]=null;var g=Hn[a];if(Hn[a++]=null,o!==null&&f!==null){var E=o.pending;E===null?f.next=f:(f.next=E.next,E.next=f),o.pending=f}g!==0&&Kp(r,f,g)}}function du(n,a,r,o){Hn[Qr++]=n,Hn[Qr++]=a,Hn[Qr++]=r,Hn[Qr++]=o,Uh|=o,n.lanes|=o,n=n.alternate,n!==null&&(n.lanes|=o)}function Vh(n,a,r,o){return du(n,a,r,o),hu(n)}function Fa(n,a){return du(n,null,null,a),hu(n)}function Kp(n,a,r){n.lanes|=r;var o=n.alternate;o!==null&&(o.lanes|=r);for(var f=!1,g=n.return;g!==null;)g.childLanes|=r,o=g.alternate,o!==null&&(o.childLanes|=r),g.tag===22&&(n=g.stateNode,n===null||n._visibility&1||(f=!0)),n=g,g=g.return;f&&a!==null&&n.tag===3&&(g=n.stateNode,f=31-hn(r),g=g.hiddenUpdates,n=g[f],n===null?g[f]=[a]:n.push(a),a.lane=r|536870912)}function hu(n){if(50<Uo)throw Uo=0,Gf=null,Error(i(185));for(var a=n.return;a!==null;)n=a,a=n.return;return n.tag===3?n.stateNode:null}var Yr={},Fp=new WeakMap;function qn(n,a){if(typeof n=="object"&&n!==null){var r=Fp.get(n);return r!==void 0?r:(a={value:n,source:a,stack:X(a)},Fp.set(n,a),a)}return{value:n,source:a,stack:X(a)}}var Wr=[],Xr=0,fu=null,mu=0,Kn=[],Fn=0,Yi=null,na=1,sa="";function Wi(n,a){Wr[Xr++]=mu,Wr[Xr++]=fu,fu=n,mu=a}function Gp(n,a,r){Kn[Fn++]=na,Kn[Fn++]=sa,Kn[Fn++]=Yi,Yi=n;var o=na;n=sa;var f=32-hn(o)-1;o&=~(1<<f),r+=1;var g=32-hn(a)+f;if(30<g){var E=f-f%5;g=(o&(1<<E)-1).toString(32),o>>=E,f-=E,na=1<<32-hn(a)+f|r<<f|o,sa=g+n}else na=1<<g|r<<f|o,sa=n}function Bh(n){n.return!==null&&(Wi(n,1),Gp(n,1,0))}function zh(n){for(;n===fu;)fu=Wr[--Xr],Wr[Xr]=null,mu=Wr[--Xr],Wr[Xr]=null;for(;n===Yi;)Yi=Kn[--Fn],Kn[Fn]=null,sa=Kn[--Fn],Kn[Fn]=null,na=Kn[--Fn],Kn[Fn]=null}var gn=null,Xt=null,Qe=!1,ls=null,Cs=!1,Hh=Error(i(519));function Xi(n){var a=Error(i(418,""));throw po(qn(a,n)),Hh}function $p(n){var a=n.stateNode,r=n.type,o=n.memoizedProps;switch(a[zt]=n,a[jt]=o,r){case"dialog":Ve("cancel",a),Ve("close",a);break;case"iframe":case"object":case"embed":Ve("load",a);break;case"video":case"audio":for(r=0;r<Bo.length;r++)Ve(Bo[r],a);break;case"source":Ve("error",a);break;case"img":case"image":case"link":Ve("error",a),Ve("load",a);break;case"details":Ve("toggle",a);break;case"input":Ve("invalid",a),Ui(a,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Pi(a);break;case"select":Ve("invalid",a);break;case"textarea":Ve("invalid",a),qa(a,o.value,o.defaultValue,o.children),Pi(a)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||a.textContent===""+r||o.suppressHydrationWarning===!0||nv(a.textContent,r)?(o.popover!=null&&(Ve("beforetoggle",a),Ve("toggle",a)),o.onScroll!=null&&Ve("scroll",a),o.onScrollEnd!=null&&Ve("scrollend",a),o.onClick!=null&&(a.onclick=Gu),a=!0):a=!1,a||Xi(n)}function Qp(n){for(gn=n.return;gn;)switch(gn.tag){case 3:case 27:Cs=!0;return;case 5:case 13:Cs=!1;return;default:gn=gn.return}}function mo(n){if(n!==gn)return!1;if(!Qe)return Qp(n),Qe=!0,!1;var a=!1,r;if((r=n.tag!==3&&n.tag!==27)&&((r=n.tag===5)&&(r=n.type,r=!(r!=="form"&&r!=="button")||cm(n.type,n.memoizedProps)),r=!r),r&&(a=!0),a&&Xt&&Xi(n),Qp(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));e:{for(n=n.nextSibling,a=0;n;){if(n.nodeType===8)if(r=n.data,r==="/$"){if(a===0){Xt=cs(n.nextSibling);break e}a--}else r!=="$"&&r!=="$!"&&r!=="$?"||a++;n=n.nextSibling}Xt=null}}else Xt=gn?cs(n.stateNode.nextSibling):null;return!0}function go(){Xt=gn=null,Qe=!1}function po(n){ls===null?ls=[n]:ls.push(n)}var yo=Error(i(460)),Yp=Error(i(474)),qh={then:function(){}};function Wp(n){return n=n.status,n==="fulfilled"||n==="rejected"}function gu(){}function Xp(n,a,r){switch(r=n[r],r===void 0?n.push(a):r!==a&&(a.then(gu,gu),a=r),a.status){case"fulfilled":return a.value;case"rejected":throw n=a.reason,n===yo?Error(i(483)):n;default:if(typeof a.status=="string")a.then(gu,gu);else{if(n=st,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=a,n.status="pending",n.then(function(o){if(a.status==="pending"){var f=a;f.status="fulfilled",f.value=o}},function(o){if(a.status==="pending"){var f=a;f.status="rejected",f.reason=o}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw n=a.reason,n===yo?Error(i(483)):n}throw _o=a,yo}}var _o=null;function Zp(){if(_o===null)throw Error(i(459));var n=_o;return _o=null,n}var Zr=null,vo=0;function pu(n){var a=vo;return vo+=1,Zr===null&&(Zr=[]),Xp(Zr,n,a)}function xo(n,a){a=a.props.ref,n.ref=a!==void 0?a:null}function yu(n,a){throw a.$$typeof===c?Error(i(525)):(n=Object.prototype.toString.call(a),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":n)))}function Jp(n){var a=n._init;return a(n._payload)}function ey(n){function a(Q,q){if(n){var W=Q.deletions;W===null?(Q.deletions=[q],Q.flags|=16):W.push(q)}}function r(Q,q){if(!n)return null;for(;q!==null;)a(Q,q),q=q.sibling;return null}function o(Q){for(var q=new Map;Q!==null;)Q.key!==null?q.set(Q.key,Q):q.set(Q.index,Q),Q=Q.sibling;return q}function f(Q,q){return Q=si(Q,q),Q.index=0,Q.sibling=null,Q}function g(Q,q,W){return Q.index=W,n?(W=Q.alternate,W!==null?(W=W.index,W<q?(Q.flags|=33554434,q):W):(Q.flags|=33554434,q)):(Q.flags|=1048576,q)}function E(Q){return n&&Q.alternate===null&&(Q.flags|=33554434),Q}function R(Q,q,W,oe){return q===null||q.tag!==6?(q=Uf(W,Q.mode,oe),q.return=Q,q):(q=f(q,W),q.return=Q,q)}function M(Q,q,W,oe){var xe=W.type;return xe===p?re(Q,q,W.props.children,oe,W.key):q!==null&&(q.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===G&&Jp(xe)===q.type)?(q=f(q,W.props),xo(q,W),q.return=Q,q):(q=Mu(W.type,W.key,W.props,null,Q.mode,oe),xo(q,W),q.return=Q,q)}function K(Q,q,W,oe){return q===null||q.tag!==4||q.stateNode.containerInfo!==W.containerInfo||q.stateNode.implementation!==W.implementation?(q=Vf(W,Q.mode,oe),q.return=Q,q):(q=f(q,W.children||[]),q.return=Q,q)}function re(Q,q,W,oe,xe){return q===null||q.tag!==7?(q=lr(W,Q.mode,oe,xe),q.return=Q,q):(q=f(q,W),q.return=Q,q)}function de(Q,q,W){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=Uf(""+q,Q.mode,W),q.return=Q,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case h:return W=Mu(q.type,q.key,q.props,null,Q.mode,W),xo(W,q),W.return=Q,W;case m:return q=Vf(q,Q.mode,W),q.return=Q,q;case G:var oe=q._init;return q=oe(q._payload),de(Q,q,W)}if(ge(q)||le(q))return q=lr(q,Q.mode,W,null),q.return=Q,q;if(typeof q.then=="function")return de(Q,pu(q),W);if(q.$$typeof===j)return de(Q,ju(Q,q),W);yu(Q,q)}return null}function Z(Q,q,W,oe){var xe=q!==null?q.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return xe!==null?null:R(Q,q,""+W,oe);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case h:return W.key===xe?M(Q,q,W,oe):null;case m:return W.key===xe?K(Q,q,W,oe):null;case G:return xe=W._init,W=xe(W._payload),Z(Q,q,W,oe)}if(ge(W)||le(W))return xe!==null?null:re(Q,q,W,oe,null);if(typeof W.then=="function")return Z(Q,q,pu(W),oe);if(W.$$typeof===j)return Z(Q,q,ju(Q,W),oe);yu(Q,W)}return null}function ie(Q,q,W,oe,xe){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return Q=Q.get(W)||null,R(q,Q,""+oe,xe);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case h:return Q=Q.get(oe.key===null?W:oe.key)||null,M(q,Q,oe,xe);case m:return Q=Q.get(oe.key===null?W:oe.key)||null,K(q,Q,oe,xe);case G:var Me=oe._init;return oe=Me(oe._payload),ie(Q,q,W,oe,xe)}if(ge(oe)||le(oe))return Q=Q.get(W)||null,re(q,Q,oe,xe,null);if(typeof oe.then=="function")return ie(Q,q,W,pu(oe),xe);if(oe.$$typeof===j)return ie(Q,q,W,ju(q,oe),xe);yu(q,oe)}return null}function Ee(Q,q,W,oe){for(var xe=null,Me=null,be=q,Ae=q=0,Gt=null;be!==null&&Ae<W.length;Ae++){be.index>Ae?(Gt=be,be=null):Gt=be.sibling;var Ye=Z(Q,be,W[Ae],oe);if(Ye===null){be===null&&(be=Gt);break}n&&be&&Ye.alternate===null&&a(Q,be),q=g(Ye,q,Ae),Me===null?xe=Ye:Me.sibling=Ye,Me=Ye,be=Gt}if(Ae===W.length)return r(Q,be),Qe&&Wi(Q,Ae),xe;if(be===null){for(;Ae<W.length;Ae++)be=de(Q,W[Ae],oe),be!==null&&(q=g(be,q,Ae),Me===null?xe=be:Me.sibling=be,Me=be);return Qe&&Wi(Q,Ae),xe}for(be=o(be);Ae<W.length;Ae++)Gt=ie(be,Q,Ae,W[Ae],oe),Gt!==null&&(n&&Gt.alternate!==null&&be.delete(Gt.key===null?Ae:Gt.key),q=g(Gt,q,Ae),Me===null?xe=Gt:Me.sibling=Gt,Me=Gt);return n&&be.forEach(function(ui){return a(Q,ui)}),Qe&&Wi(Q,Ae),xe}function Ce(Q,q,W,oe){if(W==null)throw Error(i(151));for(var xe=null,Me=null,be=q,Ae=q=0,Gt=null,Ye=W.next();be!==null&&!Ye.done;Ae++,Ye=W.next()){be.index>Ae?(Gt=be,be=null):Gt=be.sibling;var ui=Z(Q,be,Ye.value,oe);if(ui===null){be===null&&(be=Gt);break}n&&be&&ui.alternate===null&&a(Q,be),q=g(ui,q,Ae),Me===null?xe=ui:Me.sibling=ui,Me=ui,be=Gt}if(Ye.done)return r(Q,be),Qe&&Wi(Q,Ae),xe;if(be===null){for(;!Ye.done;Ae++,Ye=W.next())Ye=de(Q,Ye.value,oe),Ye!==null&&(q=g(Ye,q,Ae),Me===null?xe=Ye:Me.sibling=Ye,Me=Ye);return Qe&&Wi(Q,Ae),xe}for(be=o(be);!Ye.done;Ae++,Ye=W.next())Ye=ie(be,Q,Ae,Ye.value,oe),Ye!==null&&(n&&Ye.alternate!==null&&be.delete(Ye.key===null?Ae:Ye.key),q=g(Ye,q,Ae),Me===null?xe=Ye:Me.sibling=Ye,Me=Ye);return n&&be.forEach(function(rS){return a(Q,rS)}),Qe&&Wi(Q,Ae),xe}function yt(Q,q,W,oe){if(typeof W=="object"&&W!==null&&W.type===p&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case h:e:{for(var xe=W.key;q!==null;){if(q.key===xe){if(xe=W.type,xe===p){if(q.tag===7){r(Q,q.sibling),oe=f(q,W.props.children),oe.return=Q,Q=oe;break e}}else if(q.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===G&&Jp(xe)===q.type){r(Q,q.sibling),oe=f(q,W.props),xo(oe,W),oe.return=Q,Q=oe;break e}r(Q,q);break}else a(Q,q);q=q.sibling}W.type===p?(oe=lr(W.props.children,Q.mode,oe,W.key),oe.return=Q,Q=oe):(oe=Mu(W.type,W.key,W.props,null,Q.mode,oe),xo(oe,W),oe.return=Q,Q=oe)}return E(Q);case m:e:{for(xe=W.key;q!==null;){if(q.key===xe)if(q.tag===4&&q.stateNode.containerInfo===W.containerInfo&&q.stateNode.implementation===W.implementation){r(Q,q.sibling),oe=f(q,W.children||[]),oe.return=Q,Q=oe;break e}else{r(Q,q);break}else a(Q,q);q=q.sibling}oe=Vf(W,Q.mode,oe),oe.return=Q,Q=oe}return E(Q);case G:return xe=W._init,W=xe(W._payload),yt(Q,q,W,oe)}if(ge(W))return Ee(Q,q,W,oe);if(le(W)){if(xe=le(W),typeof xe!="function")throw Error(i(150));return W=xe.call(W),Ce(Q,q,W,oe)}if(typeof W.then=="function")return yt(Q,q,pu(W),oe);if(W.$$typeof===j)return yt(Q,q,ju(Q,W),oe);yu(Q,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,q!==null&&q.tag===6?(r(Q,q.sibling),oe=f(q,W),oe.return=Q,Q=oe):(r(Q,q),oe=Uf(W,Q.mode,oe),oe.return=Q,Q=oe),E(Q)):r(Q,q)}return function(Q,q,W,oe){try{vo=0;var xe=yt(Q,q,W,oe);return Zr=null,xe}catch(be){if(be===yo)throw be;var Me=Yn(29,be,null,Q.mode);return Me.lanes=oe,Me.return=Q,Me}finally{}}}var Zi=ey(!0),ty=ey(!1),Jr=ze(null),_u=ze(0);function ny(n,a){n=ma,We(_u,n),We(Jr,a),ma=n|a.baseLanes}function Kh(){We(_u,ma),We(Jr,Jr.current)}function Fh(){ma=_u.current,it(Jr),it(_u)}var Gn=ze(null),Is=null;function Ga(n){var a=n.alternate;We(Mt,Mt.current&1),We(Gn,n),Is===null&&(a===null||Jr.current!==null||a.memoizedState!==null)&&(Is=n)}function sy(n){if(n.tag===22){if(We(Mt,Mt.current),We(Gn,n),Is===null){var a=n.alternate;a!==null&&a.memoizedState!==null&&(Is=n)}}else $a()}function $a(){We(Mt,Mt.current),We(Gn,Gn.current)}function aa(n){it(Gn),Is===n&&(Is=null),it(Mt)}var Mt=ze(0);function vu(n){for(var a=n;a!==null;){if(a.tag===13){var r=a.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var $T=typeof AbortController<"u"?AbortController:function(){var n=[],a=this.signal={aborted:!1,addEventListener:function(r,o){n.push(o)}};this.abort=function(){a.aborted=!0,n.forEach(function(r){return r()})}},QT=s.unstable_scheduleCallback,YT=s.unstable_NormalPriority,Lt={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gh(){return{controller:new $T,data:new Map,refCount:0}}function Eo(n){n.refCount--,n.refCount===0&&QT(YT,function(){n.controller.abort()})}var bo=null,$h=0,el=0,tl=null;function WT(n,a){if(bo===null){var r=bo=[];$h=0,el=em(),tl={status:"pending",value:void 0,then:function(o){r.push(o)}}}return $h++,a.then(ay,ay),a}function ay(){if(--$h===0&&bo!==null){tl!==null&&(tl.status="fulfilled");var n=bo;bo=null,el=0,tl=null;for(var a=0;a<n.length;a++)(0,n[a])()}}function XT(n,a){var r=[],o={status:"pending",value:null,reason:null,then:function(f){r.push(f)}};return n.then(function(){o.status="fulfilled",o.value=a;for(var f=0;f<r.length;f++)(0,r[f])(a)},function(f){for(o.status="rejected",o.reason=f,f=0;f<r.length;f++)(0,r[f])(void 0)}),o}var iy=b.S;b.S=function(n,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&WT(n,a),iy!==null&&iy(n,a)};var Ji=ze(null);function Qh(){var n=Ji.current;return n!==null?n:st.pooledCache}function xu(n,a){a===null?We(Ji,Ji.current):We(Ji,a.pool)}function ry(){var n=Qh();return n===null?null:{parent:Lt._currentValue,pool:n}}var Qa=0,Oe=null,et=null,St=null,Eu=!1,nl=!1,er=!1,bu=0,To=0,sl=null,ZT=0;function Tt(){throw Error(i(321))}function Yh(n,a){if(a===null)return!1;for(var r=0;r<a.length&&r<n.length;r++)if(!Nn(n[r],a[r]))return!1;return!0}function Wh(n,a,r,o,f,g){return Qa=g,Oe=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,b.H=n===null||n.memoizedState===null?tr:Ya,er=!1,g=r(o,f),er=!1,nl&&(g=oy(a,r,o,f)),ly(n),g}function ly(n){b.H=js;var a=et!==null&&et.next!==null;if(Qa=0,St=et=Oe=null,Eu=!1,To=0,sl=null,a)throw Error(i(300));n===null||Kt||(n=n.dependencies,n!==null&&Iu(n)&&(Kt=!0))}function oy(n,a,r,o){Oe=n;var f=0;do{if(nl&&(sl=null),To=0,nl=!1,25<=f)throw Error(i(301));if(f+=1,St=et=null,n.updateQueue!=null){var g=n.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}b.H=nr,g=a(r,o)}while(nl);return g}function JT(){var n=b.H,a=n.useState()[0];return a=typeof a.then=="function"?Ao(a):a,n=n.useState()[0],(et!==null?et.memoizedState:null)!==n&&(Oe.flags|=1024),a}function Xh(){var n=bu!==0;return bu=0,n}function Zh(n,a,r){a.updateQueue=n.updateQueue,a.flags&=-2053,n.lanes&=~r}function Jh(n){if(Eu){for(n=n.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Eu=!1}Qa=0,St=et=Oe=null,nl=!1,To=bu=0,sl=null}function En(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?Oe.memoizedState=St=n:St=St.next=n,St}function wt(){if(et===null){var n=Oe.alternate;n=n!==null?n.memoizedState:null}else n=et.next;var a=St===null?Oe.memoizedState:St.next;if(a!==null)St=a,et=n;else{if(n===null)throw Oe.alternate===null?Error(i(467)):Error(i(310));et=n,n={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},St===null?Oe.memoizedState=St=n:St=St.next=n}return St}var Tu;Tu=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Ao(n){var a=To;return To+=1,sl===null&&(sl=[]),n=Xp(sl,n,a),a=Oe,(St===null?a.memoizedState:St.next)===null&&(a=a.alternate,b.H=a===null||a.memoizedState===null?tr:Ya),n}function Au(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Ao(n);if(n.$$typeof===j)return rn(n)}throw Error(i(438,String(n)))}function ef(n){var a=null,r=Oe.updateQueue;if(r!==null&&(a=r.memoCache),a==null){var o=Oe.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(a={data:o.data.map(function(f){return f.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),r===null&&(r=Tu(),Oe.updateQueue=r),r.memoCache=a,r=a.data[a.index],r===void 0)for(r=a.data[a.index]=Array(n),o=0;o<n;o++)r[o]=J;return a.index++,r}function ia(n,a){return typeof a=="function"?a(n):a}function Su(n){var a=wt();return tf(a,et,n)}function tf(n,a,r){var o=n.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var f=n.baseQueue,g=o.pending;if(g!==null){if(f!==null){var E=f.next;f.next=g.next,g.next=E}a.baseQueue=f=g,o.pending=null}if(g=n.baseState,f===null)n.memoizedState=g;else{a=f.next;var R=E=null,M=null,K=a,re=!1;do{var de=K.lane&-536870913;if(de!==K.lane?(Ke&de)===de:(Qa&de)===de){var Z=K.revertLane;if(Z===0)M!==null&&(M=M.next={lane:0,revertLane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),de===el&&(re=!0);else if((Qa&Z)===Z){K=K.next,Z===el&&(re=!0);continue}else de={lane:0,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},M===null?(R=M=de,E=g):M=M.next=de,Oe.lanes|=Z,ai|=Z;de=K.action,er&&r(g,de),g=K.hasEagerState?K.eagerState:r(g,de)}else Z={lane:de,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},M===null?(R=M=Z,E=g):M=M.next=Z,Oe.lanes|=de,ai|=de;K=K.next}while(K!==null&&K!==a);if(M===null?E=g:M.next=R,!Nn(g,n.memoizedState)&&(Kt=!0,re&&(r=tl,r!==null)))throw r;n.memoizedState=g,n.baseState=E,n.baseQueue=M,o.lastRenderedState=g}return f===null&&(o.lanes=0),[n.memoizedState,o.dispatch]}function nf(n){var a=wt(),r=a.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=n;var o=r.dispatch,f=r.pending,g=a.memoizedState;if(f!==null){r.pending=null;var E=f=f.next;do g=n(g,E.action),E=E.next;while(E!==f);Nn(g,a.memoizedState)||(Kt=!0),a.memoizedState=g,a.baseQueue===null&&(a.baseState=g),r.lastRenderedState=g}return[g,o]}function cy(n,a,r){var o=Oe,f=wt(),g=Qe;if(g){if(r===void 0)throw Error(i(407));r=r()}else r=a();var E=!Nn((et||f).memoizedState,r);if(E&&(f.memoizedState=r,Kt=!0),f=f.queue,rf(hy.bind(null,o,f,n),[n]),f.getSnapshot!==a||E||St!==null&&St.memoizedState.tag&1){if(o.flags|=2048,al(9,dy.bind(null,o,f,r,a),{destroy:void 0},null),st===null)throw Error(i(349));g||(Qa&60)!==0||uy(o,a,r)}return r}function uy(n,a,r){n.flags|=16384,n={getSnapshot:a,value:r},a=Oe.updateQueue,a===null?(a=Tu(),Oe.updateQueue=a,a.stores=[n]):(r=a.stores,r===null?a.stores=[n]:r.push(n))}function dy(n,a,r,o){a.value=r,a.getSnapshot=o,fy(a)&&my(n)}function hy(n,a,r){return r(function(){fy(a)&&my(n)})}function fy(n){var a=n.getSnapshot;n=n.value;try{var r=a();return!Nn(n,r)}catch{return!0}}function my(n){var a=Fa(n,2);a!==null&&pn(a,n,2)}function sf(n){var a=En();if(typeof n=="function"){var r=n;if(n=r(),er){vs(!0);try{r()}finally{vs(!1)}}}return a.memoizedState=a.baseState=n,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ia,lastRenderedState:n},a}function gy(n,a,r,o){return n.baseState=r,tf(n,et,typeof o=="function"?o:ia)}function eA(n,a,r,o,f){if(Ru(n))throw Error(i(485));if(n=a.action,n!==null){var g={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){g.listeners.push(E)}};b.T!==null?r(!0):g.isTransition=!1,o(g),r=a.pending,r===null?(g.next=a.pending=g,py(a,g)):(g.next=r.next,a.pending=r.next=g)}}function py(n,a){var r=a.action,o=a.payload,f=n.state;if(a.isTransition){var g=b.T,E={};b.T=E;try{var R=r(f,o),M=b.S;M!==null&&M(E,R),yy(n,a,R)}catch(K){af(n,a,K)}finally{b.T=g}}else try{g=r(f,o),yy(n,a,g)}catch(K){af(n,a,K)}}function yy(n,a,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){_y(n,a,o)},function(o){return af(n,a,o)}):_y(n,a,r)}function _y(n,a,r){a.status="fulfilled",a.value=r,vy(a),n.state=r,a=n.pending,a!==null&&(r=a.next,r===a?n.pending=null:(r=r.next,a.next=r,py(n,r)))}function af(n,a,r){var o=n.pending;if(n.pending=null,o!==null){o=o.next;do a.status="rejected",a.reason=r,vy(a),a=a.next;while(a!==o)}n.action=null}function vy(n){n=n.listeners;for(var a=0;a<n.length;a++)(0,n[a])()}function xy(n,a){return a}function Ey(n,a){if(Qe){var r=st.formState;if(r!==null){e:{var o=Oe;if(Qe){if(Xt){t:{for(var f=Xt,g=Cs;f.nodeType!==8;){if(!g){f=null;break t}if(f=cs(f.nextSibling),f===null){f=null;break t}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){Xt=cs(f.nextSibling),o=f.data==="F!";break e}}Xi(o)}o=!1}o&&(a=r[0])}}return r=En(),r.memoizedState=r.baseState=a,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xy,lastRenderedState:a},r.queue=o,r=Vy.bind(null,Oe,o),o.dispatch=r,o=sf(!1),g=df.bind(null,Oe,!1,o.queue),o=En(),f={state:a,dispatch:null,action:n,pending:null},o.queue=f,r=eA.bind(null,Oe,f,g,r),f.dispatch=r,o.memoizedState=n,[a,r,!1]}function by(n){var a=wt();return Ty(a,et,n)}function Ty(n,a,r){a=tf(n,a,xy)[0],n=Su(ia)[0],a=typeof a=="object"&&a!==null&&typeof a.then=="function"?Ao(a):a;var o=wt(),f=o.queue,g=f.dispatch;return r!==o.memoizedState&&(Oe.flags|=2048,al(9,tA.bind(null,f,r),{destroy:void 0},null)),[a,g,n]}function tA(n,a){n.action=a}function Ay(n){var a=wt(),r=et;if(r!==null)return Ty(a,r,n);wt(),a=a.memoizedState,r=wt();var o=r.queue.dispatch;return r.memoizedState=n,[a,o,!1]}function al(n,a,r,o){return n={tag:n,create:a,inst:r,deps:o,next:null},a=Oe.updateQueue,a===null&&(a=Tu(),Oe.updateQueue=a),r=a.lastEffect,r===null?a.lastEffect=n.next=n:(o=r.next,r.next=n,n.next=o,a.lastEffect=n),n}function Sy(){return wt().memoizedState}function wu(n,a,r,o){var f=En();Oe.flags|=n,f.memoizedState=al(1|a,r,{destroy:void 0},o===void 0?null:o)}function Nu(n,a,r,o){var f=wt();o=o===void 0?null:o;var g=f.memoizedState.inst;et!==null&&o!==null&&Yh(o,et.memoizedState.deps)?f.memoizedState=al(a,r,g,o):(Oe.flags|=n,f.memoizedState=al(1|a,r,g,o))}function wy(n,a){wu(8390656,8,n,a)}function rf(n,a){Nu(2048,8,n,a)}function Ny(n,a){return Nu(4,2,n,a)}function Ry(n,a){return Nu(4,4,n,a)}function ky(n,a){if(typeof a=="function"){n=n();var r=a(n);return function(){typeof r=="function"?r():a(null)}}if(a!=null)return n=n(),a.current=n,function(){a.current=null}}function Cy(n,a,r){r=r!=null?r.concat([n]):null,Nu(4,4,ky.bind(null,a,n),r)}function lf(){}function Iy(n,a){var r=wt();a=a===void 0?null:a;var o=r.memoizedState;return a!==null&&Yh(a,o[1])?o[0]:(r.memoizedState=[n,a],n)}function jy(n,a){var r=wt();a=a===void 0?null:a;var o=r.memoizedState;if(a!==null&&Yh(a,o[1]))return o[0];if(o=n(),er){vs(!0);try{n()}finally{vs(!1)}}return r.memoizedState=[o,a],o}function of(n,a,r){return r===void 0||(Qa&1073741824)!==0?n.memoizedState=a:(n.memoizedState=r,n=O_(),Oe.lanes|=n,ai|=n,r)}function Dy(n,a,r,o){return Nn(r,a)?r:Jr.current!==null?(n=of(n,r,o),Nn(n,a)||(Kt=!0),n):(Qa&42)===0?(Kt=!0,n.memoizedState=r):(n=O_(),Oe.lanes|=n,ai|=n,a)}function Oy(n,a,r,o,f){var g=me.p;me.p=g!==0&&8>g?g:8;var E=b.T,R={};b.T=R,df(n,!1,a,r);try{var M=f(),K=b.S;if(K!==null&&K(R,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var re=XT(M,o);So(n,a,re,In(n))}else So(n,a,o,In(n))}catch(de){So(n,a,{then:function(){},status:"rejected",reason:de},In())}finally{me.p=g,b.T=E}}function nA(){}function cf(n,a,r,o){if(n.tag!==5)throw Error(i(476));var f=My(n).queue;Oy(n,f,a,Ne,r===null?nA:function(){return Ly(n),r(o)})}function My(n){var a=n.memoizedState;if(a!==null)return a;a={memoizedState:Ne,baseState:Ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ia,lastRenderedState:Ne},next:null};var r={};return a.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ia,lastRenderedState:r},next:null},n.memoizedState=a,n=n.alternate,n!==null&&(n.memoizedState=a),a}function Ly(n){var a=My(n).next.queue;So(n,a,{},In())}function uf(){return rn(Fo)}function Py(){return wt().memoizedState}function Uy(){return wt().memoizedState}function sA(n){for(var a=n.return;a!==null;){switch(a.tag){case 24:case 3:var r=In();n=Za(r);var o=Ja(a,n,r);o!==null&&(pn(o,a,r),Ro(o,a,r)),a={cache:Gh()},n.payload=a;return}a=a.return}}function aA(n,a,r){var o=In();r={lane:o,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Ru(n)?By(a,r):(r=Vh(n,a,r,o),r!==null&&(pn(r,n,o),zy(r,a,o)))}function Vy(n,a,r){var o=In();So(n,a,r,o)}function So(n,a,r,o){var f={lane:o,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ru(n))By(a,f);else{var g=n.alternate;if(n.lanes===0&&(g===null||g.lanes===0)&&(g=a.lastRenderedReducer,g!==null))try{var E=a.lastRenderedState,R=g(E,r);if(f.hasEagerState=!0,f.eagerState=R,Nn(R,E))return du(n,a,f,0),st===null&&uu(),!1}catch{}finally{}if(r=Vh(n,a,f,o),r!==null)return pn(r,n,o),zy(r,a,o),!0}return!1}function df(n,a,r,o){if(o={lane:2,revertLane:em(),action:o,hasEagerState:!1,eagerState:null,next:null},Ru(n)){if(a)throw Error(i(479))}else a=Vh(n,r,o,2),a!==null&&pn(a,n,2)}function Ru(n){var a=n.alternate;return n===Oe||a!==null&&a===Oe}function By(n,a){nl=Eu=!0;var r=n.pending;r===null?a.next=a:(a.next=r.next,r.next=a),n.pending=a}function zy(n,a,r){if((r&4194176)!==0){var o=a.lanes;o&=n.pendingLanes,r|=o,a.lanes=r,Ma(n,r)}}var js={readContext:rn,use:Au,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useLayoutEffect:Tt,useInsertionEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useSyncExternalStore:Tt,useId:Tt};js.useCacheRefresh=Tt,js.useMemoCache=Tt,js.useHostTransitionStatus=Tt,js.useFormState=Tt,js.useActionState=Tt,js.useOptimistic=Tt;var tr={readContext:rn,use:Au,useCallback:function(n,a){return En().memoizedState=[n,a===void 0?null:a],n},useContext:rn,useEffect:wy,useImperativeHandle:function(n,a,r){r=r!=null?r.concat([n]):null,wu(4194308,4,ky.bind(null,a,n),r)},useLayoutEffect:function(n,a){return wu(4194308,4,n,a)},useInsertionEffect:function(n,a){wu(4,2,n,a)},useMemo:function(n,a){var r=En();a=a===void 0?null:a;var o=n();if(er){vs(!0);try{n()}finally{vs(!1)}}return r.memoizedState=[o,a],o},useReducer:function(n,a,r){var o=En();if(r!==void 0){var f=r(a);if(er){vs(!0);try{r(a)}finally{vs(!1)}}}else f=a;return o.memoizedState=o.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},o.queue=n,n=n.dispatch=aA.bind(null,Oe,n),[o.memoizedState,n]},useRef:function(n){var a=En();return n={current:n},a.memoizedState=n},useState:function(n){n=sf(n);var a=n.queue,r=Vy.bind(null,Oe,a);return a.dispatch=r,[n.memoizedState,r]},useDebugValue:lf,useDeferredValue:function(n,a){var r=En();return of(r,n,a)},useTransition:function(){var n=sf(!1);return n=Oy.bind(null,Oe,n.queue,!0,!1),En().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,a,r){var o=Oe,f=En();if(Qe){if(r===void 0)throw Error(i(407));r=r()}else{if(r=a(),st===null)throw Error(i(349));(Ke&60)!==0||uy(o,a,r)}f.memoizedState=r;var g={value:r,getSnapshot:a};return f.queue=g,wy(hy.bind(null,o,g,n),[n]),o.flags|=2048,al(9,dy.bind(null,o,g,r,a),{destroy:void 0},null),r},useId:function(){var n=En(),a=st.identifierPrefix;if(Qe){var r=sa,o=na;r=(o&~(1<<32-hn(o)-1)).toString(32)+r,a=":"+a+"R"+r,r=bu++,0<r&&(a+="H"+r.toString(32)),a+=":"}else r=ZT++,a=":"+a+"r"+r.toString(32)+":";return n.memoizedState=a},useCacheRefresh:function(){return En().memoizedState=sA.bind(null,Oe)}};tr.useMemoCache=ef,tr.useHostTransitionStatus=uf,tr.useFormState=Ey,tr.useActionState=Ey,tr.useOptimistic=function(n){var a=En();a.memoizedState=a.baseState=n;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=r,a=df.bind(null,Oe,!0,r),r.dispatch=a,[n,a]};var Ya={readContext:rn,use:Au,useCallback:Iy,useContext:rn,useEffect:rf,useImperativeHandle:Cy,useInsertionEffect:Ny,useLayoutEffect:Ry,useMemo:jy,useReducer:Su,useRef:Sy,useState:function(){return Su(ia)},useDebugValue:lf,useDeferredValue:function(n,a){var r=wt();return Dy(r,et.memoizedState,n,a)},useTransition:function(){var n=Su(ia)[0],a=wt().memoizedState;return[typeof n=="boolean"?n:Ao(n),a]},useSyncExternalStore:cy,useId:Py};Ya.useCacheRefresh=Uy,Ya.useMemoCache=ef,Ya.useHostTransitionStatus=uf,Ya.useFormState=by,Ya.useActionState=by,Ya.useOptimistic=function(n,a){var r=wt();return gy(r,et,n,a)};var nr={readContext:rn,use:Au,useCallback:Iy,useContext:rn,useEffect:rf,useImperativeHandle:Cy,useInsertionEffect:Ny,useLayoutEffect:Ry,useMemo:jy,useReducer:nf,useRef:Sy,useState:function(){return nf(ia)},useDebugValue:lf,useDeferredValue:function(n,a){var r=wt();return et===null?of(r,n,a):Dy(r,et.memoizedState,n,a)},useTransition:function(){var n=nf(ia)[0],a=wt().memoizedState;return[typeof n=="boolean"?n:Ao(n),a]},useSyncExternalStore:cy,useId:Py};nr.useCacheRefresh=Uy,nr.useMemoCache=ef,nr.useHostTransitionStatus=uf,nr.useFormState=Ay,nr.useActionState=Ay,nr.useOptimistic=function(n,a){var r=wt();return et!==null?gy(r,et,n,a):(r.baseState=n,[n,r.queue.dispatch])};function hf(n,a,r,o){a=n.memoizedState,r=r(o,a),r=r==null?a:T({},a,r),n.memoizedState=r,n.lanes===0&&(n.updateQueue.baseState=r)}var ff={isMounted:function(n){return(n=n._reactInternals)?ae(n)===n:!1},enqueueSetState:function(n,a,r){n=n._reactInternals;var o=In(),f=Za(o);f.payload=a,r!=null&&(f.callback=r),a=Ja(n,f,o),a!==null&&(pn(a,n,o),Ro(a,n,o))},enqueueReplaceState:function(n,a,r){n=n._reactInternals;var o=In(),f=Za(o);f.tag=1,f.payload=a,r!=null&&(f.callback=r),a=Ja(n,f,o),a!==null&&(pn(a,n,o),Ro(a,n,o))},enqueueForceUpdate:function(n,a){n=n._reactInternals;var r=In(),o=Za(r);o.tag=2,a!=null&&(o.callback=a),a=Ja(n,o,r),a!==null&&(pn(a,n,r),Ro(a,n,r))}};function Hy(n,a,r,o,f,g,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(o,g,E):a.prototype&&a.prototype.isPureReactComponent?!ho(r,o)||!ho(f,g):!0}function qy(n,a,r,o){n=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(r,o),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(r,o),a.state!==n&&ff.enqueueReplaceState(a,a.state,null)}function sr(n,a){var r=a;if("ref"in a){r={};for(var o in a)o!=="ref"&&(r[o]=a[o])}if(n=n.defaultProps){r===a&&(r=T({},r));for(var f in n)r[f]===void 0&&(r[f]=n[f])}return r}var ku=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Ky(n){ku(n)}function Fy(n){console.error(n)}function Gy(n){ku(n)}function Cu(n,a){try{var r=n.onUncaughtError;r(a.value,{componentStack:a.stack})}catch(o){setTimeout(function(){throw o})}}function $y(n,a,r){try{var o=n.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function mf(n,a,r){return r=Za(r),r.tag=3,r.payload={element:null},r.callback=function(){Cu(n,a)},r}function Qy(n){return n=Za(n),n.tag=3,n}function Yy(n,a,r,o){var f=r.type.getDerivedStateFromError;if(typeof f=="function"){var g=o.value;n.payload=function(){return f(g)},n.callback=function(){$y(a,r,o)}}var E=r.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){$y(a,r,o),typeof f!="function"&&(ii===null?ii=new Set([this]):ii.add(this));var R=o.stack;this.componentDidCatch(o.value,{componentStack:R!==null?R:""})})}function iA(n,a,r,o,f){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(a=r.alternate,a!==null&&No(a,r,f,!0),r=Gn.current,r!==null){switch(r.tag){case 13:return Is===null?Yf():r.alternate===null&&pt===0&&(pt=3),r.flags&=-257,r.flags|=65536,r.lanes=f,o===qh?r.flags|=16384:(a=r.updateQueue,a===null?r.updateQueue=new Set([o]):a.add(o),Xf(n,o,f)),!1;case 22:return r.flags|=65536,o===qh?r.flags|=16384:(a=r.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=a):(r=a.retryQueue,r===null?a.retryQueue=new Set([o]):r.add(o)),Xf(n,o,f)),!1}throw Error(i(435,r.tag))}return Xf(n,o,f),Yf(),!1}if(Qe)return a=Gn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=f,o!==Hh&&(n=Error(i(422),{cause:o}),po(qn(n,r)))):(o!==Hh&&(a=Error(i(423),{cause:o}),po(qn(a,r))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,o=qn(o,r),f=mf(n.stateNode,o,f),kf(n,f),pt!==4&&(pt=2)),!1;var g=Error(i(520),{cause:o});if(g=qn(g,r),Lo===null?Lo=[g]:Lo.push(g),pt!==4&&(pt=2),a===null)return!0;o=qn(o,r),r=a;do{switch(r.tag){case 3:return r.flags|=65536,n=f&-f,r.lanes|=n,n=mf(r.stateNode,o,n),kf(r,n),!1;case 1:if(a=r.type,g=r.stateNode,(r.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(ii===null||!ii.has(g))))return r.flags|=65536,f&=-f,r.lanes|=f,f=Qy(f),Yy(f,n,r,o),kf(r,f),!1}r=r.return}while(r!==null);return!1}var Wy=Error(i(461)),Kt=!1;function Zt(n,a,r,o){a.child=n===null?ty(a,null,r,o):Zi(a,n.child,r,o)}function Xy(n,a,r,o,f){r=r.render;var g=a.ref;if("ref"in o){var E={};for(var R in o)R!=="ref"&&(E[R]=o[R])}else E=o;return ir(a),o=Wh(n,a,r,E,g,f),R=Xh(),n!==null&&!Kt?(Zh(n,a,f),ra(n,a,f)):(Qe&&R&&Bh(a),a.flags|=1,Zt(n,a,o,f),a.child)}function Zy(n,a,r,o,f){if(n===null){var g=r.type;return typeof g=="function"&&!Pf(g)&&g.defaultProps===void 0&&r.compare===null?(a.tag=15,a.type=g,Jy(n,a,g,o,f)):(n=Mu(r.type,null,o,a,a.mode,f),n.ref=a.ref,n.return=a,a.child=n)}if(g=n.child,!Tf(n,f)){var E=g.memoizedProps;if(r=r.compare,r=r!==null?r:ho,r(E,o)&&n.ref===a.ref)return ra(n,a,f)}return a.flags|=1,n=si(g,o),n.ref=a.ref,n.return=a,a.child=n}function Jy(n,a,r,o,f){if(n!==null){var g=n.memoizedProps;if(ho(g,o)&&n.ref===a.ref)if(Kt=!1,a.pendingProps=o=g,Tf(n,f))(n.flags&131072)!==0&&(Kt=!0);else return a.lanes=n.lanes,ra(n,a,f)}return gf(n,a,r,o,f)}function e_(n,a,r){var o=a.pendingProps,f=o.children,g=(a.stateNode._pendingVisibility&2)!==0,E=n!==null?n.memoizedState:null;if(wo(n,a),o.mode==="hidden"||g){if((a.flags&128)!==0){if(o=E!==null?E.baseLanes|r:r,n!==null){for(f=a.child=n.child,g=0;f!==null;)g=g|f.lanes|f.childLanes,f=f.sibling;a.childLanes=g&~o}else a.childLanes=0,a.child=null;return t_(n,a,o,r)}if((r&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},n!==null&&xu(a,E!==null?E.cachePool:null),E!==null?ny(a,E):Kh(),sy(a);else return a.lanes=a.childLanes=536870912,t_(n,a,E!==null?E.baseLanes|r:r,r)}else E!==null?(xu(a,E.cachePool),ny(a,E),$a(),a.memoizedState=null):(n!==null&&xu(a,null),Kh(),$a());return Zt(n,a,f,r),a.child}function t_(n,a,r,o){var f=Qh();return f=f===null?null:{parent:Lt._currentValue,pool:f},a.memoizedState={baseLanes:r,cachePool:f},n!==null&&xu(a,null),Kh(),sy(a),n!==null&&No(n,a,o,!0),null}function wo(n,a){var r=a.ref;if(r===null)n!==null&&n.ref!==null&&(a.flags|=2097664);else{if(typeof r!="function"&&typeof r!="object")throw Error(i(284));(n===null||n.ref!==r)&&(a.flags|=2097664)}}function gf(n,a,r,o,f){return ir(a),r=Wh(n,a,r,o,void 0,f),o=Xh(),n!==null&&!Kt?(Zh(n,a,f),ra(n,a,f)):(Qe&&o&&Bh(a),a.flags|=1,Zt(n,a,r,f),a.child)}function n_(n,a,r,o,f,g){return ir(a),a.updateQueue=null,r=oy(a,o,r,f),ly(n),o=Xh(),n!==null&&!Kt?(Zh(n,a,g),ra(n,a,g)):(Qe&&o&&Bh(a),a.flags|=1,Zt(n,a,r,g),a.child)}function s_(n,a,r,o,f){if(ir(a),a.stateNode===null){var g=Yr,E=r.contextType;typeof E=="object"&&E!==null&&(g=rn(E)),g=new r(o,g),a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=ff,a.stateNode=g,g._reactInternals=a,g=a.stateNode,g.props=o,g.state=a.memoizedState,g.refs={},Nf(a),E=r.contextType,g.context=typeof E=="object"&&E!==null?rn(E):Yr,g.state=a.memoizedState,E=r.getDerivedStateFromProps,typeof E=="function"&&(hf(a,r,E,o),g.state=a.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(E=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),E!==g.state&&ff.enqueueReplaceState(g,g.state,null),Co(a,o,g,f),ko(),g.state=a.memoizedState),typeof g.componentDidMount=="function"&&(a.flags|=4194308),o=!0}else if(n===null){g=a.stateNode;var R=a.memoizedProps,M=sr(r,R);g.props=M;var K=g.context,re=r.contextType;E=Yr,typeof re=="object"&&re!==null&&(E=rn(re));var de=r.getDerivedStateFromProps;re=typeof de=="function"||typeof g.getSnapshotBeforeUpdate=="function",R=a.pendingProps!==R,re||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(R||K!==E)&&qy(a,g,o,E),Xa=!1;var Z=a.memoizedState;g.state=Z,Co(a,o,g,f),ko(),K=a.memoizedState,R||Z!==K||Xa?(typeof de=="function"&&(hf(a,r,de,o),K=a.memoizedState),(M=Xa||Hy(a,r,M,o,Z,K,E))?(re||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(a.flags|=4194308)):(typeof g.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=o,a.memoizedState=K),g.props=o,g.state=K,g.context=E,o=M):(typeof g.componentDidMount=="function"&&(a.flags|=4194308),o=!1)}else{g=a.stateNode,Rf(n,a),E=a.memoizedProps,re=sr(r,E),g.props=re,de=a.pendingProps,Z=g.context,K=r.contextType,M=Yr,typeof K=="object"&&K!==null&&(M=rn(K)),R=r.getDerivedStateFromProps,(K=typeof R=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(E!==de||Z!==M)&&qy(a,g,o,M),Xa=!1,Z=a.memoizedState,g.state=Z,Co(a,o,g,f),ko();var ie=a.memoizedState;E!==de||Z!==ie||Xa||n!==null&&n.dependencies!==null&&Iu(n.dependencies)?(typeof R=="function"&&(hf(a,r,R,o),ie=a.memoizedState),(re=Xa||Hy(a,r,re,o,Z,ie,M)||n!==null&&n.dependencies!==null&&Iu(n.dependencies))?(K||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(o,ie,M),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(o,ie,M)),typeof g.componentDidUpdate=="function"&&(a.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof g.componentDidUpdate!="function"||E===n.memoizedProps&&Z===n.memoizedState||(a.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&Z===n.memoizedState||(a.flags|=1024),a.memoizedProps=o,a.memoizedState=ie),g.props=o,g.state=ie,g.context=M,o=re):(typeof g.componentDidUpdate!="function"||E===n.memoizedProps&&Z===n.memoizedState||(a.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&Z===n.memoizedState||(a.flags|=1024),o=!1)}return g=o,wo(n,a),o=(a.flags&128)!==0,g||o?(g=a.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:g.render(),a.flags|=1,n!==null&&o?(a.child=Zi(a,n.child,null,f),a.child=Zi(a,null,r,f)):Zt(n,a,r,f),a.memoizedState=g.state,n=a.child):n=ra(n,a,f),n}function a_(n,a,r,o){return go(),a.flags|=256,Zt(n,a,r,o),a.child}var pf={dehydrated:null,treeContext:null,retryLane:0};function yf(n){return{baseLanes:n,cachePool:ry()}}function _f(n,a,r){return n=n!==null?n.childLanes&~r:0,a&&(n|=Wn),n}function i_(n,a,r){var o=a.pendingProps,f=!1,g=(a.flags&128)!==0,E;if((E=g)||(E=n!==null&&n.memoizedState===null?!1:(Mt.current&2)!==0),E&&(f=!0,a.flags&=-129),E=(a.flags&32)!==0,a.flags&=-33,n===null){if(Qe){if(f?Ga(a):$a(),Qe){var R=Xt,M;if(M=R){e:{for(M=R,R=Cs;M.nodeType!==8;){if(!R){R=null;break e}if(M=cs(M.nextSibling),M===null){R=null;break e}}R=M}R!==null?(a.memoizedState={dehydrated:R,treeContext:Yi!==null?{id:na,overflow:sa}:null,retryLane:536870912},M=Yn(18,null,null,0),M.stateNode=R,M.return=a,a.child=M,gn=a,Xt=null,M=!0):M=!1}M||Xi(a)}if(R=a.memoizedState,R!==null&&(R=R.dehydrated,R!==null))return R.data==="$!"?a.lanes=16:a.lanes=536870912,null;aa(a)}return R=o.children,o=o.fallback,f?($a(),f=a.mode,R=xf({mode:"hidden",children:R},f),o=lr(o,f,r,null),R.return=a,o.return=a,R.sibling=o,a.child=R,f=a.child,f.memoizedState=yf(r),f.childLanes=_f(n,E,r),a.memoizedState=pf,o):(Ga(a),vf(a,R))}if(M=n.memoizedState,M!==null&&(R=M.dehydrated,R!==null)){if(g)a.flags&256?(Ga(a),a.flags&=-257,a=Ef(n,a,r)):a.memoizedState!==null?($a(),a.child=n.child,a.flags|=128,a=null):($a(),f=o.fallback,R=a.mode,o=xf({mode:"visible",children:o.children},R),f=lr(f,R,r,null),f.flags|=2,o.return=a,f.return=a,o.sibling=f,a.child=o,Zi(a,n.child,null,r),o=a.child,o.memoizedState=yf(r),o.childLanes=_f(n,E,r),a.memoizedState=pf,a=f);else if(Ga(a),R.data==="$!"){if(E=R.nextSibling&&R.nextSibling.dataset,E)var K=E.dgst;E=K,o=Error(i(419)),o.stack="",o.digest=E,po({value:o,source:null,stack:null}),a=Ef(n,a,r)}else if(Kt||No(n,a,r,!1),E=(r&n.childLanes)!==0,Kt||E){if(E=st,E!==null){if(o=r&-r,(o&42)!==0)o=1;else switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=64;break;case 268435456:o=134217728;break;default:o=0}if(o=(o&(E.suspendedLanes|r))!==0?0:o,o!==0&&o!==M.retryLane)throw M.retryLane=o,Fa(n,o),pn(E,n,o),Wy}R.data==="$?"||Yf(),a=Ef(n,a,r)}else R.data==="$?"?(a.flags|=128,a.child=n.child,a=xA.bind(null,n),R._reactRetry=a,a=null):(n=M.treeContext,Xt=cs(R.nextSibling),gn=a,Qe=!0,ls=null,Cs=!1,n!==null&&(Kn[Fn++]=na,Kn[Fn++]=sa,Kn[Fn++]=Yi,na=n.id,sa=n.overflow,Yi=a),a=vf(a,o.children),a.flags|=4096);return a}return f?($a(),f=o.fallback,R=a.mode,M=n.child,K=M.sibling,o=si(M,{mode:"hidden",children:o.children}),o.subtreeFlags=M.subtreeFlags&31457280,K!==null?f=si(K,f):(f=lr(f,R,r,null),f.flags|=2),f.return=a,o.return=a,o.sibling=f,a.child=o,o=f,f=a.child,R=n.child.memoizedState,R===null?R=yf(r):(M=R.cachePool,M!==null?(K=Lt._currentValue,M=M.parent!==K?{parent:K,pool:K}:M):M=ry(),R={baseLanes:R.baseLanes|r,cachePool:M}),f.memoizedState=R,f.childLanes=_f(n,E,r),a.memoizedState=pf,o):(Ga(a),r=n.child,n=r.sibling,r=si(r,{mode:"visible",children:o.children}),r.return=a,r.sibling=null,n!==null&&(E=a.deletions,E===null?(a.deletions=[n],a.flags|=16):E.push(n)),a.child=r,a.memoizedState=null,r)}function vf(n,a){return a=xf({mode:"visible",children:a},n.mode),a.return=n,n.child=a}function xf(n,a){return I_(n,a,0,null)}function Ef(n,a,r){return Zi(a,n.child,null,r),n=vf(a,a.pendingProps.children),n.flags|=2,a.memoizedState=null,n}function r_(n,a,r){n.lanes|=a;var o=n.alternate;o!==null&&(o.lanes|=a),Sf(n.return,a,r)}function bf(n,a,r,o,f){var g=n.memoizedState;g===null?n.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:f}:(g.isBackwards=a,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=r,g.tailMode=f)}function l_(n,a,r){var o=a.pendingProps,f=o.revealOrder,g=o.tail;if(Zt(n,a,o.children,r),o=Mt.current,(o&2)!==0)o=o&1|2,a.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=a.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&r_(n,r,a);else if(n.tag===19)r_(n,r,a);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===a)break e;for(;n.sibling===null;){if(n.return===null||n.return===a)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}o&=1}switch(We(Mt,o),f){case"forwards":for(r=a.child,f=null;r!==null;)n=r.alternate,n!==null&&vu(n)===null&&(f=r),r=r.sibling;r=f,r===null?(f=a.child,a.child=null):(f=r.sibling,r.sibling=null),bf(a,!1,f,r,g);break;case"backwards":for(r=null,f=a.child,a.child=null;f!==null;){if(n=f.alternate,n!==null&&vu(n)===null){a.child=f;break}n=f.sibling,f.sibling=r,r=f,f=n}bf(a,!0,r,null,g);break;case"together":bf(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function ra(n,a,r){if(n!==null&&(a.dependencies=n.dependencies),ai|=a.lanes,(r&a.childLanes)===0)if(n!==null){if(No(n,a,r,!1),(r&a.childLanes)===0)return null}else return null;if(n!==null&&a.child!==n.child)throw Error(i(153));if(a.child!==null){for(n=a.child,r=si(n,n.pendingProps),a.child=r,r.return=a;n.sibling!==null;)n=n.sibling,r=r.sibling=si(n,n.pendingProps),r.return=a;r.sibling=null}return a.child}function Tf(n,a){return(n.lanes&a)!==0?!0:(n=n.dependencies,!!(n!==null&&Iu(n)))}function rA(n,a,r){switch(a.tag){case 3:Ge(a,a.stateNode.containerInfo),Wa(a,Lt,n.memoizedState.cache),go();break;case 27:case 5:Mn(a);break;case 4:Ge(a,a.stateNode.containerInfo);break;case 10:Wa(a,a.type,a.memoizedProps.value);break;case 13:var o=a.memoizedState;if(o!==null)return o.dehydrated!==null?(Ga(a),a.flags|=128,null):(r&a.child.childLanes)!==0?i_(n,a,r):(Ga(a),n=ra(n,a,r),n!==null?n.sibling:null);Ga(a);break;case 19:var f=(n.flags&128)!==0;if(o=(r&a.childLanes)!==0,o||(No(n,a,r,!1),o=(r&a.childLanes)!==0),f){if(o)return l_(n,a,r);a.flags|=128}if(f=a.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),We(Mt,Mt.current),o)break;return null;case 22:case 23:return a.lanes=0,e_(n,a,r);case 24:Wa(a,Lt,n.memoizedState.cache)}return ra(n,a,r)}function o_(n,a,r){if(n!==null)if(n.memoizedProps!==a.pendingProps)Kt=!0;else{if(!Tf(n,r)&&(a.flags&128)===0)return Kt=!1,rA(n,a,r);Kt=(n.flags&131072)!==0}else Kt=!1,Qe&&(a.flags&1048576)!==0&&Gp(a,mu,a.index);switch(a.lanes=0,a.tag){case 16:e:{n=a.pendingProps;var o=a.elementType,f=o._init;if(o=f(o._payload),a.type=o,typeof o=="function")Pf(o)?(n=sr(o,n),a.tag=1,a=s_(null,a,o,n,r)):(a.tag=0,a=gf(null,a,o,n,r));else{if(o!=null){if(f=o.$$typeof,f===O){a.tag=11,a=Xy(null,a,o,n,r);break e}else if(f===F){a.tag=14,a=Zy(null,a,o,n,r);break e}}throw a=N(o)||o,Error(i(306,a,""))}}return a;case 0:return gf(n,a,a.type,a.pendingProps,r);case 1:return o=a.type,f=sr(o,a.pendingProps),s_(n,a,o,f,r);case 3:e:{if(Ge(a,a.stateNode.containerInfo),n===null)throw Error(i(387));var g=a.pendingProps;f=a.memoizedState,o=f.element,Rf(n,a),Co(a,g,null,r);var E=a.memoizedState;if(g=E.cache,Wa(a,Lt,g),g!==f.cache&&wf(a,[Lt],r,!0),ko(),g=E.element,f.isDehydrated)if(f={element:g,isDehydrated:!1,cache:E.cache},a.updateQueue.baseState=f,a.memoizedState=f,a.flags&256){a=a_(n,a,g,r);break e}else if(g!==o){o=qn(Error(i(424)),a),po(o),a=a_(n,a,g,r);break e}else for(Xt=cs(a.stateNode.containerInfo.firstChild),gn=a,Qe=!0,ls=null,Cs=!0,r=ty(a,null,g,r),a.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(go(),g===o){a=ra(n,a,r);break e}Zt(n,a,g,r)}a=a.child}return a;case 26:return wo(n,a),n===null?(r=dv(a.type,null,a.pendingProps,null))?a.memoizedState=r:Qe||(r=a.type,n=a.pendingProps,o=$u(vn.current).createElement(r),o[zt]=a,o[jt]=n,Jt(o,r,n),ct(o),a.stateNode=o):a.memoizedState=dv(a.type,n.memoizedProps,a.pendingProps,n.memoizedState),null;case 27:return Mn(a),n===null&&Qe&&(o=a.stateNode=ov(a.type,a.pendingProps,vn.current),gn=a,Cs=!0,Xt=cs(o.firstChild)),o=a.pendingProps.children,n!==null||Qe?Zt(n,a,o,r):a.child=Zi(a,null,o,r),wo(n,a),a.child;case 5:return n===null&&Qe&&((f=o=Xt)&&(o=LA(o,a.type,a.pendingProps,Cs),o!==null?(a.stateNode=o,gn=a,Xt=cs(o.firstChild),Cs=!1,f=!0):f=!1),f||Xi(a)),Mn(a),f=a.type,g=a.pendingProps,E=n!==null?n.memoizedProps:null,o=g.children,cm(f,g)?o=null:E!==null&&cm(f,E)&&(a.flags|=32),a.memoizedState!==null&&(f=Wh(n,a,JT,null,null,r),Fo._currentValue=f),wo(n,a),Zt(n,a,o,r),a.child;case 6:return n===null&&Qe&&((n=r=Xt)&&(r=PA(r,a.pendingProps,Cs),r!==null?(a.stateNode=r,gn=a,Xt=null,n=!0):n=!1),n||Xi(a)),null;case 13:return i_(n,a,r);case 4:return Ge(a,a.stateNode.containerInfo),o=a.pendingProps,n===null?a.child=Zi(a,null,o,r):Zt(n,a,o,r),a.child;case 11:return Xy(n,a,a.type,a.pendingProps,r);case 7:return Zt(n,a,a.pendingProps,r),a.child;case 8:return Zt(n,a,a.pendingProps.children,r),a.child;case 12:return Zt(n,a,a.pendingProps.children,r),a.child;case 10:return o=a.pendingProps,Wa(a,a.type,o.value),Zt(n,a,o.children,r),a.child;case 9:return f=a.type._context,o=a.pendingProps.children,ir(a),f=rn(f),o=o(f),a.flags|=1,Zt(n,a,o,r),a.child;case 14:return Zy(n,a,a.type,a.pendingProps,r);case 15:return Jy(n,a,a.type,a.pendingProps,r);case 19:return l_(n,a,r);case 22:return e_(n,a,r);case 24:return ir(a),o=rn(Lt),n===null?(f=Qh(),f===null&&(f=st,g=Gh(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=r),f=g),a.memoizedState={parent:o,cache:f},Nf(a),Wa(a,Lt,f)):((n.lanes&r)!==0&&(Rf(n,a),Co(a,null,null,r),ko()),f=n.memoizedState,g=a.memoizedState,f.parent!==o?(f={parent:o,cache:o},a.memoizedState=f,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=f),Wa(a,Lt,o)):(o=g.cache,Wa(a,Lt,o),o!==f.cache&&wf(a,[Lt],r,!0))),Zt(n,a,a.pendingProps.children,r),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}var Af=ze(null),ar=null,la=null;function Wa(n,a,r){We(Af,a._currentValue),a._currentValue=r}function oa(n){n._currentValue=Af.current,it(Af)}function Sf(n,a,r){for(;n!==null;){var o=n.alternate;if((n.childLanes&a)!==a?(n.childLanes|=a,o!==null&&(o.childLanes|=a)):o!==null&&(o.childLanes&a)!==a&&(o.childLanes|=a),n===r)break;n=n.return}}function wf(n,a,r,o){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var g=f.dependencies;if(g!==null){var E=f.child;g=g.firstContext;e:for(;g!==null;){var R=g;g=f;for(var M=0;M<a.length;M++)if(R.context===a[M]){g.lanes|=r,R=g.alternate,R!==null&&(R.lanes|=r),Sf(g.return,r,n),o||(E=null);break e}g=R.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(i(341));E.lanes|=r,g=E.alternate,g!==null&&(g.lanes|=r),Sf(E,r,n),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===n){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function No(n,a,r,o){n=null;for(var f=a,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(i(387));if(E=E.memoizedProps,E!==null){var R=f.type;Nn(f.pendingProps.value,E.value)||(n!==null?n.push(R):n=[R])}}else if(f===ye.current){if(E=f.alternate,E===null)throw Error(i(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Fo):n=[Fo])}f=f.return}n!==null&&wf(a,n,r,o),a.flags|=262144}function Iu(n){for(n=n.firstContext;n!==null;){if(!Nn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function ir(n){ar=n,la=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function rn(n){return c_(ar,n)}function ju(n,a){return ar===null&&ir(n),c_(n,a)}function c_(n,a){var r=a._currentValue;if(a={context:a,memoizedValue:r,next:null},la===null){if(n===null)throw Error(i(308));la=a,n.dependencies={lanes:0,firstContext:a},n.flags|=524288}else la=la.next=a;return r}var Xa=!1;function Nf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rf(n,a){n=n.updateQueue,a.updateQueue===n&&(a.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Za(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Ja(n,a,r){var o=n.updateQueue;if(o===null)return null;if(o=o.shared,(dt&2)!==0){var f=o.pending;return f===null?a.next=a:(a.next=f.next,f.next=a),o.pending=a,a=hu(n),Kp(n,null,r),a}return du(n,o,a,r),hu(n)}function Ro(n,a,r){if(a=a.updateQueue,a!==null&&(a=a.shared,(r&4194176)!==0)){var o=a.lanes;o&=n.pendingLanes,r|=o,a.lanes=r,Ma(n,r)}}function kf(n,a){var r=n.updateQueue,o=n.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var f=null,g=null;if(r=r.firstBaseUpdate,r!==null){do{var E={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};g===null?f=g=E:g=g.next=E,r=r.next}while(r!==null);g===null?f=g=a:g=g.next=a}else f=g=a;r={baseState:o.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:o.shared,callbacks:o.callbacks},n.updateQueue=r;return}n=r.lastBaseUpdate,n===null?r.firstBaseUpdate=a:n.next=a,r.lastBaseUpdate=a}var Cf=!1;function ko(){if(Cf){var n=tl;if(n!==null)throw n}}function Co(n,a,r,o){Cf=!1;var f=n.updateQueue;Xa=!1;var g=f.firstBaseUpdate,E=f.lastBaseUpdate,R=f.shared.pending;if(R!==null){f.shared.pending=null;var M=R,K=M.next;M.next=null,E===null?g=K:E.next=K,E=M;var re=n.alternate;re!==null&&(re=re.updateQueue,R=re.lastBaseUpdate,R!==E&&(R===null?re.firstBaseUpdate=K:R.next=K,re.lastBaseUpdate=M))}if(g!==null){var de=f.baseState;E=0,re=K=M=null,R=g;do{var Z=R.lane&-536870913,ie=Z!==R.lane;if(ie?(Ke&Z)===Z:(o&Z)===Z){Z!==0&&Z===el&&(Cf=!0),re!==null&&(re=re.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var Ee=n,Ce=R;Z=a;var yt=r;switch(Ce.tag){case 1:if(Ee=Ce.payload,typeof Ee=="function"){de=Ee.call(yt,de,Z);break e}de=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=Ce.payload,Z=typeof Ee=="function"?Ee.call(yt,de,Z):Ee,Z==null)break e;de=T({},de,Z);break e;case 2:Xa=!0}}Z=R.callback,Z!==null&&(n.flags|=64,ie&&(n.flags|=8192),ie=f.callbacks,ie===null?f.callbacks=[Z]:ie.push(Z))}else ie={lane:Z,tag:R.tag,payload:R.payload,callback:R.callback,next:null},re===null?(K=re=ie,M=de):re=re.next=ie,E|=Z;if(R=R.next,R===null){if(R=f.shared.pending,R===null)break;ie=R,R=ie.next,ie.next=null,f.lastBaseUpdate=ie,f.shared.pending=null}}while(!0);re===null&&(M=de),f.baseState=M,f.firstBaseUpdate=K,f.lastBaseUpdate=re,g===null&&(f.shared.lanes=0),ai|=E,n.lanes=E,n.memoizedState=de}}function u_(n,a){if(typeof n!="function")throw Error(i(191,n));n.call(a)}function d_(n,a){var r=n.callbacks;if(r!==null)for(n.callbacks=null,n=0;n<r.length;n++)u_(r[n],a)}function Io(n,a){try{var r=a.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var f=o.next;r=f;do{if((r.tag&n)===n){o=void 0;var g=r.create,E=r.inst;o=g(),E.destroy=o}r=r.next}while(r!==f)}}catch(R){nt(a,a.return,R)}}function ei(n,a,r){try{var o=a.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var g=f.next;o=g;do{if((o.tag&n)===n){var E=o.inst,R=E.destroy;if(R!==void 0){E.destroy=void 0,f=a;var M=r;try{R()}catch(K){nt(f,M,K)}}}o=o.next}while(o!==g)}}catch(K){nt(a,a.return,K)}}function h_(n){var a=n.updateQueue;if(a!==null){var r=n.stateNode;try{d_(a,r)}catch(o){nt(n,n.return,o)}}}function f_(n,a,r){r.props=sr(n.type,n.memoizedProps),r.state=n.memoizedState;try{r.componentWillUnmount()}catch(o){nt(n,a,o)}}function rr(n,a){try{var r=n.ref;if(r!==null){var o=n.stateNode;switch(n.tag){case 26:case 27:case 5:var f=o;break;default:f=o}typeof r=="function"?n.refCleanup=r(f):r.current=f}}catch(g){nt(n,a,g)}}function Rn(n,a){var r=n.ref,o=n.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(f){nt(n,a,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(f){nt(n,a,f)}else r.current=null}function m_(n){var a=n.type,r=n.memoizedProps,o=n.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break e;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(f){nt(n,n.return,f)}}function g_(n,a,r){try{var o=n.stateNode;IA(o,n.type,r,a),o[jt]=a}catch(f){nt(n,n.return,f)}}function p_(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27||n.tag===4}function If(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||p_(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==27&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function jf(n,a,r){var o=n.tag;if(o===5||o===6)n=n.stateNode,a?r.nodeType===8?r.parentNode.insertBefore(n,a):r.insertBefore(n,a):(r.nodeType===8?(a=r.parentNode,a.insertBefore(n,r)):(a=r,a.appendChild(n)),r=r._reactRootContainer,r!=null||a.onclick!==null||(a.onclick=Gu));else if(o!==4&&o!==27&&(n=n.child,n!==null))for(jf(n,a,r),n=n.sibling;n!==null;)jf(n,a,r),n=n.sibling}function Du(n,a,r){var o=n.tag;if(o===5||o===6)n=n.stateNode,a?r.insertBefore(n,a):r.appendChild(n);else if(o!==4&&o!==27&&(n=n.child,n!==null))for(Du(n,a,r),n=n.sibling;n!==null;)Du(n,a,r),n=n.sibling}var ca=!1,gt=!1,Df=!1,y_=typeof WeakSet=="function"?WeakSet:Set,Ft=null,__=!1;function lA(n,a){if(n=n.containerInfo,lm=Ju,n=Mp(n),Oh(n)){if("selectionStart"in n)var r={start:n.selectionStart,end:n.selectionEnd};else e:{r=(r=n.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var f=o.anchorOffset,g=o.focusNode;o=o.focusOffset;try{r.nodeType,g.nodeType}catch{r=null;break e}var E=0,R=-1,M=-1,K=0,re=0,de=n,Z=null;t:for(;;){for(var ie;de!==r||f!==0&&de.nodeType!==3||(R=E+f),de!==g||o!==0&&de.nodeType!==3||(M=E+o),de.nodeType===3&&(E+=de.nodeValue.length),(ie=de.firstChild)!==null;)Z=de,de=ie;for(;;){if(de===n)break t;if(Z===r&&++K===f&&(R=E),Z===g&&++re===o&&(M=E),(ie=de.nextSibling)!==null)break;de=Z,Z=de.parentNode}de=ie}r=R===-1||M===-1?null:{start:R,end:M}}else r=null}r=r||{start:0,end:0}}else r=null;for(om={focusedElem:n,selectionRange:r},Ju=!1,Ft=a;Ft!==null;)if(a=Ft,n=a.child,(a.subtreeFlags&1028)!==0&&n!==null)n.return=a,Ft=n;else for(;Ft!==null;){switch(a=Ft,g=a.alternate,n=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&g!==null){n=void 0,r=a,f=g.memoizedProps,g=g.memoizedState,o=r.stateNode;try{var Ee=sr(r.type,f,r.elementType===r.type);n=o.getSnapshotBeforeUpdate(Ee,g),o.__reactInternalSnapshotBeforeUpdate=n}catch(Ce){nt(r,r.return,Ce)}}break;case 3:if((n&1024)!==0){if(n=a.stateNode.containerInfo,r=n.nodeType,r===9)hm(n);else if(r===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":hm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=a.sibling,n!==null){n.return=a.return,Ft=n;break}Ft=a.return}return Ee=__,__=!1,Ee}function v_(n,a,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:da(n,r),o&4&&Io(5,r);break;case 1:if(da(n,r),o&4)if(n=r.stateNode,a===null)try{n.componentDidMount()}catch(R){nt(r,r.return,R)}else{var f=sr(r.type,a.memoizedProps);a=a.memoizedState;try{n.componentDidUpdate(f,a,n.__reactInternalSnapshotBeforeUpdate)}catch(R){nt(r,r.return,R)}}o&64&&h_(r),o&512&&rr(r,r.return);break;case 3:if(da(n,r),o&64&&(o=r.updateQueue,o!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{d_(o,n)}catch(R){nt(r,r.return,R)}}break;case 26:da(n,r),o&512&&rr(r,r.return);break;case 27:case 5:da(n,r),a===null&&o&4&&m_(r),o&512&&rr(r,r.return);break;case 12:da(n,r);break;case 13:da(n,r),o&4&&b_(n,r);break;case 22:if(f=r.memoizedState!==null||ca,!f){a=a!==null&&a.memoizedState!==null||gt;var g=ca,E=gt;ca=f,(gt=a)&&!E?ti(n,r,(r.subtreeFlags&8772)!==0):da(n,r),ca=g,gt=E}o&512&&(r.memoizedProps.mode==="manual"?rr(r,r.return):Rn(r,r.return));break;default:da(n,r)}}function x_(n){var a=n.alternate;a!==null&&(n.alternate=null,x_(a)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(a=n.stateNode,a!==null&&Li(a)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Nt=null,kn=!1;function ua(n,a,r){for(r=r.child;r!==null;)E_(n,a,r),r=r.sibling}function E_(n,a,r){if(an&&typeof an.onCommitFiberUnmount=="function")try{an.onCommitFiberUnmount(Ca,r)}catch{}switch(r.tag){case 26:gt||Rn(r,a),ua(n,a,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:gt||Rn(r,a);var o=Nt,f=kn;for(Nt=r.stateNode,ua(n,a,r),r=r.stateNode,a=r.attributes;a.length;)r.removeAttributeNode(a[0]);Li(r),Nt=o,kn=f;break;case 5:gt||Rn(r,a);case 6:f=Nt;var g=kn;if(Nt=null,ua(n,a,r),Nt=f,kn=g,Nt!==null)if(kn)try{n=Nt,o=r.stateNode,n.nodeType===8?n.parentNode.removeChild(o):n.removeChild(o)}catch(E){nt(r,a,E)}else try{Nt.removeChild(r.stateNode)}catch(E){nt(r,a,E)}break;case 18:Nt!==null&&(kn?(a=Nt,r=r.stateNode,a.nodeType===8?dm(a.parentNode,r):a.nodeType===1&&dm(a,r),Yo(a)):dm(Nt,r.stateNode));break;case 4:o=Nt,f=kn,Nt=r.stateNode.containerInfo,kn=!0,ua(n,a,r),Nt=o,kn=f;break;case 0:case 11:case 14:case 15:gt||ei(2,r,a),gt||ei(4,r,a),ua(n,a,r);break;case 1:gt||(Rn(r,a),o=r.stateNode,typeof o.componentWillUnmount=="function"&&f_(r,a,o)),ua(n,a,r);break;case 21:ua(n,a,r);break;case 22:gt||Rn(r,a),gt=(o=gt)||r.memoizedState!==null,ua(n,a,r),gt=o;break;default:ua(n,a,r)}}function b_(n,a){if(a.memoizedState===null&&(n=a.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Yo(n)}catch(r){nt(a,a.return,r)}}function oA(n){switch(n.tag){case 13:case 19:var a=n.stateNode;return a===null&&(a=n.stateNode=new y_),a;case 22:return n=n.stateNode,a=n._retryCache,a===null&&(a=n._retryCache=new y_),a;default:throw Error(i(435,n.tag))}}function Of(n,a){var r=oA(n);a.forEach(function(o){var f=EA.bind(null,n,o);r.has(o)||(r.add(o),o.then(f,f))})}function $n(n,a){var r=a.deletions;if(r!==null)for(var o=0;o<r.length;o++){var f=r[o],g=n,E=a,R=E;e:for(;R!==null;){switch(R.tag){case 27:case 5:Nt=R.stateNode,kn=!1;break e;case 3:Nt=R.stateNode.containerInfo,kn=!0;break e;case 4:Nt=R.stateNode.containerInfo,kn=!0;break e}R=R.return}if(Nt===null)throw Error(i(160));E_(g,E,f),Nt=null,kn=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)T_(a,n),a=a.sibling}var os=null;function T_(n,a){var r=n.alternate,o=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:$n(a,n),Qn(n),o&4&&(ei(3,n,n.return),Io(3,n),ei(5,n,n.return));break;case 1:$n(a,n),Qn(n),o&512&&(gt||r===null||Rn(r,r.return)),o&64&&ca&&(n=n.updateQueue,n!==null&&(o=n.callbacks,o!==null&&(r=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var f=os;if($n(a,n),Qn(n),o&512&&(gt||r===null||Rn(r,r.return)),o&4){var g=r!==null?r.memoizedState:null;if(o=n.memoizedState,r===null)if(o===null)if(n.stateNode===null){e:{o=n.type,r=n.memoizedProps,f=f.ownerDocument||f;t:switch(o){case"title":g=f.getElementsByTagName("title")[0],(!g||g[Pa]||g[zt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(o),f.head.insertBefore(g,f.querySelector("head > title"))),Jt(g,o,r),g[zt]=n,ct(g),o=g;break e;case"link":var E=mv("link","href",f).get(o+(r.href||""));if(E){for(var R=0;R<E.length;R++)if(g=E[R],g.getAttribute("href")===(r.href==null?null:r.href)&&g.getAttribute("rel")===(r.rel==null?null:r.rel)&&g.getAttribute("title")===(r.title==null?null:r.title)&&g.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){E.splice(R,1);break t}}g=f.createElement(o),Jt(g,o,r),f.head.appendChild(g);break;case"meta":if(E=mv("meta","content",f).get(o+(r.content||""))){for(R=0;R<E.length;R++)if(g=E[R],g.getAttribute("content")===(r.content==null?null:""+r.content)&&g.getAttribute("name")===(r.name==null?null:r.name)&&g.getAttribute("property")===(r.property==null?null:r.property)&&g.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&g.getAttribute("charset")===(r.charSet==null?null:r.charSet)){E.splice(R,1);break t}}g=f.createElement(o),Jt(g,o,r),f.head.appendChild(g);break;default:throw Error(i(468,o))}g[zt]=n,ct(g),o=g}n.stateNode=o}else gv(f,n.type,n.stateNode);else n.stateNode=fv(f,o,n.memoizedProps);else g!==o?(g===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):g.count--,o===null?gv(f,n.type,n.stateNode):fv(f,o,n.memoizedProps)):o===null&&n.stateNode!==null&&g_(n,n.memoizedProps,r.memoizedProps)}break;case 27:if(o&4&&n.alternate===null){f=n.stateNode,g=n.memoizedProps;try{for(var M=f.firstChild;M;){var K=M.nextSibling,re=M.nodeName;M[Pa]||re==="HEAD"||re==="BODY"||re==="SCRIPT"||re==="STYLE"||re==="LINK"&&M.rel.toLowerCase()==="stylesheet"||f.removeChild(M),M=K}for(var de=n.type,Z=f.attributes;Z.length;)f.removeAttributeNode(Z[0]);Jt(f,de,g),f[zt]=n,f[jt]=g}catch(Ee){nt(n,n.return,Ee)}}case 5:if($n(a,n),Qn(n),o&512&&(gt||r===null||Rn(r,r.return)),n.flags&32){f=n.stateNode;try{Un(f,"")}catch(Ee){nt(n,n.return,Ee)}}o&4&&n.stateNode!=null&&(f=n.memoizedProps,g_(n,f,r!==null?r.memoizedProps:f)),o&1024&&(Df=!0);break;case 6:if($n(a,n),Qn(n),o&4){if(n.stateNode===null)throw Error(i(162));o=n.memoizedProps,r=n.stateNode;try{r.nodeValue=o}catch(Ee){nt(n,n.return,Ee)}}break;case 3:if(Wu=null,f=os,os=Qu(a.containerInfo),$n(a,n),os=f,Qn(n),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Yo(a.containerInfo)}catch(Ee){nt(n,n.return,Ee)}Df&&(Df=!1,A_(n));break;case 4:o=os,os=Qu(n.stateNode.containerInfo),$n(a,n),Qn(n),os=o;break;case 12:$n(a,n),Qn(n);break;case 13:$n(a,n),Qn(n),n.child.flags&8192&&n.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(qf=Yt()),o&4&&(o=n.updateQueue,o!==null&&(n.updateQueue=null,Of(n,o)));break;case 22:if(o&512&&(gt||r===null||Rn(r,r.return)),M=n.memoizedState!==null,K=r!==null&&r.memoizedState!==null,re=ca,de=gt,ca=re||M,gt=de||K,$n(a,n),gt=de,ca=re,Qn(n),a=n.stateNode,a._current=n,a._visibility&=-3,a._visibility|=a._pendingVisibility&2,o&8192&&(a._visibility=M?a._visibility&-2:a._visibility|1,M&&(a=ca||gt,r===null||K||a||il(n)),n.memoizedProps===null||n.memoizedProps.mode!=="manual"))e:for(r=null,a=n;;){if(a.tag===5||a.tag===26||a.tag===27){if(r===null){K=r=a;try{if(f=K.stateNode,M)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=K.stateNode,R=K.memoizedProps.style;var ie=R!=null&&R.hasOwnProperty("display")?R.display:null;E.style.display=ie==null||typeof ie=="boolean"?"":(""+ie).trim()}}catch(Ee){nt(K,K.return,Ee)}}}else if(a.tag===6){if(r===null){K=a;try{K.stateNode.nodeValue=M?"":K.memoizedProps}catch(Ee){nt(K,K.return,Ee)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===n)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break e;for(;a.sibling===null;){if(a.return===null||a.return===n)break e;r===a&&(r=null),a=a.return}r===a&&(r=null),a.sibling.return=a.return,a=a.sibling}o&4&&(o=n.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,Of(n,r))));break;case 19:$n(a,n),Qn(n),o&4&&(o=n.updateQueue,o!==null&&(n.updateQueue=null,Of(n,o)));break;case 21:break;default:$n(a,n),Qn(n)}}function Qn(n){var a=n.flags;if(a&2){try{if(n.tag!==27){e:{for(var r=n.return;r!==null;){if(p_(r)){var o=r;break e}r=r.return}throw Error(i(160))}switch(o.tag){case 27:var f=o.stateNode,g=If(n);Du(n,g,f);break;case 5:var E=o.stateNode;o.flags&32&&(Un(E,""),o.flags&=-33);var R=If(n);Du(n,R,E);break;case 3:case 4:var M=o.stateNode.containerInfo,K=If(n);jf(n,K,M);break;default:throw Error(i(161))}}}catch(re){nt(n,n.return,re)}n.flags&=-3}a&4096&&(n.flags&=-4097)}function A_(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var a=n;A_(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),n=n.sibling}}function da(n,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)v_(n,a.alternate,a),a=a.sibling}function il(n){for(n=n.child;n!==null;){var a=n;switch(a.tag){case 0:case 11:case 14:case 15:ei(4,a,a.return),il(a);break;case 1:Rn(a,a.return);var r=a.stateNode;typeof r.componentWillUnmount=="function"&&f_(a,a.return,r),il(a);break;case 26:case 27:case 5:Rn(a,a.return),il(a);break;case 22:Rn(a,a.return),a.memoizedState===null&&il(a);break;default:il(a)}n=n.sibling}}function ti(n,a,r){for(r=r&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var o=a.alternate,f=n,g=a,E=g.flags;switch(g.tag){case 0:case 11:case 15:ti(f,g,r),Io(4,g);break;case 1:if(ti(f,g,r),o=g,f=o.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(K){nt(o,o.return,K)}if(o=g,f=o.updateQueue,f!==null){var R=o.stateNode;try{var M=f.shared.hiddenCallbacks;if(M!==null)for(f.shared.hiddenCallbacks=null,f=0;f<M.length;f++)u_(M[f],R)}catch(K){nt(o,o.return,K)}}r&&E&64&&h_(g),rr(g,g.return);break;case 26:case 27:case 5:ti(f,g,r),r&&o===null&&E&4&&m_(g),rr(g,g.return);break;case 12:ti(f,g,r);break;case 13:ti(f,g,r),r&&E&4&&b_(f,g);break;case 22:g.memoizedState===null&&ti(f,g,r),rr(g,g.return);break;default:ti(f,g,r)}a=a.sibling}}function Mf(n,a){var r=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(r=n.memoizedState.cachePool.pool),n=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(n=a.memoizedState.cachePool.pool),n!==r&&(n!=null&&n.refCount++,r!=null&&Eo(r))}function Lf(n,a){n=null,a.alternate!==null&&(n=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==n&&(a.refCount++,n!=null&&Eo(n))}function ni(n,a,r,o){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)S_(n,a,r,o),a=a.sibling}function S_(n,a,r,o){var f=a.flags;switch(a.tag){case 0:case 11:case 15:ni(n,a,r,o),f&2048&&Io(9,a);break;case 3:ni(n,a,r,o),f&2048&&(n=null,a.alternate!==null&&(n=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==n&&(a.refCount++,n!=null&&Eo(n)));break;case 12:if(f&2048){ni(n,a,r,o),n=a.stateNode;try{var g=a.memoizedProps,E=g.id,R=g.onPostCommit;typeof R=="function"&&R(E,a.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(M){nt(a,a.return,M)}}else ni(n,a,r,o);break;case 23:break;case 22:g=a.stateNode,a.memoizedState!==null?g._visibility&4?ni(n,a,r,o):jo(n,a):g._visibility&4?ni(n,a,r,o):(g._visibility|=4,rl(n,a,r,o,(a.subtreeFlags&10256)!==0)),f&2048&&Mf(a.alternate,a);break;case 24:ni(n,a,r,o),f&2048&&Lf(a.alternate,a);break;default:ni(n,a,r,o)}}function rl(n,a,r,o,f){for(f=f&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var g=n,E=a,R=r,M=o,K=E.flags;switch(E.tag){case 0:case 11:case 15:rl(g,E,R,M,f),Io(8,E);break;case 23:break;case 22:var re=E.stateNode;E.memoizedState!==null?re._visibility&4?rl(g,E,R,M,f):jo(g,E):(re._visibility|=4,rl(g,E,R,M,f)),f&&K&2048&&Mf(E.alternate,E);break;case 24:rl(g,E,R,M,f),f&&K&2048&&Lf(E.alternate,E);break;default:rl(g,E,R,M,f)}a=a.sibling}}function jo(n,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var r=n,o=a,f=o.flags;switch(o.tag){case 22:jo(r,o),f&2048&&Mf(o.alternate,o);break;case 24:jo(r,o),f&2048&&Lf(o.alternate,o);break;default:jo(r,o)}a=a.sibling}}var Do=8192;function ll(n){if(n.subtreeFlags&Do)for(n=n.child;n!==null;)w_(n),n=n.sibling}function w_(n){switch(n.tag){case 26:ll(n),n.flags&Do&&n.memoizedState!==null&&WA(os,n.memoizedState,n.memoizedProps);break;case 5:ll(n);break;case 3:case 4:var a=os;os=Qu(n.stateNode.containerInfo),ll(n),os=a;break;case 22:n.memoizedState===null&&(a=n.alternate,a!==null&&a.memoizedState!==null?(a=Do,Do=16777216,ll(n),Do=a):ll(n));break;default:ll(n)}}function N_(n){var a=n.alternate;if(a!==null&&(n=a.child,n!==null)){a.child=null;do a=n.sibling,n.sibling=null,n=a;while(n!==null)}}function Oo(n){var a=n.deletions;if((n.flags&16)!==0){if(a!==null)for(var r=0;r<a.length;r++){var o=a[r];Ft=o,k_(o,n)}N_(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)R_(n),n=n.sibling}function R_(n){switch(n.tag){case 0:case 11:case 15:Oo(n),n.flags&2048&&ei(9,n,n.return);break;case 3:Oo(n);break;case 12:Oo(n);break;case 22:var a=n.stateNode;n.memoizedState!==null&&a._visibility&4&&(n.return===null||n.return.tag!==13)?(a._visibility&=-5,Ou(n)):Oo(n);break;default:Oo(n)}}function Ou(n){var a=n.deletions;if((n.flags&16)!==0){if(a!==null)for(var r=0;r<a.length;r++){var o=a[r];Ft=o,k_(o,n)}N_(n)}for(n=n.child;n!==null;){switch(a=n,a.tag){case 0:case 11:case 15:ei(8,a,a.return),Ou(a);break;case 22:r=a.stateNode,r._visibility&4&&(r._visibility&=-5,Ou(a));break;default:Ou(a)}n=n.sibling}}function k_(n,a){for(;Ft!==null;){var r=Ft;switch(r.tag){case 0:case 11:case 15:ei(8,r,a);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Eo(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Ft=o;else e:for(r=n;Ft!==null;){o=Ft;var f=o.sibling,g=o.return;if(x_(o),o===r){Ft=null;break e}if(f!==null){f.return=g,Ft=f;break e}Ft=g}}}function cA(n,a,r,o){this.tag=n,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yn(n,a,r,o){return new cA(n,a,r,o)}function Pf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function si(n,a){var r=n.alternate;return r===null?(r=Yn(n.tag,a,n.key,n.mode),r.elementType=n.elementType,r.type=n.type,r.stateNode=n.stateNode,r.alternate=n,n.alternate=r):(r.pendingProps=a,r.type=n.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=n.flags&31457280,r.childLanes=n.childLanes,r.lanes=n.lanes,r.child=n.child,r.memoizedProps=n.memoizedProps,r.memoizedState=n.memoizedState,r.updateQueue=n.updateQueue,a=n.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},r.sibling=n.sibling,r.index=n.index,r.ref=n.ref,r.refCleanup=n.refCleanup,r}function C_(n,a){n.flags&=31457282;var r=n.alternate;return r===null?(n.childLanes=0,n.lanes=a,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=r.childLanes,n.lanes=r.lanes,n.child=r.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=r.memoizedProps,n.memoizedState=r.memoizedState,n.updateQueue=r.updateQueue,n.type=r.type,a=r.dependencies,n.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),n}function Mu(n,a,r,o,f,g){var E=0;if(o=n,typeof n=="function")Pf(n)&&(E=1);else if(typeof n=="string")E=QA(n,r,Qt.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case p:return lr(r.children,f,g,a);case y:E=8,f|=24;break;case v:return n=Yn(12,r,a,f|2),n.elementType=v,n.lanes=g,n;case V:return n=Yn(13,r,a,f),n.elementType=V,n.lanes=g,n;case B:return n=Yn(19,r,a,f),n.elementType=B,n.lanes=g,n;case $:return I_(r,f,g,a);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case A:case j:E=10;break e;case S:E=9;break e;case O:E=11;break e;case F:E=14;break e;case G:E=16,o=null;break e}E=29,r=Error(i(130,n===null?"null":typeof n,"")),o=null}return a=Yn(E,r,a,f),a.elementType=n,a.type=o,a.lanes=g,a}function lr(n,a,r,o){return n=Yn(7,n,o,a),n.lanes=r,n}function I_(n,a,r,o){n=Yn(22,n,o,a),n.elementType=$,n.lanes=r;var f={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var g=f._current;if(g===null)throw Error(i(456));if((f._pendingVisibility&2)===0){var E=Fa(g,2);E!==null&&(f._pendingVisibility|=2,pn(E,g,2))}},attach:function(){var g=f._current;if(g===null)throw Error(i(456));if((f._pendingVisibility&2)!==0){var E=Fa(g,2);E!==null&&(f._pendingVisibility&=-3,pn(E,g,2))}}};return n.stateNode=f,n}function Uf(n,a,r){return n=Yn(6,n,null,a),n.lanes=r,n}function Vf(n,a,r){return a=Yn(4,n.children!==null?n.children:[],n.key,a),a.lanes=r,a.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},a}function ha(n){n.flags|=4}function j_(n,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!pv(a)){if(a=Gn.current,a!==null&&((Ke&4194176)===Ke?Is!==null:(Ke&62914560)!==Ke&&(Ke&536870912)===0||a!==Is))throw _o=qh,Yp;n.flags|=8192}}function Lu(n,a){a!==null&&(n.flags|=4),n.flags&16384&&(a=n.tag!==22?Da():536870912,n.lanes|=a,cl|=a)}function Mo(n,a){if(!Qe)switch(n.tailMode){case"hidden":a=n.tail;for(var r=null;a!==null;)a.alternate!==null&&(r=a),a=a.sibling;r===null?n.tail=null:r.sibling=null;break;case"collapsed":r=n.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?a||n.tail===null?n.tail=null:n.tail.sibling=null:o.sibling=null}}function ut(n){var a=n.alternate!==null&&n.alternate.child===n.child,r=0,o=0;if(a)for(var f=n.child;f!==null;)r|=f.lanes|f.childLanes,o|=f.subtreeFlags&31457280,o|=f.flags&31457280,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)r|=f.lanes|f.childLanes,o|=f.subtreeFlags,o|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=o,n.childLanes=r,a}function uA(n,a,r){var o=a.pendingProps;switch(zh(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(a),null;case 1:return ut(a),null;case 3:return r=a.stateNode,o=null,n!==null&&(o=n.memoizedState.cache),a.memoizedState.cache!==o&&(a.flags|=2048),oa(Lt),Ct(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(mo(a)?ha(a):n===null||n.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,ls!==null&&($f(ls),ls=null))),ut(a),null;case 26:return r=a.memoizedState,n===null?(ha(a),r!==null?(ut(a),j_(a,r)):(ut(a),a.flags&=-16777217)):r?r!==n.memoizedState?(ha(a),ut(a),j_(a,r)):(ut(a),a.flags&=-16777217):(n.memoizedProps!==o&&ha(a),ut(a),a.flags&=-16777217),null;case 27:An(a),r=vn.current;var f=a.type;if(n!==null&&a.stateNode!=null)n.memoizedProps!==o&&ha(a);else{if(!o){if(a.stateNode===null)throw Error(i(166));return ut(a),null}n=Qt.current,mo(a)?$p(a):(n=ov(f,o,r),a.stateNode=n,ha(a))}return ut(a),null;case 5:if(An(a),r=a.type,n!==null&&a.stateNode!=null)n.memoizedProps!==o&&ha(a);else{if(!o){if(a.stateNode===null)throw Error(i(166));return ut(a),null}if(n=Qt.current,mo(a))$p(a);else{switch(f=$u(vn.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof o.is=="string"?f.createElement("select",{is:o.is}):f.createElement("select"),o.multiple?n.multiple=!0:o.size&&(n.size=o.size);break;default:n=typeof o.is=="string"?f.createElement(r,{is:o.is}):f.createElement(r)}}n[zt]=a,n[jt]=o;e:for(f=a.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===a)break e;for(;f.sibling===null;){if(f.return===null||f.return===a)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}a.stateNode=n;e:switch(Jt(n,r,o),r){case"button":case"input":case"select":case"textarea":n=!!o.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&ha(a)}}return ut(a),a.flags&=-16777217,null;case 6:if(n&&a.stateNode!=null)n.memoizedProps!==o&&ha(a);else{if(typeof o!="string"&&a.stateNode===null)throw Error(i(166));if(n=vn.current,mo(a)){if(n=a.stateNode,r=a.memoizedProps,o=null,f=gn,f!==null)switch(f.tag){case 27:case 5:o=f.memoizedProps}n[zt]=a,n=!!(n.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||nv(n.nodeValue,r)),n||Xi(a)}else n=$u(n).createTextNode(o),n[zt]=a,a.stateNode=n}return ut(a),null;case 13:if(o=a.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=mo(a),o!==null&&o.dehydrated!==null){if(n===null){if(!f)throw Error(i(318));if(f=a.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[zt]=a}else go(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ut(a),f=!1}else ls!==null&&($f(ls),ls=null),f=!0;if(!f)return a.flags&256?(aa(a),a):(aa(a),null)}if(aa(a),(a.flags&128)!==0)return a.lanes=r,a;if(r=o!==null,n=n!==null&&n.memoizedState!==null,r){o=a.child,f=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(f=o.alternate.memoizedState.cachePool.pool);var g=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(g=o.memoizedState.cachePool.pool),g!==f&&(o.flags|=2048)}return r!==n&&r&&(a.child.flags|=8192),Lu(a,a.updateQueue),ut(a),null;case 4:return Ct(),n===null&&am(a.stateNode.containerInfo),ut(a),null;case 10:return oa(a.type),ut(a),null;case 19:if(it(Mt),f=a.memoizedState,f===null)return ut(a),null;if(o=(a.flags&128)!==0,g=f.rendering,g===null)if(o)Mo(f,!1);else{if(pt!==0||n!==null&&(n.flags&128)!==0)for(n=a.child;n!==null;){if(g=vu(n),g!==null){for(a.flags|=128,Mo(f,!1),n=g.updateQueue,a.updateQueue=n,Lu(a,n),a.subtreeFlags=0,n=r,r=a.child;r!==null;)C_(r,n),r=r.sibling;return We(Mt,Mt.current&1|2),a.child}n=n.sibling}f.tail!==null&&Yt()>Pu&&(a.flags|=128,o=!0,Mo(f,!1),a.lanes=4194304)}else{if(!o)if(n=vu(g),n!==null){if(a.flags|=128,o=!0,n=n.updateQueue,a.updateQueue=n,Lu(a,n),Mo(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!Qe)return ut(a),null}else 2*Yt()-f.renderingStartTime>Pu&&r!==536870912&&(a.flags|=128,o=!0,Mo(f,!1),a.lanes=4194304);f.isBackwards?(g.sibling=a.child,a.child=g):(n=f.last,n!==null?n.sibling=g:a.child=g,f.last=g)}return f.tail!==null?(a=f.tail,f.rendering=a,f.tail=a.sibling,f.renderingStartTime=Yt(),a.sibling=null,n=Mt.current,We(Mt,o?n&1|2:n&1),a):(ut(a),null);case 22:case 23:return aa(a),Fh(),o=a.memoizedState!==null,n!==null?n.memoizedState!==null!==o&&(a.flags|=8192):o&&(a.flags|=8192),o?(r&536870912)!==0&&(a.flags&128)===0&&(ut(a),a.subtreeFlags&6&&(a.flags|=8192)):ut(a),r=a.updateQueue,r!==null&&Lu(a,r.retryQueue),r=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(r=n.memoizedState.cachePool.pool),o=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(o=a.memoizedState.cachePool.pool),o!==r&&(a.flags|=2048),n!==null&&it(Ji),null;case 24:return r=null,n!==null&&(r=n.memoizedState.cache),a.memoizedState.cache!==r&&(a.flags|=2048),oa(Lt),ut(a),null;case 25:return null}throw Error(i(156,a.tag))}function dA(n,a){switch(zh(a),a.tag){case 1:return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 3:return oa(Lt),Ct(),n=a.flags,(n&65536)!==0&&(n&128)===0?(a.flags=n&-65537|128,a):null;case 26:case 27:case 5:return An(a),null;case 13:if(aa(a),n=a.memoizedState,n!==null&&n.dehydrated!==null){if(a.alternate===null)throw Error(i(340));go()}return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 19:return it(Mt),null;case 4:return Ct(),null;case 10:return oa(a.type),null;case 22:case 23:return aa(a),Fh(),n!==null&&it(Ji),n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 24:return oa(Lt),null;case 25:return null;default:return null}}function D_(n,a){switch(zh(a),a.tag){case 3:oa(Lt),Ct();break;case 26:case 27:case 5:An(a);break;case 4:Ct();break;case 13:aa(a);break;case 19:it(Mt);break;case 10:oa(a.type);break;case 22:case 23:aa(a),Fh(),n!==null&&it(Ji);break;case 24:oa(Lt)}}var hA={getCacheForType:function(n){var a=rn(Lt),r=a.data.get(n);return r===void 0&&(r=n(),a.data.set(n,r)),r}},fA=typeof WeakMap=="function"?WeakMap:Map,dt=0,st=null,Le=null,Ke=0,at=0,Cn=null,fa=!1,ol=!1,Bf=!1,ma=0,pt=0,ai=0,or=0,zf=0,Wn=0,cl=0,Lo=null,Ds=null,Hf=!1,qf=0,Pu=1/0,Uu=null,ii=null,Vu=!1,cr=null,Po=0,Kf=0,Ff=null,Uo=0,Gf=null;function In(){if((dt&2)!==0&&Ke!==0)return Ke&-Ke;if(b.T!==null){var n=el;return n!==0?n:em()}return Fc()}function O_(){Wn===0&&(Wn=(Ke&536870912)===0||Qe?Yl():536870912);var n=Gn.current;return n!==null&&(n.flags|=32),Wn}function pn(n,a,r){(n===st&&at===2||n.cancelPendingCommit!==null)&&(ul(n,0),ga(n,Ke,Wn,!1)),bt(n,r),((dt&2)===0||n!==st)&&(n===st&&((dt&2)===0&&(or|=r),pt===4&&ga(n,Ke,Wn,!1)),Os(n))}function M_(n,a,r){if((dt&6)!==0)throw Error(i(327));var o=!r&&(a&60)===0&&(a&n.expiredLanes)===0||ja(n,a),f=o?pA(n,a):Wf(n,a,!0),g=o;do{if(f===0){ol&&!o&&ga(n,a,0,!1);break}else if(f===6)ga(n,a,0,!fa);else{if(r=n.current.alternate,g&&!mA(r)){f=Wf(n,a,!1),g=!1;continue}if(f===2){if(g=a,n.errorRecoveryDisabledLanes&g)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){a=E;e:{var R=n;f=Lo;var M=R.current.memoizedState.isDehydrated;if(M&&(ul(R,E).flags|=256),E=Wf(R,E,!1),E!==2){if(Bf&&!M){R.errorRecoveryDisabledLanes|=g,or|=g,f=4;break e}g=Ds,Ds=f,g!==null&&$f(g)}f=E}if(g=!1,f!==2)continue}}if(f===1){ul(n,0),ga(n,a,0,!0);break}e:{switch(o=n,f){case 0:case 1:throw Error(i(345));case 4:if((a&4194176)===a){ga(o,a,Wn,!fa);break e}break;case 2:Ds=null;break;case 3:case 5:break;default:throw Error(i(329))}if(o.finishedWork=r,o.finishedLanes=a,(a&62914560)===a&&(g=qf+300-Yt(),10<g)){if(ga(o,a,Wn,!fa),Ln(o,0)!==0)break e;o.timeoutHandle=iv(L_.bind(null,o,r,Ds,Uu,Hf,a,Wn,or,cl,fa,2,-0,0),g);break e}L_(o,r,Ds,Uu,Hf,a,Wn,or,cl,fa,0,-0,0)}}break}while(!0);Os(n)}function $f(n){Ds===null?Ds=n:Ds.push.apply(Ds,n)}function L_(n,a,r,o,f,g,E,R,M,K,re,de,Z){var ie=a.subtreeFlags;if((ie&8192||(ie&16785408)===16785408)&&(Ko={stylesheets:null,count:0,unsuspend:YA},w_(a),a=XA(),a!==null)){n.cancelPendingCommit=a(q_.bind(null,n,r,o,f,E,R,M,1,de,Z)),ga(n,g,E,!K);return}q_(n,r,o,f,E,R,M,re,de,Z)}function mA(n){for(var a=n;;){var r=a.tag;if((r===0||r===11||r===15)&&a.flags&16384&&(r=a.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var f=r[o],g=f.getSnapshot;f=f.value;try{if(!Nn(g(),f))return!1}catch{return!1}}if(r=a.child,a.subtreeFlags&16384&&r!==null)r.return=a,a=r;else{if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ga(n,a,r,o){a&=~zf,a&=~or,n.suspendedLanes|=a,n.pingedLanes&=~a,o&&(n.warmLanes|=a),o=n.expirationTimes;for(var f=a;0<f;){var g=31-hn(f),E=1<<g;o[g]=-1,f&=~E}r!==0&&Oa(n,r,a)}function Bu(){return(dt&6)===0?(Vo(0),!1):!0}function Qf(){if(Le!==null){if(at===0)var n=Le.return;else n=Le,la=ar=null,Jh(n),Zr=null,vo=0,n=Le;for(;n!==null;)D_(n.alternate,n),n=n.return;Le=null}}function ul(n,a){n.finishedWork=null,n.finishedLanes=0;var r=n.timeoutHandle;r!==-1&&(n.timeoutHandle=-1,DA(r)),r=n.cancelPendingCommit,r!==null&&(n.cancelPendingCommit=null,r()),Qf(),st=n,Le=r=si(n.current,null),Ke=a,at=0,Cn=null,fa=!1,ol=ja(n,a),Bf=!1,cl=Wn=zf=or=ai=pt=0,Ds=Lo=null,Hf=!1,(a&8)!==0&&(a|=a&32);var o=n.entangledLanes;if(o!==0)for(n=n.entanglements,o&=a;0<o;){var f=31-hn(o),g=1<<f;a|=n[f],o&=~g}return ma=a,uu(),r}function P_(n,a){Oe=null,b.H=js,a===yo?(a=Zp(),at=3):a===Yp?(a=Zp(),at=4):at=a===Wy?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Cn=a,Le===null&&(pt=1,Cu(n,qn(a,n.current)))}function U_(){var n=b.H;return b.H=js,n===null?js:n}function V_(){var n=b.A;return b.A=hA,n}function Yf(){pt=4,fa||(Ke&4194176)!==Ke&&Gn.current!==null||(ol=!0),(ai&134217727)===0&&(or&134217727)===0||st===null||ga(st,Ke,Wn,!1)}function Wf(n,a,r){var o=dt;dt|=2;var f=U_(),g=V_();(st!==n||Ke!==a)&&(Uu=null,ul(n,a)),a=!1;var E=pt;e:do try{if(at!==0&&Le!==null){var R=Le,M=Cn;switch(at){case 8:Qf(),E=6;break e;case 3:case 2:case 6:Gn.current===null&&(a=!0);var K=at;if(at=0,Cn=null,dl(n,R,M,K),r&&ol){E=0;break e}break;default:K=at,at=0,Cn=null,dl(n,R,M,K)}}gA(),E=pt;break}catch(re){P_(n,re)}while(!0);return a&&n.shellSuspendCounter++,la=ar=null,dt=o,b.H=f,b.A=g,Le===null&&(st=null,Ke=0,uu()),E}function gA(){for(;Le!==null;)B_(Le)}function pA(n,a){var r=dt;dt|=2;var o=U_(),f=V_();st!==n||Ke!==a?(Uu=null,Pu=Yt()+500,ul(n,a)):ol=ja(n,a);e:do try{if(at!==0&&Le!==null){a=Le;var g=Cn;t:switch(at){case 1:at=0,Cn=null,dl(n,a,g,1);break;case 2:if(Wp(g)){at=0,Cn=null,z_(a);break}a=function(){at===2&&st===n&&(at=7),Os(n)},g.then(a,a);break e;case 3:at=7;break e;case 4:at=5;break e;case 7:Wp(g)?(at=0,Cn=null,z_(a)):(at=0,Cn=null,dl(n,a,g,7));break;case 5:var E=null;switch(Le.tag){case 26:E=Le.memoizedState;case 5:case 27:var R=Le;if(!E||pv(E)){at=0,Cn=null;var M=R.sibling;if(M!==null)Le=M;else{var K=R.return;K!==null?(Le=K,zu(K)):Le=null}break t}}at=0,Cn=null,dl(n,a,g,5);break;case 6:at=0,Cn=null,dl(n,a,g,6);break;case 8:Qf(),pt=6;break e;default:throw Error(i(462))}}yA();break}catch(re){P_(n,re)}while(!0);return la=ar=null,b.H=o,b.A=f,dt=r,Le!==null?0:(st=null,Ke=0,uu(),pt)}function yA(){for(;Le!==null&&!Fl();)B_(Le)}function B_(n){var a=o_(n.alternate,n,ma);n.memoizedProps=n.pendingProps,a===null?zu(n):Le=a}function z_(n){var a=n,r=a.alternate;switch(a.tag){case 15:case 0:a=n_(r,a,a.pendingProps,a.type,void 0,Ke);break;case 11:a=n_(r,a,a.pendingProps,a.type.render,a.ref,Ke);break;case 5:Jh(a);default:D_(r,a),a=Le=C_(a,ma),a=o_(r,a,ma)}n.memoizedProps=n.pendingProps,a===null?zu(n):Le=a}function dl(n,a,r,o){la=ar=null,Jh(a),Zr=null,vo=0;var f=a.return;try{if(iA(n,f,a,r,Ke)){pt=1,Cu(n,qn(r,n.current)),Le=null;return}}catch(g){if(f!==null)throw Le=f,g;pt=1,Cu(n,qn(r,n.current)),Le=null;return}a.flags&32768?(Qe||o===1?n=!0:ol||(Ke&536870912)!==0?n=!1:(fa=n=!0,(o===2||o===3||o===6)&&(o=Gn.current,o!==null&&o.tag===13&&(o.flags|=16384))),H_(a,n)):zu(a)}function zu(n){var a=n;do{if((a.flags&32768)!==0){H_(a,fa);return}n=a.return;var r=uA(a.alternate,a,ma);if(r!==null){Le=r;return}if(a=a.sibling,a!==null){Le=a;return}Le=a=n}while(a!==null);pt===0&&(pt=5)}function H_(n,a){do{var r=dA(n.alternate,n);if(r!==null){r.flags&=32767,Le=r;return}if(r=n.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!a&&(n=n.sibling,n!==null)){Le=n;return}Le=n=r}while(n!==null);pt=6,Le=null}function q_(n,a,r,o,f,g,E,R,M,K){var re=b.T,de=me.p;try{me.p=2,b.T=null,_A(n,a,r,o,de,f,g,E,R,M,K)}finally{b.T=re,me.p=de}}function _A(n,a,r,o,f,g,E,R){do hl();while(cr!==null);if((dt&6)!==0)throw Error(i(327));var M=n.finishedWork;if(o=n.finishedLanes,M===null)return null;if(n.finishedWork=null,n.finishedLanes=0,M===n.current)throw Error(i(177));n.callbackNode=null,n.callbackPriority=0,n.cancelPendingCommit=null;var K=M.lanes|M.childLanes;if(K|=Uh,qc(n,o,K,g,E,R),n===st&&(Le=st=null,Ke=0),(M.subtreeFlags&10256)===0&&(M.flags&10256)===0||Vu||(Vu=!0,Kf=K,Ff=r,bA(Gs,function(){return hl(),null})),r=(M.flags&15990)!==0,(M.subtreeFlags&15990)!==0||r?(r=b.T,b.T=null,g=me.p,me.p=2,E=dt,dt|=4,lA(n,M),T_(M,n),HT(om,n.containerInfo),Ju=!!lm,om=lm=null,n.current=M,v_(n,M.alternate,M),Di(),dt=E,me.p=g,b.T=r):n.current=M,Vu?(Vu=!1,cr=n,Po=o):K_(n,K),K=n.pendingLanes,K===0&&(ii=null),$l(M.stateNode),Os(n),a!==null)for(f=n.onRecoverableError,M=0;M<a.length;M++)K=a[M],f(K.value,{componentStack:K.stack});return(Po&3)!==0&&hl(),K=n.pendingLanes,(o&4194218)!==0&&(K&42)!==0?n===Gf?Uo++:(Uo=0,Gf=n):Uo=0,Vo(0),null}function K_(n,a){(n.pooledCacheLanes&=a)===0&&(a=n.pooledCache,a!=null&&(n.pooledCache=null,Eo(a)))}function hl(){if(cr!==null){var n=cr,a=Kf;Kf=0;var r=Kc(Po),o=b.T,f=me.p;try{if(me.p=32>r?32:r,b.T=null,cr===null)var g=!1;else{r=Ff,Ff=null;var E=cr,R=Po;if(cr=null,Po=0,(dt&6)!==0)throw Error(i(331));var M=dt;if(dt|=4,R_(E.current),S_(E,E.current,R,r),dt=M,Vo(0,!1),an&&typeof an.onPostCommitFiberRoot=="function")try{an.onPostCommitFiberRoot(Ca,E)}catch{}g=!0}return g}finally{me.p=f,b.T=o,K_(n,a)}}return!1}function F_(n,a,r){a=qn(r,a),a=mf(n.stateNode,a,2),n=Ja(n,a,2),n!==null&&(bt(n,2),Os(n))}function nt(n,a,r){if(n.tag===3)F_(n,n,r);else for(;a!==null;){if(a.tag===3){F_(a,n,r);break}else if(a.tag===1){var o=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(ii===null||!ii.has(o))){n=qn(r,n),r=Qy(2),o=Ja(a,r,2),o!==null&&(Yy(r,o,a,n),bt(o,2),Os(o));break}}a=a.return}}function Xf(n,a,r){var o=n.pingCache;if(o===null){o=n.pingCache=new fA;var f=new Set;o.set(a,f)}else f=o.get(a),f===void 0&&(f=new Set,o.set(a,f));f.has(r)||(Bf=!0,f.add(r),n=vA.bind(null,n,a,r),a.then(n,n))}function vA(n,a,r){var o=n.pingCache;o!==null&&o.delete(a),n.pingedLanes|=n.suspendedLanes&r,n.warmLanes&=~r,st===n&&(Ke&r)===r&&(pt===4||pt===3&&(Ke&62914560)===Ke&&300>Yt()-qf?(dt&2)===0&&ul(n,0):zf|=r,cl===Ke&&(cl=0)),Os(n)}function G_(n,a){a===0&&(a=Da()),n=Fa(n,a),n!==null&&(bt(n,a),Os(n))}function xA(n){var a=n.memoizedState,r=0;a!==null&&(r=a.retryLane),G_(n,r)}function EA(n,a){var r=0;switch(n.tag){case 13:var o=n.stateNode,f=n.memoizedState;f!==null&&(r=f.retryLane);break;case 19:o=n.stateNode;break;case 22:o=n.stateNode._retryCache;break;default:throw Error(i(314))}o!==null&&o.delete(a),G_(n,r)}function bA(n,a){return _s(n,a)}var Hu=null,fl=null,Zf=!1,qu=!1,Jf=!1,ur=0;function Os(n){n!==fl&&n.next===null&&(fl===null?Hu=fl=n:fl=fl.next=n),qu=!0,Zf||(Zf=!0,AA(TA))}function Vo(n,a){if(!Jf&&qu){Jf=!0;do for(var r=!1,o=Hu;o!==null;){if(n!==0){var f=o.pendingLanes;if(f===0)var g=0;else{var E=o.suspendedLanes,R=o.pingedLanes;g=(1<<31-hn(42|n)+1)-1,g&=f&~(E&~R),g=g&201326677?g&201326677|1:g?g|2:0}g!==0&&(r=!0,Y_(o,g))}else g=Ke,g=Ln(o,o===st?g:0),(g&3)===0||ja(o,g)||(r=!0,Y_(o,g));o=o.next}while(r);Jf=!1}}function TA(){qu=Zf=!1;var n=0;ur!==0&&(jA()&&(n=ur),ur=0);for(var a=Yt(),r=null,o=Hu;o!==null;){var f=o.next,g=$_(o,a);g===0?(o.next=null,r===null?Hu=f:r.next=f,f===null&&(fl=r)):(r=o,(n!==0||(g&3)!==0)&&(qu=!0)),o=f}Vo(n)}function $_(n,a){for(var r=n.suspendedLanes,o=n.pingedLanes,f=n.expirationTimes,g=n.pendingLanes&-62914561;0<g;){var E=31-hn(g),R=1<<E,M=f[E];M===-1?((R&r)===0||(R&o)!==0)&&(f[E]=Ir(R,a)):M<=a&&(n.expiredLanes|=R),g&=~R}if(a=st,r=Ke,r=Ln(n,n===a?r:0),o=n.callbackNode,r===0||n===a&&at===2||n.cancelPendingCommit!==null)return o!==null&&o!==null&&ka(o),n.callbackNode=null,n.callbackPriority=0;if((r&3)===0||ja(n,r)){if(a=r&-r,a===n.callbackPriority)return a;switch(o!==null&&ka(o),Kc(r)){case 2:case 8:r=Bt;break;case 32:r=Gs;break;case 268435456:r=Gl;break;default:r=Gs}return o=Q_.bind(null,n),r=_s(r,o),n.callbackPriority=a,n.callbackNode=r,a}return o!==null&&o!==null&&ka(o),n.callbackPriority=2,n.callbackNode=null,2}function Q_(n,a){var r=n.callbackNode;if(hl()&&n.callbackNode!==r)return null;var o=Ke;return o=Ln(n,n===st?o:0),o===0?null:(M_(n,o,a),$_(n,Yt()),n.callbackNode!=null&&n.callbackNode===r?Q_.bind(null,n):null)}function Y_(n,a){if(hl())return null;M_(n,a,!0)}function AA(n){OA(function(){(dt&6)!==0?_s(It,n):n()})}function em(){return ur===0&&(ur=Yl()),ur}function W_(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Ts(""+n)}function X_(n,a){var r=a.ownerDocument.createElement("input");return r.name=a.name,r.value=a.value,n.id&&r.setAttribute("form",n.id),a.parentNode.insertBefore(r,a),n=new FormData(n),r.parentNode.removeChild(r),n}function SA(n,a,r,o,f){if(a==="submit"&&r&&r.stateNode===f){var g=W_((f[jt]||null).action),E=o.submitter;E&&(a=(a=E[jt]||null)?W_(a.formAction):E.getAttribute("formAction"),a!==null&&(g=a,E=null));var R=new Ur("action","action",null,o,f);n.push({event:R,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(ur!==0){var M=E?X_(f,E):new FormData(f);cf(r,{pending:!0,data:M,method:f.method,action:g},null,M)}}else typeof g=="function"&&(R.preventDefault(),M=E?X_(f,E):new FormData(f),cf(r,{pending:!0,data:M,method:f.method,action:g},g,M))},currentTarget:f}]})}}for(var tm=0;tm<qp.length;tm++){var nm=qp[tm],wA=nm.toLowerCase(),NA=nm[0].toUpperCase()+nm.slice(1);rs(wA,"on"+NA)}rs(Up,"onAnimationEnd"),rs(Vp,"onAnimationIteration"),rs(Bp,"onAnimationStart"),rs("dblclick","onDoubleClick"),rs("focusin","onFocus"),rs("focusout","onBlur"),rs(KT,"onTransitionRun"),rs(FT,"onTransitionStart"),rs(GT,"onTransitionCancel"),rs(zp,"onTransitionEnd"),xn("onMouseEnter",["mouseout","mouseover"]),xn("onMouseLeave",["mouseout","mouseover"]),xn("onPointerEnter",["pointerout","pointerover"]),xn("onPointerLeave",["pointerout","pointerover"]),Sn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Sn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Sn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Sn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Sn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Sn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bo));function Z_(n,a){a=(a&4)!==0;for(var r=0;r<n.length;r++){var o=n[r],f=o.event;o=o.listeners;e:{var g=void 0;if(a)for(var E=o.length-1;0<=E;E--){var R=o[E],M=R.instance,K=R.currentTarget;if(R=R.listener,M!==g&&f.isPropagationStopped())break e;g=R,f.currentTarget=K;try{g(f)}catch(re){ku(re)}f.currentTarget=null,g=M}else for(E=0;E<o.length;E++){if(R=o[E],M=R.instance,K=R.currentTarget,R=R.listener,M!==g&&f.isPropagationStopped())break e;g=R,f.currentTarget=K;try{g(f)}catch(re){ku(re)}f.currentTarget=null,g=M}}}}function Ve(n,a){var r=a[Mi];r===void 0&&(r=a[Mi]=new Set);var o=n+"__bubble";r.has(o)||(J_(a,n,2,!1),r.add(o))}function sm(n,a,r){var o=0;a&&(o|=4),J_(r,n,o,a)}var Ku="_reactListening"+Math.random().toString(36).slice(2);function am(n){if(!n[Ku]){n[Ku]=!0,Xl.forEach(function(r){r!=="selectionchange"&&(RA.has(r)||sm(r,!1,n),sm(r,!0,n))});var a=n.nodeType===9?n:n.ownerDocument;a===null||a[Ku]||(a[Ku]=!0,sm("selectionchange",!1,a))}}function J_(n,a,r,o){switch(bv(a)){case 2:var f=eS;break;case 8:f=tS;break;default:f=ym}r=f.bind(null,a,r,n),f=void 0,!Bn||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(f=!0),o?f!==void 0?n.addEventListener(a,r,{capture:!0,passive:f}):n.addEventListener(a,r,!0):f!==void 0?n.addEventListener(a,r,{passive:f}):n.addEventListener(a,r,!1)}function im(n,a,r,o,f){var g=o;if((a&1)===0&&(a&2)===0&&o!==null)e:for(;;){if(o===null)return;var E=o.tag;if(E===3||E===4){var R=o.stateNode.containerInfo;if(R===f||R.nodeType===8&&R.parentNode===f)break;if(E===4)for(E=o.return;E!==null;){var M=E.tag;if((M===3||M===4)&&(M=E.stateNode.containerInfo,M===f||M.nodeType===8&&M.parentNode===f))return;E=E.return}for(;R!==null;){if(E=is(R),E===null)return;if(M=E.tag,M===5||M===6||M===26||M===27){o=g=E;continue e}R=R.parentNode}}o=o.return}Yc(function(){var K=g,re=Pr(r),de=[];e:{var Z=Hp.get(n);if(Z!==void 0){var ie=Ur,Ee=n;switch(n){case"keypress":if(Ss(r)===0)break e;case"keydown":case"keyup":ie=Kr;break;case"focusin":Ee="focus",ie=zr;break;case"focusout":Ee="blur",ie=zr;break;case"beforeblur":case"afterblur":ie=zr;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=zn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=Ch;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=su;break;case Up:case Vp:case Bp:ie=Hr;break;case zp:ie=iu;break;case"scroll":case"scrollend":ie=Wc;break;case"wheel":ie=Fr;break;case"copy":case"cut":case"paste":ie=qr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=co;break;case"toggle":case"beforetoggle":ie=lu}var Ce=(a&4)!==0,yt=!Ce&&(n==="scroll"||n==="scrollend"),Q=Ce?Z!==null?Z+"Capture":null:Z;Ce=[];for(var q=K,W;q!==null;){var oe=q;if(W=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||W===null||Q===null||(oe=Bi(q,Q),oe!=null&&Ce.push(zo(q,oe,W))),yt)break;q=q.return}0<Ce.length&&(Z=new ie(Z,Ee,null,r,re),de.push({event:Z,listeners:Ce}))}}if((a&7)===0){e:{if(Z=n==="mouseover"||n==="pointerover",ie=n==="mouseout"||n==="pointerout",Z&&r!==Vn&&(Ee=r.relatedTarget||r.fromElement)&&(is(Ee)||Ee[$s]))break e;if((ie||Z)&&(Z=re.window===re?re:(Z=re.ownerDocument)?Z.defaultView||Z.parentWindow:window,ie?(Ee=r.relatedTarget||r.toElement,ie=K,Ee=Ee?is(Ee):null,Ee!==null&&(yt=ae(Ee),Ce=Ee.tag,Ee!==yt||Ce!==5&&Ce!==27&&Ce!==6)&&(Ee=null)):(ie=null,Ee=K),ie!==Ee)){if(Ce=zn,oe="onMouseLeave",Q="onMouseEnter",q="mouse",(n==="pointerout"||n==="pointerover")&&(Ce=co,oe="onPointerLeave",Q="onPointerEnter",q="pointer"),yt=ie==null?Z:Ua(ie),W=Ee==null?Z:Ua(Ee),Z=new Ce(oe,q+"leave",ie,r,re),Z.target=yt,Z.relatedTarget=W,oe=null,is(re)===K&&(Ce=new Ce(Q,q+"enter",Ee,r,re),Ce.target=W,Ce.relatedTarget=yt,oe=Ce),yt=oe,ie&&Ee)t:{for(Ce=ie,Q=Ee,q=0,W=Ce;W;W=ml(W))q++;for(W=0,oe=Q;oe;oe=ml(oe))W++;for(;0<q-W;)Ce=ml(Ce),q--;for(;0<W-q;)Q=ml(Q),W--;for(;q--;){if(Ce===Q||Q!==null&&Ce===Q.alternate)break t;Ce=ml(Ce),Q=ml(Q)}Ce=null}else Ce=null;ie!==null&&ev(de,Z,ie,Ce,!1),Ee!==null&&yt!==null&&ev(de,yt,Ee,Ce,!0)}}e:{if(Z=K?Ua(K):window,ie=Z.nodeName&&Z.nodeName.toLowerCase(),ie==="select"||ie==="input"&&Z.type==="file")var xe=Np;else if(Ot(Z))if(Rp)xe=BT;else{xe=UT;var Me=PT}else ie=Z.nodeName,!ie||ie.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?K&&no(K.elementType)&&(xe=Np):xe=VT;if(xe&&(xe=xe(n,K))){ta(de,xe,r,re);break e}Me&&Me(n,Z,K),n==="focusout"&&K&&Z.type==="number"&&K.memoizedProps.value!=null&&Lr(Z,"number",Z.value)}switch(Me=K?Ua(K):window,n){case"focusin":(Ot(Me)||Me.contentEditable==="true")&&(Gr=Me,Mh=K,fo=null);break;case"focusout":fo=Mh=Gr=null;break;case"mousedown":Lh=!0;break;case"contextmenu":case"mouseup":case"dragend":Lh=!1,Lp(de,r,re);break;case"selectionchange":if(qT)break;case"keydown":case"keyup":Lp(de,r,re)}var be;if(Rs)e:{switch(n){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else He?te(n,r)&&(Ae="onCompositionEnd"):n==="keydown"&&r.keyCode===229&&(Ae="onCompositionStart");Ae&&(x&&r.locale!=="ko"&&(He||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&He&&(be=ao()):(As=re,Ka="value"in As?As.value:As.textContent,He=!0)),Me=Fu(K,Ae),0<Me.length&&(Ae=new lo(Ae,n,null,r,re),de.push({event:Ae,listeners:Me}),be?Ae.data=be:(be=fe(r),be!==null&&(Ae.data=be)))),(be=_?Dt(n,r):qe(n,r))&&(Ae=Fu(K,"onBeforeInput"),0<Ae.length&&(Me=new lo("onBeforeInput","beforeinput",null,r,re),de.push({event:Me,listeners:Ae}),Me.data=be)),SA(de,n,K,r,re)}Z_(de,a)})}function zo(n,a,r){return{instance:n,listener:a,currentTarget:r}}function Fu(n,a){for(var r=a+"Capture",o=[];n!==null;){var f=n,g=f.stateNode;f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=Bi(n,r),f!=null&&o.unshift(zo(n,f,g)),f=Bi(n,a),f!=null&&o.push(zo(n,f,g))),n=n.return}return o}function ml(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function ev(n,a,r,o,f){for(var g=a._reactName,E=[];r!==null&&r!==o;){var R=r,M=R.alternate,K=R.stateNode;if(R=R.tag,M!==null&&M===o)break;R!==5&&R!==26&&R!==27||K===null||(M=K,f?(K=Bi(r,g),K!=null&&E.unshift(zo(r,K,M))):f||(K=Bi(r,g),K!=null&&E.push(zo(r,K,M)))),r=r.return}E.length!==0&&n.push({event:a,listeners:E})}var kA=/\r\n?/g,CA=/\u0000|\uFFFD/g;function tv(n){return(typeof n=="string"?n:""+n).replace(kA,`
`).replace(CA,"")}function nv(n,a){return a=tv(a),tv(n)===a}function Gu(){}function tt(n,a,r,o,f,g){switch(r){case"children":typeof o=="string"?a==="body"||a==="textarea"&&o===""||Un(n,o):(typeof o=="number"||typeof o=="bigint")&&a!=="body"&&Un(n,""+o);break;case"className":za(n,"class",o);break;case"tabIndex":za(n,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":za(n,r,o);break;case"style":Qc(n,o,g);break;case"data":if(a!=="object"){za(n,"data",o);break}case"src":case"href":if(o===""&&(a!=="a"||r!=="href")){n.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){n.removeAttribute(r);break}o=Ts(""+o),n.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){n.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(r==="formAction"?(a!=="input"&&tt(n,a,"name",f.name,f,null),tt(n,a,"formEncType",f.formEncType,f,null),tt(n,a,"formMethod",f.formMethod,f,null),tt(n,a,"formTarget",f.formTarget,f,null)):(tt(n,a,"encType",f.encType,f,null),tt(n,a,"method",f.method,f,null),tt(n,a,"target",f.target,f,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){n.removeAttribute(r);break}o=Ts(""+o),n.setAttribute(r,o);break;case"onClick":o!=null&&(n.onclick=Gu);break;case"onScroll":o!=null&&Ve("scroll",n);break;case"onScrollEnd":o!=null&&Ve("scrollend",n);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(r=o.__html,r!=null){if(f.children!=null)throw Error(i(60));n.innerHTML=r}}break;case"multiple":n.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":n.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){n.removeAttribute("xlink:href");break}r=Ts(""+o),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?n.setAttribute(r,""+o):n.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?n.setAttribute(r,""):n.removeAttribute(r);break;case"capture":case"download":o===!0?n.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?n.setAttribute(r,o):n.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?n.setAttribute(r,o):n.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?n.removeAttribute(r):n.setAttribute(r,o);break;case"popover":Ve("beforetoggle",n),Ve("toggle",n),Ba(n,"popover",o);break;case"xlinkActuate":Pn(n,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Pn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Pn(n,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Pn(n,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Pn(n,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Pn(n,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Pn(n,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Pn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Pn(n,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Ba(n,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Rh.get(r)||r,Ba(n,r,o))}}function rm(n,a,r,o,f,g){switch(r){case"style":Qc(n,o,g);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(r=o.__html,r!=null){if(f.children!=null)throw Error(i(60));n.innerHTML=r}}break;case"children":typeof o=="string"?Un(n,o):(typeof o=="number"||typeof o=="bigint")&&Un(n,""+o);break;case"onScroll":o!=null&&Ve("scroll",n);break;case"onScrollEnd":o!=null&&Ve("scrollend",n);break;case"onClick":o!=null&&(n.onclick=Gu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Or.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(f=r.endsWith("Capture"),a=r.slice(2,f?r.length-7:void 0),g=n[jt]||null,g=g!=null?g[r]:null,typeof g=="function"&&n.removeEventListener(a,g,f),typeof o=="function")){typeof g!="function"&&g!==null&&(r in n?n[r]=null:n.hasAttribute(r)&&n.removeAttribute(r)),n.addEventListener(a,o,f);break e}r in n?n[r]=o:o===!0?n.setAttribute(r,""):Ba(n,r,o)}}}function Jt(n,a,r){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",n),Ve("load",n);var o=!1,f=!1,g;for(g in r)if(r.hasOwnProperty(g)){var E=r[g];if(E!=null)switch(g){case"src":o=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:tt(n,a,g,E,r,null)}}f&&tt(n,a,"srcSet",r.srcSet,r,null),o&&tt(n,a,"src",r.src,r,null);return;case"input":Ve("invalid",n);var R=g=E=f=null,M=null,K=null;for(o in r)if(r.hasOwnProperty(o)){var re=r[o];if(re!=null)switch(o){case"name":f=re;break;case"type":E=re;break;case"checked":M=re;break;case"defaultChecked":K=re;break;case"value":g=re;break;case"defaultValue":R=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(i(137,a));break;default:tt(n,a,o,re,r,null)}}Ui(n,g,R,M,K,E,f,!1),Pi(n);return;case"select":Ve("invalid",n),o=E=g=null;for(f in r)if(r.hasOwnProperty(f)&&(R=r[f],R!=null))switch(f){case"value":g=R;break;case"defaultValue":E=R;break;case"multiple":o=R;default:tt(n,a,f,R,r,null)}a=g,r=E,n.multiple=!!o,a!=null?$e(n,!!o,a,!1):r!=null&&$e(n,!!o,r,!0);return;case"textarea":Ve("invalid",n),g=f=o=null;for(E in r)if(r.hasOwnProperty(E)&&(R=r[E],R!=null))switch(E){case"value":o=R;break;case"defaultValue":f=R;break;case"children":g=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(i(91));break;default:tt(n,a,E,R,r,null)}qa(n,o,f,g),Pi(n);return;case"option":for(M in r)if(r.hasOwnProperty(M)&&(o=r[M],o!=null))switch(M){case"selected":n.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:tt(n,a,M,o,r,null)}return;case"dialog":Ve("cancel",n),Ve("close",n);break;case"iframe":case"object":Ve("load",n);break;case"video":case"audio":for(o=0;o<Bo.length;o++)Ve(Bo[o],n);break;case"image":Ve("error",n),Ve("load",n);break;case"details":Ve("toggle",n);break;case"embed":case"source":case"link":Ve("error",n),Ve("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in r)if(r.hasOwnProperty(K)&&(o=r[K],o!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:tt(n,a,K,o,r,null)}return;default:if(no(a)){for(re in r)r.hasOwnProperty(re)&&(o=r[re],o!==void 0&&rm(n,a,re,o,r,void 0));return}}for(R in r)r.hasOwnProperty(R)&&(o=r[R],o!=null&&tt(n,a,R,o,r,null))}function IA(n,a,r,o){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,E=null,R=null,M=null,K=null,re=null;for(ie in r){var de=r[ie];if(r.hasOwnProperty(ie)&&de!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":M=de;default:o.hasOwnProperty(ie)||tt(n,a,ie,null,o,de)}}for(var Z in o){var ie=o[Z];if(de=r[Z],o.hasOwnProperty(Z)&&(ie!=null||de!=null))switch(Z){case"type":g=ie;break;case"name":f=ie;break;case"checked":K=ie;break;case"defaultChecked":re=ie;break;case"value":E=ie;break;case"defaultValue":R=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(i(137,a));break;default:ie!==de&&tt(n,a,Z,ie,o,de)}}Ha(n,E,R,M,K,re,g,f);return;case"select":ie=E=R=Z=null;for(g in r)if(M=r[g],r.hasOwnProperty(g)&&M!=null)switch(g){case"value":break;case"multiple":ie=M;default:o.hasOwnProperty(g)||tt(n,a,g,null,o,M)}for(f in o)if(g=o[f],M=r[f],o.hasOwnProperty(f)&&(g!=null||M!=null))switch(f){case"value":Z=g;break;case"defaultValue":R=g;break;case"multiple":E=g;default:g!==M&&tt(n,a,f,g,o,M)}a=R,r=E,o=ie,Z!=null?$e(n,!!r,Z,!1):!!o!=!!r&&(a!=null?$e(n,!!r,a,!0):$e(n,!!r,r?[]:"",!1));return;case"textarea":ie=Z=null;for(R in r)if(f=r[R],r.hasOwnProperty(R)&&f!=null&&!o.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:tt(n,a,R,null,o,f)}for(E in o)if(f=o[E],g=r[E],o.hasOwnProperty(E)&&(f!=null||g!=null))switch(E){case"value":Z=f;break;case"defaultValue":ie=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==g&&tt(n,a,E,f,o,g)}Vi(n,Z,ie);return;case"option":for(var Ee in r)if(Z=r[Ee],r.hasOwnProperty(Ee)&&Z!=null&&!o.hasOwnProperty(Ee))switch(Ee){case"selected":n.selected=!1;break;default:tt(n,a,Ee,null,o,Z)}for(M in o)if(Z=o[M],ie=r[M],o.hasOwnProperty(M)&&Z!==ie&&(Z!=null||ie!=null))switch(M){case"selected":n.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:tt(n,a,M,Z,o,ie)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ce in r)Z=r[Ce],r.hasOwnProperty(Ce)&&Z!=null&&!o.hasOwnProperty(Ce)&&tt(n,a,Ce,null,o,Z);for(K in o)if(Z=o[K],ie=r[K],o.hasOwnProperty(K)&&Z!==ie&&(Z!=null||ie!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,a));break;default:tt(n,a,K,Z,o,ie)}return;default:if(no(a)){for(var yt in r)Z=r[yt],r.hasOwnProperty(yt)&&Z!==void 0&&!o.hasOwnProperty(yt)&&rm(n,a,yt,void 0,o,Z);for(re in o)Z=o[re],ie=r[re],!o.hasOwnProperty(re)||Z===ie||Z===void 0&&ie===void 0||rm(n,a,re,Z,o,ie);return}}for(var Q in r)Z=r[Q],r.hasOwnProperty(Q)&&Z!=null&&!o.hasOwnProperty(Q)&&tt(n,a,Q,null,o,Z);for(de in o)Z=o[de],ie=r[de],!o.hasOwnProperty(de)||Z===ie||Z==null&&ie==null||tt(n,a,de,Z,o,ie)}var lm=null,om=null;function $u(n){return n.nodeType===9?n:n.ownerDocument}function sv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function av(n,a){if(n===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&a==="foreignObject"?0:n}function cm(n,a){return n==="textarea"||n==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var um=null;function jA(){var n=window.event;return n&&n.type==="popstate"?n===um?!1:(um=n,!0):(um=null,!1)}var iv=typeof setTimeout=="function"?setTimeout:void 0,DA=typeof clearTimeout=="function"?clearTimeout:void 0,rv=typeof Promise=="function"?Promise:void 0,OA=typeof queueMicrotask=="function"?queueMicrotask:typeof rv<"u"?function(n){return rv.resolve(null).then(n).catch(MA)}:iv;function MA(n){setTimeout(function(){throw n})}function dm(n,a){var r=a,o=0;do{var f=r.nextSibling;if(n.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(o===0){n.removeChild(f),Yo(a);return}o--}else r!=="$"&&r!=="$?"&&r!=="$!"||o++;r=f}while(r);Yo(a)}function hm(n){var a=n.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var r=a;switch(a=a.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":hm(r),Li(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}n.removeChild(r)}}function LA(n,a,r,o){for(;n.nodeType===1;){var f=r;if(n.nodeName.toLowerCase()!==a.toLowerCase()){if(!o&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(o){if(!n[Pa])switch(a){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(g=n.getAttribute("rel"),g==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(g!==f.rel||n.getAttribute("href")!==(f.href==null?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(g=n.getAttribute("src"),(g!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(a==="input"&&n.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===g)return n}else return n;if(n=cs(n.nextSibling),n===null)break}return null}function PA(n,a,r){if(a==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!r||(n=cs(n.nextSibling),n===null))return null;return n}function cs(n){for(;n!=null;n=n.nextSibling){var a=n.nodeType;if(a===1||a===3)break;if(a===8){if(a=n.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return n}function lv(n){n=n.previousSibling;for(var a=0;n;){if(n.nodeType===8){var r=n.data;if(r==="$"||r==="$!"||r==="$?"){if(a===0)return n;a--}else r==="/$"&&a++}n=n.previousSibling}return null}function ov(n,a,r){switch(a=$u(r),n){case"html":if(n=a.documentElement,!n)throw Error(i(452));return n;case"head":if(n=a.head,!n)throw Error(i(453));return n;case"body":if(n=a.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}var Xn=new Map,cv=new Set;function Qu(n){return typeof n.getRootNode=="function"?n.getRootNode():n.ownerDocument}var pa=me.d;me.d={f:UA,r:VA,D:BA,C:zA,L:HA,m:qA,X:FA,S:KA,M:GA};function UA(){var n=pa.f(),a=Bu();return n||a}function VA(n){var a=Qs(n);a!==null&&a.tag===5&&a.type==="form"?Ly(a):pa.r(n)}var gl=typeof document>"u"?null:document;function uv(n,a,r){var o=gl;if(o&&typeof a=="string"&&a){var f=mt(a);f='link[rel="'+n+'"][href="'+f+'"]',typeof r=="string"&&(f+='[crossorigin="'+r+'"]'),cv.has(f)||(cv.add(f),n={rel:n,crossOrigin:r,href:a},o.querySelector(f)===null&&(a=o.createElement("link"),Jt(a,"link",n),ct(a),o.head.appendChild(a)))}}function BA(n){pa.D(n),uv("dns-prefetch",n,null)}function zA(n,a){pa.C(n,a),uv("preconnect",n,a)}function HA(n,a,r){pa.L(n,a,r);var o=gl;if(o&&n&&a){var f='link[rel="preload"][as="'+mt(a)+'"]';a==="image"&&r&&r.imageSrcSet?(f+='[imagesrcset="'+mt(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(f+='[imagesizes="'+mt(r.imageSizes)+'"]')):f+='[href="'+mt(n)+'"]';var g=f;switch(a){case"style":g=pl(n);break;case"script":g=yl(n)}Xn.has(g)||(n=T({rel:"preload",href:a==="image"&&r&&r.imageSrcSet?void 0:n,as:a},r),Xn.set(g,n),o.querySelector(f)!==null||a==="style"&&o.querySelector(Ho(g))||a==="script"&&o.querySelector(qo(g))||(a=o.createElement("link"),Jt(a,"link",n),ct(a),o.head.appendChild(a)))}}function qA(n,a){pa.m(n,a);var r=gl;if(r&&n){var o=a&&typeof a.as=="string"?a.as:"script",f='link[rel="modulepreload"][as="'+mt(o)+'"][href="'+mt(n)+'"]',g=f;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=yl(n)}if(!Xn.has(g)&&(n=T({rel:"modulepreload",href:n},a),Xn.set(g,n),r.querySelector(f)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(qo(g)))return}o=r.createElement("link"),Jt(o,"link",n),ct(o),r.head.appendChild(o)}}}function KA(n,a,r){pa.S(n,a,r);var o=gl;if(o&&n){var f=Va(o).hoistableStyles,g=pl(n);a=a||"default";var E=f.get(g);if(!E){var R={loading:0,preload:null};if(E=o.querySelector(Ho(g)))R.loading=5;else{n=T({rel:"stylesheet",href:n,"data-precedence":a},r),(r=Xn.get(g))&&fm(n,r);var M=E=o.createElement("link");ct(M),Jt(M,"link",n),M._p=new Promise(function(K,re){M.onload=K,M.onerror=re}),M.addEventListener("load",function(){R.loading|=1}),M.addEventListener("error",function(){R.loading|=2}),R.loading|=4,Yu(E,a,o)}E={type:"stylesheet",instance:E,count:1,state:R},f.set(g,E)}}}function FA(n,a){pa.X(n,a);var r=gl;if(r&&n){var o=Va(r).hoistableScripts,f=yl(n),g=o.get(f);g||(g=r.querySelector(qo(f)),g||(n=T({src:n,async:!0},a),(a=Xn.get(f))&&mm(n,a),g=r.createElement("script"),ct(g),Jt(g,"link",n),r.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},o.set(f,g))}}function GA(n,a){pa.M(n,a);var r=gl;if(r&&n){var o=Va(r).hoistableScripts,f=yl(n),g=o.get(f);g||(g=r.querySelector(qo(f)),g||(n=T({src:n,async:!0,type:"module"},a),(a=Xn.get(f))&&mm(n,a),g=r.createElement("script"),ct(g),Jt(g,"link",n),r.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},o.set(f,g))}}function dv(n,a,r,o){var f=(f=vn.current)?Qu(f):null;if(!f)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(a=pl(r.href),r=Va(f).hoistableStyles,o=r.get(a),o||(o={type:"style",instance:null,count:0,state:null},r.set(a,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){n=pl(r.href);var g=Va(f).hoistableStyles,E=g.get(n);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(n,E),(g=f.querySelector(Ho(n)))&&!g._p&&(E.instance=g,E.state.loading=5),Xn.has(n)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Xn.set(n,r),g||$A(f,n,r,E.state))),a&&o===null)throw Error(i(528,""));return E}if(a&&o!==null)throw Error(i(529,""));return null;case"script":return a=r.async,r=r.src,typeof r=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=yl(r),r=Va(f).hoistableScripts,o=r.get(a),o||(o={type:"script",instance:null,count:0,state:null},r.set(a,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function pl(n){return'href="'+mt(n)+'"'}function Ho(n){return'link[rel="stylesheet"]['+n+"]"}function hv(n){return T({},n,{"data-precedence":n.precedence,precedence:null})}function $A(n,a,r,o){n.querySelector('link[rel="preload"][as="style"]['+a+"]")?o.loading=1:(a=n.createElement("link"),o.preload=a,a.addEventListener("load",function(){return o.loading|=1}),a.addEventListener("error",function(){return o.loading|=2}),Jt(a,"link",r),ct(a),n.head.appendChild(a))}function yl(n){return'[src="'+mt(n)+'"]'}function qo(n){return"script[async]"+n}function fv(n,a,r){if(a.count++,a.instance===null)switch(a.type){case"style":var o=n.querySelector('style[data-href~="'+mt(r.href)+'"]');if(o)return a.instance=o,ct(o),o;var f=T({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(n.ownerDocument||n).createElement("style"),ct(o),Jt(o,"style",f),Yu(o,r.precedence,n),a.instance=o;case"stylesheet":f=pl(r.href);var g=n.querySelector(Ho(f));if(g)return a.state.loading|=4,a.instance=g,ct(g),g;o=hv(r),(f=Xn.get(f))&&fm(o,f),g=(n.ownerDocument||n).createElement("link"),ct(g);var E=g;return E._p=new Promise(function(R,M){E.onload=R,E.onerror=M}),Jt(g,"link",o),a.state.loading|=4,Yu(g,r.precedence,n),a.instance=g;case"script":return g=yl(r.src),(f=n.querySelector(qo(g)))?(a.instance=f,ct(f),f):(o=r,(f=Xn.get(g))&&(o=T({},r),mm(o,f)),n=n.ownerDocument||n,f=n.createElement("script"),ct(f),Jt(f,"link",o),n.head.appendChild(f),a.instance=f);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(o=a.instance,a.state.loading|=4,Yu(o,r.precedence,n));return a.instance}function Yu(n,a,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=o.length?o[o.length-1]:null,g=f,E=0;E<o.length;E++){var R=o[E];if(R.dataset.precedence===a)g=R;else if(g!==f)break}g?g.parentNode.insertBefore(n,g.nextSibling):(a=r.nodeType===9?r.head:r,a.insertBefore(n,a.firstChild))}function fm(n,a){n.crossOrigin==null&&(n.crossOrigin=a.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=a.referrerPolicy),n.title==null&&(n.title=a.title)}function mm(n,a){n.crossOrigin==null&&(n.crossOrigin=a.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=a.referrerPolicy),n.integrity==null&&(n.integrity=a.integrity)}var Wu=null;function mv(n,a,r){if(Wu===null){var o=new Map,f=Wu=new Map;f.set(r,o)}else f=Wu,o=f.get(r),o||(o=new Map,f.set(r,o));if(o.has(n))return o;for(o.set(n,null),r=r.getElementsByTagName(n),f=0;f<r.length;f++){var g=r[f];if(!(g[Pa]||g[zt]||n==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var E=g.getAttribute(a)||"";E=n+E;var R=o.get(E);R?R.push(g):o.set(E,[g])}}return o}function gv(n,a,r){n=n.ownerDocument||n,n.head.insertBefore(r,a==="title"?n.querySelector("head > title"):null)}function QA(n,a,r){if(r===1||a.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return n=a.disabled,typeof a.precedence=="string"&&n==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function pv(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Ko=null;function YA(){}function WA(n,a,r){if(Ko===null)throw Error(i(475));var o=Ko;if(a.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=pl(r.href),g=n.querySelector(Ho(f));if(g){n=g._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(o.count++,o=Xu.bind(o),n.then(o,o)),a.state.loading|=4,a.instance=g,ct(g);return}g=n.ownerDocument||n,r=hv(r),(f=Xn.get(f))&&fm(r,f),g=g.createElement("link"),ct(g);var E=g;E._p=new Promise(function(R,M){E.onload=R,E.onerror=M}),Jt(g,"link",r),a.instance=g}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(o.count++,a=Xu.bind(o),n.addEventListener("load",a),n.addEventListener("error",a))}}function XA(){if(Ko===null)throw Error(i(475));var n=Ko;return n.stylesheets&&n.count===0&&gm(n,n.stylesheets),0<n.count?function(a){var r=setTimeout(function(){if(n.stylesheets&&gm(n,n.stylesheets),n.unsuspend){var o=n.unsuspend;n.unsuspend=null,o()}},6e4);return n.unsuspend=a,function(){n.unsuspend=null,clearTimeout(r)}}:null}function Xu(){if(this.count--,this.count===0){if(this.stylesheets)gm(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Zu=null;function gm(n,a){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Zu=new Map,a.forEach(ZA,n),Zu=null,Xu.call(n))}function ZA(n,a){if(!(a.state.loading&4)){var r=Zu.get(n);if(r)var o=r.get(null);else{r=new Map,Zu.set(n,r);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var E=f[g];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(r.set(E.dataset.precedence,E),o=E)}o&&r.set(null,o)}f=a.instance,E=f.getAttribute("data-precedence"),g=r.get(E)||o,g===o&&r.set(null,f),r.set(E,f),this.count++,o=Xu.bind(this),f.addEventListener("load",o),f.addEventListener("error",o),g?g.parentNode.insertBefore(f,g.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),a.state.loading|=4}}var Fo={$$typeof:j,Provider:null,Consumer:null,_currentValue:Ne,_currentValue2:Ne,_threadCount:0};function JA(n,a,r,o,f,g,E,R){this.tag=1,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=jr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jr(0),this.hiddenUpdates=jr(null),this.identifierPrefix=o,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function yv(n,a,r,o,f,g,E,R,M,K,re,de){return n=new JA(n,a,r,E,R,M,K,de),a=1,g===!0&&(a|=24),g=Yn(3,null,null,a),n.current=g,g.stateNode=n,a=Gh(),a.refCount++,n.pooledCache=a,a.refCount++,g.memoizedState={element:o,isDehydrated:r,cache:a},Nf(g),n}function _v(n){return n?(n=Yr,n):Yr}function vv(n,a,r,o,f,g){f=_v(f),o.context===null?o.context=f:o.pendingContext=f,o=Za(a),o.payload={element:r},g=g===void 0?null:g,g!==null&&(o.callback=g),r=Ja(n,o,a),r!==null&&(pn(r,n,a),Ro(r,n,a))}function xv(n,a){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var r=n.retryLane;n.retryLane=r!==0&&r<a?r:a}}function pm(n,a){xv(n,a),(n=n.alternate)&&xv(n,a)}function Ev(n){if(n.tag===13){var a=Fa(n,67108864);a!==null&&pn(a,n,67108864),pm(n,67108864)}}var Ju=!0;function eS(n,a,r,o){var f=b.T;b.T=null;var g=me.p;try{me.p=2,ym(n,a,r,o)}finally{me.p=g,b.T=f}}function tS(n,a,r,o){var f=b.T;b.T=null;var g=me.p;try{me.p=8,ym(n,a,r,o)}finally{me.p=g,b.T=f}}function ym(n,a,r,o){if(Ju){var f=_m(o);if(f===null)im(n,a,o,ed,r),Tv(n,o);else if(sS(f,n,a,r,o))o.stopPropagation();else if(Tv(n,o),a&4&&-1<nS.indexOf(n)){for(;f!==null;){var g=Qs(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var E=as(g.pendingLanes);if(E!==0){var R=g;for(R.pendingLanes|=2,R.entangledLanes|=2;E;){var M=1<<31-hn(E);R.entanglements[1]|=M,E&=~M}Os(g),(dt&6)===0&&(Pu=Yt()+500,Vo(0))}}break;case 13:R=Fa(g,2),R!==null&&pn(R,g,2),Bu(),pm(g,2)}if(g=_m(o),g===null&&im(n,a,o,ed,r),g===f)break;f=g}f!==null&&o.stopPropagation()}else im(n,a,o,null,r)}}function _m(n){return n=Pr(n),vm(n)}var ed=null;function vm(n){if(ed=null,n=is(n),n!==null){var a=ae(n);if(a===null)n=null;else{var r=a.tag;if(r===13){if(n=he(a),n!==null)return n;n=null}else if(r===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;n=null}else a!==n&&(n=null)}}return ed=n,null}function bv(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Vc()){case It:return 2;case Bt:return 8;case Gs:case Bc:return 32;case Gl:return 268435456;default:return 32}default:return 32}}var xm=!1,ri=null,li=null,oi=null,Go=new Map,$o=new Map,ci=[],nS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Tv(n,a){switch(n){case"focusin":case"focusout":ri=null;break;case"dragenter":case"dragleave":li=null;break;case"mouseover":case"mouseout":oi=null;break;case"pointerover":case"pointerout":Go.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":$o.delete(a.pointerId)}}function Qo(n,a,r,o,f,g){return n===null||n.nativeEvent!==g?(n={blockedOn:a,domEventName:r,eventSystemFlags:o,nativeEvent:g,targetContainers:[f]},a!==null&&(a=Qs(a),a!==null&&Ev(a)),n):(n.eventSystemFlags|=o,a=n.targetContainers,f!==null&&a.indexOf(f)===-1&&a.push(f),n)}function sS(n,a,r,o,f){switch(a){case"focusin":return ri=Qo(ri,n,a,r,o,f),!0;case"dragenter":return li=Qo(li,n,a,r,o,f),!0;case"mouseover":return oi=Qo(oi,n,a,r,o,f),!0;case"pointerover":var g=f.pointerId;return Go.set(g,Qo(Go.get(g)||null,n,a,r,o,f)),!0;case"gotpointercapture":return g=f.pointerId,$o.set(g,Qo($o.get(g)||null,n,a,r,o,f)),!0}return!1}function Av(n){var a=is(n.target);if(a!==null){var r=ae(a);if(r!==null){if(a=r.tag,a===13){if(a=he(r),a!==null){n.blockedOn=a,La(n.priority,function(){if(r.tag===13){var o=In(),f=Fa(r,o);f!==null&&pn(f,r,o),pm(r,o)}});return}}else if(a===3&&r.stateNode.current.memoizedState.isDehydrated){n.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}n.blockedOn=null}function td(n){if(n.blockedOn!==null)return!1;for(var a=n.targetContainers;0<a.length;){var r=_m(n.nativeEvent);if(r===null){r=n.nativeEvent;var o=new r.constructor(r.type,r);Vn=o,r.target.dispatchEvent(o),Vn=null}else return a=Qs(r),a!==null&&Ev(a),n.blockedOn=r,!1;a.shift()}return!0}function Sv(n,a,r){td(n)&&r.delete(a)}function aS(){xm=!1,ri!==null&&td(ri)&&(ri=null),li!==null&&td(li)&&(li=null),oi!==null&&td(oi)&&(oi=null),Go.forEach(Sv),$o.forEach(Sv)}function nd(n,a){n.blockedOn===a&&(n.blockedOn=null,xm||(xm=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,aS)))}var sd=null;function wv(n){sd!==n&&(sd=n,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){sd===n&&(sd=null);for(var a=0;a<n.length;a+=3){var r=n[a],o=n[a+1],f=n[a+2];if(typeof o!="function"){if(vm(o||r)===null)continue;break}var g=Qs(r);g!==null&&(n.splice(a,3),a-=3,cf(g,{pending:!0,data:f,method:r.method,action:o},o,f))}}))}function Yo(n){function a(M){return nd(M,n)}ri!==null&&nd(ri,n),li!==null&&nd(li,n),oi!==null&&nd(oi,n),Go.forEach(a),$o.forEach(a);for(var r=0;r<ci.length;r++){var o=ci[r];o.blockedOn===n&&(o.blockedOn=null)}for(;0<ci.length&&(r=ci[0],r.blockedOn===null);)Av(r),r.blockedOn===null&&ci.shift();if(r=(n.ownerDocument||n).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var f=r[o],g=r[o+1],E=f[jt]||null;if(typeof g=="function")E||wv(r);else if(E){var R=null;if(g&&g.hasAttribute("formAction")){if(f=g,E=g[jt]||null)R=E.formAction;else if(vm(f)!==null)continue}else R=E.action;typeof R=="function"?r[o+1]=R:(r.splice(o,3),o-=3),wv(r)}}}function Em(n){this._internalRoot=n}ad.prototype.render=Em.prototype.render=function(n){var a=this._internalRoot;if(a===null)throw Error(i(409));var r=a.current,o=In();vv(r,o,n,a,null,null)},ad.prototype.unmount=Em.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var a=n.containerInfo;n.tag===0&&hl(),vv(n.current,2,null,n,null,null),Bu(),a[$s]=null}};function ad(n){this._internalRoot=n}ad.prototype.unstable_scheduleHydration=function(n){if(n){var a=Fc();n={blockedOn:null,target:n,priority:a};for(var r=0;r<ci.length&&a!==0&&a<ci[r].priority;r++);ci.splice(r,0,n),r===0&&Av(n)}};var Nv=e.version;if(Nv!=="19.0.0")throw Error(i(527,Nv,"19.0.0"));me.findDOMNode=function(n){var a=n._reactInternals;if(a===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=ne(a),n=n!==null?pe(n):null,n=n===null?null:n.stateNode,n};var iS={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:b,findFiberByHostInstance:is,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var id=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!id.isDisabled&&id.supportsFiber)try{Ca=id.inject(iS),an=id}catch{}}return Xo.createRoot=function(n,a){if(!l(n))throw Error(i(299));var r=!1,o="",f=Ky,g=Fy,E=Gy,R=null;return a!=null&&(a.unstable_strictMode===!0&&(r=!0),a.identifierPrefix!==void 0&&(o=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(R=a.unstable_transitionCallbacks)),a=yv(n,1,!1,null,null,r,o,f,g,E,R,null),n[$s]=a.current,am(n.nodeType===8?n.parentNode:n),new Em(a)},Xo.hydrateRoot=function(n,a,r){if(!l(n))throw Error(i(299));var o=!1,f="",g=Ky,E=Fy,R=Gy,M=null,K=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(f=r.identifierPrefix),r.onUncaughtError!==void 0&&(g=r.onUncaughtError),r.onCaughtError!==void 0&&(E=r.onCaughtError),r.onRecoverableError!==void 0&&(R=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(M=r.unstable_transitionCallbacks),r.formState!==void 0&&(K=r.formState)),a=yv(n,1,!0,a,r??null,o,f,g,E,R,M,K),a.context=_v(null),r=a.current,o=In(),f=Za(o),f.callback=null,Ja(r,f,o),a.current.lanes=o,bt(a,o),Os(a),n[$s]=a.current,am(n),new ad(a)},Xo.version="19.0.0",Xo}var Pv;function gS(){if(Pv)return Am.exports;Pv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Am.exports=mS(),Am.exports}var pS=gS();const yS=_g(pS);var Zo={},Uv;function _S(){if(Uv)return Zo;Uv=1,Object.defineProperty(Zo,"__esModule",{value:!0}),Zo.parse=h,Zo.serialize=y;const s=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,c=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function h(S,j){const O=new c,V=S.length;if(V<2)return O;const B=(j==null?void 0:j.decode)||v;let F=0;do{const G=S.indexOf("=",F);if(G===-1)break;const $=S.indexOf(";",F),J=$===-1?V:$;if(G>J){F=S.lastIndexOf(";",G-1)+1;continue}const se=m(S,F,G),le=p(S,G,se),L=S.slice(se,le);if(O[L]===void 0){let N=m(S,G+1,J),b=p(S,J,N);const T=B(S.slice(N,b));O[L]=T}F=J+1}while(F<V);return O}function m(S,j,O){do{const V=S.charCodeAt(j);if(V!==32&&V!==9)return j}while(++j<O);return O}function p(S,j,O){for(;j>O;){const V=S.charCodeAt(--j);if(V!==32&&V!==9)return j+1}return O}function y(S,j,O){const V=(O==null?void 0:O.encode)||encodeURIComponent;if(!s.test(S))throw new TypeError(`argument name is invalid: ${S}`);const B=V(j);if(!e.test(B))throw new TypeError(`argument val is invalid: ${j}`);let F=S+"="+B;if(!O)return F;if(O.maxAge!==void 0){if(!Number.isInteger(O.maxAge))throw new TypeError(`option maxAge is invalid: ${O.maxAge}`);F+="; Max-Age="+O.maxAge}if(O.domain){if(!t.test(O.domain))throw new TypeError(`option domain is invalid: ${O.domain}`);F+="; Domain="+O.domain}if(O.path){if(!i.test(O.path))throw new TypeError(`option path is invalid: ${O.path}`);F+="; Path="+O.path}if(O.expires){if(!A(O.expires)||!Number.isFinite(O.expires.valueOf()))throw new TypeError(`option expires is invalid: ${O.expires}`);F+="; Expires="+O.expires.toUTCString()}if(O.httpOnly&&(F+="; HttpOnly"),O.secure&&(F+="; Secure"),O.partitioned&&(F+="; Partitioned"),O.priority)switch(typeof O.priority=="string"?O.priority.toLowerCase():void 0){case"low":F+="; Priority=Low";break;case"medium":F+="; Priority=Medium";break;case"high":F+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${O.priority}`)}if(O.sameSite)switch(typeof O.sameSite=="string"?O.sameSite.toLowerCase():O.sameSite){case!0:case"strict":F+="; SameSite=Strict";break;case"lax":F+="; SameSite=Lax";break;case"none":F+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${O.sameSite}`)}return F}function v(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function A(S){return l.call(S)==="[object Date]"}return Zo}_S();var Vv="popstate";function vS(s={}){function e(i,l){let{pathname:c,search:h,hash:m}=i.location;return qm("",{pathname:c,search:h,hash:m},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(i,l){return typeof l=="string"?l:fc(l)}return ES(e,t,null,s)}function lt(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function us(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function xS(){return Math.random().toString(36).substring(2,10)}function Bv(s,e){return{usr:s.state,key:s.key,idx:e}}function qm(s,e,t=null,i){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?Ml(e):e,state:t,key:e&&e.key||i||xS()}}function fc({pathname:s="/",search:e="",hash:t=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(s+=t.charAt(0)==="#"?t:"#"+t),s}function Ml(s){let e={};if(s){let t=s.indexOf("#");t>=0&&(e.hash=s.substring(t),s=s.substring(0,t));let i=s.indexOf("?");i>=0&&(e.search=s.substring(i),s=s.substring(0,i)),s&&(e.pathname=s)}return e}function ES(s,e,t,i={}){let{window:l=document.defaultView,v5Compat:c=!1}=i,h=l.history,m="POP",p=null,y=v();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function v(){return(h.state||{idx:null}).idx}function A(){m="POP";let B=v(),F=B==null?null:B-y;y=B,p&&p({action:m,location:V.location,delta:F})}function S(B,F){m="PUSH";let G=qm(V.location,B,F);y=v()+1;let $=Bv(G,y),J=V.createHref(G);try{h.pushState($,"",J)}catch(se){if(se instanceof DOMException&&se.name==="DataCloneError")throw se;l.location.assign(J)}c&&p&&p({action:m,location:V.location,delta:1})}function j(B,F){m="REPLACE";let G=qm(V.location,B,F);y=v();let $=Bv(G,y),J=V.createHref(G);h.replaceState($,"",J),c&&p&&p({action:m,location:V.location,delta:0})}function O(B){return bS(B)}let V={get action(){return m},get location(){return s(l,h)},listen(B){if(p)throw new Error("A history only accepts one active listener");return l.addEventListener(Vv,A),p=B,()=>{l.removeEventListener(Vv,A),p=null}},createHref(B){return e(l,B)},createURL:O,encodeLocation(B){let F=O(B);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:S,replace:j,go(B){return h.go(B)}};return V}function bS(s,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),lt(t,"No window.location.(origin|href) available to create URL");let i=typeof s=="string"?s:fc(s);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function R0(s,e,t="/"){return TS(s,e,t,!1)}function TS(s,e,t,i){let l=typeof e=="string"?Ml(e):e,c=Ta(l.pathname||"/",t);if(c==null)return null;let h=k0(s);AS(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let y=MS(c);m=DS(h[p],y,i)}return m}function k0(s,e=[],t=[],i=""){let l=(c,h,m)=>{let p={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};p.relativePath.startsWith("/")&&(lt(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let y=xa([i,p.relativePath]),v=t.concat(p);c.children&&c.children.length>0&&(lt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),k0(c.children,e,v,y)),!(c.path==null&&!c.index)&&e.push({path:y,score:IS(y,c.index),routesMeta:v})};return s.forEach((c,h)=>{var m;if(c.path===""||!((m=c.path)!=null&&m.includes("?")))l(c,h);else for(let p of C0(c.path))l(c,h,p)}),e}function C0(s){let e=s.split("/");if(e.length===0)return[];let[t,...i]=e,l=t.endsWith("?"),c=t.replace(/\?$/,"");if(i.length===0)return l?[c,""]:[c];let h=C0(i.join("/")),m=[];return m.push(...h.map(p=>p===""?c:[c,p].join("/"))),l&&m.push(...h),m.map(p=>s.startsWith("/")&&p===""?"/":p)}function AS(s){s.sort((e,t)=>e.score!==t.score?t.score-e.score:jS(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var SS=/^:[\w-]+$/,wS=3,NS=2,RS=1,kS=10,CS=-2,zv=s=>s==="*";function IS(s,e){let t=s.split("/"),i=t.length;return t.some(zv)&&(i+=CS),e&&(i+=NS),t.filter(l=>!zv(l)).reduce((l,c)=>l+(SS.test(c)?wS:c===""?RS:kS),i)}function jS(s,e){return s.length===e.length&&s.slice(0,-1).every((i,l)=>i===e[l])?s[s.length-1]-e[e.length-1]:0}function DS(s,e,t=!1){let{routesMeta:i}=s,l={},c="/",h=[];for(let m=0;m<i.length;++m){let p=i[m],y=m===i.length-1,v=c==="/"?e:e.slice(c.length)||"/",A=Cd({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},v),S=p.route;if(!A&&y&&t&&!i[i.length-1].route.index&&(A=Cd({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!A)return null;Object.assign(l,A.params),h.push({params:l,pathname:xa([c,A.pathname]),pathnameBase:VS(xa([c,A.pathnameBase])),route:S}),A.pathnameBase!=="/"&&(c=xa([c,A.pathnameBase]))}return h}function Cd(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[t,i]=OS(s.path,s.caseSensitive,s.end),l=e.match(t);if(!l)return null;let c=l[0],h=c.replace(/(.)\/+$/,"$1"),m=l.slice(1);return{params:i.reduce((y,{paramName:v,isOptional:A},S)=>{if(v==="*"){let O=m[S]||"";h=c.slice(0,c.length-O.length).replace(/(.)\/+$/,"$1")}const j=m[S];return A&&!j?y[v]=void 0:y[v]=(j||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:h,pattern:s}}function OS(s,e=!1,t=!0){us(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let i=[],l="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(i.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(i.push({paramName:"*"}),l+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?l+="\\/*$":s!==""&&s!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),i]}function MS(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return us(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function Ta(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=s.charAt(t);return i&&i!=="/"?null:s.slice(t)||"/"}function LS(s,e="/"){let{pathname:t,search:i="",hash:l=""}=typeof s=="string"?Ml(s):s;return{pathname:t?t.startsWith("/")?t:PS(t,e):e,search:BS(i),hash:zS(l)}}function PS(s,e){let t=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(l=>{l===".."?t.length>1&&t.pop():l!=="."&&t.push(l)}),t.length>1?t.join("/"):"/"}function Rm(s,e,t,i){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function US(s){return s.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function xg(s){let e=US(s);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function Eg(s,e,t,i=!1){let l;typeof s=="string"?l=Ml(s):(l={...s},lt(!l.pathname||!l.pathname.includes("?"),Rm("?","pathname","search",l)),lt(!l.pathname||!l.pathname.includes("#"),Rm("#","pathname","hash",l)),lt(!l.search||!l.search.includes("#"),Rm("#","search","hash",l)));let c=s===""||l.pathname==="",h=c?"/":l.pathname,m;if(h==null)m=t;else{let A=e.length-1;if(!i&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),A-=1;l.pathname=S.join("/")}m=A>=0?e[A]:"/"}let p=LS(l,m),y=h&&h!=="/"&&h.endsWith("/"),v=(c||h===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(y||v)&&(p.pathname+="/"),p}var xa=s=>s.join("/").replace(/\/\/+/g,"/"),VS=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),BS=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,zS=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function HS(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var I0=["POST","PUT","PATCH","DELETE"];new Set(I0);var qS=["GET",...I0];new Set(qS);var Ll=k.createContext(null);Ll.displayName="DataRouter";var Wd=k.createContext(null);Wd.displayName="DataRouterState";var j0=k.createContext({isTransitioning:!1});j0.displayName="ViewTransition";var KS=k.createContext(new Map);KS.displayName="Fetchers";var FS=k.createContext(null);FS.displayName="Await";var gs=k.createContext(null);gs.displayName="Navigation";var Tc=k.createContext(null);Tc.displayName="Location";var ps=k.createContext({outlet:null,matches:[],isDataRoute:!1});ps.displayName="Route";var bg=k.createContext(null);bg.displayName="RouteError";function GS(s,{relative:e}={}){lt(Pl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=k.useContext(gs),{hash:l,pathname:c,search:h}=Ac(s,{relative:e}),m=c;return t!=="/"&&(m=c==="/"?t:xa([t,c])),i.createHref({pathname:m,search:h,hash:l})}function Pl(){return k.useContext(Tc)!=null}function ns(){return lt(Pl(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(Tc).location}var D0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function O0(s){k.useContext(gs).static||k.useLayoutEffect(s)}function Tr(){let{isDataRoute:s}=k.useContext(ps);return s?rw():$S()}function $S(){lt(Pl(),"useNavigate() may be used only in the context of a <Router> component.");let s=k.useContext(Ll),{basename:e,navigator:t}=k.useContext(gs),{matches:i}=k.useContext(ps),{pathname:l}=ns(),c=JSON.stringify(xg(i)),h=k.useRef(!1);return O0(()=>{h.current=!0}),k.useCallback((p,y={})=>{if(us(h.current,D0),!h.current)return;if(typeof p=="number"){t.go(p);return}let v=Eg(p,JSON.parse(c),l,y.relative==="path");s==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:xa([e,v.pathname])),(y.replace?t.replace:t.push)(v,y.state,y)},[e,t,c,l,s])}k.createContext(null);function QS(){let{matches:s}=k.useContext(ps),e=s[s.length-1];return e?e.params:{}}function Ac(s,{relative:e}={}){let{matches:t}=k.useContext(ps),{pathname:i}=ns(),l=JSON.stringify(xg(t));return k.useMemo(()=>Eg(s,JSON.parse(l),i,e==="path"),[s,l,i,e])}function YS(s,e){return M0(s,e)}function M0(s,e,t,i){var F;lt(Pl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=k.useContext(gs),{matches:c}=k.useContext(ps),h=c[c.length-1],m=h?h.params:{},p=h?h.pathname:"/",y=h?h.pathnameBase:"/",v=h&&h.route;{let G=v&&v.path||"";L0(p,!v||G.endsWith("*")||G.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${G}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${G}"> to <Route path="${G==="/"?"*":`${G}/*`}">.`)}let A=ns(),S;if(e){let G=typeof e=="string"?Ml(e):e;lt(y==="/"||((F=G.pathname)==null?void 0:F.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${G.pathname}" was given in the \`location\` prop.`),S=G}else S=A;let j=S.pathname||"/",O=j;if(y!=="/"){let G=y.replace(/^\//,"").split("/");O="/"+j.replace(/^\//,"").split("/").slice(G.length).join("/")}let V=R0(s,{pathname:O});us(v||V!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),us(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=ew(V&&V.map(G=>Object.assign({},G,{params:Object.assign({},m,G.params),pathname:xa([y,l.encodeLocation?l.encodeLocation(G.pathname).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?y:xa([y,l.encodeLocation?l.encodeLocation(G.pathnameBase).pathname:G.pathnameBase])})),c,t,i);return e&&B?k.createElement(Tc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},B):B}function WS(){let s=iw(),e=HS(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),t=s instanceof Error?s.stack:null,i="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:i},c={padding:"2px 4px",backgroundColor:i},h=null;return console.error("Error handled by React Router default ErrorBoundary:",s),h=k.createElement(k.Fragment,null,k.createElement("p",null,"💿 Hey developer 👋"),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:c},"ErrorBoundary")," or"," ",k.createElement("code",{style:c},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),t?k.createElement("pre",{style:l},t):null,h)}var XS=k.createElement(WS,null),ZS=class extends k.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){console.error("React Router caught the following error during render",s,e)}render(){return this.state.error!==void 0?k.createElement(ps.Provider,{value:this.props.routeContext},k.createElement(bg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function JS({routeContext:s,match:e,children:t}){let i=k.useContext(Ll);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement(ps.Provider,{value:s},t)}function ew(s,e=[],t=null,i=null){if(s==null){if(!t)return null;if(t.errors)s=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)s=t.matches;else return null}let l=s,c=t==null?void 0:t.errors;if(c!=null){let p=l.findIndex(y=>y.route.id&&(c==null?void 0:c[y.route.id])!==void 0);lt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,p+1))}let h=!1,m=-1;if(t)for(let p=0;p<l.length;p++){let y=l[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=p),y.route.id){let{loaderData:v,errors:A}=t,S=y.route.loader&&!v.hasOwnProperty(y.route.id)&&(!A||A[y.route.id]===void 0);if(y.route.lazy||S){h=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}return l.reduceRight((p,y,v)=>{let A,S=!1,j=null,O=null;t&&(A=c&&y.route.id?c[y.route.id]:void 0,j=y.route.errorElement||XS,h&&(m<0&&v===0?(L0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,O=null):m===v&&(S=!0,O=y.route.hydrateFallbackElement||null)));let V=e.concat(l.slice(0,v+1)),B=()=>{let F;return A?F=j:S?F=O:y.route.Component?F=k.createElement(y.route.Component,null):y.route.element?F=y.route.element:F=p,k.createElement(JS,{match:y,routeContext:{outlet:p,matches:V,isDataRoute:t!=null},children:F})};return t&&(y.route.ErrorBoundary||y.route.errorElement||v===0)?k.createElement(ZS,{location:t.location,revalidation:t.revalidation,component:j,error:A,children:B(),routeContext:{outlet:null,matches:V,isDataRoute:!0}}):B()},null)}function Tg(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tw(s){let e=k.useContext(Ll);return lt(e,Tg(s)),e}function nw(s){let e=k.useContext(Wd);return lt(e,Tg(s)),e}function sw(s){let e=k.useContext(ps);return lt(e,Tg(s)),e}function Ag(s){let e=sw(s),t=e.matches[e.matches.length-1];return lt(t.route.id,`${s} can only be used on routes that contain a unique "id"`),t.route.id}function aw(){return Ag("useRouteId")}function iw(){var i;let s=k.useContext(bg),e=nw("useRouteError"),t=Ag("useRouteError");return s!==void 0?s:(i=e.errors)==null?void 0:i[t]}function rw(){let{router:s}=tw("useNavigate"),e=Ag("useNavigate"),t=k.useRef(!1);return O0(()=>{t.current=!0}),k.useCallback(async(l,c={})=>{us(t.current,D0),t.current&&(typeof l=="number"?s.navigate(l):await s.navigate(l,{fromRouteId:e,...c}))},[s,e])}var Hv={};function L0(s,e,t){!e&&!Hv[s]&&(Hv[s]=!0,us(!1,t))}k.memo(lw);function lw({routes:s,future:e,state:t}){return M0(s,void 0,t,e)}function qv({to:s,replace:e,state:t,relative:i}){lt(Pl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=k.useContext(gs);us(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=k.useContext(ps),{pathname:h}=ns(),m=Tr(),p=Eg(s,xg(c),h,i==="path"),y=JSON.stringify(p);return k.useEffect(()=>{m(JSON.parse(y),{replace:e,state:t,relative:i})},[m,y,i,e,t]),null}function Pt(s){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ow({basename:s="/",children:e=null,location:t,navigationType:i="POP",navigator:l,static:c=!1}){lt(!Pl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=s.replace(/^\/*/,"/"),m=k.useMemo(()=>({basename:h,navigator:l,static:c,future:{}}),[h,l,c]);typeof t=="string"&&(t=Ml(t));let{pathname:p="/",search:y="",hash:v="",state:A=null,key:S="default"}=t,j=k.useMemo(()=>{let O=Ta(p,h);return O==null?null:{location:{pathname:O,search:y,hash:v,state:A,key:S},navigationType:i}},[h,p,y,v,A,S,i]);return us(j!=null,`<Router basename="${h}"> is not able to match the URL "${p}${y}${v}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:k.createElement(gs.Provider,{value:m},k.createElement(Tc.Provider,{children:e,value:j}))}function cw({children:s,location:e}){return YS(Km(s),e)}function Km(s,e=[]){let t=[];return k.Children.forEach(s,(i,l)=>{if(!k.isValidElement(i))return;let c=[...e,l];if(i.type===k.Fragment){t.push.apply(t,Km(i.props.children,c));return}lt(i.type===Pt,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let h={id:i.props.id||c.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(h.children=Km(i.props.children,c)),t.push(h)}),t}var yd="get",_d="application/x-www-form-urlencoded";function Xd(s){return s!=null&&typeof s.tagName=="string"}function uw(s){return Xd(s)&&s.tagName.toLowerCase()==="button"}function dw(s){return Xd(s)&&s.tagName.toLowerCase()==="form"}function hw(s){return Xd(s)&&s.tagName.toLowerCase()==="input"}function fw(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function mw(s,e){return s.button===0&&(!e||e==="_self")&&!fw(s)}var rd=null;function gw(){if(rd===null)try{new FormData(document.createElement("form"),0),rd=!1}catch{rd=!0}return rd}var pw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function km(s){return s!=null&&!pw.has(s)?(us(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${_d}"`),null):s}function yw(s,e){let t,i,l,c,h;if(dw(s)){let m=s.getAttribute("action");i=m?Ta(m,e):null,t=s.getAttribute("method")||yd,l=km(s.getAttribute("enctype"))||_d,c=new FormData(s)}else if(uw(s)||hw(s)&&(s.type==="submit"||s.type==="image")){let m=s.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=s.getAttribute("formaction")||m.getAttribute("action");if(i=p?Ta(p,e):null,t=s.getAttribute("formmethod")||m.getAttribute("method")||yd,l=km(s.getAttribute("formenctype"))||km(m.getAttribute("enctype"))||_d,c=new FormData(m,s),!gw()){let{name:y,type:v,value:A}=s;if(v==="image"){let S=y?`${y}.`:"";c.append(`${S}x`,"0"),c.append(`${S}y`,"0")}else y&&c.append(y,A)}}else{if(Xd(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=yd,i=null,l=_d,h=s}return c&&l==="text/plain"&&(h=c,c=void 0),{action:i,method:t.toLowerCase(),encType:l,formData:c,body:h}}function Sg(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}async function _w(s,e){if(s.id in e)return e[s.id];try{let t=await import(s.module);return e[s.id]=t,t}catch(t){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function vw(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function xw(s,e,t){let i=await Promise.all(s.map(async l=>{let c=e.routes[l.route.id];if(c){let h=await _w(c,t);return h.links?h.links():[]}return[]}));return Aw(i.flat(1).filter(vw).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function Kv(s,e,t,i,l,c){let h=(p,y)=>t[y]?p.route.id!==t[y].route.id:!0,m=(p,y)=>{var v;return t[y].pathname!==p.pathname||((v=t[y].route.path)==null?void 0:v.endsWith("*"))&&t[y].params["*"]!==p.params["*"]};return c==="assets"?e.filter((p,y)=>h(p,y)||m(p,y)):c==="data"?e.filter((p,y)=>{var A;let v=i.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(h(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((A=t[0])==null?void 0:A.params)||{},nextUrl:new URL(s,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function Ew(s,e,{includeHydrateFallback:t}={}){return bw(s.map(i=>{let l=e.routes[i.route.id];if(!l)return[];let c=[l.module];return l.clientActionModule&&(c=c.concat(l.clientActionModule)),l.clientLoaderModule&&(c=c.concat(l.clientLoaderModule)),t&&l.hydrateFallbackModule&&(c=c.concat(l.hydrateFallbackModule)),l.imports&&(c=c.concat(l.imports)),c}).flat(1))}function bw(s){return[...new Set(s)]}function Tw(s){let e={},t=Object.keys(s).sort();for(let i of t)e[i]=s[i];return e}function Aw(s,e){let t=new Set;return new Set(e),s.reduce((i,l)=>{let c=JSON.stringify(Tw(l));return t.has(c)||(t.add(c),i.push({key:c,link:l})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Sw=new Set([100,101,204,205]);function ww(s,e){let t=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return t.pathname==="/"?t.pathname="_root.data":e&&Ta(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function P0(){let s=k.useContext(Ll);return Sg(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function Nw(){let s=k.useContext(Wd);return Sg(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var wg=k.createContext(void 0);wg.displayName="FrameworkContext";function U0(){let s=k.useContext(wg);return Sg(s,"You must render this element inside a <HydratedRouter> element"),s}function Rw(s,e){let t=k.useContext(wg),[i,l]=k.useState(!1),[c,h]=k.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:v,onTouchStart:A}=e,S=k.useRef(null);k.useEffect(()=>{if(s==="render"&&h(!0),s==="viewport"){let V=F=>{F.forEach(G=>{h(G.isIntersecting)})},B=new IntersectionObserver(V,{threshold:.5});return S.current&&B.observe(S.current),()=>{B.disconnect()}}},[s]),k.useEffect(()=>{if(i){let V=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(V)}}},[i]);let j=()=>{l(!0)},O=()=>{l(!1),h(!1)};return t?s!=="intent"?[c,S,{}]:[c,S,{onFocus:Jo(m,j),onBlur:Jo(p,O),onMouseEnter:Jo(y,j),onMouseLeave:Jo(v,O),onTouchStart:Jo(A,j)}]:[!1,S,{}]}function Jo(s,e){return t=>{s&&s(t),t.defaultPrevented||e(t)}}function kw({page:s,...e}){let{router:t}=P0(),i=k.useMemo(()=>R0(t.routes,s,t.basename),[t.routes,s,t.basename]);return i?k.createElement(Iw,{page:s,matches:i,...e}):null}function Cw(s){let{manifest:e,routeModules:t}=U0(),[i,l]=k.useState([]);return k.useEffect(()=>{let c=!1;return xw(s,e,t).then(h=>{c||l(h)}),()=>{c=!0}},[s,e,t]),i}function Iw({page:s,matches:e,...t}){let i=ns(),{manifest:l,routeModules:c}=U0(),{basename:h}=P0(),{loaderData:m,matches:p}=Nw(),y=k.useMemo(()=>Kv(s,e,p,l,i,"data"),[s,e,p,l,i]),v=k.useMemo(()=>Kv(s,e,p,l,i,"assets"),[s,e,p,l,i]),A=k.useMemo(()=>{if(s===i.pathname+i.search+i.hash)return[];let O=new Set,V=!1;if(e.forEach(F=>{var $;let G=l.routes[F.route.id];!G||!G.hasLoader||(!y.some(J=>J.route.id===F.route.id)&&F.route.id in m&&(($=c[F.route.id])!=null&&$.shouldRevalidate)||G.hasClientLoader?V=!0:O.add(F.route.id))}),O.size===0)return[];let B=ww(s,h);return V&&O.size>0&&B.searchParams.set("_routes",e.filter(F=>O.has(F.route.id)).map(F=>F.route.id).join(",")),[B.pathname+B.search]},[h,m,i,l,y,e,s,c]),S=k.useMemo(()=>Ew(v,l),[v,l]),j=Cw(v);return k.createElement(k.Fragment,null,A.map(O=>k.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...t})),S.map(O=>k.createElement("link",{key:O,rel:"modulepreload",href:O,...t})),j.map(({key:O,link:V})=>k.createElement("link",{key:O,...V})))}function jw(...s){return e=>{s.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var V0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{V0&&(window.__reactRouterVersion="7.6.2")}catch{}function Dw({basename:s,children:e,window:t}){let i=k.useRef();i.current==null&&(i.current=vS({window:t,v5Compat:!0}));let l=i.current,[c,h]=k.useState({action:l.action,location:l.location}),m=k.useCallback(p=>{k.startTransition(()=>h(p))},[h]);return k.useLayoutEffect(()=>l.listen(m),[l,m]),k.createElement(ow,{basename:s,children:e,location:c.location,navigationType:c.action,navigator:l})}var B0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Re=k.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:l,reloadDocument:c,replace:h,state:m,target:p,to:y,preventScrollReset:v,viewTransition:A,...S},j){let{basename:O}=k.useContext(gs),V=typeof y=="string"&&B0.test(y),B,F=!1;if(typeof y=="string"&&V&&(B=y,V0))try{let b=new URL(window.location.href),T=y.startsWith("//")?new URL(b.protocol+y):new URL(y),C=Ta(T.pathname,O);T.origin===b.origin&&C!=null?y=C+T.search+T.hash:F=!0}catch{us(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let G=GS(y,{relative:l}),[$,J,se]=Rw(i,S),le=Pw(y,{replace:h,state:m,target:p,preventScrollReset:v,relative:l,viewTransition:A});function L(b){e&&e(b),b.defaultPrevented||le(b)}let N=k.createElement("a",{...S,...se,href:B||G,onClick:F||c?e:L,ref:jw(j,J),target:p,"data-discover":!V&&t==="render"?"true":void 0});return $&&!V?k.createElement(k.Fragment,null,N,k.createElement(kw,{page:G})):N});Re.displayName="Link";var Ow=k.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:l=!1,style:c,to:h,viewTransition:m,children:p,...y},v){let A=Ac(h,{relative:y.relative}),S=ns(),j=k.useContext(Wd),{navigator:O,basename:V}=k.useContext(gs),B=j!=null&&Hw(A)&&m===!0,F=O.encodeLocation?O.encodeLocation(A).pathname:A.pathname,G=S.pathname,$=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;t||(G=G.toLowerCase(),$=$?$.toLowerCase():null,F=F.toLowerCase()),$&&V&&($=Ta($,V)||$);const J=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let se=G===F||!l&&G.startsWith(F)&&G.charAt(J)==="/",le=$!=null&&($===F||!l&&$.startsWith(F)&&$.charAt(F.length)==="/"),L={isActive:se,isPending:le,isTransitioning:B},N=se?e:void 0,b;typeof i=="function"?b=i(L):b=[i,se?"active":null,le?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let T=typeof c=="function"?c(L):c;return k.createElement(Re,{...y,"aria-current":N,className:b,ref:v,style:T,to:h,viewTransition:m},typeof p=="function"?p(L):p)});Ow.displayName="NavLink";var Mw=k.forwardRef(({discover:s="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:l,state:c,method:h=yd,action:m,onSubmit:p,relative:y,preventScrollReset:v,viewTransition:A,...S},j)=>{let O=Bw(),V=zw(m,{relative:y}),B=h.toLowerCase()==="get"?"get":"post",F=typeof m=="string"&&B0.test(m),G=$=>{if(p&&p($),$.defaultPrevented)return;$.preventDefault();let J=$.nativeEvent.submitter,se=(J==null?void 0:J.getAttribute("formmethod"))||h;O(J||$.currentTarget,{fetcherKey:e,method:se,navigate:t,replace:l,state:c,relative:y,preventScrollReset:v,viewTransition:A})};return k.createElement("form",{ref:j,method:B,action:V,onSubmit:i?p:G,...S,"data-discover":!F&&s==="render"?"true":void 0})});Mw.displayName="Form";function Lw(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function z0(s){let e=k.useContext(Ll);return lt(e,Lw(s)),e}function Pw(s,{target:e,replace:t,state:i,preventScrollReset:l,relative:c,viewTransition:h}={}){let m=Tr(),p=ns(),y=Ac(s,{relative:c});return k.useCallback(v=>{if(mw(v,e)){v.preventDefault();let A=t!==void 0?t:fc(p)===fc(y);m(s,{replace:A,state:i,preventScrollReset:l,relative:c,viewTransition:h})}},[p,m,y,t,i,e,s,l,c,h])}var Uw=0,Vw=()=>`__${String(++Uw)}__`;function Bw(){let{router:s}=z0("useSubmit"),{basename:e}=k.useContext(gs),t=aw();return k.useCallback(async(i,l={})=>{let{action:c,method:h,encType:m,formData:p,body:y}=yw(i,e);if(l.navigate===!1){let v=l.fetcherKey||Vw();await s.fetch(v,t,l.action||c,{preventScrollReset:l.preventScrollReset,formData:p,body:y,formMethod:l.method||h,formEncType:l.encType||m,flushSync:l.flushSync})}else await s.navigate(l.action||c,{preventScrollReset:l.preventScrollReset,formData:p,body:y,formMethod:l.method||h,formEncType:l.encType||m,replace:l.replace,state:l.state,fromRouteId:t,flushSync:l.flushSync,viewTransition:l.viewTransition})},[s,e,t])}function zw(s,{relative:e}={}){let{basename:t}=k.useContext(gs),i=k.useContext(ps);lt(i,"useFormAction must be used inside a RouteContext");let[l]=i.matches.slice(-1),c={...Ac(s||".",{relative:e})},h=ns();if(s==null){c.search=h.search;let m=new URLSearchParams(c.search),p=m.getAll("index");if(p.some(v=>v==="")){m.delete("index"),p.filter(A=>A).forEach(A=>m.append("index",A));let v=m.toString();c.search=v?`?${v}`:""}}return(!s||s===".")&&l.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(c.pathname=c.pathname==="/"?t:xa([t,c.pathname])),fc(c)}function Hw(s,e={}){let t=k.useContext(j0);lt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=z0("useViewTransitionState"),l=Ac(s,{relative:e.relative});if(!t.isTransitioning)return!1;let c=Ta(t.currentLocation.pathname,i)||t.currentLocation.pathname,h=Ta(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Cd(l.pathname,h)!=null||Cd(l.pathname,c)!=null}[...Sw];var qw=N0();const Kw=_g(qw),Fw=()=>{};var Fv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0=function(s){const e=[];let t=0;for(let i=0;i<s.length;i++){let l=s.charCodeAt(i);l<128?e[t++]=l:l<2048?(e[t++]=l>>6|192,e[t++]=l&63|128):(l&64512)===55296&&i+1<s.length&&(s.charCodeAt(i+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++i)&1023),e[t++]=l>>18|240,e[t++]=l>>12&63|128,e[t++]=l>>6&63|128,e[t++]=l&63|128):(e[t++]=l>>12|224,e[t++]=l>>6&63|128,e[t++]=l&63|128)}return e},Gw=function(s){const e=[];let t=0,i=0;for(;t<s.length;){const l=s[t++];if(l<128)e[i++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[t++];e[i++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[t++],h=s[t++],m=s[t++],p=((l&7)<<18|(c&63)<<12|(h&63)<<6|m&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const c=s[t++],h=s[t++];e[i++]=String.fromCharCode((l&15)<<12|(c&63)<<6|h&63)}}return e.join("")},q0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let l=0;l<s.length;l+=3){const c=s[l],h=l+1<s.length,m=h?s[l+1]:0,p=l+2<s.length,y=p?s[l+2]:0,v=c>>2,A=(c&3)<<4|m>>4;let S=(m&15)<<2|y>>6,j=y&63;p||(j=64,h||(S=64)),i.push(t[v],t[A],t[S],t[j])}return i.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(H0(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):Gw(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let l=0;l<s.length;){const c=t[s.charAt(l++)],m=l<s.length?t[s.charAt(l)]:0;++l;const y=l<s.length?t[s.charAt(l)]:64;++l;const A=l<s.length?t[s.charAt(l)]:64;if(++l,c==null||m==null||y==null||A==null)throw new $w;const S=c<<2|m>>4;if(i.push(S),y!==64){const j=m<<4&240|y>>2;if(i.push(j),A!==64){const O=y<<6&192|A;i.push(O)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class $w extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Qw=function(s){const e=H0(s);return q0.encodeByteArray(e,!0)},Id=function(s){return Qw(s).replace(/\./g,"")},K0=function(s){try{return q0.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww=()=>Yw().__FIREBASE_DEFAULTS__,Xw=()=>{if(typeof process>"u"||typeof Fv>"u")return;const s=Fv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},Zw=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&K0(s[1]);return e&&JSON.parse(e)},Zd=()=>{try{return Fw()||Ww()||Xw()||Zw()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},F0=s=>{var e,t;return(t=(e=Zd())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[s]},G0=s=>{const e=F0(s);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},$0=()=>{var s;return(s=Zd())===null||s===void 0?void 0:s.config},Q0=s=>{var e;return(e=Zd())===null||e===void 0?void 0:e[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y0(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},s);return[Id(JSON.stringify(t)),Id(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dn())}function tN(){var s;const e=(s=Zd())===null||s===void 0?void 0:s.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function sN(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function aN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function iN(){const s=dn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function rN(){return!tN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function lN(){try{return typeof indexedDB=="object"}catch{return!1}}function oN(){return new Promise((s,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(i);l.onsuccess=()=>{l.result.close(),t||self.indexedDB.deleteDatabase(i),s(!0)},l.onupgradeneeded=()=>{t=!1},l.onerror=()=>{var c;e(((c=l.error)===null||c===void 0?void 0:c.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN="FirebaseError";class qs extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=cN,Object.setPrototypeOf(this,qs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Sc.prototype.create)}}class Sc{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},l=`${this.service}/${e}`,c=this.errors[e],h=c?uN(c,i):"Error",m=`${this.serviceName}: ${h} (${l}).`;return new qs(l,m,i)}}function uN(s,e){return s.replace(dN,(t,i)=>{const l=e[i];return l!=null?String(l):`<${i}?>`})}const dN=/\{\$([^}]+)}/g;function hN(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function pr(s,e){if(s===e)return!0;const t=Object.keys(s),i=Object.keys(e);for(const l of t){if(!i.includes(l))return!1;const c=s[l],h=e[l];if(Gv(c)&&Gv(h)){if(!pr(c,h))return!1}else if(c!==h)return!1}for(const l of i)if(!t.includes(l))return!1;return!0}function Gv(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wc(s){const e=[];for(const[t,i]of Object.entries(s))Array.isArray(i)?i.forEach(l=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function tc(s){const e={};return s.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[l,c]=i.split("=");e[decodeURIComponent(l)]=decodeURIComponent(c)}}),e}function nc(s){const e=s.indexOf("?");if(!e)return"";const t=s.indexOf("#",e);return s.substring(e,t>0?t:void 0)}function fN(s,e){const t=new mN(s,e);return t.subscribe.bind(t)}class mN{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let l;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");gN(e,["next","error","complete"])?l=e:l={next:e,error:t,complete:i},l.next===void 0&&(l.next=Cm),l.error===void 0&&(l.error=Cm),l.complete===void 0&&(l.complete=Cm);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gN(s,e){if(typeof s!="object"||s===null)return!1;for(const t of e)if(t in s&&typeof s[t]=="function")return!0;return!1}function Cm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ot(s){return s&&s._delegate?s._delegate:s}class bi{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new Jw;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:t});l&&i.resolve(l)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),l=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(c){if(l)return null;throw c}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_N(e))try{this.getOrInitializeService({instanceIdentifier:dr})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(t);try{const c=this.getOrInitializeService({instanceIdentifier:l});i.resolve(c)}catch{}}}}clearInstance(e=dr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=dr){return this.instances.has(e)}getOptions(e=dr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[c,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);i===m&&h.resolve(l)}return l}onInit(e,t){var i;const l=this.normalizeInstanceIdentifier(t),c=(i=this.onInitCallbacks.get(l))!==null&&i!==void 0?i:new Set;c.add(e),this.onInitCallbacks.set(l,c);const h=this.instances.get(l);return h&&e(h,l),()=>{c.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const l of i)try{l(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:yN(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=dr){return this.component?this.component.multipleInstances?e:dr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function yN(s){return s===dr?void 0:s}function _N(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new pN(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Pe||(Pe={}));const xN={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},EN=Pe.INFO,bN={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},TN=(s,e,...t)=>{if(e<s.logLevel)return;const i=new Date().toISOString(),l=bN[e];if(l)console[l](`[${i}]  ${s.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ng{constructor(e){this.name=e,this._logLevel=EN,this._logHandler=TN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const AN=(s,e)=>e.some(t=>s instanceof t);let $v,Qv;function SN(){return $v||($v=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wN(){return Qv||(Qv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const W0=new WeakMap,Fm=new WeakMap,X0=new WeakMap,Im=new WeakMap,Rg=new WeakMap;function NN(s){const e=new Promise((t,i)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",h)},c=()=>{t(_i(s.result)),l()},h=()=>{i(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&W0.set(t,s)}).catch(()=>{}),Rg.set(e,s),e}function RN(s){if(Fm.has(s))return;const e=new Promise((t,i)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",h),s.removeEventListener("abort",h)},c=()=>{t(),l()},h=()=>{i(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",h),s.addEventListener("abort",h)});Fm.set(s,e)}let Gm={get(s,e,t){if(s instanceof IDBTransaction){if(e==="done")return Fm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||X0.get(s);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return _i(s[e])},set(s,e,t){return s[e]=t,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function kN(s){Gm=s(Gm)}function CN(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=s.call(jm(this),e,...t);return X0.set(i,e.sort?e.sort():[e]),_i(i)}:wN().includes(s)?function(...e){return s.apply(jm(this),e),_i(W0.get(this))}:function(...e){return _i(s.apply(jm(this),e))}}function IN(s){return typeof s=="function"?CN(s):(s instanceof IDBTransaction&&RN(s),AN(s,SN())?new Proxy(s,Gm):s)}function _i(s){if(s instanceof IDBRequest)return NN(s);if(Im.has(s))return Im.get(s);const e=IN(s);return e!==s&&(Im.set(s,e),Rg.set(e,s)),e}const jm=s=>Rg.get(s);function jN(s,e,{blocked:t,upgrade:i,blocking:l,terminated:c}={}){const h=indexedDB.open(s,e),m=_i(h);return i&&h.addEventListener("upgradeneeded",p=>{i(_i(h.result),p.oldVersion,p.newVersion,_i(h.transaction),p)}),t&&h.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),m.then(p=>{c&&p.addEventListener("close",()=>c()),l&&p.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const DN=["get","getKey","getAll","getAllKeys","count"],ON=["put","add","delete","clear"],Dm=new Map;function Yv(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Dm.get(e))return Dm.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,l=ON.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(l||DN.includes(t)))return;const c=async function(h,...m){const p=this.transaction(h,l?"readwrite":"readonly");let y=p.store;return i&&(y=y.index(m.shift())),(await Promise.all([y[t](...m),l&&p.done]))[0]};return Dm.set(e,c),c}kN(s=>({...s,get:(e,t,i)=>Yv(e,t)||s.get(e,t,i),has:(e,t)=>!!Yv(e,t)||s.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(LN(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function LN(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const $m="@firebase/app",Wv="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa=new Ng("@firebase/app"),PN="@firebase/app-compat",UN="@firebase/analytics-compat",VN="@firebase/analytics",BN="@firebase/app-check-compat",zN="@firebase/app-check",HN="@firebase/auth",qN="@firebase/auth-compat",KN="@firebase/database",FN="@firebase/data-connect",GN="@firebase/database-compat",$N="@firebase/functions",QN="@firebase/functions-compat",YN="@firebase/installations",WN="@firebase/installations-compat",XN="@firebase/messaging",ZN="@firebase/messaging-compat",JN="@firebase/performance",eR="@firebase/performance-compat",tR="@firebase/remote-config",nR="@firebase/remote-config-compat",sR="@firebase/storage",aR="@firebase/storage-compat",iR="@firebase/firestore",rR="@firebase/vertexai",lR="@firebase/firestore-compat",oR="firebase",cR="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qm="[DEFAULT]",uR={[$m]:"fire-core",[PN]:"fire-core-compat",[VN]:"fire-analytics",[UN]:"fire-analytics-compat",[zN]:"fire-app-check",[BN]:"fire-app-check-compat",[HN]:"fire-auth",[qN]:"fire-auth-compat",[KN]:"fire-rtdb",[FN]:"fire-data-connect",[GN]:"fire-rtdb-compat",[$N]:"fire-fn",[QN]:"fire-fn-compat",[YN]:"fire-iid",[WN]:"fire-iid-compat",[XN]:"fire-fcm",[ZN]:"fire-fcm-compat",[JN]:"fire-perf",[eR]:"fire-perf-compat",[tR]:"fire-rc",[nR]:"fire-rc-compat",[sR]:"fire-gcs",[aR]:"fire-gcs-compat",[iR]:"fire-fst",[lR]:"fire-fst-compat",[rR]:"fire-vertex","fire-js":"fire-js",[oR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jd=new Map,dR=new Map,Ym=new Map;function Xv(s,e){try{s.container.addComponent(e)}catch(t){Aa.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,t)}}function yr(s){const e=s.name;if(Ym.has(e))return Aa.debug(`There were multiple attempts to register component ${e}.`),!1;Ym.set(e,s);for(const t of jd.values())Xv(t,s);for(const t of dR.values())Xv(t,s);return!0}function Jd(s,e){const t=s.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),s.container.getProvider(e)}function jn(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},vi=new Sc("app","Firebase",hR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new bi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ar=cR;function Z0(s,e={}){let t=s;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Qm,automaticDataCollectionEnabled:!1},e),l=i.name;if(typeof l!="string"||!l)throw vi.create("bad-app-name",{appName:String(l)});if(t||(t=$0()),!t)throw vi.create("no-options");const c=jd.get(l);if(c){if(pr(t,c.options)&&pr(i,c.config))return c;throw vi.create("duplicate-app",{appName:l})}const h=new vN(l);for(const p of Ym.values())h.addComponent(p);const m=new fR(t,i,h);return jd.set(l,m),m}function kg(s=Qm){const e=jd.get(s);if(!e&&s===Qm&&$0())return Z0();if(!e)throw vi.create("no-app",{appName:s});return e}function Ps(s,e,t){var i;let l=(i=uR[s])!==null&&i!==void 0?i:s;t&&(l+=`-${t}`);const c=l.match(/\s|\//),h=e.match(/\s|\//);if(c||h){const m=[`Unable to register library "${l}" with version "${e}":`];c&&m.push(`library name "${l}" contains illegal characters (whitespace or "/")`),c&&h&&m.push("and"),h&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Aa.warn(m.join(" "));return}yr(new bi(`${l}-version`,()=>({library:l,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR="firebase-heartbeat-database",gR=1,mc="firebase-heartbeat-store";let Om=null;function J0(){return Om||(Om=jN(mR,gR,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(mc)}catch(t){console.warn(t)}}}}).catch(s=>{throw vi.create("idb-open",{originalErrorMessage:s.message})})),Om}async function pR(s){try{const t=(await J0()).transaction(mc),i=await t.objectStore(mc).get(eE(s));return await t.done,i}catch(e){if(e instanceof qs)Aa.warn(e.message);else{const t=vi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Aa.warn(t.message)}}}async function Zv(s,e){try{const i=(await J0()).transaction(mc,"readwrite");await i.objectStore(mc).put(e,eE(s)),await i.done}catch(t){if(t instanceof qs)Aa.warn(t.message);else{const i=vi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Aa.warn(i.message)}}}function eE(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR=1024,_R=30;class vR{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ER(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Jv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(h=>h.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats.length>_R){const h=bR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Aa.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Jv(),{heartbeatsToSend:i,unsentEntries:l}=xR(this._heartbeatsCache.heartbeats),c=Id(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(t){return Aa.warn(t),""}}}function Jv(){return new Date().toISOString().substring(0,10)}function xR(s,e=yR){const t=[];let i=s.slice();for(const l of s){const c=t.find(h=>h.agent===l.agent);if(c){if(c.dates.push(l.date),ex(t)>e){c.dates.pop();break}}else if(t.push({agent:l.agent,dates:[l.date]}),ex(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class ER{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lN()?oN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await pR(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const l=await this.read();return Zv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:l.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const l=await this.read();return Zv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...e.heartbeats]})}else return}}function ex(s){return Id(JSON.stringify({version:2,heartbeats:s})).length}function bR(s){if(s.length===0)return-1;let e=0,t=s[0].date;for(let i=1;i<s.length;i++)s[i].date<t&&(t=s[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TR(s){yr(new bi("platform-logger",e=>new MN(e),"PRIVATE")),yr(new bi("heartbeat",e=>new vR(e),"PRIVATE")),Ps($m,Wv,s),Ps($m,Wv,"esm2017"),Ps("fire-js","")}TR("");var AR="firebase",SR="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ps(AR,SR,"app");var tx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xi,tE;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(L,N){function b(){}b.prototype=N.prototype,L.D=N.prototype,L.prototype=new b,L.prototype.constructor=L,L.C=function(T,C,D){for(var w=Array(arguments.length-2),z=2;z<arguments.length;z++)w[z-2]=arguments[z];return N.prototype[C].apply(T,w)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(L,N,b){b||(b=0);var T=Array(16);if(typeof N=="string")for(var C=0;16>C;++C)T[C]=N.charCodeAt(b++)|N.charCodeAt(b++)<<8|N.charCodeAt(b++)<<16|N.charCodeAt(b++)<<24;else for(C=0;16>C;++C)T[C]=N[b++]|N[b++]<<8|N[b++]<<16|N[b++]<<24;N=L.g[0],b=L.g[1],C=L.g[2];var D=L.g[3],w=N+(D^b&(C^D))+T[0]+3614090360&4294967295;N=b+(w<<7&4294967295|w>>>25),w=D+(C^N&(b^C))+T[1]+3905402710&4294967295,D=N+(w<<12&4294967295|w>>>20),w=C+(b^D&(N^b))+T[2]+606105819&4294967295,C=D+(w<<17&4294967295|w>>>15),w=b+(N^C&(D^N))+T[3]+3250441966&4294967295,b=C+(w<<22&4294967295|w>>>10),w=N+(D^b&(C^D))+T[4]+4118548399&4294967295,N=b+(w<<7&4294967295|w>>>25),w=D+(C^N&(b^C))+T[5]+1200080426&4294967295,D=N+(w<<12&4294967295|w>>>20),w=C+(b^D&(N^b))+T[6]+2821735955&4294967295,C=D+(w<<17&4294967295|w>>>15),w=b+(N^C&(D^N))+T[7]+4249261313&4294967295,b=C+(w<<22&4294967295|w>>>10),w=N+(D^b&(C^D))+T[8]+1770035416&4294967295,N=b+(w<<7&4294967295|w>>>25),w=D+(C^N&(b^C))+T[9]+2336552879&4294967295,D=N+(w<<12&4294967295|w>>>20),w=C+(b^D&(N^b))+T[10]+4294925233&4294967295,C=D+(w<<17&4294967295|w>>>15),w=b+(N^C&(D^N))+T[11]+2304563134&4294967295,b=C+(w<<22&4294967295|w>>>10),w=N+(D^b&(C^D))+T[12]+1804603682&4294967295,N=b+(w<<7&4294967295|w>>>25),w=D+(C^N&(b^C))+T[13]+4254626195&4294967295,D=N+(w<<12&4294967295|w>>>20),w=C+(b^D&(N^b))+T[14]+2792965006&4294967295,C=D+(w<<17&4294967295|w>>>15),w=b+(N^C&(D^N))+T[15]+1236535329&4294967295,b=C+(w<<22&4294967295|w>>>10),w=N+(C^D&(b^C))+T[1]+4129170786&4294967295,N=b+(w<<5&4294967295|w>>>27),w=D+(b^C&(N^b))+T[6]+3225465664&4294967295,D=N+(w<<9&4294967295|w>>>23),w=C+(N^b&(D^N))+T[11]+643717713&4294967295,C=D+(w<<14&4294967295|w>>>18),w=b+(D^N&(C^D))+T[0]+3921069994&4294967295,b=C+(w<<20&4294967295|w>>>12),w=N+(C^D&(b^C))+T[5]+3593408605&4294967295,N=b+(w<<5&4294967295|w>>>27),w=D+(b^C&(N^b))+T[10]+38016083&4294967295,D=N+(w<<9&4294967295|w>>>23),w=C+(N^b&(D^N))+T[15]+3634488961&4294967295,C=D+(w<<14&4294967295|w>>>18),w=b+(D^N&(C^D))+T[4]+3889429448&4294967295,b=C+(w<<20&4294967295|w>>>12),w=N+(C^D&(b^C))+T[9]+568446438&4294967295,N=b+(w<<5&4294967295|w>>>27),w=D+(b^C&(N^b))+T[14]+3275163606&4294967295,D=N+(w<<9&4294967295|w>>>23),w=C+(N^b&(D^N))+T[3]+4107603335&4294967295,C=D+(w<<14&4294967295|w>>>18),w=b+(D^N&(C^D))+T[8]+1163531501&4294967295,b=C+(w<<20&4294967295|w>>>12),w=N+(C^D&(b^C))+T[13]+2850285829&4294967295,N=b+(w<<5&4294967295|w>>>27),w=D+(b^C&(N^b))+T[2]+4243563512&4294967295,D=N+(w<<9&4294967295|w>>>23),w=C+(N^b&(D^N))+T[7]+1735328473&4294967295,C=D+(w<<14&4294967295|w>>>18),w=b+(D^N&(C^D))+T[12]+2368359562&4294967295,b=C+(w<<20&4294967295|w>>>12),w=N+(b^C^D)+T[5]+4294588738&4294967295,N=b+(w<<4&4294967295|w>>>28),w=D+(N^b^C)+T[8]+2272392833&4294967295,D=N+(w<<11&4294967295|w>>>21),w=C+(D^N^b)+T[11]+1839030562&4294967295,C=D+(w<<16&4294967295|w>>>16),w=b+(C^D^N)+T[14]+4259657740&4294967295,b=C+(w<<23&4294967295|w>>>9),w=N+(b^C^D)+T[1]+2763975236&4294967295,N=b+(w<<4&4294967295|w>>>28),w=D+(N^b^C)+T[4]+1272893353&4294967295,D=N+(w<<11&4294967295|w>>>21),w=C+(D^N^b)+T[7]+4139469664&4294967295,C=D+(w<<16&4294967295|w>>>16),w=b+(C^D^N)+T[10]+3200236656&4294967295,b=C+(w<<23&4294967295|w>>>9),w=N+(b^C^D)+T[13]+681279174&4294967295,N=b+(w<<4&4294967295|w>>>28),w=D+(N^b^C)+T[0]+3936430074&4294967295,D=N+(w<<11&4294967295|w>>>21),w=C+(D^N^b)+T[3]+3572445317&4294967295,C=D+(w<<16&4294967295|w>>>16),w=b+(C^D^N)+T[6]+76029189&4294967295,b=C+(w<<23&4294967295|w>>>9),w=N+(b^C^D)+T[9]+3654602809&4294967295,N=b+(w<<4&4294967295|w>>>28),w=D+(N^b^C)+T[12]+3873151461&4294967295,D=N+(w<<11&4294967295|w>>>21),w=C+(D^N^b)+T[15]+530742520&4294967295,C=D+(w<<16&4294967295|w>>>16),w=b+(C^D^N)+T[2]+3299628645&4294967295,b=C+(w<<23&4294967295|w>>>9),w=N+(C^(b|~D))+T[0]+4096336452&4294967295,N=b+(w<<6&4294967295|w>>>26),w=D+(b^(N|~C))+T[7]+1126891415&4294967295,D=N+(w<<10&4294967295|w>>>22),w=C+(N^(D|~b))+T[14]+2878612391&4294967295,C=D+(w<<15&4294967295|w>>>17),w=b+(D^(C|~N))+T[5]+4237533241&4294967295,b=C+(w<<21&4294967295|w>>>11),w=N+(C^(b|~D))+T[12]+1700485571&4294967295,N=b+(w<<6&4294967295|w>>>26),w=D+(b^(N|~C))+T[3]+2399980690&4294967295,D=N+(w<<10&4294967295|w>>>22),w=C+(N^(D|~b))+T[10]+4293915773&4294967295,C=D+(w<<15&4294967295|w>>>17),w=b+(D^(C|~N))+T[1]+2240044497&4294967295,b=C+(w<<21&4294967295|w>>>11),w=N+(C^(b|~D))+T[8]+1873313359&4294967295,N=b+(w<<6&4294967295|w>>>26),w=D+(b^(N|~C))+T[15]+4264355552&4294967295,D=N+(w<<10&4294967295|w>>>22),w=C+(N^(D|~b))+T[6]+2734768916&4294967295,C=D+(w<<15&4294967295|w>>>17),w=b+(D^(C|~N))+T[13]+1309151649&4294967295,b=C+(w<<21&4294967295|w>>>11),w=N+(C^(b|~D))+T[4]+4149444226&4294967295,N=b+(w<<6&4294967295|w>>>26),w=D+(b^(N|~C))+T[11]+3174756917&4294967295,D=N+(w<<10&4294967295|w>>>22),w=C+(N^(D|~b))+T[2]+718787259&4294967295,C=D+(w<<15&4294967295|w>>>17),w=b+(D^(C|~N))+T[9]+3951481745&4294967295,L.g[0]=L.g[0]+N&4294967295,L.g[1]=L.g[1]+(C+(w<<21&4294967295|w>>>11))&4294967295,L.g[2]=L.g[2]+C&4294967295,L.g[3]=L.g[3]+D&4294967295}i.prototype.u=function(L,N){N===void 0&&(N=L.length);for(var b=N-this.blockSize,T=this.B,C=this.h,D=0;D<N;){if(C==0)for(;D<=b;)l(this,L,D),D+=this.blockSize;if(typeof L=="string"){for(;D<N;)if(T[C++]=L.charCodeAt(D++),C==this.blockSize){l(this,T),C=0;break}}else for(;D<N;)if(T[C++]=L[D++],C==this.blockSize){l(this,T),C=0;break}}this.h=C,this.o+=N},i.prototype.v=function(){var L=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);L[0]=128;for(var N=1;N<L.length-8;++N)L[N]=0;var b=8*this.o;for(N=L.length-8;N<L.length;++N)L[N]=b&255,b/=256;for(this.u(L),L=Array(16),N=b=0;4>N;++N)for(var T=0;32>T;T+=8)L[b++]=this.g[N]>>>T&255;return L};function c(L,N){var b=m;return Object.prototype.hasOwnProperty.call(b,L)?b[L]:b[L]=N(L)}function h(L,N){this.h=N;for(var b=[],T=!0,C=L.length-1;0<=C;C--){var D=L[C]|0;T&&D==N||(b[C]=D,T=!1)}this.g=b}var m={};function p(L){return-128<=L&&128>L?c(L,function(N){return new h([N|0],0>N?-1:0)}):new h([L|0],0>L?-1:0)}function y(L){if(isNaN(L)||!isFinite(L))return A;if(0>L)return B(y(-L));for(var N=[],b=1,T=0;L>=b;T++)N[T]=L/b|0,b*=4294967296;return new h(N,0)}function v(L,N){if(L.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(L.charAt(0)=="-")return B(v(L.substring(1),N));if(0<=L.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=y(Math.pow(N,8)),T=A,C=0;C<L.length;C+=8){var D=Math.min(8,L.length-C),w=parseInt(L.substring(C,C+D),N);8>D?(D=y(Math.pow(N,D)),T=T.j(D).add(y(w))):(T=T.j(b),T=T.add(y(w)))}return T}var A=p(0),S=p(1),j=p(16777216);s=h.prototype,s.m=function(){if(V(this))return-B(this).m();for(var L=0,N=1,b=0;b<this.g.length;b++){var T=this.i(b);L+=(0<=T?T:4294967296+T)*N,N*=4294967296}return L},s.toString=function(L){if(L=L||10,2>L||36<L)throw Error("radix out of range: "+L);if(O(this))return"0";if(V(this))return"-"+B(this).toString(L);for(var N=y(Math.pow(L,6)),b=this,T="";;){var C=J(b,N).g;b=F(b,C.j(N));var D=((0<b.g.length?b.g[0]:b.h)>>>0).toString(L);if(b=C,O(b))return D+T;for(;6>D.length;)D="0"+D;T=D+T}},s.i=function(L){return 0>L?0:L<this.g.length?this.g[L]:this.h};function O(L){if(L.h!=0)return!1;for(var N=0;N<L.g.length;N++)if(L.g[N]!=0)return!1;return!0}function V(L){return L.h==-1}s.l=function(L){return L=F(this,L),V(L)?-1:O(L)?0:1};function B(L){for(var N=L.g.length,b=[],T=0;T<N;T++)b[T]=~L.g[T];return new h(b,~L.h).add(S)}s.abs=function(){return V(this)?B(this):this},s.add=function(L){for(var N=Math.max(this.g.length,L.g.length),b=[],T=0,C=0;C<=N;C++){var D=T+(this.i(C)&65535)+(L.i(C)&65535),w=(D>>>16)+(this.i(C)>>>16)+(L.i(C)>>>16);T=w>>>16,D&=65535,w&=65535,b[C]=w<<16|D}return new h(b,b[b.length-1]&-2147483648?-1:0)};function F(L,N){return L.add(B(N))}s.j=function(L){if(O(this)||O(L))return A;if(V(this))return V(L)?B(this).j(B(L)):B(B(this).j(L));if(V(L))return B(this.j(B(L)));if(0>this.l(j)&&0>L.l(j))return y(this.m()*L.m());for(var N=this.g.length+L.g.length,b=[],T=0;T<2*N;T++)b[T]=0;for(T=0;T<this.g.length;T++)for(var C=0;C<L.g.length;C++){var D=this.i(T)>>>16,w=this.i(T)&65535,z=L.i(C)>>>16,ee=L.i(C)&65535;b[2*T+2*C]+=w*ee,G(b,2*T+2*C),b[2*T+2*C+1]+=D*ee,G(b,2*T+2*C+1),b[2*T+2*C+1]+=w*z,G(b,2*T+2*C+1),b[2*T+2*C+2]+=D*z,G(b,2*T+2*C+2)}for(T=0;T<N;T++)b[T]=b[2*T+1]<<16|b[2*T];for(T=N;T<2*N;T++)b[T]=0;return new h(b,0)};function G(L,N){for(;(L[N]&65535)!=L[N];)L[N+1]+=L[N]>>>16,L[N]&=65535,N++}function $(L,N){this.g=L,this.h=N}function J(L,N){if(O(N))throw Error("division by zero");if(O(L))return new $(A,A);if(V(L))return N=J(B(L),N),new $(B(N.g),B(N.h));if(V(N))return N=J(L,B(N)),new $(B(N.g),N.h);if(30<L.g.length){if(V(L)||V(N))throw Error("slowDivide_ only works with positive integers.");for(var b=S,T=N;0>=T.l(L);)b=se(b),T=se(T);var C=le(b,1),D=le(T,1);for(T=le(T,2),b=le(b,2);!O(T);){var w=D.add(T);0>=w.l(L)&&(C=C.add(b),D=w),T=le(T,1),b=le(b,1)}return N=F(L,C.j(N)),new $(C,N)}for(C=A;0<=L.l(N);){for(b=Math.max(1,Math.floor(L.m()/N.m())),T=Math.ceil(Math.log(b)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),D=y(b),w=D.j(N);V(w)||0<w.l(L);)b-=T,D=y(b),w=D.j(N);O(D)&&(D=S),C=C.add(D),L=F(L,w)}return new $(C,L)}s.A=function(L){return J(this,L).h},s.and=function(L){for(var N=Math.max(this.g.length,L.g.length),b=[],T=0;T<N;T++)b[T]=this.i(T)&L.i(T);return new h(b,this.h&L.h)},s.or=function(L){for(var N=Math.max(this.g.length,L.g.length),b=[],T=0;T<N;T++)b[T]=this.i(T)|L.i(T);return new h(b,this.h|L.h)},s.xor=function(L){for(var N=Math.max(this.g.length,L.g.length),b=[],T=0;T<N;T++)b[T]=this.i(T)^L.i(T);return new h(b,this.h^L.h)};function se(L){for(var N=L.g.length+1,b=[],T=0;T<N;T++)b[T]=L.i(T)<<1|L.i(T-1)>>>31;return new h(b,L.h)}function le(L,N){var b=N>>5;N%=32;for(var T=L.g.length-b,C=[],D=0;D<T;D++)C[D]=0<N?L.i(D+b)>>>N|L.i(D+b+1)<<32-N:L.i(D+b);return new h(C,L.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,tE=i,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=v,xi=h}).apply(typeof tx<"u"?tx:typeof self<"u"?self:typeof window<"u"?window:{});var ld=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var nE,sc,sE,vd,Wm,aE,iE,rE;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,_,x){return d==Array.prototype||d==Object.prototype||(d[_]=x.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof ld=="object"&&ld];for(var _=0;_<d.length;++_){var x=d[_];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var i=t(this);function l(d,_){if(_)e:{var x=i;d=d.split(".");for(var I=0;I<d.length-1;I++){var Y=d[I];if(!(Y in x))break e;x=x[Y]}d=d[d.length-1],I=x[d],_=_(I),_!=I&&_!=null&&e(x,d,{configurable:!0,writable:!0,value:_})}}function c(d,_){d instanceof String&&(d+="");var x=0,I=!1,Y={next:function(){if(!I&&x<d.length){var te=x++;return{value:_(te,d[te]),done:!1}}return I=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}l("Array.prototype.values",function(d){return d||function(){return c(this,function(_,x){return x})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function p(d){var _=typeof d;return _=_!="object"?_:d?Array.isArray(d)?"array":_:"null",_=="array"||_=="object"&&typeof d.length=="number"}function y(d){var _=typeof d;return _=="object"&&d!=null||_=="function"}function v(d,_,x){return d.call.apply(d.bind,arguments)}function A(d,_,x){if(!d)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,I),d.apply(_,Y)}}return function(){return d.apply(_,arguments)}}function S(d,_,x){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:A,S.apply(null,arguments)}function j(d,_){var x=Array.prototype.slice.call(arguments,1);return function(){var I=x.slice();return I.push.apply(I,arguments),d.apply(this,I)}}function O(d,_){function x(){}x.prototype=_.prototype,d.aa=_.prototype,d.prototype=new x,d.prototype.constructor=d,d.Qb=function(I,Y,te){for(var fe=Array(arguments.length-2),He=2;He<arguments.length;He++)fe[He-2]=arguments[He];return _.prototype[Y].apply(I,fe)}}function V(d){const _=d.length;if(0<_){const x=Array(_);for(let I=0;I<_;I++)x[I]=d[I];return x}return[]}function B(d,_){for(let x=1;x<arguments.length;x++){const I=arguments[x];if(p(I)){const Y=d.length||0,te=I.length||0;d.length=Y+te;for(let fe=0;fe<te;fe++)d[Y+fe]=I[fe]}else d.push(I)}}class F{constructor(_,x){this.i=_,this.j=x,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function G(d){return/^[\s\xa0]*$/.test(d)}function $(){var d=m.navigator;return d&&(d=d.userAgent)?d:""}function J(d){return J[" "](d),d}J[" "]=function(){};var se=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function le(d,_,x){for(const I in d)_.call(x,d[I],I,d)}function L(d,_){for(const x in d)_.call(void 0,d[x],x,d)}function N(d){const _={};for(const x in d)_[x]=d[x];return _}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(d,_){let x,I;for(let Y=1;Y<arguments.length;Y++){I=arguments[Y];for(x in I)d[x]=I[x];for(let te=0;te<b.length;te++)x=b[te],Object.prototype.hasOwnProperty.call(I,x)&&(d[x]=I[x])}}function C(d){var _=1;d=d.split(":");const x=[];for(;0<_&&d.length;)x.push(d.shift()),_--;return d.length&&x.push(d.join(":")),x}function D(d){m.setTimeout(()=>{throw d},0)}function w(){var d=he;let _=null;return d.g&&(_=d.g,d.g=d.g.next,d.g||(d.h=null),_.next=null),_}class z{constructor(){this.h=this.g=null}add(_,x){const I=ee.get();I.set(_,x),this.h?this.h.next=I:this.g=I,this.h=I}}var ee=new F(()=>new H,d=>d.reset());class H{constructor(){this.next=this.g=this.h=null}set(_,x){this.h=_,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let X,ae=!1,he=new z,P=()=>{const d=m.Promise.resolve(void 0);X=()=>{d.then(ne)}};var ne=()=>{for(var d;d=w();){try{d.h.call(d.g)}catch(x){D(x)}var _=ee;_.j(d),100>_.h&&(_.h++,d.next=_.g,_.g=d)}ae=!1};function pe(){this.s=this.s,this.C=this.C}pe.prototype.s=!1,pe.prototype.ma=function(){this.s||(this.s=!0,this.N())},pe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ge(d,_){this.type=d,this.g=this.target=_,this.defaultPrevented=!1}ge.prototype.h=function(){this.defaultPrevented=!0};var me=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var d=!1,_=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const x=()=>{};m.addEventListener("test",x,_),m.removeEventListener("test",x,_)}catch{}return d}();function Ne(d,_){if(ge.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var x=this.type=d.type,I=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=_,_=d.relatedTarget){if(se){e:{try{J(_.nodeName);var Y=!0;break e}catch{}Y=!1}Y||(_=null)}}else x=="mouseover"?_=d.fromElement:x=="mouseout"&&(_=d.toElement);this.relatedTarget=_,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:je[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Ne.aa.h.call(this)}}O(Ne,ge);var je={2:"touch",3:"pen",4:"mouse"};Ne.prototype.h=function(){Ne.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var ft="closure_listenable_"+(1e6*Math.random()|0),ze=0;function it(d,_,x,I,Y){this.listener=d,this.proxy=null,this.src=_,this.type=x,this.capture=!!I,this.ha=Y,this.key=++ze,this.da=this.fa=!1}function We(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Qt(d){this.src=d,this.g={},this.h=0}Qt.prototype.add=function(d,_,x,I,Y){var te=d.toString();d=this.g[te],d||(d=this.g[te]=[],this.h++);var fe=vn(d,_,I,Y);return-1<fe?(_=d[fe],x||(_.fa=!1)):(_=new it(_,this.src,te,!!I,Y),_.fa=x,d.push(_)),_};function ss(d,_){var x=_.type;if(x in d.g){var I=d.g[x],Y=Array.prototype.indexOf.call(I,_,void 0),te;(te=0<=Y)&&Array.prototype.splice.call(I,Y,1),te&&(We(_),d.g[x].length==0&&(delete d.g[x],d.h--))}}function vn(d,_,x,I){for(var Y=0;Y<d.length;++Y){var te=d[Y];if(!te.da&&te.listener==_&&te.capture==!!x&&te.ha==I)return Y}return-1}var ye="closure_lm_"+(1e6*Math.random()|0),Ge={};function Ct(d,_,x,I,Y){if(Array.isArray(_)){for(var te=0;te<_.length;te++)Ct(d,_[te],x,I,Y);return null}return x=Vc(x),d&&d[ft]?d.K(_,x,y(I)?!!I.capture:!1,Y):Mn(d,_,x,!1,I,Y)}function Mn(d,_,x,I,Y,te){if(!_)throw Error("Invalid event type");var fe=y(Y)?!!Y.capture:!!Y,He=Di(d);if(He||(d[ye]=He=new Qt(d)),x=He.add(_,x,I,fe,te),x.proxy)return x;if(I=An(),x.proxy=I,I.src=d,I.listener=x,d.addEventListener)me||(Y=fe),Y===void 0&&(Y=!1),d.addEventListener(_.toString(),I,Y);else if(d.attachEvent)d.attachEvent(ka(_.toString()),I);else if(d.addListener&&d.removeListener)d.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return x}function An(){function d(x){return _.call(d.src,d.listener,x)}const _=Fl;return d}function Fs(d,_,x,I,Y){if(Array.isArray(_))for(var te=0;te<_.length;te++)Fs(d,_[te],x,I,Y);else I=y(I)?!!I.capture:!!I,x=Vc(x),d&&d[ft]?(d=d.i,_=String(_).toString(),_ in d.g&&(te=d.g[_],x=vn(te,x,I,Y),-1<x&&(We(te[x]),Array.prototype.splice.call(te,x,1),te.length==0&&(delete d.g[_],d.h--)))):d&&(d=Di(d))&&(_=d.g[_.toString()],d=-1,_&&(d=vn(_,x,I,Y)),(x=-1<d?_[d]:null)&&_s(x))}function _s(d){if(typeof d!="number"&&d&&!d.da){var _=d.src;if(_&&_[ft])ss(_.i,d);else{var x=d.type,I=d.proxy;_.removeEventListener?_.removeEventListener(x,I,d.capture):_.detachEvent?_.detachEvent(ka(x),I):_.addListener&&_.removeListener&&_.removeListener(I),(x=Di(_))?(ss(x,d),x.h==0&&(x.src=null,_[ye]=null)):We(d)}}}function ka(d){return d in Ge?Ge[d]:Ge[d]="on"+d}function Fl(d,_){if(d.da)d=!0;else{_=new Ne(_,this);var x=d.listener,I=d.ha||d.src;d.fa&&_s(d),d=x.call(I,_)}return d}function Di(d){return d=d[ye],d instanceof Qt?d:null}var Yt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Vc(d){return typeof d=="function"?d:(d[Yt]||(d[Yt]=function(_){return d.handleEvent(_)}),d[Yt])}function It(){pe.call(this),this.i=new Qt(this),this.M=this,this.F=null}O(It,pe),It.prototype[ft]=!0,It.prototype.removeEventListener=function(d,_,x,I){Fs(this,d,_,x,I)};function Bt(d,_){var x,I=d.F;if(I)for(x=[];I;I=I.F)x.push(I);if(d=d.M,I=_.type||_,typeof _=="string")_=new ge(_,d);else if(_ instanceof ge)_.target=_.target||d;else{var Y=_;_=new ge(I,d),T(_,Y)}if(Y=!0,x)for(var te=x.length-1;0<=te;te--){var fe=_.g=x[te];Y=Gs(fe,I,!0,_)&&Y}if(fe=_.g=d,Y=Gs(fe,I,!0,_)&&Y,Y=Gs(fe,I,!1,_)&&Y,x)for(te=0;te<x.length;te++)fe=_.g=x[te],Y=Gs(fe,I,!1,_)&&Y}It.prototype.N=function(){if(It.aa.N.call(this),this.i){var d=this.i,_;for(_ in d.g){for(var x=d.g[_],I=0;I<x.length;I++)We(x[I]);delete d.g[_],d.h--}}this.F=null},It.prototype.K=function(d,_,x,I){return this.i.add(String(d),_,!1,x,I)},It.prototype.L=function(d,_,x,I){return this.i.add(String(d),_,!0,x,I)};function Gs(d,_,x,I){if(_=d.i.g[String(_)],!_)return!0;_=_.concat();for(var Y=!0,te=0;te<_.length;++te){var fe=_[te];if(fe&&!fe.da&&fe.capture==x){var He=fe.listener,Dt=fe.ha||fe.src;fe.fa&&ss(d.i,fe),Y=He.call(Dt,I)!==!1&&Y}}return Y&&!I.defaultPrevented}function Bc(d,_,x){if(typeof d=="function")x&&(d=S(d,x));else if(d&&typeof d.handleEvent=="function")d=S(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:m.setTimeout(d,_||0)}function Gl(d){d.g=Bc(()=>{d.g=null,d.i&&(d.i=!1,Gl(d))},d.l);const _=d.h;d.h=null,d.m.apply(null,_)}class Ah extends pe{constructor(_,x){super(),this.m=_,this.l=x,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Gl(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Oi(d){pe.call(this),this.h=d,this.g={}}O(Oi,pe);var Ca=[];function an(d){le(d.g,function(_,x){this.g.hasOwnProperty(x)&&_s(_)},d),d.g={}}Oi.prototype.N=function(){Oi.aa.N.call(this),an(this)},Oi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $l=m.JSON.stringify,vs=m.JSON.parse,hn=class{stringify(d){return m.JSON.stringify(d,void 0)}parse(d){return m.JSON.parse(d,void 0)}};function Ql(){}Ql.prototype.h=null;function zc(d){return d.h||(d.h=d.i())}function Hc(){}var xs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ia(){ge.call(this,"d")}O(Ia,ge);function as(){ge.call(this,"c")}O(as,ge);var Ln={},ja=null;function Ir(){return ja=ja||new It}Ln.La="serverreachability";function Yl(d){ge.call(this,Ln.La,d)}O(Yl,ge);function Da(d){const _=Ir();Bt(_,new Yl(_))}Ln.STAT_EVENT="statevent";function jr(d,_){ge.call(this,Ln.STAT_EVENT,d),this.stat=_}O(jr,ge);function bt(d){const _=Ir();Bt(_,new jr(_,d))}Ln.Ma="timingevent";function qc(d,_){ge.call(this,Ln.Ma,d),this.size=_}O(qc,ge);function Oa(d,_){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){d()},_)}function Ma(){this.g=!0}Ma.prototype.xa=function(){this.g=!1};function Kc(d,_,x,I,Y,te){d.info(function(){if(d.g)if(te)for(var fe="",He=te.split("&"),Dt=0;Dt<He.length;Dt++){var qe=He[Dt].split("=");if(1<qe.length){var qt=qe[0];qe=qe[1];var Ot=qt.split("_");fe=2<=Ot.length&&Ot[1]=="type"?fe+(qt+"="+qe+"&"):fe+(qt+"=redacted&")}}else fe=null;else fe=te;return"XMLHTTP REQ ("+I+") [attempt "+Y+"]: "+_+`
`+x+`
`+fe})}function Fc(d,_,x,I,Y,te,fe){d.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+Y+"]: "+_+`
`+x+`
`+te+" "+fe})}function La(d,_,x,I){d.info(function(){return"XMLHTTP TEXT ("+_+"): "+zt(d,x)+(I?" "+I:"")})}function Es(d,_){d.info(function(){return"TIMEOUT: "+_})}Ma.prototype.info=function(){};function zt(d,_){if(!d.g)return _;if(!_)return null;try{var x=JSON.parse(_);if(x){for(d=0;d<x.length;d++)if(Array.isArray(x[d])){var I=x[d];if(!(2>I.length)){var Y=I[1];if(Array.isArray(Y)&&!(1>Y.length)){var te=Y[0];if(te!="noop"&&te!="stop"&&te!="close")for(var fe=1;fe<Y.length;fe++)Y[fe]=""}}}}return $l(x)}catch{return _}}var jt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},$s={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Mi;function Dr(){}O(Dr,Ql),Dr.prototype.g=function(){return new XMLHttpRequest},Dr.prototype.i=function(){return{}},Mi=new Dr;function bs(d,_,x,I){this.j=d,this.i=_,this.l=x,this.R=I||1,this.U=new Oi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Wl}function Wl(){this.i=null,this.g="",this.h=!1}var Pa={},Li={};function is(d,_,x){d.L=1,d.v=Vi(mt(_)),d.m=x,d.P=!0,Qs(d,null)}function Qs(d,_){d.F=Date.now(),ct(d),d.A=mt(d.v);var x=d.A,I=d.R;Array.isArray(I)||(I=[String(I)]),Xs(x.i,"t",I),d.C=0,x=d.j.J,d.h=new Wl,d.g=iu(d.j,x?_:null,!d.m),0<d.O&&(d.M=new Ah(S(d.Y,d,d.g),d.O)),_=d.U,x=d.g,I=d.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(Ca[0]=Y.toString()),Y=Ca);for(var te=0;te<Y.length;te++){var fe=Ct(x,Y[te],I||_.handleEvent,!1,_.h||_);if(!fe)break;_.g[fe.key]=fe}_=d.H?N(d.H):{},d.m?(d.u||(d.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,_)):(d.u="GET",d.g.ea(d.A,d.u,null,_)),Da(),Kc(d.i,d.u,d.A,d.l,d.R,d.m)}bs.prototype.ca=function(d){d=d.target;const _=this.M;_&&zn(d)==3?_.j():this.Y(d)},bs.prototype.Y=function(d){try{if(d==this.g)e:{const Ot=zn(this.g);var _=this.g.Ba();const ta=this.g.Z();if(!(3>Ot)&&(Ot!=3||this.g&&(this.h.h||this.g.oa()||Xc(this.g)))){this.J||Ot!=4||_==7||(_==8||0>=ta?Da(3):Da(2)),Or(this);var x=this.g.Z();this.X=x;t:if(Ua(this)){var I=Xc(this.g);d="";var Y=I.length,te=zn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xn(this),Sn(this);var fe="";break t}this.h.i=new m.TextDecoder}for(_=0;_<Y;_++)this.h.h=!0,d+=this.h.i.decode(I[_],{stream:!(te&&_==Y-1)});I.length=0,this.h.g+=d,this.C=0,fe=this.h.g}else fe=this.g.oa();if(this.o=x==200,Fc(this.i,this.u,this.A,this.l,this.R,Ot,x),this.o){if(this.T&&!this.K){t:{if(this.g){var He,Dt=this.g;if((He=Dt.g?Dt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(He)){var qe=He;break t}}qe=null}if(x=qe)La(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,wn(this,x);else{this.o=!1,this.s=3,bt(12),xn(this),Sn(this);break e}}if(this.P){x=!0;let Wt;for(;!this.J&&this.C<fe.length;)if(Wt=Va(this,fe),Wt==Li){Ot==4&&(this.s=4,bt(14),x=!1),La(this.i,this.l,null,"[Incomplete Response]");break}else if(Wt==Pa){this.s=4,bt(15),La(this.i,this.l,fe,"[Invalid Chunk]"),x=!1;break}else La(this.i,this.l,Wt,null),wn(this,Wt);if(Ua(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ot!=4||fe.length!=0||this.h.h||(this.s=1,bt(16),x=!1),this.o=this.o&&x,!x)La(this.i,this.l,fe,"[Invalid Chunked Response]"),xn(this),Sn(this);else if(0<fe.length&&!this.W){this.W=!0;var qt=this.j;qt.g==this&&qt.ba&&!qt.M&&(qt.j.info("Great, no buffering proxy detected. Bytes received: "+fe.length),Gi(qt),qt.M=!0,bt(11))}}else La(this.i,this.l,fe,null),wn(this,fe);Ot==4&&xn(this),this.o&&!this.J&&(Ot==4?nu(this.j,this):(this.o=!1,ct(this)))}else Ch(this.g),x==400&&0<fe.indexOf("Unknown SID")?(this.s=3,bt(12)):(this.s=0,bt(13)),xn(this),Sn(this)}}}catch{}finally{}};function Ua(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Va(d,_){var x=d.C,I=_.indexOf(`
`,x);return I==-1?Li:(x=Number(_.substring(x,I)),isNaN(x)?Pa:(I+=1,I+x>_.length?Li:(_=_.slice(I,I+x),d.C=I+x,_)))}bs.prototype.cancel=function(){this.J=!0,xn(this)};function ct(d){d.S=Date.now()+d.I,Xl(d,d.I)}function Xl(d,_){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Oa(S(d.ba,d),_)}function Or(d){d.B&&(m.clearTimeout(d.B),d.B=null)}bs.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Es(this.i,this.A),this.L!=2&&(Da(),bt(17)),xn(this),this.s=2,Sn(this)):Xl(this,this.S-d)};function Sn(d){d.j.G==0||d.J||nu(d.j,d)}function xn(d){Or(d);var _=d.M;_&&typeof _.ma=="function"&&_.ma(),d.M=null,an(d.U),d.g&&(_=d.g,d.g=null,_.abort(),_.ma())}function wn(d,_){try{var x=d.j;if(x.G!=0&&(x.g==d||Ba(x.h,d))){if(!d.K&&Ba(x.h,d)&&x.G==3){try{var I=x.Da.g.parse(_)}catch{I=null}if(Array.isArray(I)&&I.length==3){var Y=I;if(Y[0]==0){e:if(!x.u){if(x.g)if(x.g.F+3e3<d.F)Kr(x),Hr(x);else break e;oo(x),bt(18)}}else x.za=Y[1],0<x.za-x.T&&37500>Y[2]&&x.F&&x.v==0&&!x.C&&(x.C=Oa(S(x.Za,x),6e3));if(1>=Gc(x.h)&&x.ca){try{x.ca()}catch{}x.ca=void 0}}else ea(x,11)}else if((d.K||x.g==d)&&Kr(x),!G(_))for(Y=x.Da.g.parse(_),_=0;_<Y.length;_++){let qe=Y[_];if(x.T=qe[0],qe=qe[1],x.G==2)if(qe[0]=="c"){x.K=qe[1],x.ia=qe[2];const qt=qe[3];qt!=null&&(x.la=qt,x.j.info("VER="+x.la));const Ot=qe[4];Ot!=null&&(x.Aa=Ot,x.j.info("SVER="+x.Aa));const ta=qe[5];ta!=null&&typeof ta=="number"&&0<ta&&(I=1.5*ta,x.L=I,x.j.info("backChannelRequestTimeoutMs_="+I)),I=x;const Wt=d.g;if(Wt){const ks=Wt.g?Wt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ks){var te=I.h;te.g||ks.indexOf("spdy")==-1&&ks.indexOf("quic")==-1&&ks.indexOf("h2")==-1||(te.j=te.l,te.g=new Set,te.h&&(za(te,te.h),te.h=null))}if(I.D){const uo=Wt.g?Wt.g.getResponseHeader("X-HTTP-Session-Id"):null;uo&&(I.ya=uo,$e(I.I,I.D,uo))}}x.G=3,x.l&&x.l.ua(),x.ba&&(x.R=Date.now()-d.F,x.j.info("Handshake RTT: "+x.R+"ms")),I=x;var fe=d;if(I.qa=au(I,I.J?I.ia:null,I.W),fe.K){Pn(I.h,fe);var He=fe,Dt=I.L;Dt&&(He.I=Dt),He.B&&(Or(He),ct(He)),I.g=fe}else eu(I);0<x.i.length&&qr(x)}else qe[0]!="stop"&&qe[0]!="close"||ea(x,7);else x.G==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?ea(x,7):ro(x):qe[0]!="noop"&&x.l&&x.l.ta(qe),x.v=0)}}Da(4)}catch{}}var Sh=class{constructor(d,_){this.g=d,this.map=_}};function Zl(d){this.l=d||10,m.PerformanceNavigationTiming?(d=m.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Jl(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Gc(d){return d.h?1:d.g?d.g.size:0}function Ba(d,_){return d.h?d.h==_:d.g?d.g.has(_):!1}function za(d,_){d.g?d.g.add(_):d.h=_}function Pn(d,_){d.h&&d.h==_?d.h=null:d.g&&d.g.has(_)&&d.g.delete(_)}Zl.prototype.cancel=function(){if(this.i=fn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function fn(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let _=d.i;for(const x of d.g.values())_=_.concat(x.D);return _}return V(d.i)}function $c(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(p(d)){for(var _=[],x=d.length,I=0;I<x;I++)_.push(d[I]);return _}_=[],x=0;for(I in d)_[x++]=d[I];return _}function wh(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(p(d)||typeof d=="string"){var _=[];d=d.length;for(var x=0;x<d;x++)_.push(x);return _}_=[],x=0;for(const I in d)_[x++]=I;return _}}}function Pi(d,_){if(d.forEach&&typeof d.forEach=="function")d.forEach(_,void 0);else if(p(d)||typeof d=="string")Array.prototype.forEach.call(d,_,void 0);else for(var x=wh(d),I=$c(d),Y=I.length,te=0;te<Y;te++)_.call(void 0,I[te],x&&x[te],d)}var eo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Mr(d,_){if(d){d=d.split("&");for(var x=0;x<d.length;x++){var I=d[x].indexOf("="),Y=null;if(0<=I){var te=d[x].substring(0,I);Y=d[x].substring(I+1)}else te=d[x];_(te,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function Ys(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Ys){this.h=d.h,Ha(this,d.j),this.o=d.o,this.g=d.g,Ui(this,d.s),this.l=d.l;var _=d.i,x=new Ts;x.i=_.i,_.g&&(x.g=new Map(_.g),x.h=_.h),Lr(this,x),this.m=d.m}else d&&(_=String(d).match(eo))?(this.h=!1,Ha(this,_[1]||"",!0),this.o=qa(_[2]||""),this.g=qa(_[3]||"",!0),Ui(this,_[4]),this.l=qa(_[5]||"",!0),Lr(this,_[6]||"",!0),this.m=qa(_[7]||"")):(this.h=!1,this.i=new Ts(null,this.h))}Ys.prototype.toString=function(){var d=[],_=this.j;_&&d.push(Un(_,to,!0),":");var x=this.g;return(x||_=="file")&&(d.push("//"),(_=this.o)&&d.push(Un(_,to,!0),"@"),d.push(encodeURIComponent(String(x)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.s,x!=null&&d.push(":",String(x))),(x=this.l)&&(this.g&&x.charAt(0)!="/"&&d.push("/"),d.push(Un(x,x.charAt(0)=="/"?no:Qc,!0))),(x=this.i.toString())&&d.push("?",x),(x=this.m)&&d.push("#",Un(x,kh)),d.join("")};function mt(d){return new Ys(d)}function Ha(d,_,x){d.j=x?qa(_,!0):_,d.j&&(d.j=d.j.replace(/:$/,""))}function Ui(d,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);d.s=_}else d.s=null}function Lr(d,_,x){_ instanceof Ts?(d.i=_,so(d.i,d.h)):(x||(_=Un(_,Rh)),d.i=new Ts(_,d.h))}function $e(d,_,x){d.i.set(_,x)}function Vi(d){return $e(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function qa(d,_){return d?_?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Un(d,_,x){return typeof d=="string"?(d=encodeURI(d).replace(_,Nh),x&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Nh(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var to=/[#\/\?@]/g,Qc=/[#\?:]/g,no=/[#\?]/g,Rh=/[#\?@]/g,kh=/#/g;function Ts(d,_){this.h=this.g=null,this.i=d||null,this.j=!!_}function Vn(d){d.g||(d.g=new Map,d.h=0,d.i&&Mr(d.i,function(_,x){d.add(decodeURIComponent(_.replace(/\+/g," ")),x)}))}s=Ts.prototype,s.add=function(d,_){Vn(this),this.i=null,d=Zs(this,d);var x=this.g.get(d);return x||this.g.set(d,x=[]),x.push(_),this.h+=1,this};function Pr(d,_){Vn(d),_=Zs(d,_),d.g.has(_)&&(d.i=null,d.h-=d.g.get(_).length,d.g.delete(_))}function Ws(d,_){return Vn(d),_=Zs(d,_),d.g.has(_)}s.forEach=function(d,_){Vn(this),this.g.forEach(function(x,I){x.forEach(function(Y){d.call(_,Y,I,this)},this)},this)},s.na=function(){Vn(this);const d=Array.from(this.g.values()),_=Array.from(this.g.keys()),x=[];for(let I=0;I<_.length;I++){const Y=d[I];for(let te=0;te<Y.length;te++)x.push(_[I])}return x},s.V=function(d){Vn(this);let _=[];if(typeof d=="string")Ws(this,d)&&(_=_.concat(this.g.get(Zs(this,d))));else{d=Array.from(this.g.values());for(let x=0;x<d.length;x++)_=_.concat(d[x])}return _},s.set=function(d,_){return Vn(this),this.i=null,d=Zs(this,d),Ws(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[_]),this.h+=1,this},s.get=function(d,_){return d?(d=this.V(d),0<d.length?String(d[0]):_):_};function Xs(d,_,x){Pr(d,_),0<x.length&&(d.i=null,d.g.set(Zs(d,_),V(x)),d.h+=x.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],_=Array.from(this.g.keys());for(var x=0;x<_.length;x++){var I=_[x];const te=encodeURIComponent(String(I)),fe=this.V(I);for(I=0;I<fe.length;I++){var Y=te;fe[I]!==""&&(Y+="="+encodeURIComponent(String(fe[I]))),d.push(Y)}}return this.i=d.join("&")};function Zs(d,_){return _=String(_),d.j&&(_=_.toLowerCase()),_}function so(d,_){_&&!d.j&&(Vn(d),d.i=null,d.g.forEach(function(x,I){var Y=I.toLowerCase();I!=Y&&(Pr(this,I),Xs(this,Y,x))},d)),d.j=_}function Yc(d,_){const x=new Ma;if(m.Image){const I=new Image;I.onload=j(Bn,x,"TestLoadImage: loaded",!0,_,I),I.onerror=j(Bn,x,"TestLoadImage: error",!1,_,I),I.onabort=j(Bn,x,"TestLoadImage: abort",!1,_,I),I.ontimeout=j(Bn,x,"TestLoadImage: timeout",!1,_,I),m.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=d}else _(!1)}function Bi(d,_){const x=new Ma,I=new AbortController,Y=setTimeout(()=>{I.abort(),Bn(x,"TestPingServer: timeout",!1,_)},1e4);fetch(d,{signal:I.signal}).then(te=>{clearTimeout(Y),te.ok?Bn(x,"TestPingServer: ok",!0,_):Bn(x,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(Y),Bn(x,"TestPingServer: error",!1,_)})}function Bn(d,_,x,I,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),I(x)}catch{}}function zi(){this.g=new hn}function As(d,_,x){const I=x||"";try{Pi(d,function(Y,te){let fe=Y;y(Y)&&(fe=$l(Y)),_.push(I+te+"="+encodeURIComponent(fe))})}catch(Y){throw _.push(I+"type="+encodeURIComponent("_badmap")),Y}}function Ka(d){this.l=d.Ub||null,this.j=d.eb||!1}O(Ka,Ql),Ka.prototype.g=function(){return new Js(this.l,this.j)},Ka.prototype.i=function(d){return function(){return d}}({});function Js(d,_){It.call(this),this.D=d,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(Js,It),s=Js.prototype,s.open=function(d,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=_,this.readyState=1,ws(this)},s.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(_.body=d),(this.D||m).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ss(this)),this.readyState=0},s.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,ws(this)),this.g&&(this.readyState=3,ws(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ao(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function ao(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}s.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var _=d.value?d.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!d.done}))&&(this.response=this.responseText+=_)}d.done?Ss(this):ws(this),this.readyState==3&&ao(this)}},s.Ra=function(d){this.g&&(this.response=this.responseText=d,Ss(this))},s.Qa=function(d){this.g&&(this.response=d,Ss(this))},s.ga=function(){this.g&&Ss(this)};function Ss(d){d.readyState=4,d.l=null,d.j=null,d.v=null,ws(d)}s.setRequestHeader=function(d,_){this.u.append(d,_)},s.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],_=this.h.entries();for(var x=_.next();!x.done;)x=x.value,d.push(x[0]+": "+x[1]),x=_.next();return d.join(`\r
`)};function ws(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Js.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function io(d){let _="";return le(d,function(x,I){_+=I,_+=":",_+=x,_+=`\r
`}),_}function Ht(d,_,x){e:{for(I in x){var I=!1;break e}I=!0}I||(x=io(x),typeof d=="string"?x!=null&&encodeURIComponent(String(x)):$e(d,_,x))}function Xe(d){It.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(Xe,It);var Ur=/^https?$/i,Hi=["POST","PUT"];s=Xe.prototype,s.Ha=function(d){this.J=d},s.ea=function(d,_,x,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);_=_?_.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Mi.g(),this.v=this.o?zc(this.o):zc(Mi),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(_,String(d),!0),this.B=!1}catch(te){Wc(this,te);return}if(d=x||"",x=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var Y in I)x.set(Y,I[Y]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const te of I.keys())x.set(te,I.get(te));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(x.keys()).find(te=>te.toLowerCase()=="content-type"),Y=m.FormData&&d instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Hi,_,void 0))||I||Y||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[te,fe]of x)this.g.setRequestHeader(te,fe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{qi(this),this.u=!0,this.g.send(d),this.u=!1}catch(te){Wc(this,te)}};function Wc(d,_){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=_,d.m=5,Vr(d),Ns(d)}function Vr(d){d.A||(d.A=!0,Bt(d,"complete"),Bt(d,"error"))}s.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Bt(this,"complete"),Bt(this,"abort"),Ns(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ns(this,!0)),Xe.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Br(this):this.bb())},s.bb=function(){Br(this)};function Br(d){if(d.h&&typeof h<"u"&&(!d.v[1]||zn(d)!=4||d.Z()!=2)){if(d.u&&zn(d)==4)Bc(d.Ea,0,d);else if(Bt(d,"readystatechange"),zn(d)==4){d.h=!1;try{const fe=d.Z();e:switch(fe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var x;if(!(x=_)){var I;if(I=fe===0){var Y=String(d.D).match(eo)[1]||null;!Y&&m.self&&m.self.location&&(Y=m.self.location.protocol.slice(0,-1)),I=!Ur.test(Y?Y.toLowerCase():"")}x=I}if(x)Bt(d,"complete"),Bt(d,"success");else{d.m=6;try{var te=2<zn(d)?d.g.statusText:""}catch{te=""}d.l=te+" ["+d.Z()+"]",Vr(d)}}finally{Ns(d)}}}}function Ns(d,_){if(d.g){qi(d);const x=d.g,I=d.v[0]?()=>{}:null;d.g=null,d.v=null,_||Bt(d,"ready");try{x.onreadystatechange=I}catch{}}}function qi(d){d.I&&(m.clearTimeout(d.I),d.I=null)}s.isActive=function(){return!!this.g};function zn(d){return d.g?d.g.readyState:0}s.Z=function(){try{return 2<zn(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(d){if(this.g){var _=this.g.responseText;return d&&_.indexOf(d)==0&&(_=_.substring(d.length)),vs(_)}};function Xc(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Ch(d){const _={};d=(d.g&&2<=zn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<d.length;I++){if(G(d[I]))continue;var x=C(d[I]);const Y=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const te=_[Y]||[];_[Y]=te,te.push(x)}L(_,function(I){return I.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ki(d,_,x){return x&&x.internalChannelParams&&x.internalChannelParams[d]||_}function zr(d){this.Aa=0,this.i=[],this.j=new Ma,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ki("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ki("baseRetryDelayMs",5e3,d),this.cb=Ki("retryDelaySeedMs",1e4,d),this.Wa=Ki("forwardChannelMaxRetries",2,d),this.wa=Ki("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Zl(d&&d.concurrentRequestLimit),this.Da=new zi,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=zr.prototype,s.la=8,s.G=1,s.connect=function(d,_,x,I){bt(0),this.W=d,this.H=_||{},x&&I!==void 0&&(this.H.OSID=x,this.H.OAID=I),this.F=this.X,this.I=au(this,null,this.W),qr(this)};function ro(d){if(Zc(d),d.G==3){var _=d.U++,x=mt(d.I);if($e(x,"SID",d.K),$e(x,"RID",_),$e(x,"TYPE","terminate"),Fi(d,x),_=new bs(d,d.j,_),_.L=2,_.v=Vi(mt(x)),x=!1,m.navigator&&m.navigator.sendBeacon)try{x=m.navigator.sendBeacon(_.v.toString(),"")}catch{}!x&&m.Image&&(new Image().src=_.v,x=!0),x||(_.g=iu(_.j,null),_.g.ea(_.v)),_.F=Date.now(),ct(_)}su(d)}function Hr(d){d.g&&(Gi(d),d.g.cancel(),d.g=null)}function Zc(d){Hr(d),d.u&&(m.clearTimeout(d.u),d.u=null),Kr(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&m.clearTimeout(d.s),d.s=null)}function qr(d){if(!Jl(d.h)&&!d.s){d.s=!0;var _=d.Ga;X||P(),ae||(X(),ae=!0),he.add(_,d),d.B=0}}function Ih(d,_){return Gc(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=_.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Oa(S(d.Ga,d,_),co(d,d.B)),d.B++,!0)}s.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const Y=new bs(this,this.j,d);let te=this.o;if(this.S&&(te?(te=N(te),T(te,this.S)):te=this.S),this.m!==null||this.O||(Y.H=te,te=null),this.P)e:{for(var _=0,x=0;x<this.i.length;x++){t:{var I=this.i[x];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(_+=I,4096<_){_=x;break e}if(_===4096||x===this.i.length-1){_=x+1;break e}}_=1e3}else _=1e3;_=Jc(this,Y,_),x=mt(this.I),$e(x,"RID",d),$e(x,"CVER",22),this.D&&$e(x,"X-HTTP-Session-Id",this.D),Fi(this,x),te&&(this.O?_="headers="+encodeURIComponent(String(io(te)))+"&"+_:this.m&&Ht(x,this.m,te)),za(this.h,Y),this.Ua&&$e(x,"TYPE","init"),this.P?($e(x,"$req",_),$e(x,"SID","null"),Y.T=!0,is(Y,x,null)):is(Y,x,_),this.G=2}}else this.G==3&&(d?lo(this,d):this.i.length==0||Jl(this.h)||lo(this))};function lo(d,_){var x;_?x=_.l:x=d.U++;const I=mt(d.I);$e(I,"SID",d.K),$e(I,"RID",x),$e(I,"AID",d.T),Fi(d,I),d.m&&d.o&&Ht(I,d.m,d.o),x=new bs(d,d.j,x,d.B+1),d.m===null&&(x.H=d.o),_&&(d.i=_.D.concat(d.i)),_=Jc(d,x,1e3),x.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),za(d.h,x),is(x,I,_)}function Fi(d,_){d.H&&le(d.H,function(x,I){$e(_,I,x)}),d.l&&Pi({},function(x,I){$e(_,I,x)})}function Jc(d,_,x){x=Math.min(d.i.length,x);var I=d.l?S(d.l.Na,d.l,d):null;e:{var Y=d.i;let te=-1;for(;;){const fe=["count="+x];te==-1?0<x?(te=Y[0].g,fe.push("ofs="+te)):te=0:fe.push("ofs="+te);let He=!0;for(let Dt=0;Dt<x;Dt++){let qe=Y[Dt].g;const qt=Y[Dt].map;if(qe-=te,0>qe)te=Math.max(0,Y[Dt].g-100),He=!1;else try{As(qt,fe,"req"+qe+"_")}catch{I&&I(qt)}}if(He){I=fe.join("&");break e}}}return d=d.i.splice(0,x),_.D=d,I}function eu(d){if(!d.g&&!d.u){d.Y=1;var _=d.Fa;X||P(),ae||(X(),ae=!0),he.add(_,d),d.v=0}}function oo(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Oa(S(d.Fa,d),co(d,d.v)),d.v++,!0)}s.Fa=function(){if(this.u=null,tu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Oa(S(this.ab,this),d)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,bt(10),Hr(this),tu(this))};function Gi(d){d.A!=null&&(m.clearTimeout(d.A),d.A=null)}function tu(d){d.g=new bs(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var _=mt(d.qa);$e(_,"RID","rpc"),$e(_,"SID",d.K),$e(_,"AID",d.T),$e(_,"CI",d.F?"0":"1"),!d.F&&d.ja&&$e(_,"TO",d.ja),$e(_,"TYPE","xmlhttp"),Fi(d,_),d.m&&d.o&&Ht(_,d.m,d.o),d.L&&(d.g.I=d.L);var x=d.g;d=d.ia,x.L=1,x.v=Vi(mt(_)),x.m=null,x.P=!0,Qs(x,d)}s.Za=function(){this.C!=null&&(this.C=null,Hr(this),oo(this),bt(19))};function Kr(d){d.C!=null&&(m.clearTimeout(d.C),d.C=null)}function nu(d,_){var x=null;if(d.g==_){Kr(d),Gi(d),d.g=null;var I=2}else if(Ba(d.h,_))x=_.D,Pn(d.h,_),I=1;else return;if(d.G!=0){if(_.o)if(I==1){x=_.m?_.m.length:0,_=Date.now()-_.F;var Y=d.B;I=Ir(),Bt(I,new qc(I,x)),qr(d)}else eu(d);else if(Y=_.s,Y==3||Y==0&&0<_.X||!(I==1&&Ih(d,_)||I==2&&oo(d)))switch(x&&0<x.length&&(_=d.h,_.i=_.i.concat(x)),Y){case 1:ea(d,5);break;case 4:ea(d,10);break;case 3:ea(d,6);break;default:ea(d,2)}}}function co(d,_){let x=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(x*=2),x*_}function ea(d,_){if(d.j.info("Error code "+_),_==2){var x=S(d.fb,d),I=d.Xa;const Y=!I;I=new Ys(I||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Ha(I,"https"),Vi(I),Y?Yc(I.toString(),x):Bi(I.toString(),x)}else bt(2);d.G=0,d.l&&d.l.sa(_),su(d),Zc(d)}s.fb=function(d){d?(this.j.info("Successfully pinged google.com"),bt(2)):(this.j.info("Failed to ping google.com"),bt(1))};function su(d){if(d.G=0,d.ka=[],d.l){const _=fn(d.h);(_.length!=0||d.i.length!=0)&&(B(d.ka,_),B(d.ka,d.i),d.h.i.length=0,V(d.i),d.i.length=0),d.l.ra()}}function au(d,_,x){var I=x instanceof Ys?mt(x):new Ys(x);if(I.g!="")_&&(I.g=_+"."+I.g),Ui(I,I.s);else{var Y=m.location;I=Y.protocol,_=_?_+"."+Y.hostname:Y.hostname,Y=+Y.port;var te=new Ys(null);I&&Ha(te,I),_&&(te.g=_),Y&&Ui(te,Y),x&&(te.l=x),I=te}return x=d.D,_=d.ya,x&&_&&$e(I,x,_),$e(I,"VER",d.la),Fi(d,I),I}function iu(d,_,x){if(_&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=d.Ca&&!d.pa?new Xe(new Ka({eb:x})):new Xe(d.pa),_.Ha(d.J),_}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function ru(){}s=ru.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function Fr(){}Fr.prototype.g=function(d,_){return new mn(d,_)};function mn(d,_){It.call(this),this.g=new zr(_),this.l=d,this.h=_&&_.messageUrlParams||null,d=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(d?d["X-WebChannel-Content-Type"]=_.messageContentType:d={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(d?d["X-WebChannel-Client-Profile"]=_.va:d={"X-WebChannel-Client-Profile":_.va}),this.g.S=d,(d=_&&_.Sb)&&!G(d)&&(this.g.m=d),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!G(_)&&(this.g.D=_,d=this.h,d!==null&&_ in d&&(d=this.h,_ in d&&delete d[_])),this.j=new Rs(this)}O(mn,It),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){ro(this.g)},mn.prototype.o=function(d){var _=this.g;if(typeof d=="string"){var x={};x.__data__=d,d=x}else this.u&&(x={},x.__data__=$l(d),d=x);_.i.push(new Sh(_.Ya++,d)),_.G==3&&qr(_)},mn.prototype.N=function(){this.g.l=null,delete this.j,ro(this.g),delete this.g,mn.aa.N.call(this)};function lu(d){Ia.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var _=d.__sm__;if(_){e:{for(const x in _){d=x;break e}d=void 0}(this.i=d)&&(d=this.i,_=_!==null&&d in _?_[d]:void 0),this.data=_}else this.data=d}O(lu,Ia);function ou(){as.call(this),this.status=1}O(ou,as);function Rs(d){this.g=d}O(Rs,ru),Rs.prototype.ua=function(){Bt(this.g,"a")},Rs.prototype.ta=function(d){Bt(this.g,new lu(d))},Rs.prototype.sa=function(d){Bt(this.g,new ou)},Rs.prototype.ra=function(){Bt(this.g,"b")},Fr.prototype.createWebChannel=Fr.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,rE=function(){return new Fr},iE=function(){return Ir()},aE=Ln,Wm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},jt.NO_ERROR=0,jt.TIMEOUT=8,jt.HTTP_ERROR=6,vd=jt,$s.COMPLETE="complete",sE=$s,Hc.EventType=xs,xs.OPEN="a",xs.CLOSE="b",xs.ERROR="c",xs.MESSAGE="d",It.prototype.listen=It.prototype.K,sc=Hc,Xe.prototype.listenOnce=Xe.prototype.L,Xe.prototype.getLastError=Xe.prototype.Ka,Xe.prototype.getLastErrorCode=Xe.prototype.Ba,Xe.prototype.getStatus=Xe.prototype.Z,Xe.prototype.getResponseJson=Xe.prototype.Oa,Xe.prototype.getResponseText=Xe.prototype.oa,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Ha,nE=Xe}).apply(typeof ld<"u"?ld:typeof self<"u"?self:typeof window<"u"?window:{});const nx="@firebase/firestore",sx="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ul="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _r=new Ng("@firebase/firestore");function _l(){return _r.logLevel}function _e(s,...e){if(_r.logLevel<=Pe.DEBUG){const t=e.map(Cg);_r.debug(`Firestore (${Ul}): ${s}`,...t)}}function Sa(s,...e){if(_r.logLevel<=Pe.ERROR){const t=e.map(Cg);_r.error(`Firestore (${Ul}): ${s}`,...t)}}function Nl(s,...e){if(_r.logLevel<=Pe.WARN){const t=e.map(Cg);_r.warn(`Firestore (${Ul}): ${s}`,...t)}}function Cg(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(s="Unexpected state"){const e=`FIRESTORE (${Ul}) INTERNAL ASSERTION FAILED: `+s;throw Sa(e),new Error(e)}function Je(s,e){s||we()}function Ie(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends qs{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(cn.UNAUTHENTICATED))}shutdown(){}}class NR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class RR{constructor(e){this.t=e,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Je(this.o===void 0);let i=this.i;const l=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let c=new Ea;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ea,e.enqueueRetryable(()=>l(this.currentUser))};const h=()=>{const p=c;e.enqueueRetryable(async()=>{await p.promise,await l(this.currentUser)})},m=p=>{_e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(_e("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ea)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(_e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Je(typeof i.accessToken=="string"),new lE(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Je(e===null||typeof e=="string"),new cn(e)}}class kR{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class CR{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new kR(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(cn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ax{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class IR{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,jn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Je(this.o===void 0);const i=c=>{c.error!=null&&_e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const h=c.token!==this.R;return this.R=c.token,_e("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>i(c))};const l=c=>{_e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>l(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?l(c):_e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new ax(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Je(typeof t.token=="string"),this.R=t.token,new ax(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jR(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<s;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const l=jR(40);for(let c=0;c<l.length;++c)i.length<20&&l[c]<t&&(i+=e.charAt(l[c]%62))}return i}}function Be(s,e){return s<e?-1:s>e?1:0}function Rl(s,e,t){return s.length===e.length&&s.every((i,l)=>t(i,e[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix=-62135596800,rx=1e6;class Ut{static now(){return Ut.fromMillis(Date.now())}static fromDate(e){return Ut.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*rx);return new Ut(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ve(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ve(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<ix)throw new ve(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/rx}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-ix;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{static fromTimestamp(e){return new ke(e)}static min(){return new ke(new Ut(0,0))}static max(){return new ke(new Ut(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lx="__name__";class Ms{constructor(e,t,i){t===void 0?t=0:t>e.length&&we(),i===void 0?i=e.length-t:i>e.length-t&&we(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Ms.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ms?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let l=0;l<i;l++){const c=Ms.compareSegments(e.get(l),t.get(l));if(c!==0)return c}return Math.sign(e.length-t.length)}static compareSegments(e,t){const i=Ms.isNumericId(e),l=Ms.isNumericId(t);return i&&!l?-1:!i&&l?1:i&&l?Ms.extractNumericId(e).compare(Ms.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return xi.fromString(e.substring(4,e.length-2))}}class rt extends Ms{construct(e,t,i){return new rt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ve(ce.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(l=>l.length>0))}return new rt(t)}static emptyPath(){return new rt([])}}const DR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends Ms{construct(e,t,i){return new tn(e,t,i)}static isValidIdentifier(e){return DR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===lx}static keyField(){return new tn([lx])}static fromServerFormat(e){const t=[];let i="",l=0;const c=()=>{if(i.length===0)throw new ve(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let h=!1;for(;l<e.length;){const m=e[l];if(m==="\\"){if(l+1===e.length)throw new ve(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ve(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,l+=2}else m==="`"?(h=!h,l++):m!=="."||h?(i+=m,l++):(c(),l++)}if(c(),h)throw new ve(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tn(t)}static emptyPath(){return new tn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.path=e}static fromPath(e){return new Te(rt.fromString(e))}static fromName(e){return new Te(rt.fromString(e).popFirst(5))}static empty(){return new Te(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return rt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new rt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gc=-1;function OR(s,e){const t=s.toTimestamp().seconds,i=s.toTimestamp().nanoseconds+1,l=ke.fromTimestamp(i===1e9?new Ut(t+1,0):new Ut(t,i));return new Ti(l,Te.empty(),e)}function MR(s){return new Ti(s.readTime,s.key,gc)}class Ti{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Ti(ke.min(),Te.empty(),gc)}static max(){return new Ti(ke.max(),Te.empty(),gc)}}function LR(s,e){let t=s.readTime.compareTo(e.readTime);return t!==0?t:(t=Te.comparator(s.documentKey,e.documentKey),t!==0?t:Be(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class UR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vl(s){if(s.code!==ce.FAILED_PRECONDITION||s.message!==PR)throw s;_e("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&we(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ue((i,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(i,l)},this.catchCallback=c=>{this.wrapFailure(t,c).next(i,l)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ue?t:ue.resolve(t)}catch(t){return ue.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ue.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ue.reject(t)}static resolve(e){return new ue((t,i)=>{t(e)})}static reject(e){return new ue((t,i)=>{i(e)})}static waitFor(e){return new ue((t,i)=>{let l=0,c=0,h=!1;e.forEach(m=>{++l,m.next(()=>{++c,h&&c===l&&t()},p=>i(p))}),h=!0,c===l&&t()})}static or(e){let t=ue.resolve(!1);for(const i of e)t=t.next(l=>l?ue.resolve(l):i());return t}static forEach(e,t){const i=[];return e.forEach((l,c)=>{i.push(t.call(this,l,c))}),this.waitFor(i)}static mapArray(e,t){return new ue((i,l)=>{const c=e.length,h=new Array(c);let m=0;for(let p=0;p<c;p++){const y=p;t(e[y]).next(v=>{h[y]=v,++m,m===c&&i(h)},v=>l(v))}})}static doWhile(e,t){return new ue((i,l)=>{const c=()=>{e()===!0?t().next(()=>{c()},l):i()};c()})}}function VR(s){const e=s.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Bl(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.oe(i),this._e=i=>t.writeSequenceNumber(i))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}eh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ig=-1;function th(s){return s==null}function Dd(s){return s===0&&1/s==-1/0}function BR(s){return typeof s=="number"&&Number.isInteger(s)&&!Dd(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="";function zR(s){let e="";for(let t=0;t<s.length;t++)e.length>0&&(e=ox(e)),e=HR(s.get(t),e);return ox(e)}function HR(s,e){let t=e;const i=s.length;for(let l=0;l<i;l++){const c=s.charAt(l);switch(c){case"\0":t+="";break;case cE:t+="";break;default:t+=c}}return t}function ox(s){return s+cE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cx(s){let e=0;for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&e++;return e}function ki(s,e){for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&e(t,s[t])}function uE(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,t){this.comparator=e,this.root=t||en.EMPTY}insert(e,t){return new ht(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,en.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,en.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const l=this.comparator(e,i.key);if(l===0)return t+i.left.size;l<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new od(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new od(this.root,e,this.comparator,!1)}getReverseIterator(){return new od(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new od(this.root,e,this.comparator,!0)}}class od{constructor(e,t,i,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?i(e.key,t):1,t&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class en{constructor(e,t,i,l,c){this.key=e,this.value=t,this.color=i??en.RED,this.left=l??en.EMPTY,this.right=c??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,l,c){return new en(e??this.key,t??this.value,i??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let l=this;const c=i(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,t,i),null):c===0?l.copy(null,t,null,null,null):l.copy(null,null,null,null,l.right.insert(e,t,i)),l.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,l=this;if(t(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,t),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),t(e,l.key)===0){if(l.right.isEmpty())return en.EMPTY;i=l.right.min(),l=l.copy(i.key,i.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,t))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw we();const e=this.left.check();if(e!==this.right.check())throw we();return e+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw we()}get value(){throw we()}get color(){throw we()}get left(){throw we()}get right(){throw we()}copy(e,t,i,l,c){return this}insert(e,t,i){return new en(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const l=i.getNext();if(this.comparator(l.key,e[1])>=0)return;t(l.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ux(this.data.getIterator())}getIteratorFrom(e){return new ux(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const l=t.getNext().key,c=i.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Vt(this.comparator);return t.data=e,t}}class ux{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.fields=e,e.sort(tn.comparator)}static empty(){return new Dn([])}unionWith(e){let t=new Vt(tn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Dn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Rl(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new dE("Invalid base64 string: "+c):c}}(e);return new sn(t)}static fromUint8Array(e){const t=function(l){let c="";for(let h=0;h<l.length;++h)c+=String.fromCharCode(l[h]);return c}(e);return new sn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let l=0;l<t.length;l++)i[l]=t.charCodeAt(l);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}sn.EMPTY_BYTE_STRING=new sn("");const qR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ai(s){if(Je(!!s),typeof s=="string"){let e=0;const t=qR.exec(s);if(Je(!!t),t[1]){let l=t[1];l=(l+"000000000").substr(0,9),e=Number(l)}const i=new Date(s);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:At(s.seconds),nanos:At(s.nanos)}}function At(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Si(s){return typeof s=="string"?sn.fromBase64String(s):sn.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE="server_timestamp",fE="__type__",mE="__previous_value__",gE="__local_write_time__";function jg(s){var e,t;return((t=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[fE])===null||t===void 0?void 0:t.stringValue)===hE}function nh(s){const e=s.mapValue.fields[mE];return jg(e)?nh(e):e}function pc(s){const e=Ai(s.mapValue.fields[gE].timestampValue);return new Ut(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e,t,i,l,c,h,m,p,y){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=l,this.ssl=c,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y}}const Od="(default)";class yc{constructor(e,t){this.projectId=e,this.database=t||Od}static empty(){return new yc("","")}get isDefaultDatabase(){return this.database===Od}isEqual(e){return e instanceof yc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE="__type__",FR="__max__",cd={mapValue:{}},yE="__vector__",Md="value";function wi(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?jg(s)?4:$R(s)?9007199254740991:GR(s)?10:11:we()}function Hs(s,e){if(s===e)return!0;const t=wi(s);if(t!==wi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return pc(s).isEqual(pc(e));case 3:return function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const h=Ai(l.timestampValue),m=Ai(c.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(l,c){return Si(l.bytesValue).isEqual(Si(c.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(l,c){return At(l.geoPointValue.latitude)===At(c.geoPointValue.latitude)&&At(l.geoPointValue.longitude)===At(c.geoPointValue.longitude)}(s,e);case 2:return function(l,c){if("integerValue"in l&&"integerValue"in c)return At(l.integerValue)===At(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const h=At(l.doubleValue),m=At(c.doubleValue);return h===m?Dd(h)===Dd(m):isNaN(h)&&isNaN(m)}return!1}(s,e);case 9:return Rl(s.arrayValue.values||[],e.arrayValue.values||[],Hs);case 10:case 11:return function(l,c){const h=l.mapValue.fields||{},m=c.mapValue.fields||{};if(cx(h)!==cx(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!Hs(h[p],m[p])))return!1;return!0}(s,e);default:return we()}}function _c(s,e){return(s.values||[]).find(t=>Hs(t,e))!==void 0}function kl(s,e){if(s===e)return 0;const t=wi(s),i=wi(e);if(t!==i)return Be(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Be(s.booleanValue,e.booleanValue);case 2:return function(c,h){const m=At(c.integerValue||c.doubleValue),p=At(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(s,e);case 3:return dx(s.timestampValue,e.timestampValue);case 4:return dx(pc(s),pc(e));case 5:return Be(s.stringValue,e.stringValue);case 6:return function(c,h){const m=Si(c),p=Si(h);return m.compareTo(p)}(s.bytesValue,e.bytesValue);case 7:return function(c,h){const m=c.split("/"),p=h.split("/");for(let y=0;y<m.length&&y<p.length;y++){const v=Be(m[y],p[y]);if(v!==0)return v}return Be(m.length,p.length)}(s.referenceValue,e.referenceValue);case 8:return function(c,h){const m=Be(At(c.latitude),At(h.latitude));return m!==0?m:Be(At(c.longitude),At(h.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return hx(s.arrayValue,e.arrayValue);case 10:return function(c,h){var m,p,y,v;const A=c.fields||{},S=h.fields||{},j=(m=A[Md])===null||m===void 0?void 0:m.arrayValue,O=(p=S[Md])===null||p===void 0?void 0:p.arrayValue,V=Be(((y=j==null?void 0:j.values)===null||y===void 0?void 0:y.length)||0,((v=O==null?void 0:O.values)===null||v===void 0?void 0:v.length)||0);return V!==0?V:hx(j,O)}(s.mapValue,e.mapValue);case 11:return function(c,h){if(c===cd.mapValue&&h===cd.mapValue)return 0;if(c===cd.mapValue)return 1;if(h===cd.mapValue)return-1;const m=c.fields||{},p=Object.keys(m),y=h.fields||{},v=Object.keys(y);p.sort(),v.sort();for(let A=0;A<p.length&&A<v.length;++A){const S=Be(p[A],v[A]);if(S!==0)return S;const j=kl(m[p[A]],y[v[A]]);if(j!==0)return j}return Be(p.length,v.length)}(s.mapValue,e.mapValue);default:throw we()}}function dx(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Be(s,e);const t=Ai(s),i=Ai(e),l=Be(t.seconds,i.seconds);return l!==0?l:Be(t.nanos,i.nanos)}function hx(s,e){const t=s.values||[],i=e.values||[];for(let l=0;l<t.length&&l<i.length;++l){const c=kl(t[l],i[l]);if(c)return c}return Be(t.length,i.length)}function Cl(s){return Xm(s)}function Xm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(t){const i=Ai(t);return`time(${i.seconds},${i.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(t){return Si(t).toBase64()}(s.bytesValue):"referenceValue"in s?function(t){return Te.fromName(t).toString()}(s.referenceValue):"geoPointValue"in s?function(t){return`geo(${t.latitude},${t.longitude})`}(s.geoPointValue):"arrayValue"in s?function(t){let i="[",l=!0;for(const c of t.values||[])l?l=!1:i+=",",i+=Xm(c);return i+"]"}(s.arrayValue):"mapValue"in s?function(t){const i=Object.keys(t.fields||{}).sort();let l="{",c=!0;for(const h of i)c?c=!1:l+=",",l+=`${h}:${Xm(t.fields[h])}`;return l+"}"}(s.mapValue):we()}function xd(s){switch(wi(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=nh(s);return e?16+xd(e):16;case 5:return 2*s.stringValue.length;case 6:return Si(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((l,c)=>l+xd(c),0)}(s.arrayValue);case 10:case 11:return function(i){let l=0;return ki(i.fields,(c,h)=>{l+=c.length+xd(h)}),l}(s.mapValue);default:throw we()}}function fx(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Zm(s){return!!s&&"integerValue"in s}function Dg(s){return!!s&&"arrayValue"in s}function mx(s){return!!s&&"nullValue"in s}function gx(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Ed(s){return!!s&&"mapValue"in s}function GR(s){var e,t;return((t=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[pE])===null||t===void 0?void 0:t.stringValue)===yE}function lc(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return ki(s.mapValue.fields,(t,i)=>e.mapValue.fields[t]=lc(i)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(s.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=lc(s.arrayValue.values[t]);return e}return Object.assign({},s)}function $R(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===FR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.value=e}static empty(){return new Tn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Ed(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=lc(t)}setAll(e){let t=tn.emptyPath(),i={},l=[];e.forEach((h,m)=>{if(!t.isImmediateParentOf(m)){const p=this.getFieldsMap(t);this.applyChanges(p,i,l),i={},l=[],t=m.popLast()}h?i[m.lastSegment()]=lc(h):l.push(m.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,i,l)}delete(e){const t=this.field(e.popLast());Ed(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Hs(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let l=t.mapValue.fields[e.get(i)];Ed(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=l),t=l}return t.mapValue.fields}applyChanges(e,t,i){ki(t,(l,c)=>e[l]=c);for(const l of i)delete e[l]}clone(){return new Tn(lc(this.value))}}function _E(s){const e=[];return ki(s.fields,(t,i)=>{const l=new tn([t]);if(Ed(i)){const c=_E(i.mapValue).fields;if(c.length===0)e.push(l);else for(const h of c)e.push(l.child(h))}else e.push(l)}),new Dn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e,t,i,l,c,h,m){this.key=e,this.documentType=t,this.version=i,this.readTime=l,this.createTime=c,this.data=h,this.documentState=m}static newInvalidDocument(e){return new un(e,0,ke.min(),ke.min(),ke.min(),Tn.empty(),0)}static newFoundDocument(e,t,i,l){return new un(e,1,t,ke.min(),i,l,0)}static newNoDocument(e,t){return new un(e,2,t,ke.min(),ke.min(),Tn.empty(),0)}static newUnknownDocument(e,t){return new un(e,3,t,ke.min(),ke.min(),Tn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,t){this.position=e,this.inclusive=t}}function px(s,e,t){let i=0;for(let l=0;l<s.position.length;l++){const c=e[l],h=s.position[l];if(c.field.isKeyField()?i=Te.comparator(Te.fromName(h.referenceValue),t.key):i=kl(h,t.data.field(c.field)),c.dir==="desc"&&(i*=-1),i!==0)break}return i}function yx(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let t=0;t<s.position.length;t++)if(!Hs(s.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,t="asc"){this.field=e,this.dir=t}}function QR(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{}class kt extends vE{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new WR(e,t,i):t==="array-contains"?new JR(e,i):t==="in"?new ek(e,i):t==="not-in"?new tk(e,i):t==="array-contains-any"?new nk(e,i):new kt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new XR(e,i):new ZR(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(kl(t,this.value)):t!==null&&wi(this.value)===wi(t)&&this.matchesComparison(kl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ds extends vE{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new ds(e,t)}matches(e){return xE(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function xE(s){return s.op==="and"}function EE(s){return YR(s)&&xE(s)}function YR(s){for(const e of s.filters)if(e instanceof ds)return!1;return!0}function Jm(s){if(s instanceof kt)return s.field.canonicalString()+s.op.toString()+Cl(s.value);if(EE(s))return s.filters.map(e=>Jm(e)).join(",");{const e=s.filters.map(t=>Jm(t)).join(",");return`${s.op}(${e})`}}function bE(s,e){return s instanceof kt?function(i,l){return l instanceof kt&&i.op===l.op&&i.field.isEqual(l.field)&&Hs(i.value,l.value)}(s,e):s instanceof ds?function(i,l){return l instanceof ds&&i.op===l.op&&i.filters.length===l.filters.length?i.filters.reduce((c,h,m)=>c&&bE(h,l.filters[m]),!0):!1}(s,e):void we()}function TE(s){return s instanceof kt?function(t){return`${t.field.canonicalString()} ${t.op} ${Cl(t.value)}`}(s):s instanceof ds?function(t){return t.op.toString()+" {"+t.getFilters().map(TE).join(" ,")+"}"}(s):"Filter"}class WR extends kt{constructor(e,t,i){super(e,t,i),this.key=Te.fromName(i.referenceValue)}matches(e){const t=Te.comparator(e.key,this.key);return this.matchesComparison(t)}}class XR extends kt{constructor(e,t){super(e,"in",t),this.keys=AE("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class ZR extends kt{constructor(e,t){super(e,"not-in",t),this.keys=AE("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function AE(s,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>Te.fromName(i.referenceValue))}class JR extends kt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Dg(t)&&_c(t.arrayValue,this.value)}}class ek extends kt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&_c(this.value.arrayValue,t)}}class tk extends kt{constructor(e,t){super(e,"not-in",t)}matches(e){if(_c(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!_c(this.value.arrayValue,t)}}class nk extends kt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Dg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>_c(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(e,t=null,i=[],l=[],c=null,h=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=l,this.limit=c,this.startAt=h,this.endAt=m,this.le=null}}function _x(s,e=null,t=[],i=[],l=null,c=null,h=null){return new sk(s,e,t,i,l,c,h)}function Og(s){const e=Ie(s);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Jm(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(c){return c.field.canonicalString()+c.dir}(i)).join(","),th(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Cl(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Cl(i)).join(",")),e.le=t}return e.le}function Mg(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<s.orderBy.length;t++)if(!QR(s.orderBy[t],e.orderBy[t]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let t=0;t<s.filters.length;t++)if(!bE(s.filters[t],e.filters[t]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!yx(s.startAt,e.startAt)&&yx(s.endAt,e.endAt)}function eg(s){return Te.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e,t=null,i=[],l=[],c=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=l,this.limit=c,this.limitType=h,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function ak(s,e,t,i,l,c,h,m){return new zl(s,e,t,i,l,c,h,m)}function Lg(s){return new zl(s)}function vx(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function SE(s){return s.collectionGroup!==null}function oc(s){const e=Ie(s);if(e.he===null){e.he=[];const t=new Set;for(const c of e.explicitOrderBy)e.he.push(c),t.add(c.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Vt(tn.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(e).forEach(c=>{t.has(c.canonicalString())||c.isKeyField()||e.he.push(new vc(c,i))}),t.has(tn.keyField().canonicalString())||e.he.push(new vc(tn.keyField(),i))}return e.he}function Us(s){const e=Ie(s);return e.Pe||(e.Pe=ik(e,oc(s))),e.Pe}function ik(s,e){if(s.limitType==="F")return _x(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(l=>{const c=l.dir==="desc"?"asc":"desc";return new vc(l.field,c)});const t=s.endAt?new Ld(s.endAt.position,s.endAt.inclusive):null,i=s.startAt?new Ld(s.startAt.position,s.startAt.inclusive):null;return _x(s.path,s.collectionGroup,e,s.filters,s.limit,t,i)}}function tg(s,e){const t=s.filters.concat([e]);return new zl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),t,s.limit,s.limitType,s.startAt,s.endAt)}function ng(s,e,t){return new zl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,t,s.startAt,s.endAt)}function sh(s,e){return Mg(Us(s),Us(e))&&s.limitType===e.limitType}function wE(s){return`${Og(Us(s))}|lt:${s.limitType}`}function vl(s){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(l=>TE(l)).join(", ")}]`),th(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(l=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(l)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(l=>Cl(l)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(l=>Cl(l)).join(",")),`Target(${i})`}(Us(s))}; limitType=${s.limitType})`}function ah(s,e){return e.isFoundDocument()&&function(i,l){const c=l.key.path;return i.collectionGroup!==null?l.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(c):Te.isDocumentKey(i.path)?i.path.isEqual(c):i.path.isImmediateParentOf(c)}(s,e)&&function(i,l){for(const c of oc(i))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0}(s,e)&&function(i,l){for(const c of i.filters)if(!c.matches(l))return!1;return!0}(s,e)&&function(i,l){return!(i.startAt&&!function(h,m,p){const y=px(h,m,p);return h.inclusive?y<=0:y<0}(i.startAt,oc(i),l)||i.endAt&&!function(h,m,p){const y=px(h,m,p);return h.inclusive?y>=0:y>0}(i.endAt,oc(i),l))}(s,e)}function rk(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function NE(s){return(e,t)=>{let i=!1;for(const l of oc(s)){const c=lk(l,e,t);if(c!==0)return c;i=i||l.field.isKeyField()}return 0}}function lk(s,e,t){const i=s.field.isKeyField()?Te.comparator(e.key,t.key):function(c,h,m){const p=h.data.field(c),y=m.data.field(c);return p!==null&&y!==null?kl(p,y):we()}(s.field,e,t);switch(s.dir){case"asc":return i;case"desc":return-1*i;default:return we()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[l,c]of i)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),l=this.inner[i];if(l===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,t]);l.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let l=0;l<i.length;l++)if(this.equalsFn(i[l][0],e))return i.length===1?delete this.inner[t]:i.splice(l,1),this.innerSize--,!0;return!1}forEach(e){ki(this.inner,(t,i)=>{for(const[l,c]of i)e(l,c)})}isEmpty(){return uE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok=new ht(Te.comparator);function wa(){return ok}const RE=new ht(Te.comparator);function ac(...s){let e=RE;for(const t of s)e=e.insert(t.key,t);return e}function kE(s){let e=RE;return s.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function fr(){return cc()}function CE(){return cc()}function cc(){return new Sr(s=>s.toString(),(s,e)=>s.isEqual(e))}const ck=new ht(Te.comparator),uk=new Vt(Te.comparator);function Ue(...s){let e=uk;for(const t of s)e=e.add(t);return e}const dk=new Vt(Be);function hk(){return dk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pg(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dd(e)?"-0":e}}function IE(s){return{integerValue:""+s}}function fk(s,e){return BR(e)?IE(e):Pg(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(){this._=void 0}}function mk(s,e,t){return s instanceof Pd?function(l,c){const h={fields:{[fE]:{stringValue:hE},[gE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&jg(c)&&(c=nh(c)),c&&(h.fields[mE]=c),{mapValue:h}}(t,e):s instanceof xc?DE(s,e):s instanceof Ec?OE(s,e):function(l,c){const h=jE(l,c),m=xx(h)+xx(l.Ie);return Zm(h)&&Zm(l.Ie)?IE(m):Pg(l.serializer,m)}(s,e)}function gk(s,e,t){return s instanceof xc?DE(s,e):s instanceof Ec?OE(s,e):t}function jE(s,e){return s instanceof Ud?function(i){return Zm(i)||function(c){return!!c&&"doubleValue"in c}(i)}(e)?e:{integerValue:0}:null}class Pd extends ih{}class xc extends ih{constructor(e){super(),this.elements=e}}function DE(s,e){const t=ME(e);for(const i of s.elements)t.some(l=>Hs(l,i))||t.push(i);return{arrayValue:{values:t}}}class Ec extends ih{constructor(e){super(),this.elements=e}}function OE(s,e){let t=ME(e);for(const i of s.elements)t=t.filter(l=>!Hs(l,i));return{arrayValue:{values:t}}}class Ud extends ih{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function xx(s){return At(s.integerValue||s.doubleValue)}function ME(s){return Dg(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function pk(s,e){return s.field.isEqual(e.field)&&function(i,l){return i instanceof xc&&l instanceof xc||i instanceof Ec&&l instanceof Ec?Rl(i.elements,l.elements,Hs):i instanceof Ud&&l instanceof Ud?Hs(i.Ie,l.Ie):i instanceof Pd&&l instanceof Pd}(s.transform,e.transform)}class yk{constructor(e,t){this.version=e,this.transformResults=t}}class Zn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Zn}static exists(e){return new Zn(void 0,e)}static updateTime(e){return new Zn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bd(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class rh{}function LE(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Ug(s.key,Zn.none()):new Nc(s.key,s.data,Zn.none());{const t=s.data,i=Tn.empty();let l=new Vt(tn.comparator);for(let c of e.fields)if(!l.has(c)){let h=t.field(c);h===null&&c.length>1&&(c=c.popLast(),h=t.field(c)),h===null?i.delete(c):i.set(c,h),l=l.add(c)}return new Ci(s.key,i,new Dn(l.toArray()),Zn.none())}}function _k(s,e,t){s instanceof Nc?function(l,c,h){const m=l.value.clone(),p=bx(l.fieldTransforms,c,h.transformResults);m.setAll(p),c.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(s,e,t):s instanceof Ci?function(l,c,h){if(!bd(l.precondition,c))return void c.convertToUnknownDocument(h.version);const m=bx(l.fieldTransforms,c,h.transformResults),p=c.data;p.setAll(PE(l)),p.setAll(m),c.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(s,e,t):function(l,c,h){c.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function uc(s,e,t,i){return s instanceof Nc?function(c,h,m,p){if(!bd(c.precondition,h))return m;const y=c.value.clone(),v=Tx(c.fieldTransforms,p,h);return y.setAll(v),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null}(s,e,t,i):s instanceof Ci?function(c,h,m,p){if(!bd(c.precondition,h))return m;const y=Tx(c.fieldTransforms,p,h),v=h.data;return v.setAll(PE(c)),v.setAll(y),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(A=>A.field))}(s,e,t,i):function(c,h,m){return bd(c.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(s,e,t)}function vk(s,e){let t=null;for(const i of s.fieldTransforms){const l=e.data.field(i.field),c=jE(i.transform,l||null);c!=null&&(t===null&&(t=Tn.empty()),t.set(i.field,c))}return t||null}function Ex(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(i,l){return i===void 0&&l===void 0||!(!i||!l)&&Rl(i,l,(c,h)=>pk(c,h))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Nc extends rh{constructor(e,t,i,l=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Ci extends rh{constructor(e,t,i,l,c=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function PE(s){const e=new Map;return s.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=s.data.field(t);e.set(t,i)}}),e}function bx(s,e,t){const i=new Map;Je(s.length===t.length);for(let l=0;l<t.length;l++){const c=s[l],h=c.transform,m=e.data.field(c.field);i.set(c.field,gk(h,m,t[l]))}return i}function Tx(s,e,t){const i=new Map;for(const l of s){const c=l.transform,h=t.data.field(l.field);i.set(l.field,mk(c,h,e))}return i}class Ug extends rh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xk extends rh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(e,t,i,l){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=l}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&_k(c,e,i[l])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=uc(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=uc(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=CE();return this.mutations.forEach(l=>{const c=e.get(l.key),h=c.overlayedDocument;let m=this.applyToLocalView(h,c.mutatedFields);m=t.has(l.key)?null:m;const p=LE(h,m);p!==null&&i.set(l.key,p),h.isValidDocument()||h.convertToNoDocument(ke.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ue())}isEqual(e){return this.batchId===e.batchId&&Rl(this.mutations,e.mutations,(t,i)=>Ex(t,i))&&Rl(this.baseMutations,e.baseMutations,(t,i)=>Ex(t,i))}}class Vg{constructor(e,t,i,l){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=l}static from(e,t,i){Je(e.mutations.length===i.length);let l=function(){return ck}();const c=e.mutations;for(let h=0;h<c.length;h++)l=l.insert(c[h].key,i[h].version);return new Vg(e,t,i,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rt,Fe;function Ak(s){switch(s){case ce.OK:return we();case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0;default:return we()}}function UE(s){if(s===void 0)return Sa("GRPC error has no .code"),ce.UNKNOWN;switch(s){case Rt.OK:return ce.OK;case Rt.CANCELLED:return ce.CANCELLED;case Rt.UNKNOWN:return ce.UNKNOWN;case Rt.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case Rt.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case Rt.INTERNAL:return ce.INTERNAL;case Rt.UNAVAILABLE:return ce.UNAVAILABLE;case Rt.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case Rt.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case Rt.NOT_FOUND:return ce.NOT_FOUND;case Rt.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case Rt.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case Rt.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case Rt.ABORTED:return ce.ABORTED;case Rt.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case Rt.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case Rt.DATA_LOSS:return ce.DATA_LOSS;default:return we()}}(Fe=Rt||(Rt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wk=new xi([4294967295,4294967295],0);function Ax(s){const e=Sk().encode(s),t=new tE;return t.update(e),new Uint8Array(t.digest())}function Sx(s){const e=new DataView(s.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new xi([t,i],0),new xi([l,c],0)]}class Bg{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new ic(`Invalid padding: ${t}`);if(i<0)throw new ic(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new ic(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new ic(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=xi.fromNumber(this.Ee)}Ae(e,t,i){let l=e.add(t.multiply(xi.fromNumber(i)));return l.compare(wk)===1&&(l=new xi([l.getBits(0),l.getBits(1)],0)),l.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=Ax(e),[i,l]=Sx(t);for(let c=0;c<this.hashCount;c++){const h=this.Ae(i,l,c);if(!this.Re(h))return!1}return!0}static create(e,t,i){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),h=new Bg(c,l,t);return i.forEach(m=>h.insert(m)),h}insert(e){if(this.Ee===0)return;const t=Ax(e),[i,l]=Sx(t);for(let c=0;c<this.hashCount;c++){const h=this.Ae(i,l,c);this.Ve(h)}}Ve(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class ic extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e,t,i,l,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const l=new Map;return l.set(e,Rc.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new lh(ke.min(),l,new ht(Be),wa(),Ue())}}class Rc{constructor(e,t,i,l,c){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Rc(i,t,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e,t,i,l){this.me=e,this.removedTargetIds=t,this.key=i,this.fe=l}}class VE{constructor(e,t){this.targetId=e,this.ge=t}}class BE{constructor(e,t,i=sn.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=l}}class wx{constructor(){this.pe=0,this.ye=Nx(),this.we=sn.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Ue(),t=Ue(),i=Ue();return this.ye.forEach((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:t=t.add(l);break;case 1:i=i.add(l);break;default:we()}}),new Rc(this.we,this.be,e,t,i)}Me(){this.Se=!1,this.ye=Nx()}xe(e,t){this.Se=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Je(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class Nk{constructor(e){this.ke=e,this.qe=new Map,this.Qe=wa(),this.$e=ud(),this.Ke=ud(),this.Ue=new ht(Be)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const i=this.He(t);switch(e.state){case 0:this.Je(t)&&i.Ce(e.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(e.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(t);break;case 3:this.Je(t)&&(i.Le(),i.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),i.Ce(e.resumeToken));break;default:we()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((i,l)=>{this.Je(l)&&t(l)})}Ze(e){const t=e.targetId,i=e.ge.count,l=this.Xe(t);if(l){const c=l.target;if(eg(c))if(i===0){const h=new Te(c.path);this.ze(t,h,un.newNoDocument(h,ke.min()))}else Je(i===1);else{const h=this.et(t);if(h!==i){const m=this.tt(e),p=m?this.nt(m,e,h):1;if(p!==0){this.Ye(t);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,y)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:l=0},hashCount:c=0}=t;let h,m;try{h=Si(i).toUint8Array()}catch(p){if(p instanceof dE)return Nl("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Bg(h,l,c)}catch(p){return Nl(p instanceof ic?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(e,t,i){return t.ge.count===i-this.st(e,t.targetId)?0:2}st(e,t){const i=this.ke.getRemoteKeysForTarget(t);let l=0;return i.forEach(c=>{const h=this.ke.it(),m=`projects/${h.projectId}/databases/${h.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.ze(t,c,null),l++)}),l}ot(e){const t=new Map;this.qe.forEach((c,h)=>{const m=this.Xe(h);if(m){if(c.current&&eg(m.target)){const p=new Te(m.target.path);this._t(p).has(h)||this.ut(h,p)||this.ze(h,p,un.newNoDocument(p,e))}c.ve&&(t.set(h,c.Fe()),c.Me())}});let i=Ue();this.Ke.forEach((c,h)=>{let m=!0;h.forEachWhile(p=>{const y=this.Xe(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(i=i.add(c))}),this.Qe.forEach((c,h)=>h.setReadTime(e));const l=new lh(e,t,this.Ue,this.Qe,i);return this.Qe=wa(),this.$e=ud(),this.Ke=ud(),this.Ue=new ht(Be),l}Ge(e,t){if(!this.Je(e))return;const i=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,i),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,i){if(!this.Je(e))return;const l=this.He(e);this.ut(e,t)?l.xe(t,1):l.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),i&&(this.Qe=this.Qe.insert(t,i))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new wx,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new Vt(Be),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Vt(Be),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||_e("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new wx),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function ud(){return new ht(Te.comparator)}function Nx(){return new ht(Te.comparator)}const Rk={asc:"ASCENDING",desc:"DESCENDING"},kk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ck={and:"AND",or:"OR"};class Ik{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function sg(s,e){return s.useProto3Json||th(e)?e:{value:e}}function Vd(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zE(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function jk(s,e){return Vd(s,e.toTimestamp())}function Vs(s){return Je(!!s),ke.fromTimestamp(function(t){const i=Ai(t);return new Ut(i.seconds,i.nanos)}(s))}function zg(s,e){return ag(s,e).canonicalString()}function ag(s,e){const t=function(l){return new rt(["projects",l.projectId,"databases",l.database])}(s).child("documents");return e===void 0?t:t.child(e)}function HE(s){const e=rt.fromString(s);return Je($E(e)),e}function ig(s,e){return zg(s.databaseId,e.path)}function Mm(s,e){const t=HE(e);if(t.get(1)!==s.databaseId.projectId)throw new ve(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+s.databaseId.projectId);if(t.get(3)!==s.databaseId.database)throw new ve(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+s.databaseId.database);return new Te(KE(t))}function qE(s,e){return zg(s.databaseId,e)}function Dk(s){const e=HE(s);return e.length===4?rt.emptyPath():KE(e)}function rg(s){return new rt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function KE(s){return Je(s.length>4&&s.get(4)==="documents"),s.popFirst(5)}function Rx(s,e,t){return{name:ig(s,e),fields:t.value.mapValue.fields}}function Ok(s,e){let t;if("targetChange"in e){e.targetChange;const i=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:we()}(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=function(y,v){return y.useProto3Json?(Je(v===void 0||typeof v=="string"),sn.fromBase64String(v||"")):(Je(v===void 0||v instanceof Buffer||v instanceof Uint8Array),sn.fromUint8Array(v||new Uint8Array))}(s,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(y){const v=y.code===void 0?ce.UNKNOWN:UE(y.code);return new ve(v,y.message||"")}(h);t=new BE(i,l,c,m||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const l=Mm(s,i.document.name),c=Vs(i.document.updateTime),h=i.document.createTime?Vs(i.document.createTime):ke.min(),m=new Tn({mapValue:{fields:i.document.fields}}),p=un.newFoundDocument(l,c,h,m),y=i.targetIds||[],v=i.removedTargetIds||[];t=new Td(y,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const l=Mm(s,i.document),c=i.readTime?Vs(i.readTime):ke.min(),h=un.newNoDocument(l,c),m=i.removedTargetIds||[];t=new Td([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const l=Mm(s,i.document),c=i.removedTargetIds||[];t=new Td([],c,l,null)}else{if(!("filter"in e))return we();{e.filter;const i=e.filter;i.targetId;const{count:l=0,unchangedNames:c}=i,h=new Tk(l,c),m=i.targetId;t=new VE(m,h)}}return t}function Mk(s,e){let t;if(e instanceof Nc)t={update:Rx(s,e.key,e.value)};else if(e instanceof Ug)t={delete:ig(s,e.key)};else if(e instanceof Ci)t={update:Rx(s,e.key,e.data),updateMask:Kk(e.fieldMask)};else{if(!(e instanceof xk))return we();t={verify:ig(s,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(c,h){const m=h.transform;if(m instanceof Pd)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof xc)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Ec)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Ud)return{fieldPath:h.field.canonicalString(),increment:m.Ie};throw we()}(0,i))),e.precondition.isNone||(t.currentDocument=function(l,c){return c.updateTime!==void 0?{updateTime:jk(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:we()}(s,e.precondition)),t}function Lk(s,e){return s&&s.length>0?(Je(e!==void 0),s.map(t=>function(l,c){let h=l.updateTime?Vs(l.updateTime):Vs(c);return h.isEqual(ke.min())&&(h=Vs(c)),new yk(h,l.transformResults||[])}(t,e))):[]}function Pk(s,e){return{documents:[qE(s,e.path)]}}function Uk(s,e){const t={structuredQuery:{}},i=e.path;let l;e.collectionGroup!==null?(l=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=qE(s,l);const c=function(y){if(y.length!==0)return GE(ds.create(y,"and"))}(e.filters);c&&(t.structuredQuery.where=c);const h=function(y){if(y.length!==0)return y.map(v=>function(S){return{field:xl(S.field),direction:zk(S.dir)}}(v))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const m=sg(s,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ht:t,parent:l}}function Vk(s){let e=Dk(s.parent);const t=s.structuredQuery,i=t.from?t.from.length:0;let l=null;if(i>0){Je(i===1);const v=t.from[0];v.allDescendants?l=v.collectionId:e=e.child(v.collectionId)}let c=[];t.where&&(c=function(A){const S=FE(A);return S instanceof ds&&EE(S)?S.getFilters():[S]}(t.where));let h=[];t.orderBy&&(h=function(A){return A.map(S=>function(O){return new vc(El(O.field),function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(S))}(t.orderBy));let m=null;t.limit&&(m=function(A){let S;return S=typeof A=="object"?A.value:A,th(S)?null:S}(t.limit));let p=null;t.startAt&&(p=function(A){const S=!!A.before,j=A.values||[];return new Ld(j,S)}(t.startAt));let y=null;return t.endAt&&(y=function(A){const S=!A.before,j=A.values||[];return new Ld(j,S)}(t.endAt)),ak(e,l,h,c,m,"F",p,y)}function Bk(s,e){const t=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function FE(s){return s.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=El(t.unaryFilter.field);return kt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const l=El(t.unaryFilter.field);return kt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=El(t.unaryFilter.field);return kt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=El(t.unaryFilter.field);return kt.create(h,"!=",{nullValue:"NULL_VALUE"});default:return we()}}(s):s.fieldFilter!==void 0?function(t){return kt.create(El(t.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return we()}}(t.fieldFilter.op),t.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(t){return ds.create(t.compositeFilter.filters.map(i=>FE(i)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return we()}}(t.compositeFilter.op))}(s):we()}function zk(s){return Rk[s]}function Hk(s){return kk[s]}function qk(s){return Ck[s]}function xl(s){return{fieldPath:s.canonicalString()}}function El(s){return tn.fromServerFormat(s.fieldPath)}function GE(s){return s instanceof kt?function(t){if(t.op==="=="){if(gx(t.value))return{unaryFilter:{field:xl(t.field),op:"IS_NAN"}};if(mx(t.value))return{unaryFilter:{field:xl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(gx(t.value))return{unaryFilter:{field:xl(t.field),op:"IS_NOT_NAN"}};if(mx(t.value))return{unaryFilter:{field:xl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xl(t.field),op:Hk(t.op),value:t.value}}}(s):s instanceof ds?function(t){const i=t.getFilters().map(l=>GE(l));return i.length===1?i[0]:{compositeFilter:{op:qk(t.op),filters:i}}}(s):we()}function Kk(s){const e=[];return s.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function $E(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e,t,i,l,c=ke.min(),h=ke.min(),m=sn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new yi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new yi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new yi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new yi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(e){this.Tt=e}}function Gk(s){const e=Vk({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?ng(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(){this.Tn=new Qk}addToCollectionParentIndex(e,t){return this.Tn.add(t),ue.resolve()}getCollectionParents(e,t){return ue.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return ue.resolve()}deleteFieldIndex(e,t){return ue.resolve()}deleteAllFieldIndexes(e){return ue.resolve()}createTargetIndexes(e,t){return ue.resolve()}getDocumentsMatchingTarget(e,t){return ue.resolve(null)}getIndexType(e,t){return ue.resolve(0)}getFieldIndexes(e,t){return ue.resolve([])}getNextCollectionGroupToUpdate(e){return ue.resolve(null)}getMinOffset(e,t){return ue.resolve(Ti.min())}getMinOffsetFromCollectionGroup(e,t){return ue.resolve(Ti.min())}updateCollectionGroup(e,t,i){return ue.resolve()}updateIndexEntries(e,t){return ue.resolve()}}class Qk{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),l=this.index[t]||new Vt(rt.comparator),c=!l.has(i);return this.index[t]=l.add(i),c}has(e){const t=e.lastSegment(),i=e.popLast(),l=this.index[t];return l&&l.has(i)}getEntries(e){return(this.index[e]||new Vt(rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},QE=41943040;class bn{static withCacheSize(e){return new bn(e,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bn.DEFAULT_COLLECTION_PERCENTILE=10,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bn.DEFAULT=new bn(QE,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bn.DISABLED=new bn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Il(0)}static Un(){return new Il(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx="LruGarbageCollector",Yk=1048576;function Ix([s,e],[t,i]){const l=Be(s,t);return l===0?Be(e,i):l}class Wk{constructor(e){this.Hn=e,this.buffer=new Vt(Ix),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();Ix(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Xk{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){_e(Cx,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Bl(t)?_e(Cx,"Ignoring IndexedDB error during garbage collection: ",t):await Vl(t)}await this.er(3e5)})}}class Zk{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return ue.resolve(eh.ae);const i=new Wk(t);return this.tr.forEachTarget(e,l=>i.Zn(l.sequenceNumber)).next(()=>this.tr.rr(e,l=>i.Zn(l))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.tr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(_e("LruGarbageCollector","Garbage collection skipped; disabled"),ue.resolve(kx)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(_e("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),kx):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let i,l,c,h,m,p,y;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(_e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,h=Date.now(),this.nthSequenceNumber(e,l))).next(A=>(i=A,m=Date.now(),this.removeTargets(e,i,t))).next(A=>(c=A,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(A=>(y=Date.now(),_l()<=Pe.DEBUG&&_e("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-v}ms
	Determined least recently used ${l} in `+(m-h)+`ms
	Removed ${c} targets in `+(p-m)+`ms
	Removed ${A} documents in `+(y-p)+`ms
Total Duration: ${y-v}ms`),ue.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:A})))}}function Jk(s,e){return new Zk(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(){this.changes=new Sr(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,un.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?ue.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e,t,i,l){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=l}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(l=>(i=l,this.remoteDocumentCache.getEntry(e,t))).next(l=>(i!==null&&uc(i.mutation,l,Dn.empty(),Ut.now()),l))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Ue()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Ue()){const l=fr();return this.populateOverlays(e,l,t).next(()=>this.computeViews(e,t,l,i).next(c=>{let h=ac();return c.forEach((m,p)=>{h=h.insert(m,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const i=fr();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Ue()))}populateOverlays(e,t,i){const l=[];return i.forEach(c=>{t.has(c)||l.push(c)}),this.documentOverlayCache.getOverlays(e,l).next(c=>{c.forEach((h,m)=>{t.set(h,m)})})}computeViews(e,t,i,l){let c=wa();const h=cc(),m=function(){return cc()}();return t.forEach((p,y)=>{const v=i.get(y.key);l.has(y.key)&&(v===void 0||v.mutation instanceof Ci)?c=c.insert(y.key,y):v!==void 0?(h.set(y.key,v.mutation.getFieldMask()),uc(v.mutation,y,v.mutation.getFieldMask(),Ut.now())):h.set(y.key,Dn.empty())}),this.recalculateAndSaveOverlays(e,c).next(p=>(p.forEach((y,v)=>h.set(y,v)),t.forEach((y,v)=>{var A;return m.set(y,new tC(v,(A=h.get(y))!==null&&A!==void 0?A:null))}),m))}recalculateAndSaveOverlays(e,t){const i=cc();let l=new ht((h,m)=>h-m),c=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const m of h)m.keys().forEach(p=>{const y=t.get(p);if(y===null)return;let v=i.get(p)||Dn.empty();v=m.applyToLocalView(y,v),i.set(p,v);const A=(l.get(m.batchId)||Ue()).add(p);l=l.insert(m.batchId,A)})}).next(()=>{const h=[],m=l.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,v=p.value,A=CE();v.forEach(S=>{if(!c.has(S)){const j=LE(t.get(S),i.get(S));j!==null&&A.set(S,j),c=c.add(S)}}),h.push(this.documentOverlayCache.saveOverlays(e,y,A))}return ue.waitFor(h)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,l){return function(h){return Te.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):SE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,l):this.getDocumentsMatchingCollectionQuery(e,t,i,l)}getNextDocuments(e,t,i,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,l).next(c=>{const h=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,l-c.size):ue.resolve(fr());let m=gc,p=c;return h.next(y=>ue.forEach(y,(v,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),c.get(v)?ue.resolve():this.remoteDocumentCache.getEntry(e,v).next(S=>{p=p.insert(v,S)}))).next(()=>this.populateOverlays(e,y,c)).next(()=>this.computeViews(e,p,y,Ue())).next(v=>({batchId:m,changes:kE(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Te(t)).next(i=>{let l=ac();return i.isFoundDocument()&&(l=l.insert(i.key,i)),l})}getDocumentsMatchingCollectionGroupQuery(e,t,i,l){const c=t.collectionGroup;let h=ac();return this.indexManager.getCollectionParents(e,c).next(m=>ue.forEach(m,p=>{const y=function(A,S){return new zl(S,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(t,p.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,i,l).next(v=>{v.forEach((A,S)=>{h=h.insert(A,S)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,i,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(h=>(c=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,c,l))).next(h=>{c.forEach((p,y)=>{const v=y.getKey();h.get(v)===null&&(h=h.insert(v,un.newInvalidDocument(v)))});let m=ac();return h.forEach((p,y)=>{const v=c.get(p);v!==void 0&&uc(v.mutation,y,Dn.empty(),Ut.now()),ah(t,y)&&(m=m.insert(p,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return ue.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(l){return{id:l.id,version:l.version,createTime:Vs(l.createTime)}}(t)),ue.resolve()}getNamedQuery(e,t){return ue.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(l){return{name:l.name,query:Gk(l.bundledQuery),readTime:Vs(l.readTime)}}(t)),ue.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(){this.overlays=new ht(Te.comparator),this.Rr=new Map}getOverlay(e,t){return ue.resolve(this.overlays.get(t))}getOverlays(e,t){const i=fr();return ue.forEach(t,l=>this.getOverlay(e,l).next(c=>{c!==null&&i.set(l,c)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((l,c)=>{this.Et(e,t,c)}),ue.resolve()}removeOverlaysForBatchId(e,t,i){const l=this.Rr.get(i);return l!==void 0&&(l.forEach(c=>this.overlays=this.overlays.remove(c)),this.Rr.delete(i)),ue.resolve()}getOverlaysForCollection(e,t,i){const l=fr(),c=t.length+1,h=new Te(t.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===c&&p.largestBatchId>i&&l.set(p.getKey(),p)}return ue.resolve(l)}getOverlaysForCollectionGroup(e,t,i,l){let c=new ht((y,v)=>y-v);const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let v=c.get(y.largestBatchId);v===null&&(v=fr(),c=c.insert(y.largestBatchId,v)),v.set(y.getKey(),y)}}const m=fr(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,v)=>m.set(y,v)),!(m.size()>=l)););return ue.resolve(m)}Et(e,t,i){const l=this.overlays.get(i.key);if(l!==null){const h=this.Rr.get(l.largestBatchId).delete(i.key);this.Rr.set(l.largestBatchId,h)}this.overlays=this.overlays.insert(i.key,new bk(t,i));let c=this.Rr.get(t);c===void 0&&(c=Ue(),this.Rr.set(t,c)),this.Rr.set(t,c.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(){this.sessionToken=sn.EMPTY_BYTE_STRING}getSessionToken(e){return ue.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ue.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(){this.Vr=new Vt($t.mr),this.gr=new Vt($t.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const i=new $t(e,t);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.wr(new $t(e,t))}br(e,t){e.forEach(i=>this.removeReference(i,t))}Sr(e){const t=new Te(new rt([])),i=new $t(t,e),l=new $t(t,e+1),c=[];return this.gr.forEachInRange([i,l],h=>{this.wr(h),c.push(h.key)}),c}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Te(new rt([])),i=new $t(t,e),l=new $t(t,e+1);let c=Ue();return this.gr.forEachInRange([i,l],h=>{c=c.add(h.key)}),c}containsKey(e){const t=new $t(e,0),i=this.Vr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class $t{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Te.comparator(e.key,t.key)||Be(e.Cr,t.Cr)}static pr(e,t){return Be(e.Cr,t.Cr)||Te.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Vt($t.mr)}checkEmpty(e){return ue.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,l){const c=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new Ek(c,t,i,l);this.mutationQueue.push(h);for(const m of l)this.Mr=this.Mr.add(new $t(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ue.resolve(h)}lookupMutationBatch(e,t){return ue.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,l=this.Nr(i),c=l<0?0:l;return ue.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(this.mutationQueue.length===0?Ig:this.Fr-1)}getAllMutationBatches(e){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new $t(t,0),l=new $t(t,Number.POSITIVE_INFINITY),c=[];return this.Mr.forEachInRange([i,l],h=>{const m=this.Or(h.Cr);c.push(m)}),ue.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Vt(Be);return t.forEach(l=>{const c=new $t(l,0),h=new $t(l,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([c,h],m=>{i=i.add(m.Cr)})}),ue.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,l=i.length+1;let c=i;Te.isDocumentKey(c)||(c=c.child(""));const h=new $t(new Te(c),0);let m=new Vt(Be);return this.Mr.forEachWhile(p=>{const y=p.key.path;return!!i.isPrefixOf(y)&&(y.length===l&&(m=m.add(p.Cr)),!0)},h),ue.resolve(this.Br(m))}Br(e){const t=[];return e.forEach(i=>{const l=this.Or(i);l!==null&&t.push(l)}),t}removeMutationBatch(e,t){Je(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return ue.forEach(t.mutations,l=>{const c=new $t(l.key,t.batchId);return i=i.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.Mr=i})}qn(e){}containsKey(e,t){const i=new $t(t,0),l=this.Mr.firstAfterOrEqual(i);return ue.resolve(t.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,ue.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e){this.kr=e,this.docs=function(){return new ht(Te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,l=this.docs.get(i),c=l?l.size:0,h=this.kr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:h}),this.size+=h-c,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ue.resolve(i?i.document.mutableCopy():un.newInvalidDocument(t))}getEntries(e,t){let i=wa();return t.forEach(l=>{const c=this.docs.get(l);i=i.insert(l,c?c.document.mutableCopy():un.newInvalidDocument(l))}),ue.resolve(i)}getDocumentsMatchingQuery(e,t,i,l){let c=wa();const h=t.path,m=new Te(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:v}}=p.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||LR(MR(v),i)<=0||(l.has(v.key)||ah(t,v))&&(c=c.insert(v.key,v.mutableCopy()))}return ue.resolve(c)}getAllFromCollectionGroup(e,t,i,l){we()}qr(e,t){return ue.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new oC(this)}getSize(e){return ue.resolve(this.size)}}class oC extends eC{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((i,l)=>{l.isValidDocument()?t.push(this.Ir.addEntry(e,l)):this.Ir.removeEntry(i)}),ue.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e){this.persistence=e,this.Qr=new Sr(t=>Og(t),Mg),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Hg,this.targetCount=0,this.Ur=Il.Kn()}forEachTarget(e,t){return this.Qr.forEach((i,l)=>t(l)),ue.resolve()}getLastRemoteSnapshotVersion(e){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ue.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.$r&&(this.$r=t),ue.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new Il(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,ue.resolve()}updateTargetData(e,t){return this.zn(t),ue.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.Sr(t.targetId),this.targetCount-=1,ue.resolve()}removeTargets(e,t,i){let l=0;const c=[];return this.Qr.forEach((h,m)=>{m.sequenceNumber<=t&&i.get(m.targetId)===null&&(this.Qr.delete(h),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),l++)}),ue.waitFor(c).next(()=>l)}getTargetCount(e){return ue.resolve(this.targetCount)}getTargetData(e,t){const i=this.Qr.get(t)||null;return ue.resolve(i)}addMatchingKeys(e,t,i){return this.Kr.yr(t,i),ue.resolve()}removeMatchingKeys(e,t,i){this.Kr.br(t,i);const l=this.persistence.referenceDelegate,c=[];return l&&t.forEach(h=>{c.push(l.markPotentiallyOrphaned(e,h))}),ue.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.Kr.Sr(t),ue.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Kr.vr(t);return ue.resolve(i)}containsKey(e,t){return ue.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new eh(0),this.zr=!1,this.zr=!0,this.jr=new iC,this.referenceDelegate=e(this),this.Hr=new cC(this),this.indexManager=new $k,this.remoteDocumentCache=function(l){return new lC(l)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new Fk(t),this.Yr=new sC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new aC,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Wr[e.toKey()];return i||(i=new rC(t,this.referenceDelegate),this.Wr[e.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,i){_e("MemoryPersistence","Starting transaction:",e);const l=new uC(this.Gr.next());return this.referenceDelegate.Zr(),i(l).next(c=>this.referenceDelegate.Xr(l).next(()=>c)).toPromise().then(c=>(l.raiseOnCommittedEvent(),c))}ei(e,t){return ue.or(Object.values(this.Wr).map(i=>()=>i.containsKey(e,t)))}}class uC extends UR{constructor(e){super(),this.currentSequenceNumber=e}}class qg{constructor(e){this.persistence=e,this.ti=new Hg,this.ni=null}static ri(e){return new qg(e)}get ii(){if(this.ni)return this.ni;throw we()}addReference(e,t,i){return this.ti.addReference(i,t),this.ii.delete(i.toString()),ue.resolve()}removeReference(e,t,i){return this.ti.removeReference(i,t),this.ii.add(i.toString()),ue.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),ue.resolve()}removeTarget(e,t){this.ti.Sr(t.targetId).forEach(l=>this.ii.add(l.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(l=>{l.forEach(c=>this.ii.add(c.toString()))}).next(()=>i.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.ii,i=>{const l=Te.fromPath(i);return this.si(e,l).next(c=>{c||t.removeEntry(l,ke.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(i=>{i?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return ue.or([()=>ue.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Bd{constructor(e,t){this.persistence=e,this.oi=new Sr(i=>zR(i.path),(i,l)=>i.isEqual(l)),this.garbageCollector=Jk(this,t)}static ri(e,t){return new Bd(e,t)}Zr(){}Xr(e){return ue.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(l=>i+l))}sr(e){let t=0;return this.rr(e,i=>{t++}).next(()=>t)}rr(e,t){return ue.forEach(this.oi,(i,l)=>this.ar(e,i,l).next(c=>c?ue.resolve():t(l)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.qr(e,h=>this.ar(e,h,t).next(m=>{m||(i++,c.removeEntry(h,ke.min()))})).next(()=>c.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),ue.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),ue.resolve()}removeReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),ue.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),ue.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=xd(e.data.value)),t}ar(e,t,i){return ue.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const l=this.oi.get(t);return ue.resolve(l!==void 0&&l>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(e,t,i,l){this.targetId=e,this.fromCache=t,this.Hi=i,this.Ji=l}static Yi(e,t){let i=Ue(),l=Ue();for(const c of t.docChanges)switch(c.type){case 0:i=i.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Kg(e,t.fromCache,i,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return rN()?8:VR(dn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,i,l){const c={result:null};return this.rs(e,t).next(h=>{c.result=h}).next(()=>{if(!c.result)return this.ss(e,t,l,i).next(h=>{c.result=h})}).next(()=>{if(c.result)return;const h=new dC;return this._s(e,t,h).next(m=>{if(c.result=m,this.Xi)return this.us(e,t,h,m.size)})}).next(()=>c.result)}us(e,t,i,l){return i.documentReadCount<this.es?(_l()<=Pe.DEBUG&&_e("QueryEngine","SDK will not create cache indexes for query:",vl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ue.resolve()):(_l()<=Pe.DEBUG&&_e("QueryEngine","Query:",vl(t),"scans",i.documentReadCount,"local documents and returns",l,"documents as results."),i.documentReadCount>this.ts*l?(_l()<=Pe.DEBUG&&_e("QueryEngine","The SDK decides to create cache indexes for query:",vl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Us(t))):ue.resolve())}rs(e,t){if(vx(t))return ue.resolve(null);let i=Us(t);return this.indexManager.getIndexType(e,i).next(l=>l===0?null:(t.limit!==null&&l===1&&(t=ng(t,null,"F"),i=Us(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(c=>{const h=Ue(...c);return this.ns.getDocuments(e,h).next(m=>this.indexManager.getMinOffset(e,i).next(p=>{const y=this.cs(t,m);return this.ls(t,y,h,p.readTime)?this.rs(e,ng(t,null,"F")):this.hs(e,y,t,p)}))})))}ss(e,t,i,l){return vx(t)||l.isEqual(ke.min())?ue.resolve(null):this.ns.getDocuments(e,i).next(c=>{const h=this.cs(t,c);return this.ls(t,h,i,l)?ue.resolve(null):(_l()<=Pe.DEBUG&&_e("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),vl(t)),this.hs(e,h,t,OR(l,gc)).next(m=>m))})}cs(e,t){let i=new Vt(NE(e));return t.forEach((l,c)=>{ah(e,c)&&(i=i.add(c))}),i}ls(e,t,i,l){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const c=e.limitType==="F"?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}_s(e,t,i){return _l()<=Pe.DEBUG&&_e("QueryEngine","Using full collection scan to execute query:",vl(t)),this.ns.getDocumentsMatchingQuery(e,t,Ti.min(),i)}hs(e,t,i,l){return this.ns.getDocumentsMatchingQuery(e,i,l).next(c=>(t.forEach(h=>{c=c.insert(h.key,h)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fg="LocalStore",fC=3e8;class mC{constructor(e,t,i,l){this.persistence=e,this.Ps=t,this.serializer=l,this.Ts=new ht(Be),this.Is=new Sr(c=>Og(c),Mg),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(i)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nC(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function gC(s,e,t,i){return new mC(s,e,t,i)}async function WE(s,e){const t=Ie(s);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let l;return t.mutationQueue.getAllMutationBatches(i).next(c=>(l=c,t.As(e),t.mutationQueue.getAllMutationBatches(i))).next(c=>{const h=[],m=[];let p=Ue();for(const y of l){h.push(y.batchId);for(const v of y.mutations)p=p.add(v.key)}for(const y of c){m.push(y.batchId);for(const v of y.mutations)p=p.add(v.key)}return t.localDocuments.getDocuments(i,p).next(y=>({Rs:y,removedBatchIds:h,addedBatchIds:m}))})})}function pC(s,e){const t=Ie(s);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const l=e.batch.keys(),c=t.ds.newChangeBuffer({trackRemovals:!0});return function(m,p,y,v){const A=y.batch,S=A.keys();let j=ue.resolve();return S.forEach(O=>{j=j.next(()=>v.getEntry(p,O)).next(V=>{const B=y.docVersions.get(O);Je(B!==null),V.version.compareTo(B)<0&&(A.applyToRemoteDocument(V,y),V.isValidDocument()&&(V.setReadTime(y.commitVersion),v.addEntry(V)))})}),j.next(()=>m.mutationQueue.removeMutationBatch(p,A))}(t,i,e,c).next(()=>c.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,l,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(m){let p=Ue();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p}(e))).next(()=>t.localDocuments.getDocuments(i,l))})}function XE(s){const e=Ie(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function yC(s,e){const t=Ie(s),i=e.snapshotVersion;let l=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const h=t.ds.newChangeBuffer({trackRemovals:!0});l=t.Ts;const m=[];e.targetChanges.forEach((v,A)=>{const S=l.get(A);if(!S)return;m.push(t.Hr.removeMatchingKeys(c,v.removedDocuments,A).next(()=>t.Hr.addMatchingKeys(c,v.addedDocuments,A)));let j=S.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(A)!==null?j=j.withResumeToken(sn.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):v.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(v.resumeToken,i)),l=l.insert(A,j),function(V,B,F){return V.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=fC?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(S,j,v)&&m.push(t.Hr.updateTargetData(c,j))});let p=wa(),y=Ue();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(c,v))}),m.push(_C(c,h,e.documentUpdates).next(v=>{p=v.Vs,y=v.fs})),!i.isEqual(ke.min())){const v=t.Hr.getLastRemoteSnapshotVersion(c).next(A=>t.Hr.setTargetsMetadata(c,c.currentSequenceNumber,i));m.push(v)}return ue.waitFor(m).next(()=>h.apply(c)).next(()=>t.localDocuments.getLocalViewOfDocuments(c,p,y)).next(()=>p)}).then(c=>(t.Ts=l,c))}function _C(s,e,t){let i=Ue(),l=Ue();return t.forEach(c=>i=i.add(c)),e.getEntries(s,i).next(c=>{let h=wa();return t.forEach((m,p)=>{const y=c.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(m)),p.isNoDocument()&&p.version.isEqual(ke.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):_e(Fg,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)}),{Vs:h,fs:l}})}function vC(s,e){const t=Ie(s);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Ig),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function xC(s,e){const t=Ie(s);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let l;return t.Hr.getTargetData(i,e).next(c=>c?(l=c,ue.resolve(l)):t.Hr.allocateTargetId(i).next(h=>(l=new yi(e,h,"TargetPurposeListen",i.currentSequenceNumber),t.Hr.addTargetData(i,l).next(()=>l))))}).then(i=>{const l=t.Ts.get(i.targetId);return(l===null||i.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(i.targetId,i),t.Is.set(e,i.targetId)),i})}async function lg(s,e,t){const i=Ie(s),l=i.Ts.get(e),c=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",c,h=>i.persistence.referenceDelegate.removeTarget(h,l))}catch(h){if(!Bl(h))throw h;_e(Fg,`Failed to update sequence numbers for target ${e}: ${h}`)}i.Ts=i.Ts.remove(e),i.Is.delete(l.target)}function jx(s,e,t){const i=Ie(s);let l=ke.min(),c=Ue();return i.persistence.runTransaction("Execute query","readwrite",h=>function(p,y,v){const A=Ie(p),S=A.Is.get(v);return S!==void 0?ue.resolve(A.Ts.get(S)):A.Hr.getTargetData(y,v)}(i,h,Us(e)).next(m=>{if(m)return l=m.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(h,m.targetId).next(p=>{c=p})}).next(()=>i.Ps.getDocumentsMatchingQuery(h,e,t?l:ke.min(),t?c:Ue())).next(m=>(EC(i,rk(e),m),{documents:m,gs:c})))}function EC(s,e,t){let i=s.Es.get(e)||ke.min();t.forEach((l,c)=>{c.readTime.compareTo(i)>0&&(i=c.readTime)}),s.Es.set(e,i)}class Dx{constructor(){this.activeTargetIds=hk()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class bC{constructor(){this.ho=new Dx,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,i){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Dx,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox="ConnectivityMonitor";class Mx{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){_e(Ox,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){_e(Ox,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dd=null;function og(){return dd===null?dd=function(){return 268435456+Math.round(2147483648*Math.random())}():dd++,"0x"+dd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm="RestConnection",AC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class SC{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${i}/databases/${l}`,this.wo=this.databaseId.database===Od?`project_id=${i}`:`project_id=${i}&database_id=${l}`}bo(e,t,i,l,c){const h=og(),m=this.So(e,t.toUriEncodedString());_e(Lm,`Sending RPC '${e}' ${h}:`,m,i);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,l,c),this.vo(e,m,p,i).then(y=>(_e(Lm,`Received RPC '${e}' ${h}: `,y),y),y=>{throw Nl(Lm,`RPC '${e}' ${h} failed with error: `,y,"url: ",m,"request:",i),y})}Co(e,t,i,l,c,h){return this.bo(e,t,i,l,c)}Do(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ul}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((l,c)=>e[c]=l),i&&i.headers.forEach((l,c)=>e[c]=l)}So(e,t){const i=AC[e];return`${this.po}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on="WebChannelConnection";class NC extends SC{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,i,l){const c=og();return new Promise((h,m)=>{const p=new nE;p.setWithCredentials(!0),p.listenOnce(sE.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case vd.NO_ERROR:const v=p.getResponseJson();_e(on,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(v)),h(v);break;case vd.TIMEOUT:_e(on,`RPC '${e}' ${c} timed out`),m(new ve(ce.DEADLINE_EXCEEDED,"Request time out"));break;case vd.HTTP_ERROR:const A=p.getStatus();if(_e(on,`RPC '${e}' ${c} failed with status:`,A,"response text:",p.getResponseText()),A>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const j=S==null?void 0:S.error;if(j&&j.status&&j.message){const O=function(B){const F=B.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(F)>=0?F:ce.UNKNOWN}(j.status);m(new ve(O,j.message))}else m(new ve(ce.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new ve(ce.UNAVAILABLE,"Connection failed."));break;default:we()}}finally{_e(on,`RPC '${e}' ${c} completed.`)}});const y=JSON.stringify(l);_e(on,`RPC '${e}' ${c} sending request:`,l),p.send(t,"POST",y,i,15)})}Wo(e,t,i){const l=og(),c=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=rE(),m=iE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const v=c.join("");_e(on,`Creating RPC '${e}' stream ${l}: ${v}`,p);const A=h.createWebChannel(v,p);let S=!1,j=!1;const O=new wC({Fo:B=>{j?_e(on,`Not sending because RPC '${e}' stream ${l} is closed:`,B):(S||(_e(on,`Opening RPC '${e}' stream ${l} transport.`),A.open(),S=!0),_e(on,`RPC '${e}' stream ${l} sending:`,B),A.send(B))},Mo:()=>A.close()}),V=(B,F,G)=>{B.listen(F,$=>{try{G($)}catch(J){setTimeout(()=>{throw J},0)}})};return V(A,sc.EventType.OPEN,()=>{j||(_e(on,`RPC '${e}' stream ${l} transport opened.`),O.Qo())}),V(A,sc.EventType.CLOSE,()=>{j||(j=!0,_e(on,`RPC '${e}' stream ${l} transport closed`),O.Ko())}),V(A,sc.EventType.ERROR,B=>{j||(j=!0,Nl(on,`RPC '${e}' stream ${l} transport errored:`,B),O.Ko(new ve(ce.UNAVAILABLE,"The operation could not be completed")))}),V(A,sc.EventType.MESSAGE,B=>{var F;if(!j){const G=B.data[0];Je(!!G);const $=G,J=($==null?void 0:$.error)||((F=$[0])===null||F===void 0?void 0:F.error);if(J){_e(on,`RPC '${e}' stream ${l} received error:`,J);const se=J.status;let le=function(b){const T=Rt[b];if(T!==void 0)return UE(T)}(se),L=J.message;le===void 0&&(le=ce.INTERNAL,L="Unknown error status: "+se+" with message "+J.message),j=!0,O.Ko(new ve(le,L)),A.close()}else _e(on,`RPC '${e}' stream ${l} received:`,G),O.Uo(G)}}),V(m,aE.STAT_EVENT,B=>{B.stat===Wm.PROXY?_e(on,`RPC '${e}' stream ${l} detected buffering proxy`):B.stat===Wm.NOPROXY&&_e(on,`RPC '${e}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{O.$o()},0),O}}function Pm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oh(s){return new Ik(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(e,t,i=1e3,l=1.5,c=6e4){this.Ti=e,this.timerId=t,this.Go=i,this.zo=l,this.jo=c,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),l=Math.max(0,t-i);l>0&&_e("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,l,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lx="PersistentStream";class JE{constructor(e,t,i,l,c,h,m,p){this.Ti=e,this.n_=i,this.r_=l,this.connection=c,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new ZE(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===ce.RESOURCE_EXHAUSTED?(Sa(t.toString()),Sa("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,l])=>{this.i_===t&&this.V_(i,l)},i=>{e(()=>{const l=new ve(ce.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(l)})})}V_(e,t){const i=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(l=>{i(()=>this.m_(l))}),this.stream.onMessage(l=>{i(()=>++this.__==1?this.g_(l):this.onNext(l))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return _e(Lx,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(_e(Lx,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class RC extends JE{constructor(e,t,i,l,c,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,l,h),this.serializer=c}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=Ok(this.serializer,e),i=function(c){if(!("targetChange"in c))return ke.min();const h=c.targetChange;return h.targetIds&&h.targetIds.length?ke.min():h.readTime?Vs(h.readTime):ke.min()}(e);return this.listener.p_(t,i)}y_(e){const t={};t.database=rg(this.serializer),t.addTarget=function(c,h){let m;const p=h.target;if(m=eg(p)?{documents:Pk(c,p)}:{query:Uk(c,p).ht},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=zE(c,h.resumeToken);const y=sg(c,h.expectedCount);y!==null&&(m.expectedCount=y)}else if(h.snapshotVersion.compareTo(ke.min())>0){m.readTime=Vd(c,h.snapshotVersion.toTimestamp());const y=sg(c,h.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,e);const i=Bk(this.serializer,e);i&&(t.labels=i),this.I_(t)}w_(e){const t={};t.database=rg(this.serializer),t.removeTarget=e,this.I_(t)}}class kC extends JE{constructor(e,t,i,l,c,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,l,h),this.serializer=c}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Je(!!e.streamToken),this.lastStreamToken=e.streamToken,Je(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Je(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=Lk(e.writeResults,e.commitTime),i=Vs(e.commitTime);return this.listener.v_(i,t)}C_(){const e={};e.database=rg(this.serializer),this.I_(e)}S_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>Mk(this.serializer,i))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{}class IC extends CC{constructor(e,t,i,l){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=l,this.F_=!1}M_(){if(this.F_)throw new ve(ce.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,t,i,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,h])=>this.connection.bo(e,ag(t,i),l,c,h)).catch(c=>{throw c.name==="FirebaseError"?(c.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ve(ce.UNKNOWN,c.toString())})}Co(e,t,i,l,c){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Co(e,ag(t,i),l,h,m,c)).catch(h=>{throw h.name==="FirebaseError"?(h.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ve(ce.UNKNOWN,h.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class jC{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Sa(t),this.N_=!1):_e("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vr="RemoteStore";class DC{constructor(e,t,i,l,c){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=c,this.z_.To(h=>{i.enqueueAndForget(async()=>{wr(this)&&(_e(vr,"Restarting streams for network reachability change."),await async function(p){const y=Ie(p);y.W_.add(4),await kc(y),y.j_.set("Unknown"),y.W_.delete(4),await ch(y)}(this))})}),this.j_=new jC(i,l)}}async function ch(s){if(wr(s))for(const e of s.G_)await e(!0)}async function kc(s){for(const e of s.G_)await e(!1)}function eb(s,e){const t=Ie(s);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),Yg(t)?Qg(t):Hl(t).c_()&&$g(t,e))}function Gg(s,e){const t=Ie(s),i=Hl(t);t.U_.delete(e),i.c_()&&tb(t,e),t.U_.size===0&&(i.c_()?i.P_():wr(t)&&t.j_.set("Unknown"))}function $g(s,e){if(s.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const t=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Hl(s).y_(e)}function tb(s,e){s.H_.Ne(e),Hl(s).w_(e)}function Qg(s){s.H_=new Nk({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>s.U_.get(e)||null,it:()=>s.datastore.serializer.databaseId}),Hl(s).start(),s.j_.B_()}function Yg(s){return wr(s)&&!Hl(s).u_()&&s.U_.size>0}function wr(s){return Ie(s).W_.size===0}function nb(s){s.H_=void 0}async function OC(s){s.j_.set("Online")}async function MC(s){s.U_.forEach((e,t)=>{$g(s,e)})}async function LC(s,e){nb(s),Yg(s)?(s.j_.q_(e),Qg(s)):s.j_.set("Unknown")}async function PC(s,e,t){if(s.j_.set("Online"),e instanceof BE&&e.state===2&&e.cause)try{await async function(l,c){const h=c.cause;for(const m of c.targetIds)l.U_.has(m)&&(await l.remoteSyncer.rejectListen(m,h),l.U_.delete(m),l.H_.removeTarget(m))}(s,e)}catch(i){_e(vr,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await zd(s,i)}else if(e instanceof Td?s.H_.We(e):e instanceof VE?s.H_.Ze(e):s.H_.je(e),!t.isEqual(ke.min()))try{const i=await XE(s.localStore);t.compareTo(i)>=0&&await function(c,h){const m=c.H_.ot(h);return m.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const v=c.U_.get(y);v&&c.U_.set(y,v.withResumeToken(p.resumeToken,h))}}),m.targetMismatches.forEach((p,y)=>{const v=c.U_.get(p);if(!v)return;c.U_.set(p,v.withResumeToken(sn.EMPTY_BYTE_STRING,v.snapshotVersion)),tb(c,p);const A=new yi(v.target,p,y,v.sequenceNumber);$g(c,A)}),c.remoteSyncer.applyRemoteEvent(m)}(s,t)}catch(i){_e(vr,"Failed to raise snapshot:",i),await zd(s,i)}}async function zd(s,e,t){if(!Bl(e))throw e;s.W_.add(1),await kc(s),s.j_.set("Offline"),t||(t=()=>XE(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{_e(vr,"Retrying IndexedDB access"),await t(),s.W_.delete(1),await ch(s)})}function sb(s,e){return e().catch(t=>zd(s,t,e))}async function uh(s){const e=Ie(s),t=Ni(e);let i=e.K_.length>0?e.K_[e.K_.length-1].batchId:Ig;for(;UC(e);)try{const l=await vC(e.localStore,i);if(l===null){e.K_.length===0&&t.P_();break}i=l.batchId,VC(e,l)}catch(l){await zd(e,l)}ab(e)&&ib(e)}function UC(s){return wr(s)&&s.K_.length<10}function VC(s,e){s.K_.push(e);const t=Ni(s);t.c_()&&t.b_&&t.S_(e.mutations)}function ab(s){return wr(s)&&!Ni(s).u_()&&s.K_.length>0}function ib(s){Ni(s).start()}async function BC(s){Ni(s).C_()}async function zC(s){const e=Ni(s);for(const t of s.K_)e.S_(t.mutations)}async function HC(s,e,t){const i=s.K_.shift(),l=Vg.from(i,e,t);await sb(s,()=>s.remoteSyncer.applySuccessfulWrite(l)),await uh(s)}async function qC(s,e){e&&Ni(s).b_&&await async function(i,l){if(function(h){return Ak(h)&&h!==ce.ABORTED}(l.code)){const c=i.K_.shift();Ni(i).h_(),await sb(i,()=>i.remoteSyncer.rejectFailedWrite(c.batchId,l)),await uh(i)}}(s,e),ab(s)&&ib(s)}async function Px(s,e){const t=Ie(s);t.asyncQueue.verifyOperationInProgress(),_e(vr,"RemoteStore received new credentials");const i=wr(t);t.W_.add(3),await kc(t),i&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await ch(t)}async function KC(s,e){const t=Ie(s);e?(t.W_.delete(2),await ch(t)):e||(t.W_.add(2),await kc(t),t.j_.set("Unknown"))}function Hl(s){return s.J_||(s.J_=function(t,i,l){const c=Ie(t);return c.M_(),new RC(i,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(s.datastore,s.asyncQueue,{xo:OC.bind(null,s),No:MC.bind(null,s),Lo:LC.bind(null,s),p_:PC.bind(null,s)}),s.G_.push(async e=>{e?(s.J_.h_(),Yg(s)?Qg(s):s.j_.set("Unknown")):(await s.J_.stop(),nb(s))})),s.J_}function Ni(s){return s.Y_||(s.Y_=function(t,i,l){const c=Ie(t);return c.M_(),new kC(i,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(s.datastore,s.asyncQueue,{xo:()=>Promise.resolve(),No:BC.bind(null,s),Lo:qC.bind(null,s),D_:zC.bind(null,s),v_:HC.bind(null,s)}),s.G_.push(async e=>{e?(s.Y_.h_(),await uh(s)):(await s.Y_.stop(),s.K_.length>0&&(_e(vr,`Stopping write stream with ${s.K_.length} pending writes`),s.K_=[]))})),s.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(e,t,i,l,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=l,this.removalCallback=c,this.deferred=new Ea,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,l,c){const h=Date.now()+i,m=new Wg(e,t,h,l,c);return m.start(i),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xg(s,e){if(Sa("AsyncQueue",`${e}: ${s}`),Bl(s))return new ve(ce.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{static emptySet(e){return new Tl(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Te.comparator(t.key,i.key):(t,i)=>Te.comparator(t.key,i.key),this.keyedMap=ac(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Tl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const l=t.getNext().key,c=i.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Tl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(){this.Z_=new ht(Te.comparator)}track(e){const t=e.doc.key,i=this.Z_.get(t);i?e.type!==0&&i.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&i.type!==1?this.Z_=this.Z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Z_=this.Z_.remove(t):e.type===1&&i.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):we():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class jl{constructor(e,t,i,l,c,h,m,p,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=l,this.mutatedKeys=c,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,t,i,l,c){const h=[];return t.forEach(m=>{h.push({type:0,doc:m})}),new jl(e,t,Tl.emptySet(t),h,i,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let l=0;l<t.length;l++)if(t[l].type!==i[l].type||!t[l].doc.isEqual(i[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class GC{constructor(){this.queries=Vx(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,i){const l=Ie(t),c=l.queries;l.queries=Vx(),c.forEach((h,m)=>{for(const p of m.ta)p.onError(i)})})(this,new ve(ce.ABORTED,"Firestore shutting down"))}}function Vx(){return new Sr(s=>wE(s),sh)}async function rb(s,e){const t=Ie(s);let i=3;const l=e.query;let c=t.queries.get(l);c?!c.na()&&e.ra()&&(i=2):(c=new FC,i=e.ra()?0:1);try{switch(i){case 0:c.ea=await t.onListen(l,!0);break;case 1:c.ea=await t.onListen(l,!1);break;case 2:await t.onFirstRemoteStoreListen(l)}}catch(h){const m=Xg(h,`Initialization of query '${vl(e.query)}' failed`);return void e.onError(m)}t.queries.set(l,c),c.ta.push(e),e.sa(t.onlineState),c.ea&&e.oa(c.ea)&&Zg(t)}async function lb(s,e){const t=Ie(s),i=e.query;let l=3;const c=t.queries.get(i);if(c){const h=c.ta.indexOf(e);h>=0&&(c.ta.splice(h,1),c.ta.length===0?l=e.ra()?0:1:!c.na()&&e.ra()&&(l=2))}switch(l){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function $C(s,e){const t=Ie(s);let i=!1;for(const l of e){const c=l.query,h=t.queries.get(c);if(h){for(const m of h.ta)m.oa(l)&&(i=!0);h.ea=l}}i&&Zg(t)}function QC(s,e,t){const i=Ie(s),l=i.queries.get(e);if(l)for(const c of l.ta)c.onError(t);i.queries.delete(e)}function Zg(s){s.ia.forEach(e=>{e.next()})}var cg,Bx;(Bx=cg||(cg={}))._a="default",Bx.Cache="cache";class ob{constructor(e,t,i){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(e){if(!this.options.includeMetadataChanges){const i=[];for(const l of e.docChanges)l.type!==3&&i.push(l);e=new jl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const i=t!=="Offline";return(!this.options.Ta||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=jl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==cg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(e){this.key=e}}class ub{constructor(e){this.key=e}}class YC{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ue(),this.mutatedKeys=Ue(),this.ya=NE(e),this.wa=new Tl(this.ya)}get ba(){return this.fa}Sa(e,t){const i=t?t.Da:new Ux,l=t?t.wa:this.wa;let c=t?t.mutatedKeys:this.mutatedKeys,h=l,m=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((v,A)=>{const S=l.get(v),j=ah(this.query,A)?A:null,O=!!S&&this.mutatedKeys.has(S.key),V=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let B=!1;S&&j?S.data.isEqual(j.data)?O!==V&&(i.track({type:3,doc:j}),B=!0):this.va(S,j)||(i.track({type:2,doc:j}),B=!0,(p&&this.ya(j,p)>0||y&&this.ya(j,y)<0)&&(m=!0)):!S&&j?(i.track({type:0,doc:j}),B=!0):S&&!j&&(i.track({type:1,doc:S}),B=!0,(p||y)&&(m=!0)),B&&(j?(h=h.add(j),c=V?c.add(v):c.delete(v)):(h=h.delete(v),c=c.delete(v)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const v=this.query.limitType==="F"?h.last():h.first();h=h.delete(v.key),c=c.delete(v.key),i.track({type:1,doc:v})}return{wa:h,Da:i,ls:m,mutatedKeys:c}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,l){const c=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const h=e.Da.X_();h.sort((v,A)=>function(j,O){const V=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we()}};return V(j)-V(O)}(v.type,A.type)||this.ya(v.doc,A.doc)),this.Ca(i),l=l!=null&&l;const m=t&&!l?this.Fa():[],p=this.pa.size===0&&this.current&&!l?1:0,y=p!==this.ga;return this.ga=p,h.length!==0||y?{snapshot:new jl(this.query,e.wa,c,h,e.mutatedKeys,p===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Ux,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ue(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const t=[];return e.forEach(i=>{this.pa.has(i)||t.push(new ub(i))}),this.pa.forEach(i=>{e.has(i)||t.push(new cb(i))}),t}Oa(e){this.fa=e.gs,this.pa=Ue();const t=this.Sa(e.documents);return this.applyChanges(t,!0)}Na(){return jl.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Jg="SyncEngine";class WC{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class XC{constructor(e){this.key=e,this.Ba=!1}}class ZC{constructor(e,t,i,l,c,h){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=h,this.La={},this.ka=new Sr(m=>wE(m),sh),this.qa=new Map,this.Qa=new Set,this.$a=new ht(Te.comparator),this.Ka=new Map,this.Ua=new Hg,this.Wa={},this.Ga=new Map,this.za=Il.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function JC(s,e,t=!0){const i=pb(s);let l;const c=i.ka.get(e);return c?(i.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.Na()):l=await db(i,e,t,!0),l}async function eI(s,e){const t=pb(s);await db(t,e,!0,!1)}async function db(s,e,t,i){const l=await xC(s.localStore,Us(e)),c=l.targetId,h=s.sharedClientState.addLocalQueryTarget(c,t);let m;return i&&(m=await tI(s,e,c,h==="current",l.resumeToken)),s.isPrimaryClient&&t&&eb(s.remoteStore,l),m}async function tI(s,e,t,i,l){s.Ha=(A,S,j)=>async function(V,B,F,G){let $=B.view.Sa(F);$.ls&&($=await jx(V.localStore,B.query,!1).then(({documents:L})=>B.view.Sa(L,$)));const J=G&&G.targetChanges.get(B.targetId),se=G&&G.targetMismatches.get(B.targetId)!=null,le=B.view.applyChanges($,V.isPrimaryClient,J,se);return Hx(V,B.targetId,le.Ma),le.snapshot}(s,A,S,j);const c=await jx(s.localStore,e,!0),h=new YC(e,c.gs),m=h.Sa(c.documents),p=Rc.createSynthesizedTargetChangeForCurrentChange(t,i&&s.onlineState!=="Offline",l),y=h.applyChanges(m,s.isPrimaryClient,p);Hx(s,t,y.Ma);const v=new WC(e,t,h);return s.ka.set(e,v),s.qa.has(t)?s.qa.get(t).push(e):s.qa.set(t,[e]),y.snapshot}async function nI(s,e,t){const i=Ie(s),l=i.ka.get(e),c=i.qa.get(l.targetId);if(c.length>1)return i.qa.set(l.targetId,c.filter(h=>!sh(h,e))),void i.ka.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(l.targetId),i.sharedClientState.isActiveQueryTarget(l.targetId)||await lg(i.localStore,l.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(l.targetId),t&&Gg(i.remoteStore,l.targetId),ug(i,l.targetId)}).catch(Vl)):(ug(i,l.targetId),await lg(i.localStore,l.targetId,!0))}async function sI(s,e){const t=Ie(s),i=t.ka.get(e),l=t.qa.get(i.targetId);t.isPrimaryClient&&l.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Gg(t.remoteStore,i.targetId))}async function aI(s,e,t){const i=dI(s);try{const l=await function(h,m){const p=Ie(h),y=Ut.now(),v=m.reduce((j,O)=>j.add(O.key),Ue());let A,S;return p.persistence.runTransaction("Locally write mutations","readwrite",j=>{let O=wa(),V=Ue();return p.ds.getEntries(j,v).next(B=>{O=B,O.forEach((F,G)=>{G.isValidDocument()||(V=V.add(F))})}).next(()=>p.localDocuments.getOverlayedDocuments(j,O)).next(B=>{A=B;const F=[];for(const G of m){const $=vk(G,A.get(G.key).overlayedDocument);$!=null&&F.push(new Ci(G.key,$,_E($.value.mapValue),Zn.exists(!0)))}return p.mutationQueue.addMutationBatch(j,y,F,m)}).next(B=>{S=B;const F=B.applyToLocalDocumentSet(A,V);return p.documentOverlayCache.saveOverlays(j,B.batchId,F)})}).then(()=>({batchId:S.batchId,changes:kE(A)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(l.batchId),function(h,m,p){let y=h.Wa[h.currentUser.toKey()];y||(y=new ht(Be)),y=y.insert(m,p),h.Wa[h.currentUser.toKey()]=y}(i,l.batchId,t),await Cc(i,l.changes),await uh(i.remoteStore)}catch(l){const c=Xg(l,"Failed to persist write");t.reject(c)}}async function hb(s,e){const t=Ie(s);try{const i=await yC(t.localStore,e);e.targetChanges.forEach((l,c)=>{const h=t.Ka.get(c);h&&(Je(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?h.Ba=!0:l.modifiedDocuments.size>0?Je(h.Ba):l.removedDocuments.size>0&&(Je(h.Ba),h.Ba=!1))}),await Cc(t,i,e)}catch(i){await Vl(i)}}function zx(s,e,t){const i=Ie(s);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const l=[];i.ka.forEach((c,h)=>{const m=h.view.sa(e);m.snapshot&&l.push(m.snapshot)}),function(h,m){const p=Ie(h);p.onlineState=m;let y=!1;p.queries.forEach((v,A)=>{for(const S of A.ta)S.sa(m)&&(y=!0)}),y&&Zg(p)}(i.eventManager,e),l.length&&i.La.p_(l),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function iI(s,e,t){const i=Ie(s);i.sharedClientState.updateQueryState(e,"rejected",t);const l=i.Ka.get(e),c=l&&l.key;if(c){let h=new ht(Te.comparator);h=h.insert(c,un.newNoDocument(c,ke.min()));const m=Ue().add(c),p=new lh(ke.min(),new Map,new ht(Be),h,m);await hb(i,p),i.$a=i.$a.remove(c),i.Ka.delete(e),ep(i)}else await lg(i.localStore,e,!1).then(()=>ug(i,e,t)).catch(Vl)}async function rI(s,e){const t=Ie(s),i=e.batch.batchId;try{const l=await pC(t.localStore,e);mb(t,i,null),fb(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Cc(t,l)}catch(l){await Vl(l)}}async function lI(s,e,t){const i=Ie(s);try{const l=await function(h,m){const p=Ie(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let v;return p.mutationQueue.lookupMutationBatch(y,m).next(A=>(Je(A!==null),v=A.keys(),p.mutationQueue.removeMutationBatch(y,A))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,v,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,v)).next(()=>p.localDocuments.getDocuments(y,v))})}(i.localStore,e);mb(i,e,t),fb(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Cc(i,l)}catch(l){await Vl(l)}}function fb(s,e){(s.Ga.get(e)||[]).forEach(t=>{t.resolve()}),s.Ga.delete(e)}function mb(s,e,t){const i=Ie(s);let l=i.Wa[i.currentUser.toKey()];if(l){const c=l.get(e);c&&(t?c.reject(t):c.resolve(),l=l.remove(e)),i.Wa[i.currentUser.toKey()]=l}}function ug(s,e,t=null){s.sharedClientState.removeLocalQueryTarget(e);for(const i of s.qa.get(e))s.ka.delete(i),t&&s.La.Ja(i,t);s.qa.delete(e),s.isPrimaryClient&&s.Ua.Sr(e).forEach(i=>{s.Ua.containsKey(i)||gb(s,i)})}function gb(s,e){s.Qa.delete(e.path.canonicalString());const t=s.$a.get(e);t!==null&&(Gg(s.remoteStore,t),s.$a=s.$a.remove(e),s.Ka.delete(t),ep(s))}function Hx(s,e,t){for(const i of t)i instanceof cb?(s.Ua.addReference(i.key,e),oI(s,i)):i instanceof ub?(_e(Jg,"Document no longer in limbo: "+i.key),s.Ua.removeReference(i.key,e),s.Ua.containsKey(i.key)||gb(s,i.key)):we()}function oI(s,e){const t=e.key,i=t.path.canonicalString();s.$a.get(t)||s.Qa.has(i)||(_e(Jg,"New document in limbo: "+t),s.Qa.add(i),ep(s))}function ep(s){for(;s.Qa.size>0&&s.$a.size<s.maxConcurrentLimboResolutions;){const e=s.Qa.values().next().value;s.Qa.delete(e);const t=new Te(rt.fromString(e)),i=s.za.next();s.Ka.set(i,new XC(t)),s.$a=s.$a.insert(t,i),eb(s.remoteStore,new yi(Us(Lg(t.path)),i,"TargetPurposeLimboResolution",eh.ae))}}async function Cc(s,e,t){const i=Ie(s),l=[],c=[],h=[];i.ka.isEmpty()||(i.ka.forEach((m,p)=>{h.push(i.Ha(p,e,t).then(y=>{var v;if((y||t)&&i.isPrimaryClient){const A=y?!y.fromCache:(v=t==null?void 0:t.targetChanges.get(p.targetId))===null||v===void 0?void 0:v.current;i.sharedClientState.updateQueryState(p.targetId,A?"current":"not-current")}if(y){l.push(y);const A=Kg.Yi(p.targetId,y);c.push(A)}}))}),await Promise.all(h),i.La.p_(l),await async function(p,y){const v=Ie(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>ue.forEach(y,S=>ue.forEach(S.Hi,j=>v.persistence.referenceDelegate.addReference(A,S.targetId,j)).next(()=>ue.forEach(S.Ji,j=>v.persistence.referenceDelegate.removeReference(A,S.targetId,j)))))}catch(A){if(!Bl(A))throw A;_e(Fg,"Failed to update sequence numbers: "+A)}for(const A of y){const S=A.targetId;if(!A.fromCache){const j=v.Ts.get(S),O=j.snapshotVersion,V=j.withLastLimboFreeSnapshotVersion(O);v.Ts=v.Ts.insert(S,V)}}}(i.localStore,c))}async function cI(s,e){const t=Ie(s);if(!t.currentUser.isEqual(e)){_e(Jg,"User change. New user:",e.toKey());const i=await WE(t.localStore,e);t.currentUser=e,function(c,h){c.Ga.forEach(m=>{m.forEach(p=>{p.reject(new ve(ce.CANCELLED,h))})}),c.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Cc(t,i.Rs)}}function uI(s,e){const t=Ie(s),i=t.Ka.get(e);if(i&&i.Ba)return Ue().add(i.key);{let l=Ue();const c=t.qa.get(e);if(!c)return l;for(const h of c){const m=t.ka.get(h);l=l.unionWith(m.view.ba)}return l}}function pb(s){const e=Ie(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=hb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=uI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=iI.bind(null,e),e.La.p_=$C.bind(null,e.eventManager),e.La.Ja=QC.bind(null,e.eventManager),e}function dI(s){const e=Ie(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=rI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=lI.bind(null,e),e}class Hd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=oh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return gC(this.persistence,new hC,e.initialUser,this.serializer)}Xa(e){return new YE(qg.ri,this.serializer)}Za(e){return new bC}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hd.provider={build:()=>new Hd};class hI extends Hd{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Je(this.persistence.referenceDelegate instanceof Bd);const i=this.persistence.referenceDelegate.garbageCollector;return new Xk(i,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?bn.withCacheSize(this.cacheSizeBytes):bn.DEFAULT;return new YE(i=>Bd.ri(i,t),this.serializer)}}class dg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>zx(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=cI.bind(null,this.syncEngine),await KC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new GC}()}createDatastore(e){const t=oh(e.databaseInfo.databaseId),i=function(c){return new NC(c)}(e.databaseInfo);return function(c,h,m,p){return new IC(c,h,m,p)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,l,c,h,m){return new DC(i,l,c,h,m)}(this.localStore,this.datastore,e.asyncQueue,t=>zx(this.syncEngine,t,0),function(){return Mx.D()?new Mx:new TC}())}createSyncEngine(e,t){return function(l,c,h,m,p,y,v){const A=new ZC(l,c,h,m,p,y);return v&&(A.ja=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(l){const c=Ie(l);_e(vr,"RemoteStore shutting down."),c.W_.add(5),await kc(c),c.z_.shutdown(),c.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}dg.provider={build:()=>new dg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Sa("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ri="FirestoreClient";class fI{constructor(e,t,i,l,c){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=l,this.user=cn.UNAUTHENTICATED,this.clientId=oE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(i,async h=>{_e(Ri,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(i,h=>(_e(Ri,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ea;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Xg(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Um(s,e){s.asyncQueue.verifyOperationInProgress(),_e(Ri,"Initializing OfflineComponentProvider");const t=s.configuration;await e.initialize(t);let i=t.initialUser;s.setCredentialChangeListener(async l=>{i.isEqual(l)||(await WE(e.localStore,l),i=l)}),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}async function qx(s,e){s.asyncQueue.verifyOperationInProgress();const t=await mI(s);_e(Ri,"Initializing OnlineComponentProvider"),await e.initialize(t,s.configuration),s.setCredentialChangeListener(i=>Px(e.remoteStore,i)),s.setAppCheckTokenChangeListener((i,l)=>Px(e.remoteStore,l)),s._onlineComponents=e}async function mI(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){_e(Ri,"Using user provided OfflineComponentProvider");try{await Um(s,s._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(l){return l.name==="FirebaseError"?l.code===ce.FAILED_PRECONDITION||l.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(t))throw t;Nl("Error using user provided cache. Falling back to memory cache: "+t),await Um(s,new Hd)}}else _e(Ri,"Using default OfflineComponentProvider"),await Um(s,new hI(void 0));return s._offlineComponents}async function _b(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(_e(Ri,"Using user provided OnlineComponentProvider"),await qx(s,s._uninitializedComponentsProvider._online)):(_e(Ri,"Using default OnlineComponentProvider"),await qx(s,new dg))),s._onlineComponents}function gI(s){return _b(s).then(e=>e.syncEngine)}async function vb(s){const e=await _b(s),t=e.eventManager;return t.onListen=JC.bind(null,e.syncEngine),t.onUnlisten=nI.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=eI.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=sI.bind(null,e.syncEngine),t}function pI(s,e,t={}){const i=new Ea;return s.asyncQueue.enqueueAndForget(async()=>function(c,h,m,p,y){const v=new yb({next:S=>{v.su(),h.enqueueAndForget(()=>lb(c,A));const j=S.docs.has(m);!j&&S.fromCache?y.reject(new ve(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&S.fromCache&&p&&p.source==="server"?y.reject(new ve(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(S)},error:S=>y.reject(S)}),A=new ob(Lg(m.path),v,{includeMetadataChanges:!0,Ta:!0});return rb(c,A)}(await vb(s),s.asyncQueue,e,t,i)),i.promise}function yI(s,e,t={}){const i=new Ea;return s.asyncQueue.enqueueAndForget(async()=>function(c,h,m,p,y){const v=new yb({next:S=>{v.su(),h.enqueueAndForget(()=>lb(c,A)),S.fromCache&&p.source==="server"?y.reject(new ve(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(S)},error:S=>y.reject(S)}),A=new ob(m,v,{includeMetadataChanges:!0,Ta:!0});return rb(c,A)}(await vb(s),s.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xb(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eb(s,e,t){if(!t)throw new ve(ce.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function _I(s,e,t,i){if(e===!0&&i===!0)throw new ve(ce.INVALID_ARGUMENT,`${s} and ${t} cannot be used together.`)}function Fx(s){if(!Te.isDocumentKey(s))throw new ve(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Gx(s){if(Te.isDocumentKey(s))throw new ve(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function dh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":we()}function hs(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ve(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=dh(s);throw new ve(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb="firestore.googleapis.com",$x=!0;class Qx{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new ve(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=bb,this.ssl=$x}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:$x;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=QE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Yk)throw new ve(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_I("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xb((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new ve(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new ve(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new ve(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,l){return i.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hh{constructor(e,t,i,l){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Qx({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Qx(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new wR;switch(i.type){case"firstParty":return new CR(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ve(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=Kx.get(t);i&&(_e("ComponentProvider","Removing Datastore"),Kx.delete(t),i.terminate())}(this),Promise.resolve()}}function vI(s,e,t,i={}){var l;const c=(s=hs(s,hh))._getSettings(),h=Object.assign(Object.assign({},c),{emulatorOptions:s._getEmulatorOptions()}),m=`${e}:${t}`;c.host!==bb&&c.host!==m&&Nl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},c),{host:m,ssl:!1,emulatorOptions:i});if(!pr(p,h)&&(s._setSettings(p),i.mockUserToken)){let y,v;if(typeof i.mockUserToken=="string")y=i.mockUserToken,v=cn.MOCK_USER;else{y=Y0(i.mockUserToken,(l=s._app)===null||l===void 0?void 0:l.options.projectId);const A=i.mockUserToken.sub||i.mockUserToken.user_id;if(!A)throw new ve(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new cn(A)}s._authCredentials=new NR(new lE(y,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Nr(this.firestore,e,this._query)}}class _n{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ei(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _n(this.firestore,e,this._key)}}class Ei extends Nr{constructor(e,t,i){super(e,t,Lg(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _n(this.firestore,null,new Te(e))}withConverter(e){return new Ei(this.firestore,e,this._path)}}function nn(s,e,...t){if(s=ot(s),Eb("collection","path",e),s instanceof hh){const i=rt.fromString(e,...t);return Gx(i),new Ei(s,null,i)}{if(!(s instanceof _n||s instanceof Ei))throw new ve(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=s._path.child(rt.fromString(e,...t));return Gx(i),new Ei(s.firestore,null,i)}}function _t(s,e,...t){if(s=ot(s),arguments.length===1&&(e=oE.newId()),Eb("doc","path",e),s instanceof hh){const i=rt.fromString(e,...t);return Fx(i),new _n(s,null,new Te(i))}{if(!(s instanceof _n||s instanceof Ei))throw new ve(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=s._path.child(rt.fromString(e,...t));return Fx(i),new _n(s.firestore,s instanceof Ei?s.converter:null,new Te(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yx="AsyncQueue";class Wx{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new ZE(this,"async_queue_retry"),this.bu=()=>{const i=Pm();i&&_e(Yx,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.Su=e;const t=Pm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Pm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Ea;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Bl(e))throw e;_e(Yx,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.Su.then(()=>(this.pu=!0,e().catch(i=>{this.gu=i,this.pu=!1;const l=function(h){let m=h.message||"";return h.stack&&(m=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),m}(i);throw Sa("INTERNAL UNHANDLED ERROR: ",l),i}).then(i=>(this.pu=!1,i))));return this.Su=t,t}enqueueAfterDelay(e,t,i){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const l=Wg.createAndSchedule(this,e,t,i,c=>this.Fu(c));return this.fu.push(l),l}Du(){this.gu&&we()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class Rr extends hh{constructor(e,t,i,l){super(e,t,i,l),this.type="firestore",this._queue=new Wx,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Wx(e),this._firestoreClient=void 0,await e}}}function xI(s,e){const t=typeof s=="object"?s:kg(),i=typeof s=="string"?s:Od,l=Jd(t,"firestore").getImmediate({identifier:i});if(!l._initialized){const c=G0("firestore");c&&vI(l,...c)}return l}function tp(s){if(s._terminated)throw new ve(ce.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||EI(s),s._firestoreClient}function EI(s){var e,t,i;const l=s._freezeSettings(),c=function(m,p,y,v){return new KR(m,p,y,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,xb(v.experimentalLongPollingOptions),v.useFetchStreams)}(s._databaseId,((e=s._app)===null||e===void 0?void 0:e.options.appId)||"",s._persistenceKey,l);s._componentsProvider||!((t=l.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=l.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(s._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),s._firestoreClient=new fI(s._authCredentials,s._appCheckCredentials,s._queue,c,s._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Dl(sn.fromBase64String(e))}catch(t){throw new ve(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Dl(sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ve(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ve(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ve(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,l){if(i.length!==l.length)return!1;for(let c=0;c<i.length;++c)if(i[c]!==l[c])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI=/^__.*__$/;class TI{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Ci(e,this.data,this.fieldMask,t,this.fieldTransforms):new Nc(e,this.data,t,this.fieldTransforms)}}class Tb{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Ci(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Ab(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we()}}class ip{constructor(e,t,i,l,c,h){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=l,c===void 0&&this.Bu(),this.fieldTransforms=c||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new ip(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),l=this.ku({path:i,Qu:!1});return l.$u(e),l}Ku(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),l=this.ku({path:i,Qu:!1});return l.Bu(),l}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return qd(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(Ab(this.Lu)&&bI.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class AI{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||oh(e)}ju(e,t,i,l=!1){return new ip({Lu:e,methodName:t,zu:i,path:tn.emptyPath(),Qu:!1,Gu:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function mh(s){const e=s._freezeSettings(),t=oh(s._databaseId);return new AI(s._databaseId,!!e.ignoreUndefinedProperties,t)}function Sb(s,e,t,i,l,c={}){const h=s.ju(c.merge||c.mergeFields?2:0,e,t,l);rp("Data must be an object, but it was:",h,i);const m=wb(i,h);let p,y;if(c.merge)p=new Dn(h.fieldMask),y=h.fieldTransforms;else if(c.mergeFields){const v=[];for(const A of c.mergeFields){const S=hg(e,A,t);if(!h.contains(S))throw new ve(ce.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);Rb(v,S)||v.push(S)}p=new Dn(v),y=h.fieldTransforms.filter(A=>p.covers(A.field))}else p=null,y=h.fieldTransforms;return new TI(new Tn(m),p,y)}class gh extends np{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof gh}}function SI(s,e,t,i){const l=s.ju(1,e,t);rp("Data must be an object, but it was:",l,i);const c=[],h=Tn.empty();ki(i,(p,y)=>{const v=lp(e,p,t);y=ot(y);const A=l.Ku(v);if(y instanceof gh)c.push(v);else{const S=Ic(y,A);S!=null&&(c.push(v),h.set(v,S))}});const m=new Dn(c);return new Tb(h,m,l.fieldTransforms)}function wI(s,e,t,i,l,c){const h=s.ju(1,e,t),m=[hg(e,i,t)],p=[l];if(c.length%2!=0)throw new ve(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<c.length;S+=2)m.push(hg(e,c[S])),p.push(c[S+1]);const y=[],v=Tn.empty();for(let S=m.length-1;S>=0;--S)if(!Rb(y,m[S])){const j=m[S];let O=p[S];O=ot(O);const V=h.Ku(j);if(O instanceof gh)y.push(j);else{const B=Ic(O,V);B!=null&&(y.push(j),v.set(j,B))}}const A=new Dn(y);return new Tb(v,A,h.fieldTransforms)}function NI(s,e,t,i=!1){return Ic(t,s.ju(i?4:3,e))}function Ic(s,e){if(Nb(s=ot(s)))return rp("Unsupported field value:",e,s),wb(s,e);if(s instanceof np)return function(i,l){if(!Ab(l.Lu))throw l.Wu(`${i._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Wu(`${i._methodName}() is not currently supported inside arrays`);const c=i._toFieldTransform(l);c&&l.fieldTransforms.push(c)}(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(i,l){const c=[];let h=0;for(const m of i){let p=Ic(m,l.Uu(h));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),h++}return{arrayValue:{values:c}}}(s,e)}return function(i,l){if((i=ot(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return fk(l.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const c=Ut.fromDate(i);return{timestampValue:Vd(l.serializer,c)}}if(i instanceof Ut){const c=new Ut(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Vd(l.serializer,c)}}if(i instanceof sp)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Dl)return{bytesValue:zE(l.serializer,i._byteString)};if(i instanceof _n){const c=l.databaseId,h=i.firestore._databaseId;if(!h.isEqual(c))throw l.Wu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:zg(i.firestore._databaseId||l.databaseId,i._key.path)}}if(i instanceof ap)return function(h,m){return{mapValue:{fields:{[pE]:{stringValue:yE},[Md]:{arrayValue:{values:h.toArray().map(y=>{if(typeof y!="number")throw m.Wu("VectorValues must only contain numeric values.");return Pg(m.serializer,y)})}}}}}}(i,l);throw l.Wu(`Unsupported field value: ${dh(i)}`)}(s,e)}function wb(s,e){const t={};return uE(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ki(s,(i,l)=>{const c=Ic(l,e.qu(i));c!=null&&(t[i]=c)}),{mapValue:{fields:t}}}function Nb(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Ut||s instanceof sp||s instanceof Dl||s instanceof _n||s instanceof np||s instanceof ap)}function rp(s,e,t){if(!Nb(t)||!function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}(t)){const i=dh(t);throw i==="an object"?e.Wu(s+" a custom object"):e.Wu(s+" "+i)}}function hg(s,e,t){if((e=ot(e))instanceof fh)return e._internalPath;if(typeof e=="string")return lp(s,e);throw qd("Field path arguments must be of type string or ",s,!1,void 0,t)}const RI=new RegExp("[~\\*/\\[\\]]");function lp(s,e,t){if(e.search(RI)>=0)throw qd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,t);try{return new fh(...e.split("."))._internalPath}catch{throw qd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,t)}}function qd(s,e,t,i,l){const c=i&&!i.isEmpty(),h=l!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(c||h)&&(p+=" (found",c&&(p+=` in field ${i}`),h&&(p+=` in document ${l}`),p+=")"),new ve(ce.INVALID_ARGUMENT,m+s+p)}function Rb(s,e){return s.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(e,t,i,l,c){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new _n(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new kI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ph("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class kI extends kb{data(){return super.data()}}function ph(s,e){return typeof e=="string"?lp(s,e):e instanceof fh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CI(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ve(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class op{}class Cb extends op{}function hr(s,e,...t){let i=[];e instanceof op&&i.push(e),i=i.concat(t),function(c){const h=c.filter(p=>p instanceof cp).length,m=c.filter(p=>p instanceof yh).length;if(h>1||h>0&&m>0)throw new ve(ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const l of i)s=l._apply(s);return s}class yh extends Cb{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new yh(e,t,i)}_apply(e){const t=this._parse(e);return Ib(e._query,t),new Nr(e.firestore,e.converter,tg(e._query,t))}_parse(e){const t=mh(e.firestore);return function(c,h,m,p,y,v,A){let S;if(y.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ve(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){Jx(A,v);const O=[];for(const V of A)O.push(Zx(p,c,V));S={arrayValue:{values:O}}}else S=Zx(p,c,A)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||Jx(A,v),S=NI(m,h,A,v==="in"||v==="not-in");return kt.create(y,v,S)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function hd(s,e,t){const i=e,l=ph("where",s);return yh._create(l,i,t)}class cp extends op{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new cp(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:ds.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(l,c){let h=l;const m=c.getFlattenedFilters();for(const p of m)Ib(h,p),h=tg(h,p)}(e._query,t),new Nr(e.firestore,e.converter,tg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class up extends Cb{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new up(e,t)}_apply(e){const t=function(l,c,h){if(l.startAt!==null)throw new ve(ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new ve(ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new vc(c,h)}(e._query,this._field,this._direction);return new Nr(e.firestore,e.converter,function(l,c){const h=l.explicitOrderBy.concat([c]);return new zl(l.path,l.collectionGroup,h,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(e._query,t))}}function Xx(s,e="asc"){const t=e,i=ph("orderBy",s);return up._create(i,t)}function Zx(s,e,t){if(typeof(t=ot(t))=="string"){if(t==="")throw new ve(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!SE(e)&&t.indexOf("/")!==-1)throw new ve(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(rt.fromString(t));if(!Te.isDocumentKey(i))throw new ve(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return fx(s,new Te(i))}if(t instanceof _n)return fx(s,t._key);throw new ve(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dh(t)}.`)}function Jx(s,e){if(!Array.isArray(s)||s.length===0)throw new ve(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Ib(s,e){const t=function(l,c){for(const h of l)for(const m of h.getFlattenedFilters())if(c.indexOf(m.op)>=0)return m.op;return null}(s.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ve(ce.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ve(ce.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class II{convertValue(e,t="none"){switch(wi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return At(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Si(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw we()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return ki(e,(l,c)=>{i[l]=this.convertValue(c,t)}),i}convertVectorValue(e){var t,i,l;const c=(l=(i=(t=e.fields)===null||t===void 0?void 0:t[Md].arrayValue)===null||i===void 0?void 0:i.values)===null||l===void 0?void 0:l.map(h=>At(h.doubleValue));return new ap(c)}convertGeoPoint(e){return new sp(At(e.latitude),At(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=nh(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(pc(e));default:return null}}convertTimestamp(e){const t=Ai(e);return new Ut(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=rt.fromString(e);Je($E(i));const l=new yc(i.get(1),i.get(3)),c=new Te(i.popFirst(5));return l.isEqual(t)||Sa(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jb(s,e,t){let i;return i=s?s.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Db extends kb{constructor(e,t,i,l,c,h){super(e,t,i,l,h),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ad(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(ph("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Ad extends Db{data(e={}){return super.data(e)}}class jI{constructor(e,t,i,l){this._firestore=e,this._userDataWriter=t,this._snapshot=l,this.metadata=new rc(l.hasPendingWrites,l.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Ad(this._firestore,this._userDataWriter,i.key,i,new rc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ve(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(l,c){if(l._snapshot.oldDocs.isEmpty()){let h=0;return l._snapshot.docChanges.map(m=>{const p=new Ad(l._firestore,l._userDataWriter,m.doc.key,m.doc,new rc(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(m=>c||m.type!==3).map(m=>{const p=new Ad(l._firestore,l._userDataWriter,m.doc.key,m.doc,new rc(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,v=-1;return m.type!==0&&(y=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),v=h.indexOf(m.doc.key)),{type:DI(m.type),doc:p,oldIndex:y,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function DI(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ii(s){s=hs(s,_n);const e=hs(s.firestore,Rr);return pI(tp(e),s._key).then(t=>MI(e,s,t))}class Ob extends II{constructor(e){super(),this.firestore=e}convertBytes(e){return new Dl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new _n(this.firestore,null,t)}}function Jn(s){s=hs(s,Nr);const e=hs(s.firestore,Rr),t=tp(e),i=new Ob(e);return CI(s._query),yI(t,s._query).then(l=>new jI(e,i,s,l))}function fs(s,e,t){s=hs(s,_n);const i=hs(s.firestore,Rr),l=jb(s.converter,e);return _h(i,[Sb(mh(i),"setDoc",s._key,l,s.converter!==null,t).toMutation(s._key,Zn.none())])}function OI(s,e,t,...i){s=hs(s,_n);const l=hs(s.firestore,Rr),c=mh(l);let h;return h=typeof(e=ot(e))=="string"||e instanceof fh?wI(c,"updateDoc",s._key,e,t,i):SI(c,"updateDoc",s._key,e),_h(l,[h.toMutation(s._key,Zn.exists(!0))])}function jc(s){return _h(hs(s.firestore,Rr),[new Ug(s._key,Zn.none())])}function Mb(s,e){const t=hs(s.firestore,Rr),i=_t(s),l=jb(s.converter,e);return _h(t,[Sb(mh(s.firestore),"addDoc",i._key,l,s.converter!==null,{}).toMutation(i._key,Zn.exists(!1))]).then(()=>i)}function _h(s,e){return function(i,l){const c=new Ea;return i.asyncQueue.enqueueAndForget(async()=>aI(await gI(i),l,c)),c.promise}(tp(s),e)}function MI(s,e,t){const i=t.docs.get(e._key),l=new Ob(s);return new Db(s,l,e._key,i,new rc(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(l){Ul=l})(Ar),yr(new bi("firestore",(i,{instanceIdentifier:l,options:c})=>{const h=i.getProvider("app").getImmediate(),m=new Rr(new RR(i.getProvider("auth-internal")),new IR(h,i.getProvider("app-check-internal")),function(y,v){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ve(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yc(y.options.projectId,v)}(h,l),h);return c=Object.assign({useFetchStreams:t},c),m._setSettings(c),m},"PUBLIC").setMultipleInstances(!0)),Ps(nx,sx,e),Ps(nx,sx,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb="firebasestorage.googleapis.com",Pb="storageBucket",LI=2*60*1e3,PI=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt extends qs{constructor(e,t,i=0){super(Vm(e),`Firebase Storage: ${t} (${Vm(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,xt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Vm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var vt;(function(s){s.UNKNOWN="unknown",s.OBJECT_NOT_FOUND="object-not-found",s.BUCKET_NOT_FOUND="bucket-not-found",s.PROJECT_NOT_FOUND="project-not-found",s.QUOTA_EXCEEDED="quota-exceeded",s.UNAUTHENTICATED="unauthenticated",s.UNAUTHORIZED="unauthorized",s.UNAUTHORIZED_APP="unauthorized-app",s.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",s.INVALID_CHECKSUM="invalid-checksum",s.CANCELED="canceled",s.INVALID_EVENT_NAME="invalid-event-name",s.INVALID_URL="invalid-url",s.INVALID_DEFAULT_BUCKET="invalid-default-bucket",s.NO_DEFAULT_BUCKET="no-default-bucket",s.CANNOT_SLICE_BLOB="cannot-slice-blob",s.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",s.NO_DOWNLOAD_URL="no-download-url",s.INVALID_ARGUMENT="invalid-argument",s.INVALID_ARGUMENT_COUNT="invalid-argument-count",s.APP_DELETED="app-deleted",s.INVALID_ROOT_OPERATION="invalid-root-operation",s.INVALID_FORMAT="invalid-format",s.INTERNAL_ERROR="internal-error",s.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(vt||(vt={}));function Vm(s){return"storage/"+s}function dp(){const s="An unknown error occurred, please check the error payload for server response.";return new xt(vt.UNKNOWN,s)}function UI(s){return new xt(vt.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")}function VI(s){return new xt(vt.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function BI(){const s="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new xt(vt.UNAUTHENTICATED,s)}function zI(){return new xt(vt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function HI(s){return new xt(vt.UNAUTHORIZED,"User does not have permission to access '"+s+"'.")}function qI(){return new xt(vt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function KI(){return new xt(vt.CANCELED,"User canceled the upload/download.")}function FI(s){return new xt(vt.INVALID_URL,"Invalid URL '"+s+"'.")}function GI(s){return new xt(vt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+s+"'.")}function $I(){return new xt(vt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Pb+"' property when initializing the app?")}function QI(){return new xt(vt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function YI(){return new xt(vt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function WI(s){return new xt(vt.UNSUPPORTED_ENVIRONMENT,`${s} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function fg(s){return new xt(vt.INVALID_ARGUMENT,s)}function Ub(){return new xt(vt.APP_DELETED,"The Firebase app was deleted.")}function XI(s){return new xt(vt.INVALID_ROOT_OPERATION,"The operation '"+s+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function dc(s,e){return new xt(vt.INVALID_FORMAT,"String does not match format '"+s+"': "+e)}function ec(s){throw new xt(vt.INTERNAL_ERROR,"Internal error: "+s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=On.makeFromUrl(e,t)}catch{return new On(e,"")}if(i.path==="")return i;throw GI(e)}static makeFromUrl(e,t){let i=null;const l="([A-Za-z0-9.\\-_]+)";function c(J){J.path.charAt(J.path.length-1)==="/"&&(J.path_=J.path_.slice(0,-1))}const h="(/(.*))?$",m=new RegExp("^gs://"+l+h,"i"),p={bucket:1,path:3};function y(J){J.path_=decodeURIComponent(J.path)}const v="v[A-Za-z0-9_]+",A=t.replace(/[.]/g,"\\."),S="(/([^?#]*).*)?$",j=new RegExp(`^https?://${A}/${v}/b/${l}/o${S}`,"i"),O={bucket:1,path:3},V=t===Lb?"(?:storage.googleapis.com|storage.cloud.google.com)":t,B="([^?#]*)",F=new RegExp(`^https?://${V}/${l}/${B}`,"i"),$=[{regex:m,indices:p,postModify:c},{regex:j,indices:O,postModify:y},{regex:F,indices:{bucket:1,path:2},postModify:y}];for(let J=0;J<$.length;J++){const se=$[J],le=se.regex.exec(e);if(le){const L=le[se.indices.bucket];let N=le[se.indices.path];N||(N=""),i=new On(L,N),se.postModify(i);break}}if(i==null)throw FI(e);return i}}class ZI{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JI(s,e,t){let i=1,l=null,c=null,h=!1,m=0;function p(){return m===2}let y=!1;function v(...B){y||(y=!0,e.apply(null,B))}function A(B){l=setTimeout(()=>{l=null,s(j,p())},B)}function S(){c&&clearTimeout(c)}function j(B,...F){if(y){S();return}if(B){S(),v.call(null,B,...F);return}if(p()||h){S(),v.call(null,B,...F);return}i<64&&(i*=2);let $;m===1?(m=2,$=0):$=(i+Math.random())*1e3,A($)}let O=!1;function V(B){O||(O=!0,S(),!y&&(l!==null?(B||(m=2),clearTimeout(l),A(0)):B||(m=1)))}return A(0),c=setTimeout(()=>{h=!0,V(!0)},t),V}function e1(s){s(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(s){return s!==void 0}function n1(s){return typeof s=="object"&&!Array.isArray(s)}function hp(s){return typeof s=="string"||s instanceof String}function e0(s){return fp()&&s instanceof Blob}function fp(){return typeof Blob<"u"}function t0(s,e,t,i){if(i<e)throw fg(`Invalid value for '${s}'. Expected ${e} or greater.`);if(i>t)throw fg(`Invalid value for '${s}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vh(s,e,t){let i=e;return t==null&&(i=`https://${e}`),`${t}://${i}/v0${s}`}function Vb(s){const e=encodeURIComponent;let t="?";for(const i in s)if(s.hasOwnProperty(i)){const l=e(i)+"="+e(s[i]);t=t+l+"&"}return t=t.slice(0,-1),t}var mr;(function(s){s[s.NO_ERROR=0]="NO_ERROR",s[s.NETWORK_ERROR=1]="NETWORK_ERROR",s[s.ABORT=2]="ABORT"})(mr||(mr={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(s,e){const t=s>=500&&s<600,l=[408,429].indexOf(s)!==-1,c=e.indexOf(s)!==-1;return t||l||c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(e,t,i,l,c,h,m,p,y,v,A,S=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=l,this.successCodes_=c,this.additionalRetryCodes_=h,this.callback_=m,this.errorCallback_=p,this.timeout_=y,this.progressCallback_=v,this.connectionFactory_=A,this.retry=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((j,O)=>{this.resolve_=j,this.reject_=O,this.start_()})}start_(){const e=(i,l)=>{if(l){i(!1,new fd(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const h=m=>{const p=m.loaded,y=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,y)};this.progressCallback_!==null&&c.addUploadProgressListener(h),c.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(h),this.pendingConnection_=null;const m=c.getErrorCode()===mr.NO_ERROR,p=c.getStatus();if(!m||s1(p,this.additionalRetryCodes_)&&this.retry){const v=c.getErrorCode()===mr.ABORT;i(!1,new fd(!1,null,v));return}const y=this.successCodes_.indexOf(p)!==-1;i(!0,new fd(y,c))})},t=(i,l)=>{const c=this.resolve_,h=this.reject_,m=l.connection;if(l.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());t1(p)?c(p):c()}catch(p){h(p)}else if(m!==null){const p=dp();p.serverResponse=m.getErrorText(),this.errorCallback_?h(this.errorCallback_(m,p)):h(p)}else if(l.canceled){const p=this.appDelete_?Ub():KI();h(p)}else{const p=qI();h(p)}};this.canceled_?t(!1,new fd(!1,null,!0)):this.backoffId_=JI(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&e1(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class fd{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function i1(s,e){e!==null&&e.length>0&&(s.Authorization="Firebase "+e)}function r1(s,e){s["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function l1(s,e){e&&(s["X-Firebase-GMPID"]=e)}function o1(s,e){e!==null&&(s["X-Firebase-AppCheck"]=e)}function c1(s,e,t,i,l,c,h=!0){const m=Vb(s.urlParams),p=s.url+m,y=Object.assign({},s.headers);return l1(y,e),i1(y,t),r1(y,c),o1(y,i),new a1(p,s.method,y,s.body,s.successCodes,s.additionalRetryCodes,s.handler,s.errorHandler,s.timeout,s.progressCallback,l,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function d1(...s){const e=u1();if(e!==void 0){const t=new e;for(let i=0;i<s.length;i++)t.append(s[i]);return t.getBlob()}else{if(fp())return new Blob(s);throw new xt(vt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function h1(s,e,t){return s.webkitSlice?s.webkitSlice(e,t):s.mozSlice?s.mozSlice(e,t):s.slice?s.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f1(s){if(typeof atob>"u")throw WI("base-64");return atob(s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Bm{constructor(e,t){this.data=e,this.contentType=t||null}}function m1(s,e){switch(s){case Ls.RAW:return new Bm(Bb(e));case Ls.BASE64:case Ls.BASE64URL:return new Bm(zb(s,e));case Ls.DATA_URL:return new Bm(p1(e),y1(e))}throw dp()}function Bb(s){const e=[];for(let t=0;t<s.length;t++){let i=s.charCodeAt(t);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(t<s.length-1&&(s.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const c=i,h=s.charCodeAt(++t);i=65536|(c&1023)<<10|h&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function g1(s){let e;try{e=decodeURIComponent(s)}catch{throw dc(Ls.DATA_URL,"Malformed data URL.")}return Bb(e)}function zb(s,e){switch(s){case Ls.BASE64:{const l=e.indexOf("-")!==-1,c=e.indexOf("_")!==-1;if(l||c)throw dc(s,"Invalid character '"+(l?"-":"_")+"' found: is it base64url encoded?");break}case Ls.BASE64URL:{const l=e.indexOf("+")!==-1,c=e.indexOf("/")!==-1;if(l||c)throw dc(s,"Invalid character '"+(l?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=f1(e)}catch(l){throw l.message.includes("polyfill")?l:dc(s,"Invalid character found")}const i=new Uint8Array(t.length);for(let l=0;l<t.length;l++)i[l]=t.charCodeAt(l);return i}class Hb{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw dc(Ls.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;i!=null&&(this.base64=_1(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function p1(s){const e=new Hb(s);return e.base64?zb(Ls.BASE64,e.rest):g1(e.rest)}function y1(s){return new Hb(s).contentType}function _1(s,e){return s.length>=e.length?s.substring(s.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e,t){let i=0,l="";e0(e)?(this.data_=e,i=e.size,l=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=l}size(){return this.size_}type(){return this.type_}slice(e,t){if(e0(this.data_)){const i=this.data_,l=h1(i,e,t);return l===null?null:new hi(l)}else{const i=new Uint8Array(this.data_.buffer,e,t-e);return new hi(i,!0)}}static getBlob(...e){if(fp()){const t=e.map(i=>i instanceof hi?i.data_:i);return new hi(d1.apply(null,t))}else{const t=e.map(h=>hp(h)?m1(Ls.RAW,h).data:h.data_);let i=0;t.forEach(h=>{i+=h.byteLength});const l=new Uint8Array(i);let c=0;return t.forEach(h=>{for(let m=0;m<h.length;m++)l[c++]=h[m]}),new hi(l,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qb(s){let e;try{e=JSON.parse(s)}catch{return null}return n1(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v1(s){if(s.length===0)return null;const e=s.lastIndexOf("/");return e===-1?"":s.slice(0,e)}function x1(s,e){const t=e.split("/").filter(i=>i.length>0).join("/");return s.length===0?t:s+"/"+t}function Kb(s){const e=s.lastIndexOf("/",s.length-2);return e===-1?s:s.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E1(s,e){return e}class yn{constructor(e,t,i,l){this.server=e,this.local=t||e,this.writable=!!i,this.xform=l||E1}}let md=null;function b1(s){return!hp(s)||s.length<2?s:Kb(s)}function Fb(){if(md)return md;const s=[];s.push(new yn("bucket")),s.push(new yn("generation")),s.push(new yn("metageneration")),s.push(new yn("name","fullPath",!0));function e(c,h){return b1(h)}const t=new yn("name");t.xform=e,s.push(t);function i(c,h){return h!==void 0?Number(h):h}const l=new yn("size");return l.xform=i,s.push(l),s.push(new yn("timeCreated")),s.push(new yn("updated")),s.push(new yn("md5Hash",null,!0)),s.push(new yn("cacheControl",null,!0)),s.push(new yn("contentDisposition",null,!0)),s.push(new yn("contentEncoding",null,!0)),s.push(new yn("contentLanguage",null,!0)),s.push(new yn("contentType",null,!0)),s.push(new yn("metadata","customMetadata",!0)),md=s,md}function T1(s,e){function t(){const i=s.bucket,l=s.fullPath,c=new On(i,l);return e._makeStorageReference(c)}Object.defineProperty(s,"ref",{get:t})}function A1(s,e,t){const i={};i.type="file";const l=t.length;for(let c=0;c<l;c++){const h=t[c];i[h.local]=h.xform(i,e[h.server])}return T1(i,s),i}function Gb(s,e,t){const i=qb(e);return i===null?null:A1(s,i,t)}function S1(s,e,t,i){const l=qb(e);if(l===null||!hp(l.downloadTokens))return null;const c=l.downloadTokens;if(c.length===0)return null;const h=encodeURIComponent;return c.split(",").map(y=>{const v=s.bucket,A=s.fullPath,S="/b/"+h(v)+"/o/"+h(A),j=vh(S,t,i),O=Vb({alt:"media",token:y});return j+O})[0]}function w1(s,e){const t={},i=e.length;for(let l=0;l<i;l++){const c=e[l];c.writable&&(t[c.server]=s[c.local])}return JSON.stringify(t)}class mp{constructor(e,t,i,l){this.url=e,this.method=t,this.handler=i,this.timeout=l,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $b(s){if(!s)throw dp()}function N1(s,e){function t(i,l){const c=Gb(s,l,e);return $b(c!==null),c}return t}function R1(s,e){function t(i,l){const c=Gb(s,l,e);return $b(c!==null),S1(c,l,s.host,s._protocol)}return t}function Qb(s){function e(t,i){let l;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?l=zI():l=BI():t.getStatus()===402?l=VI(s.bucket):t.getStatus()===403?l=HI(s.path):l=i,l.status=t.getStatus(),l.serverResponse=i.serverResponse,l}return e}function Yb(s){const e=Qb(s);function t(i,l){let c=e(i,l);return i.getStatus()===404&&(c=UI(s.path)),c.serverResponse=l.serverResponse,c}return t}function k1(s,e,t){const i=e.fullServerUrl(),l=vh(i,s.host,s._protocol),c="GET",h=s.maxOperationRetryTime,m=new mp(l,c,R1(s,t),h);return m.errorHandler=Yb(e),m}function C1(s,e){const t=e.fullServerUrl(),i=vh(t,s.host,s._protocol),l="DELETE",c=s.maxOperationRetryTime;function h(p,y){}const m=new mp(i,l,h,c);return m.successCodes=[200,204],m.errorHandler=Yb(e),m}function I1(s,e){return s&&s.contentType||e&&e.type()||"application/octet-stream"}function j1(s,e,t){const i=Object.assign({},t);return i.fullPath=s.path,i.size=e.size(),i.contentType||(i.contentType=I1(null,e)),i}function D1(s,e,t,i,l){const c=e.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"};function m(){let $="";for(let J=0;J<2;J++)$=$+Math.random().toString().slice(2);return $}const p=m();h["Content-Type"]="multipart/related; boundary="+p;const y=j1(e,i,l),v=w1(y,t),A="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+p+`\r
Content-Type: `+y.contentType+`\r
\r
`,S=`\r
--`+p+"--",j=hi.getBlob(A,i,S);if(j===null)throw QI();const O={name:y.fullPath},V=vh(c,s.host,s._protocol),B="POST",F=s.maxUploadRetryTime,G=new mp(V,B,N1(s,t),F);return G.urlParams=O,G.headers=h,G.body=j.uploadData(),G.errorHandler=Qb(e),G}class O1{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=mr.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=mr.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=mr.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,l){if(this.sent_)throw ec("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),l!==void 0)for(const c in l)l.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,l[c].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ec("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ec("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ec("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ec("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class M1 extends O1{initXhr(){this.xhr_.responseType="text"}}function gp(){return new M1}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e,t){this._service=e,t instanceof On?this._location=t:this._location=On.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new xr(e,t)}get root(){const e=new On(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Kb(this._location.path)}get storage(){return this._service}get parent(){const e=v1(this._location.path);if(e===null)return null;const t=new On(this._location.bucket,e);return new xr(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw XI(e)}}function L1(s,e,t){s._throwIfRoot("uploadBytes");const i=D1(s.storage,s._location,Fb(),new hi(e,!0),t);return s.storage.makeRequestWithTokens(i,gp).then(l=>({metadata:l,ref:s}))}function P1(s){s._throwIfRoot("getDownloadURL");const e=k1(s.storage,s._location,Fb());return s.storage.makeRequestWithTokens(e,gp).then(t=>{if(t===null)throw YI();return t})}function U1(s){s._throwIfRoot("deleteObject");const e=C1(s.storage,s._location);return s.storage.makeRequestWithTokens(e,gp)}function V1(s,e){const t=x1(s._location.path,e),i=new On(s._location.bucket,t);return new xr(s.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B1(s){return/^[A-Za-z]+:\/\//.test(s)}function z1(s,e){return new xr(s,e)}function Wb(s,e){if(s instanceof pp){const t=s;if(t._bucket==null)throw $I();const i=new xr(t,t._bucket);return e!=null?Wb(i,e):i}else return e!==void 0?V1(s,e):s}function H1(s,e){if(e&&B1(e)){if(s instanceof pp)return z1(s,e);throw fg("To use ref(service, url), the first argument must be a Storage instance.")}else return Wb(s,e)}function n0(s,e){const t=e==null?void 0:e[Pb];return t==null?null:On.makeFromBucketSpec(t,s)}function q1(s,e,t,i={}){s.host=`${e}:${t}`,s._protocol="http";const{mockUserToken:l}=i;l&&(s._overrideAuthToken=typeof l=="string"?l:Y0(l,s.app.options.projectId))}class pp{constructor(e,t,i,l,c){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=l,this._firebaseVersion=c,this._bucket=null,this._host=Lb,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=LI,this._maxUploadRetryTime=PI,this._requests=new Set,l!=null?this._bucket=On.makeFromBucketSpec(l,this._host):this._bucket=n0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=On.makeFromBucketSpec(this._url,e):this._bucket=n0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){t0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){t0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new xr(this,e)}_makeRequest(e,t,i,l,c=!0){if(this._deleted)return new ZI(Ub());{const h=c1(e,this._appId,i,l,t,this._firebaseVersion,c);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,t){const[i,l]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,l).getPromise()}}const s0="@firebase/storage",a0="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb="storage";function kr(s,e,t){return s=ot(s),L1(s,e,t)}function ql(s){return s=ot(s),P1(s)}function Dc(s){return s=ot(s),U1(s)}function es(s,e){return s=ot(s),H1(s,e)}function Zb(s=kg(),e){s=ot(s);const i=Jd(s,Xb).getImmediate({identifier:e}),l=G0("storage");return l&&K1(i,...l),i}function K1(s,e,t,i={}){q1(s,e,t,i)}function F1(s,{instanceIdentifier:e}){const t=s.getProvider("app").getImmediate(),i=s.getProvider("auth-internal"),l=s.getProvider("app-check-internal");return new pp(t,i,l,e,Ar)}function G1(){yr(new bi(Xb,F1,"PUBLIC").setMultipleInstances(!0)),Ps(s0,a0,""),Ps(s0,a0,"esm2017")}G1();function yp(s,e){var t={};for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&e.indexOf(i)<0&&(t[i]=s[i]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(s);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(s,i[l])&&(t[i[l]]=s[i[l]]);return t}function Jb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $1=Jb,eT=new Sc("auth","Firebase",Jb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kd=new Ng("@firebase/auth");function Q1(s,...e){Kd.logLevel<=Pe.WARN&&Kd.warn(`Auth (${Ar}): ${s}`,...e)}function Sd(s,...e){Kd.logLevel<=Pe.ERROR&&Kd.error(`Auth (${Ar}): ${s}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ms(s,...e){throw _p(s,...e)}function Bs(s,...e){return _p(s,...e)}function tT(s,e,t){const i=Object.assign(Object.assign({},$1()),{[e]:t});return new Sc("auth","Firebase",i).create(e,{appName:s.name})}function ba(s){return tT(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _p(s,...e){if(typeof s!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=s.name),s._errorFactory.create(t,...i)}return eT.create(s,...e)}function Se(s,e,...t){if(!s)throw _p(e,...t)}function ya(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Sd(e),new Error(e)}function Na(s,e){s||ya(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mg(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.href)||""}function Y1(){return i0()==="http:"||i0()==="https:"}function i0(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Y1()||sN()||"connection"in navigator)?navigator.onLine:!0}function X1(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Na(t>e,"Short delay should be less than long delay!"),this.isMobile=eN()||aN()}get(){return W1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vp(s,e){Na(s.emulator,"Emulator should always be set here");const{url:t}=s.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ya("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ya("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ya("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1=new Oc(3e4,6e4);function ji(s,e){return s.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:s.tenantId}):e}async function Ra(s,e,t,i,l={}){return sT(s,l,async()=>{let c={},h={};i&&(e==="GET"?h=i:c={body:JSON.stringify(i)});const m=wc(Object.assign({key:s.config.apiKey},h)).slice(1),p=await s._getAdditionalHeaders();p["Content-Type"]="application/json",s.languageCode&&(p["X-Firebase-Locale"]=s.languageCode);const y=Object.assign({method:e,headers:p},c);return nN()||(y.referrerPolicy="no-referrer"),nT.fetch()(aT(s,s.config.apiHost,t,m),y)})}async function sT(s,e,t){s._canInitEmulator=!1;const i=Object.assign(Object.assign({},Z1),e);try{const l=new tj(s),c=await Promise.race([t(),l.promise]);l.clearNetworkTimeout();const h=await c.json();if("needConfirmation"in h)throw gd(s,"account-exists-with-different-credential",h);if(c.ok&&!("errorMessage"in h))return h;{const m=c.ok?h.errorMessage:h.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw gd(s,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw gd(s,"email-already-in-use",h);if(p==="USER_DISABLED")throw gd(s,"user-disabled",h);const v=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw tT(s,v,y);ms(s,v)}}catch(l){if(l instanceof qs)throw l;ms(s,"network-request-failed",{message:String(l)})}}async function Mc(s,e,t,i,l={}){const c=await Ra(s,e,t,i,l);return"mfaPendingCredential"in c&&ms(s,"multi-factor-auth-required",{_serverResponse:c}),c}function aT(s,e,t,i){const l=`${e}${t}?${i}`;return s.config.emulator?vp(s.config,l):`${s.config.apiScheme}://${l}`}function ej(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class tj{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Bs(this.auth,"network-request-failed")),J1.get())})}}function gd(s,e,t){const i={appName:s.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const l=Bs(s,e,i);return l.customData._tokenResponse=t,l}function r0(s){return s!==void 0&&s.enterprise!==void 0}class nj{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return ej(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function sj(s,e){return Ra(s,"GET","/v2/recaptchaConfig",ji(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aj(s,e){return Ra(s,"POST","/v1/accounts:delete",e)}async function iT(s,e){return Ra(s,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hc(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ij(s,e=!1){const t=ot(s),i=await t.getIdToken(e),l=xp(i);Se(l&&l.exp&&l.auth_time&&l.iat,t.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,h=c==null?void 0:c.sign_in_provider;return{claims:l,token:i,authTime:hc(zm(l.auth_time)),issuedAtTime:hc(zm(l.iat)),expirationTime:hc(zm(l.exp)),signInProvider:h||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function zm(s){return Number(s)*1e3}function xp(s){const[e,t,i]=s.split(".");if(e===void 0||t===void 0||i===void 0)return Sd("JWT malformed, contained fewer than 3 sections"),null;try{const l=K0(t);return l?JSON.parse(l):(Sd("Failed to decode base64 JWT payload"),null)}catch(l){return Sd("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function l0(s){const e=xp(s);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ol(s,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof qs&&rj(i)&&s.auth.currentUser===s&&await s.auth.signOut(),i}}function rj({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const l=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=hc(this.lastLoginAt),this.creationTime=hc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fd(s){var e;const t=s.auth,i=await s.getIdToken(),l=await Ol(s,iT(t,{idToken:i}));Se(l==null?void 0:l.users.length,t,"internal-error");const c=l.users[0];s._notifyReloadListener(c);const h=!((e=c.providerUserInfo)===null||e===void 0)&&e.length?rT(c.providerUserInfo):[],m=cj(s.providerData,h),p=s.isAnonymous,y=!(s.email&&c.passwordHash)&&!(m!=null&&m.length),v=p?y:!1,A={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:m,metadata:new gg(c.createdAt,c.lastLoginAt),isAnonymous:v};Object.assign(s,A)}async function oj(s){const e=ot(s);await Fd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function cj(s,e){return[...s.filter(i=>!e.some(l=>l.providerId===i.providerId)),...e]}function rT(s){return s.map(e=>{var{providerId:t}=e,i=yp(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uj(s,e){const t=await sT(s,{},async()=>{const i=wc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,h=aT(s,l,"/v1/token",`key=${c}`),m=await s._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",nT.fetch()(h,{method:"POST",headers:m,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function dj(s,e){return Ra(s,"POST","/v2/accounts:revokeToken",ji(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):l0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const t=l0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:l,expiresIn:c}=await uj(e,t);this.updateTokensAndExpiration(i,l,Number(c))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:l,expirationTime:c}=t,h=new Al;return i&&(Se(typeof i=="string","internal-error",{appName:e}),h.refreshToken=i),l&&(Se(typeof l=="string","internal-error",{appName:e}),h.accessToken=l),c&&(Se(typeof c=="number","internal-error",{appName:e}),h.expirationTime=c),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Al,this.toJSON())}_performRefresh(){return ya("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(s,e){Se(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class _a{constructor(e){var{uid:t,auth:i,stsTokenManager:l}=e,c=yp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new lj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new gg(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(e){const t=await Ol(this,this.stsTokenManager.getToken(this.auth,e));return Se(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return ij(this,e)}reload(){return oj(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new _a(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Fd(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(jn(this.auth.app))return Promise.reject(ba(this.auth));const e=await this.getIdToken();return await Ol(this,aj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,l,c,h,m,p,y,v;const A=(i=t.displayName)!==null&&i!==void 0?i:void 0,S=(l=t.email)!==null&&l!==void 0?l:void 0,j=(c=t.phoneNumber)!==null&&c!==void 0?c:void 0,O=(h=t.photoURL)!==null&&h!==void 0?h:void 0,V=(m=t.tenantId)!==null&&m!==void 0?m:void 0,B=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,F=(y=t.createdAt)!==null&&y!==void 0?y:void 0,G=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:$,emailVerified:J,isAnonymous:se,providerData:le,stsTokenManager:L}=t;Se($&&L,e,"internal-error");const N=Al.fromJSON(this.name,L);Se(typeof $=="string",e,"internal-error"),di(A,e.name),di(S,e.name),Se(typeof J=="boolean",e,"internal-error"),Se(typeof se=="boolean",e,"internal-error"),di(j,e.name),di(O,e.name),di(V,e.name),di(B,e.name),di(F,e.name),di(G,e.name);const b=new _a({uid:$,auth:e,email:S,emailVerified:J,displayName:A,isAnonymous:se,photoURL:O,phoneNumber:j,tenantId:V,stsTokenManager:N,createdAt:F,lastLoginAt:G});return le&&Array.isArray(le)&&(b.providerData=le.map(T=>Object.assign({},T))),B&&(b._redirectEventId=B),b}static async _fromIdTokenResponse(e,t,i=!1){const l=new Al;l.updateFromServerResponse(t);const c=new _a({uid:t.localId,auth:e,stsTokenManager:l,isAnonymous:i});return await Fd(c),c}static async _fromGetAccountInfoResponse(e,t,i){const l=t.users[0];Se(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?rT(l.providerUserInfo):[],h=!(l.email&&l.passwordHash)&&!(c!=null&&c.length),m=new Al;m.updateFromIdToken(i);const p=new _a({uid:l.localId,auth:e,stsTokenManager:m,isAnonymous:h}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new gg(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(c!=null&&c.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0=new Map;function va(s){Na(s instanceof Function,"Expected a class definition");let e=o0.get(s);return e?(Na(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,o0.set(s,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}lT.type="NONE";const c0=lT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wd(s,e,t){return`firebase:${s}:${e}:${t}`}class Sl{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:l,name:c}=this.auth;this.fullUserKey=wd(this.userKey,l.apiKey,c),this.fullPersistenceKey=wd("persistence",l.apiKey,c),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?_a._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Sl(va(c0),e,i);const l=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||va(c0);const h=wd(i,e.config.apiKey,e.name);let m=null;for(const y of t)try{const v=await y._get(h);if(v){const A=_a._fromJSON(e,v);y!==c&&(m=A),c=y;break}}catch{}const p=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new Sl(c,e,i):(c=p[0],m&&await c._set(h,m.toJSON()),await Promise.all(t.map(async y=>{if(y!==c)try{await y._remove(h)}catch{}})),new Sl(c,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u0(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(dT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(oT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(fT(e))return"Blackberry";if(mT(e))return"Webos";if(cT(e))return"Safari";if((e.includes("chrome/")||uT(e))&&!e.includes("edge/"))return"Chrome";if(hT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=s.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function oT(s=dn()){return/firefox\//i.test(s)}function cT(s=dn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function uT(s=dn()){return/crios\//i.test(s)}function dT(s=dn()){return/iemobile/i.test(s)}function hT(s=dn()){return/android/i.test(s)}function fT(s=dn()){return/blackberry/i.test(s)}function mT(s=dn()){return/webos/i.test(s)}function Ep(s=dn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function hj(s=dn()){var e;return Ep(s)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function fj(){return iN()&&document.documentMode===10}function gT(s=dn()){return Ep(s)||hT(s)||mT(s)||fT(s)||/windows phone/i.test(s)||dT(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(s,e=[]){let t;switch(s){case"Browser":t=u0(dn());break;case"Worker":t=`${u0(dn())}-${s}`;break;default:t=s}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ar}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=c=>new Promise((h,m)=>{try{const p=e(c);h(p)}catch(p){m(p)}});i.onAbort=t,this.queue.push(i);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const l of t)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gj(s,e={}){return Ra(s,"GET","/v2/passwordPolicy",ji(s,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pj=6;class yj{constructor(e){var t,i,l,c;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:pj,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(c=e.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,l,c,h,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(l=p.containsLowercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsUppercaseLetter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),l&&(t.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let l=0;l<e.length;l++)i=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _j{constructor(e,t,i,l){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new d0(this),this.idTokenSubscription=new d0(this),this.beforeStateQueue=new mj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=eT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=va(t)),this._initializationPromise=this.queue(async()=>{var i,l;if(!this._deleted&&(this.persistenceManager=await Sl.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await iT(this,{idToken:e}),i=await _a._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(jn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let l=i,c=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,m=l==null?void 0:l._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===m)&&(p!=null&&p.user)&&(l=p.user,c=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(l)}catch(h){l=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Fd(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=X1()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(jn(this.app))return Promise.reject(ba(this));const t=e?ot(e):null;return t&&Se(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return jn(this.app)?Promise.reject(ba(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return jn(this.app)?Promise.reject(ba(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(va(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await gj(this),t=new yj(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Sc("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await dj(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&va(e)||this._popupRedirectResolver;Se(t,this,"argument-error"),this.redirectPersistenceManager=await Sl.create(this,[va(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,l){if(this._deleted)return()=>{};const c=typeof t=="function"?t:t.next.bind(t);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(m,this,"internal-error"),m.then(()=>{h||c(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,l);return()=>{h=!0,p()}}else{const p=e.addObserver(t);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=pT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const l=await this._getAppCheckToken();return l&&(t["X-Firebase-AppCheck"]=l),t}async _getAppCheckToken(){var e;if(jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&Q1(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Cr(s){return ot(s)}class d0{constructor(e){this.auth=e,this.observer=null,this.addObserver=fN(t=>this.observer=t)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function vj(s){xh=s}function yT(s){return xh.loadJS(s)}function xj(){return xh.recaptchaEnterpriseScript}function Ej(){return xh.gapiScript}function bj(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class Tj{constructor(){this.enterprise=new Aj}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Aj{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Sj="recaptcha-enterprise",_T="NO_RECAPTCHA";class wj{constructor(e){this.type=Sj,this.auth=Cr(e)}async verify(e="verify",t=!1){async function i(c){if(!t){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(h,m)=>{sj(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new nj(p);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,h(y.siteKey)}}).catch(p=>{m(p)})})}function l(c,h,m){const p=window.grecaptcha;r0(p)?p.enterprise.ready(()=>{p.enterprise.execute(c,{action:e}).then(y=>{h(y)}).catch(()=>{h(_T)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Tj().execute("siteKey",{action:"verify"}):new Promise((c,h)=>{i(this.auth).then(m=>{if(!t&&r0(window.grecaptcha))l(m,c,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=xj();p.length!==0&&(p+=m),yT(p).then(()=>{l(m,c,h)}).catch(y=>{h(y)})}}).catch(m=>{h(m)})})}}async function h0(s,e,t,i=!1,l=!1){const c=new wj(s);let h;if(l)h=_T;else try{h=await c.verify(t)}catch{h=await c.verify(t,!0)}const m=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return i?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function pg(s,e,t,i,l){var c;if(!((c=s._getRecaptchaConfig())===null||c===void 0)&&c.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await h0(s,e,t,t==="getOobCode");return i(s,h)}else return i(s,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await h0(s,e,t,t==="getOobCode");return i(s,m)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nj(s,e){const t=Jd(s,"auth");if(t.isInitialized()){const l=t.getImmediate(),c=t.getOptions();if(pr(c,e??{}))return l;ms(l,"already-initialized")}return t.initialize({options:e})}function Rj(s,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(va);e!=null&&e.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function kj(s,e,t){const i=Cr(s);Se(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const l=!1,c=vT(e),{host:h,port:m}=Cj(e),p=m===null?"":`:${m}`,y={url:`${c}//${h}${p}/`},v=Object.freeze({host:h,port:m,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!i._canInitEmulator){Se(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Se(pr(y,i.config.emulator)&&pr(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=y,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,Ij()}function vT(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function Cj(s){const e=vT(s),t=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(i);if(l){const c=l[1];return{host:c,port:f0(i.substr(c.length+1))}}else{const[c,h]=i.split(":");return{host:c,port:f0(h)}}}function f0(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function Ij(){function s(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ya("not implemented")}_getIdTokenResponse(e){return ya("not implemented")}_linkToIdToken(e,t){return ya("not implemented")}_getReauthenticationResolver(e){return ya("not implemented")}}async function jj(s,e){return Ra(s,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dj(s,e){return Mc(s,"POST","/v1/accounts:signInWithPassword",ji(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oj(s,e){return Mc(s,"POST","/v1/accounts:signInWithEmailLink",ji(s,e))}async function Mj(s,e){return Mc(s,"POST","/v1/accounts:signInWithEmailLink",ji(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc extends bp{constructor(e,t,i,l=null){super("password",i),this._email=e,this._password=t,this._tenantId=l}static _fromEmailAndPassword(e,t){return new bc(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new bc(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return pg(e,t,"signInWithPassword",Dj);case"emailLink":return Oj(e,{email:this._email,oobCode:this._password});default:ms(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return pg(e,i,"signUpPassword",jj);case"emailLink":return Mj(e,{idToken:t,email:this._email,oobCode:this._password});default:ms(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wl(s,e){return Mc(s,"POST","/v1/accounts:signInWithIdp",ji(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lj="http://localhost";class Er extends bp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Er(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ms("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:l}=t,c=yp(t,["providerId","signInMethod"]);if(!i||!l)return null;const h=new Er(i,l);return h.idToken=c.idToken||void 0,h.accessToken=c.accessToken||void 0,h.secret=c.secret,h.nonce=c.nonce,h.pendingToken=c.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return wl(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,wl(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,wl(e,t)}buildRequest(){const e={requestUri:Lj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=wc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pj(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Uj(s){const e=tc(nc(s)).link,t=e?tc(nc(e)).deep_link_id:null,i=tc(nc(s)).deep_link_id;return(i?tc(nc(i)).link:null)||i||t||e||s}class Tp{constructor(e){var t,i,l,c,h,m;const p=tc(nc(e)),y=(t=p.apiKey)!==null&&t!==void 0?t:null,v=(i=p.oobCode)!==null&&i!==void 0?i:null,A=Pj((l=p.mode)!==null&&l!==void 0?l:null);Se(y&&v&&A,"argument-error"),this.apiKey=y,this.operation=A,this.code=v,this.continueUrl=(c=p.continueUrl)!==null&&c!==void 0?c:null,this.languageCode=(h=p.languageCode)!==null&&h!==void 0?h:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const t=Uj(e);try{return new Tp(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(){this.providerId=Kl.PROVIDER_ID}static credential(e,t){return bc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=Tp.parseLink(t);return Se(i,"argument-error"),bc._fromEmailAndCode(e,i.code,i.tenantId)}}Kl.PROVIDER_ID="password";Kl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Kl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc extends xT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi extends Lc{constructor(){super("facebook.com")}static credential(e){return Er._fromParams({providerId:fi.PROVIDER_ID,signInMethod:fi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fi.credentialFromTaggedObject(e)}static credentialFromError(e){return fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fi.credential(e.oauthAccessToken)}catch{return null}}}fi.FACEBOOK_SIGN_IN_METHOD="facebook.com";fi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi extends Lc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Er._fromParams({providerId:mi.PROVIDER_ID,signInMethod:mi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return mi.credentialFromTaggedObject(e)}static credentialFromError(e){return mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return mi.credential(t,i)}catch{return null}}}mi.GOOGLE_SIGN_IN_METHOD="google.com";mi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi extends Lc{constructor(){super("github.com")}static credential(e){return Er._fromParams({providerId:gi.PROVIDER_ID,signInMethod:gi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gi.credentialFromTaggedObject(e)}static credentialFromError(e){return gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gi.credential(e.oauthAccessToken)}catch{return null}}}gi.GITHUB_SIGN_IN_METHOD="github.com";gi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi extends Lc{constructor(){super("twitter.com")}static credential(e,t){return Er._fromParams({providerId:pi.PROVIDER_ID,signInMethod:pi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return pi.credentialFromTaggedObject(e)}static credentialFromError(e){return pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return pi.credential(t,i)}catch{return null}}}pi.TWITTER_SIGN_IN_METHOD="twitter.com";pi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vj(s,e){return Mc(s,"POST","/v1/accounts:signUp",ji(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,l=!1){const c=await _a._fromIdTokenResponse(e,i,l),h=m0(i);return new br({user:c,providerId:h,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const l=m0(i);return new br({user:e,providerId:l,_tokenResponse:i,operationType:t})}}function m0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd extends qs{constructor(e,t,i,l){var c;super(t.code,t.message),this.operationType=i,this.user=l,Object.setPrototypeOf(this,Gd.prototype),this.customData={appName:e.name,tenantId:(c=e.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,l){return new Gd(e,t,i,l)}}function ET(s,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(s):t._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Gd._fromErrorAndOperation(s,c,e,i):c})}async function Bj(s,e,t=!1){const i=await Ol(s,e._linkToIdToken(s.auth,await s.getIdToken()),t);return br._forOperation(s,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zj(s,e,t=!1){const{auth:i}=s;if(jn(i.app))return Promise.reject(ba(i));const l="reauthenticate";try{const c=await Ol(s,ET(i,l,e,s),t);Se(c.idToken,i,"internal-error");const h=xp(c.idToken);Se(h,i,"internal-error");const{sub:m}=h;return Se(s.uid===m,i,"user-mismatch"),br._forOperation(s,l,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&ms(i,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bT(s,e,t=!1){if(jn(s.app))return Promise.reject(ba(s));const i="signIn",l=await ET(s,i,e),c=await br._fromIdTokenResponse(s,i,l);return t||await s._updateCurrentUser(c.user),c}async function Hj(s,e){return bT(Cr(s),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TT(s){const e=Cr(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function qj(s,e,t){if(jn(s.app))return Promise.reject(ba(s));const i=Cr(s),h=await pg(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Vj).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&TT(s),p}),m=await br._fromIdTokenResponse(i,"signIn",h);return await i._updateCurrentUser(m.user),m}function Kj(s,e,t){return jn(s.app)?Promise.reject(ba(s)):Hj(ot(s),Kl.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&TT(s),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fj(s,e){return Ra(s,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gj(s,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const i=ot(s),c={idToken:await i.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},h=await Ol(i,Fj(i.auth,c));i.displayName=h.displayName||null,i.photoURL=h.photoUrl||null;const m=i.providerData.find(({providerId:p})=>p==="password");m&&(m.displayName=i.displayName,m.photoURL=i.photoURL),await i._updateTokensIfNecessary(h)}function $j(s,e,t,i){return ot(s).onIdTokenChanged(e,t,i)}function Qj(s,e,t){return ot(s).beforeAuthStateChanged(e,t)}function Yj(s,e,t,i){return ot(s).onAuthStateChanged(e,t,i)}function Wj(s){return ot(s).signOut()}const $d="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem($d,"1"),this.storage.removeItem($d),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xj=1e3,Zj=10;class ST extends AT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=gT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),l=this.localCache[t];i!==l&&e(t,l,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const l=()=>{const h=this.storage.getItem(i);!t&&this.localCache[i]===h||this.notifyListeners(i,h)},c=this.storage.getItem(i);fj()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,Zj):l()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const l of Array.from(i))l(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},Xj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ST.type="LOCAL";const Jj=ST;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT extends AT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}wT.type="SESSION";const NT=wT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(l=>l.isListeningto(e));if(t)return t;const i=new Eh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:l,data:c}=t.data,h=this.handlersMap[l];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:l});const m=Array.from(h).map(async y=>y(t.origin,c)),p=await e2(m);t.ports[0].postMessage({status:"done",eventId:i,eventType:l,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Eh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ap(s="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return s+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,h;return new Promise((m,p)=>{const y=Ap("",20);l.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},i);h={messageChannel:l,onMessage(A){const S=A;if(S.data.eventId===y)switch(S.data.status){case"ack":clearTimeout(v),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),m(S.data.response);break;default:clearTimeout(v),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(h),l.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[l.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zs(){return window}function n2(s){zs().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RT(){return typeof zs().WorkerGlobalScope<"u"&&typeof zs().importScripts=="function"}async function s2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function a2(){var s;return((s=navigator==null?void 0:navigator.serviceWorker)===null||s===void 0?void 0:s.controller)||null}function i2(){return RT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT="firebaseLocalStorageDb",r2=1,Qd="firebaseLocalStorage",CT="fbase_key";class Pc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function bh(s,e){return s.transaction([Qd],e?"readwrite":"readonly").objectStore(Qd)}function l2(){const s=indexedDB.deleteDatabase(kT);return new Pc(s).toPromise()}function yg(){const s=indexedDB.open(kT,r2);return new Promise((e,t)=>{s.addEventListener("error",()=>{t(s.error)}),s.addEventListener("upgradeneeded",()=>{const i=s.result;try{i.createObjectStore(Qd,{keyPath:CT})}catch(l){t(l)}}),s.addEventListener("success",async()=>{const i=s.result;i.objectStoreNames.contains(Qd)?e(i):(i.close(),await l2(),e(await yg()))})})}async function g0(s,e,t){const i=bh(s,!0).put({[CT]:e,value:t});return new Pc(i).toPromise()}async function o2(s,e){const t=bh(s,!1).get(e),i=await new Pc(t).toPromise();return i===void 0?null:i.value}function p0(s,e){const t=bh(s,!0).delete(e);return new Pc(t).toPromise()}const c2=800,u2=3;class IT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await yg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>u2)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return RT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Eh._getInstance(i2()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await s2(),!this.activeServiceWorker)return;this.sender=new t2(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||a2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await yg();return await g0(e,$d,"1"),await p0(e,$d),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>g0(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>o2(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>p0(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=bh(l,!1).getAll();return new Pc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)i.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),t.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!i.has(l)&&(this.notifyListeners(l,null),t.push(l));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const l of Array.from(i))l(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),c2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}IT.type="LOCAL";const d2=IT;new Oc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h2(s,e){return e?va(e):(Se(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp extends bp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return wl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return wl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function f2(s){return bT(s.auth,new Sp(s),s.bypassAuthState)}function m2(s){const{auth:e,user:t}=s;return Se(t,e,"internal-error"),zj(t,new Sp(s),s.bypassAuthState)}async function g2(s){const{auth:e,user:t}=s;return Se(t,e,"internal-error"),Bj(t,new Sp(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(e,t,i,l,c=!1){this.auth=e,this.resolver=i,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:l,tenantId:c,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return f2;case"linkViaPopup":case"linkViaRedirect":return g2;case"reauthViaPopup":case"reauthViaRedirect":return m2;default:ms(this.auth,"internal-error")}}resolve(e){Na(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Na(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2=new Oc(2e3,1e4);class bl extends jT{constructor(e,t,i,l,c){super(e,t,l,c),this.provider=i,this.authWindow=null,this.pollId=null,bl.currentPopupAction&&bl.currentPopupAction.cancel(),bl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){Na(this.filter.length===1,"Popup operations only handle one event");const e=Ap();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Bs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Bs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,bl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,p2.get())};e()}}bl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2="pendingRedirect",Nd=new Map;class _2 extends jT{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Nd.get(this.auth._key());if(!e){try{const i=await v2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Nd.set(this.auth._key(),e)}return this.bypassAuthState||Nd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function v2(s,e){const t=b2(e),i=E2(s);if(!await i._isAvailable())return!1;const l=await i._get(t)==="true";return await i._remove(t),l}function x2(s,e){Nd.set(s._key(),e)}function E2(s){return va(s._redirectPersistence)}function b2(s){return wd(y2,s.config.apiKey,s.name)}async function T2(s,e,t=!1){if(jn(s.app))return Promise.reject(ba(s));const i=Cr(s),l=h2(i,e),h=await new _2(i,l,t).execute();return h&&!t&&(delete h.user._redirectEventId,await i._persistUserIfCurrent(h.user),await i._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2=10*60*1e3;class S2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!w2(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!DT(e)){const l=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Bs(this.auth,l))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=A2&&this.cachedEventUids.clear(),this.cachedEventUids.has(y0(e))}saveEventToCache(e){this.cachedEventUids.add(y0(e)),this.lastProcessedEventTime=Date.now()}}function y0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function DT({type:s,error:e}){return s==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function w2(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return DT(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N2(s,e={}){return Ra(s,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,k2=/^https?/;async function C2(s){if(s.config.emulator)return;const{authorizedDomains:e}=await N2(s);for(const t of e)try{if(I2(t))return}catch{}ms(s,"unauthorized-domain")}function I2(s){const e=mg(),{protocol:t,hostname:i}=new URL(e);if(s.startsWith("chrome-extension://")){const h=new URL(s);return h.hostname===""&&i===""?t==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===i}if(!k2.test(t))return!1;if(R2.test(s))return i===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2=new Oc(3e4,6e4);function _0(){const s=zs().___jsl;if(s!=null&&s.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let t=0;t<s.CP.length;t++)s.CP[t]=null}}function D2(s){return new Promise((e,t)=>{var i,l,c;function h(){_0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{_0(),t(Bs(s,"network-request-failed"))},timeout:j2.get()})}if(!((l=(i=zs().gapi)===null||i===void 0?void 0:i.iframes)===null||l===void 0)&&l.Iframe)e(gapi.iframes.getContext());else if(!((c=zs().gapi)===null||c===void 0)&&c.load)h();else{const m=bj("iframefcb");return zs()[m]=()=>{gapi.load?h():t(Bs(s,"network-request-failed"))},yT(`${Ej()}?onload=${m}`).catch(p=>t(p))}}).catch(e=>{throw Rd=null,e})}let Rd=null;function O2(s){return Rd=Rd||D2(s),Rd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2=new Oc(5e3,15e3),L2="__/auth/iframe",P2="emulator/auth/iframe",U2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},V2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function B2(s){const e=s.config;Se(e.authDomain,s,"auth-domain-config-required");const t=e.emulator?vp(e,P2):`https://${s.config.authDomain}/${L2}`,i={apiKey:e.apiKey,appName:s.name,v:Ar},l=V2.get(s.config.apiHost);l&&(i.eid=l);const c=s._getFrameworks();return c.length&&(i.fw=c.join(",")),`${t}?${wc(i).slice(1)}`}async function z2(s){const e=await O2(s),t=zs().gapi;return Se(t,s,"internal-error"),e.open({where:document.body,url:B2(s),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:U2,dontclear:!0},i=>new Promise(async(l,c)=>{await i.restyle({setHideOnLeave:!1});const h=Bs(s,"network-request-failed"),m=zs().setTimeout(()=>{c(h)},M2.get());function p(){zs().clearTimeout(m),l(i)}i.ping(p).then(p,()=>{c(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},q2=500,K2=600,F2="_blank",G2="http://localhost";class v0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $2(s,e,t,i=q2,l=K2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),h=Math.max((window.screen.availWidth-i)/2,0).toString();let m="";const p=Object.assign(Object.assign({},H2),{width:i.toString(),height:l.toString(),top:c,left:h}),y=dn().toLowerCase();t&&(m=uT(y)?F2:t),oT(y)&&(e=e||G2,p.scrollbars="yes");const v=Object.entries(p).reduce((S,[j,O])=>`${S}${j}=${O},`,"");if(hj(y)&&m!=="_self")return Q2(e||"",m),new v0(null);const A=window.open(e||"",m,v);Se(A,s,"popup-blocked");try{A.focus()}catch{}return new v0(A)}function Q2(s,e){const t=document.createElement("a");t.href=s,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2="__/auth/handler",W2="emulator/auth/handler",X2=encodeURIComponent("fac");async function x0(s,e,t,i,l,c){Se(s.config.authDomain,s,"auth-domain-config-required"),Se(s.config.apiKey,s,"invalid-api-key");const h={apiKey:s.config.apiKey,appName:s.name,authType:t,redirectUrl:i,v:Ar,eventId:l};if(e instanceof xT){e.setDefaultLanguage(s.languageCode),h.providerId=e.providerId||"",hN(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,A]of Object.entries({}))h[v]=A}if(e instanceof Lc){const v=e.getScopes().filter(A=>A!=="");v.length>0&&(h.scopes=v.join(","))}s.tenantId&&(h.tid=s.tenantId);const m=h;for(const v of Object.keys(m))m[v]===void 0&&delete m[v];const p=await s._getAppCheckToken(),y=p?`#${X2}=${encodeURIComponent(p)}`:"";return`${Z2(s)}?${wc(m).slice(1)}${y}`}function Z2({config:s}){return s.emulator?vp(s,W2):`https://${s.authDomain}/${Y2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hm="webStorageSupport";class J2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=NT,this._completeRedirectFn=T2,this._overrideRedirectResult=x2}async _openPopup(e,t,i,l){var c;Na((c=this.eventManagers[e._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const h=await x0(e,t,i,mg(),l);return $2(e,h,Ap())}async _openRedirect(e,t,i,l){await this._originValidation(e);const c=await x0(e,t,i,mg(),l);return n2(c),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:l,promise:c}=this.eventManagers[t];return l?Promise.resolve(l):(Na(c,"If manager is not set, promise should be"),c)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await z2(e),i=new S2(e);return t.register("authEvent",l=>(Se(l==null?void 0:l.authEvent,e,"invalid-auth-event"),{status:i.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Hm,{type:Hm},l=>{var c;const h=(c=l==null?void 0:l[0])===null||c===void 0?void 0:c[Hm];h!==void 0&&t(!!h),ms(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=C2(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return gT()||cT()||Ep()}}const eD=J2;var E0="@firebase/auth",b0="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nD(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function sD(s){yr(new bi("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=i.options;Se(h&&!h.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:h,authDomain:m,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pT(s)},y=new _j(i,l,c,p);return Rj(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),yr(new bi("auth-internal",e=>{const t=Cr(e.getProvider("auth").getImmediate());return(i=>new tD(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ps(E0,b0,nD(s)),Ps(E0,b0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD=5*60,iD=Q0("authIdTokenMaxAge")||aD;let T0=null;const rD=s=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>iD)return;const l=t==null?void 0:t.token;T0!==l&&(T0=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function lD(s=kg()){const e=Jd(s,"auth");if(e.isInitialized())return e.getImmediate();const t=Nj(s,{popupRedirectResolver:eD,persistence:[d2,Jj,NT]}),i=Q0("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(i,location.origin);if(location.origin===c.origin){const h=rD(c.toString());Qj(t,h,()=>h(t.currentUser)),$j(t,m=>h(m))}}const l=F0("auth");return l&&kj(t,`http://${l}`),t}function oD(){var s,e;return(e=(s=document.getElementsByTagName("head"))===null||s===void 0?void 0:s[0])!==null&&e!==void 0?e:document}vj({loadJS(s){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",s),i.onload=e,i.onerror=l=>{const c=Bs("internal-error");c.customData=l,t(c)},i.type="text/javascript",i.charset="UTF-8",oD().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});sD("Browser");const cD={apiKey:"AIzaSyB0zBdnr_ZBmmokxvgLiHWU52QhnFnoymU",authDomain:"aimchallange-67039.firebaseapp.com",projectId:"aimchallange-67039",storageBucket:"aimchallange-67039.appspot.com",messagingSenderId:"109617578227",appId:"1:109617578227:web:8f09f705f248bbdaf07786",measurementId:"G-42PJQ2LB6T"},Th=Z0(cD),kd=lD(Th),Ze=xI(Th),ts=Zb(Th,"gs://aimchallange-67039.appspot.com");Zb(Th,"gs://aimchallange-67039.appspot.com");const OT=k.createContext(),ys=()=>k.useContext(OT),uD=({children:s})=>{const[e,t]=k.useState(null),[i,l]=k.useState(!1),[c,h]=k.useState(!0);k.useEffect(()=>Yj(kd,async A=>{if(A){const S={uid:A.uid,email:A.email,displayName:A.displayName||A.email.split("@")[0],role:"admin"};t(S),l(!0)}else t(null),l(!1);h(!1)}),[]);const y={currentUser:e,isAuthenticated:i,login:async(v,A)=>{try{return await Kj(kd,v,A),{success:!0}}catch(S){return console.error("Login error:",S),{success:!1,error:S.message}}},logout:async()=>{try{return await Wj(kd),{success:!0}}catch(v){return console.error("Logout error:",v),{success:!1,error:v.message}}}};return u.jsx(OT.Provider,{value:y,children:!c&&s})},Yd=_t(Ze,"settings","textContent"),A0=async()=>{try{const s=await Ii(Yd);if(s.exists())return s.data();{const e={_languageStructure:{initialized:!0,availableLanguages:["sv","en","no"]}};return await fs(Yd,e),e}}catch(s){return console.error("Error getting text content:",s),{}}},dD=async(s,e,t="sv")=>{try{const i=await Ii(Yd),l=i.exists()?i.data():{},c={};return l[s]&&typeof l[s]=="object"&&l[s]._isMultilingual?(c[`${s}.${t}`]=e,c[`${s}._isMultilingual`]=!0):(c[s]={sv:t==="sv"?e:l[s]||"",en:t==="en"?e:"",no:t==="no"?e:"",_isMultilingual:!0},t!=="sv"&&(c[s][t]=e)),await OI(Yd,c),!0}catch(i){return console.error("Error updating text content:",i),!1}};_t(Ze,"settings","backgroundImages");const gr={SV:"sv",EN:"en",NO:"no"},hD={sv:"Svenska",en:"English",no:"Norsk"},MT=gr.SV,LT=k.createContext(),Et=()=>k.useContext(LT),fD=({children:s})=>{const[e,t]=k.useState({}),[i,l]=k.useState(!1),[c,h]=k.useState([]),[m,p]=k.useState(()=>{const b=localStorage.getItem("preferredLanguage");return b&&Object.values(gr).includes(b)?b:MT}),{currentUser:y,isAuthenticated:v}=ys(),A=(y==null?void 0:y.role)==="admin";k.useEffect(()=>{(async()=>{try{const T=await A0();t(T)}catch(T){console.error("Error fetching text content:",T);const C=localStorage.getItem("textContent");if(C)try{t(JSON.parse(C))}catch(D){console.error("Error parsing saved content:",D),t({})}}})()},[]),k.useEffect(()=>{l(!!(v&&A))},[v,A]);const S=(b,T,C=null)=>{const D=C||m;return e[b]&&typeof e[b]=="object"&&e[b]._isMultilingual?e[b][D]||e[b].sv||T:e[b]||T},j=async(b,T,C=null)=>{try{const D=C||m;await dD(b,T,D);const w=await A0();t(w),h(z=>[...z,{content:{...e},timestamp:new Date().toISOString(),changedKey:b,language:D}]),localStorage.setItem("textContent",JSON.stringify(w))}catch(D){console.error("Error updating text content:",D);const w=C||m;let z={...e};z[b]&&typeof z[b]=="object"&&z[b]._isMultilingual?z[b]={...z[b],[w]:T}:z[b]={sv:w==="sv"?T:z[b]||"",en:w==="en"?T:"",no:w==="no"?T:"",_isMultilingual:!0},t(z),localStorage.setItem("textContent",JSON.stringify(z))}},O=b=>{h(C=>[...C,{content:{...e},timestamp:new Date().toISOString(),changedKey:b,action:"remove"}]);const T={...e};delete T[b],t(T),localStorage.setItem("textContent",JSON.stringify(T)),console.log(`Content item '${b}' has been removed`)},V=()=>{h(b=>[...b,{content:{...e},timestamp:new Date().toISOString(),action:"reset-all"}]),t({}),localStorage.removeItem("textContent"),console.log("All content has been reset")},B=()=>{if(c.length>1){const b=[...c];b.pop();const T=b[b.length-1].content;return t(T),localStorage.setItem("textContent",JSON.stringify(T)),h(b),console.log("Last change undone"),!0}return console.log("No changes to undo"),!1},F=()=>c,G=()=>{console.log("Edit mode is always on for admin users")},$=async b=>Object.values(gr).includes(b)?(p(b),localStorage.setItem("preferredLanguage",b),!0):!1,J=async(b,T)=>{try{const C=S(b,"","sv");if(!C)return!1;const D=await le(C,"sv",T);return await j(b,D,T),!0}catch(C){return console.error("Translation error:",C),!1}},le=async(b,T,C)=>{if(!b)return"";try{try{const z=await(await fetch("https://libretranslate.de/translate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({q:b,source:T==="sv"?"sv":"en",target:C==="no"?"nb":C,format:"text"})})).json();if(z.translatedText)return L(b,z.translatedText)}catch(D){console.warn("LibreTranslate API failed:",D)}try{const D=`https://lingva.ml/api/v1/${T==="sv"?"sv":"en"}/${C==="no"?"no":C}/${encodeURIComponent(b)}`,z=await(await fetch(D)).json();if(z.translation)return L(b,z.translation)}catch(D){console.warn("Lingva API failed:",D)}try{const D=`https://translate.googleapis.com/translate_a/single?client=gtx&sl=${T}&tl=${C}&dt=t&q=${encodeURIComponent(b)}`,z=await(await fetch(D)).json();let ee="";if(z&&z[0]&&z[0].forEach(H=>{H[0]&&(ee+=H[0])}),ee)return L(b,ee)}catch(D){console.warn("Unofficial Google API failed:",D)}return`[${C.toUpperCase()}] ${b}`}catch(D){return console.error("Translation error:",D),b}},L=(b,T)=>b===b.toUpperCase()?T.toUpperCase():b===b.toLowerCase()?T.toLowerCase():b[0]===b[0].toUpperCase()?T.charAt(0).toUpperCase()+T.slice(1):T,N={getText:S,updateText:j,isEditing:i,toggleEditing:G,isAdmin:A,textContent:e,resetAllContent:V,removeContentItem:O,undoLastChange:B,getEditHistory:F,editHistory:c,currentLanguage:m,changeLanguage:$,translateText:J,LANGUAGES:gr,LANGUAGE_NAMES:hD};return u.jsx(LT.Provider,{value:N,children:s})},S0=({className:s=""})=>{const{currentLanguage:e,changeLanguage:t,LANGUAGES:i,LANGUAGE_NAMES:l}=Et(),[c,h]=k.useState(!1),m=y=>{y!==e&&(h(!0),t(y),setTimeout(()=>{h(!1)},500))},p=s.includes("mobile");return u.jsx("div",{className:`language-selector ${p?"":"navbar-language"} ${s}`,children:u.jsx("div",{className:p?"language-selector__options":"navbar-lang-options",children:Object.values(i).map(y=>u.jsx("button",{className:p?`language-selector__option ${e===y?"language-selector__option--active":""}`:`navbar-lang-button ${e===y?"navbar-lang-button--active":""}`,onClick:()=>m(y),"aria-label":`Switch to ${l[y]}`,disabled:c,children:y.toUpperCase()},y))})})},mD=()=>{const[s,e]=k.useState(!1),[t,i]=k.useState(!1),[l,c]=k.useState(!1),{isAuthenticated:h,currentUser:m,logout:p}=ys(),{isEditing:y,getText:v,updateText:A}=Et(),S=Tr(),j=()=>{c(!l),e(!1),i(!1)},O=()=>{p(),S("/")};return k.useEffect(()=>{const V=B=>{const F=document.querySelector(".mobile-menu"),G=document.querySelector(".hamburger-menu");l&&F&&!F.contains(B.target)&&!G.contains(B.target)&&c(!1)};return document.addEventListener("mousedown",V),()=>{document.removeEventListener("mousedown",V)}},[l]),k.useEffect(()=>{console.log("Navbar auth state:",{isAuthenticated:h,currentUser:m,isAdmin:(m==null?void 0:m.role)==="admin"})},[h,m]),u.jsx("div",{className:"flex flex_col navbar-container",children:u.jsxs("div",{className:"navbar  flex flex_j_SA MaxWH location font_white",children:[u.jsx("div",{className:"navim MaxWH location",children:u.jsx(Re,{to:"/",children:u.jsx("img",{src:"/images/Aim Blue.svg",alt:"aim challenge logo",className:"custom-image navim"})})}),u.jsxs("div",{className:"hamburger-menu",onClick:j,children:[u.jsx("span",{}),u.jsx("span",{}),u.jsx("span",{})]}),u.jsxs("div",{className:"navbside",children:[u.jsxs("div",{className:"nav-button dropdown-container",children:[u.jsx(Re,{to:"/competitions",className:"dropdown-trigger",children:"Tävlingar"}),u.jsxs("div",{className:"drop-down",children:[u.jsx(Re,{to:"/ulricehamn",className:"drop-item",children:"ULRICEHAMN"}),u.jsx(Re,{to:"/salen",className:"drop-item",children:"SÄLEN"}),u.jsx(Re,{to:"/hemsedal",className:"drop-item",children:"HEMSEDAL"}),u.jsx(Re,{to:"/kolmarden",className:"drop-item",children:"KOLMÅRDEN"}),u.jsx(Re,{to:"/trippeln",className:"drop-item",children:"TRIPPELN"}),u.jsx(Re,{to:"/results",className:"drop-item",children:"RESULTAT"})]})]}),u.jsxs("div",{className:"nav-button dropdown-container",children:[u.jsx(Re,{to:"/om-oss",className:"dropdown-trigger",children:"Om oss"}),u.jsxs("div",{className:"drop-down",children:[u.jsx(Re,{to:"/regler",className:"drop-item",children:"Regler"}),u.jsx(Re,{to:"/faq",className:"drop-item",children:"FAQ"}),u.jsx(Re,{to:"/historien-om-aim",className:"drop-item",children:"Historien om AIM"})]})]}),u.jsx("div",{className:"nav-button",children:u.jsx("a",{href:"#sponsors-section",onClick:V=>{V.preventDefault();const B=document.getElementById("sponsors-section");B&&B.scrollIntoView({behavior:"smooth"})},children:"Sponsorer"})}),u.jsx("div",{className:"nav-button",children:u.jsx(Re,{to:"/senaste-nytt",children:"Senaste nytt"})}),u.jsx("div",{className:"nav-button",children:u.jsx(Re,{to:"#",children:"Kontakta oss"})}),u.jsx("div",{className:"language-nav-container",children:u.jsx(S0,{className:""})}),h&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"nav-button",children:u.jsx(Re,{to:"/content-manager",children:"Innehåll"})}),u.jsx("div",{className:"nav-button",children:u.jsx("a",{href:"#",onClick:V=>{V.preventDefault(),O()},children:"Logga ut"})})]})]}),l&&u.jsxs("div",{className:"mobile-menu",children:[u.jsxs("div",{className:"mobile-menu-item",children:[u.jsxs("div",{className:"mobile-menu-header",onClick:()=>e(!s),children:["Tävlingar ",s?"▲":"▼"]}),s&&u.jsxs("div",{className:"mobile-submenu",children:[u.jsx(Re,{to:"/ulricehamn",onClick:j,className:"mobile-submenu-item",children:"ULRICEHAMN"}),u.jsx(Re,{to:"/salen",onClick:j,className:"mobile-submenu-item",children:"SÄLEN"}),u.jsx(Re,{to:"/hemsedal",onClick:j,className:"mobile-submenu-item",children:"HEMSEDAL"}),u.jsx(Re,{to:"/kolmarden",onClick:j,className:"mobile-submenu-item",children:"KOLMÅRDEN"}),u.jsx(Re,{to:"/trippeln",onClick:j,className:"mobile-submenu-item",children:"TRIPPELN"})]})]}),u.jsx("div",{className:"mobile-menu-item",children:u.jsx(Re,{to:"/results",onClick:j,className:"mobile-menu-link",children:"Resultat"})}),u.jsxs("div",{className:"mobile-menu-item",children:[u.jsxs("div",{className:"mobile-menu-header",onClick:()=>i(!t),children:["Om oss ",t?"▲":"▼"]}),t&&u.jsxs("div",{className:"mobile-submenu",children:[u.jsx(Re,{to:"/om-oss",onClick:j,className:"mobile-submenu-item",children:"Om oss"}),u.jsx(Re,{to:"/regler",onClick:j,className:"mobile-submenu-item",children:"Regler"}),u.jsx(Re,{to:"/faq",onClick:j,className:"mobile-submenu-item",children:"FAQ"}),u.jsx(Re,{to:"/historien-om-aim",onClick:j,className:"mobile-submenu-item",children:"Historien om AIM"})]})]}),u.jsx("div",{className:"mobile-menu-item",children:u.jsx("a",{href:"#sponsors-section",onClick:V=>{V.preventDefault();const B=document.getElementById("sponsors-section");B&&B.scrollIntoView({behavior:"smooth"}),j()},className:"mobile-menu-link",children:"Sponsorer"})}),u.jsx("div",{className:"mobile-menu-item",children:u.jsx(Re,{to:"/senaste-nytt",onClick:j,className:"mobile-menu-link",children:"Senaste nytt"})}),u.jsx("div",{className:"mobile-menu-item",children:u.jsx(Re,{to:"#",onClick:j,className:"mobile-menu-link",children:"Kontakta oss"})}),u.jsx("div",{className:"mobile-menu-item mobile-language-switcher",children:u.jsx(S0,{className:"mobile-language-selector"})}),h&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"mobile-menu-item",children:u.jsx(Re,{to:"/content-manager",onClick:j,className:"mobile-menu-link",children:"Innehåll"})}),u.jsx("div",{className:"mobile-menu-item",children:u.jsx("a",{href:"#",onClick:V=>{V.preventDefault(),O(),j()},className:"mobile-menu-link",children:"Logga ut"})})]})]})]})})},wp=({location:s,targetId:e})=>{const[t,i]=k.useState(!1),[l,c]=k.useState(null),[h,m]=k.useState([]),[p,y]=k.useState({imageUrl:"",link:"",location:""}),[v,A]=k.useState(!1),[S,j]=k.useState(!1),{isAdmin:O}=Et(),V=ns(),B=k.useRef(null),F=k.useRef(null),G=nn(Ze,"sponsors"),$=V.pathname.split("/").pop(),se=["salen","ulricehamn","hemsedal","kolmarden"].includes($)?$:"";k.useEffect(()=>{(async()=>{try{console.log("Loading sponsors from Firestore...");let H=(await Jn(G)).docs.map(X=>({id:X.id,...X.data()}));console.log("All sponsors loaded from Firestore:",H.length),S&&se?(H=H.filter(X=>X.location===se),console.log(`Filtered to ${H.length} local sponsors for ${se}`)):(H=H.filter(X=>!X.location),console.log(`Filtered to ${H.length} global sponsors`)),H.forEach((X,ae)=>{console.log(`Sponsor ${ae+1}:`,{id:X.id,url:X.imageUrl,isSVG:X.imageUrl&&X.imageUrl.toLowerCase().includes(".svg")})}),m(H)}catch(ee){console.error("Error loading sponsors:",ee)}})()},[se,S]),k.useEffect(()=>{l&&l.closest(".sponsors-section")?(j(!0),y(z=>({...z,location:se}))):(j(!1),y(z=>({...z,location:""})))},[l,se]),k.useEffect(()=>{if(!O)return;const z=(ee,H,X,ae=!1)=>{const he=document.querySelector(ee);if(!he)return;const P=document.querySelector(`#${H}`);P&&P.remove();const ne=document.createElement("button");ne.id=H,ne.className="admin-edit-button",ne.textContent=X,ne.style.marginLeft="10px",ne.style.padding="5px 10px",ne.style.backgroundColor="#384c87",ne.style.color="white",ne.style.border="none",ne.style.borderRadius="4px",ne.style.cursor="pointer",ne.style.whiteSpace="nowrap",ne.addEventListener("mouseenter",()=>{ne.style.backgroundColor="#4f639e"}),ne.addEventListener("mouseleave",()=>{ne.style.backgroundColor="#384c87"}),ne.addEventListener("click",()=>{j(ae),y(ae?pe=>({...pe,location:se}):pe=>({...pe,location:""})),i(!0)}),he.appendChild(ne)};return z("#sponsors-section","sponsor-edit-button","Edit Sponsors",!1),se&&z(".sponsors-title","local-sponsor-edit-button","Edit Local Partners",!0),()=>{const ee=document.querySelector("#sponsor-edit-button");ee&&ee.remove();const H=document.querySelector("#local-sponsor-edit-button");H&&H.remove()}},[O,se]),k.useEffect(()=>(document.addEventListener("mousedown",le),()=>{document.removeEventListener("mousedown",le)}),[]);const le=z=>{F.current&&!F.current.contains(z.target)&&L()},L=()=>{i(!1),c(null),y({imageUrl:"",link:""})},N=z=>{z.target.files&&z.target.files[0]&&b(z.target.files[0])},b=async z=>{if(z){A(!0);try{console.log("File being uploaded:",{name:z.name,type:z.type,size:z.size});const ee=Date.now(),H=z.name?z.name.split(".").pop().toLowerCase():"jpg",X=`sponsor_${ee}.${H}`;console.log("File extension detected:",H),console.log("New filename created:",X);const ae=es(ts,`gs://aimchallange-67039.firebasestorage.app/background-images/${X}`);console.log("Uploading sponsor image with path:",ae.fullPath);const he=await kr(ae,z);console.log("Upload completed:",he);const P=await ql(ae);console.log("Download URL received:",P),y(ne=>({...ne,imageUrl:P}))}catch(ee){console.error("Error uploading image:",ee),console.error("Error details:",ee.code,ee.message)}finally{A(!1)}}},T=async()=>{if(console.log("Add Sponsor button clicked"),!p.imageUrl){console.log("No image URL provided");return}try{console.log("Adding sponsor with data:",p);const z=_t(G),ee={...p,location:S?se:"",createdAt:new Date().toISOString()};await fs(z,ee),console.log("Sponsor added to Firestore with ID:",z.id);const H=[...h,{id:z.id,...ee}];m(H),y({imageUrl:"",link:"",location:S?se:""}),console.log("Form reset, sponsor added successfully")}catch(z){console.error("Error adding sponsor:",z)}},C=async z=>{try{if(z<0||z>=h.length)return;const ee=h[z];if(!ee||!ee.id)return;const H=_t(G,ee.id),X=await Ii(H);if(X.exists()){const ae=X.data();if(console.log("Found sponsor document:",ae),ae.imageUrl)try{const P=D(ae.imageUrl);if(P){const ne=es(ts,`gs://aimchallange-67039.firebasestorage.app/background-images/${P}`);await Dc(ne)}}catch(P){console.error("Error deleting image:",P)}await jc(H);const he=[...h];he.splice(z,1),m(he)}else console.log("Sponsor document not found")}catch(ee){console.error("Error removing sponsor:",ee)}},D=z=>{if(!z)return null;try{if(z.includes("firebasestorage.googleapis.com")){const X=z.match(/%2F([^?]+)/g);if(X&&X.length>0)return X[X.length-1].replace("%2F","").split("?")[0]}if(z.includes("sponsor_")){const X=/sponsor_[0-9]+\.[a-zA-Z]+/,ae=z.match(X);if(ae&&ae.length>0)return ae[0]}const ee=z.split("/");return ee[ee.length-1].split("?")[0]}catch(ee){return console.error("Error extracting filename:",ee),null}},w=()=>h.length===0?null:h.map((z,ee)=>{if(!z.imageUrl)return null;const H=z.imageUrl?`${z.imageUrl}${z.imageUrl.includes("?")?"&":"?"}cache=${Date.now()}`:"",X=u.jsx("img",{src:H,alt:z.name||`Sponsor ${ee+1}`,className:"background-editor-modal__ad-image",onError:he=>{console.error("Error loading image:",z.imageUrl),he.target.onerror=null,he.target.src="/images/placeholder-logo.png"}}),ae=z.link?u.jsx("a",{href:z.link.startsWith("http")?z.link:`https://${z.link}`,target:"_blank",rel:"noopener noreferrer",className:"sponsor-link",children:X}):X;return u.jsx("div",{className:"background-editor-modal__ad-item",children:ae},ee)});return console.log("SponsorEditor rendering with:",{location:s,targetId:e,isAdmin:O,sponsorsCount:h.length,isLocalPartners:S,currentLocationName:se}),u.jsxs(u.Fragment,{children:[!t&&u.jsx("div",{className:S?"sponsors-section sponsors-container":"sponsors-grid",children:w()}),t&&u.jsx("div",{className:"background-editor-overlay",onClick:z=>{z.target===z.currentTarget&&L()},children:u.jsxs("div",{className:"background-editor-modal",ref:F,children:[u.jsxs("div",{className:"background-editor-modal__header",children:[u.jsx("h2",{className:"background-editor-modal__title",children:S?`Edit ${se.charAt(0).toUpperCase()+se.slice(1)} Partners`:"Edit Global Sponsors"}),u.jsx("button",{className:"background-editor-modal__close",onClick:L,children:"×"})]}),u.jsxs("div",{className:"background-editor-modal__body",children:[u.jsx("h3",{className:"background-editor-modal__subtitle",children:"Current Sponsors"}),u.jsx("div",{className:"background-editor-modal__ad-list",children:h.length>0?h.map((z,ee)=>u.jsxs("div",{className:"background-editor-modal__ad-item",children:[u.jsx("img",{src:z.imageUrl,alt:`Sponsor ${ee+1}`,className:"background-editor-modal__ad-image"}),u.jsxs("div",{className:"background-editor-modal__ad-details",children:[u.jsx("p",{className:"background-editor-modal__ad-link",children:z.link?u.jsx("a",{href:z.link,target:"_blank",rel:"noopener noreferrer",children:z.link}):"No link"}),u.jsx("button",{onClick:()=>C(ee),className:"background-editor-modal__button background-editor-modal__button--secondary",children:"Remove"})]})]},ee)):u.jsx("p",{className:"background-editor-modal__empty-message",children:"No sponsors added yet."})}),u.jsx("h3",{className:"background-editor-modal__subtitle",children:"Add New Sponsor"}),u.jsxs("div",{className:"background-editor-modal__form",children:[u.jsxs("div",{className:"background-editor-modal__form-group",children:[u.jsx("label",{className:"background-editor-modal__label",children:"Image:"}),u.jsxs("div",{className:"background-editor-modal__image-upload",onClick:()=>B.current.click(),children:[p.imageUrl?u.jsx("div",{className:"background-editor-modal__image-preview-container",children:u.jsx("img",{src:p.imageUrl,alt:"Preview",className:"background-editor-modal__image-preview"})}):u.jsx("div",{className:"background-editor-modal__image-placeholder",children:"Click to upload an image"}),u.jsx("input",{type:"file",accept:"image/*",onChange:N,ref:B,className:"background-editor-modal__file-input",style:{display:"none"}})]}),v&&u.jsx("p",{className:"background-editor-modal__upload-status",children:"Uploading..."})]}),u.jsxs("div",{className:"background-editor-modal__form-group",children:[u.jsx("label",{className:"background-editor-modal__label",children:"Link (optional):"}),u.jsx("input",{type:"text",value:p.link,onChange:z=>y(ee=>({...ee,link:z.target.value})),placeholder:"https://example.com",className:"background-editor-modal__input"})]})]}),u.jsxs("div",{className:"background-editor-modal__footer",children:[u.jsx("button",{className:"background-editor-modal__button background-editor-modal__button--secondary",onClick:L,children:"Close"}),u.jsx("button",{className:"background-editor-modal__button background-editor-modal__button--primary",onClick:z=>{z.preventDefault(),z.stopPropagation(),T()},disabled:!p.imageUrl||v,type:"button",children:"Add Sponsor"})]})]})]})})]})},gD=()=>{const{isAdmin:s}=Et(),e=ns(),t=()=>{const i=e.pathname;return["/","/competitions","/ulricehamn","/salen","/hemsedal","/kolmarden","/trippeln"].includes(i)};return u.jsxs(u.Fragment,{children:[t()&&u.jsx("div",{className:"footer-wrapper",children:u.jsx("div",{className:"container",children:u.jsx("div",{className:"footer-grid",children:u.jsxs("div",{className:"grid-item sponsors",children:[u.jsx("h1",{className:"footer-heading",id:"sponsors-section",children:"Sponsorer & Partners"}),u.jsx(wp,{targetId:"sponsors-section"})]})})})}),u.jsx("footer",{className:"footer-section",children:u.jsxs("div",{className:"footer-container",children:[u.jsxs("div",{className:"footer-top",children:[u.jsxs("div",{className:"footer-left",children:[u.jsx("div",{className:"footer-logo",children:u.jsx("img",{src:"/images/Aim_Challenge_logo_white.svg",alt:"AIM Challenge"})}),u.jsxs("div",{className:"footer-info",children:[u.jsx("p",{children:"Slottsmöllan 10b, 30231 Halmstad"}),u.jsx("p",{children:u.jsx("a",{href:"mailto:info@aimchallenge.com",children:"info@aimchallenge.com"})}),u.jsx("p",{children:"+46 (0) 73-81 87 54"})]}),u.jsxs("div",{className:"footer-social",children:[u.jsx("a",{href:"https://www.instagram.com/aimchallenge/",className:"social-icon",children:u.jsx("i",{className:"fa fa-instagram"})}),u.jsx("a",{href:"https://www.facebook.com/aimchallenge/",className:"social-icon",children:u.jsx("i",{className:"fa fa-facebook"})}),u.jsx("a",{href:"https://youtube.com/@aimchallenge9800?si=ggWHNbfGv0h18mes",className:"social-icon",children:u.jsx("i",{className:"fa fa-youtube"})}),u.jsx("a",{href:"https://www.linkedin.com/company/aim-higher-ab/",className:"social-icon",children:u.jsx("i",{className:"fa fa-linkedin"})})]})]}),u.jsxs("div",{className:"footer-columns",children:[u.jsxs("div",{className:"footer-column footer-column-center",children:[u.jsx("h3",{className:"footer-title",children:"INFORMATION"}),u.jsxs("ul",{className:"footer-links",children:[u.jsx("li",{children:u.jsx("a",{href:"#",children:"Anmälningsvillkor"})}),u.jsx("li",{children:u.jsx("a",{href:"#",children:"Integritetspolicy"})}),u.jsx("li",{children:u.jsx("a",{href:"#",children:"FAQ"})})]})]}),u.jsxs("div",{className:"footer-column footer-column-right",children:[u.jsx("h3",{className:"footer-title",children:"NYHETSBREV"}),u.jsx("p",{className:"footer-newsletter-text",children:"Åtext om nyhetsbrev, samt en optin ruta för att fylla i sin epostadress. Integration mot mailchimp."})]})]})]}),u.jsx("div",{className:"footer-copyright-wrapper",children:u.jsx("div",{className:"footer-copyright",children:u.jsxs("p",{children:["© ",new Date().getFullYear()," AIM Challenge. All rights reserved."]})})})]})})]})},U=({textKey:s,defaultText:e,tag:t="p",className:i="",style:l={},placeholder:c="Skriv text här...",onClick:h})=>{const{getText:m,updateText:p,isAdmin:y,currentLanguage:v,LANGUAGES:A,LANGUAGE_NAMES:S,translateText:j}=Et(),[O,V]=k.useState(!1),[B,F]=k.useState(""),[G,$]=k.useState(!1),[J,se]=k.useState(""),[le,L]=k.useState(""),[N,b]=k.useState(v),[T,C]=k.useState({sv:"",en:"",no:""}),[D,w]=k.useState(!1),[z,ee]=k.useState({sv:!0,en:!1,no:!1}),H=k.useRef({sv:null,en:null,no:null}),X=k.useRef(null),ae=k.useRef(null),he=["span","a","em","strong","i","b","code","small"].includes(t);k.useEffect(()=>{const ye=m(s,e);F(ye);const Ge=m(s,e,"sv"),Ct=m(s,e,"en"),Mn=m(s,e,"no");C({sv:Ge,en:Ct,no:Mn})},[s,e,m,v]),k.useEffect(()=>{const ye=Ge=>{Ge.key==="Escape"&&O&&pe()};return document.addEventListener("keydown",ye),()=>{document.removeEventListener("keydown",ye)}},[O]);const P=ye=>{ye&&(ye.preventDefault(),ye.stopPropagation()),V(!0)},ne=async()=>{for(const ye of Object.values(A))await p(s,T[ye],ye);F(T[v]),V(!1),$(!1)},pe=()=>{const ye=m(s,e,N);F(ye),V(!1),$(!1)},ge=()=>{$(!G),se(""),L(""),ee({sv:N==="sv",en:N==="en",no:N==="no"})},me=()=>{if(J&&le){let ye=le;!ye.startsWith("http://")&&!ye.startsWith("https://")&&(ye="https://"+ye);const Ge=`<a href="${ye}" target="_blank" rel="noopener noreferrer">${J}</a>`;Object.entries(z).forEach(([Ct,Mn])=>{if(Mn&&H.current[Ct]){const An=H.current[Ct],Fs=An.selectionStart,_s=T[Ct],ka=_s.substring(0,Fs),Fl=_s.substring(An.selectionEnd),Di=ka+Ge+Fl;it(Ct,Di),setTimeout(()=>{An.focus();const Yt=Fs+Ge.length;An.setSelectionRange(Yt,Yt)},0)}}),se(""),L("")}},Ne=ye=>{se(ye.target.value)},je=ye=>{L(ye.target.value)},ft=ye=>{ee(Ge=>({...Ge,[ye]:!Ge[ye]}))},ze=ye=>{ye.key==="Enter"&&ye.ctrlKey?(ye.preventDefault(),ne()):ye.key==="Escape"&&(ye.preventDefault(),pe())},it=(ye,Ge)=>{C(Ct=>({...Ct,[ye]:Ge})),ye===N&&F(Ge)},We=async ye=>{if(!D){w(!0);try{const Ge=T.sv||"";if(!Ge){console.error("No Swedish source text available for translation");return}if(console.log(`Translating from Swedish to ${ye}: ${Ge}`),await p(s,Ge,"sv"),await j(s,ye)){const Mn=m(s,e,ye);console.log(`Translation result: ${Mn}`),C(An=>({...An,[ye]:Mn}))}}catch(Ge){console.error("Translation failed:",Ge)}finally{w(!1)}}},Qt=()=>O?Kw.createPortal(u.jsx("div",{className:"edit-modal-overlay",children:u.jsxs("div",{className:"edit-modal",children:[u.jsx("h3",{className:"edit-modal__title",children:"Redigera text"}),u.jsx("div",{className:"edit-modal__languages-vertical",children:Object.values(A).map(ye=>u.jsxs("div",{className:"edit-modal__language-section",children:[u.jsxs("div",{className:"edit-modal__language-header",children:[u.jsx("h4",{className:"edit-modal__language-title",children:S[ye]}),ye!=="sv"&&u.jsx("button",{type:"button",onClick:()=>We(ye),className:"modal-action-button modal-action-button--secondary modal-action-button--small",disabled:D,children:D?"Översätter...":`Översätt till ${S[ye]}`})]}),u.jsx("textarea",{value:T[ye],onChange:Ge=>it(ye,Ge.target.value),onKeyDown:ze,className:"edit-modal__textarea",autoFocus:ye===v,ref:Ge=>H.current[ye]=Ge})]},ye))}),u.jsx("button",{type:"button",onClick:ge,className:"modal-action-button modal-action-button--secondary",children:G?"Dölj länkverktyg":"Lägg till länk"}),G&&u.jsxs("div",{className:"edit-modal__link-tools",children:[u.jsxs("div",{className:"edit-modal__form-group",children:[u.jsx("label",{htmlFor:"linkText",className:"edit-modal__label",children:"Länktext:"}),u.jsx("input",{ref:X,type:"text",id:"linkText",value:J,onChange:Ne,className:"edit-modal__input",placeholder:"Text som ska visas"})]}),u.jsxs("div",{className:"edit-modal__form-group",children:[u.jsx("label",{htmlFor:"linkUrl",className:"edit-modal__label",children:"URL:"}),u.jsx("input",{ref:ae,type:"text",id:"linkUrl",value:le,onChange:je,className:"edit-modal__input",placeholder:"https://example.com"})]}),u.jsxs("div",{className:"edit-modal__language-checkboxes",children:[u.jsx("p",{className:"edit-modal__label",children:"Infoga länk i:"}),Object.values(A).map(ye=>u.jsxs("label",{className:"edit-modal__checkbox-label",children:[u.jsx("input",{type:"checkbox",checked:z[ye],onChange:()=>ft(ye),className:"edit-modal__checkbox"}),S[ye]]},`link-lang-${ye}`))]}),u.jsx("button",{type:"button",onClick:me,disabled:!J||!le||!Object.values(z).some(ye=>ye),className:"modal-action-button modal-action-button--primary",children:"Infoga länk"})]}),u.jsxs("div",{className:"edit-modal__actions",children:[u.jsx("button",{type:"button",onClick:pe,className:"modal-action-button modal-action-button--secondary",children:"Avbryt"}),u.jsx("button",{type:"button",onClick:ne,className:"modal-action-button modal-action-button--primary",children:"Spara"})]})]})}),document.body):null,ss=()=>{const ye=t,Ge={className:`editable-text ${i}`,style:l,dangerouslySetInnerHTML:{__html:B||c},onClick:h};return u.jsx(ye,{...Ge})},vn=he?"span":"div";return u.jsxs(u.Fragment,{children:[u.jsxs(vn,{className:"editable-text-wrapper",children:[ss(),y&&u.jsx("button",{type:"button",onClick:P,className:"edit-button edit-button-primary",title:"Redigera text",children:"Redigera"})]}),Qt()]})},Uc=({instanceId:s,defaultCategory:e="Alla"})=>{const[t,i]=k.useState([]),[l,c]=k.useState([]),[h,m]=k.useState(0),[p,y]=k.useState(e),[v,A]=k.useState([e]),[S,j]=k.useState(!1),{isAdmin:O,currentLanguage:V}=Et(),[B,F]=k.useState("");k.useEffect(()=>{F(V==="en"?"READ MORE":V==="no"?"LES MER":"LÄS MER")},[V]),k.useEffect(()=>{(async()=>{try{const D=nn(Ze,"posts"),w=hr(D,Xx("createdAt","desc")),z=await Jn(w),ee=new Set(["Alla","Sälen","Ulricehamn","Hemsedal","Kolmården"]);z.forEach(H=>{const X=H.data();X.category&&X.category.trim()!==""&&ee.add(X.category)}),A(Array.from(ee))}catch(D){console.error("Error fetching categories:",D)}})()},[]),k.useEffect(()=>{s&&(async()=>{try{const D=_t(Ze,"carouselSettings",s),w=await Ii(D);if(w.exists()){const z=w.data();y(z.category||"Alla")}}catch(D){console.error("Error fetching carousel settings:",D)}})()},[s]),k.useEffect(()=>{(async()=>{try{const D=nn(Ze,"posts"),w=hr(D,Xx("createdAt","desc")),z=await Jn(w),ee=[];z.forEach(H=>{ee.push({id:H.id,...H.data()})}),i(ee)}catch(D){console.error("Error fetching posts:",D)}})()},[]),k.useEffect(()=>{if(p==="Alla")c(t);else{const C=t.filter(D=>D.category===p);c(C)}m(0)},[p,t]);const G=async C=>{try{const D=_t(Ze,"carouselSettings",s);await fs(D,{category:C,updatedAt:new Date().toISOString(),updatedBy:"admin"}),console.log("Carousel settings saved successfully")}catch(D){console.error("Error saving carousel settings:",D)}},$=C=>{y(C),G(C),j(!1)},[J,se]=k.useState(window.innerWidth);k.useEffect(()=>{const C=()=>{se(window.innerWidth)};return window.addEventListener("resize",C),()=>{window.removeEventListener("resize",C)}},[]);const le=J<=768?1:J<=992?2:3,L=()=>{h>0&&m(h-1)},N=()=>{h<l.length-le&&m(h+1)},b=()=>{j(!S)},T=[];for(let C=h;C<Math.min(h+le,l.length);C++)T.push(l[C]);for(;T.length<le&&l.length>0;)T.push(null);return u.jsxs("div",{className:"news-carousel",children:[O&&u.jsxs("div",{className:"news-carousel-admin",children:[u.jsxs("button",{className:"category-selector-button",onClick:b,children:[p," ",u.jsx("span",{className:"arrow",children:"▼"})]}),S&&u.jsxs("div",{className:"category-selector",children:[u.jsx("div",{className:`category-option ${p==="Alla"?"selected":""}`,onClick:()=>$("Alla"),children:"Alla"}),v.map(C=>u.jsx("div",{className:`category-option ${p===C?"selected":""}`,onClick:()=>$(C),children:C},C))]})]}),u.jsx("div",{className:"news-carousel-container",children:T.map((C,D)=>C?u.jsxs("div",{className:"news-card",children:[u.jsx("div",{className:"news-image",children:C.image?u.jsx("img",{src:C.image,alt:C.title}):u.jsx("div",{className:"news-image-placeholder"})}),u.jsxs("div",{className:"news-content",children:[u.jsx("h3",{className:"news-location",children:C.title}),u.jsx("p",{className:"news-description",children:C.content.length>100?`${C.content.substring(0,100)}...`:C.content}),u.jsx("div",{className:"news-button",children:u.jsx(Re,{to:`/news/${C.id}`,className:"button-2",children:u.jsx("span",{children:B})})})]})]},C.id):u.jsxs("div",{className:"news-card empty",children:[u.jsx("div",{className:"news-image-placeholder"}),u.jsxs("div",{className:"news-content",children:[u.jsx("h3",{className:"news-location",children:"Inga fler nyheter"}),u.jsx("p",{className:"news-description",children:"Det finns inga fler nyheter i denna kategori."})]})]},`empty-${D}`))}),u.jsxs("div",{className:"news-carousel-controls",children:[u.jsx("button",{className:"carousel-control prev",onClick:L,disabled:h===0,children:"←"}),u.jsx("button",{className:"carousel-control next",onClick:N,disabled:h>=l.length-le,children:"→"})]})]})},pD=()=>{const{isAdmin:s,getText:e,currentLanguage:t}=Et(),[i,l]=k.useState("");return k.useEffect(()=>{l(t==="en"?"Read more":t==="no"?"Les mer":"Läs mer")},[t]),u.jsxs("div",{className:"flex flex_col MaxWH location",children:[u.jsx("section",{id:"page_01",className:"page_01 dynamic-background background-editable",children:u.jsx("div",{className:" page_01box flex flex_col flex_j_SA MaxWH",children:u.jsx(U,{textKey:"main-multisport-sedan",defaultText:"MUTLISPORT SEDAN 2004",tag:"p",className:"font_white fonts_large"})})}),u.jsxs("section",{id:"page_02",className:"page_02 flex flex_j_E MaxWH location",children:[u.jsx(U,{textKey:"main-competitions-title",defaultText:"ÅRETS TÄVLINGAR",tag:"h2",className:"page_02-title"}),u.jsxs("div",{className:"page_02box  flex flex_col MaxWH location",children:[u.jsx("div",{id:"page_02-ulricehamn-image",className:"page_02-image background-editable",style:{backgroundImage:"url('images/EE-AIMChallenge24-Uhamn-0171-high.jpg')"}}),u.jsx("div",{className:"page_02-content",children:u.jsxs("div",{className:"page_02-header",children:[u.jsx(U,{textKey:"main-ulricehamn-title",defaultText:"ULRICEHAMN 10/5",tag:"p",className:"font_white fonts_medium_B"}),u.jsx(U,{textKey:"ulricehamn-date",defaultText:"datum insert",tag:"p",className:"font_white fonts_medium"})]})}),u.jsx("div",{className:"page_02-button",children:u.jsx(Re,{to:"/ulricehamn",className:"location button-2",children:u.jsx("span",{children:i})})})]}),u.jsxs("div",{className:"page_02box  flex flex_col MaxWH location",children:[u.jsx("div",{id:"page_02-salen-image",className:"page_02-image background-editable",style:{backgroundImage:"url('/images/AIM_lindvallen_2024_AnkiGrothe_highres_155.jpg')"}}),u.jsx("div",{className:"page_02-content",children:u.jsxs("div",{className:"page_02-header",children:[u.jsx(U,{textKey:"main-salen-title",defaultText:"SÄLEN 10/5",tag:"p",className:"font_white fonts_medium_B"}),u.jsx(U,{textKey:"salen-date",defaultText:"datum insert",tag:"p",className:"font_white fonts_medium"})]})}),u.jsx("div",{className:"page_02-button",children:u.jsx(Re,{to:"/salen",className:"location button-2",children:u.jsx("span",{children:i})})})]}),u.jsxs("div",{className:"page_02box flex flex_col MaxWH location",children:[u.jsx("div",{id:"page_02-hemsedal-image",className:"page_02-image background-editable",style:{backgroundImage:"url('/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg')"}}),u.jsx("div",{className:"page_02-content",children:u.jsxs("div",{className:"page_02-header",children:[u.jsx(U,{textKey:"main-hemsedal-title",defaultText:"HEMSEDAL 10/5",tag:"p",className:"font_white fonts_medium_B"}),u.jsx(U,{textKey:"hemsedal-date",defaultText:"datum insert",tag:"p",className:"font_white fonts_medium"})]})}),u.jsx("div",{className:"page_02-button",children:u.jsx(Re,{to:"/hemsedal",className:"location button-2",children:u.jsx("span",{children:i})})})]}),u.jsxs("div",{className:"page_02box  flex flex_col MaxWH location",children:[u.jsx("div",{id:"page_02-kolmarden-image",className:"page_02-image background-editable",style:{backgroundImage:"url('/images/kolmarden.jpg')"}}),u.jsx("div",{className:"page_02-content",children:u.jsxs("div",{className:"page_02-header",children:[u.jsx(U,{textKey:"main-kolmarden-title",defaultText:"KOLMÅRDEN 10/5",tag:"p",className:"font_white fonts_medium_B"}),u.jsx(U,{textKey:"kolmarden-date",defaultText:"datum insert",tag:"p",className:"font_white fonts_medium"})]})}),u.jsx("div",{className:"page_02-button",children:u.jsx(Re,{to:"/kolmarden",className:"location button-2",children:u.jsx("span",{children:i})})})]})]}),u.jsx("section",{id:"page_03",className:"page_03 flex MaxWH",children:u.jsxs("div",{className:"page_03-content flex",children:[u.jsxs("div",{className:"page_03-text",children:[u.jsx(U,{textKey:"main-about-title",defaultText:"OM AIM CHALLENGE",tag:"h2",className:"page_03-title"}),u.jsx(U,{textKey:"aim-challenge-desc-1",defaultText:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",tag:"p",className:"font_white"}),u.jsx(U,{textKey:"aim-challenge-desc-2",defaultText:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",tag:"p",className:"font_white"}),u.jsx("div",{className:"page_03-button",children:u.jsx(Re,{to:"/om-oss",className:"button-2",children:u.jsx("span",{children:i.toUpperCase()})})})]}),u.jsx("div",{className:"page_03-image",children:u.jsx("div",{id:"page_03-aim-image",className:"background-editable","data-editable":"true",style:{width:"90%",height:"90%",backgroundImage:"url('images/AIM_lindvallen_2024_AnkiGrothe_highres_155.jpg')",backgroundSize:"contain",backgroundPosition:"center",backgroundRepeat:"no-repeat"}})})]})}),u.jsx("section",{className:"ad-section",children:u.jsx("div",{className:"ad-container",children:u.jsx("div",{className:"ad-content",children:u.jsx("div",{className:"ad-carousel ad-editable",id:"main-ad-section",children:u.jsx("div",{className:"annons-text",children:"ANNONS"})})})})}),u.jsxs("section",{id:"latest-news",className:"latest-news-section",children:[u.jsx("h2",{className:"latest-news-title",children:"SENASTE NYTT"}),u.jsx("div",{className:"latest-news-container",children:u.jsx(Uc,{instanceId:"main-page-carousel"})})]})]})},Ks=()=>{const[s,e]=k.useState(!1),[t,i]=k.useState(null),[l,c]=k.useState(null),[h,m]=k.useState(null),[p,y]=k.useState("simple"),[v,A]=k.useState(null),{isAdmin:S}=Et(),j=k.useRef(null),O=k.useRef(null),V=ns(),B=k.useCallback(w=>{if(!(w.target.closest(".edit-button")||w.target.closest(".editable-text-wrapper")&&!w.target.classList.contains("background-editable"))&&(w.stopPropagation(),S)){i(w.currentTarget),e(!0);const z=w.currentTarget.id;z&&$(z)}},[S]),F=()=>{document.querySelectorAll(".background-editable").forEach(z=>{if(z.removeEventListener("click",B),z.addEventListener("click",B),S&&(z.classList.add("admin-editable"),z.style.cursor="pointer",!z.querySelector(".background-editable-indicator"))){const ee=document.createElement("div");ee.className="background-editable-indicator",ee.style.position="absolute",ee.style.top="5px",ee.style.right="5px",ee.style.width="10px",ee.style.height="10px",ee.style.backgroundColor="rgba(0, 255, 0, 0.5)",ee.style.borderRadius="50%",ee.style.zIndex="1",ee.style.display=S?"block":"none",window.getComputedStyle(z).position==="static"&&(z.style.position="relative"),z.appendChild(ee)}})};k.useEffect(()=>{const w=setTimeout(()=>{F(),G()},300),z=new MutationObserver(H=>{let X=!1;H.forEach(ae=>{ae.type==="childList"?ae.addedNodes.forEach(he=>{he.nodeType===1&&(he.classList&&he.classList.contains("background-editable")||he.querySelectorAll&&he.querySelectorAll(".background-editable").length>0)&&(X=!0)}):ae.type==="attributes"&&ae.target.classList&&ae.target.classList.contains("background-editable")&&(X=!0)}),X&&setTimeout(()=>{F()},100)});z.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["class"]});const ee=setInterval(()=>{document.querySelectorAll(".background-editable").length>0&&F()},2e3);return()=>{clearTimeout(w),clearInterval(ee),z.disconnect(),document.querySelectorAll(".background-editable").forEach(X=>{if(X.removeEventListener("click",B),S){X.classList.remove("admin-editable");const ae=X.querySelector(".background-editable-indicator");ae&&X.removeChild(ae)}})}},[S,V.pathname,B]),k.useEffect(()=>{if(s)return document.addEventListener("mousedown",C),()=>{document.removeEventListener("mousedown",C)}},[s]);const G=async()=>{try{const w=nn(Ze,"backgrounds");(await Jn(w)).forEach(ee=>{const H=ee.data(),X=document.getElementById(ee.id);X&&b(X,H.imageUrl,H.backgroundType)})}catch{}},$=async w=>{try{const z=nn(Ze,"backgrounds"),ee=_t(z,w),H=await Ii(ee);if(H.exists()){const X=H.data();y(X.backgroundType||"simple"),m(X.imageUrl),A(X.imageUrl)}else y("simple"),m(null),c(null),A(null)}catch{}},J=w=>{const z=w.target.files[0];if(z){z.name||(z.name=`image-${Date.now()}.jpg`);const ee=new FileReader;ee.onloadend=()=>{c(z),m(ee.result)},ee.readAsDataURL(z)}},se=w=>{if(!w)return null;try{if(w.includes("firebasestorage.googleapis.com")){const X=w.match(/%2F([^?]+)/g);if(X&&X.length>0)return X[X.length-1].replace("%2F","").split("?")[0]}if(w.includes("background-images")){const X=w.split("/");return X[X.length-1]}const z=w.split("/");return z[z.length-1].split("?")[0]}catch{return null}},le=async w=>{if(w)try{const z=se(w);if(z){const ee=es(ts,`gs://aimchallange-67039.firebasestorage.app/background-images/${z}`);await Dc(ee)}}catch{}},L=async()=>{if(!t||!t.id){alert("Selected element must have an ID attribute");return}try{let w=h;if(l){const z=Date.now(),ee=l.name?l.name.split(".").pop():"jpg",H=`background_${z}.${ee}`,X=es(ts,`gs://aimchallange-67039.firebasestorage.app/background-images/${H}`);await kr(X,l),w=await ql(X),v&&v!==w&&await le(v)}if(w){const z=nn(Ze,"backgrounds");await fs(_t(z,t.id),{elementId:t.id,imageUrl:w,backgroundType:p,updatedAt:new Date,updatedBy:"anonymous"}),b(t,w,p)}e(!1)}catch{alert("Error saving background. Please try again.")}},N=async w=>{w.stopPropagation();try{if(v&&await le(v),t&&t.id){const z=nn(Ze,"backgrounds");await fs(_t(z,t.id),{elementId:t.id,imageUrl:null,backgroundType:"simple",updatedAt:new Date,updatedBy:"anonymous"}),t&&(t.style.backgroundImage="none")}c(null),m(null),A(null)}catch{}},b=(w,z,ee)=>{if(!(!w||!z)&&(w.classList.remove("simple-background","fixed-background"),w.classList.add("has-background"),ee==="simple"?w.classList.add("simple-background"):w.classList.add("locked-background"),w.style.backgroundImage=`url(${z})`,w.style.backgroundSize="cover",w.style.backgroundPosition="center",w.style.backgroundRepeat="no-repeat",ee==="fixed"?w.style.backgroundAttachment="fixed":w.style.backgroundAttachment="scroll",w.id==="historien-om-aim-background-image")){const H=document.querySelector(".historien-om-aim-content-section");H&&(H.style.backgroundImage="none",H.style.backgroundColor="transparent")}},T=()=>{e(!1),i(null),c(null),m(null),A(null)},C=w=>{O.current&&!O.current.contains(w.target)&&T()},D=()=>{j.current.click()};return S?u.jsx(u.Fragment,{children:s&&u.jsx("div",{className:"background-editor-overlay",onClick:C,children:u.jsxs("div",{className:"background-editor-modal",ref:O,children:[u.jsxs("div",{className:"background-editor-modal__header",children:[u.jsx("h2",{className:"background-editor-modal__title",children:"Edit Background"}),u.jsx("button",{className:"background-editor-modal__close",onClick:T,children:"×"})]}),u.jsxs("div",{className:"background-editor-modal__body",children:[u.jsxs("div",{className:"background-editor-modal__form-group",children:[u.jsx("label",{className:"background-editor-modal__label",children:"Background Type"}),u.jsxs("select",{className:"background-editor-modal__select",value:p,onChange:w=>y(w.target.value),children:[u.jsx("option",{value:"simple",children:"Simple (scrolls with content)"}),u.jsx("option",{value:"fixed",children:"Fixed (locked when scrolling)"})]})]}),u.jsxs("div",{className:"background-editor-modal__form-group",children:[u.jsx("label",{className:"background-editor-modal__label",children:"Background Image"}),u.jsxs("div",{className:"background-editor-modal__image-upload",onClick:D,children:[h?u.jsxs("div",{className:"background-editor-modal__image-preview-container",children:[u.jsx("img",{src:h,alt:"Preview",className:"background-editor-modal__image-preview"}),u.jsx("button",{className:"background-editor-modal__image-remove",onClick:N,children:"×"})]}):u.jsx("div",{className:"background-editor-modal__image-placeholder",children:"Click to upload an image"}),u.jsx("input",{type:"file",ref:j,onChange:J,accept:"image/*",className:"background-editor-modal__file-input"})]})]})]}),u.jsxs("div",{className:"background-editor-modal__footer",children:[u.jsx("button",{className:"background-editor-modal__button background-editor-modal__button--secondary",onClick:T,children:"Cancel"}),u.jsx("button",{className:"background-editor-modal__button background-editor-modal__button--primary",onClick:L,children:"Save Changes"})]})]})})}):null},yD=()=>{const{currentLanguage:s}=Et(),[e,t]=k.useState("");return k.useEffect(()=>{t(s==="en"?"Read more":s==="no"?"Les mer":"Läs mer")},[s]),u.jsxs(u.Fragment,{children:[u.jsx(Ks,{}),u.jsxs("div",{className:"competitions-container flex flex_col MaxWH location",children:[u.jsx("div",{className:"competitions-spacer"}),u.jsxs("div",{className:"competitions-grid",children:[u.jsxs("div",{id:"competitions-card-ulricehamn",className:"competitions-card competitions-card-ulricehamn flex flex_col flex_j_SB location simple-background background-editable",children:[u.jsxs("div",{className:"trans-background competitions-header flex flex_col flex_j_C flex_a_C flex_text_C MaxWH",style:{position:"relative",zIndex:30},children:[u.jsx(U,{textKey:"competitions-ulricehamn-title",defaultText:"ULRICEHAMN",tag:"p",className:"font_blue fonts_medium_B competitions-title text-center",style:{textAlign:"center"}}),u.jsx(U,{textKey:"ulricehamn-date",defaultText:"datum insert",tag:"p",className:"font_blue fonts_medium competitions-date text-center",style:{textAlign:"center"}})]}),u.jsx("div",{className:"competitions-button-container flex flex_col flex_j_SA flex_a_C MaxWH Button",style:{position:"relative",zIndex:30},children:u.jsx(Re,{to:"/ulricehamn",className:"location button-2 competitions-button",children:u.jsx("span",{children:e})})})]}),u.jsxs("div",{id:"competitions-card-salen",className:"competitions-card competitions-card-salen flex flex_col flex_j_SB location simple-background background-editable",children:[u.jsxs("div",{className:"trans-background competitions-header flex flex_col flex_j_C flex_a_C flex_text_C MaxWH",style:{position:"relative",zIndex:30},children:[u.jsx(U,{textKey:"competitions-salen-title",defaultText:"SÄLEN",tag:"p",className:"font_blue fonts_medium_B competitions-title text-center",style:{textAlign:"center"}}),u.jsx(U,{textKey:"salen-date",defaultText:"datum insert",tag:"p",className:"font_blue fonts_medium competitions-date text-center",style:{textAlign:"center"}})]}),u.jsx("div",{className:"competitions-button-container flex flex_col flex_j_SA flex_a_C MaxWH Button",style:{position:"relative",zIndex:30},children:u.jsx(Re,{to:"/salen",className:"location button-2 competitions-button",children:u.jsx("span",{children:e})})})]})]}),u.jsxs("div",{className:"competitions-grid",children:[u.jsxs("div",{id:"competitions-card-hemsedal",className:"competitions-card competitions-card-hemsedal flex flex_col flex_j_SB location simple-background background-editable",children:[u.jsxs("div",{className:"trans-background competitions-header flex flex_col flex_j_C flex_a_C flex_text_C MaxWH",style:{position:"relative",zIndex:30},children:[u.jsx(U,{textKey:"competitions-hemsedal-title",defaultText:"HEMSEDAL",tag:"p",className:"font_blue fonts_medium_B competitions-title text-center",style:{textAlign:"center"}}),u.jsx(U,{textKey:"hemsedal-date",defaultText:"datum insert",tag:"p",className:"font_blue fonts_medium competitions-date text-center",style:{textAlign:"center"}})]}),u.jsx("div",{className:"competitions-button-container flex flex_col flex_j_SA flex_a_C MaxWH Button",style:{position:"relative",zIndex:30},children:u.jsx(Re,{to:"/hemsedal",className:"location button-2 competitions-button",children:u.jsx("span",{children:e})})})]}),u.jsxs("div",{id:"competitions-card-kolmarden",className:"competitions-card competitions-card-kolmarden flex flex_col flex_j_SB location simple-background background-editable",children:[u.jsxs("div",{className:"trans-background competitions-header flex flex_col flex_j_C flex_a_C flex_text_C MaxWH",style:{position:"relative",zIndex:30},children:[u.jsx(U,{textKey:"competitions-kolmarden-title",defaultText:"KOLMÅRDEN",tag:"p",className:"font_blue fonts_medium_B competitions-title text-center",style:{textAlign:"center"}}),u.jsx(U,{textKey:"kolmarden-date",defaultText:"datum insert",tag:"p",className:"font_blue fonts_medium competitions-date text-center",style:{textAlign:"center"}})]}),u.jsx("div",{className:"competitions-button-container flex flex_col flex_j_SA flex_a_C MaxWH Button",style:{position:"relative",zIndex:30},children:u.jsx(Re,{to:"/kolmarden",className:"location button-2 competitions-button",children:u.jsx("span",{children:e})})})]})]}),u.jsx("div",{className:"competitions-grid",children:u.jsxs("div",{id:"competitions-card-trippeln",className:"competitions-card competitions-card-trippeln flex flex_col flex_j_SB location simple-background background-editable",style:{gridColumn:"span 2"},children:[u.jsxs("div",{className:"trans-background competitions-header flex flex_col flex_j_C flex_a_C flex_text_C MaxWH",style:{position:"relative",zIndex:30},children:[u.jsx(U,{textKey:"competitions-trippeln-title",defaultText:"AIM CHALLENGE TRIPPELN",tag:"p",className:"font_blue fonts_medium_B competitions-title text-center",style:{textAlign:"center"}}),u.jsx(U,{textKey:"trippeln-description",defaultText:"Tävla i alla tre deltävlingar och bli en del av AIM Challenge Trippeln",tag:"p",className:"font_blue fonts_medium competitions-date text-center",style:{textAlign:"center"}})]}),u.jsx("div",{className:"competitions-button-container flex flex_col flex_j_SA flex_a_C MaxWH Button",style:{position:"relative",zIndex:30},children:u.jsx(Re,{to:"/trippeln",className:"location button-2 competitions-button",children:u.jsx("span",{children:e})})})]})})]})]})},_D=()=>{const{currentLanguage:s}=Et(),[e,t]=k.useState(""),[i,l]=k.useState(""),[c,h]=k.useState(""),[m,p]=k.useState(""),[y,v]=k.useState("");return k.useEffect(()=>{s==="en"?(t("Read more"),l("TAKE ME TO REGISTRATION"),h("LATEST NEWS ULRICEHAMN"),p("USEFUL LINKS"),v("LOCAL SPONSORS")):s==="no"?(t("Les mer"),l("TA MEG TIL PÅMELDING"),h("SISTE NYTT ULRICEHAMN"),p("NYTTIGE LENKER"),v("LOKALE SPONSORER")):(t("Läs mer"),l("TA MIG TILL ANMÄLAN"),h("SENASTE NYTT ULRICEHAMN"),p("NYTTIGA LÄNKAR"),v("LOKALA SPONSORER"))},[s]),u.jsxs(u.Fragment,{children:[u.jsx(Ks,{},"ulricehamn-background-editor"),u.jsxs("div",{className:"ulricehamn-container",children:[u.jsx("section",{className:"ulricehamn-hero-section",children:u.jsx("div",{className:"hero-content",children:u.jsx("div",{className:"hero-image-container background-editable",id:"ulricehamn-hero-image",children:u.jsx("img",{src:"/images/EE-AIMChallenge24-Uhamn-0171-high.jpg",alt:"Ulricehamn Event"})})})}),u.jsx("section",{className:"ulricehamn-title-section",children:u.jsxs("div",{className:"title-container",children:[u.jsx(U,{textKey:"ulricehamn-title",defaultText:"ULRICEHAMN",tag:"h1",className:"location-title"}),u.jsx(U,{textKey:"ulricehamn-date",defaultText:"10 MAJ 2025",tag:"h2",className:"location-date"})]})}),u.jsx("section",{className:"ulricehamn-button-section",children:u.jsx("div",{className:"button-container",children:u.jsx("a",{href:"https://raceid.com/sv/races/12846/about",target:"_blank",rel:"noopener noreferrer",className:"anmalan-button",children:u.jsx("p",{children:i})})})}),u.jsx("section",{className:"ulricehamn-program-section",children:u.jsx("div",{className:"program-container",children:u.jsxs("div",{className:"program-cards",children:[u.jsx("div",{className:"program-card image-card background-editable",id:"ulricehamn-program-image",children:u.jsx("img",{src:"/images/EE-AIMChallenge24-Uhamn-0171-high.jpg",alt:"Ulricehamn Event"})}),u.jsxs("div",{className:"program-card info-card",children:[u.jsx(U,{textKey:"ulricehamn-program-title",defaultText:"PROGRAM",tag:"h2",className:"program-title"}),u.jsxs("div",{className:"program-schedule",children:[u.jsxs("div",{className:"program-day",children:[u.jsx(U,{textKey:"ulricehamn-friday-title",defaultText:"Fredag 9/5",tag:"h3",className:"day-title"}),u.jsx(U,{textKey:"ulricehamn-friday-schedule",defaultText:"17:00 - 19:00 Nummerlappsutdelning på XCC",tag:"p",className:"schedule-item"})]}),u.jsxs("div",{className:"program-day",children:[u.jsx(U,{textKey:"ulricehamn-saturday-title",defaultText:"Lördag 10/5",tag:"h3",className:"day-title"}),u.jsx(U,{textKey:"ulricehamn-saturday-schedule1",defaultText:"08:30 - 10:15 Registrering för alla tävlande som ej registrerat sig under fredagen på 157 XCC, på Lassalyckan.",tag:"p",className:"schedule-item"}),u.jsx(U,{textKey:"ulricehamn-saturday-schedule2",defaultText:"10:30 Obligatoriskt informationsmöte vid starten på Lassalyckan stadion.",tag:"p",className:"schedule-item"}),u.jsx(U,{textKey:"ulricehamn-saturday-schedule3",defaultText:"11:00 Start AIM Challenge, på Lassalyckan stadion. Gemensam start för 3 & 6-timmars tävlingen.",tag:"p",className:"schedule-item"}),u.jsx(U,{textKey:"ulricehamn-saturday-schedule4",defaultText:"14:00 Målgång för 3-timmars tävlingen.",tag:"p",className:"schedule-item"}),u.jsx(U,{textKey:"ulricehamn-saturday-schedule5",defaultText:"ca 15:30 Prisutdelning 3-timmars tävlingen",tag:"p",className:"schedule-item"}),u.jsx(U,{textKey:"ulricehamn-saturday-schedule6",defaultText:"16:30 - 20:00 After AIM med mat och dryck på Hotell Lassalyckan.",tag:"p",className:"schedule-item"}),u.jsx(U,{textKey:"ulricehamn-saturday-schedule7",defaultText:"17:00 Målgång för 6-timmars tävlingen.",tag:"p",className:"schedule-item"}),u.jsx(U,{textKey:"ulricehamn-saturday-schedule8",defaultText:"19:00 Prisutdelning utanför Hotell Lassalyckan.",tag:"p",className:"schedule-item"})]})]})]})]})})}),u.jsx("section",{className:"ulricehamn-price-section",children:u.jsx("div",{className:"price-container",children:u.jsxs("div",{className:"price-image-container background-editable",id:"ulricehamn-price-image",children:[u.jsx("img",{src:"/images/EE-AIMChallenge24-Uhamn-0171-high.jpg",alt:"Climbing in Ulricehamn",className:"price-background-image"}),u.jsx("div",{className:"price-overlay",children:u.jsxs("div",{className:"price-content",children:[u.jsx(U,{textKey:"ulricehamn-price-title",defaultText:"PRIS",tag:"h2",className:"section-title"}),u.jsx(U,{textKey:"ulricehamn-price-subtitle",defaultText:"ULRICEHAMN 10/5-2025",tag:"h3",className:"price-subtitle"}),u.jsxs("div",{className:"price-categories",children:[u.jsxs("div",{className:"price-category",children:[u.jsx(U,{textKey:"ulricehamn-price-3h-title",defaultText:"3-TIMMARS",tag:"h4",className:"category-title"}),u.jsx(U,{textKey:"ulricehamn-price-3h-1",defaultText:"1500 SEK / lag för Early Bird-anmälan innan 1 november.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"ulricehamn-price-3h-2",defaultText:"1700 SEK / lag för anmälan mellan 1 november och 1 februari.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"ulricehamn-price-3h-3",defaultText:"1900 SEK / lag för anmälan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"ulricehamn-price-3h-4",defaultText:"2100 SEK / lag för anmälan från 25 april och fram till start.",tag:"p",className:"price-item"})]}),u.jsxs("div",{className:"price-category",children:[u.jsx(U,{textKey:"ulricehamn-price-6h-title",defaultText:"6-TIMMARS",tag:"h4",className:"category-title"}),u.jsx(U,{textKey:"ulricehamn-price-6h-1",defaultText:"1900 SEK / lag för Early Bird-anmälan innan 1 november.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"ulricehamn-price-6h-2",defaultText:"2100 SEK / lag för anmälan mellan 1 november och 1 februari.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"ulricehamn-price-6h-3",defaultText:"2300 SEK / lag för anmälan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"ulricehamn-price-6h-4",defaultText:"2500 SEK / lag för anmälan från 25 april och fram till start.",tag:"p",className:"price-item"})]})]}),u.jsxs("div",{className:"price-category trippeln-category",children:[u.jsx(U,{textKey:"ulricehamn-price-trippeln-title",defaultText:"AIM CHALLENGE TRIPPELN 2025",tag:"h4",className:"category-title"}),u.jsx(U,{textKey:"ulricehamn-price-trippeln-1",defaultText:"4750 SEK / lag för Early Bird-anmälan innan 1 januari.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"ulricehamn-price-trippeln-2",defaultText:"5250 SEK / lag för anmälan mellan 1 januari och 1 februari.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"ulricehamn-price-trippeln-3",defaultText:"5750 SEK / lag för anmälan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"ulricehamn-price-trippeln-4",defaultText:"6250 SEK / lag för anmälan efter den 25 april.",tag:"p",className:"price-item"})]}),u.jsx("div",{className:"price-button-container",children:u.jsx("a",{href:"https://raceid.com/sv/races/12846/about",target:"_blank",rel:"noopener noreferrer",className:"price-anmalan-button",children:u.jsx("p",{children:i})})})]})})]})})}),u.jsxs("section",{id:"latest-news",className:"latest-news-section",children:[u.jsx("h2",{className:"latest-news-title",children:c}),u.jsx("div",{style:{width:"1200px",margin:"0 auto",padding:"0 20px",boxSizing:"border-box"},children:u.jsx(Uc,{instanceId:"ulricehamn-news",defaultCategory:"Ulricehamn"})})]}),u.jsx("section",{className:"useful-links-section",children:u.jsxs("div",{className:"useful-links-container",children:[u.jsx(U,{textKey:"ulricehamn-useful-links-title",defaultText:m,tag:"h2",className:"useful-links-title"}),u.jsxs("div",{className:"links-category",children:[u.jsx(U,{textKey:"ulricehamn-links-category1-title",defaultText:"Cykeluthyrning",tag:"h3",className:"links-category-title"}),u.jsx(U,{textKey:"ulricehamn-links-category1-text",defaultText:"Cykeluthyrning med in- och utlämning på Lassalyckan Stadion. Läs mer och boka här.",tag:"p",className:"links-text"})]}),u.jsxs("div",{className:"links-category",children:[u.jsx(U,{textKey:"ulricehamn-links-category2-title",defaultText:"Boende",tag:"h3",className:"links-category-title"}),u.jsx(U,{textKey:"ulricehamn-links-category2-text",defaultText:"Önskar du att bo nära start och mål så kan vi varmt rekommendera Hotell Lassalyckan som erbjuder ett modernt boende ett stenkast ifrån starten. https://www.hotell-lassalyckan.se",tag:"p",className:"links-text"})]}),u.jsxs("div",{className:"links-category",children:[u.jsx(U,{textKey:"ulricehamn-links-category3-title",defaultText:"Mat",tag:"h3",className:"links-category-title"}),u.jsx(U,{textKey:"ulricehamn-links-category3-text",defaultText:"Önskar du att bo nära start och mål så kan vi varmt rekommendera Hotell Lassalyckan som erbjuder ett modernt boende ett stenkast ifrån starten.",tag:"p",className:"links-text"})]})]})}),u.jsxs("section",{className:"sponsors-section",children:[u.jsx(U,{textKey:"ulricehamn-sponsors-title",defaultText:y,tag:"h2",className:"sponsors-title"}),u.jsx("div",{id:"ulricehamn-sponsors",className:"sponsors-container"}),u.jsx(wp,{location:"ulricehamn",targetId:"ulricehamn-sponsors"})]})]})]})},vD=()=>{const{currentLanguage:s}=Et(),[e,t]=k.useState(""),[i,l]=k.useState(""),[c,h]=k.useState(""),[m,p]=k.useState(""),[y,v]=k.useState("");return k.useEffect(()=>{s==="en"?(t("Read more"),l("TAKE ME TO REGISTRATION"),h("LATEST NEWS SÄLEN"),p("USEFUL LINKS"),v("LOCAL SPONSORS")):s==="no"?(t("Les mer"),l("TA MEG TIL PÅMELDING"),h("SISTE NYTT SÄLEN"),p("NYTTIGE LENKER"),v("LOKALE SPONSORER")):(t("Läs mer"),l("TA MIG TILL ANMÄLAN"),h("SENASTE NYTT SÄLEN"),p("NYTTIGA LÄNKAR"),v("LOKALA SPONSORER"))},[s]),u.jsxs(u.Fragment,{children:[u.jsx(Ks,{},"salen-background-editor"),u.jsxs("div",{className:"salen-container",children:[u.jsx("section",{className:"salen-hero-section",children:u.jsx("div",{className:"hero-content",children:u.jsx("div",{className:"hero-image-container background-editable",id:"salen-hero-image",children:u.jsx("img",{src:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg",alt:"Sälen Event"})})})}),u.jsx("section",{className:"salen-title-section",children:u.jsxs("div",{className:"title-container",children:[u.jsx(U,{textKey:"salen-title",defaultText:"SÄLEN",tag:"h1",className:"location-title"}),u.jsx(U,{textKey:"salen-date",defaultText:"1 AUGUSTI 2025",tag:"h2",className:"location-date"})]})}),u.jsx("section",{className:"ulricehamn-button-section",children:u.jsx("div",{className:"button-container",children:u.jsx("a",{href:"https://raceid.com/sv/races/12846/about",target:"_blank",rel:"noopener noreferrer",className:"anmalan-button",children:u.jsx("p",{children:i})})})}),u.jsx("section",{className:"salen-program-section",children:u.jsx("div",{className:"program-container",children:u.jsxs("div",{className:"program-cards",children:[u.jsx("div",{className:"program-card image-card background-editable",id:"salen-program-image",children:u.jsx("img",{src:"/images/EE-AIMChallenge24-Uhamn-0171-high.jpg",alt:"Sälen Event"})}),u.jsxs("div",{className:"program-card info-card",children:[u.jsx(U,{textKey:"salen-program-title",defaultText:"PROGRAM",tag:"h2",className:"program-title"}),u.jsxs("div",{className:"program-schedule",children:[u.jsxs("div",{className:"program-day",children:[u.jsx(U,{textKey:"salen-friday-title",defaultText:"Fredag 9/5",tag:"h3",className:"day-title"}),u.jsx(U,{textKey:"salen-friday-schedule",defaultText:"17:00 - 19:00 Nummerlappsutdelning på XCC",tag:"p",className:"schedule-item"})]}),u.jsxs("div",{className:"program-day",children:[u.jsx(U,{textKey:"salen-saturday-title",defaultText:"Lördag 10/5",tag:"h3",className:"day-title"}),u.jsx(U,{textKey:"salen-saturday-schedule1",defaultText:"08:30 - 10:15 Registrering för alla tävlande som ej registrerat sig under fredagen på 157 XCC, på Lassalyckan.",tag:"p",className:"schedule-item"}),u.jsx(U,{textKey:"salen-saturday-schedule2",defaultText:"10:30 Obligatoriskt informationsmöte vid starten på Lassalyckan stadion.",tag:"p",className:"schedule-item"}),u.jsx(U,{textKey:"salen-saturday-schedule3",defaultText:"11:00 Start AIM Challenge, på Lassalyckan stadion. Gemensam start för 3 & 6-timmars tävlingen.",tag:"p",className:"schedule-item"}),u.jsx(U,{textKey:"salen-saturday-schedule4",defaultText:"14:00 Målgång för 3-timmars tävlingen.",tag:"p",className:"schedule-item"}),u.jsx(U,{textKey:"salen-saturday-schedule5",defaultText:"ca 15:30 Prisutdelning 3-timmars tävlingen",tag:"p",className:"schedule-item"}),u.jsx(U,{textKey:"salen-saturday-schedule6",defaultText:"16:30 - 20:00 After AIM med mat och dryck på Hotell Lassalyckan.",tag:"p",className:"schedule-item"}),u.jsx(U,{textKey:"salen-saturday-schedule7",defaultText:"17:00 Målgång för 6-timmars tävlingen.",tag:"p",className:"schedule-item"}),u.jsx(U,{textKey:"salen-saturday-schedule8",defaultText:"19:00 Prisutdelning utanför Hotell Lassalyckan.",tag:"p",className:"schedule-item"})]})]})]})]})})}),u.jsx("section",{className:"salen-price-section",children:u.jsx("div",{className:"price-container",children:u.jsxs("div",{className:"price-image-container background-editable",id:"salen-price-image",children:[u.jsx("img",{src:"/images/AIM_lindvallen_2024_AnkiGrothe_highres_34.jpg",alt:"Climbing in Lindvallen",className:"price-background-image"}),u.jsx("div",{className:"price-overlay",children:u.jsxs("div",{className:"price-content",children:[u.jsx(U,{textKey:"salen-price-title",defaultText:"PRIS",tag:"h2",className:"section-title"}),u.jsx(U,{textKey:"salen-price-subtitle",defaultText:"ULRICEHAMN 10/5-2025",tag:"h3",className:"price-subtitle"}),u.jsxs("div",{className:"price-categories",children:[u.jsxs("div",{className:"price-category",children:[u.jsx(U,{textKey:"salen-price-3h-title",defaultText:"3-TIMMARS",tag:"h4",className:"category-title"}),u.jsx(U,{textKey:"salen-price-3h-1",defaultText:"1500 SEK / lag för Early Bird-anmälan innan 1 november.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"salen-price-3h-2",defaultText:"1700 SEK / lag för anmälan mellan 1 november och 1 februari.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"salen-price-3h-3",defaultText:"1900 SEK / lag för anmälan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"salen-price-3h-4",defaultText:"2100 SEK / lag för anmälan från 25 april och fram till start.",tag:"p",className:"price-item"})]}),u.jsxs("div",{className:"price-category",children:[u.jsx(U,{textKey:"salen-price-6h-title",defaultText:"6-TIMMARS",tag:"h4",className:"category-title"}),u.jsx(U,{textKey:"salen-price-6h-1",defaultText:"1900 SEK / lag för Early Bird-anmälan innan 1 november.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"salen-price-6h-2",defaultText:"2100 SEK / lag för anmälan mellan 1 november och 1 februari.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"salen-price-6h-3",defaultText:"2300 SEK / lag för anmälan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"salen-price-6h-4",defaultText:"2500 SEK / lag för anmälan från 25 april och fram till start.",tag:"p",className:"price-item"})]})]}),u.jsxs("div",{className:"price-category trippeln-category",children:[u.jsx(U,{textKey:"salen-price-trippeln-title",defaultText:"AIM CHALLENGE TRIPPELN 2025",tag:"h4",className:"category-title"}),u.jsx(U,{textKey:"salen-price-trippeln-1",defaultText:"4750 SEK / lag för Early Bird-anmälan innan 1 januari.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"salen-price-trippeln-2",defaultText:"5250 SEK / lag för anmälan mellan 1 januari och 1 februari.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"salen-price-trippeln-3",defaultText:"5750 SEK / lag för anmälan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"salen-price-trippeln-4",defaultText:"6250 SEK / lag för anmälan efter den 25 april.",tag:"p",className:"price-item"})]}),u.jsx("div",{className:"price-button-container",children:u.jsx("a",{href:"https://raceid.com/sv/races/12846/about",target:"_blank",rel:"noopener noreferrer",className:"price-anmalan-button",children:u.jsx("p",{children:i})})})]})})]})})}),u.jsxs("section",{id:"latest-news",className:"latest-news-section",children:[u.jsx("h2",{className:"latest-news-title",children:c}),u.jsx("div",{style:{width:"1200px",margin:"0 auto",padding:"0 20px",boxSizing:"border-box"},children:u.jsx(Uc,{instanceId:"salen-news",defaultCategory:"Sälen"})})]}),u.jsx("section",{className:"useful-links-section",children:u.jsxs("div",{className:"useful-links-container",children:[u.jsx(U,{textKey:"salen-useful-links-title",defaultText:m,tag:"h2",className:"useful-links-title"}),u.jsxs("div",{className:"links-category",children:[u.jsx(U,{textKey:"salen-links-category1-title",defaultText:"Cykeluthyrning",tag:"h3",className:"links-category-title"}),u.jsx(U,{textKey:"salen-links-category1-text",defaultText:"Cykeluthyrning med in- och utlämning på Lassalyckan Stadion. Läs mer och boka här.",tag:"p",className:"links-text"})]}),u.jsxs("div",{className:"links-category",children:[u.jsx(U,{textKey:"salen-links-category2-title",defaultText:"Boende",tag:"h3",className:"links-category-title"}),u.jsx(U,{textKey:"salen-links-category2-text",defaultText:"Önskar du att bo nära start och mål så kan vi varmt rekommendera Hotell Lassalyckan som erbjuder ett modernt boende ett stenkast ifrån starten. https://www.hotell-lassalyckan.se",tag:"p",className:"links-text"})]}),u.jsxs("div",{className:"links-category",children:[u.jsx(U,{textKey:"salen-links-category3-title",defaultText:"Mat",tag:"h3",className:"links-category-title"}),u.jsx(U,{textKey:"salen-links-category3-text",defaultText:"Önskar du att bo nära start och mål så kan vi varmt rekommendera Hotell Lassalyckan som erbjuder ett modernt boende ett stenkast ifrån starten.",tag:"p",className:"links-text"})]})]})}),u.jsxs("section",{className:"sponsors-section",children:[u.jsx("h2",{className:"sponsors-title",children:y}),u.jsx("div",{className:"sponsors-container"})]})]})]})},xD=()=>{const{currentLanguage:s}=Et(),[e,t]=k.useState("");return k.useEffect(()=>{t(s==="en"?"Read more":s==="no"?"Les mer":"Läs mer")},[s]),u.jsxs(u.Fragment,{children:[u.jsx(Ks,{},"hemsedal-background-editor"),u.jsxs("div",{className:"hemsedal-container",children:[u.jsx("section",{className:"hemsedal-hero-section",children:u.jsx("div",{className:"hero-content",children:u.jsx("div",{className:"hero-image-container background-editable",id:"hemsedal-hero-image",children:u.jsx("img",{src:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_025.jpg",alt:"Hemsedal Event"})})})}),u.jsx("section",{className:"hemsedal-title-section",children:u.jsxs("div",{className:"title-container",children:[u.jsx(U,{textKey:"hemsedal-title",defaultText:"HEMSEDAL",tag:"h1",className:"location-title"}),u.jsx(U,{textKey:"hemsedal-date",defaultText:"10 MAJ 2025",tag:"h2",className:"location-date"})]})}),u.jsx("section",{className:"hemsedal-button-section",children:u.jsx("div",{className:"button-container",children:u.jsx("a",{href:"https://raceid.com/sv/races/13015/about",target:"_blank",rel:"noopener noreferrer",className:"anmalan-button",children:u.jsx("p",{children:"TA MIG TILL ANMÄLAN"})})})}),u.jsx("section",{className:"hemsedal-program-section",children:u.jsx("div",{className:"program-container",children:u.jsxs("div",{className:"program-cards",children:[u.jsx("div",{className:"program-card image-card background-editable",id:"hemsedal-program-image",children:u.jsx("img",{src:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_025.jpg",alt:"Hemsedal Event"})}),u.jsxs("div",{className:"program-card info-card",children:[u.jsx(U,{textKey:"hemsedal-program-title",defaultText:"PROGRAM",tag:"h2",className:"program-title"}),u.jsxs("div",{className:"program-schedule",children:[u.jsxs("div",{className:"program-day",children:[u.jsx(U,{textKey:"hemsedal-friday-title",defaultText:"Fredag 9/5",tag:"h3",className:"day-title"}),u.jsx(U,{textKey:"hemsedal-friday-schedule",defaultText:"17:00 - 19:00 Nummerlappsutdelning på XCC",tag:"p",className:"schedule-item"})]}),u.jsxs("div",{className:"program-day",children:[u.jsx(U,{textKey:"hemsedal-saturday-title",defaultText:"Lördag 10/5",tag:"h3",className:"day-title"}),u.jsx(U,{textKey:"hemsedal-saturday-schedule1",defaultText:"08:30 - 10:15 Registrering för alla tävlande som ej registrerat sig under fredagen på 157 XCC, på Lassalyckan.",tag:"p",className:"schedule-item"}),u.jsx(U,{textKey:"hemsedal-saturday-schedule2",defaultText:"10:30 Obligatoriskt informationsmöte vid starten på Lassalyckan stadion.",tag:"p",className:"schedule-item"}),u.jsx(U,{textKey:"hemsedal-saturday-schedule3",defaultText:"11:00 Start AIM Challenge, på Lassalyckan stadion. Gemensam start för 3 & 6-timmars tävlingen.",tag:"p",className:"schedule-item"}),u.jsx(U,{textKey:"hemsedal-saturday-schedule4",defaultText:"14:00 Målgång för 3-timmars tävlingen.",tag:"p",className:"schedule-item"}),u.jsx(U,{textKey:"hemsedal-saturday-schedule5",defaultText:"ca 15:30 Prisutdelning 3-timmars tävlingen",tag:"p",className:"schedule-item"}),u.jsx(U,{textKey:"hemsedal-saturday-schedule6",defaultText:"16:30 - 20:00 After AIM med mat och dryck på Hotell Lassalyckan.",tag:"p",className:"schedule-item"}),u.jsx(U,{textKey:"hemsedal-saturday-schedule7",defaultText:"17:00 Målgång för 6-timmars tävlingen.",tag:"p",className:"schedule-item"}),u.jsx(U,{textKey:"hemsedal-saturday-schedule8",defaultText:"19:00 Prisutdelning utanför Hotell Lassalyckan.",tag:"p",className:"schedule-item"})]})]})]})]})})}),u.jsx("section",{className:"hemsedal-price-section",children:u.jsx("div",{className:"price-container",children:u.jsxs("div",{className:"price-image-container background-editable",id:"hemsedal-price-image",children:[u.jsx("img",{src:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_094.jpg",alt:"Climbing in Hemsedal",className:"price-background-image"}),u.jsx("div",{className:"price-overlay",children:u.jsxs("div",{className:"price-content",children:[u.jsx(U,{textKey:"hemsedal-price-title",defaultText:"PRIS",tag:"h2",className:"section-title"}),u.jsx(U,{textKey:"hemsedal-price-subtitle",defaultText:"HEMSEDAL 24/8-2024",tag:"h3",className:"price-subtitle"}),u.jsxs("div",{className:"price-categories",children:[u.jsxs("div",{className:"price-category",children:[u.jsx(U,{textKey:"hemsedal-price-3h-title",defaultText:"3-TIMMARS",tag:"h4",className:"category-title"}),u.jsx(U,{textKey:"hemsedal-price-3h-1",defaultText:"1500 SEK / lag för Early Bird-anmälan innan 1 november.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"hemsedal-price-3h-2",defaultText:"1700 SEK / lag för anmälan mellan 1 november och 1 februari.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"hemsedal-price-3h-3",defaultText:"1900 SEK / lag för anmälan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"hemsedal-price-3h-4",defaultText:"2100 SEK / lag för anmälan från 25 april och fram till start.",tag:"p",className:"price-item"})]}),u.jsxs("div",{className:"price-category",children:[u.jsx(U,{textKey:"hemsedal-price-6h-title",defaultText:"6-TIMMARS",tag:"h4",className:"category-title"}),u.jsx(U,{textKey:"hemsedal-price-6h-1",defaultText:"1900 SEK / lag för Early Bird-anmälan innan 1 november.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"hemsedal-price-6h-2",defaultText:"2100 SEK / lag för anmälan mellan 1 november och 1 februari.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"hemsedal-price-6h-3",defaultText:"2300 SEK / lag för anmälan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"hemsedal-price-6h-4",defaultText:"2500 SEK / lag för anmälan från 25 april och fram till start.",tag:"p",className:"price-item"})]})]}),u.jsxs("div",{className:"price-category trippeln-category",children:[u.jsx(U,{textKey:"hemsedal-price-trippeln-title",defaultText:"AIM CHALLENGE TRIPPELN 2025",tag:"h4",className:"category-title"}),u.jsx(U,{textKey:"hemsedal-price-trippeln-1",defaultText:"4750 SEK / lag för Early Bird-anmälan innan 1 januari.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"hemsedal-price-trippeln-2",defaultText:"5250 SEK / lag för anmälan mellan 1 januari och 1 februari.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"hemsedal-price-trippeln-3",defaultText:"5750 SEK / lag för anmälan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"hemsedal-price-trippeln-4",defaultText:"6250 SEK / lag för anmälan efter den 25 april.",tag:"p",className:"price-item"})]}),u.jsx("div",{className:"price-button-container",children:u.jsx("a",{href:"https://raceid.com/sv/races/13015/about",target:"_blank",rel:"noopener noreferrer",className:"price-anmalan-button",children:u.jsx("p",{children:"TA MIG TILL ANMÄLAN"})})})]})})]})})}),u.jsxs("section",{id:"latest-news",className:"latest-news-section",children:[u.jsx("h2",{className:"latest-news-title",children:"SENASTE NYTT HEMSEDAL"}),u.jsx("div",{style:{width:"1200px",margin:"0 auto",padding:"0 20px",boxSizing:"border-box"},children:u.jsx(Uc,{instanceId:"hemsedal-news",defaultCategory:"Hemsedal"})})]}),u.jsx("section",{className:"useful-links-section",children:u.jsxs("div",{className:"useful-links-container",children:[u.jsx(U,{textKey:"hemsedal-useful-links-title",defaultText:"NYTTIGA LÄNKAR",tag:"h2",className:"useful-links-title"}),u.jsxs("div",{className:"links-category",children:[u.jsx(U,{textKey:"hemsedal-links-category1-title",defaultText:"Cykeluthyrning",tag:"h3",className:"links-category-title"}),u.jsx(U,{textKey:"hemsedal-links-category1-text",defaultText:"Cykeluthyrning med in- och utlämning på Lassalyckan Stadion. Läs mer och boka här.",tag:"p",className:"links-text"})]}),u.jsxs("div",{className:"links-category",children:[u.jsx(U,{textKey:"hemsedal-links-category2-title",defaultText:"Boende",tag:"h3",className:"links-category-title"}),u.jsx(U,{textKey:"hemsedal-links-category2-text",defaultText:"Önskar du att bo nära start och mål så kan vi varmt rekommendera Hotell Lassalyckan som erbjuder ett modernt boende ett stenkast ifrån starten. https://www.hotell-lassalyckan.se",tag:"p",className:"links-text"})]}),u.jsxs("div",{className:"links-category",children:[u.jsx(U,{textKey:"hemsedal-links-category3-title",defaultText:"Mat",tag:"h3",className:"links-category-title"}),u.jsx(U,{textKey:"hemsedal-links-category3-text",defaultText:"Önskar du att bo nära start och mål så kan vi varmt rekommendera Hotell Lassalyckan som erbjuder ett modernt boende ett stenkast ifrån starten.",tag:"p",className:"links-text"})]})]})}),u.jsxs("section",{className:"sponsors-section",children:[u.jsx("h2",{className:"sponsors-title",children:"LOKALA SPONSORER"}),u.jsx("div",{className:"sponsors-container"})]})]})]})},ED=()=>{const{currentLanguage:s}=Et(),[e,t]=k.useState(""),[i,l]=k.useState(""),[c,h]=k.useState(""),[m,p]=k.useState(""),[y,v]=k.useState("");return k.useEffect(()=>{s==="en"?(t("Read more"),l("TAKE ME TO REGISTRATION"),h("LATEST NEWS KOLMÅRDEN"),p("USEFUL LINKS"),v("LOCAL SPONSORS")):s==="no"?(t("Les mer"),l("TA MEG TIL PÅMELDING"),h("SISTE NYTT KOLMÅRDEN"),p("NYTTIGE LENKER"),v("LOKALE SPONSORER")):(t("Läs mer"),l("TA MIG TILL ANMÄLAN"),h("SENASTE NYTT KOLMÅRDEN"),p("NYTTIGA LÄNKAR"),v("LOKALA SPONSORER"))},[s]),u.jsxs(u.Fragment,{children:[u.jsx(Ks,{},"kolmarden-background-editor"),u.jsxs("div",{className:"kolmarden-container",children:[u.jsx("section",{className:"kolmarden-hero-section",children:u.jsx("div",{className:"hero-content",children:u.jsx("div",{className:"hero-image-container background-editable",id:"kolmarden-hero-image",children:u.jsx("img",{src:"/images/Kolmarden_1.jpg",alt:"Kolmarden Event"})})})}),u.jsx("section",{className:"kolmarden-title-section",children:u.jsxs("div",{className:"title-container",children:[u.jsx(U,{textKey:"kolmarden-title",defaultText:"KOLMÅRDEN",tag:"h1",className:"location-title"}),u.jsx(U,{textKey:"kolmarden-date",defaultText:"10 MAJ 2025",tag:"h2",className:"location-date"})]})}),u.jsx("section",{className:"kolmarden-button-section",children:u.jsx("div",{className:"button-container",children:u.jsx("a",{href:"https://raceid.com/sv/races/12846/about",target:"_blank",rel:"noopener noreferrer",className:"anmalan-button",children:u.jsx("p",{children:i})})})}),u.jsx("section",{className:"kolmarden-program-section",children:u.jsx("div",{className:"program-container",children:u.jsxs("div",{className:"program-cards",children:[u.jsx("div",{className:"program-card image-card background-editable",id:"kolmarden-program-image",children:u.jsx("img",{src:"/images/Kolmarden_2.jpg",alt:"Kolmarden Event"})}),u.jsxs("div",{className:"program-card info-card",children:[u.jsx(U,{textKey:"kolmarden-program-title",defaultText:"PROGRAM",tag:"h2",className:"program-title"}),u.jsxs("div",{className:"program-schedule",children:[u.jsxs("div",{className:"program-day",children:[u.jsx(U,{textKey:"kolmarden-friday-title",defaultText:"Fredag 9/5",tag:"h3",className:"day-title"}),u.jsx(U,{textKey:"kolmarden-friday-schedule",defaultText:"17:00 - 19:00 Nummerlappsutdelning på XCC",tag:"p",className:"schedule-item"})]}),u.jsxs("div",{className:"program-day",children:[u.jsx(U,{textKey:"kolmarden-saturday-title",defaultText:"Lördag 10/5",tag:"h3",className:"day-title"}),u.jsx(U,{textKey:"kolmarden-saturday-schedule1",defaultText:"08:30 - 10:15 Registrering för alla tävlande som ej registrerat sig under fredagen på 157 XCC, på Lassalyckan.",tag:"p",className:"schedule-item"}),u.jsx(U,{textKey:"kolmarden-saturday-schedule2",defaultText:"10:30 Obligatoriskt informationsmöte vid starten på Lassalyckan stadion.",tag:"p",className:"schedule-item"}),u.jsx(U,{textKey:"kolmarden-saturday-schedule3",defaultText:"11:00 Start AIM Challenge, på Lassalyckan stadion. Gemensam start för 3 & 6-timmars tävlingen.",tag:"p",className:"schedule-item"}),u.jsx(U,{textKey:"kolmarden-saturday-schedule4",defaultText:"14:00 Målgång för 3-timmars tävlingen.",tag:"p",className:"schedule-item"}),u.jsx(U,{textKey:"kolmarden-saturday-schedule5",defaultText:"ca 15:30 Prisutdelning 3-timmars tävlingen",tag:"p",className:"schedule-item"}),u.jsx(U,{textKey:"kolmarden-saturday-schedule6",defaultText:"16:30 - 20:00 After AIM med mat och dryck på Hotell Lassalyckan.",tag:"p",className:"schedule-item"}),u.jsx(U,{textKey:"kolmarden-saturday-schedule7",defaultText:"17:00 Målgång för 6-timmars tävlingen.",tag:"p",className:"schedule-item"}),u.jsx(U,{textKey:"kolmarden-saturday-schedule8",defaultText:"19:00 Prisutdelning utanför Hotell Lassalyckan.",tag:"p",className:"schedule-item"})]})]})]})]})})}),u.jsx("section",{className:"kolmarden-price-section",children:u.jsx("div",{className:"price-container",children:u.jsxs("div",{className:"price-image-container background-editable",id:"kolmarden-price-image",children:[u.jsx("img",{src:"/images/Kolmarden_1.jpg",alt:"Climbing in Kolmarden",className:"price-background-image"}),u.jsx("div",{className:"price-overlay",children:u.jsxs("div",{className:"price-content",children:[u.jsx(U,{textKey:"kolmarden-price-title",defaultText:"PRIS",tag:"h2",className:"section-title"}),u.jsx(U,{textKey:"kolmarden-price-subtitle",defaultText:"KOLMADERN 10/5-2025",tag:"h3",className:"price-subtitle"}),u.jsxs("div",{className:"price-categories",children:[u.jsxs("div",{className:"price-category",children:[u.jsx(U,{textKey:"kolmarden-price-3h-title",defaultText:"3-TIMMARS",tag:"h4",className:"category-title"}),u.jsx(U,{textKey:"kolmarden-price-3h-1",defaultText:"1500 SEK / lag för Early Bird-anmälan innan 1 november.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"kolmarden-price-3h-2",defaultText:"1700 SEK / lag för anmälan mellan 1 november och 1 februari.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"kolmarden-price-3h-3",defaultText:"1900 SEK / lag för anmälan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"kolmarden-price-3h-4",defaultText:"2100 SEK / lag för anmälan från 25 april och fram till start.",tag:"p",className:"price-item"})]}),u.jsxs("div",{className:"price-category",children:[u.jsx(U,{textKey:"kolmarden-price-6h-title",defaultText:"6-TIMMARS",tag:"h4",className:"category-title"}),u.jsx(U,{textKey:"kolmarden-price-6h-1",defaultText:"1900 SEK / lag för Early Bird-anmälan innan 1 november.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"kolmarden-price-6h-2",defaultText:"2100 SEK / lag för anmälan mellan 1 november och 1 februari.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"kolmarden-price-6h-3",defaultText:"2300 SEK / lag för anmälan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"kolmarden-price-6h-4",defaultText:"2500 SEK / lag för anmälan från 25 april och fram till start.",tag:"p",className:"price-item"})]})]}),u.jsxs("div",{className:"price-category trippeln-category",children:[u.jsx(U,{textKey:"kolmarden-price-trippeln-title",defaultText:"AIM CHALLENGE TRIPPELN 2025",tag:"h4",className:"category-title"}),u.jsx(U,{textKey:"kolmarden-price-trippeln-1",defaultText:"4750 SEK / lag för Early Bird-anmälan innan 1 januari.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"kolmarden-price-trippeln-2",defaultText:"5250 SEK / lag för anmälan mellan 1 januari och 1 februari.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"kolmarden-price-trippeln-3",defaultText:"5750 SEK / lag för anmälan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"kolmarden-price-trippeln-4",defaultText:"6250 SEK / lag för anmälan efter den 25 april.",tag:"p",className:"price-item"})]}),u.jsx("div",{className:"price-button-container",children:u.jsx("a",{href:"https://raceid.com/sv/races/12846/about",target:"_blank",rel:"noopener noreferrer",className:"price-anmalan-button",children:u.jsx("p",{children:i})})})]})})]})})}),u.jsxs("section",{id:"latest-news",className:"latest-news-section",children:[u.jsx("h2",{className:"latest-news-title",children:c}),u.jsx("div",{style:{width:"1200px",margin:"0 auto",padding:"0 20px",boxSizing:"border-box"},children:u.jsx(Uc,{instanceId:"kolmarden-news",defaultCategory:"Kolmården"})})]}),u.jsx("section",{className:"useful-links-section",children:u.jsxs("div",{className:"useful-links-container",children:[u.jsx(U,{textKey:"kolmarden-useful-links-title",defaultText:m,tag:"h2",className:"useful-links-title"}),u.jsxs("div",{className:"links-category",children:[u.jsx(U,{textKey:"kolmarden-links-category1-title",defaultText:"Cykeluthyrning",tag:"h3",className:"links-category-title"}),u.jsx(U,{textKey:"kolmarden-links-category1-text",defaultText:"Cykeluthyrning med in- och utlämning på Lassalyckan Stadion. Läs mer och boka här.",tag:"p",className:"links-text"})]}),u.jsxs("div",{className:"links-category",children:[u.jsx(U,{textKey:"kolmarden-links-category2-title",defaultText:"Boende",tag:"h3",className:"links-category-title"}),u.jsx(U,{textKey:"kolmarden-links-category2-text",defaultText:"Önskar du att bo nära start och mål så kan vi varmt rekommendera Hotell Lassalyckan som erbjuder ett modernt boende ett stenkast ifrån starten. https://www.hotell-lassalyckan.se",tag:"p",className:"links-text"})]}),u.jsxs("div",{className:"links-category",children:[u.jsx(U,{textKey:"kolmarden-links-category3-title",defaultText:"Mat",tag:"h3",className:"links-category-title"}),u.jsx(U,{textKey:"kolmarden-links-category3-text",defaultText:"Önskar du att bo nära start och mål så kan vi varmt rekommendera Hotell Lassalyckan som erbjuder ett modernt boende ett stenkast ifrån starten.",tag:"p",className:"links-text"})]})]})}),u.jsxs("section",{className:"sponsors-section",children:[u.jsx(U,{textKey:"kolmarden-sponsors-title",defaultText:y,tag:"h2",className:"sponsors-title"}),u.jsx("div",{id:"kolmarden-sponsors",className:"sponsors-container"}),u.jsx(wp,{location:"kolmarden",targetId:"kolmarden-sponsors"})]})]})]})},bD=()=>u.jsxs(u.Fragment,{children:[u.jsx(Ks,{},"trippeln-background-editor"),u.jsxs("div",{className:"trippeln-container",children:[u.jsx("section",{className:"trippeln-hero-section",children:u.jsx("div",{className:"hero-content",children:u.jsx("div",{className:"hero-image-container background-editable",id:"trippeln-hero-image",children:u.jsx("img",{src:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_057.jpg",alt:"Trippeln Hero"})})})}),u.jsx("section",{className:"trippeln-title-section",children:u.jsx("div",{className:"title-container",children:u.jsx(U,{textKey:"trippeln-title",defaultText:"AIM CHALLENGE TRIPPELN",tag:"h1",className:"location-title"})})}),u.jsx("section",{className:"trippeln-content-section",children:u.jsx("div",{className:"trippeln-content-container",children:u.jsxs("div",{className:"trippeln-content",children:[u.jsx(U,{textKey:"trippeln-text-1",defaultText:"Trippeln är en tävling i tävlingen där de som deltar i minst tre av årets deltävlingar är med och tävlar om den mycket hedervärda titeln Vinnare av AIM Challenge Trippeln!",tag:"p",className:"trippeln-text"}),u.jsx(U,{textKey:"trippeln-text-2",defaultText:"AIM Challenge Trippeln ersätter Landskampen som sedan 2010 har varit en tävling i tävlingen för de som genomfört AIM Challenge både i Lindvallen och Hemsedal. En tävling där det tävlats för antingen Sverige eller Norge, där det vinnande landet har hyllats och den som bidragit mest till sitt land har prisats.",tag:"p",className:"trippeln-text"}),u.jsx(U,{textKey:"trippeln-text-3",defaultText:"Med AIM Challenge Trippeln lägger vi ner stridsyxan mellan Sverige och Norge och gör det därmed möjligt att även köra mixade lag mellan olika nationer utan att detta skapar en konflikt.",tag:"p",className:"trippeln-text"}),u.jsx(U,{textKey:"trippeln-subheading",defaultText:"Hur går AIM Challenge Trippeln till:",tag:"h2",className:"trippeln-subheading"}),u.jsx(U,{textKey:"trippeln-text-4",defaultText:"AIM Challenge Trippeln är en tävling i tävlingen för de lag som deltar på minst tre deltävlingar under ett och samma år. Tävlingarna som ingår är Ulricehamn, Sälen, Hemsedal och Kolmården. Det är fritt för laget att välja om ni önskar att delta i 3- eller 6-timmars tävlingen i Ulricehamn och Kolmården, båda anses att vara likvärdiga för Trippeln.",tag:"p",className:"trippeln-text"}),u.jsx(U,{textKey:"trippeln-text-5",defaultText:"Vid anmälan till Trippeln blir man per automatik anmäld till alla fyra deltävlingar och väljer själv om man vill delta i tre eller fyra tävlingar. Priset för att anmäla sig till trippeln är rabatterat och blir billigare redan vid start i tre deltävlingar. Skulle ett lag delta i alla fyra deltävlingarna så räknas de tre bästa resultaten till Trippeln.",tag:"p",className:"trippeln-text"}),u.jsx(U,{textKey:"trippeln-text-6",defaultText:"Det gäller att samla så många poäng som möjligt under årets tävlingar där varje lag får räkna in sina tre bästa resultat från det gångna året. Vinnaren av AIM Challenge Trippeln kommer att utses genom ett poängsystem som bygger på hur många poäng laget fått procentuellt i förhållande till vinnarlaget i respektive deltävling. Varje lag kommer då få en poängsumma mellan 1 och 100 per tävling och efter alla deltävlingarna kommer dessa poäng att adderas och det lag med högst sammanlagda poäng kommer att stå på prispallen! Skulle två lag få samma sammanlagda poäng så kommer vi se på placeringar i de enskilda loppen för att utse en vinnare.",tag:"p",className:"trippeln-text"}),u.jsx(U,{textKey:"trippeln-text-7",defaultText:"Vid anmälan till AIM Challenge Trippeln så anmäler sig laget till alla fyra deltävlingarna, varav minst tre måste genomföras för att få ett resultat i Trippeln. Ett lag består av två personer, men om någon i laget skulle få förhinder inför någon av tävlingarna så gäller följande: För att resultatet i Trippeln skall bli godkänt så måste minst en i laget delta i alla tre tävlingarna, samt att deltagare 2 deltar vid minst två deltävlingar. Det vill säga att det är möjligt att ta in en reserv under en av deltävlingarna och fortfarande tävla som lag om den hedervärda titeln! I det fall deltagare 1 tävlat med tre olika lagkompisar under året är det enbart den som deltagit vid alla tre tävlingarna som kommer att premieras.",tag:"p",className:"trippeln-text"}),u.jsx(U,{textKey:"trippeln-text-8",defaultText:"Det är inte möjligt att sälja sin startplats i Trippeln vidare för den tävling som laget eventuellt inte deltar i.",tag:"p",className:"trippeln-text"})]})})}),u.jsx("section",{className:"trippeln-cta-section",children:u.jsx("div",{className:"cta-container",children:u.jsx("a",{href:"https://raceid.com/sv/races/13016/about",target:"_blank",rel:"noopener noreferrer",className:"trippeln-cta-button",children:"TA MIG TILL ANMÄLAN"})})}),u.jsx("div",{className:"locked-background background-editable",id:"trippeln-background-image"})]})]}),TD=({onClose:s,onUploadSuccess:e,years:t=["2023","2022","2021","2020","2019","2018","2017","2016","2015"],categories:i=["Herrar","Damer","Mixed"],durations:l=["3 timmar","6 timmar","12 timmar","24 timmar"],locations:c=["Ulricehamn","Borås","Göteborg","Jönköping","Stockholm"],year:h})=>{const{currentUser:m}=ys(),[p,y]=k.useState("Ulricehamn"),[v,A]=k.useState(h||"2023"),[S,j]=k.useState("Herrar"),[O,V]=k.useState("3 timmar"),[B,F]=k.useState(null),[G,$]=k.useState(""),[J,se]=k.useState(!1),le=N=>{const b=N.target.files[0];b&&(F(b),$(""))},L=async N=>{if(N.preventDefault(),!B){$("Please select a file to upload");return}se(!0),$("");try{const b=es(ts,`results/${B.name}`),T=await kr(b,B),C=`https://firebasestorage.googleapis.com/v0/b/${T.ref.bucket}/o/${encodeURIComponent(T.ref.fullPath)}?alt=media`,D={year:parseInt(v),location:p,category:S,duration:O,fileName:B.name,fileUrl:C,uploadedAt:new Date().toISOString(),uploadedBy:m.uid},w=`${v}_${p}_${S}_${Date.now()}`;await fs(_t(Ze,"results",w),{...D,id:w}),F(null),e({...D,id:w}),s()}catch(b){console.error("Upload failed:",b),$("Upload failed: "+b.message)}finally{se(!1)}};return u.jsx("div",{className:"result-upload-modal-overlay",children:u.jsxs("div",{className:"result-upload-modal",children:[u.jsxs("div",{className:"result-upload-modal-header",children:[u.jsx("h2",{children:"Ladda upp resultat"}),u.jsx("button",{className:"result-upload-modal-close",onClick:s,children:"×"})]}),u.jsx("div",{className:"result-upload-modal-body",children:u.jsxs("form",{className:"result-upload-modal-form",onSubmit:L,children:[u.jsxs("div",{className:"result-upload-modal-field",children:[u.jsx("label",{children:"Plats"}),u.jsx("select",{className:"result-upload-modal-select",value:p,onChange:N=>y(N.target.value),children:c.map((N,b)=>u.jsx("option",{value:N,children:N},b))})]}),u.jsxs("div",{className:"result-upload-modal-field",children:[u.jsx("label",{children:"År"}),u.jsx("select",{className:"result-upload-modal-select",value:v,onChange:N=>A(N.target.value),children:t.map((N,b)=>u.jsx("option",{value:N,children:N},b))})]}),u.jsxs("div",{className:"result-upload-modal-field",children:[u.jsx("label",{children:"Kategori"}),u.jsx("select",{className:"result-upload-modal-select",value:S,onChange:N=>j(N.target.value),children:i.map((N,b)=>u.jsx("option",{value:N,children:N},b))})]}),u.jsxs("div",{className:"result-upload-modal-field",children:[u.jsx("label",{children:"Distans"}),u.jsx("select",{className:"result-upload-modal-select",value:O,onChange:N=>V(N.target.value),children:l.map((N,b)=>u.jsx("option",{value:N,children:N},b))})]}),u.jsxs("div",{className:"result-upload-modal-field",children:[u.jsx("label",{children:"Fil"}),u.jsx("input",{type:"file",className:"result-upload-modal-file-input",onChange:le,accept:".txt,.pdf,.doc,.docx,.xls,.xlsx"})]}),G&&u.jsx("div",{className:"result-upload-modal-error",children:G}),u.jsxs("div",{className:"result-upload-modal-actions",children:[u.jsx("button",{type:"button",className:"result-upload-modal-cancel",onClick:s,disabled:J,children:"Avbryt"}),u.jsx("button",{type:"submit",className:"result-upload-modal-submit",disabled:J||!B,children:J?"Laddar upp...":"Ladda upp"})]})]})})]})})},AD=nn(Ze,"results"),SD=async(s={})=>{try{let e=hr(AD);s.year&&(e=hr(e,hd("year","==",parseInt(s.year)))),s.category&&(e=hr(e,hd("category","==",s.category))),s.duration&&(e=hr(e,hd("duration","==",s.duration))),s.location&&(e=hr(e,hd("location","==",s.location)));const t=await Jn(e),i=[];return t.forEach(l=>{const c=l.data();i.push({id:l.id,...c,year:parseInt(c.year)})}),console.log("Firebase results:",i),i}catch(e){throw console.error("Error getting results:",e),e}},wD=async(s,e)=>{try{if(await jc(_t(Ze,"results",s)),e){const t=es(ts,e);await Dc(t)}}catch(t){throw console.error("Error deleting result:",t),t}},ND=()=>{const{currentUser:s}=ys(),[e,t]=k.useState("all"),[i,l]=k.useState("all"),[c,h]=k.useState("all"),[m,p]=k.useState([]),[y,v]=k.useState(!0),[A,S]=k.useState(!1),[j,O]=k.useState(""),V=(s==null?void 0:s.role)==="admin",B=[2025,2024,2023,2022,2021,2020,2019,2018],F=["Herrar","Damer","Mixed"],G=["3 timmar","6 timmar"],$=["Ulricehamn","Sälen","Hemsedal","Kolmården"];k.useEffect(()=>{console.log("Fetching results..."),J()},[]);const J=async()=>{try{v(!0),O(""),console.log("Getting results from Firebase...");const T=await SD({});console.log("Got results:",T),p(T||[])}catch(T){console.error("Error fetching results:",T),O("Failed to load results. Please try again later.")}finally{v(!1)}},se=async T=>{if(window.confirm("Är du säker på att du vill ta bort detta resultat?"))try{v(!0);const C=m.find(w=>w.id===T);await wD(T,C.fileUrl);const D=m.filter(w=>w.id!==T);p(D)}catch(C){console.error("Error deleting result:",C),O("Failed to delete result. Please try again.")}finally{v(!1)}},le=()=>{S(!0)},L=()=>{S(!1)},N=T=>{console.log("New result:",T),p(C=>[T,...C]),L()},b=T=>{let C=[...m];return e!=="all"&&(C=C.filter(D=>D.year===parseInt(e))),i!=="all"&&(C=C.filter(D=>D.category===i)),c!=="all"&&(C=C.filter(D=>D.duration===c)),C=C.filter(D=>D.location===T),console.log("Filtered results for",T,":",C),C};return u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"results-header-banner"}),u.jsxs("div",{className:"results-container",children:[u.jsx(U,{textKey:"results-header-title",defaultText:"Multisport för alla",tag:"h1",className:"results-header-title"}),u.jsxs("section",{className:"results-filters-section",children:[u.jsxs("div",{className:"results-filters",children:[u.jsxs("select",{value:e,onChange:T=>t(T.target.value),className:"results-filter-select",children:[u.jsx("option",{value:"all",children:"Alla År"}),B.map(T=>u.jsx("option",{value:T,children:T},T))]}),u.jsxs("select",{value:i,onChange:T=>l(T.target.value),className:"results-filter-select",children:[u.jsx("option",{value:"all",children:"Alla Kategorier"}),F.map(T=>u.jsx("option",{value:T,children:T},T))]}),u.jsxs("select",{value:c,onChange:T=>h(T.target.value),className:"results-filter-select",children:[u.jsx("option",{value:"all",children:"Alla Distanser"}),G.map(T=>u.jsx("option",{value:T,children:T},T))]})]}),u.jsx("div",{className:"results-upload-section",children:V&&u.jsx("button",{onClick:le,className:"upload-result-button",children:"Ladda upp resultat"})})]}),j&&u.jsx("div",{className:"results-error",children:j}),u.jsx("section",{className:"results-content-section",children:u.jsx("div",{className:"results-grid",children:$.map(T=>u.jsxs("div",{className:"results-location-card",children:[u.jsx("h2",{className:"results-location-title",children:T}),u.jsx("div",{className:"results-list",children:y?u.jsx("div",{className:"results-loading",children:"Laddar..."}):b(T).map(C=>u.jsxs("div",{className:"results-item",children:[u.jsx("a",{href:C.fileUrl,target:"_blank",rel:"noopener noreferrer",className:"results-link",children:u.jsxs("div",{className:"results-info",children:[u.jsx("span",{className:"results-year",children:C.year}),u.jsx("span",{className:"results-category",children:C.category}),u.jsx("span",{className:"results-duration",children:C.duration})]})}),V&&u.jsx("button",{onClick:()=>se(C.id),className:"results-delete-button",children:"Ta bort"})]},C.id))})]},T))})}),A&&u.jsx(TD,{onClose:L,onUploadSuccess:N,isAdmin:V,locations:$,years:B,categories:F,durations:G})]})]})},RD=()=>{const[s,e]=k.useState(null),[t,i]=k.useState([]),[l,c]=k.useState(1),h=8,[m,p]=k.useState({}),y=k.useMemo(()=>["/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_025.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_057.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_065.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_094.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_113.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_138.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_150.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_202.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_209.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_213.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_235.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_246.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_265.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_352.jpg","/AimRV/images/EE-AIMChallenge24-Uhamn-0132-high.jpg","/AimRV/images/EE-AIMChallenge24-Uhamn-0136-high.jpg","/AimRV/images/EE-AIMChallenge24-Uhamn-0171-high.jpg","/AimRV/images/EE-AIMChallenge24-Uhamn-0405-high.jpg","/AimRV/images/Kolmarden_1.jpg","/AimRV/images/Kolmarden_2.jpg"],[]),v=k.useCallback(()=>{const O=(l-1)*h,V=l*h,B=y.slice(O,V);i(F=>[...F,...B]),c(F=>F+1)},[l,y,h]);k.useEffect(()=>{v()},[v]),k.useEffect(()=>{const O=()=>{window.innerHeight+document.documentElement.scrollTop>=document.documentElement.offsetHeight-100&&(l-1)*h<y.length&&v()};return window.addEventListener("scroll",O),()=>window.removeEventListener("scroll",O)},[v,l,y.length,h]),k.useEffect(()=>{if(s!==null){const O=new Image;O.src=t[s],O.onload=()=>{p(V=>({...V,[s]:!0}))}}},[s,t]);const A=O=>{e(s===O?null:O)},j=(()=>{const O=[];let V=[],B=4;return t.forEach((F,G)=>{V.push({image:F,index:G}),V.length===B&&(O.push(V),V=[],B=B===4?3:4)}),V.length>0&&O.push(V),O})();return u.jsxs("div",{children:[u.jsx("div",{style:{height:"120px"}}),u.jsxs("div",{className:"gallery-container",style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"0.1rem",padding:"0.25rem",position:"relative"},children:[j.map((O,V)=>u.jsx("div",{style:{display:"flex",justifyContent:"center",gap:"3rem",width:"100%",marginBottom:"-20px",paddingLeft:O.length===3?"10%":"0",paddingRight:O.length===3?"10%":"0"},children:O.map(({image:B,index:F})=>{const G=s===F;return u.jsx("div",{onClick:()=>A(F),style:{width:G?"80vw":"250px",height:G?"80vh":"250px",transition:"all 0.5s ease",cursor:"pointer",position:G?"fixed":"relative",top:G?"50%":"auto",left:G?"50%":"auto",transform:G?"translate(-50%, -50%) rotate(0deg)":"rotate(45deg) scale(0.9)",zIndex:G?1e3:1,border:"2px solid #00a6fb",borderRadius:"8px",overflow:"hidden",boxShadow:"0 4px 8px rgba(0, 166, 251, 0.3)",margin:"0.1rem 1.5rem"},children:u.jsx("img",{src:B,alt:`Gallery image ${F+1}`,loading:"lazy",width:G?"auto":"250",height:G?"auto":"250",style:{width:"100%",height:"100%",objectFit:"cover",transform:G?"rotate(0deg) scale(1)":"rotate(-45deg) scale(1.5)"}})},F)})},V)),s!==null&&u.jsx("div",{onClick:()=>e(null),style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.8)",zIndex:999}}),t.length<y.length&&u.jsx("div",{style:{width:"100%",textAlign:"center",padding:"2rem"},children:u.jsx("button",{onClick:v,style:{padding:"0.75rem 1.5rem",backgroundColor:"#00a6fb",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"1rem",fontWeight:"bold"},children:"Load More Images"})})]}),u.jsx("div",{style:{height:"80px"}})]})},kD=()=>{const[s,e]=k.useState(0),[t,i]=k.useState(!1),l=k.useRef([]),c=[{id:1,src:"/videos/AIM nr 1 Formula 16x9.mov",title:"AIM Challenge Formula",description:"Highlights from the AIM Challenge Formula event"},{id:2,src:"/videos/AIM nr 1 Formula 16x9.mov",title:"AIM Challenge Highlights",description:"More exciting moments from the AIM Challenge"},{id:3,src:"/videos/AIM nr 1 Formula 16x9.mov",title:"AIM Challenge Recap",description:"A recap of the amazing AIM Challenge events"}];k.useEffect(()=>{l.current=l.current.slice(0,c.length)},[c.length]);const h=y=>{l.current.forEach((v,A)=>{A!==y&&v&&v.pause()}),i(!0),e(y)},m=()=>{e(y=>(y+1)%c.length)},p=()=>{e(y=>(y-1+c.length)%c.length)};return u.jsxs("div",{className:"video-carousel-container",style:{padding:"80px 0 40px 0",backgroundColor:"#f0f8ff",borderTop:"1px solid #e0e0e0",width:"100%",maxWidth:"100%"},children:[u.jsx("h2",{style:{textAlign:"center",marginBottom:"30px",color:"#00a6fb",fontSize:"2rem"},children:"AIM Challenge Videos"}),u.jsxs("div",{style:{position:"relative",width:"100%",margin:"0 auto",overflow:"hidden"},children:[u.jsx("button",{onClick:p,style:{position:"absolute",left:"10px",top:"50%",transform:"translateY(-50%)",zIndex:10,background:"rgba(0, 166, 251, 0.7)",color:"white",border:"none",borderRadius:"50%",width:"50px",height:"50px",fontSize:"24px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.3)"},"aria-label":"Previous video",children:"<"}),u.jsx("button",{onClick:m,style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",zIndex:10,background:"rgba(0, 166, 251, 0.7)",color:"white",border:"none",borderRadius:"50%",width:"50px",height:"50px",fontSize:"24px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.3)"},"aria-label":"Next video",children:">"}),u.jsx("div",{style:{display:"flex",transition:"transform 0.5s ease",transform:`translateX(${s*-100}%)`,width:"100%",position:"relative"},children:c.map((y,v)=>u.jsx("div",{style:{flex:"0 0 100%",padding:"0 20px",boxSizing:"border-box",width:"100%"},children:u.jsxs("div",{style:{background:"#fff",borderRadius:"8px",overflow:"hidden",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",maxWidth:"1200px",margin:"0 auto"},children:[u.jsx("div",{style:{position:"relative",paddingTop:"56.25%"},children:u.jsx("video",{ref:A=>l.current[v]=A,src:y.src,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover"},controls:!0,onPlay:()=>h(v),onPause:()=>i(!1)})}),u.jsxs("div",{style:{padding:"20px"},children:[u.jsx("h3",{style:{margin:"0 0 10px 0",color:"#00a6fb",fontSize:"1.5rem"},children:y.title}),u.jsx("p",{style:{margin:0,color:"#333",lineHeight:1.6},children:y.description})]})]})},y.id))}),u.jsx("div",{style:{display:"flex",justifyContent:"center",marginTop:"20px"},children:c.map((y,v)=>u.jsx("button",{onClick:()=>e(v),style:{width:"12px",height:"12px",borderRadius:"50%",margin:"0 5px",background:v===s?"#00a6fb":"#ccc",border:"none",cursor:"pointer"}},v))})]})]})},CD=()=>{const{currentLanguage:s}=Et(),[e,t]=k.useState("");return k.useEffect(()=>{t(s==="en"?"READ MORE":s==="no"?"LES MER":"LÄS MER")},[s]),u.jsxs(u.Fragment,{children:[u.jsx(Ks,{},"om-oss-background-editor"),u.jsxs("div",{className:"om-oss-container",children:[u.jsx("section",{className:"om-oss-hero-section",children:u.jsx("div",{className:"hero-content",children:u.jsx("div",{className:"hero-image-container background-editable",id:"om-oss-hero-image",children:u.jsx("img",{src:"/images/EE-AIMChallenge24-Uhamn-0171-high.jpg",alt:"Om Oss Hero"})})})}),u.jsx("section",{className:"om-oss-title-section",children:u.jsx("div",{className:"title-container",children:u.jsx(U,{textKey:"om-oss-title",defaultText:"OM OSS",tag:"h1",className:"location-title"})})}),u.jsx("section",{className:"om-oss-section flex flex_j_C flex_a_C",children:u.jsx("div",{className:"om-oss-content MaxWH flex flex_col flex_j_C ",children:u.jsxs("div",{className:"om-oss-content-wrapper",children:[u.jsx(U,{textKey:"om-oss-title-1",defaultText:"Om AIM Challenge",tag:"h2",className:"fonts_large om-oss-title"}),u.jsx(U,{textKey:"om-oss-text-1",defaultText:"AIM Challenge är en multisporttävling i lag om två, där äventyret, glädjen och gemenskapen står i centrum.",tag:"p",className:"fonts_small om-oss-text"}),u.jsx(U,{textKey:"om-oss-text-2",defaultText:"Med karta i handen och sex timmar på klockan gäller det att samla så många poäng som möjligt genom att ta kontroller som är utspridda i naturen. Ni tar er fram framför allt på cykel, men även till fots och ibland genom att klättra, paddla eller simma.",tag:"p",className:"fonts_small om-oss-text"}),u.jsx(U,{textKey:"om-oss-text-3",defaultText:"Tävlingen är öppen för alla, från nyfikna nybörjare till världseliten inom multisport. Ni bestämmer själva takt, vägval och hur många kontroller ni vill ta. Det är en utmaning på era villkor.",tag:"p",className:"fonts_small om-oss-text"}),u.jsx(U,{textKey:"om-oss-title-2",defaultText:"Så går det till",tag:"h3",className:"fonts_large om-oss-title"}),u.jsx(U,{textKey:"om-oss-text-4",defaultText:"När starten går får varje lag en karta med 60 kontroller utplacerade i området. Kartorna är hemliga fram till start och är tryckta på riv- och vattentåligt material. Vissa kontroller är rena stämplingspunkter. Andra innehåller äventyrliga inslag som klättring, simning eller paddling. Vilka ni väljer att ta är helt upp till er. Det är omöjligt att hinna med alla, så smart planering och bra samarbete blir lika viktigt som fysisk kapacitet.",tag:"p",className:"fonts_small om-oss-text"}),u.jsx(U,{textKey:"om-oss-text-5",defaultText:"Ni samlar poäng baserat på kontrollernas svårighetsgrad. Många kontroller kan nås direkt med cykel, andra kräver att ni springer en bit eller vågar er ut i vattnet. På varje äventyrlig kontroll finns erfaren personal som ser till att allt sker på ett tryggt och säkert sätt. Inga förkunskaper krävs.",tag:"p",className:"fonts_small om-oss-text"})]})})}),u.jsx("div",{className:"om-oss-background-container locked-background background-editable",id:"om-oss-background-image"}),u.jsx("section",{className:"om-oss-section flex flex_j_C flex_a_C ",children:u.jsx("div",{className:"om-oss-content MaxWH flex flex_col flex_j_C",children:u.jsxs("div",{className:"om-oss-content-wrapper",children:[u.jsx(U,{textKey:"om-oss-title-3",defaultText:"En tävling för alla – oavsett nivå",tag:"h2",className:"fonts_large om-oss-title"}),u.jsx(U,{textKey:"om-oss-text-6",defaultText:"AIM Challenge är för alla som vill uppleva multisport på ett tillgängligt och roligt sätt. Därför erbjuder vi två varianter av tävlingen: 3-timmars och 6-timmars. Upplägget är detsamma, men tiden ni har på er att samla kontroller skiljer sig. I Ulricehamn och Kolmården kan ni välja den kortare varianten, perfekt för dig som vill testa konceptet i en mer hanterbar form.",tag:"p",className:"fonts_small om-oss-text"}),u.jsx(U,{textKey:"om-oss-text-7",defaultText:"Oavsett om ni är nybörjare eller rutinerade multisportare tävlar ni på samma bana med samma kontroller. Här står några av Nordens bästa lag på startlinjen, tillsammans med förstagångsdeltagare, kompisgäng, kollegor och familjemedlemmar som söker ett gemensamt äventyr. Tävlingen är öppen för dig från 15 år och det viktigaste är inte hur många kontroller ni tar, utan att ni har en minnesvärd dag i naturen.",tag:"p",className:"fonts_small om-oss-text"}),u.jsx(U,{textKey:"om-oss-text-8",defaultText:"Det här är multisport när det är som mest inkluderande. En utmaning på era villkor, fylld av rörelse, gemenskap och upptäckarglädje.",tag:"p",className:"fonts_small om-oss-text"}),u.jsx(U,{textKey:"om-oss-text-9",defaultText:"Välkommen till AIM Challenge – multisport för alla!",tag:"p",className:"fonts_small om-oss-text"})]})})}),u.jsxs("section",{className:"om-oss-cards-container",children:[u.jsxs("div",{className:"om-oss-card",children:[u.jsxs("div",{className:"om-oss-card-content",children:[u.jsx(U,{textKey:"card-1-title",defaultText:"REGLER",tag:"p",className:"font_blue fonts_medium_B"}),u.jsx(U,{textKey:"card-1-text",defaultText:"Tävlingsregler och information",tag:"p",className:"font_blue fonts_medium"})]}),u.jsx("div",{className:"om-oss-card-button",children:u.jsx(Re,{to:"/page2",className:"location",children:"LÄS MER"})})]}),u.jsxs("div",{className:"om-oss-card",children:[u.jsxs("div",{className:"om-oss-card-content",children:[u.jsx(U,{textKey:"card-2-title",defaultText:"FAQ",tag:"p",className:"font_blue fonts_medium_B"}),u.jsx(U,{textKey:"card-2-text",defaultText:"Vanliga frågor och svar",tag:"p",className:"font_blue fonts_medium"})]}),u.jsx("div",{className:"om-oss-card-button",children:u.jsx(Re,{to:"/page3",className:"location",children:"LÄS MER"})})]}),u.jsxs("div",{className:"om-oss-card",children:[u.jsxs("div",{className:"om-oss-card-content",children:[u.jsx(U,{textKey:"card-3-title",defaultText:"HISTORIEN OM AIM",tag:"p",className:"font_blue fonts_medium_B"}),u.jsx(U,{textKey:"card-3-text",defaultText:"Vår resa sedan 2004",tag:"p",className:"font_blue fonts_medium"})]}),u.jsx("div",{className:"om-oss-card-button",children:u.jsx(Re,{to:"/page3",className:"location",children:"LÄS MER"})})]})]})]})]})},ID=({imageKey:s,defaultSrc:e,alt:t,className:i="",style:l={}})=>{const{getText:c,updateText:h,isAdmin:m}=Et(),[p,y]=k.useState(!1),[v,A]=k.useState(""),[S,j]=k.useState(""),O=c(s,e),V=()=>{!p&&m&&(y(!0),A(O),j(""))},B=()=>{if(v.trim()===""){j("Please enter an image URL");return}try{new URL(v),h(s,v),y(!1)}catch{v.startsWith("/")||v.includes("./")?(h(s,v),y(!1)):j("Please enter a valid URL or path")}},F=()=>{y(!1),j("")},G=$=>{const J=$.target.files[0];if(!J)return;if(!J.type.startsWith("image/")){j("Please select an image file");return}const se=new FileReader;se.onload=le=>{A(le.target.result)},se.readAsDataURL(J)};return p?u.jsxs("div",{className:"editable-image-container",style:{position:"relative",margin:"10px 0"},children:[u.jsx("div",{style:{marginBottom:"10px"},children:u.jsx("img",{src:v||O,alt:t,className:i,style:{maxWidth:"300px",border:"2px solid #00a6fb",...l}})}),u.jsxs("div",{style:{marginBottom:"10px"},children:[u.jsx("label",{style:{display:"block",marginBottom:"5px"},children:"Image URL:"}),u.jsx("input",{type:"text",value:v,onChange:$=>A($.target.value),style:{width:"100%",padding:"8px",border:"1px solid #ccc",borderRadius:"4px"},placeholder:"Enter image URL or upload a file"}),S&&u.jsx("p",{style:{color:"red",margin:"5px 0"},children:S})]}),u.jsxs("div",{style:{marginBottom:"10px"},children:[u.jsx("label",{style:{display:"block",marginBottom:"5px"},children:"Or upload an image:"}),u.jsx("input",{type:"file",accept:"image/*",onChange:G,style:{width:"100%",padding:"8px",border:"1px solid #ccc",borderRadius:"4px"}})]}),u.jsxs("div",{style:{display:"flex",gap:"8px"},children:[u.jsx("button",{onClick:B,style:{padding:"8px 16px",background:"#00a6fb",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Spara"}),u.jsx("button",{onClick:F,style:{padding:"8px 16px",background:"#ccc",color:"black",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Avbryt"})]})]}):u.jsx("img",{src:O,alt:t,className:`${i} ${m?"editable":""}`,onClick:V,style:{...l,cursor:m?"pointer":"default",border:m?"2px dashed #00a6fb":"none"}})},jD=()=>u.jsxs("div",{className:"regler-container",children:[u.jsx("section",{className:"regler-hero-section",children:u.jsx("div",{className:"hero-content",children:u.jsx("div",{className:"hero-image-container",children:u.jsx(ID,{imageKey:"regler-hero-image",defaultSrc:"/images/AIM_lindvallen_2024_AnkiGrothe_highres_125.jpg",alt:"Regler Hero"})})})}),u.jsx("section",{className:"regler-title-section",children:u.jsx("div",{className:"title-container",children:u.jsx(U,{textKey:"regler-title",defaultText:"REGLER",tag:"h1",className:"location-title"})})}),u.jsx("section",{className:"regler-content-section",children:u.jsx("div",{className:"regler-content-container",children:u.jsxs("div",{className:"regler-content",children:[u.jsx(U,{textKey:"regler-team-heading",defaultText:"LAGET",tag:"h2",className:"regler-heading"}),u.jsxs("ul",{className:"regler-list",children:[u.jsx("li",{className:"regler-list-item",children:"Åldersgräns 15år/18år"}),u.jsx("li",{className:"regler-list-item",children:"Båda deltagarna måste ha olycksförsäkring som täcker olyckor i samband med tävling/idrottsaktiviteter."}),u.jsx("li",{className:"regler-list-item",children:"Det är lagets ansvar att se till att de är registrerade i rätt klass."}),u.jsx("li",{className:"regler-list-item",children:"Startnummer ska placeras fram på cykel samt synligt på kroppen på båda deltagarna"}),u.jsx("li",{className:"regler-list-item",children:"Det är tillåtet att använda GPS men det är alltid kartan som gäller. GPSens kartunderlag stämmer inte alltid överens med den utskrivna AIM kartan."}),u.jsx("li",{className:"regler-list-item",children:"Laget ska alltid vara samlade max 20 meter mellan lagmedlemmarna."}),u.jsx("li",{className:"regler-list-item",children:"Det är inte tillåtet att ha följebil."})]}),u.jsx(U,{textKey:"regler-safety-heading",defaultText:"SÄKERHET",tag:"h2",className:"regler-heading"}),u.jsxs("ul",{className:"regler-list",children:[u.jsx("li",{className:"regler-list-item",children:"Lagen väljer själva vilka kontroller de klarar att ta baserat på väder, egen färdighet och kunskap."}),u.jsx("li",{className:"regler-list-item",children:"Lagen väljer själva vilken väg de vill ta till kontrollerna baserat på väder, egen färdighet och kunskap."}),u.jsx("li",{className:"regler-list-item",children:"Trafiken är inte reglerad under tävlingen."}),u.jsx("li",{className:"regler-list-item",children:"Trafikregler gäller alltid."}),u.jsx("li",{className:"regler-list-item",children:"Första hjälpen kit ska bäras med under hela tävlingen"}),u.jsx("li",{className:"regler-list-item",children:"Hjälm ska bäras under all cykling, klättring, bouldering och rappellering"}),u.jsx("li",{className:"regler-list-item",children:"Vid olycka är det obligatoriska att hjälpa till."}),u.jsx("li",{className:"regler-list-item",children:"Vid allvarlig olycka ring nöd nummer 112 i Sverige och 113 i Norge"}),u.jsx("li",{className:"regler-list-item",children:"Vid behov för enklare medicinsk hjälp ring telefonnumret på baksidan av kartan"}),u.jsx("li",{className:"regler-list-item",children:"Tävlingsledningens direktiv gäller alltid."})]}),u.jsx(U,{textKey:"regler-other-heading",defaultText:"ÖVRIGT",tag:"h2",className:"regler-heading"}),u.jsxs("ul",{className:"regler-list",children:[u.jsx("li",{className:"regler-list-item",children:"Elcyklar är ej tillåtet, med undantag för Elcykelklassen i Hemsedal."}),u.jsx("li",{className:"regler-list-item",children:"Beroende på kapacitet är det möjligt att använda liften i Hemsedal, lyssna noga på vad speakern ger för information för vad som gäller för årets tävling."}),u.jsx("li",{className:"regler-list-item",children:"Deltagare som bryter ska genast meddela tävlingsledningen. Telefonnummer står på kartan."}),u.jsx("li",{className:"regler-list-item",children:"Synliga, osynliga och tävlande domare befinner sig i tävlingsområdet och ser till att reglerna följs."}),u.jsx("li",{className:"regler-list-item",children:"Regelbrott kan leda till poängavdrag eller diskvalificering"}),u.jsx("li",{className:"regler-list-item",children:"Deltagare som vinner priser som lottas ut pga olika händelser eller som dras på startnummer måste närvara på prisutdelningen för att få sitt pris. Är man inte närvarande och ditt namn/lagnamn dras drar vi reservnamn/lagnamn."}),u.jsx("li",{className:"regler-list-item",children:"LINDVALLEN, viadukten mellan Lodgen och Experium är stängd under hela tävlingen."}),u.jsx("li",{className:"regler-list-item",children:"Tävlingsledningens beslut går inte att överklaga."}),u.jsx("li",{className:"regler-list-item",children:"Kloka människor skräpar inte ner, för alla andra är det förbjudet."}),u.jsx("li",{className:"regler-list-item",children:"Respektera privat mark, ta inte genvägar över privata områden"}),u.jsx("li",{className:"regler-list-item",children:"Beträda odlad mark är förbjudet. Åkrar som inte har skördats är odlad mark."}),u.jsx("li",{className:"regler-list-item",children:"Stäng alla grindar som ni öppnar."}),u.jsx("li",{className:"regler-list-item",children:"Visa betande djur respekt genom att stiga av cykeln och gå förbi dem."})]}),u.jsx("h2",{className:"regler-heading",children:"OBLIGATORISK UTRUSTNING"}),u.jsxs("ul",{className:"regler-list",children:[u.jsx("li",{className:"regler-list-item",children:"Cykel, utan elmotor med undantag för Elcykelklassen i Hemsedal."}),u.jsx("li",{className:"regler-list-item",children:"Cykelhjälm vid cykling"}),u.jsx("li",{className:"regler-list-item",children:"Mobiltelefon (1 st per lag)"}),u.jsx("li",{className:"regler-list-item",children:"Första hjälpen (1 st per lag)"})]}),u.jsx("h2",{className:"regler-heading",children:"VI REKOMMENDERAR ATT NI ÄVEN HAR MED ER"}),u.jsxs("ul",{className:"regler-list",children:[u.jsx("li",{className:"regler-list-item",children:"Förstärkningskläder vid hastigt väderomslag"}),u.jsx("li",{className:"regler-list-item",children:"Kompass"}),u.jsx("li",{className:"regler-list-item",children:"Vatten i en Camelbak"}),u.jsx("li",{className:"regler-list-item",children:"Energy bars eller liknande"}),u.jsx("li",{className:"regler-list-item",children:"Klocka"}),u.jsx("li",{className:"regler-list-item",children:"Löparskor"}),u.jsx("li",{className:"regler-list-item",children:"Cykelslang och reparationskit + övriga verktyg, tex en biketool för enklare justeringar"})]}),u.jsx("h2",{className:"regler-heading",children:"AIM CHALLENGE STÅR FÖR"}),u.jsx("ul",{className:"regler-list",children:u.jsx("li",{className:"regler-list-item",children:"Kanot, SUP, sele, rep, hjälm vid firningar/klättring. All utrustning vid bemannade poster finns där klättring etc förekommer."})}),u.jsx("h2",{className:"regler-heading",children:"VILLKOR I FÖRBINDELSE MED ANMÄLAN"}),u.jsx("p",{className:"regler-list-item",children:"Villkor i förbindelse med anmälan"}),u.jsxs("p",{className:"regler-contact",children:["Om du har frågor:"," ",u.jsx("a",{href:"mailto:info@aimchallenge.com",children:"info@aimchallenge.com"})]})]})})}),u.jsx("div",{className:"locked-background",style:{height:"50vh",width:"100%",marginBottom:"60px"}})]}),DD=({category:s})=>{const[e,t]=k.useState([]),[i,l]=k.useState(""),[c,h]=k.useState(""),[m,p]=k.useState(!0),{isAuthenticated:y,currentUser:v}=ys(),A=(v==null?void 0:v.role)==="admin";k.useEffect(()=>{(async()=>{try{p(!0);const B=nn(Ze,"faqs"),F=await Jn(B),G=[];F.forEach($=>{const J=$.data();J.category===s&&G.push({id:$.id,question:J.question,answer:J.answer,category:J.category,order:J.order||0})}),G.sort(($,J)=>$.order-J.order),t(G)}catch(B){console.error("Error loading FAQs:",B)}finally{p(!1)}})()},[s]);const S=async()=>{if(!(!i.trim()||!c.trim()))try{const V={question:i,answer:c,category:s,order:e.length},B=_t(nn(Ze,"faqs"));await fs(B,V),t([...e,{...V,id:B.id}]),l(""),h("")}catch(V){console.error("Error adding FAQ:",V)}},j=async V=>{try{await jc(_t(Ze,"faqs",V)),t(e.filter(B=>B.id!==V))}catch(B){console.error("Error deleting FAQ:",B)}},O=async(V,B,F)=>{try{const G=e.map(J=>J.id===V?{...J,[B]:F}:J),$=G.find(J=>J.id===V);await fs(_t(Ze,"faqs",V),{question:$.question,answer:$.answer,category:$.category,order:$.order}),t(G)}catch(G){console.error("Error updating FAQ:",G)}};return A?u.jsxs("div",{className:"faq-editor",children:[u.jsxs("h3",{children:["Manage ",s," FAQs"]}),m?u.jsx("p",{children:"Loading FAQs..."}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"faq-list",children:e.map(V=>u.jsxs("div",{className:"faq-item-editor",children:[u.jsx("div",{className:"faq-controls",children:u.jsx("button",{onClick:()=>j(V.id),className:"delete-button",children:"Delete"})}),u.jsxs("div",{className:"faq-content",children:[u.jsx("textarea",{value:V.question,onChange:B=>O(V.id,"question",B.target.value),placeholder:"Question",className:"faq-question-editor"}),u.jsx("textarea",{value:V.answer,onChange:B=>O(V.id,"answer",B.target.value),placeholder:"Answer",className:"faq-answer-editor"})]})]},V.id))}),u.jsxs("div",{className:"add-faq-form",children:[u.jsx("h4",{children:"Add New FAQ"}),u.jsx("textarea",{value:i,onChange:V=>l(V.target.value),placeholder:"New Question",className:"faq-question-editor"}),u.jsx("textarea",{value:c,onChange:V=>h(V.target.value),placeholder:"New Answer",className:"faq-answer-editor"}),u.jsx("button",{onClick:S,className:"add-button",disabled:!i.trim()||!c.trim(),children:"Add FAQ"})]})]})]}):null},OD=({question:s,answer:e})=>{const[t,i]=k.useState(!1),l=()=>{i(!t)};return u.jsxs("div",{className:"faq-item",children:[u.jsxs("div",{className:`faq-question ${t?"active":""}`,onClick:l,children:[u.jsx("h3",{className:"question-text",children:s}),u.jsx("span",{className:"icon",children:t?"▲":"▼"})]}),u.jsx("div",{className:`faq-answer ${t?"open":""}`,children:u.jsx("p",{children:e})})]})},pd=({title:s,items:e,categoryKey:t,showEditor:i=!1})=>{const{isAuthenticated:l,currentUser:c}=ys(),h=(c==null?void 0:c.role)==="admin";return u.jsxs("div",{className:"faq-category",children:[u.jsx("h2",{className:"faq-category-title",children:u.jsx(U,{textKey:`faq-category-${t}`,defaultText:s})}),e.map((m,p)=>u.jsx(OD,{question:m.question,answer:m.answer},m.id||p)),h&&i&&u.jsx(DD,{category:t})]})},MD=()=>{const{getText:s}=Et(),{isAuthenticated:e,currentUser:t}=ys(),i=(t==null?void 0:t.role)==="admin",[l,c]=k.useState([]),[h,m]=k.useState([]),[p,y]=k.useState([]),[v,A]=k.useState([]),[S,j]=k.useState(!0),[O,V]=k.useState(!1);k.useEffect(()=>{(async()=>{try{j(!0);const G=nn(Ze,"faqs"),$=await Jn(G),J=[];if($.forEach(se=>{const le=se.data();J.push({id:se.id,question:le.question,answer:le.answer,category:le.category,order:le.order||0})}),J.length===0)c([{question:s("general-question-0","Jag är nybörjare på multisport, kan jag delta?"),answer:s("general-answer-0","Absolut, det är DU som väljer väg och antal kontroller. Ta 5 kontroller och ha en fin tur på fjället, eller ta 40 och vinn. Alla kan delta efter egen förmåga och ambition.")},{question:s("general-question-1","Hur ser tävlingen ut?"),answer:s("general-answer-1","Tävlingen går ut på att samla så många kontroller som möjligt inom 6 timmar. Kontrollerna är värda olika poäng, ju svårare att nå desto högre poäng. Vissa kontroller innebär aktiviteter som klättring, paddling, simning, rappellering och balansövningar. Lagen bestämmer själva vilka kontroller de vill ta och i vilken ordning.")},{question:s("general-question-2","Vilka klasser finns det?"),answer:s("general-answer-2","Dam, Herr och Mix. Dessutom har vi en Elcykelklass i Hemsedal. Alla klasser är 2-manna lag.")}]),m([{question:s("equipment-question-0","Vilken utrustning behöver jag?"),answer:s("equipment-answer-0","Obligatorisk utrustning: Cykel, cykelhjälm, mobiltelefon (1 per lag), första hjälpen (1 per lag). Vi rekommenderar även: Förstärkningskläder, kompass, vatten, energibars, klocka, löparskor, cykelslang och reparationskit.")}]),y([{question:s("raceday-question-0","Hur fungerar starten?"),answer:s("raceday-answer-0","Alla lag startar samtidigt kl 10.00 på lördagen efter ett obligatoriskt informationsmöte kl 9.30. Vid starten får lagen kartan med alla kontroller markerade.")}]),A([{question:s("technical-question-0","Hur ser kartan ut?"),answer:s("technical-answer-0","Kartan får alla lagen när startskottet går. Där är samtliga kontroller utmärkta med position, poäng, beskrivning och om kontrollen innefattar klättring, paddling etc.")}]);else{const se=J.filter(b=>b.category==="general").sort((b,T)=>b.order-T.order),le=J.filter(b=>b.category==="equipment").sort((b,T)=>b.order-T.order),L=J.filter(b=>b.category==="raceday").sort((b,T)=>b.order-T.order),N=J.filter(b=>b.category==="technical").sort((b,T)=>b.order-T.order);c(se),m(le),y(L),A(N)}}catch(G){console.error("Error loading FAQs:",G)}finally{j(!1)}})()},[]);const B=()=>{V(!O)};return u.jsxs(u.Fragment,{children:[u.jsx(Ks,{},"faq-background-editor"),u.jsxs("div",{className:"faq-container",children:[u.jsx("section",{className:"faq-hero-section",children:u.jsx("div",{className:"hero-content",children:u.jsx("div",{className:"hero-image-container background-editable",id:"faq-hero-image",children:u.jsx("img",{src:"/images/AIM_lindvallen_2024_AnkiGrothe_highres_125.jpg",alt:"FAQ Hero"})})})}),u.jsx("section",{className:"faq-title-section",children:u.jsx("div",{className:"title-container",children:u.jsx(U,{textKey:"faq-title",defaultText:"FAQ",tag:"h1",className:"location-title"})})}),u.jsx("section",{className:"faq-content-section",children:u.jsx("div",{className:"faq-content-container",children:u.jsxs("div",{className:"faq-content",children:[u.jsx(U,{textKey:"faq-heading",defaultText:"Vanliga frågor",tag:"h2",className:"faq-heading"}),i&&u.jsx("div",{className:"admin-controls",children:u.jsx("button",{onClick:B,className:"toggle-editors-button",children:O?"Dölj redigerare":"Visa redigerare"})}),S?u.jsx("p",{children:"Laddar vanliga frågor..."}):u.jsxs(u.Fragment,{children:[u.jsx(pd,{title:"Allmänna frågor",categoryKey:"general",items:l,showEditor:O}),u.jsx(pd,{title:"Utrustning",categoryKey:"equipment",items:h,showEditor:O}),u.jsx(pd,{title:"Tävlingsdagen",categoryKey:"raceday",items:p,showEditor:O}),u.jsx(pd,{title:"Teknisk information",categoryKey:"technical",items:v,showEditor:O})]}),u.jsxs("div",{className:"faq-contact",children:[u.jsx(U,{textKey:"faq-contact-title",defaultText:"Har du fler frågor?",tag:"h2",className:"faq-category-title"}),u.jsx(U,{textKey:"faq-contact-text",defaultText:"Ta gärna kontakt om ni inte hittar svaret på era frågor: info@aimchallenge.com",tag:"p",className:""})]})]})})}),u.jsx("div",{className:"locked-background background-editable",id:"faq-background-image"})]})]})},LD=()=>u.jsxs(u.Fragment,{children:[u.jsx(Ks,{},"historien-om-aim-background-editor"),u.jsxs("div",{className:"historien-om-aim-container",children:[u.jsx("section",{className:"historien-om-aim-hero-section",children:u.jsx("div",{className:"hero-content",children:u.jsx("div",{className:"hero-image-container background-editable",id:"historien-om-aim-hero-image",children:u.jsx("img",{src:"/images/AIM_lindvallen_2024_AnkiGrothe_highres_125.jpg",alt:"Historien Om AIM Hero"})})})}),u.jsx("section",{className:"historien-om-aim-title-section",children:u.jsx("div",{className:"title-container",children:u.jsx(U,{textKey:"historien-om-aim-title",defaultText:"HISTORIEN OM AIM",tag:"h1",className:"location-title"})})}),u.jsx("section",{className:"historien-om-aim-content-section",children:u.jsx("div",{className:"historien-om-aim-content-container",children:u.jsxs("div",{className:"historien-om-aim-content",children:[u.jsx(U,{textKey:"historien-om-aim-text-1",defaultText:"AIM Challenge är idag Nordens största multisporttävling men historien om AIM Challenge börjar mycket tidigare än så.",tag:"p",className:"historien-om-aim-text"}),u.jsx(U,{textKey:"historien-om-aim-text-2",defaultText:"Vi låter Lisa Nordlind, grundare och initiativtagare till AIM Challenge berätta hur det gick till:",tag:"p",className:"historien-om-aim-text"}),u.jsx(U,{textKey:"historien-om-aim-text-3",defaultText:"År 2000 deltog jag i mitt livs största äventyr när jag tävlade i multisporttävlingen Camel Trophy.",tag:"p",className:"historien-om-aim-text"}),u.jsx(U,{textKey:"historien-om-aim-text-4",defaultText:"Av över en miljon sökande så var det 16 tvåmannalag från 22 länder som fick vara med och leka. Jag fick äran att representera Team Skandinavien tillsammans med brandmannen Mikael Stening.",tag:"p",className:"historien-om-aim-text"}),u.jsx(U,{textKey:"historien-om-aim-text-5",defaultText:"Lag på två personer skulle under 3 veckor samla så många kontroller som möjligt utav 400 utplacerade. Huvudtransportmedel var en specialbyggd RIB (Rigid Inflatable Boat). Båten var utrustad med mountainbikes, klätterutrustning, paddelbräda, dyk- och snorkel utrustning, tält, mat och vatten.",tag:"p",className:"historien-om-aim-text"}),u.jsx(U,{textKey:"historien-om-aim-text-6",defaultText:"Lagen fick själva välja vilka kontroller de ville ta, i vilken ordning och vilken väg.",tag:"p",className:"historien-om-aim-text"}),u.jsx(U,{textKey:"historien-om-aim-text-7",defaultText:"Olika kontroller gav olika poäng. Låter det bekant?",tag:"p",className:"historien-om-aim-text"}),u.jsx(U,{textKey:"historien-om-aim-text-8",defaultText:"Tävlingsområdet var ögrupperna Tonga och Samoa i Söderhavet. Det var galet roligt och Mikael och jag lyckades ta oss till en fjärde plats.",tag:"p",className:"historien-om-aim-text"}),u.jsx(U,{textKey:"historien-om-aim-text-9",defaultText:"År 2004 spenderade jag min första sommar i Hemsedal. Det var ganska lugnt i den lilla skidorten så jag beslutade mig för att starta ett nytt event. För mig är det viktigt att träning är roligt och jag tycker att den bästa träningen är tävling. Eftersom Camel Trophy var det roligaste jag någonsin varit med om så föll det naturligt att försöka skapa ett event där andra människor får uppleva samma lekfulla koncept om än i en mindre skala. Tävlingen fick namnet 'Hemsedal Challenge' och den första helgen i september 2004 stod 150 deltagare på startlinjen.",tag:"p",className:"historien-om-aim-text"}),u.jsx(U,{textKey:"historien-om-aim-text-10",defaultText:"Nära, kära, vänner och familj samlades från alla håll och kanter för att ställa upp som funktionärer.",tag:"p",className:"historien-om-aim-text"}),u.jsx(U,{textKey:"historien-om-aim-text-11",defaultText:"Efter 5 år startade vi en tävling till i Lindvallen och bytte namn till AIM Challenge.",tag:"p",className:"historien-om-aim-text"}),u.jsx(U,{textKey:"historien-om-aim-text-12",defaultText:"Efter AIM Challenge 2019 tackade Lisa för sig och lämnade över stafettpinnen till Marcus Andersson, som nu står inför en spännande framtid där han ser frem emot att driva vidare och utveckla AIM Challenge.",tag:"p",className:"historien-om-aim-text"})]})})}),u.jsx("div",{className:"locked-background background-editable",id:"historien-om-aim-background-image"})]})]}),PD=({isOpen:s,onClose:e})=>{const[t,i]=k.useState(""),[l,c]=k.useState(""),[h,m]=k.useState(null),[p,y]=k.useState(""),[v,A]=k.useState(!1),[S,j]=k.useState(""),[O,V]=k.useState(""),[B,F]=k.useState(0),[G,$]=k.useState(0),[J,se]=k.useState("Alla"),le=k.useRef(null),L=k.useRef(null),{isAdmin:N}=Et(),b=ae=>{const he=ae.target.files[0];if(he){he.name||(he.name=`image-${Date.now()}.jpg`);const P=new FileReader;P.onloadend=()=>{m(he),y(P.result)},P.readAsDataURL(he)}},T=ae=>{c(ae.target.value)},C=()=>{le.current&&(F(le.current.selectionStart),$(le.current.selectionEnd))},D=()=>{if(A(!v),!v&&le.current){const ae=l.substring(le.current.selectionStart,le.current.selectionEnd);V(ae),F(le.current.selectionStart),$(le.current.selectionEnd)}},w=()=>{if(!S.trim()){alert("Please enter a URL");return}const ae=`[${O||S}](${S})`,he=l.substring(0,B)+ae+l.substring(G);c(he),A(!1),j(""),V("")},z=async()=>{if(!t.trim()||!l.trim()){alert("Vänligen fyll i titel och innehåll");return}try{let ae=null;if(h){const ne=Date.now(),pe=h.name?h.name.split(".").pop():"jpg",ge=`image_${ne}.${pe}`,me=es(ts,`post-images/${ge}`);console.log("Uploading image with new filename:",ge),await kr(me,h),ae=await ql(me),console.log("Image URL after upload:",ae)}const he={title:t,content:l,image:ae,date:new Date().toLocaleDateString("sv-SE",{year:"numeric",month:"long",day:"numeric"}),category:J,createdAt:new Date().toISOString()},P=await Mb(nn(Ze,"posts"),he);console.log("Post saved with ID:",P.id),ee(),e(),window.location.reload()}catch(ae){console.error("Error saving post:",ae),alert("Ett fel uppstod när inlägget skulle sparas. Försök igen.")}},ee=()=>{i(""),c(""),m(null),y(""),A(!1),j(""),V(""),se("Alla")},H=()=>{ee(),e()},X=ae=>{ae.target.className==="create-post-modal__overlay"&&H()};return!s||!N?null:u.jsxs("div",{className:"create-post-modal",children:[u.jsx("div",{className:"create-post-modal__overlay",onClick:X}),u.jsxs("div",{className:"create-post-modal__content",children:[u.jsx("h2",{className:"create-post-modal__title",children:"Skapa nytt inlägg"}),u.jsxs("div",{className:"create-post-modal__form",children:[u.jsxs("div",{className:"create-post-modal__form-group",children:[u.jsx("label",{className:"create-post-modal__label",children:"Titel"}),u.jsx("input",{type:"text",className:"create-post-modal__input",value:t,onChange:ae=>i(ae.target.value),placeholder:"Ange titel"})]}),u.jsxs("div",{className:"create-post-modal__form-group",children:[u.jsx("label",{className:"create-post-modal__label",children:"Bild (valfritt)"}),u.jsxs("div",{className:"create-post-modal__image-upload",onClick:()=>L.current.click(),children:[p?u.jsx("img",{src:p,alt:"Preview",className:"create-post-modal__image-preview"}):u.jsx("div",{className:"create-post-modal__image-placeholder",children:"Klicka för att ladda upp en bild"}),u.jsx("input",{type:"file",accept:"image/*",onChange:b,className:"create-post-modal__file-input",ref:L})]})]}),u.jsxs("div",{className:"create-post-modal__form-group",children:[u.jsx("label",{className:"create-post-modal__label",children:"Kategori"}),u.jsxs("select",{className:"create-post-modal__input",value:J,onChange:ae=>se(ae.target.value),children:[u.jsx("option",{value:"Alla",children:"Alla"}),u.jsx("option",{value:"Inga",children:"Inga"}),u.jsx("option",{value:"Kolmården",children:"Kolmården"}),u.jsx("option",{value:"Sälen",children:"Sälen"}),u.jsx("option",{value:"Hemsedal",children:"Hemsedal"}),u.jsx("option",{value:"Ulricshamn",children:"Ulricshamn"}),u.jsx("option",{value:"Tripplen",children:"Tripplen"})]})]}),u.jsxs("div",{className:"create-post-modal__form-group",children:[u.jsx("label",{className:"create-post-modal__label",children:"Innehåll"}),u.jsxs("div",{children:[u.jsx("textarea",{className:"create-post-modal__textarea",value:l,onChange:T,onSelect:C,ref:le,placeholder:"Ange innehåll"}),u.jsx("button",{type:"button",onClick:D,className:"create-post-modal__button create-post-modal__button--secondary",style:{marginTop:"10px"},children:"Lägg till länk"}),v&&u.jsxs("div",{className:"create-post-modal__link-tools",children:[u.jsxs("div",{children:[u.jsx("label",{children:"Länktext:"}),u.jsx("input",{type:"text",value:O,onChange:ae=>V(ae.target.value),className:"create-post-modal__input",style:{marginTop:"5px",width:"100%"}})]}),u.jsxs("div",{children:[u.jsx("label",{children:"URL:"}),u.jsx("input",{type:"text",value:S,onChange:ae=>j(ae.target.value),className:"create-post-modal__input",style:{marginTop:"5px",width:"100%"}})]}),u.jsx("div",{style:{marginTop:"10px"},children:u.jsx("button",{onClick:w,className:"create-post-modal__button create-post-modal__button--primary",children:"Infoga länk"})})]})]})]}),u.jsxs("div",{className:"create-post-modal__actions",children:[u.jsx("button",{onClick:H,className:"create-post-modal__button create-post-modal__button--secondary",children:"Avbryt"}),u.jsx("button",{onClick:z,className:"create-post-modal__button create-post-modal__button--primary",disabled:!t.trim()||!l.trim(),children:"Spara"})]})]})]})]})},UD=()=>{const[s,e]=k.useState(""),[t,i]=k.useState(!1),[l,c]=k.useState(!1),{isAdmin:h,currentLanguage:m}=Et(),[p,y]=k.useState("");k.useEffect(()=>{y(m==="en"?"Read more":m==="no"?"Les mer":"Läs mer")},[m]);const[v,A]=k.useState([]),[S,j]=k.useState(!0),[O,V]=k.useState(null);k.useEffect(()=>{(async()=>{try{j(!0);const J=nn(Ze,"posts"),le=(await Jn(J)).docs.map(N=>({id:N.id,...N.data()}));le.forEach(N=>{N.image&&console.log(`Post ${N.id} image URL:`,N.image)});const L=le.map(N=>{const b=N;if(console.log(`Post ${N.id}:`,b),b.image){console.log(`Post ${N.id} image URL:`,b.image);const T=new Image;T.onload=()=>console.log(`Image for post ${N.id} loaded successfully`),T.onerror=()=>console.error(`Image for post ${N.id} failed to load`),T.src=b.image}else console.warn(`Post ${N.id} has no image URL`);return{...b,id:N.id}});A(L),V(null)}catch(J){console.error("Error fetching posts:",J),V("Failed to load posts")}finally{j(!1)}})()},[]);const B=$=>{$.preventDefault(),console.log("Email submitted:",s),i(!0),e(""),setTimeout(()=>i(!1),3e3)},F=async $=>{try{j(!0);let J=null;if($.image){const N=`post-images/${Date.now()}_${$.image.name}`;console.log("Uploading image with filename:",N);const b=es(ts,N);await kr(b,$.image),J=await ql(b),console.log("Image URL after upload:",J);try{const T=await fetch(J,{method:"HEAD"});console.log("Image URL test response:",T.status,T.ok)}catch(T){console.error("Error testing image URL:",T)}}const se={title:$.title,content:$.content,image:J,date:new Date().toLocaleDateString("sv-SE",{day:"numeric",month:"long",year:"numeric"}),createdAt:new Date().toISOString()};console.log("Saving post with data:",se);const le=await Mb(nn(Ze,"posts"),se);console.log("Post saved with ID:",le.id);const L={id:le.id,...se};A(N=>[L,...N]),c(!1),V(null)}catch(J){console.error("Error saving post:",J),V("Failed to save post")}finally{j(!1)}},G=async $=>{try{const J=v.find(se=>String(se.id)===String($));if(await jc(_t(Ze,"posts",String($))),J&&J.image)try{const le=(L=>{const N=L.match(/\/o\/(.+)\?alt=media/);return N?decodeURIComponent(N[1]):null})(J.image);if(le){const L=es(ts,le);await Dc(L)}}catch(se){console.error("Failed to delete image from storage:",se)}window.location.reload()}catch(J){console.error("Failed to delete post:",J)}};return u.jsxs("div",{className:"flex flex_col",children:[u.jsx("section",{className:"page_01 dynamic-background background-editable flex flex_col flex_j_E",id:"senaste-nytt-top-background",children:u.jsx("div",{className:"MaxWH flex flex_col flex_j_SA",children:u.jsx("div",{className:"om-oss-title flex flex_j_C flex_a_C",children:u.jsx(U,{textKey:"senaste-nytt-main-title",defaultText:"SENASTE NYTT",tag:"p",className:"fonts_huge senaste-nytt-main-title"})})})}),u.jsx("div",{className:"set-03 senaste-nytt-subscribe-section",children:u.jsxs("div",{className:"senaste-nytt-container flex flex_col flex_j_C flex_a_C font_white",children:[u.jsx(U,{textKey:"senaste-nytt-subscribe-title",defaultText:"Håll dig uppdaterad",tag:"h2",className:"fonts_large senaste-nytt-title"}),u.jsx(U,{textKey:"senaste-nytt-subscribe-description",defaultText:"Prenumerera på vårt nyhetsbrev för att få de senaste uppdateringarna om AIM Challenge direkt i din inkorg.",tag:"p",className:"fonts_small senaste-nytt-description"}),u.jsxs("form",{onSubmit:B,className:"senaste-nytt-form flex flex_col flex_a_C",children:[u.jsxs("div",{className:"senaste-nytt-form-input-container flex",children:[u.jsx("input",{type:"email",value:s,onChange:$=>e($.target.value),placeholder:"Din e-postadress",required:!0,className:"senaste-nytt-form-input fonts_small",id:"newsletter-email",name:"newsletter-email",autoComplete:"email"}),u.jsx("button",{type:"submit",className:"senaste-nytt-form-button fonts_small flex flex_j_C flex_a_C",children:u.jsx("span",{children:"Prenumerera"})})]}),t&&u.jsx("p",{className:"senaste-nytt-form-success",children:"Tack för din prenumeration!"})]})]})}),u.jsx("div",{className:"set-03 senaste-nytt-news-section",children:u.jsxs("div",{className:"senaste-nytt-container",children:[u.jsx(U,{textKey:"senaste-nytt-news-title",defaultText:"Nyheter",tag:"h2",className:"senaste-nytt-section-title"}),h&&u.jsx("div",{className:"senaste-nytt-admin-actions flex flex_j_E",children:u.jsx("button",{className:"senaste-nytt-create-post-button",onClick:()=>c(!0),children:"Skapa nytt inlägg"})}),u.jsx("div",{className:"senaste-nytt-news-grid",children:v.map($=>u.jsxs("div",{className:"senaste-nytt-news-card",children:[u.jsx("div",{className:"senaste-nytt-news-image-wrapper",children:$.image?u.jsx("img",{className:"senaste-nytt-news-image-alt",src:$.image,alt:$.title||"Post image"}):u.jsx("div",{className:"senaste-nytt-news-image senaste-nytt-news-image--empty",children:u.jsx("span",{children:"Ingen bild"})})}),u.jsxs("div",{className:"senaste-nytt-news-content",children:[u.jsx("h3",{className:"senaste-nytt-news-card-title",children:$.title}),u.jsx("p",{className:"senaste-nytt-news-date",children:$.date}),u.jsx("p",{className:"senaste-nytt-news-text",children:$.content}),u.jsx(Re,{to:`/news/${$.id}`,className:"senaste-nytt-read-more",children:p}),h&&u.jsx("button",{className:"senaste-nytt-delete-post-button",onClick:()=>{console.log("Post:",$),console.log("Post ID:",$.id),console.log("Post ID type:",typeof $.id),console.log("Post ID value:",String($.id)),G(String($.id))},children:"Ta bort"})]})]},$.id))})]})}),h&&u.jsx(PD,{isOpen:l,onClose:()=>c(!1),addPost:F}),u.jsx("div",{id:"senaste-nytt-background",className:"background-editable senaste-nytt-background-container locked-background page_01"})]})},VD=()=>{const{id:s}=QS(),e=Tr(),[t,i]=k.useState(null),[l,c]=k.useState(!0),[h,m]=k.useState(null);k.useEffect(()=>{(async()=>{try{c(!0);const v=_t(Ze,"posts",s),A=await Ii(v);A.exists()?(i({id:A.id,...A.data()}),m(null)):m("Nyheten kunde inte hittas")}catch(v){console.error("Error fetching post:",v),m("Ett fel uppstod när nyheten skulle hämtas")}finally{c(!1)}})()},[s]);const p=()=>{e("/senaste-nytt")};return l?u.jsx("div",{className:"flex flex_col flex_a_C flex_j_C",style:{minHeight:"50vh"},children:u.jsx("p",{className:"fonts_large",children:"Laddar..."})}):h?u.jsxs("div",{className:"flex flex_col flex_a_C flex_j_C",style:{minHeight:"50vh"},children:[u.jsx("p",{className:"fonts_large",children:h}),u.jsx("button",{onClick:p,className:"navbbutton button font_blue",style:{marginTop:"20px",padding:"10px 20px"},children:"Tillbaka till nyheter"})]}):t?u.jsxs("div",{className:"flex flex_col",children:[u.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",children:u.jsx("div",{className:"MaxWH flex flex_col flex_j_SA",children:u.jsx("div",{className:"om-oss-title flex flex_j_C flex_a_C",children:u.jsx("p",{className:"fonts_huge senaste-nytt-main-title",children:"NYHETER"})})})}),u.jsx("section",{style:{padding:"50px 0",backgroundColor:"#f5f5f5",width:"100vw"},children:u.jsxs("div",{className:"MaxWH",style:{padding:"0 20px",maxWidth:"1000px",margin:"0 auto"},children:[u.jsxs("button",{onClick:p,className:"navbbutton button font_blue",style:{marginBottom:"20px",padding:"10px 30px 10px 20px",display:"flex",alignItems:"center",gap:"5px",minWidth:"120px"},children:[u.jsx("span",{children:"←"})," ",u.jsx("span",{children:"Tillbaka"})]}),u.jsxs("div",{style:{backgroundColor:"white",borderRadius:"8px",overflow:"hidden",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[t.image&&u.jsx("div",{style:{height:"400px",backgroundImage:`url(${t.image})`,backgroundSize:"cover",backgroundPosition:"center"}}),u.jsxs("div",{style:{padding:"30px"},children:[u.jsx("h1",{className:"fonts_large font_blue",style:{marginBottom:"10px"},children:t.title}),u.jsx("p",{className:"fonts_small",style:{color:"#666",marginBottom:"30px"},children:t.date}),t.content.split(`
`).map((y,v)=>u.jsx("p",{className:"fonts_small",style:{marginBottom:"20px"},children:y},v))]})]}),u.jsx("div",{style:{marginTop:"30px",textAlign:"center"},children:u.jsxs("button",{onClick:p,className:"navbbutton button font_blue",style:{padding:"10px 30px 10px 20px",display:"flex",alignItems:"center",gap:"5px",minWidth:"120px"},children:[u.jsx("span",{children:"←"})," ",u.jsx("span",{children:"Tillbaka"})]})})]})}),u.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",style:{height:"50vh",width:"100vw"}})]}):u.jsxs("div",{className:"flex flex_col flex_a_C flex_j_C",style:{minHeight:"50vh"},children:[u.jsx("p",{className:"fonts_large",children:"Nyheten kunde inte hittas"}),u.jsx("button",{onClick:p,className:"navbbutton button font_blue",style:{marginTop:"20px",padding:"10px 20px"},children:"Tillbaka till nyheter"})]})},w0=()=>{const[s,e]=k.useState(""),[t,i]=k.useState(""),[l,c]=k.useState(""),[h,m]=k.useState(!1),p=Tr(),{login:y,isAuthenticated:v}=ys();k.useEffect(()=>{v&&p("/")},[v,p]);const A=async S=>{S.preventDefault(),m(!0),c("");try{const j=await y(s,t);j.success?(console.log("Login successful"),console.log("Current user after login:",{email:s,role:"admin"}),p("/")):c(j.message||"Ogiltigt e-post eller lösenord")}catch(j){console.error("Login error:",j),c("Ett fel uppstod vid inloggning. Försök igen.")}finally{m(!1)}};return u.jsxs("div",{className:"flex flex_col",children:[u.jsx("section",{className:"login-header-section dynamic-background flex flex_col flex_j_E",children:u.jsx("div",{className:"login-header-container flex flex_col flex_j_SA",children:u.jsx("div",{className:"login-title-container",children:u.jsx("p",{className:"fonts_huge login-title",children:"LOGGA IN"})})})}),u.jsx("div",{className:"login-form-wrapper",children:u.jsx("div",{className:"login-form-container",children:u.jsx("div",{className:"login-form",children:u.jsxs("div",{className:"login-card",children:[u.jsx("h2",{className:"fonts_medium font_blue login-subtitle",children:"Administratörsinloggning"}),l&&u.jsx("div",{className:"error-message",children:l}),u.jsxs("form",{onSubmit:A,children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"email",className:"fonts_small",children:"E-post"}),u.jsx("input",{type:"email",id:"email",value:s,onChange:S=>e(S.target.value),required:!0,className:"form-input"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"password",className:"fonts_small",children:"Lösenord"}),u.jsx("input",{type:"password",id:"password",value:t,onChange:S=>i(S.target.value),required:!0,className:"form-input"})]}),u.jsx("button",{type:"submit",className:"navbbutton button font_blue",disabled:h,children:h?"Loggar in...":"Logga in"})]}),u.jsx("div",{className:"login-note",children:u.jsx("p",{className:"fonts_small",style:{color:"#666"},children:"Detta är en inloggning endast för administratörer."})})]})})})}),u.jsx("section",{className:"login-background-section dynamic-background flex flex_col flex_j_E",children:u.jsx("div",{className:"login-background-container"})})]})},BD=()=>{const{textContent:s,updateText:e,isAdmin:t,currentLanguage:i,changeLanguage:l,LANGUAGES:c,LANGUAGE_NAMES:h}=Et(),{isAuthenticated:m}=ys(),p=Tr(),[y,v]=k.useState("metaTexts"),[A,S]=k.useState(!1),[j,O]=k.useState(i),[V,B]=k.useState({"meta-title-home":"Aim Challenge - Multisport tävling för alla","meta-description-home":"Aim Challenge är en multisport tävling som passar för alla. Lag på två personer ska under 6 timmar ta så många kontroller som möjligt.","meta-keywords-home":"multisport, tävling, aim challenge, orientering, löpning, cykling","meta-title-om-oss":"Om Oss - Aim Challenge","meta-description-om-oss":"Lär dig mer om Aim Challenge organisationen och vår mission.","meta-title-regler":"Regler - Aim Challenge","meta-description-regler":"Tävlingsregler och riktlinjer för Aim Challenge evenemang.","meta-title-senaste-nytt":"Senaste Nytt - Aim Challenge","meta-description-senaste-nytt":"Senaste nytt och uppdateringar från Aim Challenge."}),[F,G]=k.useState({"og-image-home":"/images/Aim_Challenge_logo_white.svg","og-image-om-oss":"/images/Aim_Challenge_logo_white.svg","og-image-regler":"/images/Aim_Challenge_logo_white.svg","og-image-senaste-nytt":"/images/Aim_Challenge_logo_white.svg"}),[$,J]=k.useState(null),[se,le]=k.useState(""),[L,N]=k.useState(null),[b,T]=k.useState(null);k.useEffect(()=>{(!m||!t)&&p("/")},[m,t,p]),k.useEffect(()=>{O(i)},[i]),k.useEffect(()=>{(()=>{const X={...V},ae={...F};Object.entries(s).forEach(([he,P])=>{typeof P=="object"&&P._isMultilingual?he.startsWith("meta-")?X[he]=P[j]||P[c.SWEDISH]||"":he.startsWith("og-image-")&&(ae[he]=P[j]||P[c.SWEDISH]||""):he.startsWith("meta-")?X[he]=P:he.startsWith("og-image-")&&(ae[he]=P)}),B(X),G(ae)})()},[s,j]);const C=(H,X)=>{J(H),le(X)},D=()=>{if($){const H=s[$];if(typeof H=="object"&&H._isMultilingual){const X={...H,[j]:se};e($,X)}else{const X={_isMultilingual:!0,[j]:se,[c.SWEDISH]:j===c.SWEDISH?se:H||""};e($,X)}$.startsWith("meta-")&&B(X=>({...X,[$]:se})),J(null),le("")}},w=()=>{J(null),le("")},z=(H,X)=>{const ae=H.target.files[0];if(ae){N(X);const he=new FileReader;he.onloadend=()=>{T(he.result)},he.readAsDataURL(ae);const P=es(ts,`sharing-images/${X}-${Date.now()}`);kr(P,ae).then(ne=>{ql(ne.ref).then(pe=>{e(X,pe),G(ge=>({...ge,[X]:pe})),N(null),T(null)})}).catch(ne=>{console.error("Error uploading image:",ne),N(null),T(null)})}};if(!m||!t)return null;const ee=H=>{O(H)};return u.jsxs("div",{className:"seo-manager",style:{padding:"20px"},children:[u.jsx("h1",{className:"font_blue fonts_big",style:{marginBottom:"20px"},children:"SEO Manager"}),u.jsxs("div",{style:{marginBottom:"20px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[u.jsxs("div",{children:[u.jsx("button",{className:`modal-button ${y==="metaTexts"?"modal-button-primary":"modal-button-secondary"}`,onClick:()=>v("metaTexts"),children:"Meta Texter"}),u.jsx("button",{className:`modal-button ${y==="sharingImages"?"modal-button-primary":"modal-button-secondary"}`,onClick:()=>v("sharingImages"),children:"Delningsbilder"})]}),u.jsxs("div",{className:"language-selector-container",style:{display:"flex",alignItems:"center"},children:[u.jsx("span",{style:{marginRight:"10px",fontSize:"14px",color:"#666"},children:"Redigera språk:"}),u.jsx("div",{className:"seo-language-tabs",children:Object.values(c).map(H=>u.jsx("button",{className:`seo-language-tab ${j===H?"seo-language-tab--active":""}`,onClick:()=>ee(H),style:{padding:"6px 12px",margin:"0 4px",border:"none",borderBottom:j===H?"2px solid #2D4F60":"2px solid transparent",background:"none",cursor:"pointer",fontSize:"14px",color:j===H?"#2D4F60":"#666",fontWeight:j===H?"bold":"normal"},children:h[H]},H))})]})]}),y==="metaTexts"&&u.jsxs("div",{className:"meta-texts-section",children:[u.jsx("p",{style:{marginBottom:"20px"},children:"Redigera meta-texter för att förbättra sökmotoroptimering (SEO) för din webbplats."}),u.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"20px"},children:Object.entries(V).map(([H,X])=>u.jsxs("div",{style:{border:"1px solid #ddd",borderRadius:"8px",padding:"15px",backgroundColor:"white",boxShadow:"0 2px 4px rgba(0,0,0,0.05)"},children:[u.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:u.jsx("h3",{className:"font_blue fonts_medium",style:{fontSize:"16px"},children:H})}),$===H?u.jsxs("div",{children:[u.jsx("textarea",{value:se,onChange:ae=>le(ae.target.value),style:{width:"100%",padding:"10px",borderRadius:"4px",border:"1px solid #ddd",minHeight:"100px",marginBottom:"10px"}}),u.jsxs("div",{style:{display:"flex",gap:"10px"},children:[u.jsx("button",{onClick:D,style:{padding:"8px 16px",backgroundColor:"#00b894",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Spara"}),u.jsx("button",{onClick:w,style:{padding:"8px 16px",backgroundColor:"#ccc",color:"black",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Avbryt"})]})]}):u.jsxs("div",{children:[u.jsx("p",{style:{backgroundColor:"#f5f5f5",padding:"10px",borderRadius:"4px",marginBottom:"10px"},children:X}),u.jsx("button",{onClick:()=>C(H,X),style:{width:"100%",padding:"8px",backgroundColor:"#0984e3",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Redigera"})]})]},H))})]}),y==="sharingImages"&&u.jsxs("div",{className:"sharing-images-section",children:[u.jsx("p",{style:{marginBottom:"20px"},children:"Ladda upp bilder som kommer att visas när dina sidor delas på sociala medier."}),u.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"20px"},children:Object.entries(F).map(([H,X])=>u.jsxs("div",{style:{border:"1px solid #ddd",borderRadius:"8px",padding:"15px",backgroundColor:"white",boxShadow:"0 2px 4px rgba(0,0,0,0.05)"},children:[u.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:u.jsx("h3",{className:"font_blue fonts_medium",style:{fontSize:"16px"},children:H})}),u.jsx("div",{style:{marginBottom:"15px"},children:L===H&&b?u.jsx("img",{src:b,alt:"Preview",style:{width:"100%",height:"200px",objectFit:"cover",borderRadius:"4px",border:"1px solid #eee"}}):u.jsx("img",{src:X||"/images/Aim_Challenge_logo_white.svg",alt:H,style:{width:"100%",height:"200px",objectFit:"cover",borderRadius:"4px",border:"1px solid #eee"}})}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:`image-upload-${H}`,style:{display:"block",width:"100%",padding:"8px",backgroundColor:"#0984e3",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",textAlign:"center"},children:L===H?"Laddar upp...":"Byt bild"}),u.jsx("input",{id:`image-upload-${H}`,type:"file",accept:"image/*",onChange:ae=>z(ae,H),style:{display:"none"},disabled:L!==null})]})]},H))})]})]})},zD=()=>{const{textContent:s,resetAllContent:e,removeContentItem:t,isAdmin:i}=Et(),{isAuthenticated:l}=ys(),[c,h]=k.useState(!1),[m,p]=k.useState(null),[y,v]=k.useState("content"),[A,S]=k.useState("all"),[j,O]=k.useState([]),[V,B]=k.useState([]),[F,G]=k.useState(!0),$=Tr();k.useEffect(()=>{if(!l||!i){$("/");return}(async()=>{G(!0);try{await Promise.all([J(),se()])}catch(ee){console.error("Error loading content data:",ee)}finally{G(!1)}})()},[l,i,$]);const J=async()=>{try{const z=nn(Ze,"faqs"),ee=await Jn(z),H=[];return ee.forEach(X=>{const ae=X.data();H.push({id:X.id,...ae})}),O(H),H}catch(z){return console.error("Error loading FAQ items:",z),[]}},se=async()=>{try{const z=nn(Ze,"backgroundSettings"),ee=await Jn(z),H=[];return ee.forEach(X=>{const ae=X.data();H.push({id:X.id,...ae})}),B(H),H}catch(z){return console.error("Error loading background settings:",z),[]}};if(!l||!i)return null;const le=()=>{h(!0),p(null)},L=z=>{h(!0),p(z)},N=()=>{m?t(m):e(),h(!1),p(null)},b=()=>{h(!1),p(null)},C=(()=>{const z={text:{},image:{},background:{},faq:{},backgroundSettings:{}};return Object.entries(s).forEach(([ee,H])=>{H.startsWith("data:image")||H.startsWith("http")||H.startsWith("/")?ee.includes("-bg")||ee.includes("background")?z.background[ee]=H:z.image[ee]=H:z.text[ee]=H}),j.forEach(ee=>{z.faq[ee.id]={question:ee.question,answer:ee.answer,category:ee.category}}),V.forEach(ee=>{z.backgroundSettings[ee.id]={elementId:ee.elementId,imageUrl:ee.imageUrl,type:ee.type}}),z})(),w=A==="all"?{...s,...Object.fromEntries(j.map(z=>[`faq-${z.id}`,`FAQ: ${z.question.substring(0,30)}...`])),...Object.fromEntries(V.map(z=>[`bg-${z.id}`,z.imageUrl]))}:C[A]||{};return u.jsxs("div",{className:"flex flex_col",style:{minHeight:"100vh"},children:[u.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",children:u.jsx("div",{className:"trans-background page_01box flex flex_col flex_j_SA",children:u.jsx("div",{className:"om-oss-title flex flex_j_C flex_a_C"})})}),u.jsx("div",{style:{padding:"30px 0 10px",maxWidth:"1200px",margin:"0 auto",width:"100%",textAlign:"center"},children:u.jsx("h1",{className:"font_blue fonts_huge",children:"Innehållshanterare"})}),u.jsxs("div",{style:{padding:"20px 40px 0",maxWidth:"1200px",margin:"0 auto",width:"100%",display:"flex",gap:"20px",borderBottom:"2px solid #eee"},children:[u.jsx("button",{onClick:()=>v("content"),style:{padding:"12px 24px",backgroundColor:y==="content"?"#2d4f60":"#e0e0e0",color:y==="content"?"white":"#333",border:"none",borderRadius:"4px 4px 0 0",cursor:"pointer",fontSize:"16px",fontWeight:"bold",position:"relative",bottom:y==="content"?"-2px":"0",borderBottom:y==="content"?"2px solid #2d4f60":"none"},children:"Innehåll"}),u.jsx("button",{onClick:()=>v("seo"),style:{padding:"14px 24px",backgroundColor:y==="seo"?"#2d4f60":"#e0e0e0",color:y==="seo"?"white":"#333",border:"none",borderRadius:"4px 4px 0 0",cursor:"pointer",fontSize:"16px",fontWeight:"bold",position:"relative",bottom:y==="seo"?"-2px":"0",borderBottom:y==="seo"?"2px solid #2d4f60":"none"},children:"SEO & Meta"})]}),y==="content"&&u.jsxs("section",{style:{padding:"40px",maxWidth:"1200px",margin:"0 auto"},children:[u.jsxs("div",{style:{marginBottom:"30px",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"20px"},children:[u.jsx("h2",{className:"font_blue fonts_large",children:"Alla redigerbara innehåll"}),u.jsx("button",{onClick:le,style:{padding:"24px",backgroundColor:"#ff4d4d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",whiteSpace:"wrap"},children:"Återställ allt innehåll"})]}),u.jsxs("div",{style:{marginBottom:"30px",display:"flex",gap:"10px",flexWrap:"wrap"},children:[u.jsx("button",{onClick:()=>S("all"),style:{padding:"8px 16px",backgroundColor:A==="all"?"#2d4f60":"#e0e0e0",color:A==="all"?"white":"#333",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Alla"}),u.jsx("button",{onClick:()=>S("text"),style:{padding:"8px 16px",backgroundColor:A==="text"?"#0984e3":"#e0e0e0",color:A==="text"?"white":"#333",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Text"}),u.jsx("button",{onClick:()=>S("image"),style:{padding:"8px 16px",backgroundColor:A==="image"?"#00b894":"#e0e0e0",color:A==="image"?"white":"#333",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Bilder"}),u.jsx("button",{onClick:()=>S("background"),style:{padding:"8px 16px",backgroundColor:A==="background"?"#6c5ce7":"#e0e0e0",color:A==="background"?"white":"#333",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Bakgrundsbilder"}),u.jsx("button",{onClick:()=>S("faq"),style:{padding:"8px 16px",backgroundColor:A==="faq"?"#e84393":"#e0e0e0",color:A==="faq"?"white":"#333",border:"none",borderRadius:"4px",cursor:"pointer",marginRight:"20px"},children:"FAQ"}),u.jsx("button",{onClick:()=>S("backgroundSettings"),style:{padding:"8px 12px",backgroundColor:A==="backgroundSettings"?"#fdcb6e":"#e0e0e0",color:A==="backgroundSettings"?"white":"#333",border:"none",borderRadius:"4px",cursor:"pointer",whiteSpace:"nowrap",minWidth:"180px",textAlign:"center"},children:"Bakgrundsinställningar"})]}),c&&u.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.7)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:9999},children:u.jsxs("div",{style:{backgroundColor:"white",padding:"30px",borderRadius:"8px",maxWidth:"500px",width:"90%",textAlign:"center"},children:[u.jsx("h3",{style:{marginBottom:"20px",color:"#00a6fb"},children:"Bekräfta åtgärd"}),u.jsx("p",{style:{marginBottom:"30px"},children:m?`Är du säker på att du vill ta bort innehållet med nyckeln "${m}"?`:"Är du säker på att du vill återställa allt innehåll? Detta kan inte ångras."}),u.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"20px"},children:[u.jsx("button",{onClick:N,style:{padding:"10px 20px",backgroundColor:"#ff4d4d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:m?"Ta bort":"Återställ allt"}),u.jsx("button",{onClick:b,style:{padding:"10px 20px",backgroundColor:"#ccc",color:"black",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Avbryt"})]})]})}),Object.keys(w).length===0?u.jsxs("p",{children:["Inga redigerade"," ",A==="text"?"texter":A==="image"?"bilder":A==="background"?"bakgrundsbilder":"innehåll"," ","ännu."]}):u.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"20px"},children:Object.entries(w).map(([z,ee])=>{const H=ee.startsWith("data:image")||ee.startsWith("http")||ee.startsWith("/"),X=z.includes("-bg")||z.includes("background");return u.jsxs("div",{style:{border:"1px solid #ddd",borderRadius:"8px",padding:"15px",backgroundColor:"white",boxShadow:"0 2px 4px rgba(0,0,0,0.05)"},children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:[u.jsx("h3",{className:"font_blue fonts_medium",style:{wordBreak:"break-all",fontSize:"16px"},children:z}),u.jsx("span",{style:{padding:"3px 8px",borderRadius:"4px",fontSize:"12px",backgroundColor:X?"#6c5ce7":H?"#00b894":"#0984e3",color:"white"},children:X?"Bakgrund":H?"Bild":"Text"})]}),u.jsx("div",{style:{marginBottom:"10px"},children:H?u.jsxs("div",{children:[u.jsx("img",{src:ee,alt:z,style:{width:"100%",height:X?"150px":"auto",maxHeight:"150px",objectFit:X?"cover":"contain",borderRadius:"4px",border:"1px solid #eee"}}),X&&u.jsx("div",{style:{marginTop:"5px",fontSize:"12px",color:"#666",textAlign:"center"},children:"Bakgrundsbild"})]}):u.jsx("p",{style:{maxHeight:"100px",overflow:"auto",backgroundColor:"#f5f5f5",padding:"10px",borderRadius:"4px",fontSize:"14px"},children:ee})}),u.jsx("button",{onClick:()=>L(z),style:{width:"100%",padding:"8px",backgroundColor:"#ff4d4d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px"},children:"Ta bort"})]},z)})})]}),y==="seo"&&u.jsx(BD,{})]})},HD=({children:s,requireAdmin:e=!1})=>{const{isAuthenticated:t,currentUser:i}=ys();return t?e&&(i==null?void 0:i.role)!=="admin"?u.jsx(qv,{to:"/"}):s:u.jsx(qv,{to:"/login"})},qD=k.createContext(),KD=({children:s})=>{const[e,t]=k.useState(()=>{const c=localStorage.getItem("preferredLanguage");return c&&Object.values(gr).includes(c)?c:MT});k.useEffect(()=>{localStorage.setItem("preferredLanguage",e)},[e]);const l={currentLanguage:e,changeLanguage:c=>Object.values(gr).includes(c)?(t(c),!0):!1,LANGUAGES:gr};return u.jsx(qD.Provider,{value:l,children:s})},FD=()=>{const[s,e]=k.useState(!1),[t,i]=k.useState(null),[l,c]=k.useState([]),[h,m]=k.useState({imageUrl:"",link:""}),[p,y]=k.useState([]),[v,A]=k.useState(!1),{isAdmin:S}=Et(),j=k.useRef(null),O=k.useRef(null),V=nn(Ze,"ads");k.useEffect(()=>{G()},[]),k.useEffect(()=>{const b=document.querySelectorAll(".ad-editable"),T=C=>{S&&(e(!0),i(C.currentTarget))};return b.forEach(C=>{C.removeEventListener("click",T),C.addEventListener("click",T),S&&C.classList.add("admin-editable")}),()=>{b.forEach(C=>{C.removeEventListener("click",T),S&&C.classList.remove("admin-editable")})}},[S]),k.useEffect(()=>{const b=async()=>{try{const D=(await Jn(V)).docs.map(w=>({id:w.id,...w.data()}));c(D),$(D)}catch{}};b();const T=setInterval(()=>{console.log("Refreshing ads from database"),b()},5*60*1e3);return()=>{clearInterval(T)}},[]),k.useEffect(()=>(document.addEventListener("mousedown",F),()=>{document.removeEventListener("mousedown",F)}),[]);const B=()=>{e(!1),i(null),m({imageUrl:"",link:""})},F=b=>{O.current&&!O.current.contains(b.target)&&B()},G=async()=>{try{console.log("Loading ads from Firestore");const T=(await Jn(V)).docs.map(C=>({id:C.id,...C.data()}));c(T),setTimeout(()=>{$(T)},100)}catch{}},$=b=>{const T=document.querySelectorAll(".ad-container"),C=b.filter(D=>D.imageUrl);if(T.forEach(D=>{console.log("Clearing container:",D.id||"unnamed"),D.querySelectorAll(".ad-item").forEach(ee=>{console.log("Removing existing ad item"),ee.remove()});const z=D.getAttribute("data-ad-interval");z&&(clearInterval(Number(z)),D.removeAttribute("data-ad-interval"))}),C.length===0){console.log("No valid ads to display, all ads cleared");return}T.forEach(D=>{D.querySelectorAll(".ad-item").forEach(he=>{he.remove()});let z=D.querySelector(".ad-content");if(z){let he=z.querySelector(".ad-carousel");if(!he)he=document.createElement("div"),he.className="ad-carousel",z.appendChild(he);else for(;he.firstChild;)he.removeChild(he.firstChild)}else{z=document.createElement("div"),z.className="ad-content";const he=document.createElement("div");he.textContent="ANNONS",he.className="annons-text",z.appendChild(he),D.appendChild(z)}const ee=z.querySelector(".ad-carousel");C.forEach((he,P)=>{const ne=document.createElement("div");ne.className=P===0?"ad-item active":"ad-item",ne.setAttribute("data-ad-id",he.id||"unknown"),ne.style.display=P===0?"block":"none";const pe=document.createElement("img");pe.src=he.imageUrl,pe.alt="Advertisement",ne.appendChild(pe),he.link&&!S&&(ne.onclick=ge=>{ge.preventDefault();let me=he.link;if(me.includes("localhost")||me.startsWith("/")){const Ne=me.match(/(?:https?:\/\/)?(?:localhost:[0-9]+\/)?([^\s]+)/);Ne&&Ne[1]&&(me=Ne[1])}!me.startsWith("http://")&&!me.startsWith("https://")&&(me="https://"+me),window.open(me,"_blank","noopener,noreferrer")},ne.style.cursor="pointer"),console.log("Adding ad with image:",he.imageUrl),ee.appendChild(ne)});let H=0;const ae=setInterval(()=>{const he=ee.querySelectorAll(".ad-item");he.length<=1||(he[H].classList.remove("active"),setTimeout(()=>{he[H].style.display="none",H=(H+1)%he.length,he[H].style.display="block",he[H].offsetHeight,setTimeout(()=>{he[H].classList.add("active")},50)},800))},8e3);D.setAttribute("data-ad-interval",ae)})};k.useEffect(()=>()=>{document.querySelectorAll(".ad-container").forEach(T=>{const C=T.getAttribute("data-ad-interval");C&&clearInterval(Number(C))})},[]);const J=b=>{if(b.target.files[0]){const T=b.target.files[0];se(T)}},se=async b=>{if(b){A(!0);try{const T=Date.now(),C=b.name?b.name.split(".").pop():"jpg",D=`ad_${T}.${C}`,w=es(ts,`gs://aimchallange-67039.firebasestorage.app/background-images/${D}`);console.log("Uploading ad image with new filename:",D),await kr(w,b);const z=await ql(w);m(ee=>({...ee,imageUrl:z})),y([...p,{url:z,name:D}])}catch{}finally{A(!1)}}},le=async()=>{if(h.imageUrl)try{const b=_t(V);await fs(b,{imageUrl:h.imageUrl,link:h.link,createdAt:new Date}),c([...l,{id:b.id,...h}]),m({imageUrl:"",link:""}),G()}catch(b){console.error("Error adding ad:",b)}},L=async b=>{try{if(b<0||b>=l.length)return;const T=l[b];if(!T||!T.id)return;const C=_t(V,T.id),D=await Ii(C);if(D.exists()){const w=D.data();if(console.log("Found ad document:",w),w.imageUrl)try{const ee=N(w.imageUrl);if(ee){const H=es(ts,`gs://aimchallange-67039.firebasestorage.app/background-images/${ee}`);await Dc(H)}}catch{}await jc(C);const z=[...l];z.splice(b,1),c(z),setTimeout(()=>{$(z)},100)}}catch{}},N=b=>{if(!b)return null;try{if(b.includes("firebasestorage.googleapis.com")){const D=b.match(/%2F([^?]+)/g);if(D&&D.length>0)return D[D.length-1].replace("%2F","").split("?")[0]}if(b.includes("ad_")){const D=/ad_[0-9]+\.[a-zA-Z]+/,w=b.match(D);if(w&&w.length>0)return w[0]}const T=b.split("/");return T[T.length-1].split("?")[0]}catch{return null}};return S?u.jsx(u.Fragment,{children:s&&u.jsx("div",{className:"background-editor-overlay",onClick:F,children:u.jsxs("div",{className:"background-editor-modal",ref:O,children:[u.jsxs("div",{className:"background-editor-modal__header",children:[u.jsx("h2",{className:"background-editor-modal__title",children:"Edit Ads"}),u.jsx("button",{className:"background-editor-modal__close",onClick:B,children:"×"})]}),u.jsxs("div",{className:"background-editor-modal__body",children:[u.jsx("h3",{className:"background-editor-modal__subtitle",children:"Current Ads"}),u.jsx("div",{className:"background-editor-modal__ad-list",children:l.length>0?l.map((b,T)=>u.jsxs("div",{className:"background-editor-modal__ad-item",children:[u.jsx("img",{src:b.imageUrl,alt:`Ad ${T+1}`,className:"background-editor-modal__ad-image"}),u.jsxs("div",{className:"background-editor-modal__ad-details",children:[u.jsx("p",{className:"background-editor-modal__ad-link",children:b.link?u.jsx("a",{href:b.link,target:"_blank",rel:"noopener noreferrer",children:b.link}):"No link"}),u.jsx("button",{onClick:()=>L(T),className:"background-editor-modal__button background-editor-modal__button--secondary",children:"Remove"})]})]},T)):u.jsx("p",{className:"background-editor-modal__empty-message",children:"No ads added yet."})}),u.jsx("h3",{className:"background-editor-modal__subtitle",children:"Add New Ad"}),u.jsxs("div",{className:"background-editor-modal__form",children:[u.jsxs("div",{className:"background-editor-modal__form-group",children:[u.jsx("label",{className:"background-editor-modal__label",children:"Image:"}),u.jsxs("div",{className:"background-editor-modal__image-upload",onClick:()=>j.current.click(),children:[h.imageUrl?u.jsx("div",{className:"background-editor-modal__image-preview-container",children:u.jsx("img",{src:h.imageUrl,alt:"Preview",className:"background-editor-modal__image-preview"})}):u.jsx("div",{className:"background-editor-modal__image-placeholder",children:"Click to upload an image"}),u.jsx("input",{type:"file",accept:"image/*",onChange:J,ref:j,className:"background-editor-modal__file-input",style:{display:"none"}})]}),v&&u.jsx("p",{className:"background-editor-modal__upload-status",children:"Uploading..."})]}),u.jsxs("div",{className:"background-editor-modal__form-group",children:[u.jsx("label",{className:"background-editor-modal__label",children:"Link (optional):"}),u.jsx("input",{type:"text",value:h.link,onChange:b=>m(T=>({...T,link:b.target.value})),placeholder:"https://example.com",className:"background-editor-modal__input"})]})]}),u.jsxs("div",{className:"background-editor-modal__footer",children:[u.jsx("button",{className:"background-editor-modal__button background-editor-modal__button--secondary",onClick:B,children:"Close"}),u.jsx("button",{className:"background-editor-modal__button background-editor-modal__button--primary",onClick:le,disabled:!h.imageUrl||v,children:"Add Ad"})]})]})]})})}):null},GD=()=>u.jsx("div",{className:"background-container",children:u.jsx("img",{src:"/backgrounds/Höjdkurvor.svg",alt:"Background"})}),$D=()=>{const s=ns(),{textContent:e,currentLanguage:t,LANGUAGES:i}=Et(),l=s.pathname;return k.useEffect(()=>{let c="home";l.includes("/om-oss")?c="om-oss":l.includes("/regler")?c="regler":l.includes("/senaste-nytt")?c="senaste-nytt":l.includes("/ulricehamn")?c="ulricehamn":l.includes("/hemsedal")?c="hemsedal":l.includes("/salen")?c="salen":l.includes("/kolmarden")?c="kolmarden":l.includes("/historien-om-aim")?c="historien-om-aim":l.includes("/faq")?c="faq":l.includes("/results")&&(c="results");const h=T=>{const C=e[T];return C&&typeof C=="object"&&C._isMultilingual?C[t]||C[i.SWEDISH]||"":C||""},m=`meta-title-${c}`,p=h(m);p?document.title=p:c!=="home"?document.title=`${c.charAt(0).toUpperCase()+c.slice(1).replace(/-/g," ")} - Aim Challenge`:document.title="Aim Challenge";const y=`meta-description-${c}`;let v=document.querySelector('meta[name="description"]');v||(v=document.createElement("meta"),v.name="description",document.head.appendChild(v));const A=h(y);A?v.content=A:v.content="Aim Challenge - A premier archery competition series";const S=`meta-keywords-${c}`;let j=document.querySelector('meta[name="keywords"]');j||(j=document.createElement("meta"),j.name="keywords",document.head.appendChild(j));const O=h(S);O?j.content=O:j.content="archery, competition, aim challenge, bow, arrow";const V=`og-image-${c}`;let B=document.querySelector('meta[property="og:title"]');B||(B=document.createElement("meta"),B.setAttribute("property","og:title"),document.head.appendChild(B)),B.content=document.title;let F=document.querySelector('meta[property="og:description"]');F||(F=document.createElement("meta"),F.setAttribute("property","og:description"),document.head.appendChild(F)),F.content=v.content;let G=document.querySelector('meta[property="og:url"]');G||(G=document.createElement("meta"),G.setAttribute("property","og:url"),document.head.appendChild(G)),G.content=window.location.href;let $=document.querySelector('meta[property="og:type"]');$||($=document.createElement("meta"),$.setAttribute("property","og:type"),document.head.appendChild($)),$.content="website";let J=document.querySelector('meta[property="og:image"]');J||(J=document.createElement("meta"),J.setAttribute("property","og:image"),document.head.appendChild(J));const se=h(V);se?se.startsWith("/")?J.content=`${window.location.origin}${se}`:J.content=se:J.content=`${window.location.origin}/images/logos/Aim_Challenge_logo_white.svg`;let le=document.querySelector('meta[name="twitter:card"]');le||(le=document.createElement("meta"),le.name="twitter:card",document.head.appendChild(le)),le.content="summary_large_image";let L=document.querySelector('meta[name="twitter:title"]');L||(L=document.createElement("meta"),L.name="twitter:title",document.head.appendChild(L)),L.content=document.title;let N=document.querySelector('meta[name="twitter:description"]');N||(N=document.createElement("meta"),N.name="twitter:description",document.head.appendChild(N)),N.content=v.content;let b=document.querySelector('meta[name="twitter:image"]');b||(b=document.createElement("meta"),b.name="twitter:image",document.head.appendChild(b)),b.content=J.content},[l,e]),null},QD=async(s,e,t="Admin")=>{try{const l=(await qj(kd,s,e)).user;return await Gj(l,{displayName:t}),await fs(_t(Ze,"users",l.uid),{email:s,displayName:t,role:"admin",createdAt:new Date}),{success:!0,user:{uid:l.uid,email:l.email,displayName:t,role:"admin"}}}catch(i){return console.error("Error creating admin user:",i),{success:!1,error:i.message}}},YD=async()=>{try{(await Ii(_t(Ze,"settings","admin"))).exists()||(await QD("admin@example.com","password123")).success&&(await fs(_t(Ze,"settings","admin"),{initialized:!0,adminEmail:"admin@example.com",createdAt:new Date}),console.log("Admin user initialized successfully"))}catch(s){console.error("Error initializing admin user:",s)}},WD=()=>(k.useEffect(()=>{YD().then(()=>console.log("Admin user initialized")).catch(s=>console.error("Error initializing admin user:",s))},[]),u.jsx(uD,{children:u.jsx(KD,{children:u.jsx(fD,{children:u.jsxs(Dw,{children:[u.jsx($D,{}),u.jsxs("div",{className:"flex flex_col MaxWH location",style:{width:"100%",maxWidth:"100%",overflow:"hidden",margin:0,padding:0,display:"flex",flexDirection:"column",position:"relative"},children:[u.jsx(GD,{}),u.jsx(mD,{}),u.jsx(Ks,{}),u.jsx(FD,{}),u.jsx("div",{style:{margin:0,padding:0,width:"100%",position:"relative",top:0},children:u.jsxs(cw,{children:[u.jsx(Pt,{path:"/",element:u.jsx(pD,{})}),u.jsx(Pt,{path:"/competitions",element:u.jsx(yD,{})}),u.jsx(Pt,{path:"/ulricehamn",element:u.jsx(_D,{})}),u.jsx(Pt,{path:"/salen",element:u.jsx(vD,{})}),u.jsx(Pt,{path:"/hemsedal",element:u.jsx(xD,{})}),u.jsx(Pt,{path:"/kolmarden",element:u.jsx(ED,{})}),u.jsx(Pt,{path:"/trippeln",element:u.jsx(bD,{})}),u.jsx(Pt,{path:"/results",element:u.jsx(ND,{})}),u.jsx(Pt,{path:"/gallery",element:u.jsxs(u.Fragment,{children:[u.jsx(RD,{}),u.jsx(kD,{})]})}),u.jsx(Pt,{path:"/om-oss",element:u.jsx(CD,{})}),u.jsx(Pt,{path:"/regler",element:u.jsx(jD,{})}),u.jsx(Pt,{path:"/faq",element:u.jsx(MD,{})}),u.jsx(Pt,{path:"/historien-om-aim",element:u.jsx(LD,{})}),u.jsx(Pt,{path:"/senaste-nytt",element:u.jsx(UD,{})}),u.jsx(Pt,{path:"/news/:id",element:u.jsx(VD,{})}),u.jsx(Pt,{path:"/login",element:u.jsx(w0,{})}),u.jsx(Pt,{path:"login",element:u.jsx(w0,{})}),u.jsx(Pt,{path:"/content-manager",element:u.jsx(HD,{requireAdmin:!0,children:u.jsx(zD,{})})})]})}),u.jsx(gD,{})]})]})})})}));(function(){const s=sessionStorage.redirect;delete sessionStorage.redirect,s&&s!==location.href&&history.replaceState(null,null,s)})();const XD=document.getElementById("root");yS.createRoot(XD).render(u.jsx(uS.StrictMode,{children:u.jsx(WD,{})}));
//# sourceMappingURL=index-VQ5sTnVM.js.map
