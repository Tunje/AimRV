(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();function yg(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var xm={exports:{}},Qo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nv;function nS(){if(Nv)return Qo;Nv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,l,c){var h=null;if(c!==void 0&&(h=""+c),l.key!==void 0&&(h=""+l.key),"key"in l){c={};for(var m in l)m!=="key"&&(c[m]=l[m])}else c=l;return l=c.ref,{$$typeof:s,type:a,key:h,ref:l!==void 0?l:null,props:c}}return Qo.Fragment=e,Qo.jsx=n,Qo.jsxs=n,Qo}var Rv;function sS(){return Rv||(Rv=1,xm.exports=nS()),xm.exports}var u=sS(),Em={exports:{}},je={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kv;function iS(){if(kv)return je;kv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.iterator;function A(M){return M===null||typeof M!="object"?null:(M=T&&M[T]||M["@@iterator"],typeof M=="function"?M:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,B={};function j(M,ne,pe){this.props=M,this.context=ne,this.refs=B,this.updater=pe||C}j.prototype.isReactComponent={},j.prototype.setState=function(M,ne){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,ne,"setState")},j.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function z(){}z.prototype=j.prototype;function q(M,ne,pe){this.props=M,this.context=ne,this.refs=B,this.updater=pe||C}var G=q.prototype=new z;G.constructor=q,O(G,j.prototype),G.isPureReactComponent=!0;var Z=Array.isArray,X={H:null,A:null,T:null,S:null},le=Object.prototype.hasOwnProperty;function V(M,ne,pe,ge,me,we){return pe=we.ref,{$$typeof:s,type:M,key:ne,ref:pe!==void 0?pe:null,props:we}}function k(M,ne){return V(M.type,ne,void 0,void 0,void 0,M.props)}function b(M){return typeof M=="object"&&M!==null&&M.$$typeof===s}function S(M){var ne={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(pe){return ne[pe]})}var D=/\/+/g;function U(M,ne){return typeof M=="object"&&M!==null&&M.key!=null?S(""+M.key):ne.toString(36)}function w(){}function F(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(w,w):(M.status="pending",M.then(function(ne){M.status==="pending"&&(M.status="fulfilled",M.value=ne)},function(ne){M.status==="pending"&&(M.status="rejected",M.reason=ne)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function ee(M,ne,pe,ge,me){var we=typeof M;(we==="undefined"||we==="boolean")&&(M=null);var ke=!1;if(M===null)ke=!0;else switch(we){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(M.$$typeof){case s:case e:ke=!0;break;case v:return ke=M._init,ee(ke(M._payload),ne,pe,ge,me)}}if(ke)return me=me(M),ke=ge===""?"."+U(M,0):ge,Z(me)?(pe="",ke!=null&&(pe=ke.replace(D,"$&/")+"/"),ee(me,ne,pe,"",function(ut){return ut})):me!=null&&(b(me)&&(me=k(me,pe+(me.key==null||M&&M.key===me.key?"":(""+me.key).replace(D,"$&/")+"/")+ke)),ne.push(me)),1;ke=0;var Et=ge===""?".":ge+":";if(Z(M))for(var Ke=0;Ke<M.length;Ke++)ge=M[Ke],we=Et+U(ge,Ke),ke+=ee(ge,ne,pe,we,me);else if(Ke=A(M),typeof Ke=="function")for(M=Ke.call(M),Ke=0;!(ge=M.next()).done;)ge=ge.value,we=Et+U(ge,Ke++),ke+=ee(ge,ne,pe,we,me);else if(we==="object"){if(typeof M.then=="function")return ee(F(M),ne,pe,ge,me);throw ne=String(M),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return ke}function Y(M,ne,pe){if(M==null)return M;var ge=[],me=0;return ee(M,ge,"","",function(we){return ne.call(pe,we,me++)}),ge}function re(M){if(M._status===-1){var ne=M._result;ne=ne(),ne.then(function(pe){(M._status===0||M._status===-1)&&(M._status=1,M._result=pe)},function(pe){(M._status===0||M._status===-1)&&(M._status=2,M._result=pe)}),M._status===-1&&(M._status=0,M._result=ne)}if(M._status===1)return M._result.default;throw M._result}var ae=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function he(){}return je.Children={map:Y,forEach:function(M,ne,pe){Y(M,function(){ne.apply(this,arguments)},pe)},count:function(M){var ne=0;return Y(M,function(){ne++}),ne},toArray:function(M){return Y(M,function(ne){return ne})||[]},only:function(M){if(!b(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},je.Component=j,je.Fragment=n,je.Profiler=l,je.PureComponent=q,je.StrictMode=a,je.Suspense=p,je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=X,je.act=function(){throw Error("act(...) is not supported in production builds of React.")},je.cache=function(M){return function(){return M.apply(null,arguments)}},je.cloneElement=function(M,ne,pe){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ge=O({},M.props),me=M.key,we=void 0;if(ne!=null)for(ke in ne.ref!==void 0&&(we=void 0),ne.key!==void 0&&(me=""+ne.key),ne)!le.call(ne,ke)||ke==="key"||ke==="__self"||ke==="__source"||ke==="ref"&&ne.ref===void 0||(ge[ke]=ne[ke]);var ke=arguments.length-2;if(ke===1)ge.children=pe;else if(1<ke){for(var Et=Array(ke),Ke=0;Ke<ke;Ke++)Et[Ke]=arguments[Ke+2];ge.children=Et}return V(M.type,me,void 0,void 0,we,ge)},je.createContext=function(M){return M={$$typeof:h,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:c,_context:M},M},je.createElement=function(M,ne,pe){var ge,me={},we=null;if(ne!=null)for(ge in ne.key!==void 0&&(we=""+ne.key),ne)le.call(ne,ge)&&ge!=="key"&&ge!=="__self"&&ge!=="__source"&&(me[ge]=ne[ge]);var ke=arguments.length-2;if(ke===1)me.children=pe;else if(1<ke){for(var Et=Array(ke),Ke=0;Ke<ke;Ke++)Et[Ke]=arguments[Ke+2];me.children=Et}if(M&&M.defaultProps)for(ge in ke=M.defaultProps,ke)me[ge]===void 0&&(me[ge]=ke[ge]);return V(M,we,void 0,void 0,null,me)},je.createRef=function(){return{current:null}},je.forwardRef=function(M){return{$$typeof:m,render:M}},je.isValidElement=b,je.lazy=function(M){return{$$typeof:v,_payload:{_status:-1,_result:M},_init:re}},je.memo=function(M,ne){return{$$typeof:y,type:M,compare:ne===void 0?null:ne}},je.startTransition=function(M){var ne=X.T,pe={};X.T=pe;try{var ge=M(),me=X.S;me!==null&&me(pe,ge),typeof ge=="object"&&ge!==null&&typeof ge.then=="function"&&ge.then(he,ae)}catch(we){ae(we)}finally{X.T=ne}},je.unstable_useCacheRefresh=function(){return X.H.useCacheRefresh()},je.use=function(M){return X.H.use(M)},je.useActionState=function(M,ne,pe){return X.H.useActionState(M,ne,pe)},je.useCallback=function(M,ne){return X.H.useCallback(M,ne)},je.useContext=function(M){return X.H.useContext(M)},je.useDebugValue=function(){},je.useDeferredValue=function(M,ne){return X.H.useDeferredValue(M,ne)},je.useEffect=function(M,ne){return X.H.useEffect(M,ne)},je.useId=function(){return X.H.useId()},je.useImperativeHandle=function(M,ne,pe){return X.H.useImperativeHandle(M,ne,pe)},je.useInsertionEffect=function(M,ne){return X.H.useInsertionEffect(M,ne)},je.useLayoutEffect=function(M,ne){return X.H.useLayoutEffect(M,ne)},je.useMemo=function(M,ne){return X.H.useMemo(M,ne)},je.useOptimistic=function(M,ne){return X.H.useOptimistic(M,ne)},je.useReducer=function(M,ne,pe){return X.H.useReducer(M,ne,pe)},je.useRef=function(M){return X.H.useRef(M)},je.useState=function(M){return X.H.useState(M)},je.useSyncExternalStore=function(M,ne,pe){return X.H.useSyncExternalStore(M,ne,pe)},je.useTransition=function(){return X.H.useTransition()},je.version="19.0.0",je}var Cv;function _g(){return Cv||(Cv=1,Em.exports=iS()),Em.exports}var I=_g();const aS=yg(I);var bm={exports:{}},Yo={},Tm={exports:{}},Am={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iv;function rS(){return Iv||(Iv=1,function(s){function e(Y,re){var ae=Y.length;Y.push(re);e:for(;0<ae;){var he=ae-1>>>1,M=Y[he];if(0<l(M,re))Y[he]=re,Y[ae]=M,ae=he;else break e}}function n(Y){return Y.length===0?null:Y[0]}function a(Y){if(Y.length===0)return null;var re=Y[0],ae=Y.pop();if(ae!==re){Y[0]=ae;e:for(var he=0,M=Y.length,ne=M>>>1;he<ne;){var pe=2*(he+1)-1,ge=Y[pe],me=pe+1,we=Y[me];if(0>l(ge,ae))me<M&&0>l(we,ge)?(Y[he]=we,Y[me]=ae,he=me):(Y[he]=ge,Y[pe]=ae,he=pe);else if(me<M&&0>l(we,ae))Y[he]=we,Y[me]=ae,he=me;else break e}}return re}function l(Y,re){var ae=Y.sortIndex-re.sortIndex;return ae!==0?ae:Y.id-re.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var h=Date,m=h.now();s.unstable_now=function(){return h.now()-m}}var p=[],y=[],v=1,T=null,A=3,C=!1,O=!1,B=!1,j=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function G(Y){for(var re=n(y);re!==null;){if(re.callback===null)a(y);else if(re.startTime<=Y)a(y),re.sortIndex=re.expirationTime,e(p,re);else break;re=n(y)}}function Z(Y){if(B=!1,G(Y),!O)if(n(p)!==null)O=!0,F();else{var re=n(y);re!==null&&ee(Z,re.startTime-Y)}}var X=!1,le=-1,V=5,k=-1;function b(){return!(s.unstable_now()-k<V)}function S(){if(X){var Y=s.unstable_now();k=Y;var re=!0;try{e:{O=!1,B&&(B=!1,z(le),le=-1),C=!0;var ae=A;try{t:{for(G(Y),T=n(p);T!==null&&!(T.expirationTime>Y&&b());){var he=T.callback;if(typeof he=="function"){T.callback=null,A=T.priorityLevel;var M=he(T.expirationTime<=Y);if(Y=s.unstable_now(),typeof M=="function"){T.callback=M,G(Y),re=!0;break t}T===n(p)&&a(p),G(Y)}else a(p);T=n(p)}if(T!==null)re=!0;else{var ne=n(y);ne!==null&&ee(Z,ne.startTime-Y),re=!1}}break e}finally{T=null,A=ae,C=!1}re=void 0}}finally{re?D():X=!1}}}var D;if(typeof q=="function")D=function(){q(S)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,w=U.port2;U.port1.onmessage=S,D=function(){w.postMessage(null)}}else D=function(){j(S,0)};function F(){X||(X=!0,D())}function ee(Y,re){le=j(function(){Y(s.unstable_now())},re)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(Y){Y.callback=null},s.unstable_continueExecution=function(){O||C||(O=!0,F())},s.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<Y?Math.floor(1e3/Y):5},s.unstable_getCurrentPriorityLevel=function(){return A},s.unstable_getFirstCallbackNode=function(){return n(p)},s.unstable_next=function(Y){switch(A){case 1:case 2:case 3:var re=3;break;default:re=A}var ae=A;A=re;try{return Y()}finally{A=ae}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(Y,re){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ae=A;A=Y;try{return re()}finally{A=ae}},s.unstable_scheduleCallback=function(Y,re,ae){var he=s.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?he+ae:he):ae=he,Y){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=ae+M,Y={id:v++,callback:re,priorityLevel:Y,startTime:ae,expirationTime:M,sortIndex:-1},ae>he?(Y.sortIndex=ae,e(y,Y),n(p)===null&&Y===n(y)&&(B?(z(le),le=-1):B=!0,ee(Z,ae-he))):(Y.sortIndex=M,e(p,Y),O||C||(O=!0,F())),Y},s.unstable_shouldYield=b,s.unstable_wrapCallback=function(Y){var re=A;return function(){var ae=A;A=re;try{return Y.apply(this,arguments)}finally{A=ae}}}}(Am)),Am}var jv;function lS(){return jv||(jv=1,Tm.exports=rS()),Tm.exports}var Sm={exports:{}},en={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dv;function oS(){if(Dv)return en;Dv=1;var s=_g();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)y+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(p,y,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:T==null?null:""+T,children:p,containerInfo:y,implementation:v}}var h=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,en.createPortal=function(p,y){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(p,y,null,v)},en.flushSync=function(p){var y=h.T,v=a.p;try{if(h.T=null,a.p=2,p)return p()}finally{h.T=y,a.p=v,a.d.f()}},en.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(p,y))},en.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},en.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var v=y.as,T=m(v,y.crossOrigin),A=typeof y.integrity=="string"?y.integrity:void 0,C=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;v==="style"?a.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:T,integrity:A,fetchPriority:C}):v==="script"&&a.d.X(p,{crossOrigin:T,integrity:A,fetchPriority:C,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},en.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var v=m(y.as,y.crossOrigin);a.d.M(p,{crossOrigin:v,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(p)},en.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var v=y.as,T=m(v,y.crossOrigin);a.d.L(p,v,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},en.preloadModule=function(p,y){if(typeof p=="string")if(y){var v=m(y.as,y.crossOrigin);a.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:v,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(p)},en.requestFormReset=function(p){a.d.r(p)},en.unstable_batchedUpdates=function(p,y){return p(y)},en.useFormState=function(p,y,v){return h.H.useFormState(p,y,v)},en.useFormStatus=function(){return h.H.useHostTransitionStatus()},en.version="19.0.0",en}var Ov;function A0(){if(Ov)return Sm.exports;Ov=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Sm.exports=oS(),Sm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mv;function cS(){if(Mv)return Yo;Mv=1;var s=lS(),e=_g(),n=A0();function a(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)i+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var c=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),A=Symbol.for("react.consumer"),C=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),G=Symbol.for("react.offscreen"),Z=Symbol.for("react.memo_cache_sentinel"),X=Symbol.iterator;function le(t){return t===null||typeof t!="object"?null:(t=X&&t[X]||t["@@iterator"],typeof t=="function"?t:null)}var V=Symbol.for("react.client.reference");function k(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===V?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case p:return"Fragment";case m:return"Portal";case v:return"Profiler";case y:return"StrictMode";case B:return"Suspense";case j:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case C:return(t.displayName||"Context")+".Provider";case A:return(t._context.displayName||"Context")+".Consumer";case O:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case z:return i=t.displayName||null,i!==null?i:k(t.type)||"Memo";case q:i=t._payload,t=t._init;try{return k(t(i))}catch{}}return null}var b=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,S=Object.assign,D,U;function w(t){if(D===void 0)try{throw Error()}catch(r){var i=r.stack.trim().match(/\n( *(at )?)/);D=i&&i[1]||"",U=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+D+t+U}var F=!1;function ee(t,i){if(!t||F)return"";F=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var de=function(){throw Error()};if(Object.defineProperty(de.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(de,[])}catch(se){var J=se}Reflect.construct(t,[],de)}else{try{de.call()}catch(se){J=se}t.call(de.prototype)}}else{try{throw Error()}catch(se){J=se}(de=t())&&typeof de.catch=="function"&&de.catch(function(){})}}catch(se){if(se&&J&&typeof se.stack=="string")return[se.stack,J.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=o.DetermineComponentFrameRoot(),E=g[0],N=g[1];if(E&&N){var L=E.split(`
`),K=N.split(`
`);for(f=o=0;o<L.length&&!L[o].includes("DetermineComponentFrameRoot");)o++;for(;f<K.length&&!K[f].includes("DetermineComponentFrameRoot");)f++;if(o===L.length||f===K.length)for(o=L.length-1,f=K.length-1;1<=o&&0<=f&&L[o]!==K[f];)f--;for(;1<=o&&0<=f;o--,f--)if(L[o]!==K[f]){if(o!==1||f!==1)do if(o--,f--,0>f||L[o]!==K[f]){var ie=`
`+L[o].replace(" at new "," at ");return t.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",t.displayName)),ie}while(1<=o&&0<=f);break}}}finally{F=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?w(r):""}function Y(t){switch(t.tag){case 26:case 27:case 5:return w(t.type);case 16:return w("Lazy");case 13:return w("Suspense");case 19:return w("SuspenseList");case 0:case 15:return t=ee(t.type,!1),t;case 11:return t=ee(t.type.render,!1),t;case 1:return t=ee(t.type,!0),t;default:return""}}function re(t){try{var i="";do i+=Y(t),t=t.return;while(t);return i}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function ae(t){var i=t,r=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(r=i.return),t=i.return;while(t)}return i.tag===3?r:null}function he(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function M(t){if(ae(t)!==t)throw Error(a(188))}function ne(t){var i=t.alternate;if(!i){if(i=ae(t),i===null)throw Error(a(188));return i!==t?null:t}for(var r=t,o=i;;){var f=r.return;if(f===null)break;var g=f.alternate;if(g===null){if(o=f.return,o!==null){r=o;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===r)return M(f),t;if(g===o)return M(f),i;g=g.sibling}throw Error(a(188))}if(r.return!==o.return)r=f,o=g;else{for(var E=!1,N=f.child;N;){if(N===r){E=!0,r=f,o=g;break}if(N===o){E=!0,o=f,r=g;break}N=N.sibling}if(!E){for(N=g.child;N;){if(N===r){E=!0,r=g,o=f;break}if(N===o){E=!0,o=g,r=f;break}N=N.sibling}if(!E)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:i}function pe(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=pe(t),i!==null)return i;t=t.sibling}return null}var ge=Array.isArray,me=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,we={pending:!1,data:null,method:null,action:null},ke=[],Et=-1;function Ke(t){return{current:t}}function ut(t){0>Et||(t.current=ke[Et],ke[Et]=null,Et--)}function Xe(t,i){Et++,ke[Et]=t.current,t.current=i}var rn=Ke(null),Vs=Ke(null),Cn=Ke(null),bi=Ke(null);function Ti(t,i){switch(Xe(Cn,i),Xe(Vs,t),Xe(rn,null),t=i.nodeType,t){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?nv(i):0;break;default:if(t=t===8?i.parentNode:i,i=t.tagName,t=t.namespaceURI)t=nv(t),i=sv(t,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ut(rn),Xe(rn,i)}function Us(){ut(rn),ut(Vs),ut(Cn)}function Hl(t){t.memoizedState!==null&&Xe(bi,t);var i=rn.current,r=sv(i,t.type);i!==r&&(Xe(Vs,t),Xe(rn,r))}function Sr(t){Vs.current===t&&(ut(rn),ut(Vs)),bi.current===t&&(ut(bi),qo._currentValue=we)}var wr=Object.prototype.hasOwnProperty,Na=s.unstable_scheduleCallback,Nr=s.unstable_cancelCallback,Eh=s.unstable_shouldYield,ql=s.unstable_requestPaint,gn=s.unstable_now,Pc=s.unstable_getCurrentPriorityLevel,Nt=s.unstable_ImmediatePriority,Lt=s.unstable_UserBlockingPriority,Bs=s.unstable_NormalPriority,Vc=s.unstable_LowPriority,Kl=s.unstable_IdlePriority,bh=s.log,Ra=s.unstable_setDisableYieldValue,Ai=null,Zt=null;function Fl(t){if(Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(Ai,t,void 0,(t.current.flags&128)===128)}catch{}}function hs(t){if(typeof bh=="function"&&Ra(t),Zt&&typeof Zt.setStrictMode=="function")try{Zt.setStrictMode(Ai,t)}catch{}}var ln=Math.clz32?Math.clz32:Bc,Gl=Math.log,Uc=Math.LN2;function Bc(t){return t>>>=0,t===0?32:31-(Gl(t)/Uc|0)|0}var fs=128,Si=4194304;function Zn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function In(t,i){var r=t.pendingLanes;if(r===0)return 0;var o=0,f=t.suspendedLanes,g=t.pingedLanes,E=t.warmLanes;t=t.finishedLanes!==0;var N=r&134217727;return N!==0?(r=N&~f,r!==0?o=Zn(r):(g&=N,g!==0?o=Zn(g):t||(E=N&~E,E!==0&&(o=Zn(E))))):(N=r&~f,N!==0?o=Zn(N):g!==0?o=Zn(g):t||(E=r&~E,E!==0&&(o=Zn(E)))),o===0?0:i!==0&&i!==o&&(i&f)===0&&(f=o&-o,E=i&-i,f>=E||f===32&&(E&4194176)!==0)?i:o}function wi(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Rr(t,i){switch(t){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $l(){var t=fs;return fs<<=1,(fs&4194176)===0&&(fs=128),t}function Ni(){var t=Si;return Si<<=1,(Si&62914560)===0&&(Si=4194304),t}function kr(t){for(var i=[],r=0;31>r;r++)i.push(t);return i}function _t(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function zc(t,i,r,o,f,g){var E=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var N=t.entanglements,L=t.expirationTimes,K=t.hiddenUpdates;for(r=E&~r;0<r;){var ie=31-ln(r),de=1<<ie;N[ie]=0,L[ie]=-1;var J=K[ie];if(J!==null)for(K[ie]=null,ie=0;ie<J.length;ie++){var se=J[ie];se!==null&&(se.lane&=-536870913)}r&=~de}o!==0&&Ri(t,o,0),g!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=g&~(E&~i))}function Ri(t,i,r){t.pendingLanes|=i,t.suspendedLanes&=~i;var o=31-ln(i);t.entangledLanes|=i,t.entanglements[o]=t.entanglements[o]|1073741824|r&4194218}function ki(t,i){var r=t.entangledLanes|=i;for(t=t.entanglements;r;){var o=31-ln(r),f=1<<o;f&i|t[o]&i&&(t[o]|=i),r&=~f}}function Hc(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function qc(){var t=me.p;return t!==0?t:(t=window.event,t===void 0?32:Ev(t.type))}function Ci(t,i){var r=me.p;try{return me.p=t,i()}finally{me.p=r}}var ms=Math.random().toString(36).slice(2),Pt="__reactFiber$"+ms,Rt="__reactProps$"+ms,zs="__reactContainer$"+ms,ka="__reactEvents$"+ms,Cr="__reactListeners$"+ms,gs="__reactHandles$"+ms,Ql="__reactResources$"+ms,Ii="__reactMarker$"+ms;function Ca(t){delete t[Pt],delete t[Rt],delete t[ka],delete t[Cr],delete t[gs]}function Jn(t){var i=t[Pt];if(i)return i;for(var r=t.parentNode;r;){if(i=r[zs]||r[Pt]){if(r=i.alternate,i.child!==null||r!==null&&r.child!==null)for(t=rv(t);t!==null;){if(r=t[Pt])return r;t=rv(t)}return i}t=r,r=t.parentNode}return null}function Hs(t){if(t=t[Pt]||t[zs]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function ji(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(a(33))}function Di(t){var i=t[Ql];return i||(i=t[Ql]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function rt(t){t[Ii]=!0}var Yl=new Set,Ir={};function xn(t,i){pn(t,i),pn(t+"Capture",i)}function pn(t,i){for(Ir[t]=i,t=0;t<i.length;t++)Yl.add(i[t])}var En=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Th=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Wl={},Xl={};function Kc(t){return wr.call(Xl,t)?!0:wr.call(Wl,t)?!1:Th.test(t)?Xl[t]=!0:(Wl[t]=!0,!1)}function Oi(t,i,r){if(Kc(i))if(r===null)t.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+r)}}function Mi(t,i,r){if(r===null)t.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+r)}}function jn(t,i,r,o){if(o===null)t.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(i,r,""+o)}}function on(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Fc(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ah(t){var i=Fc(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),o=""+t[i];if(!t.hasOwnProperty(i)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var f=r.get,g=r.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(E){o=""+E,g.call(this,E)}}),Object.defineProperty(t,i,{enumerable:r.enumerable}),{getValue:function(){return o},setValue:function(E){o=""+E},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ia(t){t._valueTracker||(t._valueTracker=Ah(t))}function Zl(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var r=i.getValue(),o="";return t&&(o=Fc(t)?t.checked?"true":"false":t.value),t=o,t!==r?(i.setValue(t),!0):!1}function jr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var qs=/[\n"\\]/g;function dt(t){return t.replace(qs,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Li(t,i,r,o,f,g,E,N){t.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.type=E:t.removeAttribute("type"),i!=null?E==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+on(i)):t.value!==""+on(i)&&(t.value=""+on(i)):E!=="submit"&&E!=="reset"||t.removeAttribute("value"),i!=null?Dr(t,E,on(i)):r!=null?Dr(t,E,on(r)):o!=null&&t.removeAttribute("value"),f==null&&g!=null&&(t.defaultChecked=!!g),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?t.name=""+on(N):t.removeAttribute("name")}function ja(t,i,r,o,f,g,E,N){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.type=g),i!=null||r!=null){if(!(g!=="submit"&&g!=="reset"||i!=null))return;r=r!=null?""+on(r):"",i=i!=null?""+on(i):r,N||i===t.value||(t.value=i),t.defaultValue=i}o=o??f,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=N?t.checked:!!o,t.defaultChecked=!!o,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(t.name=E)}function Dr(t,i,r){i==="number"&&jr(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Fe(t,i,r,o){if(t=t.options,i){i={};for(var f=0;f<r.length;f++)i["$"+r[f]]=!0;for(r=0;r<t.length;r++)f=i.hasOwnProperty("$"+t[r].value),t[r].selected!==f&&(t[r].selected=f),f&&o&&(t[r].defaultSelected=!0)}else{for(r=""+on(r),i=null,f=0;f<t.length;f++){if(t[f].value===r){t[f].selected=!0,o&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function Da(t,i,r){if(i!=null&&(i=""+on(i),i!==t.value&&(t.value=i),r==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=r!=null?""+on(r):""}function Pi(t,i,r,o){if(i==null){if(o!=null){if(r!=null)throw Error(a(92));if(ge(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),i=r}r=on(i),t.defaultValue=r,o=t.textContent,o===r&&o!==""&&o!==null&&(t.value=o)}function Dn(t,i){if(i){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=i;return}}t.textContent=i}var Sh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Jl(t,i,r){var o=i.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":o?t.setProperty(i,r):typeof r!="number"||r===0||Sh.has(i)?i==="float"?t.cssFloat=r:t[i]=(""+r).trim():t[i]=r+"px"}function Gc(t,i,r){if(i!=null&&typeof i!="object")throw Error(a(62));if(t=t.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var f in i)o=i[f],i.hasOwnProperty(f)&&r[f]!==o&&Jl(t,f,o)}else for(var g in i)i.hasOwnProperty(g)&&Jl(t,g,i[g])}function eo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Nh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ps(t){return Nh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var On=null;function Or(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ks=null,Fs=null;function Gs(t){var i=Hs(t);if(i&&(t=i.stateNode)){var r=t[Rt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Li(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),i=r.name,r.type==="radio"&&i!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+dt(""+i)+'"][type="radio"]'),i=0;i<r.length;i++){var o=r[i];if(o!==t&&o.form===t.form){var f=o[Rt]||null;if(!f)throw Error(a(90));Li(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<r.length;i++)o=r[i],o.form===t.form&&Zl(o)}break e;case"textarea":Da(t,r.value,r.defaultValue);break e;case"select":i=r.value,i!=null&&Fe(t,!!r.multiple,i,!1)}}}var to=!1;function $c(t,i,r){if(to)return t(i,r);to=!0;try{var o=t(i);return o}finally{if(to=!1,(Ks!==null||Fs!==null)&&(Vu(),Ks&&(i=Ks,t=Fs,Fs=Ks=null,Gs(i),t)))for(i=0;i<t.length;i++)Gs(t[i])}}function Oa(t,i){var r=t.stateNode;if(r===null)return null;var o=r[Rt]||null;if(o===null)return null;r=o[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,i,typeof r));return r}var Mn=!1;if(En)try{var Ma={};Object.defineProperty(Ma,"passive",{get:function(){Mn=!0}}),window.addEventListener("test",Ma,Ma),window.removeEventListener("test",Ma,Ma)}catch{Mn=!1}var ys=null,Vi=null,$s=null;function no(){if($s)return $s;var t,i=Vi,r=i.length,o,f="value"in ys?ys.value:ys.textContent,g=f.length;for(t=0;t<r&&i[t]===f[t];t++);var E=r-t;for(o=1;o<=E&&i[r-o]===f[g-o];o++);return $s=f.slice(t,1<o?1-o:void 0)}function _s(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function vs(){return!0}function so(){return!1}function Vt(t){function i(r,o,f,g,E){this._reactName=r,this._targetInst=f,this.type=o,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var N in t)t.hasOwnProperty(N)&&(r=t[N],this[N]=r?r(g):g[N]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?vs:so,this.isPropagationStopped=so,this}return S(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=vs)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=vs)},persist:function(){},isPersistent:vs}),i}var Qe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mr=Vt(Qe),La=S({},Qe,{view:0,detail:0}),Qc=Vt(La),Lr,Pr,xs,Pa=S({},La,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ba,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xs&&(xs&&t.type==="mousemove"?(Lr=t.screenX-xs.screenX,Pr=t.screenY-xs.screenY):Pr=Lr=0,xs=t),Lr)},movementY:function(t){return"movementY"in t?t.movementY:Pr}}),Ln=Vt(Pa),Yc=S({},Pa,{dataTransfer:0}),Rh=Vt(Yc),Va=S({},La,{relatedTarget:0}),Vr=Vt(Va),io=S({},Qe,{animationName:0,elapsedTime:0,pseudoElement:0}),Ur=Vt(io),Wc=S({},Qe,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Br=Vt(Wc),kh=S({},Qe,{data:0}),ao=Vt(kh),Ua={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ro(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Zc[t])?!!i[t]:!1}function Ba(){return ro}var Jc=S({},La,{key:function(t){if(t.key){var i=Ua[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=_s(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Xc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ba,charCode:function(t){return t.type==="keypress"?_s(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?_s(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),zr=Vt(Jc),eu=S({},Pa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lo=Vt(eu),Qs=S({},La,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ba}),tu=Vt(Qs),nu=S({},Qe,{propertyName:0,elapsedTime:0,pseudoElement:0}),su=Vt(nu),iu=S({},Pa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Hr=Vt(iu),cn=S({},Qe,{newState:0,oldState:0}),au=Vt(cn),ru=[9,13,27,32],Es=En&&"CompositionEvent"in window,d=null;En&&"documentMode"in document&&(d=document.documentMode);var _=En&&"TextEvent"in window&&!d,x=En&&(!Es||d&&8<d&&11>=d),R=" ",Q=!1;function te(t,i){switch(t){case"keyup":return ru.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fe(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Be=!1;function kt(t,i){switch(t){case"compositionend":return fe(i);case"keypress":return i.which!==32?null:(Q=!0,R);case"textInput":return t=i.data,t===R&&Q?null:t;default:return null}}function ze(t,i){if(Be)return t==="compositionend"||!Es&&te(t,i)?(t=no(),$s=Vi=ys=null,Be=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return x&&i.locale!=="ko"?null:i.data;default:return null}}var Ut={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ct(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Ut[t.type]:i==="textarea"}function Ys(t,i,r,o){Ks?Fs?Fs.push(o):Fs=[o]:Ks=o,i=qu(i,"onChange"),0<i.length&&(r=new Mr("onChange","change",null,r,o),t.push({event:r,listeners:i}))}var Kt=null,bs=null;function oo(t){X_(t,0)}function lu(t){var i=ji(t);if(Zl(i))return t}function wp(t,i){if(t==="change")return i}var Np=!1;if(En){var Ch;if(En){var Ih="oninput"in document;if(!Ih){var Rp=document.createElement("div");Rp.setAttribute("oninput","return;"),Ih=typeof Rp.oninput=="function"}Ch=Ih}else Ch=!1;Np=Ch&&(!document.documentMode||9<document.documentMode)}function kp(){Kt&&(Kt.detachEvent("onpropertychange",Cp),bs=Kt=null)}function Cp(t){if(t.propertyName==="value"&&lu(bs)){var i=[];Ys(i,bs,t,Or(t)),$c(oo,i)}}function jT(t,i,r){t==="focusin"?(kp(),Kt=i,bs=r,Kt.attachEvent("onpropertychange",Cp)):t==="focusout"&&kp()}function DT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return lu(bs)}function OT(t,i){if(t==="click")return lu(i)}function MT(t,i){if(t==="input"||t==="change")return lu(i)}function LT(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var bn=typeof Object.is=="function"?Object.is:LT;function co(t,i){if(bn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var r=Object.keys(t),o=Object.keys(i);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var f=r[o];if(!wr.call(i,f)||!bn(t[f],i[f]))return!1}return!0}function Ip(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function jp(t,i){var r=Ip(t);t=0;for(var o;r;){if(r.nodeType===3){if(o=t+r.textContent.length,t<=i&&o>=i)return{node:r,offset:i-t};t=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ip(r)}}function Dp(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Dp(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Op(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=jr(t.document);i instanceof t.HTMLIFrameElement;){try{var r=typeof i.contentWindow.location.href=="string"}catch{r=!1}if(r)t=i.contentWindow;else break;i=jr(t.document)}return i}function jh(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}function PT(t,i){var r=Op(i);i=t.focusedElem;var o=t.selectionRange;if(r!==i&&i&&i.ownerDocument&&Dp(i.ownerDocument.documentElement,i)){if(o!==null&&jh(i)){if(t=o.start,r=o.end,r===void 0&&(r=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(r,i.value.length);else if(r=(t=i.ownerDocument||document)&&t.defaultView||window,r.getSelection){r=r.getSelection();var f=i.textContent.length,g=Math.min(o.start,f);o=o.end===void 0?g:Math.min(o.end,f),!r.extend&&g>o&&(f=o,o=g,g=f),f=jp(i,g);var E=jp(i,o);f&&E&&(r.rangeCount!==1||r.anchorNode!==f.node||r.anchorOffset!==f.offset||r.focusNode!==E.node||r.focusOffset!==E.offset)&&(t=t.createRange(),t.setStart(f.node,f.offset),r.removeAllRanges(),g>o?(r.addRange(t),r.extend(E.node,E.offset)):(t.setEnd(E.node,E.offset),r.addRange(t)))}}for(t=[],r=i;r=r.parentNode;)r.nodeType===1&&t.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)r=t[i],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var VT=En&&"documentMode"in document&&11>=document.documentMode,qr=null,Dh=null,uo=null,Oh=!1;function Mp(t,i,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Oh||qr==null||qr!==jr(o)||(o=qr,"selectionStart"in o&&jh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),uo&&co(uo,o)||(uo=o,o=qu(Dh,"onSelect"),0<o.length&&(i=new Mr("onSelect","select",null,i,r),t.push({event:i,listeners:o}),i.target=qr)))}function za(t,i){var r={};return r[t.toLowerCase()]=i.toLowerCase(),r["Webkit"+t]="webkit"+i,r["Moz"+t]="moz"+i,r}var Kr={animationend:za("Animation","AnimationEnd"),animationiteration:za("Animation","AnimationIteration"),animationstart:za("Animation","AnimationStart"),transitionrun:za("Transition","TransitionRun"),transitionstart:za("Transition","TransitionStart"),transitioncancel:za("Transition","TransitionCancel"),transitionend:za("Transition","TransitionEnd")},Mh={},Lp={};En&&(Lp=document.createElement("div").style,"AnimationEvent"in window||(delete Kr.animationend.animation,delete Kr.animationiteration.animation,delete Kr.animationstart.animation),"TransitionEvent"in window||delete Kr.transitionend.transition);function Ha(t){if(Mh[t])return Mh[t];if(!Kr[t])return t;var i=Kr[t],r;for(r in i)if(i.hasOwnProperty(r)&&r in Lp)return Mh[t]=i[r];return t}var Pp=Ha("animationend"),Vp=Ha("animationiteration"),Up=Ha("animationstart"),UT=Ha("transitionrun"),BT=Ha("transitionstart"),zT=Ha("transitioncancel"),Bp=Ha("transitionend"),zp=new Map,Hp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function es(t,i){zp.set(t,i),xn(i,[t])}var Pn=[],Fr=0,Lh=0;function ou(){for(var t=Fr,i=Lh=Fr=0;i<t;){var r=Pn[i];Pn[i++]=null;var o=Pn[i];Pn[i++]=null;var f=Pn[i];Pn[i++]=null;var g=Pn[i];if(Pn[i++]=null,o!==null&&f!==null){var E=o.pending;E===null?f.next=f:(f.next=E.next,E.next=f),o.pending=f}g!==0&&qp(r,f,g)}}function cu(t,i,r,o){Pn[Fr++]=t,Pn[Fr++]=i,Pn[Fr++]=r,Pn[Fr++]=o,Lh|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Ph(t,i,r,o){return cu(t,i,r,o),uu(t)}function Ui(t,i){return cu(t,null,null,i),uu(t)}function qp(t,i,r){t.lanes|=r;var o=t.alternate;o!==null&&(o.lanes|=r);for(var f=!1,g=t.return;g!==null;)g.childLanes|=r,o=g.alternate,o!==null&&(o.childLanes|=r),g.tag===22&&(t=g.stateNode,t===null||t._visibility&1||(f=!0)),t=g,g=g.return;f&&i!==null&&t.tag===3&&(g=t.stateNode,f=31-ln(r),g=g.hiddenUpdates,t=g[f],t===null?g[f]=[i]:t.push(i),i.lane=r|536870912)}function uu(t){if(50<Lo)throw Lo=0,Kf=null,Error(a(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Gr={},Kp=new WeakMap;function Vn(t,i){if(typeof t=="object"&&t!==null){var r=Kp.get(t);return r!==void 0?r:(i={value:t,source:i,stack:re(i)},Kp.set(t,i),i)}return{value:t,source:i,stack:re(i)}}var $r=[],Qr=0,du=null,hu=0,Un=[],Bn=0,qa=null,Ws=1,Xs="";function Ka(t,i){$r[Qr++]=hu,$r[Qr++]=du,du=t,hu=i}function Fp(t,i,r){Un[Bn++]=Ws,Un[Bn++]=Xs,Un[Bn++]=qa,qa=t;var o=Ws;t=Xs;var f=32-ln(o)-1;o&=~(1<<f),r+=1;var g=32-ln(i)+f;if(30<g){var E=f-f%5;g=(o&(1<<E)-1).toString(32),o>>=E,f-=E,Ws=1<<32-ln(i)+f|r<<f|o,Xs=g+t}else Ws=1<<g|r<<f|o,Xs=t}function Vh(t){t.return!==null&&(Ka(t,1),Fp(t,1,0))}function Uh(t){for(;t===du;)du=$r[--Qr],$r[Qr]=null,hu=$r[--Qr],$r[Qr]=null;for(;t===qa;)qa=Un[--Bn],Un[Bn]=null,Xs=Un[--Bn],Un[Bn]=null,Ws=Un[--Bn],Un[Bn]=null}var un=null,Ft=null,Ge=!1,ts=null,Ts=!1,Bh=Error(a(519));function Fa(t){var i=Error(a(418,""));throw mo(Vn(i,t)),Bh}function Gp(t){var i=t.stateNode,r=t.type,o=t.memoizedProps;switch(i[Pt]=t,i[Rt]=o,r){case"dialog":Ve("cancel",i),Ve("close",i);break;case"iframe":case"object":case"embed":Ve("load",i);break;case"video":case"audio":for(r=0;r<Vo.length;r++)Ve(Vo[r],i);break;case"source":Ve("error",i);break;case"img":case"image":case"link":Ve("error",i),Ve("load",i);break;case"details":Ve("toggle",i);break;case"input":Ve("invalid",i),ja(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Ia(i);break;case"select":Ve("invalid",i);break;case"textarea":Ve("invalid",i),Pi(i,o.value,o.defaultValue,o.children),Ia(i)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||i.textContent===""+r||o.suppressHydrationWarning===!0||tv(i.textContent,r)?(o.popover!=null&&(Ve("beforetoggle",i),Ve("toggle",i)),o.onScroll!=null&&Ve("scroll",i),o.onScrollEnd!=null&&Ve("scrollend",i),o.onClick!=null&&(i.onclick=Ku),i=!0):i=!1,i||Fa(t)}function $p(t){for(un=t.return;un;)switch(un.tag){case 3:case 27:Ts=!0;return;case 5:case 13:Ts=!1;return;default:un=un.return}}function ho(t){if(t!==un)return!1;if(!Ge)return $p(t),Ge=!0,!1;var i=!1,r;if((r=t.tag!==3&&t.tag!==27)&&((r=t.tag===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||lm(t.type,t.memoizedProps)),r=!r),r&&(i=!0),i&&Ft&&Fa(t),$p(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(i===0){Ft=ss(t.nextSibling);break e}i--}else r!=="$"&&r!=="$!"&&r!=="$?"||i++;t=t.nextSibling}Ft=null}}else Ft=un?ss(t.stateNode.nextSibling):null;return!0}function fo(){Ft=un=null,Ge=!1}function mo(t){ts===null?ts=[t]:ts.push(t)}var go=Error(a(460)),Qp=Error(a(474)),zh={then:function(){}};function Yp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function fu(){}function Wp(t,i,r){switch(r=t[r],r===void 0?t.push(i):r!==i&&(i.then(fu,fu),i=r),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,t===go?Error(a(483)):t;default:if(typeof i.status=="string")i.then(fu,fu);else{if(t=tt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=i,t.status="pending",t.then(function(o){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=o}},function(o){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,t===go?Error(a(483)):t}throw po=i,go}}var po=null;function Xp(){if(po===null)throw Error(a(459));var t=po;return po=null,t}var Yr=null,yo=0;function mu(t){var i=yo;return yo+=1,Yr===null&&(Yr=[]),Wp(Yr,t,i)}function _o(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function gu(t,i){throw i.$$typeof===c?Error(a(525)):(t=Object.prototype.toString.call(i),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Zp(t){var i=t._init;return i(t._payload)}function Jp(t){function i($,H){if(t){var W=$.deletions;W===null?($.deletions=[H],$.flags|=16):W.push(H)}}function r($,H){if(!t)return null;for(;H!==null;)i($,H),H=H.sibling;return null}function o($){for(var H=new Map;$!==null;)$.key!==null?H.set($.key,$):H.set($.index,$),$=$.sibling;return H}function f($,H){return $=Xi($,H),$.index=0,$.sibling=null,$}function g($,H,W){return $.index=W,t?(W=$.alternate,W!==null?(W=W.index,W<H?($.flags|=33554434,H):W):($.flags|=33554434,H)):($.flags|=1048576,H)}function E($){return t&&$.alternate===null&&($.flags|=33554434),$}function N($,H,W,oe){return H===null||H.tag!==6?(H=Lf(W,$.mode,oe),H.return=$,H):(H=f(H,W),H.return=$,H)}function L($,H,W,oe){var ve=W.type;return ve===p?ie($,H,W.props.children,oe,W.key):H!==null&&(H.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===q&&Zp(ve)===H.type)?(H=f(H,W.props),_o(H,W),H.return=$,H):(H=Du(W.type,W.key,W.props,null,$.mode,oe),_o(H,W),H.return=$,H)}function K($,H,W,oe){return H===null||H.tag!==4||H.stateNode.containerInfo!==W.containerInfo||H.stateNode.implementation!==W.implementation?(H=Pf(W,$.mode,oe),H.return=$,H):(H=f(H,W.children||[]),H.return=$,H)}function ie($,H,W,oe,ve){return H===null||H.tag!==7?(H=tr(W,$.mode,oe,ve),H.return=$,H):(H=f(H,W),H.return=$,H)}function de($,H,W){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=Lf(""+H,$.mode,W),H.return=$,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case h:return W=Du(H.type,H.key,H.props,null,$.mode,W),_o(W,H),W.return=$,W;case m:return H=Pf(H,$.mode,W),H.return=$,H;case q:var oe=H._init;return H=oe(H._payload),de($,H,W)}if(ge(H)||le(H))return H=tr(H,$.mode,W,null),H.return=$,H;if(typeof H.then=="function")return de($,mu(H),W);if(H.$$typeof===C)return de($,Cu($,H),W);gu($,H)}return null}function J($,H,W,oe){var ve=H!==null?H.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return ve!==null?null:N($,H,""+W,oe);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case h:return W.key===ve?L($,H,W,oe):null;case m:return W.key===ve?K($,H,W,oe):null;case q:return ve=W._init,W=ve(W._payload),J($,H,W,oe)}if(ge(W)||le(W))return ve!==null?null:ie($,H,W,oe,null);if(typeof W.then=="function")return J($,H,mu(W),oe);if(W.$$typeof===C)return J($,H,Cu($,W),oe);gu($,W)}return null}function se($,H,W,oe,ve){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return $=$.get(W)||null,N(H,$,""+oe,ve);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case h:return $=$.get(oe.key===null?W:oe.key)||null,L(H,$,oe,ve);case m:return $=$.get(oe.key===null?W:oe.key)||null,K(H,$,oe,ve);case q:var Oe=oe._init;return oe=Oe(oe._payload),se($,H,W,oe,ve)}if(ge(oe)||le(oe))return $=$.get(W)||null,ie(H,$,oe,ve,null);if(typeof oe.then=="function")return se($,H,W,mu(oe),ve);if(oe.$$typeof===C)return se($,H,W,Cu(H,oe),ve);gu(H,oe)}return null}function xe($,H,W,oe){for(var ve=null,Oe=null,Ee=H,Te=H=0,Ht=null;Ee!==null&&Te<W.length;Te++){Ee.index>Te?(Ht=Ee,Ee=null):Ht=Ee.sibling;var $e=J($,Ee,W[Te],oe);if($e===null){Ee===null&&(Ee=Ht);break}t&&Ee&&$e.alternate===null&&i($,Ee),H=g($e,H,Te),Oe===null?ve=$e:Oe.sibling=$e,Oe=$e,Ee=Ht}if(Te===W.length)return r($,Ee),Ge&&Ka($,Te),ve;if(Ee===null){for(;Te<W.length;Te++)Ee=de($,W[Te],oe),Ee!==null&&(H=g(Ee,H,Te),Oe===null?ve=Ee:Oe.sibling=Ee,Oe=Ee);return Ge&&Ka($,Te),ve}for(Ee=o(Ee);Te<W.length;Te++)Ht=se(Ee,$,Te,W[Te],oe),Ht!==null&&(t&&Ht.alternate!==null&&Ee.delete(Ht.key===null?Te:Ht.key),H=g(Ht,H,Te),Oe===null?ve=Ht:Oe.sibling=Ht,Oe=Ht);return t&&Ee.forEach(function(ia){return i($,ia)}),Ge&&Ka($,Te),ve}function Ce($,H,W,oe){if(W==null)throw Error(a(151));for(var ve=null,Oe=null,Ee=H,Te=H=0,Ht=null,$e=W.next();Ee!==null&&!$e.done;Te++,$e=W.next()){Ee.index>Te?(Ht=Ee,Ee=null):Ht=Ee.sibling;var ia=J($,Ee,$e.value,oe);if(ia===null){Ee===null&&(Ee=Ht);break}t&&Ee&&ia.alternate===null&&i($,Ee),H=g(ia,H,Te),Oe===null?ve=ia:Oe.sibling=ia,Oe=ia,Ee=Ht}if($e.done)return r($,Ee),Ge&&Ka($,Te),ve;if(Ee===null){for(;!$e.done;Te++,$e=W.next())$e=de($,$e.value,oe),$e!==null&&(H=g($e,H,Te),Oe===null?ve=$e:Oe.sibling=$e,Oe=$e);return Ge&&Ka($,Te),ve}for(Ee=o(Ee);!$e.done;Te++,$e=W.next())$e=se(Ee,$,Te,$e.value,oe),$e!==null&&(t&&$e.alternate!==null&&Ee.delete($e.key===null?Te:$e.key),H=g($e,H,Te),Oe===null?ve=$e:Oe.sibling=$e,Oe=$e);return t&&Ee.forEach(function(tS){return i($,tS)}),Ge&&Ka($,Te),ve}function mt($,H,W,oe){if(typeof W=="object"&&W!==null&&W.type===p&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case h:e:{for(var ve=W.key;H!==null;){if(H.key===ve){if(ve=W.type,ve===p){if(H.tag===7){r($,H.sibling),oe=f(H,W.props.children),oe.return=$,$=oe;break e}}else if(H.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===q&&Zp(ve)===H.type){r($,H.sibling),oe=f(H,W.props),_o(oe,W),oe.return=$,$=oe;break e}r($,H);break}else i($,H);H=H.sibling}W.type===p?(oe=tr(W.props.children,$.mode,oe,W.key),oe.return=$,$=oe):(oe=Du(W.type,W.key,W.props,null,$.mode,oe),_o(oe,W),oe.return=$,$=oe)}return E($);case m:e:{for(ve=W.key;H!==null;){if(H.key===ve)if(H.tag===4&&H.stateNode.containerInfo===W.containerInfo&&H.stateNode.implementation===W.implementation){r($,H.sibling),oe=f(H,W.children||[]),oe.return=$,$=oe;break e}else{r($,H);break}else i($,H);H=H.sibling}oe=Pf(W,$.mode,oe),oe.return=$,$=oe}return E($);case q:return ve=W._init,W=ve(W._payload),mt($,H,W,oe)}if(ge(W))return xe($,H,W,oe);if(le(W)){if(ve=le(W),typeof ve!="function")throw Error(a(150));return W=ve.call(W),Ce($,H,W,oe)}if(typeof W.then=="function")return mt($,H,mu(W),oe);if(W.$$typeof===C)return mt($,H,Cu($,W),oe);gu($,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,H!==null&&H.tag===6?(r($,H.sibling),oe=f(H,W),oe.return=$,$=oe):(r($,H),oe=Lf(W,$.mode,oe),oe.return=$,$=oe),E($)):r($,H)}return function($,H,W,oe){try{yo=0;var ve=mt($,H,W,oe);return Yr=null,ve}catch(Ee){if(Ee===go)throw Ee;var Oe=Kn(29,Ee,null,$.mode);return Oe.lanes=oe,Oe.return=$,Oe}finally{}}}var Ga=Jp(!0),ey=Jp(!1),Wr=Ke(null),pu=Ke(0);function ty(t,i){t=oi,Xe(pu,t),Xe(Wr,i),oi=t|i.baseLanes}function Hh(){Xe(pu,oi),Xe(Wr,Wr.current)}function qh(){oi=pu.current,ut(Wr),ut(pu)}var zn=Ke(null),As=null;function Bi(t){var i=t.alternate;Xe(It,It.current&1),Xe(zn,t),As===null&&(i===null||Wr.current!==null||i.memoizedState!==null)&&(As=t)}function ny(t){if(t.tag===22){if(Xe(It,It.current),Xe(zn,t),As===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(As=t)}}else zi()}function zi(){Xe(It,It.current),Xe(zn,zn.current)}function Zs(t){ut(zn),As===t&&(As=null),ut(It)}var It=Ke(0);function yu(t){for(var i=t;i!==null;){if(i.tag===13){var r=i.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var HT=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(r,o){t.push(o)}};this.abort=function(){i.aborted=!0,t.forEach(function(r){return r()})}},qT=s.unstable_scheduleCallback,KT=s.unstable_NormalPriority,jt={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kh(){return{controller:new HT,data:new Map,refCount:0}}function vo(t){t.refCount--,t.refCount===0&&qT(KT,function(){t.controller.abort()})}var xo=null,Fh=0,Xr=0,Zr=null;function FT(t,i){if(xo===null){var r=xo=[];Fh=0,Xr=Zf(),Zr={status:"pending",value:void 0,then:function(o){r.push(o)}}}return Fh++,i.then(sy,sy),i}function sy(){if(--Fh===0&&xo!==null){Zr!==null&&(Zr.status="fulfilled");var t=xo;xo=null,Xr=0,Zr=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function GT(t,i){var r=[],o={status:"pending",value:null,reason:null,then:function(f){r.push(f)}};return t.then(function(){o.status="fulfilled",o.value=i;for(var f=0;f<r.length;f++)(0,r[f])(i)},function(f){for(o.status="rejected",o.reason=f,f=0;f<r.length;f++)(0,r[f])(void 0)}),o}var iy=b.S;b.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&FT(t,i),iy!==null&&iy(t,i)};var $a=Ke(null);function Gh(){var t=$a.current;return t!==null?t:tt.pooledCache}function _u(t,i){i===null?Xe($a,$a.current):Xe($a,i.pool)}function ay(){var t=Gh();return t===null?null:{parent:jt._currentValue,pool:t}}var Hi=0,De=null,Ze=null,bt=null,vu=!1,Jr=!1,Qa=!1,xu=0,Eo=0,el=null,$T=0;function vt(){throw Error(a(321))}function $h(t,i){if(i===null)return!1;for(var r=0;r<i.length&&r<t.length;r++)if(!bn(t[r],i[r]))return!1;return!0}function Qh(t,i,r,o,f,g){return Hi=g,De=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,b.H=t===null||t.memoizedState===null?Ya:qi,Qa=!1,g=r(o,f),Qa=!1,Jr&&(g=ly(i,r,o,f)),ry(t),g}function ry(t){b.H=Ss;var i=Ze!==null&&Ze.next!==null;if(Hi=0,bt=Ze=De=null,vu=!1,Eo=0,el=null,i)throw Error(a(300));t===null||Bt||(t=t.dependencies,t!==null&&ku(t)&&(Bt=!0))}function ly(t,i,r,o){De=t;var f=0;do{if(Jr&&(el=null),Eo=0,Jr=!1,25<=f)throw Error(a(301));if(f+=1,bt=Ze=null,t.updateQueue!=null){var g=t.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}b.H=Wa,g=i(r,o)}while(Jr);return g}function QT(){var t=b.H,i=t.useState()[0];return i=typeof i.then=="function"?bo(i):i,t=t.useState()[0],(Ze!==null?Ze.memoizedState:null)!==t&&(De.flags|=1024),i}function Yh(){var t=xu!==0;return xu=0,t}function Wh(t,i,r){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~r}function Xh(t){if(vu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}vu=!1}Hi=0,bt=Ze=De=null,Jr=!1,Eo=xu=0,el=null}function yn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?De.memoizedState=bt=t:bt=bt.next=t,bt}function Tt(){if(Ze===null){var t=De.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var i=bt===null?De.memoizedState:bt.next;if(i!==null)bt=i,Ze=t;else{if(t===null)throw De.alternate===null?Error(a(467)):Error(a(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},bt===null?De.memoizedState=bt=t:bt=bt.next=t}return bt}var Eu;Eu=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function bo(t){var i=Eo;return Eo+=1,el===null&&(el=[]),t=Wp(el,t,i),i=De,(bt===null?i.memoizedState:bt.next)===null&&(i=i.alternate,b.H=i===null||i.memoizedState===null?Ya:qi),t}function bu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return bo(t);if(t.$$typeof===C)return Jt(t)}throw Error(a(438,String(t)))}function Zh(t){var i=null,r=De.updateQueue;if(r!==null&&(i=r.memoCache),i==null){var o=De.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),r===null&&(r=Eu(),De.updateQueue=r),r.memoCache=i,r=i.data[i.index],r===void 0)for(r=i.data[i.index]=Array(t),o=0;o<t;o++)r[o]=Z;return i.index++,r}function Js(t,i){return typeof i=="function"?i(t):i}function Tu(t){var i=Tt();return Jh(i,Ze,t)}function Jh(t,i,r){var o=t.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var f=t.baseQueue,g=o.pending;if(g!==null){if(f!==null){var E=f.next;f.next=g.next,g.next=E}i.baseQueue=f=g,o.pending=null}if(g=t.baseState,f===null)t.memoizedState=g;else{i=f.next;var N=E=null,L=null,K=i,ie=!1;do{var de=K.lane&-536870913;if(de!==K.lane?(He&de)===de:(Hi&de)===de){var J=K.revertLane;if(J===0)L!==null&&(L=L.next={lane:0,revertLane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),de===Xr&&(ie=!0);else if((Hi&J)===J){K=K.next,J===Xr&&(ie=!0);continue}else de={lane:0,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},L===null?(N=L=de,E=g):L=L.next=de,De.lanes|=J,Zi|=J;de=K.action,Qa&&r(g,de),g=K.hasEagerState?K.eagerState:r(g,de)}else J={lane:de,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},L===null?(N=L=J,E=g):L=L.next=J,De.lanes|=de,Zi|=de;K=K.next}while(K!==null&&K!==i);if(L===null?E=g:L.next=N,!bn(g,t.memoizedState)&&(Bt=!0,ie&&(r=Zr,r!==null)))throw r;t.memoizedState=g,t.baseState=E,t.baseQueue=L,o.lastRenderedState=g}return f===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function ef(t){var i=Tt(),r=i.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var o=r.dispatch,f=r.pending,g=i.memoizedState;if(f!==null){r.pending=null;var E=f=f.next;do g=t(g,E.action),E=E.next;while(E!==f);bn(g,i.memoizedState)||(Bt=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),r.lastRenderedState=g}return[g,o]}function oy(t,i,r){var o=De,f=Tt(),g=Ge;if(g){if(r===void 0)throw Error(a(407));r=r()}else r=i();var E=!bn((Ze||f).memoizedState,r);if(E&&(f.memoizedState=r,Bt=!0),f=f.queue,sf(dy.bind(null,o,f,t),[t]),f.getSnapshot!==i||E||bt!==null&&bt.memoizedState.tag&1){if(o.flags|=2048,tl(9,uy.bind(null,o,f,r,i),{destroy:void 0},null),tt===null)throw Error(a(349));g||(Hi&60)!==0||cy(o,i,r)}return r}function cy(t,i,r){t.flags|=16384,t={getSnapshot:i,value:r},i=De.updateQueue,i===null?(i=Eu(),De.updateQueue=i,i.stores=[t]):(r=i.stores,r===null?i.stores=[t]:r.push(t))}function uy(t,i,r,o){i.value=r,i.getSnapshot=o,hy(i)&&fy(t)}function dy(t,i,r){return r(function(){hy(i)&&fy(t)})}function hy(t){var i=t.getSnapshot;t=t.value;try{var r=i();return!bn(t,r)}catch{return!0}}function fy(t){var i=Ui(t,2);i!==null&&dn(i,t,2)}function tf(t){var i=yn();if(typeof t=="function"){var r=t;if(t=r(),Qa){hs(!0);try{r()}finally{hs(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Js,lastRenderedState:t},i}function my(t,i,r,o){return t.baseState=r,Jh(t,Ze,typeof o=="function"?o:Js)}function YT(t,i,r,o,f){if(wu(t))throw Error(a(485));if(t=i.action,t!==null){var g={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){g.listeners.push(E)}};b.T!==null?r(!0):g.isTransition=!1,o(g),r=i.pending,r===null?(g.next=i.pending=g,gy(i,g)):(g.next=r.next,i.pending=r.next=g)}}function gy(t,i){var r=i.action,o=i.payload,f=t.state;if(i.isTransition){var g=b.T,E={};b.T=E;try{var N=r(f,o),L=b.S;L!==null&&L(E,N),py(t,i,N)}catch(K){nf(t,i,K)}finally{b.T=g}}else try{g=r(f,o),py(t,i,g)}catch(K){nf(t,i,K)}}function py(t,i,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){yy(t,i,o)},function(o){return nf(t,i,o)}):yy(t,i,r)}function yy(t,i,r){i.status="fulfilled",i.value=r,_y(i),t.state=r,i=t.pending,i!==null&&(r=i.next,r===i?t.pending=null:(r=r.next,i.next=r,gy(t,r)))}function nf(t,i,r){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=r,_y(i),i=i.next;while(i!==o)}t.action=null}function _y(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function vy(t,i){return i}function xy(t,i){if(Ge){var r=tt.formState;if(r!==null){e:{var o=De;if(Ge){if(Ft){t:{for(var f=Ft,g=Ts;f.nodeType!==8;){if(!g){f=null;break t}if(f=ss(f.nextSibling),f===null){f=null;break t}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){Ft=ss(f.nextSibling),o=f.data==="F!";break e}}Fa(o)}o=!1}o&&(i=r[0])}}return r=yn(),r.memoizedState=r.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vy,lastRenderedState:i},r.queue=o,r=Vy.bind(null,De,o),o.dispatch=r,o=tf(!1),g=cf.bind(null,De,!1,o.queue),o=yn(),f={state:i,dispatch:null,action:t,pending:null},o.queue=f,r=YT.bind(null,De,f,g,r),f.dispatch=r,o.memoizedState=t,[i,r,!1]}function Ey(t){var i=Tt();return by(i,Ze,t)}function by(t,i,r){i=Jh(t,i,vy)[0],t=Tu(Js)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?bo(i):i;var o=Tt(),f=o.queue,g=f.dispatch;return r!==o.memoizedState&&(De.flags|=2048,tl(9,WT.bind(null,f,r),{destroy:void 0},null)),[i,g,t]}function WT(t,i){t.action=i}function Ty(t){var i=Tt(),r=Ze;if(r!==null)return by(i,r,t);Tt(),i=i.memoizedState,r=Tt();var o=r.queue.dispatch;return r.memoizedState=t,[i,o,!1]}function tl(t,i,r,o){return t={tag:t,create:i,inst:r,deps:o,next:null},i=De.updateQueue,i===null&&(i=Eu(),De.updateQueue=i),r=i.lastEffect,r===null?i.lastEffect=t.next=t:(o=r.next,r.next=t,t.next=o,i.lastEffect=t),t}function Ay(){return Tt().memoizedState}function Au(t,i,r,o){var f=yn();De.flags|=t,f.memoizedState=tl(1|i,r,{destroy:void 0},o===void 0?null:o)}function Su(t,i,r,o){var f=Tt();o=o===void 0?null:o;var g=f.memoizedState.inst;Ze!==null&&o!==null&&$h(o,Ze.memoizedState.deps)?f.memoizedState=tl(i,r,g,o):(De.flags|=t,f.memoizedState=tl(1|i,r,g,o))}function Sy(t,i){Au(8390656,8,t,i)}function sf(t,i){Su(2048,8,t,i)}function wy(t,i){return Su(4,2,t,i)}function Ny(t,i){return Su(4,4,t,i)}function Ry(t,i){if(typeof i=="function"){t=t();var r=i(t);return function(){typeof r=="function"?r():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function ky(t,i,r){r=r!=null?r.concat([t]):null,Su(4,4,Ry.bind(null,i,t),r)}function af(){}function Cy(t,i){var r=Tt();i=i===void 0?null:i;var o=r.memoizedState;return i!==null&&$h(i,o[1])?o[0]:(r.memoizedState=[t,i],t)}function Iy(t,i){var r=Tt();i=i===void 0?null:i;var o=r.memoizedState;if(i!==null&&$h(i,o[1]))return o[0];if(o=t(),Qa){hs(!0);try{t()}finally{hs(!1)}}return r.memoizedState=[o,i],o}function rf(t,i,r){return r===void 0||(Hi&1073741824)!==0?t.memoizedState=i:(t.memoizedState=r,t=D_(),De.lanes|=t,Zi|=t,r)}function jy(t,i,r,o){return bn(r,i)?r:Wr.current!==null?(t=rf(t,r,o),bn(t,i)||(Bt=!0),t):(Hi&42)===0?(Bt=!0,t.memoizedState=r):(t=D_(),De.lanes|=t,Zi|=t,i)}function Dy(t,i,r,o,f){var g=me.p;me.p=g!==0&&8>g?g:8;var E=b.T,N={};b.T=N,cf(t,!1,i,r);try{var L=f(),K=b.S;if(K!==null&&K(N,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var ie=GT(L,o);To(t,i,ie,wn(t))}else To(t,i,o,wn(t))}catch(de){To(t,i,{then:function(){},status:"rejected",reason:de},wn())}finally{me.p=g,b.T=E}}function XT(){}function lf(t,i,r,o){if(t.tag!==5)throw Error(a(476));var f=Oy(t).queue;Dy(t,f,i,we,r===null?XT:function(){return My(t),r(o)})}function Oy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:we,baseState:we,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Js,lastRenderedState:we},next:null};var r={};return i.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Js,lastRenderedState:r},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function My(t){var i=Oy(t).next.queue;To(t,i,{},wn())}function of(){return Jt(qo)}function Ly(){return Tt().memoizedState}function Py(){return Tt().memoizedState}function ZT(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var r=wn();t=Gi(r);var o=$i(i,t,r);o!==null&&(dn(o,i,r),wo(o,i,r)),i={cache:Kh()},t.payload=i;return}i=i.return}}function JT(t,i,r){var o=wn();r={lane:o,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},wu(t)?Uy(i,r):(r=Ph(t,i,r,o),r!==null&&(dn(r,t,o),By(r,i,o)))}function Vy(t,i,r){var o=wn();To(t,i,r,o)}function To(t,i,r,o){var f={lane:o,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(wu(t))Uy(i,f);else{var g=t.alternate;if(t.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var E=i.lastRenderedState,N=g(E,r);if(f.hasEagerState=!0,f.eagerState=N,bn(N,E))return cu(t,i,f,0),tt===null&&ou(),!1}catch{}finally{}if(r=Ph(t,i,f,o),r!==null)return dn(r,t,o),By(r,i,o),!0}return!1}function cf(t,i,r,o){if(o={lane:2,revertLane:Zf(),action:o,hasEagerState:!1,eagerState:null,next:null},wu(t)){if(i)throw Error(a(479))}else i=Ph(t,r,o,2),i!==null&&dn(i,t,2)}function wu(t){var i=t.alternate;return t===De||i!==null&&i===De}function Uy(t,i){Jr=vu=!0;var r=t.pending;r===null?i.next=i:(i.next=r.next,r.next=i),t.pending=i}function By(t,i,r){if((r&4194176)!==0){var o=i.lanes;o&=t.pendingLanes,r|=o,i.lanes=r,ki(t,r)}}var Ss={readContext:Jt,use:bu,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useLayoutEffect:vt,useInsertionEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useSyncExternalStore:vt,useId:vt};Ss.useCacheRefresh=vt,Ss.useMemoCache=vt,Ss.useHostTransitionStatus=vt,Ss.useFormState=vt,Ss.useActionState=vt,Ss.useOptimistic=vt;var Ya={readContext:Jt,use:bu,useCallback:function(t,i){return yn().memoizedState=[t,i===void 0?null:i],t},useContext:Jt,useEffect:Sy,useImperativeHandle:function(t,i,r){r=r!=null?r.concat([t]):null,Au(4194308,4,Ry.bind(null,i,t),r)},useLayoutEffect:function(t,i){return Au(4194308,4,t,i)},useInsertionEffect:function(t,i){Au(4,2,t,i)},useMemo:function(t,i){var r=yn();i=i===void 0?null:i;var o=t();if(Qa){hs(!0);try{t()}finally{hs(!1)}}return r.memoizedState=[o,i],o},useReducer:function(t,i,r){var o=yn();if(r!==void 0){var f=r(i);if(Qa){hs(!0);try{r(i)}finally{hs(!1)}}}else f=i;return o.memoizedState=o.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},o.queue=t,t=t.dispatch=JT.bind(null,De,t),[o.memoizedState,t]},useRef:function(t){var i=yn();return t={current:t},i.memoizedState=t},useState:function(t){t=tf(t);var i=t.queue,r=Vy.bind(null,De,i);return i.dispatch=r,[t.memoizedState,r]},useDebugValue:af,useDeferredValue:function(t,i){var r=yn();return rf(r,t,i)},useTransition:function(){var t=tf(!1);return t=Dy.bind(null,De,t.queue,!0,!1),yn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,r){var o=De,f=yn();if(Ge){if(r===void 0)throw Error(a(407));r=r()}else{if(r=i(),tt===null)throw Error(a(349));(He&60)!==0||cy(o,i,r)}f.memoizedState=r;var g={value:r,getSnapshot:i};return f.queue=g,Sy(dy.bind(null,o,g,t),[t]),o.flags|=2048,tl(9,uy.bind(null,o,g,r,i),{destroy:void 0},null),r},useId:function(){var t=yn(),i=tt.identifierPrefix;if(Ge){var r=Xs,o=Ws;r=(o&~(1<<32-ln(o)-1)).toString(32)+r,i=":"+i+"R"+r,r=xu++,0<r&&(i+="H"+r.toString(32)),i+=":"}else r=$T++,i=":"+i+"r"+r.toString(32)+":";return t.memoizedState=i},useCacheRefresh:function(){return yn().memoizedState=ZT.bind(null,De)}};Ya.useMemoCache=Zh,Ya.useHostTransitionStatus=of,Ya.useFormState=xy,Ya.useActionState=xy,Ya.useOptimistic=function(t){var i=yn();i.memoizedState=i.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=r,i=cf.bind(null,De,!0,r),r.dispatch=i,[t,i]};var qi={readContext:Jt,use:bu,useCallback:Cy,useContext:Jt,useEffect:sf,useImperativeHandle:ky,useInsertionEffect:wy,useLayoutEffect:Ny,useMemo:Iy,useReducer:Tu,useRef:Ay,useState:function(){return Tu(Js)},useDebugValue:af,useDeferredValue:function(t,i){var r=Tt();return jy(r,Ze.memoizedState,t,i)},useTransition:function(){var t=Tu(Js)[0],i=Tt().memoizedState;return[typeof t=="boolean"?t:bo(t),i]},useSyncExternalStore:oy,useId:Ly};qi.useCacheRefresh=Py,qi.useMemoCache=Zh,qi.useHostTransitionStatus=of,qi.useFormState=Ey,qi.useActionState=Ey,qi.useOptimistic=function(t,i){var r=Tt();return my(r,Ze,t,i)};var Wa={readContext:Jt,use:bu,useCallback:Cy,useContext:Jt,useEffect:sf,useImperativeHandle:ky,useInsertionEffect:wy,useLayoutEffect:Ny,useMemo:Iy,useReducer:ef,useRef:Ay,useState:function(){return ef(Js)},useDebugValue:af,useDeferredValue:function(t,i){var r=Tt();return Ze===null?rf(r,t,i):jy(r,Ze.memoizedState,t,i)},useTransition:function(){var t=ef(Js)[0],i=Tt().memoizedState;return[typeof t=="boolean"?t:bo(t),i]},useSyncExternalStore:oy,useId:Ly};Wa.useCacheRefresh=Py,Wa.useMemoCache=Zh,Wa.useHostTransitionStatus=of,Wa.useFormState=Ty,Wa.useActionState=Ty,Wa.useOptimistic=function(t,i){var r=Tt();return Ze!==null?my(r,Ze,t,i):(r.baseState=t,[t,r.queue.dispatch])};function uf(t,i,r,o){i=t.memoizedState,r=r(o,i),r=r==null?i:S({},i,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var df={isMounted:function(t){return(t=t._reactInternals)?ae(t)===t:!1},enqueueSetState:function(t,i,r){t=t._reactInternals;var o=wn(),f=Gi(o);f.payload=i,r!=null&&(f.callback=r),i=$i(t,f,o),i!==null&&(dn(i,t,o),wo(i,t,o))},enqueueReplaceState:function(t,i,r){t=t._reactInternals;var o=wn(),f=Gi(o);f.tag=1,f.payload=i,r!=null&&(f.callback=r),i=$i(t,f,o),i!==null&&(dn(i,t,o),wo(i,t,o))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var r=wn(),o=Gi(r);o.tag=2,i!=null&&(o.callback=i),i=$i(t,o,r),i!==null&&(dn(i,t,r),wo(i,t,r))}};function zy(t,i,r,o,f,g,E){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,g,E):i.prototype&&i.prototype.isPureReactComponent?!co(r,o)||!co(f,g):!0}function Hy(t,i,r,o){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(r,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(r,o),i.state!==t&&df.enqueueReplaceState(i,i.state,null)}function Xa(t,i){var r=i;if("ref"in i){r={};for(var o in i)o!=="ref"&&(r[o]=i[o])}if(t=t.defaultProps){r===i&&(r=S({},r));for(var f in t)r[f]===void 0&&(r[f]=t[f])}return r}var Nu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function qy(t){Nu(t)}function Ky(t){console.error(t)}function Fy(t){Nu(t)}function Ru(t,i){try{var r=t.onUncaughtError;r(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function Gy(t,i,r){try{var o=t.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function hf(t,i,r){return r=Gi(r),r.tag=3,r.payload={element:null},r.callback=function(){Ru(t,i)},r}function $y(t){return t=Gi(t),t.tag=3,t}function Qy(t,i,r,o){var f=r.type.getDerivedStateFromError;if(typeof f=="function"){var g=o.value;t.payload=function(){return f(g)},t.callback=function(){Gy(i,r,o)}}var E=r.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(t.callback=function(){Gy(i,r,o),typeof f!="function"&&(Ji===null?Ji=new Set([this]):Ji.add(this));var N=o.stack;this.componentDidCatch(o.value,{componentStack:N!==null?N:""})})}function eA(t,i,r,o,f){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=r.alternate,i!==null&&So(i,r,f,!0),r=zn.current,r!==null){switch(r.tag){case 13:return As===null?$f():r.alternate===null&&ft===0&&(ft=3),r.flags&=-257,r.flags|=65536,r.lanes=f,o===zh?r.flags|=16384:(i=r.updateQueue,i===null?r.updateQueue=new Set([o]):i.add(o),Yf(t,o,f)),!1;case 22:return r.flags|=65536,o===zh?r.flags|=16384:(i=r.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=i):(r=i.retryQueue,r===null?i.retryQueue=new Set([o]):r.add(o)),Yf(t,o,f)),!1}throw Error(a(435,r.tag))}return Yf(t,o,f),$f(),!1}if(Ge)return i=zn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,o!==Bh&&(t=Error(a(422),{cause:o}),mo(Vn(t,r)))):(o!==Bh&&(i=Error(a(423),{cause:o}),mo(Vn(i,r))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,o=Vn(o,r),f=hf(t.stateNode,o,f),Nf(t,f),ft!==4&&(ft=2)),!1;var g=Error(a(520),{cause:o});if(g=Vn(g,r),Oo===null?Oo=[g]:Oo.push(g),ft!==4&&(ft=2),i===null)return!0;o=Vn(o,r),r=i;do{switch(r.tag){case 3:return r.flags|=65536,t=f&-f,r.lanes|=t,t=hf(r.stateNode,o,t),Nf(r,t),!1;case 1:if(i=r.type,g=r.stateNode,(r.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Ji===null||!Ji.has(g))))return r.flags|=65536,f&=-f,r.lanes|=f,f=$y(f),Qy(f,t,r,o),Nf(r,f),!1}r=r.return}while(r!==null);return!1}var Yy=Error(a(461)),Bt=!1;function Gt(t,i,r,o){i.child=t===null?ey(i,null,r,o):Ga(i,t.child,r,o)}function Wy(t,i,r,o,f){r=r.render;var g=i.ref;if("ref"in o){var E={};for(var N in o)N!=="ref"&&(E[N]=o[N])}else E=o;return Ja(i),o=Qh(t,i,r,E,g,f),N=Yh(),t!==null&&!Bt?(Wh(t,i,f),ei(t,i,f)):(Ge&&N&&Vh(i),i.flags|=1,Gt(t,i,o,f),i.child)}function Xy(t,i,r,o,f){if(t===null){var g=r.type;return typeof g=="function"&&!Mf(g)&&g.defaultProps===void 0&&r.compare===null?(i.tag=15,i.type=g,Zy(t,i,g,o,f)):(t=Du(r.type,null,o,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(g=t.child,!Ef(t,f)){var E=g.memoizedProps;if(r=r.compare,r=r!==null?r:co,r(E,o)&&t.ref===i.ref)return ei(t,i,f)}return i.flags|=1,t=Xi(g,o),t.ref=i.ref,t.return=i,i.child=t}function Zy(t,i,r,o,f){if(t!==null){var g=t.memoizedProps;if(co(g,o)&&t.ref===i.ref)if(Bt=!1,i.pendingProps=o=g,Ef(t,f))(t.flags&131072)!==0&&(Bt=!0);else return i.lanes=t.lanes,ei(t,i,f)}return ff(t,i,r,o,f)}function Jy(t,i,r){var o=i.pendingProps,f=o.children,g=(i.stateNode._pendingVisibility&2)!==0,E=t!==null?t.memoizedState:null;if(Ao(t,i),o.mode==="hidden"||g){if((i.flags&128)!==0){if(o=E!==null?E.baseLanes|r:r,t!==null){for(f=i.child=t.child,g=0;f!==null;)g=g|f.lanes|f.childLanes,f=f.sibling;i.childLanes=g&~o}else i.childLanes=0,i.child=null;return e_(t,i,o,r)}if((r&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&_u(i,E!==null?E.cachePool:null),E!==null?ty(i,E):Hh(),ny(i);else return i.lanes=i.childLanes=536870912,e_(t,i,E!==null?E.baseLanes|r:r,r)}else E!==null?(_u(i,E.cachePool),ty(i,E),zi(),i.memoizedState=null):(t!==null&&_u(i,null),Hh(),zi());return Gt(t,i,f,r),i.child}function e_(t,i,r,o){var f=Gh();return f=f===null?null:{parent:jt._currentValue,pool:f},i.memoizedState={baseLanes:r,cachePool:f},t!==null&&_u(i,null),Hh(),ny(i),t!==null&&So(t,i,o,!0),null}function Ao(t,i){var r=i.ref;if(r===null)t!==null&&t.ref!==null&&(i.flags|=2097664);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(i.flags|=2097664)}}function ff(t,i,r,o,f){return Ja(i),r=Qh(t,i,r,o,void 0,f),o=Yh(),t!==null&&!Bt?(Wh(t,i,f),ei(t,i,f)):(Ge&&o&&Vh(i),i.flags|=1,Gt(t,i,r,f),i.child)}function t_(t,i,r,o,f,g){return Ja(i),i.updateQueue=null,r=ly(i,o,r,f),ry(t),o=Yh(),t!==null&&!Bt?(Wh(t,i,g),ei(t,i,g)):(Ge&&o&&Vh(i),i.flags|=1,Gt(t,i,r,g),i.child)}function n_(t,i,r,o,f){if(Ja(i),i.stateNode===null){var g=Gr,E=r.contextType;typeof E=="object"&&E!==null&&(g=Jt(E)),g=new r(o,g),i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=df,i.stateNode=g,g._reactInternals=i,g=i.stateNode,g.props=o,g.state=i.memoizedState,g.refs={},Sf(i),E=r.contextType,g.context=typeof E=="object"&&E!==null?Jt(E):Gr,g.state=i.memoizedState,E=r.getDerivedStateFromProps,typeof E=="function"&&(uf(i,r,E,o),g.state=i.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(E=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),E!==g.state&&df.enqueueReplaceState(g,g.state,null),Ro(i,o,g,f),No(),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(t===null){g=i.stateNode;var N=i.memoizedProps,L=Xa(r,N);g.props=L;var K=g.context,ie=r.contextType;E=Gr,typeof ie=="object"&&ie!==null&&(E=Jt(ie));var de=r.getDerivedStateFromProps;ie=typeof de=="function"||typeof g.getSnapshotBeforeUpdate=="function",N=i.pendingProps!==N,ie||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(N||K!==E)&&Hy(i,g,o,E),Fi=!1;var J=i.memoizedState;g.state=J,Ro(i,o,g,f),No(),K=i.memoizedState,N||J!==K||Fi?(typeof de=="function"&&(uf(i,r,de,o),K=i.memoizedState),(L=Fi||zy(i,r,L,o,J,K,E))?(ie||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(i.flags|=4194308)):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=K),g.props=o,g.state=K,g.context=E,o=L):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{g=i.stateNode,wf(t,i),E=i.memoizedProps,ie=Xa(r,E),g.props=ie,de=i.pendingProps,J=g.context,K=r.contextType,L=Gr,typeof K=="object"&&K!==null&&(L=Jt(K)),N=r.getDerivedStateFromProps,(K=typeof N=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(E!==de||J!==L)&&Hy(i,g,o,L),Fi=!1,J=i.memoizedState,g.state=J,Ro(i,o,g,f),No();var se=i.memoizedState;E!==de||J!==se||Fi||t!==null&&t.dependencies!==null&&ku(t.dependencies)?(typeof N=="function"&&(uf(i,r,N,o),se=i.memoizedState),(ie=Fi||zy(i,r,ie,o,J,se,L)||t!==null&&t.dependencies!==null&&ku(t.dependencies))?(K||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(o,se,L),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(o,se,L)),typeof g.componentDidUpdate=="function"&&(i.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof g.componentDidUpdate!="function"||E===t.memoizedProps&&J===t.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&J===t.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=se),g.props=o,g.state=se,g.context=L,o=ie):(typeof g.componentDidUpdate!="function"||E===t.memoizedProps&&J===t.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&J===t.memoizedState||(i.flags|=1024),o=!1)}return g=o,Ao(t,i),o=(i.flags&128)!==0,g||o?(g=i.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:g.render(),i.flags|=1,t!==null&&o?(i.child=Ga(i,t.child,null,f),i.child=Ga(i,null,r,f)):Gt(t,i,r,f),i.memoizedState=g.state,t=i.child):t=ei(t,i,f),t}function s_(t,i,r,o){return fo(),i.flags|=256,Gt(t,i,r,o),i.child}var mf={dehydrated:null,treeContext:null,retryLane:0};function gf(t){return{baseLanes:t,cachePool:ay()}}function pf(t,i,r){return t=t!==null?t.childLanes&~r:0,i&&(t|=Fn),t}function i_(t,i,r){var o=i.pendingProps,f=!1,g=(i.flags&128)!==0,E;if((E=g)||(E=t!==null&&t.memoizedState===null?!1:(It.current&2)!==0),E&&(f=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,t===null){if(Ge){if(f?Bi(i):zi(),Ge){var N=Ft,L;if(L=N){e:{for(L=N,N=Ts;L.nodeType!==8;){if(!N){N=null;break e}if(L=ss(L.nextSibling),L===null){N=null;break e}}N=L}N!==null?(i.memoizedState={dehydrated:N,treeContext:qa!==null?{id:Ws,overflow:Xs}:null,retryLane:536870912},L=Kn(18,null,null,0),L.stateNode=N,L.return=i,i.child=L,un=i,Ft=null,L=!0):L=!1}L||Fa(i)}if(N=i.memoizedState,N!==null&&(N=N.dehydrated,N!==null))return N.data==="$!"?i.lanes=16:i.lanes=536870912,null;Zs(i)}return N=o.children,o=o.fallback,f?(zi(),f=i.mode,N=_f({mode:"hidden",children:N},f),o=tr(o,f,r,null),N.return=i,o.return=i,N.sibling=o,i.child=N,f=i.child,f.memoizedState=gf(r),f.childLanes=pf(t,E,r),i.memoizedState=mf,o):(Bi(i),yf(i,N))}if(L=t.memoizedState,L!==null&&(N=L.dehydrated,N!==null)){if(g)i.flags&256?(Bi(i),i.flags&=-257,i=vf(t,i,r)):i.memoizedState!==null?(zi(),i.child=t.child,i.flags|=128,i=null):(zi(),f=o.fallback,N=i.mode,o=_f({mode:"visible",children:o.children},N),f=tr(f,N,r,null),f.flags|=2,o.return=i,f.return=i,o.sibling=f,i.child=o,Ga(i,t.child,null,r),o=i.child,o.memoizedState=gf(r),o.childLanes=pf(t,E,r),i.memoizedState=mf,i=f);else if(Bi(i),N.data==="$!"){if(E=N.nextSibling&&N.nextSibling.dataset,E)var K=E.dgst;E=K,o=Error(a(419)),o.stack="",o.digest=E,mo({value:o,source:null,stack:null}),i=vf(t,i,r)}else if(Bt||So(t,i,r,!1),E=(r&t.childLanes)!==0,Bt||E){if(E=tt,E!==null){if(o=r&-r,(o&42)!==0)o=1;else switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=64;break;case 268435456:o=134217728;break;default:o=0}if(o=(o&(E.suspendedLanes|r))!==0?0:o,o!==0&&o!==L.retryLane)throw L.retryLane=o,Ui(t,o),dn(E,t,o),Yy}N.data==="$?"||$f(),i=vf(t,i,r)}else N.data==="$?"?(i.flags|=128,i.child=t.child,i=gA.bind(null,t),N._reactRetry=i,i=null):(t=L.treeContext,Ft=ss(N.nextSibling),un=i,Ge=!0,ts=null,Ts=!1,t!==null&&(Un[Bn++]=Ws,Un[Bn++]=Xs,Un[Bn++]=qa,Ws=t.id,Xs=t.overflow,qa=i),i=yf(i,o.children),i.flags|=4096);return i}return f?(zi(),f=o.fallback,N=i.mode,L=t.child,K=L.sibling,o=Xi(L,{mode:"hidden",children:o.children}),o.subtreeFlags=L.subtreeFlags&31457280,K!==null?f=Xi(K,f):(f=tr(f,N,r,null),f.flags|=2),f.return=i,o.return=i,o.sibling=f,i.child=o,o=f,f=i.child,N=t.child.memoizedState,N===null?N=gf(r):(L=N.cachePool,L!==null?(K=jt._currentValue,L=L.parent!==K?{parent:K,pool:K}:L):L=ay(),N={baseLanes:N.baseLanes|r,cachePool:L}),f.memoizedState=N,f.childLanes=pf(t,E,r),i.memoizedState=mf,o):(Bi(i),r=t.child,t=r.sibling,r=Xi(r,{mode:"visible",children:o.children}),r.return=i,r.sibling=null,t!==null&&(E=i.deletions,E===null?(i.deletions=[t],i.flags|=16):E.push(t)),i.child=r,i.memoizedState=null,r)}function yf(t,i){return i=_f({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function _f(t,i){return C_(t,i,0,null)}function vf(t,i,r){return Ga(i,t.child,null,r),t=yf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function a_(t,i,r){t.lanes|=i;var o=t.alternate;o!==null&&(o.lanes|=i),Tf(t.return,i,r)}function xf(t,i,r,o,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:f}:(g.isBackwards=i,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=r,g.tailMode=f)}function r_(t,i,r){var o=i.pendingProps,f=o.revealOrder,g=o.tail;if(Gt(t,i,o.children,r),o=It.current,(o&2)!==0)o=o&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&a_(t,r,i);else if(t.tag===19)a_(t,r,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}switch(Xe(It,o),f){case"forwards":for(r=i.child,f=null;r!==null;)t=r.alternate,t!==null&&yu(t)===null&&(f=r),r=r.sibling;r=f,r===null?(f=i.child,i.child=null):(f=r.sibling,r.sibling=null),xf(i,!1,f,r,g);break;case"backwards":for(r=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&yu(t)===null){i.child=f;break}t=f.sibling,f.sibling=r,r=f,f=t}xf(i,!0,r,null,g);break;case"together":xf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ei(t,i,r){if(t!==null&&(i.dependencies=t.dependencies),Zi|=i.lanes,(r&i.childLanes)===0)if(t!==null){if(So(t,i,r,!1),(r&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(a(153));if(i.child!==null){for(t=i.child,r=Xi(t,t.pendingProps),i.child=r,r.return=i;t.sibling!==null;)t=t.sibling,r=r.sibling=Xi(t,t.pendingProps),r.return=i;r.sibling=null}return i.child}function Ef(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&ku(t)))}function tA(t,i,r){switch(i.tag){case 3:Ti(i,i.stateNode.containerInfo),Ki(i,jt,t.memoizedState.cache),fo();break;case 27:case 5:Hl(i);break;case 4:Ti(i,i.stateNode.containerInfo);break;case 10:Ki(i,i.type,i.memoizedProps.value);break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(Bi(i),i.flags|=128,null):(r&i.child.childLanes)!==0?i_(t,i,r):(Bi(i),t=ei(t,i,r),t!==null?t.sibling:null);Bi(i);break;case 19:var f=(t.flags&128)!==0;if(o=(r&i.childLanes)!==0,o||(So(t,i,r,!1),o=(r&i.childLanes)!==0),f){if(o)return r_(t,i,r);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Xe(It,It.current),o)break;return null;case 22:case 23:return i.lanes=0,Jy(t,i,r);case 24:Ki(i,jt,t.memoizedState.cache)}return ei(t,i,r)}function l_(t,i,r){if(t!==null)if(t.memoizedProps!==i.pendingProps)Bt=!0;else{if(!Ef(t,r)&&(i.flags&128)===0)return Bt=!1,tA(t,i,r);Bt=(t.flags&131072)!==0}else Bt=!1,Ge&&(i.flags&1048576)!==0&&Fp(i,hu,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var o=i.elementType,f=o._init;if(o=f(o._payload),i.type=o,typeof o=="function")Mf(o)?(t=Xa(o,t),i.tag=1,i=n_(null,i,o,t,r)):(i.tag=0,i=ff(null,i,o,t,r));else{if(o!=null){if(f=o.$$typeof,f===O){i.tag=11,i=Wy(null,i,o,t,r);break e}else if(f===z){i.tag=14,i=Xy(null,i,o,t,r);break e}}throw i=k(o)||o,Error(a(306,i,""))}}return i;case 0:return ff(t,i,i.type,i.pendingProps,r);case 1:return o=i.type,f=Xa(o,i.pendingProps),n_(t,i,o,f,r);case 3:e:{if(Ti(i,i.stateNode.containerInfo),t===null)throw Error(a(387));var g=i.pendingProps;f=i.memoizedState,o=f.element,wf(t,i),Ro(i,g,null,r);var E=i.memoizedState;if(g=E.cache,Ki(i,jt,g),g!==f.cache&&Af(i,[jt],r,!0),No(),g=E.element,f.isDehydrated)if(f={element:g,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=s_(t,i,g,r);break e}else if(g!==o){o=Vn(Error(a(424)),i),mo(o),i=s_(t,i,g,r);break e}else for(Ft=ss(i.stateNode.containerInfo.firstChild),un=i,Ge=!0,ts=null,Ts=!0,r=ey(i,null,g,r),i.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(fo(),g===o){i=ei(t,i,r);break e}Gt(t,i,g,r)}i=i.child}return i;case 26:return Ao(t,i),t===null?(r=uv(i.type,null,i.pendingProps,null))?i.memoizedState=r:Ge||(r=i.type,t=i.pendingProps,o=Fu(Cn.current).createElement(r),o[Pt]=i,o[Rt]=t,$t(o,r,t),rt(o),i.stateNode=o):i.memoizedState=uv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Hl(i),t===null&&Ge&&(o=i.stateNode=lv(i.type,i.pendingProps,Cn.current),un=i,Ts=!0,Ft=ss(o.firstChild)),o=i.pendingProps.children,t!==null||Ge?Gt(t,i,o,r):i.child=Ga(i,null,o,r),Ao(t,i),i.child;case 5:return t===null&&Ge&&((f=o=Ft)&&(o=IA(o,i.type,i.pendingProps,Ts),o!==null?(i.stateNode=o,un=i,Ft=ss(o.firstChild),Ts=!1,f=!0):f=!1),f||Fa(i)),Hl(i),f=i.type,g=i.pendingProps,E=t!==null?t.memoizedProps:null,o=g.children,lm(f,g)?o=null:E!==null&&lm(f,E)&&(i.flags|=32),i.memoizedState!==null&&(f=Qh(t,i,QT,null,null,r),qo._currentValue=f),Ao(t,i),Gt(t,i,o,r),i.child;case 6:return t===null&&Ge&&((t=r=Ft)&&(r=jA(r,i.pendingProps,Ts),r!==null?(i.stateNode=r,un=i,Ft=null,t=!0):t=!1),t||Fa(i)),null;case 13:return i_(t,i,r);case 4:return Ti(i,i.stateNode.containerInfo),o=i.pendingProps,t===null?i.child=Ga(i,null,o,r):Gt(t,i,o,r),i.child;case 11:return Wy(t,i,i.type,i.pendingProps,r);case 7:return Gt(t,i,i.pendingProps,r),i.child;case 8:return Gt(t,i,i.pendingProps.children,r),i.child;case 12:return Gt(t,i,i.pendingProps.children,r),i.child;case 10:return o=i.pendingProps,Ki(i,i.type,o.value),Gt(t,i,o.children,r),i.child;case 9:return f=i.type._context,o=i.pendingProps.children,Ja(i),f=Jt(f),o=o(f),i.flags|=1,Gt(t,i,o,r),i.child;case 14:return Xy(t,i,i.type,i.pendingProps,r);case 15:return Zy(t,i,i.type,i.pendingProps,r);case 19:return r_(t,i,r);case 22:return Jy(t,i,r);case 24:return Ja(i),o=Jt(jt),t===null?(f=Gh(),f===null&&(f=tt,g=Kh(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=r),f=g),i.memoizedState={parent:o,cache:f},Sf(i),Ki(i,jt,f)):((t.lanes&r)!==0&&(wf(t,i),Ro(i,null,null,r),No()),f=t.memoizedState,g=i.memoizedState,f.parent!==o?(f={parent:o,cache:o},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Ki(i,jt,o)):(o=g.cache,Ki(i,jt,o),o!==f.cache&&Af(i,[jt],r,!0))),Gt(t,i,i.pendingProps.children,r),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}var bf=Ke(null),Za=null,ti=null;function Ki(t,i,r){Xe(bf,i._currentValue),i._currentValue=r}function ni(t){t._currentValue=bf.current,ut(bf)}function Tf(t,i,r){for(;t!==null;){var o=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),t===r)break;t=t.return}}function Af(t,i,r,o){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var g=f.dependencies;if(g!==null){var E=f.child;g=g.firstContext;e:for(;g!==null;){var N=g;g=f;for(var L=0;L<i.length;L++)if(N.context===i[L]){g.lanes|=r,N=g.alternate,N!==null&&(N.lanes|=r),Tf(g.return,r,t),o||(E=null);break e}g=N.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(a(341));E.lanes|=r,g=E.alternate,g!==null&&(g.lanes|=r),Tf(E,r,t),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===t){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function So(t,i,r,o){t=null;for(var f=i,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(a(387));if(E=E.memoizedProps,E!==null){var N=f.type;bn(f.pendingProps.value,E.value)||(t!==null?t.push(N):t=[N])}}else if(f===bi.current){if(E=f.alternate,E===null)throw Error(a(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(qo):t=[qo])}f=f.return}t!==null&&Af(i,t,r,o),i.flags|=262144}function ku(t){for(t=t.firstContext;t!==null;){if(!bn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ja(t){Za=t,ti=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Jt(t){return o_(Za,t)}function Cu(t,i){return Za===null&&Ja(t),o_(t,i)}function o_(t,i){var r=i._currentValue;if(i={context:i,memoizedValue:r,next:null},ti===null){if(t===null)throw Error(a(308));ti=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else ti=ti.next=i;return r}var Fi=!1;function Sf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Gi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function $i(t,i,r){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(ot&2)!==0){var f=o.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),o.pending=i,i=uu(t),qp(t,null,r),i}return cu(t,o,i,r),uu(t)}function wo(t,i,r){if(i=i.updateQueue,i!==null&&(i=i.shared,(r&4194176)!==0)){var o=i.lanes;o&=t.pendingLanes,r|=o,i.lanes=r,ki(t,r)}}function Nf(t,i){var r=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var f=null,g=null;if(r=r.firstBaseUpdate,r!==null){do{var E={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};g===null?f=g=E:g=g.next=E,r=r.next}while(r!==null);g===null?f=g=i:g=g.next=i}else f=g=i;r={baseState:o.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:o.shared,callbacks:o.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=i:t.next=i,r.lastBaseUpdate=i}var Rf=!1;function No(){if(Rf){var t=Zr;if(t!==null)throw t}}function Ro(t,i,r,o){Rf=!1;var f=t.updateQueue;Fi=!1;var g=f.firstBaseUpdate,E=f.lastBaseUpdate,N=f.shared.pending;if(N!==null){f.shared.pending=null;var L=N,K=L.next;L.next=null,E===null?g=K:E.next=K,E=L;var ie=t.alternate;ie!==null&&(ie=ie.updateQueue,N=ie.lastBaseUpdate,N!==E&&(N===null?ie.firstBaseUpdate=K:N.next=K,ie.lastBaseUpdate=L))}if(g!==null){var de=f.baseState;E=0,ie=K=L=null,N=g;do{var J=N.lane&-536870913,se=J!==N.lane;if(se?(He&J)===J:(o&J)===J){J!==0&&J===Xr&&(Rf=!0),ie!==null&&(ie=ie.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var xe=t,Ce=N;J=i;var mt=r;switch(Ce.tag){case 1:if(xe=Ce.payload,typeof xe=="function"){de=xe.call(mt,de,J);break e}de=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=Ce.payload,J=typeof xe=="function"?xe.call(mt,de,J):xe,J==null)break e;de=S({},de,J);break e;case 2:Fi=!0}}J=N.callback,J!==null&&(t.flags|=64,se&&(t.flags|=8192),se=f.callbacks,se===null?f.callbacks=[J]:se.push(J))}else se={lane:J,tag:N.tag,payload:N.payload,callback:N.callback,next:null},ie===null?(K=ie=se,L=de):ie=ie.next=se,E|=J;if(N=N.next,N===null){if(N=f.shared.pending,N===null)break;se=N,N=se.next,se.next=null,f.lastBaseUpdate=se,f.shared.pending=null}}while(!0);ie===null&&(L=de),f.baseState=L,f.firstBaseUpdate=K,f.lastBaseUpdate=ie,g===null&&(f.shared.lanes=0),Zi|=E,t.lanes=E,t.memoizedState=de}}function c_(t,i){if(typeof t!="function")throw Error(a(191,t));t.call(i)}function u_(t,i){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)c_(r[t],i)}function ko(t,i){try{var r=i.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var f=o.next;r=f;do{if((r.tag&t)===t){o=void 0;var g=r.create,E=r.inst;o=g(),E.destroy=o}r=r.next}while(r!==f)}}catch(N){et(i,i.return,N)}}function Qi(t,i,r){try{var o=i.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var g=f.next;o=g;do{if((o.tag&t)===t){var E=o.inst,N=E.destroy;if(N!==void 0){E.destroy=void 0,f=i;var L=r;try{N()}catch(K){et(f,L,K)}}}o=o.next}while(o!==g)}}catch(K){et(i,i.return,K)}}function d_(t){var i=t.updateQueue;if(i!==null){var r=t.stateNode;try{u_(i,r)}catch(o){et(t,t.return,o)}}}function h_(t,i,r){r.props=Xa(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(o){et(t,i,o)}}function er(t,i){try{var r=t.ref;if(r!==null){var o=t.stateNode;switch(t.tag){case 26:case 27:case 5:var f=o;break;default:f=o}typeof r=="function"?t.refCleanup=r(f):r.current=f}}catch(g){et(t,i,g)}}function Tn(t,i){var r=t.ref,o=t.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(f){et(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(f){et(t,i,f)}else r.current=null}function f_(t){var i=t.type,r=t.memoizedProps,o=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break e;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(f){et(t,t.return,f)}}function m_(t,i,r){try{var o=t.stateNode;wA(o,t.type,r,i),o[Rt]=i}catch(f){et(t,t.return,f)}}function g_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function kf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||g_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Cf(t,i,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?r.nodeType===8?r.parentNode.insertBefore(t,i):r.insertBefore(t,i):(r.nodeType===8?(i=r.parentNode,i.insertBefore(t,r)):(i=r,i.appendChild(t)),r=r._reactRootContainer,r!=null||i.onclick!==null||(i.onclick=Ku));else if(o!==4&&o!==27&&(t=t.child,t!==null))for(Cf(t,i,r),t=t.sibling;t!==null;)Cf(t,i,r),t=t.sibling}function Iu(t,i,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?r.insertBefore(t,i):r.appendChild(t);else if(o!==4&&o!==27&&(t=t.child,t!==null))for(Iu(t,i,r),t=t.sibling;t!==null;)Iu(t,i,r),t=t.sibling}var si=!1,ht=!1,If=!1,p_=typeof WeakSet=="function"?WeakSet:Set,zt=null,y_=!1;function nA(t,i){if(t=t.containerInfo,am=Xu,t=Op(t),jh(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var f=o.anchorOffset,g=o.focusNode;o=o.focusOffset;try{r.nodeType,g.nodeType}catch{r=null;break e}var E=0,N=-1,L=-1,K=0,ie=0,de=t,J=null;t:for(;;){for(var se;de!==r||f!==0&&de.nodeType!==3||(N=E+f),de!==g||o!==0&&de.nodeType!==3||(L=E+o),de.nodeType===3&&(E+=de.nodeValue.length),(se=de.firstChild)!==null;)J=de,de=se;for(;;){if(de===t)break t;if(J===r&&++K===f&&(N=E),J===g&&++ie===o&&(L=E),(se=de.nextSibling)!==null)break;de=J,J=de.parentNode}de=se}r=N===-1||L===-1?null:{start:N,end:L}}else r=null}r=r||{start:0,end:0}}else r=null;for(rm={focusedElem:t,selectionRange:r},Xu=!1,zt=i;zt!==null;)if(i=zt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,zt=t;else for(;zt!==null;){switch(i=zt,g=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&g!==null){t=void 0,r=i,f=g.memoizedProps,g=g.memoizedState,o=r.stateNode;try{var xe=Xa(r.type,f,r.elementType===r.type);t=o.getSnapshotBeforeUpdate(xe,g),o.__reactInternalSnapshotBeforeUpdate=t}catch(Ce){et(r,r.return,Ce)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,r=t.nodeType,r===9)um(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":um(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=i.sibling,t!==null){t.return=i.return,zt=t;break}zt=i.return}return xe=y_,y_=!1,xe}function __(t,i,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:ai(t,r),o&4&&ko(5,r);break;case 1:if(ai(t,r),o&4)if(t=r.stateNode,i===null)try{t.componentDidMount()}catch(N){et(r,r.return,N)}else{var f=Xa(r.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(N){et(r,r.return,N)}}o&64&&d_(r),o&512&&er(r,r.return);break;case 3:if(ai(t,r),o&64&&(o=r.updateQueue,o!==null)){if(t=null,r.child!==null)switch(r.child.tag){case 27:case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}try{u_(o,t)}catch(N){et(r,r.return,N)}}break;case 26:ai(t,r),o&512&&er(r,r.return);break;case 27:case 5:ai(t,r),i===null&&o&4&&f_(r),o&512&&er(r,r.return);break;case 12:ai(t,r);break;case 13:ai(t,r),o&4&&E_(t,r);break;case 22:if(f=r.memoizedState!==null||si,!f){i=i!==null&&i.memoizedState!==null||ht;var g=si,E=ht;si=f,(ht=i)&&!E?Yi(t,r,(r.subtreeFlags&8772)!==0):ai(t,r),si=g,ht=E}o&512&&(r.memoizedProps.mode==="manual"?er(r,r.return):Tn(r,r.return));break;default:ai(t,r)}}function v_(t){var i=t.alternate;i!==null&&(t.alternate=null,v_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Ca(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var At=null,An=!1;function ii(t,i,r){for(r=r.child;r!==null;)x_(t,i,r),r=r.sibling}function x_(t,i,r){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(Ai,r)}catch{}switch(r.tag){case 26:ht||Tn(r,i),ii(t,i,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:ht||Tn(r,i);var o=At,f=An;for(At=r.stateNode,ii(t,i,r),r=r.stateNode,i=r.attributes;i.length;)r.removeAttributeNode(i[0]);Ca(r),At=o,An=f;break;case 5:ht||Tn(r,i);case 6:f=At;var g=An;if(At=null,ii(t,i,r),At=f,An=g,At!==null)if(An)try{t=At,o=r.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)}catch(E){et(r,i,E)}else try{At.removeChild(r.stateNode)}catch(E){et(r,i,E)}break;case 18:At!==null&&(An?(i=At,r=r.stateNode,i.nodeType===8?cm(i.parentNode,r):i.nodeType===1&&cm(i,r),$o(i)):cm(At,r.stateNode));break;case 4:o=At,f=An,At=r.stateNode.containerInfo,An=!0,ii(t,i,r),At=o,An=f;break;case 0:case 11:case 14:case 15:ht||Qi(2,r,i),ht||Qi(4,r,i),ii(t,i,r);break;case 1:ht||(Tn(r,i),o=r.stateNode,typeof o.componentWillUnmount=="function"&&h_(r,i,o)),ii(t,i,r);break;case 21:ii(t,i,r);break;case 22:ht||Tn(r,i),ht=(o=ht)||r.memoizedState!==null,ii(t,i,r),ht=o;break;default:ii(t,i,r)}}function E_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{$o(t)}catch(r){et(i,i.return,r)}}function sA(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new p_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new p_),i;default:throw Error(a(435,t.tag))}}function jf(t,i){var r=sA(t);i.forEach(function(o){var f=pA.bind(null,t,o);r.has(o)||(r.add(o),o.then(f,f))})}function Hn(t,i){var r=i.deletions;if(r!==null)for(var o=0;o<r.length;o++){var f=r[o],g=t,E=i,N=E;e:for(;N!==null;){switch(N.tag){case 27:case 5:At=N.stateNode,An=!1;break e;case 3:At=N.stateNode.containerInfo,An=!0;break e;case 4:At=N.stateNode.containerInfo,An=!0;break e}N=N.return}if(At===null)throw Error(a(160));x_(g,E,f),At=null,An=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)b_(i,t),i=i.sibling}var ns=null;function b_(t,i){var r=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Hn(i,t),qn(t),o&4&&(Qi(3,t,t.return),ko(3,t),Qi(5,t,t.return));break;case 1:Hn(i,t),qn(t),o&512&&(ht||r===null||Tn(r,r.return)),o&64&&si&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var f=ns;if(Hn(i,t),qn(t),o&512&&(ht||r===null||Tn(r,r.return)),o&4){var g=r!==null?r.memoizedState:null;if(o=t.memoizedState,r===null)if(o===null)if(t.stateNode===null){e:{o=t.type,r=t.memoizedProps,f=f.ownerDocument||f;t:switch(o){case"title":g=f.getElementsByTagName("title")[0],(!g||g[Ii]||g[Pt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(o),f.head.insertBefore(g,f.querySelector("head > title"))),$t(g,o,r),g[Pt]=t,rt(g),o=g;break e;case"link":var E=fv("link","href",f).get(o+(r.href||""));if(E){for(var N=0;N<E.length;N++)if(g=E[N],g.getAttribute("href")===(r.href==null?null:r.href)&&g.getAttribute("rel")===(r.rel==null?null:r.rel)&&g.getAttribute("title")===(r.title==null?null:r.title)&&g.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){E.splice(N,1);break t}}g=f.createElement(o),$t(g,o,r),f.head.appendChild(g);break;case"meta":if(E=fv("meta","content",f).get(o+(r.content||""))){for(N=0;N<E.length;N++)if(g=E[N],g.getAttribute("content")===(r.content==null?null:""+r.content)&&g.getAttribute("name")===(r.name==null?null:r.name)&&g.getAttribute("property")===(r.property==null?null:r.property)&&g.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&g.getAttribute("charset")===(r.charSet==null?null:r.charSet)){E.splice(N,1);break t}}g=f.createElement(o),$t(g,o,r),f.head.appendChild(g);break;default:throw Error(a(468,o))}g[Pt]=t,rt(g),o=g}t.stateNode=o}else mv(f,t.type,t.stateNode);else t.stateNode=hv(f,o,t.memoizedProps);else g!==o?(g===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):g.count--,o===null?mv(f,t.type,t.stateNode):hv(f,o,t.memoizedProps)):o===null&&t.stateNode!==null&&m_(t,t.memoizedProps,r.memoizedProps)}break;case 27:if(o&4&&t.alternate===null){f=t.stateNode,g=t.memoizedProps;try{for(var L=f.firstChild;L;){var K=L.nextSibling,ie=L.nodeName;L[Ii]||ie==="HEAD"||ie==="BODY"||ie==="SCRIPT"||ie==="STYLE"||ie==="LINK"&&L.rel.toLowerCase()==="stylesheet"||f.removeChild(L),L=K}for(var de=t.type,J=f.attributes;J.length;)f.removeAttributeNode(J[0]);$t(f,de,g),f[Pt]=t,f[Rt]=g}catch(xe){et(t,t.return,xe)}}case 5:if(Hn(i,t),qn(t),o&512&&(ht||r===null||Tn(r,r.return)),t.flags&32){f=t.stateNode;try{Dn(f,"")}catch(xe){et(t,t.return,xe)}}o&4&&t.stateNode!=null&&(f=t.memoizedProps,m_(t,f,r!==null?r.memoizedProps:f)),o&1024&&(If=!0);break;case 6:if(Hn(i,t),qn(t),o&4){if(t.stateNode===null)throw Error(a(162));o=t.memoizedProps,r=t.stateNode;try{r.nodeValue=o}catch(xe){et(t,t.return,xe)}}break;case 3:if(Qu=null,f=ns,ns=Gu(i.containerInfo),Hn(i,t),ns=f,qn(t),o&4&&r!==null&&r.memoizedState.isDehydrated)try{$o(i.containerInfo)}catch(xe){et(t,t.return,xe)}If&&(If=!1,T_(t));break;case 4:o=ns,ns=Gu(t.stateNode.containerInfo),Hn(i,t),qn(t),ns=o;break;case 12:Hn(i,t),qn(t);break;case 13:Hn(i,t),qn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(zf=gn()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,jf(t,o)));break;case 22:if(o&512&&(ht||r===null||Tn(r,r.return)),L=t.memoizedState!==null,K=r!==null&&r.memoizedState!==null,ie=si,de=ht,si=ie||L,ht=de||K,Hn(i,t),ht=de,si=ie,qn(t),i=t.stateNode,i._current=t,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,o&8192&&(i._visibility=L?i._visibility&-2:i._visibility|1,L&&(i=si||ht,r===null||K||i||nl(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))e:for(r=null,i=t;;){if(i.tag===5||i.tag===26||i.tag===27){if(r===null){K=r=i;try{if(f=K.stateNode,L)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=K.stateNode,N=K.memoizedProps.style;var se=N!=null&&N.hasOwnProperty("display")?N.display:null;E.style.display=se==null||typeof se=="boolean"?"":(""+se).trim()}}catch(xe){et(K,K.return,xe)}}}else if(i.tag===6){if(r===null){K=i;try{K.stateNode.nodeValue=L?"":K.memoizedProps}catch(xe){et(K,K.return,xe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;r===i&&(r=null),i=i.return}r===i&&(r=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=t.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,jf(t,r))));break;case 19:Hn(i,t),qn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,jf(t,o)));break;case 21:break;default:Hn(i,t),qn(t)}}function qn(t){var i=t.flags;if(i&2){try{if(t.tag!==27){e:{for(var r=t.return;r!==null;){if(g_(r)){var o=r;break e}r=r.return}throw Error(a(160))}switch(o.tag){case 27:var f=o.stateNode,g=kf(t);Iu(t,g,f);break;case 5:var E=o.stateNode;o.flags&32&&(Dn(E,""),o.flags&=-33);var N=kf(t);Iu(t,N,E);break;case 3:case 4:var L=o.stateNode.containerInfo,K=kf(t);Cf(t,K,L);break;default:throw Error(a(161))}}}catch(ie){et(t,t.return,ie)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function T_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;T_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function ai(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)__(t,i.alternate,i),i=i.sibling}function nl(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Qi(4,i,i.return),nl(i);break;case 1:Tn(i,i.return);var r=i.stateNode;typeof r.componentWillUnmount=="function"&&h_(i,i.return,r),nl(i);break;case 26:case 27:case 5:Tn(i,i.return),nl(i);break;case 22:Tn(i,i.return),i.memoizedState===null&&nl(i);break;default:nl(i)}t=t.sibling}}function Yi(t,i,r){for(r=r&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,f=t,g=i,E=g.flags;switch(g.tag){case 0:case 11:case 15:Yi(f,g,r),ko(4,g);break;case 1:if(Yi(f,g,r),o=g,f=o.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(K){et(o,o.return,K)}if(o=g,f=o.updateQueue,f!==null){var N=o.stateNode;try{var L=f.shared.hiddenCallbacks;if(L!==null)for(f.shared.hiddenCallbacks=null,f=0;f<L.length;f++)c_(L[f],N)}catch(K){et(o,o.return,K)}}r&&E&64&&d_(g),er(g,g.return);break;case 26:case 27:case 5:Yi(f,g,r),r&&o===null&&E&4&&f_(g),er(g,g.return);break;case 12:Yi(f,g,r);break;case 13:Yi(f,g,r),r&&E&4&&E_(f,g);break;case 22:g.memoizedState===null&&Yi(f,g,r),er(g,g.return);break;default:Yi(f,g,r)}i=i.sibling}}function Df(t,i){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&vo(r))}function Of(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&vo(t))}function Wi(t,i,r,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)A_(t,i,r,o),i=i.sibling}function A_(t,i,r,o){var f=i.flags;switch(i.tag){case 0:case 11:case 15:Wi(t,i,r,o),f&2048&&ko(9,i);break;case 3:Wi(t,i,r,o),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&vo(t)));break;case 12:if(f&2048){Wi(t,i,r,o),t=i.stateNode;try{var g=i.memoizedProps,E=g.id,N=g.onPostCommit;typeof N=="function"&&N(E,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(L){et(i,i.return,L)}}else Wi(t,i,r,o);break;case 23:break;case 22:g=i.stateNode,i.memoizedState!==null?g._visibility&4?Wi(t,i,r,o):Co(t,i):g._visibility&4?Wi(t,i,r,o):(g._visibility|=4,sl(t,i,r,o,(i.subtreeFlags&10256)!==0)),f&2048&&Df(i.alternate,i);break;case 24:Wi(t,i,r,o),f&2048&&Of(i.alternate,i);break;default:Wi(t,i,r,o)}}function sl(t,i,r,o,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var g=t,E=i,N=r,L=o,K=E.flags;switch(E.tag){case 0:case 11:case 15:sl(g,E,N,L,f),ko(8,E);break;case 23:break;case 22:var ie=E.stateNode;E.memoizedState!==null?ie._visibility&4?sl(g,E,N,L,f):Co(g,E):(ie._visibility|=4,sl(g,E,N,L,f)),f&&K&2048&&Df(E.alternate,E);break;case 24:sl(g,E,N,L,f),f&&K&2048&&Of(E.alternate,E);break;default:sl(g,E,N,L,f)}i=i.sibling}}function Co(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var r=t,o=i,f=o.flags;switch(o.tag){case 22:Co(r,o),f&2048&&Df(o.alternate,o);break;case 24:Co(r,o),f&2048&&Of(o.alternate,o);break;default:Co(r,o)}i=i.sibling}}var Io=8192;function il(t){if(t.subtreeFlags&Io)for(t=t.child;t!==null;)S_(t),t=t.sibling}function S_(t){switch(t.tag){case 26:il(t),t.flags&Io&&t.memoizedState!==null&&FA(ns,t.memoizedState,t.memoizedProps);break;case 5:il(t);break;case 3:case 4:var i=ns;ns=Gu(t.stateNode.containerInfo),il(t),ns=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=Io,Io=16777216,il(t),Io=i):il(t));break;default:il(t)}}function w_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function jo(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var r=0;r<i.length;r++){var o=i[r];zt=o,R_(o,t)}w_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)N_(t),t=t.sibling}function N_(t){switch(t.tag){case 0:case 11:case 15:jo(t),t.flags&2048&&Qi(9,t,t.return);break;case 3:jo(t);break;case 12:jo(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&4&&(t.return===null||t.return.tag!==13)?(i._visibility&=-5,ju(t)):jo(t);break;default:jo(t)}}function ju(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var r=0;r<i.length;r++){var o=i[r];zt=o,R_(o,t)}w_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Qi(8,i,i.return),ju(i);break;case 22:r=i.stateNode,r._visibility&4&&(r._visibility&=-5,ju(i));break;default:ju(i)}t=t.sibling}}function R_(t,i){for(;zt!==null;){var r=zt;switch(r.tag){case 0:case 11:case 15:Qi(8,r,i);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:vo(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,zt=o;else e:for(r=t;zt!==null;){o=zt;var f=o.sibling,g=o.return;if(v_(o),o===r){zt=null;break e}if(f!==null){f.return=g,zt=f;break e}zt=g}}}function iA(t,i,r,o){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kn(t,i,r,o){return new iA(t,i,r,o)}function Mf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Xi(t,i){var r=t.alternate;return r===null?(r=Kn(t.tag,i,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=i,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&31457280,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,i=t.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function k_(t,i){t.flags&=31457282;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,i=r.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Du(t,i,r,o,f,g){var E=0;if(o=t,typeof t=="function")Mf(t)&&(E=1);else if(typeof t=="string")E=qA(t,r,rn.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case p:return tr(r.children,f,g,i);case y:E=8,f|=24;break;case v:return t=Kn(12,r,i,f|2),t.elementType=v,t.lanes=g,t;case B:return t=Kn(13,r,i,f),t.elementType=B,t.lanes=g,t;case j:return t=Kn(19,r,i,f),t.elementType=j,t.lanes=g,t;case G:return C_(r,f,g,i);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case T:case C:E=10;break e;case A:E=9;break e;case O:E=11;break e;case z:E=14;break e;case q:E=16,o=null;break e}E=29,r=Error(a(130,t===null?"null":typeof t,"")),o=null}return i=Kn(E,r,i,f),i.elementType=t,i.type=o,i.lanes=g,i}function tr(t,i,r,o){return t=Kn(7,t,o,i),t.lanes=r,t}function C_(t,i,r,o){t=Kn(22,t,o,i),t.elementType=G,t.lanes=r;var f={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var g=f._current;if(g===null)throw Error(a(456));if((f._pendingVisibility&2)===0){var E=Ui(g,2);E!==null&&(f._pendingVisibility|=2,dn(E,g,2))}},attach:function(){var g=f._current;if(g===null)throw Error(a(456));if((f._pendingVisibility&2)!==0){var E=Ui(g,2);E!==null&&(f._pendingVisibility&=-3,dn(E,g,2))}}};return t.stateNode=f,t}function Lf(t,i,r){return t=Kn(6,t,null,i),t.lanes=r,t}function Pf(t,i,r){return i=Kn(4,t.children!==null?t.children:[],t.key,i),i.lanes=r,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}function ri(t){t.flags|=4}function I_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!gv(i)){if(i=zn.current,i!==null&&((He&4194176)===He?As!==null:(He&62914560)!==He&&(He&536870912)===0||i!==As))throw po=zh,Qp;t.flags|=8192}}function Ou(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Ni():536870912,t.lanes|=i,rl|=i)}function Do(t,i){if(!Ge)switch(t.tailMode){case"hidden":i=t.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function lt(t){var i=t.alternate!==null&&t.alternate.child===t.child,r=0,o=0;if(i)for(var f=t.child;f!==null;)r|=f.lanes|f.childLanes,o|=f.subtreeFlags&31457280,o|=f.flags&31457280,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)r|=f.lanes|f.childLanes,o|=f.subtreeFlags,o|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=o,t.childLanes=r,i}function aA(t,i,r){var o=i.pendingProps;switch(Uh(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(i),null;case 1:return lt(i),null;case 3:return r=i.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),ni(jt),Us(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ho(i)?ri(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,ts!==null&&(Ff(ts),ts=null))),lt(i),null;case 26:return r=i.memoizedState,t===null?(ri(i),r!==null?(lt(i),I_(i,r)):(lt(i),i.flags&=-16777217)):r?r!==t.memoizedState?(ri(i),lt(i),I_(i,r)):(lt(i),i.flags&=-16777217):(t.memoizedProps!==o&&ri(i),lt(i),i.flags&=-16777217),null;case 27:Sr(i),r=Cn.current;var f=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==o&&ri(i);else{if(!o){if(i.stateNode===null)throw Error(a(166));return lt(i),null}t=rn.current,ho(i)?Gp(i):(t=lv(f,o,r),i.stateNode=t,ri(i))}return lt(i),null;case 5:if(Sr(i),r=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&ri(i);else{if(!o){if(i.stateNode===null)throw Error(a(166));return lt(i),null}if(t=rn.current,ho(i))Gp(i);else{switch(f=Fu(Cn.current),t){case 1:t=f.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=f.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=f.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=f.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=f.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof o.is=="string"?f.createElement("select",{is:o.is}):f.createElement("select"),o.multiple?t.multiple=!0:o.size&&(t.size=o.size);break;default:t=typeof o.is=="string"?f.createElement(r,{is:o.is}):f.createElement(r)}}t[Pt]=i,t[Rt]=o;e:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)t.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break e;for(;f.sibling===null;){if(f.return===null||f.return===i)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=t;e:switch($t(t,r,o),r){case"button":case"input":case"select":case"textarea":t=!!o.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&ri(i)}}return lt(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==o&&ri(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(a(166));if(t=Cn.current,ho(i)){if(t=i.stateNode,r=i.memoizedProps,o=null,f=un,f!==null)switch(f.tag){case 27:case 5:o=f.memoizedProps}t[Pt]=i,t=!!(t.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||tv(t.nodeValue,r)),t||Fa(i)}else t=Fu(t).createTextNode(o),t[Pt]=i,i.stateNode=t}return lt(i),null;case 13:if(o=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=ho(i),o!==null&&o.dehydrated!==null){if(t===null){if(!f)throw Error(a(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[Pt]=i}else fo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;lt(i),f=!1}else ts!==null&&(Ff(ts),ts=null),f=!0;if(!f)return i.flags&256?(Zs(i),i):(Zs(i),null)}if(Zs(i),(i.flags&128)!==0)return i.lanes=r,i;if(r=o!==null,t=t!==null&&t.memoizedState!==null,r){o=i.child,f=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(f=o.alternate.memoizedState.cachePool.pool);var g=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(g=o.memoizedState.cachePool.pool),g!==f&&(o.flags|=2048)}return r!==t&&r&&(i.child.flags|=8192),Ou(i,i.updateQueue),lt(i),null;case 4:return Us(),t===null&&nm(i.stateNode.containerInfo),lt(i),null;case 10:return ni(i.type),lt(i),null;case 19:if(ut(It),f=i.memoizedState,f===null)return lt(i),null;if(o=(i.flags&128)!==0,g=f.rendering,g===null)if(o)Do(f,!1);else{if(ft!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(g=yu(t),g!==null){for(i.flags|=128,Do(f,!1),t=g.updateQueue,i.updateQueue=t,Ou(i,t),i.subtreeFlags=0,t=r,r=i.child;r!==null;)k_(r,t),r=r.sibling;return Xe(It,It.current&1|2),i.child}t=t.sibling}f.tail!==null&&gn()>Mu&&(i.flags|=128,o=!0,Do(f,!1),i.lanes=4194304)}else{if(!o)if(t=yu(g),t!==null){if(i.flags|=128,o=!0,t=t.updateQueue,i.updateQueue=t,Ou(i,t),Do(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!Ge)return lt(i),null}else 2*gn()-f.renderingStartTime>Mu&&r!==536870912&&(i.flags|=128,o=!0,Do(f,!1),i.lanes=4194304);f.isBackwards?(g.sibling=i.child,i.child=g):(t=f.last,t!==null?t.sibling=g:i.child=g,f.last=g)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=gn(),i.sibling=null,t=It.current,Xe(It,o?t&1|2:t&1),i):(lt(i),null);case 22:case 23:return Zs(i),qh(),o=i.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(r&536870912)!==0&&(i.flags&128)===0&&(lt(i),i.subtreeFlags&6&&(i.flags|=8192)):lt(i),r=i.updateQueue,r!==null&&Ou(i,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==r&&(i.flags|=2048),t!==null&&ut($a),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),i.memoizedState.cache!==r&&(i.flags|=2048),ni(jt),lt(i),null;case 25:return null}throw Error(a(156,i.tag))}function rA(t,i){switch(Uh(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return ni(jt),Us(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Sr(i),null;case 13:if(Zs(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(a(340));fo()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return ut(It),null;case 4:return Us(),null;case 10:return ni(i.type),null;case 22:case 23:return Zs(i),qh(),t!==null&&ut($a),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return ni(jt),null;case 25:return null;default:return null}}function j_(t,i){switch(Uh(i),i.tag){case 3:ni(jt),Us();break;case 26:case 27:case 5:Sr(i);break;case 4:Us();break;case 13:Zs(i);break;case 19:ut(It);break;case 10:ni(i.type);break;case 22:case 23:Zs(i),qh(),t!==null&&ut($a);break;case 24:ni(jt)}}var lA={getCacheForType:function(t){var i=Jt(jt),r=i.data.get(t);return r===void 0&&(r=t(),i.data.set(t,r)),r}},oA=typeof WeakMap=="function"?WeakMap:Map,ot=0,tt=null,Me=null,He=0,nt=0,Sn=null,li=!1,al=!1,Vf=!1,oi=0,ft=0,Zi=0,nr=0,Uf=0,Fn=0,rl=0,Oo=null,ws=null,Bf=!1,zf=0,Mu=1/0,Lu=null,Ji=null,Pu=!1,sr=null,Mo=0,Hf=0,qf=null,Lo=0,Kf=null;function wn(){if((ot&2)!==0&&He!==0)return He&-He;if(b.T!==null){var t=Xr;return t!==0?t:Zf()}return qc()}function D_(){Fn===0&&(Fn=(He&536870912)===0||Ge?$l():536870912);var t=zn.current;return t!==null&&(t.flags|=32),Fn}function dn(t,i,r){(t===tt&&nt===2||t.cancelPendingCommit!==null)&&(ll(t,0),ci(t,He,Fn,!1)),_t(t,r),((ot&2)===0||t!==tt)&&(t===tt&&((ot&2)===0&&(nr|=r),ft===4&&ci(t,He,Fn,!1)),Ns(t))}function O_(t,i,r){if((ot&6)!==0)throw Error(a(327));var o=!r&&(i&60)===0&&(i&t.expiredLanes)===0||wi(t,i),f=o?dA(t,i):Qf(t,i,!0),g=o;do{if(f===0){al&&!o&&ci(t,i,0,!1);break}else if(f===6)ci(t,i,0,!li);else{if(r=t.current.alternate,g&&!cA(r)){f=Qf(t,i,!1),g=!1;continue}if(f===2){if(g=i,t.errorRecoveryDisabledLanes&g)var E=0;else E=t.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var N=t;f=Oo;var L=N.current.memoizedState.isDehydrated;if(L&&(ll(N,E).flags|=256),E=Qf(N,E,!1),E!==2){if(Vf&&!L){N.errorRecoveryDisabledLanes|=g,nr|=g,f=4;break e}g=ws,ws=f,g!==null&&Ff(g)}f=E}if(g=!1,f!==2)continue}}if(f===1){ll(t,0),ci(t,i,0,!0);break}e:{switch(o=t,f){case 0:case 1:throw Error(a(345));case 4:if((i&4194176)===i){ci(o,i,Fn,!li);break e}break;case 2:ws=null;break;case 3:case 5:break;default:throw Error(a(329))}if(o.finishedWork=r,o.finishedLanes=i,(i&62914560)===i&&(g=zf+300-gn(),10<g)){if(ci(o,i,Fn,!li),In(o,0)!==0)break e;o.timeoutHandle=iv(M_.bind(null,o,r,ws,Lu,Bf,i,Fn,nr,rl,li,2,-0,0),g);break e}M_(o,r,ws,Lu,Bf,i,Fn,nr,rl,li,0,-0,0)}}break}while(!0);Ns(t)}function Ff(t){ws===null?ws=t:ws.push.apply(ws,t)}function M_(t,i,r,o,f,g,E,N,L,K,ie,de,J){var se=i.subtreeFlags;if((se&8192||(se&16785408)===16785408)&&(Ho={stylesheets:null,count:0,unsuspend:KA},S_(i),i=GA(),i!==null)){t.cancelPendingCommit=i(H_.bind(null,t,r,o,f,E,N,L,1,de,J)),ci(t,g,E,!K);return}H_(t,r,o,f,E,N,L,ie,de,J)}function cA(t){for(var i=t;;){var r=i.tag;if((r===0||r===11||r===15)&&i.flags&16384&&(r=i.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var f=r[o],g=f.getSnapshot;f=f.value;try{if(!bn(g(),f))return!1}catch{return!1}}if(r=i.child,i.subtreeFlags&16384&&r!==null)r.return=i,i=r;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ci(t,i,r,o){i&=~Uf,i&=~nr,t.suspendedLanes|=i,t.pingedLanes&=~i,o&&(t.warmLanes|=i),o=t.expirationTimes;for(var f=i;0<f;){var g=31-ln(f),E=1<<g;o[g]=-1,f&=~E}r!==0&&Ri(t,r,i)}function Vu(){return(ot&6)===0?(Po(0),!1):!0}function Gf(){if(Me!==null){if(nt===0)var t=Me.return;else t=Me,ti=Za=null,Xh(t),Yr=null,yo=0,t=Me;for(;t!==null;)j_(t.alternate,t),t=t.return;Me=null}}function ll(t,i){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,RA(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Gf(),tt=t,Me=r=Xi(t.current,null),He=i,nt=0,Sn=null,li=!1,al=wi(t,i),Vf=!1,rl=Fn=Uf=nr=Zi=ft=0,ws=Oo=null,Bf=!1,(i&8)!==0&&(i|=i&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=i;0<o;){var f=31-ln(o),g=1<<f;i|=t[f],o&=~g}return oi=i,ou(),r}function L_(t,i){De=null,b.H=Ss,i===go?(i=Xp(),nt=3):i===Qp?(i=Xp(),nt=4):nt=i===Yy?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Sn=i,Me===null&&(ft=1,Ru(t,Vn(i,t.current)))}function P_(){var t=b.H;return b.H=Ss,t===null?Ss:t}function V_(){var t=b.A;return b.A=lA,t}function $f(){ft=4,li||(He&4194176)!==He&&zn.current!==null||(al=!0),(Zi&134217727)===0&&(nr&134217727)===0||tt===null||ci(tt,He,Fn,!1)}function Qf(t,i,r){var o=ot;ot|=2;var f=P_(),g=V_();(tt!==t||He!==i)&&(Lu=null,ll(t,i)),i=!1;var E=ft;e:do try{if(nt!==0&&Me!==null){var N=Me,L=Sn;switch(nt){case 8:Gf(),E=6;break e;case 3:case 2:case 6:zn.current===null&&(i=!0);var K=nt;if(nt=0,Sn=null,ol(t,N,L,K),r&&al){E=0;break e}break;default:K=nt,nt=0,Sn=null,ol(t,N,L,K)}}uA(),E=ft;break}catch(ie){L_(t,ie)}while(!0);return i&&t.shellSuspendCounter++,ti=Za=null,ot=o,b.H=f,b.A=g,Me===null&&(tt=null,He=0,ou()),E}function uA(){for(;Me!==null;)U_(Me)}function dA(t,i){var r=ot;ot|=2;var o=P_(),f=V_();tt!==t||He!==i?(Lu=null,Mu=gn()+500,ll(t,i)):al=wi(t,i);e:do try{if(nt!==0&&Me!==null){i=Me;var g=Sn;t:switch(nt){case 1:nt=0,Sn=null,ol(t,i,g,1);break;case 2:if(Yp(g)){nt=0,Sn=null,B_(i);break}i=function(){nt===2&&tt===t&&(nt=7),Ns(t)},g.then(i,i);break e;case 3:nt=7;break e;case 4:nt=5;break e;case 7:Yp(g)?(nt=0,Sn=null,B_(i)):(nt=0,Sn=null,ol(t,i,g,7));break;case 5:var E=null;switch(Me.tag){case 26:E=Me.memoizedState;case 5:case 27:var N=Me;if(!E||gv(E)){nt=0,Sn=null;var L=N.sibling;if(L!==null)Me=L;else{var K=N.return;K!==null?(Me=K,Uu(K)):Me=null}break t}}nt=0,Sn=null,ol(t,i,g,5);break;case 6:nt=0,Sn=null,ol(t,i,g,6);break;case 8:Gf(),ft=6;break e;default:throw Error(a(462))}}hA();break}catch(ie){L_(t,ie)}while(!0);return ti=Za=null,b.H=o,b.A=f,ot=r,Me!==null?0:(tt=null,He=0,ou(),ft)}function hA(){for(;Me!==null&&!Eh();)U_(Me)}function U_(t){var i=l_(t.alternate,t,oi);t.memoizedProps=t.pendingProps,i===null?Uu(t):Me=i}function B_(t){var i=t,r=i.alternate;switch(i.tag){case 15:case 0:i=t_(r,i,i.pendingProps,i.type,void 0,He);break;case 11:i=t_(r,i,i.pendingProps,i.type.render,i.ref,He);break;case 5:Xh(i);default:j_(r,i),i=Me=k_(i,oi),i=l_(r,i,oi)}t.memoizedProps=t.pendingProps,i===null?Uu(t):Me=i}function ol(t,i,r,o){ti=Za=null,Xh(i),Yr=null,yo=0;var f=i.return;try{if(eA(t,f,i,r,He)){ft=1,Ru(t,Vn(r,t.current)),Me=null;return}}catch(g){if(f!==null)throw Me=f,g;ft=1,Ru(t,Vn(r,t.current)),Me=null;return}i.flags&32768?(Ge||o===1?t=!0:al||(He&536870912)!==0?t=!1:(li=t=!0,(o===2||o===3||o===6)&&(o=zn.current,o!==null&&o.tag===13&&(o.flags|=16384))),z_(i,t)):Uu(i)}function Uu(t){var i=t;do{if((i.flags&32768)!==0){z_(i,li);return}t=i.return;var r=aA(i.alternate,i,oi);if(r!==null){Me=r;return}if(i=i.sibling,i!==null){Me=i;return}Me=i=t}while(i!==null);ft===0&&(ft=5)}function z_(t,i){do{var r=rA(t.alternate,t);if(r!==null){r.flags&=32767,Me=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!i&&(t=t.sibling,t!==null)){Me=t;return}Me=t=r}while(t!==null);ft=6,Me=null}function H_(t,i,r,o,f,g,E,N,L,K){var ie=b.T,de=me.p;try{me.p=2,b.T=null,fA(t,i,r,o,de,f,g,E,N,L,K)}finally{b.T=ie,me.p=de}}function fA(t,i,r,o,f,g,E,N){do cl();while(sr!==null);if((ot&6)!==0)throw Error(a(327));var L=t.finishedWork;if(o=t.finishedLanes,L===null)return null;if(t.finishedWork=null,t.finishedLanes=0,L===t.current)throw Error(a(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var K=L.lanes|L.childLanes;if(K|=Lh,zc(t,o,K,g,E,N),t===tt&&(Me=tt=null,He=0),(L.subtreeFlags&10256)===0&&(L.flags&10256)===0||Pu||(Pu=!0,Hf=K,qf=r,yA(Bs,function(){return cl(),null})),r=(L.flags&15990)!==0,(L.subtreeFlags&15990)!==0||r?(r=b.T,b.T=null,g=me.p,me.p=2,E=ot,ot|=4,nA(t,L),b_(L,t),PT(rm,t.containerInfo),Xu=!!am,rm=am=null,t.current=L,__(t,L.alternate,L),ql(),ot=E,me.p=g,b.T=r):t.current=L,Pu?(Pu=!1,sr=t,Mo=o):q_(t,K),K=t.pendingLanes,K===0&&(Ji=null),Fl(L.stateNode),Ns(t),i!==null)for(f=t.onRecoverableError,L=0;L<i.length;L++)K=i[L],f(K.value,{componentStack:K.stack});return(Mo&3)!==0&&cl(),K=t.pendingLanes,(o&4194218)!==0&&(K&42)!==0?t===Kf?Lo++:(Lo=0,Kf=t):Lo=0,Po(0),null}function q_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,vo(i)))}function cl(){if(sr!==null){var t=sr,i=Hf;Hf=0;var r=Hc(Mo),o=b.T,f=me.p;try{if(me.p=32>r?32:r,b.T=null,sr===null)var g=!1;else{r=qf,qf=null;var E=sr,N=Mo;if(sr=null,Mo=0,(ot&6)!==0)throw Error(a(331));var L=ot;if(ot|=4,N_(E.current),A_(E,E.current,N,r),ot=L,Po(0,!1),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(Ai,E)}catch{}g=!0}return g}finally{me.p=f,b.T=o,q_(t,i)}}return!1}function K_(t,i,r){i=Vn(r,i),i=hf(t.stateNode,i,2),t=$i(t,i,2),t!==null&&(_t(t,2),Ns(t))}function et(t,i,r){if(t.tag===3)K_(t,t,r);else for(;i!==null;){if(i.tag===3){K_(i,t,r);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ji===null||!Ji.has(o))){t=Vn(r,t),r=$y(2),o=$i(i,r,2),o!==null&&(Qy(r,o,i,t),_t(o,2),Ns(o));break}}i=i.return}}function Yf(t,i,r){var o=t.pingCache;if(o===null){o=t.pingCache=new oA;var f=new Set;o.set(i,f)}else f=o.get(i),f===void 0&&(f=new Set,o.set(i,f));f.has(r)||(Vf=!0,f.add(r),t=mA.bind(null,t,i,r),i.then(t,t))}function mA(t,i,r){var o=t.pingCache;o!==null&&o.delete(i),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,tt===t&&(He&r)===r&&(ft===4||ft===3&&(He&62914560)===He&&300>gn()-zf?(ot&2)===0&&ll(t,0):Uf|=r,rl===He&&(rl=0)),Ns(t)}function F_(t,i){i===0&&(i=Ni()),t=Ui(t,i),t!==null&&(_t(t,i),Ns(t))}function gA(t){var i=t.memoizedState,r=0;i!==null&&(r=i.retryLane),F_(t,r)}function pA(t,i){var r=0;switch(t.tag){case 13:var o=t.stateNode,f=t.memoizedState;f!==null&&(r=f.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(i),F_(t,r)}function yA(t,i){return Na(t,i)}var Bu=null,ul=null,Wf=!1,zu=!1,Xf=!1,ir=0;function Ns(t){t!==ul&&t.next===null&&(ul===null?Bu=ul=t:ul=ul.next=t),zu=!0,Wf||(Wf=!0,vA(_A))}function Po(t,i){if(!Xf&&zu){Xf=!0;do for(var r=!1,o=Bu;o!==null;){if(t!==0){var f=o.pendingLanes;if(f===0)var g=0;else{var E=o.suspendedLanes,N=o.pingedLanes;g=(1<<31-ln(42|t)+1)-1,g&=f&~(E&~N),g=g&201326677?g&201326677|1:g?g|2:0}g!==0&&(r=!0,Q_(o,g))}else g=He,g=In(o,o===tt?g:0),(g&3)===0||wi(o,g)||(r=!0,Q_(o,g));o=o.next}while(r);Xf=!1}}function _A(){zu=Wf=!1;var t=0;ir!==0&&(NA()&&(t=ir),ir=0);for(var i=gn(),r=null,o=Bu;o!==null;){var f=o.next,g=G_(o,i);g===0?(o.next=null,r===null?Bu=f:r.next=f,f===null&&(ul=r)):(r=o,(t!==0||(g&3)!==0)&&(zu=!0)),o=f}Po(t)}function G_(t,i){for(var r=t.suspendedLanes,o=t.pingedLanes,f=t.expirationTimes,g=t.pendingLanes&-62914561;0<g;){var E=31-ln(g),N=1<<E,L=f[E];L===-1?((N&r)===0||(N&o)!==0)&&(f[E]=Rr(N,i)):L<=i&&(t.expiredLanes|=N),g&=~N}if(i=tt,r=He,r=In(t,t===i?r:0),o=t.callbackNode,r===0||t===i&&nt===2||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Nr(o),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||wi(t,r)){if(i=r&-r,i===t.callbackPriority)return i;switch(o!==null&&Nr(o),Hc(r)){case 2:case 8:r=Lt;break;case 32:r=Bs;break;case 268435456:r=Kl;break;default:r=Bs}return o=$_.bind(null,t),r=Na(r,o),t.callbackPriority=i,t.callbackNode=r,i}return o!==null&&o!==null&&Nr(o),t.callbackPriority=2,t.callbackNode=null,2}function $_(t,i){var r=t.callbackNode;if(cl()&&t.callbackNode!==r)return null;var o=He;return o=In(t,t===tt?o:0),o===0?null:(O_(t,o,i),G_(t,gn()),t.callbackNode!=null&&t.callbackNode===r?$_.bind(null,t):null)}function Q_(t,i){if(cl())return null;O_(t,i,!0)}function vA(t){kA(function(){(ot&6)!==0?Na(Nt,t):t()})}function Zf(){return ir===0&&(ir=$l()),ir}function Y_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ps(""+t)}function W_(t,i){var r=i.ownerDocument.createElement("input");return r.name=i.name,r.value=i.value,t.id&&r.setAttribute("form",t.id),i.parentNode.insertBefore(r,i),t=new FormData(t),r.parentNode.removeChild(r),t}function xA(t,i,r,o,f){if(i==="submit"&&r&&r.stateNode===f){var g=Y_((f[Rt]||null).action),E=o.submitter;E&&(i=(i=E[Rt]||null)?Y_(i.formAction):E.getAttribute("formAction"),i!==null&&(g=i,E=null));var N=new Mr("action","action",null,o,f);t.push({event:N,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(ir!==0){var L=E?W_(f,E):new FormData(f);lf(r,{pending:!0,data:L,method:f.method,action:g},null,L)}}else typeof g=="function"&&(N.preventDefault(),L=E?W_(f,E):new FormData(f),lf(r,{pending:!0,data:L,method:f.method,action:g},g,L))},currentTarget:f}]})}}for(var Jf=0;Jf<Hp.length;Jf++){var em=Hp[Jf],EA=em.toLowerCase(),bA=em[0].toUpperCase()+em.slice(1);es(EA,"on"+bA)}es(Pp,"onAnimationEnd"),es(Vp,"onAnimationIteration"),es(Up,"onAnimationStart"),es("dblclick","onDoubleClick"),es("focusin","onFocus"),es("focusout","onBlur"),es(UT,"onTransitionRun"),es(BT,"onTransitionStart"),es(zT,"onTransitionCancel"),es(Bp,"onTransitionEnd"),pn("onMouseEnter",["mouseout","mouseover"]),pn("onMouseLeave",["mouseout","mouseover"]),pn("onPointerEnter",["pointerout","pointerover"]),pn("onPointerLeave",["pointerout","pointerover"]),xn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xn("onBeforeInput",["compositionend","keypress","textInput","paste"]),xn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vo));function X_(t,i){i=(i&4)!==0;for(var r=0;r<t.length;r++){var o=t[r],f=o.event;o=o.listeners;e:{var g=void 0;if(i)for(var E=o.length-1;0<=E;E--){var N=o[E],L=N.instance,K=N.currentTarget;if(N=N.listener,L!==g&&f.isPropagationStopped())break e;g=N,f.currentTarget=K;try{g(f)}catch(ie){Nu(ie)}f.currentTarget=null,g=L}else for(E=0;E<o.length;E++){if(N=o[E],L=N.instance,K=N.currentTarget,N=N.listener,L!==g&&f.isPropagationStopped())break e;g=N,f.currentTarget=K;try{g(f)}catch(ie){Nu(ie)}f.currentTarget=null,g=L}}}}function Ve(t,i){var r=i[ka];r===void 0&&(r=i[ka]=new Set);var o=t+"__bubble";r.has(o)||(Z_(i,t,2,!1),r.add(o))}function tm(t,i,r){var o=0;i&&(o|=4),Z_(r,t,o,i)}var Hu="_reactListening"+Math.random().toString(36).slice(2);function nm(t){if(!t[Hu]){t[Hu]=!0,Yl.forEach(function(r){r!=="selectionchange"&&(TA.has(r)||tm(r,!1,t),tm(r,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Hu]||(i[Hu]=!0,tm("selectionchange",!1,i))}}function Z_(t,i,r,o){switch(Ev(i)){case 2:var f=YA;break;case 8:f=WA;break;default:f=gm}r=f.bind(null,i,r,t),f=void 0,!Mn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),o?f!==void 0?t.addEventListener(i,r,{capture:!0,passive:f}):t.addEventListener(i,r,!0):f!==void 0?t.addEventListener(i,r,{passive:f}):t.addEventListener(i,r,!1)}function sm(t,i,r,o,f){var g=o;if((i&1)===0&&(i&2)===0&&o!==null)e:for(;;){if(o===null)return;var E=o.tag;if(E===3||E===4){var N=o.stateNode.containerInfo;if(N===f||N.nodeType===8&&N.parentNode===f)break;if(E===4)for(E=o.return;E!==null;){var L=E.tag;if((L===3||L===4)&&(L=E.stateNode.containerInfo,L===f||L.nodeType===8&&L.parentNode===f))return;E=E.return}for(;N!==null;){if(E=Jn(N),E===null)return;if(L=E.tag,L===5||L===6||L===26||L===27){o=g=E;continue e}N=N.parentNode}}o=o.return}$c(function(){var K=g,ie=Or(r),de=[];e:{var J=zp.get(t);if(J!==void 0){var se=Mr,xe=t;switch(t){case"keypress":if(_s(r)===0)break e;case"keydown":case"keyup":se=zr;break;case"focusin":xe="focus",se=Vr;break;case"focusout":xe="blur",se=Vr;break;case"beforeblur":case"afterblur":se=Vr;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=Ln;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=Rh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=tu;break;case Pp:case Vp:case Up:se=Ur;break;case Bp:se=su;break;case"scroll":case"scrollend":se=Qc;break;case"wheel":se=Hr;break;case"copy":case"cut":case"paste":se=Br;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=lo;break;case"toggle":case"beforetoggle":se=au}var Ce=(i&4)!==0,mt=!Ce&&(t==="scroll"||t==="scrollend"),$=Ce?J!==null?J+"Capture":null:J;Ce=[];for(var H=K,W;H!==null;){var oe=H;if(W=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||W===null||$===null||(oe=Oa(H,$),oe!=null&&Ce.push(Uo(H,oe,W))),mt)break;H=H.return}0<Ce.length&&(J=new se(J,xe,null,r,ie),de.push({event:J,listeners:Ce}))}}if((i&7)===0){e:{if(J=t==="mouseover"||t==="pointerover",se=t==="mouseout"||t==="pointerout",J&&r!==On&&(xe=r.relatedTarget||r.fromElement)&&(Jn(xe)||xe[zs]))break e;if((se||J)&&(J=ie.window===ie?ie:(J=ie.ownerDocument)?J.defaultView||J.parentWindow:window,se?(xe=r.relatedTarget||r.toElement,se=K,xe=xe?Jn(xe):null,xe!==null&&(mt=ae(xe),Ce=xe.tag,xe!==mt||Ce!==5&&Ce!==27&&Ce!==6)&&(xe=null)):(se=null,xe=K),se!==xe)){if(Ce=Ln,oe="onMouseLeave",$="onMouseEnter",H="mouse",(t==="pointerout"||t==="pointerover")&&(Ce=lo,oe="onPointerLeave",$="onPointerEnter",H="pointer"),mt=se==null?J:ji(se),W=xe==null?J:ji(xe),J=new Ce(oe,H+"leave",se,r,ie),J.target=mt,J.relatedTarget=W,oe=null,Jn(ie)===K&&(Ce=new Ce($,H+"enter",xe,r,ie),Ce.target=W,Ce.relatedTarget=mt,oe=Ce),mt=oe,se&&xe)t:{for(Ce=se,$=xe,H=0,W=Ce;W;W=dl(W))H++;for(W=0,oe=$;oe;oe=dl(oe))W++;for(;0<H-W;)Ce=dl(Ce),H--;for(;0<W-H;)$=dl($),W--;for(;H--;){if(Ce===$||$!==null&&Ce===$.alternate)break t;Ce=dl(Ce),$=dl($)}Ce=null}else Ce=null;se!==null&&J_(de,J,se,Ce,!1),xe!==null&&mt!==null&&J_(de,mt,xe,Ce,!0)}}e:{if(J=K?ji(K):window,se=J.nodeName&&J.nodeName.toLowerCase(),se==="select"||se==="input"&&J.type==="file")var ve=wp;else if(Ct(J))if(Np)ve=MT;else{ve=DT;var Oe=jT}else se=J.nodeName,!se||se.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?K&&eo(K.elementType)&&(ve=wp):ve=OT;if(ve&&(ve=ve(t,K))){Ys(de,ve,r,ie);break e}Oe&&Oe(t,J,K),t==="focusout"&&K&&J.type==="number"&&K.memoizedProps.value!=null&&Dr(J,"number",J.value)}switch(Oe=K?ji(K):window,t){case"focusin":(Ct(Oe)||Oe.contentEditable==="true")&&(qr=Oe,Dh=K,uo=null);break;case"focusout":uo=Dh=qr=null;break;case"mousedown":Oh=!0;break;case"contextmenu":case"mouseup":case"dragend":Oh=!1,Mp(de,r,ie);break;case"selectionchange":if(VT)break;case"keydown":case"keyup":Mp(de,r,ie)}var Ee;if(Es)e:{switch(t){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else Be?te(t,r)&&(Te="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Te="onCompositionStart");Te&&(x&&r.locale!=="ko"&&(Be||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&Be&&(Ee=no()):(ys=ie,Vi="value"in ys?ys.value:ys.textContent,Be=!0)),Oe=qu(K,Te),0<Oe.length&&(Te=new ao(Te,t,null,r,ie),de.push({event:Te,listeners:Oe}),Ee?Te.data=Ee:(Ee=fe(r),Ee!==null&&(Te.data=Ee)))),(Ee=_?kt(t,r):ze(t,r))&&(Te=qu(K,"onBeforeInput"),0<Te.length&&(Oe=new ao("onBeforeInput","beforeinput",null,r,ie),de.push({event:Oe,listeners:Te}),Oe.data=Ee)),xA(de,t,K,r,ie)}X_(de,i)})}function Uo(t,i,r){return{instance:t,listener:i,currentTarget:r}}function qu(t,i){for(var r=i+"Capture",o=[];t!==null;){var f=t,g=f.stateNode;f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=Oa(t,r),f!=null&&o.unshift(Uo(t,f,g)),f=Oa(t,i),f!=null&&o.push(Uo(t,f,g))),t=t.return}return o}function dl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function J_(t,i,r,o,f){for(var g=i._reactName,E=[];r!==null&&r!==o;){var N=r,L=N.alternate,K=N.stateNode;if(N=N.tag,L!==null&&L===o)break;N!==5&&N!==26&&N!==27||K===null||(L=K,f?(K=Oa(r,g),K!=null&&E.unshift(Uo(r,K,L))):f||(K=Oa(r,g),K!=null&&E.push(Uo(r,K,L)))),r=r.return}E.length!==0&&t.push({event:i,listeners:E})}var AA=/\r\n?/g,SA=/\u0000|\uFFFD/g;function ev(t){return(typeof t=="string"?t:""+t).replace(AA,`
`).replace(SA,"")}function tv(t,i){return i=ev(i),ev(t)===i}function Ku(){}function Je(t,i,r,o,f,g){switch(r){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||Dn(t,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&Dn(t,""+o);break;case"className":Mi(t,"class",o);break;case"tabIndex":Mi(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Mi(t,r,o);break;case"style":Gc(t,o,g);break;case"data":if(i!=="object"){Mi(t,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||r!=="href")){t.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=ps(""+o),t.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(r==="formAction"?(i!=="input"&&Je(t,i,"name",f.name,f,null),Je(t,i,"formEncType",f.formEncType,f,null),Je(t,i,"formMethod",f.formMethod,f,null),Je(t,i,"formTarget",f.formTarget,f,null)):(Je(t,i,"encType",f.encType,f,null),Je(t,i,"method",f.method,f,null),Je(t,i,"target",f.target,f,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=ps(""+o),t.setAttribute(r,o);break;case"onClick":o!=null&&(t.onclick=Ku);break;case"onScroll":o!=null&&Ve("scroll",t);break;case"onScrollEnd":o!=null&&Ve("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(f.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}r=ps(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""+o):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":o===!0?t.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,o):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(r,o):t.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(r):t.setAttribute(r,o);break;case"popover":Ve("beforetoggle",t),Ve("toggle",t),Oi(t,"popover",o);break;case"xlinkActuate":jn(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":jn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":jn(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":jn(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":jn(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":jn(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":jn(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":jn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":jn(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Oi(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=wh.get(r)||r,Oi(t,r,o))}}function im(t,i,r,o,f,g){switch(r){case"style":Gc(t,o,g);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(f.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof o=="string"?Dn(t,o):(typeof o=="number"||typeof o=="bigint")&&Dn(t,""+o);break;case"onScroll":o!=null&&Ve("scroll",t);break;case"onScrollEnd":o!=null&&Ve("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Ku);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ir.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(f=r.endsWith("Capture"),i=r.slice(2,f?r.length-7:void 0),g=t[Rt]||null,g=g!=null?g[r]:null,typeof g=="function"&&t.removeEventListener(i,g,f),typeof o=="function")){typeof g!="function"&&g!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(i,o,f);break e}r in t?t[r]=o:o===!0?t.setAttribute(r,""):Oi(t,r,o)}}}function $t(t,i,r){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",t),Ve("load",t);var o=!1,f=!1,g;for(g in r)if(r.hasOwnProperty(g)){var E=r[g];if(E!=null)switch(g){case"src":o=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Je(t,i,g,E,r,null)}}f&&Je(t,i,"srcSet",r.srcSet,r,null),o&&Je(t,i,"src",r.src,r,null);return;case"input":Ve("invalid",t);var N=g=E=f=null,L=null,K=null;for(o in r)if(r.hasOwnProperty(o)){var ie=r[o];if(ie!=null)switch(o){case"name":f=ie;break;case"type":E=ie;break;case"checked":L=ie;break;case"defaultChecked":K=ie;break;case"value":g=ie;break;case"defaultValue":N=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(a(137,i));break;default:Je(t,i,o,ie,r,null)}}ja(t,g,N,L,K,E,f,!1),Ia(t);return;case"select":Ve("invalid",t),o=E=g=null;for(f in r)if(r.hasOwnProperty(f)&&(N=r[f],N!=null))switch(f){case"value":g=N;break;case"defaultValue":E=N;break;case"multiple":o=N;default:Je(t,i,f,N,r,null)}i=g,r=E,t.multiple=!!o,i!=null?Fe(t,!!o,i,!1):r!=null&&Fe(t,!!o,r,!0);return;case"textarea":Ve("invalid",t),g=f=o=null;for(E in r)if(r.hasOwnProperty(E)&&(N=r[E],N!=null))switch(E){case"value":o=N;break;case"defaultValue":f=N;break;case"children":g=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(a(91));break;default:Je(t,i,E,N,r,null)}Pi(t,o,f,g),Ia(t);return;case"option":for(L in r)if(r.hasOwnProperty(L)&&(o=r[L],o!=null))switch(L){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Je(t,i,L,o,r,null)}return;case"dialog":Ve("cancel",t),Ve("close",t);break;case"iframe":case"object":Ve("load",t);break;case"video":case"audio":for(o=0;o<Vo.length;o++)Ve(Vo[o],t);break;case"image":Ve("error",t),Ve("load",t);break;case"details":Ve("toggle",t);break;case"embed":case"source":case"link":Ve("error",t),Ve("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in r)if(r.hasOwnProperty(K)&&(o=r[K],o!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Je(t,i,K,o,r,null)}return;default:if(eo(i)){for(ie in r)r.hasOwnProperty(ie)&&(o=r[ie],o!==void 0&&im(t,i,ie,o,r,void 0));return}}for(N in r)r.hasOwnProperty(N)&&(o=r[N],o!=null&&Je(t,i,N,o,r,null))}function wA(t,i,r,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,E=null,N=null,L=null,K=null,ie=null;for(se in r){var de=r[se];if(r.hasOwnProperty(se)&&de!=null)switch(se){case"checked":break;case"value":break;case"defaultValue":L=de;default:o.hasOwnProperty(se)||Je(t,i,se,null,o,de)}}for(var J in o){var se=o[J];if(de=r[J],o.hasOwnProperty(J)&&(se!=null||de!=null))switch(J){case"type":g=se;break;case"name":f=se;break;case"checked":K=se;break;case"defaultChecked":ie=se;break;case"value":E=se;break;case"defaultValue":N=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(a(137,i));break;default:se!==de&&Je(t,i,J,se,o,de)}}Li(t,E,N,L,K,ie,g,f);return;case"select":se=E=N=J=null;for(g in r)if(L=r[g],r.hasOwnProperty(g)&&L!=null)switch(g){case"value":break;case"multiple":se=L;default:o.hasOwnProperty(g)||Je(t,i,g,null,o,L)}for(f in o)if(g=o[f],L=r[f],o.hasOwnProperty(f)&&(g!=null||L!=null))switch(f){case"value":J=g;break;case"defaultValue":N=g;break;case"multiple":E=g;default:g!==L&&Je(t,i,f,g,o,L)}i=N,r=E,o=se,J!=null?Fe(t,!!r,J,!1):!!o!=!!r&&(i!=null?Fe(t,!!r,i,!0):Fe(t,!!r,r?[]:"",!1));return;case"textarea":se=J=null;for(N in r)if(f=r[N],r.hasOwnProperty(N)&&f!=null&&!o.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:Je(t,i,N,null,o,f)}for(E in o)if(f=o[E],g=r[E],o.hasOwnProperty(E)&&(f!=null||g!=null))switch(E){case"value":J=f;break;case"defaultValue":se=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==g&&Je(t,i,E,f,o,g)}Da(t,J,se);return;case"option":for(var xe in r)if(J=r[xe],r.hasOwnProperty(xe)&&J!=null&&!o.hasOwnProperty(xe))switch(xe){case"selected":t.selected=!1;break;default:Je(t,i,xe,null,o,J)}for(L in o)if(J=o[L],se=r[L],o.hasOwnProperty(L)&&J!==se&&(J!=null||se!=null))switch(L){case"selected":t.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:Je(t,i,L,J,o,se)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ce in r)J=r[Ce],r.hasOwnProperty(Ce)&&J!=null&&!o.hasOwnProperty(Ce)&&Je(t,i,Ce,null,o,J);for(K in o)if(J=o[K],se=r[K],o.hasOwnProperty(K)&&J!==se&&(J!=null||se!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(a(137,i));break;default:Je(t,i,K,J,o,se)}return;default:if(eo(i)){for(var mt in r)J=r[mt],r.hasOwnProperty(mt)&&J!==void 0&&!o.hasOwnProperty(mt)&&im(t,i,mt,void 0,o,J);for(ie in o)J=o[ie],se=r[ie],!o.hasOwnProperty(ie)||J===se||J===void 0&&se===void 0||im(t,i,ie,J,o,se);return}}for(var $ in r)J=r[$],r.hasOwnProperty($)&&J!=null&&!o.hasOwnProperty($)&&Je(t,i,$,null,o,J);for(de in o)J=o[de],se=r[de],!o.hasOwnProperty(de)||J===se||J==null&&se==null||Je(t,i,de,J,o,se)}var am=null,rm=null;function Fu(t){return t.nodeType===9?t:t.ownerDocument}function nv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function lm(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var om=null;function NA(){var t=window.event;return t&&t.type==="popstate"?t===om?!1:(om=t,!0):(om=null,!1)}var iv=typeof setTimeout=="function"?setTimeout:void 0,RA=typeof clearTimeout=="function"?clearTimeout:void 0,av=typeof Promise=="function"?Promise:void 0,kA=typeof queueMicrotask=="function"?queueMicrotask:typeof av<"u"?function(t){return av.resolve(null).then(t).catch(CA)}:iv;function CA(t){setTimeout(function(){throw t})}function cm(t,i){var r=i,o=0;do{var f=r.nextSibling;if(t.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(o===0){t.removeChild(f),$o(i);return}o--}else r!=="$"&&r!=="$?"&&r!=="$!"||o++;r=f}while(r);$o(i)}function um(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var r=i;switch(i=i.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":um(r),Ca(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function IA(t,i,r,o){for(;t.nodeType===1;){var f=r;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Ii])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(g=t.getAttribute("rel"),g==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(g!==f.rel||t.getAttribute("href")!==(f.href==null?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(g=t.getAttribute("src"),(g!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===g)return t}else return t;if(t=ss(t.nextSibling),t===null)break}return null}function jA(t,i,r){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=ss(t.nextSibling),t===null))return null;return t}function ss(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}function rv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(i===0)return t;i--}else r==="/$"&&i++}t=t.previousSibling}return null}function lv(t,i,r){switch(i=Fu(r),t){case"html":if(t=i.documentElement,!t)throw Error(a(452));return t;case"head":if(t=i.head,!t)throw Error(a(453));return t;case"body":if(t=i.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}var Gn=new Map,ov=new Set;function Gu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var ui=me.d;me.d={f:DA,r:OA,D:MA,C:LA,L:PA,m:VA,X:BA,S:UA,M:zA};function DA(){var t=ui.f(),i=Vu();return t||i}function OA(t){var i=Hs(t);i!==null&&i.tag===5&&i.type==="form"?My(i):ui.r(t)}var hl=typeof document>"u"?null:document;function cv(t,i,r){var o=hl;if(o&&typeof i=="string"&&i){var f=dt(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof r=="string"&&(f+='[crossorigin="'+r+'"]'),ov.has(f)||(ov.add(f),t={rel:t,crossOrigin:r,href:i},o.querySelector(f)===null&&(i=o.createElement("link"),$t(i,"link",t),rt(i),o.head.appendChild(i)))}}function MA(t){ui.D(t),cv("dns-prefetch",t,null)}function LA(t,i){ui.C(t,i),cv("preconnect",t,i)}function PA(t,i,r){ui.L(t,i,r);var o=hl;if(o&&t&&i){var f='link[rel="preload"][as="'+dt(i)+'"]';i==="image"&&r&&r.imageSrcSet?(f+='[imagesrcset="'+dt(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(f+='[imagesizes="'+dt(r.imageSizes)+'"]')):f+='[href="'+dt(t)+'"]';var g=f;switch(i){case"style":g=fl(t);break;case"script":g=ml(t)}Gn.has(g)||(t=S({rel:"preload",href:i==="image"&&r&&r.imageSrcSet?void 0:t,as:i},r),Gn.set(g,t),o.querySelector(f)!==null||i==="style"&&o.querySelector(Bo(g))||i==="script"&&o.querySelector(zo(g))||(i=o.createElement("link"),$t(i,"link",t),rt(i),o.head.appendChild(i)))}}function VA(t,i){ui.m(t,i);var r=hl;if(r&&t){var o=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+dt(o)+'"][href="'+dt(t)+'"]',g=f;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=ml(t)}if(!Gn.has(g)&&(t=S({rel:"modulepreload",href:t},i),Gn.set(g,t),r.querySelector(f)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(zo(g)))return}o=r.createElement("link"),$t(o,"link",t),rt(o),r.head.appendChild(o)}}}function UA(t,i,r){ui.S(t,i,r);var o=hl;if(o&&t){var f=Di(o).hoistableStyles,g=fl(t);i=i||"default";var E=f.get(g);if(!E){var N={loading:0,preload:null};if(E=o.querySelector(Bo(g)))N.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":i},r),(r=Gn.get(g))&&dm(t,r);var L=E=o.createElement("link");rt(L),$t(L,"link",t),L._p=new Promise(function(K,ie){L.onload=K,L.onerror=ie}),L.addEventListener("load",function(){N.loading|=1}),L.addEventListener("error",function(){N.loading|=2}),N.loading|=4,$u(E,i,o)}E={type:"stylesheet",instance:E,count:1,state:N},f.set(g,E)}}}function BA(t,i){ui.X(t,i);var r=hl;if(r&&t){var o=Di(r).hoistableScripts,f=ml(t),g=o.get(f);g||(g=r.querySelector(zo(f)),g||(t=S({src:t,async:!0},i),(i=Gn.get(f))&&hm(t,i),g=r.createElement("script"),rt(g),$t(g,"link",t),r.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},o.set(f,g))}}function zA(t,i){ui.M(t,i);var r=hl;if(r&&t){var o=Di(r).hoistableScripts,f=ml(t),g=o.get(f);g||(g=r.querySelector(zo(f)),g||(t=S({src:t,async:!0,type:"module"},i),(i=Gn.get(f))&&hm(t,i),g=r.createElement("script"),rt(g),$t(g,"link",t),r.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},o.set(f,g))}}function uv(t,i,r,o){var f=(f=Cn.current)?Gu(f):null;if(!f)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(i=fl(r.href),r=Di(f).hoistableStyles,o=r.get(i),o||(o={type:"style",instance:null,count:0,state:null},r.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=fl(r.href);var g=Di(f).hoistableStyles,E=g.get(t);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(t,E),(g=f.querySelector(Bo(t)))&&!g._p&&(E.instance=g,E.state.loading=5),Gn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Gn.set(t,r),g||HA(f,t,r,E.state))),i&&o===null)throw Error(a(528,""));return E}if(i&&o!==null)throw Error(a(529,""));return null;case"script":return i=r.async,r=r.src,typeof r=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=ml(r),r=Di(f).hoistableScripts,o=r.get(i),o||(o={type:"script",instance:null,count:0,state:null},r.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function fl(t){return'href="'+dt(t)+'"'}function Bo(t){return'link[rel="stylesheet"]['+t+"]"}function dv(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function HA(t,i,r,o){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=t.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),$t(i,"link",r),rt(i),t.head.appendChild(i))}function ml(t){return'[src="'+dt(t)+'"]'}function zo(t){return"script[async]"+t}function hv(t,i,r){if(i.count++,i.instance===null)switch(i.type){case"style":var o=t.querySelector('style[data-href~="'+dt(r.href)+'"]');if(o)return i.instance=o,rt(o),o;var f=S({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),rt(o),$t(o,"style",f),$u(o,r.precedence,t),i.instance=o;case"stylesheet":f=fl(r.href);var g=t.querySelector(Bo(f));if(g)return i.state.loading|=4,i.instance=g,rt(g),g;o=dv(r),(f=Gn.get(f))&&dm(o,f),g=(t.ownerDocument||t).createElement("link"),rt(g);var E=g;return E._p=new Promise(function(N,L){E.onload=N,E.onerror=L}),$t(g,"link",o),i.state.loading|=4,$u(g,r.precedence,t),i.instance=g;case"script":return g=ml(r.src),(f=t.querySelector(zo(g)))?(i.instance=f,rt(f),f):(o=r,(f=Gn.get(g))&&(o=S({},r),hm(o,f)),t=t.ownerDocument||t,f=t.createElement("script"),rt(f),$t(f,"link",o),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,$u(o,r.precedence,t));return i.instance}function $u(t,i,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=o.length?o[o.length-1]:null,g=f,E=0;E<o.length;E++){var N=o[E];if(N.dataset.precedence===i)g=N;else if(g!==f)break}g?g.parentNode.insertBefore(t,g.nextSibling):(i=r.nodeType===9?r.head:r,i.insertBefore(t,i.firstChild))}function dm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function hm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Qu=null;function fv(t,i,r){if(Qu===null){var o=new Map,f=Qu=new Map;f.set(r,o)}else f=Qu,o=f.get(r),o||(o=new Map,f.set(r,o));if(o.has(t))return o;for(o.set(t,null),r=r.getElementsByTagName(t),f=0;f<r.length;f++){var g=r[f];if(!(g[Ii]||g[Pt]||t==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var E=g.getAttribute(i)||"";E=t+E;var N=o.get(E);N?N.push(g):o.set(E,[g])}}return o}function mv(t,i,r){t=t.ownerDocument||t,t.head.insertBefore(r,i==="title"?t.querySelector("head > title"):null)}function qA(t,i,r){if(r===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function gv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Ho=null;function KA(){}function FA(t,i,r){if(Ho===null)throw Error(a(475));var o=Ho;if(i.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=fl(r.href),g=t.querySelector(Bo(f));if(g){t=g._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(o.count++,o=Yu.bind(o),t.then(o,o)),i.state.loading|=4,i.instance=g,rt(g);return}g=t.ownerDocument||t,r=dv(r),(f=Gn.get(f))&&dm(r,f),g=g.createElement("link"),rt(g);var E=g;E._p=new Promise(function(N,L){E.onload=N,E.onerror=L}),$t(g,"link",r),i.instance=g}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(o.count++,i=Yu.bind(o),t.addEventListener("load",i),t.addEventListener("error",i))}}function GA(){if(Ho===null)throw Error(a(475));var t=Ho;return t.stylesheets&&t.count===0&&fm(t,t.stylesheets),0<t.count?function(i){var r=setTimeout(function(){if(t.stylesheets&&fm(t,t.stylesheets),t.unsuspend){var o=t.unsuspend;t.unsuspend=null,o()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(r)}}:null}function Yu(){if(this.count--,this.count===0){if(this.stylesheets)fm(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Wu=null;function fm(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Wu=new Map,i.forEach($A,t),Wu=null,Yu.call(t))}function $A(t,i){if(!(i.state.loading&4)){var r=Wu.get(t);if(r)var o=r.get(null);else{r=new Map,Wu.set(t,r);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var E=f[g];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(r.set(E.dataset.precedence,E),o=E)}o&&r.set(null,o)}f=i.instance,E=f.getAttribute("data-precedence"),g=r.get(E)||o,g===o&&r.set(null,f),r.set(E,f),this.count++,o=Yu.bind(this),f.addEventListener("load",o),f.addEventListener("error",o),g?g.parentNode.insertBefore(f,g.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var qo={$$typeof:C,Provider:null,Consumer:null,_currentValue:we,_currentValue2:we,_threadCount:0};function QA(t,i,r,o,f,g,E,N){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=kr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kr(0),this.hiddenUpdates=kr(null),this.identifierPrefix=o,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function pv(t,i,r,o,f,g,E,N,L,K,ie,de){return t=new QA(t,i,r,E,N,L,K,de),i=1,g===!0&&(i|=24),g=Kn(3,null,null,i),t.current=g,g.stateNode=t,i=Kh(),i.refCount++,t.pooledCache=i,i.refCount++,g.memoizedState={element:o,isDehydrated:r,cache:i},Sf(g),t}function yv(t){return t?(t=Gr,t):Gr}function _v(t,i,r,o,f,g){f=yv(f),o.context===null?o.context=f:o.pendingContext=f,o=Gi(i),o.payload={element:r},g=g===void 0?null:g,g!==null&&(o.callback=g),r=$i(t,o,i),r!==null&&(dn(r,t,i),wo(r,t,i))}function vv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<i?r:i}}function mm(t,i){vv(t,i),(t=t.alternate)&&vv(t,i)}function xv(t){if(t.tag===13){var i=Ui(t,67108864);i!==null&&dn(i,t,67108864),mm(t,67108864)}}var Xu=!0;function YA(t,i,r,o){var f=b.T;b.T=null;var g=me.p;try{me.p=2,gm(t,i,r,o)}finally{me.p=g,b.T=f}}function WA(t,i,r,o){var f=b.T;b.T=null;var g=me.p;try{me.p=8,gm(t,i,r,o)}finally{me.p=g,b.T=f}}function gm(t,i,r,o){if(Xu){var f=pm(o);if(f===null)sm(t,i,o,Zu,r),bv(t,o);else if(ZA(f,t,i,r,o))o.stopPropagation();else if(bv(t,o),i&4&&-1<XA.indexOf(t)){for(;f!==null;){var g=Hs(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var E=Zn(g.pendingLanes);if(E!==0){var N=g;for(N.pendingLanes|=2,N.entangledLanes|=2;E;){var L=1<<31-ln(E);N.entanglements[1]|=L,E&=~L}Ns(g),(ot&6)===0&&(Mu=gn()+500,Po(0))}}break;case 13:N=Ui(g,2),N!==null&&dn(N,g,2),Vu(),mm(g,2)}if(g=pm(o),g===null&&sm(t,i,o,Zu,r),g===f)break;f=g}f!==null&&o.stopPropagation()}else sm(t,i,o,null,r)}}function pm(t){return t=Or(t),ym(t)}var Zu=null;function ym(t){if(Zu=null,t=Jn(t),t!==null){var i=ae(t);if(i===null)t=null;else{var r=i.tag;if(r===13){if(t=he(i),t!==null)return t;t=null}else if(r===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Zu=t,null}function Ev(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Pc()){case Nt:return 2;case Lt:return 8;case Bs:case Vc:return 32;case Kl:return 268435456;default:return 32}default:return 32}}var _m=!1,ea=null,ta=null,na=null,Ko=new Map,Fo=new Map,sa=[],XA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bv(t,i){switch(t){case"focusin":case"focusout":ea=null;break;case"dragenter":case"dragleave":ta=null;break;case"mouseover":case"mouseout":na=null;break;case"pointerover":case"pointerout":Ko.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fo.delete(i.pointerId)}}function Go(t,i,r,o,f,g){return t===null||t.nativeEvent!==g?(t={blockedOn:i,domEventName:r,eventSystemFlags:o,nativeEvent:g,targetContainers:[f]},i!==null&&(i=Hs(i),i!==null&&xv(i)),t):(t.eventSystemFlags|=o,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function ZA(t,i,r,o,f){switch(i){case"focusin":return ea=Go(ea,t,i,r,o,f),!0;case"dragenter":return ta=Go(ta,t,i,r,o,f),!0;case"mouseover":return na=Go(na,t,i,r,o,f),!0;case"pointerover":var g=f.pointerId;return Ko.set(g,Go(Ko.get(g)||null,t,i,r,o,f)),!0;case"gotpointercapture":return g=f.pointerId,Fo.set(g,Go(Fo.get(g)||null,t,i,r,o,f)),!0}return!1}function Tv(t){var i=Jn(t.target);if(i!==null){var r=ae(i);if(r!==null){if(i=r.tag,i===13){if(i=he(r),i!==null){t.blockedOn=i,Ci(t.priority,function(){if(r.tag===13){var o=wn(),f=Ui(r,o);f!==null&&dn(f,r,o),mm(r,o)}});return}}else if(i===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ju(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var r=pm(t.nativeEvent);if(r===null){r=t.nativeEvent;var o=new r.constructor(r.type,r);On=o,r.target.dispatchEvent(o),On=null}else return i=Hs(r),i!==null&&xv(i),t.blockedOn=r,!1;i.shift()}return!0}function Av(t,i,r){Ju(t)&&r.delete(i)}function JA(){_m=!1,ea!==null&&Ju(ea)&&(ea=null),ta!==null&&Ju(ta)&&(ta=null),na!==null&&Ju(na)&&(na=null),Ko.forEach(Av),Fo.forEach(Av)}function ed(t,i){t.blockedOn===i&&(t.blockedOn=null,_m||(_m=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,JA)))}var td=null;function Sv(t){td!==t&&(td=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){td===t&&(td=null);for(var i=0;i<t.length;i+=3){var r=t[i],o=t[i+1],f=t[i+2];if(typeof o!="function"){if(ym(o||r)===null)continue;break}var g=Hs(r);g!==null&&(t.splice(i,3),i-=3,lf(g,{pending:!0,data:f,method:r.method,action:o},o,f))}}))}function $o(t){function i(L){return ed(L,t)}ea!==null&&ed(ea,t),ta!==null&&ed(ta,t),na!==null&&ed(na,t),Ko.forEach(i),Fo.forEach(i);for(var r=0;r<sa.length;r++){var o=sa[r];o.blockedOn===t&&(o.blockedOn=null)}for(;0<sa.length&&(r=sa[0],r.blockedOn===null);)Tv(r),r.blockedOn===null&&sa.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var f=r[o],g=r[o+1],E=f[Rt]||null;if(typeof g=="function")E||Sv(r);else if(E){var N=null;if(g&&g.hasAttribute("formAction")){if(f=g,E=g[Rt]||null)N=E.formAction;else if(ym(f)!==null)continue}else N=E.action;typeof N=="function"?r[o+1]=N:(r.splice(o,3),o-=3),Sv(r)}}}function vm(t){this._internalRoot=t}nd.prototype.render=vm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(a(409));var r=i.current,o=wn();_v(r,o,t,i,null,null)},nd.prototype.unmount=vm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;t.tag===0&&cl(),_v(t.current,2,null,t,null,null),Vu(),i[zs]=null}};function nd(t){this._internalRoot=t}nd.prototype.unstable_scheduleHydration=function(t){if(t){var i=qc();t={blockedOn:null,target:t,priority:i};for(var r=0;r<sa.length&&i!==0&&i<sa[r].priority;r++);sa.splice(r,0,t),r===0&&Tv(t)}};var wv=e.version;if(wv!=="19.0.0")throw Error(a(527,wv,"19.0.0"));me.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=ne(i),t=t!==null?pe(t):null,t=t===null?null:t.stateNode,t};var eS={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:b,findFiberByHostInstance:Jn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sd.isDisabled&&sd.supportsFiber)try{Ai=sd.inject(eS),Zt=sd}catch{}}return Yo.createRoot=function(t,i){if(!l(t))throw Error(a(299));var r=!1,o="",f=qy,g=Ky,E=Fy,N=null;return i!=null&&(i.unstable_strictMode===!0&&(r=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(N=i.unstable_transitionCallbacks)),i=pv(t,1,!1,null,null,r,o,f,g,E,N,null),t[zs]=i.current,nm(t.nodeType===8?t.parentNode:t),new vm(i)},Yo.hydrateRoot=function(t,i,r){if(!l(t))throw Error(a(299));var o=!1,f="",g=qy,E=Ky,N=Fy,L=null,K=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(f=r.identifierPrefix),r.onUncaughtError!==void 0&&(g=r.onUncaughtError),r.onCaughtError!==void 0&&(E=r.onCaughtError),r.onRecoverableError!==void 0&&(N=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(L=r.unstable_transitionCallbacks),r.formState!==void 0&&(K=r.formState)),i=pv(t,1,!0,i,r??null,o,f,g,E,N,L,K),i.context=yv(null),r=i.current,o=wn(),f=Gi(o),f.callback=null,$i(r,f,o),i.current.lanes=o,_t(i,o),Ns(i),t[zs]=i.current,nm(t),new nd(i)},Yo.version="19.0.0",Yo}var Lv;function uS(){if(Lv)return bm.exports;Lv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),bm.exports=cS(),bm.exports}var dS=uS();const hS=yg(dS);var Wo={},Pv;function fS(){if(Pv)return Wo;Pv=1,Object.defineProperty(Wo,"__esModule",{value:!0}),Wo.parse=h,Wo.serialize=y;const s=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,c=(()=>{const A=function(){};return A.prototype=Object.create(null),A})();function h(A,C){const O=new c,B=A.length;if(B<2)return O;const j=(C==null?void 0:C.decode)||v;let z=0;do{const q=A.indexOf("=",z);if(q===-1)break;const G=A.indexOf(";",z),Z=G===-1?B:G;if(q>Z){z=A.lastIndexOf(";",q-1)+1;continue}const X=m(A,z,q),le=p(A,q,X),V=A.slice(X,le);if(O[V]===void 0){let k=m(A,q+1,Z),b=p(A,Z,k);const S=j(A.slice(k,b));O[V]=S}z=Z+1}while(z<B);return O}function m(A,C,O){do{const B=A.charCodeAt(C);if(B!==32&&B!==9)return C}while(++C<O);return O}function p(A,C,O){for(;C>O;){const B=A.charCodeAt(--C);if(B!==32&&B!==9)return C+1}return O}function y(A,C,O){const B=(O==null?void 0:O.encode)||encodeURIComponent;if(!s.test(A))throw new TypeError(`argument name is invalid: ${A}`);const j=B(C);if(!e.test(j))throw new TypeError(`argument val is invalid: ${C}`);let z=A+"="+j;if(!O)return z;if(O.maxAge!==void 0){if(!Number.isInteger(O.maxAge))throw new TypeError(`option maxAge is invalid: ${O.maxAge}`);z+="; Max-Age="+O.maxAge}if(O.domain){if(!n.test(O.domain))throw new TypeError(`option domain is invalid: ${O.domain}`);z+="; Domain="+O.domain}if(O.path){if(!a.test(O.path))throw new TypeError(`option path is invalid: ${O.path}`);z+="; Path="+O.path}if(O.expires){if(!T(O.expires)||!Number.isFinite(O.expires.valueOf()))throw new TypeError(`option expires is invalid: ${O.expires}`);z+="; Expires="+O.expires.toUTCString()}if(O.httpOnly&&(z+="; HttpOnly"),O.secure&&(z+="; Secure"),O.partitioned&&(z+="; Partitioned"),O.priority)switch(typeof O.priority=="string"?O.priority.toLowerCase():void 0){case"low":z+="; Priority=Low";break;case"medium":z+="; Priority=Medium";break;case"high":z+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${O.priority}`)}if(O.sameSite)switch(typeof O.sameSite=="string"?O.sameSite.toLowerCase():O.sameSite){case!0:case"strict":z+="; SameSite=Strict";break;case"lax":z+="; SameSite=Lax";break;case"none":z+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${O.sameSite}`)}return z}function v(A){if(A.indexOf("%")===-1)return A;try{return decodeURIComponent(A)}catch{return A}}function T(A){return l.call(A)==="[object Date]"}return Wo}fS();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Vv="popstate";function mS(s={}){function e(a,l){let{pathname:c,search:h,hash:m}=a.location;return zm("",{pathname:c,search:h,hash:m},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(a,l){return typeof l=="string"?l:dc(l)}return pS(e,n,null,s)}function it(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function is(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function gS(){return Math.random().toString(36).substring(2,10)}function Uv(s,e){return{usr:s.state,key:s.key,idx:e}}function zm(s,e,n=null,a){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?jl(e):e,state:n,key:e&&e.key||a||gS()}}function dc({pathname:s="/",search:e="",hash:n=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(s+=n.charAt(0)==="#"?n:"#"+n),s}function jl(s){let e={};if(s){let n=s.indexOf("#");n>=0&&(e.hash=s.substring(n),s=s.substring(0,n));let a=s.indexOf("?");a>=0&&(e.search=s.substring(a),s=s.substring(0,a)),s&&(e.pathname=s)}return e}function pS(s,e,n,a={}){let{window:l=document.defaultView,v5Compat:c=!1}=a,h=l.history,m="POP",p=null,y=v();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function v(){return(h.state||{idx:null}).idx}function T(){m="POP";let j=v(),z=j==null?null:j-y;y=j,p&&p({action:m,location:B.location,delta:z})}function A(j,z){m="PUSH";let q=zm(B.location,j,z);y=v()+1;let G=Uv(q,y),Z=B.createHref(q);try{h.pushState(G,"",Z)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;l.location.assign(Z)}c&&p&&p({action:m,location:B.location,delta:1})}function C(j,z){m="REPLACE";let q=zm(B.location,j,z);y=v();let G=Uv(q,y),Z=B.createHref(q);h.replaceState(G,"",Z),c&&p&&p({action:m,location:B.location,delta:0})}function O(j){let z=l.location.origin!=="null"?l.location.origin:l.location.href,q=typeof j=="string"?j:dc(j);return q=q.replace(/ $/,"%20"),it(z,`No window.location.(origin|href) available to create URL for href: ${q}`),new URL(q,z)}let B={get action(){return m},get location(){return s(l,h)},listen(j){if(p)throw new Error("A history only accepts one active listener");return l.addEventListener(Vv,T),p=j,()=>{l.removeEventListener(Vv,T),p=null}},createHref(j){return e(l,j)},createURL:O,encodeLocation(j){let z=O(j);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:A,replace:C,go(j){return h.go(j)}};return B}function S0(s,e,n="/"){return yS(s,e,n,!1)}function yS(s,e,n,a){let l=typeof e=="string"?jl(e):e,c=pa(l.pathname||"/",n);if(c==null)return null;let h=w0(s);_S(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let y=kS(c);m=NS(h[p],y,a)}return m}function w0(s,e=[],n=[],a=""){let l=(c,h,m)=>{let p={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};p.relativePath.startsWith("/")&&(it(p.relativePath.startsWith(a),`Absolute route path "${p.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(a.length));let y=mi([a,p.relativePath]),v=n.concat(p);c.children&&c.children.length>0&&(it(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),w0(c.children,e,v,y)),!(c.path==null&&!c.index)&&e.push({path:y,score:SS(y,c.index),routesMeta:v})};return s.forEach((c,h)=>{var m;if(c.path===""||!((m=c.path)!=null&&m.includes("?")))l(c,h);else for(let p of N0(c.path))l(c,h,p)}),e}function N0(s){let e=s.split("/");if(e.length===0)return[];let[n,...a]=e,l=n.endsWith("?"),c=n.replace(/\?$/,"");if(a.length===0)return l?[c,""]:[c];let h=N0(a.join("/")),m=[];return m.push(...h.map(p=>p===""?c:[c,p].join("/"))),l&&m.push(...h),m.map(p=>s.startsWith("/")&&p===""?"/":p)}function _S(s){s.sort((e,n)=>e.score!==n.score?n.score-e.score:wS(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var vS=/^:[\w-]+$/,xS=3,ES=2,bS=1,TS=10,AS=-2,Bv=s=>s==="*";function SS(s,e){let n=s.split("/"),a=n.length;return n.some(Bv)&&(a+=AS),e&&(a+=ES),n.filter(l=>!Bv(l)).reduce((l,c)=>l+(vS.test(c)?xS:c===""?bS:TS),a)}function wS(s,e){return s.length===e.length&&s.slice(0,-1).every((a,l)=>a===e[l])?s[s.length-1]-e[e.length-1]:0}function NS(s,e,n=!1){let{routesMeta:a}=s,l={},c="/",h=[];for(let m=0;m<a.length;++m){let p=a[m],y=m===a.length-1,v=c==="/"?e:e.slice(c.length)||"/",T=Rd({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},v),A=p.route;if(!T&&y&&n&&!a[a.length-1].route.index&&(T=Rd({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!T)return null;Object.assign(l,T.params),h.push({params:l,pathname:mi([c,T.pathname]),pathnameBase:DS(mi([c,T.pathnameBase])),route:A}),T.pathnameBase!=="/"&&(c=mi([c,T.pathnameBase]))}return h}function Rd(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[n,a]=RS(s.path,s.caseSensitive,s.end),l=e.match(n);if(!l)return null;let c=l[0],h=c.replace(/(.)\/+$/,"$1"),m=l.slice(1);return{params:a.reduce((y,{paramName:v,isOptional:T},A)=>{if(v==="*"){let O=m[A]||"";h=c.slice(0,c.length-O.length).replace(/(.)\/+$/,"$1")}const C=m[A];return T&&!C?y[v]=void 0:y[v]=(C||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:h,pattern:s}}function RS(s,e=!1,n=!0){is(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let a=[],l="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(a.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(a.push({paramName:"*"}),l+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":s!==""&&s!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),a]}function kS(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return is(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function pa(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=s.charAt(n);return a&&a!=="/"?null:s.slice(n)||"/"}function CS(s,e="/"){let{pathname:n,search:a="",hash:l=""}=typeof s=="string"?jl(s):s;return{pathname:n?n.startsWith("/")?n:IS(n,e):e,search:OS(a),hash:MS(l)}}function IS(s,e){let n=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function wm(s,e,n,a){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function jS(s){return s.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function vg(s){let e=jS(s);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function xg(s,e,n,a=!1){let l;typeof s=="string"?l=jl(s):(l={...s},it(!l.pathname||!l.pathname.includes("?"),wm("?","pathname","search",l)),it(!l.pathname||!l.pathname.includes("#"),wm("#","pathname","hash",l)),it(!l.search||!l.search.includes("#"),wm("#","search","hash",l)));let c=s===""||l.pathname==="",h=c?"/":l.pathname,m;if(h==null)m=n;else{let T=e.length-1;if(!a&&h.startsWith("..")){let A=h.split("/");for(;A[0]==="..";)A.shift(),T-=1;l.pathname=A.join("/")}m=T>=0?e[T]:"/"}let p=CS(l,m),y=h&&h!=="/"&&h.endsWith("/"),v=(c||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(y||v)&&(p.pathname+="/"),p}var mi=s=>s.join("/").replace(/\/\/+/g,"/"),DS=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),OS=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,MS=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function LS(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var R0=["POST","PUT","PATCH","DELETE"];new Set(R0);var PS=["GET",...R0];new Set(PS);var Dl=I.createContext(null);Dl.displayName="DataRouter";var $d=I.createContext(null);$d.displayName="DataRouterState";var k0=I.createContext({isTransitioning:!1});k0.displayName="ViewTransition";var VS=I.createContext(new Map);VS.displayName="Fetchers";var US=I.createContext(null);US.displayName="Await";var cs=I.createContext(null);cs.displayName="Navigation";var Ec=I.createContext(null);Ec.displayName="Location";var us=I.createContext({outlet:null,matches:[],isDataRoute:!1});us.displayName="Route";var Eg=I.createContext(null);Eg.displayName="RouteError";function BS(s,{relative:e}={}){it(Ol(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=I.useContext(cs),{hash:l,pathname:c,search:h}=bc(s,{relative:e}),m=c;return n!=="/"&&(m=c==="/"?n:mi([n,c])),a.createHref({pathname:m,search:h,hash:l})}function Ol(){return I.useContext(Ec)!=null}function Xn(){return it(Ol(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(Ec).location}var C0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function I0(s){I.useContext(cs).static||I.useLayoutEffect(s)}function pr(){let{isDataRoute:s}=I.useContext(us);return s?ew():zS()}function zS(){it(Ol(),"useNavigate() may be used only in the context of a <Router> component.");let s=I.useContext(Dl),{basename:e,navigator:n}=I.useContext(cs),{matches:a}=I.useContext(us),{pathname:l}=Xn(),c=JSON.stringify(vg(a)),h=I.useRef(!1);return I0(()=>{h.current=!0}),I.useCallback((p,y={})=>{if(is(h.current,C0),!h.current)return;if(typeof p=="number"){n.go(p);return}let v=xg(p,JSON.parse(c),l,y.relative==="path");s==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:mi([e,v.pathname])),(y.replace?n.replace:n.push)(v,y.state,y)},[e,n,c,l,s])}I.createContext(null);function HS(){let{matches:s}=I.useContext(us),e=s[s.length-1];return e?e.params:{}}function bc(s,{relative:e}={}){let{matches:n}=I.useContext(us),{pathname:a}=Xn(),l=JSON.stringify(vg(n));return I.useMemo(()=>xg(s,JSON.parse(l),a,e==="path"),[s,l,a,e])}function qS(s,e){return j0(s,e)}function j0(s,e,n,a){var q;it(Ol(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l,static:c}=I.useContext(cs),{matches:h}=I.useContext(us),m=h[h.length-1],p=m?m.params:{},y=m?m.pathname:"/",v=m?m.pathnameBase:"/",T=m&&m.route;{let G=T&&T.path||"";D0(y,!T||G.endsWith("*")||G.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${G}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${G}"> to <Route path="${G==="/"?"*":`${G}/*`}">.`)}let A=Xn(),C;if(e){let G=typeof e=="string"?jl(e):e;it(v==="/"||((q=G.pathname)==null?void 0:q.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${G.pathname}" was given in the \`location\` prop.`),C=G}else C=A;let O=C.pathname||"/",B=O;if(v!=="/"){let G=v.replace(/^\//,"").split("/");B="/"+O.replace(/^\//,"").split("/").slice(G.length).join("/")}let j=!c&&n&&n.matches&&n.matches.length>0?n.matches:S0(s,{pathname:B});is(T||j!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),is(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let z=QS(j&&j.map(G=>Object.assign({},G,{params:Object.assign({},p,G.params),pathname:mi([v,l.encodeLocation?l.encodeLocation(G.pathname).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?v:mi([v,l.encodeLocation?l.encodeLocation(G.pathnameBase).pathname:G.pathnameBase])})),h,n,a);return e&&z?I.createElement(Ec.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},z):z}function KS(){let s=JS(),e=LS(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),n=s instanceof Error?s.stack:null,a="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:a},c={padding:"2px 4px",backgroundColor:a},h=null;return console.error("Error handled by React Router default ErrorBoundary:",s),h=I.createElement(I.Fragment,null,I.createElement("p",null,"💿 Hey developer 👋"),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:c},"ErrorBoundary")," or"," ",I.createElement("code",{style:c},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),n?I.createElement("pre",{style:l},n):null,h)}var FS=I.createElement(KS,null),GS=class extends I.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){console.error("React Router caught the following error during render",s,e)}render(){return this.state.error!==void 0?I.createElement(us.Provider,{value:this.props.routeContext},I.createElement(Eg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function $S({routeContext:s,match:e,children:n}){let a=I.useContext(Dl);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),I.createElement(us.Provider,{value:s},n)}function QS(s,e=[],n=null,a=null){if(s==null){if(!n)return null;if(n.errors)s=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)s=n.matches;else return null}let l=s,c=n==null?void 0:n.errors;if(c!=null){let p=l.findIndex(y=>y.route.id&&(c==null?void 0:c[y.route.id])!==void 0);it(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,p+1))}let h=!1,m=-1;if(n)for(let p=0;p<l.length;p++){let y=l[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=p),y.route.id){let{loaderData:v,errors:T}=n,A=y.route.loader&&!v.hasOwnProperty(y.route.id)&&(!T||T[y.route.id]===void 0);if(y.route.lazy||A){h=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}return l.reduceRight((p,y,v)=>{let T,A=!1,C=null,O=null;n&&(T=c&&y.route.id?c[y.route.id]:void 0,C=y.route.errorElement||FS,h&&(m<0&&v===0?(D0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,O=null):m===v&&(A=!0,O=y.route.hydrateFallbackElement||null)));let B=e.concat(l.slice(0,v+1)),j=()=>{let z;return T?z=C:A?z=O:y.route.Component?z=I.createElement(y.route.Component,null):y.route.element?z=y.route.element:z=p,I.createElement($S,{match:y,routeContext:{outlet:p,matches:B,isDataRoute:n!=null},children:z})};return n&&(y.route.ErrorBoundary||y.route.errorElement||v===0)?I.createElement(GS,{location:n.location,revalidation:n.revalidation,component:C,error:T,children:j(),routeContext:{outlet:null,matches:B,isDataRoute:!0}}):j()},null)}function bg(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function YS(s){let e=I.useContext(Dl);return it(e,bg(s)),e}function WS(s){let e=I.useContext($d);return it(e,bg(s)),e}function XS(s){let e=I.useContext(us);return it(e,bg(s)),e}function Tg(s){let e=XS(s),n=e.matches[e.matches.length-1];return it(n.route.id,`${s} can only be used on routes that contain a unique "id"`),n.route.id}function ZS(){return Tg("useRouteId")}function JS(){var a;let s=I.useContext(Eg),e=WS("useRouteError"),n=Tg("useRouteError");return s!==void 0?s:(a=e.errors)==null?void 0:a[n]}function ew(){let{router:s}=YS("useNavigate"),e=Tg("useNavigate"),n=I.useRef(!1);return I0(()=>{n.current=!0}),I.useCallback(async(l,c={})=>{is(n.current,C0),n.current&&(typeof l=="number"?s.navigate(l):await s.navigate(l,{fromRouteId:e,...c}))},[s,e])}var zv={};function D0(s,e,n){!e&&!zv[s]&&(zv[s]=!0,is(!1,n))}I.memo(tw);function tw({routes:s,future:e,state:n}){return j0(s,void 0,n,e)}function Hv({to:s,replace:e,state:n,relative:a}){it(Ol(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=I.useContext(cs);is(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=I.useContext(us),{pathname:h}=Xn(),m=pr(),p=xg(s,vg(c),h,a==="path"),y=JSON.stringify(p);return I.useEffect(()=>{m(JSON.parse(y),{replace:e,state:n,relative:a})},[m,y,a,e,n]),null}function Dt(s){it(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function nw({basename:s="/",children:e=null,location:n,navigationType:a="POP",navigator:l,static:c=!1}){it(!Ol(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=s.replace(/^\/*/,"/"),m=I.useMemo(()=>({basename:h,navigator:l,static:c,future:{}}),[h,l,c]);typeof n=="string"&&(n=jl(n));let{pathname:p="/",search:y="",hash:v="",state:T=null,key:A="default"}=n,C=I.useMemo(()=>{let O=pa(p,h);return O==null?null:{location:{pathname:O,search:y,hash:v,state:T,key:A},navigationType:a}},[h,p,y,v,T,A,a]);return is(C!=null,`<Router basename="${h}"> is not able to match the URL "${p}${y}${v}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:I.createElement(cs.Provider,{value:m},I.createElement(Ec.Provider,{children:e,value:C}))}function sw({children:s,location:e}){return qS(Hm(s),e)}function Hm(s,e=[]){let n=[];return I.Children.forEach(s,(a,l)=>{if(!I.isValidElement(a))return;let c=[...e,l];if(a.type===I.Fragment){n.push.apply(n,Hm(a.props.children,c));return}it(a.type===Dt,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),it(!a.props.index||!a.props.children,"An index route cannot have child routes.");let h={id:a.props.id||c.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(h.children=Hm(a.props.children,c)),n.push(h)}),n}var gd="get",pd="application/x-www-form-urlencoded";function Qd(s){return s!=null&&typeof s.tagName=="string"}function iw(s){return Qd(s)&&s.tagName.toLowerCase()==="button"}function aw(s){return Qd(s)&&s.tagName.toLowerCase()==="form"}function rw(s){return Qd(s)&&s.tagName.toLowerCase()==="input"}function lw(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function ow(s,e){return s.button===0&&(!e||e==="_self")&&!lw(s)}var id=null;function cw(){if(id===null)try{new FormData(document.createElement("form"),0),id=!1}catch{id=!0}return id}var uw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Nm(s){return s!=null&&!uw.has(s)?(is(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${pd}"`),null):s}function dw(s,e){let n,a,l,c,h;if(aw(s)){let m=s.getAttribute("action");a=m?pa(m,e):null,n=s.getAttribute("method")||gd,l=Nm(s.getAttribute("enctype"))||pd,c=new FormData(s)}else if(iw(s)||rw(s)&&(s.type==="submit"||s.type==="image")){let m=s.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=s.getAttribute("formaction")||m.getAttribute("action");if(a=p?pa(p,e):null,n=s.getAttribute("formmethod")||m.getAttribute("method")||gd,l=Nm(s.getAttribute("formenctype"))||Nm(m.getAttribute("enctype"))||pd,c=new FormData(m,s),!cw()){let{name:y,type:v,value:T}=s;if(v==="image"){let A=y?`${y}.`:"";c.append(`${A}x`,"0"),c.append(`${A}y`,"0")}else y&&c.append(y,T)}}else{if(Qd(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=gd,a=null,l=pd,h=s}return c&&l==="text/plain"&&(h=c,c=void 0),{action:a,method:n.toLowerCase(),encType:l,formData:c,body:h}}function Ag(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}async function hw(s,e){if(s.id in e)return e[s.id];try{let n=await import(s.module);return e[s.id]=n,n}catch(n){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function fw(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function mw(s,e,n){let a=await Promise.all(s.map(async l=>{let c=e.routes[l.route.id];if(c){let h=await hw(c,n);return h.links?h.links():[]}return[]}));return _w(a.flat(1).filter(fw).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function qv(s,e,n,a,l,c){let h=(p,y)=>n[y]?p.route.id!==n[y].route.id:!0,m=(p,y)=>{var v;return n[y].pathname!==p.pathname||((v=n[y].route.path)==null?void 0:v.endsWith("*"))&&n[y].params["*"]!==p.params["*"]};return c==="assets"?e.filter((p,y)=>h(p,y)||m(p,y)):c==="data"?e.filter((p,y)=>{var T;let v=a.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(h(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let A=p.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((T=n[0])==null?void 0:T.params)||{},nextUrl:new URL(s,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function gw(s,e,{includeHydrateFallback:n}={}){return pw(s.map(a=>{let l=e.routes[a.route.id];if(!l)return[];let c=[l.module];return l.clientActionModule&&(c=c.concat(l.clientActionModule)),l.clientLoaderModule&&(c=c.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(c=c.concat(l.hydrateFallbackModule)),l.imports&&(c=c.concat(l.imports)),c}).flat(1))}function pw(s){return[...new Set(s)]}function yw(s){let e={},n=Object.keys(s).sort();for(let a of n)e[a]=s[a];return e}function _w(s,e){let n=new Set;return new Set(e),s.reduce((a,l)=>{let c=JSON.stringify(yw(l));return n.has(c)||(n.add(c),a.push({key:c,link:l})),a},[])}function vw(s){let e=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function xw(){let s=I.useContext(Dl);return Ag(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function Ew(){let s=I.useContext($d);return Ag(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var Sg=I.createContext(void 0);Sg.displayName="FrameworkContext";function O0(){let s=I.useContext(Sg);return Ag(s,"You must render this element inside a <HydratedRouter> element"),s}function bw(s,e){let n=I.useContext(Sg),[a,l]=I.useState(!1),[c,h]=I.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:v,onTouchStart:T}=e,A=I.useRef(null);I.useEffect(()=>{if(s==="render"&&h(!0),s==="viewport"){let B=z=>{z.forEach(q=>{h(q.isIntersecting)})},j=new IntersectionObserver(B,{threshold:.5});return A.current&&j.observe(A.current),()=>{j.disconnect()}}},[s]),I.useEffect(()=>{if(a){let B=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(B)}}},[a]);let C=()=>{l(!0)},O=()=>{l(!1),h(!1)};return n?s!=="intent"?[c,A,{}]:[c,A,{onFocus:Xo(m,C),onBlur:Xo(p,O),onMouseEnter:Xo(y,C),onMouseLeave:Xo(v,O),onTouchStart:Xo(T,C)}]:[!1,A,{}]}function Xo(s,e){return n=>{s&&s(n),n.defaultPrevented||e(n)}}function Tw({page:s,...e}){let{router:n}=xw(),a=I.useMemo(()=>S0(n.routes,s,n.basename),[n.routes,s,n.basename]);return a?I.createElement(Sw,{page:s,matches:a,...e}):null}function Aw(s){let{manifest:e,routeModules:n}=O0(),[a,l]=I.useState([]);return I.useEffect(()=>{let c=!1;return mw(s,e,n).then(h=>{c||l(h)}),()=>{c=!0}},[s,e,n]),a}function Sw({page:s,matches:e,...n}){let a=Xn(),{manifest:l,routeModules:c}=O0(),{loaderData:h,matches:m}=Ew(),p=I.useMemo(()=>qv(s,e,m,l,a,"data"),[s,e,m,l,a]),y=I.useMemo(()=>qv(s,e,m,l,a,"assets"),[s,e,m,l,a]),v=I.useMemo(()=>{if(s===a.pathname+a.search+a.hash)return[];let C=new Set,O=!1;if(e.forEach(j=>{var q;let z=l.routes[j.route.id];!z||!z.hasLoader||(!p.some(G=>G.route.id===j.route.id)&&j.route.id in h&&((q=c[j.route.id])!=null&&q.shouldRevalidate)||z.hasClientLoader?O=!0:C.add(j.route.id))}),C.size===0)return[];let B=vw(s);return O&&C.size>0&&B.searchParams.set("_routes",e.filter(j=>C.has(j.route.id)).map(j=>j.route.id).join(",")),[B.pathname+B.search]},[h,a,l,p,e,s,c]),T=I.useMemo(()=>gw(y,l),[y,l]),A=Aw(y);return I.createElement(I.Fragment,null,v.map(C=>I.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...n})),T.map(C=>I.createElement("link",{key:C,rel:"modulepreload",href:C,...n})),A.map(({key:C,link:O})=>I.createElement("link",{key:C,...O})))}function ww(...s){return e=>{s.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var M0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{M0&&(window.__reactRouterVersion="7.2.0")}catch{}function Nw({basename:s,children:e,window:n}){let a=I.useRef();a.current==null&&(a.current=mS({window:n,v5Compat:!0}));let l=a.current,[c,h]=I.useState({action:l.action,location:l.location}),m=I.useCallback(p=>{I.startTransition(()=>h(p))},[h]);return I.useLayoutEffect(()=>l.listen(m),[l,m]),I.createElement(nw,{basename:s,children:e,location:c.location,navigationType:c.action,navigator:l})}var L0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ne=I.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:l,reloadDocument:c,replace:h,state:m,target:p,to:y,preventScrollReset:v,viewTransition:T,...A},C){let{basename:O}=I.useContext(cs),B=typeof y=="string"&&L0.test(y),j,z=!1;if(typeof y=="string"&&B&&(j=y,M0))try{let b=new URL(window.location.href),S=y.startsWith("//")?new URL(b.protocol+y):new URL(y),D=pa(S.pathname,O);S.origin===b.origin&&D!=null?y=D+S.search+S.hash:z=!0}catch{is(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let q=BS(y,{relative:l}),[G,Z,X]=bw(a,A),le=Iw(y,{replace:h,state:m,target:p,preventScrollReset:v,relative:l,viewTransition:T});function V(b){e&&e(b),b.defaultPrevented||le(b)}let k=I.createElement("a",{...A,...X,href:j||q,onClick:z||c?e:V,ref:ww(C,Z),target:p,"data-discover":!B&&n==="render"?"true":void 0});return G&&!B?I.createElement(I.Fragment,null,k,I.createElement(Tw,{page:q})):k});Ne.displayName="Link";var Rw=I.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:l=!1,style:c,to:h,viewTransition:m,children:p,...y},v){let T=bc(h,{relative:y.relative}),A=Xn(),C=I.useContext($d),{navigator:O,basename:B}=I.useContext(cs),j=C!=null&&Lw(T)&&m===!0,z=O.encodeLocation?O.encodeLocation(T).pathname:T.pathname,q=A.pathname,G=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;n||(q=q.toLowerCase(),G=G?G.toLowerCase():null,z=z.toLowerCase()),G&&B&&(G=pa(G,B)||G);const Z=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let X=q===z||!l&&q.startsWith(z)&&q.charAt(Z)==="/",le=G!=null&&(G===z||!l&&G.startsWith(z)&&G.charAt(z.length)==="/"),V={isActive:X,isPending:le,isTransitioning:j},k=X?e:void 0,b;typeof a=="function"?b=a(V):b=[a,X?"active":null,le?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let S=typeof c=="function"?c(V):c;return I.createElement(Ne,{...y,"aria-current":k,className:b,ref:v,style:S,to:h,viewTransition:m},typeof p=="function"?p(V):p)});Rw.displayName="NavLink";var kw=I.forwardRef(({discover:s="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:l,state:c,method:h=gd,action:m,onSubmit:p,relative:y,preventScrollReset:v,viewTransition:T,...A},C)=>{let O=Ow(),B=Mw(m,{relative:y}),j=h.toLowerCase()==="get"?"get":"post",z=typeof m=="string"&&L0.test(m),q=G=>{if(p&&p(G),G.defaultPrevented)return;G.preventDefault();let Z=G.nativeEvent.submitter,X=(Z==null?void 0:Z.getAttribute("formmethod"))||h;O(Z||G.currentTarget,{fetcherKey:e,method:X,navigate:n,replace:l,state:c,relative:y,preventScrollReset:v,viewTransition:T})};return I.createElement("form",{ref:C,method:j,action:B,onSubmit:a?p:q,...A,"data-discover":!z&&s==="render"?"true":void 0})});kw.displayName="Form";function Cw(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function P0(s){let e=I.useContext(Dl);return it(e,Cw(s)),e}function Iw(s,{target:e,replace:n,state:a,preventScrollReset:l,relative:c,viewTransition:h}={}){let m=pr(),p=Xn(),y=bc(s,{relative:c});return I.useCallback(v=>{if(ow(v,e)){v.preventDefault();let T=n!==void 0?n:dc(p)===dc(y);m(s,{replace:T,state:a,preventScrollReset:l,relative:c,viewTransition:h})}},[p,m,y,n,a,e,s,l,c,h])}var jw=0,Dw=()=>`__${String(++jw)}__`;function Ow(){let{router:s}=P0("useSubmit"),{basename:e}=I.useContext(cs),n=ZS();return I.useCallback(async(a,l={})=>{let{action:c,method:h,encType:m,formData:p,body:y}=dw(a,e);if(l.navigate===!1){let v=l.fetcherKey||Dw();await s.fetch(v,n,l.action||c,{preventScrollReset:l.preventScrollReset,formData:p,body:y,formMethod:l.method||h,formEncType:l.encType||m,flushSync:l.flushSync})}else await s.navigate(l.action||c,{preventScrollReset:l.preventScrollReset,formData:p,body:y,formMethod:l.method||h,formEncType:l.encType||m,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[s,e,n])}function Mw(s,{relative:e}={}){let{basename:n}=I.useContext(cs),a=I.useContext(us);it(a,"useFormAction must be used inside a RouteContext");let[l]=a.matches.slice(-1),c={...bc(s||".",{relative:e})},h=Xn();if(s==null){c.search=h.search;let m=new URLSearchParams(c.search),p=m.getAll("index");if(p.some(v=>v==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let v=m.toString();c.search=v?`?${v}`:""}}return(!s||s===".")&&l.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:mi([n,c.pathname])),dc(c)}function Lw(s,e={}){let n=I.useContext(k0);it(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=P0("useViewTransitionState"),l=bc(s,{relative:e.relative});if(!n.isTransitioning)return!1;let c=pa(n.currentLocation.pathname,a)||n.currentLocation.pathname,h=pa(n.nextLocation.pathname,a)||n.nextLocation.pathname;return Rd(l.pathname,h)!=null||Rd(l.pathname,c)!=null}new TextEncoder;var Pw=A0();const Vw=yg(Pw),Uw=()=>{};var Kv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0=function(s){const e=[];let n=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},Bw=function(s){const e=[];let n=0,a=0;for(;n<s.length;){const l=s[n++];if(l<128)e[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[n++];e[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[n++],h=s[n++],m=s[n++],p=((l&7)<<18|(c&63)<<12|(h&63)<<6|m&63)-65536;e[a++]=String.fromCharCode(55296+(p>>10)),e[a++]=String.fromCharCode(56320+(p&1023))}else{const c=s[n++],h=s[n++];e[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|h&63)}}return e.join("")},U0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const c=s[l],h=l+1<s.length,m=h?s[l+1]:0,p=l+2<s.length,y=p?s[l+2]:0,v=c>>2,T=(c&3)<<4|m>>4;let A=(m&15)<<2|y>>6,C=y&63;p||(C=64,h||(A=64)),a.push(n[v],n[T],n[A],n[C])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(V0(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):Bw(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const c=n[s.charAt(l++)],m=l<s.length?n[s.charAt(l)]:0;++l;const y=l<s.length?n[s.charAt(l)]:64;++l;const T=l<s.length?n[s.charAt(l)]:64;if(++l,c==null||m==null||y==null||T==null)throw new zw;const A=c<<2|m>>4;if(a.push(A),y!==64){const C=m<<4&240|y>>2;if(a.push(C),T!==64){const O=y<<6&192|T;a.push(O)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class zw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Hw=function(s){const e=V0(s);return U0.encodeByteArray(e,!0)},kd=function(s){return Hw(s).replace(/\./g,"")},B0=function(s){try{return U0.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw=()=>qw().__FIREBASE_DEFAULTS__,Fw=()=>{if(typeof process>"u"||typeof Kv>"u")return;const s=Kv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},Gw=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&B0(s[1]);return e&&JSON.parse(e)},Yd=()=>{try{return Uw()||Kw()||Fw()||Gw()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},z0=s=>{var e,n;return(n=(e=Yd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[s]},H0=s=>{const e=z0(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},q0=()=>{var s;return(s=Yd())===null||s===void 0?void 0:s.config},K0=s=>{var e;return(e=Yd())===null||e===void 0?void 0:e[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F0(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},s);return[kd(JSON.stringify(n)),kd(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Qw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function Yw(){var s;const e=(s=Yd())===null||s===void 0?void 0:s.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Ww(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Xw(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function Zw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Jw(){const s=an();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function eN(){return!Yw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tN(){try{return typeof indexedDB=="object"}catch{return!1}}function nN(){return new Promise((s,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var c;e(((c=l.error)===null||c===void 0?void 0:c.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN="FirebaseError";class Ls extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=sN,Object.setPrototypeOf(this,Ls.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tc.prototype.create)}}class Tc{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},l=`${this.service}/${e}`,c=this.errors[e],h=c?iN(c,a):"Error",m=`${this.serviceName}: ${h} (${l}).`;return new Ls(l,m,a)}}function iN(s,e){return s.replace(aN,(n,a)=>{const l=e[a];return l!=null?String(l):`<${a}?>`})}const aN=/\{\$([^}]+)}/g;function rN(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function cr(s,e){if(s===e)return!0;const n=Object.keys(s),a=Object.keys(e);for(const l of n){if(!a.includes(l))return!1;const c=s[l],h=e[l];if(Fv(c)&&Fv(h)){if(!cr(c,h))return!1}else if(c!==h)return!1}for(const l of a)if(!n.includes(l))return!1;return!0}function Fv(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ac(s){const e=[];for(const[n,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function Jo(s){const e={};return s.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[l,c]=a.split("=");e[decodeURIComponent(l)]=decodeURIComponent(c)}}),e}function ec(s){const e=s.indexOf("?");if(!e)return"";const n=s.indexOf("#",e);return s.substring(e,n>0?n:void 0)}function lN(s,e){const n=new oN(s,e);return n.subscribe.bind(n)}class oN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,a){let l;if(e===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");cN(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:a},l.next===void 0&&(l.next=Rm),l.error===void 0&&(l.error=Rm),l.complete===void 0&&(l.complete=Rm);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cN(s,e){if(typeof s!="object"||s===null)return!1;for(const n of e)if(n in s&&typeof s[n]=="function")return!0;return!1}function Rm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function at(s){return s&&s._delegate?s._delegate:s}class ya{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ar="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new $w;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),l=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(c){if(l)return null;throw c}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(hN(e))try{this.getOrInitializeService({instanceIdentifier:ar})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(e=ar){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ar){return this.instances.has(e)}getOptions(e=ar){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[c,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);a===m&&h.resolve(l)}return l}onInit(e,n){var a;const l=this.normalizeInstanceIdentifier(n),c=(a=this.onInitCallbacks.get(l))!==null&&a!==void 0?a:new Set;c.add(e),this.onInitCallbacks.set(l,c);const h=this.instances.get(l);return h&&e(h,l),()=>{c.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const l of a)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:dN(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=ar){return this.component?this.component.multipleInstances?e:ar:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function dN(s){return s===ar?void 0:s}function hN(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new uN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Le||(Le={}));const mN={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},gN=Le.INFO,pN={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},yN=(s,e,...n)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),l=pN[e];if(l)console[l](`[${a}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class wg{constructor(e){this.name=e,this._logLevel=gN,this._logHandler=yN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?mN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const _N=(s,e)=>e.some(n=>s instanceof n);let Gv,$v;function vN(){return Gv||(Gv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xN(){return $v||($v=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const G0=new WeakMap,qm=new WeakMap,$0=new WeakMap,km=new WeakMap,Ng=new WeakMap;function EN(s){const e=new Promise((n,a)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",h)},c=()=>{n(ha(s.result)),l()},h=()=>{a(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&G0.set(n,s)}).catch(()=>{}),Ng.set(e,s),e}function bN(s){if(qm.has(s))return;const e=new Promise((n,a)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",h),s.removeEventListener("abort",h)},c=()=>{n(),l()},h=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",h),s.addEventListener("abort",h)});qm.set(s,e)}let Km={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return qm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||$0.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ha(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function TN(s){Km=s(Km)}function AN(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=s.call(Cm(this),e,...n);return $0.set(a,e.sort?e.sort():[e]),ha(a)}:xN().includes(s)?function(...e){return s.apply(Cm(this),e),ha(G0.get(this))}:function(...e){return ha(s.apply(Cm(this),e))}}function SN(s){return typeof s=="function"?AN(s):(s instanceof IDBTransaction&&bN(s),_N(s,vN())?new Proxy(s,Km):s)}function ha(s){if(s instanceof IDBRequest)return EN(s);if(km.has(s))return km.get(s);const e=SN(s);return e!==s&&(km.set(s,e),Ng.set(e,s)),e}const Cm=s=>Ng.get(s);function wN(s,e,{blocked:n,upgrade:a,blocking:l,terminated:c}={}){const h=indexedDB.open(s,e),m=ha(h);return a&&h.addEventListener("upgradeneeded",p=>{a(ha(h.result),p.oldVersion,p.newVersion,ha(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{c&&p.addEventListener("close",()=>c()),l&&p.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const NN=["get","getKey","getAll","getAllKeys","count"],RN=["put","add","delete","clear"],Im=new Map;function Qv(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Im.get(e))return Im.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,l=RN.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(l||NN.includes(n)))return;const c=async function(h,...m){const p=this.transaction(h,l?"readwrite":"readonly");let y=p.store;return a&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),l&&p.done]))[0]};return Im.set(e,c),c}TN(s=>({...s,get:(e,n,a)=>Qv(e,n)||s.get(e,n,a),has:(e,n)=>!!Qv(e,n)||s.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(CN(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function CN(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Fm="@firebase/app",Yv="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yi=new wg("@firebase/app"),IN="@firebase/app-compat",jN="@firebase/analytics-compat",DN="@firebase/analytics",ON="@firebase/app-check-compat",MN="@firebase/app-check",LN="@firebase/auth",PN="@firebase/auth-compat",VN="@firebase/database",UN="@firebase/data-connect",BN="@firebase/database-compat",zN="@firebase/functions",HN="@firebase/functions-compat",qN="@firebase/installations",KN="@firebase/installations-compat",FN="@firebase/messaging",GN="@firebase/messaging-compat",$N="@firebase/performance",QN="@firebase/performance-compat",YN="@firebase/remote-config",WN="@firebase/remote-config-compat",XN="@firebase/storage",ZN="@firebase/storage-compat",JN="@firebase/firestore",eR="@firebase/vertexai",tR="@firebase/firestore-compat",nR="firebase",sR="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gm="[DEFAULT]",iR={[Fm]:"fire-core",[IN]:"fire-core-compat",[DN]:"fire-analytics",[jN]:"fire-analytics-compat",[MN]:"fire-app-check",[ON]:"fire-app-check-compat",[LN]:"fire-auth",[PN]:"fire-auth-compat",[VN]:"fire-rtdb",[UN]:"fire-data-connect",[BN]:"fire-rtdb-compat",[zN]:"fire-fn",[HN]:"fire-fn-compat",[qN]:"fire-iid",[KN]:"fire-iid-compat",[FN]:"fire-fcm",[GN]:"fire-fcm-compat",[$N]:"fire-perf",[QN]:"fire-perf-compat",[YN]:"fire-rc",[WN]:"fire-rc-compat",[XN]:"fire-gcs",[ZN]:"fire-gcs-compat",[JN]:"fire-fst",[tR]:"fire-fst-compat",[eR]:"fire-vertex","fire-js":"fire-js",[nR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cd=new Map,aR=new Map,$m=new Map;function Wv(s,e){try{s.container.addComponent(e)}catch(n){yi.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function ur(s){const e=s.name;if($m.has(e))return yi.debug(`There were multiple attempts to register component ${e}.`),!1;$m.set(e,s);for(const n of Cd.values())Wv(n,s);for(const n of aR.values())Wv(n,s);return!0}function Wd(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function Nn(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fa=new Tc("app","Firebase",rR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e,n,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ya("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yr=sR;function Q0(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const a=Object.assign({name:Gm,automaticDataCollectionEnabled:!1},e),l=a.name;if(typeof l!="string"||!l)throw fa.create("bad-app-name",{appName:String(l)});if(n||(n=q0()),!n)throw fa.create("no-options");const c=Cd.get(l);if(c){if(cr(n,c.options)&&cr(a,c.config))return c;throw fa.create("duplicate-app",{appName:l})}const h=new fN(l);for(const p of $m.values())h.addComponent(p);const m=new lR(n,a,h);return Cd.set(l,m),m}function Rg(s=Gm){const e=Cd.get(s);if(!e&&s===Gm&&q0())return Q0();if(!e)throw fa.create("no-app",{appName:s});return e}function Cs(s,e,n){var a;let l=(a=iR[s])!==null&&a!==void 0?a:s;n&&(l+=`-${n}`);const c=l.match(/\s|\//),h=e.match(/\s|\//);if(c||h){const m=[`Unable to register library "${l}" with version "${e}":`];c&&m.push(`library name "${l}" contains illegal characters (whitespace or "/")`),c&&h&&m.push("and"),h&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),yi.warn(m.join(" "));return}ur(new ya(`${l}-version`,()=>({library:l,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR="firebase-heartbeat-database",cR=1,hc="firebase-heartbeat-store";let jm=null;function Y0(){return jm||(jm=wN(oR,cR,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(hc)}catch(n){console.warn(n)}}}}).catch(s=>{throw fa.create("idb-open",{originalErrorMessage:s.message})})),jm}async function uR(s){try{const n=(await Y0()).transaction(hc),a=await n.objectStore(hc).get(W0(s));return await n.done,a}catch(e){if(e instanceof Ls)yi.warn(e.message);else{const n=fa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});yi.warn(n.message)}}}async function Xv(s,e){try{const a=(await Y0()).transaction(hc,"readwrite");await a.objectStore(hc).put(e,W0(s)),await a.done}catch(n){if(n instanceof Ls)yi.warn(n.message);else{const a=fa.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});yi.warn(a.message)}}}function W0(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR=1024,hR=30;class fR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new gR(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Zv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(h=>h.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats.length>hR){const h=pR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){yi.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Zv(),{heartbeatsToSend:a,unsentEntries:l}=mR(this._heartbeatsCache.heartbeats),c=kd(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return yi.warn(n),""}}}function Zv(){return new Date().toISOString().substring(0,10)}function mR(s,e=dR){const n=[];let a=s.slice();for(const l of s){const c=n.find(h=>h.agent===l.agent);if(c){if(c.dates.push(l.date),Jv(n)>e){c.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),Jv(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class gR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tN()?nN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await uR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return Xv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return Xv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...e.heartbeats]})}else return}}function Jv(s){return kd(JSON.stringify({version:2,heartbeats:s})).length}function pR(s){if(s.length===0)return-1;let e=0,n=s[0].date;for(let a=1;a<s.length;a++)s[a].date<n&&(n=s[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yR(s){ur(new ya("platform-logger",e=>new kN(e),"PRIVATE")),ur(new ya("heartbeat",e=>new fR(e),"PRIVATE")),Cs(Fm,Yv,s),Cs(Fm,Yv,"esm2017"),Cs("fire-js","")}yR("");var _R="firebase",vR="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cs(_R,vR,"app");var ex=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ma,X0;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,k){function b(){}b.prototype=k.prototype,V.D=k.prototype,V.prototype=new b,V.prototype.constructor=V,V.C=function(S,D,U){for(var w=Array(arguments.length-2),F=2;F<arguments.length;F++)w[F-2]=arguments[F];return k.prototype[D].apply(S,w)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,n),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(V,k,b){b||(b=0);var S=Array(16);if(typeof k=="string")for(var D=0;16>D;++D)S[D]=k.charCodeAt(b++)|k.charCodeAt(b++)<<8|k.charCodeAt(b++)<<16|k.charCodeAt(b++)<<24;else for(D=0;16>D;++D)S[D]=k[b++]|k[b++]<<8|k[b++]<<16|k[b++]<<24;k=V.g[0],b=V.g[1],D=V.g[2];var U=V.g[3],w=k+(U^b&(D^U))+S[0]+3614090360&4294967295;k=b+(w<<7&4294967295|w>>>25),w=U+(D^k&(b^D))+S[1]+3905402710&4294967295,U=k+(w<<12&4294967295|w>>>20),w=D+(b^U&(k^b))+S[2]+606105819&4294967295,D=U+(w<<17&4294967295|w>>>15),w=b+(k^D&(U^k))+S[3]+3250441966&4294967295,b=D+(w<<22&4294967295|w>>>10),w=k+(U^b&(D^U))+S[4]+4118548399&4294967295,k=b+(w<<7&4294967295|w>>>25),w=U+(D^k&(b^D))+S[5]+1200080426&4294967295,U=k+(w<<12&4294967295|w>>>20),w=D+(b^U&(k^b))+S[6]+2821735955&4294967295,D=U+(w<<17&4294967295|w>>>15),w=b+(k^D&(U^k))+S[7]+4249261313&4294967295,b=D+(w<<22&4294967295|w>>>10),w=k+(U^b&(D^U))+S[8]+1770035416&4294967295,k=b+(w<<7&4294967295|w>>>25),w=U+(D^k&(b^D))+S[9]+2336552879&4294967295,U=k+(w<<12&4294967295|w>>>20),w=D+(b^U&(k^b))+S[10]+4294925233&4294967295,D=U+(w<<17&4294967295|w>>>15),w=b+(k^D&(U^k))+S[11]+2304563134&4294967295,b=D+(w<<22&4294967295|w>>>10),w=k+(U^b&(D^U))+S[12]+1804603682&4294967295,k=b+(w<<7&4294967295|w>>>25),w=U+(D^k&(b^D))+S[13]+4254626195&4294967295,U=k+(w<<12&4294967295|w>>>20),w=D+(b^U&(k^b))+S[14]+2792965006&4294967295,D=U+(w<<17&4294967295|w>>>15),w=b+(k^D&(U^k))+S[15]+1236535329&4294967295,b=D+(w<<22&4294967295|w>>>10),w=k+(D^U&(b^D))+S[1]+4129170786&4294967295,k=b+(w<<5&4294967295|w>>>27),w=U+(b^D&(k^b))+S[6]+3225465664&4294967295,U=k+(w<<9&4294967295|w>>>23),w=D+(k^b&(U^k))+S[11]+643717713&4294967295,D=U+(w<<14&4294967295|w>>>18),w=b+(U^k&(D^U))+S[0]+3921069994&4294967295,b=D+(w<<20&4294967295|w>>>12),w=k+(D^U&(b^D))+S[5]+3593408605&4294967295,k=b+(w<<5&4294967295|w>>>27),w=U+(b^D&(k^b))+S[10]+38016083&4294967295,U=k+(w<<9&4294967295|w>>>23),w=D+(k^b&(U^k))+S[15]+3634488961&4294967295,D=U+(w<<14&4294967295|w>>>18),w=b+(U^k&(D^U))+S[4]+3889429448&4294967295,b=D+(w<<20&4294967295|w>>>12),w=k+(D^U&(b^D))+S[9]+568446438&4294967295,k=b+(w<<5&4294967295|w>>>27),w=U+(b^D&(k^b))+S[14]+3275163606&4294967295,U=k+(w<<9&4294967295|w>>>23),w=D+(k^b&(U^k))+S[3]+4107603335&4294967295,D=U+(w<<14&4294967295|w>>>18),w=b+(U^k&(D^U))+S[8]+1163531501&4294967295,b=D+(w<<20&4294967295|w>>>12),w=k+(D^U&(b^D))+S[13]+2850285829&4294967295,k=b+(w<<5&4294967295|w>>>27),w=U+(b^D&(k^b))+S[2]+4243563512&4294967295,U=k+(w<<9&4294967295|w>>>23),w=D+(k^b&(U^k))+S[7]+1735328473&4294967295,D=U+(w<<14&4294967295|w>>>18),w=b+(U^k&(D^U))+S[12]+2368359562&4294967295,b=D+(w<<20&4294967295|w>>>12),w=k+(b^D^U)+S[5]+4294588738&4294967295,k=b+(w<<4&4294967295|w>>>28),w=U+(k^b^D)+S[8]+2272392833&4294967295,U=k+(w<<11&4294967295|w>>>21),w=D+(U^k^b)+S[11]+1839030562&4294967295,D=U+(w<<16&4294967295|w>>>16),w=b+(D^U^k)+S[14]+4259657740&4294967295,b=D+(w<<23&4294967295|w>>>9),w=k+(b^D^U)+S[1]+2763975236&4294967295,k=b+(w<<4&4294967295|w>>>28),w=U+(k^b^D)+S[4]+1272893353&4294967295,U=k+(w<<11&4294967295|w>>>21),w=D+(U^k^b)+S[7]+4139469664&4294967295,D=U+(w<<16&4294967295|w>>>16),w=b+(D^U^k)+S[10]+3200236656&4294967295,b=D+(w<<23&4294967295|w>>>9),w=k+(b^D^U)+S[13]+681279174&4294967295,k=b+(w<<4&4294967295|w>>>28),w=U+(k^b^D)+S[0]+3936430074&4294967295,U=k+(w<<11&4294967295|w>>>21),w=D+(U^k^b)+S[3]+3572445317&4294967295,D=U+(w<<16&4294967295|w>>>16),w=b+(D^U^k)+S[6]+76029189&4294967295,b=D+(w<<23&4294967295|w>>>9),w=k+(b^D^U)+S[9]+3654602809&4294967295,k=b+(w<<4&4294967295|w>>>28),w=U+(k^b^D)+S[12]+3873151461&4294967295,U=k+(w<<11&4294967295|w>>>21),w=D+(U^k^b)+S[15]+530742520&4294967295,D=U+(w<<16&4294967295|w>>>16),w=b+(D^U^k)+S[2]+3299628645&4294967295,b=D+(w<<23&4294967295|w>>>9),w=k+(D^(b|~U))+S[0]+4096336452&4294967295,k=b+(w<<6&4294967295|w>>>26),w=U+(b^(k|~D))+S[7]+1126891415&4294967295,U=k+(w<<10&4294967295|w>>>22),w=D+(k^(U|~b))+S[14]+2878612391&4294967295,D=U+(w<<15&4294967295|w>>>17),w=b+(U^(D|~k))+S[5]+4237533241&4294967295,b=D+(w<<21&4294967295|w>>>11),w=k+(D^(b|~U))+S[12]+1700485571&4294967295,k=b+(w<<6&4294967295|w>>>26),w=U+(b^(k|~D))+S[3]+2399980690&4294967295,U=k+(w<<10&4294967295|w>>>22),w=D+(k^(U|~b))+S[10]+4293915773&4294967295,D=U+(w<<15&4294967295|w>>>17),w=b+(U^(D|~k))+S[1]+2240044497&4294967295,b=D+(w<<21&4294967295|w>>>11),w=k+(D^(b|~U))+S[8]+1873313359&4294967295,k=b+(w<<6&4294967295|w>>>26),w=U+(b^(k|~D))+S[15]+4264355552&4294967295,U=k+(w<<10&4294967295|w>>>22),w=D+(k^(U|~b))+S[6]+2734768916&4294967295,D=U+(w<<15&4294967295|w>>>17),w=b+(U^(D|~k))+S[13]+1309151649&4294967295,b=D+(w<<21&4294967295|w>>>11),w=k+(D^(b|~U))+S[4]+4149444226&4294967295,k=b+(w<<6&4294967295|w>>>26),w=U+(b^(k|~D))+S[11]+3174756917&4294967295,U=k+(w<<10&4294967295|w>>>22),w=D+(k^(U|~b))+S[2]+718787259&4294967295,D=U+(w<<15&4294967295|w>>>17),w=b+(U^(D|~k))+S[9]+3951481745&4294967295,V.g[0]=V.g[0]+k&4294967295,V.g[1]=V.g[1]+(D+(w<<21&4294967295|w>>>11))&4294967295,V.g[2]=V.g[2]+D&4294967295,V.g[3]=V.g[3]+U&4294967295}a.prototype.u=function(V,k){k===void 0&&(k=V.length);for(var b=k-this.blockSize,S=this.B,D=this.h,U=0;U<k;){if(D==0)for(;U<=b;)l(this,V,U),U+=this.blockSize;if(typeof V=="string"){for(;U<k;)if(S[D++]=V.charCodeAt(U++),D==this.blockSize){l(this,S),D=0;break}}else for(;U<k;)if(S[D++]=V[U++],D==this.blockSize){l(this,S),D=0;break}}this.h=D,this.o+=k},a.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var k=1;k<V.length-8;++k)V[k]=0;var b=8*this.o;for(k=V.length-8;k<V.length;++k)V[k]=b&255,b/=256;for(this.u(V),V=Array(16),k=b=0;4>k;++k)for(var S=0;32>S;S+=8)V[b++]=this.g[k]>>>S&255;return V};function c(V,k){var b=m;return Object.prototype.hasOwnProperty.call(b,V)?b[V]:b[V]=k(V)}function h(V,k){this.h=k;for(var b=[],S=!0,D=V.length-1;0<=D;D--){var U=V[D]|0;S&&U==k||(b[D]=U,S=!1)}this.g=b}var m={};function p(V){return-128<=V&&128>V?c(V,function(k){return new h([k|0],0>k?-1:0)}):new h([V|0],0>V?-1:0)}function y(V){if(isNaN(V)||!isFinite(V))return T;if(0>V)return j(y(-V));for(var k=[],b=1,S=0;V>=b;S++)k[S]=V/b|0,b*=4294967296;return new h(k,0)}function v(V,k){if(V.length==0)throw Error("number format error: empty string");if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(V.charAt(0)=="-")return j(v(V.substring(1),k));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=y(Math.pow(k,8)),S=T,D=0;D<V.length;D+=8){var U=Math.min(8,V.length-D),w=parseInt(V.substring(D,D+U),k);8>U?(U=y(Math.pow(k,U)),S=S.j(U).add(y(w))):(S=S.j(b),S=S.add(y(w)))}return S}var T=p(0),A=p(1),C=p(16777216);s=h.prototype,s.m=function(){if(B(this))return-j(this).m();for(var V=0,k=1,b=0;b<this.g.length;b++){var S=this.i(b);V+=(0<=S?S:4294967296+S)*k,k*=4294967296}return V},s.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(O(this))return"0";if(B(this))return"-"+j(this).toString(V);for(var k=y(Math.pow(V,6)),b=this,S="";;){var D=Z(b,k).g;b=z(b,D.j(k));var U=((0<b.g.length?b.g[0]:b.h)>>>0).toString(V);if(b=D,O(b))return U+S;for(;6>U.length;)U="0"+U;S=U+S}},s.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function O(V){if(V.h!=0)return!1;for(var k=0;k<V.g.length;k++)if(V.g[k]!=0)return!1;return!0}function B(V){return V.h==-1}s.l=function(V){return V=z(this,V),B(V)?-1:O(V)?0:1};function j(V){for(var k=V.g.length,b=[],S=0;S<k;S++)b[S]=~V.g[S];return new h(b,~V.h).add(A)}s.abs=function(){return B(this)?j(this):this},s.add=function(V){for(var k=Math.max(this.g.length,V.g.length),b=[],S=0,D=0;D<=k;D++){var U=S+(this.i(D)&65535)+(V.i(D)&65535),w=(U>>>16)+(this.i(D)>>>16)+(V.i(D)>>>16);S=w>>>16,U&=65535,w&=65535,b[D]=w<<16|U}return new h(b,b[b.length-1]&-2147483648?-1:0)};function z(V,k){return V.add(j(k))}s.j=function(V){if(O(this)||O(V))return T;if(B(this))return B(V)?j(this).j(j(V)):j(j(this).j(V));if(B(V))return j(this.j(j(V)));if(0>this.l(C)&&0>V.l(C))return y(this.m()*V.m());for(var k=this.g.length+V.g.length,b=[],S=0;S<2*k;S++)b[S]=0;for(S=0;S<this.g.length;S++)for(var D=0;D<V.g.length;D++){var U=this.i(S)>>>16,w=this.i(S)&65535,F=V.i(D)>>>16,ee=V.i(D)&65535;b[2*S+2*D]+=w*ee,q(b,2*S+2*D),b[2*S+2*D+1]+=U*ee,q(b,2*S+2*D+1),b[2*S+2*D+1]+=w*F,q(b,2*S+2*D+1),b[2*S+2*D+2]+=U*F,q(b,2*S+2*D+2)}for(S=0;S<k;S++)b[S]=b[2*S+1]<<16|b[2*S];for(S=k;S<2*k;S++)b[S]=0;return new h(b,0)};function q(V,k){for(;(V[k]&65535)!=V[k];)V[k+1]+=V[k]>>>16,V[k]&=65535,k++}function G(V,k){this.g=V,this.h=k}function Z(V,k){if(O(k))throw Error("division by zero");if(O(V))return new G(T,T);if(B(V))return k=Z(j(V),k),new G(j(k.g),j(k.h));if(B(k))return k=Z(V,j(k)),new G(j(k.g),k.h);if(30<V.g.length){if(B(V)||B(k))throw Error("slowDivide_ only works with positive integers.");for(var b=A,S=k;0>=S.l(V);)b=X(b),S=X(S);var D=le(b,1),U=le(S,1);for(S=le(S,2),b=le(b,2);!O(S);){var w=U.add(S);0>=w.l(V)&&(D=D.add(b),U=w),S=le(S,1),b=le(b,1)}return k=z(V,D.j(k)),new G(D,k)}for(D=T;0<=V.l(k);){for(b=Math.max(1,Math.floor(V.m()/k.m())),S=Math.ceil(Math.log(b)/Math.LN2),S=48>=S?1:Math.pow(2,S-48),U=y(b),w=U.j(k);B(w)||0<w.l(V);)b-=S,U=y(b),w=U.j(k);O(U)&&(U=A),D=D.add(U),V=z(V,w)}return new G(D,V)}s.A=function(V){return Z(this,V).h},s.and=function(V){for(var k=Math.max(this.g.length,V.g.length),b=[],S=0;S<k;S++)b[S]=this.i(S)&V.i(S);return new h(b,this.h&V.h)},s.or=function(V){for(var k=Math.max(this.g.length,V.g.length),b=[],S=0;S<k;S++)b[S]=this.i(S)|V.i(S);return new h(b,this.h|V.h)},s.xor=function(V){for(var k=Math.max(this.g.length,V.g.length),b=[],S=0;S<k;S++)b[S]=this.i(S)^V.i(S);return new h(b,this.h^V.h)};function X(V){for(var k=V.g.length+1,b=[],S=0;S<k;S++)b[S]=V.i(S)<<1|V.i(S-1)>>>31;return new h(b,V.h)}function le(V,k){var b=k>>5;k%=32;for(var S=V.g.length-b,D=[],U=0;U<S;U++)D[U]=0<k?V.i(U+b)>>>k|V.i(U+b+1)<<32-k:V.i(U+b);return new h(D,V.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,X0=a,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=v,ma=h}).apply(typeof ex<"u"?ex:typeof self<"u"?self:typeof window<"u"?window:{});var ad=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Z0,tc,J0,yd,Qm,eE,tE,nE;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,_,x){return d==Array.prototype||d==Object.prototype||(d[_]=x.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof ad=="object"&&ad];for(var _=0;_<d.length;++_){var x=d[_];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var a=n(this);function l(d,_){if(_)e:{var x=a;d=d.split(".");for(var R=0;R<d.length-1;R++){var Q=d[R];if(!(Q in x))break e;x=x[Q]}d=d[d.length-1],R=x[d],_=_(R),_!=R&&_!=null&&e(x,d,{configurable:!0,writable:!0,value:_})}}function c(d,_){d instanceof String&&(d+="");var x=0,R=!1,Q={next:function(){if(!R&&x<d.length){var te=x++;return{value:_(te,d[te]),done:!1}}return R=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}l("Array.prototype.values",function(d){return d||function(){return c(this,function(_,x){return x})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function p(d){var _=typeof d;return _=_!="object"?_:d?Array.isArray(d)?"array":_:"null",_=="array"||_=="object"&&typeof d.length=="number"}function y(d){var _=typeof d;return _=="object"&&d!=null||_=="function"}function v(d,_,x){return d.call.apply(d.bind,arguments)}function T(d,_,x){if(!d)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,R),d.apply(_,Q)}}return function(){return d.apply(_,arguments)}}function A(d,_,x){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:T,A.apply(null,arguments)}function C(d,_){var x=Array.prototype.slice.call(arguments,1);return function(){var R=x.slice();return R.push.apply(R,arguments),d.apply(this,R)}}function O(d,_){function x(){}x.prototype=_.prototype,d.aa=_.prototype,d.prototype=new x,d.prototype.constructor=d,d.Qb=function(R,Q,te){for(var fe=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)fe[Be-2]=arguments[Be];return _.prototype[Q].apply(R,fe)}}function B(d){const _=d.length;if(0<_){const x=Array(_);for(let R=0;R<_;R++)x[R]=d[R];return x}return[]}function j(d,_){for(let x=1;x<arguments.length;x++){const R=arguments[x];if(p(R)){const Q=d.length||0,te=R.length||0;d.length=Q+te;for(let fe=0;fe<te;fe++)d[Q+fe]=R[fe]}else d.push(R)}}class z{constructor(_,x){this.i=_,this.j=x,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function q(d){return/^[\s\xa0]*$/.test(d)}function G(){var d=m.navigator;return d&&(d=d.userAgent)?d:""}function Z(d){return Z[" "](d),d}Z[" "]=function(){};var X=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function le(d,_,x){for(const R in d)_.call(x,d[R],R,d)}function V(d,_){for(const x in d)_.call(void 0,d[x],x,d)}function k(d){const _={};for(const x in d)_[x]=d[x];return _}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function S(d,_){let x,R;for(let Q=1;Q<arguments.length;Q++){R=arguments[Q];for(x in R)d[x]=R[x];for(let te=0;te<b.length;te++)x=b[te],Object.prototype.hasOwnProperty.call(R,x)&&(d[x]=R[x])}}function D(d){var _=1;d=d.split(":");const x=[];for(;0<_&&d.length;)x.push(d.shift()),_--;return d.length&&x.push(d.join(":")),x}function U(d){m.setTimeout(()=>{throw d},0)}function w(){var d=he;let _=null;return d.g&&(_=d.g,d.g=d.g.next,d.g||(d.h=null),_.next=null),_}class F{constructor(){this.h=this.g=null}add(_,x){const R=ee.get();R.set(_,x),this.h?this.h.next=R:this.g=R,this.h=R}}var ee=new z(()=>new Y,d=>d.reset());class Y{constructor(){this.next=this.g=this.h=null}set(_,x){this.h=_,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let re,ae=!1,he=new F,M=()=>{const d=m.Promise.resolve(void 0);re=()=>{d.then(ne)}};var ne=()=>{for(var d;d=w();){try{d.h.call(d.g)}catch(x){U(x)}var _=ee;_.j(d),100>_.h&&(_.h++,d.next=_.g,_.g=d)}ae=!1};function pe(){this.s=this.s,this.C=this.C}pe.prototype.s=!1,pe.prototype.ma=function(){this.s||(this.s=!0,this.N())},pe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ge(d,_){this.type=d,this.g=this.target=_,this.defaultPrevented=!1}ge.prototype.h=function(){this.defaultPrevented=!0};var me=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var d=!1,_=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const x=()=>{};m.addEventListener("test",x,_),m.removeEventListener("test",x,_)}catch{}return d}();function we(d,_){if(ge.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var x=this.type=d.type,R=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=_,_=d.relatedTarget){if(X){e:{try{Z(_.nodeName);var Q=!0;break e}catch{}Q=!1}Q||(_=null)}}else x=="mouseover"?_=d.fromElement:x=="mouseout"&&(_=d.toElement);this.relatedTarget=_,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:ke[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&we.aa.h.call(this)}}O(we,ge);var ke={2:"touch",3:"pen",4:"mouse"};we.prototype.h=function(){we.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Et="closure_listenable_"+(1e6*Math.random()|0),Ke=0;function ut(d,_,x,R,Q){this.listener=d,this.proxy=null,this.src=_,this.type=x,this.capture=!!R,this.ha=Q,this.key=++Ke,this.da=this.fa=!1}function Xe(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function rn(d){this.src=d,this.g={},this.h=0}rn.prototype.add=function(d,_,x,R,Q){var te=d.toString();d=this.g[te],d||(d=this.g[te]=[],this.h++);var fe=Cn(d,_,R,Q);return-1<fe?(_=d[fe],x||(_.fa=!1)):(_=new ut(_,this.src,te,!!R,Q),_.fa=x,d.push(_)),_};function Vs(d,_){var x=_.type;if(x in d.g){var R=d.g[x],Q=Array.prototype.indexOf.call(R,_,void 0),te;(te=0<=Q)&&Array.prototype.splice.call(R,Q,1),te&&(Xe(_),d.g[x].length==0&&(delete d.g[x],d.h--))}}function Cn(d,_,x,R){for(var Q=0;Q<d.length;++Q){var te=d[Q];if(!te.da&&te.listener==_&&te.capture==!!x&&te.ha==R)return Q}return-1}var bi="closure_lm_"+(1e6*Math.random()|0),Ti={};function Us(d,_,x,R,Q){if(Array.isArray(_)){for(var te=0;te<_.length;te++)Us(d,_[te],x,R,Q);return null}return x=Pc(x),d&&d[Et]?d.K(_,x,y(R)?!!R.capture:!1,Q):Hl(d,_,x,!1,R,Q)}function Hl(d,_,x,R,Q,te){if(!_)throw Error("Invalid event type");var fe=y(Q)?!!Q.capture:!!Q,Be=ql(d);if(Be||(d[bi]=Be=new rn(d)),x=Be.add(_,x,R,fe,te),x.proxy)return x;if(R=Sr(),x.proxy=R,R.src=d,R.listener=x,d.addEventListener)me||(Q=fe),Q===void 0&&(Q=!1),d.addEventListener(_.toString(),R,Q);else if(d.attachEvent)d.attachEvent(Nr(_.toString()),R);else if(d.addListener&&d.removeListener)d.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return x}function Sr(){function d(x){return _.call(d.src,d.listener,x)}const _=Eh;return d}function wr(d,_,x,R,Q){if(Array.isArray(_))for(var te=0;te<_.length;te++)wr(d,_[te],x,R,Q);else R=y(R)?!!R.capture:!!R,x=Pc(x),d&&d[Et]?(d=d.i,_=String(_).toString(),_ in d.g&&(te=d.g[_],x=Cn(te,x,R,Q),-1<x&&(Xe(te[x]),Array.prototype.splice.call(te,x,1),te.length==0&&(delete d.g[_],d.h--)))):d&&(d=ql(d))&&(_=d.g[_.toString()],d=-1,_&&(d=Cn(_,x,R,Q)),(x=-1<d?_[d]:null)&&Na(x))}function Na(d){if(typeof d!="number"&&d&&!d.da){var _=d.src;if(_&&_[Et])Vs(_.i,d);else{var x=d.type,R=d.proxy;_.removeEventListener?_.removeEventListener(x,R,d.capture):_.detachEvent?_.detachEvent(Nr(x),R):_.addListener&&_.removeListener&&_.removeListener(R),(x=ql(_))?(Vs(x,d),x.h==0&&(x.src=null,_[bi]=null)):Xe(d)}}}function Nr(d){return d in Ti?Ti[d]:Ti[d]="on"+d}function Eh(d,_){if(d.da)d=!0;else{_=new we(_,this);var x=d.listener,R=d.ha||d.src;d.fa&&Na(d),d=x.call(R,_)}return d}function ql(d){return d=d[bi],d instanceof rn?d:null}var gn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Pc(d){return typeof d=="function"?d:(d[gn]||(d[gn]=function(_){return d.handleEvent(_)}),d[gn])}function Nt(){pe.call(this),this.i=new rn(this),this.M=this,this.F=null}O(Nt,pe),Nt.prototype[Et]=!0,Nt.prototype.removeEventListener=function(d,_,x,R){wr(this,d,_,x,R)};function Lt(d,_){var x,R=d.F;if(R)for(x=[];R;R=R.F)x.push(R);if(d=d.M,R=_.type||_,typeof _=="string")_=new ge(_,d);else if(_ instanceof ge)_.target=_.target||d;else{var Q=_;_=new ge(R,d),S(_,Q)}if(Q=!0,x)for(var te=x.length-1;0<=te;te--){var fe=_.g=x[te];Q=Bs(fe,R,!0,_)&&Q}if(fe=_.g=d,Q=Bs(fe,R,!0,_)&&Q,Q=Bs(fe,R,!1,_)&&Q,x)for(te=0;te<x.length;te++)fe=_.g=x[te],Q=Bs(fe,R,!1,_)&&Q}Nt.prototype.N=function(){if(Nt.aa.N.call(this),this.i){var d=this.i,_;for(_ in d.g){for(var x=d.g[_],R=0;R<x.length;R++)Xe(x[R]);delete d.g[_],d.h--}}this.F=null},Nt.prototype.K=function(d,_,x,R){return this.i.add(String(d),_,!1,x,R)},Nt.prototype.L=function(d,_,x,R){return this.i.add(String(d),_,!0,x,R)};function Bs(d,_,x,R){if(_=d.i.g[String(_)],!_)return!0;_=_.concat();for(var Q=!0,te=0;te<_.length;++te){var fe=_[te];if(fe&&!fe.da&&fe.capture==x){var Be=fe.listener,kt=fe.ha||fe.src;fe.fa&&Vs(d.i,fe),Q=Be.call(kt,R)!==!1&&Q}}return Q&&!R.defaultPrevented}function Vc(d,_,x){if(typeof d=="function")x&&(d=A(d,x));else if(d&&typeof d.handleEvent=="function")d=A(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:m.setTimeout(d,_||0)}function Kl(d){d.g=Vc(()=>{d.g=null,d.i&&(d.i=!1,Kl(d))},d.l);const _=d.h;d.h=null,d.m.apply(null,_)}class bh extends pe{constructor(_,x){super(),this.m=_,this.l=x,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Kl(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ra(d){pe.call(this),this.h=d,this.g={}}O(Ra,pe);var Ai=[];function Zt(d){le(d.g,function(_,x){this.g.hasOwnProperty(x)&&Na(_)},d),d.g={}}Ra.prototype.N=function(){Ra.aa.N.call(this),Zt(this)},Ra.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Fl=m.JSON.stringify,hs=m.JSON.parse,ln=class{stringify(d){return m.JSON.stringify(d,void 0)}parse(d){return m.JSON.parse(d,void 0)}};function Gl(){}Gl.prototype.h=null;function Uc(d){return d.h||(d.h=d.i())}function Bc(){}var fs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Si(){ge.call(this,"d")}O(Si,ge);function Zn(){ge.call(this,"c")}O(Zn,ge);var In={},wi=null;function Rr(){return wi=wi||new Nt}In.La="serverreachability";function $l(d){ge.call(this,In.La,d)}O($l,ge);function Ni(d){const _=Rr();Lt(_,new $l(_))}In.STAT_EVENT="statevent";function kr(d,_){ge.call(this,In.STAT_EVENT,d),this.stat=_}O(kr,ge);function _t(d){const _=Rr();Lt(_,new kr(_,d))}In.Ma="timingevent";function zc(d,_){ge.call(this,In.Ma,d),this.size=_}O(zc,ge);function Ri(d,_){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){d()},_)}function ki(){this.g=!0}ki.prototype.xa=function(){this.g=!1};function Hc(d,_,x,R,Q,te){d.info(function(){if(d.g)if(te)for(var fe="",Be=te.split("&"),kt=0;kt<Be.length;kt++){var ze=Be[kt].split("=");if(1<ze.length){var Ut=ze[0];ze=ze[1];var Ct=Ut.split("_");fe=2<=Ct.length&&Ct[1]=="type"?fe+(Ut+"="+ze+"&"):fe+(Ut+"=redacted&")}}else fe=null;else fe=te;return"XMLHTTP REQ ("+R+") [attempt "+Q+"]: "+_+`
`+x+`
`+fe})}function qc(d,_,x,R,Q,te,fe){d.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+Q+"]: "+_+`
`+x+`
`+te+" "+fe})}function Ci(d,_,x,R){d.info(function(){return"XMLHTTP TEXT ("+_+"): "+Pt(d,x)+(R?" "+R:"")})}function ms(d,_){d.info(function(){return"TIMEOUT: "+_})}ki.prototype.info=function(){};function Pt(d,_){if(!d.g)return _;if(!_)return null;try{var x=JSON.parse(_);if(x){for(d=0;d<x.length;d++)if(Array.isArray(x[d])){var R=x[d];if(!(2>R.length)){var Q=R[1];if(Array.isArray(Q)&&!(1>Q.length)){var te=Q[0];if(te!="noop"&&te!="stop"&&te!="close")for(var fe=1;fe<Q.length;fe++)Q[fe]=""}}}}return Fl(x)}catch{return _}}var Rt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},zs={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ka;function Cr(){}O(Cr,Gl),Cr.prototype.g=function(){return new XMLHttpRequest},Cr.prototype.i=function(){return{}},ka=new Cr;function gs(d,_,x,R){this.j=d,this.i=_,this.l=x,this.R=R||1,this.U=new Ra(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ql}function Ql(){this.i=null,this.g="",this.h=!1}var Ii={},Ca={};function Jn(d,_,x){d.L=1,d.v=Da(dt(_)),d.m=x,d.P=!0,Hs(d,null)}function Hs(d,_){d.F=Date.now(),rt(d),d.A=dt(d.v);var x=d.A,R=d.R;Array.isArray(R)||(R=[String(R)]),Fs(x.i,"t",R),d.C=0,x=d.j.J,d.h=new Ql,d.g=su(d.j,x?_:null,!d.m),0<d.O&&(d.M=new bh(A(d.Y,d,d.g),d.O)),_=d.U,x=d.g,R=d.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&(Ai[0]=Q.toString()),Q=Ai);for(var te=0;te<Q.length;te++){var fe=Us(x,Q[te],R||_.handleEvent,!1,_.h||_);if(!fe)break;_.g[fe.key]=fe}_=d.H?k(d.H):{},d.m?(d.u||(d.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,_)):(d.u="GET",d.g.ea(d.A,d.u,null,_)),Ni(),Hc(d.i,d.u,d.A,d.l,d.R,d.m)}gs.prototype.ca=function(d){d=d.target;const _=this.M;_&&Ln(d)==3?_.j():this.Y(d)},gs.prototype.Y=function(d){try{if(d==this.g)e:{const Ct=Ln(this.g);var _=this.g.Ba();const Ys=this.g.Z();if(!(3>Ct)&&(Ct!=3||this.g&&(this.h.h||this.g.oa()||Yc(this.g)))){this.J||Ct!=4||_==7||(_==8||0>=Ys?Ni(3):Ni(2)),Ir(this);var x=this.g.Z();this.X=x;t:if(ji(this)){var R=Yc(this.g);d="";var Q=R.length,te=Ln(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){pn(this),xn(this);var fe="";break t}this.h.i=new m.TextDecoder}for(_=0;_<Q;_++)this.h.h=!0,d+=this.h.i.decode(R[_],{stream:!(te&&_==Q-1)});R.length=0,this.h.g+=d,this.C=0,fe=this.h.g}else fe=this.g.oa();if(this.o=x==200,qc(this.i,this.u,this.A,this.l,this.R,Ct,x),this.o){if(this.T&&!this.K){t:{if(this.g){var Be,kt=this.g;if((Be=kt.g?kt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(Be)){var ze=Be;break t}}ze=null}if(x=ze)Ci(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,En(this,x);else{this.o=!1,this.s=3,_t(12),pn(this),xn(this);break e}}if(this.P){x=!0;let Kt;for(;!this.J&&this.C<fe.length;)if(Kt=Di(this,fe),Kt==Ca){Ct==4&&(this.s=4,_t(14),x=!1),Ci(this.i,this.l,null,"[Incomplete Response]");break}else if(Kt==Ii){this.s=4,_t(15),Ci(this.i,this.l,fe,"[Invalid Chunk]"),x=!1;break}else Ci(this.i,this.l,Kt,null),En(this,Kt);if(ji(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||fe.length!=0||this.h.h||(this.s=1,_t(16),x=!1),this.o=this.o&&x,!x)Ci(this.i,this.l,fe,"[Invalid Chunked Response]"),pn(this),xn(this);else if(0<fe.length&&!this.W){this.W=!0;var Ut=this.j;Ut.g==this&&Ut.ba&&!Ut.M&&(Ut.j.info("Great, no buffering proxy detected. Bytes received: "+fe.length),Ba(Ut),Ut.M=!0,_t(11))}}else Ci(this.i,this.l,fe,null),En(this,fe);Ct==4&&pn(this),this.o&&!this.J&&(Ct==4?eu(this.j,this):(this.o=!1,rt(this)))}else Rh(this.g),x==400&&0<fe.indexOf("Unknown SID")?(this.s=3,_t(12)):(this.s=0,_t(13)),pn(this),xn(this)}}}catch{}finally{}};function ji(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Di(d,_){var x=d.C,R=_.indexOf(`
`,x);return R==-1?Ca:(x=Number(_.substring(x,R)),isNaN(x)?Ii:(R+=1,R+x>_.length?Ca:(_=_.slice(R,R+x),d.C=R+x,_)))}gs.prototype.cancel=function(){this.J=!0,pn(this)};function rt(d){d.S=Date.now()+d.I,Yl(d,d.I)}function Yl(d,_){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Ri(A(d.ba,d),_)}function Ir(d){d.B&&(m.clearTimeout(d.B),d.B=null)}gs.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(ms(this.i,this.A),this.L!=2&&(Ni(),_t(17)),pn(this),this.s=2,xn(this)):Yl(this,this.S-d)};function xn(d){d.j.G==0||d.J||eu(d.j,d)}function pn(d){Ir(d);var _=d.M;_&&typeof _.ma=="function"&&_.ma(),d.M=null,Zt(d.U),d.g&&(_=d.g,d.g=null,_.abort(),_.ma())}function En(d,_){try{var x=d.j;if(x.G!=0&&(x.g==d||Oi(x.h,d))){if(!d.K&&Oi(x.h,d)&&x.G==3){try{var R=x.Da.g.parse(_)}catch{R=null}if(Array.isArray(R)&&R.length==3){var Q=R;if(Q[0]==0){e:if(!x.u){if(x.g)if(x.g.F+3e3<d.F)zr(x),Ur(x);else break e;ro(x),_t(18)}}else x.za=Q[1],0<x.za-x.T&&37500>Q[2]&&x.F&&x.v==0&&!x.C&&(x.C=Ri(A(x.Za,x),6e3));if(1>=Kc(x.h)&&x.ca){try{x.ca()}catch{}x.ca=void 0}}else Qs(x,11)}else if((d.K||x.g==d)&&zr(x),!q(_))for(Q=x.Da.g.parse(_),_=0;_<Q.length;_++){let ze=Q[_];if(x.T=ze[0],ze=ze[1],x.G==2)if(ze[0]=="c"){x.K=ze[1],x.ia=ze[2];const Ut=ze[3];Ut!=null&&(x.la=Ut,x.j.info("VER="+x.la));const Ct=ze[4];Ct!=null&&(x.Aa=Ct,x.j.info("SVER="+x.Aa));const Ys=ze[5];Ys!=null&&typeof Ys=="number"&&0<Ys&&(R=1.5*Ys,x.L=R,x.j.info("backChannelRequestTimeoutMs_="+R)),R=x;const Kt=d.g;if(Kt){const bs=Kt.g?Kt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(bs){var te=R.h;te.g||bs.indexOf("spdy")==-1&&bs.indexOf("quic")==-1&&bs.indexOf("h2")==-1||(te.j=te.l,te.g=new Set,te.h&&(Mi(te,te.h),te.h=null))}if(R.D){const oo=Kt.g?Kt.g.getResponseHeader("X-HTTP-Session-Id"):null;oo&&(R.ya=oo,Fe(R.I,R.D,oo))}}x.G=3,x.l&&x.l.ua(),x.ba&&(x.R=Date.now()-d.F,x.j.info("Handshake RTT: "+x.R+"ms")),R=x;var fe=d;if(R.qa=nu(R,R.J?R.ia:null,R.W),fe.K){jn(R.h,fe);var Be=fe,kt=R.L;kt&&(Be.I=kt),Be.B&&(Ir(Be),rt(Be)),R.g=fe}else Zc(R);0<x.i.length&&Br(x)}else ze[0]!="stop"&&ze[0]!="close"||Qs(x,7);else x.G==3&&(ze[0]=="stop"||ze[0]=="close"?ze[0]=="stop"?Qs(x,7):io(x):ze[0]!="noop"&&x.l&&x.l.ta(ze),x.v=0)}}Ni(4)}catch{}}var Th=class{constructor(d,_){this.g=d,this.map=_}};function Wl(d){this.l=d||10,m.PerformanceNavigationTiming?(d=m.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xl(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Kc(d){return d.h?1:d.g?d.g.size:0}function Oi(d,_){return d.h?d.h==_:d.g?d.g.has(_):!1}function Mi(d,_){d.g?d.g.add(_):d.h=_}function jn(d,_){d.h&&d.h==_?d.h=null:d.g&&d.g.has(_)&&d.g.delete(_)}Wl.prototype.cancel=function(){if(this.i=on(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function on(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let _=d.i;for(const x of d.g.values())_=_.concat(x.D);return _}return B(d.i)}function Fc(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(p(d)){for(var _=[],x=d.length,R=0;R<x;R++)_.push(d[R]);return _}_=[],x=0;for(R in d)_[x++]=d[R];return _}function Ah(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(p(d)||typeof d=="string"){var _=[];d=d.length;for(var x=0;x<d;x++)_.push(x);return _}_=[],x=0;for(const R in d)_[x++]=R;return _}}}function Ia(d,_){if(d.forEach&&typeof d.forEach=="function")d.forEach(_,void 0);else if(p(d)||typeof d=="string")Array.prototype.forEach.call(d,_,void 0);else for(var x=Ah(d),R=Fc(d),Q=R.length,te=0;te<Q;te++)_.call(void 0,R[te],x&&x[te],d)}var Zl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jr(d,_){if(d){d=d.split("&");for(var x=0;x<d.length;x++){var R=d[x].indexOf("="),Q=null;if(0<=R){var te=d[x].substring(0,R);Q=d[x].substring(R+1)}else te=d[x];_(te,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function qs(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof qs){this.h=d.h,Li(this,d.j),this.o=d.o,this.g=d.g,ja(this,d.s),this.l=d.l;var _=d.i,x=new ps;x.i=_.i,_.g&&(x.g=new Map(_.g),x.h=_.h),Dr(this,x),this.m=d.m}else d&&(_=String(d).match(Zl))?(this.h=!1,Li(this,_[1]||"",!0),this.o=Pi(_[2]||""),this.g=Pi(_[3]||"",!0),ja(this,_[4]),this.l=Pi(_[5]||"",!0),Dr(this,_[6]||"",!0),this.m=Pi(_[7]||"")):(this.h=!1,this.i=new ps(null,this.h))}qs.prototype.toString=function(){var d=[],_=this.j;_&&d.push(Dn(_,Jl,!0),":");var x=this.g;return(x||_=="file")&&(d.push("//"),(_=this.o)&&d.push(Dn(_,Jl,!0),"@"),d.push(encodeURIComponent(String(x)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.s,x!=null&&d.push(":",String(x))),(x=this.l)&&(this.g&&x.charAt(0)!="/"&&d.push("/"),d.push(Dn(x,x.charAt(0)=="/"?eo:Gc,!0))),(x=this.i.toString())&&d.push("?",x),(x=this.m)&&d.push("#",Dn(x,Nh)),d.join("")};function dt(d){return new qs(d)}function Li(d,_,x){d.j=x?Pi(_,!0):_,d.j&&(d.j=d.j.replace(/:$/,""))}function ja(d,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);d.s=_}else d.s=null}function Dr(d,_,x){_ instanceof ps?(d.i=_,to(d.i,d.h)):(x||(_=Dn(_,wh)),d.i=new ps(_,d.h))}function Fe(d,_,x){d.i.set(_,x)}function Da(d){return Fe(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Pi(d,_){return d?_?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Dn(d,_,x){return typeof d=="string"?(d=encodeURI(d).replace(_,Sh),x&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Sh(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Jl=/[#\/\?@]/g,Gc=/[#\?:]/g,eo=/[#\?]/g,wh=/[#\?@]/g,Nh=/#/g;function ps(d,_){this.h=this.g=null,this.i=d||null,this.j=!!_}function On(d){d.g||(d.g=new Map,d.h=0,d.i&&jr(d.i,function(_,x){d.add(decodeURIComponent(_.replace(/\+/g," ")),x)}))}s=ps.prototype,s.add=function(d,_){On(this),this.i=null,d=Gs(this,d);var x=this.g.get(d);return x||this.g.set(d,x=[]),x.push(_),this.h+=1,this};function Or(d,_){On(d),_=Gs(d,_),d.g.has(_)&&(d.i=null,d.h-=d.g.get(_).length,d.g.delete(_))}function Ks(d,_){return On(d),_=Gs(d,_),d.g.has(_)}s.forEach=function(d,_){On(this),this.g.forEach(function(x,R){x.forEach(function(Q){d.call(_,Q,R,this)},this)},this)},s.na=function(){On(this);const d=Array.from(this.g.values()),_=Array.from(this.g.keys()),x=[];for(let R=0;R<_.length;R++){const Q=d[R];for(let te=0;te<Q.length;te++)x.push(_[R])}return x},s.V=function(d){On(this);let _=[];if(typeof d=="string")Ks(this,d)&&(_=_.concat(this.g.get(Gs(this,d))));else{d=Array.from(this.g.values());for(let x=0;x<d.length;x++)_=_.concat(d[x])}return _},s.set=function(d,_){return On(this),this.i=null,d=Gs(this,d),Ks(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[_]),this.h+=1,this},s.get=function(d,_){return d?(d=this.V(d),0<d.length?String(d[0]):_):_};function Fs(d,_,x){Or(d,_),0<x.length&&(d.i=null,d.g.set(Gs(d,_),B(x)),d.h+=x.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],_=Array.from(this.g.keys());for(var x=0;x<_.length;x++){var R=_[x];const te=encodeURIComponent(String(R)),fe=this.V(R);for(R=0;R<fe.length;R++){var Q=te;fe[R]!==""&&(Q+="="+encodeURIComponent(String(fe[R]))),d.push(Q)}}return this.i=d.join("&")};function Gs(d,_){return _=String(_),d.j&&(_=_.toLowerCase()),_}function to(d,_){_&&!d.j&&(On(d),d.i=null,d.g.forEach(function(x,R){var Q=R.toLowerCase();R!=Q&&(Or(this,R),Fs(this,Q,x))},d)),d.j=_}function $c(d,_){const x=new ki;if(m.Image){const R=new Image;R.onload=C(Mn,x,"TestLoadImage: loaded",!0,_,R),R.onerror=C(Mn,x,"TestLoadImage: error",!1,_,R),R.onabort=C(Mn,x,"TestLoadImage: abort",!1,_,R),R.ontimeout=C(Mn,x,"TestLoadImage: timeout",!1,_,R),m.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=d}else _(!1)}function Oa(d,_){const x=new ki,R=new AbortController,Q=setTimeout(()=>{R.abort(),Mn(x,"TestPingServer: timeout",!1,_)},1e4);fetch(d,{signal:R.signal}).then(te=>{clearTimeout(Q),te.ok?Mn(x,"TestPingServer: ok",!0,_):Mn(x,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(Q),Mn(x,"TestPingServer: error",!1,_)})}function Mn(d,_,x,R,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),R(x)}catch{}}function Ma(){this.g=new ln}function ys(d,_,x){const R=x||"";try{Ia(d,function(Q,te){let fe=Q;y(Q)&&(fe=Fl(Q)),_.push(R+te+"="+encodeURIComponent(fe))})}catch(Q){throw _.push(R+"type="+encodeURIComponent("_badmap")),Q}}function Vi(d){this.l=d.Ub||null,this.j=d.eb||!1}O(Vi,Gl),Vi.prototype.g=function(){return new $s(this.l,this.j)},Vi.prototype.i=function(d){return function(){return d}}({});function $s(d,_){Nt.call(this),this.D=d,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O($s,Nt),s=$s.prototype,s.open=function(d,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=_,this.readyState=1,vs(this)},s.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(_.body=d),(this.D||m).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,_s(this)),this.readyState=0},s.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,vs(this)),this.g&&(this.readyState=3,vs(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;no(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function no(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}s.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var _=d.value?d.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!d.done}))&&(this.response=this.responseText+=_)}d.done?_s(this):vs(this),this.readyState==3&&no(this)}},s.Ra=function(d){this.g&&(this.response=this.responseText=d,_s(this))},s.Qa=function(d){this.g&&(this.response=d,_s(this))},s.ga=function(){this.g&&_s(this)};function _s(d){d.readyState=4,d.l=null,d.j=null,d.v=null,vs(d)}s.setRequestHeader=function(d,_){this.u.append(d,_)},s.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],_=this.h.entries();for(var x=_.next();!x.done;)x=x.value,d.push(x[0]+": "+x[1]),x=_.next();return d.join(`\r
`)};function vs(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty($s.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function so(d){let _="";return le(d,function(x,R){_+=R,_+=":",_+=x,_+=`\r
`}),_}function Vt(d,_,x){e:{for(R in x){var R=!1;break e}R=!0}R||(x=so(x),typeof d=="string"?x!=null&&encodeURIComponent(String(x)):Fe(d,_,x))}function Qe(d){Nt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(Qe,Nt);var Mr=/^https?$/i,La=["POST","PUT"];s=Qe.prototype,s.Ha=function(d){this.J=d},s.ea=function(d,_,x,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);_=_?_.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ka.g(),this.v=this.o?Uc(this.o):Uc(ka),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(_,String(d),!0),this.B=!1}catch(te){Qc(this,te);return}if(d=x||"",x=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var Q in R)x.set(Q,R[Q]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const te of R.keys())x.set(te,R.get(te));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(x.keys()).find(te=>te.toLowerCase()=="content-type"),Q=m.FormData&&d instanceof m.FormData,!(0<=Array.prototype.indexOf.call(La,_,void 0))||R||Q||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[te,fe]of x)this.g.setRequestHeader(te,fe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Pa(this),this.u=!0,this.g.send(d),this.u=!1}catch(te){Qc(this,te)}};function Qc(d,_){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=_,d.m=5,Lr(d),xs(d)}function Lr(d){d.A||(d.A=!0,Lt(d,"complete"),Lt(d,"error"))}s.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Lt(this,"complete"),Lt(this,"abort"),xs(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xs(this,!0)),Qe.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Pr(this):this.bb())},s.bb=function(){Pr(this)};function Pr(d){if(d.h&&typeof h<"u"&&(!d.v[1]||Ln(d)!=4||d.Z()!=2)){if(d.u&&Ln(d)==4)Vc(d.Ea,0,d);else if(Lt(d,"readystatechange"),Ln(d)==4){d.h=!1;try{const fe=d.Z();e:switch(fe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var x;if(!(x=_)){var R;if(R=fe===0){var Q=String(d.D).match(Zl)[1]||null;!Q&&m.self&&m.self.location&&(Q=m.self.location.protocol.slice(0,-1)),R=!Mr.test(Q?Q.toLowerCase():"")}x=R}if(x)Lt(d,"complete"),Lt(d,"success");else{d.m=6;try{var te=2<Ln(d)?d.g.statusText:""}catch{te=""}d.l=te+" ["+d.Z()+"]",Lr(d)}}finally{xs(d)}}}}function xs(d,_){if(d.g){Pa(d);const x=d.g,R=d.v[0]?()=>{}:null;d.g=null,d.v=null,_||Lt(d,"ready");try{x.onreadystatechange=R}catch{}}}function Pa(d){d.I&&(m.clearTimeout(d.I),d.I=null)}s.isActive=function(){return!!this.g};function Ln(d){return d.g?d.g.readyState:0}s.Z=function(){try{return 2<Ln(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(d){if(this.g){var _=this.g.responseText;return d&&_.indexOf(d)==0&&(_=_.substring(d.length)),hs(_)}};function Yc(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Rh(d){const _={};d=(d.g&&2<=Ln(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<d.length;R++){if(q(d[R]))continue;var x=D(d[R]);const Q=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const te=_[Q]||[];_[Q]=te,te.push(x)}V(_,function(R){return R.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Va(d,_,x){return x&&x.internalChannelParams&&x.internalChannelParams[d]||_}function Vr(d){this.Aa=0,this.i=[],this.j=new ki,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Va("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Va("baseRetryDelayMs",5e3,d),this.cb=Va("retryDelaySeedMs",1e4,d),this.Wa=Va("forwardChannelMaxRetries",2,d),this.wa=Va("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Wl(d&&d.concurrentRequestLimit),this.Da=new Ma,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=Vr.prototype,s.la=8,s.G=1,s.connect=function(d,_,x,R){_t(0),this.W=d,this.H=_||{},x&&R!==void 0&&(this.H.OSID=x,this.H.OAID=R),this.F=this.X,this.I=nu(this,null,this.W),Br(this)};function io(d){if(Wc(d),d.G==3){var _=d.U++,x=dt(d.I);if(Fe(x,"SID",d.K),Fe(x,"RID",_),Fe(x,"TYPE","terminate"),Ua(d,x),_=new gs(d,d.j,_),_.L=2,_.v=Da(dt(x)),x=!1,m.navigator&&m.navigator.sendBeacon)try{x=m.navigator.sendBeacon(_.v.toString(),"")}catch{}!x&&m.Image&&(new Image().src=_.v,x=!0),x||(_.g=su(_.j,null),_.g.ea(_.v)),_.F=Date.now(),rt(_)}tu(d)}function Ur(d){d.g&&(Ba(d),d.g.cancel(),d.g=null)}function Wc(d){Ur(d),d.u&&(m.clearTimeout(d.u),d.u=null),zr(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&m.clearTimeout(d.s),d.s=null)}function Br(d){if(!Xl(d.h)&&!d.s){d.s=!0;var _=d.Ga;re||M(),ae||(re(),ae=!0),he.add(_,d),d.B=0}}function kh(d,_){return Kc(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=_.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Ri(A(d.Ga,d,_),lo(d,d.B)),d.B++,!0)}s.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const Q=new gs(this,this.j,d);let te=this.o;if(this.S&&(te?(te=k(te),S(te,this.S)):te=this.S),this.m!==null||this.O||(Q.H=te,te=null),this.P)e:{for(var _=0,x=0;x<this.i.length;x++){t:{var R=this.i[x];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(_+=R,4096<_){_=x;break e}if(_===4096||x===this.i.length-1){_=x+1;break e}}_=1e3}else _=1e3;_=Xc(this,Q,_),x=dt(this.I),Fe(x,"RID",d),Fe(x,"CVER",22),this.D&&Fe(x,"X-HTTP-Session-Id",this.D),Ua(this,x),te&&(this.O?_="headers="+encodeURIComponent(String(so(te)))+"&"+_:this.m&&Vt(x,this.m,te)),Mi(this.h,Q),this.Ua&&Fe(x,"TYPE","init"),this.P?(Fe(x,"$req",_),Fe(x,"SID","null"),Q.T=!0,Jn(Q,x,null)):Jn(Q,x,_),this.G=2}}else this.G==3&&(d?ao(this,d):this.i.length==0||Xl(this.h)||ao(this))};function ao(d,_){var x;_?x=_.l:x=d.U++;const R=dt(d.I);Fe(R,"SID",d.K),Fe(R,"RID",x),Fe(R,"AID",d.T),Ua(d,R),d.m&&d.o&&Vt(R,d.m,d.o),x=new gs(d,d.j,x,d.B+1),d.m===null&&(x.H=d.o),_&&(d.i=_.D.concat(d.i)),_=Xc(d,x,1e3),x.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Mi(d.h,x),Jn(x,R,_)}function Ua(d,_){d.H&&le(d.H,function(x,R){Fe(_,R,x)}),d.l&&Ia({},function(x,R){Fe(_,R,x)})}function Xc(d,_,x){x=Math.min(d.i.length,x);var R=d.l?A(d.l.Na,d.l,d):null;e:{var Q=d.i;let te=-1;for(;;){const fe=["count="+x];te==-1?0<x?(te=Q[0].g,fe.push("ofs="+te)):te=0:fe.push("ofs="+te);let Be=!0;for(let kt=0;kt<x;kt++){let ze=Q[kt].g;const Ut=Q[kt].map;if(ze-=te,0>ze)te=Math.max(0,Q[kt].g-100),Be=!1;else try{ys(Ut,fe,"req"+ze+"_")}catch{R&&R(Ut)}}if(Be){R=fe.join("&");break e}}}return d=d.i.splice(0,x),_.D=d,R}function Zc(d){if(!d.g&&!d.u){d.Y=1;var _=d.Fa;re||M(),ae||(re(),ae=!0),he.add(_,d),d.v=0}}function ro(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Ri(A(d.Fa,d),lo(d,d.v)),d.v++,!0)}s.Fa=function(){if(this.u=null,Jc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Ri(A(this.ab,this),d)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,_t(10),Ur(this),Jc(this))};function Ba(d){d.A!=null&&(m.clearTimeout(d.A),d.A=null)}function Jc(d){d.g=new gs(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var _=dt(d.qa);Fe(_,"RID","rpc"),Fe(_,"SID",d.K),Fe(_,"AID",d.T),Fe(_,"CI",d.F?"0":"1"),!d.F&&d.ja&&Fe(_,"TO",d.ja),Fe(_,"TYPE","xmlhttp"),Ua(d,_),d.m&&d.o&&Vt(_,d.m,d.o),d.L&&(d.g.I=d.L);var x=d.g;d=d.ia,x.L=1,x.v=Da(dt(_)),x.m=null,x.P=!0,Hs(x,d)}s.Za=function(){this.C!=null&&(this.C=null,Ur(this),ro(this),_t(19))};function zr(d){d.C!=null&&(m.clearTimeout(d.C),d.C=null)}function eu(d,_){var x=null;if(d.g==_){zr(d),Ba(d),d.g=null;var R=2}else if(Oi(d.h,_))x=_.D,jn(d.h,_),R=1;else return;if(d.G!=0){if(_.o)if(R==1){x=_.m?_.m.length:0,_=Date.now()-_.F;var Q=d.B;R=Rr(),Lt(R,new zc(R,x)),Br(d)}else Zc(d);else if(Q=_.s,Q==3||Q==0&&0<_.X||!(R==1&&kh(d,_)||R==2&&ro(d)))switch(x&&0<x.length&&(_=d.h,_.i=_.i.concat(x)),Q){case 1:Qs(d,5);break;case 4:Qs(d,10);break;case 3:Qs(d,6);break;default:Qs(d,2)}}}function lo(d,_){let x=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(x*=2),x*_}function Qs(d,_){if(d.j.info("Error code "+_),_==2){var x=A(d.fb,d),R=d.Xa;const Q=!R;R=new qs(R||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Li(R,"https"),Da(R),Q?$c(R.toString(),x):Oa(R.toString(),x)}else _t(2);d.G=0,d.l&&d.l.sa(_),tu(d),Wc(d)}s.fb=function(d){d?(this.j.info("Successfully pinged google.com"),_t(2)):(this.j.info("Failed to ping google.com"),_t(1))};function tu(d){if(d.G=0,d.ka=[],d.l){const _=on(d.h);(_.length!=0||d.i.length!=0)&&(j(d.ka,_),j(d.ka,d.i),d.h.i.length=0,B(d.i),d.i.length=0),d.l.ra()}}function nu(d,_,x){var R=x instanceof qs?dt(x):new qs(x);if(R.g!="")_&&(R.g=_+"."+R.g),ja(R,R.s);else{var Q=m.location;R=Q.protocol,_=_?_+"."+Q.hostname:Q.hostname,Q=+Q.port;var te=new qs(null);R&&Li(te,R),_&&(te.g=_),Q&&ja(te,Q),x&&(te.l=x),R=te}return x=d.D,_=d.ya,x&&_&&Fe(R,x,_),Fe(R,"VER",d.la),Ua(d,R),R}function su(d,_,x){if(_&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=d.Ca&&!d.pa?new Qe(new Vi({eb:x})):new Qe(d.pa),_.Ha(d.J),_}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function iu(){}s=iu.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function Hr(){}Hr.prototype.g=function(d,_){return new cn(d,_)};function cn(d,_){Nt.call(this),this.g=new Vr(_),this.l=d,this.h=_&&_.messageUrlParams||null,d=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(d?d["X-WebChannel-Content-Type"]=_.messageContentType:d={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(d?d["X-WebChannel-Client-Profile"]=_.va:d={"X-WebChannel-Client-Profile":_.va}),this.g.S=d,(d=_&&_.Sb)&&!q(d)&&(this.g.m=d),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!q(_)&&(this.g.D=_,d=this.h,d!==null&&_ in d&&(d=this.h,_ in d&&delete d[_])),this.j=new Es(this)}O(cn,Nt),cn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){io(this.g)},cn.prototype.o=function(d){var _=this.g;if(typeof d=="string"){var x={};x.__data__=d,d=x}else this.u&&(x={},x.__data__=Fl(d),d=x);_.i.push(new Th(_.Ya++,d)),_.G==3&&Br(_)},cn.prototype.N=function(){this.g.l=null,delete this.j,io(this.g),delete this.g,cn.aa.N.call(this)};function au(d){Si.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var _=d.__sm__;if(_){e:{for(const x in _){d=x;break e}d=void 0}(this.i=d)&&(d=this.i,_=_!==null&&d in _?_[d]:void 0),this.data=_}else this.data=d}O(au,Si);function ru(){Zn.call(this),this.status=1}O(ru,Zn);function Es(d){this.g=d}O(Es,iu),Es.prototype.ua=function(){Lt(this.g,"a")},Es.prototype.ta=function(d){Lt(this.g,new au(d))},Es.prototype.sa=function(d){Lt(this.g,new ru)},Es.prototype.ra=function(){Lt(this.g,"b")},Hr.prototype.createWebChannel=Hr.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,nE=function(){return new Hr},tE=function(){return Rr()},eE=In,Qm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Rt.NO_ERROR=0,Rt.TIMEOUT=8,Rt.HTTP_ERROR=6,yd=Rt,zs.COMPLETE="complete",J0=zs,Bc.EventType=fs,fs.OPEN="a",fs.CLOSE="b",fs.ERROR="c",fs.MESSAGE="d",Nt.prototype.listen=Nt.prototype.K,tc=Bc,Qe.prototype.listenOnce=Qe.prototype.L,Qe.prototype.getLastError=Qe.prototype.Ka,Qe.prototype.getLastErrorCode=Qe.prototype.Ba,Qe.prototype.getStatus=Qe.prototype.Z,Qe.prototype.getResponseJson=Qe.prototype.Oa,Qe.prototype.getResponseText=Qe.prototype.oa,Qe.prototype.send=Qe.prototype.ea,Qe.prototype.setWithCredentials=Qe.prototype.Ha,Z0=Qe}).apply(typeof ad<"u"?ad:typeof self<"u"?self:typeof window<"u"?window:{});const tx="@firebase/firestore",nx="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ml="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dr=new wg("@firebase/firestore");function gl(){return dr.logLevel}function ye(s,...e){if(dr.logLevel<=Le.DEBUG){const n=e.map(kg);dr.debug(`Firestore (${Ml}): ${s}`,...n)}}function _i(s,...e){if(dr.logLevel<=Le.ERROR){const n=e.map(kg);dr.error(`Firestore (${Ml}): ${s}`,...n)}}function Al(s,...e){if(dr.logLevel<=Le.WARN){const n=e.map(kg);dr.warn(`Firestore (${Ml}): ${s}`,...n)}}function kg(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(s="Unexpected state"){const e=`FIRESTORE (${Ml}) INTERNAL ASSERTION FAILED: `+s;throw _i(e),new Error(e)}function We(s,e){s||Se()}function Ie(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends Ls{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class xR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(nn.UNAUTHENTICATED))}shutdown(){}}class ER{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class bR{constructor(e){this.t=e,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){We(this.o===void 0);let a=this.i;const l=p=>this.i!==a?(a=this.i,n(p)):Promise.resolve();let c=new gi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new gi,e.enqueueRetryable(()=>l(this.currentUser))};const h=()=>{const p=c;e.enqueueRetryable(async()=>{await p.promise,await l(this.currentUser)})},m=p=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new gi)}},0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(a=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(We(typeof a.accessToken=="string"),new sE(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string"),new nn(e)}}class TR{constructor(e,n,a){this.l=e,this.h=n,this.P=a,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class AR{constructor(e,n,a){this.l=e,this.h=n,this.P=a}getToken(){return Promise.resolve(new TR(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(nn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class sx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class SR{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Nn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){We(this.o===void 0);const a=c=>{c.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const h=c.token!==this.R;return this.R=c.token,ye("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>a(c))};const l=c=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>l(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?l(c):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new sx(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(We(typeof n.token=="string"),this.R=n.token,new sx(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<s;a++)n[a]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=wR(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<n&&(a+=e.charAt(l[c]%62))}return a}}function Ue(s,e){return s<e?-1:s>e?1:0}function Sl(s,e,n){return s.length===e.length&&s.every((a,l)=>n(a,e[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix=-62135596800,ax=1e6;class Ot{static now(){return Ot.fromMillis(Date.now())}static fromDate(e){return Ot.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor((e-1e3*n)*ax);return new Ot(n,a)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new _e(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new _e(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<ix)throw new _e(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ax}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-ix;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new Ot(0,0))}static max(){return new Re(new Ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rx="__name__";class Rs{constructor(e,n,a){n===void 0?n=0:n>e.length&&Se(),a===void 0?a=e.length-n:a>e.length-n&&Se(),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return Rs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Rs?e.forEach(a=>{n.push(a)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let l=0;l<a;l++){const c=Rs.compareSegments(e.get(l),n.get(l));if(c!==0)return c}return Math.sign(e.length-n.length)}static compareSegments(e,n){const a=Rs.isNumericId(e),l=Rs.isNumericId(n);return a&&!l?-1:!a&&l?1:a&&l?Rs.extractNumericId(e).compare(Rs.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ma.fromString(e.substring(4,e.length-2))}}class st extends Rs{construct(e,n,a){return new st(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new _e(ce.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter(l=>l.length>0))}return new st(n)}static emptyPath(){return new st([])}}const NR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends Rs{construct(e,n,a){return new Yt(e,n,a)}static isValidIdentifier(e){return NR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===rx}static keyField(){return new Yt([rx])}static fromServerFormat(e){const n=[];let a="",l=0;const c=()=>{if(a.length===0)throw new _e(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let h=!1;for(;l<e.length;){const m=e[l];if(m==="\\"){if(l+1===e.length)throw new _e(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new _e(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=p,l+=2}else m==="`"?(h=!h,l++):m!=="."||h?(a+=m,l++):(c(),l++)}if(c(),h)throw new _e(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(n)}static emptyPath(){return new Yt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.path=e}static fromPath(e){return new be(st.fromString(e))}static fromName(e){return new be(st.fromString(e).popFirst(5))}static empty(){return new be(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return st.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new st(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fc=-1;function RR(s,e){const n=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=Re.fromTimestamp(a===1e9?new Ot(n+1,0):new Ot(n,a));return new _a(l,be.empty(),e)}function kR(s){return new _a(s.readTime,s.key,fc)}class _a{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new _a(Re.min(),be.empty(),fc)}static max(){return new _a(Re.max(),be.empty(),fc)}}function CR(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=be.comparator(s.documentKey,e.documentKey),n!==0?n:Ue(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ll(s){if(s.code!==ce.FAILED_PRECONDITION||s.message!==IR)throw s;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ue((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(n,c).next(a,l)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ue?n:ue.resolve(n)}catch(n){return ue.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ue.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ue.reject(n)}static resolve(e){return new ue((n,a)=>{n(e)})}static reject(e){return new ue((n,a)=>{a(e)})}static waitFor(e){return new ue((n,a)=>{let l=0,c=0,h=!1;e.forEach(m=>{++l,m.next(()=>{++c,h&&c===l&&n()},p=>a(p))}),h=!0,c===l&&n()})}static or(e){let n=ue.resolve(!1);for(const a of e)n=n.next(l=>l?ue.resolve(l):a());return n}static forEach(e,n){const a=[];return e.forEach((l,c)=>{a.push(n.call(this,l,c))}),this.waitFor(a)}static mapArray(e,n){return new ue((a,l)=>{const c=e.length,h=new Array(c);let m=0;for(let p=0;p<c;p++){const y=p;n(e[y]).next(v=>{h[y]=v,++m,m===c&&a(h)},v=>l(v))}})}static doWhile(e,n){return new ue((a,l)=>{const c=()=>{e()===!0?n().next(()=>{c()},l):a()};c()})}}function DR(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Pl(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this.oe(a),this._e=a=>n.writeSequenceNumber(a))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Xd.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cg=-1;function Zd(s){return s==null}function Id(s){return s===0&&1/s==-1/0}function OR(s){return typeof s=="number"&&Number.isInteger(s)&&!Id(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE="";function MR(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=lx(e)),e=LR(s.get(n),e);return lx(e)}function LR(s,e){let n=e;const a=s.length;for(let l=0;l<a;l++){const c=s.charAt(l);switch(c){case"\0":n+="";break;case aE:n+="";break;default:n+=c}}return n}function lx(s){return s+aE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ox(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function Aa(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function rE(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,n){this.comparator=e,this.root=n||Qt.EMPTY}insert(e,n){return new ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(e,a.key);if(l===0)return n+a.left.size;l<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,a)=>(e(n,a),!1))}toString(){const e=[];return this.inorderTraversal((n,a)=>(e.push(`${n}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new rd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new rd(this.root,e,this.comparator,!1)}getReverseIterator(){return new rd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new rd(this.root,e,this.comparator,!0)}}class rd{constructor(e,n,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?a(e.key,n):1,n&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,n,a,l,c){this.key=e,this.value=n,this.color=a??Qt.RED,this.left=l??Qt.EMPTY,this.right=c??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,l,c){return new Qt(e??this.key,n??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let l=this;const c=a(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,n,a),null):c===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(e,l.key)===0){if(l.right.isEmpty())return Qt.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Se();const e=this.left.check();if(e!==this.right.check())throw Se();return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw Se()}get value(){throw Se()}get color(){throw Se()}get left(){throw Se()}get right(){throw Se()}copy(e,n,a,l,c){return this}insert(e,n,a){return new Qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,a)=>(e(n),!1))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new cx(this.data.getIterator())}getIteratorFrom(e){return new cx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(a=>{n=n.add(a)}),n}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Mt(this.comparator);return n.data=e,n}}class cx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new Rn([])}unionWith(e){let n=new Mt(Yt.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new Rn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Sl(this.fields,e.fields,(n,a)=>n.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new lE("Invalid base64 string: "+c):c}}(e);return new Xt(n)}static fromUint8Array(e){const n=function(l){let c="";for(let h=0;h<l.length;++h)c+=String.fromCharCode(l[h]);return c}(e);return new Xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const a=new Uint8Array(n.length);for(let l=0;l<n.length;l++)a[l]=n.charCodeAt(l);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const PR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function va(s){if(We(!!s),typeof s=="string"){let e=0;const n=PR.exec(s);if(We(!!n),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:xt(s.seconds),nanos:xt(s.nanos)}}function xt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function xa(s){return typeof s=="string"?Xt.fromBase64String(s):Xt.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE="server_timestamp",cE="__type__",uE="__previous_value__",dE="__local_write_time__";function Ig(s){var e,n;return((n=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[cE])===null||n===void 0?void 0:n.stringValue)===oE}function Jd(s){const e=s.mapValue.fields[uE];return Ig(e)?Jd(e):e}function mc(s){const e=va(s.mapValue.fields[dE].timestampValue);return new Ot(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e,n,a,l,c,h,m,p,y){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y}}const jd="(default)";class gc{constructor(e,n){this.projectId=e,this.database=n||jd}static empty(){return new gc("","")}get isDefaultDatabase(){return this.database===jd}isEqual(e){return e instanceof gc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE="__type__",UR="__max__",ld={mapValue:{}},fE="__vector__",Dd="value";function Ea(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Ig(s)?4:zR(s)?9007199254740991:BR(s)?10:11:Se()}function Ms(s,e){if(s===e)return!0;const n=Ea(s);if(n!==Ea(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return mc(s).isEqual(mc(e));case 3:return function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const h=va(l.timestampValue),m=va(c.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(l,c){return xa(l.bytesValue).isEqual(xa(c.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(l,c){return xt(l.geoPointValue.latitude)===xt(c.geoPointValue.latitude)&&xt(l.geoPointValue.longitude)===xt(c.geoPointValue.longitude)}(s,e);case 2:return function(l,c){if("integerValue"in l&&"integerValue"in c)return xt(l.integerValue)===xt(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const h=xt(l.doubleValue),m=xt(c.doubleValue);return h===m?Id(h)===Id(m):isNaN(h)&&isNaN(m)}return!1}(s,e);case 9:return Sl(s.arrayValue.values||[],e.arrayValue.values||[],Ms);case 10:case 11:return function(l,c){const h=l.mapValue.fields||{},m=c.mapValue.fields||{};if(ox(h)!==ox(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!Ms(h[p],m[p])))return!1;return!0}(s,e);default:return Se()}}function pc(s,e){return(s.values||[]).find(n=>Ms(n,e))!==void 0}function wl(s,e){if(s===e)return 0;const n=Ea(s),a=Ea(e);if(n!==a)return Ue(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ue(s.booleanValue,e.booleanValue);case 2:return function(c,h){const m=xt(c.integerValue||c.doubleValue),p=xt(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(s,e);case 3:return ux(s.timestampValue,e.timestampValue);case 4:return ux(mc(s),mc(e));case 5:return Ue(s.stringValue,e.stringValue);case 6:return function(c,h){const m=xa(c),p=xa(h);return m.compareTo(p)}(s.bytesValue,e.bytesValue);case 7:return function(c,h){const m=c.split("/"),p=h.split("/");for(let y=0;y<m.length&&y<p.length;y++){const v=Ue(m[y],p[y]);if(v!==0)return v}return Ue(m.length,p.length)}(s.referenceValue,e.referenceValue);case 8:return function(c,h){const m=Ue(xt(c.latitude),xt(h.latitude));return m!==0?m:Ue(xt(c.longitude),xt(h.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return dx(s.arrayValue,e.arrayValue);case 10:return function(c,h){var m,p,y,v;const T=c.fields||{},A=h.fields||{},C=(m=T[Dd])===null||m===void 0?void 0:m.arrayValue,O=(p=A[Dd])===null||p===void 0?void 0:p.arrayValue,B=Ue(((y=C==null?void 0:C.values)===null||y===void 0?void 0:y.length)||0,((v=O==null?void 0:O.values)===null||v===void 0?void 0:v.length)||0);return B!==0?B:dx(C,O)}(s.mapValue,e.mapValue);case 11:return function(c,h){if(c===ld.mapValue&&h===ld.mapValue)return 0;if(c===ld.mapValue)return 1;if(h===ld.mapValue)return-1;const m=c.fields||{},p=Object.keys(m),y=h.fields||{},v=Object.keys(y);p.sort(),v.sort();for(let T=0;T<p.length&&T<v.length;++T){const A=Ue(p[T],v[T]);if(A!==0)return A;const C=wl(m[p[T]],y[v[T]]);if(C!==0)return C}return Ue(p.length,v.length)}(s.mapValue,e.mapValue);default:throw Se()}}function ux(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Ue(s,e);const n=va(s),a=va(e),l=Ue(n.seconds,a.seconds);return l!==0?l:Ue(n.nanos,a.nanos)}function dx(s,e){const n=s.values||[],a=e.values||[];for(let l=0;l<n.length&&l<a.length;++l){const c=wl(n[l],a[l]);if(c)return c}return Ue(n.length,a.length)}function Nl(s){return Ym(s)}function Ym(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(n){const a=va(n);return`time(${a.seconds},${a.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(n){return xa(n).toBase64()}(s.bytesValue):"referenceValue"in s?function(n){return be.fromName(n).toString()}(s.referenceValue):"geoPointValue"in s?function(n){return`geo(${n.latitude},${n.longitude})`}(s.geoPointValue):"arrayValue"in s?function(n){let a="[",l=!0;for(const c of n.values||[])l?l=!1:a+=",",a+=Ym(c);return a+"]"}(s.arrayValue):"mapValue"in s?function(n){const a=Object.keys(n.fields||{}).sort();let l="{",c=!0;for(const h of a)c?c=!1:l+=",",l+=`${h}:${Ym(n.fields[h])}`;return l+"}"}(s.mapValue):Se()}function _d(s){switch(Ea(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Jd(s);return e?16+_d(e):16;case 5:return 2*s.stringValue.length;case 6:return xa(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((l,c)=>l+_d(c),0)}(s.arrayValue);case 10:case 11:return function(a){let l=0;return Aa(a.fields,(c,h)=>{l+=c.length+_d(h)}),l}(s.mapValue);default:throw Se()}}function hx(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Wm(s){return!!s&&"integerValue"in s}function jg(s){return!!s&&"arrayValue"in s}function fx(s){return!!s&&"nullValue"in s}function mx(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function vd(s){return!!s&&"mapValue"in s}function BR(s){var e,n;return((n=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[hE])===null||n===void 0?void 0:n.stringValue)===fE}function ac(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return Aa(s.mapValue.fields,(n,a)=>e.mapValue.fields[n]=ac(a)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ac(s.arrayValue.values[n]);return e}return Object.assign({},s)}function zR(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===UR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.value=e}static empty(){return new vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!vd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ac(n)}setAll(e){let n=Yt.emptyPath(),a={},l=[];e.forEach((h,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,a,l),a={},l=[],n=m.popLast()}h?a[m.lastSegment()]=ac(h):l.push(m.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,a,l)}delete(e){const n=this.field(e.popLast());vd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ms(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let l=n.mapValue.fields[e.get(a)];vd(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,a){Aa(n,(l,c)=>e[l]=c);for(const l of a)delete e[l]}clone(){return new vn(ac(this.value))}}function mE(s){const e=[];return Aa(s.fields,(n,a)=>{const l=new Yt([n]);if(vd(a)){const c=mE(a.mapValue).fields;if(c.length===0)e.push(l);else for(const h of c)e.push(l.child(h))}else e.push(l)}),new Rn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e,n,a,l,c,h,m){this.key=e,this.documentType=n,this.version=a,this.readTime=l,this.createTime=c,this.data=h,this.documentState=m}static newInvalidDocument(e){return new sn(e,0,Re.min(),Re.min(),Re.min(),vn.empty(),0)}static newFoundDocument(e,n,a,l){return new sn(e,1,n,Re.min(),a,l,0)}static newNoDocument(e,n){return new sn(e,2,n,Re.min(),Re.min(),vn.empty(),0)}static newUnknownDocument(e,n){return new sn(e,3,n,Re.min(),Re.min(),vn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e,n){this.position=e,this.inclusive=n}}function gx(s,e,n){let a=0;for(let l=0;l<s.position.length;l++){const c=e[l],h=s.position[l];if(c.field.isKeyField()?a=be.comparator(be.fromName(h.referenceValue),n.key):a=wl(h,n.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function px(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!Ms(s.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,n="asc"){this.field=e,this.dir=n}}function HR(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{}class wt extends gE{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new KR(e,n,a):n==="array-contains"?new $R(e,a):n==="in"?new QR(e,a):n==="not-in"?new YR(e,a):n==="array-contains-any"?new WR(e,a):new wt(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new FR(e,a):new GR(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(wl(n,this.value)):n!==null&&Ea(this.value)===Ea(n)&&this.matchesComparison(wl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class as extends gE{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new as(e,n)}matches(e){return pE(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function pE(s){return s.op==="and"}function yE(s){return qR(s)&&pE(s)}function qR(s){for(const e of s.filters)if(e instanceof as)return!1;return!0}function Xm(s){if(s instanceof wt)return s.field.canonicalString()+s.op.toString()+Nl(s.value);if(yE(s))return s.filters.map(e=>Xm(e)).join(",");{const e=s.filters.map(n=>Xm(n)).join(",");return`${s.op}(${e})`}}function _E(s,e){return s instanceof wt?function(a,l){return l instanceof wt&&a.op===l.op&&a.field.isEqual(l.field)&&Ms(a.value,l.value)}(s,e):s instanceof as?function(a,l){return l instanceof as&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce((c,h,m)=>c&&_E(h,l.filters[m]),!0):!1}(s,e):void Se()}function vE(s){return s instanceof wt?function(n){return`${n.field.canonicalString()} ${n.op} ${Nl(n.value)}`}(s):s instanceof as?function(n){return n.op.toString()+" {"+n.getFilters().map(vE).join(" ,")+"}"}(s):"Filter"}class KR extends wt{constructor(e,n,a){super(e,n,a),this.key=be.fromName(a.referenceValue)}matches(e){const n=be.comparator(e.key,this.key);return this.matchesComparison(n)}}class FR extends wt{constructor(e,n){super(e,"in",n),this.keys=xE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class GR extends wt{constructor(e,n){super(e,"not-in",n),this.keys=xE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function xE(s,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(a=>be.fromName(a.referenceValue))}class $R extends wt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return jg(n)&&pc(n.arrayValue,this.value)}}class QR extends wt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&pc(this.value.arrayValue,n)}}class YR extends wt{constructor(e,n){super(e,"not-in",n)}matches(e){if(pc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!pc(this.value.arrayValue,n)}}class WR extends wt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!jg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(a=>pc(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e,n=null,a=[],l=[],c=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=h,this.endAt=m,this.le=null}}function yx(s,e=null,n=[],a=[],l=null,c=null,h=null){return new XR(s,e,n,a,l,c,h)}function Dg(s){const e=Ie(s);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(a=>Xm(a)).join(","),n+="|ob:",n+=e.orderBy.map(a=>function(c){return c.field.canonicalString()+c.dir}(a)).join(","),Zd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(a=>Nl(a)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(a=>Nl(a)).join(",")),e.le=n}return e.le}function Og(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!HR(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!_E(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!px(s.startAt,e.startAt)&&px(s.endAt,e.endAt)}function Zm(s){return be.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(e,n=null,a=[],l=[],c=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=h,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function ZR(s,e,n,a,l,c,h,m){return new Vl(s,e,n,a,l,c,h,m)}function Mg(s){return new Vl(s)}function _x(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function EE(s){return s.collectionGroup!==null}function rc(s){const e=Ie(s);if(e.he===null){e.he=[];const n=new Set;for(const c of e.explicitOrderBy)e.he.push(c),n.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Mt(Yt.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(e).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||e.he.push(new yc(c,a))}),n.has(Yt.keyField().canonicalString())||e.he.push(new yc(Yt.keyField(),a))}return e.he}function Is(s){const e=Ie(s);return e.Pe||(e.Pe=JR(e,rc(s))),e.Pe}function JR(s,e){if(s.limitType==="F")return yx(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(l=>{const c=l.dir==="desc"?"asc":"desc";return new yc(l.field,c)});const n=s.endAt?new Od(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new Od(s.startAt.position,s.startAt.inclusive):null;return yx(s.path,s.collectionGroup,e,s.filters,s.limit,n,a)}}function Jm(s,e){const n=s.filters.concat([e]);return new Vl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function eg(s,e,n){return new Vl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function eh(s,e){return Og(Is(s),Is(e))&&s.limitType===e.limitType}function bE(s){return`${Dg(Is(s))}|lt:${s.limitType}`}function pl(s){return`Query(target=${function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map(l=>vE(l)).join(", ")}]`),Zd(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map(l=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(l)).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map(l=>Nl(l)).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map(l=>Nl(l)).join(",")),`Target(${a})`}(Is(s))}; limitType=${s.limitType})`}function th(s,e){return e.isFoundDocument()&&function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):be.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)}(s,e)&&function(a,l){for(const c of rc(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0}(s,e)&&function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0}(s,e)&&function(a,l){return!(a.startAt&&!function(h,m,p){const y=gx(h,m,p);return h.inclusive?y<=0:y<0}(a.startAt,rc(a),l)||a.endAt&&!function(h,m,p){const y=gx(h,m,p);return h.inclusive?y>=0:y>0}(a.endAt,rc(a),l))}(s,e)}function ek(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function TE(s){return(e,n)=>{let a=!1;for(const l of rc(s)){const c=tk(l,e,n);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function tk(s,e,n){const a=s.field.isKeyField()?be.comparator(e.key,n.key):function(c,h,m){const p=h.data.field(c),y=m.data.field(c);return p!==null&&y!==null?wl(p,y):Se()}(s.field,e,n);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return Se()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),l=this.inner[a];if(l===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return a.length===1?delete this.inner[n]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Aa(this.inner,(n,a)=>{for(const[l,c]of a)e(l,c)})}isEmpty(){return rE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nk=new ct(be.comparator);function vi(){return nk}const AE=new ct(be.comparator);function nc(...s){let e=AE;for(const n of s)e=e.insert(n.key,n);return e}function SE(s){let e=AE;return s.forEach((n,a)=>e=e.insert(n,a.overlayedDocument)),e}function lr(){return lc()}function wE(){return lc()}function lc(){return new _r(s=>s.toString(),(s,e)=>s.isEqual(e))}const sk=new ct(be.comparator),ik=new Mt(be.comparator);function Pe(...s){let e=ik;for(const n of s)e=e.add(n);return e}const ak=new Mt(Ue);function rk(){return ak}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lg(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Id(e)?"-0":e}}function NE(s){return{integerValue:""+s}}function lk(s,e){return OR(e)?NE(e):Lg(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(){this._=void 0}}function ok(s,e,n){return s instanceof Md?function(l,c){const h={fields:{[cE]:{stringValue:oE},[dE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Ig(c)&&(c=Jd(c)),c&&(h.fields[uE]=c),{mapValue:h}}(n,e):s instanceof _c?kE(s,e):s instanceof vc?CE(s,e):function(l,c){const h=RE(l,c),m=vx(h)+vx(l.Ie);return Wm(h)&&Wm(l.Ie)?NE(m):Lg(l.serializer,m)}(s,e)}function ck(s,e,n){return s instanceof _c?kE(s,e):s instanceof vc?CE(s,e):n}function RE(s,e){return s instanceof Ld?function(a){return Wm(a)||function(c){return!!c&&"doubleValue"in c}(a)}(e)?e:{integerValue:0}:null}class Md extends nh{}class _c extends nh{constructor(e){super(),this.elements=e}}function kE(s,e){const n=IE(e);for(const a of s.elements)n.some(l=>Ms(l,a))||n.push(a);return{arrayValue:{values:n}}}class vc extends nh{constructor(e){super(),this.elements=e}}function CE(s,e){let n=IE(e);for(const a of s.elements)n=n.filter(l=>!Ms(l,a));return{arrayValue:{values:n}}}class Ld extends nh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function vx(s){return xt(s.integerValue||s.doubleValue)}function IE(s){return jg(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function uk(s,e){return s.field.isEqual(e.field)&&function(a,l){return a instanceof _c&&l instanceof _c||a instanceof vc&&l instanceof vc?Sl(a.elements,l.elements,Ms):a instanceof Ld&&l instanceof Ld?Ms(a.Ie,l.Ie):a instanceof Md&&l instanceof Md}(s.transform,e.transform)}class dk{constructor(e,n){this.version=e,this.transformResults=n}}class $n{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new $n}static exists(e){return new $n(void 0,e)}static updateTime(e){return new $n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xd(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class sh{}function jE(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Pg(s.key,$n.none()):new Sc(s.key,s.data,$n.none());{const n=s.data,a=vn.empty();let l=new Mt(Yt.comparator);for(let c of e.fields)if(!l.has(c)){let h=n.field(c);h===null&&c.length>1&&(c=c.popLast(),h=n.field(c)),h===null?a.delete(c):a.set(c,h),l=l.add(c)}return new Sa(s.key,a,new Rn(l.toArray()),$n.none())}}function hk(s,e,n){s instanceof Sc?function(l,c,h){const m=l.value.clone(),p=Ex(l.fieldTransforms,c,h.transformResults);m.setAll(p),c.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(s,e,n):s instanceof Sa?function(l,c,h){if(!xd(l.precondition,c))return void c.convertToUnknownDocument(h.version);const m=Ex(l.fieldTransforms,c,h.transformResults),p=c.data;p.setAll(DE(l)),p.setAll(m),c.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(s,e,n):function(l,c,h){c.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,n)}function oc(s,e,n,a){return s instanceof Sc?function(c,h,m,p){if(!xd(c.precondition,h))return m;const y=c.value.clone(),v=bx(c.fieldTransforms,p,h);return y.setAll(v),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null}(s,e,n,a):s instanceof Sa?function(c,h,m,p){if(!xd(c.precondition,h))return m;const y=bx(c.fieldTransforms,p,h),v=h.data;return v.setAll(DE(c)),v.setAll(y),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(T=>T.field))}(s,e,n,a):function(c,h,m){return xd(c.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(s,e,n)}function fk(s,e){let n=null;for(const a of s.fieldTransforms){const l=e.data.field(a.field),c=RE(a.transform,l||null);c!=null&&(n===null&&(n=vn.empty()),n.set(a.field,c))}return n||null}function xx(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Sl(a,l,(c,h)=>uk(c,h))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Sc extends sh{constructor(e,n,a,l=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Sa extends sh{constructor(e,n,a,l,c=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function DE(s){const e=new Map;return s.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const a=s.data.field(n);e.set(n,a)}}),e}function Ex(s,e,n){const a=new Map;We(s.length===n.length);for(let l=0;l<n.length;l++){const c=s[l],h=c.transform,m=e.data.field(c.field);a.set(c.field,ck(h,m,n[l]))}return a}function bx(s,e,n){const a=new Map;for(const l of s){const c=l.transform,h=n.data.field(l.field);a.set(l.field,ok(c,h,e))}return a}class Pg extends sh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class mk extends sh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(e,n,a,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&hk(c,e,a[l])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=oc(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=oc(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=wE();return this.mutations.forEach(l=>{const c=e.get(l.key),h=c.overlayedDocument;let m=this.applyToLocalView(h,c.mutatedFields);m=n.has(l.key)?null:m;const p=jE(h,m);p!==null&&a.set(l.key,p),h.isValidDocument()||h.convertToNoDocument(Re.min())}),a}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Pe())}isEqual(e){return this.batchId===e.batchId&&Sl(this.mutations,e.mutations,(n,a)=>xx(n,a))&&Sl(this.baseMutations,e.baseMutations,(n,a)=>xx(n,a))}}class Vg{constructor(e,n,a,l){this.batch=e,this.commitVersion=n,this.mutationResults=a,this.docVersions=l}static from(e,n,a){We(e.mutations.length===a.length);let l=function(){return sk}();const c=e.mutations;for(let h=0;h<c.length;h++)l=l.insert(c[h].key,a[h].version);return new Vg(e,n,a,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var St,qe;function _k(s){switch(s){case ce.OK:return Se();case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0;default:return Se()}}function OE(s){if(s===void 0)return _i("GRPC error has no .code"),ce.UNKNOWN;switch(s){case St.OK:return ce.OK;case St.CANCELLED:return ce.CANCELLED;case St.UNKNOWN:return ce.UNKNOWN;case St.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case St.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case St.INTERNAL:return ce.INTERNAL;case St.UNAVAILABLE:return ce.UNAVAILABLE;case St.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case St.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case St.NOT_FOUND:return ce.NOT_FOUND;case St.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case St.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case St.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case St.ABORTED:return ce.ABORTED;case St.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case St.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case St.DATA_LOSS:return ce.DATA_LOSS;default:return Se()}}(qe=St||(St={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xk=new ma([4294967295,4294967295],0);function Tx(s){const e=vk().encode(s),n=new X0;return n.update(e),new Uint8Array(n.digest())}function Ax(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new ma([n,a],0),new ma([l,c],0)]}class Ug{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new sc(`Invalid padding: ${n}`);if(a<0)throw new sc(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new sc(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new sc(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=ma.fromNumber(this.Ee)}Ae(e,n,a){let l=e.add(n.multiply(ma.fromNumber(a)));return l.compare(xk)===1&&(l=new ma([l.getBits(0),l.getBits(1)],0)),l.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=Tx(e),[a,l]=Ax(n);for(let c=0;c<this.hashCount;c++){const h=this.Ae(a,l,c);if(!this.Re(h))return!1}return!0}static create(e,n,a){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),h=new Ug(c,l,n);return a.forEach(m=>h.insert(m)),h}insert(e){if(this.Ee===0)return;const n=Tx(e),[a,l]=Ax(n);for(let c=0;c<this.hashCount;c++){const h=this.Ae(a,l,c);this.Ve(h)}}Ve(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class sc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e,n,a,l,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const l=new Map;return l.set(e,wc.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new ih(Re.min(),l,new ct(Ue),vi(),Pe())}}class wc{constructor(e,n,a,l,c){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new wc(a,n,Pe(),Pe(),Pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e,n,a,l){this.me=e,this.removedTargetIds=n,this.key=a,this.fe=l}}class ME{constructor(e,n){this.targetId=e,this.ge=n}}class LE{constructor(e,n,a=Xt.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=l}}class Sx{constructor(){this.pe=0,this.ye=wx(),this.we=Xt.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Pe(),n=Pe(),a=Pe();return this.ye.forEach((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:a=a.add(l);break;default:Se()}}),new wc(this.we,this.be,e,n,a)}Me(){this.Se=!1,this.ye=wx()}xe(e,n){this.Se=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,We(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class Ek{constructor(e){this.ke=e,this.qe=new Map,this.Qe=vi(),this.$e=od(),this.Ke=od(),this.Ue=new ct(Ue)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const a=this.He(n);switch(e.state){case 0:this.Je(n)&&a.Ce(e.resumeToken);break;case 1:a.Be(),a.De||a.Me(),a.Ce(e.resumeToken);break;case 2:a.Be(),a.De||this.removeTarget(n);break;case 3:this.Je(n)&&(a.Le(),a.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),a.Ce(e.resumeToken));break;default:Se()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((a,l)=>{this.Je(l)&&n(l)})}Ze(e){const n=e.targetId,a=e.ge.count,l=this.Xe(n);if(l){const c=l.target;if(Zm(c))if(a===0){const h=new be(c.path);this.ze(n,h,sn.newNoDocument(h,Re.min()))}else We(a===1);else{const h=this.et(n);if(h!==a){const m=this.tt(e),p=m?this.nt(m,e,h):1;if(p!==0){this.Ye(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,y)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=n;let h,m;try{h=xa(a).toUint8Array()}catch(p){if(p instanceof lE)return Al("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Ug(h,l,c)}catch(p){return Al(p instanceof sc?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(e,n,a){return n.ge.count===a-this.st(e,n.targetId)?0:2}st(e,n){const a=this.ke.getRemoteKeysForTarget(n);let l=0;return a.forEach(c=>{const h=this.ke.it(),m=`projects/${h.projectId}/databases/${h.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.ze(n,c,null),l++)}),l}ot(e){const n=new Map;this.qe.forEach((c,h)=>{const m=this.Xe(h);if(m){if(c.current&&Zm(m.target)){const p=new be(m.target.path);this._t(p).has(h)||this.ut(h,p)||this.ze(h,p,sn.newNoDocument(p,e))}c.ve&&(n.set(h,c.Fe()),c.Me())}});let a=Pe();this.Ke.forEach((c,h)=>{let m=!0;h.forEachWhile(p=>{const y=this.Xe(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(a=a.add(c))}),this.Qe.forEach((c,h)=>h.setReadTime(e));const l=new ih(e,n,this.Ue,this.Qe,a);return this.Qe=vi(),this.$e=od(),this.Ke=od(),this.Ue=new ct(Ue),l}Ge(e,n){if(!this.Je(e))return;const a=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,a),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(e))}ze(e,n,a){if(!this.Je(e))return;const l=this.He(e);this.ut(e,n)?l.xe(n,1):l.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(e)),this.Ke=this.Ke.insert(n,this.ct(n).add(e)),a&&(this.Qe=this.Qe.insert(n,a))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new Sx,this.qe.set(e,n)),n}ct(e){let n=this.Ke.get(e);return n||(n=new Mt(Ue),this.Ke=this.Ke.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Mt(Ue),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||ye("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Sx),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function od(){return new ct(be.comparator)}function wx(){return new ct(be.comparator)}const bk={asc:"ASCENDING",desc:"DESCENDING"},Tk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ak={and:"AND",or:"OR"};class Sk{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function tg(s,e){return s.useProto3Json||Zd(e)?e:{value:e}}function Pd(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function PE(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function wk(s,e){return Pd(s,e.toTimestamp())}function js(s){return We(!!s),Re.fromTimestamp(function(n){const a=va(n);return new Ot(a.seconds,a.nanos)}(s))}function Bg(s,e){return ng(s,e).canonicalString()}function ng(s,e){const n=function(l){return new st(["projects",l.projectId,"databases",l.database])}(s).child("documents");return e===void 0?n:n.child(e)}function VE(s){const e=st.fromString(s);return We(qE(e)),e}function sg(s,e){return Bg(s.databaseId,e.path)}function Dm(s,e){const n=VE(e);if(n.get(1)!==s.databaseId.projectId)throw new _e(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new _e(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new be(BE(n))}function UE(s,e){return Bg(s.databaseId,e)}function Nk(s){const e=VE(s);return e.length===4?st.emptyPath():BE(e)}function ig(s){return new st(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function BE(s){return We(s.length>4&&s.get(4)==="documents"),s.popFirst(5)}function Nx(s,e,n){return{name:sg(s,e),fields:n.value.mapValue.fields}}function Rk(s,e){let n;if("targetChange"in e){e.targetChange;const a=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Se()}(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=function(y,v){return y.useProto3Json?(We(v===void 0||typeof v=="string"),Xt.fromBase64String(v||"")):(We(v===void 0||v instanceof Buffer||v instanceof Uint8Array),Xt.fromUint8Array(v||new Uint8Array))}(s,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(y){const v=y.code===void 0?ce.UNKNOWN:OE(y.code);return new _e(v,y.message||"")}(h);n=new LE(a,l,c,m||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const l=Dm(s,a.document.name),c=js(a.document.updateTime),h=a.document.createTime?js(a.document.createTime):Re.min(),m=new vn({mapValue:{fields:a.document.fields}}),p=sn.newFoundDocument(l,c,h,m),y=a.targetIds||[],v=a.removedTargetIds||[];n=new Ed(y,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const l=Dm(s,a.document),c=a.readTime?js(a.readTime):Re.min(),h=sn.newNoDocument(l,c),m=a.removedTargetIds||[];n=new Ed([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const l=Dm(s,a.document),c=a.removedTargetIds||[];n=new Ed([],c,l,null)}else{if(!("filter"in e))return Se();{e.filter;const a=e.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,h=new yk(l,c),m=a.targetId;n=new ME(m,h)}}return n}function kk(s,e){let n;if(e instanceof Sc)n={update:Nx(s,e.key,e.value)};else if(e instanceof Pg)n={delete:sg(s,e.key)};else if(e instanceof Sa)n={update:Nx(s,e.key,e.data),updateMask:Vk(e.fieldMask)};else{if(!(e instanceof mk))return Se();n={verify:sg(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(a=>function(c,h){const m=h.transform;if(m instanceof Md)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof _c)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof vc)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Ld)return{fieldPath:h.field.canonicalString(),increment:m.Ie};throw Se()}(0,a))),e.precondition.isNone||(n.currentDocument=function(l,c){return c.updateTime!==void 0?{updateTime:wk(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Se()}(s,e.precondition)),n}function Ck(s,e){return s&&s.length>0?(We(e!==void 0),s.map(n=>function(l,c){let h=l.updateTime?js(l.updateTime):js(c);return h.isEqual(Re.min())&&(h=js(c)),new dk(h,l.transformResults||[])}(n,e))):[]}function Ik(s,e){return{documents:[UE(s,e.path)]}}function jk(s,e){const n={structuredQuery:{}},a=e.path;let l;e.collectionGroup!==null?(l=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=UE(s,l);const c=function(y){if(y.length!==0)return HE(as.create(y,"and"))}(e.filters);c&&(n.structuredQuery.where=c);const h=function(y){if(y.length!==0)return y.map(v=>function(A){return{field:yl(A.field),direction:Mk(A.dir)}}(v))}(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=tg(s,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ht:n,parent:l}}function Dk(s){let e=Nk(s.parent);const n=s.structuredQuery,a=n.from?n.from.length:0;let l=null;if(a>0){We(a===1);const v=n.from[0];v.allDescendants?l=v.collectionId:e=e.child(v.collectionId)}let c=[];n.where&&(c=function(T){const A=zE(T);return A instanceof as&&yE(A)?A.getFilters():[A]}(n.where));let h=[];n.orderBy&&(h=function(T){return T.map(A=>function(O){return new yc(_l(O.field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(A))}(n.orderBy));let m=null;n.limit&&(m=function(T){let A;return A=typeof T=="object"?T.value:T,Zd(A)?null:A}(n.limit));let p=null;n.startAt&&(p=function(T){const A=!!T.before,C=T.values||[];return new Od(C,A)}(n.startAt));let y=null;return n.endAt&&(y=function(T){const A=!T.before,C=T.values||[];return new Od(C,A)}(n.endAt)),ZR(e,l,h,c,m,"F",p,y)}function Ok(s,e){const n=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function zE(s){return s.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=_l(n.unaryFilter.field);return wt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=_l(n.unaryFilter.field);return wt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=_l(n.unaryFilter.field);return wt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=_l(n.unaryFilter.field);return wt.create(h,"!=",{nullValue:"NULL_VALUE"});default:return Se()}}(s):s.fieldFilter!==void 0?function(n){return wt.create(_l(n.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Se()}}(n.fieldFilter.op),n.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(n){return as.create(n.compositeFilter.filters.map(a=>zE(a)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Se()}}(n.compositeFilter.op))}(s):Se()}function Mk(s){return bk[s]}function Lk(s){return Tk[s]}function Pk(s){return Ak[s]}function yl(s){return{fieldPath:s.canonicalString()}}function _l(s){return Yt.fromServerFormat(s.fieldPath)}function HE(s){return s instanceof wt?function(n){if(n.op==="=="){if(mx(n.value))return{unaryFilter:{field:yl(n.field),op:"IS_NAN"}};if(fx(n.value))return{unaryFilter:{field:yl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(mx(n.value))return{unaryFilter:{field:yl(n.field),op:"IS_NOT_NAN"}};if(fx(n.value))return{unaryFilter:{field:yl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yl(n.field),op:Lk(n.op),value:n.value}}}(s):s instanceof as?function(n){const a=n.getFilters().map(l=>HE(l));return a.length===1?a[0]:{compositeFilter:{op:Pk(n.op),filters:a}}}(s):Se()}function Vk(s){const e=[];return s.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function qE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e,n,a,l,c=Re.min(),h=Re.min(),m=Xt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new da(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new da(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new da(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new da(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(e){this.Tt=e}}function Bk(s){const e=Dk({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?eg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(){this.Tn=new Hk}addToCollectionParentIndex(e,n){return this.Tn.add(n),ue.resolve()}getCollectionParents(e,n){return ue.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return ue.resolve()}deleteFieldIndex(e,n){return ue.resolve()}deleteAllFieldIndexes(e){return ue.resolve()}createTargetIndexes(e,n){return ue.resolve()}getDocumentsMatchingTarget(e,n){return ue.resolve(null)}getIndexType(e,n){return ue.resolve(0)}getFieldIndexes(e,n){return ue.resolve([])}getNextCollectionGroupToUpdate(e){return ue.resolve(null)}getMinOffset(e,n){return ue.resolve(_a.min())}getMinOffsetFromCollectionGroup(e,n){return ue.resolve(_a.min())}updateCollectionGroup(e,n,a){return ue.resolve()}updateIndexEntries(e,n){return ue.resolve()}}class Hk{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),l=this.index[n]||new Mt(st.comparator),c=!l.has(a);return this.index[n]=l.add(a),c}has(e){const n=e.lastSegment(),a=e.popLast(),l=this.index[n];return l&&l.has(a)}getEntries(e){return(this.index[e]||new Mt(st.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},KE=41943040;class _n{static withCacheSize(e){return new _n(e,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(KE,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Rl(0)}static Un(){return new Rl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx="LruGarbageCollector",qk=1048576;function Cx([s,e],[n,a]){const l=Ue(s,n);return l===0?Ue(e,a):l}class Kk{constructor(e){this.Hn=e,this.buffer=new Mt(Cx),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();Cx(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Fk{constructor(e,n,a){this.garbageCollector=e,this.asyncQueue=n,this.localStore=a,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ye(kx,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Pl(n)?ye(kx,"Ignoring IndexedDB error during garbage collection: ",n):await Ll(n)}await this.er(3e5)})}}class Gk{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(a=>Math.floor(n/100*a))}nthSequenceNumber(e,n){if(n===0)return ue.resolve(Xd.ae);const a=new Kk(n);return this.tr.forEachTarget(e,l=>a.Zn(l.sequenceNumber)).next(()=>this.tr.rr(e,l=>a.Zn(l))).next(()=>a.maxValue)}removeTargets(e,n,a){return this.tr.removeTargets(e,n,a)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),ue.resolve(Rx)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Rx):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let a,l,c,h,m,p,y;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),l=this.params.maximumSequenceNumbersToCollect):l=T,h=Date.now(),this.nthSequenceNumber(e,l))).next(T=>(a=T,m=Date.now(),this.removeTargets(e,a,n))).next(T=>(c=T,p=Date.now(),this.removeOrphanedDocuments(e,a))).next(T=>(y=Date.now(),gl()<=Le.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-v}ms
	Determined least recently used ${l} in `+(m-h)+`ms
	Removed ${c} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(y-p)+`ms
Total Duration: ${y-v}ms`),ue.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:T})))}}function $k(s,e){return new Gk(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(){this.changes=new _r(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,sn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?ue.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(e,n,a,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=l}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next(l=>(a=l,this.remoteDocumentCache.getEntry(e,n))).next(l=>(a!==null&&oc(a.mutation,l,Rn.empty(),Ot.now()),l))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.getLocalViewOfDocuments(e,a,Pe()).next(()=>a))}getLocalViewOfDocuments(e,n,a=Pe()){const l=lr();return this.populateOverlays(e,l,n).next(()=>this.computeViews(e,n,l,a).next(c=>{let h=nc();return c.forEach((m,p)=>{h=h.insert(m,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,n){const a=lr();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,Pe()))}populateOverlays(e,n,a){const l=[];return a.forEach(c=>{n.has(c)||l.push(c)}),this.documentOverlayCache.getOverlays(e,l).next(c=>{c.forEach((h,m)=>{n.set(h,m)})})}computeViews(e,n,a,l){let c=vi();const h=lc(),m=function(){return lc()}();return n.forEach((p,y)=>{const v=a.get(y.key);l.has(y.key)&&(v===void 0||v.mutation instanceof Sa)?c=c.insert(y.key,y):v!==void 0?(h.set(y.key,v.mutation.getFieldMask()),oc(v.mutation,y,v.mutation.getFieldMask(),Ot.now())):h.set(y.key,Rn.empty())}),this.recalculateAndSaveOverlays(e,c).next(p=>(p.forEach((y,v)=>h.set(y,v)),n.forEach((y,v)=>{var T;return m.set(y,new Yk(v,(T=h.get(y))!==null&&T!==void 0?T:null))}),m))}recalculateAndSaveOverlays(e,n){const a=lc();let l=new ct((h,m)=>h-m),c=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(h=>{for(const m of h)m.keys().forEach(p=>{const y=n.get(p);if(y===null)return;let v=a.get(p)||Rn.empty();v=m.applyToLocalView(y,v),a.set(p,v);const T=(l.get(m.batchId)||Pe()).add(p);l=l.insert(m.batchId,T)})}).next(()=>{const h=[],m=l.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,v=p.value,T=wE();v.forEach(A=>{if(!c.has(A)){const C=jE(n.get(A),a.get(A));C!==null&&T.set(A,C),c=c.add(A)}}),h.push(this.documentOverlayCache.saveOverlays(e,y,T))}return ue.waitFor(h)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,n,a,l){return function(h){return be.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):EE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,l):this.getDocumentsMatchingCollectionQuery(e,n,a,l)}getNextDocuments(e,n,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,l).next(c=>{const h=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,l-c.size):ue.resolve(lr());let m=fc,p=c;return h.next(y=>ue.forEach(y,(v,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),c.get(v)?ue.resolve():this.remoteDocumentCache.getEntry(e,v).next(A=>{p=p.insert(v,A)}))).next(()=>this.populateOverlays(e,y,c)).next(()=>this.computeViews(e,p,y,Pe())).next(v=>({batchId:m,changes:SE(v)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new be(n)).next(a=>{let l=nc();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l})}getDocumentsMatchingCollectionGroupQuery(e,n,a,l){const c=n.collectionGroup;let h=nc();return this.indexManager.getCollectionParents(e,c).next(m=>ue.forEach(m,p=>{const y=function(T,A){return new Vl(A,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(n,p.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,a,l).next(v=>{v.forEach((T,A)=>{h=h.insert(T,A)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,n,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next(h=>(c=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,c,l))).next(h=>{c.forEach((p,y)=>{const v=y.getKey();h.get(v)===null&&(h=h.insert(v,sn.newInvalidDocument(v)))});let m=nc();return h.forEach((p,y)=>{const v=c.get(p);v!==void 0&&oc(v.mutation,y,Rn.empty(),Ot.now()),th(n,y)&&(m=m.insert(p,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return ue.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(l){return{id:l.id,version:l.version,createTime:js(l.createTime)}}(n)),ue.resolve()}getNamedQuery(e,n){return ue.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(l){return{name:l.name,query:Bk(l.bundledQuery),readTime:js(l.readTime)}}(n)),ue.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(){this.overlays=new ct(be.comparator),this.Rr=new Map}getOverlay(e,n){return ue.resolve(this.overlays.get(n))}getOverlays(e,n){const a=lr();return ue.forEach(n,l=>this.getOverlay(e,l).next(c=>{c!==null&&a.set(l,c)})).next(()=>a)}saveOverlays(e,n,a){return a.forEach((l,c)=>{this.Et(e,n,c)}),ue.resolve()}removeOverlaysForBatchId(e,n,a){const l=this.Rr.get(a);return l!==void 0&&(l.forEach(c=>this.overlays=this.overlays.remove(c)),this.Rr.delete(a)),ue.resolve()}getOverlaysForCollection(e,n,a){const l=lr(),c=n.length+1,h=new be(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===c&&p.largestBatchId>a&&l.set(p.getKey(),p)}return ue.resolve(l)}getOverlaysForCollectionGroup(e,n,a,l){let c=new ct((y,v)=>y-v);const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>a){let v=c.get(y.largestBatchId);v===null&&(v=lr(),c=c.insert(y.largestBatchId,v)),v.set(y.getKey(),y)}}const m=lr(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,v)=>m.set(y,v)),!(m.size()>=l)););return ue.resolve(m)}Et(e,n,a){const l=this.overlays.get(a.key);if(l!==null){const h=this.Rr.get(l.largestBatchId).delete(a.key);this.Rr.set(l.largestBatchId,h)}this.overlays=this.overlays.insert(a.key,new pk(n,a));let c=this.Rr.get(n);c===void 0&&(c=Pe(),this.Rr.set(n,c)),this.Rr.set(n,c.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return ue.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ue.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(){this.Vr=new Mt(qt.mr),this.gr=new Mt(qt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const a=new qt(e,n);this.Vr=this.Vr.add(a),this.gr=this.gr.add(a)}yr(e,n){e.forEach(a=>this.addReference(a,n))}removeReference(e,n){this.wr(new qt(e,n))}br(e,n){e.forEach(a=>this.removeReference(a,n))}Sr(e){const n=new be(new st([])),a=new qt(n,e),l=new qt(n,e+1),c=[];return this.gr.forEachInRange([a,l],h=>{this.wr(h),c.push(h.key)}),c}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new be(new st([])),a=new qt(n,e),l=new qt(n,e+1);let c=Pe();return this.gr.forEachInRange([a,l],h=>{c=c.add(h.key)}),c}containsKey(e){const n=new qt(e,0),a=this.Vr.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class qt{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return be.comparator(e.key,n.key)||Ue(e.Cr,n.Cr)}static pr(e,n){return Ue(e.Cr,n.Cr)||be.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Mt(qt.mr)}checkEmpty(e){return ue.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,l){const c=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new gk(c,n,a,l);this.mutationQueue.push(h);for(const m of l)this.Mr=this.Mr.add(new qt(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ue.resolve(h)}lookupMutationBatch(e,n){return ue.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,l=this.Nr(a),c=l<0?0:l;return ue.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(this.mutationQueue.length===0?Cg:this.Fr-1)}getAllMutationBatches(e){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new qt(n,0),l=new qt(n,Number.POSITIVE_INFINITY),c=[];return this.Mr.forEachInRange([a,l],h=>{const m=this.Or(h.Cr);c.push(m)}),ue.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new Mt(Ue);return n.forEach(l=>{const c=new qt(l,0),h=new qt(l,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([c,h],m=>{a=a.add(m.Cr)})}),ue.resolve(this.Br(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,l=a.length+1;let c=a;be.isDocumentKey(c)||(c=c.child(""));const h=new qt(new be(c),0);let m=new Mt(Ue);return this.Mr.forEachWhile(p=>{const y=p.key.path;return!!a.isPrefixOf(y)&&(y.length===l&&(m=m.add(p.Cr)),!0)},h),ue.resolve(this.Br(m))}Br(e){const n=[];return e.forEach(a=>{const l=this.Or(a);l!==null&&n.push(l)}),n}removeMutationBatch(e,n){We(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let a=this.Mr;return ue.forEach(n.mutations,l=>{const c=new qt(l.key,n.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.Mr=a})}qn(e){}containsKey(e,n){const a=new qt(n,0),l=this.Mr.firstAfterOrEqual(a);return ue.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,ue.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e){this.kr=e,this.docs=function(){return new ct(be.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,l=this.docs.get(a),c=l?l.size:0,h=this.kr(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:h}),this.size+=h-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return ue.resolve(a?a.document.mutableCopy():sn.newInvalidDocument(n))}getEntries(e,n){let a=vi();return n.forEach(l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():sn.newInvalidDocument(l))}),ue.resolve(a)}getDocumentsMatchingQuery(e,n,a,l){let c=vi();const h=n.path,m=new be(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:v}}=p.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||CR(kR(v),a)<=0||(l.has(v.key)||th(n,v))&&(c=c.insert(v.key,v.mutableCopy()))}return ue.resolve(c)}getAllFromCollectionGroup(e,n,a,l){Se()}qr(e,n){return ue.forEach(this.docs,a=>n(a))}newChangeBuffer(e){return new nC(this)}getSize(e){return ue.resolve(this.size)}}class nC extends Qk{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((a,l)=>{l.isValidDocument()?n.push(this.Ir.addEntry(e,l)):this.Ir.removeEntry(a)}),ue.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e){this.persistence=e,this.Qr=new _r(n=>Dg(n),Og),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.$r=0,this.Kr=new zg,this.targetCount=0,this.Ur=Rl.Kn()}forEachTarget(e,n){return this.Qr.forEach((a,l)=>n(l)),ue.resolve()}getLastRemoteSnapshotVersion(e){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ue.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.$r&&(this.$r=n),ue.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ur=new Rl(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,ue.resolve()}updateTargetData(e,n){return this.zn(n),ue.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Kr.Sr(n.targetId),this.targetCount-=1,ue.resolve()}removeTargets(e,n,a){let l=0;const c=[];return this.Qr.forEach((h,m)=>{m.sequenceNumber<=n&&a.get(m.targetId)===null&&(this.Qr.delete(h),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),l++)}),ue.waitFor(c).next(()=>l)}getTargetCount(e){return ue.resolve(this.targetCount)}getTargetData(e,n){const a=this.Qr.get(n)||null;return ue.resolve(a)}addMatchingKeys(e,n,a){return this.Kr.yr(n,a),ue.resolve()}removeMatchingKeys(e,n,a){this.Kr.br(n,a);const l=this.persistence.referenceDelegate,c=[];return l&&n.forEach(h=>{c.push(l.markPotentiallyOrphaned(e,h))}),ue.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.Kr.Sr(n),ue.resolve()}getMatchingKeysForTargetId(e,n){const a=this.Kr.vr(n);return ue.resolve(a)}containsKey(e,n){return ue.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Xd(0),this.zr=!1,this.zr=!0,this.jr=new Jk,this.referenceDelegate=e(this),this.Hr=new sC(this),this.indexManager=new zk,this.remoteDocumentCache=function(l){return new tC(l)}(a=>this.referenceDelegate.Jr(a)),this.serializer=new Uk(n),this.Yr=new Xk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Zk,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this.Wr[e.toKey()];return a||(a=new eC(n,this.referenceDelegate),this.Wr[e.toKey()]=a),a}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,a){ye("MemoryPersistence","Starting transaction:",e);const l=new iC(this.Gr.next());return this.referenceDelegate.Zr(),a(l).next(c=>this.referenceDelegate.Xr(l).next(()=>c)).toPromise().then(c=>(l.raiseOnCommittedEvent(),c))}ei(e,n){return ue.or(Object.values(this.Wr).map(a=>()=>a.containsKey(e,n)))}}class iC extends jR{constructor(e){super(),this.currentSequenceNumber=e}}class Hg{constructor(e){this.persistence=e,this.ti=new zg,this.ni=null}static ri(e){return new Hg(e)}get ii(){if(this.ni)return this.ni;throw Se()}addReference(e,n,a){return this.ti.addReference(a,n),this.ii.delete(a.toString()),ue.resolve()}removeReference(e,n,a){return this.ti.removeReference(a,n),this.ii.add(a.toString()),ue.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),ue.resolve()}removeTarget(e,n){this.ti.Sr(n.targetId).forEach(l=>this.ii.add(l.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next(l=>{l.forEach(c=>this.ii.add(c.toString()))}).next(()=>a.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.ii,a=>{const l=be.fromPath(a);return this.si(e,l).next(c=>{c||n.removeEntry(l,Re.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(a=>{a?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return ue.or([()=>ue.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class Vd{constructor(e,n){this.persistence=e,this.oi=new _r(a=>MR(a.path),(a,l)=>a.isEqual(l)),this.garbageCollector=$k(this,n)}static ri(e,n){return new Vd(e,n)}Zr(){}Xr(e){return ue.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>n.next(l=>a+l))}sr(e){let n=0;return this.rr(e,a=>{n++}).next(()=>n)}rr(e,n){return ue.forEach(this.oi,(a,l)=>this.ar(e,a,l).next(c=>c?ue.resolve():n(l)))}removeTargets(e,n,a){return this.persistence.getTargetCache().removeTargets(e,n,a)}removeOrphanedDocuments(e,n){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.qr(e,h=>this.ar(e,h,n).next(m=>{m||(a++,c.removeEntry(h,Re.min()))})).next(()=>c.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),ue.resolve()}removeTarget(e,n){const a=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,n,a){return this.oi.set(a,e.currentSequenceNumber),ue.resolve()}removeReference(e,n,a){return this.oi.set(a,e.currentSequenceNumber),ue.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),ue.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=_d(e.data.value)),n}ar(e,n,a){return ue.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const l=this.oi.get(n);return ue.resolve(l!==void 0&&l>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e,n,a,l){this.targetId=e,this.fromCache=n,this.Hi=a,this.Ji=l}static Yi(e,n){let a=Pe(),l=Pe();for(const c of n.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new qg(e,n.fromCache,a,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return eN()?8:DR(an())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,a,l){const c={result:null};return this.rs(e,n).next(h=>{c.result=h}).next(()=>{if(!c.result)return this.ss(e,n,l,a).next(h=>{c.result=h})}).next(()=>{if(c.result)return;const h=new aC;return this._s(e,n,h).next(m=>{if(c.result=m,this.Xi)return this.us(e,n,h,m.size)})}).next(()=>c.result)}us(e,n,a,l){return a.documentReadCount<this.es?(gl()<=Le.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",pl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ue.resolve()):(gl()<=Le.DEBUG&&ye("QueryEngine","Query:",pl(n),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.ts*l?(gl()<=Le.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",pl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Is(n))):ue.resolve())}rs(e,n){if(_x(n))return ue.resolve(null);let a=Is(n);return this.indexManager.getIndexType(e,a).next(l=>l===0?null:(n.limit!==null&&l===1&&(n=eg(n,null,"F"),a=Is(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next(c=>{const h=Pe(...c);return this.ns.getDocuments(e,h).next(m=>this.indexManager.getMinOffset(e,a).next(p=>{const y=this.cs(n,m);return this.ls(n,y,h,p.readTime)?this.rs(e,eg(n,null,"F")):this.hs(e,y,n,p)}))})))}ss(e,n,a,l){return _x(n)||l.isEqual(Re.min())?ue.resolve(null):this.ns.getDocuments(e,a).next(c=>{const h=this.cs(n,c);return this.ls(n,h,a,l)?ue.resolve(null):(gl()<=Le.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),pl(n)),this.hs(e,h,n,RR(l,fc)).next(m=>m))})}cs(e,n){let a=new Mt(TE(e));return n.forEach((l,c)=>{th(e,c)&&(a=a.add(c))}),a}ls(e,n,a,l){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}_s(e,n,a){return gl()<=Le.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",pl(n)),this.ns.getDocumentsMatchingQuery(e,n,_a.min(),a)}hs(e,n,a,l){return this.ns.getDocumentsMatchingQuery(e,a,l).next(c=>(n.forEach(h=>{c=c.insert(h.key,h)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kg="LocalStore",lC=3e8;class oC{constructor(e,n,a,l){this.persistence=e,this.Ps=n,this.serializer=l,this.Ts=new ct(Ue),this.Is=new _r(c=>Dg(c),Og),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(a)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Wk(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function cC(s,e,n,a){return new oC(s,e,n,a)}async function GE(s,e){const n=Ie(s);return await n.persistence.runTransaction("Handle user change","readonly",a=>{let l;return n.mutationQueue.getAllMutationBatches(a).next(c=>(l=c,n.As(e),n.mutationQueue.getAllMutationBatches(a))).next(c=>{const h=[],m=[];let p=Pe();for(const y of l){h.push(y.batchId);for(const v of y.mutations)p=p.add(v.key)}for(const y of c){m.push(y.batchId);for(const v of y.mutations)p=p.add(v.key)}return n.localDocuments.getDocuments(a,p).next(y=>({Rs:y,removedBatchIds:h,addedBatchIds:m}))})})}function uC(s,e){const n=Ie(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const l=e.batch.keys(),c=n.ds.newChangeBuffer({trackRemovals:!0});return function(m,p,y,v){const T=y.batch,A=T.keys();let C=ue.resolve();return A.forEach(O=>{C=C.next(()=>v.getEntry(p,O)).next(B=>{const j=y.docVersions.get(O);We(j!==null),B.version.compareTo(j)<0&&(T.applyToRemoteDocument(B,y),B.isValidDocument()&&(B.setReadTime(y.commitVersion),v.addEntry(B)))})}),C.next(()=>m.mutationQueue.removeMutationBatch(p,T))}(n,a,e,c).next(()=>c.apply(a)).next(()=>n.mutationQueue.performConsistencyCheck(a)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(a,l,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(m){let p=Pe();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p}(e))).next(()=>n.localDocuments.getDocuments(a,l))})}function $E(s){const e=Ie(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function dC(s,e){const n=Ie(s),a=e.snapshotVersion;let l=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const h=n.ds.newChangeBuffer({trackRemovals:!0});l=n.Ts;const m=[];e.targetChanges.forEach((v,T)=>{const A=l.get(T);if(!A)return;m.push(n.Hr.removeMatchingKeys(c,v.removedDocuments,T).next(()=>n.Hr.addMatchingKeys(c,v.addedDocuments,T)));let C=A.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(T)!==null?C=C.withResumeToken(Xt.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):v.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(v.resumeToken,a)),l=l.insert(T,C),function(B,j,z){return B.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=lC?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0}(A,C,v)&&m.push(n.Hr.updateTargetData(c,C))});let p=vi(),y=Pe();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(c,v))}),m.push(hC(c,h,e.documentUpdates).next(v=>{p=v.Vs,y=v.fs})),!a.isEqual(Re.min())){const v=n.Hr.getLastRemoteSnapshotVersion(c).next(T=>n.Hr.setTargetsMetadata(c,c.currentSequenceNumber,a));m.push(v)}return ue.waitFor(m).next(()=>h.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,p,y)).next(()=>p)}).then(c=>(n.Ts=l,c))}function hC(s,e,n){let a=Pe(),l=Pe();return n.forEach(c=>a=a.add(c)),e.getEntries(s,a).next(c=>{let h=vi();return n.forEach((m,p)=>{const y=c.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(m)),p.isNoDocument()&&p.version.isEqual(Re.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):ye(Kg,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)}),{Vs:h,fs:l}})}function fC(s,e){const n=Ie(s);return n.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=Cg),n.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function mC(s,e){const n=Ie(s);return n.persistence.runTransaction("Allocate target","readwrite",a=>{let l;return n.Hr.getTargetData(a,e).next(c=>c?(l=c,ue.resolve(l)):n.Hr.allocateTargetId(a).next(h=>(l=new da(e,h,"TargetPurposeListen",a.currentSequenceNumber),n.Hr.addTargetData(a,l).next(()=>l))))}).then(a=>{const l=n.Ts.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(a.targetId,a),n.Is.set(e,a.targetId)),a})}async function ag(s,e,n){const a=Ie(s),l=a.Ts.get(e),c=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",c,h=>a.persistence.referenceDelegate.removeTarget(h,l))}catch(h){if(!Pl(h))throw h;ye(Kg,`Failed to update sequence numbers for target ${e}: ${h}`)}a.Ts=a.Ts.remove(e),a.Is.delete(l.target)}function Ix(s,e,n){const a=Ie(s);let l=Re.min(),c=Pe();return a.persistence.runTransaction("Execute query","readwrite",h=>function(p,y,v){const T=Ie(p),A=T.Is.get(v);return A!==void 0?ue.resolve(T.Ts.get(A)):T.Hr.getTargetData(y,v)}(a,h,Is(e)).next(m=>{if(m)return l=m.lastLimboFreeSnapshotVersion,a.Hr.getMatchingKeysForTargetId(h,m.targetId).next(p=>{c=p})}).next(()=>a.Ps.getDocumentsMatchingQuery(h,e,n?l:Re.min(),n?c:Pe())).next(m=>(gC(a,ek(e),m),{documents:m,gs:c})))}function gC(s,e,n){let a=s.Es.get(e)||Re.min();n.forEach((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)}),s.Es.set(e,a)}class jx{constructor(){this.activeTargetIds=rk()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class pC{constructor(){this.ho=new jx,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,a){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new jx,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx="ConnectivityMonitor";class Ox{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ye(Dx,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ye(Dx,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cd=null;function rg(){return cd===null?cd=function(){return 268435456+Math.round(2147483648*Math.random())}():cd++,"0x"+cd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om="RestConnection",_C={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class vC{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${a}/databases/${l}`,this.wo=this.databaseId.database===jd?`project_id=${a}`:`project_id=${a}&database_id=${l}`}bo(e,n,a,l,c){const h=rg(),m=this.So(e,n.toUriEncodedString());ye(Om,`Sending RPC '${e}' ${h}:`,m,a);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,l,c),this.vo(e,m,p,a).then(y=>(ye(Om,`Received RPC '${e}' ${h}: `,y),y),y=>{throw Al(Om,`RPC '${e}' ${h} failed with error: `,y,"url: ",m,"request:",a),y})}Co(e,n,a,l,c,h){return this.bo(e,n,a,l,c)}Do(e,n,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ml}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((l,c)=>e[c]=l),a&&a.headers.forEach((l,c)=>e[c]=l)}So(e,n){const a=_C[e];return`${this.po}/v1/${n}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tn="WebChannelConnection";class EC extends vC{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,a,l){const c=rg();return new Promise((h,m)=>{const p=new Z0;p.setWithCredentials(!0),p.listenOnce(J0.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case yd.NO_ERROR:const v=p.getResponseJson();ye(tn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(v)),h(v);break;case yd.TIMEOUT:ye(tn,`RPC '${e}' ${c} timed out`),m(new _e(ce.DEADLINE_EXCEEDED,"Request time out"));break;case yd.HTTP_ERROR:const T=p.getStatus();if(ye(tn,`RPC '${e}' ${c} failed with status:`,T,"response text:",p.getResponseText()),T>0){let A=p.getResponseJson();Array.isArray(A)&&(A=A[0]);const C=A==null?void 0:A.error;if(C&&C.status&&C.message){const O=function(j){const z=j.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(z)>=0?z:ce.UNKNOWN}(C.status);m(new _e(O,C.message))}else m(new _e(ce.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new _e(ce.UNAVAILABLE,"Connection failed."));break;default:Se()}}finally{ye(tn,`RPC '${e}' ${c} completed.`)}});const y=JSON.stringify(l);ye(tn,`RPC '${e}' ${c} sending request:`,l),p.send(n,"POST",y,a,15)})}Wo(e,n,a){const l=rg(),c=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=nE(),m=tE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,a),p.encodeInitMessageHeaders=!0;const v=c.join("");ye(tn,`Creating RPC '${e}' stream ${l}: ${v}`,p);const T=h.createWebChannel(v,p);let A=!1,C=!1;const O=new xC({Fo:j=>{C?ye(tn,`Not sending because RPC '${e}' stream ${l} is closed:`,j):(A||(ye(tn,`Opening RPC '${e}' stream ${l} transport.`),T.open(),A=!0),ye(tn,`RPC '${e}' stream ${l} sending:`,j),T.send(j))},Mo:()=>T.close()}),B=(j,z,q)=>{j.listen(z,G=>{try{q(G)}catch(Z){setTimeout(()=>{throw Z},0)}})};return B(T,tc.EventType.OPEN,()=>{C||(ye(tn,`RPC '${e}' stream ${l} transport opened.`),O.Qo())}),B(T,tc.EventType.CLOSE,()=>{C||(C=!0,ye(tn,`RPC '${e}' stream ${l} transport closed`),O.Ko())}),B(T,tc.EventType.ERROR,j=>{C||(C=!0,Al(tn,`RPC '${e}' stream ${l} transport errored:`,j),O.Ko(new _e(ce.UNAVAILABLE,"The operation could not be completed")))}),B(T,tc.EventType.MESSAGE,j=>{var z;if(!C){const q=j.data[0];We(!!q);const G=q,Z=(G==null?void 0:G.error)||((z=G[0])===null||z===void 0?void 0:z.error);if(Z){ye(tn,`RPC '${e}' stream ${l} received error:`,Z);const X=Z.status;let le=function(b){const S=St[b];if(S!==void 0)return OE(S)}(X),V=Z.message;le===void 0&&(le=ce.INTERNAL,V="Unknown error status: "+X+" with message "+Z.message),C=!0,O.Ko(new _e(le,V)),T.close()}else ye(tn,`RPC '${e}' stream ${l} received:`,q),O.Uo(q)}}),B(m,eE.STAT_EVENT,j=>{j.stat===Qm.PROXY?ye(tn,`RPC '${e}' stream ${l} detected buffering proxy`):j.stat===Qm.NOPROXY&&ye(tn,`RPC '${e}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{O.$o()},0),O}}function Mm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ah(s){return new Sk(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(e,n,a=1e3,l=1.5,c=6e4){this.Ti=e,this.timerId=n,this.Go=a,this.zo=l,this.jo=c,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),a=Math.max(0,Date.now()-this.Yo),l=Math.max(0,n-a);l>0&&ye("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,l,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx="PersistentStream";class YE{constructor(e,n,a,l,c,h,m,p){this.Ti=e,this.n_=a,this.r_=l,this.connection=c,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new QE(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===ce.RESOURCE_EXHAUSTED?(_i(n.toString()),_i("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,l])=>{this.i_===n&&this.V_(a,l)},a=>{e(()=>{const l=new _e(ce.UNKNOWN,"Fetching auth token failed: "+a.message);return this.m_(l)})})}V_(e,n){const a=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{a(()=>this.listener.xo())}),this.stream.No(()=>{a(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(l=>{a(()=>this.m_(l))}),this.stream.onMessage(l=>{a(()=>++this.__==1?this.g_(l):this.onNext(l))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ye(Mx,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(ye(Mx,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class bC extends YE{constructor(e,n,a,l,c,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,l,h),this.serializer=c}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=Rk(this.serializer,e),a=function(c){if(!("targetChange"in c))return Re.min();const h=c.targetChange;return h.targetIds&&h.targetIds.length?Re.min():h.readTime?js(h.readTime):Re.min()}(e);return this.listener.p_(n,a)}y_(e){const n={};n.database=ig(this.serializer),n.addTarget=function(c,h){let m;const p=h.target;if(m=Zm(p)?{documents:Ik(c,p)}:{query:jk(c,p).ht},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=PE(c,h.resumeToken);const y=tg(c,h.expectedCount);y!==null&&(m.expectedCount=y)}else if(h.snapshotVersion.compareTo(Re.min())>0){m.readTime=Pd(c,h.snapshotVersion.toTimestamp());const y=tg(c,h.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,e);const a=Ok(this.serializer,e);a&&(n.labels=a),this.I_(n)}w_(e){const n={};n.database=ig(this.serializer),n.removeTarget=e,this.I_(n)}}class TC extends YE{constructor(e,n,a,l,c,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,l,h),this.serializer=c}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return We(!!e.streamToken),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){We(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=Ck(e.writeResults,e.commitTime),a=js(e.commitTime);return this.listener.v_(a,n)}C_(){const e={};e.database=ig(this.serializer),this.I_(e)}S_(e){const n={streamToken:this.lastStreamToken,writes:e.map(a=>kk(this.serializer,a))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{}class SC extends AC{constructor(e,n,a,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=l,this.F_=!1}M_(){if(this.F_)throw new _e(ce.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,a,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,h])=>this.connection.bo(e,ng(n,a),l,c,h)).catch(c=>{throw c.name==="FirebaseError"?(c.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new _e(ce.UNKNOWN,c.toString())})}Co(e,n,a,l,c){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Co(e,ng(n,a),l,h,m,c)).catch(h=>{throw h.name==="FirebaseError"?(h.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new _e(ce.UNKNOWN,h.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class wC{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(_i(n),this.N_=!1):ye("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hr="RemoteStore";class NC{constructor(e,n,a,l,c){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=c,this.z_.To(h=>{a.enqueueAndForget(async()=>{vr(this)&&(ye(hr,"Restarting streams for network reachability change."),await async function(p){const y=Ie(p);y.W_.add(4),await Nc(y),y.j_.set("Unknown"),y.W_.delete(4),await rh(y)}(this))})}),this.j_=new wC(a,l)}}async function rh(s){if(vr(s))for(const e of s.G_)await e(!0)}async function Nc(s){for(const e of s.G_)await e(!1)}function WE(s,e){const n=Ie(s);n.U_.has(e.targetId)||(n.U_.set(e.targetId,e),Qg(n)?$g(n):Ul(n).c_()&&Gg(n,e))}function Fg(s,e){const n=Ie(s),a=Ul(n);n.U_.delete(e),a.c_()&&XE(n,e),n.U_.size===0&&(a.c_()?a.P_():vr(n)&&n.j_.set("Unknown"))}function Gg(s,e){if(s.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ul(s).y_(e)}function XE(s,e){s.H_.Ne(e),Ul(s).w_(e)}function $g(s){s.H_=new Ek({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>s.U_.get(e)||null,it:()=>s.datastore.serializer.databaseId}),Ul(s).start(),s.j_.B_()}function Qg(s){return vr(s)&&!Ul(s).u_()&&s.U_.size>0}function vr(s){return Ie(s).W_.size===0}function ZE(s){s.H_=void 0}async function RC(s){s.j_.set("Online")}async function kC(s){s.U_.forEach((e,n)=>{Gg(s,e)})}async function CC(s,e){ZE(s),Qg(s)?(s.j_.q_(e),$g(s)):s.j_.set("Unknown")}async function IC(s,e,n){if(s.j_.set("Online"),e instanceof LE&&e.state===2&&e.cause)try{await async function(l,c){const h=c.cause;for(const m of c.targetIds)l.U_.has(m)&&(await l.remoteSyncer.rejectListen(m,h),l.U_.delete(m),l.H_.removeTarget(m))}(s,e)}catch(a){ye(hr,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await Ud(s,a)}else if(e instanceof Ed?s.H_.We(e):e instanceof ME?s.H_.Ze(e):s.H_.je(e),!n.isEqual(Re.min()))try{const a=await $E(s.localStore);n.compareTo(a)>=0&&await function(c,h){const m=c.H_.ot(h);return m.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const v=c.U_.get(y);v&&c.U_.set(y,v.withResumeToken(p.resumeToken,h))}}),m.targetMismatches.forEach((p,y)=>{const v=c.U_.get(p);if(!v)return;c.U_.set(p,v.withResumeToken(Xt.EMPTY_BYTE_STRING,v.snapshotVersion)),XE(c,p);const T=new da(v.target,p,y,v.sequenceNumber);Gg(c,T)}),c.remoteSyncer.applyRemoteEvent(m)}(s,n)}catch(a){ye(hr,"Failed to raise snapshot:",a),await Ud(s,a)}}async function Ud(s,e,n){if(!Pl(e))throw e;s.W_.add(1),await Nc(s),s.j_.set("Offline"),n||(n=()=>$E(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{ye(hr,"Retrying IndexedDB access"),await n(),s.W_.delete(1),await rh(s)})}function JE(s,e){return e().catch(n=>Ud(s,n,e))}async function lh(s){const e=Ie(s),n=ba(e);let a=e.K_.length>0?e.K_[e.K_.length-1].batchId:Cg;for(;jC(e);)try{const l=await fC(e.localStore,a);if(l===null){e.K_.length===0&&n.P_();break}a=l.batchId,DC(e,l)}catch(l){await Ud(e,l)}eb(e)&&tb(e)}function jC(s){return vr(s)&&s.K_.length<10}function DC(s,e){s.K_.push(e);const n=ba(s);n.c_()&&n.b_&&n.S_(e.mutations)}function eb(s){return vr(s)&&!ba(s).u_()&&s.K_.length>0}function tb(s){ba(s).start()}async function OC(s){ba(s).C_()}async function MC(s){const e=ba(s);for(const n of s.K_)e.S_(n.mutations)}async function LC(s,e,n){const a=s.K_.shift(),l=Vg.from(a,e,n);await JE(s,()=>s.remoteSyncer.applySuccessfulWrite(l)),await lh(s)}async function PC(s,e){e&&ba(s).b_&&await async function(a,l){if(function(h){return _k(h)&&h!==ce.ABORTED}(l.code)){const c=a.K_.shift();ba(a).h_(),await JE(a,()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l)),await lh(a)}}(s,e),eb(s)&&tb(s)}async function Lx(s,e){const n=Ie(s);n.asyncQueue.verifyOperationInProgress(),ye(hr,"RemoteStore received new credentials");const a=vr(n);n.W_.add(3),await Nc(n),a&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await rh(n)}async function VC(s,e){const n=Ie(s);e?(n.W_.delete(2),await rh(n)):e||(n.W_.add(2),await Nc(n),n.j_.set("Unknown"))}function Ul(s){return s.J_||(s.J_=function(n,a,l){const c=Ie(n);return c.M_(),new bC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(s.datastore,s.asyncQueue,{xo:RC.bind(null,s),No:kC.bind(null,s),Lo:CC.bind(null,s),p_:IC.bind(null,s)}),s.G_.push(async e=>{e?(s.J_.h_(),Qg(s)?$g(s):s.j_.set("Unknown")):(await s.J_.stop(),ZE(s))})),s.J_}function ba(s){return s.Y_||(s.Y_=function(n,a,l){const c=Ie(n);return c.M_(),new TC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(s.datastore,s.asyncQueue,{xo:()=>Promise.resolve(),No:OC.bind(null,s),Lo:PC.bind(null,s),D_:MC.bind(null,s),v_:LC.bind(null,s)}),s.G_.push(async e=>{e?(s.Y_.h_(),await lh(s)):(await s.Y_.stop(),s.K_.length>0&&(ye(hr,`Stopping write stream with ${s.K_.length} pending writes`),s.K_=[]))})),s.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(e,n,a,l,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new gi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,l,c){const h=Date.now()+a,m=new Yg(e,n,h,l,c);return m.start(a),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wg(s,e){if(_i("AsyncQueue",`${e}: ${s}`),Pl(s))return new _e(ce.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{static emptySet(e){return new xl(e.comparator)}constructor(e){this.comparator=e?(n,a)=>e(n,a)||be.comparator(n.key,a.key):(n,a)=>be.comparator(n.key,a.key),this.keyedMap=nc(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,a)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof xl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new xl;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(){this.Z_=new ct(be.comparator)}track(e){const n=e.doc.key,a=this.Z_.get(n);a?e.type!==0&&a.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&a.type!==1?this.Z_=this.Z_.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.Z_=this.Z_.remove(n):e.type===1&&a.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Se():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,a)=>{e.push(a)}),e}}class kl{constructor(e,n,a,l,c,h,m,p,y){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,a,l,c){const h=[];return n.forEach(m=>{h.push({type:0,doc:m})}),new kl(e,n,xl.emptySet(n),h,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&eh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==a[l].type||!n[l].doc.isEqual(a[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class BC{constructor(){this.queries=Vx(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,a){const l=Ie(n),c=l.queries;l.queries=Vx(),c.forEach((h,m)=>{for(const p of m.ta)p.onError(a)})})(this,new _e(ce.ABORTED,"Firestore shutting down"))}}function Vx(){return new _r(s=>bE(s),eh)}async function nb(s,e){const n=Ie(s);let a=3;const l=e.query;let c=n.queries.get(l);c?!c.na()&&e.ra()&&(a=2):(c=new UC,a=e.ra()?0:1);try{switch(a){case 0:c.ea=await n.onListen(l,!0);break;case 1:c.ea=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(h){const m=Wg(h,`Initialization of query '${pl(e.query)}' failed`);return void e.onError(m)}n.queries.set(l,c),c.ta.push(e),e.sa(n.onlineState),c.ea&&e.oa(c.ea)&&Xg(n)}async function sb(s,e){const n=Ie(s),a=e.query;let l=3;const c=n.queries.get(a);if(c){const h=c.ta.indexOf(e);h>=0&&(c.ta.splice(h,1),c.ta.length===0?l=e.ra()?0:1:!c.na()&&e.ra()&&(l=2))}switch(l){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function zC(s,e){const n=Ie(s);let a=!1;for(const l of e){const c=l.query,h=n.queries.get(c);if(h){for(const m of h.ta)m.oa(l)&&(a=!0);h.ea=l}}a&&Xg(n)}function HC(s,e,n){const a=Ie(s),l=a.queries.get(e);if(l)for(const c of l.ta)c.onError(n);a.queries.delete(e)}function Xg(s){s.ia.forEach(e=>{e.next()})}var lg,Ux;(Ux=lg||(lg={}))._a="default",Ux.Cache="cache";class ib{constructor(e,n,a){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=a||{}}oa(e){if(!this.options.includeMetadataChanges){const a=[];for(const l of e.docChanges)l.type!==3&&a.push(l);e=new kl(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const a=n!=="Offline";return(!this.options.Ta||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=kl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==lg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(e){this.key=e}}class rb{constructor(e){this.key=e}}class qC{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Pe(),this.mutatedKeys=Pe(),this.ya=TE(e),this.wa=new xl(this.ya)}get ba(){return this.fa}Sa(e,n){const a=n?n.Da:new Px,l=n?n.wa:this.wa;let c=n?n.mutatedKeys:this.mutatedKeys,h=l,m=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((v,T)=>{const A=l.get(v),C=th(this.query,T)?T:null,O=!!A&&this.mutatedKeys.has(A.key),B=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let j=!1;A&&C?A.data.isEqual(C.data)?O!==B&&(a.track({type:3,doc:C}),j=!0):this.va(A,C)||(a.track({type:2,doc:C}),j=!0,(p&&this.ya(C,p)>0||y&&this.ya(C,y)<0)&&(m=!0)):!A&&C?(a.track({type:0,doc:C}),j=!0):A&&!C&&(a.track({type:1,doc:A}),j=!0,(p||y)&&(m=!0)),j&&(C?(h=h.add(C),c=B?c.add(v):c.delete(v)):(h=h.delete(v),c=c.delete(v)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const v=this.query.limitType==="F"?h.last():h.first();h=h.delete(v.key),c=c.delete(v.key),a.track({type:1,doc:v})}return{wa:h,Da:a,ls:m,mutatedKeys:c}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,l){const c=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const h=e.Da.X_();h.sort((v,T)=>function(C,O){const B=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se()}};return B(C)-B(O)}(v.type,T.type)||this.ya(v.doc,T.doc)),this.Ca(a),l=l!=null&&l;const m=n&&!l?this.Fa():[],p=this.pa.size===0&&this.current&&!l?1:0,y=p!==this.ga;return this.ga=p,h.length!==0||y?{snapshot:new kl(this.query,e.wa,c,h,e.mutatedKeys,p===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Px,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Pe(),this.wa.forEach(a=>{this.xa(a.key)&&(this.pa=this.pa.add(a.key))});const n=[];return e.forEach(a=>{this.pa.has(a)||n.push(new rb(a))}),this.pa.forEach(a=>{e.has(a)||n.push(new ab(a))}),n}Oa(e){this.fa=e.gs,this.pa=Pe();const n=this.Sa(e.documents);return this.applyChanges(n,!0)}Na(){return kl.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Zg="SyncEngine";class KC{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class FC{constructor(e){this.key=e,this.Ba=!1}}class GC{constructor(e,n,a,l,c,h){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=h,this.La={},this.ka=new _r(m=>bE(m),eh),this.qa=new Map,this.Qa=new Set,this.$a=new ct(be.comparator),this.Ka=new Map,this.Ua=new zg,this.Wa={},this.Ga=new Map,this.za=Rl.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function $C(s,e,n=!0){const a=hb(s);let l;const c=a.ka.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.Na()):l=await lb(a,e,n,!0),l}async function QC(s,e){const n=hb(s);await lb(n,e,!0,!1)}async function lb(s,e,n,a){const l=await mC(s.localStore,Is(e)),c=l.targetId,h=s.sharedClientState.addLocalQueryTarget(c,n);let m;return a&&(m=await YC(s,e,c,h==="current",l.resumeToken)),s.isPrimaryClient&&n&&WE(s.remoteStore,l),m}async function YC(s,e,n,a,l){s.Ha=(T,A,C)=>async function(B,j,z,q){let G=j.view.Sa(z);G.ls&&(G=await Ix(B.localStore,j.query,!1).then(({documents:V})=>j.view.Sa(V,G)));const Z=q&&q.targetChanges.get(j.targetId),X=q&&q.targetMismatches.get(j.targetId)!=null,le=j.view.applyChanges(G,B.isPrimaryClient,Z,X);return zx(B,j.targetId,le.Ma),le.snapshot}(s,T,A,C);const c=await Ix(s.localStore,e,!0),h=new qC(e,c.gs),m=h.Sa(c.documents),p=wc.createSynthesizedTargetChangeForCurrentChange(n,a&&s.onlineState!=="Offline",l),y=h.applyChanges(m,s.isPrimaryClient,p);zx(s,n,y.Ma);const v=new KC(e,n,h);return s.ka.set(e,v),s.qa.has(n)?s.qa.get(n).push(e):s.qa.set(n,[e]),y.snapshot}async function WC(s,e,n){const a=Ie(s),l=a.ka.get(e),c=a.qa.get(l.targetId);if(c.length>1)return a.qa.set(l.targetId,c.filter(h=>!eh(h,e))),void a.ka.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await ag(a.localStore,l.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(l.targetId),n&&Fg(a.remoteStore,l.targetId),og(a,l.targetId)}).catch(Ll)):(og(a,l.targetId),await ag(a.localStore,l.targetId,!0))}async function XC(s,e){const n=Ie(s),a=n.ka.get(e),l=n.qa.get(a.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),Fg(n.remoteStore,a.targetId))}async function ZC(s,e,n){const a=aI(s);try{const l=await function(h,m){const p=Ie(h),y=Ot.now(),v=m.reduce((C,O)=>C.add(O.key),Pe());let T,A;return p.persistence.runTransaction("Locally write mutations","readwrite",C=>{let O=vi(),B=Pe();return p.ds.getEntries(C,v).next(j=>{O=j,O.forEach((z,q)=>{q.isValidDocument()||(B=B.add(z))})}).next(()=>p.localDocuments.getOverlayedDocuments(C,O)).next(j=>{T=j;const z=[];for(const q of m){const G=fk(q,T.get(q.key).overlayedDocument);G!=null&&z.push(new Sa(q.key,G,mE(G.value.mapValue),$n.exists(!0)))}return p.mutationQueue.addMutationBatch(C,y,z,m)}).next(j=>{A=j;const z=j.applyToLocalDocumentSet(T,B);return p.documentOverlayCache.saveOverlays(C,j.batchId,z)})}).then(()=>({batchId:A.batchId,changes:SE(T)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(l.batchId),function(h,m,p){let y=h.Wa[h.currentUser.toKey()];y||(y=new ct(Ue)),y=y.insert(m,p),h.Wa[h.currentUser.toKey()]=y}(a,l.batchId,n),await Rc(a,l.changes),await lh(a.remoteStore)}catch(l){const c=Wg(l,"Failed to persist write");n.reject(c)}}async function ob(s,e){const n=Ie(s);try{const a=await dC(n.localStore,e);e.targetChanges.forEach((l,c)=>{const h=n.Ka.get(c);h&&(We(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?h.Ba=!0:l.modifiedDocuments.size>0?We(h.Ba):l.removedDocuments.size>0&&(We(h.Ba),h.Ba=!1))}),await Rc(n,a,e)}catch(a){await Ll(a)}}function Bx(s,e,n){const a=Ie(s);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const l=[];a.ka.forEach((c,h)=>{const m=h.view.sa(e);m.snapshot&&l.push(m.snapshot)}),function(h,m){const p=Ie(h);p.onlineState=m;let y=!1;p.queries.forEach((v,T)=>{for(const A of T.ta)A.sa(m)&&(y=!0)}),y&&Xg(p)}(a.eventManager,e),l.length&&a.La.p_(l),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function JC(s,e,n){const a=Ie(s);a.sharedClientState.updateQueryState(e,"rejected",n);const l=a.Ka.get(e),c=l&&l.key;if(c){let h=new ct(be.comparator);h=h.insert(c,sn.newNoDocument(c,Re.min()));const m=Pe().add(c),p=new ih(Re.min(),new Map,new ct(Ue),h,m);await ob(a,p),a.$a=a.$a.remove(c),a.Ka.delete(e),Jg(a)}else await ag(a.localStore,e,!1).then(()=>og(a,e,n)).catch(Ll)}async function eI(s,e){const n=Ie(s),a=e.batch.batchId;try{const l=await uC(n.localStore,e);ub(n,a,null),cb(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await Rc(n,l)}catch(l){await Ll(l)}}async function tI(s,e,n){const a=Ie(s);try{const l=await function(h,m){const p=Ie(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let v;return p.mutationQueue.lookupMutationBatch(y,m).next(T=>(We(T!==null),v=T.keys(),p.mutationQueue.removeMutationBatch(y,T))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,v,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,v)).next(()=>p.localDocuments.getDocuments(y,v))})}(a.localStore,e);ub(a,e,n),cb(a,e),a.sharedClientState.updateMutationState(e,"rejected",n),await Rc(a,l)}catch(l){await Ll(l)}}function cb(s,e){(s.Ga.get(e)||[]).forEach(n=>{n.resolve()}),s.Ga.delete(e)}function ub(s,e,n){const a=Ie(s);let l=a.Wa[a.currentUser.toKey()];if(l){const c=l.get(e);c&&(n?c.reject(n):c.resolve(),l=l.remove(e)),a.Wa[a.currentUser.toKey()]=l}}function og(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.qa.get(e))s.ka.delete(a),n&&s.La.Ja(a,n);s.qa.delete(e),s.isPrimaryClient&&s.Ua.Sr(e).forEach(a=>{s.Ua.containsKey(a)||db(s,a)})}function db(s,e){s.Qa.delete(e.path.canonicalString());const n=s.$a.get(e);n!==null&&(Fg(s.remoteStore,n),s.$a=s.$a.remove(e),s.Ka.delete(n),Jg(s))}function zx(s,e,n){for(const a of n)a instanceof ab?(s.Ua.addReference(a.key,e),nI(s,a)):a instanceof rb?(ye(Zg,"Document no longer in limbo: "+a.key),s.Ua.removeReference(a.key,e),s.Ua.containsKey(a.key)||db(s,a.key)):Se()}function nI(s,e){const n=e.key,a=n.path.canonicalString();s.$a.get(n)||s.Qa.has(a)||(ye(Zg,"New document in limbo: "+n),s.Qa.add(a),Jg(s))}function Jg(s){for(;s.Qa.size>0&&s.$a.size<s.maxConcurrentLimboResolutions;){const e=s.Qa.values().next().value;s.Qa.delete(e);const n=new be(st.fromString(e)),a=s.za.next();s.Ka.set(a,new FC(n)),s.$a=s.$a.insert(n,a),WE(s.remoteStore,new da(Is(Mg(n.path)),a,"TargetPurposeLimboResolution",Xd.ae))}}async function Rc(s,e,n){const a=Ie(s),l=[],c=[],h=[];a.ka.isEmpty()||(a.ka.forEach((m,p)=>{h.push(a.Ha(p,e,n).then(y=>{var v;if((y||n)&&a.isPrimaryClient){const T=y?!y.fromCache:(v=n==null?void 0:n.targetChanges.get(p.targetId))===null||v===void 0?void 0:v.current;a.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(y){l.push(y);const T=qg.Yi(p.targetId,y);c.push(T)}}))}),await Promise.all(h),a.La.p_(l),await async function(p,y){const v=Ie(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>ue.forEach(y,A=>ue.forEach(A.Hi,C=>v.persistence.referenceDelegate.addReference(T,A.targetId,C)).next(()=>ue.forEach(A.Ji,C=>v.persistence.referenceDelegate.removeReference(T,A.targetId,C)))))}catch(T){if(!Pl(T))throw T;ye(Kg,"Failed to update sequence numbers: "+T)}for(const T of y){const A=T.targetId;if(!T.fromCache){const C=v.Ts.get(A),O=C.snapshotVersion,B=C.withLastLimboFreeSnapshotVersion(O);v.Ts=v.Ts.insert(A,B)}}}(a.localStore,c))}async function sI(s,e){const n=Ie(s);if(!n.currentUser.isEqual(e)){ye(Zg,"User change. New user:",e.toKey());const a=await GE(n.localStore,e);n.currentUser=e,function(c,h){c.Ga.forEach(m=>{m.forEach(p=>{p.reject(new _e(ce.CANCELLED,h))})}),c.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Rc(n,a.Rs)}}function iI(s,e){const n=Ie(s),a=n.Ka.get(e);if(a&&a.Ba)return Pe().add(a.key);{let l=Pe();const c=n.qa.get(e);if(!c)return l;for(const h of c){const m=n.ka.get(h);l=l.unionWith(m.view.ba)}return l}}function hb(s){const e=Ie(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=ob.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=iI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=JC.bind(null,e),e.La.p_=zC.bind(null,e.eventManager),e.La.Ja=HC.bind(null,e.eventManager),e}function aI(s){const e=Ie(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=eI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tI.bind(null,e),e}class Bd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ah(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return cC(this.persistence,new rC,e.initialUser,this.serializer)}Xa(e){return new FE(Hg.ri,this.serializer)}Za(e){return new pC}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Bd.provider={build:()=>new Bd};class rI extends Bd{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){We(this.persistence.referenceDelegate instanceof Vd);const a=this.persistence.referenceDelegate.garbageCollector;return new Fk(a,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new FE(a=>Vd.ri(a,n),this.serializer)}}class cg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Bx(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=sI.bind(null,this.syncEngine),await VC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new BC}()}createDatastore(e){const n=ah(e.databaseInfo.databaseId),a=function(c){return new EC(c)}(e.databaseInfo);return function(c,h,m,p){return new SC(c,h,m,p)}(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return function(a,l,c,h,m){return new NC(a,l,c,h,m)}(this.localStore,this.datastore,e.asyncQueue,n=>Bx(this.syncEngine,n,0),function(){return Ox.D()?new Ox:new yC}())}createSyncEngine(e,n){return function(l,c,h,m,p,y,v){const T=new GC(l,c,h,m,p,y);return v&&(T.ja=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(l){const c=Ie(l);ye(hr,"RemoteStore shutting down."),c.W_.add(5),await Nc(c),c.z_.shutdown(),c.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}cg.provider={build:()=>new cg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):_i("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta="FirestoreClient";class lI{constructor(e,n,a,l,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=l,this.user=nn.UNAUTHENTICATED,this.clientId=iE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,async h=>{ye(Ta,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(a,h=>(ye(Ta,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new gi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=Wg(n,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function Lm(s,e){s.asyncQueue.verifyOperationInProgress(),ye(Ta,"Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let a=n.initialUser;s.setCredentialChangeListener(async l=>{a.isEqual(l)||(await GE(e.localStore,l),a=l)}),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}async function Hx(s,e){s.asyncQueue.verifyOperationInProgress();const n=await oI(s);ye(Ta,"Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener(a=>Lx(e.remoteStore,a)),s.setAppCheckTokenChangeListener((a,l)=>Lx(e.remoteStore,l)),s._onlineComponents=e}async function oI(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ye(Ta,"Using user provided OfflineComponentProvider");try{await Lm(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(l){return l.name==="FirebaseError"?l.code===ce.FAILED_PRECONDITION||l.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(n))throw n;Al("Error using user provided cache. Falling back to memory cache: "+n),await Lm(s,new Bd)}}else ye(Ta,"Using default OfflineComponentProvider"),await Lm(s,new rI(void 0));return s._offlineComponents}async function mb(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ye(Ta,"Using user provided OnlineComponentProvider"),await Hx(s,s._uninitializedComponentsProvider._online)):(ye(Ta,"Using default OnlineComponentProvider"),await Hx(s,new cg))),s._onlineComponents}function cI(s){return mb(s).then(e=>e.syncEngine)}async function gb(s){const e=await mb(s),n=e.eventManager;return n.onListen=$C.bind(null,e.syncEngine),n.onUnlisten=WC.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=QC.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=XC.bind(null,e.syncEngine),n}function uI(s,e,n={}){const a=new gi;return s.asyncQueue.enqueueAndForget(async()=>function(c,h,m,p,y){const v=new fb({next:A=>{v.su(),h.enqueueAndForget(()=>sb(c,T));const C=A.docs.has(m);!C&&A.fromCache?y.reject(new _e(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&A.fromCache&&p&&p.source==="server"?y.reject(new _e(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(A)},error:A=>y.reject(A)}),T=new ib(Mg(m.path),v,{includeMetadataChanges:!0,Ta:!0});return nb(c,T)}(await gb(s),s.asyncQueue,e,n,a)),a.promise}function dI(s,e,n={}){const a=new gi;return s.asyncQueue.enqueueAndForget(async()=>function(c,h,m,p,y){const v=new fb({next:A=>{v.su(),h.enqueueAndForget(()=>sb(c,T)),A.fromCache&&p.source==="server"?y.reject(new _e(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(A)},error:A=>y.reject(A)}),T=new ib(m,v,{includeMetadataChanges:!0,Ta:!0});return nb(c,T)}(await gb(s),s.asyncQueue,e,n,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pb(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yb(s,e,n){if(!n)throw new _e(ce.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function hI(s,e,n,a){if(e===!0&&a===!0)throw new _e(ce.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function Kx(s){if(!be.isDocumentKey(s))throw new _e(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Fx(s){if(be.isDocumentKey(s))throw new _e(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function oh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Se()}function rs(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new _e(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=oh(s);throw new _e(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b="firestore.googleapis.com",Gx=!0;class $x{constructor(e){var n,a;if(e.host===void 0){if(e.ssl!==void 0)throw new _e(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_b,this.ssl=Gx}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Gx;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=KE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<qk)throw new _e(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pb((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new _e(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new _e(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new _e(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,l){return a.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ch{constructor(e,n,a,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $x({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $x(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new xR;switch(a.type){case"firstParty":return new AR(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new _e(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const a=qx.get(n);a&&(ye("ComponentProvider","Removing Datastore"),qx.delete(n),a.terminate())}(this),Promise.resolve()}}function fI(s,e,n,a={}){var l;const c=(s=rs(s,ch))._getSettings(),h=Object.assign(Object.assign({},c),{emulatorOptions:s._getEmulatorOptions()}),m=`${e}:${n}`;c.host!==_b&&c.host!==m&&Al("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},c),{host:m,ssl:!1,emulatorOptions:a});if(!cr(p,h)&&(s._setSettings(p),a.mockUserToken)){let y,v;if(typeof a.mockUserToken=="string")y=a.mockUserToken,v=nn.MOCK_USER;else{y=F0(a.mockUserToken,(l=s._app)===null||l===void 0?void 0:l.options.projectId);const T=a.mockUserToken.sub||a.mockUserToken.user_id;if(!T)throw new _e(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new nn(T)}s._authCredentials=new ER(new sE(y,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new xr(this.firestore,e,this._query)}}class fn{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ga(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fn(this.firestore,e,this._key)}}class ga extends xr{constructor(e,n,a){super(e,n,Mg(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fn(this.firestore,null,new be(e))}withConverter(e){return new ga(this.firestore,e,this._path)}}function Wt(s,e,...n){if(s=at(s),yb("collection","path",e),s instanceof ch){const a=st.fromString(e,...n);return Fx(a),new ga(s,null,a)}{if(!(s instanceof fn||s instanceof ga))throw new _e(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(st.fromString(e,...n));return Fx(a),new ga(s.firestore,null,a)}}function gt(s,e,...n){if(s=at(s),arguments.length===1&&(e=iE.newId()),yb("doc","path",e),s instanceof ch){const a=st.fromString(e,...n);return Kx(a),new fn(s,null,new be(a))}{if(!(s instanceof fn||s instanceof ga))throw new _e(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(st.fromString(e,...n));return Kx(a),new fn(s.firestore,s instanceof ga?s.converter:null,new be(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx="AsyncQueue";class Yx{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new QE(this,"async_queue_retry"),this.bu=()=>{const a=Mm();a&&ye(Qx,"Visibility state changed to "+a.visibilityState),this.a_.t_()},this.Su=e;const n=Mm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=Mm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new gi;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Pl(e))throw e;ye(Qx,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.Su.then(()=>(this.pu=!0,e().catch(a=>{this.gu=a,this.pu=!1;const l=function(h){let m=h.message||"";return h.stack&&(m=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),m}(a);throw _i("INTERNAL UNHANDLED ERROR: ",l),a}).then(a=>(this.pu=!1,a))));return this.Su=n,n}enqueueAfterDelay(e,n,a){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const l=Yg.createAndSchedule(this,e,n,a,c=>this.Fu(c));return this.fu.push(l),l}Du(){this.gu&&Se()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,a)=>n.targetTimeMs-a.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class Er extends ch{constructor(e,n,a,l){super(e,n,a,l),this.type="firestore",this._queue=new Yx,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Yx(e),this._firestoreClient=void 0,await e}}}function mI(s,e){const n=typeof s=="object"?s:Rg(),a=typeof s=="string"?s:jd,l=Wd(n,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=H0("firestore");c&&fI(l,...c)}return l}function ep(s){if(s._terminated)throw new _e(ce.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||gI(s),s._firestoreClient}function gI(s){var e,n,a;const l=s._freezeSettings(),c=function(m,p,y,v){return new VR(m,p,y,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,pb(v.experimentalLongPollingOptions),v.useFetchStreams)}(s._databaseId,((e=s._app)===null||e===void 0?void 0:e.options.appId)||"",s._persistenceKey,l);s._componentsProvider||!((n=l.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((a=l.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(s._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),s._firestoreClient=new lI(s._authCredentials,s._appCheckCredentials,s._queue,c,s._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Cl(Xt.fromBase64String(e))}catch(n){throw new _e(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Cl(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new _e(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new _e(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new _e(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI=/^__.*__$/;class yI{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return this.fieldMask!==null?new Sa(e,this.data,this.fieldMask,n,this.fieldTransforms):new Sc(e,this.data,n,this.fieldTransforms)}}class vb{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return new Sa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function xb(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se()}}class ip{constructor(e,n,a,l,c,h){this.settings=e,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Bu(),this.fieldTransforms=c||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new ip(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(e),l=this.ku({path:a,Qu:!1});return l.$u(e),l}Ku(e){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(e),l=this.ku({path:a,Qu:!1});return l.Bu(),l}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return zd(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(xb(this.Lu)&&pI.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class _I{constructor(e,n,a){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=a||ah(e)}ju(e,n,a,l=!1){return new ip({Lu:e,methodName:n,zu:a,path:Yt.emptyPath(),Qu:!1,Gu:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function dh(s){const e=s._freezeSettings(),n=ah(s._databaseId);return new _I(s._databaseId,!!e.ignoreUndefinedProperties,n)}function Eb(s,e,n,a,l,c={}){const h=s.ju(c.merge||c.mergeFields?2:0,e,n,l);ap("Data must be an object, but it was:",h,a);const m=bb(a,h);let p,y;if(c.merge)p=new Rn(h.fieldMask),y=h.fieldTransforms;else if(c.mergeFields){const v=[];for(const T of c.mergeFields){const A=ug(e,T,n);if(!h.contains(A))throw new _e(ce.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);Ab(v,A)||v.push(A)}p=new Rn(v),y=h.fieldTransforms.filter(T=>p.covers(T.field))}else p=null,y=h.fieldTransforms;return new yI(new vn(m),p,y)}class hh extends tp{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof hh}}function vI(s,e,n,a){const l=s.ju(1,e,n);ap("Data must be an object, but it was:",l,a);const c=[],h=vn.empty();Aa(a,(p,y)=>{const v=rp(e,p,n);y=at(y);const T=l.Ku(v);if(y instanceof hh)c.push(v);else{const A=kc(y,T);A!=null&&(c.push(v),h.set(v,A))}});const m=new Rn(c);return new vb(h,m,l.fieldTransforms)}function xI(s,e,n,a,l,c){const h=s.ju(1,e,n),m=[ug(e,a,n)],p=[l];if(c.length%2!=0)throw new _e(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<c.length;A+=2)m.push(ug(e,c[A])),p.push(c[A+1]);const y=[],v=vn.empty();for(let A=m.length-1;A>=0;--A)if(!Ab(y,m[A])){const C=m[A];let O=p[A];O=at(O);const B=h.Ku(C);if(O instanceof hh)y.push(C);else{const j=kc(O,B);j!=null&&(y.push(C),v.set(C,j))}}const T=new Rn(y);return new vb(v,T,h.fieldTransforms)}function EI(s,e,n,a=!1){return kc(n,s.ju(a?4:3,e))}function kc(s,e){if(Tb(s=at(s)))return ap("Unsupported field value:",e,s),bb(s,e);if(s instanceof tp)return function(a,l){if(!xb(l.Lu))throw l.Wu(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Wu(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)}(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(a,l){const c=[];let h=0;for(const m of a){let p=kc(m,l.Uu(h));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),h++}return{arrayValue:{values:c}}}(s,e)}return function(a,l){if((a=at(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return lk(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=Ot.fromDate(a);return{timestampValue:Pd(l.serializer,c)}}if(a instanceof Ot){const c=new Ot(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Pd(l.serializer,c)}}if(a instanceof np)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Cl)return{bytesValue:PE(l.serializer,a._byteString)};if(a instanceof fn){const c=l.databaseId,h=a.firestore._databaseId;if(!h.isEqual(c))throw l.Wu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Bg(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof sp)return function(h,m){return{mapValue:{fields:{[hE]:{stringValue:fE},[Dd]:{arrayValue:{values:h.toArray().map(y=>{if(typeof y!="number")throw m.Wu("VectorValues must only contain numeric values.");return Lg(m.serializer,y)})}}}}}}(a,l);throw l.Wu(`Unsupported field value: ${oh(a)}`)}(s,e)}function bb(s,e){const n={};return rE(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Aa(s,(a,l)=>{const c=kc(l,e.qu(a));c!=null&&(n[a]=c)}),{mapValue:{fields:n}}}function Tb(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Ot||s instanceof np||s instanceof Cl||s instanceof fn||s instanceof tp||s instanceof sp)}function ap(s,e,n){if(!Tb(n)||!function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}(n)){const a=oh(n);throw a==="an object"?e.Wu(s+" a custom object"):e.Wu(s+" "+a)}}function ug(s,e,n){if((e=at(e))instanceof uh)return e._internalPath;if(typeof e=="string")return rp(s,e);throw zd("Field path arguments must be of type string or ",s,!1,void 0,n)}const bI=new RegExp("[~\\*/\\[\\]]");function rp(s,e,n){if(e.search(bI)>=0)throw zd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new uh(...e.split("."))._internalPath}catch{throw zd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function zd(s,e,n,a,l){const c=a&&!a.isEmpty(),h=l!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(c||h)&&(p+=" (found",c&&(p+=` in field ${a}`),h&&(p+=` in document ${l}`),p+=")"),new _e(ce.INVALID_ARGUMENT,m+s+p)}function Ab(s,e){return s.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(e,n,a,l,c){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new fn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new TI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(fh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class TI extends Sb{data(){return super.data()}}function fh(s,e){return typeof e=="string"?rp(s,e):e instanceof uh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AI(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new _e(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class lp{}class wb extends lp{}function rr(s,e,...n){let a=[];e instanceof lp&&a.push(e),a=a.concat(n),function(c){const h=c.filter(p=>p instanceof op).length,m=c.filter(p=>p instanceof mh).length;if(h>1||h>0&&m>0)throw new _e(ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const l of a)s=l._apply(s);return s}class mh extends wb{constructor(e,n,a){super(),this._field=e,this._op=n,this._value=a,this.type="where"}static _create(e,n,a){return new mh(e,n,a)}_apply(e){const n=this._parse(e);return Nb(e._query,n),new xr(e.firestore,e.converter,Jm(e._query,n))}_parse(e){const n=dh(e.firestore);return function(c,h,m,p,y,v,T){let A;if(y.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new _e(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){Zx(T,v);const O=[];for(const B of T)O.push(Xx(p,c,B));A={arrayValue:{values:O}}}else A=Xx(p,c,T)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||Zx(T,v),A=EI(m,h,T,v==="in"||v==="not-in");return wt.create(y,v,A)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function ud(s,e,n){const a=e,l=fh("where",s);return mh._create(l,a,n)}class op extends lp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new op(e,n)}_parse(e){const n=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return n.length===1?n[0]:as.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(l,c){let h=l;const m=c.getFlattenedFilters();for(const p of m)Nb(h,p),h=Jm(h,p)}(e._query,n),new xr(e.firestore,e.converter,Jm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class cp extends wb{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new cp(e,n)}_apply(e){const n=function(l,c,h){if(l.startAt!==null)throw new _e(ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new _e(ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new yc(c,h)}(e._query,this._field,this._direction);return new xr(e.firestore,e.converter,function(l,c){const h=l.explicitOrderBy.concat([c]);return new Vl(l.path,l.collectionGroup,h,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(e._query,n))}}function Wx(s,e="asc"){const n=e,a=fh("orderBy",s);return cp._create(a,n)}function Xx(s,e,n){if(typeof(n=at(n))=="string"){if(n==="")throw new _e(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!EE(e)&&n.indexOf("/")!==-1)throw new _e(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=e.path.child(st.fromString(n));if(!be.isDocumentKey(a))throw new _e(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return hx(s,new be(a))}if(n instanceof fn)return hx(s,n._key);throw new _e(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${oh(n)}.`)}function Zx(s,e){if(!Array.isArray(s)||s.length===0)throw new _e(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Nb(s,e){const n=function(l,c){for(const h of l)for(const m of h.getFlattenedFilters())if(c.indexOf(m.op)>=0)return m.op;return null}(s.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new _e(ce.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new _e(ce.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class SI{convertValue(e,n="none"){switch(Ea(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(xa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Se()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return Aa(e,(l,c)=>{a[l]=this.convertValue(c,n)}),a}convertVectorValue(e){var n,a,l;const c=(l=(a=(n=e.fields)===null||n===void 0?void 0:n[Dd].arrayValue)===null||a===void 0?void 0:a.values)===null||l===void 0?void 0:l.map(h=>xt(h.doubleValue));return new sp(c)}convertGeoPoint(e){return new np(xt(e.latitude),xt(e.longitude))}convertArray(e,n){return(e.values||[]).map(a=>this.convertValue(a,n))}convertServerTimestamp(e,n){switch(n){case"previous":const a=Jd(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(mc(e));default:return null}}convertTimestamp(e){const n=va(e);return new Ot(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=st.fromString(e);We(qE(a));const l=new gc(a.get(1),a.get(3)),c=new be(a.popFirst(5));return l.isEqual(n)||_i(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rb(s,e,n){let a;return a=s?s.toFirestore(e):e,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class kb extends Sb{constructor(e,n,a,l,c,h){super(e,n,a,l,h),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new bd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(fh("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}}class bd extends kb{data(e={}){return super.data(e)}}class wI{constructor(e,n,a,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new ic(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(a=>{e.call(n,new bd(this._firestore,this._userDataWriter,a.key,a,new ic(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new _e(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(l,c){if(l._snapshot.oldDocs.isEmpty()){let h=0;return l._snapshot.docChanges.map(m=>{const p=new bd(l._firestore,l._userDataWriter,m.doc.key,m.doc,new ic(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(m=>c||m.type!==3).map(m=>{const p=new bd(l._firestore,l._userDataWriter,m.doc.key,m.doc,new ic(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,v=-1;return m.type!==0&&(y=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),v=h.indexOf(m.doc.key)),{type:NI(m.type),doc:p,oldIndex:y,newIndex:v}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function NI(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(s){s=rs(s,fn);const e=rs(s.firestore,Er);return uI(ep(e),s._key).then(n=>kI(e,s,n))}class Cb extends SI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new fn(this.firestore,null,n)}}function Qn(s){s=rs(s,xr);const e=rs(s.firestore,Er),n=ep(e),a=new Cb(e);return AI(s._query),dI(n,s._query).then(l=>new wI(e,a,s,l))}function ls(s,e,n){s=rs(s,fn);const a=rs(s.firestore,Er),l=Rb(s.converter,e);return gh(a,[Eb(dh(a),"setDoc",s._key,l,s.converter!==null,n).toMutation(s._key,$n.none())])}function RI(s,e,n,...a){s=rs(s,fn);const l=rs(s.firestore,Er),c=dh(l);let h;return h=typeof(e=at(e))=="string"||e instanceof uh?xI(c,"updateDoc",s._key,e,n,a):vI(c,"updateDoc",s._key,e),gh(l,[h.toMutation(s._key,$n.exists(!0))])}function Cc(s){return gh(rs(s.firestore,Er),[new Pg(s._key,$n.none())])}function Ib(s,e){const n=rs(s.firestore,Er),a=gt(s),l=Rb(s.converter,e);return gh(n,[Eb(dh(s.firestore),"addDoc",a._key,l,s.converter!==null,{}).toMutation(a._key,$n.exists(!1))]).then(()=>a)}function gh(s,e){return function(a,l){const c=new gi;return a.asyncQueue.enqueueAndForget(async()=>ZC(await cI(a),l,c)),c.promise}(ep(s),e)}function kI(s,e,n){const a=n.docs.get(e._key),l=new Cb(s);return new kb(s,l,e._key,a,new ic(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(l){Ml=l})(yr),ur(new ya("firestore",(a,{instanceIdentifier:l,options:c})=>{const h=a.getProvider("app").getImmediate(),m=new Er(new bR(a.getProvider("auth-internal")),new SR(h,a.getProvider("app-check-internal")),function(y,v){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new _e(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gc(y.options.projectId,v)}(h,l),h);return c=Object.assign({useFetchStreams:n},c),m._setSettings(c),m},"PUBLIC").setMultipleInstances(!0)),Cs(tx,nx,e),Cs(tx,nx,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb="firebasestorage.googleapis.com",Db="storageBucket",CI=2*60*1e3,II=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt extends Ls{constructor(e,n,a=0){super(Pm(e),`Firebase Storage: ${n} (${Pm(e)})`),this.status_=a,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,yt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Pm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var pt;(function(s){s.UNKNOWN="unknown",s.OBJECT_NOT_FOUND="object-not-found",s.BUCKET_NOT_FOUND="bucket-not-found",s.PROJECT_NOT_FOUND="project-not-found",s.QUOTA_EXCEEDED="quota-exceeded",s.UNAUTHENTICATED="unauthenticated",s.UNAUTHORIZED="unauthorized",s.UNAUTHORIZED_APP="unauthorized-app",s.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",s.INVALID_CHECKSUM="invalid-checksum",s.CANCELED="canceled",s.INVALID_EVENT_NAME="invalid-event-name",s.INVALID_URL="invalid-url",s.INVALID_DEFAULT_BUCKET="invalid-default-bucket",s.NO_DEFAULT_BUCKET="no-default-bucket",s.CANNOT_SLICE_BLOB="cannot-slice-blob",s.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",s.NO_DOWNLOAD_URL="no-download-url",s.INVALID_ARGUMENT="invalid-argument",s.INVALID_ARGUMENT_COUNT="invalid-argument-count",s.APP_DELETED="app-deleted",s.INVALID_ROOT_OPERATION="invalid-root-operation",s.INVALID_FORMAT="invalid-format",s.INTERNAL_ERROR="internal-error",s.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(pt||(pt={}));function Pm(s){return"storage/"+s}function up(){const s="An unknown error occurred, please check the error payload for server response.";return new yt(pt.UNKNOWN,s)}function jI(s){return new yt(pt.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")}function DI(s){return new yt(pt.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function OI(){const s="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new yt(pt.UNAUTHENTICATED,s)}function MI(){return new yt(pt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function LI(s){return new yt(pt.UNAUTHORIZED,"User does not have permission to access '"+s+"'.")}function PI(){return new yt(pt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function VI(){return new yt(pt.CANCELED,"User canceled the upload/download.")}function UI(s){return new yt(pt.INVALID_URL,"Invalid URL '"+s+"'.")}function BI(s){return new yt(pt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+s+"'.")}function zI(){return new yt(pt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Db+"' property when initializing the app?")}function HI(){return new yt(pt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function qI(){return new yt(pt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function KI(s){return new yt(pt.UNSUPPORTED_ENVIRONMENT,`${s} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function dg(s){return new yt(pt.INVALID_ARGUMENT,s)}function Ob(){return new yt(pt.APP_DELETED,"The Firebase app was deleted.")}function FI(s){return new yt(pt.INVALID_ROOT_OPERATION,"The operation '"+s+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function cc(s,e){return new yt(pt.INVALID_FORMAT,"String does not match format '"+s+"': "+e)}function Zo(s){throw new yt(pt.INTERNAL_ERROR,"Internal error: "+s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let a;try{a=kn.makeFromUrl(e,n)}catch{return new kn(e,"")}if(a.path==="")return a;throw BI(e)}static makeFromUrl(e,n){let a=null;const l="([A-Za-z0-9.\\-_]+)";function c(Z){Z.path.charAt(Z.path.length-1)==="/"&&(Z.path_=Z.path_.slice(0,-1))}const h="(/(.*))?$",m=new RegExp("^gs://"+l+h,"i"),p={bucket:1,path:3};function y(Z){Z.path_=decodeURIComponent(Z.path)}const v="v[A-Za-z0-9_]+",T=n.replace(/[.]/g,"\\."),A="(/([^?#]*).*)?$",C=new RegExp(`^https?://${T}/${v}/b/${l}/o${A}`,"i"),O={bucket:1,path:3},B=n===jb?"(?:storage.googleapis.com|storage.cloud.google.com)":n,j="([^?#]*)",z=new RegExp(`^https?://${B}/${l}/${j}`,"i"),G=[{regex:m,indices:p,postModify:c},{regex:C,indices:O,postModify:y},{regex:z,indices:{bucket:1,path:2},postModify:y}];for(let Z=0;Z<G.length;Z++){const X=G[Z],le=X.regex.exec(e);if(le){const V=le[X.indices.bucket];let k=le[X.indices.path];k||(k=""),a=new kn(V,k),X.postModify(a);break}}if(a==null)throw UI(e);return a}}class GI{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $I(s,e,n){let a=1,l=null,c=null,h=!1,m=0;function p(){return m===2}let y=!1;function v(...j){y||(y=!0,e.apply(null,j))}function T(j){l=setTimeout(()=>{l=null,s(C,p())},j)}function A(){c&&clearTimeout(c)}function C(j,...z){if(y){A();return}if(j){A(),v.call(null,j,...z);return}if(p()||h){A(),v.call(null,j,...z);return}a<64&&(a*=2);let G;m===1?(m=2,G=0):G=(a+Math.random())*1e3,T(G)}let O=!1;function B(j){O||(O=!0,A(),!y&&(l!==null?(j||(m=2),clearTimeout(l),T(0)):j||(m=1)))}return T(0),c=setTimeout(()=>{h=!0,B(!0)},n),B}function QI(s){s(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YI(s){return s!==void 0}function WI(s){return typeof s=="object"&&!Array.isArray(s)}function dp(s){return typeof s=="string"||s instanceof String}function Jx(s){return hp()&&s instanceof Blob}function hp(){return typeof Blob<"u"}function e0(s,e,n,a){if(a<e)throw dg(`Invalid value for '${s}'. Expected ${e} or greater.`);if(a>n)throw dg(`Invalid value for '${s}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ph(s,e,n){let a=e;return n==null&&(a=`https://${e}`),`${n}://${a}/v0${s}`}function Mb(s){const e=encodeURIComponent;let n="?";for(const a in s)if(s.hasOwnProperty(a)){const l=e(a)+"="+e(s[a]);n=n+l+"&"}return n=n.slice(0,-1),n}var or;(function(s){s[s.NO_ERROR=0]="NO_ERROR",s[s.NETWORK_ERROR=1]="NETWORK_ERROR",s[s.ABORT=2]="ABORT"})(or||(or={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XI(s,e){const n=s>=500&&s<600,l=[408,429].indexOf(s)!==-1,c=e.indexOf(s)!==-1;return n||l||c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e,n,a,l,c,h,m,p,y,v,T,A=!0){this.url_=e,this.method_=n,this.headers_=a,this.body_=l,this.successCodes_=c,this.additionalRetryCodes_=h,this.callback_=m,this.errorCallback_=p,this.timeout_=y,this.progressCallback_=v,this.connectionFactory_=T,this.retry=A,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,O)=>{this.resolve_=C,this.reject_=O,this.start_()})}start_(){const e=(a,l)=>{if(l){a(!1,new dd(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const h=m=>{const p=m.loaded,y=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,y)};this.progressCallback_!==null&&c.addUploadProgressListener(h),c.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(h),this.pendingConnection_=null;const m=c.getErrorCode()===or.NO_ERROR,p=c.getStatus();if(!m||XI(p,this.additionalRetryCodes_)&&this.retry){const v=c.getErrorCode()===or.ABORT;a(!1,new dd(!1,null,v));return}const y=this.successCodes_.indexOf(p)!==-1;a(!0,new dd(y,c))})},n=(a,l)=>{const c=this.resolve_,h=this.reject_,m=l.connection;if(l.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());YI(p)?c(p):c()}catch(p){h(p)}else if(m!==null){const p=up();p.serverResponse=m.getErrorText(),this.errorCallback_?h(this.errorCallback_(m,p)):h(p)}else if(l.canceled){const p=this.appDelete_?Ob():VI();h(p)}else{const p=PI();h(p)}};this.canceled_?n(!1,new dd(!1,null,!0)):this.backoffId_=$I(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&QI(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class dd{constructor(e,n,a){this.wasSuccessCode=e,this.connection=n,this.canceled=!!a}}function JI(s,e){e!==null&&e.length>0&&(s.Authorization="Firebase "+e)}function e1(s,e){s["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function t1(s,e){e&&(s["X-Firebase-GMPID"]=e)}function n1(s,e){e!==null&&(s["X-Firebase-AppCheck"]=e)}function s1(s,e,n,a,l,c,h=!0){const m=Mb(s.urlParams),p=s.url+m,y=Object.assign({},s.headers);return t1(y,e),JI(y,n),e1(y,c),n1(y,a),new ZI(p,s.method,y,s.body,s.successCodes,s.additionalRetryCodes,s.handler,s.errorHandler,s.timeout,s.progressCallback,l,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i1(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function a1(...s){const e=i1();if(e!==void 0){const n=new e;for(let a=0;a<s.length;a++)n.append(s[a]);return n.getBlob()}else{if(hp())return new Blob(s);throw new yt(pt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function r1(s,e,n){return s.webkitSlice?s.webkitSlice(e,n):s.mozSlice?s.mozSlice(e,n):s.slice?s.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l1(s){if(typeof atob>"u")throw KI("base-64");return atob(s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Vm{constructor(e,n){this.data=e,this.contentType=n||null}}function o1(s,e){switch(s){case ks.RAW:return new Vm(Lb(e));case ks.BASE64:case ks.BASE64URL:return new Vm(Pb(s,e));case ks.DATA_URL:return new Vm(u1(e),d1(e))}throw up()}function Lb(s){const e=[];for(let n=0;n<s.length;n++){let a=s.charCodeAt(n);if(a<=127)e.push(a);else if(a<=2047)e.push(192|a>>6,128|a&63);else if((a&64512)===55296)if(!(n<s.length-1&&(s.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const c=a,h=s.charCodeAt(++n);a=65536|(c&1023)<<10|h&1023,e.push(240|a>>18,128|a>>12&63,128|a>>6&63,128|a&63)}else(a&64512)===56320?e.push(239,191,189):e.push(224|a>>12,128|a>>6&63,128|a&63)}return new Uint8Array(e)}function c1(s){let e;try{e=decodeURIComponent(s)}catch{throw cc(ks.DATA_URL,"Malformed data URL.")}return Lb(e)}function Pb(s,e){switch(s){case ks.BASE64:{const l=e.indexOf("-")!==-1,c=e.indexOf("_")!==-1;if(l||c)throw cc(s,"Invalid character '"+(l?"-":"_")+"' found: is it base64url encoded?");break}case ks.BASE64URL:{const l=e.indexOf("+")!==-1,c=e.indexOf("/")!==-1;if(l||c)throw cc(s,"Invalid character '"+(l?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=l1(e)}catch(l){throw l.message.includes("polyfill")?l:cc(s,"Invalid character found")}const a=new Uint8Array(n.length);for(let l=0;l<n.length;l++)a[l]=n.charCodeAt(l);return a}class Vb{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw cc(ks.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const a=n[1]||null;a!=null&&(this.base64=h1(a,";base64"),this.contentType=this.base64?a.substring(0,a.length-7):a),this.rest=e.substring(e.indexOf(",")+1)}}function u1(s){const e=new Vb(s);return e.base64?Pb(ks.BASE64,e.rest):c1(e.rest)}function d1(s){return new Vb(s).contentType}function h1(s,e){return s.length>=e.length?s.substring(s.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e,n){let a=0,l="";Jx(e)?(this.data_=e,a=e.size,l=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),a=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),a=e.length),this.size_=a,this.type_=l}size(){return this.size_}type(){return this.type_}slice(e,n){if(Jx(this.data_)){const a=this.data_,l=r1(a,e,n);return l===null?null:new ra(l)}else{const a=new Uint8Array(this.data_.buffer,e,n-e);return new ra(a,!0)}}static getBlob(...e){if(hp()){const n=e.map(a=>a instanceof ra?a.data_:a);return new ra(a1.apply(null,n))}else{const n=e.map(h=>dp(h)?o1(ks.RAW,h).data:h.data_);let a=0;n.forEach(h=>{a+=h.byteLength});const l=new Uint8Array(a);let c=0;return n.forEach(h=>{for(let m=0;m<h.length;m++)l[c++]=h[m]}),new ra(l,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ub(s){let e;try{e=JSON.parse(s)}catch{return null}return WI(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f1(s){if(s.length===0)return null;const e=s.lastIndexOf("/");return e===-1?"":s.slice(0,e)}function m1(s,e){const n=e.split("/").filter(a=>a.length>0).join("/");return s.length===0?n:s+"/"+n}function Bb(s){const e=s.lastIndexOf("/",s.length-2);return e===-1?s:s.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1(s,e){return e}class hn{constructor(e,n,a,l){this.server=e,this.local=n||e,this.writable=!!a,this.xform=l||g1}}let hd=null;function p1(s){return!dp(s)||s.length<2?s:Bb(s)}function zb(){if(hd)return hd;const s=[];s.push(new hn("bucket")),s.push(new hn("generation")),s.push(new hn("metageneration")),s.push(new hn("name","fullPath",!0));function e(c,h){return p1(h)}const n=new hn("name");n.xform=e,s.push(n);function a(c,h){return h!==void 0?Number(h):h}const l=new hn("size");return l.xform=a,s.push(l),s.push(new hn("timeCreated")),s.push(new hn("updated")),s.push(new hn("md5Hash",null,!0)),s.push(new hn("cacheControl",null,!0)),s.push(new hn("contentDisposition",null,!0)),s.push(new hn("contentEncoding",null,!0)),s.push(new hn("contentLanguage",null,!0)),s.push(new hn("contentType",null,!0)),s.push(new hn("metadata","customMetadata",!0)),hd=s,hd}function y1(s,e){function n(){const a=s.bucket,l=s.fullPath,c=new kn(a,l);return e._makeStorageReference(c)}Object.defineProperty(s,"ref",{get:n})}function _1(s,e,n){const a={};a.type="file";const l=n.length;for(let c=0;c<l;c++){const h=n[c];a[h.local]=h.xform(a,e[h.server])}return y1(a,s),a}function Hb(s,e,n){const a=Ub(e);return a===null?null:_1(s,a,n)}function v1(s,e,n,a){const l=Ub(e);if(l===null||!dp(l.downloadTokens))return null;const c=l.downloadTokens;if(c.length===0)return null;const h=encodeURIComponent;return c.split(",").map(y=>{const v=s.bucket,T=s.fullPath,A="/b/"+h(v)+"/o/"+h(T),C=ph(A,n,a),O=Mb({alt:"media",token:y});return C+O})[0]}function x1(s,e){const n={},a=e.length;for(let l=0;l<a;l++){const c=e[l];c.writable&&(n[c.server]=s[c.local])}return JSON.stringify(n)}class fp{constructor(e,n,a,l){this.url=e,this.method=n,this.handler=a,this.timeout=l,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qb(s){if(!s)throw up()}function E1(s,e){function n(a,l){const c=Hb(s,l,e);return qb(c!==null),c}return n}function b1(s,e){function n(a,l){const c=Hb(s,l,e);return qb(c!==null),v1(c,l,s.host,s._protocol)}return n}function Kb(s){function e(n,a){let l;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?l=MI():l=OI():n.getStatus()===402?l=DI(s.bucket):n.getStatus()===403?l=LI(s.path):l=a,l.status=n.getStatus(),l.serverResponse=a.serverResponse,l}return e}function Fb(s){const e=Kb(s);function n(a,l){let c=e(a,l);return a.getStatus()===404&&(c=jI(s.path)),c.serverResponse=l.serverResponse,c}return n}function T1(s,e,n){const a=e.fullServerUrl(),l=ph(a,s.host,s._protocol),c="GET",h=s.maxOperationRetryTime,m=new fp(l,c,b1(s,n),h);return m.errorHandler=Fb(e),m}function A1(s,e){const n=e.fullServerUrl(),a=ph(n,s.host,s._protocol),l="DELETE",c=s.maxOperationRetryTime;function h(p,y){}const m=new fp(a,l,h,c);return m.successCodes=[200,204],m.errorHandler=Fb(e),m}function S1(s,e){return s&&s.contentType||e&&e.type()||"application/octet-stream"}function w1(s,e,n){const a=Object.assign({},n);return a.fullPath=s.path,a.size=e.size(),a.contentType||(a.contentType=S1(null,e)),a}function N1(s,e,n,a,l){const c=e.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"};function m(){let G="";for(let Z=0;Z<2;Z++)G=G+Math.random().toString().slice(2);return G}const p=m();h["Content-Type"]="multipart/related; boundary="+p;const y=w1(e,a,l),v=x1(y,n),T="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+p+`\r
Content-Type: `+y.contentType+`\r
\r
`,A=`\r
--`+p+"--",C=ra.getBlob(T,a,A);if(C===null)throw HI();const O={name:y.fullPath},B=ph(c,s.host,s._protocol),j="POST",z=s.maxUploadRetryTime,q=new fp(B,j,E1(s,n),z);return q.urlParams=O,q.headers=h,q.body=C.uploadData(),q.errorHandler=Kb(e),q}class R1{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=or.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=or.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=or.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,a,l){if(this.sent_)throw Zo("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),l!==void 0)for(const c in l)l.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,l[c].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Zo("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Zo("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Zo("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Zo("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class k1 extends R1{initXhr(){this.xhr_.responseType="text"}}function mp(){return new k1}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e,n){this._service=e,n instanceof kn?this._location=n:this._location=kn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new fr(e,n)}get root(){const e=new kn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Bb(this._location.path)}get storage(){return this._service}get parent(){const e=f1(this._location.path);if(e===null)return null;const n=new kn(this._location.bucket,e);return new fr(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw FI(e)}}function C1(s,e,n){s._throwIfRoot("uploadBytes");const a=N1(s.storage,s._location,zb(),new ra(e,!0),n);return s.storage.makeRequestWithTokens(a,mp).then(l=>({metadata:l,ref:s}))}function I1(s){s._throwIfRoot("getDownloadURL");const e=T1(s.storage,s._location,zb());return s.storage.makeRequestWithTokens(e,mp).then(n=>{if(n===null)throw qI();return n})}function j1(s){s._throwIfRoot("deleteObject");const e=A1(s.storage,s._location);return s.storage.makeRequestWithTokens(e,mp)}function D1(s,e){const n=m1(s._location.path,e),a=new kn(s._location.bucket,n);return new fr(s.storage,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1(s){return/^[A-Za-z]+:\/\//.test(s)}function M1(s,e){return new fr(s,e)}function Gb(s,e){if(s instanceof gp){const n=s;if(n._bucket==null)throw zI();const a=new fr(n,n._bucket);return e!=null?Gb(a,e):a}else return e!==void 0?D1(s,e):s}function L1(s,e){if(e&&O1(e)){if(s instanceof gp)return M1(s,e);throw dg("To use ref(service, url), the first argument must be a Storage instance.")}else return Gb(s,e)}function t0(s,e){const n=e==null?void 0:e[Db];return n==null?null:kn.makeFromBucketSpec(n,s)}function P1(s,e,n,a={}){s.host=`${e}:${n}`,s._protocol="http";const{mockUserToken:l}=a;l&&(s._overrideAuthToken=typeof l=="string"?l:F0(l,s.app.options.projectId))}class gp{constructor(e,n,a,l,c){this.app=e,this._authProvider=n,this._appCheckProvider=a,this._url=l,this._firebaseVersion=c,this._bucket=null,this._host=jb,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=CI,this._maxUploadRetryTime=II,this._requests=new Set,l!=null?this._bucket=kn.makeFromBucketSpec(l,this._host):this._bucket=t0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=kn.makeFromBucketSpec(this._url,e):this._bucket=t0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){e0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){e0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Nn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new fr(this,e)}_makeRequest(e,n,a,l,c=!0){if(this._deleted)return new GI(Ob());{const h=s1(e,this._appId,a,l,n,this._firebaseVersion,c);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,n){const[a,l]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,a,l).getPromise()}}const n0="@firebase/storage",s0="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b="storage";function Tr(s,e,n){return s=at(s),C1(s,e,n)}function Bl(s){return s=at(s),I1(s)}function Ic(s){return s=at(s),j1(s)}function Yn(s,e){return s=at(s),L1(s,e)}function Qb(s=Rg(),e){s=at(s);const a=Wd(s,$b).getImmediate({identifier:e}),l=H0("storage");return l&&V1(a,...l),a}function V1(s,e,n,a={}){P1(s,e,n,a)}function U1(s,{instanceIdentifier:e}){const n=s.getProvider("app").getImmediate(),a=s.getProvider("auth-internal"),l=s.getProvider("app-check-internal");return new gp(n,a,l,e,yr)}function B1(){ur(new ya($b,U1,"PUBLIC").setMultipleInstances(!0)),Cs(n0,s0,""),Cs(n0,s0,"esm2017")}B1();function pp(s,e){var n={};for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&e.indexOf(a)<0&&(n[a]=s[a]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(s);l<a.length;l++)e.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(s,a[l])&&(n[a[l]]=s[a[l]]);return n}function Yb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const z1=Yb,Wb=new Tc("auth","Firebase",Yb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hd=new wg("@firebase/auth");function H1(s,...e){Hd.logLevel<=Le.WARN&&Hd.warn(`Auth (${yr}): ${s}`,...e)}function Td(s,...e){Hd.logLevel<=Le.ERROR&&Hd.error(`Auth (${yr}): ${s}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function os(s,...e){throw yp(s,...e)}function Ds(s,...e){return yp(s,...e)}function Xb(s,e,n){const a=Object.assign(Object.assign({},z1()),{[e]:n});return new Tc("auth","Firebase",a).create(e,{appName:s.name})}function pi(s){return Xb(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function yp(s,...e){if(typeof s!="string"){const n=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(n,...a)}return Wb.create(s,...e)}function Ae(s,e,...n){if(!s)throw yp(e,...n)}function di(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Td(e),new Error(e)}function xi(s,e){s||di(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hg(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.href)||""}function q1(){return i0()==="http:"||i0()==="https:"}function i0(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(q1()||Xw()||"connection"in navigator)?navigator.onLine:!0}function F1(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e,n){this.shortDelay=e,this.longDelay=n,xi(n>e,"Short delay should be less than long delay!"),this.isMobile=Qw()||Zw()}get(){return K1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _p(s,e){xi(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{static initialize(e,n,a){this.fetchImpl=e,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;di("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;di("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;di("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1=new jc(3e4,6e4);function wa(s,e){return s.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:s.tenantId}):e}async function Ei(s,e,n,a,l={}){return Jb(s,l,async()=>{let c={},h={};a&&(e==="GET"?h=a:c={body:JSON.stringify(a)});const m=Ac(Object.assign({key:s.config.apiKey},h)).slice(1),p=await s._getAdditionalHeaders();p["Content-Type"]="application/json",s.languageCode&&(p["X-Firebase-Locale"]=s.languageCode);const y=Object.assign({method:e,headers:p},c);return Ww()||(y.referrerPolicy="no-referrer"),Zb.fetch()(eT(s,s.config.apiHost,n,m),y)})}async function Jb(s,e,n){s._canInitEmulator=!1;const a=Object.assign(Object.assign({},G1),e);try{const l=new Y1(s),c=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const h=await c.json();if("needConfirmation"in h)throw fd(s,"account-exists-with-different-credential",h);if(c.ok&&!("errorMessage"in h))return h;{const m=c.ok?h.errorMessage:h.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw fd(s,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw fd(s,"email-already-in-use",h);if(p==="USER_DISABLED")throw fd(s,"user-disabled",h);const v=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Xb(s,v,y);os(s,v)}}catch(l){if(l instanceof Ls)throw l;os(s,"network-request-failed",{message:String(l)})}}async function Dc(s,e,n,a,l={}){const c=await Ei(s,e,n,a,l);return"mfaPendingCredential"in c&&os(s,"multi-factor-auth-required",{_serverResponse:c}),c}function eT(s,e,n,a){const l=`${e}${n}?${a}`;return s.config.emulator?_p(s.config,l):`${s.config.apiScheme}://${l}`}function Q1(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Y1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(Ds(this.auth,"network-request-failed")),$1.get())})}}function fd(s,e,n){const a={appName:s.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const l=Ds(s,e,a);return l.customData._tokenResponse=n,l}function a0(s){return s!==void 0&&s.enterprise!==void 0}class W1{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Q1(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function X1(s,e){return Ei(s,"GET","/v2/recaptchaConfig",wa(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z1(s,e){return Ei(s,"POST","/v1/accounts:delete",e)}async function tT(s,e){return Ei(s,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uc(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function J1(s,e=!1){const n=at(s),a=await n.getIdToken(e),l=vp(a);Ae(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,h=c==null?void 0:c.sign_in_provider;return{claims:l,token:a,authTime:uc(Um(l.auth_time)),issuedAtTime:uc(Um(l.iat)),expirationTime:uc(Um(l.exp)),signInProvider:h||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function Um(s){return Number(s)*1e3}function vp(s){const[e,n,a]=s.split(".");if(e===void 0||n===void 0||a===void 0)return Td("JWT malformed, contained fewer than 3 sections"),null;try{const l=B0(n);return l?JSON.parse(l):(Td("Failed to decode base64 JWT payload"),null)}catch(l){return Td("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function r0(s){const e=vp(s);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Il(s,e,n=!1){if(n)return e;try{return await e}catch(a){throw a instanceof Ls&&ej(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function ej({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const l=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=uc(this.lastLoginAt),this.creationTime=uc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qd(s){var e;const n=s.auth,a=await s.getIdToken(),l=await Il(s,tT(n,{idToken:a}));Ae(l==null?void 0:l.users.length,n,"internal-error");const c=l.users[0];s._notifyReloadListener(c);const h=!((e=c.providerUserInfo)===null||e===void 0)&&e.length?nT(c.providerUserInfo):[],m=sj(s.providerData,h),p=s.isAnonymous,y=!(s.email&&c.passwordHash)&&!(m!=null&&m.length),v=p?y:!1,T={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:m,metadata:new fg(c.createdAt,c.lastLoginAt),isAnonymous:v};Object.assign(s,T)}async function nj(s){const e=at(s);await qd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function sj(s,e){return[...s.filter(a=>!e.some(l=>l.providerId===a.providerId)),...e]}function nT(s){return s.map(e=>{var{providerId:n}=e,a=pp(e,["providerId"]);return{providerId:n,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ij(s,e){const n=await Jb(s,{},async()=>{const a=Ac({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,h=eT(s,l,"/v1/token",`key=${c}`),m=await s._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",Zb.fetch()(h,{method:"POST",headers:m,body:a})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function aj(s,e){return Ei(s,"POST","/v2/accounts:revokeToken",wa(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):r0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const n=r0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:a,refreshToken:l,expiresIn:c}=await ij(e,n);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(e,n,a){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,n){const{refreshToken:a,accessToken:l,expirationTime:c}=n,h=new El;return a&&(Ae(typeof a=="string","internal-error",{appName:e}),h.refreshToken=a),l&&(Ae(typeof l=="string","internal-error",{appName:e}),h.accessToken=l),c&&(Ae(typeof c=="number","internal-error",{appName:e}),h.expirationTime=c),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new El,this.toJSON())}_performRefresh(){return di("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aa(s,e){Ae(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class hi{constructor(e){var{uid:n,auth:a,stsTokenManager:l}=e,c=pp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new tj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=a,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new fg(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(e){const n=await Il(this,this.stsTokenManager.getToken(this.auth,e));return Ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return J1(this,e)}reload(){return nj(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new hi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),n&&await qd(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Nn(this.auth.app))return Promise.reject(pi(this.auth));const e=await this.getIdToken();return await Il(this,Z1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var a,l,c,h,m,p,y,v;const T=(a=n.displayName)!==null&&a!==void 0?a:void 0,A=(l=n.email)!==null&&l!==void 0?l:void 0,C=(c=n.phoneNumber)!==null&&c!==void 0?c:void 0,O=(h=n.photoURL)!==null&&h!==void 0?h:void 0,B=(m=n.tenantId)!==null&&m!==void 0?m:void 0,j=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,z=(y=n.createdAt)!==null&&y!==void 0?y:void 0,q=(v=n.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:G,emailVerified:Z,isAnonymous:X,providerData:le,stsTokenManager:V}=n;Ae(G&&V,e,"internal-error");const k=El.fromJSON(this.name,V);Ae(typeof G=="string",e,"internal-error"),aa(T,e.name),aa(A,e.name),Ae(typeof Z=="boolean",e,"internal-error"),Ae(typeof X=="boolean",e,"internal-error"),aa(C,e.name),aa(O,e.name),aa(B,e.name),aa(j,e.name),aa(z,e.name),aa(q,e.name);const b=new hi({uid:G,auth:e,email:A,emailVerified:Z,displayName:T,isAnonymous:X,photoURL:O,phoneNumber:C,tenantId:B,stsTokenManager:k,createdAt:z,lastLoginAt:q});return le&&Array.isArray(le)&&(b.providerData=le.map(S=>Object.assign({},S))),j&&(b._redirectEventId=j),b}static async _fromIdTokenResponse(e,n,a=!1){const l=new El;l.updateFromServerResponse(n);const c=new hi({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:a});return await qd(c),c}static async _fromGetAccountInfoResponse(e,n,a){const l=n.users[0];Ae(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?nT(l.providerUserInfo):[],h=!(l.email&&l.passwordHash)&&!(c!=null&&c.length),m=new El;m.updateFromIdToken(a);const p=new hi({uid:l.localId,auth:e,stsTokenManager:m,isAnonymous:h}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new fg(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(c!=null&&c.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0=new Map;function fi(s){xi(s instanceof Function,"Expected a class definition");let e=l0.get(s);return e?(xi(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,l0.set(s,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}sT.type="NONE";const o0=sT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ad(s,e,n){return`firebase:${s}:${e}:${n}`}class bl{constructor(e,n,a){this.persistence=e,this.auth=n,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Ad(this.userKey,l.apiKey,c),this.fullPersistenceKey=Ad("persistence",l.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?hi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,a="authUser"){if(!n.length)return new bl(fi(o0),e,a);const l=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||fi(o0);const h=Ad(a,e.config.apiKey,e.name);let m=null;for(const y of n)try{const v=await y._get(h);if(v){const T=hi._fromJSON(e,v);y!==c&&(m=T),c=y;break}}catch{}const p=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new bl(c,e,a):(c=p[0],m&&await c._set(h,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==c)try{await y._remove(h)}catch{}})),new bl(c,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c0(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(lT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(iT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(cT(e))return"Blackberry";if(uT(e))return"Webos";if(aT(e))return"Safari";if((e.includes("chrome/")||rT(e))&&!e.includes("edge/"))return"Chrome";if(oT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(n);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function iT(s=an()){return/firefox\//i.test(s)}function aT(s=an()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function rT(s=an()){return/crios\//i.test(s)}function lT(s=an()){return/iemobile/i.test(s)}function oT(s=an()){return/android/i.test(s)}function cT(s=an()){return/blackberry/i.test(s)}function uT(s=an()){return/webos/i.test(s)}function xp(s=an()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function rj(s=an()){var e;return xp(s)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function lj(){return Jw()&&document.documentMode===10}function dT(s=an()){return xp(s)||oT(s)||uT(s)||cT(s)||/windows phone/i.test(s)||lT(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hT(s,e=[]){let n;switch(s){case"Browser":n=c0(an());break;case"Worker":n=`${c0(an())}-${s}`;break;default:n=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${yr}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const a=c=>new Promise((h,m)=>{try{const p=e(c);h(p)}catch(p){m(p)}});a.onAbort=n,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const a of this.queue)await a(e),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cj(s,e={}){return Ei(s,"GET","/v2/passwordPolicy",wa(s,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uj=6;class dj{constructor(e){var n,a,l,c;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=h.minPasswordLength)!==null&&n!==void 0?n:uj,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(a=e.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(c=e.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,a,l,c,h,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(a=p.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(l=p.containsLowercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsUppercaseLetter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=e.length>=a),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let l=0;l<e.length;l++)a=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,n,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hj{constructor(e,n,a,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new u0(this),this.idTokenSubscription=new u0(this),this.beforeStateQueue=new oj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Wb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=fi(n)),this._initializationPromise=this.queue(async()=>{var a,l;if(!this._deleted&&(this.persistenceManager=await bl.create(this,e),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await tT(this,{idToken:e}),a=await hi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Nn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let l=a,c=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=l==null?void 0:l._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===m)&&(p!=null&&p.user)&&(l=p.user,c=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(l)}catch(h){l=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await qd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=F1()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Nn(this.app))return Promise.reject(pi(this));const n=e?at(e):null;return n&&Ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Nn(this.app)?Promise.reject(pi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Nn(this.app)?Promise.reject(pi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await cj(this),n=new dj(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Tc("auth","Firebase",e())}onAuthStateChanged(e,n,a){return this.registerStateListener(this.authStateSubscription,e,n,a)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,a){return this.registerStateListener(this.idTokenSubscription,e,n,a)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await aj(this,a)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const a=await this.getOrInitRedirectPersistenceManager(n);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&fi(e)||this._popupRedirectResolver;Ae(n,this,"argument-error"),this.redirectPersistenceManager=await bl.create(this,[fi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,a;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,a,l){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(m,this,"internal-error"),m.then(()=>{h||c(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,a,l);return()=>{h=!0,p()}}else{const p=e.addObserver(n);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=hT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const a=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());a&&(n["X-Firebase-Client"]=a);const l=await this._getAppCheckToken();return l&&(n["X-Firebase-AppCheck"]=l),n}async _getAppCheckToken(){var e;if(Nn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&H1(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ar(s){return at(s)}class u0{constructor(e){this.auth=e,this.observer=null,this.addObserver=lN(n=>this.observer=n)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fj(s){yh=s}function fT(s){return yh.loadJS(s)}function mj(){return yh.recaptchaEnterpriseScript}function gj(){return yh.gapiScript}function pj(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class yj{constructor(){this.enterprise=new _j}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class _j{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const vj="recaptcha-enterprise",mT="NO_RECAPTCHA";class xj{constructor(e){this.type=vj,this.auth=Ar(e)}async verify(e="verify",n=!1){async function a(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(h,m)=>{X1(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new W1(p);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,h(y.siteKey)}}).catch(p=>{m(p)})})}function l(c,h,m){const p=window.grecaptcha;a0(p)?p.enterprise.ready(()=>{p.enterprise.execute(c,{action:e}).then(y=>{h(y)}).catch(()=>{h(mT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new yj().execute("siteKey",{action:"verify"}):new Promise((c,h)=>{a(this.auth).then(m=>{if(!n&&a0(window.grecaptcha))l(m,c,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=mj();p.length!==0&&(p+=m),fT(p).then(()=>{l(m,c,h)}).catch(y=>{h(y)})}}).catch(m=>{h(m)})})}}async function d0(s,e,n,a=!1,l=!1){const c=new xj(s);let h;if(l)h=mT;else try{h=await c.verify(n)}catch{h=await c.verify(n,!0)}const m=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return a?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function mg(s,e,n,a,l){var c;if(!((c=s._getRecaptchaConfig())===null||c===void 0)&&c.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await d0(s,e,n,n==="getOobCode");return a(s,h)}else return a(s,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await d0(s,e,n,n==="getOobCode");return a(s,m)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ej(s,e){const n=Wd(s,"auth");if(n.isInitialized()){const l=n.getImmediate(),c=n.getOptions();if(cr(c,e??{}))return l;os(l,"already-initialized")}return n.initialize({options:e})}function bj(s,e){const n=(e==null?void 0:e.persistence)||[],a=(Array.isArray(n)?n:[n]).map(fi);e!=null&&e.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e==null?void 0:e.popupRedirectResolver)}function Tj(s,e,n){const a=Ar(s);Ae(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const l=!1,c=gT(e),{host:h,port:m}=Aj(e),p=m===null?"":`:${m}`,y={url:`${c}//${h}${p}/`},v=Object.freeze({host:h,port:m,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){Ae(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Ae(cr(y,a.config.emulator)&&cr(v,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=v,a.settings.appVerificationDisabledForTesting=!0,Sj()}function gT(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function Aj(s){const e=gT(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:h0(a.substr(c.length+1))}}else{const[c,h]=a.split(":");return{host:c,port:h0(h)}}}function h0(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function Sj(){function s(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return di("not implemented")}_getIdTokenResponse(e){return di("not implemented")}_linkToIdToken(e,n){return di("not implemented")}_getReauthenticationResolver(e){return di("not implemented")}}async function wj(s,e){return Ei(s,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nj(s,e){return Dc(s,"POST","/v1/accounts:signInWithPassword",wa(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rj(s,e){return Dc(s,"POST","/v1/accounts:signInWithEmailLink",wa(s,e))}async function kj(s,e){return Dc(s,"POST","/v1/accounts:signInWithEmailLink",wa(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc extends Ep{constructor(e,n,a,l=null){super("password",a),this._email=e,this._password=n,this._tenantId=l}static _fromEmailAndPassword(e,n){return new xc(e,n,"password")}static _fromEmailAndCode(e,n,a=null){return new xc(e,n,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mg(e,n,"signInWithPassword",Nj);case"emailLink":return Rj(e,{email:this._email,oobCode:this._password});default:os(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const a={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mg(e,a,"signUpPassword",wj);case"emailLink":return kj(e,{idToken:n,email:this._email,oobCode:this._password});default:os(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tl(s,e){return Dc(s,"POST","/v1/accounts:signInWithIdp",wa(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cj="http://localhost";class mr extends Ep{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new mr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):os("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:l}=n,c=pp(n,["providerId","signInMethod"]);if(!a||!l)return null;const h=new mr(a,l);return h.idToken=c.idToken||void 0,h.accessToken=c.accessToken||void 0,h.secret=c.secret,h.nonce=c.nonce,h.pendingToken=c.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return Tl(e,n)}_linkToIdToken(e,n){const a=this.buildRequest();return a.idToken=n,Tl(e,a)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Tl(e,n)}buildRequest(){const e={requestUri:Cj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ac(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ij(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function jj(s){const e=Jo(ec(s)).link,n=e?Jo(ec(e)).deep_link_id:null,a=Jo(ec(s)).deep_link_id;return(a?Jo(ec(a)).link:null)||a||n||e||s}class bp{constructor(e){var n,a,l,c,h,m;const p=Jo(ec(e)),y=(n=p.apiKey)!==null&&n!==void 0?n:null,v=(a=p.oobCode)!==null&&a!==void 0?a:null,T=Ij((l=p.mode)!==null&&l!==void 0?l:null);Ae(y&&v&&T,"argument-error"),this.apiKey=y,this.operation=T,this.code=v,this.continueUrl=(c=p.continueUrl)!==null&&c!==void 0?c:null,this.languageCode=(h=p.languageCode)!==null&&h!==void 0?h:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=jj(e);try{return new bp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(){this.providerId=zl.PROVIDER_ID}static credential(e,n){return xc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const a=bp.parseLink(n);return Ae(a,"argument-error"),xc._fromEmailAndCode(e,a.code,a.tenantId)}}zl.PROVIDER_ID="password";zl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";zl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc extends pT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la extends Oc{constructor(){super("facebook.com")}static credential(e){return mr._fromParams({providerId:la.PROVIDER_ID,signInMethod:la.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return la.credentialFromTaggedObject(e)}static credentialFromError(e){return la.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return la.credential(e.oauthAccessToken)}catch{return null}}}la.FACEBOOK_SIGN_IN_METHOD="facebook.com";la.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa extends Oc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return mr._fromParams({providerId:oa.PROVIDER_ID,signInMethod:oa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return oa.credentialFromTaggedObject(e)}static credentialFromError(e){return oa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:a}=e;if(!n&&!a)return null;try{return oa.credential(n,a)}catch{return null}}}oa.GOOGLE_SIGN_IN_METHOD="google.com";oa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca extends Oc{constructor(){super("github.com")}static credential(e){return mr._fromParams({providerId:ca.PROVIDER_ID,signInMethod:ca.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ca.credentialFromTaggedObject(e)}static credentialFromError(e){return ca.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ca.credential(e.oauthAccessToken)}catch{return null}}}ca.GITHUB_SIGN_IN_METHOD="github.com";ca.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua extends Oc{constructor(){super("twitter.com")}static credential(e,n){return mr._fromParams({providerId:ua.PROVIDER_ID,signInMethod:ua.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ua.credentialFromTaggedObject(e)}static credentialFromError(e){return ua.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=e;if(!n||!a)return null;try{return ua.credential(n,a)}catch{return null}}}ua.TWITTER_SIGN_IN_METHOD="twitter.com";ua.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dj(s,e){return Dc(s,"POST","/v1/accounts:signUp",wa(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,a,l=!1){const c=await hi._fromIdTokenResponse(e,a,l),h=f0(a);return new gr({user:c,providerId:h,_tokenResponse:a,operationType:n})}static async _forOperation(e,n,a){await e._updateTokensIfNecessary(a,!0);const l=f0(a);return new gr({user:e,providerId:l,_tokenResponse:a,operationType:n})}}function f0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd extends Ls{constructor(e,n,a,l){var c;super(n.code,n.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Kd.prototype),this.customData={appName:e.name,tenantId:(c=e.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,n,a,l){return new Kd(e,n,a,l)}}function yT(s,e,n,a){return(e==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Kd._fromErrorAndOperation(s,c,e,a):c})}async function Oj(s,e,n=!1){const a=await Il(s,e._linkToIdToken(s.auth,await s.getIdToken()),n);return gr._forOperation(s,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mj(s,e,n=!1){const{auth:a}=s;if(Nn(a.app))return Promise.reject(pi(a));const l="reauthenticate";try{const c=await Il(s,yT(a,l,e,s),n);Ae(c.idToken,a,"internal-error");const h=vp(c.idToken);Ae(h,a,"internal-error");const{sub:m}=h;return Ae(s.uid===m,a,"user-mismatch"),gr._forOperation(s,l,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&os(a,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _T(s,e,n=!1){if(Nn(s.app))return Promise.reject(pi(s));const a="signIn",l=await yT(s,a,e),c=await gr._fromIdTokenResponse(s,a,l);return n||await s._updateCurrentUser(c.user),c}async function Lj(s,e){return _T(Ar(s),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vT(s){const e=Ar(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Pj(s,e,n){if(Nn(s.app))return Promise.reject(pi(s));const a=Ar(s),h=await mg(a,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Dj).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&vT(s),p}),m=await gr._fromIdTokenResponse(a,"signIn",h);return await a._updateCurrentUser(m.user),m}function Vj(s,e,n){return Nn(s.app)?Promise.reject(pi(s)):Lj(at(s),zl.credential(e,n)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&vT(s),a})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uj(s,e){return Ei(s,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bj(s,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const a=at(s),c={idToken:await a.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},h=await Il(a,Uj(a.auth,c));a.displayName=h.displayName||null,a.photoURL=h.photoUrl||null;const m=a.providerData.find(({providerId:p})=>p==="password");m&&(m.displayName=a.displayName,m.photoURL=a.photoURL),await a._updateTokensIfNecessary(h)}function zj(s,e,n,a){return at(s).onIdTokenChanged(e,n,a)}function Hj(s,e,n){return at(s).beforeAuthStateChanged(e,n)}function qj(s,e,n,a){return at(s).onAuthStateChanged(e,n,a)}function Kj(s){return at(s).signOut()}const Fd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Fd,"1"),this.storage.removeItem(Fd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fj=1e3,Gj=10;class ET extends xT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=dT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),l=this.localCache[n];a!==l&&e(n,l,a)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const a=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const h=this.storage.getItem(a);!n&&this.localCache[a]===h||this.notifyListeners(a,h)},c=this.storage.getItem(a);lj()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,Gj):l()}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:a}),!0)})},Fj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ET.type="LOCAL";const $j=ET;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT extends xT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}bT.type="SESSION";const TT=bT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qj(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const a=new _h(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:a,eventType:l,data:c}=n.data,h=this.handlersMap[l];if(!(h!=null&&h.size))return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const m=Array.from(h).map(async y=>y(n.origin,c)),p=await Qj(m);n.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_h.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tp(s="",e=10){let n="";for(let a=0;a<e;a++)n+=Math.floor(Math.random()*10);return s+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,h;return new Promise((m,p)=>{const y=Tp("",20);l.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},a);h={messageChannel:l,onMessage(T){const A=T;if(A.data.eventId===y)switch(A.data.status){case"ack":clearTimeout(v),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),m(A.data.response);break;default:clearTimeout(v),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(h),l.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[l.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Os(){return window}function Wj(s){Os().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AT(){return typeof Os().WorkerGlobalScope<"u"&&typeof Os().importScripts=="function"}async function Xj(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Zj(){var s;return((s=navigator==null?void 0:navigator.serviceWorker)===null||s===void 0?void 0:s.controller)||null}function Jj(){return AT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST="firebaseLocalStorageDb",e2=1,Gd="firebaseLocalStorage",wT="fbase_key";class Mc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function vh(s,e){return s.transaction([Gd],e?"readwrite":"readonly").objectStore(Gd)}function t2(){const s=indexedDB.deleteDatabase(ST);return new Mc(s).toPromise()}function gg(){const s=indexedDB.open(ST,e2);return new Promise((e,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(Gd,{keyPath:wT})}catch(l){n(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(Gd)?e(a):(a.close(),await t2(),e(await gg()))})})}async function m0(s,e,n){const a=vh(s,!0).put({[wT]:e,value:n});return new Mc(a).toPromise()}async function n2(s,e){const n=vh(s,!1).get(e),a=await new Mc(n).toPromise();return a===void 0?null:a.value}function g0(s,e){const n=vh(s,!0).delete(e);return new Mc(n).toPromise()}const s2=800,i2=3;class NT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await gg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(n++>i2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return AT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_h._getInstance(Jj()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Xj(),!this.activeServiceWorker)return;this.sender=new Yj(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((e=a[0])===null||e===void 0)&&e.fulfilled&&!((n=a[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Zj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await gg();return await m0(e,Fd,"1"),await g0(e,Fd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>m0(a,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(a=>n2(a,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>g0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=vh(l,!1).getAll();return new Mc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),s2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}NT.type="LOCAL";const a2=NT;new jc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r2(s,e){return e?fi(e):(Ae(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap extends Ep{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Tl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Tl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Tl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function l2(s){return _T(s.auth,new Ap(s),s.bypassAuthState)}function o2(s){const{auth:e,user:n}=s;return Ae(n,e,"internal-error"),Mj(n,new Ap(s),s.bypassAuthState)}async function c2(s){const{auth:e,user:n}=s;return Ae(n,e,"internal-error"),Oj(n,new Ap(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(e,n,a,l,c=!1){this.auth=e,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:a,postBody:l,tenantId:c,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:n,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return l2;case"linkViaPopup":case"linkViaRedirect":return c2;case"reauthViaPopup":case"reauthViaRedirect":return o2;default:os(this.auth,"internal-error")}}resolve(e){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2=new jc(2e3,1e4);class vl extends RT{constructor(e,n,a,l,c){super(e,n,l,c),this.provider=a,this.authWindow=null,this.pollId=null,vl.currentPopupAction&&vl.currentPopupAction.cancel(),vl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){xi(this.filter.length===1,"Popup operations only handle one event");const e=Tp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ds(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ds(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,vl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,a;if(!((a=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ds(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,u2.get())};e()}}vl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2="pendingRedirect",Sd=new Map;class h2 extends RT{constructor(e,n,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let e=Sd.get(this.auth._key());if(!e){try{const a=await f2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(n){e=()=>Promise.reject(n)}Sd.set(this.auth._key(),e)}return this.bypassAuthState||Sd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function f2(s,e){const n=p2(e),a=g2(s);if(!await a._isAvailable())return!1;const l=await a._get(n)==="true";return await a._remove(n),l}function m2(s,e){Sd.set(s._key(),e)}function g2(s){return fi(s._redirectPersistence)}function p2(s){return Ad(d2,s.config.apiKey,s.name)}async function y2(s,e,n=!1){if(Nn(s.app))return Promise.reject(pi(s));const a=Ar(s),l=r2(a,e),h=await new h2(a,l,n).execute();return h&&!n&&(delete h.user._redirectEventId,await a._persistUserIfCurrent(h.user),await a._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2=10*60*1e3;class v2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(n=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!x2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var a;if(e.error&&!kT(e)){const l=((a=e.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";n.onError(Ds(this.auth,l))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const a=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_2&&this.cachedEventUids.clear(),this.cachedEventUids.has(p0(e))}saveEventToCache(e){this.cachedEventUids.add(p0(e)),this.lastProcessedEventTime=Date.now()}}function p0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function kT({type:s,error:e}){return s==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function x2(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kT(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E2(s,e={}){return Ei(s,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,T2=/^https?/;async function A2(s){if(s.config.emulator)return;const{authorizedDomains:e}=await E2(s);for(const n of e)try{if(S2(n))return}catch{}os(s,"unauthorized-domain")}function S2(s){const e=hg(),{protocol:n,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const h=new URL(s);return h.hostname===""&&a===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===a}if(!T2.test(n))return!1;if(b2.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2=new jc(3e4,6e4);function y0(){const s=Os().___jsl;if(s!=null&&s.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function N2(s){return new Promise((e,n)=>{var a,l,c;function h(){y0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{y0(),n(Ds(s,"network-request-failed"))},timeout:w2.get()})}if(!((l=(a=Os().gapi)===null||a===void 0?void 0:a.iframes)===null||l===void 0)&&l.Iframe)e(gapi.iframes.getContext());else if(!((c=Os().gapi)===null||c===void 0)&&c.load)h();else{const m=pj("iframefcb");return Os()[m]=()=>{gapi.load?h():n(Ds(s,"network-request-failed"))},fT(`${gj()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw wd=null,e})}let wd=null;function R2(s){return wd=wd||N2(s),wd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2=new jc(5e3,15e3),C2="__/auth/iframe",I2="emulator/auth/iframe",j2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},D2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function O2(s){const e=s.config;Ae(e.authDomain,s,"auth-domain-config-required");const n=e.emulator?_p(e,I2):`https://${s.config.authDomain}/${C2}`,a={apiKey:e.apiKey,appName:s.name,v:yr},l=D2.get(s.config.apiHost);l&&(a.eid=l);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${n}?${Ac(a).slice(1)}`}async function M2(s){const e=await R2(s),n=Os().gapi;return Ae(n,s,"internal-error"),e.open({where:document.body,url:O2(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:j2,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const h=Ds(s,"network-request-failed"),m=Os().setTimeout(()=>{c(h)},k2.get());function p(){Os().clearTimeout(m),l(a)}a.ping(p).then(p,()=>{c(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},P2=500,V2=600,U2="_blank",B2="http://localhost";class _0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function z2(s,e,n,a=P2,l=V2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),h=Math.max((window.screen.availWidth-a)/2,0).toString();let m="";const p=Object.assign(Object.assign({},L2),{width:a.toString(),height:l.toString(),top:c,left:h}),y=an().toLowerCase();n&&(m=rT(y)?U2:n),iT(y)&&(e=e||B2,p.scrollbars="yes");const v=Object.entries(p).reduce((A,[C,O])=>`${A}${C}=${O},`,"");if(rj(y)&&m!=="_self")return H2(e||"",m),new _0(null);const T=window.open(e||"",m,v);Ae(T,s,"popup-blocked");try{T.focus()}catch{}return new _0(T)}function H2(s,e){const n=document.createElement("a");n.href=s,n.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2="__/auth/handler",K2="emulator/auth/handler",F2=encodeURIComponent("fac");async function v0(s,e,n,a,l,c){Ae(s.config.authDomain,s,"auth-domain-config-required"),Ae(s.config.apiKey,s,"invalid-api-key");const h={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:a,v:yr,eventId:l};if(e instanceof pT){e.setDefaultLanguage(s.languageCode),h.providerId=e.providerId||"",rN(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,T]of Object.entries({}))h[v]=T}if(e instanceof Oc){const v=e.getScopes().filter(T=>T!=="");v.length>0&&(h.scopes=v.join(","))}s.tenantId&&(h.tid=s.tenantId);const m=h;for(const v of Object.keys(m))m[v]===void 0&&delete m[v];const p=await s._getAppCheckToken(),y=p?`#${F2}=${encodeURIComponent(p)}`:"";return`${G2(s)}?${Ac(m).slice(1)}${y}`}function G2({config:s}){return s.emulator?_p(s,K2):`https://${s.authDomain}/${q2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bm="webStorageSupport";class $2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=TT,this._completeRedirectFn=y2,this._overrideRedirectResult=m2}async _openPopup(e,n,a,l){var c;xi((c=this.eventManagers[e._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const h=await v0(e,n,a,hg(),l);return z2(e,h,Tp())}async _openRedirect(e,n,a,l){await this._originValidation(e);const c=await v0(e,n,a,hg(),l);return Wj(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:c}=this.eventManagers[n];return l?Promise.resolve(l):(xi(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(e){const n=await M2(e),a=new v2(e);return n.register("authEvent",l=>(Ae(l==null?void 0:l.authEvent,e,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=n,a}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Bm,{type:Bm},l=>{var c;const h=(c=l==null?void 0:l[0])===null||c===void 0?void 0:c[Bm];h!==void 0&&n(!!h),os(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=A2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return dT()||aT()||xp()}}const Q2=$2;var x0="@firebase/auth",E0="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(a=>{e((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W2(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function X2(s){ur(new ya("auth",(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=a.options;Ae(h&&!h.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:h,authDomain:m,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hT(s)},y=new hj(a,l,c,p);return bj(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,a)=>{e.getProvider("auth-internal").initialize()})),ur(new ya("auth-internal",e=>{const n=Ar(e.getProvider("auth").getImmediate());return(a=>new Y2(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Cs(x0,E0,W2(s)),Cs(x0,E0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2=5*60,J2=K0("authIdTokenMaxAge")||Z2;let b0=null;const eD=s=>async e=>{const n=e&&await e.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>J2)return;const l=n==null?void 0:n.token;b0!==l&&(b0=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function tD(s=Rg()){const e=Wd(s,"auth");if(e.isInitialized())return e.getImmediate();const n=Ej(s,{popupRedirectResolver:Q2,persistence:[a2,$j,TT]}),a=K0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const h=eD(c.toString());Hj(n,h,()=>h(n.currentUser)),zj(n,m=>h(m))}}const l=z0("auth");return l&&Tj(n,`http://${l}`),n}function nD(){var s,e;return(e=(s=document.getElementsByTagName("head"))===null||s===void 0?void 0:s[0])!==null&&e!==void 0?e:document}fj({loadJS(s){return new Promise((e,n)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=l=>{const c=Ds("internal-error");c.customData=l,n(c)},a.type="text/javascript",a.charset="UTF-8",nD().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});X2("Browser");const sD={apiKey:"AIzaSyB0zBdnr_ZBmmokxvgLiHWU52QhnFnoymU",authDomain:"aimchallange-67039.firebaseapp.com",projectId:"aimchallange-67039",storageBucket:"aimchallange-67039.appspot.com",messagingSenderId:"109617578227",appId:"1:109617578227:web:8f09f705f248bbdaf07786",measurementId:"G-42PJQ2LB6T"},xh=Q0(sD),Nd=tD(xh),Ye=mI(xh),Wn=Qb(xh,"gs://aimchallange-67039.appspot.com");Qb(xh,"gs://aimchallange-67039.appspot.com");const CT=I.createContext(),ds=()=>I.useContext(CT),iD=({children:s})=>{const[e,n]=I.useState(null),[a,l]=I.useState(!1),[c,h]=I.useState(!0);I.useEffect(()=>qj(Nd,async T=>{if(T){const A={uid:T.uid,email:T.email,displayName:T.displayName||T.email.split("@")[0],role:"admin"};n(A),l(!0)}else n(null),l(!1);h(!1)}),[]);const y={currentUser:e,isAuthenticated:a,login:async(v,T)=>{try{return await Vj(Nd,v,T),{success:!0}}catch(A){return console.error("Login error:",A),{success:!1,error:A.message}}},logout:async()=>{try{return await Kj(Nd),{success:!0}}catch(v){return console.error("Logout error:",v),{success:!1,error:v.message}}}};return u.jsx(CT.Provider,{value:y,children:!c&&s})},pg=gt(Ye,"settings","textContent"),aD=async()=>{try{const s=await br(pg);return s.exists()?s.data():(await ls(pg,{}),{})}catch(s){return console.error("Error getting text content:",s),{}}},rD=async(s,e)=>{try{const n={};return n[s]=e,await RI(pg,n),!0}catch(n){return console.error("Error updating text content:",n),!1}};gt(Ye,"settings","backgroundImages");const IT=I.createContext(),mn=()=>I.useContext(IT),lD=({children:s})=>{const[e,n]=I.useState({}),[a,l]=I.useState(!1),[c,h]=I.useState([]),{currentUser:m,isAuthenticated:p}=ds(),y=(m==null?void 0:m.role)==="admin";I.useEffect(()=>{(async()=>{try{const G=await aD();n(G)}catch(G){console.error("Error fetching text content:",G);const Z=localStorage.getItem("textContent");if(Z)try{n(JSON.parse(Z))}catch(X){console.error("Error parsing saved content:",X),n({})}}})()},[]),I.useEffect(()=>{l(!!(p&&y))},[p,y]);const z={getText:(q,G)=>e[q]||G,updateText:async(q,G)=>{try{await rD(q,G);const Z={...e,[q]:G};n(Z),h(X=>[...X,{content:{...e},timestamp:new Date().toISOString(),changedKey:q}]),localStorage.setItem("textContent",JSON.stringify(Z))}catch(Z){console.error("Error updating text content:",Z);const X={...e,[q]:G};localStorage.setItem("textContent",JSON.stringify(X)),n(X)}},isEditing:a,toggleEditing:()=>{console.log("Edit mode is always on for admin users")},isAdmin:y,textContent:e,resetAllContent:()=>{h(q=>[...q,{content:{...e},timestamp:new Date().toISOString(),action:"reset-all"}]),n({}),localStorage.removeItem("textContent"),console.log("All content has been reset")},removeContentItem:q=>{h(Z=>[...Z,{content:{...e},timestamp:new Date().toISOString(),changedKey:q,action:"remove"}]);const G={...e};delete G[q],n(G),localStorage.setItem("textContent",JSON.stringify(G)),console.log(`Content item '${q}' has been removed`)},undoLastChange:()=>{if(c.length>1){const q=[...c];q.pop();const G=q[q.length-1].content;return n(G),localStorage.setItem("textContent",JSON.stringify(G)),h(q),console.log("Last change undone"),!0}return console.log("No changes to undo"),!1},getEditHistory:()=>c,editHistory:c};return u.jsx(IT.Provider,{value:z,children:s})},oD=()=>{const[s,e]=I.useState(!1),[n,a]=I.useState(!1),[l,c]=I.useState(!1),{isAuthenticated:h,currentUser:m,logout:p}=ds(),{isEditing:y,getText:v,updateText:T}=mn(),A=pr(),C=()=>{c(!l),e(!1),a(!1)},O=()=>{p(),A("/")};return I.useEffect(()=>{const B=j=>{const z=document.querySelector(".mobile-menu"),q=document.querySelector(".hamburger-menu");l&&z&&!z.contains(j.target)&&!q.contains(j.target)&&c(!1)};return document.addEventListener("mousedown",B),()=>{document.removeEventListener("mousedown",B)}},[l]),I.useEffect(()=>{console.log("Navbar auth state:",{isAuthenticated:h,currentUser:m,isAdmin:(m==null?void 0:m.role)==="admin"})},[h,m]),u.jsx("div",{className:"flex flex_col navbar-container",children:u.jsxs("div",{className:"navbar  flex flex_j_SA MaxWH location font_white",children:[u.jsx("div",{className:"navim MaxWH location",children:u.jsx(Ne,{to:"/",children:u.jsx("img",{src:"/images/Aim Blue.svg",alt:"aim challenge logo",className:"custom-image navim"})})}),u.jsxs("div",{className:"hamburger-menu",onClick:C,children:[u.jsx("span",{}),u.jsx("span",{}),u.jsx("span",{})]}),u.jsxs("div",{className:"navbside",children:[u.jsxs("div",{className:"nav-button dropdown-container",children:[u.jsx(Ne,{to:"/competitions",className:"dropdown-trigger",children:"Tävlingar"}),u.jsxs("div",{className:"drop-down",children:[u.jsx(Ne,{to:"/ulricehamn",className:"drop-item",children:"ULRICEHAMN"}),u.jsx(Ne,{to:"/salen",className:"drop-item",children:"SÄLEN"}),u.jsx(Ne,{to:"/hemsedal",className:"drop-item",children:"HEMSEDAL"}),u.jsx(Ne,{to:"/kolmarden",className:"drop-item",children:"KOLMÅRDEN"}),u.jsx(Ne,{to:"/trippeln",className:"drop-item",children:"TRIPPELN"}),u.jsx(Ne,{to:"/results",className:"drop-item",children:"RESULTAT"})]})]}),u.jsxs("div",{className:"nav-button dropdown-container",children:[u.jsx(Ne,{to:"/om-oss",className:"dropdown-trigger",children:"Om oss"}),u.jsxs("div",{className:"drop-down",children:[u.jsx(Ne,{to:"/regler",className:"drop-item",children:"Regler"}),u.jsx(Ne,{to:"/faq",className:"drop-item",children:"FAQ"}),u.jsx(Ne,{to:"/historien-om-aim",className:"drop-item",children:"Historien om AIM"})]})]}),u.jsx("div",{className:"nav-button",children:u.jsx("a",{href:"#sponsors-section",onClick:B=>{B.preventDefault();const j=document.getElementById("sponsors-section");j&&j.scrollIntoView({behavior:"smooth"})},children:"Sponsorer"})}),u.jsx("div",{className:"nav-button",children:u.jsx(Ne,{to:"/senaste-nytt",children:"Senaste nytt"})}),u.jsx("div",{className:"nav-button",children:u.jsx(Ne,{to:"#",children:"Kontakta oss"})}),u.jsx("div",{className:"nav-button",children:u.jsx("a",{href:"#",children:"SV|NO|EN"})}),h&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"nav-button",children:u.jsx(Ne,{to:"/content-manager",children:"Innehåll"})}),u.jsx("div",{className:"nav-button",children:u.jsx("a",{href:"#",onClick:B=>{B.preventDefault(),O()},children:"Logga ut"})})]})]}),l&&u.jsxs("div",{className:"mobile-menu",children:[u.jsxs("div",{className:"mobile-menu-item",children:[u.jsxs("div",{className:"mobile-menu-header",onClick:()=>e(!s),children:["Tävlingar ",s?"▲":"▼"]}),s&&u.jsxs("div",{className:"mobile-submenu",children:[u.jsx(Ne,{to:"/ulricehamn",onClick:C,className:"mobile-submenu-item",children:"ULRICEHAMN"}),u.jsx(Ne,{to:"/salen",onClick:C,className:"mobile-submenu-item",children:"SÄLEN"}),u.jsx(Ne,{to:"/hemsedal",onClick:C,className:"mobile-submenu-item",children:"HEMSEDAL"}),u.jsx(Ne,{to:"/kolmarden",onClick:C,className:"mobile-submenu-item",children:"KOLMÅRDEN"}),u.jsx(Ne,{to:"/trippeln",onClick:C,className:"mobile-submenu-item",children:"TRIPPELN"})]})]}),u.jsx("div",{className:"mobile-menu-item",children:u.jsx(Ne,{to:"/results",onClick:C,className:"mobile-menu-link",children:"Resultat"})}),u.jsxs("div",{className:"mobile-menu-item",children:[u.jsxs("div",{className:"mobile-menu-header",onClick:()=>a(!n),children:["Om oss ",n?"▲":"▼"]}),n&&u.jsxs("div",{className:"mobile-submenu",children:[u.jsx(Ne,{to:"/om-oss",onClick:C,className:"mobile-submenu-item",children:"Om oss"}),u.jsx(Ne,{to:"/regler",onClick:C,className:"mobile-submenu-item",children:"Regler"}),u.jsx(Ne,{to:"/faq",onClick:C,className:"mobile-submenu-item",children:"FAQ"}),u.jsx(Ne,{to:"/historien-om-aim",onClick:C,className:"mobile-submenu-item",children:"Historien om AIM"})]})]}),u.jsx("div",{className:"mobile-menu-item",children:u.jsx("a",{href:"#sponsors-section",onClick:B=>{B.preventDefault();const j=document.getElementById("sponsors-section");j&&j.scrollIntoView({behavior:"smooth"}),C()},className:"mobile-menu-link",children:"Sponsorer"})}),u.jsx("div",{className:"mobile-menu-item",children:u.jsx(Ne,{to:"/senaste-nytt",onClick:C,className:"mobile-menu-link",children:"Senaste nytt"})}),u.jsx("div",{className:"mobile-menu-item",children:u.jsx(Ne,{to:"#",onClick:C,className:"mobile-menu-link",children:"Kontakta oss"})}),u.jsx("div",{className:"mobile-menu-item",children:u.jsx("a",{href:"#",className:"mobile-menu-link",children:"SV|NO|EN"})}),h&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"mobile-menu-item",children:u.jsx(Ne,{to:"/content-manager",onClick:C,className:"mobile-menu-link",children:"Innehåll"})}),u.jsx("div",{className:"mobile-menu-item",children:u.jsx("a",{href:"#",onClick:B=>{B.preventDefault(),O(),C()},className:"mobile-menu-link",children:"Logga ut"})})]})]})]})})},Sp=({location:s})=>{const[e,n]=I.useState(!1),[a,l]=I.useState(null),[c,h]=I.useState([]),[m,p]=I.useState({imageUrl:"",link:"",location:""}),[y,v]=I.useState(!1),[T,A]=I.useState(!1),{isAdmin:C}=mn(),O=Xn(),B=I.useRef(null),j=I.useRef(null),z=Wt(Ye,"sponsors"),q=O.pathname.split("/").pop(),Z=["salen","ulricehamn","hemsedal","kolmarden"].includes(q)?q:"";I.useEffect(()=>{V()},[Z,T]),I.useEffect(()=>{a&&a.closest(".sponsors-section")?(A(!0),p(F=>({...F,location:Z}))):(A(!1),p(F=>({...F,location:""})))},[a,Z]),I.useEffect(()=>{if(!C)return;const F=(ee,Y,re,ae=!1)=>{const he=document.querySelector(ee);if(!he)return;const M=document.querySelector(`#${Y}`);M&&M.remove();const ne=document.createElement("button");ne.id=Y,ne.className="admin-edit-button",ne.textContent=re,ne.style.marginLeft="10px",ne.style.padding="5px 10px",ne.style.backgroundColor="#384c87",ne.style.color="white",ne.style.border="none",ne.style.borderRadius="4px",ne.style.cursor="pointer",ne.addEventListener("mouseenter",()=>{ne.style.backgroundColor="#4f639e"}),ne.addEventListener("mouseleave",()=>{ne.style.backgroundColor="#384c87"}),ne.addEventListener("click",()=>{A(ae),p(ae?pe=>({...pe,location:Z}):pe=>({...pe,location:""})),n(!0)}),he.appendChild(ne)};return F("#sponsors-section","sponsor-edit-button","Edit Sponsors",!1),Z&&F(".sponsors-title","local-sponsor-edit-button","Edit Local Partners",!0),()=>{const ee=document.querySelector("#sponsor-edit-button");ee&&ee.remove();const Y=document.querySelector("#local-sponsor-edit-button");Y&&Y.remove()}},[C,Z]),I.useEffect(()=>(document.addEventListener("mousedown",X),()=>{document.removeEventListener("mousedown",X)}),[]);const X=F=>{j.current&&!j.current.contains(F.target)&&le()},le=()=>{n(!1),l(null),p({imageUrl:"",link:""})},V=async()=>{try{let ee=(await Qn(z)).docs.map(Y=>({id:Y.id,...Y.data()}));T&&Z?ee=ee.filter(Y=>Y.location===Z):ee=ee.filter(Y=>!Y.location),h(ee),k(ee)}catch(F){console.error("Error loading sponsors:",F)}},k=F=>{let ee;T&&Z?ee=document.querySelector(".sponsors-section .sponsors-container"):ee=document.querySelector(".sponsors-grid"),ee&&(ee.innerHTML="",F.forEach(Y=>{if(!Y.imageUrl)return;const re=document.createElement("div");T?re.className="s-sponsor-logo side-logo":re.className="sponsor-item";const ae=document.createElement("img");if(ae.src=Y.imageUrl,ae.alt=Y.name||"Sponsor",T||(ae.className="sponsor-logo"),Y.link){const he=document.createElement("a");he.href=Y.link.startsWith("http")?Y.link:`https://${Y.link}`,he.target="_blank",he.rel="noopener noreferrer",he.appendChild(ae),re.appendChild(he)}else re.appendChild(ae);ee.appendChild(re)}))},b=F=>{F.target.files&&F.target.files[0]&&S(F.target.files[0])},S=async F=>{if(F){v(!0);try{const ee=Date.now(),Y=F.name?F.name.split(".").pop():"jpg",re=`sponsor_${ee}.${Y}`,ae=Yn(Wn,`gs://aimchallange-67039.firebasestorage.app/background-images/${re}`);console.log("Uploading sponsor image with new filename:",re),await Tr(ae,F);const he=await Bl(ae);p(M=>({...M,imageUrl:he}))}catch(ee){console.error("Error uploading image:",ee)}finally{v(!1)}}},D=async()=>{if(console.log("Add Sponsor button clicked"),!m.imageUrl){console.log("No image URL provided");return}try{console.log("Adding sponsor with data:",m);const F=gt(z),ee={...m,location:T?Z:"",createdAt:new Date().toISOString()};await ls(F,ee),console.log("Sponsor added to Firestore with ID:",F.id);const Y=[...c,{id:F.id,...ee}];h(Y),k(Y),p({imageUrl:"",link:"",location:T?Z:""}),console.log("Form reset, sponsor added successfully")}catch(F){console.error("Error adding sponsor:",F)}},U=async F=>{try{if(F<0||F>=c.length)return;const ee=c[F];if(!ee||!ee.id)return;const Y=gt(z,ee.id),re=await br(Y);if(re.exists()){const ae=re.data();if(console.log("Found sponsor document:",ae),ae.imageUrl)try{const M=w(ae.imageUrl);if(M){const ne=Yn(Wn,`gs://aimchallange-67039.firebasestorage.app/background-images/${M}`);await Ic(ne)}}catch(M){console.error("Error deleting image:",M)}await Cc(Y);const he=[...c];he.splice(F,1),h(he),setTimeout(()=>{k(he)},100)}else console.log("Sponsor document not found")}catch(ee){console.error("Error removing sponsor:",ee)}},w=F=>{if(!F)return null;try{if(F.includes("firebasestorage.googleapis.com")){const re=F.match(/%2F([^?]+)/g);if(re&&re.length>0)return re[re.length-1].replace("%2F","").split("?")[0]}if(F.includes("sponsor_")){const re=/sponsor_[0-9]+\.[a-zA-Z]+/,ae=F.match(re);if(ae&&ae.length>0)return ae[0]}const ee=F.split("/");return ee[ee.length-1].split("?")[0]}catch(ee){return console.error("Error extracting filename:",ee),null}};return C?u.jsx(u.Fragment,{children:e&&u.jsx("div",{className:"background-editor-overlay",onClick:F=>{F.target===F.currentTarget&&le()},children:u.jsxs("div",{className:"background-editor-modal",ref:j,children:[u.jsxs("div",{className:"background-editor-modal__header",children:[u.jsx("h2",{className:"background-editor-modal__title",children:T?`Edit ${Z.charAt(0).toUpperCase()+Z.slice(1)} Partners`:"Edit Global Sponsors"}),u.jsx("button",{className:"background-editor-modal__close",onClick:le,children:"×"})]}),u.jsxs("div",{className:"background-editor-modal__body",children:[u.jsx("h3",{className:"background-editor-modal__subtitle",children:"Current Sponsors"}),u.jsx("div",{className:"background-editor-modal__ad-list",children:c.length>0?c.map((F,ee)=>u.jsxs("div",{className:"background-editor-modal__ad-item",children:[u.jsx("img",{src:F.imageUrl,alt:`Sponsor ${ee+1}`,className:"background-editor-modal__ad-image"}),u.jsxs("div",{className:"background-editor-modal__ad-details",children:[u.jsx("p",{className:"background-editor-modal__ad-link",children:F.link?u.jsx("a",{href:F.link,target:"_blank",rel:"noopener noreferrer",children:F.link}):"No link"}),u.jsx("button",{onClick:()=>U(ee),className:"background-editor-modal__button background-editor-modal__button--secondary",children:"Remove"})]})]},ee)):u.jsx("p",{className:"background-editor-modal__empty-message",children:"No sponsors added yet."})}),u.jsx("h3",{className:"background-editor-modal__subtitle",children:"Add New Sponsor"}),u.jsxs("div",{className:"background-editor-modal__form",children:[u.jsxs("div",{className:"background-editor-modal__form-group",children:[u.jsx("label",{className:"background-editor-modal__label",children:"Image:"}),u.jsxs("div",{className:"background-editor-modal__image-upload",onClick:()=>B.current.click(),children:[m.imageUrl?u.jsx("div",{className:"background-editor-modal__image-preview-container",children:u.jsx("img",{src:m.imageUrl,alt:"Preview",className:"background-editor-modal__image-preview"})}):u.jsx("div",{className:"background-editor-modal__image-placeholder",children:"Click to upload an image"}),u.jsx("input",{type:"file",accept:"image/*",onChange:b,ref:B,className:"background-editor-modal__file-input",style:{display:"none"}})]}),y&&u.jsx("p",{className:"background-editor-modal__upload-status",children:"Uploading..."})]}),u.jsxs("div",{className:"background-editor-modal__form-group",children:[u.jsx("label",{className:"background-editor-modal__label",children:"Link (optional):"}),u.jsx("input",{type:"text",value:m.link,onChange:F=>p(ee=>({...ee,link:F.target.value})),placeholder:"https://example.com",className:"background-editor-modal__input"})]})]}),u.jsxs("div",{className:"background-editor-modal__footer",children:[u.jsx("button",{className:"background-editor-modal__button background-editor-modal__button--secondary",onClick:le,children:"Close"}),u.jsx("button",{className:"background-editor-modal__button background-editor-modal__button--primary",onClick:F=>{F.preventDefault(),F.stopPropagation(),D()},disabled:!m.imageUrl||y,type:"button",children:"Add Sponsor"})]})]})]})})}):null},cD=()=>{const{isAdmin:s}=mn();return Xn(),u.jsxs(u.Fragment,{children:[u.jsx(Sp,{}),u.jsx("div",{className:"footer-wrapper",children:u.jsx("div",{className:"container",children:u.jsx("div",{className:"footer-grid",children:u.jsxs("div",{className:"grid-item sponsors",children:[u.jsx("h1",{className:"footer-heading",id:"sponsors-section",children:"Sponsorer & Partners"}),u.jsxs("div",{className:"sponsors-grid",children:[u.jsx("div",{className:"sponsor-item",children:u.jsx("img",{src:"/images/Artboard 1@4x.png",alt:"Artboard",className:"sponsor-logo"})}),u.jsx("div",{className:"sponsor-item",children:u.jsx("img",{src:"/images/Camelbak_vit.svg",alt:"Camelbak",className:"sponsor-logo"})}),u.jsx("div",{className:"sponsor-item",children:u.jsx("img",{src:"/images/Hedghog_vit.svg",alt:"Hedghog",className:"sponsor-logo"})}),u.jsx("div",{className:"sponsor-item",children:u.jsx("img",{src:"/images/Kona_vit.png",alt:"Kona",className:"sponsor-logo"})}),u.jsx("div",{className:"sponsor-item",children:u.jsx("img",{src:"/images/Mareld_svart.svg",alt:"Mareld",className:"sponsor-logo"})}),u.jsx("div",{className:"sponsor-item",children:u.jsx("img",{src:"/images/ODD_white_RGB.png",alt:"ODD",className:"sponsor-logo"})}),u.jsx("div",{className:"sponsor-item",children:u.jsx("img",{src:"/images/Oofos.png",alt:"Oofos",className:"sponsor-logo"})}),u.jsx("div",{className:"sponsor-item",children:u.jsx("img",{src:"/images/Ortovox_svart.svg",alt:"Ortovox",className:"sponsor-logo"})}),u.jsx("div",{className:"sponsor-item",children:u.jsx("img",{src:"/images/UD Logo.png",alt:"UD",className:"sponsor-logo"})}),u.jsx("div",{className:"sponsor-item",children:u.jsx("img",{src:"/images/Upplev.png",alt:"Upplev Norrköping",className:"sponsor-logo"})}),u.jsx("div",{className:"sponsor-item",children:u.jsx("img",{src:"/images/holdut_logo_sort_1.png",alt:"Hold ut",className:"sponsor-logo"})}),u.jsx("div",{className:"sponsor-item",children:u.jsx("img",{src:"/images/h%C3%A4llmark logga sv_v.svg",alt:"Hällmark",className:"sponsor-logo"})}),u.jsx("div",{className:"sponsor-item",children:u.jsx("img",{src:"/images/injinji_black.svg",alt:"Injinji",className:"sponsor-logo"})})]})]})})})}),u.jsx("footer",{className:"footer-section",children:u.jsxs("div",{className:"footer-container",children:[u.jsxs("div",{className:"footer-top",children:[u.jsxs("div",{className:"footer-left",children:[u.jsx("div",{className:"footer-logo",children:u.jsx("img",{src:"/images/Aim_Challenge_logo_white.svg",alt:"AIM Challenge"})}),u.jsxs("div",{className:"footer-info",children:[u.jsx("p",{children:"Loftsdalian 108, 30129 Halmstad"}),u.jsx("p",{children:u.jsx("a",{href:"mailto:info@aimchallenge.com",children:"info@aimchallenge.com"})}),u.jsx("p",{children:"+46 (0) 73-81 87 54"})]}),u.jsxs("div",{className:"footer-social",children:[u.jsx("a",{href:"#",className:"social-icon",children:u.jsx("i",{className:"fa fa-instagram"})}),u.jsx("a",{href:"#",className:"social-icon",children:u.jsx("i",{className:"fa fa-facebook"})}),u.jsx("a",{href:"#",className:"social-icon",children:u.jsx("i",{className:"fa fa-twitter"})})]})]}),u.jsxs("div",{className:"footer-columns",children:[u.jsxs("div",{className:"footer-column footer-column-center",children:[u.jsx("h3",{className:"footer-title",children:"INFORMATION"}),u.jsxs("ul",{className:"footer-links",children:[u.jsx("li",{children:u.jsx("a",{href:"#",children:"Anmälningsvillkor"})}),u.jsx("li",{children:u.jsx("a",{href:"#",children:"Integritetspolicy"})}),u.jsx("li",{children:u.jsx("a",{href:"#",children:"FAQ"})})]})]}),u.jsxs("div",{className:"footer-column footer-column-right",children:[u.jsx("h3",{className:"footer-title",children:"NYHETSBREV"}),u.jsx("p",{className:"footer-newsletter-text",children:"Åtext om nyhetsbrev, samt en optin ruta för att fylla i sin epostadress. Integration mot mailchimp."})]})]})]}),u.jsx("div",{className:"footer-copyright-wrapper",children:u.jsx("div",{className:"footer-copyright",children:u.jsx("p",{children:"© 2023 Copyright AIM Challenge."})})})]})})]})},P=({textKey:s,defaultText:e,tag:n="p",className:a="",style:l={},placeholder:c="Skriv text här...",onClick:h})=>{const{getText:m,updateText:p,isAdmin:y}=mn(),[v,T]=I.useState(!1),[A,C]=I.useState(""),[O,B]=I.useState(!1),[j,z]=I.useState(""),[q,G]=I.useState(""),Z=I.useRef(null),X=I.useRef(null),le=I.useRef(null),V=["span","a","em","strong","i","b","code","small"].includes(n);I.useEffect(()=>{const M=m(s);C(M||e)},[s,e,m]),I.useEffect(()=>{const M=ne=>{ne.key==="Escape"&&v&&S()};return document.addEventListener("keydown",M),()=>{document.removeEventListener("keydown",M)}},[v]);const k=M=>{M&&(M.preventDefault(),M.stopPropagation()),T(!0)},b=()=>{p(s,A),T(!1),B(!1)},S=()=>{const M=m(s);C(M||e),T(!1),B(!1)},D=M=>{C(M.target.value)},U=()=>{B(!O),G(""),z("")},w=()=>{if(q&&j){let M=j;!M.startsWith("http://")&&!M.startsWith("https://")&&(M="https://"+M);const ne=`<a href="${M}" target="_blank" rel="noopener noreferrer">${q}</a>`,pe=Z.current,ge=pe.selectionStart,me=A.substring(0,ge),we=A.substring(pe.selectionEnd);C(me+ne+we),G(""),z(""),setTimeout(()=>{pe.focus();const ke=ge+ne.length;pe.setSelectionRange(ke,ke)},0)}},F=M=>{G(M.target.value)},ee=M=>{z(M.target.value)},Y=M=>{M.key==="Enter"&&M.ctrlKey?(M.preventDefault(),b()):M.key==="Escape"&&(M.preventDefault(),S())},re=()=>v?Vw.createPortal(u.jsx("div",{className:"edit-modal",children:u.jsxs("div",{className:"edit-modal__content",children:[u.jsx("textarea",{ref:Z,value:A,onChange:D,onKeyDown:Y,placeholder:c,className:"edit-modal__textarea"}),u.jsx("button",{type:"button",onClick:U,className:"modal-action-button modal-action-button--secondary",children:O?"Dölj länkverktyg":"Lägg till länk"}),O&&u.jsxs("div",{className:"edit-modal__link-tools",children:[u.jsxs("div",{className:"edit-modal__form-group",children:[u.jsx("label",{htmlFor:"linkText",className:"edit-modal__label",children:"Länktext:"}),u.jsx("input",{ref:X,type:"text",id:"linkText",value:q,onChange:F,className:"edit-modal__input",placeholder:"Text som ska visas"})]}),u.jsxs("div",{className:"edit-modal__form-group",children:[u.jsx("label",{htmlFor:"linkUrl",className:"edit-modal__label",children:"URL:"}),u.jsx("input",{ref:le,type:"text",id:"linkUrl",value:j,onChange:ee,className:"edit-modal__input",placeholder:"https://example.com"})]}),u.jsx("button",{type:"button",onClick:w,disabled:!q||!j,className:"modal-action-button modal-action-button--primary",children:"Infoga länk"})]}),u.jsxs("div",{className:"edit-modal__actions",children:[u.jsx("button",{type:"button",onClick:S,className:"modal-action-button modal-action-button--secondary",children:"Avbryt"}),u.jsx("button",{type:"button",onClick:b,className:"modal-action-button modal-action-button--primary",children:"Spara"})]})]})}),document.body):null,ae=()=>{const M=n,ne={className:`editable-text ${a}`,style:l,dangerouslySetInnerHTML:{__html:A||c},onClick:h};return u.jsx(M,{...ne})},he=V?"span":"div";return u.jsxs(u.Fragment,{children:[u.jsxs(he,{className:"editable-text-wrapper",children:[ae(),y&&u.jsx("button",{type:"button",onClick:k,className:"edit-button edit-button-primary",title:"Redigera text",children:"Redigera"})]}),re()]})},Lc=({instanceId:s,defaultCategory:e="Alla"})=>{const[n,a]=I.useState([]),[l,c]=I.useState([]),[h,m]=I.useState(0),[p,y]=I.useState(e),[v,T]=I.useState([e]),[A,C]=I.useState(!1),{isAdmin:O}=mn();I.useEffect(()=>{(async()=>{try{const le=Wt(Ye,"posts"),V=rr(le,Wx("createdAt","desc")),k=await Qn(V),b=new Set(["Alla","Sälen","Ulricehamn","Hemsedal","Kolmården"]);k.forEach(S=>{const D=S.data();D.category&&D.category.trim()!==""&&b.add(D.category)}),T(Array.from(b))}catch(le){console.error("Error fetching categories:",le)}})()},[]),I.useEffect(()=>{s&&(async()=>{try{const le=gt(Ye,"carouselSettings",s),V=await br(le);if(V.exists()){const k=V.data();y(k.category||"Alla")}}catch(le){console.error("Error fetching carousel settings:",le)}})()},[s]),I.useEffect(()=>{(async()=>{try{const le=Wt(Ye,"posts"),V=rr(le,Wx("createdAt","desc")),k=await Qn(V),b=[];k.forEach(S=>{b.push({id:S.id,...S.data()})}),a(b)}catch(le){console.error("Error fetching posts:",le)}})()},[]),I.useEffect(()=>{if(p==="Alla")c(n);else{const X=n.filter(le=>le.category===p);c(X)}m(0)},[p,n]);const B=async X=>{try{const le=gt(Ye,"carouselSettings",s);await ls(le,{category:X,updatedAt:new Date().toISOString(),updatedBy:"admin"}),console.log("Carousel settings saved successfully")}catch(le){console.error("Error saving carousel settings:",le)}},j=X=>{y(X),B(X),C(!1)},z=()=>{h>0&&m(h-1)},q=()=>{h<l.length-1&&m(h+1)},G=()=>{C(!A)},Z=[];for(let X=h;X<h+3&&X<l.length;X++)l[X]&&Z.push(l[X]);for(;Z.length<3;)Z.push(null);return u.jsxs("div",{className:"news-carousel",children:[O&&u.jsxs("div",{className:"news-carousel-admin",children:[u.jsxs("button",{className:"category-selector-button",onClick:G,children:[p," ▼"]}),A&&u.jsx("div",{className:"category-selector",children:v.map(X=>u.jsx("div",{className:`category-option ${X===p?"selected":""}`,onClick:()=>j(X),children:X},X))})]}),u.jsx("div",{className:"news-carousel-container",children:Z.map((X,le)=>X?u.jsxs("div",{className:"news-card",children:[u.jsx("div",{className:"news-image",children:X.image?u.jsx("img",{src:X.image,alt:X.title}):u.jsx("div",{className:"news-image-placeholder"})}),u.jsxs("div",{className:"news-content",children:[u.jsx("h3",{className:"news-location",children:X.title}),u.jsx("p",{className:"news-description",children:X.content.length>100?`${X.content.substring(0,100)}...`:X.content}),u.jsx("div",{className:"news-button",children:u.jsx(Ne,{to:`/news/${X.id}`,className:"button-2",children:u.jsx("span",{children:"LÄS MER"})})})]})]},X.id):u.jsxs("div",{className:"news-card empty",children:[u.jsx("div",{className:"news-image-placeholder"}),u.jsxs("div",{className:"news-content",children:[u.jsx("h3",{className:"news-location",children:"Inga fler nyheter"}),u.jsx("p",{className:"news-description",children:"Det finns inga fler nyheter i denna kategori."})]})]},`empty-${le}`))}),u.jsxs("div",{className:"news-carousel-controls",children:[u.jsx("button",{className:"carousel-control prev",onClick:z,disabled:h===0,children:"◀"}),u.jsx("button",{className:"carousel-control next",onClick:q,disabled:h>=l.length-3,children:"▶"})]})]})},uD=()=>{const{isAdmin:s}=mn();return u.jsxs("div",{className:"flex flex_col MaxWH location",children:[u.jsx("section",{id:"page_01",className:"page_01 dynamic-background background-editable",children:u.jsx("div",{className:" page_01box flex flex_col flex_j_SA MaxWH",children:u.jsx(P,{textKey:"main-multisport-sedan",defaultText:"MUTLISPORT SEDAN 2004",tag:"p",className:"font_white fonts_large"})})}),u.jsxs("section",{id:"page_02",className:"page_02 flex flex_j_E MaxWH location",children:[u.jsx(P,{textKey:"main-competitions-title",defaultText:"ÅRETS TÄVLINGAR",tag:"h2",className:"page_02-title"}),u.jsxs("div",{className:"page_02box  flex flex_col MaxWH location",children:[u.jsx("div",{id:"page_02-ulricehamn-image",className:"page_02-image background-editable",style:{backgroundImage:"url('images/EE-AIMChallenge24-Uhamn-0171-high.jpg')"}}),u.jsx("div",{className:"page_02-content",children:u.jsxs("div",{className:"page_02-header",children:[u.jsx(P,{textKey:"main-ulricehamn-title",defaultText:"ULRICEHAMN 10/5",tag:"p",className:"font_white fonts_medium_B"}),u.jsx(P,{textKey:"ulricehamn-date",defaultText:"datum insert",tag:"p",className:"font_white fonts_medium"})]})}),u.jsx("div",{className:"page_02-button",children:u.jsx(Ne,{to:"/ulricehamn",className:"location button-2",children:u.jsx("span",{children:"Läs mer"})})})]}),u.jsxs("div",{className:"page_02box  flex flex_col MaxWH location",children:[u.jsx("div",{id:"page_02-salen-image",className:"page_02-image background-editable",style:{backgroundImage:"url('/images/AIM_lindvallen_2024_AnkiGrothe_highres_155.jpg')"}}),u.jsx("div",{className:"page_02-content",children:u.jsxs("div",{className:"page_02-header",children:[u.jsx(P,{textKey:"main-salen-title",defaultText:"SÄLEN 10/5",tag:"p",className:"font_white fonts_medium_B"}),u.jsx(P,{textKey:"salen-date",defaultText:"datum insert",tag:"p",className:"font_white fonts_medium"})]})}),u.jsx("div",{className:"page_02-button",children:u.jsx(Ne,{to:"/salen",className:"location button-2",children:u.jsx("span",{children:"Läs mer"})})})]}),u.jsxs("div",{className:"page_02box flex flex_col MaxWH location",children:[u.jsx("div",{id:"page_02-hemsedal-image",className:"page_02-image background-editable",style:{backgroundImage:"url('/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg')"}}),u.jsx("div",{className:"page_02-content",children:u.jsxs("div",{className:"page_02-header",children:[u.jsx(P,{textKey:"main-hemsedal-title",defaultText:"HEMSEDAL 10/5",tag:"p",className:"font_white fonts_medium_B"}),u.jsx(P,{textKey:"hemsedal-date",defaultText:"datum insert",tag:"p",className:"font_white fonts_medium"})]})}),u.jsx("div",{className:"page_02-button",children:u.jsx(Ne,{to:"/hemsedal",className:"location button-2",children:u.jsx("span",{children:"Läs mer"})})})]}),u.jsxs("div",{className:"page_02box  flex flex_col MaxWH location",children:[u.jsx("div",{id:"page_02-kolmarden-image",className:"page_02-image background-editable",style:{backgroundImage:"url('/images/kolmarden.jpg')"}}),u.jsx("div",{className:"page_02-content",children:u.jsxs("div",{className:"page_02-header",children:[u.jsx(P,{textKey:"main-kolmarden-title",defaultText:"KOLMÅRDEN 10/5",tag:"p",className:"font_white fonts_medium_B"}),u.jsx(P,{textKey:"kolmarden-date",defaultText:"datum insert",tag:"p",className:"font_white fonts_medium"})]})}),u.jsx("div",{className:"page_02-button",children:u.jsx(Ne,{to:"/kolmarden",className:"location button-2",children:u.jsx("span",{children:"Läs mer"})})})]})]}),u.jsx("section",{id:"page_03",className:"page_03 flex MaxWH",children:u.jsxs("div",{className:"page_03-content flex",children:[u.jsxs("div",{className:"page_03-text",children:[u.jsx(P,{textKey:"main-about-title",defaultText:"OM AIM CHALLENGE",tag:"h2",className:"page_03-title"}),u.jsx(P,{textKey:"aim-challenge-desc-1",defaultText:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",tag:"p",className:"font_white"}),u.jsx(P,{textKey:"aim-challenge-desc-2",defaultText:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",tag:"p",className:"font_white"}),u.jsx("div",{className:"page_03-button",children:u.jsx(Ne,{to:"/about",className:"button-2",children:u.jsx("span",{children:"LÄS MER"})})})]}),u.jsx("div",{className:"page_03-image",children:u.jsx("div",{id:"page_03-aim-image",className:"background-editable","data-editable":"true",style:{width:"90%",height:"90%",backgroundImage:"url('images/AIM_lindvallen_2024_AnkiGrothe_highres_155.jpg')",backgroundSize:"contain",backgroundPosition:"center",backgroundRepeat:"no-repeat"}})})]})}),u.jsx("section",{className:"ad-section",children:u.jsx("div",{className:"ad-container",children:u.jsx("div",{className:"ad-content",children:u.jsx("div",{className:"ad-carousel ad-editable",id:"main-ad-section",children:u.jsx("div",{className:"annons-text",children:"ANNONS"})})})})}),u.jsxs("section",{id:"latest-news",className:"latest-news-section",children:[u.jsx("h2",{className:"latest-news-title",children:"SENASTE NYTT"}),u.jsx("div",{className:"latest-news-container",children:u.jsx(Lc,{instanceId:"main-page-carousel"})})]})]})},Ps=()=>{const[s,e]=I.useState(!1),[n,a]=I.useState(null),[l,c]=I.useState(null),[h,m]=I.useState(null),[p,y]=I.useState("simple"),[v,T]=I.useState(null),{isAdmin:A}=mn();console.log("BackgroundEditor - isAdmin:",A);const C=I.useRef(null),O=I.useRef(null),B=Xn(),j=I.useCallback(w=>{if(!(w.target.closest(".edit-button")||w.target.closest(".editable-text-wrapper")&&!w.target.classList.contains("background-editable")))if(w.stopPropagation(),console.log("Background element clicked:",w.currentTarget.id),A){console.log("User is admin, showing modal"),a(w.currentTarget),e(!0);const F=w.currentTarget.id;F&&G(F)}else console.log("User is not admin, click ignored")},[A]),z=()=>{const w=document.querySelectorAll(".background-editable");console.log("Found background elements:",w.length),w.forEach(F=>{if(console.log("Adding click listener to element:",F.id),F.removeEventListener("click",j),F.addEventListener("click",j),A&&(F.classList.add("admin-editable"),F.style.cursor="pointer",!F.querySelector(".background-editable-indicator"))){const ee=document.createElement("div");ee.className="background-editable-indicator",ee.style.position="absolute",ee.style.top="5px",ee.style.right="5px",ee.style.width="10px",ee.style.height="10px",ee.style.backgroundColor="rgba(0, 255, 0, 0.5)",ee.style.borderRadius="50%",ee.style.zIndex="1",ee.style.display=A?"block":"none",window.getComputedStyle(F).position==="static"&&(F.style.position="relative"),F.appendChild(ee)}})};I.useEffect(()=>{console.log("BackgroundEditor useEffect - path:",B.pathname);const w=setTimeout(()=>{z(),q()},300),F=new MutationObserver(Y=>{let re=!1;Y.forEach(ae=>{ae.type==="childList"?ae.addedNodes.forEach(he=>{he.nodeType===1&&(he.classList&&he.classList.contains("background-editable")||he.querySelectorAll&&he.querySelectorAll(".background-editable").length>0)&&(re=!0)}):ae.type==="attributes"&&ae.target.classList&&ae.target.classList.contains("background-editable")&&(re=!0)}),re&&(console.log("New editable elements detected, attaching listeners"),setTimeout(()=>{z()},100))});F.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["class"]});const ee=setInterval(()=>{const Y=document.querySelectorAll(".background-editable");Y.length>0&&(console.log("Periodic check found",Y.length,"editable elements"),z())},2e3);return()=>{clearTimeout(w),clearInterval(ee),F.disconnect(),document.querySelectorAll(".background-editable").forEach(re=>{if(re.removeEventListener("click",j),A){re.classList.remove("admin-editable");const ae=re.querySelector(".background-editable-indicator");ae&&re.removeChild(ae)}})}},[A,B.pathname,j]),I.useEffect(()=>{if(s)return document.addEventListener("mousedown",D),()=>{document.removeEventListener("mousedown",D)}},[s]);const q=async()=>{try{console.log("Loading all background settings");const w=Wt(Ye,"backgrounds"),F=await Qn(w);console.log(`Found ${F.size} background settings`),F.forEach(ee=>{const Y=ee.data(),re=document.getElementById(ee.id);console.log(`Background for element ${ee.id}:`,Y),re?(console.log(`Applying background to element ${ee.id}`),b(re,Y.imageUrl,Y.backgroundType)):console.log(`Element with ID ${ee.id} not found in the DOM`)})}catch(w){console.error("Error loading background settings:",w)}},G=async w=>{try{console.log(`Loading background settings for element: ${w}`);const F=Wt(Ye,"backgrounds"),ee=gt(F,w),Y=await br(ee);if(Y.exists()){const re=Y.data();console.log("Found background settings:",re),y(re.backgroundType||"simple"),m(re.imageUrl),T(re.imageUrl),console.log(`Set previousImageUrl to: ${re.imageUrl}`)}else console.log(`No background settings found for element: ${w}`),y("simple"),m(null),c(null),T(null)}catch(F){console.error("Error loading background settings:",F)}},Z=w=>{const F=w.target.files[0];if(F){F.name||(F.name=`image-${Date.now()}.jpg`);const ee=new FileReader;ee.onloadend=()=>{c(F),m(ee.result)},ee.readAsDataURL(F)}},X=w=>{if(!w)return null;console.log("Extracting filename from URL:",w);try{if(w.includes("firebasestorage.googleapis.com")){const re=w.match(/%2F([^?]+)/g);if(re&&re.length>0){const he=re[re.length-1].replace("%2F","").split("?")[0];return console.log("Extracted filename from Firebase URL:",he),he}}if(w.includes("background-images")){const re=w.split("/"),ae=re[re.length-1];return console.log("Extracted filename from direct path:",ae),ae}const F=w.split("/"),Y=F[F.length-1].split("?")[0];return console.log("Extracted filename using fallback method:",Y),Y}catch(F){return console.error("Error extracting filename:",F),null}},le=async w=>{if(w)try{console.log("Attempting to delete old image with URL:",w);const F=X(w);if(F){console.log("Deleting file with filename:",F);const ee=Yn(Wn,`gs://aimchallange-67039.firebasestorage.app/background-images/${F}`);await Ic(ee),console.log("Successfully deleted old image")}}catch(F){console.error("Error deleting old image:",F)}},V=async()=>{if(!n||!n.id){alert("Selected element must have an ID attribute");return}try{let w=h;if(l){const F=Date.now(),ee=l.name?l.name.split(".").pop():"jpg",Y=`background_${F}.${ee}`,re=Yn(Wn,`gs://aimchallange-67039.firebasestorage.app/background-images/${Y}`);console.log("Uploading image with new filename:",Y),await Tr(re,l),w=await Bl(re),console.log("Image URL after upload:",w),console.log("Image URL format check:",{includesFirebaseStorage:w.includes("firebasestorage.googleapis.com"),includesBackgroundImages:w.includes("background-images"),urlParts:w.split("/"),containsPercent2F:w.includes("%2F")}),console.log("Previous image URL:",v),v&&v!==w?(console.log("Deleting previous image:",v),await le(v)):console.log("No previous image to delete or same image URL")}if(w){const F=Wt(Ye,"backgrounds");await ls(gt(F,n.id),{elementId:n.id,imageUrl:w,backgroundType:p,updatedAt:new Date,updatedBy:"anonymous"}),b(n,w,p)}e(!1)}catch(w){console.error("Error saving background:",w),alert("Error saving background. Please try again.")}},k=async w=>{w.stopPropagation();try{if(v&&await le(v),n&&n.id){const F=Wt(Ye,"backgrounds");await ls(gt(F,n.id),{elementId:n.id,imageUrl:null,backgroundType:"simple",updatedAt:new Date,updatedBy:"anonymous"}),n&&(n.style.backgroundImage="none")}c(null),m(null),T(null),console.log("Background image removed successfully")}catch(F){console.error("Error removing background image:",F)}},b=(w,F,ee)=>{!w||!F||(console.log(`Applying background to element ${w.id} with image ${F}`),w.classList.remove("simple-background","fixed-background"),w.classList.add("has-background"),ee==="simple"?w.classList.add("simple-background"):w.classList.add("locked-background"),w.style.backgroundImage=`url(${F})`,w.style.backgroundSize="cover",w.style.backgroundPosition="center",w.style.backgroundRepeat="no-repeat",ee==="fixed"?w.style.backgroundAttachment="fixed":w.style.backgroundAttachment="scroll",console.log(`Background applied to element ${w.id}`))},S=()=>{e(!1),a(null),c(null),m(null),T(null)},D=w=>{O.current&&!O.current.contains(w.target)&&S()},U=()=>{C.current.click()};return A?u.jsx(u.Fragment,{children:s&&u.jsx("div",{className:"background-editor-overlay",onClick:D,children:u.jsxs("div",{className:"background-editor-modal",ref:O,children:[u.jsxs("div",{className:"background-editor-modal__header",children:[u.jsx("h2",{className:"background-editor-modal__title",children:"Edit Background"}),u.jsx("button",{className:"background-editor-modal__close",onClick:S,children:"×"})]}),u.jsxs("div",{className:"background-editor-modal__body",children:[u.jsxs("div",{className:"background-editor-modal__form-group",children:[u.jsx("label",{className:"background-editor-modal__label",children:"Background Type"}),u.jsxs("select",{className:"background-editor-modal__select",value:p,onChange:w=>y(w.target.value),children:[u.jsx("option",{value:"simple",children:"Simple (scrolls with content)"}),u.jsx("option",{value:"fixed",children:"Fixed (locked when scrolling)"})]})]}),u.jsxs("div",{className:"background-editor-modal__form-group",children:[u.jsx("label",{className:"background-editor-modal__label",children:"Background Image"}),u.jsxs("div",{className:"background-editor-modal__image-upload",onClick:U,children:[h?u.jsxs("div",{className:"background-editor-modal__image-preview-container",children:[u.jsx("img",{src:h,alt:"Preview",className:"background-editor-modal__image-preview"}),u.jsx("button",{className:"background-editor-modal__image-remove",onClick:k,children:"×"})]}):u.jsx("div",{className:"background-editor-modal__image-placeholder",children:"Click to upload an image"}),u.jsx("input",{type:"file",ref:C,onChange:Z,accept:"image/*",className:"background-editor-modal__file-input"})]})]})]}),u.jsxs("div",{className:"background-editor-modal__footer",children:[u.jsx("button",{className:"background-editor-modal__button background-editor-modal__button--secondary",onClick:S,children:"Cancel"}),u.jsx("button",{className:"background-editor-modal__button background-editor-modal__button--primary",onClick:V,children:"Save Changes"})]})]})})}):null},dD=()=>u.jsxs(u.Fragment,{children:[u.jsx(Ps,{}),u.jsxs("div",{className:"competitions-container flex flex_col MaxWH location",children:[u.jsx("div",{className:"competitions-spacer"}),u.jsxs("div",{className:"competitions-grid",children:[u.jsxs("div",{id:"competitions-card-ulricehamn",className:"competitions-card competitions-card-ulricehamn flex flex_col flex_j_SB location simple-background background-editable",children:[u.jsxs("div",{className:"trans-background competitions-header flex flex_col flex_j_C flex_a_C flex_text_C MaxWH",style:{position:"relative",zIndex:30},children:[u.jsx(P,{textKey:"competitions-ulricehamn-title",defaultText:"ULRICEHAMN",tag:"p",className:"font_blue fonts_medium_B competitions-title text-center",style:{textAlign:"center"}}),u.jsx(P,{textKey:"ulricehamn-date",defaultText:"datum insert",tag:"p",className:"font_blue fonts_medium competitions-date text-center",style:{textAlign:"center"}})]}),u.jsx("div",{className:"competitions-button-container flex flex_col flex_j_SA flex_a_C MaxWH Button",style:{position:"relative",zIndex:30},children:u.jsx(Ne,{to:"/ulricehamn",className:"location button-2 competitions-button",children:u.jsx("span",{children:"Läs mer"})})})]}),u.jsxs("div",{id:"competitions-card-salen",className:"competitions-card competitions-card-salen flex flex_col flex_j_SB location simple-background background-editable",children:[u.jsxs("div",{className:"trans-background competitions-header flex flex_col flex_j_C flex_a_C flex_text_C MaxWH",style:{position:"relative",zIndex:30},children:[u.jsx(P,{textKey:"competitions-salen-title",defaultText:"SÄLEN",tag:"p",className:"font_blue fonts_medium_B competitions-title text-center",style:{textAlign:"center"}}),u.jsx(P,{textKey:"salen-date",defaultText:"datum insert",tag:"p",className:"font_blue fonts_medium competitions-date text-center",style:{textAlign:"center"}})]}),u.jsx("div",{className:"competitions-button-container flex flex_col flex_j_SA flex_a_C MaxWH Button",style:{position:"relative",zIndex:30},children:u.jsx(Ne,{to:"/salen",className:"location button-2 competitions-button",children:u.jsx("span",{children:"Läs mer"})})})]})]}),u.jsxs("div",{className:"competitions-grid",children:[u.jsxs("div",{id:"competitions-card-hemsedal",className:"competitions-card competitions-card-hemsedal flex flex_col flex_j_SB location simple-background background-editable",children:[u.jsxs("div",{className:"trans-background competitions-header flex flex_col flex_j_C flex_a_C flex_text_C MaxWH",style:{position:"relative",zIndex:30},children:[u.jsx(P,{textKey:"competitions-hemsedal-title",defaultText:"HEMSEDAL",tag:"p",className:"font_blue fonts_medium_B competitions-title text-center",style:{textAlign:"center"}}),u.jsx(P,{textKey:"hemsedal-date",defaultText:"datum insert",tag:"p",className:"font_blue fonts_medium competitions-date text-center",style:{textAlign:"center"}})]}),u.jsx("div",{className:"competitions-button-container flex flex_col flex_j_SA flex_a_C MaxWH Button",style:{position:"relative",zIndex:30},children:u.jsx(Ne,{to:"/hemsedal",className:"location button-2 competitions-button",children:u.jsx("span",{children:"Läs mer"})})})]}),u.jsxs("div",{id:"competitions-card-kolmarden",className:"competitions-card competitions-card-kolmarden flex flex_col flex_j_SB location simple-background background-editable",children:[u.jsxs("div",{className:"trans-background competitions-header flex flex_col flex_j_C flex_a_C flex_text_C MaxWH",style:{position:"relative",zIndex:30},children:[u.jsx(P,{textKey:"competitions-kolmarden-title",defaultText:"KOLMÅRDEN",tag:"p",className:"font_blue fonts_medium_B competitions-title text-center",style:{textAlign:"center"}}),u.jsx(P,{textKey:"kolmarden-date",defaultText:"datum insert",tag:"p",className:"font_blue fonts_medium competitions-date text-center",style:{textAlign:"center"}})]}),u.jsx("div",{className:"competitions-button-container flex flex_col flex_j_SA flex_a_C MaxWH Button",style:{position:"relative",zIndex:30},children:u.jsx(Ne,{to:"/kolmarden",className:"location button-2 competitions-button",children:u.jsx("span",{children:"Läs mer"})})})]})]}),u.jsx("div",{className:"competitions-grid",children:u.jsxs("div",{id:"competitions-card-trippeln",className:"competitions-card competitions-card-trippeln flex flex_col flex_j_SB location simple-background background-editable",style:{gridColumn:"span 2"},children:[u.jsxs("div",{className:"trans-background competitions-header flex flex_col flex_j_C flex_a_C flex_text_C MaxWH",style:{position:"relative",zIndex:30},children:[u.jsx(P,{textKey:"competitions-trippeln-title",defaultText:"AIM CHALLENGE TRIPPELN",tag:"p",className:"font_blue fonts_medium_B competitions-title text-center",style:{textAlign:"center"}}),u.jsx(P,{textKey:"trippeln-description",defaultText:"Tävla i alla tre deltävlingar och bli en del av AIM Challenge Trippeln",tag:"p",className:"font_blue fonts_medium competitions-date text-center",style:{textAlign:"center"}})]}),u.jsx("div",{className:"competitions-button-container flex flex_col flex_j_SA flex_a_C MaxWH Button",style:{position:"relative",zIndex:30},children:u.jsx(Ne,{to:"/trippeln",className:"location button-2 competitions-button",children:u.jsx("span",{children:"Läs mer"})})})]})})]})]}),hD=()=>u.jsxs(u.Fragment,{children:[u.jsx(Ps,{},"ulricehamn-background-editor"),u.jsxs("div",{className:"ulricehamn-container",children:[u.jsx("section",{className:"ulricehamn-hero-section",children:u.jsx("div",{className:"hero-content",children:u.jsx("div",{className:"hero-image-container background-editable",id:"ulricehamn-hero-image",children:u.jsx("img",{src:"/images/EE-AIMChallenge24-Uhamn-0171-high.jpg",alt:"Ulricehamn Event"})})})}),u.jsx("section",{className:"ulricehamn-title-section",children:u.jsxs("div",{className:"title-container",children:[u.jsx(P,{textKey:"ulricehamn-title",defaultText:"ULRICEHAMN",tag:"h1",className:"location-title"}),u.jsx(P,{textKey:"ulricehamn-date",defaultText:"10 MAJ 2025",tag:"h2",className:"location-date"})]})}),u.jsx("section",{className:"ulricehamn-button-section",children:u.jsx("div",{className:"button-container",children:u.jsx("a",{href:"https://raceid.com/sv/races/12846/about",target:"_blank",rel:"noopener noreferrer",className:"anmalan-button",children:u.jsx("p",{children:"TA MIG TILL ANMÄLAN"})})})}),u.jsx("section",{className:"ulricehamn-program-section",children:u.jsx("div",{className:"program-container",children:u.jsxs("div",{className:"program-cards",children:[u.jsx("div",{className:"program-card image-card background-editable",id:"ulricehamn-program-image",children:u.jsx("img",{src:"/images/EE-AIMChallenge24-Uhamn-0171-high.jpg",alt:"Ulricehamn Event"})}),u.jsxs("div",{className:"program-card info-card",children:[u.jsx(P,{textKey:"ulricehamn-program-title",defaultText:"PROGRAM",tag:"h2",className:"program-title"}),u.jsxs("div",{className:"program-schedule",children:[u.jsxs("div",{className:"program-day",children:[u.jsx(P,{textKey:"ulricehamn-friday-title",defaultText:"Fredag 9/5",tag:"h3",className:"day-title"}),u.jsx(P,{textKey:"ulricehamn-friday-schedule",defaultText:"17:00 - 19:00 Nummerlappsutdelning på XCC",tag:"p",className:"schedule-item"})]}),u.jsxs("div",{className:"program-day",children:[u.jsx(P,{textKey:"ulricehamn-saturday-title",defaultText:"Lördag 10/5",tag:"h3",className:"day-title"}),u.jsx(P,{textKey:"ulricehamn-saturday-schedule1",defaultText:"08:30 - 10:15 Registrering för alla tävlande som ej registrerat sig under fredagen på 157 XCC, på Lassalyckan.",tag:"p",className:"schedule-item"}),u.jsx(P,{textKey:"ulricehamn-saturday-schedule2",defaultText:"10:30 Obligatoriskt informationsmöte vid starten på Lassalyckan stadion.",tag:"p",className:"schedule-item"}),u.jsx(P,{textKey:"ulricehamn-saturday-schedule3",defaultText:"11:00 Start AIM Challenge, på Lassalyckan stadion. Gemensam start för 3 & 6-timmars tävlingen.",tag:"p",className:"schedule-item"}),u.jsx(P,{textKey:"ulricehamn-saturday-schedule4",defaultText:"14:00 Målgång för 3-timmars tävlingen.",tag:"p",className:"schedule-item"}),u.jsx(P,{textKey:"ulricehamn-saturday-schedule5",defaultText:"ca 15:30 Prisutdelning 3-timmars tävlingen",tag:"p",className:"schedule-item"}),u.jsx(P,{textKey:"ulricehamn-saturday-schedule6",defaultText:"16:30 - 20:00 After AIM med mat och dryck på Hotell Lassalyckan.",tag:"p",className:"schedule-item"}),u.jsx(P,{textKey:"ulricehamn-saturday-schedule7",defaultText:"17:00 Målgång för 6-timmars tävlingen.",tag:"p",className:"schedule-item"}),u.jsx(P,{textKey:"ulricehamn-saturday-schedule8",defaultText:"19:00 Prisutdelning utanför Hotell Lassalyckan.",tag:"p",className:"schedule-item"})]})]})]})]})})}),u.jsx("section",{className:"ulricehamn-price-section",children:u.jsx("div",{className:"price-container",children:u.jsxs("div",{className:"price-image-container background-editable",id:"ulricehamn-price-image",children:[u.jsx("img",{src:"/images/EE-AIMChallenge24-Uhamn-0171-high.jpg",alt:"Climbing in Ulricehamn",className:"price-background-image"}),u.jsx("div",{className:"price-overlay",children:u.jsxs("div",{className:"price-content",children:[u.jsx(P,{textKey:"ulricehamn-price-title",defaultText:"PRIS",tag:"h2",className:"section-title"}),u.jsx(P,{textKey:"ulricehamn-price-subtitle",defaultText:"ULRICEHAMN 10/5-2025",tag:"h3",className:"price-subtitle"}),u.jsxs("div",{className:"price-categories",children:[u.jsxs("div",{className:"price-category",children:[u.jsx(P,{textKey:"ulricehamn-price-3h-title",defaultText:"3-TIMMARS",tag:"h4",className:"category-title"}),u.jsx(P,{textKey:"ulricehamn-price-3h-1",defaultText:"1500 SEK / lag för Early Bird-anmälan innan 1 november.",tag:"p",className:"price-item"}),u.jsx(P,{textKey:"ulricehamn-price-3h-2",defaultText:"1700 SEK / lag för anmälan mellan 1 november och 1 februari.",tag:"p",className:"price-item"}),u.jsx(P,{textKey:"ulricehamn-price-3h-3",defaultText:"1900 SEK / lag för anmälan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(P,{textKey:"ulricehamn-price-3h-4",defaultText:"2100 SEK / lag för anmälan från 25 april och fram till start.",tag:"p",className:"price-item"})]}),u.jsxs("div",{className:"price-category",children:[u.jsx(P,{textKey:"ulricehamn-price-6h-title",defaultText:"6-TIMMARS",tag:"h4",className:"category-title"}),u.jsx(P,{textKey:"ulricehamn-price-6h-1",defaultText:"1900 SEK / lag för Early Bird-anmälan innan 1 november.",tag:"p",className:"price-item"}),u.jsx(P,{textKey:"ulricehamn-price-6h-2",defaultText:"2100 SEK / lag för anmälan mellan 1 november och 1 februari.",tag:"p",className:"price-item"}),u.jsx(P,{textKey:"ulricehamn-price-6h-3",defaultText:"2300 SEK / lag för anmälan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(P,{textKey:"ulricehamn-price-6h-4",defaultText:"2500 SEK / lag för anmälan från 25 april och fram till start.",tag:"p",className:"price-item"})]})]}),u.jsxs("div",{className:"price-category trippeln-category",children:[u.jsx(P,{textKey:"ulricehamn-price-trippeln-title",defaultText:"AIM CHALLENGE TRIPPELN 2025",tag:"h4",className:"category-title"}),u.jsx(P,{textKey:"ulricehamn-price-trippeln-1",defaultText:"4750 SEK / lag för Early Bird-anmälan innan 1 januari.",tag:"p",className:"price-item"}),u.jsx(P,{textKey:"ulricehamn-price-trippeln-2",defaultText:"5250 SEK / lag för anmälan mellan 1 januari och 1 februari.",tag:"p",className:"price-item"}),u.jsx(P,{textKey:"ulricehamn-price-trippeln-3",defaultText:"5750 SEK / lag för anmälan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(P,{textKey:"ulricehamn-price-trippeln-4",defaultText:"6250 SEK / lag för anmälan efter den 25 april.",tag:"p",className:"price-item"})]}),u.jsx("div",{className:"price-button-container",children:u.jsx("a",{href:"https://raceid.com/sv/races/12846/about",target:"_blank",rel:"noopener noreferrer",className:"price-anmalan-button",children:u.jsx("p",{children:"TA MIG TILL ANMÄLAN"})})})]})})]})})}),u.jsxs("section",{id:"latest-news",className:"latest-news-section",children:[u.jsx("h2",{className:"latest-news-title",children:"SENASTE NYTT ULRICEHAMN"}),u.jsx("div",{style:{width:"1200px",margin:"0 auto",padding:"0 20px",boxSizing:"border-box"},children:u.jsx(Lc,{instanceId:"ulricehamn-news",defaultCategory:"Ulricehamn"})})]}),u.jsx("section",{className:"useful-links-section",children:u.jsxs("div",{className:"useful-links-container",children:[u.jsx(P,{textKey:"ulricehamn-useful-links-title",defaultText:"NYTTIGA LÄNKAR",tag:"h2",className:"useful-links-title"}),u.jsxs("div",{className:"links-category",children:[u.jsx(P,{textKey:"ulricehamn-links-category1-title",defaultText:"Cykeluthyrning",tag:"h3",className:"links-category-title"}),u.jsx(P,{textKey:"ulricehamn-links-category1-text",defaultText:"Cykeluthyrning med in- och utlämning på Lassalyckan Stadion. Läs mer och boka här.",tag:"p",className:"links-text"})]}),u.jsxs("div",{className:"links-category",children:[u.jsx(P,{textKey:"ulricehamn-links-category2-title",defaultText:"Boende",tag:"h3",className:"links-category-title"}),u.jsx(P,{textKey:"ulricehamn-links-category2-text",defaultText:"Önskar du att bo nära start och mål så kan vi varmt rekommendera Hotell Lassalyckan som erbjuder ett modernt boende ett stenkast ifrån starten. https://www.hotell-lassalyckan.se",tag:"p",className:"links-text"})]}),u.jsxs("div",{className:"links-category",children:[u.jsx(P,{textKey:"ulricehamn-links-category3-title",defaultText:"Mat",tag:"h3",className:"links-category-title"}),u.jsx(P,{textKey:"ulricehamn-links-category3-text",defaultText:"Önskar du att bo nära start och mål så kan vi varmt rekommendera Hotell Lassalyckan som erbjuder ett modernt boende ett stenkast ifrån starten.",tag:"p",className:"links-text"})]})]})}),u.jsxs("section",{className:"sponsors-section",children:[u.jsx(P,{textKey:"ulricehamn-sponsors-title",defaultText:"LOKALA SPONSORER",tag:"h2",className:"sponsors-title"}),u.jsx("div",{id:"ulricehamn-sponsors",className:"sponsors-container"}),u.jsx(Sp,{location:"ulricehamn",targetId:"ulricehamn-sponsors"})]})]})]}),fD=()=>u.jsxs(u.Fragment,{children:[u.jsx(Ps,{},"salen-background-editor"),u.jsxs("div",{className:"salen-container",children:[u.jsx("section",{className:"salen-hero-section",children:u.jsx("div",{className:"hero-content",children:u.jsx("div",{className:"hero-image-container background-editable",id:"salen-hero-image",children:u.jsx("img",{src:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg",alt:"Sälen Event"})})})}),u.jsx("section",{className:"salen-title-section",children:u.jsxs("div",{className:"title-container",children:[u.jsx(P,{textKey:"salen-title",defaultText:"SÄLEN",tag:"h1",className:"location-title"}),u.jsx(P,{textKey:"salen-date",defaultText:"1 AUGUSTI 2025",tag:"h2",className:"location-date"})]})}),u.jsx("section",{className:"ulricehamn-button-section",children:u.jsx("div",{className:"button-container",children:u.jsx("a",{href:"https://raceid.com/sv/races/12846/about",target:"_blank",rel:"noopener noreferrer",className:"anmalan-button",children:u.jsx("p",{children:"TA MIG TILL ANMÄLAN"})})})}),u.jsx("section",{className:"salen-program-section",children:u.jsx("div",{className:"program-container",children:u.jsxs("div",{className:"program-cards",children:[u.jsx("div",{className:"program-card image-card background-editable",id:"salen-program-image",children:u.jsx("img",{src:"/images/EE-AIMChallenge24-Uhamn-0171-high.jpg",alt:"Sälen Event"})}),u.jsxs("div",{className:"program-card info-card",children:[u.jsx(P,{textKey:"salen-program-title",defaultText:"PROGRAM",tag:"h2",className:"program-title"}),u.jsxs("div",{className:"program-schedule",children:[u.jsxs("div",{className:"program-day",children:[u.jsx(P,{textKey:"salen-friday-title",defaultText:"Fredag 9/5",tag:"h3",className:"day-title"}),u.jsx(P,{textKey:"salen-friday-schedule",defaultText:"17:00 - 19:00 Nummerlappsutdelning på XCC",tag:"p",className:"schedule-item"})]}),u.jsxs("div",{className:"program-day",children:[u.jsx(P,{textKey:"salen-saturday-title",defaultText:"Lördag 10/5",tag:"h3",className:"day-title"}),u.jsx(P,{textKey:"salen-saturday-schedule1",defaultText:"08:30 - 10:15 Registrering för alla tävlande som ej registrerat sig under fredagen på 157 XCC, på Lassalyckan.",tag:"p",className:"schedule-item"}),u.jsx(P,{textKey:"salen-saturday-schedule2",defaultText:"10:30 Obligatoriskt informationsmöte vid starten på Lassalyckan stadion.",tag:"p",className:"schedule-item"}),u.jsx(P,{textKey:"salen-saturday-schedule3",defaultText:"11:00 Start AIM Challenge, på Lassalyckan stadion. Gemensam start för 3 & 6-timmars tävlingen.",tag:"p",className:"schedule-item"}),u.jsx(P,{textKey:"salen-saturday-schedule4",defaultText:"14:00 Målgång för 3-timmars tävlingen.",tag:"p",className:"schedule-item"}),u.jsx(P,{textKey:"salen-saturday-schedule5",defaultText:"ca 15:30 Prisutdelning 3-timmars tävlingen",tag:"p",className:"schedule-item"}),u.jsx(P,{textKey:"salen-saturday-schedule6",defaultText:"16:30 - 20:00 After AIM med mat och dryck på Hotell Lassalyckan.",tag:"p",className:"schedule-item"}),u.jsx(P,{textKey:"salen-saturday-schedule7",defaultText:"17:00 Målgång för 6-timmars tävlingen.",tag:"p",className:"schedule-item"}),u.jsx(P,{textKey:"salen-saturday-schedule8",defaultText:"19:00 Prisutdelning utanför Hotell Lassalyckan.",tag:"p",className:"schedule-item"})]})]})]})]})})}),u.jsx("section",{className:"salen-price-section",children:u.jsx("div",{className:"price-container",children:u.jsxs("div",{className:"price-image-container background-editable",id:"salen-price-image",children:[u.jsx("img",{src:"/images/AIM_lindvallen_2024_AnkiGrothe_highres_34.jpg",alt:"Climbing in Lindvallen",className:"price-background-image"}),u.jsx("div",{className:"price-overlay",children:u.jsxs("div",{className:"price-content",children:[u.jsx(P,{textKey:"salen-price-title",defaultText:"PRIS",tag:"h2",className:"section-title"}),u.jsx(P,{textKey:"salen-price-subtitle",defaultText:"ULRICEHAMN 10/5-2025",tag:"h3",className:"price-subtitle"}),u.jsxs("div",{className:"price-categories",children:[u.jsxs("div",{className:"price-category",children:[u.jsx(P,{textKey:"salen-price-3h-title",defaultText:"3-TIMMARS",tag:"h4",className:"category-title"}),u.jsx(P,{textKey:"salen-price-3h-1",defaultText:"1500 SEK / lag för Early Bird-anmälan innan 1 november.",tag:"p",className:"price-item"}),u.jsx(P,{textKey:"salen-price-3h-2",defaultText:"1700 SEK / lag för anmälan mellan 1 november och 1 februari.",tag:"p",className:"price-item"}),u.jsx(P,{textKey:"salen-price-3h-3",defaultText:"1900 SEK / lag för anmälan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(P,{textKey:"salen-price-3h-4",defaultText:"2100 SEK / lag för anmälan från 25 april och fram till start.",tag:"p",className:"price-item"})]}),u.jsxs("div",{className:"price-category",children:[u.jsx(P,{textKey:"salen-price-6h-title",defaultText:"6-TIMMARS",tag:"h4",className:"category-title"}),u.jsx(P,{textKey:"salen-price-6h-1",defaultText:"1900 SEK / lag för Early Bird-anmälan innan 1 november.",tag:"p",className:"price-item"}),u.jsx(P,{textKey:"salen-price-6h-2",defaultText:"2100 SEK / lag för anmälan mellan 1 november och 1 februari.",tag:"p",className:"price-item"}),u.jsx(P,{textKey:"salen-price-6h-3",defaultText:"2300 SEK / lag för anmälan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(P,{textKey:"salen-price-6h-4",defaultText:"2500 SEK / lag för anmälan från 25 april och fram till start.",tag:"p",className:"price-item"})]})]}),u.jsxs("div",{className:"price-category trippeln-category",children:[u.jsx(P,{textKey:"salen-price-trippeln-title",defaultText:"AIM CHALLENGE TRIPPELN 2025",tag:"h4",className:"category-title"}),u.jsx(P,{textKey:"salen-price-trippeln-1",defaultText:"4750 SEK / lag för Early Bird-anmälan innan 1 januari.",tag:"p",className:"price-item"}),u.jsx(P,{textKey:"salen-price-trippeln-2",defaultText:"5250 SEK / lag för anmälan mellan 1 januari och 1 februari.",tag:"p",className:"price-item"}),u.jsx(P,{textKey:"salen-price-trippeln-3",defaultText:"5750 SEK / lag för anmälan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(P,{textKey:"salen-price-trippeln-4",defaultText:"6250 SEK / lag för anmälan efter den 25 april.",tag:"p",className:"price-item"})]}),u.jsx("div",{className:"price-button-container",children:u.jsx("a",{href:"https://raceid.com/sv/races/12846/about",target:"_blank",rel:"noopener noreferrer",className:"price-anmalan-button",children:u.jsx("p",{children:"TA MIG TILL ANMÄLAN"})})})]})})]})})}),u.jsxs("section",{id:"latest-news",className:"latest-news-section",children:[u.jsx("h2",{className:"latest-news-title",children:"SENASTE NYTT SÄLEN"}),u.jsx("div",{style:{width:"1200px",margin:"0 auto",padding:"0 20px",boxSizing:"border-box"},children:u.jsx(Lc,{instanceId:"salen-news",defaultCategory:"Sälen"})})]}),u.jsx("section",{className:"useful-links-section",children:u.jsxs("div",{className:"useful-links-container",children:[u.jsx(P,{textKey:"salen-useful-links-title",defaultText:"NYTTIGA LÄNKAR",tag:"h2",className:"useful-links-title"}),u.jsxs("div",{className:"links-category",children:[u.jsx(P,{textKey:"salen-links-category1-title",defaultText:"Cykeluthyrning",tag:"h3",className:"links-category-title"}),u.jsx(P,{textKey:"salen-links-category1-text",defaultText:"Cykeluthyrning med in- och utlämning på Lassalyckan Stadion. Läs mer och boka här.",tag:"p",className:"links-text"})]}),u.jsxs("div",{className:"links-category",children:[u.jsx(P,{textKey:"salen-links-category2-title",defaultText:"Boende",tag:"h3",className:"links-category-title"}),u.jsx(P,{textKey:"salen-links-category2-text",defaultText:"Önskar du att bo nära start och mål så kan vi varmt rekommendera Hotell Lassalyckan som erbjuder ett modernt boende ett stenkast ifrån starten. https://www.hotell-lassalyckan.se",tag:"p",className:"links-text"})]}),u.jsxs("div",{className:"links-category",children:[u.jsx(P,{textKey:"salen-links-category3-title",defaultText:"Mat",tag:"h3",className:"links-category-title"}),u.jsx(P,{textKey:"salen-links-category3-text",defaultText:"Önskar du att bo nära start och mål så kan vi varmt rekommendera Hotell Lassalyckan som erbjuder ett modernt boende ett stenkast ifrån starten.",tag:"p",className:"links-text"})]})]})}),u.jsxs("section",{className:"sponsors-section",children:[u.jsx("h2",{className:"sponsors-title",children:"LOKALA SPONSORER"}),u.jsx("div",{className:"sponsors-container"})]})]})]}),mD=()=>u.jsxs(u.Fragment,{children:[u.jsx(Ps,{},"hemsedal-background-editor"),u.jsxs("div",{className:"hemsedal-container",children:[u.jsx("section",{className:"hemsedal-hero-section",children:u.jsx("div",{className:"hero-content",children:u.jsx("div",{className:"hero-image-container background-editable",id:"hemsedal-hero-image",children:u.jsx("img",{src:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_025.jpg",alt:"Hemsedal Event"})})})}),u.jsx("section",{className:"hemsedal-title-section",children:u.jsxs("div",{className:"title-container",children:[u.jsx(P,{textKey:"hemsedal-title",defaultText:"HEMSEDAL",tag:"h1",className:"location-title"}),u.jsx(P,{textKey:"hemsedal-date",defaultText:"10 MAJ 2025",tag:"h2",className:"location-date"})]})}),u.jsx("section",{className:"hemsedal-button-section",children:u.jsx("div",{className:"button-container",children:u.jsx("a",{href:"https://raceid.com/sv/races/13015/about",target:"_blank",rel:"noopener noreferrer",className:"anmalan-button",children:u.jsx("p",{children:"TA MIG TILL ANMÄLAN"})})})}),u.jsx("section",{className:"hemsedal-program-section",children:u.jsx("div",{className:"program-container",children:u.jsxs("div",{className:"program-cards",children:[u.jsx("div",{className:"program-card image-card background-editable",id:"hemsedal-program-image",children:u.jsx("img",{src:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_025.jpg",alt:"Hemsedal Event"})}),u.jsxs("div",{className:"program-card info-card",children:[u.jsx(P,{textKey:"hemsedal-program-title",defaultText:"PROGRAM",tag:"h2",className:"program-title"}),u.jsxs("div",{className:"program-schedule",children:[u.jsxs("div",{className:"program-day",children:[u.jsx(P,{textKey:"hemsedal-friday-title",defaultText:"Fredag 9/5",tag:"h3",className:"day-title"}),u.jsx(P,{textKey:"hemsedal-friday-schedule",defaultText:"17:00 - 19:00 Nummerlappsutdelning på XCC",tag:"p",className:"schedule-item"})]}),u.jsxs("div",{className:"program-day",children:[u.jsx(P,{textKey:"hemsedal-saturday-title",defaultText:"Lördag 10/5",tag:"h3",className:"day-title"}),u.jsx(P,{textKey:"hemsedal-saturday-schedule1",defaultText:"08:30 - 10:15 Registrering för alla tävlande som ej registrerat sig under fredagen på 157 XCC, på Lassalyckan.",tag:"p",className:"schedule-item"}),u.jsx(P,{textKey:"hemsedal-saturday-schedule2",defaultText:"10:30 Obligatoriskt informationsmöte vid starten på Lassalyckan stadion.",tag:"p",className:"schedule-item"}),u.jsx(P,{textKey:"hemsedal-saturday-schedule3",defaultText:"11:00 Start AIM Challenge, på Lassalyckan stadion. Gemensam start för 3 & 6-timmars tävlingen.",tag:"p",className:"schedule-item"}),u.jsx(P,{textKey:"hemsedal-saturday-schedule4",defaultText:"14:00 Målgång för 3-timmars tävlingen.",tag:"p",className:"schedule-item"}),u.jsx(P,{textKey:"hemsedal-saturday-schedule5",defaultText:"ca 15:30 Prisutdelning 3-timmars tävlingen",tag:"p",className:"schedule-item"}),u.jsx(P,{textKey:"hemsedal-saturday-schedule6",defaultText:"16:30 - 20:00 After AIM med mat och dryck på Hotell Lassalyckan.",tag:"p",className:"schedule-item"}),u.jsx(P,{textKey:"hemsedal-saturday-schedule7",defaultText:"17:00 Målgång för 6-timmars tävlingen.",tag:"p",className:"schedule-item"}),u.jsx(P,{textKey:"hemsedal-saturday-schedule8",defaultText:"19:00 Prisutdelning utanför Hotell Lassalyckan.",tag:"p",className:"schedule-item"})]})]})]})]})})}),u.jsx("section",{className:"hemsedal-price-section",children:u.jsx("div",{className:"price-container",children:u.jsxs("div",{className:"price-image-container background-editable",id:"hemsedal-price-image",children:[u.jsx("img",{src:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_094.jpg",alt:"Climbing in Hemsedal",className:"price-background-image"}),u.jsx("div",{className:"price-overlay",children:u.jsxs("div",{className:"price-content",children:[u.jsx(P,{textKey:"hemsedal-price-title",defaultText:"PRIS",tag:"h2",className:"section-title"}),u.jsx(P,{textKey:"hemsedal-price-subtitle",defaultText:"HEMSEDAL 24/8-2024",tag:"h3",className:"price-subtitle"}),u.jsxs("div",{className:"price-categories",children:[u.jsxs("div",{className:"price-category",children:[u.jsx(P,{textKey:"hemsedal-price-3h-title",defaultText:"3-TIMMARS",tag:"h4",className:"category-title"}),u.jsx(P,{textKey:"hemsedal-price-3h-1",defaultText:"1500 SEK / lag för Early Bird-anmälan innan 1 november.",tag:"p",className:"price-item"}),u.jsx(P,{textKey:"hemsedal-price-3h-2",defaultText:"1700 SEK / lag för anmälan mellan 1 november och 1 februari.",tag:"p",className:"price-item"}),u.jsx(P,{textKey:"hemsedal-price-3h-3",defaultText:"1900 SEK / lag för anmälan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(P,{textKey:"hemsedal-price-3h-4",defaultText:"2100 SEK / lag för anmälan från 25 april och fram till start.",tag:"p",className:"price-item"})]}),u.jsxs("div",{className:"price-category",children:[u.jsx(P,{textKey:"hemsedal-price-6h-title",defaultText:"6-TIMMARS",tag:"h4",className:"category-title"}),u.jsx(P,{textKey:"hemsedal-price-6h-1",defaultText:"1900 SEK / lag för Early Bird-anmälan innan 1 november.",tag:"p",className:"price-item"}),u.jsx(P,{textKey:"hemsedal-price-6h-2",defaultText:"2100 SEK / lag för anmälan mellan 1 november och 1 februari.",tag:"p",className:"price-item"}),u.jsx(P,{textKey:"hemsedal-price-6h-3",defaultText:"2300 SEK / lag för anmälan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(P,{textKey:"hemsedal-price-6h-4",defaultText:"2500 SEK / lag för anmälan från 25 april och fram till start.",tag:"p",className:"price-item"})]})]}),u.jsxs("div",{className:"price-category trippeln-category",children:[u.jsx(P,{textKey:"hemsedal-price-trippeln-title",defaultText:"AIM CHALLENGE TRIPPELN 2025",tag:"h4",className:"category-title"}),u.jsx(P,{textKey:"hemsedal-price-trippeln-1",defaultText:"4750 SEK / lag för Early Bird-anmälan innan 1 januari.",tag:"p",className:"price-item"}),u.jsx(P,{textKey:"hemsedal-price-trippeln-2",defaultText:"5250 SEK / lag för anmälan mellan 1 januari och 1 februari.",tag:"p",className:"price-item"}),u.jsx(P,{textKey:"hemsedal-price-trippeln-3",defaultText:"5750 SEK / lag för anmälan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(P,{textKey:"hemsedal-price-trippeln-4",defaultText:"6250 SEK / lag för anmälan efter den 25 april.",tag:"p",className:"price-item"})]}),u.jsx("div",{className:"price-button-container",children:u.jsx("a",{href:"https://raceid.com/sv/races/13015/about",target:"_blank",rel:"noopener noreferrer",className:"price-anmalan-button",children:u.jsx("p",{children:"TA MIG TILL ANMÄLAN"})})})]})})]})})}),u.jsxs("section",{id:"latest-news",className:"latest-news-section",children:[u.jsx("h2",{className:"latest-news-title",children:"SENASTE NYTT HEMSEDAL"}),u.jsx("div",{style:{width:"1200px",margin:"0 auto",padding:"0 20px",boxSizing:"border-box"},children:u.jsx(Lc,{instanceId:"hemsedal-news",defaultCategory:"Hemsedal"})})]}),u.jsx("section",{className:"useful-links-section",children:u.jsxs("div",{className:"useful-links-container",children:[u.jsx(P,{textKey:"hemsedal-useful-links-title",defaultText:"NYTTIGA LÄNKAR",tag:"h2",className:"useful-links-title"}),u.jsxs("div",{className:"links-category",children:[u.jsx(P,{textKey:"hemsedal-links-category1-title",defaultText:"Cykeluthyrning",tag:"h3",className:"links-category-title"}),u.jsx(P,{textKey:"hemsedal-links-category1-text",defaultText:"Cykeluthyrning med in- och utlämning på Lassalyckan Stadion. Läs mer och boka här.",tag:"p",className:"links-text"})]}),u.jsxs("div",{className:"links-category",children:[u.jsx(P,{textKey:"hemsedal-links-category2-title",defaultText:"Boende",tag:"h3",className:"links-category-title"}),u.jsx(P,{textKey:"hemsedal-links-category2-text",defaultText:"Önskar du att bo nära start och mål så kan vi varmt rekommendera Hotell Lassalyckan som erbjuder ett modernt boende ett stenkast ifrån starten. https://www.hotell-lassalyckan.se",tag:"p",className:"links-text"})]}),u.jsxs("div",{className:"links-category",children:[u.jsx(P,{textKey:"hemsedal-links-category3-title",defaultText:"Mat",tag:"h3",className:"links-category-title"}),u.jsx(P,{textKey:"hemsedal-links-category3-text",defaultText:"Önskar du att bo nära start och mål så kan vi varmt rekommendera Hotell Lassalyckan som erbjuder ett modernt boende ett stenkast ifrån starten.",tag:"p",className:"links-text"})]})]})}),u.jsxs("section",{className:"sponsors-section",children:[u.jsx("h2",{className:"sponsors-title",children:"LOKALA SPONSORER"}),u.jsx("div",{className:"sponsors-container"})]})]})]}),gD=()=>u.jsxs(u.Fragment,{children:[u.jsx(Ps,{},"kolmarden-background-editor"),u.jsxs("div",{className:"kolmarden-container",children:[u.jsx("section",{className:"kolmarden-hero-section",children:u.jsx("div",{className:"hero-content",children:u.jsx("div",{className:"hero-image-container background-editable",id:"kolmarden-hero-image",children:u.jsx("img",{src:"/images/Kolmarden_1.jpg",alt:"Kolmarden Event"})})})}),u.jsx("section",{className:"kolmarden-title-section",children:u.jsxs("div",{className:"title-container",children:[u.jsx(P,{textKey:"kolmarden-title",defaultText:"KOLMÅRDEN",tag:"h1",className:"location-title"}),u.jsx(P,{textKey:"kolmarden-date",defaultText:"10 MAJ 2025",tag:"h2",className:"location-date"})]})}),u.jsx("section",{className:"kolmarden-button-section",children:u.jsx("div",{className:"button-container",children:u.jsx("a",{href:"https://raceid.com/sv/races/12846/about",target:"_blank",rel:"noopener noreferrer",className:"anmalan-button",children:u.jsx("p",{children:"TA MIG TILL ANMÄLAN"})})})}),u.jsx("section",{className:"kolmarden-program-section",children:u.jsx("div",{className:"program-container",children:u.jsxs("div",{className:"program-cards",children:[u.jsx("div",{className:"program-card image-card background-editable",id:"kolmarden-program-image",children:u.jsx("img",{src:"/images/Kolmarden_2.jpg",alt:"Kolmarden Event"})}),u.jsxs("div",{className:"program-card info-card",children:[u.jsx(P,{textKey:"kolmarden-program-title",defaultText:"PROGRAM",tag:"h2",className:"program-title"}),u.jsxs("div",{className:"program-schedule",children:[u.jsxs("div",{className:"program-day",children:[u.jsx(P,{textKey:"kolmarden-friday-title",defaultText:"Fredag 9/5",tag:"h3",className:"day-title"}),u.jsx(P,{textKey:"kolmarden-friday-schedule",defaultText:"17:00 - 19:00 Nummerlappsutdelning på XCC",tag:"p",className:"schedule-item"})]}),u.jsxs("div",{className:"program-day",children:[u.jsx(P,{textKey:"kolmarden-saturday-title",defaultText:"Lördag 10/5",tag:"h3",className:"day-title"}),u.jsx(P,{textKey:"kolmarden-saturday-schedule1",defaultText:"08:30 - 10:15 Registrering för alla tävlande som ej registrerat sig under fredagen på 157 XCC, på Lassalyckan.",tag:"p",className:"schedule-item"}),u.jsx(P,{textKey:"kolmarden-saturday-schedule2",defaultText:"10:30 Obligatoriskt informationsmöte vid starten på Lassalyckan stadion.",tag:"p",className:"schedule-item"}),u.jsx(P,{textKey:"kolmarden-saturday-schedule3",defaultText:"11:00 Start AIM Challenge, på Lassalyckan stadion. Gemensam start för 3 & 6-timmars tävlingen.",tag:"p",className:"schedule-item"}),u.jsx(P,{textKey:"kolmarden-saturday-schedule4",defaultText:"14:00 Målgång för 3-timmars tävlingen.",tag:"p",className:"schedule-item"}),u.jsx(P,{textKey:"kolmarden-saturday-schedule5",defaultText:"ca 15:30 Prisutdelning 3-timmars tävlingen",tag:"p",className:"schedule-item"}),u.jsx(P,{textKey:"kolmarden-saturday-schedule6",defaultText:"16:30 - 20:00 After AIM med mat och dryck på Hotell Lassalyckan.",tag:"p",className:"schedule-item"}),u.jsx(P,{textKey:"kolmarden-saturday-schedule7",defaultText:"17:00 Målgång för 6-timmars tävlingen.",tag:"p",className:"schedule-item"}),u.jsx(P,{textKey:"kolmarden-saturday-schedule8",defaultText:"19:00 Prisutdelning utanför Hotell Lassalyckan.",tag:"p",className:"schedule-item"})]})]})]})]})})}),u.jsx("section",{className:"kolmarden-price-section",children:u.jsx("div",{className:"price-container",children:u.jsxs("div",{className:"price-image-container background-editable",id:"kolmarden-price-image",children:[u.jsx("img",{src:"/images/Kolmarden_1.jpg",alt:"Climbing in Kolmarden",className:"price-background-image"}),u.jsx("div",{className:"price-overlay",children:u.jsxs("div",{className:"price-content",children:[u.jsx(P,{textKey:"kolmarden-price-title",defaultText:"PRIS",tag:"h2",className:"section-title"}),u.jsx(P,{textKey:"kolmarden-price-subtitle",defaultText:"KOLMADERN 10/5-2025",tag:"h3",className:"price-subtitle"}),u.jsxs("div",{className:"price-categories",children:[u.jsxs("div",{className:"price-category",children:[u.jsx(P,{textKey:"kolmarden-price-3h-title",defaultText:"3-TIMMARS",tag:"h4",className:"category-title"}),u.jsx(P,{textKey:"kolmarden-price-3h-1",defaultText:"1500 SEK / lag för Early Bird-anmälan innan 1 november.",tag:"p",className:"price-item"}),u.jsx(P,{textKey:"kolmarden-price-3h-2",defaultText:"1700 SEK / lag för anmälan mellan 1 november och 1 februari.",tag:"p",className:"price-item"}),u.jsx(P,{textKey:"kolmarden-price-3h-3",defaultText:"1900 SEK / lag för anmälan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(P,{textKey:"kolmarden-price-3h-4",defaultText:"2100 SEK / lag för anmälan från 25 april och fram till start.",tag:"p",className:"price-item"})]}),u.jsxs("div",{className:"price-category",children:[u.jsx(P,{textKey:"kolmarden-price-6h-title",defaultText:"6-TIMMARS",tag:"h4",className:"category-title"}),u.jsx(P,{textKey:"kolmarden-price-6h-1",defaultText:"1900 SEK / lag för Early Bird-anmälan innan 1 november.",tag:"p",className:"price-item"}),u.jsx(P,{textKey:"kolmarden-price-6h-2",defaultText:"2100 SEK / lag för anmälan mellan 1 november och 1 februari.",tag:"p",className:"price-item"}),u.jsx(P,{textKey:"kolmarden-price-6h-3",defaultText:"2300 SEK / lag för anmälan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(P,{textKey:"kolmarden-price-6h-4",defaultText:"2500 SEK / lag för anmälan från 25 april och fram till start.",tag:"p",className:"price-item"})]})]}),u.jsxs("div",{className:"price-category trippeln-category",children:[u.jsx(P,{textKey:"kolmarden-price-trippeln-title",defaultText:"AIM CHALLENGE TRIPPELN 2025",tag:"h4",className:"category-title"}),u.jsx(P,{textKey:"kolmarden-price-trippeln-1",defaultText:"4750 SEK / lag för Early Bird-anmälan innan 1 januari.",tag:"p",className:"price-item"}),u.jsx(P,{textKey:"kolmarden-price-trippeln-2",defaultText:"5250 SEK / lag för anmälan mellan 1 januari och 1 februari.",tag:"p",className:"price-item"}),u.jsx(P,{textKey:"kolmarden-price-trippeln-3",defaultText:"5750 SEK / lag för anmälan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(P,{textKey:"kolmarden-price-trippeln-4",defaultText:"6250 SEK / lag för anmälan efter den 25 april.",tag:"p",className:"price-item"})]}),u.jsx("div",{className:"price-button-container",children:u.jsx("a",{href:"https://raceid.com/sv/races/12846/about",target:"_blank",rel:"noopener noreferrer",className:"price-anmalan-button",children:u.jsx("p",{children:"TA MIG TILL ANMÄLAN"})})})]})})]})})}),u.jsxs("section",{id:"latest-news",className:"latest-news-section",children:[u.jsx("h2",{className:"latest-news-title",children:"SENASTE NYTT KOLMÅRDEN"}),u.jsx("div",{style:{width:"1200px",margin:"0 auto",padding:"0 20px",boxSizing:"border-box"},children:u.jsx(Lc,{instanceId:"kolmarden-news",defaultCategory:"Kolmården"})})]}),u.jsx("section",{className:"useful-links-section",children:u.jsxs("div",{className:"useful-links-container",children:[u.jsx(P,{textKey:"kolmarden-useful-links-title",defaultText:"NYTTIGA LÄNKAR",tag:"h2",className:"useful-links-title"}),u.jsxs("div",{className:"links-category",children:[u.jsx(P,{textKey:"kolmarden-links-category1-title",defaultText:"Cykeluthyrning",tag:"h3",className:"links-category-title"}),u.jsx(P,{textKey:"kolmarden-links-category1-text",defaultText:"Cykeluthyrning med in- och utlämning på Lassalyckan Stadion. Läs mer och boka här.",tag:"p",className:"links-text"})]}),u.jsxs("div",{className:"links-category",children:[u.jsx(P,{textKey:"kolmarden-links-category2-title",defaultText:"Boende",tag:"h3",className:"links-category-title"}),u.jsx(P,{textKey:"kolmarden-links-category2-text",defaultText:"Önskar du att bo nära start och mål så kan vi varmt rekommendera Hotell Lassalyckan som erbjuder ett modernt boende ett stenkast ifrån starten. https://www.hotell-lassalyckan.se",tag:"p",className:"links-text"})]}),u.jsxs("div",{className:"links-category",children:[u.jsx(P,{textKey:"kolmarden-links-category3-title",defaultText:"Mat",tag:"h3",className:"links-category-title"}),u.jsx(P,{textKey:"kolmarden-links-category3-text",defaultText:"Önskar du att bo nära start och mål så kan vi varmt rekommendera Hotell Lassalyckan som erbjuder ett modernt boende ett stenkast ifrån starten.",tag:"p",className:"links-text"})]})]})}),u.jsxs("section",{className:"sponsors-section",children:[u.jsx(P,{textKey:"kolmarden-sponsors-title",defaultText:"LOKALA SPONSORER",tag:"h2",className:"sponsors-title"}),u.jsx("div",{id:"kolmarden-sponsors",className:"sponsors-container"}),u.jsx(Sp,{location:"kolmarden",targetId:"kolmarden-sponsors"})]})]})]}),pD=()=>u.jsxs(u.Fragment,{children:[u.jsx(Ps,{},"trippeln-background-editor"),u.jsxs("div",{className:"trippeln-container",children:[u.jsx("section",{className:"trippeln-hero-section",children:u.jsx("div",{className:"hero-content",children:u.jsx("div",{className:"hero-image-container background-editable",id:"trippeln-hero-image",children:u.jsx("img",{src:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_057.jpg",alt:"Trippeln Hero"})})})}),u.jsx("section",{className:"trippeln-title-section",children:u.jsx("div",{className:"title-container",children:u.jsx(P,{textKey:"trippeln-title",defaultText:"AIM CHALLENGE TRIPPELN",tag:"h1",className:"location-title"})})}),u.jsx("section",{className:"trippeln-content-section",children:u.jsx("div",{className:"trippeln-content-container",children:u.jsxs("div",{className:"trippeln-content",children:[u.jsx(P,{textKey:"trippeln-text-1",defaultText:"Trippeln är en tävling i tävlingen där de som deltar i minst tre av årets deltävlingar är med och tävlar om den mycket hedervärda titeln Vinnare av AIM Challenge Trippeln!",tag:"p",className:"trippeln-text"}),u.jsx(P,{textKey:"trippeln-text-2",defaultText:"AIM Challenge Trippeln ersätter Landskampen som sedan 2010 har varit en tävling i tävlingen för de som genomfört AIM Challenge både i Lindvallen och Hemsedal. En tävling där det tävlats för antingen Sverige eller Norge, där det vinnande landet har hyllats och den som bidragit mest till sitt land har prisats.",tag:"p",className:"trippeln-text"}),u.jsx(P,{textKey:"trippeln-text-3",defaultText:"Med AIM Challenge Trippeln lägger vi ner stridsyxan mellan Sverige och Norge och gör det därmed möjligt att även köra mixade lag mellan olika nationer utan att detta skapar en konflikt.",tag:"p",className:"trippeln-text"}),u.jsx(P,{textKey:"trippeln-subheading",defaultText:"Hur går AIM Challenge Trippeln till:",tag:"h2",className:"trippeln-subheading"}),u.jsx(P,{textKey:"trippeln-text-4",defaultText:"AIM Challenge Trippeln är en tävling i tävlingen för de lag som deltar på minst tre deltävlingar under ett och samma år. Tävlingarna som ingår är Ulricehamn, Sälen, Hemsedal och Kolmården. Det är fritt för laget att välja om ni önskar att delta i 3- eller 6-timmars tävlingen i Ulricehamn och Kolmården, båda anses att vara likvärdiga för Trippeln.",tag:"p",className:"trippeln-text"}),u.jsx(P,{textKey:"trippeln-text-5",defaultText:"Vid anmälan till Trippeln blir man per automatik anmäld till alla fyra deltävlingar och väljer själv om man vill delta i tre eller fyra tävlingar. Priset för att anmäla sig till trippeln är rabatterat och blir billigare redan vid start i tre deltävlingar. Skulle ett lag delta i alla fyra deltävlingarna så räknas de tre bästa resultaten till Trippeln.",tag:"p",className:"trippeln-text"}),u.jsx(P,{textKey:"trippeln-text-6",defaultText:"Det gäller att samla så många poäng som möjligt under årets tävlingar där varje lag får räkna in sina tre bästa resultat från det gångna året. Vinnaren av AIM Challenge Trippeln kommer att utses genom ett poängsystem som bygger på hur många poäng laget fått procentuellt i förhållande till vinnarlaget i respektive deltävling. Varje lag kommer då få en poängsumma mellan 1 och 100 per tävling och efter alla deltävlingarna kommer dessa poäng att adderas och det lag med högst sammanlagda poäng kommer att stå på prispallen! Skulle två lag få samma sammanlagda poäng så kommer vi se på placeringar i de enskilda loppen för att utse en vinnare.",tag:"p",className:"trippeln-text"}),u.jsx(P,{textKey:"trippeln-text-7",defaultText:"Vid anmälan till AIM Challenge Trippeln så anmäler sig laget till alla fyra deltävlingarna, varav minst tre måste genomföras för att få ett resultat i Trippeln. Ett lag består av två personer, men om någon i laget skulle få förhinder inför någon av tävlingarna så gäller följande: För att resultatet i Trippeln skall bli godkänt så måste minst en i laget delta i alla tre tävlingarna, samt att deltagare 2 deltar vid minst två deltävlingar. Det vill säga att det är möjligt att ta in en reserv under en av deltävlingarna och fortfarande tävla som lag om den hedervärda titeln! I det fall deltagare 1 tävlat med tre olika lagkompisar under året är det enbart den som deltagit vid alla tre tävlingarna som kommer att premieras.",tag:"p",className:"trippeln-text"}),u.jsx(P,{textKey:"trippeln-text-8",defaultText:"Det är inte möjligt att sälja sin startplats i Trippeln vidare för den tävling som laget eventuellt inte deltar i.",tag:"p",className:"trippeln-text"})]})})}),u.jsx("section",{className:"trippeln-cta-section",children:u.jsx("div",{className:"cta-container",children:u.jsx("a",{href:"https://raceid.com/sv/races/13016/about",target:"_blank",rel:"noopener noreferrer",className:"trippeln-cta-button",children:"TA MIG TILL ANMÄLAN"})})}),u.jsx("div",{className:"locked-background background-editable",id:"trippeln-background-image"})]})]}),yD=({onClose:s,onUploadSuccess:e,years:n=["2023","2022","2021","2020","2019","2018","2017","2016","2015"],categories:a=["Herrar","Damer","Mixed"],durations:l=["3 timmar","6 timmar","12 timmar","24 timmar"],locations:c=["Ulricehamn","Borås","Göteborg","Jönköping","Stockholm"],year:h})=>{const{currentUser:m}=ds(),[p,y]=I.useState("Ulricehamn"),[v,T]=I.useState(h||"2023"),[A,C]=I.useState("Herrar"),[O,B]=I.useState("3 timmar"),[j,z]=I.useState(null),[q,G]=I.useState(""),[Z,X]=I.useState(!1),le=k=>{const b=k.target.files[0];b&&(z(b),G(""))},V=async k=>{if(k.preventDefault(),!j){G("Please select a file to upload");return}X(!0),G("");try{const b=Yn(Wn,`results/${j.name}`),S=await Tr(b,j),D=`https://firebasestorage.googleapis.com/v0/b/${S.ref.bucket}/o/${encodeURIComponent(S.ref.fullPath)}?alt=media`,U={year:parseInt(v),location:p,category:A,duration:O,fileName:j.name,fileUrl:D,uploadedAt:new Date().toISOString(),uploadedBy:m.uid},w=`${v}_${p}_${A}_${Date.now()}`;await ls(gt(Ye,"results",w),{...U,id:w}),z(null),e({...U,id:w}),s()}catch(b){console.error("Upload failed:",b),G("Upload failed: "+b.message)}finally{X(!1)}};return u.jsx("div",{className:"result-upload-modal-overlay",children:u.jsxs("div",{className:"result-upload-modal",children:[u.jsxs("div",{className:"result-upload-modal-header",children:[u.jsx("h2",{children:"Ladda upp resultat"}),u.jsx("button",{className:"result-upload-modal-close",onClick:s,children:"×"})]}),u.jsx("div",{className:"result-upload-modal-body",children:u.jsxs("form",{className:"result-upload-modal-form",onSubmit:V,children:[u.jsxs("div",{className:"result-upload-modal-field",children:[u.jsx("label",{children:"Plats"}),u.jsx("select",{className:"result-upload-modal-select",value:p,onChange:k=>y(k.target.value),children:c.map((k,b)=>u.jsx("option",{value:k,children:k},b))})]}),u.jsxs("div",{className:"result-upload-modal-field",children:[u.jsx("label",{children:"År"}),u.jsx("select",{className:"result-upload-modal-select",value:v,onChange:k=>T(k.target.value),children:n.map((k,b)=>u.jsx("option",{value:k,children:k},b))})]}),u.jsxs("div",{className:"result-upload-modal-field",children:[u.jsx("label",{children:"Kategori"}),u.jsx("select",{className:"result-upload-modal-select",value:A,onChange:k=>C(k.target.value),children:a.map((k,b)=>u.jsx("option",{value:k,children:k},b))})]}),u.jsxs("div",{className:"result-upload-modal-field",children:[u.jsx("label",{children:"Distans"}),u.jsx("select",{className:"result-upload-modal-select",value:O,onChange:k=>B(k.target.value),children:l.map((k,b)=>u.jsx("option",{value:k,children:k},b))})]}),u.jsxs("div",{className:"result-upload-modal-field",children:[u.jsx("label",{children:"Fil"}),u.jsx("input",{type:"file",className:"result-upload-modal-file-input",onChange:le,accept:".txt,.pdf,.doc,.docx,.xls,.xlsx"})]}),q&&u.jsx("div",{className:"result-upload-modal-error",children:q}),u.jsxs("div",{className:"result-upload-modal-actions",children:[u.jsx("button",{type:"button",className:"result-upload-modal-cancel",onClick:s,disabled:Z,children:"Avbryt"}),u.jsx("button",{type:"submit",className:"result-upload-modal-submit",disabled:Z||!j,children:Z?"Laddar upp...":"Ladda upp"})]})]})})]})})},_D=Wt(Ye,"results"),vD=async(s={})=>{try{let e=rr(_D);s.year&&(e=rr(e,ud("year","==",parseInt(s.year)))),s.category&&(e=rr(e,ud("category","==",s.category))),s.duration&&(e=rr(e,ud("duration","==",s.duration))),s.location&&(e=rr(e,ud("location","==",s.location)));const n=await Qn(e),a=[];return n.forEach(l=>{const c=l.data();a.push({id:l.id,...c,year:parseInt(c.year)})}),console.log("Firebase results:",a),a}catch(e){throw console.error("Error getting results:",e),e}},xD=async(s,e)=>{try{if(await Cc(gt(Ye,"results",s)),e){const n=Yn(Wn,e);await Ic(n)}}catch(n){throw console.error("Error deleting result:",n),n}},ED=()=>{const{currentUser:s}=ds(),[e,n]=I.useState("all"),[a,l]=I.useState("all"),[c,h]=I.useState("all"),[m,p]=I.useState([]),[y,v]=I.useState(!0),[T,A]=I.useState(!1),[C,O]=I.useState(""),B=(s==null?void 0:s.role)==="admin",j=[2025,2024,2023,2022,2021,2020,2019,2018],z=["Herrar","Damer","Mixed"],q=["3 timmar","6 timmar"],G=["Ulricehamn","Sälen","Hemsedal","Kolmården"];I.useEffect(()=>{console.log("Fetching results..."),Z()},[]);const Z=async()=>{try{v(!0),O(""),console.log("Getting results from Firebase...");const S=await vD({});console.log("Got results:",S),p(S||[])}catch(S){console.error("Error fetching results:",S),O("Failed to load results. Please try again later.")}finally{v(!1)}},X=async S=>{if(window.confirm("Är du säker på att du vill ta bort detta resultat?"))try{v(!0);const D=m.find(w=>w.id===S);await xD(S,D.fileUrl);const U=m.filter(w=>w.id!==S);p(U)}catch(D){console.error("Error deleting result:",D),O("Failed to delete result. Please try again.")}finally{v(!1)}},le=()=>{A(!0)},V=()=>{A(!1)},k=S=>{console.log("New result:",S),p(D=>[S,...D]),V()},b=S=>{let D=[...m];return e!=="all"&&(D=D.filter(U=>U.year===parseInt(e))),a!=="all"&&(D=D.filter(U=>U.category===a)),c!=="all"&&(D=D.filter(U=>U.duration===c)),D=D.filter(U=>U.location===S),console.log("Filtered results for",S,":",D),D};return u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"results-header-banner"}),u.jsxs("div",{className:"results-container",children:[u.jsx(P,{textKey:"results-header-title",defaultText:"Multisport för alla",tag:"h1",className:"results-header-title"}),u.jsxs("section",{className:"results-filters-section",children:[u.jsxs("div",{className:"results-filters",children:[u.jsxs("select",{value:e,onChange:S=>n(S.target.value),className:"results-filter-select",children:[u.jsx("option",{value:"all",children:"Alla År"}),j.map(S=>u.jsx("option",{value:S,children:S},S))]}),u.jsxs("select",{value:a,onChange:S=>l(S.target.value),className:"results-filter-select",children:[u.jsx("option",{value:"all",children:"Alla Kategorier"}),z.map(S=>u.jsx("option",{value:S,children:S},S))]}),u.jsxs("select",{value:c,onChange:S=>h(S.target.value),className:"results-filter-select",children:[u.jsx("option",{value:"all",children:"Alla Distanser"}),q.map(S=>u.jsx("option",{value:S,children:S},S))]})]}),u.jsx("div",{className:"results-upload-section",children:B&&u.jsx("button",{onClick:le,className:"upload-result-button",children:"Ladda upp resultat"})})]}),C&&u.jsx("div",{className:"results-error",children:C}),u.jsx("section",{className:"results-content-section",children:u.jsx("div",{className:"results-grid",children:G.map(S=>u.jsxs("div",{className:"results-location-card",children:[u.jsx("h2",{className:"results-location-title",children:S}),u.jsx("div",{className:"results-list",children:y?u.jsx("div",{className:"results-loading",children:"Laddar..."}):b(S).map(D=>u.jsxs("div",{className:"results-item",children:[u.jsx("a",{href:D.fileUrl,target:"_blank",rel:"noopener noreferrer",className:"results-link",children:u.jsxs("div",{className:"results-info",children:[u.jsx("span",{className:"results-year",children:D.year}),u.jsx("span",{className:"results-category",children:D.category}),u.jsx("span",{className:"results-duration",children:D.duration})]})}),B&&u.jsx("button",{onClick:()=>X(D.id),className:"results-delete-button",children:"Ta bort"})]},D.id))})]},S))})}),T&&u.jsx(yD,{onClose:V,onUploadSuccess:k,isAdmin:B,locations:G,years:j,categories:z,durations:q})]})]})},bD=()=>{const[s,e]=I.useState(null),[n,a]=I.useState([]),[l,c]=I.useState(1),h=8,[m,p]=I.useState({}),y=I.useMemo(()=>["/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_025.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_057.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_065.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_094.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_113.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_138.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_150.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_202.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_209.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_213.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_235.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_246.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_265.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_352.jpg","/AimRV/images/EE-AIMChallenge24-Uhamn-0132-high.jpg","/AimRV/images/EE-AIMChallenge24-Uhamn-0136-high.jpg","/AimRV/images/EE-AIMChallenge24-Uhamn-0171-high.jpg","/AimRV/images/EE-AIMChallenge24-Uhamn-0405-high.jpg","/AimRV/images/Kolmarden_1.jpg","/AimRV/images/Kolmarden_2.jpg"],[]),v=I.useCallback(()=>{const O=(l-1)*h,B=l*h,j=y.slice(O,B);a(z=>[...z,...j]),c(z=>z+1)},[l,y,h]);I.useEffect(()=>{v()},[v]),I.useEffect(()=>{const O=()=>{window.innerHeight+document.documentElement.scrollTop>=document.documentElement.offsetHeight-100&&(l-1)*h<y.length&&v()};return window.addEventListener("scroll",O),()=>window.removeEventListener("scroll",O)},[v,l,y.length,h]),I.useEffect(()=>{if(s!==null){const O=new Image;O.src=n[s],O.onload=()=>{p(B=>({...B,[s]:!0}))}}},[s,n]);const T=O=>{e(s===O?null:O)},C=(()=>{const O=[];let B=[],j=4;return n.forEach((z,q)=>{B.push({image:z,index:q}),B.length===j&&(O.push(B),B=[],j=j===4?3:4)}),B.length>0&&O.push(B),O})();return u.jsxs("div",{children:[u.jsx("div",{style:{height:"120px"}}),u.jsxs("div",{className:"gallery-container",style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"0.1rem",padding:"0.25rem",position:"relative"},children:[C.map((O,B)=>u.jsx("div",{style:{display:"flex",justifyContent:"center",gap:"3rem",width:"100%",marginBottom:"-20px",paddingLeft:O.length===3?"10%":"0",paddingRight:O.length===3?"10%":"0"},children:O.map(({image:j,index:z})=>{const q=s===z;return u.jsx("div",{onClick:()=>T(z),style:{width:q?"80vw":"250px",height:q?"80vh":"250px",transition:"all 0.5s ease",cursor:"pointer",position:q?"fixed":"relative",top:q?"50%":"auto",left:q?"50%":"auto",transform:q?"translate(-50%, -50%) rotate(0deg)":"rotate(45deg) scale(0.9)",zIndex:q?1e3:1,border:"2px solid #00a6fb",borderRadius:"8px",overflow:"hidden",boxShadow:"0 4px 8px rgba(0, 166, 251, 0.3)",margin:"0.1rem 1.5rem"},children:u.jsx("img",{src:j,alt:`Gallery image ${z+1}`,loading:"lazy",width:q?"auto":"250",height:q?"auto":"250",style:{width:"100%",height:"100%",objectFit:"cover",transform:q?"rotate(0deg) scale(1)":"rotate(-45deg) scale(1.5)"}})},z)})},B)),s!==null&&u.jsx("div",{onClick:()=>e(null),style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.8)",zIndex:999}}),n.length<y.length&&u.jsx("div",{style:{width:"100%",textAlign:"center",padding:"2rem"},children:u.jsx("button",{onClick:v,style:{padding:"0.75rem 1.5rem",backgroundColor:"#00a6fb",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"1rem",fontWeight:"bold"},children:"Load More Images"})})]}),u.jsx("div",{style:{height:"80px"}})]})},TD=()=>{const[s,e]=I.useState(0),[n,a]=I.useState(!1),l=I.useRef([]),c=[{id:1,src:"/videos/AIM nr 1 Formula 16x9.mov",title:"AIM Challenge Formula",description:"Highlights from the AIM Challenge Formula event"},{id:2,src:"/videos/AIM nr 1 Formula 16x9.mov",title:"AIM Challenge Highlights",description:"More exciting moments from the AIM Challenge"},{id:3,src:"/videos/AIM nr 1 Formula 16x9.mov",title:"AIM Challenge Recap",description:"A recap of the amazing AIM Challenge events"}];I.useEffect(()=>{l.current=l.current.slice(0,c.length)},[c.length]);const h=y=>{l.current.forEach((v,T)=>{T!==y&&v&&v.pause()}),a(!0),e(y)},m=()=>{e(y=>(y+1)%c.length)},p=()=>{e(y=>(y-1+c.length)%c.length)};return u.jsxs("div",{className:"video-carousel-container",style:{padding:"80px 0 40px 0",backgroundColor:"#f0f8ff",borderTop:"1px solid #e0e0e0",width:"100%",maxWidth:"100%"},children:[u.jsx("h2",{style:{textAlign:"center",marginBottom:"30px",color:"#00a6fb",fontSize:"2rem"},children:"AIM Challenge Videos"}),u.jsxs("div",{style:{position:"relative",width:"100%",margin:"0 auto",overflow:"hidden"},children:[u.jsx("button",{onClick:p,style:{position:"absolute",left:"10px",top:"50%",transform:"translateY(-50%)",zIndex:10,background:"rgba(0, 166, 251, 0.7)",color:"white",border:"none",borderRadius:"50%",width:"50px",height:"50px",fontSize:"24px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.3)"},"aria-label":"Previous video",children:"<"}),u.jsx("button",{onClick:m,style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",zIndex:10,background:"rgba(0, 166, 251, 0.7)",color:"white",border:"none",borderRadius:"50%",width:"50px",height:"50px",fontSize:"24px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.3)"},"aria-label":"Next video",children:">"}),u.jsx("div",{style:{display:"flex",transition:"transform 0.5s ease",transform:`translateX(${s*-100}%)`,width:"100%",position:"relative"},children:c.map((y,v)=>u.jsx("div",{style:{flex:"0 0 100%",padding:"0 20px",boxSizing:"border-box",width:"100%"},children:u.jsxs("div",{style:{background:"#fff",borderRadius:"8px",overflow:"hidden",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",maxWidth:"1200px",margin:"0 auto"},children:[u.jsx("div",{style:{position:"relative",paddingTop:"56.25%"},children:u.jsx("video",{ref:T=>l.current[v]=T,src:y.src,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover"},controls:!0,onPlay:()=>h(v),onPause:()=>a(!1)})}),u.jsxs("div",{style:{padding:"20px"},children:[u.jsx("h3",{style:{margin:"0 0 10px 0",color:"#00a6fb",fontSize:"1.5rem"},children:y.title}),u.jsx("p",{style:{margin:0,color:"#333",lineHeight:1.6},children:y.description})]})]})},y.id))}),u.jsx("div",{style:{display:"flex",justifyContent:"center",marginTop:"20px"},children:c.map((y,v)=>u.jsx("button",{onClick:()=>e(v),style:{width:"12px",height:"12px",borderRadius:"50%",margin:"0 5px",background:v===s?"#00a6fb":"#ccc",border:"none",cursor:"pointer"}},v))})]})]})},AD=()=>u.jsxs(u.Fragment,{children:[u.jsx(Ps,{},"om-oss-background-editor"),u.jsxs("div",{className:"om-oss-container",children:[u.jsx("section",{className:"om-oss-hero-section",children:u.jsx("div",{className:"hero-content",children:u.jsx("div",{className:"hero-image-container background-editable",id:"om-oss-hero-image",children:u.jsx("img",{src:"/images/EE-AIMChallenge24-Uhamn-0171-high.jpg",alt:"Om Oss Hero"})})})}),u.jsx("section",{className:"om-oss-title-section",children:u.jsx("div",{className:"title-container",children:u.jsx(P,{textKey:"om-oss-title",defaultText:"OM OSS",tag:"h1",className:"location-title"})})}),u.jsx("section",{className:"om-oss-section flex flex_j_C flex_a_C",children:u.jsx("div",{className:"om-oss-content MaxWH flex flex_col flex_j_C ",children:u.jsxs("div",{className:"om-oss-content-wrapper",children:[u.jsx(P,{textKey:"om-oss-title-1",defaultText:"Vad är AIM Challenge?",tag:"h2",className:"fonts_large om-oss-title"}),u.jsx(P,{textKey:"om-oss-text-1",defaultText:"AIM Challenge är en multisporttävling som arrangeras i Åre, Sverige. Tävlingen går ut på att ta sig runt en bana med hjälp av karta och kompass. Längs banan finns kontroller som ska besökas i rätt ordning.",tag:"p",className:"fonts_small om-oss-text"}),u.jsx(P,{textKey:"om-oss-text-2",defaultText:"​",tag:"p",className:"fonts_small om-oss-text"}),u.jsx(P,{textKey:"om-oss-text-3",defaultText:"Tävlingen arrangeras av AIM Challenge AB och har funnits sedan 2004. Tävlingen har utvecklats under åren och är idag en av Sveriges största multisporttävlingar.",tag:"p",className:"fonts_small om-oss-text"}),u.jsx(P,{textKey:"om-oss-text-4",defaultText:"​",tag:"p",className:"fonts_small om-oss-text"}),u.jsx(P,{textKey:"om-oss-text-5",defaultText:"AIM Challenge är en tävling för alla. Oavsett om du är elit eller motionär finns det en klass för dig. Tävlingen är uppdelad i olika klasser beroende på svårighetsgrad och längd.",tag:"p",className:"fonts_small om-oss-text"}),u.jsx(P,{textKey:"om-oss-text-6",defaultText:"​",tag:"p",className:"fonts_small om-oss-text"}),u.jsx(P,{textKey:"om-oss-text-7",defaultText:"Tävlingen går ut på att ta sig runt en bana med hjälp av karta och kompass. Längs banan finns kontroller som ska besökas i rätt ordning. Tävlingen innehåller olika moment som löpning, cykling, paddling, simning och klättring.",tag:"p",className:"fonts_small om-oss-text"}),u.jsx(P,{textKey:"om-oss-text-8",defaultText:"​",tag:"p",className:"fonts_small om-oss-text"})]})})}),u.jsx("div",{className:"om-oss-background-container locked-background background-editable",id:"om-oss-background-image"}),u.jsx("section",{className:"om-oss-section flex flex_j_C flex_a_C ",children:u.jsx("div",{className:"om-oss-content MaxWH flex flex_col flex_j_C",children:u.jsxs("div",{className:"om-oss-content-wrapper",children:[u.jsx(P,{textKey:"om-oss-title-2",defaultText:"Så här är det att vara med i AIM Challenge",tag:"h2",className:"fonts_large om-oss-title"}),u.jsx(P,{textKey:"om-oss-text-9",defaultText:"AIM Challenge är en rolig tävling. Det är oftast det som är det centrala i de deltagarkommentarer vi får både från eliten och motionärerna. Man färdas till största delen med hjälp av sin mountainbike och sina löparskor, men också i klättersele, paddlandes i kanot eller så strippar man helt enkelt och simmar ut till kontroller som är i vattnet.",tag:"p",className:"fonts_small om-oss-text"}),u.jsx(P,{textKey:"om-oss-text-10",defaultText:"​",tag:"p",className:"fonts_small om-oss-text"}),u.jsx(P,{textKey:"om-oss-text-11",defaultText:"Det finns inga krav på förkunskaper om de olika momenten utan vi har kunnig personal vid varje post som innefattas av klättring, firning, simning, paddling. Varje lag genomför tävlingen i sin egen takt och med egen strategi. Visst finns det de lag som satsar allt för att knipa segern och det är det som är det roliga med konceptet. Elit och motionär tävlar på samma villkor på samma bana.",tag:"p",className:"fonts_small om-oss-text"}),u.jsx(P,{textKey:"om-oss-text-12",defaultText:"​",tag:"p",className:"fonts_small om-oss-text"}),u.jsx(P,{textKey:"om-oss-text-13",defaultText:"Våra deltagare är allt ifrån världseliten i multisport som Thule Adventure team, Team Silva, Team Multitude Salomon men också glada motionärer allt från åldrarna 15 till pensionärer. Oavsett ålder och fysiska förutsättningar är detta ett roligt och annorlunda sätt att tävla på.",tag:"p",className:"fonts_small om-oss-text"})]})})}),u.jsxs("section",{className:"om-oss-cards-container",children:[u.jsxs("div",{className:"om-oss-card",children:[u.jsxs("div",{className:"om-oss-card-content",children:[u.jsx(P,{textKey:"card-1-title",defaultText:"REGLER",tag:"p",className:"font_blue fonts_medium_B"}),u.jsx(P,{textKey:"card-1-text",defaultText:"Tävlingsregler och information",tag:"p",className:"font_blue fonts_medium"})]}),u.jsx("div",{className:"om-oss-card-button",children:u.jsx(Ne,{to:"/page2",className:"location",children:"LÄS MER"})})]}),u.jsxs("div",{className:"om-oss-card",children:[u.jsxs("div",{className:"om-oss-card-content",children:[u.jsx(P,{textKey:"card-2-title",defaultText:"FAQ",tag:"p",className:"font_blue fonts_medium_B"}),u.jsx(P,{textKey:"card-2-text",defaultText:"Vanliga frågor och svar",tag:"p",className:"font_blue fonts_medium"})]}),u.jsx("div",{className:"om-oss-card-button",children:u.jsx(Ne,{to:"/page3",className:"location",children:"LÄS MER"})})]}),u.jsxs("div",{className:"om-oss-card",children:[u.jsxs("div",{className:"om-oss-card-content",children:[u.jsx(P,{textKey:"card-3-title",defaultText:"HISTORIEN OM AIM",tag:"p",className:"font_blue fonts_medium_B"}),u.jsx(P,{textKey:"card-3-text",defaultText:"Vår resa sedan 2004",tag:"p",className:"font_blue fonts_medium"})]}),u.jsx("div",{className:"om-oss-card-button",children:u.jsx(Ne,{to:"/page3",className:"location",children:"LÄS MER"})})]})]})]})]}),SD=({imageKey:s,defaultSrc:e,alt:n,className:a="",style:l={}})=>{const{getText:c,updateText:h,isAdmin:m}=mn(),[p,y]=I.useState(!1),[v,T]=I.useState(""),[A,C]=I.useState(""),O=c(s,e),B=()=>{!p&&m&&(y(!0),T(O),C(""))},j=()=>{if(v.trim()===""){C("Please enter an image URL");return}try{new URL(v),h(s,v),y(!1)}catch{v.startsWith("/")||v.includes("./")?(h(s,v),y(!1)):C("Please enter a valid URL or path")}},z=()=>{y(!1),C("")},q=G=>{const Z=G.target.files[0];if(!Z)return;if(!Z.type.startsWith("image/")){C("Please select an image file");return}const X=new FileReader;X.onload=le=>{T(le.target.result)},X.readAsDataURL(Z)};return p?u.jsxs("div",{className:"editable-image-container",style:{position:"relative",margin:"10px 0"},children:[u.jsx("div",{style:{marginBottom:"10px"},children:u.jsx("img",{src:v||O,alt:n,className:a,style:{maxWidth:"300px",border:"2px solid #00a6fb",...l}})}),u.jsxs("div",{style:{marginBottom:"10px"},children:[u.jsx("label",{style:{display:"block",marginBottom:"5px"},children:"Image URL:"}),u.jsx("input",{type:"text",value:v,onChange:G=>T(G.target.value),style:{width:"100%",padding:"8px",border:"1px solid #ccc",borderRadius:"4px"},placeholder:"Enter image URL or upload a file"}),A&&u.jsx("p",{style:{color:"red",margin:"5px 0"},children:A})]}),u.jsxs("div",{style:{marginBottom:"10px"},children:[u.jsx("label",{style:{display:"block",marginBottom:"5px"},children:"Or upload an image:"}),u.jsx("input",{type:"file",accept:"image/*",onChange:q,style:{width:"100%",padding:"8px",border:"1px solid #ccc",borderRadius:"4px"}})]}),u.jsxs("div",{style:{display:"flex",gap:"8px"},children:[u.jsx("button",{onClick:j,style:{padding:"8px 16px",background:"#00a6fb",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Spara"}),u.jsx("button",{onClick:z,style:{padding:"8px 16px",background:"#ccc",color:"black",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Avbryt"})]})]}):u.jsx("img",{src:O,alt:n,className:`${a} ${m?"editable":""}`,onClick:B,style:{...l,cursor:m?"pointer":"default",border:m?"2px dashed #00a6fb":"none"}})},wD=()=>u.jsxs("div",{className:"regler-container",children:[u.jsx("section",{className:"regler-hero-section",children:u.jsx("div",{className:"hero-content",children:u.jsx("div",{className:"hero-image-container",children:u.jsx(SD,{imageKey:"regler-hero-image",defaultSrc:"/images/AIM_lindvallen_2024_AnkiGrothe_highres_125.jpg",alt:"Regler Hero"})})})}),u.jsx("section",{className:"regler-title-section",children:u.jsx("div",{className:"title-container",children:u.jsx(P,{textKey:"regler-title",defaultText:"REGLER",tag:"h1",className:"location-title"})})}),u.jsx("section",{className:"regler-content-section",children:u.jsx("div",{className:"regler-content-container",children:u.jsxs("div",{className:"regler-content",children:[u.jsx(P,{textKey:"regler-team-heading",defaultText:"LAGET",tag:"h2",className:"regler-heading"}),u.jsxs("ul",{className:"regler-list",children:[u.jsx("li",{className:"regler-list-item",children:"Åldersgräns 15år/18år"}),u.jsx("li",{className:"regler-list-item",children:"Båda deltagarna måste ha olycksförsäkring som täcker olyckor i samband med tävling/idrottsaktiviteter."}),u.jsx("li",{className:"regler-list-item",children:"Det är lagets ansvar att se till att de är registrerade i rätt klass."}),u.jsx("li",{className:"regler-list-item",children:"Startnummer ska placeras fram på cykel samt synligt på kroppen på båda deltagarna"}),u.jsx("li",{className:"regler-list-item",children:"Det är tillåtet att använda GPS men det är alltid kartan som gäller. GPSens kartunderlag stämmer inte alltid överens med den utskrivna AIM kartan."}),u.jsx("li",{className:"regler-list-item",children:"Laget ska alltid vara samlade max 20 meter mellan lagmedlemmarna."}),u.jsx("li",{className:"regler-list-item",children:"Det är inte tillåtet att ha följebil."})]}),u.jsx(P,{textKey:"regler-safety-heading",defaultText:"SÄKERHET",tag:"h2",className:"regler-heading"}),u.jsxs("ul",{className:"regler-list",children:[u.jsx("li",{className:"regler-list-item",children:"Lagen väljer själva vilka kontroller de klarar att ta baserat på väder, egen färdighet och kunskap."}),u.jsx("li",{className:"regler-list-item",children:"Lagen väljer själva vilken väg de vill ta till kontrollerna baserat på väder, egen färdighet och kunskap."}),u.jsx("li",{className:"regler-list-item",children:"Trafiken är inte reglerad under tävlingen."}),u.jsx("li",{className:"regler-list-item",children:"Trafikregler gäller alltid."}),u.jsx("li",{className:"regler-list-item",children:"Första hjälpen kit ska bäras med under hela tävlingen"}),u.jsx("li",{className:"regler-list-item",children:"Hjälm ska bäras under all cykling, klättring, bouldering och rappellering"}),u.jsx("li",{className:"regler-list-item",children:"Vid olycka är det obligatoriska att hjälpa till."}),u.jsx("li",{className:"regler-list-item",children:"Vid allvarlig olycka ring nöd nummer 112 i Sverige och 113 i Norge"}),u.jsx("li",{className:"regler-list-item",children:"Vid behov för enklare medicinsk hjälp ring telefonnumret på baksidan av kartan"}),u.jsx("li",{className:"regler-list-item",children:"Tävlingsledningens direktiv gäller alltid."})]}),u.jsx(P,{textKey:"regler-other-heading",defaultText:"ÖVRIGT",tag:"h2",className:"regler-heading"}),u.jsxs("ul",{className:"regler-list",children:[u.jsx("li",{className:"regler-list-item",children:"Elcyklar är ej tillåtet, med undantag för Elcykelklassen i Hemsedal."}),u.jsx("li",{className:"regler-list-item",children:"Beroende på kapacitet är det möjligt att använda liften i Hemsedal, lyssna noga på vad speakern ger för information för vad som gäller för årets tävling."}),u.jsx("li",{className:"regler-list-item",children:"Deltagare som bryter ska genast meddela tävlingsledningen. Telefonnummer står på kartan."}),u.jsx("li",{className:"regler-list-item",children:"Synliga, osynliga och tävlande domare befinner sig i tävlingsområdet och ser till att reglerna följs."}),u.jsx("li",{className:"regler-list-item",children:"Regelbrott kan leda till poängavdrag eller diskvalificering"}),u.jsx("li",{className:"regler-list-item",children:"Deltagare som vinner priser som lottas ut pga olika händelser eller som dras på startnummer måste närvara på prisutdelningen för att få sitt pris. Är man inte närvarande och ditt namn/lagnamn dras drar vi reservnamn/lagnamn."}),u.jsx("li",{className:"regler-list-item",children:"LINDVALLEN, viadukten mellan Lodgen och Experium är stängd under hela tävlingen."}),u.jsx("li",{className:"regler-list-item",children:"Tävlingsledningens beslut går inte att överklaga."}),u.jsx("li",{className:"regler-list-item",children:"Kloka människor skräpar inte ner, för alla andra är det förbjudet."}),u.jsx("li",{className:"regler-list-item",children:"Respektera privat mark, ta inte genvägar över privata områden"}),u.jsx("li",{className:"regler-list-item",children:"Beträda odlad mark är förbjudet. Åkrar som inte har skördats är odlad mark."}),u.jsx("li",{className:"regler-list-item",children:"Stäng alla grindar som ni öppnar."}),u.jsx("li",{className:"regler-list-item",children:"Visa betande djur respekt genom att stiga av cykeln och gå förbi dem."})]}),u.jsx("h2",{className:"regler-heading",children:"OBLIGATORISK UTRUSTNING"}),u.jsxs("ul",{className:"regler-list",children:[u.jsx("li",{className:"regler-list-item",children:"Cykel, utan elmotor med undantag för Elcykelklassen i Hemsedal."}),u.jsx("li",{className:"regler-list-item",children:"Cykelhjälm vid cykling"}),u.jsx("li",{className:"regler-list-item",children:"Mobiltelefon (1 st per lag)"}),u.jsx("li",{className:"regler-list-item",children:"Första hjälpen (1 st per lag)"})]}),u.jsx("h2",{className:"regler-heading",children:"VI REKOMMENDERAR ATT NI ÄVEN HAR MED ER"}),u.jsxs("ul",{className:"regler-list",children:[u.jsx("li",{className:"regler-list-item",children:"Förstärkningskläder vid hastigt väderomslag"}),u.jsx("li",{className:"regler-list-item",children:"Kompass"}),u.jsx("li",{className:"regler-list-item",children:"Vatten i en Camelbak"}),u.jsx("li",{className:"regler-list-item",children:"Energy bars eller liknande"}),u.jsx("li",{className:"regler-list-item",children:"Klocka"}),u.jsx("li",{className:"regler-list-item",children:"Löparskor"}),u.jsx("li",{className:"regler-list-item",children:"Cykelslang och reparationskit + övriga verktyg, tex en biketool för enklare justeringar"})]}),u.jsx("h2",{className:"regler-heading",children:"AIM CHALLENGE STÅR FÖR"}),u.jsx("ul",{className:"regler-list",children:u.jsx("li",{className:"regler-list-item",children:"Kanot, SUP, sele, rep, hjälm vid firningar/klättring. All utrustning vid bemannade poster finns där klättring etc förekommer."})}),u.jsx("h2",{className:"regler-heading",children:"VILLKOR I FÖRBINDELSE MED ANMÄLAN"}),u.jsx("p",{className:"regler-list-item",children:"Villkor i förbindelse med anmälan"}),u.jsxs("p",{className:"regler-contact",children:["Om du har frågor:"," ",u.jsx("a",{href:"mailto:info@aimchallenge.com",children:"info@aimchallenge.com"})]})]})})}),u.jsx("div",{className:"locked-background",style:{height:"50vh",width:"100%",marginBottom:"60px"}})]}),ND=({category:s})=>{const[e,n]=I.useState([]),[a,l]=I.useState(""),[c,h]=I.useState(""),[m,p]=I.useState(!0),{isAuthenticated:y,currentUser:v}=ds(),T=(v==null?void 0:v.role)==="admin";I.useEffect(()=>{(async()=>{try{p(!0);const j=Wt(Ye,"faqs"),z=await Qn(j),q=[];z.forEach(G=>{const Z=G.data();Z.category===s&&q.push({id:G.id,question:Z.question,answer:Z.answer,category:Z.category,order:Z.order||0})}),q.sort((G,Z)=>G.order-Z.order),n(q)}catch(j){console.error("Error loading FAQs:",j)}finally{p(!1)}})()},[s]);const A=async()=>{if(!(!a.trim()||!c.trim()))try{const B={question:a,answer:c,category:s,order:e.length},j=gt(Wt(Ye,"faqs"));await ls(j,B),n([...e,{...B,id:j.id}]),l(""),h("")}catch(B){console.error("Error adding FAQ:",B)}},C=async B=>{try{await Cc(gt(Ye,"faqs",B)),n(e.filter(j=>j.id!==B))}catch(j){console.error("Error deleting FAQ:",j)}},O=async(B,j,z)=>{try{const q=e.map(Z=>Z.id===B?{...Z,[j]:z}:Z),G=q.find(Z=>Z.id===B);await ls(gt(Ye,"faqs",B),{question:G.question,answer:G.answer,category:G.category,order:G.order}),n(q)}catch(q){console.error("Error updating FAQ:",q)}};return T?u.jsxs("div",{className:"faq-editor",children:[u.jsxs("h3",{children:["Manage ",s," FAQs"]}),m?u.jsx("p",{children:"Loading FAQs..."}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"faq-list",children:e.map(B=>u.jsxs("div",{className:"faq-item-editor",children:[u.jsx("div",{className:"faq-controls",children:u.jsx("button",{onClick:()=>C(B.id),className:"delete-button",children:"Delete"})}),u.jsxs("div",{className:"faq-content",children:[u.jsx("textarea",{value:B.question,onChange:j=>O(B.id,"question",j.target.value),placeholder:"Question",className:"faq-question-editor"}),u.jsx("textarea",{value:B.answer,onChange:j=>O(B.id,"answer",j.target.value),placeholder:"Answer",className:"faq-answer-editor"})]})]},B.id))}),u.jsxs("div",{className:"add-faq-form",children:[u.jsx("h4",{children:"Add New FAQ"}),u.jsx("textarea",{value:a,onChange:B=>l(B.target.value),placeholder:"New Question",className:"faq-question-editor"}),u.jsx("textarea",{value:c,onChange:B=>h(B.target.value),placeholder:"New Answer",className:"faq-answer-editor"}),u.jsx("button",{onClick:A,className:"add-button",disabled:!a.trim()||!c.trim(),children:"Add FAQ"})]})]})]}):null},RD=({question:s,answer:e})=>{const[n,a]=I.useState(!1),l=()=>{a(!n)};return u.jsxs("div",{className:"faq-item",children:[u.jsxs("div",{className:`faq-question ${n?"active":""}`,onClick:l,children:[u.jsx("h3",{className:"question-text",children:s}),u.jsx("span",{className:"icon",children:n?"▲":"▼"})]}),u.jsx("div",{className:`faq-answer ${n?"open":""}`,children:u.jsx("p",{children:e})})]})},md=({title:s,items:e,categoryKey:n,showEditor:a=!1})=>{const{isAuthenticated:l,currentUser:c}=ds(),h=(c==null?void 0:c.role)==="admin";return u.jsxs("div",{className:"faq-category",children:[u.jsx("h2",{className:"faq-category-title",children:u.jsx(P,{textKey:`faq-category-${n}`,defaultText:s})}),e.map((m,p)=>u.jsx(RD,{question:m.question,answer:m.answer},m.id||p)),h&&a&&u.jsx(ND,{category:n})]})},kD=()=>{const{getText:s}=mn(),{isAuthenticated:e,currentUser:n}=ds(),a=(n==null?void 0:n.role)==="admin",[l,c]=I.useState([]),[h,m]=I.useState([]),[p,y]=I.useState([]),[v,T]=I.useState([]),[A,C]=I.useState(!0),[O,B]=I.useState(!1);I.useEffect(()=>{(async()=>{try{C(!0);const q=Wt(Ye,"faqs"),G=await Qn(q),Z=[];if(G.forEach(X=>{const le=X.data();Z.push({id:X.id,question:le.question,answer:le.answer,category:le.category,order:le.order||0})}),Z.length===0)c([{question:s("general-question-0","Jag är nybörjare på multisport, kan jag delta?"),answer:s("general-answer-0","Absolut, det är DU som väljer väg och antal kontroller. Ta 5 kontroller och ha en fin tur på fjället, eller ta 40 och vinn. Alla kan delta efter egen förmåga och ambition.")},{question:s("general-question-1","Hur ser tävlingen ut?"),answer:s("general-answer-1","Tävlingen går ut på att samla så många kontroller som möjligt inom 6 timmar. Kontrollerna är värda olika poäng, ju svårare att nå desto högre poäng. Vissa kontroller innebär aktiviteter som klättring, paddling, simning, rappellering och balansövningar. Lagen bestämmer själva vilka kontroller de vill ta och i vilken ordning.")},{question:s("general-question-2","Vilka klasser finns det?"),answer:s("general-answer-2","Dam, Herr och Mix. Dessutom har vi en Elcykelklass i Hemsedal. Alla klasser är 2-manna lag.")}]),m([{question:s("equipment-question-0","Vilken utrustning behöver jag?"),answer:s("equipment-answer-0","Obligatorisk utrustning: Cykel, cykelhjälm, mobiltelefon (1 per lag), första hjälpen (1 per lag). Vi rekommenderar även: Förstärkningskläder, kompass, vatten, energibars, klocka, löparskor, cykelslang och reparationskit.")}]),y([{question:s("raceday-question-0","Hur fungerar starten?"),answer:s("raceday-answer-0","Alla lag startar samtidigt kl 10.00 på lördagen efter ett obligatoriskt informationsmöte kl 9.30. Vid starten får lagen kartan med alla kontroller markerade.")}]),T([{question:s("technical-question-0","Hur ser kartan ut?"),answer:s("technical-answer-0","Kartan får alla lagen när startskottet går. Där är samtliga kontroller utmärkta med position, poäng, beskrivning och om kontrollen innefattar klättring, paddling etc.")}]);else{const X=Z.filter(b=>b.category==="general").sort((b,S)=>b.order-S.order),le=Z.filter(b=>b.category==="equipment").sort((b,S)=>b.order-S.order),V=Z.filter(b=>b.category==="raceday").sort((b,S)=>b.order-S.order),k=Z.filter(b=>b.category==="technical").sort((b,S)=>b.order-S.order);c(X),m(le),y(V),T(k)}}catch(q){console.error("Error loading FAQs:",q)}finally{C(!1)}})()},[]);const j=()=>{B(!O)};return u.jsxs(u.Fragment,{children:[u.jsx(Ps,{},"faq-background-editor"),u.jsxs("div",{className:"faq-container",children:[u.jsx("section",{className:"faq-hero-section",children:u.jsx("div",{className:"hero-content",children:u.jsx("div",{className:"hero-image-container background-editable",id:"faq-hero-image",children:u.jsx("img",{src:"/images/AIM_lindvallen_2024_AnkiGrothe_highres_125.jpg",alt:"FAQ Hero"})})})}),u.jsx("section",{className:"faq-title-section",children:u.jsx("div",{className:"title-container",children:u.jsx(P,{textKey:"faq-title",defaultText:"FAQ",tag:"h1",className:"location-title"})})}),u.jsx("section",{className:"faq-content-section",children:u.jsx("div",{className:"faq-content-container",children:u.jsxs("div",{className:"faq-content",children:[u.jsx(P,{textKey:"faq-heading",defaultText:"Vanliga frågor",tag:"h2",className:"faq-heading"}),a&&u.jsx("div",{className:"admin-controls",children:u.jsx("button",{onClick:j,className:"toggle-editors-button",children:O?"Dölj redigerare":"Visa redigerare"})}),A?u.jsx("p",{children:"Laddar vanliga frågor..."}):u.jsxs(u.Fragment,{children:[u.jsx(md,{title:"Allmänna frågor",categoryKey:"general",items:l,showEditor:O}),u.jsx(md,{title:"Utrustning",categoryKey:"equipment",items:h,showEditor:O}),u.jsx(md,{title:"Tävlingsdagen",categoryKey:"raceday",items:p,showEditor:O}),u.jsx(md,{title:"Teknisk information",categoryKey:"technical",items:v,showEditor:O})]}),u.jsxs("div",{className:"faq-contact",children:[u.jsx(P,{textKey:"faq-contact-title",defaultText:"Har du fler frågor?",tag:"h2",className:"faq-category-title"}),u.jsx(P,{textKey:"faq-contact-text",defaultText:"Ta gärna kontakt om ni inte hittar svaret på era frågor: info@aimchallenge.com",tag:"p",className:""})]})]})})}),u.jsx("div",{className:"locked-background background-editable",id:"faq-background-image"})]})]})},CD=()=>u.jsxs(u.Fragment,{children:[u.jsx(Ps,{},"historien-om-aim-background-editor"),u.jsxs("div",{className:"historien-om-aim-container",children:[u.jsx("section",{className:"historien-om-aim-hero-section",children:u.jsx("div",{className:"hero-content",children:u.jsx("div",{className:"hero-image-container background-editable",id:"historien-om-aim-hero-image",children:u.jsx("img",{src:"/images/AIM_lindvallen_2024_AnkiGrothe_highres_125.jpg",alt:"Historien Om AIM Hero"})})})}),u.jsx("section",{className:"historien-om-aim-title-section",children:u.jsx("div",{className:"title-container",children:u.jsx(P,{textKey:"historien-om-aim-title",defaultText:"HISTORIEN OM AIM",tag:"h1",className:"location-title"})})}),u.jsx("section",{className:"historien-om-aim-content-section",children:u.jsx("div",{className:"historien-om-aim-content-container",children:u.jsxs("div",{className:"historien-om-aim-content",children:[u.jsx(P,{textKey:"historien-om-aim-text-1",defaultText:"AIM Challenge är idag Nordens största multisporttävling men historien om AIM Challenge börjar mycket tidigare än så.",tag:"p",className:"historien-om-aim-text"}),u.jsx(P,{textKey:"historien-om-aim-text-2",defaultText:"Vi låter Lisa Nordlind, grundare och initiativtagare till AIM Challenge berätta hur det gick till:",tag:"p",className:"historien-om-aim-text"}),u.jsx(P,{textKey:"historien-om-aim-text-3",defaultText:"År 2000 deltog jag i mitt livs största äventyr när jag tävlade i multisporttävlingen Camel Trophy.",tag:"p",className:"historien-om-aim-text"}),u.jsx(P,{textKey:"historien-om-aim-text-4",defaultText:"Av över en miljon sökande så var det 16 tvåmannalag från 22 länder som fick vara med och leka. Jag fick äran att representera Team Skandinavien tillsammans med brandmannen Mikael Stening.",tag:"p",className:"historien-om-aim-text"}),u.jsx(P,{textKey:"historien-om-aim-text-5",defaultText:"Lag på två personer skulle under 3 veckor samla så många kontroller som möjligt utav 400 utplacerade. Huvudtransportmedel var en specialbyggd RIB (Rigid Inflatable Boat). Båten var utrustad med mountainbikes, klätterutrustning, paddelbräda, dyk- och snorkel utrustning, tält, mat och vatten.",tag:"p",className:"historien-om-aim-text"}),u.jsx(P,{textKey:"historien-om-aim-text-6",defaultText:"Lagen fick själva välja vilka kontroller de ville ta, i vilken ordning och vilken väg.",tag:"p",className:"historien-om-aim-text"}),u.jsx(P,{textKey:"historien-om-aim-text-7",defaultText:"Olika kontroller gav olika poäng. Låter det bekant?",tag:"p",className:"historien-om-aim-text"}),u.jsx(P,{textKey:"historien-om-aim-text-8",defaultText:"Tävlingsområdet var ögrupperna Tonga och Samoa i Söderhavet. Det var galet roligt och Mikael och jag lyckades ta oss till en fjärde plats.",tag:"p",className:"historien-om-aim-text"}),u.jsx(P,{textKey:"historien-om-aim-text-9",defaultText:"År 2004 spenderade jag min första sommar i Hemsedal. Det var ganska lugnt i den lilla skidorten så jag beslutade mig för att starta ett nytt event. För mig är det viktigt att träning är roligt och jag tycker att den bästa träningen är tävling. Eftersom Camel Trophy var det roligaste jag någonsin varit med om så föll det naturligt att försöka skapa ett event där andra människor får uppleva samma lekfulla koncept om än i en mindre skala. Tävlingen fick namnet 'Hemsedal Challenge' och den första helgen i september 2004 stod 150 deltagare på startlinjen.",tag:"p",className:"historien-om-aim-text"}),u.jsx(P,{textKey:"historien-om-aim-text-10",defaultText:"Nära, kära, vänner och familj samlades från alla håll och kanter för att ställa upp som funktionärer.",tag:"p",className:"historien-om-aim-text"}),u.jsx(P,{textKey:"historien-om-aim-text-11",defaultText:"Efter 5 år startade vi en tävling till i Lindvallen och bytte namn till AIM Challenge.",tag:"p",className:"historien-om-aim-text"}),u.jsx(P,{textKey:"historien-om-aim-text-12",defaultText:"Efter AIM Challenge 2019 tackade Lisa för sig och lämnade över stafettpinnen till Marcus Andersson, som nu står inför en spännande framtid där han ser frem emot att driva vidare och utveckla AIM Challenge.",tag:"p",className:"historien-om-aim-text"})]})})}),u.jsx("div",{className:"locked-background background-editable",id:"historien-om-aim-background-image"})]})]}),ID=({isOpen:s,onClose:e})=>{const[n,a]=I.useState(""),[l,c]=I.useState(""),[h,m]=I.useState(null),[p,y]=I.useState(""),[v,T]=I.useState(!1),[A,C]=I.useState(""),[O,B]=I.useState(""),[j,z]=I.useState(0),[q,G]=I.useState(0),[Z,X]=I.useState("Alla"),le=I.useRef(null),V=I.useRef(null),{isAdmin:k}=mn(),b=ae=>{const he=ae.target.files[0];if(he){he.name||(he.name=`image-${Date.now()}.jpg`);const M=new FileReader;M.onloadend=()=>{m(he),y(M.result)},M.readAsDataURL(he)}},S=ae=>{c(ae.target.value)},D=()=>{le.current&&(z(le.current.selectionStart),G(le.current.selectionEnd))},U=()=>{if(T(!v),!v&&le.current){const ae=l.substring(le.current.selectionStart,le.current.selectionEnd);B(ae),z(le.current.selectionStart),G(le.current.selectionEnd)}},w=()=>{if(!A.trim()){alert("Please enter a URL");return}const ae=`[${O||A}](${A})`,he=l.substring(0,j)+ae+l.substring(q);c(he),T(!1),C(""),B("")},F=async()=>{if(!n.trim()||!l.trim()){alert("Vänligen fyll i titel och innehåll");return}try{let ae=null;if(h){const ne=Date.now(),pe=h.name?h.name.split(".").pop():"jpg",ge=`image_${ne}.${pe}`,me=Yn(Wn,`post-images/${ge}`);console.log("Uploading image with new filename:",ge),await Tr(me,h),ae=await Bl(me),console.log("Image URL after upload:",ae)}const he={title:n,content:l,image:ae,date:new Date().toLocaleDateString("sv-SE",{year:"numeric",month:"long",day:"numeric"}),category:Z,createdAt:new Date().toISOString()},M=await Ib(Wt(Ye,"posts"),he);console.log("Post saved with ID:",M.id),ee(),e(),window.location.reload()}catch(ae){console.error("Error saving post:",ae),alert("Ett fel uppstod när inlägget skulle sparas. Försök igen.")}},ee=()=>{a(""),c(""),m(null),y(""),T(!1),C(""),B(""),X("Alla")},Y=()=>{ee(),e()},re=ae=>{ae.target.className==="create-post-modal__overlay"&&Y()};return!s||!k?null:u.jsxs("div",{className:"create-post-modal",children:[u.jsx("div",{className:"create-post-modal__overlay",onClick:re}),u.jsxs("div",{className:"create-post-modal__content",children:[u.jsx("h2",{className:"create-post-modal__title",children:"Skapa nytt inlägg"}),u.jsxs("div",{className:"create-post-modal__form",children:[u.jsxs("div",{className:"create-post-modal__form-group",children:[u.jsx("label",{className:"create-post-modal__label",children:"Titel"}),u.jsx("input",{type:"text",className:"create-post-modal__input",value:n,onChange:ae=>a(ae.target.value),placeholder:"Ange titel"})]}),u.jsxs("div",{className:"create-post-modal__form-group",children:[u.jsx("label",{className:"create-post-modal__label",children:"Bild (valfritt)"}),u.jsxs("div",{className:"create-post-modal__image-upload",onClick:()=>V.current.click(),children:[p?u.jsx("img",{src:p,alt:"Preview",className:"create-post-modal__image-preview"}):u.jsx("div",{className:"create-post-modal__image-placeholder",children:"Klicka för att ladda upp en bild"}),u.jsx("input",{type:"file",accept:"image/*",onChange:b,className:"create-post-modal__file-input",ref:V})]})]}),u.jsxs("div",{className:"create-post-modal__form-group",children:[u.jsx("label",{className:"create-post-modal__label",children:"Kategori"}),u.jsxs("select",{className:"create-post-modal__input",value:Z,onChange:ae=>X(ae.target.value),children:[u.jsx("option",{value:"Alla",children:"Alla"}),u.jsx("option",{value:"Inga",children:"Inga"}),u.jsx("option",{value:"Kolmården",children:"Kolmården"}),u.jsx("option",{value:"Sälen",children:"Sälen"}),u.jsx("option",{value:"Hemsedal",children:"Hemsedal"}),u.jsx("option",{value:"Ulricshamn",children:"Ulricshamn"}),u.jsx("option",{value:"Tripplen",children:"Tripplen"})]})]}),u.jsxs("div",{className:"create-post-modal__form-group",children:[u.jsx("label",{className:"create-post-modal__label",children:"Innehåll"}),u.jsxs("div",{children:[u.jsx("textarea",{className:"create-post-modal__textarea",value:l,onChange:S,onSelect:D,ref:le,placeholder:"Ange innehåll"}),u.jsx("button",{type:"button",onClick:U,className:"create-post-modal__button create-post-modal__button--secondary",style:{marginTop:"10px"},children:"Lägg till länk"}),v&&u.jsxs("div",{className:"create-post-modal__link-tools",children:[u.jsxs("div",{children:[u.jsx("label",{children:"Länktext:"}),u.jsx("input",{type:"text",value:O,onChange:ae=>B(ae.target.value),className:"create-post-modal__input",style:{marginTop:"5px",width:"100%"}})]}),u.jsxs("div",{children:[u.jsx("label",{children:"URL:"}),u.jsx("input",{type:"text",value:A,onChange:ae=>C(ae.target.value),className:"create-post-modal__input",style:{marginTop:"5px",width:"100%"}})]}),u.jsx("div",{style:{marginTop:"10px"},children:u.jsx("button",{onClick:w,className:"create-post-modal__button create-post-modal__button--primary",children:"Infoga länk"})})]})]})]}),u.jsxs("div",{className:"create-post-modal__actions",children:[u.jsx("button",{onClick:Y,className:"create-post-modal__button create-post-modal__button--secondary",children:"Avbryt"}),u.jsx("button",{onClick:F,className:"create-post-modal__button create-post-modal__button--primary",disabled:!n.trim()||!l.trim(),children:"Spara"})]})]})]})]})},jD=()=>{const[s,e]=I.useState(""),[n,a]=I.useState(!1),[l,c]=I.useState(!1),{isAdmin:h}=mn(),[m,p]=I.useState([]),[y,v]=I.useState(!0),[T,A]=I.useState(null);I.useEffect(()=>{(async()=>{try{v(!0);const z=Wt(Ye,"posts"),G=(await Qn(z)).docs.map(X=>({id:X.id,...X.data()}));G.forEach(X=>{X.image&&console.log(`Post ${X.id} image URL:`,X.image)});const Z=G.map(X=>{const le=X;if(console.log(`Post ${X.id}:`,le),le.image){console.log(`Post ${X.id} image URL:`,le.image);const V=new Image;V.onload=()=>console.log(`Image for post ${X.id} loaded successfully`),V.onerror=()=>console.error(`Image for post ${X.id} failed to load`),V.src=le.image}else console.warn(`Post ${X.id} has no image URL`);return{...le,id:X.id}});p(Z),A(null)}catch(z){console.error("Error fetching posts:",z),A("Failed to load posts")}finally{v(!1)}})()},[]);const C=j=>{j.preventDefault(),console.log("Email submitted:",s),a(!0),e(""),setTimeout(()=>a(!1),3e3)},O=async j=>{try{v(!0);let z=null;if(j.image){const X=`post-images/${Date.now()}_${j.image.name}`;console.log("Uploading image with filename:",X);const le=Yn(Wn,X);await Tr(le,j.image),z=await Bl(le),console.log("Image URL after upload:",z);try{const V=await fetch(z,{method:"HEAD"});console.log("Image URL test response:",V.status,V.ok)}catch(V){console.error("Error testing image URL:",V)}}const q={title:j.title,content:j.content,image:z,date:new Date().toLocaleDateString("sv-SE",{day:"numeric",month:"long",year:"numeric"}),createdAt:new Date().toISOString()};console.log("Saving post with data:",q);const G=await Ib(Wt(Ye,"posts"),q);console.log("Post saved with ID:",G.id);const Z={id:G.id,...q};p(X=>[Z,...X]),c(!1),A(null)}catch(z){console.error("Error saving post:",z),A("Failed to save post")}finally{v(!1)}},B=async j=>{try{const z=m.find(q=>String(q.id)===String(j));if(await Cc(gt(Ye,"posts",String(j))),z&&z.image)try{const G=(Z=>{const X=Z.match(/\/o\/(.+)\?alt=media/);return X?decodeURIComponent(X[1]):null})(z.image);if(G){const Z=Yn(Wn,G);await Ic(Z)}}catch(q){console.error("Failed to delete image from storage:",q)}window.location.reload()}catch(z){console.error("Failed to delete post:",z)}};return u.jsxs("div",{className:"flex flex_col",children:[u.jsx("section",{className:"page_01 dynamic-background background-editable flex flex_col flex_j_E",id:"senaste-nytt-top-background",children:u.jsx("div",{className:"MaxWH flex flex_col flex_j_SA",children:u.jsx("div",{className:"om-oss-title flex flex_j_C flex_a_C",children:u.jsx(P,{textKey:"senaste-nytt-main-title",defaultText:"SENASTE NYTT",tag:"p",className:"fonts_huge senaste-nytt-main-title"})})})}),u.jsx("div",{className:"set-03 senaste-nytt-subscribe-section",children:u.jsxs("div",{className:"senaste-nytt-container flex flex_col flex_j_C flex_a_C font_white",children:[u.jsx(P,{textKey:"senaste-nytt-subscribe-title",defaultText:"Håll dig uppdaterad",tag:"h2",className:"fonts_large senaste-nytt-title"}),u.jsx(P,{textKey:"senaste-nytt-subscribe-description",defaultText:"Prenumerera på vårt nyhetsbrev för att få de senaste uppdateringarna om AIM Challenge direkt i din inkorg.",tag:"p",className:"fonts_small senaste-nytt-description"}),u.jsxs("form",{onSubmit:C,className:"senaste-nytt-form flex flex_col flex_a_C",children:[u.jsxs("div",{className:"senaste-nytt-form-input-container flex",children:[u.jsx("input",{type:"email",value:s,onChange:j=>e(j.target.value),placeholder:"Din e-postadress",required:!0,className:"senaste-nytt-form-input fonts_small",id:"newsletter-email",name:"newsletter-email",autoComplete:"email"}),u.jsx("button",{type:"submit",className:"senaste-nytt-form-button fonts_small flex flex_j_C flex_a_C",children:u.jsx("span",{children:"Prenumerera"})})]}),n&&u.jsx("p",{className:"senaste-nytt-form-success",children:"Tack för din prenumeration!"})]})]})}),u.jsx("div",{className:"set-03 senaste-nytt-news-section",children:u.jsxs("div",{className:"senaste-nytt-container",children:[u.jsx(P,{textKey:"senaste-nytt-news-title",defaultText:"Nyheter",tag:"h2",className:"senaste-nytt-section-title"}),h&&u.jsx("div",{className:"senaste-nytt-admin-actions flex flex_j_E",children:u.jsx("button",{className:"senaste-nytt-create-post-button",onClick:()=>c(!0),children:"Skapa nytt inlägg"})}),u.jsx("div",{className:"senaste-nytt-news-grid",children:m.map(j=>u.jsxs("div",{className:"senaste-nytt-news-card",children:[u.jsx("div",{className:"senaste-nytt-news-image-wrapper",children:j.image?u.jsx("img",{className:"senaste-nytt-news-image-alt",src:j.image,alt:j.title||"Post image"}):u.jsx("div",{className:"senaste-nytt-news-image senaste-nytt-news-image--empty",children:u.jsx("span",{children:"Ingen bild"})})}),u.jsxs("div",{className:"senaste-nytt-news-content",children:[u.jsx("h3",{className:"senaste-nytt-news-card-title",children:j.title}),u.jsx("p",{className:"senaste-nytt-news-date",children:j.date}),u.jsx("p",{className:"senaste-nytt-news-text",children:j.content}),u.jsx(Ne,{to:`/news/${j.id}`,className:"senaste-nytt-read-more",children:"Läs mer"}),h&&u.jsx("button",{className:"senaste-nytt-delete-post-button",onClick:()=>{console.log("Post:",j),console.log("Post ID:",j.id),console.log("Post ID type:",typeof j.id),console.log("Post ID value:",String(j.id)),B(String(j.id))},children:"Ta bort"})]})]},j.id))})]})}),h&&u.jsx(ID,{isOpen:l,onClose:()=>c(!1),addPost:O}),u.jsx("div",{id:"senaste-nytt-background",className:"background-editable senaste-nytt-background-container locked-background page_01"})]})},DD=()=>{const{id:s}=HS(),e=pr(),[n,a]=I.useState(null),[l,c]=I.useState(!0),[h,m]=I.useState(null);I.useEffect(()=>{(async()=>{try{c(!0);const v=gt(Ye,"posts",s),T=await br(v);T.exists()?(a({id:T.id,...T.data()}),m(null)):m("Nyheten kunde inte hittas")}catch(v){console.error("Error fetching post:",v),m("Ett fel uppstod när nyheten skulle hämtas")}finally{c(!1)}})()},[s]);const p=()=>{e("/senaste-nytt")};return l?u.jsx("div",{className:"flex flex_col flex_a_C flex_j_C",style:{minHeight:"50vh"},children:u.jsx("p",{className:"fonts_large",children:"Laddar..."})}):h?u.jsxs("div",{className:"flex flex_col flex_a_C flex_j_C",style:{minHeight:"50vh"},children:[u.jsx("p",{className:"fonts_large",children:h}),u.jsx("button",{onClick:p,className:"navbbutton button font_blue",style:{marginTop:"20px",padding:"10px 20px"},children:"Tillbaka till nyheter"})]}):n?u.jsxs("div",{className:"flex flex_col",children:[u.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",children:u.jsx("div",{className:"MaxWH flex flex_col flex_j_SA",children:u.jsx("div",{className:"om-oss-title flex flex_j_C flex_a_C",children:u.jsx("p",{className:"fonts_huge senaste-nytt-main-title",children:"NYHETER"})})})}),u.jsx("section",{style:{padding:"50px 0",backgroundColor:"#f5f5f5",width:"100vw"},children:u.jsxs("div",{className:"MaxWH",style:{padding:"0 20px",maxWidth:"1000px",margin:"0 auto"},children:[u.jsxs("button",{onClick:p,className:"navbbutton button font_blue",style:{marginBottom:"20px",padding:"10px 30px 10px 20px",display:"flex",alignItems:"center",gap:"5px",minWidth:"120px"},children:[u.jsx("span",{children:"←"})," ",u.jsx("span",{children:"Tillbaka"})]}),u.jsxs("div",{style:{backgroundColor:"white",borderRadius:"8px",overflow:"hidden",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[n.image&&u.jsx("div",{style:{height:"400px",backgroundImage:`url(${n.image})`,backgroundSize:"cover",backgroundPosition:"center"}}),u.jsxs("div",{style:{padding:"30px"},children:[u.jsx("h1",{className:"fonts_large font_blue",style:{marginBottom:"10px"},children:n.title}),u.jsx("p",{className:"fonts_small",style:{color:"#666",marginBottom:"30px"},children:n.date}),n.content.split(`
`).map((y,v)=>u.jsx("p",{className:"fonts_small",style:{marginBottom:"20px"},children:y},v))]})]}),u.jsx("div",{style:{marginTop:"30px",textAlign:"center"},children:u.jsxs("button",{onClick:p,className:"navbbutton button font_blue",style:{padding:"10px 30px 10px 20px",display:"flex",alignItems:"center",gap:"5px",minWidth:"120px"},children:[u.jsx("span",{children:"←"})," ",u.jsx("span",{children:"Tillbaka"})]})})]})}),u.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",style:{height:"50vh",width:"100vw"}})]}):u.jsxs("div",{className:"flex flex_col flex_a_C flex_j_C",style:{minHeight:"50vh"},children:[u.jsx("p",{className:"fonts_large",children:"Nyheten kunde inte hittas"}),u.jsx("button",{onClick:p,className:"navbbutton button font_blue",style:{marginTop:"20px",padding:"10px 20px"},children:"Tillbaka till nyheter"})]})},T0=()=>{const[s,e]=I.useState(""),[n,a]=I.useState(""),[l,c]=I.useState(""),[h,m]=I.useState(!1),p=pr(),{login:y,isAuthenticated:v}=ds();I.useEffect(()=>{v&&p("/")},[v,p]);const T=async A=>{A.preventDefault(),m(!0),c("");try{const C=await y(s,n);C.success?(console.log("Login successful"),console.log("Current user after login:",{email:s,role:"admin"}),p("/")):c(C.message||"Ogiltigt e-post eller lösenord")}catch(C){console.error("Login error:",C),c("Ett fel uppstod vid inloggning. Försök igen.")}finally{m(!1)}};return u.jsxs("div",{className:"flex flex_col",children:[u.jsx("section",{className:"login-header-section dynamic-background flex flex_col flex_j_E",children:u.jsx("div",{className:"login-header-container flex flex_col flex_j_SA",children:u.jsx("div",{className:"login-title-container",children:u.jsx("p",{className:"fonts_huge login-title",children:"LOGGA IN"})})})}),u.jsx("div",{className:"login-form-wrapper",children:u.jsx("div",{className:"login-form-container",children:u.jsx("div",{className:"login-form",children:u.jsxs("div",{className:"login-card",children:[u.jsx("h2",{className:"fonts_medium font_blue login-subtitle",children:"Administratörsinloggning"}),l&&u.jsx("div",{className:"error-message",children:l}),u.jsxs("form",{onSubmit:T,children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"email",className:"fonts_small",children:"E-post"}),u.jsx("input",{type:"email",id:"email",value:s,onChange:A=>e(A.target.value),required:!0,className:"form-input"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"password",className:"fonts_small",children:"Lösenord"}),u.jsx("input",{type:"password",id:"password",value:n,onChange:A=>a(A.target.value),required:!0,className:"form-input"})]}),u.jsx("button",{type:"submit",className:"navbbutton button font_blue",disabled:h,children:h?"Loggar in...":"Logga in"})]}),u.jsx("div",{className:"login-note",children:u.jsx("p",{className:"fonts_small",style:{color:"#666"},children:"Detta är en inloggning endast för administratörer."})})]})})})}),u.jsx("section",{className:"login-background-section dynamic-background flex flex_col flex_j_E",children:u.jsx("div",{className:"login-background-container"})})]})},OD=()=>{const{textContent:s,updateText:e,isAdmin:n}=mn(),{isAuthenticated:a}=ds(),l=pr(),[c,h]=I.useState("metaTexts"),[m,p]=I.useState(!1),[y,v]=I.useState({"meta-title-home":"Aim Challenge - Multisport tävling för alla","meta-description-home":"Aim Challenge är en multisport tävling som passar för alla. Lag på två personer ska under 6 timmar ta så många kontroller som möjligt.","meta-keywords-home":"multisport, tävling, aim challenge, orientering, löpning, cykling","meta-title-om-oss":"Om Oss - Aim Challenge","meta-description-om-oss":"Lär dig mer om Aim Challenge organisationen och vår mission.","meta-title-regler":"Regler - Aim Challenge","meta-description-regler":"Tävlingsregler och riktlinjer för Aim Challenge evenemang.","meta-title-senaste-nytt":"Senaste Nytt - Aim Challenge","meta-description-senaste-nytt":"Senaste nytt och uppdateringar från Aim Challenge."}),[T,A]=I.useState({"og-image-home":"/images/Aim_Challenge_logo_white.svg","og-image-om-oss":"/images/Aim_Challenge_logo_white.svg","og-image-regler":"/images/Aim_Challenge_logo_white.svg","og-image-senaste-nytt":"/images/Aim_Challenge_logo_white.svg"}),[C,O]=I.useState(null),[B,j]=I.useState(""),[z,q]=I.useState(null),[G,Z]=I.useState(null);I.useEffect(()=>{(!a||!n)&&l("/")},[a,n,l]),I.useEffect(()=>{(()=>{const S={...y},D={...T};Object.entries(s).forEach(([U,w])=>{U.startsWith("meta-")?S[U]=w:U.startsWith("og-image-")&&(D[U]=w)}),v(S),A(D)})()},[s]);const X=(b,S)=>{O(b),j(S)},le=()=>{C&&(e(C,B),C.startsWith("meta-")&&v(b=>({...b,[C]:B})),O(null),j(""))},V=()=>{O(null),j("")},k=(b,S)=>{const D=b.target.files[0];if(D){q(S);const U=new FileReader;U.onloadend=()=>{Z(U.result)},U.readAsDataURL(D);const w=Yn(Wn,`sharing-images/${S}-${Date.now()}`);Tr(w,D).then(F=>{Bl(F.ref).then(ee=>{e(S,ee),A(Y=>({...Y,[S]:ee})),q(null),Z(null)})}).catch(F=>{console.error("Error uploading image:",F),q(null),Z(null)})}};return!a||!n?null:u.jsxs("div",{className:"seo-manager-container",style:{padding:"40px",maxWidth:"1200px",margin:"0 auto"},children:[u.jsx("h2",{className:"font_blue fonts_large",style:{marginBottom:"30px"},children:"SEO Hanterare"}),u.jsxs("div",{style:{marginBottom:"30px",display:"flex",gap:"10px",flexWrap:"wrap"},children:[u.jsx("button",{onClick:()=>h("metaTexts"),style:{padding:"8px 16px",backgroundColor:c==="metaTexts"?"#2d4f60":"#e0e0e0",color:c==="metaTexts"?"white":"#333",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Meta Texter"}),u.jsx("button",{onClick:()=>h("sharingImages"),style:{padding:"8px 16px",backgroundColor:c==="sharingImages"?"#0984e3":"#e0e0e0",color:c==="sharingImages"?"white":"#333",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Delningsbilder"})]}),c==="metaTexts"&&u.jsxs("div",{className:"meta-texts-section",children:[u.jsx("p",{style:{marginBottom:"20px"},children:"Redigera meta-texter för att förbättra sökmotoroptimering (SEO) för din webbplats."}),u.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"20px"},children:Object.entries(y).map(([b,S])=>u.jsxs("div",{style:{border:"1px solid #ddd",borderRadius:"8px",padding:"15px",backgroundColor:"white",boxShadow:"0 2px 4px rgba(0,0,0,0.05)"},children:[u.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:u.jsx("h3",{className:"font_blue fonts_medium",style:{fontSize:"16px"},children:b})}),C===b?u.jsxs("div",{children:[u.jsx("textarea",{value:B,onChange:D=>j(D.target.value),style:{width:"100%",padding:"10px",borderRadius:"4px",border:"1px solid #ddd",minHeight:"100px",marginBottom:"10px"}}),u.jsxs("div",{style:{display:"flex",gap:"10px"},children:[u.jsx("button",{onClick:le,style:{padding:"8px 16px",backgroundColor:"#00b894",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Spara"}),u.jsx("button",{onClick:V,style:{padding:"8px 16px",backgroundColor:"#ccc",color:"black",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Avbryt"})]})]}):u.jsxs("div",{children:[u.jsx("p",{style:{backgroundColor:"#f5f5f5",padding:"10px",borderRadius:"4px",marginBottom:"10px"},children:S}),u.jsx("button",{onClick:()=>X(b,S),style:{width:"100%",padding:"8px",backgroundColor:"#0984e3",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Redigera"})]})]},b))})]}),c==="sharingImages"&&u.jsxs("div",{className:"sharing-images-section",children:[u.jsx("p",{style:{marginBottom:"20px"},children:"Ladda upp bilder som kommer att visas när dina sidor delas på sociala medier."}),u.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"20px"},children:Object.entries(T).map(([b,S])=>u.jsxs("div",{style:{border:"1px solid #ddd",borderRadius:"8px",padding:"15px",backgroundColor:"white",boxShadow:"0 2px 4px rgba(0,0,0,0.05)"},children:[u.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:u.jsx("h3",{className:"font_blue fonts_medium",style:{fontSize:"16px"},children:b})}),u.jsx("div",{style:{marginBottom:"15px"},children:z===b&&G?u.jsx("img",{src:G,alt:"Preview",style:{width:"100%",height:"200px",objectFit:"cover",borderRadius:"4px",border:"1px solid #eee"}}):u.jsx("img",{src:S||"/images/Aim_Challenge_logo_white.svg",alt:b,style:{width:"100%",height:"200px",objectFit:"cover",borderRadius:"4px",border:"1px solid #eee"}})}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:`image-upload-${b}`,style:{display:"block",width:"100%",padding:"8px",backgroundColor:"#0984e3",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",textAlign:"center"},children:z===b?"Laddar upp...":"Byt bild"}),u.jsx("input",{id:`image-upload-${b}`,type:"file",accept:"image/*",onChange:D=>k(D,b),style:{display:"none"},disabled:z!==null})]})]},b))})]})]})},MD=()=>{const{textContent:s,resetAllContent:e,removeContentItem:n,isAdmin:a}=mn(),{isAuthenticated:l}=ds(),[c,h]=I.useState(!1),[m,p]=I.useState(null),[y,v]=I.useState("content"),[T,A]=I.useState("all"),[C,O]=I.useState([]),[B,j]=I.useState([]),[z,q]=I.useState(!0),G=pr();I.useEffect(()=>{if(!l||!a){G("/");return}(async()=>{q(!0);try{await Promise.all([Z(),X()])}catch(ee){console.error("Error loading content data:",ee)}finally{q(!1)}})()},[l,a,G]);const Z=async()=>{try{const F=Wt(Ye,"faqs"),ee=await Qn(F),Y=[];return ee.forEach(re=>{const ae=re.data();Y.push({id:re.id,...ae})}),O(Y),Y}catch(F){return console.error("Error loading FAQ items:",F),[]}},X=async()=>{try{const F=Wt(Ye,"backgroundSettings"),ee=await Qn(F),Y=[];return ee.forEach(re=>{const ae=re.data();Y.push({id:re.id,...ae})}),j(Y),Y}catch(F){return console.error("Error loading background settings:",F),[]}};if(!l||!a)return null;const le=()=>{h(!0),p(null)},V=F=>{h(!0),p(F)},k=()=>{m?n(m):e(),h(!1),p(null)},b=()=>{h(!1),p(null)},D=(()=>{const F={text:{},image:{},background:{},faq:{},backgroundSettings:{}};return Object.entries(s).forEach(([ee,Y])=>{Y.startsWith("data:image")||Y.startsWith("http")||Y.startsWith("/")?ee.includes("-bg")||ee.includes("background")?F.background[ee]=Y:F.image[ee]=Y:F.text[ee]=Y}),C.forEach(ee=>{F.faq[ee.id]={question:ee.question,answer:ee.answer,category:ee.category}}),B.forEach(ee=>{F.backgroundSettings[ee.id]={elementId:ee.elementId,imageUrl:ee.imageUrl,type:ee.type}}),F})(),w=T==="all"?{...s,...Object.fromEntries(C.map(F=>[`faq-${F.id}`,`FAQ: ${F.question.substring(0,30)}...`])),...Object.fromEntries(B.map(F=>[`bg-${F.id}`,F.imageUrl]))}:D[T]||{};return u.jsxs("div",{className:"flex flex_col",style:{minHeight:"100vh"},children:[u.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",children:u.jsx("div",{className:"trans-background page_01box flex flex_col flex_j_SA",children:u.jsx("div",{className:"om-oss-title flex flex_j_C flex_a_C",children:u.jsx("p",{className:"font_blue fonts_huge",children:"Innehållshanterare"})})})}),u.jsxs("div",{style:{padding:"20px 40px 0",maxWidth:"1200px",margin:"0 auto",width:"100%",display:"flex",gap:"20px",borderBottom:"2px solid #eee"},children:[u.jsx("button",{onClick:()=>v("content"),style:{padding:"12px 24px",backgroundColor:y==="content"?"#2d4f60":"#e0e0e0",color:y==="content"?"white":"#333",border:"none",borderRadius:"4px 4px 0 0",cursor:"pointer",fontSize:"16px",fontWeight:"bold",position:"relative",bottom:y==="content"?"-2px":"0",borderBottom:y==="content"?"2px solid #2d4f60":"none"},children:"Innehåll"}),u.jsx("button",{onClick:()=>v("seo"),style:{padding:"12px 24px",backgroundColor:y==="seo"?"#2d4f60":"#e0e0e0",color:y==="seo"?"white":"#333",border:"none",borderRadius:"4px 4px 0 0",cursor:"pointer",fontSize:"16px",fontWeight:"bold",position:"relative",bottom:y==="seo"?"-2px":"0",borderBottom:y==="seo"?"2px solid #2d4f60":"none"},children:"SEO & Meta"})]}),y==="content"&&u.jsxs("section",{style:{padding:"40px",maxWidth:"1200px",margin:"0 auto"},children:[u.jsxs("div",{style:{marginBottom:"30px",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"20px"},children:[u.jsx("h2",{className:"font_blue fonts_large",children:"Alla redigerbara innehåll"}),u.jsx("button",{onClick:le,style:{padding:"10px 20px",backgroundColor:"#ff4d4d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Återställ allt innehåll"})]}),u.jsxs("div",{style:{marginBottom:"30px",display:"flex",gap:"10px",flexWrap:"wrap"},children:[u.jsx("button",{onClick:()=>A("all"),style:{padding:"8px 16px",backgroundColor:T==="all"?"#2d4f60":"#e0e0e0",color:T==="all"?"white":"#333",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Alla"}),u.jsx("button",{onClick:()=>A("text"),style:{padding:"8px 16px",backgroundColor:T==="text"?"#0984e3":"#e0e0e0",color:T==="text"?"white":"#333",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Text"}),u.jsx("button",{onClick:()=>A("image"),style:{padding:"8px 16px",backgroundColor:T==="image"?"#00b894":"#e0e0e0",color:T==="image"?"white":"#333",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Bilder"}),u.jsx("button",{onClick:()=>A("background"),style:{padding:"8px 16px",backgroundColor:T==="background"?"#6c5ce7":"#e0e0e0",color:T==="background"?"white":"#333",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Bakgrundsbilder"}),u.jsx("button",{onClick:()=>A("faq"),style:{padding:"8px 16px",backgroundColor:T==="faq"?"#e84393":"#e0e0e0",color:T==="faq"?"white":"#333",border:"none",borderRadius:"4px",cursor:"pointer"},children:"FAQ"}),u.jsx("button",{onClick:()=>A("backgroundSettings"),style:{padding:"8px 16px",backgroundColor:T==="backgroundSettings"?"#fdcb6e":"#e0e0e0",color:T==="backgroundSettings"?"white":"#333",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Bakgrundsinställningar"})]}),c&&u.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.7)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:9999},children:u.jsxs("div",{style:{backgroundColor:"white",padding:"30px",borderRadius:"8px",maxWidth:"500px",width:"90%",textAlign:"center"},children:[u.jsx("h3",{style:{marginBottom:"20px",color:"#00a6fb"},children:"Bekräfta åtgärd"}),u.jsx("p",{style:{marginBottom:"30px"},children:m?`Är du säker på att du vill ta bort innehållet med nyckeln "${m}"?`:"Är du säker på att du vill återställa allt innehåll? Detta kan inte ångras."}),u.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"20px"},children:[u.jsx("button",{onClick:k,style:{padding:"10px 20px",backgroundColor:"#ff4d4d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:m?"Ta bort":"Återställ allt"}),u.jsx("button",{onClick:b,style:{padding:"10px 20px",backgroundColor:"#ccc",color:"black",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Avbryt"})]})]})}),Object.keys(w).length===0?u.jsxs("p",{children:["Inga redigerade ",T==="text"?"texter":T==="image"?"bilder":T==="background"?"bakgrundsbilder":"innehåll"," ännu."]}):u.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"20px"},children:Object.entries(w).map(([F,ee])=>{const Y=ee.startsWith("data:image")||ee.startsWith("http")||ee.startsWith("/"),re=F.includes("-bg")||F.includes("background");return u.jsxs("div",{style:{border:"1px solid #ddd",borderRadius:"8px",padding:"15px",backgroundColor:"white",boxShadow:"0 2px 4px rgba(0,0,0,0.05)"},children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:[u.jsx("h3",{className:"font_blue fonts_medium",style:{wordBreak:"break-all",fontSize:"16px"},children:F}),u.jsx("span",{style:{padding:"3px 8px",borderRadius:"4px",fontSize:"12px",backgroundColor:re?"#6c5ce7":Y?"#00b894":"#0984e3",color:"white"},children:re?"Bakgrund":Y?"Bild":"Text"})]}),u.jsx("div",{style:{marginBottom:"10px"},children:Y?u.jsxs("div",{children:[u.jsx("img",{src:ee,alt:F,style:{width:"100%",height:re?"150px":"auto",maxHeight:"150px",objectFit:re?"cover":"contain",borderRadius:"4px",border:"1px solid #eee"}}),re&&u.jsx("div",{style:{marginTop:"5px",fontSize:"12px",color:"#666",textAlign:"center"},children:"Bakgrundsbild"})]}):u.jsx("p",{style:{maxHeight:"100px",overflow:"auto",backgroundColor:"#f5f5f5",padding:"10px",borderRadius:"4px",fontSize:"14px"},children:ee})}),u.jsx("button",{onClick:()=>V(F),style:{width:"100%",padding:"8px",backgroundColor:"#ff4d4d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px"},children:"Ta bort"})]},F)})})]}),y==="seo"&&u.jsx(OD,{})]})},LD=({children:s,requireAdmin:e=!1})=>{const{isAuthenticated:n,currentUser:a}=ds();return n?e&&(a==null?void 0:a.role)!=="admin"?u.jsx(Hv,{to:"/"}):s:u.jsx(Hv,{to:"/login"})},PD=()=>{const[s,e]=I.useState(!1),[n,a]=I.useState(null),[l,c]=I.useState([]),[h,m]=I.useState({imageUrl:"",link:""}),[p,y]=I.useState([]),[v,T]=I.useState(!1),{isAdmin:A}=mn(),C=I.useRef(null),O=I.useRef(null),B=Wt(Ye,"ads");I.useEffect(()=>{q()},[]),I.useEffect(()=>{const b=document.querySelectorAll(".ad-editable"),S=D=>{A&&(e(!0),a(D.currentTarget))};return b.forEach(D=>{D.removeEventListener("click",S),D.addEventListener("click",S),A&&D.classList.add("admin-editable")}),()=>{b.forEach(D=>{D.removeEventListener("click",S),A&&D.classList.remove("admin-editable")})}},[A]),I.useEffect(()=>{const b=async()=>{try{const U=(await Qn(B)).docs.map(w=>({id:w.id,...w.data()}));c(U),G(U)}catch{}};b();const S=setInterval(()=>{console.log("Refreshing ads from database"),b()},5*60*1e3);return()=>{clearInterval(S)}},[]),I.useEffect(()=>(document.addEventListener("mousedown",z),()=>{document.removeEventListener("mousedown",z)}),[]);const j=()=>{e(!1),a(null),m({imageUrl:"",link:""})},z=b=>{O.current&&!O.current.contains(b.target)&&j()},q=async()=>{try{console.log("Loading ads from Firestore");const S=(await Qn(B)).docs.map(D=>({id:D.id,...D.data()}));c(S),setTimeout(()=>{G(S)},100)}catch{}},G=b=>{const S=document.querySelectorAll(".ad-container"),D=b.filter(U=>U.imageUrl);if(S.forEach(U=>{console.log("Clearing container:",U.id||"unnamed"),U.querySelectorAll(".ad-item").forEach(ee=>{console.log("Removing existing ad item"),ee.remove()});const F=U.getAttribute("data-ad-interval");F&&(clearInterval(Number(F)),U.removeAttribute("data-ad-interval"))}),D.length===0){console.log("No valid ads to display, all ads cleared");return}S.forEach(U=>{U.querySelectorAll(".ad-item").forEach(he=>{he.remove()});let F=U.querySelector(".ad-content");if(F){let he=F.querySelector(".ad-carousel");if(!he)he=document.createElement("div"),he.className="ad-carousel",F.appendChild(he);else for(;he.firstChild;)he.removeChild(he.firstChild)}else{F=document.createElement("div"),F.className="ad-content";const he=document.createElement("div");he.textContent="ANNONS",he.className="annons-text",F.appendChild(he),U.appendChild(F)}const ee=F.querySelector(".ad-carousel");D.forEach((he,M)=>{const ne=document.createElement("div");ne.className=M===0?"ad-item active":"ad-item",ne.setAttribute("data-ad-id",he.id||"unknown"),ne.style.display=M===0?"block":"none";const pe=document.createElement("img");pe.src=he.imageUrl,pe.alt="Advertisement",ne.appendChild(pe),he.link&&!A&&(ne.onclick=ge=>{ge.preventDefault();let me=he.link;if(me.includes("localhost")||me.startsWith("/")){const we=me.match(/(?:https?:\/\/)?(?:localhost:[0-9]+\/)?([^\s]+)/);we&&we[1]&&(me=we[1])}!me.startsWith("http://")&&!me.startsWith("https://")&&(me="https://"+me),window.open(me,"_blank","noopener,noreferrer")},ne.style.cursor="pointer"),console.log("Adding ad with image:",he.imageUrl),ee.appendChild(ne)});let Y=0;const ae=setInterval(()=>{const he=ee.querySelectorAll(".ad-item");he.length<=1||(he[Y].classList.remove("active"),setTimeout(()=>{he[Y].style.display="none",Y=(Y+1)%he.length,he[Y].style.display="block",he[Y].offsetHeight,setTimeout(()=>{he[Y].classList.add("active")},50)},800))},8e3);U.setAttribute("data-ad-interval",ae)})};I.useEffect(()=>()=>{document.querySelectorAll(".ad-container").forEach(S=>{const D=S.getAttribute("data-ad-interval");D&&clearInterval(Number(D))})},[]);const Z=b=>{if(b.target.files[0]){const S=b.target.files[0];X(S)}},X=async b=>{if(b){T(!0);try{const S=Date.now(),D=b.name?b.name.split(".").pop():"jpg",U=`ad_${S}.${D}`,w=Yn(Wn,`gs://aimchallange-67039.firebasestorage.app/background-images/${U}`);console.log("Uploading ad image with new filename:",U),await Tr(w,b);const F=await Bl(w);m(ee=>({...ee,imageUrl:F})),y([...p,{url:F,name:U}])}catch{}finally{T(!1)}}},le=async()=>{if(h.imageUrl)try{const b=gt(B);await ls(b,{imageUrl:h.imageUrl,link:h.link,createdAt:new Date}),c([...l,{id:b.id,...h}]),m({imageUrl:"",link:""}),q()}catch(b){console.error("Error adding ad:",b)}},V=async b=>{try{if(b<0||b>=l.length)return;const S=l[b];if(!S||!S.id)return;const D=gt(B,S.id),U=await br(D);if(U.exists()){const w=U.data();if(console.log("Found ad document:",w),w.imageUrl)try{const ee=k(w.imageUrl);if(ee){const Y=Yn(Wn,`gs://aimchallange-67039.firebasestorage.app/background-images/${ee}`);await Ic(Y)}}catch{}await Cc(D);const F=[...l];F.splice(b,1),c(F),setTimeout(()=>{G(F)},100)}}catch{}},k=b=>{if(!b)return null;try{if(b.includes("firebasestorage.googleapis.com")){const U=b.match(/%2F([^?]+)/g);if(U&&U.length>0)return U[U.length-1].replace("%2F","").split("?")[0]}if(b.includes("ad_")){const U=/ad_[0-9]+\.[a-zA-Z]+/,w=b.match(U);if(w&&w.length>0)return w[0]}const S=b.split("/");return S[S.length-1].split("?")[0]}catch{return null}};return A?u.jsx(u.Fragment,{children:s&&u.jsx("div",{className:"background-editor-overlay",onClick:z,children:u.jsxs("div",{className:"background-editor-modal",ref:O,children:[u.jsxs("div",{className:"background-editor-modal__header",children:[u.jsx("h2",{className:"background-editor-modal__title",children:"Edit Ads"}),u.jsx("button",{className:"background-editor-modal__close",onClick:j,children:"×"})]}),u.jsxs("div",{className:"background-editor-modal__body",children:[u.jsx("h3",{className:"background-editor-modal__subtitle",children:"Current Ads"}),u.jsx("div",{className:"background-editor-modal__ad-list",children:l.length>0?l.map((b,S)=>u.jsxs("div",{className:"background-editor-modal__ad-item",children:[u.jsx("img",{src:b.imageUrl,alt:`Ad ${S+1}`,className:"background-editor-modal__ad-image"}),u.jsxs("div",{className:"background-editor-modal__ad-details",children:[u.jsx("p",{className:"background-editor-modal__ad-link",children:b.link?u.jsx("a",{href:b.link,target:"_blank",rel:"noopener noreferrer",children:b.link}):"No link"}),u.jsx("button",{onClick:()=>V(S),className:"background-editor-modal__button background-editor-modal__button--secondary",children:"Remove"})]})]},S)):u.jsx("p",{className:"background-editor-modal__empty-message",children:"No ads added yet."})}),u.jsx("h3",{className:"background-editor-modal__subtitle",children:"Add New Ad"}),u.jsxs("div",{className:"background-editor-modal__form",children:[u.jsxs("div",{className:"background-editor-modal__form-group",children:[u.jsx("label",{className:"background-editor-modal__label",children:"Image:"}),u.jsxs("div",{className:"background-editor-modal__image-upload",onClick:()=>C.current.click(),children:[h.imageUrl?u.jsx("div",{className:"background-editor-modal__image-preview-container",children:u.jsx("img",{src:h.imageUrl,alt:"Preview",className:"background-editor-modal__image-preview"})}):u.jsx("div",{className:"background-editor-modal__image-placeholder",children:"Click to upload an image"}),u.jsx("input",{type:"file",accept:"image/*",onChange:Z,ref:C,className:"background-editor-modal__file-input",style:{display:"none"}})]}),v&&u.jsx("p",{className:"background-editor-modal__upload-status",children:"Uploading..."})]}),u.jsxs("div",{className:"background-editor-modal__form-group",children:[u.jsx("label",{className:"background-editor-modal__label",children:"Link (optional):"}),u.jsx("input",{type:"text",value:h.link,onChange:b=>m(S=>({...S,link:b.target.value})),placeholder:"https://example.com",className:"background-editor-modal__input"})]})]}),u.jsxs("div",{className:"background-editor-modal__footer",children:[u.jsx("button",{className:"background-editor-modal__button background-editor-modal__button--secondary",onClick:j,children:"Close"}),u.jsx("button",{className:"background-editor-modal__button background-editor-modal__button--primary",onClick:le,disabled:!h.imageUrl||v,children:"Add Ad"})]})]})]})})}):null},VD=()=>u.jsx("div",{className:"background-container",children:u.jsx("img",{src:"/backgrounds/Höjdkurvor.svg",alt:"Background"})}),UD=()=>{const s=Xn(),{textContent:e}=mn(),n=s.pathname;return I.useEffect(()=>{let a="home";n.includes("/om-oss")?a="om-oss":n.includes("/regler")?a="regler":n.includes("/senaste-nytt")?a="senaste-nytt":n.includes("/ulricehamn")?a="ulricehamn":n.includes("/hemsedal")?a="hemsedal":n.includes("/salen")?a="salen":n.includes("/kolmarden")?a="kolmarden":n.includes("/historien-om-aim")?a="historien-om-aim":n.includes("/faq")?a="faq":n.includes("/results")&&(a="results");const l=`meta-title-${a}`;e[l]?document.title=e[l]:a!=="home"?document.title=`${a.charAt(0).toUpperCase()+a.slice(1).replace(/-/g," ")} - Aim Challenge`:document.title="Aim Challenge";const c=`meta-description-${a}`;let h=document.querySelector('meta[name="description"]');h||(h=document.createElement("meta"),h.name="description",document.head.appendChild(h)),e[c]?h.content=e[c]:h.content="Aim Challenge - A premier archery competition series";const m=`meta-keywords-${a}`;let p=document.querySelector('meta[name="keywords"]');p||(p=document.createElement("meta"),p.name="keywords",document.head.appendChild(p)),e[m]?p.content=e[m]:p.content="archery, competition, aim challenge, bow, arrow";const y=`og-image-${a}`;let v=document.querySelector('meta[property="og:title"]');v||(v=document.createElement("meta"),v.setAttribute("property","og:title"),document.head.appendChild(v)),v.content=document.title;let T=document.querySelector('meta[property="og:description"]');T||(T=document.createElement("meta"),T.setAttribute("property","og:description"),document.head.appendChild(T)),T.content=h.content;let A=document.querySelector('meta[property="og:url"]');A||(A=document.createElement("meta"),A.setAttribute("property","og:url"),document.head.appendChild(A)),A.content=window.location.href;let C=document.querySelector('meta[property="og:type"]');C||(C=document.createElement("meta"),C.setAttribute("property","og:type"),document.head.appendChild(C)),C.content="website";let O=document.querySelector('meta[property="og:image"]');O||(O=document.createElement("meta"),O.setAttribute("property","og:image"),document.head.appendChild(O)),e[y]?e[y].startsWith("/")?O.content=`${window.location.origin}${e[y]}`:O.content=e[y]:O.content=`${window.location.origin}/images/logos/Aim_Challenge_logo_white.svg`;let B=document.querySelector('meta[name="twitter:card"]');B||(B=document.createElement("meta"),B.name="twitter:card",document.head.appendChild(B)),B.content="summary_large_image";let j=document.querySelector('meta[name="twitter:title"]');j||(j=document.createElement("meta"),j.name="twitter:title",document.head.appendChild(j)),j.content=document.title;let z=document.querySelector('meta[name="twitter:description"]');z||(z=document.createElement("meta"),z.name="twitter:description",document.head.appendChild(z)),z.content=h.content;let q=document.querySelector('meta[name="twitter:image"]');q||(q=document.createElement("meta"),q.name="twitter:image",document.head.appendChild(q)),q.content=O.content},[n,e]),null},BD=async(s,e,n="Admin")=>{try{const l=(await Pj(Nd,s,e)).user;return await Bj(l,{displayName:n}),await ls(gt(Ye,"users",l.uid),{email:s,displayName:n,role:"admin",createdAt:new Date}),{success:!0,user:{uid:l.uid,email:l.email,displayName:n,role:"admin"}}}catch(a){return console.error("Error creating admin user:",a),{success:!1,error:a.message}}},zD=async()=>{try{(await br(gt(Ye,"settings","admin"))).exists()||(await BD("admin@example.com","password123")).success&&(await ls(gt(Ye,"settings","admin"),{initialized:!0,adminEmail:"admin@example.com",createdAt:new Date}),console.log("Admin user initialized successfully"))}catch(s){console.error("Error initializing admin user:",s)}},HD=()=>(I.useEffect(()=>{zD().then(()=>console.log("Admin user initialized")).catch(s=>console.error("Error initializing admin user:",s))},[]),u.jsx(iD,{children:u.jsx(lD,{children:u.jsxs(Nw,{children:[u.jsx(UD,{}),u.jsxs("div",{className:"flex flex_col MaxWH location",style:{width:"100%",maxWidth:"100%",overflow:"hidden",margin:0,padding:0,display:"flex",flexDirection:"column",position:"relative"},children:[u.jsx(VD,{}),u.jsx(oD,{}),u.jsx(Ps,{}),u.jsx(PD,{}),u.jsx("div",{style:{margin:0,padding:0,width:"100%",position:"relative",top:0},children:u.jsxs(sw,{children:[u.jsx(Dt,{path:"/",element:u.jsx(uD,{})}),u.jsx(Dt,{path:"/competitions",element:u.jsx(dD,{})}),u.jsx(Dt,{path:"/ulricehamn",element:u.jsx(hD,{})}),u.jsx(Dt,{path:"/salen",element:u.jsx(fD,{})}),u.jsx(Dt,{path:"/hemsedal",element:u.jsx(mD,{})}),u.jsx(Dt,{path:"/kolmarden",element:u.jsx(gD,{})}),u.jsx(Dt,{path:"/trippeln",element:u.jsx(pD,{})}),u.jsx(Dt,{path:"/results",element:u.jsx(ED,{})}),u.jsx(Dt,{path:"/gallery",element:u.jsxs(u.Fragment,{children:[u.jsx(bD,{}),u.jsx(TD,{})]})}),u.jsx(Dt,{path:"/om-oss",element:u.jsx(AD,{})}),u.jsx(Dt,{path:"/regler",element:u.jsx(wD,{})}),u.jsx(Dt,{path:"/faq",element:u.jsx(kD,{})}),u.jsx(Dt,{path:"/historien-om-aim",element:u.jsx(CD,{})}),u.jsx(Dt,{path:"/senaste-nytt",element:u.jsx(jD,{})}),u.jsx(Dt,{path:"/news/:id",element:u.jsx(DD,{})}),u.jsx(Dt,{path:"/login",element:u.jsx(T0,{})}),u.jsx(Dt,{path:"login",element:u.jsx(T0,{})}),u.jsx(Dt,{path:"/content-manager",element:u.jsx(LD,{requireAdmin:!0,children:u.jsx(MD,{})})})]})}),u.jsx(cD,{})]})]})})}));(function(){const s=sessionStorage.redirect;delete sessionStorage.redirect,s&&s!==location.href&&history.replaceState(null,null,s)})();const qD=document.getElementById("root");hS.createRoot(qD).render(u.jsx(aS.StrictMode,{children:u.jsx(HD,{})}));
//# sourceMappingURL=index-CCDWg97x.js.map
