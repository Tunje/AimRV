(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function t(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(l){if(l.ep)return;l.ep=!0;const u=t(l);fetch(l.href,u)}})();function b0(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var dm={exports:{}},Ko={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sv;function oS(){if(Sv)return Ko;Sv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,l,u){var h=null;if(u!==void 0&&(h=""+u),l.key!==void 0&&(h=""+l.key),"key"in l){u={};for(var m in l)m!=="key"&&(u[m]=l[m])}else u=l;return l=u.ref,{$$typeof:s,type:i,key:h,ref:l!==void 0?l:null,props:u}}return Ko.Fragment=e,Ko.jsx=t,Ko.jsxs=t,Ko}var wv;function uS(){return wv||(wv=1,dm.exports=oS()),dm.exports}var d=uS(),fm={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rv;function cS(){if(Rv)return Ce;Rv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.iterator;function w(V){return V===null||typeof V!="object"?null:(V=b&&V[b]||V["@@iterator"],typeof V=="function"?V:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,z={};function P(V,re,ge){this.props=V,this.context=re,this.refs=z,this.updater=ge||N}P.prototype.isReactComponent={},P.prototype.setState=function(V,re){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,re,"setState")},P.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function K(){}K.prototype=P.prototype;function H(V,re,ge){this.props=V,this.context=re,this.refs=z,this.updater=ge||N}var $=H.prototype=new K;$.constructor=H,j($,P.prototype),$.isPureReactComponent=!0;var Z=Array.isArray,ee={H:null,A:null,T:null,S:null},ie=Object.prototype.hasOwnProperty;function O(V,re,ge,ue,ce,Ne){return ge=Ne.ref,{$$typeof:s,type:V,key:re,ref:ge!==void 0?ge:null,props:Ne}}function R(V,re){return O(V.type,re,void 0,void 0,void 0,V.props)}function A(V){return typeof V=="object"&&V!==null&&V.$$typeof===s}function C(V){var re={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ge){return re[ge]})}var D=/\/+/g;function U(V,re){return typeof V=="object"&&V!==null&&V.key!=null?C(""+V.key):re.toString(36)}function k(){}function je(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(k,k):(V.status="pending",V.then(function(re){V.status==="pending"&&(V.status="fulfilled",V.value=re)},function(re){V.status==="pending"&&(V.status="rejected",V.reason=re)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function Ve(V,re,ge,ue,ce){var Ne=typeof V;(Ne==="undefined"||Ne==="boolean")&&(V=null);var ke=!1;if(V===null)ke=!0;else switch(Ne){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(V.$$typeof){case s:case e:ke=!0;break;case E:return ke=V._init,Ve(ke(V._payload),re,ge,ue,ce)}}if(ke)return ce=ce(V),ke=ue===""?"."+U(V,0):ue,Z(ce)?(ge="",ke!=null&&(ge=ke.replace(D,"$&/")+"/"),Ve(ce,re,ge,"",function(ht){return ht})):ce!=null&&(A(ce)&&(ce=R(ce,ge+(ce.key==null||V&&V.key===ce.key?"":(""+ce.key).replace(D,"$&/")+"/")+ke)),re.push(ce)),1;ke=0;var vt=ue===""?".":ue+":";if(Z(V))for(var Ke=0;Ke<V.length;Ke++)ue=V[Ke],Ne=vt+U(ue,Ke),ke+=Ve(ue,re,ge,Ne,ce);else if(Ke=w(V),typeof Ke=="function")for(V=Ke.call(V),Ke=0;!(ue=V.next()).done;)ue=ue.value,Ne=vt+U(ue,Ke++),ke+=Ve(ue,re,ge,Ne,ce);else if(Ne==="object"){if(typeof V.then=="function")return Ve(je(V),re,ge,ue,ce);throw re=String(V),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return ke}function le(V,re,ge){if(V==null)return V;var ue=[],ce=0;return Ve(V,ue,"","",function(Ne){return re.call(ge,Ne,ce++)}),ue}function ye(V){if(V._status===-1){var re=V._result;re=re(),re.then(function(ge){(V._status===0||V._status===-1)&&(V._status=1,V._result=ge)},function(ge){(V._status===0||V._status===-1)&&(V._status=2,V._result=ge)}),V._status===-1&&(V._status=0,V._result=re)}if(V._status===1)return V._result.default;throw V._result}var pe=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function me(){}return Ce.Children={map:le,forEach:function(V,re,ge){le(V,function(){re.apply(this,arguments)},ge)},count:function(V){var re=0;return le(V,function(){re++}),re},toArray:function(V){return le(V,function(re){return re})||[]},only:function(V){if(!A(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Ce.Component=P,Ce.Fragment=t,Ce.Profiler=l,Ce.PureComponent=H,Ce.StrictMode=i,Ce.Suspense=p,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ee,Ce.act=function(){throw Error("act(...) is not supported in production builds of React.")},Ce.cache=function(V){return function(){return V.apply(null,arguments)}},Ce.cloneElement=function(V,re,ge){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ue=j({},V.props),ce=V.key,Ne=void 0;if(re!=null)for(ke in re.ref!==void 0&&(Ne=void 0),re.key!==void 0&&(ce=""+re.key),re)!ie.call(re,ke)||ke==="key"||ke==="__self"||ke==="__source"||ke==="ref"&&re.ref===void 0||(ue[ke]=re[ke]);var ke=arguments.length-2;if(ke===1)ue.children=ge;else if(1<ke){for(var vt=Array(ke),Ke=0;Ke<ke;Ke++)vt[Ke]=arguments[Ke+2];ue.children=vt}return O(V.type,ce,void 0,void 0,Ne,ue)},Ce.createContext=function(V){return V={$$typeof:h,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},Ce.createElement=function(V,re,ge){var ue,ce={},Ne=null;if(re!=null)for(ue in re.key!==void 0&&(Ne=""+re.key),re)ie.call(re,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(ce[ue]=re[ue]);var ke=arguments.length-2;if(ke===1)ce.children=ge;else if(1<ke){for(var vt=Array(ke),Ke=0;Ke<ke;Ke++)vt[Ke]=arguments[Ke+2];ce.children=vt}if(V&&V.defaultProps)for(ue in ke=V.defaultProps,ke)ce[ue]===void 0&&(ce[ue]=ke[ue]);return O(V,Ne,void 0,void 0,null,ce)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(V){return{$$typeof:m,render:V}},Ce.isValidElement=A,Ce.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:ye}},Ce.memo=function(V,re){return{$$typeof:_,type:V,compare:re===void 0?null:re}},Ce.startTransition=function(V){var re=ee.T,ge={};ee.T=ge;try{var ue=V(),ce=ee.S;ce!==null&&ce(ge,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(me,pe)}catch(Ne){pe(Ne)}finally{ee.T=re}},Ce.unstable_useCacheRefresh=function(){return ee.H.useCacheRefresh()},Ce.use=function(V){return ee.H.use(V)},Ce.useActionState=function(V,re,ge){return ee.H.useActionState(V,re,ge)},Ce.useCallback=function(V,re){return ee.H.useCallback(V,re)},Ce.useContext=function(V){return ee.H.useContext(V)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(V,re){return ee.H.useDeferredValue(V,re)},Ce.useEffect=function(V,re){return ee.H.useEffect(V,re)},Ce.useId=function(){return ee.H.useId()},Ce.useImperativeHandle=function(V,re,ge){return ee.H.useImperativeHandle(V,re,ge)},Ce.useInsertionEffect=function(V,re){return ee.H.useInsertionEffect(V,re)},Ce.useLayoutEffect=function(V,re){return ee.H.useLayoutEffect(V,re)},Ce.useMemo=function(V,re){return ee.H.useMemo(V,re)},Ce.useOptimistic=function(V,re){return ee.H.useOptimistic(V,re)},Ce.useReducer=function(V,re,ge){return ee.H.useReducer(V,re,ge)},Ce.useRef=function(V){return ee.H.useRef(V)},Ce.useState=function(V){return ee.H.useState(V)},Ce.useSyncExternalStore=function(V,re,ge){return ee.H.useSyncExternalStore(V,re,ge)},Ce.useTransition=function(){return ee.H.useTransition()},Ce.version="19.0.0",Ce}var Nv;function cg(){return Nv||(Nv=1,fm.exports=cS()),fm.exports}var L=cg();const hS=b0(L);var mm={exports:{}},Fo={},gm={exports:{}},pm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kv;function dS(){return kv||(kv=1,function(s){function e(le,ye){var pe=le.length;le.push(ye);e:for(;0<pe;){var me=pe-1>>>1,V=le[me];if(0<l(V,ye))le[me]=ye,le[pe]=V,pe=me;else break e}}function t(le){return le.length===0?null:le[0]}function i(le){if(le.length===0)return null;var ye=le[0],pe=le.pop();if(pe!==ye){le[0]=pe;e:for(var me=0,V=le.length,re=V>>>1;me<re;){var ge=2*(me+1)-1,ue=le[ge],ce=ge+1,Ne=le[ce];if(0>l(ue,pe))ce<V&&0>l(Ne,ue)?(le[me]=Ne,le[ce]=pe,me=ce):(le[me]=ue,le[ge]=pe,me=ge);else if(ce<V&&0>l(Ne,pe))le[me]=Ne,le[ce]=pe,me=ce;else break e}}return ye}function l(le,ye){var pe=le.sortIndex-ye.sortIndex;return pe!==0?pe:le.id-ye.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();s.unstable_now=function(){return h.now()-m}}var p=[],_=[],E=1,b=null,w=3,N=!1,j=!1,z=!1,P=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function $(le){for(var ye=t(_);ye!==null;){if(ye.callback===null)i(_);else if(ye.startTime<=le)i(_),ye.sortIndex=ye.expirationTime,e(p,ye);else break;ye=t(_)}}function Z(le){if(z=!1,$(le),!j)if(t(p)!==null)j=!0,je();else{var ye=t(_);ye!==null&&Ve(Z,ye.startTime-le)}}var ee=!1,ie=-1,O=5,R=-1;function A(){return!(s.unstable_now()-R<O)}function C(){if(ee){var le=s.unstable_now();R=le;var ye=!0;try{e:{j=!1,z&&(z=!1,K(ie),ie=-1),N=!0;var pe=w;try{t:{for($(le),b=t(p);b!==null&&!(b.expirationTime>le&&A());){var me=b.callback;if(typeof me=="function"){b.callback=null,w=b.priorityLevel;var V=me(b.expirationTime<=le);if(le=s.unstable_now(),typeof V=="function"){b.callback=V,$(le),ye=!0;break t}b===t(p)&&i(p),$(le)}else i(p);b=t(p)}if(b!==null)ye=!0;else{var re=t(_);re!==null&&Ve(Z,re.startTime-le),ye=!1}}break e}finally{b=null,w=pe,N=!1}ye=void 0}}finally{ye?D():ee=!1}}}var D;if(typeof H=="function")D=function(){H(C)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,k=U.port2;U.port1.onmessage=C,D=function(){k.postMessage(null)}}else D=function(){P(C,0)};function je(){ee||(ee=!0,D())}function Ve(le,ye){ie=P(function(){le(s.unstable_now())},ye)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(le){le.callback=null},s.unstable_continueExecution=function(){j||N||(j=!0,je())},s.unstable_forceFrameRate=function(le){0>le||125<le?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<le?Math.floor(1e3/le):5},s.unstable_getCurrentPriorityLevel=function(){return w},s.unstable_getFirstCallbackNode=function(){return t(p)},s.unstable_next=function(le){switch(w){case 1:case 2:case 3:var ye=3;break;default:ye=w}var pe=w;w=ye;try{return le()}finally{w=pe}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(le,ye){switch(le){case 1:case 2:case 3:case 4:case 5:break;default:le=3}var pe=w;w=le;try{return ye()}finally{w=pe}},s.unstable_scheduleCallback=function(le,ye,pe){var me=s.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?me+pe:me):pe=me,le){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=pe+V,le={id:E++,callback:ye,priorityLevel:le,startTime:pe,expirationTime:V,sortIndex:-1},pe>me?(le.sortIndex=pe,e(_,le),t(p)===null&&le===t(_)&&(z?(K(ie),ie=-1):z=!0,Ve(Z,pe-me))):(le.sortIndex=V,e(p,le),j||N||(j=!0,je())),le},s.unstable_shouldYield=A,s.unstable_wrapCallback=function(le){var ye=w;return function(){var pe=w;w=ye;try{return le.apply(this,arguments)}finally{w=pe}}}}(pm)),pm}var Cv;function fS(){return Cv||(Cv=1,gm.exports=dS()),gm.exports}var _m={exports:{}},Xt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iv;function mS(){if(Iv)return Xt;Iv=1;var s=cg();function e(p){var _="https://react.dev/errors/"+p;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)_+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(p,_,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:p,containerInfo:_,implementation:E}}var h=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,_){if(p==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Xt.createPortal=function(p,_){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return u(p,_,null,E)},Xt.flushSync=function(p){var _=h.T,E=i.p;try{if(h.T=null,i.p=2,p)return p()}finally{h.T=_,i.p=E,i.d.f()}},Xt.preconnect=function(p,_){typeof p=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,i.d.C(p,_))},Xt.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},Xt.preinit=function(p,_){if(typeof p=="string"&&_&&typeof _.as=="string"){var E=_.as,b=m(E,_.crossOrigin),w=typeof _.integrity=="string"?_.integrity:void 0,N=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;E==="style"?i.d.S(p,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:N}):E==="script"&&i.d.X(p,{crossOrigin:b,integrity:w,fetchPriority:N,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Xt.preinitModule=function(p,_){if(typeof p=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var E=m(_.as,_.crossOrigin);i.d.M(p,{crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&i.d.M(p)},Xt.preload=function(p,_){if(typeof p=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var E=_.as,b=m(E,_.crossOrigin);i.d.L(p,E,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Xt.preloadModule=function(p,_){if(typeof p=="string")if(_){var E=m(_.as,_.crossOrigin);i.d.m(p,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else i.d.m(p)},Xt.requestFormReset=function(p){i.d.r(p)},Xt.unstable_batchedUpdates=function(p,_){return p(_)},Xt.useFormState=function(p,_,E){return h.H.useFormState(p,_,E)},Xt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Xt.version="19.0.0",Xt}var jv;function gS(){if(jv)return _m.exports;jv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),_m.exports=mS(),_m.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dv;function pS(){if(Dv)return Fo;Dv=1;var s=fS(),e=cg(),t=gS();function i(n){var a="https://react.dev/errors/"+n;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)a+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+n+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}var u=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),N=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),$=Symbol.for("react.offscreen"),Z=Symbol.for("react.memo_cache_sentinel"),ee=Symbol.iterator;function ie(n){return n===null||typeof n!="object"?null:(n=ee&&n[ee]||n["@@iterator"],typeof n=="function"?n:null)}var O=Symbol.for("react.client.reference");function R(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===O?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case p:return"Fragment";case m:return"Portal";case E:return"Profiler";case _:return"StrictMode";case z:return"Suspense";case P:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case N:return(n.displayName||"Context")+".Provider";case w:return(n._context.displayName||"Context")+".Consumer";case j:var a=n.render;return n=n.displayName,n||(n=a.displayName||a.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case K:return a=n.displayName||null,a!==null?a:R(n.type)||"Memo";case H:a=n._payload,n=n._init;try{return R(n(a))}catch{}}return null}var A=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,C=Object.assign,D,U;function k(n){if(D===void 0)try{throw Error()}catch(r){var a=r.stack.trim().match(/\n( *(at )?)/);D=a&&a[1]||"",U=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+D+n+U}var je=!1;function Ve(n,a){if(!n||je)return"";je=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(a){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(X){var Y=X}Reflect.construct(n,[],ae)}else{try{ae.call()}catch(X){Y=X}n.call(ae.prototype)}}else{try{throw Error()}catch(X){Y=X}(ae=n())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(X){if(X&&Y&&typeof X.stack=="string")return[X.stack,Y.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=o.DetermineComponentFrameRoot(),x=g[0],T=g[1];if(x&&T){var I=x.split(`
`),q=T.split(`
`);for(f=o=0;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;for(;f<q.length&&!q[f].includes("DetermineComponentFrameRoot");)f++;if(o===I.length||f===q.length)for(o=I.length-1,f=q.length-1;1<=o&&0<=f&&I[o]!==q[f];)f--;for(;1<=o&&0<=f;o--,f--)if(I[o]!==q[f]){if(o!==1||f!==1)do if(o--,f--,0>f||I[o]!==q[f]){var J=`
`+I[o].replace(" at new "," at ");return n.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",n.displayName)),J}while(1<=o&&0<=f);break}}}finally{je=!1,Error.prepareStackTrace=r}return(r=n?n.displayName||n.name:"")?k(r):""}function le(n){switch(n.tag){case 26:case 27:case 5:return k(n.type);case 16:return k("Lazy");case 13:return k("Suspense");case 19:return k("SuspenseList");case 0:case 15:return n=Ve(n.type,!1),n;case 11:return n=Ve(n.type.render,!1),n;case 1:return n=Ve(n.type,!0),n;default:return""}}function ye(n){try{var a="";do a+=le(n),n=n.return;while(n);return a}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function pe(n){var a=n,r=n;if(n.alternate)for(;a.return;)a=a.return;else{n=a;do a=n,(a.flags&4098)!==0&&(r=a.return),n=a.return;while(n)}return a.tag===3?r:null}function me(n){if(n.tag===13){var a=n.memoizedState;if(a===null&&(n=n.alternate,n!==null&&(a=n.memoizedState)),a!==null)return a.dehydrated}return null}function V(n){if(pe(n)!==n)throw Error(i(188))}function re(n){var a=n.alternate;if(!a){if(a=pe(n),a===null)throw Error(i(188));return a!==n?null:n}for(var r=n,o=a;;){var f=r.return;if(f===null)break;var g=f.alternate;if(g===null){if(o=f.return,o!==null){r=o;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===r)return V(f),n;if(g===o)return V(f),a;g=g.sibling}throw Error(i(188))}if(r.return!==o.return)r=f,o=g;else{for(var x=!1,T=f.child;T;){if(T===r){x=!0,r=f,o=g;break}if(T===o){x=!0,o=f,r=g;break}T=T.sibling}if(!x){for(T=g.child;T;){if(T===r){x=!0,r=g,o=f;break}if(T===o){x=!0,o=g,r=f;break}T=T.sibling}if(!x)throw Error(i(189))}}if(r.alternate!==o)throw Error(i(190))}if(r.tag!==3)throw Error(i(188));return r.stateNode.current===r?n:a}function ge(n){var a=n.tag;if(a===5||a===26||a===27||a===6)return n;for(n=n.child;n!==null;){if(a=ge(n),a!==null)return a;n=n.sibling}return null}var ue=Array.isArray,ce=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ne={pending:!1,data:null,method:null,action:null},ke=[],vt=-1;function Ke(n){return{current:n}}function ht(n){0>vt||(n.current=ke[vt],ke[vt]=null,vt--)}function We(n,a){vt++,ke[vt]=n.current,n.current=a}var nn=Ke(null),Ns=Ke(null),Rn=Ke(null),ga=Ke(null);function pa(n,a){switch(We(Rn,a),We(Ns,n),We(nn,null),n=a.nodeType,n){case 9:case 11:a=(a=a.documentElement)&&(a=a.namespaceURI)?ev(a):0;break;default:if(n=n===8?a.parentNode:a,a=n.tagName,n=n.namespaceURI)n=ev(n),a=tv(n,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}ht(nn),We(nn,a)}function ks(){ht(nn),ht(Ns),ht(Rn)}function Pl(n){n.memoizedState!==null&&We(ga,n);var a=nn.current,r=tv(a,n.type);a!==r&&(We(Ns,n),We(nn,r))}function vr(n){Ns.current===n&&(ht(nn),ht(Ns)),ga.current===n&&(ht(ga),Uo._currentValue=Ne)}var xr=Object.prototype.hasOwnProperty,Ti=s.unstable_scheduleCallback,Er=s.unstable_cancelCallback,fd=s.unstable_shouldYield,Ul=s.unstable_requestPaint,hn=s.unstable_now,Iu=s.unstable_getCurrentPriorityLevel,wt=s.unstable_ImmediatePriority,Ot=s.unstable_UserBlockingPriority,Cs=s.unstable_NormalPriority,ju=s.unstable_LowPriority,Bl=s.unstable_IdlePriority,md=s.log,bi=s.unstable_setDisableYieldValue,_a=null,Yt=null;function Hl(n){if(Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(_a,n,void 0,(n.current.flags&128)===128)}catch{}}function as(n){if(typeof md=="function"&&bi(n),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode(_a,n)}catch{}}var sn=Math.clz32?Math.clz32:Ou,zl=Math.log,Du=Math.LN2;function Ou(n){return n>>>=0,n===0?32:31-(zl(n)/Du|0)|0}var is=128,ya=4194304;function Fn(n){var a=n&42;if(a!==0)return a;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Nn(n,a){var r=n.pendingLanes;if(r===0)return 0;var o=0,f=n.suspendedLanes,g=n.pingedLanes,x=n.warmLanes;n=n.finishedLanes!==0;var T=r&134217727;return T!==0?(r=T&~f,r!==0?o=Fn(r):(g&=T,g!==0?o=Fn(g):n||(x=T&~x,x!==0&&(o=Fn(x))))):(T=r&~f,T!==0?o=Fn(T):g!==0?o=Fn(g):n||(x=r&~x,x!==0&&(o=Fn(x)))),o===0?0:a!==0&&a!==o&&(a&f)===0&&(f=o&-o,x=a&-a,f>=x||f===32&&(x&4194176)!==0)?a:o}function va(n,a){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&a)===0}function Tr(n,a){switch(n){case 1:case 2:case 4:case 8:return a+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ql(){var n=is;return is<<=1,(is&4194176)===0&&(is=128),n}function xa(){var n=ya;return ya<<=1,(ya&62914560)===0&&(ya=4194304),n}function br(n){for(var a=[],r=0;31>r;r++)a.push(n);return a}function pt(n,a){n.pendingLanes|=a,a!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Mu(n,a,r,o,f,g){var x=n.pendingLanes;n.pendingLanes=r,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=r,n.entangledLanes&=r,n.errorRecoveryDisabledLanes&=r,n.shellSuspendCounter=0;var T=n.entanglements,I=n.expirationTimes,q=n.hiddenUpdates;for(r=x&~r;0<r;){var J=31-sn(r),ae=1<<J;T[J]=0,I[J]=-1;var Y=q[J];if(Y!==null)for(q[J]=null,J=0;J<Y.length;J++){var X=Y[J];X!==null&&(X.lane&=-536870913)}r&=~ae}o!==0&&Ea(n,o,0),g!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=g&~(x&~a))}function Ea(n,a,r){n.pendingLanes|=a,n.suspendedLanes&=~a;var o=31-sn(a);n.entangledLanes|=a,n.entanglements[o]=n.entanglements[o]|1073741824|r&4194218}function Ta(n,a){var r=n.entangledLanes|=a;for(n=n.entanglements;r;){var o=31-sn(r),f=1<<o;f&a|n[o]&a&&(n[o]|=a),r&=~f}}function Lu(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Vu(){var n=ce.p;return n!==0?n:(n=window.event,n===void 0?32:vv(n.type))}function ba(n,a){var r=ce.p;try{return ce.p=n,a()}finally{ce.p=r}}var rs=Math.random().toString(36).slice(2),Mt="__reactFiber$"+rs,Rt="__reactProps$"+rs,Is="__reactContainer$"+rs,Ai="__reactEvents$"+rs,Ar="__reactListeners$"+rs,ls="__reactHandles$"+rs,Kl="__reactResources$"+rs,Aa="__reactMarker$"+rs;function Si(n){delete n[Mt],delete n[Rt],delete n[Ai],delete n[Ar],delete n[ls]}function Gn(n){var a=n[Mt];if(a)return a;for(var r=n.parentNode;r;){if(a=r[Is]||r[Mt]){if(r=a.alternate,a.child!==null||r!==null&&r.child!==null)for(n=av(n);n!==null;){if(r=n[Mt])return r;n=av(n)}return a}n=r,r=n.parentNode}return null}function js(n){if(n=n[Mt]||n[Is]){var a=n.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return n}return null}function Sa(n){var a=n.tag;if(a===5||a===26||a===27||a===6)return n.stateNode;throw Error(i(33))}function wa(n){var a=n[Kl];return a||(a=n[Kl]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function rt(n){n[Aa]=!0}var Fl=new Set,Sr={};function _n(n,a){dn(n,a),dn(n+"Capture",a)}function dn(n,a){for(Sr[n]=a,n=0;n<a.length;n++)Fl.add(a[n])}var yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gd=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Gl={},$l={};function Pu(n){return xr.call($l,n)?!0:xr.call(Gl,n)?!1:gd.test(n)?$l[n]=!0:(Gl[n]=!0,!1)}function Ra(n,a,r){if(Pu(a))if(r===null)n.removeAttribute(a);else{switch(typeof r){case"undefined":case"function":case"symbol":n.removeAttribute(a);return;case"boolean":var o=a.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){n.removeAttribute(a);return}}n.setAttribute(a,""+r)}}function Na(n,a,r){if(r===null)n.removeAttribute(a);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttribute(a,""+r)}}function kn(n,a,r,o){if(o===null)n.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttributeNS(a,r,""+o)}}function an(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Uu(n){var a=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function pd(n){var a=Uu(n)?"checked":"value",r=Object.getOwnPropertyDescriptor(n.constructor.prototype,a),o=""+n[a];if(!n.hasOwnProperty(a)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var f=r.get,g=r.set;return Object.defineProperty(n,a,{configurable:!0,get:function(){return f.call(this)},set:function(x){o=""+x,g.call(this,x)}}),Object.defineProperty(n,a,{enumerable:r.enumerable}),{getValue:function(){return o},setValue:function(x){o=""+x},stopTracking:function(){n._valueTracker=null,delete n[a]}}}}function wi(n){n._valueTracker||(n._valueTracker=pd(n))}function Ql(n){if(!n)return!1;var a=n._valueTracker;if(!a)return!0;var r=a.getValue(),o="";return n&&(o=Uu(n)?n.checked?"true":"false":n.value),n=o,n!==r?(a.setValue(n),!0):!1}function wr(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Ds=/[\n"\\]/g;function dt(n){return n.replace(Ds,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function ka(n,a,r,o,f,g,x,T){n.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?n.type=x:n.removeAttribute("type"),a!=null?x==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+an(a)):n.value!==""+an(a)&&(n.value=""+an(a)):x!=="submit"&&x!=="reset"||n.removeAttribute("value"),a!=null?Rr(n,x,an(a)):r!=null?Rr(n,x,an(r)):o!=null&&n.removeAttribute("value"),f==null&&g!=null&&(n.defaultChecked=!!g),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.name=""+an(T):n.removeAttribute("name")}function Ri(n,a,r,o,f,g,x,T){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(n.type=g),a!=null||r!=null){if(!(g!=="submit"&&g!=="reset"||a!=null))return;r=r!=null?""+an(r):"",a=a!=null?""+an(a):r,T||a===n.value||(n.value=a),n.defaultValue=a}o=o??f,o=typeof o!="function"&&typeof o!="symbol"&&!!o,n.checked=T?n.checked:!!o,n.defaultChecked=!!o,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(n.name=x)}function Rr(n,a,r){a==="number"&&wr(n.ownerDocument)===n||n.defaultValue===""+r||(n.defaultValue=""+r)}function Fe(n,a,r,o){if(n=n.options,a){a={};for(var f=0;f<r.length;f++)a["$"+r[f]]=!0;for(r=0;r<n.length;r++)f=a.hasOwnProperty("$"+n[r].value),n[r].selected!==f&&(n[r].selected=f),f&&o&&(n[r].defaultSelected=!0)}else{for(r=""+an(r),a=null,f=0;f<n.length;f++){if(n[f].value===r){n[f].selected=!0,o&&(n[f].defaultSelected=!0);return}a!==null||n[f].disabled||(a=n[f])}a!==null&&(a.selected=!0)}}function Ni(n,a,r){if(a!=null&&(a=""+an(a),a!==n.value&&(n.value=a),r==null)){n.defaultValue!==a&&(n.defaultValue=a);return}n.defaultValue=r!=null?""+an(r):""}function Ca(n,a,r,o){if(a==null){if(o!=null){if(r!=null)throw Error(i(92));if(ue(o)){if(1<o.length)throw Error(i(93));o=o[0]}r=o}r==null&&(r=""),a=r}r=an(a),n.defaultValue=r,o=n.textContent,o===r&&o!==""&&o!==null&&(n.value=o)}function Cn(n,a){if(a){var r=n.firstChild;if(r&&r===n.lastChild&&r.nodeType===3){r.nodeValue=a;return}}n.textContent=a}var _d=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Yl(n,a,r){var o=a.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?n.setProperty(a,""):a==="float"?n.cssFloat="":n[a]="":o?n.setProperty(a,r):typeof r!="number"||r===0||_d.has(a)?a==="float"?n.cssFloat=r:n[a]=(""+r).trim():n[a]=r+"px"}function Bu(n,a,r){if(a!=null&&typeof a!="object")throw Error(i(62));if(n=n.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||a!=null&&a.hasOwnProperty(o)||(o.indexOf("--")===0?n.setProperty(o,""):o==="float"?n.cssFloat="":n[o]="");for(var f in a)o=a[f],a.hasOwnProperty(f)&&r[f]!==o&&Yl(n,f,o)}else for(var g in a)a.hasOwnProperty(g)&&Yl(n,g,a[g])}function Wl(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function os(n){return vd.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var In=null;function Nr(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Os=null,Ms=null;function Ls(n){var a=js(n);if(a&&(n=a.stateNode)){var r=n[Rt]||null;e:switch(n=a.stateNode,a.type){case"input":if(ka(n,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),a=r.name,r.type==="radio"&&a!=null){for(r=n;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+dt(""+a)+'"][type="radio"]'),a=0;a<r.length;a++){var o=r[a];if(o!==n&&o.form===n.form){var f=o[Rt]||null;if(!f)throw Error(i(90));ka(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(a=0;a<r.length;a++)o=r[a],o.form===n.form&&Ql(o)}break e;case"textarea":Ni(n,r.value,r.defaultValue);break e;case"select":a=r.value,a!=null&&Fe(n,!!r.multiple,a,!1)}}}var Xl=!1;function Hu(n,a,r){if(Xl)return n(a,r);Xl=!0;try{var o=n(a);return o}finally{if(Xl=!1,(Os!==null||Ms!==null)&&(jc(),Os&&(a=Os,n=Ms,Ms=Os=null,Ls(a),n)))for(a=0;a<n.length;a++)Ls(n[a])}}function ki(n,a){var r=n.stateNode;if(r===null)return null;var o=r[Rt]||null;if(o===null)return null;r=o[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(n=n.type,o=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!o;break e;default:n=!1}if(n)return null;if(r&&typeof r!="function")throw Error(i(231,a,typeof r));return r}var jn=!1;if(yn)try{var Ci={};Object.defineProperty(Ci,"passive",{get:function(){jn=!0}}),window.addEventListener("test",Ci,Ci),window.removeEventListener("test",Ci,Ci)}catch{jn=!1}var us=null,Ia=null,Vs=null;function Zl(){if(Vs)return Vs;var n,a=Ia,r=a.length,o,f="value"in us?us.value:us.textContent,g=f.length;for(n=0;n<r&&a[n]===f[n];n++);var x=r-n;for(o=1;o<=x&&a[r-o]===f[g-o];o++);return Vs=f.slice(n,1<o?1-o:void 0)}function cs(n){var a=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&a===13&&(n=13)):n=a,n===10&&(n=13),32<=n||n===13?n:0}function hs(){return!0}function Jl(){return!1}function Lt(n){function a(r,o,f,g,x){this._reactName=r,this._targetInst=f,this.type=o,this.nativeEvent=g,this.target=x,this.currentTarget=null;for(var T in n)n.hasOwnProperty(T)&&(r=n[T],this[T]=r?r(g):g[T]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?hs:Jl,this.isPropagationStopped=Jl,this}return C(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=hs)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=hs)},persist:function(){},isPersistent:hs}),a}var Qe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kr=Lt(Qe),Ii=C({},Qe,{view:0,detail:0}),zu=Lt(Ii),Cr,Ir,ds,ji=C({},Ii,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mi,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==ds&&(ds&&n.type==="mousemove"?(Cr=n.screenX-ds.screenX,Ir=n.screenY-ds.screenY):Ir=Cr=0,ds=n),Cr)},movementY:function(n){return"movementY"in n?n.movementY:Ir}}),Dn=Lt(ji),qu=C({},ji,{dataTransfer:0}),xd=Lt(qu),Di=C({},Ii,{relatedTarget:0}),jr=Lt(Di),eo=C({},Qe,{animationName:0,elapsedTime:0,pseudoElement:0}),Dr=Lt(eo),Ku=C({},Qe,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Or=Lt(Ku),Ed=C({},Qe,{data:0}),to=Lt(Ed),Oi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function no(n){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(n):(n=Gu[n])?!!a[n]:!1}function Mi(){return no}var $u=C({},Ii,{key:function(n){if(n.key){var a=Oi[n.key]||n.key;if(a!=="Unidentified")return a}return n.type==="keypress"?(n=cs(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Fu[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mi,charCode:function(n){return n.type==="keypress"?cs(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?cs(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Mr=Lt($u),Qu=C({},ji,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),so=Lt(Qu),Ps=C({},Ii,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mi}),Yu=Lt(Ps),Wu=C({},Qe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xu=Lt(Wu),Zu=C({},ji,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Lr=Lt(Zu),rn=C({},Qe,{newState:0,oldState:0}),Ju=Lt(rn),ec=[9,13,27,32],fs=yn&&"CompositionEvent"in window,c=null;yn&&"documentMode"in document&&(c=document.documentMode);var y=yn&&"TextEvent"in window&&!c,v=yn&&(!fs||c&&8<c&&11>=c),S=" ",G=!1;function W(n,a){switch(n){case"keyup":return ec.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oe(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Be=!1;function Nt(n,a){switch(n){case"compositionend":return oe(a);case"keypress":return a.which!==32?null:(G=!0,S);case"textInput":return n=a.data,n===S&&G?null:n;default:return null}}function He(n,a){if(Be)return n==="compositionend"||!fs&&W(n,a)?(n=Zl(),Vs=Ia=us=null,Be=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return v&&a.locale!=="ko"?null:a.data;default:return null}}var Vt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kt(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a==="input"?!!Vt[n.type]:a==="textarea"}function Us(n,a,r,o){Os?Ms?Ms.push(o):Ms=[o]:Os=o,a=Vc(a,"onChange"),0<a.length&&(r=new kr("onChange","change",null,r,o),n.push({event:r,listeners:a}))}var zt=null,ms=null;function ao(n){Yy(n,0)}function tc(n){var a=Sa(n);if(Ql(a))return n}function Ap(n,a){if(n==="change")return a}var Sp=!1;if(yn){var Td;if(yn){var bd="oninput"in document;if(!bd){var wp=document.createElement("div");wp.setAttribute("oninput","return;"),bd=typeof wp.oninput=="function"}Td=bd}else Td=!1;Sp=Td&&(!document.documentMode||9<document.documentMode)}function Rp(){zt&&(zt.detachEvent("onpropertychange",Np),ms=zt=null)}function Np(n){if(n.propertyName==="value"&&tc(ms)){var a=[];Us(a,ms,n,Nr(n)),Hu(ao,a)}}function Pb(n,a,r){n==="focusin"?(Rp(),zt=a,ms=r,zt.attachEvent("onpropertychange",Np)):n==="focusout"&&Rp()}function Ub(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return tc(ms)}function Bb(n,a){if(n==="click")return tc(a)}function Hb(n,a){if(n==="input"||n==="change")return tc(a)}function zb(n,a){return n===a&&(n!==0||1/n===1/a)||n!==n&&a!==a}var vn=typeof Object.is=="function"?Object.is:zb;function io(n,a){if(vn(n,a))return!0;if(typeof n!="object"||n===null||typeof a!="object"||a===null)return!1;var r=Object.keys(n),o=Object.keys(a);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var f=r[o];if(!xr.call(a,f)||!vn(n[f],a[f]))return!1}return!0}function kp(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Cp(n,a){var r=kp(n);n=0;for(var o;r;){if(r.nodeType===3){if(o=n+r.textContent.length,n<=a&&o>=a)return{node:r,offset:a-n};n=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=kp(r)}}function Ip(n,a){return n&&a?n===a?!0:n&&n.nodeType===3?!1:a&&a.nodeType===3?Ip(n,a.parentNode):"contains"in n?n.contains(a):n.compareDocumentPosition?!!(n.compareDocumentPosition(a)&16):!1:!1}function jp(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var a=wr(n.document);a instanceof n.HTMLIFrameElement;){try{var r=typeof a.contentWindow.location.href=="string"}catch{r=!1}if(r)n=a.contentWindow;else break;a=wr(n.document)}return a}function Ad(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a&&(a==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||a==="textarea"||n.contentEditable==="true")}function qb(n,a){var r=jp(a);a=n.focusedElem;var o=n.selectionRange;if(r!==a&&a&&a.ownerDocument&&Ip(a.ownerDocument.documentElement,a)){if(o!==null&&Ad(a)){if(n=o.start,r=o.end,r===void 0&&(r=n),"selectionStart"in a)a.selectionStart=n,a.selectionEnd=Math.min(r,a.value.length);else if(r=(n=a.ownerDocument||document)&&n.defaultView||window,r.getSelection){r=r.getSelection();var f=a.textContent.length,g=Math.min(o.start,f);o=o.end===void 0?g:Math.min(o.end,f),!r.extend&&g>o&&(f=o,o=g,g=f),f=Cp(a,g);var x=Cp(a,o);f&&x&&(r.rangeCount!==1||r.anchorNode!==f.node||r.anchorOffset!==f.offset||r.focusNode!==x.node||r.focusOffset!==x.offset)&&(n=n.createRange(),n.setStart(f.node,f.offset),r.removeAllRanges(),g>o?(r.addRange(n),r.extend(x.node,x.offset)):(n.setEnd(x.node,x.offset),r.addRange(n)))}}for(n=[],r=a;r=r.parentNode;)r.nodeType===1&&n.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<n.length;a++)r=n[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var Kb=yn&&"documentMode"in document&&11>=document.documentMode,Vr=null,Sd=null,ro=null,wd=!1;function Dp(n,a,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;wd||Vr==null||Vr!==wr(o)||(o=Vr,"selectionStart"in o&&Ad(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),ro&&io(ro,o)||(ro=o,o=Vc(Sd,"onSelect"),0<o.length&&(a=new kr("onSelect","select",null,a,r),n.push({event:a,listeners:o}),a.target=Vr)))}function Li(n,a){var r={};return r[n.toLowerCase()]=a.toLowerCase(),r["Webkit"+n]="webkit"+a,r["Moz"+n]="moz"+a,r}var Pr={animationend:Li("Animation","AnimationEnd"),animationiteration:Li("Animation","AnimationIteration"),animationstart:Li("Animation","AnimationStart"),transitionrun:Li("Transition","TransitionRun"),transitionstart:Li("Transition","TransitionStart"),transitioncancel:Li("Transition","TransitionCancel"),transitionend:Li("Transition","TransitionEnd")},Rd={},Op={};yn&&(Op=document.createElement("div").style,"AnimationEvent"in window||(delete Pr.animationend.animation,delete Pr.animationiteration.animation,delete Pr.animationstart.animation),"TransitionEvent"in window||delete Pr.transitionend.transition);function Vi(n){if(Rd[n])return Rd[n];if(!Pr[n])return n;var a=Pr[n],r;for(r in a)if(a.hasOwnProperty(r)&&r in Op)return Rd[n]=a[r];return n}var Mp=Vi("animationend"),Lp=Vi("animationiteration"),Vp=Vi("animationstart"),Fb=Vi("transitionrun"),Gb=Vi("transitionstart"),$b=Vi("transitioncancel"),Pp=Vi("transitionend"),Up=new Map,Bp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function $n(n,a){Up.set(n,a),_n(a,[n])}var On=[],Ur=0,Nd=0;function nc(){for(var n=Ur,a=Nd=Ur=0;a<n;){var r=On[a];On[a++]=null;var o=On[a];On[a++]=null;var f=On[a];On[a++]=null;var g=On[a];if(On[a++]=null,o!==null&&f!==null){var x=o.pending;x===null?f.next=f:(f.next=x.next,x.next=f),o.pending=f}g!==0&&Hp(r,f,g)}}function sc(n,a,r,o){On[Ur++]=n,On[Ur++]=a,On[Ur++]=r,On[Ur++]=o,Nd|=o,n.lanes|=o,n=n.alternate,n!==null&&(n.lanes|=o)}function kd(n,a,r,o){return sc(n,a,r,o),ac(n)}function ja(n,a){return sc(n,null,null,a),ac(n)}function Hp(n,a,r){n.lanes|=r;var o=n.alternate;o!==null&&(o.lanes|=r);for(var f=!1,g=n.return;g!==null;)g.childLanes|=r,o=g.alternate,o!==null&&(o.childLanes|=r),g.tag===22&&(n=g.stateNode,n===null||n._visibility&1||(f=!0)),n=g,g=g.return;f&&a!==null&&n.tag===3&&(g=n.stateNode,f=31-sn(r),g=g.hiddenUpdates,n=g[f],n===null?g[f]=[a]:n.push(a),a.lane=r|536870912)}function ac(n){if(50<jo)throw jo=0,Lf=null,Error(i(185));for(var a=n.return;a!==null;)n=a,a=n.return;return n.tag===3?n.stateNode:null}var Br={},zp=new WeakMap;function Mn(n,a){if(typeof n=="object"&&n!==null){var r=zp.get(n);return r!==void 0?r:(a={value:n,source:a,stack:ye(a)},zp.set(n,a),a)}return{value:n,source:a,stack:ye(a)}}var Hr=[],zr=0,ic=null,rc=0,Ln=[],Vn=0,Pi=null,Bs=1,Hs="";function Ui(n,a){Hr[zr++]=rc,Hr[zr++]=ic,ic=n,rc=a}function qp(n,a,r){Ln[Vn++]=Bs,Ln[Vn++]=Hs,Ln[Vn++]=Pi,Pi=n;var o=Bs;n=Hs;var f=32-sn(o)-1;o&=~(1<<f),r+=1;var g=32-sn(a)+f;if(30<g){var x=f-f%5;g=(o&(1<<x)-1).toString(32),o>>=x,f-=x,Bs=1<<32-sn(a)+f|r<<f|o,Hs=g+n}else Bs=1<<g|r<<f|o,Hs=n}function Cd(n){n.return!==null&&(Ui(n,1),qp(n,1,0))}function Id(n){for(;n===ic;)ic=Hr[--zr],Hr[zr]=null,rc=Hr[--zr],Hr[zr]=null;for(;n===Pi;)Pi=Ln[--Vn],Ln[Vn]=null,Hs=Ln[--Vn],Ln[Vn]=null,Bs=Ln[--Vn],Ln[Vn]=null}var ln=null,qt=null,Ge=!1,Qn=null,gs=!1,jd=Error(i(519));function Bi(n){var a=Error(i(418,""));throw uo(Mn(a,n)),jd}function Kp(n){var a=n.stateNode,r=n.type,o=n.memoizedProps;switch(a[Mt]=n,a[Rt]=o,r){case"dialog":Pe("cancel",a),Pe("close",a);break;case"iframe":case"object":case"embed":Pe("load",a);break;case"video":case"audio":for(r=0;r<Oo.length;r++)Pe(Oo[r],a);break;case"source":Pe("error",a);break;case"img":case"image":case"link":Pe("error",a),Pe("load",a);break;case"details":Pe("toggle",a);break;case"input":Pe("invalid",a),Ri(a,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),wi(a);break;case"select":Pe("invalid",a);break;case"textarea":Pe("invalid",a),Ca(a,o.value,o.defaultValue,o.children),wi(a)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||a.textContent===""+r||o.suppressHydrationWarning===!0||Jy(a.textContent,r)?(o.popover!=null&&(Pe("beforetoggle",a),Pe("toggle",a)),o.onScroll!=null&&Pe("scroll",a),o.onScrollEnd!=null&&Pe("scrollend",a),o.onClick!=null&&(a.onclick=Pc),a=!0):a=!1,a||Bi(n)}function Fp(n){for(ln=n.return;ln;)switch(ln.tag){case 3:case 27:gs=!0;return;case 5:case 13:gs=!1;return;default:ln=ln.return}}function lo(n){if(n!==ln)return!1;if(!Ge)return Fp(n),Ge=!0,!1;var a=!1,r;if((r=n.tag!==3&&n.tag!==27)&&((r=n.tag===5)&&(r=n.type,r=!(r!=="form"&&r!=="button")||Jf(n.type,n.memoizedProps)),r=!r),r&&(a=!0),a&&qt&&Bi(n),Fp(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));e:{for(n=n.nextSibling,a=0;n;){if(n.nodeType===8)if(r=n.data,r==="/$"){if(a===0){qt=Wn(n.nextSibling);break e}a--}else r!=="$"&&r!=="$!"&&r!=="$?"||a++;n=n.nextSibling}qt=null}}else qt=ln?Wn(n.stateNode.nextSibling):null;return!0}function oo(){qt=ln=null,Ge=!1}function uo(n){Qn===null?Qn=[n]:Qn.push(n)}var co=Error(i(460)),Gp=Error(i(474)),Dd={then:function(){}};function $p(n){return n=n.status,n==="fulfilled"||n==="rejected"}function lc(){}function Qp(n,a,r){switch(r=n[r],r===void 0?n.push(a):r!==a&&(a.then(lc,lc),a=r),a.status){case"fulfilled":return a.value;case"rejected":throw n=a.reason,n===co?Error(i(483)):n;default:if(typeof a.status=="string")a.then(lc,lc);else{if(n=et,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=a,n.status="pending",n.then(function(o){if(a.status==="pending"){var f=a;f.status="fulfilled",f.value=o}},function(o){if(a.status==="pending"){var f=a;f.status="rejected",f.reason=o}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw n=a.reason,n===co?Error(i(483)):n}throw ho=a,co}}var ho=null;function Yp(){if(ho===null)throw Error(i(459));var n=ho;return ho=null,n}var qr=null,fo=0;function oc(n){var a=fo;return fo+=1,qr===null&&(qr=[]),Qp(qr,n,a)}function mo(n,a){a=a.props.ref,n.ref=a!==void 0?a:null}function uc(n,a){throw a.$$typeof===u?Error(i(525)):(n=Object.prototype.toString.call(a),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":n)))}function Wp(n){var a=n._init;return a(n._payload)}function Xp(n){function a(F,B){if(n){var Q=F.deletions;Q===null?(F.deletions=[B],F.flags|=16):Q.push(B)}}function r(F,B){if(!n)return null;for(;B!==null;)a(F,B),B=B.sibling;return null}function o(F){for(var B=new Map;F!==null;)F.key!==null?B.set(F.key,F):B.set(F.index,F),F=F.sibling;return B}function f(F,B){return F=Ka(F,B),F.index=0,F.sibling=null,F}function g(F,B,Q){return F.index=Q,n?(Q=F.alternate,Q!==null?(Q=Q.index,Q<B?(F.flags|=33554434,B):Q):(F.flags|=33554434,B)):(F.flags|=1048576,B)}function x(F){return n&&F.alternate===null&&(F.flags|=33554434),F}function T(F,B,Q,te){return B===null||B.tag!==6?(B=Nf(Q,F.mode,te),B.return=F,B):(B=f(B,Q),B.return=F,B)}function I(F,B,Q,te){var fe=Q.type;return fe===p?J(F,B,Q.props.children,te,Q.key):B!==null&&(B.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===H&&Wp(fe)===B.type)?(B=f(B,Q.props),mo(B,Q),B.return=F,B):(B=Rc(Q.type,Q.key,Q.props,null,F.mode,te),mo(B,Q),B.return=F,B)}function q(F,B,Q,te){return B===null||B.tag!==4||B.stateNode.containerInfo!==Q.containerInfo||B.stateNode.implementation!==Q.implementation?(B=kf(Q,F.mode,te),B.return=F,B):(B=f(B,Q.children||[]),B.return=F,B)}function J(F,B,Q,te,fe){return B===null||B.tag!==7?(B=Wi(Q,F.mode,te,fe),B.return=F,B):(B=f(B,Q),B.return=F,B)}function ae(F,B,Q){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=Nf(""+B,F.mode,Q),B.return=F,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case h:return Q=Rc(B.type,B.key,B.props,null,F.mode,Q),mo(Q,B),Q.return=F,Q;case m:return B=kf(B,F.mode,Q),B.return=F,B;case H:var te=B._init;return B=te(B._payload),ae(F,B,Q)}if(ue(B)||ie(B))return B=Wi(B,F.mode,Q,null),B.return=F,B;if(typeof B.then=="function")return ae(F,oc(B),Q);if(B.$$typeof===N)return ae(F,Ac(F,B),Q);uc(F,B)}return null}function Y(F,B,Q,te){var fe=B!==null?B.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return fe!==null?null:T(F,B,""+Q,te);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case h:return Q.key===fe?I(F,B,Q,te):null;case m:return Q.key===fe?q(F,B,Q,te):null;case H:return fe=Q._init,Q=fe(Q._payload),Y(F,B,Q,te)}if(ue(Q)||ie(Q))return fe!==null?null:J(F,B,Q,te,null);if(typeof Q.then=="function")return Y(F,B,oc(Q),te);if(Q.$$typeof===N)return Y(F,B,Ac(F,Q),te);uc(F,Q)}return null}function X(F,B,Q,te,fe){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return F=F.get(Q)||null,T(B,F,""+te,fe);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case h:return F=F.get(te.key===null?Q:te.key)||null,I(B,F,te,fe);case m:return F=F.get(te.key===null?Q:te.key)||null,q(B,F,te,fe);case H:var De=te._init;return te=De(te._payload),X(F,B,Q,te,fe)}if(ue(te)||ie(te))return F=F.get(Q)||null,J(B,F,te,fe,null);if(typeof te.then=="function")return X(F,B,Q,oc(te),fe);if(te.$$typeof===N)return X(F,B,Q,Ac(B,te),fe);uc(B,te)}return null}function _e(F,B,Q,te){for(var fe=null,De=null,ve=B,Ee=B=0,Bt=null;ve!==null&&Ee<Q.length;Ee++){ve.index>Ee?(Bt=ve,ve=null):Bt=ve.sibling;var $e=Y(F,ve,Q[Ee],te);if($e===null){ve===null&&(ve=Bt);break}n&&ve&&$e.alternate===null&&a(F,ve),B=g($e,B,Ee),De===null?fe=$e:De.sibling=$e,De=$e,ve=Bt}if(Ee===Q.length)return r(F,ve),Ge&&Ui(F,Ee),fe;if(ve===null){for(;Ee<Q.length;Ee++)ve=ae(F,Q[Ee],te),ve!==null&&(B=g(ve,B,Ee),De===null?fe=ve:De.sibling=ve,De=ve);return Ge&&Ui(F,Ee),fe}for(ve=o(ve);Ee<Q.length;Ee++)Bt=X(ve,F,Ee,Q[Ee],te),Bt!==null&&(n&&Bt.alternate!==null&&ve.delete(Bt.key===null?Ee:Bt.key),B=g(Bt,B,Ee),De===null?fe=Bt:De.sibling=Bt,De=Bt);return n&&ve.forEach(function(Xa){return a(F,Xa)}),Ge&&Ui(F,Ee),fe}function we(F,B,Q,te){if(Q==null)throw Error(i(151));for(var fe=null,De=null,ve=B,Ee=B=0,Bt=null,$e=Q.next();ve!==null&&!$e.done;Ee++,$e=Q.next()){ve.index>Ee?(Bt=ve,ve=null):Bt=ve.sibling;var Xa=Y(F,ve,$e.value,te);if(Xa===null){ve===null&&(ve=Bt);break}n&&ve&&Xa.alternate===null&&a(F,ve),B=g(Xa,B,Ee),De===null?fe=Xa:De.sibling=Xa,De=Xa,ve=Bt}if($e.done)return r(F,ve),Ge&&Ui(F,Ee),fe;if(ve===null){for(;!$e.done;Ee++,$e=Q.next())$e=ae(F,$e.value,te),$e!==null&&(B=g($e,B,Ee),De===null?fe=$e:De.sibling=$e,De=$e);return Ge&&Ui(F,Ee),fe}for(ve=o(ve);!$e.done;Ee++,$e=Q.next())$e=X(ve,F,Ee,$e.value,te),$e!==null&&(n&&$e.alternate!==null&&ve.delete($e.key===null?Ee:$e.key),B=g($e,B,Ee),De===null?fe=$e:De.sibling=$e,De=$e);return n&&ve.forEach(function(lS){return a(F,lS)}),Ge&&Ui(F,Ee),fe}function gt(F,B,Q,te){if(typeof Q=="object"&&Q!==null&&Q.type===p&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case h:e:{for(var fe=Q.key;B!==null;){if(B.key===fe){if(fe=Q.type,fe===p){if(B.tag===7){r(F,B.sibling),te=f(B,Q.props.children),te.return=F,F=te;break e}}else if(B.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===H&&Wp(fe)===B.type){r(F,B.sibling),te=f(B,Q.props),mo(te,Q),te.return=F,F=te;break e}r(F,B);break}else a(F,B);B=B.sibling}Q.type===p?(te=Wi(Q.props.children,F.mode,te,Q.key),te.return=F,F=te):(te=Rc(Q.type,Q.key,Q.props,null,F.mode,te),mo(te,Q),te.return=F,F=te)}return x(F);case m:e:{for(fe=Q.key;B!==null;){if(B.key===fe)if(B.tag===4&&B.stateNode.containerInfo===Q.containerInfo&&B.stateNode.implementation===Q.implementation){r(F,B.sibling),te=f(B,Q.children||[]),te.return=F,F=te;break e}else{r(F,B);break}else a(F,B);B=B.sibling}te=kf(Q,F.mode,te),te.return=F,F=te}return x(F);case H:return fe=Q._init,Q=fe(Q._payload),gt(F,B,Q,te)}if(ue(Q))return _e(F,B,Q,te);if(ie(Q)){if(fe=ie(Q),typeof fe!="function")throw Error(i(150));return Q=fe.call(Q),we(F,B,Q,te)}if(typeof Q.then=="function")return gt(F,B,oc(Q),te);if(Q.$$typeof===N)return gt(F,B,Ac(F,Q),te);uc(F,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,B!==null&&B.tag===6?(r(F,B.sibling),te=f(B,Q),te.return=F,F=te):(r(F,B),te=Nf(Q,F.mode,te),te.return=F,F=te),x(F)):r(F,B)}return function(F,B,Q,te){try{fo=0;var fe=gt(F,B,Q,te);return qr=null,fe}catch(ve){if(ve===co)throw ve;var De=Hn(29,ve,null,F.mode);return De.lanes=te,De.return=F,De}finally{}}}var Hi=Xp(!0),Zp=Xp(!1),Kr=Ke(null),cc=Ke(0);function Jp(n,a){n=Zs,We(cc,n),We(Kr,a),Zs=n|a.baseLanes}function Od(){We(cc,Zs),We(Kr,Kr.current)}function Md(){Zs=cc.current,ht(Kr),ht(cc)}var Pn=Ke(null),ps=null;function Da(n){var a=n.alternate;We(Ct,Ct.current&1),We(Pn,n),ps===null&&(a===null||Kr.current!==null||a.memoizedState!==null)&&(ps=n)}function e_(n){if(n.tag===22){if(We(Ct,Ct.current),We(Pn,n),ps===null){var a=n.alternate;a!==null&&a.memoizedState!==null&&(ps=n)}}else Oa()}function Oa(){We(Ct,Ct.current),We(Pn,Pn.current)}function zs(n){ht(Pn),ps===n&&(ps=null),ht(Ct)}var Ct=Ke(0);function hc(n){for(var a=n;a!==null;){if(a.tag===13){var r=a.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Qb=typeof AbortController<"u"?AbortController:function(){var n=[],a=this.signal={aborted:!1,addEventListener:function(r,o){n.push(o)}};this.abort=function(){a.aborted=!0,n.forEach(function(r){return r()})}},Yb=s.unstable_scheduleCallback,Wb=s.unstable_NormalPriority,It={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ld(){return{controller:new Qb,data:new Map,refCount:0}}function go(n){n.refCount--,n.refCount===0&&Yb(Wb,function(){n.controller.abort()})}var po=null,Vd=0,Fr=0,Gr=null;function Xb(n,a){if(po===null){var r=po=[];Vd=0,Fr=Kf(),Gr={status:"pending",value:void 0,then:function(o){r.push(o)}}}return Vd++,a.then(t_,t_),a}function t_(){if(--Vd===0&&po!==null){Gr!==null&&(Gr.status="fulfilled");var n=po;po=null,Fr=0,Gr=null;for(var a=0;a<n.length;a++)(0,n[a])()}}function Zb(n,a){var r=[],o={status:"pending",value:null,reason:null,then:function(f){r.push(f)}};return n.then(function(){o.status="fulfilled",o.value=a;for(var f=0;f<r.length;f++)(0,r[f])(a)},function(f){for(o.status="rejected",o.reason=f,f=0;f<r.length;f++)(0,r[f])(void 0)}),o}var n_=A.S;A.S=function(n,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&Xb(n,a),n_!==null&&n_(n,a)};var zi=Ke(null);function Pd(){var n=zi.current;return n!==null?n:et.pooledCache}function dc(n,a){a===null?We(zi,zi.current):We(zi,a.pool)}function s_(){var n=Pd();return n===null?null:{parent:It._currentValue,pool:n}}var Ma=0,Ie=null,Xe=null,xt=null,fc=!1,$r=!1,qi=!1,mc=0,_o=0,Qr=null,Jb=0;function _t(){throw Error(i(321))}function Ud(n,a){if(a===null)return!1;for(var r=0;r<a.length&&r<n.length;r++)if(!vn(n[r],a[r]))return!1;return!0}function Bd(n,a,r,o,f,g){return Ma=g,Ie=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,A.H=n===null||n.memoizedState===null?Ki:La,qi=!1,g=r(o,f),qi=!1,$r&&(g=i_(a,r,o,f)),a_(n),g}function a_(n){A.H=_s;var a=Xe!==null&&Xe.next!==null;if(Ma=0,xt=Xe=Ie=null,fc=!1,_o=0,Qr=null,a)throw Error(i(300));n===null||Pt||(n=n.dependencies,n!==null&&bc(n)&&(Pt=!0))}function i_(n,a,r,o){Ie=n;var f=0;do{if($r&&(Qr=null),_o=0,$r=!1,25<=f)throw Error(i(301));if(f+=1,xt=Xe=null,n.updateQueue!=null){var g=n.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}A.H=Fi,g=a(r,o)}while($r);return g}function eA(){var n=A.H,a=n.useState()[0];return a=typeof a.then=="function"?yo(a):a,n=n.useState()[0],(Xe!==null?Xe.memoizedState:null)!==n&&(Ie.flags|=1024),a}function Hd(){var n=mc!==0;return mc=0,n}function zd(n,a,r){a.updateQueue=n.updateQueue,a.flags&=-2053,n.lanes&=~r}function qd(n){if(fc){for(n=n.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}fc=!1}Ma=0,xt=Xe=Ie=null,$r=!1,_o=mc=0,Qr=null}function fn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?Ie.memoizedState=xt=n:xt=xt.next=n,xt}function Et(){if(Xe===null){var n=Ie.alternate;n=n!==null?n.memoizedState:null}else n=Xe.next;var a=xt===null?Ie.memoizedState:xt.next;if(a!==null)xt=a,Xe=n;else{if(n===null)throw Ie.alternate===null?Error(i(467)):Error(i(310));Xe=n,n={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},xt===null?Ie.memoizedState=xt=n:xt=xt.next=n}return xt}var gc;gc=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function yo(n){var a=_o;return _o+=1,Qr===null&&(Qr=[]),n=Qp(Qr,n,a),a=Ie,(xt===null?a.memoizedState:xt.next)===null&&(a=a.alternate,A.H=a===null||a.memoizedState===null?Ki:La),n}function pc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return yo(n);if(n.$$typeof===N)return Wt(n)}throw Error(i(438,String(n)))}function Kd(n){var a=null,r=Ie.updateQueue;if(r!==null&&(a=r.memoCache),a==null){var o=Ie.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(a={data:o.data.map(function(f){return f.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),r===null&&(r=gc(),Ie.updateQueue=r),r.memoCache=a,r=a.data[a.index],r===void 0)for(r=a.data[a.index]=Array(n),o=0;o<n;o++)r[o]=Z;return a.index++,r}function qs(n,a){return typeof a=="function"?a(n):a}function _c(n){var a=Et();return Fd(a,Xe,n)}function Fd(n,a,r){var o=n.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var f=n.baseQueue,g=o.pending;if(g!==null){if(f!==null){var x=f.next;f.next=g.next,g.next=x}a.baseQueue=f=g,o.pending=null}if(g=n.baseState,f===null)n.memoizedState=g;else{a=f.next;var T=x=null,I=null,q=a,J=!1;do{var ae=q.lane&-536870913;if(ae!==q.lane?(ze&ae)===ae:(Ma&ae)===ae){var Y=q.revertLane;if(Y===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),ae===Fr&&(J=!0);else if((Ma&Y)===Y){q=q.next,Y===Fr&&(J=!0);continue}else ae={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},I===null?(T=I=ae,x=g):I=I.next=ae,Ie.lanes|=Y,Fa|=Y;ae=q.action,qi&&r(g,ae),g=q.hasEagerState?q.eagerState:r(g,ae)}else Y={lane:ae,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},I===null?(T=I=Y,x=g):I=I.next=Y,Ie.lanes|=ae,Fa|=ae;q=q.next}while(q!==null&&q!==a);if(I===null?x=g:I.next=T,!vn(g,n.memoizedState)&&(Pt=!0,J&&(r=Gr,r!==null)))throw r;n.memoizedState=g,n.baseState=x,n.baseQueue=I,o.lastRenderedState=g}return f===null&&(o.lanes=0),[n.memoizedState,o.dispatch]}function Gd(n){var a=Et(),r=a.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=n;var o=r.dispatch,f=r.pending,g=a.memoizedState;if(f!==null){r.pending=null;var x=f=f.next;do g=n(g,x.action),x=x.next;while(x!==f);vn(g,a.memoizedState)||(Pt=!0),a.memoizedState=g,a.baseQueue===null&&(a.baseState=g),r.lastRenderedState=g}return[g,o]}function r_(n,a,r){var o=Ie,f=Et(),g=Ge;if(g){if(r===void 0)throw Error(i(407));r=r()}else r=a();var x=!vn((Xe||f).memoizedState,r);if(x&&(f.memoizedState=r,Pt=!0),f=f.queue,Yd(u_.bind(null,o,f,n),[n]),f.getSnapshot!==a||x||xt!==null&&xt.memoizedState.tag&1){if(o.flags|=2048,Yr(9,o_.bind(null,o,f,r,a),{destroy:void 0},null),et===null)throw Error(i(349));g||(Ma&60)!==0||l_(o,a,r)}return r}function l_(n,a,r){n.flags|=16384,n={getSnapshot:a,value:r},a=Ie.updateQueue,a===null?(a=gc(),Ie.updateQueue=a,a.stores=[n]):(r=a.stores,r===null?a.stores=[n]:r.push(n))}function o_(n,a,r,o){a.value=r,a.getSnapshot=o,c_(a)&&h_(n)}function u_(n,a,r){return r(function(){c_(a)&&h_(n)})}function c_(n){var a=n.getSnapshot;n=n.value;try{var r=a();return!vn(n,r)}catch{return!0}}function h_(n){var a=ja(n,2);a!==null&&on(a,n,2)}function $d(n){var a=fn();if(typeof n=="function"){var r=n;if(n=r(),qi){as(!0);try{r()}finally{as(!1)}}}return a.memoizedState=a.baseState=n,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qs,lastRenderedState:n},a}function d_(n,a,r,o){return n.baseState=r,Fd(n,Xe,typeof o=="function"?o:qs)}function tA(n,a,r,o,f){if(xc(n))throw Error(i(485));if(n=a.action,n!==null){var g={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){g.listeners.push(x)}};A.T!==null?r(!0):g.isTransition=!1,o(g),r=a.pending,r===null?(g.next=a.pending=g,f_(a,g)):(g.next=r.next,a.pending=r.next=g)}}function f_(n,a){var r=a.action,o=a.payload,f=n.state;if(a.isTransition){var g=A.T,x={};A.T=x;try{var T=r(f,o),I=A.S;I!==null&&I(x,T),m_(n,a,T)}catch(q){Qd(n,a,q)}finally{A.T=g}}else try{g=r(f,o),m_(n,a,g)}catch(q){Qd(n,a,q)}}function m_(n,a,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){g_(n,a,o)},function(o){return Qd(n,a,o)}):g_(n,a,r)}function g_(n,a,r){a.status="fulfilled",a.value=r,p_(a),n.state=r,a=n.pending,a!==null&&(r=a.next,r===a?n.pending=null:(r=r.next,a.next=r,f_(n,r)))}function Qd(n,a,r){var o=n.pending;if(n.pending=null,o!==null){o=o.next;do a.status="rejected",a.reason=r,p_(a),a=a.next;while(a!==o)}n.action=null}function p_(n){n=n.listeners;for(var a=0;a<n.length;a++)(0,n[a])()}function __(n,a){return a}function y_(n,a){if(Ge){var r=et.formState;if(r!==null){e:{var o=Ie;if(Ge){if(qt){t:{for(var f=qt,g=gs;f.nodeType!==8;){if(!g){f=null;break t}if(f=Wn(f.nextSibling),f===null){f=null;break t}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){qt=Wn(f.nextSibling),o=f.data==="F!";break e}}Bi(o)}o=!1}o&&(a=r[0])}}return r=fn(),r.memoizedState=r.baseState=a,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:__,lastRenderedState:a},r.queue=o,r=L_.bind(null,Ie,o),o.dispatch=r,o=$d(!1),g=ef.bind(null,Ie,!1,o.queue),o=fn(),f={state:a,dispatch:null,action:n,pending:null},o.queue=f,r=tA.bind(null,Ie,f,g,r),f.dispatch=r,o.memoizedState=n,[a,r,!1]}function v_(n){var a=Et();return x_(a,Xe,n)}function x_(n,a,r){a=Fd(n,a,__)[0],n=_c(qs)[0],a=typeof a=="object"&&a!==null&&typeof a.then=="function"?yo(a):a;var o=Et(),f=o.queue,g=f.dispatch;return r!==o.memoizedState&&(Ie.flags|=2048,Yr(9,nA.bind(null,f,r),{destroy:void 0},null)),[a,g,n]}function nA(n,a){n.action=a}function E_(n){var a=Et(),r=Xe;if(r!==null)return x_(a,r,n);Et(),a=a.memoizedState,r=Et();var o=r.queue.dispatch;return r.memoizedState=n,[a,o,!1]}function Yr(n,a,r,o){return n={tag:n,create:a,inst:r,deps:o,next:null},a=Ie.updateQueue,a===null&&(a=gc(),Ie.updateQueue=a),r=a.lastEffect,r===null?a.lastEffect=n.next=n:(o=r.next,r.next=n,n.next=o,a.lastEffect=n),n}function T_(){return Et().memoizedState}function yc(n,a,r,o){var f=fn();Ie.flags|=n,f.memoizedState=Yr(1|a,r,{destroy:void 0},o===void 0?null:o)}function vc(n,a,r,o){var f=Et();o=o===void 0?null:o;var g=f.memoizedState.inst;Xe!==null&&o!==null&&Ud(o,Xe.memoizedState.deps)?f.memoizedState=Yr(a,r,g,o):(Ie.flags|=n,f.memoizedState=Yr(1|a,r,g,o))}function b_(n,a){yc(8390656,8,n,a)}function Yd(n,a){vc(2048,8,n,a)}function A_(n,a){return vc(4,2,n,a)}function S_(n,a){return vc(4,4,n,a)}function w_(n,a){if(typeof a=="function"){n=n();var r=a(n);return function(){typeof r=="function"?r():a(null)}}if(a!=null)return n=n(),a.current=n,function(){a.current=null}}function R_(n,a,r){r=r!=null?r.concat([n]):null,vc(4,4,w_.bind(null,a,n),r)}function Wd(){}function N_(n,a){var r=Et();a=a===void 0?null:a;var o=r.memoizedState;return a!==null&&Ud(a,o[1])?o[0]:(r.memoizedState=[n,a],n)}function k_(n,a){var r=Et();a=a===void 0?null:a;var o=r.memoizedState;if(a!==null&&Ud(a,o[1]))return o[0];if(o=n(),qi){as(!0);try{n()}finally{as(!1)}}return r.memoizedState=[o,a],o}function Xd(n,a,r){return r===void 0||(Ma&1073741824)!==0?n.memoizedState=a:(n.memoizedState=r,n=Iy(),Ie.lanes|=n,Fa|=n,r)}function C_(n,a,r,o){return vn(r,a)?r:Kr.current!==null?(n=Xd(n,r,o),vn(n,a)||(Pt=!0),n):(Ma&42)===0?(Pt=!0,n.memoizedState=r):(n=Iy(),Ie.lanes|=n,Fa|=n,a)}function I_(n,a,r,o,f){var g=ce.p;ce.p=g!==0&&8>g?g:8;var x=A.T,T={};A.T=T,ef(n,!1,a,r);try{var I=f(),q=A.S;if(q!==null&&q(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var J=Zb(I,o);vo(n,a,J,bn(n))}else vo(n,a,o,bn(n))}catch(ae){vo(n,a,{then:function(){},status:"rejected",reason:ae},bn())}finally{ce.p=g,A.T=x}}function sA(){}function Zd(n,a,r,o){if(n.tag!==5)throw Error(i(476));var f=j_(n).queue;I_(n,f,a,Ne,r===null?sA:function(){return D_(n),r(o)})}function j_(n){var a=n.memoizedState;if(a!==null)return a;a={memoizedState:Ne,baseState:Ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qs,lastRenderedState:Ne},next:null};var r={};return a.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qs,lastRenderedState:r},next:null},n.memoizedState=a,n=n.alternate,n!==null&&(n.memoizedState=a),a}function D_(n){var a=j_(n).next.queue;vo(n,a,{},bn())}function Jd(){return Wt(Uo)}function O_(){return Et().memoizedState}function M_(){return Et().memoizedState}function aA(n){for(var a=n.return;a!==null;){switch(a.tag){case 24:case 3:var r=bn();n=Ua(r);var o=Ba(a,n,r);o!==null&&(on(o,a,r),To(o,a,r)),a={cache:Ld()},n.payload=a;return}a=a.return}}function iA(n,a,r){var o=bn();r={lane:o,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},xc(n)?V_(a,r):(r=kd(n,a,r,o),r!==null&&(on(r,n,o),P_(r,a,o)))}function L_(n,a,r){var o=bn();vo(n,a,r,o)}function vo(n,a,r,o){var f={lane:o,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(xc(n))V_(a,f);else{var g=n.alternate;if(n.lanes===0&&(g===null||g.lanes===0)&&(g=a.lastRenderedReducer,g!==null))try{var x=a.lastRenderedState,T=g(x,r);if(f.hasEagerState=!0,f.eagerState=T,vn(T,x))return sc(n,a,f,0),et===null&&nc(),!1}catch{}finally{}if(r=kd(n,a,f,o),r!==null)return on(r,n,o),P_(r,a,o),!0}return!1}function ef(n,a,r,o){if(o={lane:2,revertLane:Kf(),action:o,hasEagerState:!1,eagerState:null,next:null},xc(n)){if(a)throw Error(i(479))}else a=kd(n,r,o,2),a!==null&&on(a,n,2)}function xc(n){var a=n.alternate;return n===Ie||a!==null&&a===Ie}function V_(n,a){$r=fc=!0;var r=n.pending;r===null?a.next=a:(a.next=r.next,r.next=a),n.pending=a}function P_(n,a,r){if((r&4194176)!==0){var o=a.lanes;o&=n.pendingLanes,r|=o,a.lanes=r,Ta(n,r)}}var _s={readContext:Wt,use:pc,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useLayoutEffect:_t,useInsertionEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useSyncExternalStore:_t,useId:_t};_s.useCacheRefresh=_t,_s.useMemoCache=_t,_s.useHostTransitionStatus=_t,_s.useFormState=_t,_s.useActionState=_t,_s.useOptimistic=_t;var Ki={readContext:Wt,use:pc,useCallback:function(n,a){return fn().memoizedState=[n,a===void 0?null:a],n},useContext:Wt,useEffect:b_,useImperativeHandle:function(n,a,r){r=r!=null?r.concat([n]):null,yc(4194308,4,w_.bind(null,a,n),r)},useLayoutEffect:function(n,a){return yc(4194308,4,n,a)},useInsertionEffect:function(n,a){yc(4,2,n,a)},useMemo:function(n,a){var r=fn();a=a===void 0?null:a;var o=n();if(qi){as(!0);try{n()}finally{as(!1)}}return r.memoizedState=[o,a],o},useReducer:function(n,a,r){var o=fn();if(r!==void 0){var f=r(a);if(qi){as(!0);try{r(a)}finally{as(!1)}}}else f=a;return o.memoizedState=o.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},o.queue=n,n=n.dispatch=iA.bind(null,Ie,n),[o.memoizedState,n]},useRef:function(n){var a=fn();return n={current:n},a.memoizedState=n},useState:function(n){n=$d(n);var a=n.queue,r=L_.bind(null,Ie,a);return a.dispatch=r,[n.memoizedState,r]},useDebugValue:Wd,useDeferredValue:function(n,a){var r=fn();return Xd(r,n,a)},useTransition:function(){var n=$d(!1);return n=I_.bind(null,Ie,n.queue,!0,!1),fn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,a,r){var o=Ie,f=fn();if(Ge){if(r===void 0)throw Error(i(407));r=r()}else{if(r=a(),et===null)throw Error(i(349));(ze&60)!==0||l_(o,a,r)}f.memoizedState=r;var g={value:r,getSnapshot:a};return f.queue=g,b_(u_.bind(null,o,g,n),[n]),o.flags|=2048,Yr(9,o_.bind(null,o,g,r,a),{destroy:void 0},null),r},useId:function(){var n=fn(),a=et.identifierPrefix;if(Ge){var r=Hs,o=Bs;r=(o&~(1<<32-sn(o)-1)).toString(32)+r,a=":"+a+"R"+r,r=mc++,0<r&&(a+="H"+r.toString(32)),a+=":"}else r=Jb++,a=":"+a+"r"+r.toString(32)+":";return n.memoizedState=a},useCacheRefresh:function(){return fn().memoizedState=aA.bind(null,Ie)}};Ki.useMemoCache=Kd,Ki.useHostTransitionStatus=Jd,Ki.useFormState=y_,Ki.useActionState=y_,Ki.useOptimistic=function(n){var a=fn();a.memoizedState=a.baseState=n;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=r,a=ef.bind(null,Ie,!0,r),r.dispatch=a,[n,a]};var La={readContext:Wt,use:pc,useCallback:N_,useContext:Wt,useEffect:Yd,useImperativeHandle:R_,useInsertionEffect:A_,useLayoutEffect:S_,useMemo:k_,useReducer:_c,useRef:T_,useState:function(){return _c(qs)},useDebugValue:Wd,useDeferredValue:function(n,a){var r=Et();return C_(r,Xe.memoizedState,n,a)},useTransition:function(){var n=_c(qs)[0],a=Et().memoizedState;return[typeof n=="boolean"?n:yo(n),a]},useSyncExternalStore:r_,useId:O_};La.useCacheRefresh=M_,La.useMemoCache=Kd,La.useHostTransitionStatus=Jd,La.useFormState=v_,La.useActionState=v_,La.useOptimistic=function(n,a){var r=Et();return d_(r,Xe,n,a)};var Fi={readContext:Wt,use:pc,useCallback:N_,useContext:Wt,useEffect:Yd,useImperativeHandle:R_,useInsertionEffect:A_,useLayoutEffect:S_,useMemo:k_,useReducer:Gd,useRef:T_,useState:function(){return Gd(qs)},useDebugValue:Wd,useDeferredValue:function(n,a){var r=Et();return Xe===null?Xd(r,n,a):C_(r,Xe.memoizedState,n,a)},useTransition:function(){var n=Gd(qs)[0],a=Et().memoizedState;return[typeof n=="boolean"?n:yo(n),a]},useSyncExternalStore:r_,useId:O_};Fi.useCacheRefresh=M_,Fi.useMemoCache=Kd,Fi.useHostTransitionStatus=Jd,Fi.useFormState=E_,Fi.useActionState=E_,Fi.useOptimistic=function(n,a){var r=Et();return Xe!==null?d_(r,Xe,n,a):(r.baseState=n,[n,r.queue.dispatch])};function tf(n,a,r,o){a=n.memoizedState,r=r(o,a),r=r==null?a:C({},a,r),n.memoizedState=r,n.lanes===0&&(n.updateQueue.baseState=r)}var nf={isMounted:function(n){return(n=n._reactInternals)?pe(n)===n:!1},enqueueSetState:function(n,a,r){n=n._reactInternals;var o=bn(),f=Ua(o);f.payload=a,r!=null&&(f.callback=r),a=Ba(n,f,o),a!==null&&(on(a,n,o),To(a,n,o))},enqueueReplaceState:function(n,a,r){n=n._reactInternals;var o=bn(),f=Ua(o);f.tag=1,f.payload=a,r!=null&&(f.callback=r),a=Ba(n,f,o),a!==null&&(on(a,n,o),To(a,n,o))},enqueueForceUpdate:function(n,a){n=n._reactInternals;var r=bn(),o=Ua(r);o.tag=2,a!=null&&(o.callback=a),a=Ba(n,o,r),a!==null&&(on(a,n,r),To(a,n,r))}};function U_(n,a,r,o,f,g,x){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(o,g,x):a.prototype&&a.prototype.isPureReactComponent?!io(r,o)||!io(f,g):!0}function B_(n,a,r,o){n=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(r,o),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(r,o),a.state!==n&&nf.enqueueReplaceState(a,a.state,null)}function Gi(n,a){var r=a;if("ref"in a){r={};for(var o in a)o!=="ref"&&(r[o]=a[o])}if(n=n.defaultProps){r===a&&(r=C({},r));for(var f in n)r[f]===void 0&&(r[f]=n[f])}return r}var Ec=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function H_(n){Ec(n)}function z_(n){console.error(n)}function q_(n){Ec(n)}function Tc(n,a){try{var r=n.onUncaughtError;r(a.value,{componentStack:a.stack})}catch(o){setTimeout(function(){throw o})}}function K_(n,a,r){try{var o=n.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function sf(n,a,r){return r=Ua(r),r.tag=3,r.payload={element:null},r.callback=function(){Tc(n,a)},r}function F_(n){return n=Ua(n),n.tag=3,n}function G_(n,a,r,o){var f=r.type.getDerivedStateFromError;if(typeof f=="function"){var g=o.value;n.payload=function(){return f(g)},n.callback=function(){K_(a,r,o)}}var x=r.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(n.callback=function(){K_(a,r,o),typeof f!="function"&&(Ga===null?Ga=new Set([this]):Ga.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function rA(n,a,r,o,f){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(a=r.alternate,a!==null&&Eo(a,r,f,!0),r=Pn.current,r!==null){switch(r.tag){case 13:return ps===null?Uf():r.alternate===null&&mt===0&&(mt=3),r.flags&=-257,r.flags|=65536,r.lanes=f,o===Dd?r.flags|=16384:(a=r.updateQueue,a===null?r.updateQueue=new Set([o]):a.add(o),Hf(n,o,f)),!1;case 22:return r.flags|=65536,o===Dd?r.flags|=16384:(a=r.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=a):(r=a.retryQueue,r===null?a.retryQueue=new Set([o]):r.add(o)),Hf(n,o,f)),!1}throw Error(i(435,r.tag))}return Hf(n,o,f),Uf(),!1}if(Ge)return a=Pn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=f,o!==jd&&(n=Error(i(422),{cause:o}),uo(Mn(n,r)))):(o!==jd&&(a=Error(i(423),{cause:o}),uo(Mn(a,r))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,o=Mn(o,r),f=sf(n.stateNode,o,f),vf(n,f),mt!==4&&(mt=2)),!1;var g=Error(i(520),{cause:o});if(g=Mn(g,r),Co===null?Co=[g]:Co.push(g),mt!==4&&(mt=2),a===null)return!0;o=Mn(o,r),r=a;do{switch(r.tag){case 3:return r.flags|=65536,n=f&-f,r.lanes|=n,n=sf(r.stateNode,o,n),vf(r,n),!1;case 1:if(a=r.type,g=r.stateNode,(r.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Ga===null||!Ga.has(g))))return r.flags|=65536,f&=-f,r.lanes|=f,f=F_(f),G_(f,n,r,o),vf(r,f),!1}r=r.return}while(r!==null);return!1}var $_=Error(i(461)),Pt=!1;function Kt(n,a,r,o){a.child=n===null?Zp(a,null,r,o):Hi(a,n.child,r,o)}function Q_(n,a,r,o,f){r=r.render;var g=a.ref;if("ref"in o){var x={};for(var T in o)T!=="ref"&&(x[T]=o[T])}else x=o;return Qi(a),o=Bd(n,a,r,x,g,f),T=Hd(),n!==null&&!Pt?(zd(n,a,f),Ks(n,a,f)):(Ge&&T&&Cd(a),a.flags|=1,Kt(n,a,o,f),a.child)}function Y_(n,a,r,o,f){if(n===null){var g=r.type;return typeof g=="function"&&!Rf(g)&&g.defaultProps===void 0&&r.compare===null?(a.tag=15,a.type=g,W_(n,a,g,o,f)):(n=Rc(r.type,null,o,a,a.mode,f),n.ref=a.ref,n.return=a,a.child=n)}if(g=n.child,!ff(n,f)){var x=g.memoizedProps;if(r=r.compare,r=r!==null?r:io,r(x,o)&&n.ref===a.ref)return Ks(n,a,f)}return a.flags|=1,n=Ka(g,o),n.ref=a.ref,n.return=a,a.child=n}function W_(n,a,r,o,f){if(n!==null){var g=n.memoizedProps;if(io(g,o)&&n.ref===a.ref)if(Pt=!1,a.pendingProps=o=g,ff(n,f))(n.flags&131072)!==0&&(Pt=!0);else return a.lanes=n.lanes,Ks(n,a,f)}return af(n,a,r,o,f)}function X_(n,a,r){var o=a.pendingProps,f=o.children,g=(a.stateNode._pendingVisibility&2)!==0,x=n!==null?n.memoizedState:null;if(xo(n,a),o.mode==="hidden"||g){if((a.flags&128)!==0){if(o=x!==null?x.baseLanes|r:r,n!==null){for(f=a.child=n.child,g=0;f!==null;)g=g|f.lanes|f.childLanes,f=f.sibling;a.childLanes=g&~o}else a.childLanes=0,a.child=null;return Z_(n,a,o,r)}if((r&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},n!==null&&dc(a,x!==null?x.cachePool:null),x!==null?Jp(a,x):Od(),e_(a);else return a.lanes=a.childLanes=536870912,Z_(n,a,x!==null?x.baseLanes|r:r,r)}else x!==null?(dc(a,x.cachePool),Jp(a,x),Oa(),a.memoizedState=null):(n!==null&&dc(a,null),Od(),Oa());return Kt(n,a,f,r),a.child}function Z_(n,a,r,o){var f=Pd();return f=f===null?null:{parent:It._currentValue,pool:f},a.memoizedState={baseLanes:r,cachePool:f},n!==null&&dc(a,null),Od(),e_(a),n!==null&&Eo(n,a,o,!0),null}function xo(n,a){var r=a.ref;if(r===null)n!==null&&n.ref!==null&&(a.flags|=2097664);else{if(typeof r!="function"&&typeof r!="object")throw Error(i(284));(n===null||n.ref!==r)&&(a.flags|=2097664)}}function af(n,a,r,o,f){return Qi(a),r=Bd(n,a,r,o,void 0,f),o=Hd(),n!==null&&!Pt?(zd(n,a,f),Ks(n,a,f)):(Ge&&o&&Cd(a),a.flags|=1,Kt(n,a,r,f),a.child)}function J_(n,a,r,o,f,g){return Qi(a),a.updateQueue=null,r=i_(a,o,r,f),a_(n),o=Hd(),n!==null&&!Pt?(zd(n,a,g),Ks(n,a,g)):(Ge&&o&&Cd(a),a.flags|=1,Kt(n,a,r,g),a.child)}function ey(n,a,r,o,f){if(Qi(a),a.stateNode===null){var g=Br,x=r.contextType;typeof x=="object"&&x!==null&&(g=Wt(x)),g=new r(o,g),a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=nf,a.stateNode=g,g._reactInternals=a,g=a.stateNode,g.props=o,g.state=a.memoizedState,g.refs={},_f(a),x=r.contextType,g.context=typeof x=="object"&&x!==null?Wt(x):Br,g.state=a.memoizedState,x=r.getDerivedStateFromProps,typeof x=="function"&&(tf(a,r,x,o),g.state=a.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(x=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),x!==g.state&&nf.enqueueReplaceState(g,g.state,null),Ao(a,o,g,f),bo(),g.state=a.memoizedState),typeof g.componentDidMount=="function"&&(a.flags|=4194308),o=!0}else if(n===null){g=a.stateNode;var T=a.memoizedProps,I=Gi(r,T);g.props=I;var q=g.context,J=r.contextType;x=Br,typeof J=="object"&&J!==null&&(x=Wt(J));var ae=r.getDerivedStateFromProps;J=typeof ae=="function"||typeof g.getSnapshotBeforeUpdate=="function",T=a.pendingProps!==T,J||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T||q!==x)&&B_(a,g,o,x),Pa=!1;var Y=a.memoizedState;g.state=Y,Ao(a,o,g,f),bo(),q=a.memoizedState,T||Y!==q||Pa?(typeof ae=="function"&&(tf(a,r,ae,o),q=a.memoizedState),(I=Pa||U_(a,r,I,o,Y,q,x))?(J||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(a.flags|=4194308)):(typeof g.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=o,a.memoizedState=q),g.props=o,g.state=q,g.context=x,o=I):(typeof g.componentDidMount=="function"&&(a.flags|=4194308),o=!1)}else{g=a.stateNode,yf(n,a),x=a.memoizedProps,J=Gi(r,x),g.props=J,ae=a.pendingProps,Y=g.context,q=r.contextType,I=Br,typeof q=="object"&&q!==null&&(I=Wt(q)),T=r.getDerivedStateFromProps,(q=typeof T=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(x!==ae||Y!==I)&&B_(a,g,o,I),Pa=!1,Y=a.memoizedState,g.state=Y,Ao(a,o,g,f),bo();var X=a.memoizedState;x!==ae||Y!==X||Pa||n!==null&&n.dependencies!==null&&bc(n.dependencies)?(typeof T=="function"&&(tf(a,r,T,o),X=a.memoizedState),(J=Pa||U_(a,r,J,o,Y,X,I)||n!==null&&n.dependencies!==null&&bc(n.dependencies))?(q||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(o,X,I),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(o,X,I)),typeof g.componentDidUpdate=="function"&&(a.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof g.componentDidUpdate!="function"||x===n.memoizedProps&&Y===n.memoizedState||(a.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||x===n.memoizedProps&&Y===n.memoizedState||(a.flags|=1024),a.memoizedProps=o,a.memoizedState=X),g.props=o,g.state=X,g.context=I,o=J):(typeof g.componentDidUpdate!="function"||x===n.memoizedProps&&Y===n.memoizedState||(a.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||x===n.memoizedProps&&Y===n.memoizedState||(a.flags|=1024),o=!1)}return g=o,xo(n,a),o=(a.flags&128)!==0,g||o?(g=a.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:g.render(),a.flags|=1,n!==null&&o?(a.child=Hi(a,n.child,null,f),a.child=Hi(a,null,r,f)):Kt(n,a,r,f),a.memoizedState=g.state,n=a.child):n=Ks(n,a,f),n}function ty(n,a,r,o){return oo(),a.flags|=256,Kt(n,a,r,o),a.child}var rf={dehydrated:null,treeContext:null,retryLane:0};function lf(n){return{baseLanes:n,cachePool:s_()}}function of(n,a,r){return n=n!==null?n.childLanes&~r:0,a&&(n|=zn),n}function ny(n,a,r){var o=a.pendingProps,f=!1,g=(a.flags&128)!==0,x;if((x=g)||(x=n!==null&&n.memoizedState===null?!1:(Ct.current&2)!==0),x&&(f=!0,a.flags&=-129),x=(a.flags&32)!==0,a.flags&=-33,n===null){if(Ge){if(f?Da(a):Oa(),Ge){var T=qt,I;if(I=T){e:{for(I=T,T=gs;I.nodeType!==8;){if(!T){T=null;break e}if(I=Wn(I.nextSibling),I===null){T=null;break e}}T=I}T!==null?(a.memoizedState={dehydrated:T,treeContext:Pi!==null?{id:Bs,overflow:Hs}:null,retryLane:536870912},I=Hn(18,null,null,0),I.stateNode=T,I.return=a,a.child=I,ln=a,qt=null,I=!0):I=!1}I||Bi(a)}if(T=a.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return T.data==="$!"?a.lanes=16:a.lanes=536870912,null;zs(a)}return T=o.children,o=o.fallback,f?(Oa(),f=a.mode,T=cf({mode:"hidden",children:T},f),o=Wi(o,f,r,null),T.return=a,o.return=a,T.sibling=o,a.child=T,f=a.child,f.memoizedState=lf(r),f.childLanes=of(n,x,r),a.memoizedState=rf,o):(Da(a),uf(a,T))}if(I=n.memoizedState,I!==null&&(T=I.dehydrated,T!==null)){if(g)a.flags&256?(Da(a),a.flags&=-257,a=hf(n,a,r)):a.memoizedState!==null?(Oa(),a.child=n.child,a.flags|=128,a=null):(Oa(),f=o.fallback,T=a.mode,o=cf({mode:"visible",children:o.children},T),f=Wi(f,T,r,null),f.flags|=2,o.return=a,f.return=a,o.sibling=f,a.child=o,Hi(a,n.child,null,r),o=a.child,o.memoizedState=lf(r),o.childLanes=of(n,x,r),a.memoizedState=rf,a=f);else if(Da(a),T.data==="$!"){if(x=T.nextSibling&&T.nextSibling.dataset,x)var q=x.dgst;x=q,o=Error(i(419)),o.stack="",o.digest=x,uo({value:o,source:null,stack:null}),a=hf(n,a,r)}else if(Pt||Eo(n,a,r,!1),x=(r&n.childLanes)!==0,Pt||x){if(x=et,x!==null){if(o=r&-r,(o&42)!==0)o=1;else switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=64;break;case 268435456:o=134217728;break;default:o=0}if(o=(o&(x.suspendedLanes|r))!==0?0:o,o!==0&&o!==I.retryLane)throw I.retryLane=o,ja(n,o),on(x,n,o),$_}T.data==="$?"||Uf(),a=hf(n,a,r)}else T.data==="$?"?(a.flags|=128,a.child=n.child,a=EA.bind(null,n),T._reactRetry=a,a=null):(n=I.treeContext,qt=Wn(T.nextSibling),ln=a,Ge=!0,Qn=null,gs=!1,n!==null&&(Ln[Vn++]=Bs,Ln[Vn++]=Hs,Ln[Vn++]=Pi,Bs=n.id,Hs=n.overflow,Pi=a),a=uf(a,o.children),a.flags|=4096);return a}return f?(Oa(),f=o.fallback,T=a.mode,I=n.child,q=I.sibling,o=Ka(I,{mode:"hidden",children:o.children}),o.subtreeFlags=I.subtreeFlags&31457280,q!==null?f=Ka(q,f):(f=Wi(f,T,r,null),f.flags|=2),f.return=a,o.return=a,o.sibling=f,a.child=o,o=f,f=a.child,T=n.child.memoizedState,T===null?T=lf(r):(I=T.cachePool,I!==null?(q=It._currentValue,I=I.parent!==q?{parent:q,pool:q}:I):I=s_(),T={baseLanes:T.baseLanes|r,cachePool:I}),f.memoizedState=T,f.childLanes=of(n,x,r),a.memoizedState=rf,o):(Da(a),r=n.child,n=r.sibling,r=Ka(r,{mode:"visible",children:o.children}),r.return=a,r.sibling=null,n!==null&&(x=a.deletions,x===null?(a.deletions=[n],a.flags|=16):x.push(n)),a.child=r,a.memoizedState=null,r)}function uf(n,a){return a=cf({mode:"visible",children:a},n.mode),a.return=n,n.child=a}function cf(n,a){return Ny(n,a,0,null)}function hf(n,a,r){return Hi(a,n.child,null,r),n=uf(a,a.pendingProps.children),n.flags|=2,a.memoizedState=null,n}function sy(n,a,r){n.lanes|=a;var o=n.alternate;o!==null&&(o.lanes|=a),gf(n.return,a,r)}function df(n,a,r,o,f){var g=n.memoizedState;g===null?n.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:f}:(g.isBackwards=a,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=r,g.tailMode=f)}function ay(n,a,r){var o=a.pendingProps,f=o.revealOrder,g=o.tail;if(Kt(n,a,o.children,r),o=Ct.current,(o&2)!==0)o=o&1|2,a.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=a.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&sy(n,r,a);else if(n.tag===19)sy(n,r,a);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===a)break e;for(;n.sibling===null;){if(n.return===null||n.return===a)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}o&=1}switch(We(Ct,o),f){case"forwards":for(r=a.child,f=null;r!==null;)n=r.alternate,n!==null&&hc(n)===null&&(f=r),r=r.sibling;r=f,r===null?(f=a.child,a.child=null):(f=r.sibling,r.sibling=null),df(a,!1,f,r,g);break;case"backwards":for(r=null,f=a.child,a.child=null;f!==null;){if(n=f.alternate,n!==null&&hc(n)===null){a.child=f;break}n=f.sibling,f.sibling=r,r=f,f=n}df(a,!0,r,null,g);break;case"together":df(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Ks(n,a,r){if(n!==null&&(a.dependencies=n.dependencies),Fa|=a.lanes,(r&a.childLanes)===0)if(n!==null){if(Eo(n,a,r,!1),(r&a.childLanes)===0)return null}else return null;if(n!==null&&a.child!==n.child)throw Error(i(153));if(a.child!==null){for(n=a.child,r=Ka(n,n.pendingProps),a.child=r,r.return=a;n.sibling!==null;)n=n.sibling,r=r.sibling=Ka(n,n.pendingProps),r.return=a;r.sibling=null}return a.child}function ff(n,a){return(n.lanes&a)!==0?!0:(n=n.dependencies,!!(n!==null&&bc(n)))}function lA(n,a,r){switch(a.tag){case 3:pa(a,a.stateNode.containerInfo),Va(a,It,n.memoizedState.cache),oo();break;case 27:case 5:Pl(a);break;case 4:pa(a,a.stateNode.containerInfo);break;case 10:Va(a,a.type,a.memoizedProps.value);break;case 13:var o=a.memoizedState;if(o!==null)return o.dehydrated!==null?(Da(a),a.flags|=128,null):(r&a.child.childLanes)!==0?ny(n,a,r):(Da(a),n=Ks(n,a,r),n!==null?n.sibling:null);Da(a);break;case 19:var f=(n.flags&128)!==0;if(o=(r&a.childLanes)!==0,o||(Eo(n,a,r,!1),o=(r&a.childLanes)!==0),f){if(o)return ay(n,a,r);a.flags|=128}if(f=a.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),We(Ct,Ct.current),o)break;return null;case 22:case 23:return a.lanes=0,X_(n,a,r);case 24:Va(a,It,n.memoizedState.cache)}return Ks(n,a,r)}function iy(n,a,r){if(n!==null)if(n.memoizedProps!==a.pendingProps)Pt=!0;else{if(!ff(n,r)&&(a.flags&128)===0)return Pt=!1,lA(n,a,r);Pt=(n.flags&131072)!==0}else Pt=!1,Ge&&(a.flags&1048576)!==0&&qp(a,rc,a.index);switch(a.lanes=0,a.tag){case 16:e:{n=a.pendingProps;var o=a.elementType,f=o._init;if(o=f(o._payload),a.type=o,typeof o=="function")Rf(o)?(n=Gi(o,n),a.tag=1,a=ey(null,a,o,n,r)):(a.tag=0,a=af(null,a,o,n,r));else{if(o!=null){if(f=o.$$typeof,f===j){a.tag=11,a=Q_(null,a,o,n,r);break e}else if(f===K){a.tag=14,a=Y_(null,a,o,n,r);break e}}throw a=R(o)||o,Error(i(306,a,""))}}return a;case 0:return af(n,a,a.type,a.pendingProps,r);case 1:return o=a.type,f=Gi(o,a.pendingProps),ey(n,a,o,f,r);case 3:e:{if(pa(a,a.stateNode.containerInfo),n===null)throw Error(i(387));var g=a.pendingProps;f=a.memoizedState,o=f.element,yf(n,a),Ao(a,g,null,r);var x=a.memoizedState;if(g=x.cache,Va(a,It,g),g!==f.cache&&pf(a,[It],r,!0),bo(),g=x.element,f.isDehydrated)if(f={element:g,isDehydrated:!1,cache:x.cache},a.updateQueue.baseState=f,a.memoizedState=f,a.flags&256){a=ty(n,a,g,r);break e}else if(g!==o){o=Mn(Error(i(424)),a),uo(o),a=ty(n,a,g,r);break e}else for(qt=Wn(a.stateNode.containerInfo.firstChild),ln=a,Ge=!0,Qn=null,gs=!0,r=Zp(a,null,g,r),a.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(oo(),g===o){a=Ks(n,a,r);break e}Kt(n,a,g,r)}a=a.child}return a;case 26:return xo(n,a),n===null?(r=ov(a.type,null,a.pendingProps,null))?a.memoizedState=r:Ge||(r=a.type,n=a.pendingProps,o=Uc(Rn.current).createElement(r),o[Mt]=a,o[Rt]=n,Ft(o,r,n),rt(o),a.stateNode=o):a.memoizedState=ov(a.type,n.memoizedProps,a.pendingProps,n.memoizedState),null;case 27:return Pl(a),n===null&&Ge&&(o=a.stateNode=iv(a.type,a.pendingProps,Rn.current),ln=a,gs=!0,qt=Wn(o.firstChild)),o=a.pendingProps.children,n!==null||Ge?Kt(n,a,o,r):a.child=Hi(a,null,o,r),xo(n,a),a.child;case 5:return n===null&&Ge&&((f=o=qt)&&(o=VA(o,a.type,a.pendingProps,gs),o!==null?(a.stateNode=o,ln=a,qt=Wn(o.firstChild),gs=!1,f=!0):f=!1),f||Bi(a)),Pl(a),f=a.type,g=a.pendingProps,x=n!==null?n.memoizedProps:null,o=g.children,Jf(f,g)?o=null:x!==null&&Jf(f,x)&&(a.flags|=32),a.memoizedState!==null&&(f=Bd(n,a,eA,null,null,r),Uo._currentValue=f),xo(n,a),Kt(n,a,o,r),a.child;case 6:return n===null&&Ge&&((n=r=qt)&&(r=PA(r,a.pendingProps,gs),r!==null?(a.stateNode=r,ln=a,qt=null,n=!0):n=!1),n||Bi(a)),null;case 13:return ny(n,a,r);case 4:return pa(a,a.stateNode.containerInfo),o=a.pendingProps,n===null?a.child=Hi(a,null,o,r):Kt(n,a,o,r),a.child;case 11:return Q_(n,a,a.type,a.pendingProps,r);case 7:return Kt(n,a,a.pendingProps,r),a.child;case 8:return Kt(n,a,a.pendingProps.children,r),a.child;case 12:return Kt(n,a,a.pendingProps.children,r),a.child;case 10:return o=a.pendingProps,Va(a,a.type,o.value),Kt(n,a,o.children,r),a.child;case 9:return f=a.type._context,o=a.pendingProps.children,Qi(a),f=Wt(f),o=o(f),a.flags|=1,Kt(n,a,o,r),a.child;case 14:return Y_(n,a,a.type,a.pendingProps,r);case 15:return W_(n,a,a.type,a.pendingProps,r);case 19:return ay(n,a,r);case 22:return X_(n,a,r);case 24:return Qi(a),o=Wt(It),n===null?(f=Pd(),f===null&&(f=et,g=Ld(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=r),f=g),a.memoizedState={parent:o,cache:f},_f(a),Va(a,It,f)):((n.lanes&r)!==0&&(yf(n,a),Ao(a,null,null,r),bo()),f=n.memoizedState,g=a.memoizedState,f.parent!==o?(f={parent:o,cache:o},a.memoizedState=f,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=f),Va(a,It,o)):(o=g.cache,Va(a,It,o),o!==f.cache&&pf(a,[It],r,!0))),Kt(n,a,a.pendingProps.children,r),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}var mf=Ke(null),$i=null,Fs=null;function Va(n,a,r){We(mf,a._currentValue),a._currentValue=r}function Gs(n){n._currentValue=mf.current,ht(mf)}function gf(n,a,r){for(;n!==null;){var o=n.alternate;if((n.childLanes&a)!==a?(n.childLanes|=a,o!==null&&(o.childLanes|=a)):o!==null&&(o.childLanes&a)!==a&&(o.childLanes|=a),n===r)break;n=n.return}}function pf(n,a,r,o){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var g=f.dependencies;if(g!==null){var x=f.child;g=g.firstContext;e:for(;g!==null;){var T=g;g=f;for(var I=0;I<a.length;I++)if(T.context===a[I]){g.lanes|=r,T=g.alternate,T!==null&&(T.lanes|=r),gf(g.return,r,n),o||(x=null);break e}g=T.next}}else if(f.tag===18){if(x=f.return,x===null)throw Error(i(341));x.lanes|=r,g=x.alternate,g!==null&&(g.lanes|=r),gf(x,r,n),x=null}else x=f.child;if(x!==null)x.return=f;else for(x=f;x!==null;){if(x===n){x=null;break}if(f=x.sibling,f!==null){f.return=x.return,x=f;break}x=x.return}f=x}}function Eo(n,a,r,o){n=null;for(var f=a,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var x=f.alternate;if(x===null)throw Error(i(387));if(x=x.memoizedProps,x!==null){var T=f.type;vn(f.pendingProps.value,x.value)||(n!==null?n.push(T):n=[T])}}else if(f===ga.current){if(x=f.alternate,x===null)throw Error(i(387));x.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Uo):n=[Uo])}f=f.return}n!==null&&pf(a,n,r,o),a.flags|=262144}function bc(n){for(n=n.firstContext;n!==null;){if(!vn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Qi(n){$i=n,Fs=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Wt(n){return ry($i,n)}function Ac(n,a){return $i===null&&Qi(n),ry(n,a)}function ry(n,a){var r=a._currentValue;if(a={context:a,memoizedValue:r,next:null},Fs===null){if(n===null)throw Error(i(308));Fs=a,n.dependencies={lanes:0,firstContext:a},n.flags|=524288}else Fs=Fs.next=a;return r}var Pa=!1;function _f(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yf(n,a){n=n.updateQueue,a.updateQueue===n&&(a.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Ua(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Ba(n,a,r){var o=n.updateQueue;if(o===null)return null;if(o=o.shared,(ot&2)!==0){var f=o.pending;return f===null?a.next=a:(a.next=f.next,f.next=a),o.pending=a,a=ac(n),Hp(n,null,r),a}return sc(n,o,a,r),ac(n)}function To(n,a,r){if(a=a.updateQueue,a!==null&&(a=a.shared,(r&4194176)!==0)){var o=a.lanes;o&=n.pendingLanes,r|=o,a.lanes=r,Ta(n,r)}}function vf(n,a){var r=n.updateQueue,o=n.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var f=null,g=null;if(r=r.firstBaseUpdate,r!==null){do{var x={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};g===null?f=g=x:g=g.next=x,r=r.next}while(r!==null);g===null?f=g=a:g=g.next=a}else f=g=a;r={baseState:o.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:o.shared,callbacks:o.callbacks},n.updateQueue=r;return}n=r.lastBaseUpdate,n===null?r.firstBaseUpdate=a:n.next=a,r.lastBaseUpdate=a}var xf=!1;function bo(){if(xf){var n=Gr;if(n!==null)throw n}}function Ao(n,a,r,o){xf=!1;var f=n.updateQueue;Pa=!1;var g=f.firstBaseUpdate,x=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var I=T,q=I.next;I.next=null,x===null?g=q:x.next=q,x=I;var J=n.alternate;J!==null&&(J=J.updateQueue,T=J.lastBaseUpdate,T!==x&&(T===null?J.firstBaseUpdate=q:T.next=q,J.lastBaseUpdate=I))}if(g!==null){var ae=f.baseState;x=0,J=q=I=null,T=g;do{var Y=T.lane&-536870913,X=Y!==T.lane;if(X?(ze&Y)===Y:(o&Y)===Y){Y!==0&&Y===Fr&&(xf=!0),J!==null&&(J=J.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var _e=n,we=T;Y=a;var gt=r;switch(we.tag){case 1:if(_e=we.payload,typeof _e=="function"){ae=_e.call(gt,ae,Y);break e}ae=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=we.payload,Y=typeof _e=="function"?_e.call(gt,ae,Y):_e,Y==null)break e;ae=C({},ae,Y);break e;case 2:Pa=!0}}Y=T.callback,Y!==null&&(n.flags|=64,X&&(n.flags|=8192),X=f.callbacks,X===null?f.callbacks=[Y]:X.push(Y))}else X={lane:Y,tag:T.tag,payload:T.payload,callback:T.callback,next:null},J===null?(q=J=X,I=ae):J=J.next=X,x|=Y;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;X=T,T=X.next,X.next=null,f.lastBaseUpdate=X,f.shared.pending=null}}while(!0);J===null&&(I=ae),f.baseState=I,f.firstBaseUpdate=q,f.lastBaseUpdate=J,g===null&&(f.shared.lanes=0),Fa|=x,n.lanes=x,n.memoizedState=ae}}function ly(n,a){if(typeof n!="function")throw Error(i(191,n));n.call(a)}function oy(n,a){var r=n.callbacks;if(r!==null)for(n.callbacks=null,n=0;n<r.length;n++)ly(r[n],a)}function So(n,a){try{var r=a.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var f=o.next;r=f;do{if((r.tag&n)===n){o=void 0;var g=r.create,x=r.inst;o=g(),x.destroy=o}r=r.next}while(r!==f)}}catch(T){Je(a,a.return,T)}}function Ha(n,a,r){try{var o=a.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var g=f.next;o=g;do{if((o.tag&n)===n){var x=o.inst,T=x.destroy;if(T!==void 0){x.destroy=void 0,f=a;var I=r;try{T()}catch(q){Je(f,I,q)}}}o=o.next}while(o!==g)}}catch(q){Je(a,a.return,q)}}function uy(n){var a=n.updateQueue;if(a!==null){var r=n.stateNode;try{oy(a,r)}catch(o){Je(n,n.return,o)}}}function cy(n,a,r){r.props=Gi(n.type,n.memoizedProps),r.state=n.memoizedState;try{r.componentWillUnmount()}catch(o){Je(n,a,o)}}function Yi(n,a){try{var r=n.ref;if(r!==null){var o=n.stateNode;switch(n.tag){case 26:case 27:case 5:var f=o;break;default:f=o}typeof r=="function"?n.refCleanup=r(f):r.current=f}}catch(g){Je(n,a,g)}}function xn(n,a){var r=n.ref,o=n.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(f){Je(n,a,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(f){Je(n,a,f)}else r.current=null}function hy(n){var a=n.type,r=n.memoizedProps,o=n.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break e;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(f){Je(n,n.return,f)}}function dy(n,a,r){try{var o=n.stateNode;jA(o,n.type,r,a),o[Rt]=a}catch(f){Je(n,n.return,f)}}function fy(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27||n.tag===4}function Ef(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||fy(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==27&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Tf(n,a,r){var o=n.tag;if(o===5||o===6)n=n.stateNode,a?r.nodeType===8?r.parentNode.insertBefore(n,a):r.insertBefore(n,a):(r.nodeType===8?(a=r.parentNode,a.insertBefore(n,r)):(a=r,a.appendChild(n)),r=r._reactRootContainer,r!=null||a.onclick!==null||(a.onclick=Pc));else if(o!==4&&o!==27&&(n=n.child,n!==null))for(Tf(n,a,r),n=n.sibling;n!==null;)Tf(n,a,r),n=n.sibling}function Sc(n,a,r){var o=n.tag;if(o===5||o===6)n=n.stateNode,a?r.insertBefore(n,a):r.appendChild(n);else if(o!==4&&o!==27&&(n=n.child,n!==null))for(Sc(n,a,r),n=n.sibling;n!==null;)Sc(n,a,r),n=n.sibling}var $s=!1,ft=!1,bf=!1,my=typeof WeakSet=="function"?WeakSet:Set,Ut=null,gy=!1;function oA(n,a){if(n=n.containerInfo,Xf=Fc,n=jp(n),Ad(n)){if("selectionStart"in n)var r={start:n.selectionStart,end:n.selectionEnd};else e:{r=(r=n.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var f=o.anchorOffset,g=o.focusNode;o=o.focusOffset;try{r.nodeType,g.nodeType}catch{r=null;break e}var x=0,T=-1,I=-1,q=0,J=0,ae=n,Y=null;t:for(;;){for(var X;ae!==r||f!==0&&ae.nodeType!==3||(T=x+f),ae!==g||o!==0&&ae.nodeType!==3||(I=x+o),ae.nodeType===3&&(x+=ae.nodeValue.length),(X=ae.firstChild)!==null;)Y=ae,ae=X;for(;;){if(ae===n)break t;if(Y===r&&++q===f&&(T=x),Y===g&&++J===o&&(I=x),(X=ae.nextSibling)!==null)break;ae=Y,Y=ae.parentNode}ae=X}r=T===-1||I===-1?null:{start:T,end:I}}else r=null}r=r||{start:0,end:0}}else r=null;for(Zf={focusedElem:n,selectionRange:r},Fc=!1,Ut=a;Ut!==null;)if(a=Ut,n=a.child,(a.subtreeFlags&1028)!==0&&n!==null)n.return=a,Ut=n;else for(;Ut!==null;){switch(a=Ut,g=a.alternate,n=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&g!==null){n=void 0,r=a,f=g.memoizedProps,g=g.memoizedState,o=r.stateNode;try{var _e=Gi(r.type,f,r.elementType===r.type);n=o.getSnapshotBeforeUpdate(_e,g),o.__reactInternalSnapshotBeforeUpdate=n}catch(we){Je(r,r.return,we)}}break;case 3:if((n&1024)!==0){if(n=a.stateNode.containerInfo,r=n.nodeType,r===9)nm(n);else if(r===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":nm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=a.sibling,n!==null){n.return=a.return,Ut=n;break}Ut=a.return}return _e=gy,gy=!1,_e}function py(n,a,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:Ys(n,r),o&4&&So(5,r);break;case 1:if(Ys(n,r),o&4)if(n=r.stateNode,a===null)try{n.componentDidMount()}catch(T){Je(r,r.return,T)}else{var f=Gi(r.type,a.memoizedProps);a=a.memoizedState;try{n.componentDidUpdate(f,a,n.__reactInternalSnapshotBeforeUpdate)}catch(T){Je(r,r.return,T)}}o&64&&uy(r),o&512&&Yi(r,r.return);break;case 3:if(Ys(n,r),o&64&&(o=r.updateQueue,o!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{oy(o,n)}catch(T){Je(r,r.return,T)}}break;case 26:Ys(n,r),o&512&&Yi(r,r.return);break;case 27:case 5:Ys(n,r),a===null&&o&4&&hy(r),o&512&&Yi(r,r.return);break;case 12:Ys(n,r);break;case 13:Ys(n,r),o&4&&vy(n,r);break;case 22:if(f=r.memoizedState!==null||$s,!f){a=a!==null&&a.memoizedState!==null||ft;var g=$s,x=ft;$s=f,(ft=a)&&!x?za(n,r,(r.subtreeFlags&8772)!==0):Ys(n,r),$s=g,ft=x}o&512&&(r.memoizedProps.mode==="manual"?Yi(r,r.return):xn(r,r.return));break;default:Ys(n,r)}}function _y(n){var a=n.alternate;a!==null&&(n.alternate=null,_y(a)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(a=n.stateNode,a!==null&&Si(a)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Tt=null,En=!1;function Qs(n,a,r){for(r=r.child;r!==null;)yy(n,a,r),r=r.sibling}function yy(n,a,r){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(_a,r)}catch{}switch(r.tag){case 26:ft||xn(r,a),Qs(n,a,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:ft||xn(r,a);var o=Tt,f=En;for(Tt=r.stateNode,Qs(n,a,r),r=r.stateNode,a=r.attributes;a.length;)r.removeAttributeNode(a[0]);Si(r),Tt=o,En=f;break;case 5:ft||xn(r,a);case 6:f=Tt;var g=En;if(Tt=null,Qs(n,a,r),Tt=f,En=g,Tt!==null)if(En)try{n=Tt,o=r.stateNode,n.nodeType===8?n.parentNode.removeChild(o):n.removeChild(o)}catch(x){Je(r,a,x)}else try{Tt.removeChild(r.stateNode)}catch(x){Je(r,a,x)}break;case 18:Tt!==null&&(En?(a=Tt,r=r.stateNode,a.nodeType===8?tm(a.parentNode,r):a.nodeType===1&&tm(a,r),qo(a)):tm(Tt,r.stateNode));break;case 4:o=Tt,f=En,Tt=r.stateNode.containerInfo,En=!0,Qs(n,a,r),Tt=o,En=f;break;case 0:case 11:case 14:case 15:ft||Ha(2,r,a),ft||Ha(4,r,a),Qs(n,a,r);break;case 1:ft||(xn(r,a),o=r.stateNode,typeof o.componentWillUnmount=="function"&&cy(r,a,o)),Qs(n,a,r);break;case 21:Qs(n,a,r);break;case 22:ft||xn(r,a),ft=(o=ft)||r.memoizedState!==null,Qs(n,a,r),ft=o;break;default:Qs(n,a,r)}}function vy(n,a){if(a.memoizedState===null&&(n=a.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{qo(n)}catch(r){Je(a,a.return,r)}}function uA(n){switch(n.tag){case 13:case 19:var a=n.stateNode;return a===null&&(a=n.stateNode=new my),a;case 22:return n=n.stateNode,a=n._retryCache,a===null&&(a=n._retryCache=new my),a;default:throw Error(i(435,n.tag))}}function Af(n,a){var r=uA(n);a.forEach(function(o){var f=TA.bind(null,n,o);r.has(o)||(r.add(o),o.then(f,f))})}function Un(n,a){var r=a.deletions;if(r!==null)for(var o=0;o<r.length;o++){var f=r[o],g=n,x=a,T=x;e:for(;T!==null;){switch(T.tag){case 27:case 5:Tt=T.stateNode,En=!1;break e;case 3:Tt=T.stateNode.containerInfo,En=!0;break e;case 4:Tt=T.stateNode.containerInfo,En=!0;break e}T=T.return}if(Tt===null)throw Error(i(160));yy(g,x,f),Tt=null,En=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)xy(a,n),a=a.sibling}var Yn=null;function xy(n,a){var r=n.alternate,o=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Un(a,n),Bn(n),o&4&&(Ha(3,n,n.return),So(3,n),Ha(5,n,n.return));break;case 1:Un(a,n),Bn(n),o&512&&(ft||r===null||xn(r,r.return)),o&64&&$s&&(n=n.updateQueue,n!==null&&(o=n.callbacks,o!==null&&(r=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var f=Yn;if(Un(a,n),Bn(n),o&512&&(ft||r===null||xn(r,r.return)),o&4){var g=r!==null?r.memoizedState:null;if(o=n.memoizedState,r===null)if(o===null)if(n.stateNode===null){e:{o=n.type,r=n.memoizedProps,f=f.ownerDocument||f;t:switch(o){case"title":g=f.getElementsByTagName("title")[0],(!g||g[Aa]||g[Mt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(o),f.head.insertBefore(g,f.querySelector("head > title"))),Ft(g,o,r),g[Mt]=n,rt(g),o=g;break e;case"link":var x=hv("link","href",f).get(o+(r.href||""));if(x){for(var T=0;T<x.length;T++)if(g=x[T],g.getAttribute("href")===(r.href==null?null:r.href)&&g.getAttribute("rel")===(r.rel==null?null:r.rel)&&g.getAttribute("title")===(r.title==null?null:r.title)&&g.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){x.splice(T,1);break t}}g=f.createElement(o),Ft(g,o,r),f.head.appendChild(g);break;case"meta":if(x=hv("meta","content",f).get(o+(r.content||""))){for(T=0;T<x.length;T++)if(g=x[T],g.getAttribute("content")===(r.content==null?null:""+r.content)&&g.getAttribute("name")===(r.name==null?null:r.name)&&g.getAttribute("property")===(r.property==null?null:r.property)&&g.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&g.getAttribute("charset")===(r.charSet==null?null:r.charSet)){x.splice(T,1);break t}}g=f.createElement(o),Ft(g,o,r),f.head.appendChild(g);break;default:throw Error(i(468,o))}g[Mt]=n,rt(g),o=g}n.stateNode=o}else dv(f,n.type,n.stateNode);else n.stateNode=cv(f,o,n.memoizedProps);else g!==o?(g===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):g.count--,o===null?dv(f,n.type,n.stateNode):cv(f,o,n.memoizedProps)):o===null&&n.stateNode!==null&&dy(n,n.memoizedProps,r.memoizedProps)}break;case 27:if(o&4&&n.alternate===null){f=n.stateNode,g=n.memoizedProps;try{for(var I=f.firstChild;I;){var q=I.nextSibling,J=I.nodeName;I[Aa]||J==="HEAD"||J==="BODY"||J==="SCRIPT"||J==="STYLE"||J==="LINK"&&I.rel.toLowerCase()==="stylesheet"||f.removeChild(I),I=q}for(var ae=n.type,Y=f.attributes;Y.length;)f.removeAttributeNode(Y[0]);Ft(f,ae,g),f[Mt]=n,f[Rt]=g}catch(_e){Je(n,n.return,_e)}}case 5:if(Un(a,n),Bn(n),o&512&&(ft||r===null||xn(r,r.return)),n.flags&32){f=n.stateNode;try{Cn(f,"")}catch(_e){Je(n,n.return,_e)}}o&4&&n.stateNode!=null&&(f=n.memoizedProps,dy(n,f,r!==null?r.memoizedProps:f)),o&1024&&(bf=!0);break;case 6:if(Un(a,n),Bn(n),o&4){if(n.stateNode===null)throw Error(i(162));o=n.memoizedProps,r=n.stateNode;try{r.nodeValue=o}catch(_e){Je(n,n.return,_e)}}break;case 3:if(zc=null,f=Yn,Yn=Bc(a.containerInfo),Un(a,n),Yn=f,Bn(n),o&4&&r!==null&&r.memoizedState.isDehydrated)try{qo(a.containerInfo)}catch(_e){Je(n,n.return,_e)}bf&&(bf=!1,Ey(n));break;case 4:o=Yn,Yn=Bc(n.stateNode.containerInfo),Un(a,n),Bn(n),Yn=o;break;case 12:Un(a,n),Bn(n);break;case 13:Un(a,n),Bn(n),n.child.flags&8192&&n.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Df=hn()),o&4&&(o=n.updateQueue,o!==null&&(n.updateQueue=null,Af(n,o)));break;case 22:if(o&512&&(ft||r===null||xn(r,r.return)),I=n.memoizedState!==null,q=r!==null&&r.memoizedState!==null,J=$s,ae=ft,$s=J||I,ft=ae||q,Un(a,n),ft=ae,$s=J,Bn(n),a=n.stateNode,a._current=n,a._visibility&=-3,a._visibility|=a._pendingVisibility&2,o&8192&&(a._visibility=I?a._visibility&-2:a._visibility|1,I&&(a=$s||ft,r===null||q||a||Wr(n)),n.memoizedProps===null||n.memoizedProps.mode!=="manual"))e:for(r=null,a=n;;){if(a.tag===5||a.tag===26||a.tag===27){if(r===null){q=r=a;try{if(f=q.stateNode,I)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{x=q.stateNode,T=q.memoizedProps.style;var X=T!=null&&T.hasOwnProperty("display")?T.display:null;x.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(_e){Je(q,q.return,_e)}}}else if(a.tag===6){if(r===null){q=a;try{q.stateNode.nodeValue=I?"":q.memoizedProps}catch(_e){Je(q,q.return,_e)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===n)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break e;for(;a.sibling===null;){if(a.return===null||a.return===n)break e;r===a&&(r=null),a=a.return}r===a&&(r=null),a.sibling.return=a.return,a=a.sibling}o&4&&(o=n.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,Af(n,r))));break;case 19:Un(a,n),Bn(n),o&4&&(o=n.updateQueue,o!==null&&(n.updateQueue=null,Af(n,o)));break;case 21:break;default:Un(a,n),Bn(n)}}function Bn(n){var a=n.flags;if(a&2){try{if(n.tag!==27){e:{for(var r=n.return;r!==null;){if(fy(r)){var o=r;break e}r=r.return}throw Error(i(160))}switch(o.tag){case 27:var f=o.stateNode,g=Ef(n);Sc(n,g,f);break;case 5:var x=o.stateNode;o.flags&32&&(Cn(x,""),o.flags&=-33);var T=Ef(n);Sc(n,T,x);break;case 3:case 4:var I=o.stateNode.containerInfo,q=Ef(n);Tf(n,q,I);break;default:throw Error(i(161))}}}catch(J){Je(n,n.return,J)}n.flags&=-3}a&4096&&(n.flags&=-4097)}function Ey(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var a=n;Ey(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),n=n.sibling}}function Ys(n,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)py(n,a.alternate,a),a=a.sibling}function Wr(n){for(n=n.child;n!==null;){var a=n;switch(a.tag){case 0:case 11:case 14:case 15:Ha(4,a,a.return),Wr(a);break;case 1:xn(a,a.return);var r=a.stateNode;typeof r.componentWillUnmount=="function"&&cy(a,a.return,r),Wr(a);break;case 26:case 27:case 5:xn(a,a.return),Wr(a);break;case 22:xn(a,a.return),a.memoizedState===null&&Wr(a);break;default:Wr(a)}n=n.sibling}}function za(n,a,r){for(r=r&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var o=a.alternate,f=n,g=a,x=g.flags;switch(g.tag){case 0:case 11:case 15:za(f,g,r),So(4,g);break;case 1:if(za(f,g,r),o=g,f=o.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(q){Je(o,o.return,q)}if(o=g,f=o.updateQueue,f!==null){var T=o.stateNode;try{var I=f.shared.hiddenCallbacks;if(I!==null)for(f.shared.hiddenCallbacks=null,f=0;f<I.length;f++)ly(I[f],T)}catch(q){Je(o,o.return,q)}}r&&x&64&&uy(g),Yi(g,g.return);break;case 26:case 27:case 5:za(f,g,r),r&&o===null&&x&4&&hy(g),Yi(g,g.return);break;case 12:za(f,g,r);break;case 13:za(f,g,r),r&&x&4&&vy(f,g);break;case 22:g.memoizedState===null&&za(f,g,r),Yi(g,g.return);break;default:za(f,g,r)}a=a.sibling}}function Sf(n,a){var r=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(r=n.memoizedState.cachePool.pool),n=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(n=a.memoizedState.cachePool.pool),n!==r&&(n!=null&&n.refCount++,r!=null&&go(r))}function wf(n,a){n=null,a.alternate!==null&&(n=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==n&&(a.refCount++,n!=null&&go(n))}function qa(n,a,r,o){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Ty(n,a,r,o),a=a.sibling}function Ty(n,a,r,o){var f=a.flags;switch(a.tag){case 0:case 11:case 15:qa(n,a,r,o),f&2048&&So(9,a);break;case 3:qa(n,a,r,o),f&2048&&(n=null,a.alternate!==null&&(n=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==n&&(a.refCount++,n!=null&&go(n)));break;case 12:if(f&2048){qa(n,a,r,o),n=a.stateNode;try{var g=a.memoizedProps,x=g.id,T=g.onPostCommit;typeof T=="function"&&T(x,a.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(I){Je(a,a.return,I)}}else qa(n,a,r,o);break;case 23:break;case 22:g=a.stateNode,a.memoizedState!==null?g._visibility&4?qa(n,a,r,o):wo(n,a):g._visibility&4?qa(n,a,r,o):(g._visibility|=4,Xr(n,a,r,o,(a.subtreeFlags&10256)!==0)),f&2048&&Sf(a.alternate,a);break;case 24:qa(n,a,r,o),f&2048&&wf(a.alternate,a);break;default:qa(n,a,r,o)}}function Xr(n,a,r,o,f){for(f=f&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var g=n,x=a,T=r,I=o,q=x.flags;switch(x.tag){case 0:case 11:case 15:Xr(g,x,T,I,f),So(8,x);break;case 23:break;case 22:var J=x.stateNode;x.memoizedState!==null?J._visibility&4?Xr(g,x,T,I,f):wo(g,x):(J._visibility|=4,Xr(g,x,T,I,f)),f&&q&2048&&Sf(x.alternate,x);break;case 24:Xr(g,x,T,I,f),f&&q&2048&&wf(x.alternate,x);break;default:Xr(g,x,T,I,f)}a=a.sibling}}function wo(n,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var r=n,o=a,f=o.flags;switch(o.tag){case 22:wo(r,o),f&2048&&Sf(o.alternate,o);break;case 24:wo(r,o),f&2048&&wf(o.alternate,o);break;default:wo(r,o)}a=a.sibling}}var Ro=8192;function Zr(n){if(n.subtreeFlags&Ro)for(n=n.child;n!==null;)by(n),n=n.sibling}function by(n){switch(n.tag){case 26:Zr(n),n.flags&Ro&&n.memoizedState!==null&&XA(Yn,n.memoizedState,n.memoizedProps);break;case 5:Zr(n);break;case 3:case 4:var a=Yn;Yn=Bc(n.stateNode.containerInfo),Zr(n),Yn=a;break;case 22:n.memoizedState===null&&(a=n.alternate,a!==null&&a.memoizedState!==null?(a=Ro,Ro=16777216,Zr(n),Ro=a):Zr(n));break;default:Zr(n)}}function Ay(n){var a=n.alternate;if(a!==null&&(n=a.child,n!==null)){a.child=null;do a=n.sibling,n.sibling=null,n=a;while(n!==null)}}function No(n){var a=n.deletions;if((n.flags&16)!==0){if(a!==null)for(var r=0;r<a.length;r++){var o=a[r];Ut=o,wy(o,n)}Ay(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Sy(n),n=n.sibling}function Sy(n){switch(n.tag){case 0:case 11:case 15:No(n),n.flags&2048&&Ha(9,n,n.return);break;case 3:No(n);break;case 12:No(n);break;case 22:var a=n.stateNode;n.memoizedState!==null&&a._visibility&4&&(n.return===null||n.return.tag!==13)?(a._visibility&=-5,wc(n)):No(n);break;default:No(n)}}function wc(n){var a=n.deletions;if((n.flags&16)!==0){if(a!==null)for(var r=0;r<a.length;r++){var o=a[r];Ut=o,wy(o,n)}Ay(n)}for(n=n.child;n!==null;){switch(a=n,a.tag){case 0:case 11:case 15:Ha(8,a,a.return),wc(a);break;case 22:r=a.stateNode,r._visibility&4&&(r._visibility&=-5,wc(a));break;default:wc(a)}n=n.sibling}}function wy(n,a){for(;Ut!==null;){var r=Ut;switch(r.tag){case 0:case 11:case 15:Ha(8,r,a);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:go(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Ut=o;else e:for(r=n;Ut!==null;){o=Ut;var f=o.sibling,g=o.return;if(_y(o),o===r){Ut=null;break e}if(f!==null){f.return=g,Ut=f;break e}Ut=g}}}function cA(n,a,r,o){this.tag=n,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hn(n,a,r,o){return new cA(n,a,r,o)}function Rf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Ka(n,a){var r=n.alternate;return r===null?(r=Hn(n.tag,a,n.key,n.mode),r.elementType=n.elementType,r.type=n.type,r.stateNode=n.stateNode,r.alternate=n,n.alternate=r):(r.pendingProps=a,r.type=n.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=n.flags&31457280,r.childLanes=n.childLanes,r.lanes=n.lanes,r.child=n.child,r.memoizedProps=n.memoizedProps,r.memoizedState=n.memoizedState,r.updateQueue=n.updateQueue,a=n.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},r.sibling=n.sibling,r.index=n.index,r.ref=n.ref,r.refCleanup=n.refCleanup,r}function Ry(n,a){n.flags&=31457282;var r=n.alternate;return r===null?(n.childLanes=0,n.lanes=a,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=r.childLanes,n.lanes=r.lanes,n.child=r.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=r.memoizedProps,n.memoizedState=r.memoizedState,n.updateQueue=r.updateQueue,n.type=r.type,a=r.dependencies,n.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),n}function Rc(n,a,r,o,f,g){var x=0;if(o=n,typeof n=="function")Rf(n)&&(x=1);else if(typeof n=="string")x=YA(n,r,nn.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case p:return Wi(r.children,f,g,a);case _:x=8,f|=24;break;case E:return n=Hn(12,r,a,f|2),n.elementType=E,n.lanes=g,n;case z:return n=Hn(13,r,a,f),n.elementType=z,n.lanes=g,n;case P:return n=Hn(19,r,a,f),n.elementType=P,n.lanes=g,n;case $:return Ny(r,f,g,a);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case b:case N:x=10;break e;case w:x=9;break e;case j:x=11;break e;case K:x=14;break e;case H:x=16,o=null;break e}x=29,r=Error(i(130,n===null?"null":typeof n,"")),o=null}return a=Hn(x,r,a,f),a.elementType=n,a.type=o,a.lanes=g,a}function Wi(n,a,r,o){return n=Hn(7,n,o,a),n.lanes=r,n}function Ny(n,a,r,o){n=Hn(22,n,o,a),n.elementType=$,n.lanes=r;var f={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var g=f._current;if(g===null)throw Error(i(456));if((f._pendingVisibility&2)===0){var x=ja(g,2);x!==null&&(f._pendingVisibility|=2,on(x,g,2))}},attach:function(){var g=f._current;if(g===null)throw Error(i(456));if((f._pendingVisibility&2)!==0){var x=ja(g,2);x!==null&&(f._pendingVisibility&=-3,on(x,g,2))}}};return n.stateNode=f,n}function Nf(n,a,r){return n=Hn(6,n,null,a),n.lanes=r,n}function kf(n,a,r){return a=Hn(4,n.children!==null?n.children:[],n.key,a),a.lanes=r,a.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},a}function Ws(n){n.flags|=4}function ky(n,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!fv(a)){if(a=Pn.current,a!==null&&((ze&4194176)===ze?ps!==null:(ze&62914560)!==ze&&(ze&536870912)===0||a!==ps))throw ho=Dd,Gp;n.flags|=8192}}function Nc(n,a){a!==null&&(n.flags|=4),n.flags&16384&&(a=n.tag!==22?xa():536870912,n.lanes|=a,el|=a)}function ko(n,a){if(!Ge)switch(n.tailMode){case"hidden":a=n.tail;for(var r=null;a!==null;)a.alternate!==null&&(r=a),a=a.sibling;r===null?n.tail=null:r.sibling=null;break;case"collapsed":r=n.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?a||n.tail===null?n.tail=null:n.tail.sibling=null:o.sibling=null}}function lt(n){var a=n.alternate!==null&&n.alternate.child===n.child,r=0,o=0;if(a)for(var f=n.child;f!==null;)r|=f.lanes|f.childLanes,o|=f.subtreeFlags&31457280,o|=f.flags&31457280,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)r|=f.lanes|f.childLanes,o|=f.subtreeFlags,o|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=o,n.childLanes=r,a}function hA(n,a,r){var o=a.pendingProps;switch(Id(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(a),null;case 1:return lt(a),null;case 3:return r=a.stateNode,o=null,n!==null&&(o=n.memoizedState.cache),a.memoizedState.cache!==o&&(a.flags|=2048),Gs(It),ks(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(lo(a)?Ws(a):n===null||n.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Qn!==null&&(Vf(Qn),Qn=null))),lt(a),null;case 26:return r=a.memoizedState,n===null?(Ws(a),r!==null?(lt(a),ky(a,r)):(lt(a),a.flags&=-16777217)):r?r!==n.memoizedState?(Ws(a),lt(a),ky(a,r)):(lt(a),a.flags&=-16777217):(n.memoizedProps!==o&&Ws(a),lt(a),a.flags&=-16777217),null;case 27:vr(a),r=Rn.current;var f=a.type;if(n!==null&&a.stateNode!=null)n.memoizedProps!==o&&Ws(a);else{if(!o){if(a.stateNode===null)throw Error(i(166));return lt(a),null}n=nn.current,lo(a)?Kp(a):(n=iv(f,o,r),a.stateNode=n,Ws(a))}return lt(a),null;case 5:if(vr(a),r=a.type,n!==null&&a.stateNode!=null)n.memoizedProps!==o&&Ws(a);else{if(!o){if(a.stateNode===null)throw Error(i(166));return lt(a),null}if(n=nn.current,lo(a))Kp(a);else{switch(f=Uc(Rn.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof o.is=="string"?f.createElement("select",{is:o.is}):f.createElement("select"),o.multiple?n.multiple=!0:o.size&&(n.size=o.size);break;default:n=typeof o.is=="string"?f.createElement(r,{is:o.is}):f.createElement(r)}}n[Mt]=a,n[Rt]=o;e:for(f=a.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===a)break e;for(;f.sibling===null;){if(f.return===null||f.return===a)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}a.stateNode=n;e:switch(Ft(n,r,o),r){case"button":case"input":case"select":case"textarea":n=!!o.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Ws(a)}}return lt(a),a.flags&=-16777217,null;case 6:if(n&&a.stateNode!=null)n.memoizedProps!==o&&Ws(a);else{if(typeof o!="string"&&a.stateNode===null)throw Error(i(166));if(n=Rn.current,lo(a)){if(n=a.stateNode,r=a.memoizedProps,o=null,f=ln,f!==null)switch(f.tag){case 27:case 5:o=f.memoizedProps}n[Mt]=a,n=!!(n.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||Jy(n.nodeValue,r)),n||Bi(a)}else n=Uc(n).createTextNode(o),n[Mt]=a,a.stateNode=n}return lt(a),null;case 13:if(o=a.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=lo(a),o!==null&&o.dehydrated!==null){if(n===null){if(!f)throw Error(i(318));if(f=a.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[Mt]=a}else oo(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;lt(a),f=!1}else Qn!==null&&(Vf(Qn),Qn=null),f=!0;if(!f)return a.flags&256?(zs(a),a):(zs(a),null)}if(zs(a),(a.flags&128)!==0)return a.lanes=r,a;if(r=o!==null,n=n!==null&&n.memoizedState!==null,r){o=a.child,f=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(f=o.alternate.memoizedState.cachePool.pool);var g=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(g=o.memoizedState.cachePool.pool),g!==f&&(o.flags|=2048)}return r!==n&&r&&(a.child.flags|=8192),Nc(a,a.updateQueue),lt(a),null;case 4:return ks(),n===null&&Qf(a.stateNode.containerInfo),lt(a),null;case 10:return Gs(a.type),lt(a),null;case 19:if(ht(Ct),f=a.memoizedState,f===null)return lt(a),null;if(o=(a.flags&128)!==0,g=f.rendering,g===null)if(o)ko(f,!1);else{if(mt!==0||n!==null&&(n.flags&128)!==0)for(n=a.child;n!==null;){if(g=hc(n),g!==null){for(a.flags|=128,ko(f,!1),n=g.updateQueue,a.updateQueue=n,Nc(a,n),a.subtreeFlags=0,n=r,r=a.child;r!==null;)Ry(r,n),r=r.sibling;return We(Ct,Ct.current&1|2),a.child}n=n.sibling}f.tail!==null&&hn()>kc&&(a.flags|=128,o=!0,ko(f,!1),a.lanes=4194304)}else{if(!o)if(n=hc(g),n!==null){if(a.flags|=128,o=!0,n=n.updateQueue,a.updateQueue=n,Nc(a,n),ko(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!Ge)return lt(a),null}else 2*hn()-f.renderingStartTime>kc&&r!==536870912&&(a.flags|=128,o=!0,ko(f,!1),a.lanes=4194304);f.isBackwards?(g.sibling=a.child,a.child=g):(n=f.last,n!==null?n.sibling=g:a.child=g,f.last=g)}return f.tail!==null?(a=f.tail,f.rendering=a,f.tail=a.sibling,f.renderingStartTime=hn(),a.sibling=null,n=Ct.current,We(Ct,o?n&1|2:n&1),a):(lt(a),null);case 22:case 23:return zs(a),Md(),o=a.memoizedState!==null,n!==null?n.memoizedState!==null!==o&&(a.flags|=8192):o&&(a.flags|=8192),o?(r&536870912)!==0&&(a.flags&128)===0&&(lt(a),a.subtreeFlags&6&&(a.flags|=8192)):lt(a),r=a.updateQueue,r!==null&&Nc(a,r.retryQueue),r=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(r=n.memoizedState.cachePool.pool),o=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(o=a.memoizedState.cachePool.pool),o!==r&&(a.flags|=2048),n!==null&&ht(zi),null;case 24:return r=null,n!==null&&(r=n.memoizedState.cache),a.memoizedState.cache!==r&&(a.flags|=2048),Gs(It),lt(a),null;case 25:return null}throw Error(i(156,a.tag))}function dA(n,a){switch(Id(a),a.tag){case 1:return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 3:return Gs(It),ks(),n=a.flags,(n&65536)!==0&&(n&128)===0?(a.flags=n&-65537|128,a):null;case 26:case 27:case 5:return vr(a),null;case 13:if(zs(a),n=a.memoizedState,n!==null&&n.dehydrated!==null){if(a.alternate===null)throw Error(i(340));oo()}return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 19:return ht(Ct),null;case 4:return ks(),null;case 10:return Gs(a.type),null;case 22:case 23:return zs(a),Md(),n!==null&&ht(zi),n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 24:return Gs(It),null;case 25:return null;default:return null}}function Cy(n,a){switch(Id(a),a.tag){case 3:Gs(It),ks();break;case 26:case 27:case 5:vr(a);break;case 4:ks();break;case 13:zs(a);break;case 19:ht(Ct);break;case 10:Gs(a.type);break;case 22:case 23:zs(a),Md(),n!==null&&ht(zi);break;case 24:Gs(It)}}var fA={getCacheForType:function(n){var a=Wt(It),r=a.data.get(n);return r===void 0&&(r=n(),a.data.set(n,r)),r}},mA=typeof WeakMap=="function"?WeakMap:Map,ot=0,et=null,Oe=null,ze=0,tt=0,Tn=null,Xs=!1,Jr=!1,Cf=!1,Zs=0,mt=0,Fa=0,Xi=0,If=0,zn=0,el=0,Co=null,ys=null,jf=!1,Df=0,kc=1/0,Cc=null,Ga=null,Ic=!1,Zi=null,Io=0,Of=0,Mf=null,jo=0,Lf=null;function bn(){if((ot&2)!==0&&ze!==0)return ze&-ze;if(A.T!==null){var n=Fr;return n!==0?n:Kf()}return Vu()}function Iy(){zn===0&&(zn=(ze&536870912)===0||Ge?ql():536870912);var n=Pn.current;return n!==null&&(n.flags|=32),zn}function on(n,a,r){(n===et&&tt===2||n.cancelPendingCommit!==null)&&(tl(n,0),Js(n,ze,zn,!1)),pt(n,r),((ot&2)===0||n!==et)&&(n===et&&((ot&2)===0&&(Xi|=r),mt===4&&Js(n,ze,zn,!1)),vs(n))}function jy(n,a,r){if((ot&6)!==0)throw Error(i(327));var o=!r&&(a&60)===0&&(a&n.expiredLanes)===0||va(n,a),f=o?_A(n,a):Bf(n,a,!0),g=o;do{if(f===0){Jr&&!o&&Js(n,a,0,!1);break}else if(f===6)Js(n,a,0,!Xs);else{if(r=n.current.alternate,g&&!gA(r)){f=Bf(n,a,!1),g=!1;continue}if(f===2){if(g=a,n.errorRecoveryDisabledLanes&g)var x=0;else x=n.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){a=x;e:{var T=n;f=Co;var I=T.current.memoizedState.isDehydrated;if(I&&(tl(T,x).flags|=256),x=Bf(T,x,!1),x!==2){if(Cf&&!I){T.errorRecoveryDisabledLanes|=g,Xi|=g,f=4;break e}g=ys,ys=f,g!==null&&Vf(g)}f=x}if(g=!1,f!==2)continue}}if(f===1){tl(n,0),Js(n,a,0,!0);break}e:{switch(o=n,f){case 0:case 1:throw Error(i(345));case 4:if((a&4194176)===a){Js(o,a,zn,!Xs);break e}break;case 2:ys=null;break;case 3:case 5:break;default:throw Error(i(329))}if(o.finishedWork=r,o.finishedLanes=a,(a&62914560)===a&&(g=Df+300-hn(),10<g)){if(Js(o,a,zn,!Xs),Nn(o,0)!==0)break e;o.timeoutHandle=nv(Dy.bind(null,o,r,ys,Cc,jf,a,zn,Xi,el,Xs,2,-0,0),g);break e}Dy(o,r,ys,Cc,jf,a,zn,Xi,el,Xs,0,-0,0)}}break}while(!0);vs(n)}function Vf(n){ys===null?ys=n:ys.push.apply(ys,n)}function Dy(n,a,r,o,f,g,x,T,I,q,J,ae,Y){var X=a.subtreeFlags;if((X&8192||(X&16785408)===16785408)&&(Po={stylesheets:null,count:0,unsuspend:WA},by(a),a=ZA(),a!==null)){n.cancelPendingCommit=a(By.bind(null,n,r,o,f,x,T,I,1,ae,Y)),Js(n,g,x,!q);return}By(n,r,o,f,x,T,I,J,ae,Y)}function gA(n){for(var a=n;;){var r=a.tag;if((r===0||r===11||r===15)&&a.flags&16384&&(r=a.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var f=r[o],g=f.getSnapshot;f=f.value;try{if(!vn(g(),f))return!1}catch{return!1}}if(r=a.child,a.subtreeFlags&16384&&r!==null)r.return=a,a=r;else{if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Js(n,a,r,o){a&=~If,a&=~Xi,n.suspendedLanes|=a,n.pingedLanes&=~a,o&&(n.warmLanes|=a),o=n.expirationTimes;for(var f=a;0<f;){var g=31-sn(f),x=1<<g;o[g]=-1,f&=~x}r!==0&&Ea(n,r,a)}function jc(){return(ot&6)===0?(Do(0),!1):!0}function Pf(){if(Oe!==null){if(tt===0)var n=Oe.return;else n=Oe,Fs=$i=null,qd(n),qr=null,fo=0,n=Oe;for(;n!==null;)Cy(n.alternate,n),n=n.return;Oe=null}}function tl(n,a){n.finishedWork=null,n.finishedLanes=0;var r=n.timeoutHandle;r!==-1&&(n.timeoutHandle=-1,OA(r)),r=n.cancelPendingCommit,r!==null&&(n.cancelPendingCommit=null,r()),Pf(),et=n,Oe=r=Ka(n.current,null),ze=a,tt=0,Tn=null,Xs=!1,Jr=va(n,a),Cf=!1,el=zn=If=Xi=Fa=mt=0,ys=Co=null,jf=!1,(a&8)!==0&&(a|=a&32);var o=n.entangledLanes;if(o!==0)for(n=n.entanglements,o&=a;0<o;){var f=31-sn(o),g=1<<f;a|=n[f],o&=~g}return Zs=a,nc(),r}function Oy(n,a){Ie=null,A.H=_s,a===co?(a=Yp(),tt=3):a===Gp?(a=Yp(),tt=4):tt=a===$_?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Tn=a,Oe===null&&(mt=1,Tc(n,Mn(a,n.current)))}function My(){var n=A.H;return A.H=_s,n===null?_s:n}function Ly(){var n=A.A;return A.A=fA,n}function Uf(){mt=4,Xs||(ze&4194176)!==ze&&Pn.current!==null||(Jr=!0),(Fa&134217727)===0&&(Xi&134217727)===0||et===null||Js(et,ze,zn,!1)}function Bf(n,a,r){var o=ot;ot|=2;var f=My(),g=Ly();(et!==n||ze!==a)&&(Cc=null,tl(n,a)),a=!1;var x=mt;e:do try{if(tt!==0&&Oe!==null){var T=Oe,I=Tn;switch(tt){case 8:Pf(),x=6;break e;case 3:case 2:case 6:Pn.current===null&&(a=!0);var q=tt;if(tt=0,Tn=null,nl(n,T,I,q),r&&Jr){x=0;break e}break;default:q=tt,tt=0,Tn=null,nl(n,T,I,q)}}pA(),x=mt;break}catch(J){Oy(n,J)}while(!0);return a&&n.shellSuspendCounter++,Fs=$i=null,ot=o,A.H=f,A.A=g,Oe===null&&(et=null,ze=0,nc()),x}function pA(){for(;Oe!==null;)Vy(Oe)}function _A(n,a){var r=ot;ot|=2;var o=My(),f=Ly();et!==n||ze!==a?(Cc=null,kc=hn()+500,tl(n,a)):Jr=va(n,a);e:do try{if(tt!==0&&Oe!==null){a=Oe;var g=Tn;t:switch(tt){case 1:tt=0,Tn=null,nl(n,a,g,1);break;case 2:if($p(g)){tt=0,Tn=null,Py(a);break}a=function(){tt===2&&et===n&&(tt=7),vs(n)},g.then(a,a);break e;case 3:tt=7;break e;case 4:tt=5;break e;case 7:$p(g)?(tt=0,Tn=null,Py(a)):(tt=0,Tn=null,nl(n,a,g,7));break;case 5:var x=null;switch(Oe.tag){case 26:x=Oe.memoizedState;case 5:case 27:var T=Oe;if(!x||fv(x)){tt=0,Tn=null;var I=T.sibling;if(I!==null)Oe=I;else{var q=T.return;q!==null?(Oe=q,Dc(q)):Oe=null}break t}}tt=0,Tn=null,nl(n,a,g,5);break;case 6:tt=0,Tn=null,nl(n,a,g,6);break;case 8:Pf(),mt=6;break e;default:throw Error(i(462))}}yA();break}catch(J){Oy(n,J)}while(!0);return Fs=$i=null,A.H=o,A.A=f,ot=r,Oe!==null?0:(et=null,ze=0,nc(),mt)}function yA(){for(;Oe!==null&&!fd();)Vy(Oe)}function Vy(n){var a=iy(n.alternate,n,Zs);n.memoizedProps=n.pendingProps,a===null?Dc(n):Oe=a}function Py(n){var a=n,r=a.alternate;switch(a.tag){case 15:case 0:a=J_(r,a,a.pendingProps,a.type,void 0,ze);break;case 11:a=J_(r,a,a.pendingProps,a.type.render,a.ref,ze);break;case 5:qd(a);default:Cy(r,a),a=Oe=Ry(a,Zs),a=iy(r,a,Zs)}n.memoizedProps=n.pendingProps,a===null?Dc(n):Oe=a}function nl(n,a,r,o){Fs=$i=null,qd(a),qr=null,fo=0;var f=a.return;try{if(rA(n,f,a,r,ze)){mt=1,Tc(n,Mn(r,n.current)),Oe=null;return}}catch(g){if(f!==null)throw Oe=f,g;mt=1,Tc(n,Mn(r,n.current)),Oe=null;return}a.flags&32768?(Ge||o===1?n=!0:Jr||(ze&536870912)!==0?n=!1:(Xs=n=!0,(o===2||o===3||o===6)&&(o=Pn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Uy(a,n)):Dc(a)}function Dc(n){var a=n;do{if((a.flags&32768)!==0){Uy(a,Xs);return}n=a.return;var r=hA(a.alternate,a,Zs);if(r!==null){Oe=r;return}if(a=a.sibling,a!==null){Oe=a;return}Oe=a=n}while(a!==null);mt===0&&(mt=5)}function Uy(n,a){do{var r=dA(n.alternate,n);if(r!==null){r.flags&=32767,Oe=r;return}if(r=n.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!a&&(n=n.sibling,n!==null)){Oe=n;return}Oe=n=r}while(n!==null);mt=6,Oe=null}function By(n,a,r,o,f,g,x,T,I,q){var J=A.T,ae=ce.p;try{ce.p=2,A.T=null,vA(n,a,r,o,ae,f,g,x,T,I,q)}finally{A.T=J,ce.p=ae}}function vA(n,a,r,o,f,g,x,T){do sl();while(Zi!==null);if((ot&6)!==0)throw Error(i(327));var I=n.finishedWork;if(o=n.finishedLanes,I===null)return null;if(n.finishedWork=null,n.finishedLanes=0,I===n.current)throw Error(i(177));n.callbackNode=null,n.callbackPriority=0,n.cancelPendingCommit=null;var q=I.lanes|I.childLanes;if(q|=Nd,Mu(n,o,q,g,x,T),n===et&&(Oe=et=null,ze=0),(I.subtreeFlags&10256)===0&&(I.flags&10256)===0||Ic||(Ic=!0,Of=q,Mf=r,bA(Cs,function(){return sl(),null})),r=(I.flags&15990)!==0,(I.subtreeFlags&15990)!==0||r?(r=A.T,A.T=null,g=ce.p,ce.p=2,x=ot,ot|=4,oA(n,I),xy(I,n),qb(Zf,n.containerInfo),Fc=!!Xf,Zf=Xf=null,n.current=I,py(n,I.alternate,I),Ul(),ot=x,ce.p=g,A.T=r):n.current=I,Ic?(Ic=!1,Zi=n,Io=o):Hy(n,q),q=n.pendingLanes,q===0&&(Ga=null),Hl(I.stateNode),vs(n),a!==null)for(f=n.onRecoverableError,I=0;I<a.length;I++)q=a[I],f(q.value,{componentStack:q.stack});return(Io&3)!==0&&sl(),q=n.pendingLanes,(o&4194218)!==0&&(q&42)!==0?n===Lf?jo++:(jo=0,Lf=n):jo=0,Do(0),null}function Hy(n,a){(n.pooledCacheLanes&=a)===0&&(a=n.pooledCache,a!=null&&(n.pooledCache=null,go(a)))}function sl(){if(Zi!==null){var n=Zi,a=Of;Of=0;var r=Lu(Io),o=A.T,f=ce.p;try{if(ce.p=32>r?32:r,A.T=null,Zi===null)var g=!1;else{r=Mf,Mf=null;var x=Zi,T=Io;if(Zi=null,Io=0,(ot&6)!==0)throw Error(i(331));var I=ot;if(ot|=4,Sy(x.current),Ty(x,x.current,T,r),ot=I,Do(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(_a,x)}catch{}g=!0}return g}finally{ce.p=f,A.T=o,Hy(n,a)}}return!1}function zy(n,a,r){a=Mn(r,a),a=sf(n.stateNode,a,2),n=Ba(n,a,2),n!==null&&(pt(n,2),vs(n))}function Je(n,a,r){if(n.tag===3)zy(n,n,r);else for(;a!==null;){if(a.tag===3){zy(a,n,r);break}else if(a.tag===1){var o=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ga===null||!Ga.has(o))){n=Mn(r,n),r=F_(2),o=Ba(a,r,2),o!==null&&(G_(r,o,a,n),pt(o,2),vs(o));break}}a=a.return}}function Hf(n,a,r){var o=n.pingCache;if(o===null){o=n.pingCache=new mA;var f=new Set;o.set(a,f)}else f=o.get(a),f===void 0&&(f=new Set,o.set(a,f));f.has(r)||(Cf=!0,f.add(r),n=xA.bind(null,n,a,r),a.then(n,n))}function xA(n,a,r){var o=n.pingCache;o!==null&&o.delete(a),n.pingedLanes|=n.suspendedLanes&r,n.warmLanes&=~r,et===n&&(ze&r)===r&&(mt===4||mt===3&&(ze&62914560)===ze&&300>hn()-Df?(ot&2)===0&&tl(n,0):If|=r,el===ze&&(el=0)),vs(n)}function qy(n,a){a===0&&(a=xa()),n=ja(n,a),n!==null&&(pt(n,a),vs(n))}function EA(n){var a=n.memoizedState,r=0;a!==null&&(r=a.retryLane),qy(n,r)}function TA(n,a){var r=0;switch(n.tag){case 13:var o=n.stateNode,f=n.memoizedState;f!==null&&(r=f.retryLane);break;case 19:o=n.stateNode;break;case 22:o=n.stateNode._retryCache;break;default:throw Error(i(314))}o!==null&&o.delete(a),qy(n,r)}function bA(n,a){return Ti(n,a)}var Oc=null,al=null,zf=!1,Mc=!1,qf=!1,Ji=0;function vs(n){n!==al&&n.next===null&&(al===null?Oc=al=n:al=al.next=n),Mc=!0,zf||(zf=!0,SA(AA))}function Do(n,a){if(!qf&&Mc){qf=!0;do for(var r=!1,o=Oc;o!==null;){if(n!==0){var f=o.pendingLanes;if(f===0)var g=0;else{var x=o.suspendedLanes,T=o.pingedLanes;g=(1<<31-sn(42|n)+1)-1,g&=f&~(x&~T),g=g&201326677?g&201326677|1:g?g|2:0}g!==0&&(r=!0,Gy(o,g))}else g=ze,g=Nn(o,o===et?g:0),(g&3)===0||va(o,g)||(r=!0,Gy(o,g));o=o.next}while(r);qf=!1}}function AA(){Mc=zf=!1;var n=0;Ji!==0&&(DA()&&(n=Ji),Ji=0);for(var a=hn(),r=null,o=Oc;o!==null;){var f=o.next,g=Ky(o,a);g===0?(o.next=null,r===null?Oc=f:r.next=f,f===null&&(al=r)):(r=o,(n!==0||(g&3)!==0)&&(Mc=!0)),o=f}Do(n)}function Ky(n,a){for(var r=n.suspendedLanes,o=n.pingedLanes,f=n.expirationTimes,g=n.pendingLanes&-62914561;0<g;){var x=31-sn(g),T=1<<x,I=f[x];I===-1?((T&r)===0||(T&o)!==0)&&(f[x]=Tr(T,a)):I<=a&&(n.expiredLanes|=T),g&=~T}if(a=et,r=ze,r=Nn(n,n===a?r:0),o=n.callbackNode,r===0||n===a&&tt===2||n.cancelPendingCommit!==null)return o!==null&&o!==null&&Er(o),n.callbackNode=null,n.callbackPriority=0;if((r&3)===0||va(n,r)){if(a=r&-r,a===n.callbackPriority)return a;switch(o!==null&&Er(o),Lu(r)){case 2:case 8:r=Ot;break;case 32:r=Cs;break;case 268435456:r=Bl;break;default:r=Cs}return o=Fy.bind(null,n),r=Ti(r,o),n.callbackPriority=a,n.callbackNode=r,a}return o!==null&&o!==null&&Er(o),n.callbackPriority=2,n.callbackNode=null,2}function Fy(n,a){var r=n.callbackNode;if(sl()&&n.callbackNode!==r)return null;var o=ze;return o=Nn(n,n===et?o:0),o===0?null:(jy(n,o,a),Ky(n,hn()),n.callbackNode!=null&&n.callbackNode===r?Fy.bind(null,n):null)}function Gy(n,a){if(sl())return null;jy(n,a,!0)}function SA(n){MA(function(){(ot&6)!==0?Ti(wt,n):n()})}function Kf(){return Ji===0&&(Ji=ql()),Ji}function $y(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:os(""+n)}function Qy(n,a){var r=a.ownerDocument.createElement("input");return r.name=a.name,r.value=a.value,n.id&&r.setAttribute("form",n.id),a.parentNode.insertBefore(r,a),n=new FormData(n),r.parentNode.removeChild(r),n}function wA(n,a,r,o,f){if(a==="submit"&&r&&r.stateNode===f){var g=$y((f[Rt]||null).action),x=o.submitter;x&&(a=(a=x[Rt]||null)?$y(a.formAction):x.getAttribute("formAction"),a!==null&&(g=a,x=null));var T=new kr("action","action",null,o,f);n.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ji!==0){var I=x?Qy(f,x):new FormData(f);Zd(r,{pending:!0,data:I,method:f.method,action:g},null,I)}}else typeof g=="function"&&(T.preventDefault(),I=x?Qy(f,x):new FormData(f),Zd(r,{pending:!0,data:I,method:f.method,action:g},g,I))},currentTarget:f}]})}}for(var Ff=0;Ff<Bp.length;Ff++){var Gf=Bp[Ff],RA=Gf.toLowerCase(),NA=Gf[0].toUpperCase()+Gf.slice(1);$n(RA,"on"+NA)}$n(Mp,"onAnimationEnd"),$n(Lp,"onAnimationIteration"),$n(Vp,"onAnimationStart"),$n("dblclick","onDoubleClick"),$n("focusin","onFocus"),$n("focusout","onBlur"),$n(Fb,"onTransitionRun"),$n(Gb,"onTransitionStart"),$n($b,"onTransitionCancel"),$n(Pp,"onTransitionEnd"),dn("onMouseEnter",["mouseout","mouseover"]),dn("onMouseLeave",["mouseout","mouseover"]),dn("onPointerEnter",["pointerout","pointerover"]),dn("onPointerLeave",["pointerout","pointerover"]),_n("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_n("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_n("onBeforeInput",["compositionend","keypress","textInput","paste"]),_n("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_n("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_n("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Oo));function Yy(n,a){a=(a&4)!==0;for(var r=0;r<n.length;r++){var o=n[r],f=o.event;o=o.listeners;e:{var g=void 0;if(a)for(var x=o.length-1;0<=x;x--){var T=o[x],I=T.instance,q=T.currentTarget;if(T=T.listener,I!==g&&f.isPropagationStopped())break e;g=T,f.currentTarget=q;try{g(f)}catch(J){Ec(J)}f.currentTarget=null,g=I}else for(x=0;x<o.length;x++){if(T=o[x],I=T.instance,q=T.currentTarget,T=T.listener,I!==g&&f.isPropagationStopped())break e;g=T,f.currentTarget=q;try{g(f)}catch(J){Ec(J)}f.currentTarget=null,g=I}}}}function Pe(n,a){var r=a[Ai];r===void 0&&(r=a[Ai]=new Set);var o=n+"__bubble";r.has(o)||(Wy(a,n,2,!1),r.add(o))}function $f(n,a,r){var o=0;a&&(o|=4),Wy(r,n,o,a)}var Lc="_reactListening"+Math.random().toString(36).slice(2);function Qf(n){if(!n[Lc]){n[Lc]=!0,Fl.forEach(function(r){r!=="selectionchange"&&(kA.has(r)||$f(r,!1,n),$f(r,!0,n))});var a=n.nodeType===9?n:n.ownerDocument;a===null||a[Lc]||(a[Lc]=!0,$f("selectionchange",!1,a))}}function Wy(n,a,r,o){switch(vv(a)){case 2:var f=tS;break;case 8:f=nS;break;default:f=lm}r=f.bind(null,a,r,n),f=void 0,!jn||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(f=!0),o?f!==void 0?n.addEventListener(a,r,{capture:!0,passive:f}):n.addEventListener(a,r,!0):f!==void 0?n.addEventListener(a,r,{passive:f}):n.addEventListener(a,r,!1)}function Yf(n,a,r,o,f){var g=o;if((a&1)===0&&(a&2)===0&&o!==null)e:for(;;){if(o===null)return;var x=o.tag;if(x===3||x===4){var T=o.stateNode.containerInfo;if(T===f||T.nodeType===8&&T.parentNode===f)break;if(x===4)for(x=o.return;x!==null;){var I=x.tag;if((I===3||I===4)&&(I=x.stateNode.containerInfo,I===f||I.nodeType===8&&I.parentNode===f))return;x=x.return}for(;T!==null;){if(x=Gn(T),x===null)return;if(I=x.tag,I===5||I===6||I===26||I===27){o=g=x;continue e}T=T.parentNode}}o=o.return}Hu(function(){var q=g,J=Nr(r),ae=[];e:{var Y=Up.get(n);if(Y!==void 0){var X=kr,_e=n;switch(n){case"keypress":if(cs(r)===0)break e;case"keydown":case"keyup":X=Mr;break;case"focusin":_e="focus",X=jr;break;case"focusout":_e="blur",X=jr;break;case"beforeblur":case"afterblur":X=jr;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Dn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=xd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=Yu;break;case Mp:case Lp:case Vp:X=Dr;break;case Pp:X=Xu;break;case"scroll":case"scrollend":X=zu;break;case"wheel":X=Lr;break;case"copy":case"cut":case"paste":X=Or;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=so;break;case"toggle":case"beforetoggle":X=Ju}var we=(a&4)!==0,gt=!we&&(n==="scroll"||n==="scrollend"),F=we?Y!==null?Y+"Capture":null:Y;we=[];for(var B=q,Q;B!==null;){var te=B;if(Q=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||Q===null||F===null||(te=ki(B,F),te!=null&&we.push(Mo(B,te,Q))),gt)break;B=B.return}0<we.length&&(Y=new X(Y,_e,null,r,J),ae.push({event:Y,listeners:we}))}}if((a&7)===0){e:{if(Y=n==="mouseover"||n==="pointerover",X=n==="mouseout"||n==="pointerout",Y&&r!==In&&(_e=r.relatedTarget||r.fromElement)&&(Gn(_e)||_e[Is]))break e;if((X||Y)&&(Y=J.window===J?J:(Y=J.ownerDocument)?Y.defaultView||Y.parentWindow:window,X?(_e=r.relatedTarget||r.toElement,X=q,_e=_e?Gn(_e):null,_e!==null&&(gt=pe(_e),we=_e.tag,_e!==gt||we!==5&&we!==27&&we!==6)&&(_e=null)):(X=null,_e=q),X!==_e)){if(we=Dn,te="onMouseLeave",F="onMouseEnter",B="mouse",(n==="pointerout"||n==="pointerover")&&(we=so,te="onPointerLeave",F="onPointerEnter",B="pointer"),gt=X==null?Y:Sa(X),Q=_e==null?Y:Sa(_e),Y=new we(te,B+"leave",X,r,J),Y.target=gt,Y.relatedTarget=Q,te=null,Gn(J)===q&&(we=new we(F,B+"enter",_e,r,J),we.target=Q,we.relatedTarget=gt,te=we),gt=te,X&&_e)t:{for(we=X,F=_e,B=0,Q=we;Q;Q=il(Q))B++;for(Q=0,te=F;te;te=il(te))Q++;for(;0<B-Q;)we=il(we),B--;for(;0<Q-B;)F=il(F),Q--;for(;B--;){if(we===F||F!==null&&we===F.alternate)break t;we=il(we),F=il(F)}we=null}else we=null;X!==null&&Xy(ae,Y,X,we,!1),_e!==null&&gt!==null&&Xy(ae,gt,_e,we,!0)}}e:{if(Y=q?Sa(q):window,X=Y.nodeName&&Y.nodeName.toLowerCase(),X==="select"||X==="input"&&Y.type==="file")var fe=Ap;else if(kt(Y))if(Sp)fe=Hb;else{fe=Ub;var De=Pb}else X=Y.nodeName,!X||X.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?q&&Wl(q.elementType)&&(fe=Ap):fe=Bb;if(fe&&(fe=fe(n,q))){Us(ae,fe,r,J);break e}De&&De(n,Y,q),n==="focusout"&&q&&Y.type==="number"&&q.memoizedProps.value!=null&&Rr(Y,"number",Y.value)}switch(De=q?Sa(q):window,n){case"focusin":(kt(De)||De.contentEditable==="true")&&(Vr=De,Sd=q,ro=null);break;case"focusout":ro=Sd=Vr=null;break;case"mousedown":wd=!0;break;case"contextmenu":case"mouseup":case"dragend":wd=!1,Dp(ae,r,J);break;case"selectionchange":if(Kb)break;case"keydown":case"keyup":Dp(ae,r,J)}var ve;if(fs)e:{switch(n){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else Be?W(n,r)&&(Ee="onCompositionEnd"):n==="keydown"&&r.keyCode===229&&(Ee="onCompositionStart");Ee&&(v&&r.locale!=="ko"&&(Be||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&Be&&(ve=Zl()):(us=J,Ia="value"in us?us.value:us.textContent,Be=!0)),De=Vc(q,Ee),0<De.length&&(Ee=new to(Ee,n,null,r,J),ae.push({event:Ee,listeners:De}),ve?Ee.data=ve:(ve=oe(r),ve!==null&&(Ee.data=ve)))),(ve=y?Nt(n,r):He(n,r))&&(Ee=Vc(q,"onBeforeInput"),0<Ee.length&&(De=new to("onBeforeInput","beforeinput",null,r,J),ae.push({event:De,listeners:Ee}),De.data=ve)),wA(ae,n,q,r,J)}Yy(ae,a)})}function Mo(n,a,r){return{instance:n,listener:a,currentTarget:r}}function Vc(n,a){for(var r=a+"Capture",o=[];n!==null;){var f=n,g=f.stateNode;f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=ki(n,r),f!=null&&o.unshift(Mo(n,f,g)),f=ki(n,a),f!=null&&o.push(Mo(n,f,g))),n=n.return}return o}function il(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Xy(n,a,r,o,f){for(var g=a._reactName,x=[];r!==null&&r!==o;){var T=r,I=T.alternate,q=T.stateNode;if(T=T.tag,I!==null&&I===o)break;T!==5&&T!==26&&T!==27||q===null||(I=q,f?(q=ki(r,g),q!=null&&x.unshift(Mo(r,q,I))):f||(q=ki(r,g),q!=null&&x.push(Mo(r,q,I)))),r=r.return}x.length!==0&&n.push({event:a,listeners:x})}var CA=/\r\n?/g,IA=/\u0000|\uFFFD/g;function Zy(n){return(typeof n=="string"?n:""+n).replace(CA,`
`).replace(IA,"")}function Jy(n,a){return a=Zy(a),Zy(n)===a}function Pc(){}function Ze(n,a,r,o,f,g){switch(r){case"children":typeof o=="string"?a==="body"||a==="textarea"&&o===""||Cn(n,o):(typeof o=="number"||typeof o=="bigint")&&a!=="body"&&Cn(n,""+o);break;case"className":Na(n,"class",o);break;case"tabIndex":Na(n,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Na(n,r,o);break;case"style":Bu(n,o,g);break;case"data":if(a!=="object"){Na(n,"data",o);break}case"src":case"href":if(o===""&&(a!=="a"||r!=="href")){n.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){n.removeAttribute(r);break}o=os(""+o),n.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){n.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(r==="formAction"?(a!=="input"&&Ze(n,a,"name",f.name,f,null),Ze(n,a,"formEncType",f.formEncType,f,null),Ze(n,a,"formMethod",f.formMethod,f,null),Ze(n,a,"formTarget",f.formTarget,f,null)):(Ze(n,a,"encType",f.encType,f,null),Ze(n,a,"method",f.method,f,null),Ze(n,a,"target",f.target,f,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){n.removeAttribute(r);break}o=os(""+o),n.setAttribute(r,o);break;case"onClick":o!=null&&(n.onclick=Pc);break;case"onScroll":o!=null&&Pe("scroll",n);break;case"onScrollEnd":o!=null&&Pe("scrollend",n);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(r=o.__html,r!=null){if(f.children!=null)throw Error(i(60));n.innerHTML=r}}break;case"multiple":n.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":n.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){n.removeAttribute("xlink:href");break}r=os(""+o),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?n.setAttribute(r,""+o):n.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?n.setAttribute(r,""):n.removeAttribute(r);break;case"capture":case"download":o===!0?n.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?n.setAttribute(r,o):n.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?n.setAttribute(r,o):n.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?n.removeAttribute(r):n.setAttribute(r,o);break;case"popover":Pe("beforetoggle",n),Pe("toggle",n),Ra(n,"popover",o);break;case"xlinkActuate":kn(n,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":kn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":kn(n,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":kn(n,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":kn(n,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":kn(n,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":kn(n,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":kn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":kn(n,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Ra(n,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=yd.get(r)||r,Ra(n,r,o))}}function Wf(n,a,r,o,f,g){switch(r){case"style":Bu(n,o,g);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(r=o.__html,r!=null){if(f.children!=null)throw Error(i(60));n.innerHTML=r}}break;case"children":typeof o=="string"?Cn(n,o):(typeof o=="number"||typeof o=="bigint")&&Cn(n,""+o);break;case"onScroll":o!=null&&Pe("scroll",n);break;case"onScrollEnd":o!=null&&Pe("scrollend",n);break;case"onClick":o!=null&&(n.onclick=Pc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Sr.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(f=r.endsWith("Capture"),a=r.slice(2,f?r.length-7:void 0),g=n[Rt]||null,g=g!=null?g[r]:null,typeof g=="function"&&n.removeEventListener(a,g,f),typeof o=="function")){typeof g!="function"&&g!==null&&(r in n?n[r]=null:n.hasAttribute(r)&&n.removeAttribute(r)),n.addEventListener(a,o,f);break e}r in n?n[r]=o:o===!0?n.setAttribute(r,""):Ra(n,r,o)}}}function Ft(n,a,r){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",n),Pe("load",n);var o=!1,f=!1,g;for(g in r)if(r.hasOwnProperty(g)){var x=r[g];if(x!=null)switch(g){case"src":o=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Ze(n,a,g,x,r,null)}}f&&Ze(n,a,"srcSet",r.srcSet,r,null),o&&Ze(n,a,"src",r.src,r,null);return;case"input":Pe("invalid",n);var T=g=x=f=null,I=null,q=null;for(o in r)if(r.hasOwnProperty(o)){var J=r[o];if(J!=null)switch(o){case"name":f=J;break;case"type":x=J;break;case"checked":I=J;break;case"defaultChecked":q=J;break;case"value":g=J;break;case"defaultValue":T=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,a));break;default:Ze(n,a,o,J,r,null)}}Ri(n,g,T,I,q,x,f,!1),wi(n);return;case"select":Pe("invalid",n),o=x=g=null;for(f in r)if(r.hasOwnProperty(f)&&(T=r[f],T!=null))switch(f){case"value":g=T;break;case"defaultValue":x=T;break;case"multiple":o=T;default:Ze(n,a,f,T,r,null)}a=g,r=x,n.multiple=!!o,a!=null?Fe(n,!!o,a,!1):r!=null&&Fe(n,!!o,r,!0);return;case"textarea":Pe("invalid",n),g=f=o=null;for(x in r)if(r.hasOwnProperty(x)&&(T=r[x],T!=null))switch(x){case"value":o=T;break;case"defaultValue":f=T;break;case"children":g=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(i(91));break;default:Ze(n,a,x,T,r,null)}Ca(n,o,f,g),wi(n);return;case"option":for(I in r)if(r.hasOwnProperty(I)&&(o=r[I],o!=null))switch(I){case"selected":n.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Ze(n,a,I,o,r,null)}return;case"dialog":Pe("cancel",n),Pe("close",n);break;case"iframe":case"object":Pe("load",n);break;case"video":case"audio":for(o=0;o<Oo.length;o++)Pe(Oo[o],n);break;case"image":Pe("error",n),Pe("load",n);break;case"details":Pe("toggle",n);break;case"embed":case"source":case"link":Pe("error",n),Pe("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in r)if(r.hasOwnProperty(q)&&(o=r[q],o!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Ze(n,a,q,o,r,null)}return;default:if(Wl(a)){for(J in r)r.hasOwnProperty(J)&&(o=r[J],o!==void 0&&Wf(n,a,J,o,r,void 0));return}}for(T in r)r.hasOwnProperty(T)&&(o=r[T],o!=null&&Ze(n,a,T,o,r,null))}function jA(n,a,r,o){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,x=null,T=null,I=null,q=null,J=null;for(X in r){var ae=r[X];if(r.hasOwnProperty(X)&&ae!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":I=ae;default:o.hasOwnProperty(X)||Ze(n,a,X,null,o,ae)}}for(var Y in o){var X=o[Y];if(ae=r[Y],o.hasOwnProperty(Y)&&(X!=null||ae!=null))switch(Y){case"type":g=X;break;case"name":f=X;break;case"checked":q=X;break;case"defaultChecked":J=X;break;case"value":x=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,a));break;default:X!==ae&&Ze(n,a,Y,X,o,ae)}}ka(n,x,T,I,q,J,g,f);return;case"select":X=x=T=Y=null;for(g in r)if(I=r[g],r.hasOwnProperty(g)&&I!=null)switch(g){case"value":break;case"multiple":X=I;default:o.hasOwnProperty(g)||Ze(n,a,g,null,o,I)}for(f in o)if(g=o[f],I=r[f],o.hasOwnProperty(f)&&(g!=null||I!=null))switch(f){case"value":Y=g;break;case"defaultValue":T=g;break;case"multiple":x=g;default:g!==I&&Ze(n,a,f,g,o,I)}a=T,r=x,o=X,Y!=null?Fe(n,!!r,Y,!1):!!o!=!!r&&(a!=null?Fe(n,!!r,a,!0):Fe(n,!!r,r?[]:"",!1));return;case"textarea":X=Y=null;for(T in r)if(f=r[T],r.hasOwnProperty(T)&&f!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Ze(n,a,T,null,o,f)}for(x in o)if(f=o[x],g=r[x],o.hasOwnProperty(x)&&(f!=null||g!=null))switch(x){case"value":Y=f;break;case"defaultValue":X=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==g&&Ze(n,a,x,f,o,g)}Ni(n,Y,X);return;case"option":for(var _e in r)if(Y=r[_e],r.hasOwnProperty(_e)&&Y!=null&&!o.hasOwnProperty(_e))switch(_e){case"selected":n.selected=!1;break;default:Ze(n,a,_e,null,o,Y)}for(I in o)if(Y=o[I],X=r[I],o.hasOwnProperty(I)&&Y!==X&&(Y!=null||X!=null))switch(I){case"selected":n.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:Ze(n,a,I,Y,o,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in r)Y=r[we],r.hasOwnProperty(we)&&Y!=null&&!o.hasOwnProperty(we)&&Ze(n,a,we,null,o,Y);for(q in o)if(Y=o[q],X=r[q],o.hasOwnProperty(q)&&Y!==X&&(Y!=null||X!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(i(137,a));break;default:Ze(n,a,q,Y,o,X)}return;default:if(Wl(a)){for(var gt in r)Y=r[gt],r.hasOwnProperty(gt)&&Y!==void 0&&!o.hasOwnProperty(gt)&&Wf(n,a,gt,void 0,o,Y);for(J in o)Y=o[J],X=r[J],!o.hasOwnProperty(J)||Y===X||Y===void 0&&X===void 0||Wf(n,a,J,Y,o,X);return}}for(var F in r)Y=r[F],r.hasOwnProperty(F)&&Y!=null&&!o.hasOwnProperty(F)&&Ze(n,a,F,null,o,Y);for(ae in o)Y=o[ae],X=r[ae],!o.hasOwnProperty(ae)||Y===X||Y==null&&X==null||Ze(n,a,ae,Y,o,X)}var Xf=null,Zf=null;function Uc(n){return n.nodeType===9?n:n.ownerDocument}function ev(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function tv(n,a){if(n===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&a==="foreignObject"?0:n}function Jf(n,a){return n==="textarea"||n==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var em=null;function DA(){var n=window.event;return n&&n.type==="popstate"?n===em?!1:(em=n,!0):(em=null,!1)}var nv=typeof setTimeout=="function"?setTimeout:void 0,OA=typeof clearTimeout=="function"?clearTimeout:void 0,sv=typeof Promise=="function"?Promise:void 0,MA=typeof queueMicrotask=="function"?queueMicrotask:typeof sv<"u"?function(n){return sv.resolve(null).then(n).catch(LA)}:nv;function LA(n){setTimeout(function(){throw n})}function tm(n,a){var r=a,o=0;do{var f=r.nextSibling;if(n.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(o===0){n.removeChild(f),qo(a);return}o--}else r!=="$"&&r!=="$?"&&r!=="$!"||o++;r=f}while(r);qo(a)}function nm(n){var a=n.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var r=a;switch(a=a.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":nm(r),Si(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}n.removeChild(r)}}function VA(n,a,r,o){for(;n.nodeType===1;){var f=r;if(n.nodeName.toLowerCase()!==a.toLowerCase()){if(!o&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(o){if(!n[Aa])switch(a){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(g=n.getAttribute("rel"),g==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(g!==f.rel||n.getAttribute("href")!==(f.href==null?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(g=n.getAttribute("src"),(g!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(a==="input"&&n.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===g)return n}else return n;if(n=Wn(n.nextSibling),n===null)break}return null}function PA(n,a,r){if(a==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!r||(n=Wn(n.nextSibling),n===null))return null;return n}function Wn(n){for(;n!=null;n=n.nextSibling){var a=n.nodeType;if(a===1||a===3)break;if(a===8){if(a=n.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return n}function av(n){n=n.previousSibling;for(var a=0;n;){if(n.nodeType===8){var r=n.data;if(r==="$"||r==="$!"||r==="$?"){if(a===0)return n;a--}else r==="/$"&&a++}n=n.previousSibling}return null}function iv(n,a,r){switch(a=Uc(r),n){case"html":if(n=a.documentElement,!n)throw Error(i(452));return n;case"head":if(n=a.head,!n)throw Error(i(453));return n;case"body":if(n=a.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}var qn=new Map,rv=new Set;function Bc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.ownerDocument}var ea=ce.d;ce.d={f:UA,r:BA,D:HA,C:zA,L:qA,m:KA,X:GA,S:FA,M:$A};function UA(){var n=ea.f(),a=jc();return n||a}function BA(n){var a=js(n);a!==null&&a.tag===5&&a.type==="form"?D_(a):ea.r(n)}var rl=typeof document>"u"?null:document;function lv(n,a,r){var o=rl;if(o&&typeof a=="string"&&a){var f=dt(a);f='link[rel="'+n+'"][href="'+f+'"]',typeof r=="string"&&(f+='[crossorigin="'+r+'"]'),rv.has(f)||(rv.add(f),n={rel:n,crossOrigin:r,href:a},o.querySelector(f)===null&&(a=o.createElement("link"),Ft(a,"link",n),rt(a),o.head.appendChild(a)))}}function HA(n){ea.D(n),lv("dns-prefetch",n,null)}function zA(n,a){ea.C(n,a),lv("preconnect",n,a)}function qA(n,a,r){ea.L(n,a,r);var o=rl;if(o&&n&&a){var f='link[rel="preload"][as="'+dt(a)+'"]';a==="image"&&r&&r.imageSrcSet?(f+='[imagesrcset="'+dt(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(f+='[imagesizes="'+dt(r.imageSizes)+'"]')):f+='[href="'+dt(n)+'"]';var g=f;switch(a){case"style":g=ll(n);break;case"script":g=ol(n)}qn.has(g)||(n=C({rel:"preload",href:a==="image"&&r&&r.imageSrcSet?void 0:n,as:a},r),qn.set(g,n),o.querySelector(f)!==null||a==="style"&&o.querySelector(Lo(g))||a==="script"&&o.querySelector(Vo(g))||(a=o.createElement("link"),Ft(a,"link",n),rt(a),o.head.appendChild(a)))}}function KA(n,a){ea.m(n,a);var r=rl;if(r&&n){var o=a&&typeof a.as=="string"?a.as:"script",f='link[rel="modulepreload"][as="'+dt(o)+'"][href="'+dt(n)+'"]',g=f;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=ol(n)}if(!qn.has(g)&&(n=C({rel:"modulepreload",href:n},a),qn.set(g,n),r.querySelector(f)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Vo(g)))return}o=r.createElement("link"),Ft(o,"link",n),rt(o),r.head.appendChild(o)}}}function FA(n,a,r){ea.S(n,a,r);var o=rl;if(o&&n){var f=wa(o).hoistableStyles,g=ll(n);a=a||"default";var x=f.get(g);if(!x){var T={loading:0,preload:null};if(x=o.querySelector(Lo(g)))T.loading=5;else{n=C({rel:"stylesheet",href:n,"data-precedence":a},r),(r=qn.get(g))&&sm(n,r);var I=x=o.createElement("link");rt(I),Ft(I,"link",n),I._p=new Promise(function(q,J){I.onload=q,I.onerror=J}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Hc(x,a,o)}x={type:"stylesheet",instance:x,count:1,state:T},f.set(g,x)}}}function GA(n,a){ea.X(n,a);var r=rl;if(r&&n){var o=wa(r).hoistableScripts,f=ol(n),g=o.get(f);g||(g=r.querySelector(Vo(f)),g||(n=C({src:n,async:!0},a),(a=qn.get(f))&&am(n,a),g=r.createElement("script"),rt(g),Ft(g,"link",n),r.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},o.set(f,g))}}function $A(n,a){ea.M(n,a);var r=rl;if(r&&n){var o=wa(r).hoistableScripts,f=ol(n),g=o.get(f);g||(g=r.querySelector(Vo(f)),g||(n=C({src:n,async:!0,type:"module"},a),(a=qn.get(f))&&am(n,a),g=r.createElement("script"),rt(g),Ft(g,"link",n),r.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},o.set(f,g))}}function ov(n,a,r,o){var f=(f=Rn.current)?Bc(f):null;if(!f)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(a=ll(r.href),r=wa(f).hoistableStyles,o=r.get(a),o||(o={type:"style",instance:null,count:0,state:null},r.set(a,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){n=ll(r.href);var g=wa(f).hoistableStyles,x=g.get(n);if(x||(f=f.ownerDocument||f,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(n,x),(g=f.querySelector(Lo(n)))&&!g._p&&(x.instance=g,x.state.loading=5),qn.has(n)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},qn.set(n,r),g||QA(f,n,r,x.state))),a&&o===null)throw Error(i(528,""));return x}if(a&&o!==null)throw Error(i(529,""));return null;case"script":return a=r.async,r=r.src,typeof r=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=ol(r),r=wa(f).hoistableScripts,o=r.get(a),o||(o={type:"script",instance:null,count:0,state:null},r.set(a,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function ll(n){return'href="'+dt(n)+'"'}function Lo(n){return'link[rel="stylesheet"]['+n+"]"}function uv(n){return C({},n,{"data-precedence":n.precedence,precedence:null})}function QA(n,a,r,o){n.querySelector('link[rel="preload"][as="style"]['+a+"]")?o.loading=1:(a=n.createElement("link"),o.preload=a,a.addEventListener("load",function(){return o.loading|=1}),a.addEventListener("error",function(){return o.loading|=2}),Ft(a,"link",r),rt(a),n.head.appendChild(a))}function ol(n){return'[src="'+dt(n)+'"]'}function Vo(n){return"script[async]"+n}function cv(n,a,r){if(a.count++,a.instance===null)switch(a.type){case"style":var o=n.querySelector('style[data-href~="'+dt(r.href)+'"]');if(o)return a.instance=o,rt(o),o;var f=C({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(n.ownerDocument||n).createElement("style"),rt(o),Ft(o,"style",f),Hc(o,r.precedence,n),a.instance=o;case"stylesheet":f=ll(r.href);var g=n.querySelector(Lo(f));if(g)return a.state.loading|=4,a.instance=g,rt(g),g;o=uv(r),(f=qn.get(f))&&sm(o,f),g=(n.ownerDocument||n).createElement("link"),rt(g);var x=g;return x._p=new Promise(function(T,I){x.onload=T,x.onerror=I}),Ft(g,"link",o),a.state.loading|=4,Hc(g,r.precedence,n),a.instance=g;case"script":return g=ol(r.src),(f=n.querySelector(Vo(g)))?(a.instance=f,rt(f),f):(o=r,(f=qn.get(g))&&(o=C({},r),am(o,f)),n=n.ownerDocument||n,f=n.createElement("script"),rt(f),Ft(f,"link",o),n.head.appendChild(f),a.instance=f);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(o=a.instance,a.state.loading|=4,Hc(o,r.precedence,n));return a.instance}function Hc(n,a,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=o.length?o[o.length-1]:null,g=f,x=0;x<o.length;x++){var T=o[x];if(T.dataset.precedence===a)g=T;else if(g!==f)break}g?g.parentNode.insertBefore(n,g.nextSibling):(a=r.nodeType===9?r.head:r,a.insertBefore(n,a.firstChild))}function sm(n,a){n.crossOrigin==null&&(n.crossOrigin=a.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=a.referrerPolicy),n.title==null&&(n.title=a.title)}function am(n,a){n.crossOrigin==null&&(n.crossOrigin=a.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=a.referrerPolicy),n.integrity==null&&(n.integrity=a.integrity)}var zc=null;function hv(n,a,r){if(zc===null){var o=new Map,f=zc=new Map;f.set(r,o)}else f=zc,o=f.get(r),o||(o=new Map,f.set(r,o));if(o.has(n))return o;for(o.set(n,null),r=r.getElementsByTagName(n),f=0;f<r.length;f++){var g=r[f];if(!(g[Aa]||g[Mt]||n==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var x=g.getAttribute(a)||"";x=n+x;var T=o.get(x);T?T.push(g):o.set(x,[g])}}return o}function dv(n,a,r){n=n.ownerDocument||n,n.head.insertBefore(r,a==="title"?n.querySelector("head > title"):null)}function YA(n,a,r){if(r===1||a.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return n=a.disabled,typeof a.precedence=="string"&&n==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function fv(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Po=null;function WA(){}function XA(n,a,r){if(Po===null)throw Error(i(475));var o=Po;if(a.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=ll(r.href),g=n.querySelector(Lo(f));if(g){n=g._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(o.count++,o=qc.bind(o),n.then(o,o)),a.state.loading|=4,a.instance=g,rt(g);return}g=n.ownerDocument||n,r=uv(r),(f=qn.get(f))&&sm(r,f),g=g.createElement("link"),rt(g);var x=g;x._p=new Promise(function(T,I){x.onload=T,x.onerror=I}),Ft(g,"link",r),a.instance=g}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(o.count++,a=qc.bind(o),n.addEventListener("load",a),n.addEventListener("error",a))}}function ZA(){if(Po===null)throw Error(i(475));var n=Po;return n.stylesheets&&n.count===0&&im(n,n.stylesheets),0<n.count?function(a){var r=setTimeout(function(){if(n.stylesheets&&im(n,n.stylesheets),n.unsuspend){var o=n.unsuspend;n.unsuspend=null,o()}},6e4);return n.unsuspend=a,function(){n.unsuspend=null,clearTimeout(r)}}:null}function qc(){if(this.count--,this.count===0){if(this.stylesheets)im(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Kc=null;function im(n,a){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Kc=new Map,a.forEach(JA,n),Kc=null,qc.call(n))}function JA(n,a){if(!(a.state.loading&4)){var r=Kc.get(n);if(r)var o=r.get(null);else{r=new Map,Kc.set(n,r);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var x=f[g];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(r.set(x.dataset.precedence,x),o=x)}o&&r.set(null,o)}f=a.instance,x=f.getAttribute("data-precedence"),g=r.get(x)||o,g===o&&r.set(null,f),r.set(x,f),this.count++,o=qc.bind(this),f.addEventListener("load",o),f.addEventListener("error",o),g?g.parentNode.insertBefore(f,g.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),a.state.loading|=4}}var Uo={$$typeof:N,Provider:null,Consumer:null,_currentValue:Ne,_currentValue2:Ne,_threadCount:0};function eS(n,a,r,o,f,g,x,T){this.tag=1,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=br(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=br(0),this.hiddenUpdates=br(null),this.identifierPrefix=o,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function mv(n,a,r,o,f,g,x,T,I,q,J,ae){return n=new eS(n,a,r,x,T,I,q,ae),a=1,g===!0&&(a|=24),g=Hn(3,null,null,a),n.current=g,g.stateNode=n,a=Ld(),a.refCount++,n.pooledCache=a,a.refCount++,g.memoizedState={element:o,isDehydrated:r,cache:a},_f(g),n}function gv(n){return n?(n=Br,n):Br}function pv(n,a,r,o,f,g){f=gv(f),o.context===null?o.context=f:o.pendingContext=f,o=Ua(a),o.payload={element:r},g=g===void 0?null:g,g!==null&&(o.callback=g),r=Ba(n,o,a),r!==null&&(on(r,n,a),To(r,n,a))}function _v(n,a){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var r=n.retryLane;n.retryLane=r!==0&&r<a?r:a}}function rm(n,a){_v(n,a),(n=n.alternate)&&_v(n,a)}function yv(n){if(n.tag===13){var a=ja(n,67108864);a!==null&&on(a,n,67108864),rm(n,67108864)}}var Fc=!0;function tS(n,a,r,o){var f=A.T;A.T=null;var g=ce.p;try{ce.p=2,lm(n,a,r,o)}finally{ce.p=g,A.T=f}}function nS(n,a,r,o){var f=A.T;A.T=null;var g=ce.p;try{ce.p=8,lm(n,a,r,o)}finally{ce.p=g,A.T=f}}function lm(n,a,r,o){if(Fc){var f=om(o);if(f===null)Yf(n,a,o,Gc,r),xv(n,o);else if(aS(f,n,a,r,o))o.stopPropagation();else if(xv(n,o),a&4&&-1<sS.indexOf(n)){for(;f!==null;){var g=js(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var x=Fn(g.pendingLanes);if(x!==0){var T=g;for(T.pendingLanes|=2,T.entangledLanes|=2;x;){var I=1<<31-sn(x);T.entanglements[1]|=I,x&=~I}vs(g),(ot&6)===0&&(kc=hn()+500,Do(0))}}break;case 13:T=ja(g,2),T!==null&&on(T,g,2),jc(),rm(g,2)}if(g=om(o),g===null&&Yf(n,a,o,Gc,r),g===f)break;f=g}f!==null&&o.stopPropagation()}else Yf(n,a,o,null,r)}}function om(n){return n=Nr(n),um(n)}var Gc=null;function um(n){if(Gc=null,n=Gn(n),n!==null){var a=pe(n);if(a===null)n=null;else{var r=a.tag;if(r===13){if(n=me(a),n!==null)return n;n=null}else if(r===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;n=null}else a!==n&&(n=null)}}return Gc=n,null}function vv(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Iu()){case wt:return 2;case Ot:return 8;case Cs:case ju:return 32;case Bl:return 268435456;default:return 32}default:return 32}}var cm=!1,$a=null,Qa=null,Ya=null,Bo=new Map,Ho=new Map,Wa=[],sS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xv(n,a){switch(n){case"focusin":case"focusout":$a=null;break;case"dragenter":case"dragleave":Qa=null;break;case"mouseover":case"mouseout":Ya=null;break;case"pointerover":case"pointerout":Bo.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ho.delete(a.pointerId)}}function zo(n,a,r,o,f,g){return n===null||n.nativeEvent!==g?(n={blockedOn:a,domEventName:r,eventSystemFlags:o,nativeEvent:g,targetContainers:[f]},a!==null&&(a=js(a),a!==null&&yv(a)),n):(n.eventSystemFlags|=o,a=n.targetContainers,f!==null&&a.indexOf(f)===-1&&a.push(f),n)}function aS(n,a,r,o,f){switch(a){case"focusin":return $a=zo($a,n,a,r,o,f),!0;case"dragenter":return Qa=zo(Qa,n,a,r,o,f),!0;case"mouseover":return Ya=zo(Ya,n,a,r,o,f),!0;case"pointerover":var g=f.pointerId;return Bo.set(g,zo(Bo.get(g)||null,n,a,r,o,f)),!0;case"gotpointercapture":return g=f.pointerId,Ho.set(g,zo(Ho.get(g)||null,n,a,r,o,f)),!0}return!1}function Ev(n){var a=Gn(n.target);if(a!==null){var r=pe(a);if(r!==null){if(a=r.tag,a===13){if(a=me(r),a!==null){n.blockedOn=a,ba(n.priority,function(){if(r.tag===13){var o=bn(),f=ja(r,o);f!==null&&on(f,r,o),rm(r,o)}});return}}else if(a===3&&r.stateNode.current.memoizedState.isDehydrated){n.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}n.blockedOn=null}function $c(n){if(n.blockedOn!==null)return!1;for(var a=n.targetContainers;0<a.length;){var r=om(n.nativeEvent);if(r===null){r=n.nativeEvent;var o=new r.constructor(r.type,r);In=o,r.target.dispatchEvent(o),In=null}else return a=js(r),a!==null&&yv(a),n.blockedOn=r,!1;a.shift()}return!0}function Tv(n,a,r){$c(n)&&r.delete(a)}function iS(){cm=!1,$a!==null&&$c($a)&&($a=null),Qa!==null&&$c(Qa)&&(Qa=null),Ya!==null&&$c(Ya)&&(Ya=null),Bo.forEach(Tv),Ho.forEach(Tv)}function Qc(n,a){n.blockedOn===a&&(n.blockedOn=null,cm||(cm=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,iS)))}var Yc=null;function bv(n){Yc!==n&&(Yc=n,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Yc===n&&(Yc=null);for(var a=0;a<n.length;a+=3){var r=n[a],o=n[a+1],f=n[a+2];if(typeof o!="function"){if(um(o||r)===null)continue;break}var g=js(r);g!==null&&(n.splice(a,3),a-=3,Zd(g,{pending:!0,data:f,method:r.method,action:o},o,f))}}))}function qo(n){function a(I){return Qc(I,n)}$a!==null&&Qc($a,n),Qa!==null&&Qc(Qa,n),Ya!==null&&Qc(Ya,n),Bo.forEach(a),Ho.forEach(a);for(var r=0;r<Wa.length;r++){var o=Wa[r];o.blockedOn===n&&(o.blockedOn=null)}for(;0<Wa.length&&(r=Wa[0],r.blockedOn===null);)Ev(r),r.blockedOn===null&&Wa.shift();if(r=(n.ownerDocument||n).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var f=r[o],g=r[o+1],x=f[Rt]||null;if(typeof g=="function")x||bv(r);else if(x){var T=null;if(g&&g.hasAttribute("formAction")){if(f=g,x=g[Rt]||null)T=x.formAction;else if(um(f)!==null)continue}else T=x.action;typeof T=="function"?r[o+1]=T:(r.splice(o,3),o-=3),bv(r)}}}function hm(n){this._internalRoot=n}Wc.prototype.render=hm.prototype.render=function(n){var a=this._internalRoot;if(a===null)throw Error(i(409));var r=a.current,o=bn();pv(r,o,n,a,null,null)},Wc.prototype.unmount=hm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var a=n.containerInfo;n.tag===0&&sl(),pv(n.current,2,null,n,null,null),jc(),a[Is]=null}};function Wc(n){this._internalRoot=n}Wc.prototype.unstable_scheduleHydration=function(n){if(n){var a=Vu();n={blockedOn:null,target:n,priority:a};for(var r=0;r<Wa.length&&a!==0&&a<Wa[r].priority;r++);Wa.splice(r,0,n),r===0&&Ev(n)}};var Av=e.version;if(Av!=="19.0.0")throw Error(i(527,Av,"19.0.0"));ce.findDOMNode=function(n){var a=n._reactInternals;if(a===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=re(a),n=n!==null?ge(n):null,n=n===null?null:n.stateNode,n};var rS={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:A,findFiberByHostInstance:Gn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xc.isDisabled&&Xc.supportsFiber)try{_a=Xc.inject(rS),Yt=Xc}catch{}}return Fo.createRoot=function(n,a){if(!l(n))throw Error(i(299));var r=!1,o="",f=H_,g=z_,x=q_,T=null;return a!=null&&(a.unstable_strictMode===!0&&(r=!0),a.identifierPrefix!==void 0&&(o=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(x=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(T=a.unstable_transitionCallbacks)),a=mv(n,1,!1,null,null,r,o,f,g,x,T,null),n[Is]=a.current,Qf(n.nodeType===8?n.parentNode:n),new hm(a)},Fo.hydrateRoot=function(n,a,r){if(!l(n))throw Error(i(299));var o=!1,f="",g=H_,x=z_,T=q_,I=null,q=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(f=r.identifierPrefix),r.onUncaughtError!==void 0&&(g=r.onUncaughtError),r.onCaughtError!==void 0&&(x=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(I=r.unstable_transitionCallbacks),r.formState!==void 0&&(q=r.formState)),a=mv(n,1,!0,a,r??null,o,f,g,x,T,I,q),a.context=gv(null),r=a.current,o=bn(),f=Ua(o),f.callback=null,Ba(r,f,o),a.current.lanes=o,pt(a,o),vs(a),n[Is]=a.current,Qf(n),new Wc(a)},Fo.version="19.0.0",Fo}var Ov;function _S(){if(Ov)return mm.exports;Ov=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),mm.exports=pS(),mm.exports}var yS=_S();const vS=b0(yS);var Go={},Mv;function xS(){if(Mv)return Go;Mv=1,Object.defineProperty(Go,"__esModule",{value:!0}),Go.parse=h,Go.serialize=_;const s=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,u=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function h(w,N){const j=new u,z=w.length;if(z<2)return j;const P=(N==null?void 0:N.decode)||E;let K=0;do{const H=w.indexOf("=",K);if(H===-1)break;const $=w.indexOf(";",K),Z=$===-1?z:$;if(H>Z){K=w.lastIndexOf(";",H-1)+1;continue}const ee=m(w,K,H),ie=p(w,H,ee),O=w.slice(ee,ie);if(j[O]===void 0){let R=m(w,H+1,Z),A=p(w,Z,R);const C=P(w.slice(R,A));j[O]=C}K=Z+1}while(K<z);return j}function m(w,N,j){do{const z=w.charCodeAt(N);if(z!==32&&z!==9)return N}while(++N<j);return j}function p(w,N,j){for(;N>j;){const z=w.charCodeAt(--N);if(z!==32&&z!==9)return N+1}return j}function _(w,N,j){const z=(j==null?void 0:j.encode)||encodeURIComponent;if(!s.test(w))throw new TypeError(`argument name is invalid: ${w}`);const P=z(N);if(!e.test(P))throw new TypeError(`argument val is invalid: ${N}`);let K=w+"="+P;if(!j)return K;if(j.maxAge!==void 0){if(!Number.isInteger(j.maxAge))throw new TypeError(`option maxAge is invalid: ${j.maxAge}`);K+="; Max-Age="+j.maxAge}if(j.domain){if(!t.test(j.domain))throw new TypeError(`option domain is invalid: ${j.domain}`);K+="; Domain="+j.domain}if(j.path){if(!i.test(j.path))throw new TypeError(`option path is invalid: ${j.path}`);K+="; Path="+j.path}if(j.expires){if(!b(j.expires)||!Number.isFinite(j.expires.valueOf()))throw new TypeError(`option expires is invalid: ${j.expires}`);K+="; Expires="+j.expires.toUTCString()}if(j.httpOnly&&(K+="; HttpOnly"),j.secure&&(K+="; Secure"),j.partitioned&&(K+="; Partitioned"),j.priority)switch(typeof j.priority=="string"?j.priority.toLowerCase():void 0){case"low":K+="; Priority=Low";break;case"medium":K+="; Priority=Medium";break;case"high":K+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${j.priority}`)}if(j.sameSite)switch(typeof j.sameSite=="string"?j.sameSite.toLowerCase():j.sameSite){case!0:case"strict":K+="; SameSite=Strict";break;case"lax":K+="; SameSite=Lax";break;case"none":K+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${j.sameSite}`)}return K}function E(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function b(w){return l.call(w)==="[object Date]"}return Go}xS();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Lv="popstate";function ES(s={}){function e(i,l){let{pathname:u,search:h,hash:m}=i.location;return Om("",{pathname:u,search:h,hash:m},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(i,l){return typeof l=="string"?l:lu(l)}return bS(e,t,null,s)}function it(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function Zn(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function TS(){return Math.random().toString(36).substring(2,10)}function Vv(s,e){return{usr:s.state,key:s.key,idx:e}}function Om(s,e,t=null,i){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?Rl(e):e,state:t,key:e&&e.key||i||TS()}}function lu({pathname:s="/",search:e="",hash:t=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(s+=t.charAt(0)==="#"?t:"#"+t),s}function Rl(s){let e={};if(s){let t=s.indexOf("#");t>=0&&(e.hash=s.substring(t),s=s.substring(0,t));let i=s.indexOf("?");i>=0&&(e.search=s.substring(i),s=s.substring(0,i)),s&&(e.pathname=s)}return e}function bS(s,e,t,i={}){let{window:l=document.defaultView,v5Compat:u=!1}=i,h=l.history,m="POP",p=null,_=E();_==null&&(_=0,h.replaceState({...h.state,idx:_},""));function E(){return(h.state||{idx:null}).idx}function b(){m="POP";let P=E(),K=P==null?null:P-_;_=P,p&&p({action:m,location:z.location,delta:K})}function w(P,K){m="PUSH";let H=Om(z.location,P,K);_=E()+1;let $=Vv(H,_),Z=z.createHref(H);try{h.pushState($,"",Z)}catch(ee){if(ee instanceof DOMException&&ee.name==="DataCloneError")throw ee;l.location.assign(Z)}u&&p&&p({action:m,location:z.location,delta:1})}function N(P,K){m="REPLACE";let H=Om(z.location,P,K);_=E();let $=Vv(H,_),Z=z.createHref(H);h.replaceState($,"",Z),u&&p&&p({action:m,location:z.location,delta:0})}function j(P){let K=l.location.origin!=="null"?l.location.origin:l.location.href,H=typeof P=="string"?P:lu(P);return H=H.replace(/ $/,"%20"),it(K,`No window.location.(origin|href) available to create URL for href: ${H}`),new URL(H,K)}let z={get action(){return m},get location(){return s(l,h)},listen(P){if(p)throw new Error("A history only accepts one active listener");return l.addEventListener(Lv,b),p=P,()=>{l.removeEventListener(Lv,b),p=null}},createHref(P){return e(l,P)},createURL:j,encodeLocation(P){let K=j(P);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:w,replace:N,go(P){return h.go(P)}};return z}function A0(s,e,t="/"){return AS(s,e,t,!1)}function AS(s,e,t,i){let l=typeof e=="string"?Rl(e):e,u=ui(l.pathname||"/",t);if(u==null)return null;let h=S0(s);SS(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let _=LS(u);m=OS(h[p],_,i)}return m}function S0(s,e=[],t=[],i=""){let l=(u,h,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};p.relativePath.startsWith("/")&&(it(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let _=ia([i,p.relativePath]),E=t.concat(p);u.children&&u.children.length>0&&(it(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),S0(u.children,e,E,_)),!(u.path==null&&!u.index)&&e.push({path:_,score:jS(_,u.index),routesMeta:E})};return s.forEach((u,h)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))l(u,h);else for(let p of w0(u.path))l(u,h,p)}),e}function w0(s){let e=s.split("/");if(e.length===0)return[];let[t,...i]=e,l=t.endsWith("?"),u=t.replace(/\?$/,"");if(i.length===0)return l?[u,""]:[u];let h=w0(i.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),l&&m.push(...h),m.map(p=>s.startsWith("/")&&p===""?"/":p)}function SS(s){s.sort((e,t)=>e.score!==t.score?t.score-e.score:DS(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var wS=/^:[\w-]+$/,RS=3,NS=2,kS=1,CS=10,IS=-2,Pv=s=>s==="*";function jS(s,e){let t=s.split("/"),i=t.length;return t.some(Pv)&&(i+=IS),e&&(i+=NS),t.filter(l=>!Pv(l)).reduce((l,u)=>l+(wS.test(u)?RS:u===""?kS:CS),i)}function DS(s,e){return s.length===e.length&&s.slice(0,-1).every((i,l)=>i===e[l])?s[s.length-1]-e[e.length-1]:0}function OS(s,e,t=!1){let{routesMeta:i}=s,l={},u="/",h=[];for(let m=0;m<i.length;++m){let p=i[m],_=m===i.length-1,E=u==="/"?e:e.slice(u.length)||"/",b=Eh({path:p.relativePath,caseSensitive:p.caseSensitive,end:_},E),w=p.route;if(!b&&_&&t&&!i[i.length-1].route.index&&(b=Eh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!b)return null;Object.assign(l,b.params),h.push({params:l,pathname:ia([u,b.pathname]),pathnameBase:BS(ia([u,b.pathnameBase])),route:w}),b.pathnameBase!=="/"&&(u=ia([u,b.pathnameBase]))}return h}function Eh(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[t,i]=MS(s.path,s.caseSensitive,s.end),l=e.match(t);if(!l)return null;let u=l[0],h=u.replace(/(.)\/+$/,"$1"),m=l.slice(1);return{params:i.reduce((_,{paramName:E,isOptional:b},w)=>{if(E==="*"){let j=m[w]||"";h=u.slice(0,u.length-j.length).replace(/(.)\/+$/,"$1")}const N=m[w];return b&&!N?_[E]=void 0:_[E]=(N||"").replace(/%2F/g,"/"),_},{}),pathname:u,pathnameBase:h,pattern:s}}function MS(s,e=!1,t=!0){Zn(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let i=[],l="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(i.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(i.push({paramName:"*"}),l+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?l+="\\/*$":s!==""&&s!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),i]}function LS(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Zn(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function ui(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=s.charAt(t);return i&&i!=="/"?null:s.slice(t)||"/"}function VS(s,e="/"){let{pathname:t,search:i="",hash:l=""}=typeof s=="string"?Rl(s):s;return{pathname:t?t.startsWith("/")?t:PS(t,e):e,search:HS(i),hash:zS(l)}}function PS(s,e){let t=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(l=>{l===".."?t.length>1&&t.pop():l!=="."&&t.push(l)}),t.length>1?t.join("/"):"/"}function ym(s,e,t,i){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function US(s){return s.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function hg(s){let e=US(s);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function dg(s,e,t,i=!1){let l;typeof s=="string"?l=Rl(s):(l={...s},it(!l.pathname||!l.pathname.includes("?"),ym("?","pathname","search",l)),it(!l.pathname||!l.pathname.includes("#"),ym("#","pathname","hash",l)),it(!l.search||!l.search.includes("#"),ym("#","search","hash",l)));let u=s===""||l.pathname==="",h=u?"/":l.pathname,m;if(h==null)m=t;else{let b=e.length-1;if(!i&&h.startsWith("..")){let w=h.split("/");for(;w[0]==="..";)w.shift(),b-=1;l.pathname=w.join("/")}m=b>=0?e[b]:"/"}let p=VS(l,m),_=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(_||E)&&(p.pathname+="/"),p}var ia=s=>s.join("/").replace(/\/\/+/g,"/"),BS=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),HS=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,zS=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function qS(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var R0=["POST","PUT","PATCH","DELETE"];new Set(R0);var KS=["GET",...R0];new Set(KS);var Nl=L.createContext(null);Nl.displayName="DataRouter";var Hh=L.createContext(null);Hh.displayName="DataRouterState";var N0=L.createContext({isTransitioning:!1});N0.displayName="ViewTransition";var FS=L.createContext(new Map);FS.displayName="Fetchers";var GS=L.createContext(null);GS.displayName="Await";var ns=L.createContext(null);ns.displayName="Navigation";var _u=L.createContext(null);_u.displayName="Location";var ss=L.createContext({outlet:null,matches:[],isDataRoute:!1});ss.displayName="Route";var fg=L.createContext(null);fg.displayName="RouteError";function $S(s,{relative:e}={}){it(kl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=L.useContext(ns),{hash:l,pathname:u,search:h}=yu(s,{relative:e}),m=u;return t!=="/"&&(m=u==="/"?t:ia([t,u])),i.createHref({pathname:m,search:h,hash:l})}function kl(){return L.useContext(_u)!=null}function yi(){return it(kl(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(_u).location}var k0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function C0(s){L.useContext(ns).static||L.useLayoutEffect(s)}function Cl(){let{isDataRoute:s}=L.useContext(ss);return s?lw():QS()}function QS(){it(kl(),"useNavigate() may be used only in the context of a <Router> component.");let s=L.useContext(Nl),{basename:e,navigator:t}=L.useContext(ns),{matches:i}=L.useContext(ss),{pathname:l}=yi(),u=JSON.stringify(hg(i)),h=L.useRef(!1);return C0(()=>{h.current=!0}),L.useCallback((p,_={})=>{if(Zn(h.current,k0),!h.current)return;if(typeof p=="number"){t.go(p);return}let E=dg(p,JSON.parse(u),l,_.relative==="path");s==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:ia([e,E.pathname])),(_.replace?t.replace:t.push)(E,_.state,_)},[e,t,u,l,s])}L.createContext(null);function YS(){let{matches:s}=L.useContext(ss),e=s[s.length-1];return e?e.params:{}}function yu(s,{relative:e}={}){let{matches:t}=L.useContext(ss),{pathname:i}=yi(),l=JSON.stringify(hg(t));return L.useMemo(()=>dg(s,JSON.parse(l),i,e==="path"),[s,l,i,e])}function WS(s,e){return I0(s,e)}function I0(s,e,t,i){var H;it(kl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l,static:u}=L.useContext(ns),{matches:h}=L.useContext(ss),m=h[h.length-1],p=m?m.params:{},_=m?m.pathname:"/",E=m?m.pathnameBase:"/",b=m&&m.route;{let $=b&&b.path||"";j0(_,!b||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${_}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let w=yi(),N;if(e){let $=typeof e=="string"?Rl(e):e;it(E==="/"||((H=$.pathname)==null?void 0:H.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${$.pathname}" was given in the \`location\` prop.`),N=$}else N=w;let j=N.pathname||"/",z=j;if(E!=="/"){let $=E.replace(/^\//,"").split("/");z="/"+j.replace(/^\//,"").split("/").slice($.length).join("/")}let P=!u&&t&&t.matches&&t.matches.length>0?t.matches:A0(s,{pathname:z});Zn(b||P!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),Zn(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let K=tw(P&&P.map($=>Object.assign({},$,{params:Object.assign({},p,$.params),pathname:ia([E,l.encodeLocation?l.encodeLocation($.pathname).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?E:ia([E,l.encodeLocation?l.encodeLocation($.pathnameBase).pathname:$.pathnameBase])})),h,t,i);return e&&K?L.createElement(_u.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},K):K}function XS(){let s=rw(),e=qS(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),t=s instanceof Error?s.stack:null,i="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:i},u={padding:"2px 4px",backgroundColor:i},h=null;return console.error("Error handled by React Router default ErrorBoundary:",s),h=L.createElement(L.Fragment,null,L.createElement("p",null,"💿 Hey developer 👋"),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:u},"ErrorBoundary")," or"," ",L.createElement("code",{style:u},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),t?L.createElement("pre",{style:l},t):null,h)}var ZS=L.createElement(XS,null),JS=class extends L.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){console.error("React Router caught the following error during render",s,e)}render(){return this.state.error!==void 0?L.createElement(ss.Provider,{value:this.props.routeContext},L.createElement(fg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ew({routeContext:s,match:e,children:t}){let i=L.useContext(Nl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(ss.Provider,{value:s},t)}function tw(s,e=[],t=null,i=null){if(s==null){if(!t)return null;if(t.errors)s=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)s=t.matches;else return null}let l=s,u=t==null?void 0:t.errors;if(u!=null){let p=l.findIndex(_=>_.route.id&&(u==null?void 0:u[_.route.id])!==void 0);it(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,p+1))}let h=!1,m=-1;if(t)for(let p=0;p<l.length;p++){let _=l[p];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(m=p),_.route.id){let{loaderData:E,errors:b}=t,w=_.route.loader&&!E.hasOwnProperty(_.route.id)&&(!b||b[_.route.id]===void 0);if(_.route.lazy||w){h=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}return l.reduceRight((p,_,E)=>{let b,w=!1,N=null,j=null;t&&(b=u&&_.route.id?u[_.route.id]:void 0,N=_.route.errorElement||ZS,h&&(m<0&&E===0?(j0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,j=null):m===E&&(w=!0,j=_.route.hydrateFallbackElement||null)));let z=e.concat(l.slice(0,E+1)),P=()=>{let K;return b?K=N:w?K=j:_.route.Component?K=L.createElement(_.route.Component,null):_.route.element?K=_.route.element:K=p,L.createElement(ew,{match:_,routeContext:{outlet:p,matches:z,isDataRoute:t!=null},children:K})};return t&&(_.route.ErrorBoundary||_.route.errorElement||E===0)?L.createElement(JS,{location:t.location,revalidation:t.revalidation,component:N,error:b,children:P(),routeContext:{outlet:null,matches:z,isDataRoute:!0}}):P()},null)}function mg(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nw(s){let e=L.useContext(Nl);return it(e,mg(s)),e}function sw(s){let e=L.useContext(Hh);return it(e,mg(s)),e}function aw(s){let e=L.useContext(ss);return it(e,mg(s)),e}function gg(s){let e=aw(s),t=e.matches[e.matches.length-1];return it(t.route.id,`${s} can only be used on routes that contain a unique "id"`),t.route.id}function iw(){return gg("useRouteId")}function rw(){var i;let s=L.useContext(fg),e=sw("useRouteError"),t=gg("useRouteError");return s!==void 0?s:(i=e.errors)==null?void 0:i[t]}function lw(){let{router:s}=nw("useNavigate"),e=gg("useNavigate"),t=L.useRef(!1);return C0(()=>{t.current=!0}),L.useCallback(async(l,u={})=>{Zn(t.current,k0),t.current&&(typeof l=="number"?s.navigate(l):await s.navigate(l,{fromRouteId:e,...u}))},[s,e])}var Uv={};function j0(s,e,t){!e&&!Uv[s]&&(Uv[s]=!0,Zn(!1,t))}L.memo(ow);function ow({routes:s,future:e,state:t}){return I0(s,void 0,t,e)}function Bv({to:s,replace:e,state:t,relative:i}){it(kl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=L.useContext(ns);Zn(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=L.useContext(ss),{pathname:h}=yi(),m=Cl(),p=dg(s,hg(u),h,i==="path"),_=JSON.stringify(p);return L.useEffect(()=>{m(JSON.parse(_),{replace:e,state:t,relative:i})},[m,_,i,e,t]),null}function bt(s){it(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function uw({basename:s="/",children:e=null,location:t,navigationType:i="POP",navigator:l,static:u=!1}){it(!kl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=s.replace(/^\/*/,"/"),m=L.useMemo(()=>({basename:h,navigator:l,static:u,future:{}}),[h,l,u]);typeof t=="string"&&(t=Rl(t));let{pathname:p="/",search:_="",hash:E="",state:b=null,key:w="default"}=t,N=L.useMemo(()=>{let j=ui(p,h);return j==null?null:{location:{pathname:j,search:_,hash:E,state:b,key:w},navigationType:i}},[h,p,_,E,b,w,i]);return Zn(N!=null,`<Router basename="${h}"> is not able to match the URL "${p}${_}${E}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:L.createElement(ns.Provider,{value:m},L.createElement(_u.Provider,{children:e,value:N}))}function cw({children:s,location:e}){return WS(Mm(s),e)}function Mm(s,e=[]){let t=[];return L.Children.forEach(s,(i,l)=>{if(!L.isValidElement(i))return;let u=[...e,l];if(i.type===L.Fragment){t.push.apply(t,Mm(i.props.children,u));return}it(i.type===bt,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),it(!i.props.index||!i.props.children,"An index route cannot have child routes.");let h={id:i.props.id||u.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(h.children=Mm(i.props.children,u)),t.push(h)}),t}var oh="get",uh="application/x-www-form-urlencoded";function zh(s){return s!=null&&typeof s.tagName=="string"}function hw(s){return zh(s)&&s.tagName.toLowerCase()==="button"}function dw(s){return zh(s)&&s.tagName.toLowerCase()==="form"}function fw(s){return zh(s)&&s.tagName.toLowerCase()==="input"}function mw(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function gw(s,e){return s.button===0&&(!e||e==="_self")&&!mw(s)}var Zc=null;function pw(){if(Zc===null)try{new FormData(document.createElement("form"),0),Zc=!1}catch{Zc=!0}return Zc}var _w=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function vm(s){return s!=null&&!_w.has(s)?(Zn(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${uh}"`),null):s}function yw(s,e){let t,i,l,u,h;if(dw(s)){let m=s.getAttribute("action");i=m?ui(m,e):null,t=s.getAttribute("method")||oh,l=vm(s.getAttribute("enctype"))||uh,u=new FormData(s)}else if(hw(s)||fw(s)&&(s.type==="submit"||s.type==="image")){let m=s.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=s.getAttribute("formaction")||m.getAttribute("action");if(i=p?ui(p,e):null,t=s.getAttribute("formmethod")||m.getAttribute("method")||oh,l=vm(s.getAttribute("formenctype"))||vm(m.getAttribute("enctype"))||uh,u=new FormData(m,s),!pw()){let{name:_,type:E,value:b}=s;if(E==="image"){let w=_?`${_}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else _&&u.append(_,b)}}else{if(zh(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=oh,i=null,l=uh,h=s}return u&&l==="text/plain"&&(h=u,u=void 0),{action:i,method:t.toLowerCase(),encType:l,formData:u,body:h}}function pg(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}async function vw(s,e){if(s.id in e)return e[s.id];try{let t=await import(s.module);return e[s.id]=t,t}catch(t){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function xw(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function Ew(s,e,t){let i=await Promise.all(s.map(async l=>{let u=e.routes[l.route.id];if(u){let h=await vw(u,t);return h.links?h.links():[]}return[]}));return Sw(i.flat(1).filter(xw).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function Hv(s,e,t,i,l,u){let h=(p,_)=>t[_]?p.route.id!==t[_].route.id:!0,m=(p,_)=>{var E;return t[_].pathname!==p.pathname||((E=t[_].route.path)==null?void 0:E.endsWith("*"))&&t[_].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,_)=>h(p,_)||m(p,_)):u==="data"?e.filter((p,_)=>{var b;let E=i.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(h(p,_)||m(p,_))return!0;if(p.route.shouldRevalidate){let w=p.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((b=t[0])==null?void 0:b.params)||{},nextUrl:new URL(s,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function Tw(s,e,{includeHydrateFallback:t}={}){return bw(s.map(i=>{let l=e.routes[i.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),t&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function bw(s){return[...new Set(s)]}function Aw(s){let e={},t=Object.keys(s).sort();for(let i of t)e[i]=s[i];return e}function Sw(s,e){let t=new Set;return new Set(e),s.reduce((i,l)=>{let u=JSON.stringify(Aw(l));return t.has(u)||(t.add(u),i.push({key:u,link:l})),i},[])}function ww(s){let e=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function Rw(){let s=L.useContext(Nl);return pg(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function Nw(){let s=L.useContext(Hh);return pg(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var _g=L.createContext(void 0);_g.displayName="FrameworkContext";function D0(){let s=L.useContext(_g);return pg(s,"You must render this element inside a <HydratedRouter> element"),s}function kw(s,e){let t=L.useContext(_g),[i,l]=L.useState(!1),[u,h]=L.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:_,onMouseLeave:E,onTouchStart:b}=e,w=L.useRef(null);L.useEffect(()=>{if(s==="render"&&h(!0),s==="viewport"){let z=K=>{K.forEach(H=>{h(H.isIntersecting)})},P=new IntersectionObserver(z,{threshold:.5});return w.current&&P.observe(w.current),()=>{P.disconnect()}}},[s]),L.useEffect(()=>{if(i){let z=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(z)}}},[i]);let N=()=>{l(!0)},j=()=>{l(!1),h(!1)};return t?s!=="intent"?[u,w,{}]:[u,w,{onFocus:$o(m,N),onBlur:$o(p,j),onMouseEnter:$o(_,N),onMouseLeave:$o(E,j),onTouchStart:$o(b,N)}]:[!1,w,{}]}function $o(s,e){return t=>{s&&s(t),t.defaultPrevented||e(t)}}function Cw({page:s,...e}){let{router:t}=Rw(),i=L.useMemo(()=>A0(t.routes,s,t.basename),[t.routes,s,t.basename]);return i?L.createElement(jw,{page:s,matches:i,...e}):null}function Iw(s){let{manifest:e,routeModules:t}=D0(),[i,l]=L.useState([]);return L.useEffect(()=>{let u=!1;return Ew(s,e,t).then(h=>{u||l(h)}),()=>{u=!0}},[s,e,t]),i}function jw({page:s,matches:e,...t}){let i=yi(),{manifest:l,routeModules:u}=D0(),{loaderData:h,matches:m}=Nw(),p=L.useMemo(()=>Hv(s,e,m,l,i,"data"),[s,e,m,l,i]),_=L.useMemo(()=>Hv(s,e,m,l,i,"assets"),[s,e,m,l,i]),E=L.useMemo(()=>{if(s===i.pathname+i.search+i.hash)return[];let N=new Set,j=!1;if(e.forEach(P=>{var H;let K=l.routes[P.route.id];!K||!K.hasLoader||(!p.some($=>$.route.id===P.route.id)&&P.route.id in h&&((H=u[P.route.id])!=null&&H.shouldRevalidate)||K.hasClientLoader?j=!0:N.add(P.route.id))}),N.size===0)return[];let z=ww(s);return j&&N.size>0&&z.searchParams.set("_routes",e.filter(P=>N.has(P.route.id)).map(P=>P.route.id).join(",")),[z.pathname+z.search]},[h,i,l,p,e,s,u]),b=L.useMemo(()=>Tw(_,l),[_,l]),w=Iw(_);return L.createElement(L.Fragment,null,E.map(N=>L.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...t})),b.map(N=>L.createElement("link",{key:N,rel:"modulepreload",href:N,...t})),w.map(({key:N,link:j})=>L.createElement("link",{key:N,...j})))}function Dw(...s){return e=>{s.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var O0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{O0&&(window.__reactRouterVersion="7.2.0")}catch{}function Ow({basename:s,children:e,window:t}){let i=L.useRef();i.current==null&&(i.current=ES({window:t,v5Compat:!0}));let l=i.current,[u,h]=L.useState({action:l.action,location:l.location}),m=L.useCallback(p=>{L.startTransition(()=>h(p))},[h]);return L.useLayoutEffect(()=>l.listen(m),[l,m]),L.createElement(uw,{basename:s,children:e,location:u.location,navigationType:u.action,navigator:l})}var M0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ae=L.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:l,reloadDocument:u,replace:h,state:m,target:p,to:_,preventScrollReset:E,viewTransition:b,...w},N){let{basename:j}=L.useContext(ns),z=typeof _=="string"&&M0.test(_),P,K=!1;if(typeof _=="string"&&z&&(P=_,O0))try{let A=new URL(window.location.href),C=_.startsWith("//")?new URL(A.protocol+_):new URL(_),D=ui(C.pathname,j);C.origin===A.origin&&D!=null?_=D+C.search+C.hash:K=!0}catch{Zn(!1,`<Link to="${_}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let H=$S(_,{relative:l}),[$,Z,ee]=kw(i,w),ie=Pw(_,{replace:h,state:m,target:p,preventScrollReset:E,relative:l,viewTransition:b});function O(A){e&&e(A),A.defaultPrevented||ie(A)}let R=L.createElement("a",{...w,...ee,href:P||H,onClick:K||u?e:O,ref:Dw(N,Z),target:p,"data-discover":!z&&t==="render"?"true":void 0});return $&&!z?L.createElement(L.Fragment,null,R,L.createElement(Cw,{page:H})):R});Ae.displayName="Link";var Mw=L.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:l=!1,style:u,to:h,viewTransition:m,children:p,..._},E){let b=yu(h,{relative:_.relative}),w=yi(),N=L.useContext(Hh),{navigator:j,basename:z}=L.useContext(ns),P=N!=null&&qw(b)&&m===!0,K=j.encodeLocation?j.encodeLocation(b).pathname:b.pathname,H=w.pathname,$=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;t||(H=H.toLowerCase(),$=$?$.toLowerCase():null,K=K.toLowerCase()),$&&z&&($=ui($,z)||$);const Z=K!=="/"&&K.endsWith("/")?K.length-1:K.length;let ee=H===K||!l&&H.startsWith(K)&&H.charAt(Z)==="/",ie=$!=null&&($===K||!l&&$.startsWith(K)&&$.charAt(K.length)==="/"),O={isActive:ee,isPending:ie,isTransitioning:P},R=ee?e:void 0,A;typeof i=="function"?A=i(O):A=[i,ee?"active":null,ie?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let C=typeof u=="function"?u(O):u;return L.createElement(Ae,{..._,"aria-current":R,className:A,ref:E,style:C,to:h,viewTransition:m},typeof p=="function"?p(O):p)});Mw.displayName="NavLink";var Lw=L.forwardRef(({discover:s="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:l,state:u,method:h=oh,action:m,onSubmit:p,relative:_,preventScrollReset:E,viewTransition:b,...w},N)=>{let j=Hw(),z=zw(m,{relative:_}),P=h.toLowerCase()==="get"?"get":"post",K=typeof m=="string"&&M0.test(m),H=$=>{if(p&&p($),$.defaultPrevented)return;$.preventDefault();let Z=$.nativeEvent.submitter,ee=(Z==null?void 0:Z.getAttribute("formmethod"))||h;j(Z||$.currentTarget,{fetcherKey:e,method:ee,navigate:t,replace:l,state:u,relative:_,preventScrollReset:E,viewTransition:b})};return L.createElement("form",{ref:N,method:P,action:z,onSubmit:i?p:H,...w,"data-discover":!K&&s==="render"?"true":void 0})});Lw.displayName="Form";function Vw(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function L0(s){let e=L.useContext(Nl);return it(e,Vw(s)),e}function Pw(s,{target:e,replace:t,state:i,preventScrollReset:l,relative:u,viewTransition:h}={}){let m=Cl(),p=yi(),_=yu(s,{relative:u});return L.useCallback(E=>{if(gw(E,e)){E.preventDefault();let b=t!==void 0?t:lu(p)===lu(_);m(s,{replace:b,state:i,preventScrollReset:l,relative:u,viewTransition:h})}},[p,m,_,t,i,e,s,l,u,h])}var Uw=0,Bw=()=>`__${String(++Uw)}__`;function Hw(){let{router:s}=L0("useSubmit"),{basename:e}=L.useContext(ns),t=iw();return L.useCallback(async(i,l={})=>{let{action:u,method:h,encType:m,formData:p,body:_}=yw(i,e);if(l.navigate===!1){let E=l.fetcherKey||Bw();await s.fetch(E,t,l.action||u,{preventScrollReset:l.preventScrollReset,formData:p,body:_,formMethod:l.method||h,formEncType:l.encType||m,flushSync:l.flushSync})}else await s.navigate(l.action||u,{preventScrollReset:l.preventScrollReset,formData:p,body:_,formMethod:l.method||h,formEncType:l.encType||m,replace:l.replace,state:l.state,fromRouteId:t,flushSync:l.flushSync,viewTransition:l.viewTransition})},[s,e,t])}function zw(s,{relative:e}={}){let{basename:t}=L.useContext(ns),i=L.useContext(ss);it(i,"useFormAction must be used inside a RouteContext");let[l]=i.matches.slice(-1),u={...yu(s||".",{relative:e})},h=yi();if(s==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(b=>b).forEach(b=>m.append("index",b));let E=m.toString();u.search=E?`?${E}`:""}}return(!s||s===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:ia([t,u.pathname])),lu(u)}function qw(s,e={}){let t=L.useContext(N0);it(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=L0("useViewTransitionState"),l=yu(s,{relative:e.relative});if(!t.isTransitioning)return!1;let u=ui(t.currentLocation.pathname,i)||t.currentLocation.pathname,h=ui(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Eh(l.pathname,h)!=null||Eh(l.pathname,u)!=null}new TextEncoder;document.addEventListener("DOMContentLoaded",function(){const s=["/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg","/AimRV/images/EE-AIMChallenge24-Uhamn-0171-high.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_113.jpg","/AimRV/images/AIM_lindvallen_2024_AnkiGrothe_highres_125.jpg"];function e(){const t=document.querySelectorAll(".dynamic-background");if(t.length===0){setTimeout(e,100);return}let i=s;try{const l=JSON.parse(localStorage.getItem("aimrv-background-images"));l&&Array.isArray(l)&&l.length>0&&(i=l)}catch(l){console.error("Error loading custom background images:",l)}t.forEach(function(l){let u=0;l.style.backgroundImage=`url(${i[u]})`,l.style.backgroundSize="cover",l.style.backgroundPosition="center",l.style.backgroundRepeat="no-repeat";const h=document.createElement("div");h.className="background-overlay",h.style.position="absolute",h.style.top="0",h.style.left="0",h.style.width="100%",h.style.height="100%",h.style.backgroundSize="cover",h.style.backgroundPosition="center",h.style.opacity="0",h.style.transition="opacity 2s ease-in-out",h.style.zIndex="1",getComputedStyle(l).position==="static"&&(l.style.position="relative"),Array.from(l.children).forEach(p=>{p!==h&&(p.style.zIndex===""||parseInt(p.style.zIndex)<10)&&(p.style.position="relative",p.style.zIndex="10")}),l.appendChild(h);function m(){const p=(u+1)%i.length;h.style.backgroundImage=`url(${i[p]})`,h.style.opacity="1",setTimeout(()=>{l.style.backgroundImage=`url(${i[p]})`,h.style.opacity="0",u=p},2e3)}setInterval(m,5e3)}),window.addEventListener("storage",function(l){if(l.key==="aimrv-background-images")try{const u=JSON.parse(l.newValue);u&&Array.isArray(u)&&u.length>0&&(i=u)}catch(u){console.error("Error updating background images:",u)}})}e()});const Kw=()=>{};var zv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0=function(s){const e=[];let t=0;for(let i=0;i<s.length;i++){let l=s.charCodeAt(i);l<128?e[t++]=l:l<2048?(e[t++]=l>>6|192,e[t++]=l&63|128):(l&64512)===55296&&i+1<s.length&&(s.charCodeAt(i+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++i)&1023),e[t++]=l>>18|240,e[t++]=l>>12&63|128,e[t++]=l>>6&63|128,e[t++]=l&63|128):(e[t++]=l>>12|224,e[t++]=l>>6&63|128,e[t++]=l&63|128)}return e},Fw=function(s){const e=[];let t=0,i=0;for(;t<s.length;){const l=s[t++];if(l<128)e[i++]=String.fromCharCode(l);else if(l>191&&l<224){const u=s[t++];e[i++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=s[t++],h=s[t++],m=s[t++],p=((l&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const u=s[t++],h=s[t++];e[i++]=String.fromCharCode((l&15)<<12|(u&63)<<6|h&63)}}return e.join("")},P0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let l=0;l<s.length;l+=3){const u=s[l],h=l+1<s.length,m=h?s[l+1]:0,p=l+2<s.length,_=p?s[l+2]:0,E=u>>2,b=(u&3)<<4|m>>4;let w=(m&15)<<2|_>>6,N=_&63;p||(N=64,h||(w=64)),i.push(t[E],t[b],t[w],t[N])}return i.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(V0(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):Fw(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let l=0;l<s.length;){const u=t[s.charAt(l++)],m=l<s.length?t[s.charAt(l)]:0;++l;const _=l<s.length?t[s.charAt(l)]:64;++l;const b=l<s.length?t[s.charAt(l)]:64;if(++l,u==null||m==null||_==null||b==null)throw new Gw;const w=u<<2|m>>4;if(i.push(w),_!==64){const N=m<<4&240|_>>2;if(i.push(N),b!==64){const j=_<<6&192|b;i.push(j)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class Gw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $w=function(s){const e=V0(s);return P0.encodeByteArray(e,!0)},Th=function(s){return $w(s).replace(/\./g,"")},U0=function(s){try{return P0.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw=()=>Qw().__FIREBASE_DEFAULTS__,Ww=()=>{if(typeof process>"u"||typeof zv>"u")return;const s=zv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},Xw=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&U0(s[1]);return e&&JSON.parse(e)},qh=()=>{try{return Kw()||Yw()||Ww()||Xw()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},B0=s=>{var e,t;return(t=(e=qh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[s]},H0=s=>{const e=B0(s);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},z0=()=>{var s;return(s=qh())===null||s===void 0?void 0:s.config},q0=s=>{var e;return(e=qh())===null||e===void 0?void 0:e[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K0(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",l=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},s);return[Th(JSON.stringify(t)),Th(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Jw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function eR(){var s;const e=(s=qh())===null||s===void 0?void 0:s.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function tR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function nR(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function sR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function aR(){const s=tn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function iR(){return!eR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rR(){try{return typeof indexedDB=="object"}catch{return!1}}function lR(){return new Promise((s,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(i);l.onsuccess=()=>{l.result.close(),t||self.indexedDB.deleteDatabase(i),s(!0)},l.onupgradeneeded=()=>{t=!1},l.onerror=()=>{var u;e(((u=l.error)===null||u===void 0?void 0:u.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR="FirebaseError";class Rs extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=oR,Object.setPrototypeOf(this,Rs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vu.prototype.create)}}class vu{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},l=`${this.service}/${e}`,u=this.errors[e],h=u?uR(u,i):"Error",m=`${this.serviceName}: ${h} (${l}).`;return new Rs(l,m,i)}}function uR(s,e){return s.replace(cR,(t,i)=>{const l=e[i];return l!=null?String(l):`<${i}?>`})}const cR=/\{\$([^}]+)}/g;function hR(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function sr(s,e){if(s===e)return!0;const t=Object.keys(s),i=Object.keys(e);for(const l of t){if(!i.includes(l))return!1;const u=s[l],h=e[l];if(qv(u)&&qv(h)){if(!sr(u,h))return!1}else if(u!==h)return!1}for(const l of i)if(!t.includes(l))return!1;return!0}function qv(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xu(s){const e=[];for(const[t,i]of Object.entries(s))Array.isArray(i)?i.forEach(l=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Yo(s){const e={};return s.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[l,u]=i.split("=");e[decodeURIComponent(l)]=decodeURIComponent(u)}}),e}function Wo(s){const e=s.indexOf("?");if(!e)return"";const t=s.indexOf("#",e);return s.substring(e,t>0?t:void 0)}function dR(s,e){const t=new fR(s,e);return t.subscribe.bind(t)}class fR{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let l;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");mR(e,["next","error","complete"])?l=e:l={next:e,error:t,complete:i},l.next===void 0&&(l.next=xm),l.error===void 0&&(l.error=xm),l.complete===void 0&&(l.complete=xm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mR(s,e){if(typeof s!="object"||s===null)return!1;for(const t of e)if(t in s&&typeof s[t]=="function")return!0;return!1}function xm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function st(s){return s&&s._delegate?s._delegate:s}class ci{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const er="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new Zw;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:t});l&&i.resolve(l)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),l=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(u){if(l)return null;throw u}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_R(e))try{this.getOrInitializeService({instanceIdentifier:er})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:l});i.resolve(u)}catch{}}}}clearInstance(e=er){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=er){return this.instances.has(e)}getOptions(e=er){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);i===m&&h.resolve(l)}return l}onInit(e,t){var i;const l=this.normalizeInstanceIdentifier(t),u=(i=this.onInitCallbacks.get(l))!==null&&i!==void 0?i:new Set;u.add(e),this.onInitCallbacks.set(l,u);const h=this.instances.get(l);return h&&e(h,l),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const l of i)try{l(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:pR(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=er){return this.component?this.component.multipleInstances?e:er:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pR(s){return s===er?void 0:s}function _R(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new gR(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Me||(Me={}));const vR={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},xR=Me.INFO,ER={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},TR=(s,e,...t)=>{if(e<s.logLevel)return;const i=new Date().toISOString(),l=ER[e];if(l)console[l](`[${i}]  ${s.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class yg{constructor(e){this.name=e,this._logLevel=xR,this._logHandler=TR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?vR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const bR=(s,e)=>e.some(t=>s instanceof t);let Kv,Fv;function AR(){return Kv||(Kv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SR(){return Fv||(Fv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const F0=new WeakMap,Lm=new WeakMap,G0=new WeakMap,Em=new WeakMap,vg=new WeakMap;function wR(s){const e=new Promise((t,i)=>{const l=()=>{s.removeEventListener("success",u),s.removeEventListener("error",h)},u=()=>{t(ii(s.result)),l()},h=()=>{i(s.error),l()};s.addEventListener("success",u),s.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&F0.set(t,s)}).catch(()=>{}),vg.set(e,s),e}function RR(s){if(Lm.has(s))return;const e=new Promise((t,i)=>{const l=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",h),s.removeEventListener("abort",h)},u=()=>{t(),l()},h=()=>{i(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",u),s.addEventListener("error",h),s.addEventListener("abort",h)});Lm.set(s,e)}let Vm={get(s,e,t){if(s instanceof IDBTransaction){if(e==="done")return Lm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||G0.get(s);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ii(s[e])},set(s,e,t){return s[e]=t,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function NR(s){Vm=s(Vm)}function kR(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=s.call(Tm(this),e,...t);return G0.set(i,e.sort?e.sort():[e]),ii(i)}:SR().includes(s)?function(...e){return s.apply(Tm(this),e),ii(F0.get(this))}:function(...e){return ii(s.apply(Tm(this),e))}}function CR(s){return typeof s=="function"?kR(s):(s instanceof IDBTransaction&&RR(s),bR(s,AR())?new Proxy(s,Vm):s)}function ii(s){if(s instanceof IDBRequest)return wR(s);if(Em.has(s))return Em.get(s);const e=CR(s);return e!==s&&(Em.set(s,e),vg.set(e,s)),e}const Tm=s=>vg.get(s);function IR(s,e,{blocked:t,upgrade:i,blocking:l,terminated:u}={}){const h=indexedDB.open(s,e),m=ii(h);return i&&h.addEventListener("upgradeneeded",p=>{i(ii(h.result),p.oldVersion,p.newVersion,ii(h.transaction),p)}),t&&h.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),l&&p.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),m}const jR=["get","getKey","getAll","getAllKeys","count"],DR=["put","add","delete","clear"],bm=new Map;function Gv(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(bm.get(e))return bm.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,l=DR.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(l||jR.includes(t)))return;const u=async function(h,...m){const p=this.transaction(h,l?"readwrite":"readonly");let _=p.store;return i&&(_=_.index(m.shift())),(await Promise.all([_[t](...m),l&&p.done]))[0]};return bm.set(e,u),u}NR(s=>({...s,get:(e,t,i)=>Gv(e,t)||s.get(e,t,i),has:(e,t)=>!!Gv(e,t)||s.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(MR(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function MR(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Pm="@firebase/app",$v="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua=new yg("@firebase/app"),LR="@firebase/app-compat",VR="@firebase/analytics-compat",PR="@firebase/analytics",UR="@firebase/app-check-compat",BR="@firebase/app-check",HR="@firebase/auth",zR="@firebase/auth-compat",qR="@firebase/database",KR="@firebase/data-connect",FR="@firebase/database-compat",GR="@firebase/functions",$R="@firebase/functions-compat",QR="@firebase/installations",YR="@firebase/installations-compat",WR="@firebase/messaging",XR="@firebase/messaging-compat",ZR="@firebase/performance",JR="@firebase/performance-compat",eN="@firebase/remote-config",tN="@firebase/remote-config-compat",nN="@firebase/storage",sN="@firebase/storage-compat",aN="@firebase/firestore",iN="@firebase/vertexai",rN="@firebase/firestore-compat",lN="firebase",oN="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Um="[DEFAULT]",uN={[Pm]:"fire-core",[LR]:"fire-core-compat",[PR]:"fire-analytics",[VR]:"fire-analytics-compat",[BR]:"fire-app-check",[UR]:"fire-app-check-compat",[HR]:"fire-auth",[zR]:"fire-auth-compat",[qR]:"fire-rtdb",[KR]:"fire-data-connect",[FR]:"fire-rtdb-compat",[GR]:"fire-fn",[$R]:"fire-fn-compat",[QR]:"fire-iid",[YR]:"fire-iid-compat",[WR]:"fire-fcm",[XR]:"fire-fcm-compat",[ZR]:"fire-perf",[JR]:"fire-perf-compat",[eN]:"fire-rc",[tN]:"fire-rc-compat",[nN]:"fire-gcs",[sN]:"fire-gcs-compat",[aN]:"fire-fst",[rN]:"fire-fst-compat",[iN]:"fire-vertex","fire-js":"fire-js",[lN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bh=new Map,cN=new Map,Bm=new Map;function Qv(s,e){try{s.container.addComponent(e)}catch(t){ua.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,t)}}function ar(s){const e=s.name;if(Bm.has(e))return ua.debug(`There were multiple attempts to register component ${e}.`),!1;Bm.set(e,s);for(const t of bh.values())Qv(t,s);for(const t of cN.values())Qv(t,s);return!0}function Kh(s,e){const t=s.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),s.container.getProvider(e)}function An(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ri=new vu("app","Firebase",hN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ci("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ri.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cr=oN;function $0(s,e={}){let t=s;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Um,automaticDataCollectionEnabled:!1},e),l=i.name;if(typeof l!="string"||!l)throw ri.create("bad-app-name",{appName:String(l)});if(t||(t=z0()),!t)throw ri.create("no-options");const u=bh.get(l);if(u){if(sr(t,u.options)&&sr(i,u.config))return u;throw ri.create("duplicate-app",{appName:l})}const h=new yR(l);for(const p of Bm.values())h.addComponent(p);const m=new dN(t,i,h);return bh.set(l,m),m}function xg(s=Um){const e=bh.get(s);if(!e&&s===Um&&z0())return $0();if(!e)throw ri.create("no-app",{appName:s});return e}function Es(s,e,t){var i;let l=(i=uN[s])!==null&&i!==void 0?i:s;t&&(l+=`-${t}`);const u=l.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const m=[`Unable to register library "${l}" with version "${e}":`];u&&m.push(`library name "${l}" contains illegal characters (whitespace or "/")`),u&&h&&m.push("and"),h&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ua.warn(m.join(" "));return}ar(new ci(`${l}-version`,()=>({library:l,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN="firebase-heartbeat-database",mN=1,ou="firebase-heartbeat-store";let Am=null;function Q0(){return Am||(Am=IR(fN,mN,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(ou)}catch(t){console.warn(t)}}}}).catch(s=>{throw ri.create("idb-open",{originalErrorMessage:s.message})})),Am}async function gN(s){try{const t=(await Q0()).transaction(ou),i=await t.objectStore(ou).get(Y0(s));return await t.done,i}catch(e){if(e instanceof Rs)ua.warn(e.message);else{const t=ri.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ua.warn(t.message)}}}async function Yv(s,e){try{const i=(await Q0()).transaction(ou,"readwrite");await i.objectStore(ou).put(e,Y0(s)),await i.done}catch(t){if(t instanceof Rs)ua.warn(t.message);else{const i=ri.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ua.warn(i.message)}}}function Y0(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN=1024,_N=30;class yN{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new xN(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Wv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:l}),this._heartbeatsCache.heartbeats.length>_N){const h=EN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){ua.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Wv(),{heartbeatsToSend:i,unsentEntries:l}=vN(this._heartbeatsCache.heartbeats),u=Th(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return ua.warn(t),""}}}function Wv(){return new Date().toISOString().substring(0,10)}function vN(s,e=pN){const t=[];let i=s.slice();for(const l of s){const u=t.find(h=>h.agent===l.agent);if(u){if(u.dates.push(l.date),Xv(t)>e){u.dates.pop();break}}else if(t.push({agent:l.agent,dates:[l.date]}),Xv(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class xN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rR()?lR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await gN(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const l=await this.read();return Yv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:l.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const l=await this.read();return Yv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...e.heartbeats]})}else return}}function Xv(s){return Th(JSON.stringify({version:2,heartbeats:s})).length}function EN(s){if(s.length===0)return-1;let e=0,t=s[0].date;for(let i=1;i<s.length;i++)s[i].date<t&&(t=s[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TN(s){ar(new ci("platform-logger",e=>new OR(e),"PRIVATE")),ar(new ci("heartbeat",e=>new yN(e),"PRIVATE")),Es(Pm,$v,s),Es(Pm,$v,"esm2017"),Es("fire-js","")}TN("");var bN="firebase",AN="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Es(bN,AN,"app");var Zv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var li,W0;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,R){function A(){}A.prototype=R.prototype,O.D=R.prototype,O.prototype=new A,O.prototype.constructor=O,O.C=function(C,D,U){for(var k=Array(arguments.length-2),je=2;je<arguments.length;je++)k[je-2]=arguments[je];return R.prototype[D].apply(C,k)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(O,R,A){A||(A=0);var C=Array(16);if(typeof R=="string")for(var D=0;16>D;++D)C[D]=R.charCodeAt(A++)|R.charCodeAt(A++)<<8|R.charCodeAt(A++)<<16|R.charCodeAt(A++)<<24;else for(D=0;16>D;++D)C[D]=R[A++]|R[A++]<<8|R[A++]<<16|R[A++]<<24;R=O.g[0],A=O.g[1],D=O.g[2];var U=O.g[3],k=R+(U^A&(D^U))+C[0]+3614090360&4294967295;R=A+(k<<7&4294967295|k>>>25),k=U+(D^R&(A^D))+C[1]+3905402710&4294967295,U=R+(k<<12&4294967295|k>>>20),k=D+(A^U&(R^A))+C[2]+606105819&4294967295,D=U+(k<<17&4294967295|k>>>15),k=A+(R^D&(U^R))+C[3]+3250441966&4294967295,A=D+(k<<22&4294967295|k>>>10),k=R+(U^A&(D^U))+C[4]+4118548399&4294967295,R=A+(k<<7&4294967295|k>>>25),k=U+(D^R&(A^D))+C[5]+1200080426&4294967295,U=R+(k<<12&4294967295|k>>>20),k=D+(A^U&(R^A))+C[6]+2821735955&4294967295,D=U+(k<<17&4294967295|k>>>15),k=A+(R^D&(U^R))+C[7]+4249261313&4294967295,A=D+(k<<22&4294967295|k>>>10),k=R+(U^A&(D^U))+C[8]+1770035416&4294967295,R=A+(k<<7&4294967295|k>>>25),k=U+(D^R&(A^D))+C[9]+2336552879&4294967295,U=R+(k<<12&4294967295|k>>>20),k=D+(A^U&(R^A))+C[10]+4294925233&4294967295,D=U+(k<<17&4294967295|k>>>15),k=A+(R^D&(U^R))+C[11]+2304563134&4294967295,A=D+(k<<22&4294967295|k>>>10),k=R+(U^A&(D^U))+C[12]+1804603682&4294967295,R=A+(k<<7&4294967295|k>>>25),k=U+(D^R&(A^D))+C[13]+4254626195&4294967295,U=R+(k<<12&4294967295|k>>>20),k=D+(A^U&(R^A))+C[14]+2792965006&4294967295,D=U+(k<<17&4294967295|k>>>15),k=A+(R^D&(U^R))+C[15]+1236535329&4294967295,A=D+(k<<22&4294967295|k>>>10),k=R+(D^U&(A^D))+C[1]+4129170786&4294967295,R=A+(k<<5&4294967295|k>>>27),k=U+(A^D&(R^A))+C[6]+3225465664&4294967295,U=R+(k<<9&4294967295|k>>>23),k=D+(R^A&(U^R))+C[11]+643717713&4294967295,D=U+(k<<14&4294967295|k>>>18),k=A+(U^R&(D^U))+C[0]+3921069994&4294967295,A=D+(k<<20&4294967295|k>>>12),k=R+(D^U&(A^D))+C[5]+3593408605&4294967295,R=A+(k<<5&4294967295|k>>>27),k=U+(A^D&(R^A))+C[10]+38016083&4294967295,U=R+(k<<9&4294967295|k>>>23),k=D+(R^A&(U^R))+C[15]+3634488961&4294967295,D=U+(k<<14&4294967295|k>>>18),k=A+(U^R&(D^U))+C[4]+3889429448&4294967295,A=D+(k<<20&4294967295|k>>>12),k=R+(D^U&(A^D))+C[9]+568446438&4294967295,R=A+(k<<5&4294967295|k>>>27),k=U+(A^D&(R^A))+C[14]+3275163606&4294967295,U=R+(k<<9&4294967295|k>>>23),k=D+(R^A&(U^R))+C[3]+4107603335&4294967295,D=U+(k<<14&4294967295|k>>>18),k=A+(U^R&(D^U))+C[8]+1163531501&4294967295,A=D+(k<<20&4294967295|k>>>12),k=R+(D^U&(A^D))+C[13]+2850285829&4294967295,R=A+(k<<5&4294967295|k>>>27),k=U+(A^D&(R^A))+C[2]+4243563512&4294967295,U=R+(k<<9&4294967295|k>>>23),k=D+(R^A&(U^R))+C[7]+1735328473&4294967295,D=U+(k<<14&4294967295|k>>>18),k=A+(U^R&(D^U))+C[12]+2368359562&4294967295,A=D+(k<<20&4294967295|k>>>12),k=R+(A^D^U)+C[5]+4294588738&4294967295,R=A+(k<<4&4294967295|k>>>28),k=U+(R^A^D)+C[8]+2272392833&4294967295,U=R+(k<<11&4294967295|k>>>21),k=D+(U^R^A)+C[11]+1839030562&4294967295,D=U+(k<<16&4294967295|k>>>16),k=A+(D^U^R)+C[14]+4259657740&4294967295,A=D+(k<<23&4294967295|k>>>9),k=R+(A^D^U)+C[1]+2763975236&4294967295,R=A+(k<<4&4294967295|k>>>28),k=U+(R^A^D)+C[4]+1272893353&4294967295,U=R+(k<<11&4294967295|k>>>21),k=D+(U^R^A)+C[7]+4139469664&4294967295,D=U+(k<<16&4294967295|k>>>16),k=A+(D^U^R)+C[10]+3200236656&4294967295,A=D+(k<<23&4294967295|k>>>9),k=R+(A^D^U)+C[13]+681279174&4294967295,R=A+(k<<4&4294967295|k>>>28),k=U+(R^A^D)+C[0]+3936430074&4294967295,U=R+(k<<11&4294967295|k>>>21),k=D+(U^R^A)+C[3]+3572445317&4294967295,D=U+(k<<16&4294967295|k>>>16),k=A+(D^U^R)+C[6]+76029189&4294967295,A=D+(k<<23&4294967295|k>>>9),k=R+(A^D^U)+C[9]+3654602809&4294967295,R=A+(k<<4&4294967295|k>>>28),k=U+(R^A^D)+C[12]+3873151461&4294967295,U=R+(k<<11&4294967295|k>>>21),k=D+(U^R^A)+C[15]+530742520&4294967295,D=U+(k<<16&4294967295|k>>>16),k=A+(D^U^R)+C[2]+3299628645&4294967295,A=D+(k<<23&4294967295|k>>>9),k=R+(D^(A|~U))+C[0]+4096336452&4294967295,R=A+(k<<6&4294967295|k>>>26),k=U+(A^(R|~D))+C[7]+1126891415&4294967295,U=R+(k<<10&4294967295|k>>>22),k=D+(R^(U|~A))+C[14]+2878612391&4294967295,D=U+(k<<15&4294967295|k>>>17),k=A+(U^(D|~R))+C[5]+4237533241&4294967295,A=D+(k<<21&4294967295|k>>>11),k=R+(D^(A|~U))+C[12]+1700485571&4294967295,R=A+(k<<6&4294967295|k>>>26),k=U+(A^(R|~D))+C[3]+2399980690&4294967295,U=R+(k<<10&4294967295|k>>>22),k=D+(R^(U|~A))+C[10]+4293915773&4294967295,D=U+(k<<15&4294967295|k>>>17),k=A+(U^(D|~R))+C[1]+2240044497&4294967295,A=D+(k<<21&4294967295|k>>>11),k=R+(D^(A|~U))+C[8]+1873313359&4294967295,R=A+(k<<6&4294967295|k>>>26),k=U+(A^(R|~D))+C[15]+4264355552&4294967295,U=R+(k<<10&4294967295|k>>>22),k=D+(R^(U|~A))+C[6]+2734768916&4294967295,D=U+(k<<15&4294967295|k>>>17),k=A+(U^(D|~R))+C[13]+1309151649&4294967295,A=D+(k<<21&4294967295|k>>>11),k=R+(D^(A|~U))+C[4]+4149444226&4294967295,R=A+(k<<6&4294967295|k>>>26),k=U+(A^(R|~D))+C[11]+3174756917&4294967295,U=R+(k<<10&4294967295|k>>>22),k=D+(R^(U|~A))+C[2]+718787259&4294967295,D=U+(k<<15&4294967295|k>>>17),k=A+(U^(D|~R))+C[9]+3951481745&4294967295,O.g[0]=O.g[0]+R&4294967295,O.g[1]=O.g[1]+(D+(k<<21&4294967295|k>>>11))&4294967295,O.g[2]=O.g[2]+D&4294967295,O.g[3]=O.g[3]+U&4294967295}i.prototype.u=function(O,R){R===void 0&&(R=O.length);for(var A=R-this.blockSize,C=this.B,D=this.h,U=0;U<R;){if(D==0)for(;U<=A;)l(this,O,U),U+=this.blockSize;if(typeof O=="string"){for(;U<R;)if(C[D++]=O.charCodeAt(U++),D==this.blockSize){l(this,C),D=0;break}}else for(;U<R;)if(C[D++]=O[U++],D==this.blockSize){l(this,C),D=0;break}}this.h=D,this.o+=R},i.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var R=1;R<O.length-8;++R)O[R]=0;var A=8*this.o;for(R=O.length-8;R<O.length;++R)O[R]=A&255,A/=256;for(this.u(O),O=Array(16),R=A=0;4>R;++R)for(var C=0;32>C;C+=8)O[A++]=this.g[R]>>>C&255;return O};function u(O,R){var A=m;return Object.prototype.hasOwnProperty.call(A,O)?A[O]:A[O]=R(O)}function h(O,R){this.h=R;for(var A=[],C=!0,D=O.length-1;0<=D;D--){var U=O[D]|0;C&&U==R||(A[D]=U,C=!1)}this.g=A}var m={};function p(O){return-128<=O&&128>O?u(O,function(R){return new h([R|0],0>R?-1:0)}):new h([O|0],0>O?-1:0)}function _(O){if(isNaN(O)||!isFinite(O))return b;if(0>O)return P(_(-O));for(var R=[],A=1,C=0;O>=A;C++)R[C]=O/A|0,A*=4294967296;return new h(R,0)}function E(O,R){if(O.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(O.charAt(0)=="-")return P(E(O.substring(1),R));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=_(Math.pow(R,8)),C=b,D=0;D<O.length;D+=8){var U=Math.min(8,O.length-D),k=parseInt(O.substring(D,D+U),R);8>U?(U=_(Math.pow(R,U)),C=C.j(U).add(_(k))):(C=C.j(A),C=C.add(_(k)))}return C}var b=p(0),w=p(1),N=p(16777216);s=h.prototype,s.m=function(){if(z(this))return-P(this).m();for(var O=0,R=1,A=0;A<this.g.length;A++){var C=this.i(A);O+=(0<=C?C:4294967296+C)*R,R*=4294967296}return O},s.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(j(this))return"0";if(z(this))return"-"+P(this).toString(O);for(var R=_(Math.pow(O,6)),A=this,C="";;){var D=Z(A,R).g;A=K(A,D.j(R));var U=((0<A.g.length?A.g[0]:A.h)>>>0).toString(O);if(A=D,j(A))return U+C;for(;6>U.length;)U="0"+U;C=U+C}},s.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function j(O){if(O.h!=0)return!1;for(var R=0;R<O.g.length;R++)if(O.g[R]!=0)return!1;return!0}function z(O){return O.h==-1}s.l=function(O){return O=K(this,O),z(O)?-1:j(O)?0:1};function P(O){for(var R=O.g.length,A=[],C=0;C<R;C++)A[C]=~O.g[C];return new h(A,~O.h).add(w)}s.abs=function(){return z(this)?P(this):this},s.add=function(O){for(var R=Math.max(this.g.length,O.g.length),A=[],C=0,D=0;D<=R;D++){var U=C+(this.i(D)&65535)+(O.i(D)&65535),k=(U>>>16)+(this.i(D)>>>16)+(O.i(D)>>>16);C=k>>>16,U&=65535,k&=65535,A[D]=k<<16|U}return new h(A,A[A.length-1]&-2147483648?-1:0)};function K(O,R){return O.add(P(R))}s.j=function(O){if(j(this)||j(O))return b;if(z(this))return z(O)?P(this).j(P(O)):P(P(this).j(O));if(z(O))return P(this.j(P(O)));if(0>this.l(N)&&0>O.l(N))return _(this.m()*O.m());for(var R=this.g.length+O.g.length,A=[],C=0;C<2*R;C++)A[C]=0;for(C=0;C<this.g.length;C++)for(var D=0;D<O.g.length;D++){var U=this.i(C)>>>16,k=this.i(C)&65535,je=O.i(D)>>>16,Ve=O.i(D)&65535;A[2*C+2*D]+=k*Ve,H(A,2*C+2*D),A[2*C+2*D+1]+=U*Ve,H(A,2*C+2*D+1),A[2*C+2*D+1]+=k*je,H(A,2*C+2*D+1),A[2*C+2*D+2]+=U*je,H(A,2*C+2*D+2)}for(C=0;C<R;C++)A[C]=A[2*C+1]<<16|A[2*C];for(C=R;C<2*R;C++)A[C]=0;return new h(A,0)};function H(O,R){for(;(O[R]&65535)!=O[R];)O[R+1]+=O[R]>>>16,O[R]&=65535,R++}function $(O,R){this.g=O,this.h=R}function Z(O,R){if(j(R))throw Error("division by zero");if(j(O))return new $(b,b);if(z(O))return R=Z(P(O),R),new $(P(R.g),P(R.h));if(z(R))return R=Z(O,P(R)),new $(P(R.g),R.h);if(30<O.g.length){if(z(O)||z(R))throw Error("slowDivide_ only works with positive integers.");for(var A=w,C=R;0>=C.l(O);)A=ee(A),C=ee(C);var D=ie(A,1),U=ie(C,1);for(C=ie(C,2),A=ie(A,2);!j(C);){var k=U.add(C);0>=k.l(O)&&(D=D.add(A),U=k),C=ie(C,1),A=ie(A,1)}return R=K(O,D.j(R)),new $(D,R)}for(D=b;0<=O.l(R);){for(A=Math.max(1,Math.floor(O.m()/R.m())),C=Math.ceil(Math.log(A)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),U=_(A),k=U.j(R);z(k)||0<k.l(O);)A-=C,U=_(A),k=U.j(R);j(U)&&(U=w),D=D.add(U),O=K(O,k)}return new $(D,O)}s.A=function(O){return Z(this,O).h},s.and=function(O){for(var R=Math.max(this.g.length,O.g.length),A=[],C=0;C<R;C++)A[C]=this.i(C)&O.i(C);return new h(A,this.h&O.h)},s.or=function(O){for(var R=Math.max(this.g.length,O.g.length),A=[],C=0;C<R;C++)A[C]=this.i(C)|O.i(C);return new h(A,this.h|O.h)},s.xor=function(O){for(var R=Math.max(this.g.length,O.g.length),A=[],C=0;C<R;C++)A[C]=this.i(C)^O.i(C);return new h(A,this.h^O.h)};function ee(O){for(var R=O.g.length+1,A=[],C=0;C<R;C++)A[C]=O.i(C)<<1|O.i(C-1)>>>31;return new h(A,O.h)}function ie(O,R){var A=R>>5;R%=32;for(var C=O.g.length-A,D=[],U=0;U<C;U++)D[U]=0<R?O.i(U+A)>>>R|O.i(U+A+1)<<32-R:O.i(U+A);return new h(D,O.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,W0=i,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=_,h.fromString=E,li=h}).apply(typeof Zv<"u"?Zv:typeof self<"u"?self:typeof window<"u"?window:{});var Jc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var X0,Xo,Z0,ch,Hm,J0,eE,tE;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,v){return c==Array.prototype||c==Object.prototype||(c[y]=v.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Jc=="object"&&Jc];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var i=t(this);function l(c,y){if(y)e:{var v=i;c=c.split(".");for(var S=0;S<c.length-1;S++){var G=c[S];if(!(G in v))break e;v=v[G]}c=c[c.length-1],S=v[c],y=y(S),y!=S&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var v=0,S=!1,G={next:function(){if(!S&&v<c.length){var W=v++;return{value:y(W,c[W]),done:!1}}return S=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}l("Array.prototype.values",function(c){return c||function(){return u(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function _(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,v){return c.call.apply(c.bind,arguments)}function b(c,y,v){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,S),c.apply(y,G)}}return function(){return c.apply(y,arguments)}}function w(c,y,v){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:b,w.apply(null,arguments)}function N(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function j(c,y){function v(){}v.prototype=y.prototype,c.aa=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(S,G,W){for(var oe=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)oe[Be-2]=arguments[Be];return y.prototype[G].apply(S,oe)}}function z(c){const y=c.length;if(0<y){const v=Array(y);for(let S=0;S<y;S++)v[S]=c[S];return v}return[]}function P(c,y){for(let v=1;v<arguments.length;v++){const S=arguments[v];if(p(S)){const G=c.length||0,W=S.length||0;c.length=G+W;for(let oe=0;oe<W;oe++)c[G+oe]=S[oe]}else c.push(S)}}class K{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function H(c){return/^[\s\xa0]*$/.test(c)}function $(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function Z(c){return Z[" "](c),c}Z[" "]=function(){};var ee=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function ie(c,y,v){for(const S in c)y.call(v,c[S],S,c)}function O(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function R(c){const y={};for(const v in c)y[v]=c[v];return y}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(c,y){let v,S;for(let G=1;G<arguments.length;G++){S=arguments[G];for(v in S)c[v]=S[v];for(let W=0;W<A.length;W++)v=A[W],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function D(c){var y=1;c=c.split(":");const v=[];for(;0<y&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function U(c){m.setTimeout(()=>{throw c},0)}function k(){var c=me;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class je{constructor(){this.h=this.g=null}add(y,v){const S=Ve.get();S.set(y,v),this.h?this.h.next=S:this.g=S,this.h=S}}var Ve=new K(()=>new le,c=>c.reset());class le{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ye,pe=!1,me=new je,V=()=>{const c=m.Promise.resolve(void 0);ye=()=>{c.then(re)}};var re=()=>{for(var c;c=k();){try{c.h.call(c.g)}catch(v){U(v)}var y=Ve;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}pe=!1};function ge(){this.s=this.s,this.C=this.C}ge.prototype.s=!1,ge.prototype.ma=function(){this.s||(this.s=!0,this.N())},ge.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var ce=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,y),m.removeEventListener("test",v,y)}catch{}return c}();function Ne(c,y){if(ue.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(ee){e:{try{Z(y.nodeName);var G=!0;break e}catch{}G=!1}G||(y=null)}}else v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ke[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ne.aa.h.call(this)}}j(Ne,ue);var ke={2:"touch",3:"pen",4:"mouse"};Ne.prototype.h=function(){Ne.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var vt="closure_listenable_"+(1e6*Math.random()|0),Ke=0;function ht(c,y,v,S,G){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!S,this.ha=G,this.key=++Ke,this.da=this.fa=!1}function We(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function nn(c){this.src=c,this.g={},this.h=0}nn.prototype.add=function(c,y,v,S,G){var W=c.toString();c=this.g[W],c||(c=this.g[W]=[],this.h++);var oe=Rn(c,y,S,G);return-1<oe?(y=c[oe],v||(y.fa=!1)):(y=new ht(y,this.src,W,!!S,G),y.fa=v,c.push(y)),y};function Ns(c,y){var v=y.type;if(v in c.g){var S=c.g[v],G=Array.prototype.indexOf.call(S,y,void 0),W;(W=0<=G)&&Array.prototype.splice.call(S,G,1),W&&(We(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Rn(c,y,v,S){for(var G=0;G<c.length;++G){var W=c[G];if(!W.da&&W.listener==y&&W.capture==!!v&&W.ha==S)return G}return-1}var ga="closure_lm_"+(1e6*Math.random()|0),pa={};function ks(c,y,v,S,G){if(Array.isArray(y)){for(var W=0;W<y.length;W++)ks(c,y[W],v,S,G);return null}return v=Iu(v),c&&c[vt]?c.K(y,v,_(S)?!!S.capture:!1,G):Pl(c,y,v,!1,S,G)}function Pl(c,y,v,S,G,W){if(!y)throw Error("Invalid event type");var oe=_(G)?!!G.capture:!!G,Be=Ul(c);if(Be||(c[ga]=Be=new nn(c)),v=Be.add(y,v,S,oe,W),v.proxy)return v;if(S=vr(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)ce||(G=oe),G===void 0&&(G=!1),c.addEventListener(y.toString(),S,G);else if(c.attachEvent)c.attachEvent(Er(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function vr(){function c(v){return y.call(c.src,c.listener,v)}const y=fd;return c}function xr(c,y,v,S,G){if(Array.isArray(y))for(var W=0;W<y.length;W++)xr(c,y[W],v,S,G);else S=_(S)?!!S.capture:!!S,v=Iu(v),c&&c[vt]?(c=c.i,y=String(y).toString(),y in c.g&&(W=c.g[y],v=Rn(W,v,S,G),-1<v&&(We(W[v]),Array.prototype.splice.call(W,v,1),W.length==0&&(delete c.g[y],c.h--)))):c&&(c=Ul(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Rn(y,v,S,G)),(v=-1<c?y[c]:null)&&Ti(v))}function Ti(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[vt])Ns(y.i,c);else{var v=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(v,S,c.capture):y.detachEvent?y.detachEvent(Er(v),S):y.addListener&&y.removeListener&&y.removeListener(S),(v=Ul(y))?(Ns(v,c),v.h==0&&(v.src=null,y[ga]=null)):We(c)}}}function Er(c){return c in pa?pa[c]:pa[c]="on"+c}function fd(c,y){if(c.da)c=!0;else{y=new Ne(y,this);var v=c.listener,S=c.ha||c.src;c.fa&&Ti(c),c=v.call(S,y)}return c}function Ul(c){return c=c[ga],c instanceof nn?c:null}var hn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Iu(c){return typeof c=="function"?c:(c[hn]||(c[hn]=function(y){return c.handleEvent(y)}),c[hn])}function wt(){ge.call(this),this.i=new nn(this),this.M=this,this.F=null}j(wt,ge),wt.prototype[vt]=!0,wt.prototype.removeEventListener=function(c,y,v,S){xr(this,c,y,v,S)};function Ot(c,y){var v,S=c.F;if(S)for(v=[];S;S=S.F)v.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new ue(y,c);else if(y instanceof ue)y.target=y.target||c;else{var G=y;y=new ue(S,c),C(y,G)}if(G=!0,v)for(var W=v.length-1;0<=W;W--){var oe=y.g=v[W];G=Cs(oe,S,!0,y)&&G}if(oe=y.g=c,G=Cs(oe,S,!0,y)&&G,G=Cs(oe,S,!1,y)&&G,v)for(W=0;W<v.length;W++)oe=y.g=v[W],G=Cs(oe,S,!1,y)&&G}wt.prototype.N=function(){if(wt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var v=c.g[y],S=0;S<v.length;S++)We(v[S]);delete c.g[y],c.h--}}this.F=null},wt.prototype.K=function(c,y,v,S){return this.i.add(String(c),y,!1,v,S)},wt.prototype.L=function(c,y,v,S){return this.i.add(String(c),y,!0,v,S)};function Cs(c,y,v,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var G=!0,W=0;W<y.length;++W){var oe=y[W];if(oe&&!oe.da&&oe.capture==v){var Be=oe.listener,Nt=oe.ha||oe.src;oe.fa&&Ns(c.i,oe),G=Be.call(Nt,S)!==!1&&G}}return G&&!S.defaultPrevented}function ju(c,y,v){if(typeof c=="function")v&&(c=w(c,v));else if(c&&typeof c.handleEvent=="function")c=w(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function Bl(c){c.g=ju(()=>{c.g=null,c.i&&(c.i=!1,Bl(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class md extends ge{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Bl(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bi(c){ge.call(this),this.h=c,this.g={}}j(bi,ge);var _a=[];function Yt(c){ie(c.g,function(y,v){this.g.hasOwnProperty(v)&&Ti(y)},c),c.g={}}bi.prototype.N=function(){bi.aa.N.call(this),Yt(this)},bi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Hl=m.JSON.stringify,as=m.JSON.parse,sn=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function zl(){}zl.prototype.h=null;function Du(c){return c.h||(c.h=c.i())}function Ou(){}var is={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ya(){ue.call(this,"d")}j(ya,ue);function Fn(){ue.call(this,"c")}j(Fn,ue);var Nn={},va=null;function Tr(){return va=va||new wt}Nn.La="serverreachability";function ql(c){ue.call(this,Nn.La,c)}j(ql,ue);function xa(c){const y=Tr();Ot(y,new ql(y))}Nn.STAT_EVENT="statevent";function br(c,y){ue.call(this,Nn.STAT_EVENT,c),this.stat=y}j(br,ue);function pt(c){const y=Tr();Ot(y,new br(y,c))}Nn.Ma="timingevent";function Mu(c,y){ue.call(this,Nn.Ma,c),this.size=y}j(Mu,ue);function Ea(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function Ta(){this.g=!0}Ta.prototype.xa=function(){this.g=!1};function Lu(c,y,v,S,G,W){c.info(function(){if(c.g)if(W)for(var oe="",Be=W.split("&"),Nt=0;Nt<Be.length;Nt++){var He=Be[Nt].split("=");if(1<He.length){var Vt=He[0];He=He[1];var kt=Vt.split("_");oe=2<=kt.length&&kt[1]=="type"?oe+(Vt+"="+He+"&"):oe+(Vt+"=redacted&")}}else oe=null;else oe=W;return"XMLHTTP REQ ("+S+") [attempt "+G+"]: "+y+`
`+v+`
`+oe})}function Vu(c,y,v,S,G,W,oe){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+G+"]: "+y+`
`+v+`
`+W+" "+oe})}function ba(c,y,v,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Mt(c,v)+(S?" "+S:"")})}function rs(c,y){c.info(function(){return"TIMEOUT: "+y})}Ta.prototype.info=function(){};function Mt(c,y){if(!c.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var S=v[c];if(!(2>S.length)){var G=S[1];if(Array.isArray(G)&&!(1>G.length)){var W=G[0];if(W!="noop"&&W!="stop"&&W!="close")for(var oe=1;oe<G.length;oe++)G[oe]=""}}}}return Hl(v)}catch{return y}}var Rt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Is={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ai;function Ar(){}j(Ar,zl),Ar.prototype.g=function(){return new XMLHttpRequest},Ar.prototype.i=function(){return{}},Ai=new Ar;function ls(c,y,v,S){this.j=c,this.i=y,this.l=v,this.R=S||1,this.U=new bi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Kl}function Kl(){this.i=null,this.g="",this.h=!1}var Aa={},Si={};function Gn(c,y,v){c.L=1,c.v=Ni(dt(y)),c.m=v,c.P=!0,js(c,null)}function js(c,y){c.F=Date.now(),rt(c),c.A=dt(c.v);var v=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),Ms(v.i,"t",S),c.C=0,v=c.j.J,c.h=new Kl,c.g=Xu(c.j,v?y:null,!c.m),0<c.O&&(c.M=new md(w(c.Y,c,c.g),c.O)),y=c.U,v=c.g,S=c.ca;var G="readystatechange";Array.isArray(G)||(G&&(_a[0]=G.toString()),G=_a);for(var W=0;W<G.length;W++){var oe=ks(v,G[W],S||y.handleEvent,!1,y.h||y);if(!oe)break;y.g[oe.key]=oe}y=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),xa(),Lu(c.i,c.u,c.A,c.l,c.R,c.m)}ls.prototype.ca=function(c){c=c.target;const y=this.M;y&&Dn(c)==3?y.j():this.Y(c)},ls.prototype.Y=function(c){try{if(c==this.g)e:{const kt=Dn(this.g);var y=this.g.Ba();const Us=this.g.Z();if(!(3>kt)&&(kt!=3||this.g&&(this.h.h||this.g.oa()||qu(this.g)))){this.J||kt!=4||y==7||(y==8||0>=Us?xa(3):xa(2)),Sr(this);var v=this.g.Z();this.X=v;t:if(Sa(this)){var S=qu(this.g);c="";var G=S.length,W=Dn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){dn(this),_n(this);var oe="";break t}this.h.i=new m.TextDecoder}for(y=0;y<G;y++)this.h.h=!0,c+=this.h.i.decode(S[y],{stream:!(W&&y==G-1)});S.length=0,this.h.g+=c,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=v==200,Vu(this.i,this.u,this.A,this.l,this.R,kt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Be,Nt=this.g;if((Be=Nt.g?Nt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(Be)){var He=Be;break t}}He=null}if(v=He)ba(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,yn(this,v);else{this.o=!1,this.s=3,pt(12),dn(this),_n(this);break e}}if(this.P){v=!0;let zt;for(;!this.J&&this.C<oe.length;)if(zt=wa(this,oe),zt==Si){kt==4&&(this.s=4,pt(14),v=!1),ba(this.i,this.l,null,"[Incomplete Response]");break}else if(zt==Aa){this.s=4,pt(15),ba(this.i,this.l,oe,"[Invalid Chunk]"),v=!1;break}else ba(this.i,this.l,zt,null),yn(this,zt);if(Sa(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),kt!=4||oe.length!=0||this.h.h||(this.s=1,pt(16),v=!1),this.o=this.o&&v,!v)ba(this.i,this.l,oe,"[Invalid Chunked Response]"),dn(this),_n(this);else if(0<oe.length&&!this.W){this.W=!0;var Vt=this.j;Vt.g==this&&Vt.ba&&!Vt.M&&(Vt.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),Mi(Vt),Vt.M=!0,pt(11))}}else ba(this.i,this.l,oe,null),yn(this,oe);kt==4&&dn(this),this.o&&!this.J&&(kt==4?Qu(this.j,this):(this.o=!1,rt(this)))}else xd(this.g),v==400&&0<oe.indexOf("Unknown SID")?(this.s=3,pt(12)):(this.s=0,pt(13)),dn(this),_n(this)}}}catch{}finally{}};function Sa(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function wa(c,y){var v=c.C,S=y.indexOf(`
`,v);return S==-1?Si:(v=Number(y.substring(v,S)),isNaN(v)?Aa:(S+=1,S+v>y.length?Si:(y=y.slice(S,S+v),c.C=S+v,y)))}ls.prototype.cancel=function(){this.J=!0,dn(this)};function rt(c){c.S=Date.now()+c.I,Fl(c,c.I)}function Fl(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ea(w(c.ba,c),y)}function Sr(c){c.B&&(m.clearTimeout(c.B),c.B=null)}ls.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(rs(this.i,this.A),this.L!=2&&(xa(),pt(17)),dn(this),this.s=2,_n(this)):Fl(this,this.S-c)};function _n(c){c.j.G==0||c.J||Qu(c.j,c)}function dn(c){Sr(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Yt(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function yn(c,y){try{var v=c.j;if(v.G!=0&&(v.g==c||Ra(v.h,c))){if(!c.K&&Ra(v.h,c)&&v.G==3){try{var S=v.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var G=S;if(G[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)Mr(v),Dr(v);else break e;no(v),pt(18)}}else v.za=G[1],0<v.za-v.T&&37500>G[2]&&v.F&&v.v==0&&!v.C&&(v.C=Ea(w(v.Za,v),6e3));if(1>=Pu(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Ps(v,11)}else if((c.K||v.g==c)&&Mr(v),!H(y))for(G=v.Da.g.parse(y),y=0;y<G.length;y++){let He=G[y];if(v.T=He[0],He=He[1],v.G==2)if(He[0]=="c"){v.K=He[1],v.ia=He[2];const Vt=He[3];Vt!=null&&(v.la=Vt,v.j.info("VER="+v.la));const kt=He[4];kt!=null&&(v.Aa=kt,v.j.info("SVER="+v.Aa));const Us=He[5];Us!=null&&typeof Us=="number"&&0<Us&&(S=1.5*Us,v.L=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const zt=c.g;if(zt){const ms=zt.g?zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ms){var W=S.h;W.g||ms.indexOf("spdy")==-1&&ms.indexOf("quic")==-1&&ms.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(Na(W,W.h),W.h=null))}if(S.D){const ao=zt.g?zt.g.getResponseHeader("X-HTTP-Session-Id"):null;ao&&(S.ya=ao,Fe(S.I,S.D,ao))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),S=v;var oe=c;if(S.qa=Wu(S,S.J?S.ia:null,S.W),oe.K){kn(S.h,oe);var Be=oe,Nt=S.L;Nt&&(Be.I=Nt),Be.B&&(Sr(Be),rt(Be)),S.g=oe}else Gu(S);0<v.i.length&&Or(v)}else He[0]!="stop"&&He[0]!="close"||Ps(v,7);else v.G==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?Ps(v,7):eo(v):He[0]!="noop"&&v.l&&v.l.ta(He),v.v=0)}}xa(4)}catch{}}var gd=class{constructor(c,y){this.g=c,this.map=y}};function Gl(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $l(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Pu(c){return c.h?1:c.g?c.g.size:0}function Ra(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Na(c,y){c.g?c.g.add(y):c.h=y}function kn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Gl.prototype.cancel=function(){if(this.i=an(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function an(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.D);return y}return z(c.i)}function Uu(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],v=c.length,S=0;S<v;S++)y.push(c[S]);return y}y=[],v=0;for(S in c)y[v++]=c[S];return y}function pd(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var v=0;v<c;v++)y.push(v);return y}y=[],v=0;for(const S in c)y[v++]=S;return y}}}function wi(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var v=pd(c),S=Uu(c),G=S.length,W=0;W<G;W++)y.call(void 0,S[W],v&&v[W],c)}var Ql=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wr(c,y){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var S=c[v].indexOf("="),G=null;if(0<=S){var W=c[v].substring(0,S);G=c[v].substring(S+1)}else W=c[v];y(W,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Ds(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ds){this.h=c.h,ka(this,c.j),this.o=c.o,this.g=c.g,Ri(this,c.s),this.l=c.l;var y=c.i,v=new os;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),Rr(this,v),this.m=c.m}else c&&(y=String(c).match(Ql))?(this.h=!1,ka(this,y[1]||"",!0),this.o=Ca(y[2]||""),this.g=Ca(y[3]||"",!0),Ri(this,y[4]),this.l=Ca(y[5]||"",!0),Rr(this,y[6]||"",!0),this.m=Ca(y[7]||"")):(this.h=!1,this.i=new os(null,this.h))}Ds.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Cn(y,Yl,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Cn(y,Yl,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Cn(v,v.charAt(0)=="/"?Wl:Bu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Cn(v,vd)),c.join("")};function dt(c){return new Ds(c)}function ka(c,y,v){c.j=v?Ca(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Ri(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Rr(c,y,v){y instanceof os?(c.i=y,Xl(c.i,c.h)):(v||(y=Cn(y,yd)),c.i=new os(y,c.h))}function Fe(c,y,v){c.i.set(y,v)}function Ni(c){return Fe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ca(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Cn(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,_d),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function _d(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Yl=/[#\/\?@]/g,Bu=/[#\?:]/g,Wl=/[#\?]/g,yd=/[#\?@]/g,vd=/#/g;function os(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function In(c){c.g||(c.g=new Map,c.h=0,c.i&&wr(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}s=os.prototype,s.add=function(c,y){In(this),this.i=null,c=Ls(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Nr(c,y){In(c),y=Ls(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Os(c,y){return In(c),y=Ls(c,y),c.g.has(y)}s.forEach=function(c,y){In(this),this.g.forEach(function(v,S){v.forEach(function(G){c.call(y,G,S,this)},this)},this)},s.na=function(){In(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let S=0;S<y.length;S++){const G=c[S];for(let W=0;W<G.length;W++)v.push(y[S])}return v},s.V=function(c){In(this);let y=[];if(typeof c=="string")Os(this,c)&&(y=y.concat(this.g.get(Ls(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)y=y.concat(c[v])}return y},s.set=function(c,y){return In(this),this.i=null,c=Ls(this,c),Os(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},s.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Ms(c,y,v){Nr(c,y),0<v.length&&(c.i=null,c.g.set(Ls(c,y),z(v)),c.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var S=y[v];const W=encodeURIComponent(String(S)),oe=this.V(S);for(S=0;S<oe.length;S++){var G=W;oe[S]!==""&&(G+="="+encodeURIComponent(String(oe[S]))),c.push(G)}}return this.i=c.join("&")};function Ls(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Xl(c,y){y&&!c.j&&(In(c),c.i=null,c.g.forEach(function(v,S){var G=S.toLowerCase();S!=G&&(Nr(this,S),Ms(this,G,v))},c)),c.j=y}function Hu(c,y){const v=new Ta;if(m.Image){const S=new Image;S.onload=N(jn,v,"TestLoadImage: loaded",!0,y,S),S.onerror=N(jn,v,"TestLoadImage: error",!1,y,S),S.onabort=N(jn,v,"TestLoadImage: abort",!1,y,S),S.ontimeout=N(jn,v,"TestLoadImage: timeout",!1,y,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function ki(c,y){const v=new Ta,S=new AbortController,G=setTimeout(()=>{S.abort(),jn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then(W=>{clearTimeout(G),W.ok?jn(v,"TestPingServer: ok",!0,y):jn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(G),jn(v,"TestPingServer: error",!1,y)})}function jn(c,y,v,S,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),S(v)}catch{}}function Ci(){this.g=new sn}function us(c,y,v){const S=v||"";try{wi(c,function(G,W){let oe=G;_(G)&&(oe=Hl(G)),y.push(S+W+"="+encodeURIComponent(oe))})}catch(G){throw y.push(S+"type="+encodeURIComponent("_badmap")),G}}function Ia(c){this.l=c.Ub||null,this.j=c.eb||!1}j(Ia,zl),Ia.prototype.g=function(){return new Vs(this.l,this.j)},Ia.prototype.i=function(c){return function(){return c}}({});function Vs(c,y){wt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}j(Vs,wt),s=Vs.prototype,s.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,hs(this)},s.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,cs(this)),this.readyState=0},s.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,hs(this)),this.g&&(this.readyState=3,hs(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Zl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Zl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}s.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?cs(this):hs(this),this.readyState==3&&Zl(this)}},s.Ra=function(c){this.g&&(this.response=this.responseText=c,cs(this))},s.Qa=function(c){this.g&&(this.response=c,cs(this))},s.ga=function(){this.g&&cs(this)};function cs(c){c.readyState=4,c.l=null,c.j=null,c.v=null,hs(c)}s.setRequestHeader=function(c,y){this.u.append(c,y)},s.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function hs(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Vs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Jl(c){let y="";return ie(c,function(v,S){y+=S,y+=":",y+=v,y+=`\r
`}),y}function Lt(c,y,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=Jl(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):Fe(c,y,v))}function Qe(c){wt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}j(Qe,wt);var kr=/^https?$/i,Ii=["POST","PUT"];s=Qe.prototype,s.Ha=function(c){this.J=c},s.ea=function(c,y,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ai.g(),this.v=this.o?Du(this.o):Du(Ai),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(W){zu(this,W);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var G in S)v.set(G,S[G]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const W of S.keys())v.set(W,S.get(W));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(W=>W.toLowerCase()=="content-type"),G=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Ii,y,void 0))||S||G||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,oe]of v)this.g.setRequestHeader(W,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ji(this),this.u=!0,this.g.send(c),this.u=!1}catch(W){zu(this,W)}};function zu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Cr(c),ds(c)}function Cr(c){c.A||(c.A=!0,Ot(c,"complete"),Ot(c,"error"))}s.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ot(this,"complete"),Ot(this,"abort"),ds(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ds(this,!0)),Qe.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Ir(this):this.bb())},s.bb=function(){Ir(this)};function Ir(c){if(c.h&&typeof h<"u"&&(!c.v[1]||Dn(c)!=4||c.Z()!=2)){if(c.u&&Dn(c)==4)ju(c.Ea,0,c);else if(Ot(c,"readystatechange"),Dn(c)==4){c.h=!1;try{const oe=c.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var S;if(S=oe===0){var G=String(c.D).match(Ql)[1]||null;!G&&m.self&&m.self.location&&(G=m.self.location.protocol.slice(0,-1)),S=!kr.test(G?G.toLowerCase():"")}v=S}if(v)Ot(c,"complete"),Ot(c,"success");else{c.m=6;try{var W=2<Dn(c)?c.g.statusText:""}catch{W=""}c.l=W+" ["+c.Z()+"]",Cr(c)}}finally{ds(c)}}}}function ds(c,y){if(c.g){ji(c);const v=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Ot(c,"ready");try{v.onreadystatechange=S}catch{}}}function ji(c){c.I&&(m.clearTimeout(c.I),c.I=null)}s.isActive=function(){return!!this.g};function Dn(c){return c.g?c.g.readyState:0}s.Z=function(){try{return 2<Dn(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),as(y)}};function qu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function xd(c){const y={};c=(c.g&&2<=Dn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(H(c[S]))continue;var v=D(c[S]);const G=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const W=y[G]||[];y[G]=W,W.push(v)}O(y,function(S){return S.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Di(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function jr(c){this.Aa=0,this.i=[],this.j=new Ta,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Di("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Di("baseRetryDelayMs",5e3,c),this.cb=Di("retryDelaySeedMs",1e4,c),this.Wa=Di("forwardChannelMaxRetries",2,c),this.wa=Di("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Gl(c&&c.concurrentRequestLimit),this.Da=new Ci,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=jr.prototype,s.la=8,s.G=1,s.connect=function(c,y,v,S){pt(0),this.W=c,this.H=y||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.I=Wu(this,null,this.W),Or(this)};function eo(c){if(Ku(c),c.G==3){var y=c.U++,v=dt(c.I);if(Fe(v,"SID",c.K),Fe(v,"RID",y),Fe(v,"TYPE","terminate"),Oi(c,v),y=new ls(c,c.j,y),y.L=2,y.v=Ni(dt(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=y.v,v=!0),v||(y.g=Xu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),rt(y)}Yu(c)}function Dr(c){c.g&&(Mi(c),c.g.cancel(),c.g=null)}function Ku(c){Dr(c),c.u&&(m.clearTimeout(c.u),c.u=null),Mr(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Or(c){if(!$l(c.h)&&!c.s){c.s=!0;var y=c.Ga;ye||V(),pe||(ye(),pe=!0),me.add(y,c),c.B=0}}function Ed(c,y){return Pu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ea(w(c.Ga,c,y),so(c,c.B)),c.B++,!0)}s.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const G=new ls(this,this.j,c);let W=this.o;if(this.S&&(W?(W=R(W),C(W,this.S)):W=this.S),this.m!==null||this.O||(G.H=W,W=null),this.P)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Fu(this,G,y),v=dt(this.I),Fe(v,"RID",c),Fe(v,"CVER",22),this.D&&Fe(v,"X-HTTP-Session-Id",this.D),Oi(this,v),W&&(this.O?y="headers="+encodeURIComponent(String(Jl(W)))+"&"+y:this.m&&Lt(v,this.m,W)),Na(this.h,G),this.Ua&&Fe(v,"TYPE","init"),this.P?(Fe(v,"$req",y),Fe(v,"SID","null"),G.T=!0,Gn(G,v,null)):Gn(G,v,y),this.G=2}}else this.G==3&&(c?to(this,c):this.i.length==0||$l(this.h)||to(this))};function to(c,y){var v;y?v=y.l:v=c.U++;const S=dt(c.I);Fe(S,"SID",c.K),Fe(S,"RID",v),Fe(S,"AID",c.T),Oi(c,S),c.m&&c.o&&Lt(S,c.m,c.o),v=new ls(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Fu(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Na(c.h,v),Gn(v,S,y)}function Oi(c,y){c.H&&ie(c.H,function(v,S){Fe(y,S,v)}),c.l&&wi({},function(v,S){Fe(y,S,v)})}function Fu(c,y,v){v=Math.min(c.i.length,v);var S=c.l?w(c.l.Na,c.l,c):null;e:{var G=c.i;let W=-1;for(;;){const oe=["count="+v];W==-1?0<v?(W=G[0].g,oe.push("ofs="+W)):W=0:oe.push("ofs="+W);let Be=!0;for(let Nt=0;Nt<v;Nt++){let He=G[Nt].g;const Vt=G[Nt].map;if(He-=W,0>He)W=Math.max(0,G[Nt].g-100),Be=!1;else try{us(Vt,oe,"req"+He+"_")}catch{S&&S(Vt)}}if(Be){S=oe.join("&");break e}}}return c=c.i.splice(0,v),y.D=c,S}function Gu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;ye||V(),pe||(ye(),pe=!0),me.add(y,c),c.v=0}}function no(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ea(w(c.Fa,c),so(c,c.v)),c.v++,!0)}s.Fa=function(){if(this.u=null,$u(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ea(w(this.ab,this),c)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,pt(10),Dr(this),$u(this))};function Mi(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function $u(c){c.g=new ls(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=dt(c.qa);Fe(y,"RID","rpc"),Fe(y,"SID",c.K),Fe(y,"AID",c.T),Fe(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Fe(y,"TO",c.ja),Fe(y,"TYPE","xmlhttp"),Oi(c,y),c.m&&c.o&&Lt(y,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=Ni(dt(y)),v.m=null,v.P=!0,js(v,c)}s.Za=function(){this.C!=null&&(this.C=null,Dr(this),no(this),pt(19))};function Mr(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Qu(c,y){var v=null;if(c.g==y){Mr(c),Mi(c),c.g=null;var S=2}else if(Ra(c.h,y))v=y.D,kn(c.h,y),S=1;else return;if(c.G!=0){if(y.o)if(S==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var G=c.B;S=Tr(),Ot(S,new Mu(S,v)),Or(c)}else Gu(c);else if(G=y.s,G==3||G==0&&0<y.X||!(S==1&&Ed(c,y)||S==2&&no(c)))switch(v&&0<v.length&&(y=c.h,y.i=y.i.concat(v)),G){case 1:Ps(c,5);break;case 4:Ps(c,10);break;case 3:Ps(c,6);break;default:Ps(c,2)}}}function so(c,y){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*y}function Ps(c,y){if(c.j.info("Error code "+y),y==2){var v=w(c.fb,c),S=c.Xa;const G=!S;S=new Ds(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||ka(S,"https"),Ni(S),G?Hu(S.toString(),v):ki(S.toString(),v)}else pt(2);c.G=0,c.l&&c.l.sa(y),Yu(c),Ku(c)}s.fb=function(c){c?(this.j.info("Successfully pinged google.com"),pt(2)):(this.j.info("Failed to ping google.com"),pt(1))};function Yu(c){if(c.G=0,c.ka=[],c.l){const y=an(c.h);(y.length!=0||c.i.length!=0)&&(P(c.ka,y),P(c.ka,c.i),c.h.i.length=0,z(c.i),c.i.length=0),c.l.ra()}}function Wu(c,y,v){var S=v instanceof Ds?dt(v):new Ds(v);if(S.g!="")y&&(S.g=y+"."+S.g),Ri(S,S.s);else{var G=m.location;S=G.protocol,y=y?y+"."+G.hostname:G.hostname,G=+G.port;var W=new Ds(null);S&&ka(W,S),y&&(W.g=y),G&&Ri(W,G),v&&(W.l=v),S=W}return v=c.D,y=c.ya,v&&y&&Fe(S,v,y),Fe(S,"VER",c.la),Oi(c,S),S}function Xu(c,y,v){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Qe(new Ia({eb:v})):new Qe(c.pa),y.Ha(c.J),y}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Zu(){}s=Zu.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function Lr(){}Lr.prototype.g=function(c,y){return new rn(c,y)};function rn(c,y){wt.call(this),this.g=new jr(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!H(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!H(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new fs(this)}j(rn,wt),rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){eo(this.g)},rn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Hl(c),c=v);y.i.push(new gd(y.Ya++,c)),y.G==3&&Or(y)},rn.prototype.N=function(){this.g.l=null,delete this.j,eo(this.g),delete this.g,rn.aa.N.call(this)};function Ju(c){ya.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}j(Ju,ya);function ec(){Fn.call(this),this.status=1}j(ec,Fn);function fs(c){this.g=c}j(fs,Zu),fs.prototype.ua=function(){Ot(this.g,"a")},fs.prototype.ta=function(c){Ot(this.g,new Ju(c))},fs.prototype.sa=function(c){Ot(this.g,new ec)},fs.prototype.ra=function(){Ot(this.g,"b")},Lr.prototype.createWebChannel=Lr.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,tE=function(){return new Lr},eE=function(){return Tr()},J0=Nn,Hm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Rt.NO_ERROR=0,Rt.TIMEOUT=8,Rt.HTTP_ERROR=6,ch=Rt,Is.COMPLETE="complete",Z0=Is,Ou.EventType=is,is.OPEN="a",is.CLOSE="b",is.ERROR="c",is.MESSAGE="d",wt.prototype.listen=wt.prototype.K,Xo=Ou,Qe.prototype.listenOnce=Qe.prototype.L,Qe.prototype.getLastError=Qe.prototype.Ka,Qe.prototype.getLastErrorCode=Qe.prototype.Ba,Qe.prototype.getStatus=Qe.prototype.Z,Qe.prototype.getResponseJson=Qe.prototype.Oa,Qe.prototype.getResponseText=Qe.prototype.oa,Qe.prototype.send=Qe.prototype.ea,Qe.prototype.setWithCredentials=Qe.prototype.Ha,X0=Qe}).apply(typeof Jc<"u"?Jc:typeof self<"u"?self:typeof window<"u"?window:{});const Jv="@firebase/firestore",ex="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Il="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ir=new yg("@firebase/firestore");function cl(){return ir.logLevel}function he(s,...e){if(ir.logLevel<=Me.DEBUG){const t=e.map(Eg);ir.debug(`Firestore (${Il}): ${s}`,...t)}}function ca(s,...e){if(ir.logLevel<=Me.ERROR){const t=e.map(Eg);ir.error(`Firestore (${Il}): ${s}`,...t)}}function vl(s,...e){if(ir.logLevel<=Me.WARN){const t=e.map(Eg);ir.warn(`Firestore (${Il}): ${s}`,...t)}}function Eg(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(s="Unexpected state"){const e=`FIRESTORE (${Il}) INTERNAL ASSERTION FAILED: `+s;throw ca(e),new Error(e)}function Ye(s,e){s||be()}function Re(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends Rs{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class SN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Jt.UNAUTHENTICATED))}shutdown(){}}class wN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class RN{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ye(this.o===void 0);let i=this.i;const l=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let u=new ra;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ra,e.enqueueRetryable(()=>l(this.currentUser))};const h=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await l(this.currentUser)})},m=p=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ra)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ye(typeof i.accessToken=="string"),new nE(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string"),new Jt(e)}}class NN{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class kN{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new NN(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class tx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class CN{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,An(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Ye(this.o===void 0);const i=u=>{u.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.R;return this.R=u.token,he("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>i(u))};const l=u=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>l(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?l(u):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new tx(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ye(typeof t.token=="string"),this.R=t.token,new tx(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IN(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<s;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const l=IN(40);for(let u=0;u<l.length;++u)i.length<20&&l[u]<t&&(i+=e.charAt(l[u]%62))}return i}}function Ue(s,e){return s<e?-1:s>e?1:0}function xl(s,e,t){return s.length===e.length&&s.every((i,l)=>t(i,e[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx=-62135596800,sx=1e6;class jt{static now(){return jt.fromMillis(Date.now())}static fromDate(e){return jt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*sx);return new jt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new de(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new de(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<nx)throw new de(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/sx}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-nx;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new jt(0,0))}static max(){return new Se(new jt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax="__name__";class xs{constructor(e,t,i){t===void 0?t=0:t>e.length&&be(),i===void 0?i=e.length-t:i>e.length-t&&be(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return xs.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof xs?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let l=0;l<i;l++){const u=xs.compareSegments(e.get(l),t.get(l));if(u!==0)return u}return Math.sign(e.length-t.length)}static compareSegments(e,t){const i=xs.isNumericId(e),l=xs.isNumericId(t);return i&&!l?-1:!i&&l?1:i&&l?xs.extractNumericId(e).compare(xs.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return li.fromString(e.substring(4,e.length-2))}}class nt extends xs{construct(e,t,i){return new nt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new de(ne.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(l=>l.length>0))}return new nt(t)}static emptyPath(){return new nt([])}}const jN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $t extends xs{construct(e,t,i){return new $t(e,t,i)}static isValidIdentifier(e){return jN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ax}static keyField(){return new $t([ax])}static fromServerFormat(e){const t=[];let i="",l=0;const u=()=>{if(i.length===0)throw new de(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let h=!1;for(;l<e.length;){const m=e[l];if(m==="\\"){if(l+1===e.length)throw new de(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new de(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,l+=2}else m==="`"?(h=!h,l++):m!=="."||h?(i+=m,l++):(u(),l++)}if(u(),h)throw new de(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $t(t)}static emptyPath(){return new $t([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.path=e}static fromPath(e){return new xe(nt.fromString(e))}static fromName(e){return new xe(nt.fromString(e).popFirst(5))}static empty(){return new xe(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return nt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xe(new nt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uu=-1;function DN(s,e){const t=s.toTimestamp().seconds,i=s.toTimestamp().nanoseconds+1,l=Se.fromTimestamp(i===1e9?new jt(t+1,0):new jt(t,i));return new hi(l,xe.empty(),e)}function ON(s){return new hi(s.readTime,s.key,uu)}class hi{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new hi(Se.min(),xe.empty(),uu)}static max(){return new hi(Se.max(),xe.empty(),uu)}}function MN(s,e){let t=s.readTime.compareTo(e.readTime);return t!==0?t:(t=xe.comparator(s.documentKey,e.documentKey),t!==0?t:Ue(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class VN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jl(s){if(s.code!==ne.FAILED_PRECONDITION||s.message!==LN)throw s;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&be(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new se((i,l)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(i,l)},this.catchCallback=u=>{this.wrapFailure(t,u).next(i,l)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof se?t:se.resolve(t)}catch(t){return se.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):se.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):se.reject(t)}static resolve(e){return new se((t,i)=>{t(e)})}static reject(e){return new se((t,i)=>{i(e)})}static waitFor(e){return new se((t,i)=>{let l=0,u=0,h=!1;e.forEach(m=>{++l,m.next(()=>{++u,h&&u===l&&t()},p=>i(p))}),h=!0,u===l&&t()})}static or(e){let t=se.resolve(!1);for(const i of e)t=t.next(l=>l?se.resolve(l):i());return t}static forEach(e,t){const i=[];return e.forEach((l,u)=>{i.push(t.call(this,l,u))}),this.waitFor(i)}static mapArray(e,t){return new se((i,l)=>{const u=e.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const _=p;t(e[_]).next(E=>{h[_]=E,++m,m===u&&i(h)},E=>l(E))}})}static doWhile(e,t){return new se((i,l)=>{const u=()=>{e()===!0?t().next(()=>{u()},l):i()};u()})}}function PN(s){const e=s.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Dl(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.oe(i),this._e=i=>t.writeSequenceNumber(i))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Fh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tg=-1;function Gh(s){return s==null}function Ah(s){return s===0&&1/s==-1/0}function UN(s){return typeof s=="number"&&Number.isInteger(s)&&!Ah(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE="";function BN(s){let e="";for(let t=0;t<s.length;t++)e.length>0&&(e=ix(e)),e=HN(s.get(t),e);return ix(e)}function HN(s,e){let t=e;const i=s.length;for(let l=0;l<i;l++){const u=s.charAt(l);switch(u){case"\0":t+="";break;case aE:t+="";break;default:t+=u}}return t}function ix(s){return s+aE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rx(s){let e=0;for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&e++;return e}function vi(s,e){for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&e(t,s[t])}function iE(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,t){this.comparator=e,this.root=t||Gt.EMPTY}insert(e,t){return new ut(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const l=this.comparator(e,i.key);if(l===0)return t+i.left.size;l<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new eh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new eh(this.root,e,this.comparator,!1)}getReverseIterator(){return new eh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new eh(this.root,e,this.comparator,!0)}}class eh{constructor(e,t,i,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?i(e.key,t):1,t&&l&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,t,i,l,u){this.key=e,this.value=t,this.color=i??Gt.RED,this.left=l??Gt.EMPTY,this.right=u??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,l,u){return new Gt(e??this.key,t??this.value,i??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let l=this;const u=i(e,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(e,t,i),null):u===0?l.copy(null,t,null,null,null):l.copy(null,null,null,null,l.right.insert(e,t,i)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,l=this;if(t(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,t),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),t(e,l.key)===0){if(l.right.isEmpty())return Gt.EMPTY;i=l.right.min(),l=l.copy(i.key,i.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,t))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw be();const e=this.left.check();if(e!==this.right.check())throw be();return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw be()}get value(){throw be()}get color(){throw be()}get left(){throw be()}get right(){throw be()}copy(e,t,i,l,u){return this}insert(e,t,i){return new Gt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const l=i.getNext();if(this.comparator(l.key,e[1])>=0)return;t(l.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new lx(this.data.getIterator())}getIteratorFrom(e){return new lx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Dt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const l=t.getNext().key,u=i.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Dt(this.comparator);return t.data=e,t}}class lx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.fields=e,e.sort($t.comparator)}static empty(){return new Sn([])}unionWith(e){let t=new Dt($t.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Sn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return xl(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new rE("Invalid base64 string: "+u):u}}(e);return new Qt(t)}static fromUint8Array(e){const t=function(l){let u="";for(let h=0;h<l.length;++h)u+=String.fromCharCode(l[h]);return u}(e);return new Qt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let l=0;l<t.length;l++)i[l]=t.charCodeAt(l);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const zN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function di(s){if(Ye(!!s),typeof s=="string"){let e=0;const t=zN.exec(s);if(Ye(!!t),t[1]){let l=t[1];l=(l+"000000000").substr(0,9),e=Number(l)}const i=new Date(s);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:yt(s.seconds),nanos:yt(s.nanos)}}function yt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function fi(s){return typeof s=="string"?Qt.fromBase64String(s):Qt.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE="server_timestamp",oE="__type__",uE="__previous_value__",cE="__local_write_time__";function bg(s){var e,t;return((t=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[oE])===null||t===void 0?void 0:t.stringValue)===lE}function $h(s){const e=s.mapValue.fields[uE];return bg(e)?$h(e):e}function cu(s){const e=di(s.mapValue.fields[cE].timestampValue);return new jt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e,t,i,l,u,h,m,p,_){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=l,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=_}}const Sh="(default)";class hu{constructor(e,t){this.projectId=e,this.database=t||Sh}static empty(){return new hu("","")}get isDefaultDatabase(){return this.database===Sh}isEqual(e){return e instanceof hu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE="__type__",KN="__max__",th={mapValue:{}},dE="__vector__",wh="value";function mi(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?bg(s)?4:GN(s)?9007199254740991:FN(s)?10:11:be()}function ws(s,e){if(s===e)return!0;const t=mi(s);if(t!==mi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return cu(s).isEqual(cu(e));case 3:return function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const h=di(l.timestampValue),m=di(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(l,u){return fi(l.bytesValue).isEqual(fi(u.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(l,u){return yt(l.geoPointValue.latitude)===yt(u.geoPointValue.latitude)&&yt(l.geoPointValue.longitude)===yt(u.geoPointValue.longitude)}(s,e);case 2:return function(l,u){if("integerValue"in l&&"integerValue"in u)return yt(l.integerValue)===yt(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const h=yt(l.doubleValue),m=yt(u.doubleValue);return h===m?Ah(h)===Ah(m):isNaN(h)&&isNaN(m)}return!1}(s,e);case 9:return xl(s.arrayValue.values||[],e.arrayValue.values||[],ws);case 10:case 11:return function(l,u){const h=l.mapValue.fields||{},m=u.mapValue.fields||{};if(rx(h)!==rx(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!ws(h[p],m[p])))return!1;return!0}(s,e);default:return be()}}function du(s,e){return(s.values||[]).find(t=>ws(t,e))!==void 0}function El(s,e){if(s===e)return 0;const t=mi(s),i=mi(e);if(t!==i)return Ue(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ue(s.booleanValue,e.booleanValue);case 2:return function(u,h){const m=yt(u.integerValue||u.doubleValue),p=yt(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(s,e);case 3:return ox(s.timestampValue,e.timestampValue);case 4:return ox(cu(s),cu(e));case 5:return Ue(s.stringValue,e.stringValue);case 6:return function(u,h){const m=fi(u),p=fi(h);return m.compareTo(p)}(s.bytesValue,e.bytesValue);case 7:return function(u,h){const m=u.split("/"),p=h.split("/");for(let _=0;_<m.length&&_<p.length;_++){const E=Ue(m[_],p[_]);if(E!==0)return E}return Ue(m.length,p.length)}(s.referenceValue,e.referenceValue);case 8:return function(u,h){const m=Ue(yt(u.latitude),yt(h.latitude));return m!==0?m:Ue(yt(u.longitude),yt(h.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return ux(s.arrayValue,e.arrayValue);case 10:return function(u,h){var m,p,_,E;const b=u.fields||{},w=h.fields||{},N=(m=b[wh])===null||m===void 0?void 0:m.arrayValue,j=(p=w[wh])===null||p===void 0?void 0:p.arrayValue,z=Ue(((_=N==null?void 0:N.values)===null||_===void 0?void 0:_.length)||0,((E=j==null?void 0:j.values)===null||E===void 0?void 0:E.length)||0);return z!==0?z:ux(N,j)}(s.mapValue,e.mapValue);case 11:return function(u,h){if(u===th.mapValue&&h===th.mapValue)return 0;if(u===th.mapValue)return 1;if(h===th.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),_=h.fields||{},E=Object.keys(_);p.sort(),E.sort();for(let b=0;b<p.length&&b<E.length;++b){const w=Ue(p[b],E[b]);if(w!==0)return w;const N=El(m[p[b]],_[E[b]]);if(N!==0)return N}return Ue(p.length,E.length)}(s.mapValue,e.mapValue);default:throw be()}}function ox(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Ue(s,e);const t=di(s),i=di(e),l=Ue(t.seconds,i.seconds);return l!==0?l:Ue(t.nanos,i.nanos)}function ux(s,e){const t=s.values||[],i=e.values||[];for(let l=0;l<t.length&&l<i.length;++l){const u=El(t[l],i[l]);if(u)return u}return Ue(t.length,i.length)}function Tl(s){return zm(s)}function zm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(t){const i=di(t);return`time(${i.seconds},${i.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(t){return fi(t).toBase64()}(s.bytesValue):"referenceValue"in s?function(t){return xe.fromName(t).toString()}(s.referenceValue):"geoPointValue"in s?function(t){return`geo(${t.latitude},${t.longitude})`}(s.geoPointValue):"arrayValue"in s?function(t){let i="[",l=!0;for(const u of t.values||[])l?l=!1:i+=",",i+=zm(u);return i+"]"}(s.arrayValue):"mapValue"in s?function(t){const i=Object.keys(t.fields||{}).sort();let l="{",u=!0;for(const h of i)u?u=!1:l+=",",l+=`${h}:${zm(t.fields[h])}`;return l+"}"}(s.mapValue):be()}function hh(s){switch(mi(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=$h(s);return e?16+hh(e):16;case 5:return 2*s.stringValue.length;case 6:return fi(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((l,u)=>l+hh(u),0)}(s.arrayValue);case 10:case 11:return function(i){let l=0;return vi(i.fields,(u,h)=>{l+=u.length+hh(h)}),l}(s.mapValue);default:throw be()}}function cx(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function qm(s){return!!s&&"integerValue"in s}function Ag(s){return!!s&&"arrayValue"in s}function hx(s){return!!s&&"nullValue"in s}function dx(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function dh(s){return!!s&&"mapValue"in s}function FN(s){var e,t;return((t=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[hE])===null||t===void 0?void 0:t.stringValue)===dE}function tu(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return vi(s.mapValue.fields,(t,i)=>e.mapValue.fields[t]=tu(i)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(s.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=tu(s.arrayValue.values[t]);return e}return Object.assign({},s)}function GN(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===KN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.value=e}static empty(){return new pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!dh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=tu(t)}setAll(e){let t=$t.emptyPath(),i={},l=[];e.forEach((h,m)=>{if(!t.isImmediateParentOf(m)){const p=this.getFieldsMap(t);this.applyChanges(p,i,l),i={},l=[],t=m.popLast()}h?i[m.lastSegment()]=tu(h):l.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,i,l)}delete(e){const t=this.field(e.popLast());dh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ws(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let l=t.mapValue.fields[e.get(i)];dh(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=l),t=l}return t.mapValue.fields}applyChanges(e,t,i){vi(t,(l,u)=>e[l]=u);for(const l of i)delete e[l]}clone(){return new pn(tu(this.value))}}function fE(s){const e=[];return vi(s.fields,(t,i)=>{const l=new $t([t]);if(dh(i)){const u=fE(i.mapValue).fields;if(u.length===0)e.push(l);else for(const h of u)e.push(l.child(h))}else e.push(l)}),new Sn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,t,i,l,u,h,m){this.key=e,this.documentType=t,this.version=i,this.readTime=l,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new en(e,0,Se.min(),Se.min(),Se.min(),pn.empty(),0)}static newFoundDocument(e,t,i,l){return new en(e,1,t,Se.min(),i,l,0)}static newNoDocument(e,t){return new en(e,2,t,Se.min(),Se.min(),pn.empty(),0)}static newUnknownDocument(e,t){return new en(e,3,t,Se.min(),Se.min(),pn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e,t){this.position=e,this.inclusive=t}}function fx(s,e,t){let i=0;for(let l=0;l<s.position.length;l++){const u=e[l],h=s.position[l];if(u.field.isKeyField()?i=xe.comparator(xe.fromName(h.referenceValue),t.key):i=El(h,t.data.field(u.field)),u.dir==="desc"&&(i*=-1),i!==0)break}return i}function mx(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let t=0;t<s.position.length;t++)if(!ws(s.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,t="asc"){this.field=e,this.dir=t}}function $N(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{}class St extends mE{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new YN(e,t,i):t==="array-contains"?new ZN(e,i):t==="in"?new JN(e,i):t==="not-in"?new ek(e,i):t==="array-contains-any"?new tk(e,i):new St(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new WN(e,i):new XN(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(El(t,this.value)):t!==null&&mi(this.value)===mi(t)&&this.matchesComparison(El(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Jn extends mE{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Jn(e,t)}matches(e){return gE(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function gE(s){return s.op==="and"}function pE(s){return QN(s)&&gE(s)}function QN(s){for(const e of s.filters)if(e instanceof Jn)return!1;return!0}function Km(s){if(s instanceof St)return s.field.canonicalString()+s.op.toString()+Tl(s.value);if(pE(s))return s.filters.map(e=>Km(e)).join(",");{const e=s.filters.map(t=>Km(t)).join(",");return`${s.op}(${e})`}}function _E(s,e){return s instanceof St?function(i,l){return l instanceof St&&i.op===l.op&&i.field.isEqual(l.field)&&ws(i.value,l.value)}(s,e):s instanceof Jn?function(i,l){return l instanceof Jn&&i.op===l.op&&i.filters.length===l.filters.length?i.filters.reduce((u,h,m)=>u&&_E(h,l.filters[m]),!0):!1}(s,e):void be()}function yE(s){return s instanceof St?function(t){return`${t.field.canonicalString()} ${t.op} ${Tl(t.value)}`}(s):s instanceof Jn?function(t){return t.op.toString()+" {"+t.getFilters().map(yE).join(" ,")+"}"}(s):"Filter"}class YN extends St{constructor(e,t,i){super(e,t,i),this.key=xe.fromName(i.referenceValue)}matches(e){const t=xe.comparator(e.key,this.key);return this.matchesComparison(t)}}class WN extends St{constructor(e,t){super(e,"in",t),this.keys=vE("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class XN extends St{constructor(e,t){super(e,"not-in",t),this.keys=vE("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function vE(s,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>xe.fromName(i.referenceValue))}class ZN extends St{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ag(t)&&du(t.arrayValue,this.value)}}class JN extends St{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&du(this.value.arrayValue,t)}}class ek extends St{constructor(e,t){super(e,"not-in",t)}matches(e){if(du(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!du(this.value.arrayValue,t)}}class tk extends St{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ag(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>du(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(e,t=null,i=[],l=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=l,this.limit=u,this.startAt=h,this.endAt=m,this.le=null}}function gx(s,e=null,t=[],i=[],l=null,u=null,h=null){return new nk(s,e,t,i,l,u,h)}function Sg(s){const e=Re(s);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Km(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(u){return u.field.canonicalString()+u.dir}(i)).join(","),Gh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Tl(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Tl(i)).join(",")),e.le=t}return e.le}function wg(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<s.orderBy.length;t++)if(!$N(s.orderBy[t],e.orderBy[t]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let t=0;t<s.filters.length;t++)if(!_E(s.filters[t],e.filters[t]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!mx(s.startAt,e.startAt)&&mx(s.endAt,e.endAt)}function Fm(s){return xe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e,t=null,i=[],l=[],u=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=l,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function sk(s,e,t,i,l,u,h,m){return new Ol(s,e,t,i,l,u,h,m)}function Rg(s){return new Ol(s)}function px(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function xE(s){return s.collectionGroup!==null}function nu(s){const e=Re(s);if(e.he===null){e.he=[];const t=new Set;for(const u of e.explicitOrderBy)e.he.push(u),t.add(u.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Dt($t.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(_=>{_.isInequality()&&(m=m.add(_.field))})}),m})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.he.push(new fu(u,i))}),t.has($t.keyField().canonicalString())||e.he.push(new fu($t.keyField(),i))}return e.he}function Ts(s){const e=Re(s);return e.Pe||(e.Pe=ak(e,nu(s))),e.Pe}function ak(s,e){if(s.limitType==="F")return gx(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(l=>{const u=l.dir==="desc"?"asc":"desc";return new fu(l.field,u)});const t=s.endAt?new Rh(s.endAt.position,s.endAt.inclusive):null,i=s.startAt?new Rh(s.startAt.position,s.startAt.inclusive):null;return gx(s.path,s.collectionGroup,e,s.filters,s.limit,t,i)}}function Gm(s,e){const t=s.filters.concat([e]);return new Ol(s.path,s.collectionGroup,s.explicitOrderBy.slice(),t,s.limit,s.limitType,s.startAt,s.endAt)}function $m(s,e,t){return new Ol(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,t,s.startAt,s.endAt)}function Qh(s,e){return wg(Ts(s),Ts(e))&&s.limitType===e.limitType}function EE(s){return`${Sg(Ts(s))}|lt:${s.limitType}`}function hl(s){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(l=>yE(l)).join(", ")}]`),Gh(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(l=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(l)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(l=>Tl(l)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(l=>Tl(l)).join(",")),`Target(${i})`}(Ts(s))}; limitType=${s.limitType})`}function Yh(s,e){return e.isFoundDocument()&&function(i,l){const u=l.key.path;return i.collectionGroup!==null?l.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(u):xe.isDocumentKey(i.path)?i.path.isEqual(u):i.path.isImmediateParentOf(u)}(s,e)&&function(i,l){for(const u of nu(i))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0}(s,e)&&function(i,l){for(const u of i.filters)if(!u.matches(l))return!1;return!0}(s,e)&&function(i,l){return!(i.startAt&&!function(h,m,p){const _=fx(h,m,p);return h.inclusive?_<=0:_<0}(i.startAt,nu(i),l)||i.endAt&&!function(h,m,p){const _=fx(h,m,p);return h.inclusive?_>=0:_>0}(i.endAt,nu(i),l))}(s,e)}function ik(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function TE(s){return(e,t)=>{let i=!1;for(const l of nu(s)){const u=rk(l,e,t);if(u!==0)return u;i=i||l.field.isKeyField()}return 0}}function rk(s,e,t){const i=s.field.isKeyField()?xe.comparator(e.key,t.key):function(u,h,m){const p=h.data.field(u),_=m.data.field(u);return p!==null&&_!==null?El(p,_):be()}(s.field,e,t);switch(s.dir){case"asc":return i;case"desc":return-1*i;default:return be()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[l,u]of i)if(this.equalsFn(l,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),l=this.inner[i];if(l===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],e))return void(l[u]=[e,t]);l.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let l=0;l<i.length;l++)if(this.equalsFn(i[l][0],e))return i.length===1?delete this.inner[t]:i.splice(l,1),this.innerSize--,!0;return!1}forEach(e){vi(this.inner,(t,i)=>{for(const[l,u]of i)e(l,u)})}isEmpty(){return iE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk=new ut(xe.comparator);function ha(){return lk}const bE=new ut(xe.comparator);function Zo(...s){let e=bE;for(const t of s)e=e.insert(t.key,t);return e}function AE(s){let e=bE;return s.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function tr(){return su()}function SE(){return su()}function su(){return new hr(s=>s.toString(),(s,e)=>s.isEqual(e))}const ok=new ut(xe.comparator),uk=new Dt(xe.comparator);function Le(...s){let e=uk;for(const t of s)e=e.add(t);return e}const ck=new Dt(Ue);function hk(){return ck}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ng(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ah(e)?"-0":e}}function wE(s){return{integerValue:""+s}}function dk(s,e){return UN(e)?wE(e):Ng(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(){this._=void 0}}function fk(s,e,t){return s instanceof Nh?function(l,u){const h={fields:{[oE]:{stringValue:lE},[cE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&bg(u)&&(u=$h(u)),u&&(h.fields[uE]=u),{mapValue:h}}(t,e):s instanceof mu?NE(s,e):s instanceof gu?kE(s,e):function(l,u){const h=RE(l,u),m=_x(h)+_x(l.Ie);return qm(h)&&qm(l.Ie)?wE(m):Ng(l.serializer,m)}(s,e)}function mk(s,e,t){return s instanceof mu?NE(s,e):s instanceof gu?kE(s,e):t}function RE(s,e){return s instanceof kh?function(i){return qm(i)||function(u){return!!u&&"doubleValue"in u}(i)}(e)?e:{integerValue:0}:null}class Nh extends Wh{}class mu extends Wh{constructor(e){super(),this.elements=e}}function NE(s,e){const t=CE(e);for(const i of s.elements)t.some(l=>ws(l,i))||t.push(i);return{arrayValue:{values:t}}}class gu extends Wh{constructor(e){super(),this.elements=e}}function kE(s,e){let t=CE(e);for(const i of s.elements)t=t.filter(l=>!ws(l,i));return{arrayValue:{values:t}}}class kh extends Wh{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function _x(s){return yt(s.integerValue||s.doubleValue)}function CE(s){return Ag(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function gk(s,e){return s.field.isEqual(e.field)&&function(i,l){return i instanceof mu&&l instanceof mu||i instanceof gu&&l instanceof gu?xl(i.elements,l.elements,ws):i instanceof kh&&l instanceof kh?ws(i.Ie,l.Ie):i instanceof Nh&&l instanceof Nh}(s.transform,e.transform)}class pk{constructor(e,t){this.version=e,this.transformResults=t}}class Kn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Kn}static exists(e){return new Kn(void 0,e)}static updateTime(e){return new Kn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fh(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Xh{}function IE(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new kg(s.key,Kn.none()):new Eu(s.key,s.data,Kn.none());{const t=s.data,i=pn.empty();let l=new Dt($t.comparator);for(let u of e.fields)if(!l.has(u)){let h=t.field(u);h===null&&u.length>1&&(u=u.popLast(),h=t.field(u)),h===null?i.delete(u):i.set(u,h),l=l.add(u)}return new xi(s.key,i,new Sn(l.toArray()),Kn.none())}}function _k(s,e,t){s instanceof Eu?function(l,u,h){const m=l.value.clone(),p=vx(l.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(s,e,t):s instanceof xi?function(l,u,h){if(!fh(l.precondition,u))return void u.convertToUnknownDocument(h.version);const m=vx(l.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(jE(l)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(s,e,t):function(l,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function au(s,e,t,i){return s instanceof Eu?function(u,h,m,p){if(!fh(u.precondition,h))return m;const _=u.value.clone(),E=xx(u.fieldTransforms,p,h);return _.setAll(E),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),null}(s,e,t,i):s instanceof xi?function(u,h,m,p){if(!fh(u.precondition,h))return m;const _=xx(u.fieldTransforms,p,h),E=h.data;return E.setAll(jE(u)),E.setAll(_),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(b=>b.field))}(s,e,t,i):function(u,h,m){return fh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(s,e,t)}function yk(s,e){let t=null;for(const i of s.fieldTransforms){const l=e.data.field(i.field),u=RE(i.transform,l||null);u!=null&&(t===null&&(t=pn.empty()),t.set(i.field,u))}return t||null}function yx(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(i,l){return i===void 0&&l===void 0||!(!i||!l)&&xl(i,l,(u,h)=>gk(u,h))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Eu extends Xh{constructor(e,t,i,l=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class xi extends Xh{constructor(e,t,i,l,u=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function jE(s){const e=new Map;return s.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=s.data.field(t);e.set(t,i)}}),e}function vx(s,e,t){const i=new Map;Ye(s.length===t.length);for(let l=0;l<t.length;l++){const u=s[l],h=u.transform,m=e.data.field(u.field);i.set(u.field,mk(h,m,t[l]))}return i}function xx(s,e,t){const i=new Map;for(const l of s){const u=l.transform,h=t.data.field(l.field);i.set(l.field,fk(u,h,e))}return i}class kg extends Xh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vk extends Xh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(e,t,i,l){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=l}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(e.key)&&_k(u,e,i[l])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=au(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=au(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=SE();return this.mutations.forEach(l=>{const u=e.get(l.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=t.has(l.key)?null:m;const p=IE(h,m);p!==null&&i.set(l.key,p),h.isValidDocument()||h.convertToNoDocument(Se.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Le())}isEqual(e){return this.batchId===e.batchId&&xl(this.mutations,e.mutations,(t,i)=>yx(t,i))&&xl(this.baseMutations,e.baseMutations,(t,i)=>yx(t,i))}}class Cg{constructor(e,t,i,l){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=l}static from(e,t,i){Ye(e.mutations.length===i.length);let l=function(){return ok}();const u=e.mutations;for(let h=0;h<u.length;h++)l=l.insert(u[h].key,i[h].version);return new Cg(e,t,i,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var At,qe;function bk(s){switch(s){case ne.OK:return be();case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return be()}}function DE(s){if(s===void 0)return ca("GRPC error has no .code"),ne.UNKNOWN;switch(s){case At.OK:return ne.OK;case At.CANCELLED:return ne.CANCELLED;case At.UNKNOWN:return ne.UNKNOWN;case At.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case At.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case At.INTERNAL:return ne.INTERNAL;case At.UNAVAILABLE:return ne.UNAVAILABLE;case At.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case At.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case At.NOT_FOUND:return ne.NOT_FOUND;case At.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case At.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case At.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case At.ABORTED:return ne.ABORTED;case At.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case At.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case At.DATA_LOSS:return ne.DATA_LOSS;default:return be()}}(qe=At||(At={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ak(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sk=new li([4294967295,4294967295],0);function Ex(s){const e=Ak().encode(s),t=new W0;return t.update(e),new Uint8Array(t.digest())}function Tx(s){const e=new DataView(s.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),l=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new li([t,i],0),new li([l,u],0)]}class Ig{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Jo(`Invalid padding: ${t}`);if(i<0)throw new Jo(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Jo(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Jo(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=li.fromNumber(this.Ee)}Ae(e,t,i){let l=e.add(t.multiply(li.fromNumber(i)));return l.compare(Sk)===1&&(l=new li([l.getBits(0),l.getBits(1)],0)),l.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=Ex(e),[i,l]=Tx(t);for(let u=0;u<this.hashCount;u++){const h=this.Ae(i,l,u);if(!this.Re(h))return!1}return!0}static create(e,t,i){const l=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new Ig(u,l,t);return i.forEach(m=>h.insert(m)),h}insert(e){if(this.Ee===0)return;const t=Ex(e),[i,l]=Tx(t);for(let u=0;u<this.hashCount;u++){const h=this.Ae(i,l,u);this.Ve(h)}}Ve(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Jo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,t,i,l,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const l=new Map;return l.set(e,Tu.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Zh(Se.min(),l,new ut(Ue),ha(),Le())}}class Tu{constructor(e,t,i,l,u){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Tu(i,t,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,t,i,l){this.me=e,this.removedTargetIds=t,this.key=i,this.fe=l}}class OE{constructor(e,t){this.targetId=e,this.ge=t}}class ME{constructor(e,t,i=Qt.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=l}}class bx{constructor(){this.pe=0,this.ye=Ax(),this.we=Qt.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Le(),t=Le(),i=Le();return this.ye.forEach((l,u)=>{switch(u){case 0:e=e.add(l);break;case 2:t=t.add(l);break;case 1:i=i.add(l);break;default:be()}}),new Tu(this.we,this.be,e,t,i)}Me(){this.Se=!1,this.ye=Ax()}xe(e,t){this.Se=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ye(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class wk{constructor(e){this.ke=e,this.qe=new Map,this.Qe=ha(),this.$e=nh(),this.Ke=nh(),this.Ue=new ut(Ue)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const i=this.He(t);switch(e.state){case 0:this.Je(t)&&i.Ce(e.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(e.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(t);break;case 3:this.Je(t)&&(i.Le(),i.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),i.Ce(e.resumeToken));break;default:be()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((i,l)=>{this.Je(l)&&t(l)})}Ze(e){const t=e.targetId,i=e.ge.count,l=this.Xe(t);if(l){const u=l.target;if(Fm(u))if(i===0){const h=new xe(u.path);this.ze(t,h,en.newNoDocument(h,Se.min()))}else Ye(i===1);else{const h=this.et(t);if(h!==i){const m=this.tt(e),p=m?this.nt(m,e,h):1;if(p!==0){this.Ye(t);const _=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,_)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:l=0},hashCount:u=0}=t;let h,m;try{h=fi(i).toUint8Array()}catch(p){if(p instanceof rE)return vl("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Ig(h,l,u)}catch(p){return vl(p instanceof Jo?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(e,t,i){return t.ge.count===i-this.st(e,t.targetId)?0:2}st(e,t){const i=this.ke.getRemoteKeysForTarget(t);let l=0;return i.forEach(u=>{const h=this.ke.it(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.ze(t,u,null),l++)}),l}ot(e){const t=new Map;this.qe.forEach((u,h)=>{const m=this.Xe(h);if(m){if(u.current&&Fm(m.target)){const p=new xe(m.target.path);this._t(p).has(h)||this.ut(h,p)||this.ze(h,p,en.newNoDocument(p,e))}u.ve&&(t.set(h,u.Fe()),u.Me())}});let i=Le();this.Ke.forEach((u,h)=>{let m=!0;h.forEachWhile(p=>{const _=this.Xe(p);return!_||_.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(i=i.add(u))}),this.Qe.forEach((u,h)=>h.setReadTime(e));const l=new Zh(e,t,this.Ue,this.Qe,i);return this.Qe=ha(),this.$e=nh(),this.Ke=nh(),this.Ue=new ut(Ue),l}Ge(e,t){if(!this.Je(e))return;const i=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,i),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,i){if(!this.Je(e))return;const l=this.He(e);this.ut(e,t)?l.xe(t,1):l.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),i&&(this.Qe=this.Qe.insert(t,i))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new bx,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new Dt(Ue),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Dt(Ue),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||he("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new bx),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function nh(){return new ut(xe.comparator)}function Ax(){return new ut(xe.comparator)}const Rk={asc:"ASCENDING",desc:"DESCENDING"},Nk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kk={and:"AND",or:"OR"};class Ck{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Qm(s,e){return s.useProto3Json||Gh(e)?e:{value:e}}function Ch(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function LE(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function Ik(s,e){return Ch(s,e.toTimestamp())}function bs(s){return Ye(!!s),Se.fromTimestamp(function(t){const i=di(t);return new jt(i.seconds,i.nanos)}(s))}function jg(s,e){return Ym(s,e).canonicalString()}function Ym(s,e){const t=function(l){return new nt(["projects",l.projectId,"databases",l.database])}(s).child("documents");return e===void 0?t:t.child(e)}function VE(s){const e=nt.fromString(s);return Ye(zE(e)),e}function Wm(s,e){return jg(s.databaseId,e.path)}function Sm(s,e){const t=VE(e);if(t.get(1)!==s.databaseId.projectId)throw new de(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+s.databaseId.projectId);if(t.get(3)!==s.databaseId.database)throw new de(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+s.databaseId.database);return new xe(UE(t))}function PE(s,e){return jg(s.databaseId,e)}function jk(s){const e=VE(s);return e.length===4?nt.emptyPath():UE(e)}function Xm(s){return new nt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function UE(s){return Ye(s.length>4&&s.get(4)==="documents"),s.popFirst(5)}function Sx(s,e,t){return{name:Wm(s,e),fields:t.value.mapValue.fields}}function Dk(s,e){let t;if("targetChange"in e){e.targetChange;const i=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:be()}(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],u=function(_,E){return _.useProto3Json?(Ye(E===void 0||typeof E=="string"),Qt.fromBase64String(E||"")):(Ye(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Qt.fromUint8Array(E||new Uint8Array))}(s,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(_){const E=_.code===void 0?ne.UNKNOWN:DE(_.code);return new de(E,_.message||"")}(h);t=new ME(i,l,u,m||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const l=Sm(s,i.document.name),u=bs(i.document.updateTime),h=i.document.createTime?bs(i.document.createTime):Se.min(),m=new pn({mapValue:{fields:i.document.fields}}),p=en.newFoundDocument(l,u,h,m),_=i.targetIds||[],E=i.removedTargetIds||[];t=new mh(_,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const l=Sm(s,i.document),u=i.readTime?bs(i.readTime):Se.min(),h=en.newNoDocument(l,u),m=i.removedTargetIds||[];t=new mh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const l=Sm(s,i.document),u=i.removedTargetIds||[];t=new mh([],u,l,null)}else{if(!("filter"in e))return be();{e.filter;const i=e.filter;i.targetId;const{count:l=0,unchangedNames:u}=i,h=new Tk(l,u),m=i.targetId;t=new OE(m,h)}}return t}function Ok(s,e){let t;if(e instanceof Eu)t={update:Sx(s,e.key,e.value)};else if(e instanceof kg)t={delete:Wm(s,e.key)};else if(e instanceof xi)t={update:Sx(s,e.key,e.data),updateMask:qk(e.fieldMask)};else{if(!(e instanceof vk))return be();t={verify:Wm(s,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(u,h){const m=h.transform;if(m instanceof Nh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof mu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof gu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof kh)return{fieldPath:h.field.canonicalString(),increment:m.Ie};throw be()}(0,i))),e.precondition.isNone||(t.currentDocument=function(l,u){return u.updateTime!==void 0?{updateTime:Ik(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:be()}(s,e.precondition)),t}function Mk(s,e){return s&&s.length>0?(Ye(e!==void 0),s.map(t=>function(l,u){let h=l.updateTime?bs(l.updateTime):bs(u);return h.isEqual(Se.min())&&(h=bs(u)),new pk(h,l.transformResults||[])}(t,e))):[]}function Lk(s,e){return{documents:[PE(s,e.path)]}}function Vk(s,e){const t={structuredQuery:{}},i=e.path;let l;e.collectionGroup!==null?(l=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=PE(s,l);const u=function(_){if(_.length!==0)return HE(Jn.create(_,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const h=function(_){if(_.length!==0)return _.map(E=>function(w){return{field:dl(w.field),direction:Bk(w.dir)}}(E))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const m=Qm(s,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{ht:t,parent:l}}function Pk(s){let e=jk(s.parent);const t=s.structuredQuery,i=t.from?t.from.length:0;let l=null;if(i>0){Ye(i===1);const E=t.from[0];E.allDescendants?l=E.collectionId:e=e.child(E.collectionId)}let u=[];t.where&&(u=function(b){const w=BE(b);return w instanceof Jn&&pE(w)?w.getFilters():[w]}(t.where));let h=[];t.orderBy&&(h=function(b){return b.map(w=>function(j){return new fu(fl(j.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(j.direction))}(w))}(t.orderBy));let m=null;t.limit&&(m=function(b){let w;return w=typeof b=="object"?b.value:b,Gh(w)?null:w}(t.limit));let p=null;t.startAt&&(p=function(b){const w=!!b.before,N=b.values||[];return new Rh(N,w)}(t.startAt));let _=null;return t.endAt&&(_=function(b){const w=!b.before,N=b.values||[];return new Rh(N,w)}(t.endAt)),sk(e,l,h,u,m,"F",p,_)}function Uk(s,e){const t=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function BE(s){return s.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=fl(t.unaryFilter.field);return St.create(i,"==",{doubleValue:NaN});case"IS_NULL":const l=fl(t.unaryFilter.field);return St.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=fl(t.unaryFilter.field);return St.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=fl(t.unaryFilter.field);return St.create(h,"!=",{nullValue:"NULL_VALUE"});default:return be()}}(s):s.fieldFilter!==void 0?function(t){return St.create(fl(t.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return be()}}(t.fieldFilter.op),t.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(t){return Jn.create(t.compositeFilter.filters.map(i=>BE(i)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return be()}}(t.compositeFilter.op))}(s):be()}function Bk(s){return Rk[s]}function Hk(s){return Nk[s]}function zk(s){return kk[s]}function dl(s){return{fieldPath:s.canonicalString()}}function fl(s){return $t.fromServerFormat(s.fieldPath)}function HE(s){return s instanceof St?function(t){if(t.op==="=="){if(dx(t.value))return{unaryFilter:{field:dl(t.field),op:"IS_NAN"}};if(hx(t.value))return{unaryFilter:{field:dl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(dx(t.value))return{unaryFilter:{field:dl(t.field),op:"IS_NOT_NAN"}};if(hx(t.value))return{unaryFilter:{field:dl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:dl(t.field),op:Hk(t.op),value:t.value}}}(s):s instanceof Jn?function(t){const i=t.getFilters().map(l=>HE(l));return i.length===1?i[0]:{compositeFilter:{op:zk(t.op),filters:i}}}(s):be()}function qk(s){const e=[];return s.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function zE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e,t,i,l,u=Se.min(),h=Se.min(),m=Qt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new ai(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ai(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ai(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ai(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(e){this.Tt=e}}function Fk(s){const e=Pk({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?$m(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(){this.Tn=new $k}addToCollectionParentIndex(e,t){return this.Tn.add(t),se.resolve()}getCollectionParents(e,t){return se.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return se.resolve()}deleteFieldIndex(e,t){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,t){return se.resolve()}getDocumentsMatchingTarget(e,t){return se.resolve(null)}getIndexType(e,t){return se.resolve(0)}getFieldIndexes(e,t){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,t){return se.resolve(hi.min())}getMinOffsetFromCollectionGroup(e,t){return se.resolve(hi.min())}updateCollectionGroup(e,t,i){return se.resolve()}updateIndexEntries(e,t){return se.resolve()}}class $k{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),l=this.index[t]||new Dt(nt.comparator),u=!l.has(i);return this.index[t]=l.add(i),u}has(e){const t=e.lastSegment(),i=e.popLast(),l=this.index[t];return l&&l.has(i)}getEntries(e){return(this.index[e]||new Dt(nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},qE=41943040;class mn{static withCacheSize(e){return new mn(e,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(qE,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new bl(0)}static Un(){return new bl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx="LruGarbageCollector",Qk=1048576;function Nx([s,e],[t,i]){const l=Ue(s,t);return l===0?Ue(e,i):l}class Yk{constructor(e){this.Hn=e,this.buffer=new Dt(Nx),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();Nx(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Wk{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){he(Rx,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Dl(t)?he(Rx,"Ignoring IndexedDB error during garbage collection: ",t):await jl(t)}await this.er(3e5)})}}class Xk{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return se.resolve(Fh.ae);const i=new Yk(t);return this.tr.forEachTarget(e,l=>i.Zn(l.sequenceNumber)).next(()=>this.tr.rr(e,l=>i.Zn(l))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.tr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(wx)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),wx):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let i,l,u,h,m,p,_;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),l=this.params.maximumSequenceNumbersToCollect):l=b,h=Date.now(),this.nthSequenceNumber(e,l))).next(b=>(i=b,m=Date.now(),this.removeTargets(e,i,t))).next(b=>(u=b,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(b=>(_=Date.now(),cl()<=Me.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${l} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${b} documents in `+(_-p)+`ms
Total Duration: ${_-E}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:b})))}}function Zk(s,e){return new Xk(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(){this.changes=new hr(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?se.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e,t,i,l){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=l}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(l=>(i=l,this.remoteDocumentCache.getEntry(e,t))).next(l=>(i!==null&&au(i.mutation,l,Sn.empty(),jt.now()),l))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Le()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Le()){const l=tr();return this.populateOverlays(e,l,t).next(()=>this.computeViews(e,t,l,i).next(u=>{let h=Zo();return u.forEach((m,p)=>{h=h.insert(m,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const i=tr();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Le()))}populateOverlays(e,t,i){const l=[];return i.forEach(u=>{t.has(u)||l.push(u)}),this.documentOverlayCache.getOverlays(e,l).next(u=>{u.forEach((h,m)=>{t.set(h,m)})})}computeViews(e,t,i,l){let u=ha();const h=su(),m=function(){return su()}();return t.forEach((p,_)=>{const E=i.get(_.key);l.has(_.key)&&(E===void 0||E.mutation instanceof xi)?u=u.insert(_.key,_):E!==void 0?(h.set(_.key,E.mutation.getFieldMask()),au(E.mutation,_,E.mutation.getFieldMask(),jt.now())):h.set(_.key,Sn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((_,E)=>h.set(_,E)),t.forEach((_,E)=>{var b;return m.set(_,new eC(E,(b=h.get(_))!==null&&b!==void 0?b:null))}),m))}recalculateAndSaveOverlays(e,t){const i=su();let l=new ut((h,m)=>h-m),u=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const m of h)m.keys().forEach(p=>{const _=t.get(p);if(_===null)return;let E=i.get(p)||Sn.empty();E=m.applyToLocalView(_,E),i.set(p,E);const b=(l.get(m.batchId)||Le()).add(p);l=l.insert(m.batchId,b)})}).next(()=>{const h=[],m=l.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),_=p.key,E=p.value,b=SE();E.forEach(w=>{if(!u.has(w)){const N=IE(t.get(w),i.get(w));N!==null&&b.set(w,N),u=u.add(w)}}),h.push(this.documentOverlayCache.saveOverlays(e,_,b))}return se.waitFor(h)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,l){return function(h){return xe.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):xE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,l):this.getDocumentsMatchingCollectionQuery(e,t,i,l)}getNextDocuments(e,t,i,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,l).next(u=>{const h=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,l-u.size):se.resolve(tr());let m=uu,p=u;return h.next(_=>se.forEach(_,(E,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(E)?se.resolve():this.remoteDocumentCache.getEntry(e,E).next(w=>{p=p.insert(E,w)}))).next(()=>this.populateOverlays(e,_,u)).next(()=>this.computeViews(e,p,_,Le())).next(E=>({batchId:m,changes:AE(E)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new xe(t)).next(i=>{let l=Zo();return i.isFoundDocument()&&(l=l.insert(i.key,i)),l})}getDocumentsMatchingCollectionGroupQuery(e,t,i,l){const u=t.collectionGroup;let h=Zo();return this.indexManager.getCollectionParents(e,u).next(m=>se.forEach(m,p=>{const _=function(b,w){return new Ol(w,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(t,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,_,i,l).next(E=>{E.forEach((b,w)=>{h=h.insert(b,w)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,i,l){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,u,l))).next(h=>{u.forEach((p,_)=>{const E=_.getKey();h.get(E)===null&&(h=h.insert(E,en.newInvalidDocument(E)))});let m=Zo();return h.forEach((p,_)=>{const E=u.get(p);E!==void 0&&au(E.mutation,_,Sn.empty(),jt.now()),Yh(t,_)&&(m=m.insert(p,_))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return se.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(l){return{id:l.id,version:l.version,createTime:bs(l.createTime)}}(t)),se.resolve()}getNamedQuery(e,t){return se.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(l){return{name:l.name,query:Fk(l.bundledQuery),readTime:bs(l.readTime)}}(t)),se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(){this.overlays=new ut(xe.comparator),this.Rr=new Map}getOverlay(e,t){return se.resolve(this.overlays.get(t))}getOverlays(e,t){const i=tr();return se.forEach(t,l=>this.getOverlay(e,l).next(u=>{u!==null&&i.set(l,u)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((l,u)=>{this.Et(e,t,u)}),se.resolve()}removeOverlaysForBatchId(e,t,i){const l=this.Rr.get(i);return l!==void 0&&(l.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(i)),se.resolve()}getOverlaysForCollection(e,t,i){const l=tr(),u=t.length+1,h=new xe(t.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,_=p.getKey();if(!t.isPrefixOf(_.path))break;_.path.length===u&&p.largestBatchId>i&&l.set(p.getKey(),p)}return se.resolve(l)}getOverlaysForCollectionGroup(e,t,i,l){let u=new ut((_,E)=>_-E);const h=this.overlays.getIterator();for(;h.hasNext();){const _=h.getNext().value;if(_.getKey().getCollectionGroup()===t&&_.largestBatchId>i){let E=u.get(_.largestBatchId);E===null&&(E=tr(),u=u.insert(_.largestBatchId,E)),E.set(_.getKey(),_)}}const m=tr(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((_,E)=>m.set(_,E)),!(m.size()>=l)););return se.resolve(m)}Et(e,t,i){const l=this.overlays.get(i.key);if(l!==null){const h=this.Rr.get(l.largestBatchId).delete(i.key);this.Rr.set(l.largestBatchId,h)}this.overlays=this.overlays.insert(i.key,new Ek(t,i));let u=this.Rr.get(t);u===void 0&&(u=Le(),this.Rr.set(t,u)),this.Rr.set(t,u.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(){this.sessionToken=Qt.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(){this.Vr=new Dt(Ht.mr),this.gr=new Dt(Ht.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const i=new Ht(e,t);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.wr(new Ht(e,t))}br(e,t){e.forEach(i=>this.removeReference(i,t))}Sr(e){const t=new xe(new nt([])),i=new Ht(t,e),l=new Ht(t,e+1),u=[];return this.gr.forEachInRange([i,l],h=>{this.wr(h),u.push(h.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new xe(new nt([])),i=new Ht(t,e),l=new Ht(t,e+1);let u=Le();return this.gr.forEachInRange([i,l],h=>{u=u.add(h.key)}),u}containsKey(e){const t=new Ht(e,0),i=this.Vr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Ht{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return xe.comparator(e.key,t.key)||Ue(e.Cr,t.Cr)}static pr(e,t){return Ue(e.Cr,t.Cr)||xe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Dt(Ht.mr)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,l){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new xk(u,t,i,l);this.mutationQueue.push(h);for(const m of l)this.Mr=this.Mr.add(new Ht(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return se.resolve(h)}lookupMutationBatch(e,t){return se.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,l=this.Nr(i),u=l<0?0:l;return se.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?Tg:this.Fr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Ht(t,0),l=new Ht(t,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([i,l],h=>{const m=this.Or(h.Cr);u.push(m)}),se.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Dt(Ue);return t.forEach(l=>{const u=new Ht(l,0),h=new Ht(l,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,h],m=>{i=i.add(m.Cr)})}),se.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,l=i.length+1;let u=i;xe.isDocumentKey(u)||(u=u.child(""));const h=new Ht(new xe(u),0);let m=new Dt(Ue);return this.Mr.forEachWhile(p=>{const _=p.key.path;return!!i.isPrefixOf(_)&&(_.length===l&&(m=m.add(p.Cr)),!0)},h),se.resolve(this.Br(m))}Br(e){const t=[];return e.forEach(i=>{const l=this.Or(i);l!==null&&t.push(l)}),t}removeMutationBatch(e,t){Ye(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return se.forEach(t.mutations,l=>{const u=new Ht(l.key,t.batchId);return i=i.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.Mr=i})}qn(e){}containsKey(e,t){const i=new Ht(t,0),l=this.Mr.firstAfterOrEqual(i);return se.resolve(t.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e){this.kr=e,this.docs=function(){return new ut(xe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,l=this.docs.get(i),u=l?l.size:0,h=this.kr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return se.resolve(i?i.document.mutableCopy():en.newInvalidDocument(t))}getEntries(e,t){let i=ha();return t.forEach(l=>{const u=this.docs.get(l);i=i.insert(l,u?u.document.mutableCopy():en.newInvalidDocument(l))}),se.resolve(i)}getDocumentsMatchingQuery(e,t,i,l){let u=ha();const h=t.path,m=new xe(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:_,value:{document:E}}=p.getNext();if(!h.isPrefixOf(_.path))break;_.path.length>h.length+1||MN(ON(E),i)<=0||(l.has(E.key)||Yh(t,E))&&(u=u.insert(E.key,E.mutableCopy()))}return se.resolve(u)}getAllFromCollectionGroup(e,t,i,l){be()}qr(e,t){return se.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new lC(this)}getSize(e){return se.resolve(this.size)}}class lC extends Jk{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((i,l)=>{l.isValidDocument()?t.push(this.Ir.addEntry(e,l)):this.Ir.removeEntry(i)}),se.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e){this.persistence=e,this.Qr=new hr(t=>Sg(t),wg),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Dg,this.targetCount=0,this.Ur=bl.Kn()}forEachTarget(e,t){return this.Qr.forEach((i,l)=>t(l)),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.$r&&(this.$r=t),se.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new bl(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,se.resolve()}updateTargetData(e,t){return this.zn(t),se.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.Sr(t.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,t,i){let l=0;const u=[];return this.Qr.forEach((h,m)=>{m.sequenceNumber<=t&&i.get(m.targetId)===null&&(this.Qr.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),l++)}),se.waitFor(u).next(()=>l)}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,t){const i=this.Qr.get(t)||null;return se.resolve(i)}addMatchingKeys(e,t,i){return this.Kr.yr(t,i),se.resolve()}removeMatchingKeys(e,t,i){this.Kr.br(t,i);const l=this.persistence.referenceDelegate,u=[];return l&&t.forEach(h=>{u.push(l.markPotentiallyOrphaned(e,h))}),se.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Kr.Sr(t),se.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Kr.vr(t);return se.resolve(i)}containsKey(e,t){return se.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Fh(0),this.zr=!1,this.zr=!0,this.jr=new aC,this.referenceDelegate=e(this),this.Hr=new oC(this),this.indexManager=new Gk,this.remoteDocumentCache=function(l){return new rC(l)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new Kk(t),this.Yr=new nC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new sC,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Wr[e.toKey()];return i||(i=new iC(t,this.referenceDelegate),this.Wr[e.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,i){he("MemoryPersistence","Starting transaction:",e);const l=new uC(this.Gr.next());return this.referenceDelegate.Zr(),i(l).next(u=>this.referenceDelegate.Xr(l).next(()=>u)).toPromise().then(u=>(l.raiseOnCommittedEvent(),u))}ei(e,t){return se.or(Object.values(this.Wr).map(i=>()=>i.containsKey(e,t)))}}class uC extends VN{constructor(e){super(),this.currentSequenceNumber=e}}class Og{constructor(e){this.persistence=e,this.ti=new Dg,this.ni=null}static ri(e){return new Og(e)}get ii(){if(this.ni)return this.ni;throw be()}addReference(e,t,i){return this.ti.addReference(i,t),this.ii.delete(i.toString()),se.resolve()}removeReference(e,t,i){return this.ti.removeReference(i,t),this.ii.add(i.toString()),se.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),se.resolve()}removeTarget(e,t){this.ti.Sr(t.targetId).forEach(l=>this.ii.add(l.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(l=>{l.forEach(u=>this.ii.add(u.toString()))}).next(()=>i.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.ii,i=>{const l=xe.fromPath(i);return this.si(e,l).next(u=>{u||t.removeEntry(l,Se.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(i=>{i?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return se.or([()=>se.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Ih{constructor(e,t){this.persistence=e,this.oi=new hr(i=>BN(i.path),(i,l)=>i.isEqual(l)),this.garbageCollector=Zk(this,t)}static ri(e,t){return new Ih(e,t)}Zr(){}Xr(e){return se.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(l=>i+l))}sr(e){let t=0;return this.rr(e,i=>{t++}).next(()=>t)}rr(e,t){return se.forEach(this.oi,(i,l)=>this.ar(e,i,l).next(u=>u?se.resolve():t(l)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.qr(e,h=>this.ar(e,h,t).next(m=>{m||(i++,u.removeEntry(h,Se.min()))})).next(()=>u.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),se.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),se.resolve()}removeReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),se.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=hh(e.data.value)),t}ar(e,t,i){return se.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const l=this.oi.get(t);return se.resolve(l!==void 0&&l>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(e,t,i,l){this.targetId=e,this.fromCache=t,this.Hi=i,this.Ji=l}static Yi(e,t){let i=Le(),l=Le();for(const u of t.docChanges)switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new Mg(e,t.fromCache,i,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return iR()?8:PN(tn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,i,l){const u={result:null};return this.rs(e,t).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ss(e,t,l,i).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new cC;return this._s(e,t,h).next(m=>{if(u.result=m,this.Xi)return this.us(e,t,h,m.size)})}).next(()=>u.result)}us(e,t,i,l){return i.documentReadCount<this.es?(cl()<=Me.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",hl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),se.resolve()):(cl()<=Me.DEBUG&&he("QueryEngine","Query:",hl(t),"scans",i.documentReadCount,"local documents and returns",l,"documents as results."),i.documentReadCount>this.ts*l?(cl()<=Me.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",hl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ts(t))):se.resolve())}rs(e,t){if(px(t))return se.resolve(null);let i=Ts(t);return this.indexManager.getIndexType(e,i).next(l=>l===0?null:(t.limit!==null&&l===1&&(t=$m(t,null,"F"),i=Ts(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(u=>{const h=Le(...u);return this.ns.getDocuments(e,h).next(m=>this.indexManager.getMinOffset(e,i).next(p=>{const _=this.cs(t,m);return this.ls(t,_,h,p.readTime)?this.rs(e,$m(t,null,"F")):this.hs(e,_,t,p)}))})))}ss(e,t,i,l){return px(t)||l.isEqual(Se.min())?se.resolve(null):this.ns.getDocuments(e,i).next(u=>{const h=this.cs(t,u);return this.ls(t,h,i,l)?se.resolve(null):(cl()<=Me.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),hl(t)),this.hs(e,h,t,DN(l,uu)).next(m=>m))})}cs(e,t){let i=new Dt(TE(e));return t.forEach((l,u)=>{Yh(e,u)&&(i=i.add(u))}),i}ls(e,t,i,l){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}_s(e,t,i){return cl()<=Me.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",hl(t)),this.ns.getDocumentsMatchingQuery(e,t,hi.min(),i)}hs(e,t,i,l){return this.ns.getDocumentsMatchingQuery(e,i,l).next(u=>(t.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lg="LocalStore",dC=3e8;class fC{constructor(e,t,i,l){this.persistence=e,this.Ps=t,this.serializer=l,this.Ts=new ut(Ue),this.Is=new hr(u=>Sg(u),wg),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(i)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tC(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function mC(s,e,t,i){return new fC(s,e,t,i)}async function FE(s,e){const t=Re(s);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let l;return t.mutationQueue.getAllMutationBatches(i).next(u=>(l=u,t.As(e),t.mutationQueue.getAllMutationBatches(i))).next(u=>{const h=[],m=[];let p=Le();for(const _ of l){h.push(_.batchId);for(const E of _.mutations)p=p.add(E.key)}for(const _ of u){m.push(_.batchId);for(const E of _.mutations)p=p.add(E.key)}return t.localDocuments.getDocuments(i,p).next(_=>({Rs:_,removedBatchIds:h,addedBatchIds:m}))})})}function gC(s,e){const t=Re(s);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const l=e.batch.keys(),u=t.ds.newChangeBuffer({trackRemovals:!0});return function(m,p,_,E){const b=_.batch,w=b.keys();let N=se.resolve();return w.forEach(j=>{N=N.next(()=>E.getEntry(p,j)).next(z=>{const P=_.docVersions.get(j);Ye(P!==null),z.version.compareTo(P)<0&&(b.applyToRemoteDocument(z,_),z.isValidDocument()&&(z.setReadTime(_.commitVersion),E.addEntry(z)))})}),N.next(()=>m.mutationQueue.removeMutationBatch(p,b))}(t,i,e,u).next(()=>u.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,l,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(m){let p=Le();for(let _=0;_<m.mutationResults.length;++_)m.mutationResults[_].transformResults.length>0&&(p=p.add(m.batch.mutations[_].key));return p}(e))).next(()=>t.localDocuments.getDocuments(i,l))})}function GE(s){const e=Re(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function pC(s,e){const t=Re(s),i=e.snapshotVersion;let l=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=t.ds.newChangeBuffer({trackRemovals:!0});l=t.Ts;const m=[];e.targetChanges.forEach((E,b)=>{const w=l.get(b);if(!w)return;m.push(t.Hr.removeMatchingKeys(u,E.removedDocuments,b).next(()=>t.Hr.addMatchingKeys(u,E.addedDocuments,b)));let N=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?N=N.withResumeToken(Qt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):E.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(E.resumeToken,i)),l=l.insert(b,N),function(z,P,K){return z.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=dC?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0}(w,N,E)&&m.push(t.Hr.updateTargetData(u,N))});let p=ha(),_=Le();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(_C(u,h,e.documentUpdates).next(E=>{p=E.Vs,_=E.fs})),!i.isEqual(Se.min())){const E=t.Hr.getLastRemoteSnapshotVersion(u).next(b=>t.Hr.setTargetsMetadata(u,u.currentSequenceNumber,i));m.push(E)}return se.waitFor(m).next(()=>h.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,p,_)).next(()=>p)}).then(u=>(t.Ts=l,u))}function _C(s,e,t){let i=Le(),l=Le();return t.forEach(u=>i=i.add(u)),e.getEntries(s,i).next(u=>{let h=ha();return t.forEach((m,p)=>{const _=u.get(m);p.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(m)),p.isNoDocument()&&p.version.isEqual(Se.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||p.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):he(Lg,"Ignoring outdated watch update for ",m,". Current version:",_.version," Watch version:",p.version)}),{Vs:h,fs:l}})}function yC(s,e){const t=Re(s);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Tg),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function vC(s,e){const t=Re(s);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let l;return t.Hr.getTargetData(i,e).next(u=>u?(l=u,se.resolve(l)):t.Hr.allocateTargetId(i).next(h=>(l=new ai(e,h,"TargetPurposeListen",i.currentSequenceNumber),t.Hr.addTargetData(i,l).next(()=>l))))}).then(i=>{const l=t.Ts.get(i.targetId);return(l===null||i.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(i.targetId,i),t.Is.set(e,i.targetId)),i})}async function Zm(s,e,t){const i=Re(s),l=i.Ts.get(e),u=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",u,h=>i.persistence.referenceDelegate.removeTarget(h,l))}catch(h){if(!Dl(h))throw h;he(Lg,`Failed to update sequence numbers for target ${e}: ${h}`)}i.Ts=i.Ts.remove(e),i.Is.delete(l.target)}function kx(s,e,t){const i=Re(s);let l=Se.min(),u=Le();return i.persistence.runTransaction("Execute query","readwrite",h=>function(p,_,E){const b=Re(p),w=b.Is.get(E);return w!==void 0?se.resolve(b.Ts.get(w)):b.Hr.getTargetData(_,E)}(i,h,Ts(e)).next(m=>{if(m)return l=m.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(h,m.targetId).next(p=>{u=p})}).next(()=>i.Ps.getDocumentsMatchingQuery(h,e,t?l:Se.min(),t?u:Le())).next(m=>(xC(i,ik(e),m),{documents:m,gs:u})))}function xC(s,e,t){let i=s.Es.get(e)||Se.min();t.forEach((l,u)=>{u.readTime.compareTo(i)>0&&(i=u.readTime)}),s.Es.set(e,i)}class Cx{constructor(){this.activeTargetIds=hk()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class EC{constructor(){this.ho=new Cx,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,i){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Cx,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix="ConnectivityMonitor";class jx{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){he(Ix,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){he(Ix,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sh=null;function Jm(){return sh===null?sh=function(){return 268435456+Math.round(2147483648*Math.random())}():sh++,"0x"+sh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm="RestConnection",bC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class AC{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${i}/databases/${l}`,this.wo=this.databaseId.database===Sh?`project_id=${i}`:`project_id=${i}&database_id=${l}`}bo(e,t,i,l,u){const h=Jm(),m=this.So(e,t.toUriEncodedString());he(wm,`Sending RPC '${e}' ${h}:`,m,i);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,l,u),this.vo(e,m,p,i).then(_=>(he(wm,`Received RPC '${e}' ${h}: `,_),_),_=>{throw vl(wm,`RPC '${e}' ${h} failed with error: `,_,"url: ",m,"request:",i),_})}Co(e,t,i,l,u,h){return this.bo(e,t,i,l,u)}Do(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Il}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((l,u)=>e[u]=l),i&&i.headers.forEach((l,u)=>e[u]=l)}So(e,t){const i=bC[e];return`${this.po}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt="WebChannelConnection";class wC extends AC{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,i,l){const u=Jm();return new Promise((h,m)=>{const p=new X0;p.setWithCredentials(!0),p.listenOnce(Z0.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case ch.NO_ERROR:const E=p.getResponseJson();he(Zt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),h(E);break;case ch.TIMEOUT:he(Zt,`RPC '${e}' ${u} timed out`),m(new de(ne.DEADLINE_EXCEEDED,"Request time out"));break;case ch.HTTP_ERROR:const b=p.getStatus();if(he(Zt,`RPC '${e}' ${u} failed with status:`,b,"response text:",p.getResponseText()),b>0){let w=p.getResponseJson();Array.isArray(w)&&(w=w[0]);const N=w==null?void 0:w.error;if(N&&N.status&&N.message){const j=function(P){const K=P.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(K)>=0?K:ne.UNKNOWN}(N.status);m(new de(j,N.message))}else m(new de(ne.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new de(ne.UNAVAILABLE,"Connection failed."));break;default:be()}}finally{he(Zt,`RPC '${e}' ${u} completed.`)}});const _=JSON.stringify(l);he(Zt,`RPC '${e}' ${u} sending request:`,l),p.send(t,"POST",_,i,15)})}Wo(e,t,i){const l=Jm(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=tE(),m=eE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const E=u.join("");he(Zt,`Creating RPC '${e}' stream ${l}: ${E}`,p);const b=h.createWebChannel(E,p);let w=!1,N=!1;const j=new SC({Fo:P=>{N?he(Zt,`Not sending because RPC '${e}' stream ${l} is closed:`,P):(w||(he(Zt,`Opening RPC '${e}' stream ${l} transport.`),b.open(),w=!0),he(Zt,`RPC '${e}' stream ${l} sending:`,P),b.send(P))},Mo:()=>b.close()}),z=(P,K,H)=>{P.listen(K,$=>{try{H($)}catch(Z){setTimeout(()=>{throw Z},0)}})};return z(b,Xo.EventType.OPEN,()=>{N||(he(Zt,`RPC '${e}' stream ${l} transport opened.`),j.Qo())}),z(b,Xo.EventType.CLOSE,()=>{N||(N=!0,he(Zt,`RPC '${e}' stream ${l} transport closed`),j.Ko())}),z(b,Xo.EventType.ERROR,P=>{N||(N=!0,vl(Zt,`RPC '${e}' stream ${l} transport errored:`,P),j.Ko(new de(ne.UNAVAILABLE,"The operation could not be completed")))}),z(b,Xo.EventType.MESSAGE,P=>{var K;if(!N){const H=P.data[0];Ye(!!H);const $=H,Z=($==null?void 0:$.error)||((K=$[0])===null||K===void 0?void 0:K.error);if(Z){he(Zt,`RPC '${e}' stream ${l} received error:`,Z);const ee=Z.status;let ie=function(A){const C=At[A];if(C!==void 0)return DE(C)}(ee),O=Z.message;ie===void 0&&(ie=ne.INTERNAL,O="Unknown error status: "+ee+" with message "+Z.message),N=!0,j.Ko(new de(ie,O)),b.close()}else he(Zt,`RPC '${e}' stream ${l} received:`,H),j.Uo(H)}}),z(m,J0.STAT_EVENT,P=>{P.stat===Hm.PROXY?he(Zt,`RPC '${e}' stream ${l} detected buffering proxy`):P.stat===Hm.NOPROXY&&he(Zt,`RPC '${e}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{j.$o()},0),j}}function Rm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jh(s){return new Ck(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(e,t,i=1e3,l=1.5,u=6e4){this.Ti=e,this.timerId=t,this.Go=i,this.zo=l,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),l=Math.max(0,t-i);l>0&&he("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,l,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx="PersistentStream";class QE{constructor(e,t,i,l,u,h,m,p){this.Ti=e,this.n_=i,this.r_=l,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new $E(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===ne.RESOURCE_EXHAUSTED?(ca(t.toString()),ca("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,l])=>{this.i_===t&&this.V_(i,l)},i=>{e(()=>{const l=new de(ne.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(l)})})}V_(e,t){const i=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(l=>{i(()=>this.m_(l))}),this.stream.onMessage(l=>{i(()=>++this.__==1?this.g_(l):this.onNext(l))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return he(Dx,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(he(Dx,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class RC extends QE{constructor(e,t,i,l,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,l,h),this.serializer=u}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=Dk(this.serializer,e),i=function(u){if(!("targetChange"in u))return Se.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Se.min():h.readTime?bs(h.readTime):Se.min()}(e);return this.listener.p_(t,i)}y_(e){const t={};t.database=Xm(this.serializer),t.addTarget=function(u,h){let m;const p=h.target;if(m=Fm(p)?{documents:Lk(u,p)}:{query:Vk(u,p).ht},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=LE(u,h.resumeToken);const _=Qm(u,h.expectedCount);_!==null&&(m.expectedCount=_)}else if(h.snapshotVersion.compareTo(Se.min())>0){m.readTime=Ch(u,h.snapshotVersion.toTimestamp());const _=Qm(u,h.expectedCount);_!==null&&(m.expectedCount=_)}return m}(this.serializer,e);const i=Uk(this.serializer,e);i&&(t.labels=i),this.I_(t)}w_(e){const t={};t.database=Xm(this.serializer),t.removeTarget=e,this.I_(t)}}class NC extends QE{constructor(e,t,i,l,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,l,h),this.serializer=u}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Ye(!!e.streamToken),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ye(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=Mk(e.writeResults,e.commitTime),i=bs(e.commitTime);return this.listener.v_(i,t)}C_(){const e={};e.database=Xm(this.serializer),this.I_(e)}S_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>Ok(this.serializer,i))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{}class CC extends kC{constructor(e,t,i,l){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=l,this.F_=!1}M_(){if(this.F_)throw new de(ne.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,t,i,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.bo(e,Ym(t,i),l,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new de(ne.UNKNOWN,u.toString())})}Co(e,t,i,l,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Co(e,Ym(t,i),l,h,m,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new de(ne.UNKNOWN,h.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class IC{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(ca(t),this.N_=!1):he("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rr="RemoteStore";class jC{constructor(e,t,i,l,u){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(h=>{i.enqueueAndForget(async()=>{dr(this)&&(he(rr,"Restarting streams for network reachability change."),await async function(p){const _=Re(p);_.W_.add(4),await bu(_),_.j_.set("Unknown"),_.W_.delete(4),await ed(_)}(this))})}),this.j_=new IC(i,l)}}async function ed(s){if(dr(s))for(const e of s.G_)await e(!0)}async function bu(s){for(const e of s.G_)await e(!1)}function YE(s,e){const t=Re(s);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),Bg(t)?Ug(t):Ml(t).c_()&&Pg(t,e))}function Vg(s,e){const t=Re(s),i=Ml(t);t.U_.delete(e),i.c_()&&WE(t,e),t.U_.size===0&&(i.c_()?i.P_():dr(t)&&t.j_.set("Unknown"))}function Pg(s,e){if(s.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const t=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ml(s).y_(e)}function WE(s,e){s.H_.Ne(e),Ml(s).w_(e)}function Ug(s){s.H_=new wk({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>s.U_.get(e)||null,it:()=>s.datastore.serializer.databaseId}),Ml(s).start(),s.j_.B_()}function Bg(s){return dr(s)&&!Ml(s).u_()&&s.U_.size>0}function dr(s){return Re(s).W_.size===0}function XE(s){s.H_=void 0}async function DC(s){s.j_.set("Online")}async function OC(s){s.U_.forEach((e,t)=>{Pg(s,e)})}async function MC(s,e){XE(s),Bg(s)?(s.j_.q_(e),Ug(s)):s.j_.set("Unknown")}async function LC(s,e,t){if(s.j_.set("Online"),e instanceof ME&&e.state===2&&e.cause)try{await async function(l,u){const h=u.cause;for(const m of u.targetIds)l.U_.has(m)&&(await l.remoteSyncer.rejectListen(m,h),l.U_.delete(m),l.H_.removeTarget(m))}(s,e)}catch(i){he(rr,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await jh(s,i)}else if(e instanceof mh?s.H_.We(e):e instanceof OE?s.H_.Ze(e):s.H_.je(e),!t.isEqual(Se.min()))try{const i=await GE(s.localStore);t.compareTo(i)>=0&&await function(u,h){const m=u.H_.ot(h);return m.targetChanges.forEach((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.U_.get(_);E&&u.U_.set(_,E.withResumeToken(p.resumeToken,h))}}),m.targetMismatches.forEach((p,_)=>{const E=u.U_.get(p);if(!E)return;u.U_.set(p,E.withResumeToken(Qt.EMPTY_BYTE_STRING,E.snapshotVersion)),WE(u,p);const b=new ai(E.target,p,_,E.sequenceNumber);Pg(u,b)}),u.remoteSyncer.applyRemoteEvent(m)}(s,t)}catch(i){he(rr,"Failed to raise snapshot:",i),await jh(s,i)}}async function jh(s,e,t){if(!Dl(e))throw e;s.W_.add(1),await bu(s),s.j_.set("Offline"),t||(t=()=>GE(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{he(rr,"Retrying IndexedDB access"),await t(),s.W_.delete(1),await ed(s)})}function ZE(s,e){return e().catch(t=>jh(s,t,e))}async function td(s){const e=Re(s),t=gi(e);let i=e.K_.length>0?e.K_[e.K_.length-1].batchId:Tg;for(;VC(e);)try{const l=await yC(e.localStore,i);if(l===null){e.K_.length===0&&t.P_();break}i=l.batchId,PC(e,l)}catch(l){await jh(e,l)}JE(e)&&eT(e)}function VC(s){return dr(s)&&s.K_.length<10}function PC(s,e){s.K_.push(e);const t=gi(s);t.c_()&&t.b_&&t.S_(e.mutations)}function JE(s){return dr(s)&&!gi(s).u_()&&s.K_.length>0}function eT(s){gi(s).start()}async function UC(s){gi(s).C_()}async function BC(s){const e=gi(s);for(const t of s.K_)e.S_(t.mutations)}async function HC(s,e,t){const i=s.K_.shift(),l=Cg.from(i,e,t);await ZE(s,()=>s.remoteSyncer.applySuccessfulWrite(l)),await td(s)}async function zC(s,e){e&&gi(s).b_&&await async function(i,l){if(function(h){return bk(h)&&h!==ne.ABORTED}(l.code)){const u=i.K_.shift();gi(i).h_(),await ZE(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,l)),await td(i)}}(s,e),JE(s)&&eT(s)}async function Ox(s,e){const t=Re(s);t.asyncQueue.verifyOperationInProgress(),he(rr,"RemoteStore received new credentials");const i=dr(t);t.W_.add(3),await bu(t),i&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await ed(t)}async function qC(s,e){const t=Re(s);e?(t.W_.delete(2),await ed(t)):e||(t.W_.add(2),await bu(t),t.j_.set("Unknown"))}function Ml(s){return s.J_||(s.J_=function(t,i,l){const u=Re(t);return u.M_(),new RC(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)}(s.datastore,s.asyncQueue,{xo:DC.bind(null,s),No:OC.bind(null,s),Lo:MC.bind(null,s),p_:LC.bind(null,s)}),s.G_.push(async e=>{e?(s.J_.h_(),Bg(s)?Ug(s):s.j_.set("Unknown")):(await s.J_.stop(),XE(s))})),s.J_}function gi(s){return s.Y_||(s.Y_=function(t,i,l){const u=Re(t);return u.M_(),new NC(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)}(s.datastore,s.asyncQueue,{xo:()=>Promise.resolve(),No:UC.bind(null,s),Lo:zC.bind(null,s),D_:BC.bind(null,s),v_:HC.bind(null,s)}),s.G_.push(async e=>{e?(s.Y_.h_(),await td(s)):(await s.Y_.stop(),s.K_.length>0&&(he(rr,`Stopping write stream with ${s.K_.length} pending writes`),s.K_=[]))})),s.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(e,t,i,l,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=l,this.removalCallback=u,this.deferred=new ra,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,l,u){const h=Date.now()+i,m=new Hg(e,t,h,l,u);return m.start(i),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zg(s,e){if(ca("AsyncQueue",`${e}: ${s}`),Dl(s))return new de(ne.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{static emptySet(e){return new gl(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||xe.comparator(t.key,i.key):(t,i)=>xe.comparator(t.key,i.key),this.keyedMap=Zo(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof gl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const l=t.getNext().key,u=i.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new gl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(){this.Z_=new ut(xe.comparator)}track(e){const t=e.doc.key,i=this.Z_.get(t);i?e.type!==0&&i.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&i.type!==1?this.Z_=this.Z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Z_=this.Z_.remove(t):e.type===1&&i.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):be():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class Al{constructor(e,t,i,l,u,h,m,p,_){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=l,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(e,t,i,l,u){const h=[];return t.forEach(m=>{h.push({type:0,doc:m})}),new Al(e,t,gl.emptySet(t),h,i,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let l=0;l<t.length;l++)if(t[l].type!==i[l].type||!t[l].doc.isEqual(i[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class FC{constructor(){this.queries=Lx(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,i){const l=Re(t),u=l.queries;l.queries=Lx(),u.forEach((h,m)=>{for(const p of m.ta)p.onError(i)})})(this,new de(ne.ABORTED,"Firestore shutting down"))}}function Lx(){return new hr(s=>EE(s),Qh)}async function tT(s,e){const t=Re(s);let i=3;const l=e.query;let u=t.queries.get(l);u?!u.na()&&e.ra()&&(i=2):(u=new KC,i=e.ra()?0:1);try{switch(i){case 0:u.ea=await t.onListen(l,!0);break;case 1:u.ea=await t.onListen(l,!1);break;case 2:await t.onFirstRemoteStoreListen(l)}}catch(h){const m=zg(h,`Initialization of query '${hl(e.query)}' failed`);return void e.onError(m)}t.queries.set(l,u),u.ta.push(e),e.sa(t.onlineState),u.ea&&e.oa(u.ea)&&qg(t)}async function nT(s,e){const t=Re(s),i=e.query;let l=3;const u=t.queries.get(i);if(u){const h=u.ta.indexOf(e);h>=0&&(u.ta.splice(h,1),u.ta.length===0?l=e.ra()?0:1:!u.na()&&e.ra()&&(l=2))}switch(l){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function GC(s,e){const t=Re(s);let i=!1;for(const l of e){const u=l.query,h=t.queries.get(u);if(h){for(const m of h.ta)m.oa(l)&&(i=!0);h.ea=l}}i&&qg(t)}function $C(s,e,t){const i=Re(s),l=i.queries.get(e);if(l)for(const u of l.ta)u.onError(t);i.queries.delete(e)}function qg(s){s.ia.forEach(e=>{e.next()})}var eg,Vx;(Vx=eg||(eg={}))._a="default",Vx.Cache="cache";class sT{constructor(e,t,i){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(e){if(!this.options.includeMetadataChanges){const i=[];for(const l of e.docChanges)l.type!==3&&i.push(l);e=new Al(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const i=t!=="Offline";return(!this.options.Ta||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Al.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==eg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(e){this.key=e}}class iT{constructor(e){this.key=e}}class QC{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Le(),this.mutatedKeys=Le(),this.ya=TE(e),this.wa=new gl(this.ya)}get ba(){return this.fa}Sa(e,t){const i=t?t.Da:new Mx,l=t?t.wa:this.wa;let u=t?t.mutatedKeys:this.mutatedKeys,h=l,m=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((E,b)=>{const w=l.get(E),N=Yh(this.query,b)?b:null,j=!!w&&this.mutatedKeys.has(w.key),z=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let P=!1;w&&N?w.data.isEqual(N.data)?j!==z&&(i.track({type:3,doc:N}),P=!0):this.va(w,N)||(i.track({type:2,doc:N}),P=!0,(p&&this.ya(N,p)>0||_&&this.ya(N,_)<0)&&(m=!0)):!w&&N?(i.track({type:0,doc:N}),P=!0):w&&!N&&(i.track({type:1,doc:w}),P=!0,(p||_)&&(m=!0)),P&&(N?(h=h.add(N),u=z?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),i.track({type:1,doc:E})}return{wa:h,Da:i,ls:m,mutatedKeys:u}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,l){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const h=e.Da.X_();h.sort((E,b)=>function(N,j){const z=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be()}};return z(N)-z(j)}(E.type,b.type)||this.ya(E.doc,b.doc)),this.Ca(i),l=l!=null&&l;const m=t&&!l?this.Fa():[],p=this.pa.size===0&&this.current&&!l?1:0,_=p!==this.ga;return this.ga=p,h.length!==0||_?{snapshot:new Al(this.query,e.wa,u,h,e.mutatedKeys,p===0,_,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Mx,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Le(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const t=[];return e.forEach(i=>{this.pa.has(i)||t.push(new iT(i))}),this.pa.forEach(i=>{e.has(i)||t.push(new aT(i))}),t}Oa(e){this.fa=e.gs,this.pa=Le();const t=this.Sa(e.documents);return this.applyChanges(t,!0)}Na(){return Al.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Kg="SyncEngine";class YC{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class WC{constructor(e){this.key=e,this.Ba=!1}}class XC{constructor(e,t,i,l,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.La={},this.ka=new hr(m=>EE(m),Qh),this.qa=new Map,this.Qa=new Set,this.$a=new ut(xe.comparator),this.Ka=new Map,this.Ua=new Dg,this.Wa={},this.Ga=new Map,this.za=bl.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function ZC(s,e,t=!0){const i=hT(s);let l;const u=i.ka.get(e);return u?(i.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.Na()):l=await rT(i,e,t,!0),l}async function JC(s,e){const t=hT(s);await rT(t,e,!0,!1)}async function rT(s,e,t,i){const l=await vC(s.localStore,Ts(e)),u=l.targetId,h=s.sharedClientState.addLocalQueryTarget(u,t);let m;return i&&(m=await e1(s,e,u,h==="current",l.resumeToken)),s.isPrimaryClient&&t&&YE(s.remoteStore,l),m}async function e1(s,e,t,i,l){s.Ha=(b,w,N)=>async function(z,P,K,H){let $=P.view.Sa(K);$.ls&&($=await kx(z.localStore,P.query,!1).then(({documents:O})=>P.view.Sa(O,$)));const Z=H&&H.targetChanges.get(P.targetId),ee=H&&H.targetMismatches.get(P.targetId)!=null,ie=P.view.applyChanges($,z.isPrimaryClient,Z,ee);return Ux(z,P.targetId,ie.Ma),ie.snapshot}(s,b,w,N);const u=await kx(s.localStore,e,!0),h=new QC(e,u.gs),m=h.Sa(u.documents),p=Tu.createSynthesizedTargetChangeForCurrentChange(t,i&&s.onlineState!=="Offline",l),_=h.applyChanges(m,s.isPrimaryClient,p);Ux(s,t,_.Ma);const E=new YC(e,t,h);return s.ka.set(e,E),s.qa.has(t)?s.qa.get(t).push(e):s.qa.set(t,[e]),_.snapshot}async function t1(s,e,t){const i=Re(s),l=i.ka.get(e),u=i.qa.get(l.targetId);if(u.length>1)return i.qa.set(l.targetId,u.filter(h=>!Qh(h,e))),void i.ka.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(l.targetId),i.sharedClientState.isActiveQueryTarget(l.targetId)||await Zm(i.localStore,l.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(l.targetId),t&&Vg(i.remoteStore,l.targetId),tg(i,l.targetId)}).catch(jl)):(tg(i,l.targetId),await Zm(i.localStore,l.targetId,!0))}async function n1(s,e){const t=Re(s),i=t.ka.get(e),l=t.qa.get(i.targetId);t.isPrimaryClient&&l.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Vg(t.remoteStore,i.targetId))}async function s1(s,e,t){const i=c1(s);try{const l=await function(h,m){const p=Re(h),_=jt.now(),E=m.reduce((N,j)=>N.add(j.key),Le());let b,w;return p.persistence.runTransaction("Locally write mutations","readwrite",N=>{let j=ha(),z=Le();return p.ds.getEntries(N,E).next(P=>{j=P,j.forEach((K,H)=>{H.isValidDocument()||(z=z.add(K))})}).next(()=>p.localDocuments.getOverlayedDocuments(N,j)).next(P=>{b=P;const K=[];for(const H of m){const $=yk(H,b.get(H.key).overlayedDocument);$!=null&&K.push(new xi(H.key,$,fE($.value.mapValue),Kn.exists(!0)))}return p.mutationQueue.addMutationBatch(N,_,K,m)}).next(P=>{w=P;const K=P.applyToLocalDocumentSet(b,z);return p.documentOverlayCache.saveOverlays(N,P.batchId,K)})}).then(()=>({batchId:w.batchId,changes:AE(b)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(l.batchId),function(h,m,p){let _=h.Wa[h.currentUser.toKey()];_||(_=new ut(Ue)),_=_.insert(m,p),h.Wa[h.currentUser.toKey()]=_}(i,l.batchId,t),await Au(i,l.changes),await td(i.remoteStore)}catch(l){const u=zg(l,"Failed to persist write");t.reject(u)}}async function lT(s,e){const t=Re(s);try{const i=await pC(t.localStore,e);e.targetChanges.forEach((l,u)=>{const h=t.Ka.get(u);h&&(Ye(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?h.Ba=!0:l.modifiedDocuments.size>0?Ye(h.Ba):l.removedDocuments.size>0&&(Ye(h.Ba),h.Ba=!1))}),await Au(t,i,e)}catch(i){await jl(i)}}function Px(s,e,t){const i=Re(s);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const l=[];i.ka.forEach((u,h)=>{const m=h.view.sa(e);m.snapshot&&l.push(m.snapshot)}),function(h,m){const p=Re(h);p.onlineState=m;let _=!1;p.queries.forEach((E,b)=>{for(const w of b.ta)w.sa(m)&&(_=!0)}),_&&qg(p)}(i.eventManager,e),l.length&&i.La.p_(l),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function a1(s,e,t){const i=Re(s);i.sharedClientState.updateQueryState(e,"rejected",t);const l=i.Ka.get(e),u=l&&l.key;if(u){let h=new ut(xe.comparator);h=h.insert(u,en.newNoDocument(u,Se.min()));const m=Le().add(u),p=new Zh(Se.min(),new Map,new ut(Ue),h,m);await lT(i,p),i.$a=i.$a.remove(u),i.Ka.delete(e),Fg(i)}else await Zm(i.localStore,e,!1).then(()=>tg(i,e,t)).catch(jl)}async function i1(s,e){const t=Re(s),i=e.batch.batchId;try{const l=await gC(t.localStore,e);uT(t,i,null),oT(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Au(t,l)}catch(l){await jl(l)}}async function r1(s,e,t){const i=Re(s);try{const l=await function(h,m){const p=Re(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let E;return p.mutationQueue.lookupMutationBatch(_,m).next(b=>(Ye(b!==null),E=b.keys(),p.mutationQueue.removeMutationBatch(_,b))).next(()=>p.mutationQueue.performConsistencyCheck(_)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(_,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,E)).next(()=>p.localDocuments.getDocuments(_,E))})}(i.localStore,e);uT(i,e,t),oT(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Au(i,l)}catch(l){await jl(l)}}function oT(s,e){(s.Ga.get(e)||[]).forEach(t=>{t.resolve()}),s.Ga.delete(e)}function uT(s,e,t){const i=Re(s);let l=i.Wa[i.currentUser.toKey()];if(l){const u=l.get(e);u&&(t?u.reject(t):u.resolve(),l=l.remove(e)),i.Wa[i.currentUser.toKey()]=l}}function tg(s,e,t=null){s.sharedClientState.removeLocalQueryTarget(e);for(const i of s.qa.get(e))s.ka.delete(i),t&&s.La.Ja(i,t);s.qa.delete(e),s.isPrimaryClient&&s.Ua.Sr(e).forEach(i=>{s.Ua.containsKey(i)||cT(s,i)})}function cT(s,e){s.Qa.delete(e.path.canonicalString());const t=s.$a.get(e);t!==null&&(Vg(s.remoteStore,t),s.$a=s.$a.remove(e),s.Ka.delete(t),Fg(s))}function Ux(s,e,t){for(const i of t)i instanceof aT?(s.Ua.addReference(i.key,e),l1(s,i)):i instanceof iT?(he(Kg,"Document no longer in limbo: "+i.key),s.Ua.removeReference(i.key,e),s.Ua.containsKey(i.key)||cT(s,i.key)):be()}function l1(s,e){const t=e.key,i=t.path.canonicalString();s.$a.get(t)||s.Qa.has(i)||(he(Kg,"New document in limbo: "+t),s.Qa.add(i),Fg(s))}function Fg(s){for(;s.Qa.size>0&&s.$a.size<s.maxConcurrentLimboResolutions;){const e=s.Qa.values().next().value;s.Qa.delete(e);const t=new xe(nt.fromString(e)),i=s.za.next();s.Ka.set(i,new WC(t)),s.$a=s.$a.insert(t,i),YE(s.remoteStore,new ai(Ts(Rg(t.path)),i,"TargetPurposeLimboResolution",Fh.ae))}}async function Au(s,e,t){const i=Re(s),l=[],u=[],h=[];i.ka.isEmpty()||(i.ka.forEach((m,p)=>{h.push(i.Ha(p,e,t).then(_=>{var E;if((_||t)&&i.isPrimaryClient){const b=_?!_.fromCache:(E=t==null?void 0:t.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;i.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(_){l.push(_);const b=Mg.Yi(p.targetId,_);u.push(b)}}))}),await Promise.all(h),i.La.p_(l),await async function(p,_){const E=Re(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>se.forEach(_,w=>se.forEach(w.Hi,N=>E.persistence.referenceDelegate.addReference(b,w.targetId,N)).next(()=>se.forEach(w.Ji,N=>E.persistence.referenceDelegate.removeReference(b,w.targetId,N)))))}catch(b){if(!Dl(b))throw b;he(Lg,"Failed to update sequence numbers: "+b)}for(const b of _){const w=b.targetId;if(!b.fromCache){const N=E.Ts.get(w),j=N.snapshotVersion,z=N.withLastLimboFreeSnapshotVersion(j);E.Ts=E.Ts.insert(w,z)}}}(i.localStore,u))}async function o1(s,e){const t=Re(s);if(!t.currentUser.isEqual(e)){he(Kg,"User change. New user:",e.toKey());const i=await FE(t.localStore,e);t.currentUser=e,function(u,h){u.Ga.forEach(m=>{m.forEach(p=>{p.reject(new de(ne.CANCELLED,h))})}),u.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Au(t,i.Rs)}}function u1(s,e){const t=Re(s),i=t.Ka.get(e);if(i&&i.Ba)return Le().add(i.key);{let l=Le();const u=t.qa.get(e);if(!u)return l;for(const h of u){const m=t.ka.get(h);l=l.unionWith(m.view.ba)}return l}}function hT(s){const e=Re(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=lT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=u1.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=a1.bind(null,e),e.La.p_=GC.bind(null,e.eventManager),e.La.Ja=$C.bind(null,e.eventManager),e}function c1(s){const e=Re(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=i1.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=r1.bind(null,e),e}class Dh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Jh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return mC(this.persistence,new hC,e.initialUser,this.serializer)}Xa(e){return new KE(Og.ri,this.serializer)}Za(e){return new EC}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Dh.provider={build:()=>new Dh};class h1 extends Dh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Ye(this.persistence.referenceDelegate instanceof Ih);const i=this.persistence.referenceDelegate.garbageCollector;return new Wk(i,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new KE(i=>Ih.ri(i,t),this.serializer)}}class ng{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Px(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=o1.bind(null,this.syncEngine),await qC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new FC}()}createDatastore(e){const t=Jh(e.databaseInfo.databaseId),i=function(u){return new wC(u)}(e.databaseInfo);return function(u,h,m,p){return new CC(u,h,m,p)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,l,u,h,m){return new jC(i,l,u,h,m)}(this.localStore,this.datastore,e.asyncQueue,t=>Px(this.syncEngine,t,0),function(){return jx.D()?new jx:new TC}())}createSyncEngine(e,t){return function(l,u,h,m,p,_,E){const b=new XC(l,u,h,m,p,_);return E&&(b.ja=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(l){const u=Re(l);he(rr,"RemoteStore shutting down."),u.W_.add(5),await bu(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}ng.provider={build:()=>new ng};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):ca("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pi="FirestoreClient";class d1{constructor(e,t,i,l,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=l,this.user=Jt.UNAUTHENTICATED,this.clientId=sE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(i,async h=>{he(pi,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(i,h=>(he(pi,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ra;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=zg(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Nm(s,e){s.asyncQueue.verifyOperationInProgress(),he(pi,"Initializing OfflineComponentProvider");const t=s.configuration;await e.initialize(t);let i=t.initialUser;s.setCredentialChangeListener(async l=>{i.isEqual(l)||(await FE(e.localStore,l),i=l)}),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}async function Bx(s,e){s.asyncQueue.verifyOperationInProgress();const t=await f1(s);he(pi,"Initializing OnlineComponentProvider"),await e.initialize(t,s.configuration),s.setCredentialChangeListener(i=>Ox(e.remoteStore,i)),s.setAppCheckTokenChangeListener((i,l)=>Ox(e.remoteStore,l)),s._onlineComponents=e}async function f1(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){he(pi,"Using user provided OfflineComponentProvider");try{await Nm(s,s._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(l){return l.name==="FirebaseError"?l.code===ne.FAILED_PRECONDITION||l.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(t))throw t;vl("Error using user provided cache. Falling back to memory cache: "+t),await Nm(s,new Dh)}}else he(pi,"Using default OfflineComponentProvider"),await Nm(s,new h1(void 0));return s._offlineComponents}async function fT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(he(pi,"Using user provided OnlineComponentProvider"),await Bx(s,s._uninitializedComponentsProvider._online)):(he(pi,"Using default OnlineComponentProvider"),await Bx(s,new ng))),s._onlineComponents}function m1(s){return fT(s).then(e=>e.syncEngine)}async function mT(s){const e=await fT(s),t=e.eventManager;return t.onListen=ZC.bind(null,e.syncEngine),t.onUnlisten=t1.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=JC.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=n1.bind(null,e.syncEngine),t}function g1(s,e,t={}){const i=new ra;return s.asyncQueue.enqueueAndForget(async()=>function(u,h,m,p,_){const E=new dT({next:w=>{E.su(),h.enqueueAndForget(()=>nT(u,b));const N=w.docs.has(m);!N&&w.fromCache?_.reject(new de(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&w.fromCache&&p&&p.source==="server"?_.reject(new de(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(w)},error:w=>_.reject(w)}),b=new sT(Rg(m.path),E,{includeMetadataChanges:!0,Ta:!0});return tT(u,b)}(await mT(s),s.asyncQueue,e,t,i)),i.promise}function p1(s,e,t={}){const i=new ra;return s.asyncQueue.enqueueAndForget(async()=>function(u,h,m,p,_){const E=new dT({next:w=>{E.su(),h.enqueueAndForget(()=>nT(u,b)),w.fromCache&&p.source==="server"?_.reject(new de(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(w)},error:w=>_.reject(w)}),b=new sT(m,E,{includeMetadataChanges:!0,Ta:!0});return tT(u,b)}(await mT(s),s.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gT(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(s,e,t){if(!t)throw new de(ne.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function _1(s,e,t,i){if(e===!0&&i===!0)throw new de(ne.INVALID_ARGUMENT,`${s} and ${t} cannot be used together.`)}function zx(s){if(!xe.isDocumentKey(s))throw new de(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function qx(s){if(xe.isDocumentKey(s))throw new de(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function nd(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":be()}function es(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new de(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=nd(s);throw new de(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T="firestore.googleapis.com",Kx=!0;class Fx{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new de(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_T,this.ssl=Kx}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Kx;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=qE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Qk)throw new de(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gT((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new de(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new de(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new de(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,l){return i.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sd{constructor(e,t,i,l){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Fx({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Fx(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new SN;switch(i.type){case"firstParty":return new kN(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new de(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=Hx.get(t);i&&(he("ComponentProvider","Removing Datastore"),Hx.delete(t),i.terminate())}(this),Promise.resolve()}}function y1(s,e,t,i={}){var l;const u=(s=es(s,sd))._getSettings(),h=Object.assign(Object.assign({},u),{emulatorOptions:s._getEmulatorOptions()}),m=`${e}:${t}`;u.host!==_T&&u.host!==m&&vl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:i});if(!sr(p,h)&&(s._setSettings(p),i.mockUserToken)){let _,E;if(typeof i.mockUserToken=="string")_=i.mockUserToken,E=Jt.MOCK_USER;else{_=K0(i.mockUserToken,(l=s._app)===null||l===void 0?void 0:l.options.projectId);const b=i.mockUserToken.sub||i.mockUserToken.user_id;if(!b)throw new de(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Jt(b)}s._authCredentials=new wN(new nE(_,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new fr(this.firestore,e,this._query)}}class cn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new oi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new cn(this.firestore,e,this._key)}}class oi extends fr{constructor(e,t,i){super(e,t,Rg(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new cn(this.firestore,null,new xe(e))}withConverter(e){return new oi(this.firestore,e,this._path)}}function Gg(s,e,...t){if(s=st(s),pT("collection","path",e),s instanceof sd){const i=nt.fromString(e,...t);return qx(i),new oi(s,null,i)}{if(!(s instanceof cn||s instanceof oi))throw new de(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=s._path.child(nt.fromString(e,...t));return qx(i),new oi(s.firestore,null,i)}}function _i(s,e,...t){if(s=st(s),arguments.length===1&&(e=sE.newId()),pT("doc","path",e),s instanceof sd){const i=nt.fromString(e,...t);return zx(i),new cn(s,null,new xe(i))}{if(!(s instanceof cn||s instanceof oi))throw new de(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=s._path.child(nt.fromString(e,...t));return zx(i),new cn(s.firestore,s instanceof oi?s.converter:null,new xe(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gx="AsyncQueue";class $x{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new $E(this,"async_queue_retry"),this.bu=()=>{const i=Rm();i&&he(Gx,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.Su=e;const t=Rm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Rm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new ra;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Dl(e))throw e;he(Gx,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.Su.then(()=>(this.pu=!0,e().catch(i=>{this.gu=i,this.pu=!1;const l=function(h){let m=h.message||"";return h.stack&&(m=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),m}(i);throw ca("INTERNAL UNHANDLED ERROR: ",l),i}).then(i=>(this.pu=!1,i))));return this.Su=t,t}enqueueAfterDelay(e,t,i){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const l=Hg.createAndSchedule(this,e,t,i,u=>this.Fu(u));return this.fu.push(l),l}Du(){this.gu&&be()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class mr extends sd{constructor(e,t,i,l){super(e,t,i,l),this.type="firestore",this._queue=new $x,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $x(e),this._firestoreClient=void 0,await e}}}function v1(s,e){const t=typeof s=="object"?s:xg(),i=typeof s=="string"?s:Sh,l=Kh(t,"firestore").getImmediate({identifier:i});if(!l._initialized){const u=H0("firestore");u&&y1(l,...u)}return l}function $g(s){if(s._terminated)throw new de(ne.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||x1(s),s._firestoreClient}function x1(s){var e,t,i;const l=s._freezeSettings(),u=function(m,p,_,E){return new qN(m,p,_,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,gT(E.experimentalLongPollingOptions),E.useFetchStreams)}(s._databaseId,((e=s._app)===null||e===void 0?void 0:e.options.appId)||"",s._persistenceKey,l);s._componentsProvider||!((t=l.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=l.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(s._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),s._firestoreClient=new d1(s._authCredentials,s._appCheckCredentials,s._queue,u,s._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Sl(Qt.fromBase64String(e))}catch(t){throw new de(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Sl(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new de(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new de(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new de(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,l){if(i.length!==l.length)return!1;for(let u=0;u<i.length;++u)if(i[u]!==l[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1=/^__.*__$/;class T1{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new xi(e,this.data,this.fieldMask,t,this.fieldTransforms):new Eu(e,this.data,t,this.fieldTransforms)}}class yT{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new xi(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function vT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be()}}class Xg{constructor(e,t,i,l,u,h){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=l,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Xg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),l=this.ku({path:i,Qu:!1});return l.$u(e),l}Ku(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),l=this.ku({path:i,Qu:!1});return l.Bu(),l}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Oh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(vT(this.Lu)&&E1.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class b1{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Jh(e)}ju(e,t,i,l=!1){return new Xg({Lu:e,methodName:t,zu:i,path:$t.emptyPath(),Qu:!1,Gu:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function id(s){const e=s._freezeSettings(),t=Jh(s._databaseId);return new b1(s._databaseId,!!e.ignoreUndefinedProperties,t)}function xT(s,e,t,i,l,u={}){const h=s.ju(u.merge||u.mergeFields?2:0,e,t,l);Zg("Data must be an object, but it was:",h,i);const m=ET(i,h);let p,_;if(u.merge)p=new Sn(h.fieldMask),_=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const b of u.mergeFields){const w=sg(e,b,t);if(!h.contains(w))throw new de(ne.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);bT(E,w)||E.push(w)}p=new Sn(E),_=h.fieldTransforms.filter(b=>p.covers(b.field))}else p=null,_=h.fieldTransforms;return new T1(new pn(m),p,_)}class rd extends Qg{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof rd}}function A1(s,e,t,i){const l=s.ju(1,e,t);Zg("Data must be an object, but it was:",l,i);const u=[],h=pn.empty();vi(i,(p,_)=>{const E=Jg(e,p,t);_=st(_);const b=l.Ku(E);if(_ instanceof rd)u.push(E);else{const w=Su(_,b);w!=null&&(u.push(E),h.set(E,w))}});const m=new Sn(u);return new yT(h,m,l.fieldTransforms)}function S1(s,e,t,i,l,u){const h=s.ju(1,e,t),m=[sg(e,i,t)],p=[l];if(u.length%2!=0)throw new de(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)m.push(sg(e,u[w])),p.push(u[w+1]);const _=[],E=pn.empty();for(let w=m.length-1;w>=0;--w)if(!bT(_,m[w])){const N=m[w];let j=p[w];j=st(j);const z=h.Ku(N);if(j instanceof rd)_.push(N);else{const P=Su(j,z);P!=null&&(_.push(N),E.set(N,P))}}const b=new Sn(_);return new yT(E,b,h.fieldTransforms)}function w1(s,e,t,i=!1){return Su(t,s.ju(i?4:3,e))}function Su(s,e){if(TT(s=st(s)))return Zg("Unsupported field value:",e,s),ET(s,e);if(s instanceof Qg)return function(i,l){if(!vT(l.Lu))throw l.Wu(`${i._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Wu(`${i._methodName}() is not currently supported inside arrays`);const u=i._toFieldTransform(l);u&&l.fieldTransforms.push(u)}(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(i,l){const u=[];let h=0;for(const m of i){let p=Su(m,l.Uu(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}}(s,e)}return function(i,l){if((i=st(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return dk(l.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const u=jt.fromDate(i);return{timestampValue:Ch(l.serializer,u)}}if(i instanceof jt){const u=new jt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Ch(l.serializer,u)}}if(i instanceof Yg)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Sl)return{bytesValue:LE(l.serializer,i._byteString)};if(i instanceof cn){const u=l.databaseId,h=i.firestore._databaseId;if(!h.isEqual(u))throw l.Wu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:jg(i.firestore._databaseId||l.databaseId,i._key.path)}}if(i instanceof Wg)return function(h,m){return{mapValue:{fields:{[hE]:{stringValue:dE},[wh]:{arrayValue:{values:h.toArray().map(_=>{if(typeof _!="number")throw m.Wu("VectorValues must only contain numeric values.");return Ng(m.serializer,_)})}}}}}}(i,l);throw l.Wu(`Unsupported field value: ${nd(i)}`)}(s,e)}function ET(s,e){const t={};return iE(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vi(s,(i,l)=>{const u=Su(l,e.qu(i));u!=null&&(t[i]=u)}),{mapValue:{fields:t}}}function TT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof jt||s instanceof Yg||s instanceof Sl||s instanceof cn||s instanceof Qg||s instanceof Wg)}function Zg(s,e,t){if(!TT(t)||!function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}(t)){const i=nd(t);throw i==="an object"?e.Wu(s+" a custom object"):e.Wu(s+" "+i)}}function sg(s,e,t){if((e=st(e))instanceof ad)return e._internalPath;if(typeof e=="string")return Jg(s,e);throw Oh("Field path arguments must be of type string or ",s,!1,void 0,t)}const R1=new RegExp("[~\\*/\\[\\]]");function Jg(s,e,t){if(e.search(R1)>=0)throw Oh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,t);try{return new ad(...e.split("."))._internalPath}catch{throw Oh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,t)}}function Oh(s,e,t,i,l){const u=i&&!i.isEmpty(),h=l!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${i}`),h&&(p+=` in document ${l}`),p+=")"),new de(ne.INVALID_ARGUMENT,m+s+p)}function bT(s,e){return s.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(e,t,i,l,u){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new N1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ep("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class N1 extends AT{data(){return super.data()}}function ep(s,e){return typeof e=="string"?Jg(s,e):e instanceof ad?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k1(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new de(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class tp{}class ST extends tp{}function C1(s,e,...t){let i=[];e instanceof tp&&i.push(e),i=i.concat(t),function(u){const h=u.filter(p=>p instanceof sp).length,m=u.filter(p=>p instanceof np).length;if(h>1||h>0&&m>0)throw new de(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const l of i)s=l._apply(s);return s}class np extends ST{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new np(e,t,i)}_apply(e){const t=this._parse(e);return wT(e._query,t),new fr(e.firestore,e.converter,Gm(e._query,t))}_parse(e){const t=id(e.firestore);return function(u,h,m,p,_,E,b){let w;if(_.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new de(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){Yx(b,E);const j=[];for(const z of b)j.push(Qx(p,u,z));w={arrayValue:{values:j}}}else w=Qx(p,u,b)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||Yx(b,E),w=w1(m,h,b,E==="in"||E==="not-in");return St.create(_,E,w)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class sp extends tp{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new sp(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:Jn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(l,u){let h=l;const m=u.getFlattenedFilters();for(const p of m)wT(h,p),h=Gm(h,p)}(e._query,t),new fr(e.firestore,e.converter,Gm(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ap extends ST{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new ap(e,t)}_apply(e){const t=function(l,u,h){if(l.startAt!==null)throw new de(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new de(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new fu(u,h)}(e._query,this._field,this._direction);return new fr(e.firestore,e.converter,function(l,u){const h=l.explicitOrderBy.concat([u]);return new Ol(l.path,l.collectionGroup,h,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(e._query,t))}}function I1(s,e="asc"){const t=e,i=ep("orderBy",s);return ap._create(i,t)}function Qx(s,e,t){if(typeof(t=st(t))=="string"){if(t==="")throw new de(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!xE(e)&&t.indexOf("/")!==-1)throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(nt.fromString(t));if(!xe.isDocumentKey(i))throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return cx(s,new xe(i))}if(t instanceof cn)return cx(s,t._key);throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${nd(t)}.`)}function Yx(s,e){if(!Array.isArray(s)||s.length===0)throw new de(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function wT(s,e){const t=function(l,u){for(const h of l)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(s.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new de(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class j1{convertValue(e,t="none"){switch(mi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(fi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw be()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return vi(e,(l,u)=>{i[l]=this.convertValue(u,t)}),i}convertVectorValue(e){var t,i,l;const u=(l=(i=(t=e.fields)===null||t===void 0?void 0:t[wh].arrayValue)===null||i===void 0?void 0:i.values)===null||l===void 0?void 0:l.map(h=>yt(h.doubleValue));return new Wg(u)}convertGeoPoint(e){return new Yg(yt(e.latitude),yt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=$h(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(cu(e));default:return null}}convertTimestamp(e){const t=di(e);return new jt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=nt.fromString(e);Ye(zE(i));const l=new hu(i.get(1),i.get(3)),u=new xe(i.popFirst(5));return l.isEqual(t)||ca(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RT(s,e,t){let i;return i=s?s.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class NT extends AT{constructor(e,t,i,l,u,h){super(e,t,i,l,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new gh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(ep("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class gh extends NT{data(e={}){return super.data(e)}}class D1{constructor(e,t,i,l){this._firestore=e,this._userDataWriter=t,this._snapshot=l,this.metadata=new eu(l.hasPendingWrites,l.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new gh(this._firestore,this._userDataWriter,i.key,i,new eu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new de(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(l,u){if(l._snapshot.oldDocs.isEmpty()){let h=0;return l._snapshot.docChanges.map(m=>{const p=new gh(l._firestore,l._userDataWriter,m.doc.key,m.doc,new eu(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new gh(l._firestore,l._userDataWriter,m.doc.key,m.doc,new eu(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,E=-1;return m.type!==0&&(_=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),E=h.indexOf(m.doc.key)),{type:O1(m.type),doc:p,oldIndex:_,newIndex:E}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function O1(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kT(s){s=es(s,cn);const e=es(s.firestore,mr);return g1($g(e),s._key).then(t=>P1(e,s,t))}class CT extends j1{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new cn(this.firestore,null,t)}}function IT(s){s=es(s,fr);const e=es(s.firestore,mr),t=$g(e),i=new CT(e);return k1(s._query),p1(t,s._query).then(l=>new D1(e,i,s,l))}function ld(s,e,t){s=es(s,cn);const i=es(s.firestore,mr),l=RT(s.converter,e);return od(i,[xT(id(i),"setDoc",s._key,l,s.converter!==null,t).toMutation(s._key,Kn.none())])}function M1(s,e,t,...i){s=es(s,cn);const l=es(s.firestore,mr),u=id(l);let h;return h=typeof(e=st(e))=="string"||e instanceof ad?S1(u,"updateDoc",s._key,e,t,i):A1(u,"updateDoc",s._key,e),od(l,[h.toMutation(s._key,Kn.exists(!0))])}function L1(s){return od(es(s.firestore,mr),[new kg(s._key,Kn.none())])}function V1(s,e){const t=es(s.firestore,mr),i=_i(s),l=RT(s.converter,e);return od(t,[xT(id(s.firestore),"addDoc",i._key,l,s.converter!==null,{}).toMutation(i._key,Kn.exists(!1))]).then(()=>i)}function od(s,e){return function(i,l){const u=new ra;return i.asyncQueue.enqueueAndForget(async()=>s1(await m1(i),l,u)),u.promise}($g(s),e)}function P1(s,e,t){const i=t.docs.get(e._key),l=new CT(s);return new NT(s,l,e._key,i,new eu(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(l){Il=l})(cr),ar(new ci("firestore",(i,{instanceIdentifier:l,options:u})=>{const h=i.getProvider("app").getImmediate(),m=new mr(new RN(i.getProvider("auth-internal")),new CN(h,i.getProvider("app-check-internal")),function(_,E){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new de(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hu(_.options.projectId,E)}(h,l),h);return u=Object.assign({useFetchStreams:t},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Es(Jv,ex,e),Es(Jv,ex,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT="firebasestorage.googleapis.com",DT="storageBucket",U1=2*60*1e3,B1=10*60*1e3,H1=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct extends Rs{constructor(e,t,i=0){super(km(e),`Firebase Storage: ${t} (${km(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ct.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return km(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var at;(function(s){s.UNKNOWN="unknown",s.OBJECT_NOT_FOUND="object-not-found",s.BUCKET_NOT_FOUND="bucket-not-found",s.PROJECT_NOT_FOUND="project-not-found",s.QUOTA_EXCEEDED="quota-exceeded",s.UNAUTHENTICATED="unauthenticated",s.UNAUTHORIZED="unauthorized",s.UNAUTHORIZED_APP="unauthorized-app",s.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",s.INVALID_CHECKSUM="invalid-checksum",s.CANCELED="canceled",s.INVALID_EVENT_NAME="invalid-event-name",s.INVALID_URL="invalid-url",s.INVALID_DEFAULT_BUCKET="invalid-default-bucket",s.NO_DEFAULT_BUCKET="no-default-bucket",s.CANNOT_SLICE_BLOB="cannot-slice-blob",s.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",s.NO_DOWNLOAD_URL="no-download-url",s.INVALID_ARGUMENT="invalid-argument",s.INVALID_ARGUMENT_COUNT="invalid-argument-count",s.APP_DELETED="app-deleted",s.INVALID_ROOT_OPERATION="invalid-root-operation",s.INVALID_FORMAT="invalid-format",s.INTERNAL_ERROR="internal-error",s.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(at||(at={}));function km(s){return"storage/"+s}function ip(){const s="An unknown error occurred, please check the error payload for server response.";return new ct(at.UNKNOWN,s)}function z1(s){return new ct(at.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")}function q1(s){return new ct(at.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function K1(){const s="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ct(at.UNAUTHENTICATED,s)}function F1(){return new ct(at.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function G1(s){return new ct(at.UNAUTHORIZED,"User does not have permission to access '"+s+"'.")}function OT(){return new ct(at.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function MT(){return new ct(at.CANCELED,"User canceled the upload/download.")}function $1(s){return new ct(at.INVALID_URL,"Invalid URL '"+s+"'.")}function Q1(s){return new ct(at.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+s+"'.")}function Y1(){return new ct(at.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+DT+"' property when initializing the app?")}function LT(){return new ct(at.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function W1(){return new ct(at.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function X1(){return new ct(at.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Z1(s){return new ct(at.UNSUPPORTED_ENVIRONMENT,`${s} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function ag(s){return new ct(at.INVALID_ARGUMENT,s)}function VT(){return new ct(at.APP_DELETED,"The Firebase app was deleted.")}function J1(s){return new ct(at.INVALID_ROOT_OPERATION,"The operation '"+s+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function iu(s,e){return new ct(at.INVALID_FORMAT,"String does not match format '"+s+"': "+e)}function Qo(s){throw new ct(at.INTERNAL_ERROR,"Internal error: "+s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=wn.makeFromUrl(e,t)}catch{return new wn(e,"")}if(i.path==="")return i;throw Q1(e)}static makeFromUrl(e,t){let i=null;const l="([A-Za-z0-9.\\-_]+)";function u(Z){Z.path.charAt(Z.path.length-1)==="/"&&(Z.path_=Z.path_.slice(0,-1))}const h="(/(.*))?$",m=new RegExp("^gs://"+l+h,"i"),p={bucket:1,path:3};function _(Z){Z.path_=decodeURIComponent(Z.path)}const E="v[A-Za-z0-9_]+",b=t.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",N=new RegExp(`^https?://${b}/${E}/b/${l}/o${w}`,"i"),j={bucket:1,path:3},z=t===jT?"(?:storage.googleapis.com|storage.cloud.google.com)":t,P="([^?#]*)",K=new RegExp(`^https?://${z}/${l}/${P}`,"i"),$=[{regex:m,indices:p,postModify:u},{regex:N,indices:j,postModify:_},{regex:K,indices:{bucket:1,path:2},postModify:_}];for(let Z=0;Z<$.length;Z++){const ee=$[Z],ie=ee.regex.exec(e);if(ie){const O=ie[ee.indices.bucket];let R=ie[ee.indices.path];R||(R=""),i=new wn(O,R),ee.postModify(i);break}}if(i==null)throw $1(e);return i}}class eI{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tI(s,e,t){let i=1,l=null,u=null,h=!1,m=0;function p(){return m===2}let _=!1;function E(...P){_||(_=!0,e.apply(null,P))}function b(P){l=setTimeout(()=>{l=null,s(N,p())},P)}function w(){u&&clearTimeout(u)}function N(P,...K){if(_){w();return}if(P){w(),E.call(null,P,...K);return}if(p()||h){w(),E.call(null,P,...K);return}i<64&&(i*=2);let $;m===1?(m=2,$=0):$=(i+Math.random())*1e3,b($)}let j=!1;function z(P){j||(j=!0,w(),!_&&(l!==null?(P||(m=2),clearTimeout(l),b(0)):P||(m=1)))}return b(0),u=setTimeout(()=>{h=!0,z(!0)},t),z}function nI(s){s(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sI(s){return s!==void 0}function aI(s){return typeof s=="function"}function iI(s){return typeof s=="object"&&!Array.isArray(s)}function ud(s){return typeof s=="string"||s instanceof String}function Wx(s){return rp()&&s instanceof Blob}function rp(){return typeof Blob<"u"}function Xx(s,e,t,i){if(i<e)throw ag(`Invalid value for '${s}'. Expected ${e} or greater.`);if(i>t)throw ag(`Invalid value for '${s}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ll(s,e,t){let i=e;return t==null&&(i=`https://${e}`),`${t}://${i}/v0${s}`}function PT(s){const e=encodeURIComponent;let t="?";for(const i in s)if(s.hasOwnProperty(i)){const l=e(i)+"="+e(s[i]);t=t+l+"&"}return t=t.slice(0,-1),t}var nr;(function(s){s[s.NO_ERROR=0]="NO_ERROR",s[s.NETWORK_ERROR=1]="NETWORK_ERROR",s[s.ABORT=2]="ABORT"})(nr||(nr={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(s,e){const t=s>=500&&s<600,l=[408,429].indexOf(s)!==-1,u=e.indexOf(s)!==-1;return t||l||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(e,t,i,l,u,h,m,p,_,E,b,w=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=l,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=m,this.errorCallback_=p,this.timeout_=_,this.progressCallback_=E,this.connectionFactory_=b,this.retry=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((N,j)=>{this.resolve_=N,this.reject_=j,this.start_()})}start_(){const e=(i,l)=>{if(l){i(!1,new ah(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=m=>{const p=m.loaded,_=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,_)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const m=u.getErrorCode()===nr.NO_ERROR,p=u.getStatus();if(!m||UT(p,this.additionalRetryCodes_)&&this.retry){const E=u.getErrorCode()===nr.ABORT;i(!1,new ah(!1,null,E));return}const _=this.successCodes_.indexOf(p)!==-1;i(!0,new ah(_,u))})},t=(i,l)=>{const u=this.resolve_,h=this.reject_,m=l.connection;if(l.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());sI(p)?u(p):u()}catch(p){h(p)}else if(m!==null){const p=ip();p.serverResponse=m.getErrorText(),this.errorCallback_?h(this.errorCallback_(m,p)):h(p)}else if(l.canceled){const p=this.appDelete_?VT():MT();h(p)}else{const p=OT();h(p)}};this.canceled_?t(!1,new ah(!1,null,!0)):this.backoffId_=tI(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&nI(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ah{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function lI(s,e){e!==null&&e.length>0&&(s.Authorization="Firebase "+e)}function oI(s,e){s["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function uI(s,e){e&&(s["X-Firebase-GMPID"]=e)}function cI(s,e){e!==null&&(s["X-Firebase-AppCheck"]=e)}function hI(s,e,t,i,l,u,h=!0){const m=PT(s.urlParams),p=s.url+m,_=Object.assign({},s.headers);return uI(_,e),lI(_,t),oI(_,u),cI(_,i),new rI(p,s.method,_,s.body,s.successCodes,s.additionalRetryCodes,s.handler,s.errorHandler,s.timeout,s.progressCallback,l,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dI(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function fI(...s){const e=dI();if(e!==void 0){const t=new e;for(let i=0;i<s.length;i++)t.append(s[i]);return t.getBlob()}else{if(rp())return new Blob(s);throw new ct(at.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function mI(s,e,t){return s.webkitSlice?s.webkitSlice(e,t):s.mozSlice?s.mozSlice(e,t):s.slice?s.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gI(s){if(typeof atob>"u")throw Z1("base-64");return atob(s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Cm{constructor(e,t){this.data=e,this.contentType=t||null}}function BT(s,e){switch(s){case Xn.RAW:return new Cm(HT(e));case Xn.BASE64:case Xn.BASE64URL:return new Cm(zT(s,e));case Xn.DATA_URL:return new Cm(_I(e),yI(e))}throw ip()}function HT(s){const e=[];for(let t=0;t<s.length;t++){let i=s.charCodeAt(t);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(t<s.length-1&&(s.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const u=i,h=s.charCodeAt(++t);i=65536|(u&1023)<<10|h&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function pI(s){let e;try{e=decodeURIComponent(s)}catch{throw iu(Xn.DATA_URL,"Malformed data URL.")}return HT(e)}function zT(s,e){switch(s){case Xn.BASE64:{const l=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(l||u)throw iu(s,"Invalid character '"+(l?"-":"_")+"' found: is it base64url encoded?");break}case Xn.BASE64URL:{const l=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(l||u)throw iu(s,"Invalid character '"+(l?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=gI(e)}catch(l){throw l.message.includes("polyfill")?l:iu(s,"Invalid character found")}const i=new Uint8Array(t.length);for(let l=0;l<t.length;l++)i[l]=t.charCodeAt(l);return i}class qT{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw iu(Xn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;i!=null&&(this.base64=vI(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function _I(s){const e=new qT(s);return e.base64?zT(Xn.BASE64,e.rest):pI(e.rest)}function yI(s){return new qT(s).contentType}function vI(s,e){return s.length>=e.length?s.substring(s.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e,t){let i=0,l="";Wx(e)?(this.data_=e,i=e.size,l=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=l}size(){return this.size_}type(){return this.type_}slice(e,t){if(Wx(this.data_)){const i=this.data_,l=mI(i,e,t);return l===null?null:new ta(l)}else{const i=new Uint8Array(this.data_.buffer,e,t-e);return new ta(i,!0)}}static getBlob(...e){if(rp()){const t=e.map(i=>i instanceof ta?i.data_:i);return new ta(fI.apply(null,t))}else{const t=e.map(h=>ud(h)?BT(Xn.RAW,h).data:h.data_);let i=0;t.forEach(h=>{i+=h.byteLength});const l=new Uint8Array(i);let u=0;return t.forEach(h=>{for(let m=0;m<h.length;m++)l[u++]=h[m]}),new ta(l,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(s){let e;try{e=JSON.parse(s)}catch{return null}return iI(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xI(s){if(s.length===0)return null;const e=s.lastIndexOf("/");return e===-1?"":s.slice(0,e)}function EI(s,e){const t=e.split("/").filter(i=>i.length>0).join("/");return s.length===0?t:s+"/"+t}function FT(s){const e=s.lastIndexOf("/",s.length-2);return e===-1?s:s.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TI(s,e){return e}class un{constructor(e,t,i,l){this.server=e,this.local=t||e,this.writable=!!i,this.xform=l||TI}}let ih=null;function bI(s){return!ud(s)||s.length<2?s:FT(s)}function lp(){if(ih)return ih;const s=[];s.push(new un("bucket")),s.push(new un("generation")),s.push(new un("metageneration")),s.push(new un("name","fullPath",!0));function e(u,h){return bI(h)}const t=new un("name");t.xform=e,s.push(t);function i(u,h){return h!==void 0?Number(h):h}const l=new un("size");return l.xform=i,s.push(l),s.push(new un("timeCreated")),s.push(new un("updated")),s.push(new un("md5Hash",null,!0)),s.push(new un("cacheControl",null,!0)),s.push(new un("contentDisposition",null,!0)),s.push(new un("contentEncoding",null,!0)),s.push(new un("contentLanguage",null,!0)),s.push(new un("contentType",null,!0)),s.push(new un("metadata","customMetadata",!0)),ih=s,ih}function AI(s,e){function t(){const i=s.bucket,l=s.fullPath,u=new wn(i,l);return e._makeStorageReference(u)}Object.defineProperty(s,"ref",{get:t})}function SI(s,e,t){const i={};i.type="file";const l=t.length;for(let u=0;u<l;u++){const h=t[u];i[h.local]=h.xform(i,e[h.server])}return AI(i,s),i}function GT(s,e,t){const i=KT(e);return i===null?null:SI(s,i,t)}function wI(s,e,t,i){const l=KT(e);if(l===null||!ud(l.downloadTokens))return null;const u=l.downloadTokens;if(u.length===0)return null;const h=encodeURIComponent;return u.split(",").map(_=>{const E=s.bucket,b=s.fullPath,w="/b/"+h(E)+"/o/"+h(b),N=Ll(w,t,i),j=PT({alt:"media",token:_});return N+j})[0]}function $T(s,e){const t={},i=e.length;for(let l=0;l<i;l++){const u=e[l];u.writable&&(t[u.server]=s[u.local])}return JSON.stringify(t)}class gr{constructor(e,t,i,l){this.url=e,this.method=t,this.handler=i,this.timeout=l,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function la(s){if(!s)throw ip()}function op(s,e){function t(i,l){const u=GT(s,l,e);return la(u!==null),u}return t}function RI(s,e){function t(i,l){const u=GT(s,l,e);return la(u!==null),wI(u,l,s.host,s._protocol)}return t}function wu(s){function e(t,i){let l;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?l=F1():l=K1():t.getStatus()===402?l=q1(s.bucket):t.getStatus()===403?l=G1(s.path):l=i,l.status=t.getStatus(),l.serverResponse=i.serverResponse,l}return e}function up(s){const e=wu(s);function t(i,l){let u=e(i,l);return i.getStatus()===404&&(u=z1(s.path)),u.serverResponse=l.serverResponse,u}return t}function NI(s,e,t){const i=e.fullServerUrl(),l=Ll(i,s.host,s._protocol),u="GET",h=s.maxOperationRetryTime,m=new gr(l,u,op(s,t),h);return m.errorHandler=up(e),m}function kI(s,e,t){const i=e.fullServerUrl(),l=Ll(i,s.host,s._protocol),u="GET",h=s.maxOperationRetryTime,m=new gr(l,u,RI(s,t),h);return m.errorHandler=up(e),m}function CI(s,e){const t=e.fullServerUrl(),i=Ll(t,s.host,s._protocol),l="DELETE",u=s.maxOperationRetryTime;function h(p,_){}const m=new gr(i,l,h,u);return m.successCodes=[200,204],m.errorHandler=up(e),m}function II(s,e){return s&&s.contentType||e&&e.type()||"application/octet-stream"}function QT(s,e,t){const i=Object.assign({},t);return i.fullPath=s.path,i.size=e.size(),i.contentType||(i.contentType=II(null,e)),i}function YT(s,e,t,i,l){const u=e.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"};function m(){let $="";for(let Z=0;Z<2;Z++)$=$+Math.random().toString().slice(2);return $}const p=m();h["Content-Type"]="multipart/related; boundary="+p;const _=QT(e,i,l),E=$T(_,t),b="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+E+`\r
--`+p+`\r
Content-Type: `+_.contentType+`\r
\r
`,w=`\r
--`+p+"--",N=ta.getBlob(b,i,w);if(N===null)throw LT();const j={name:_.fullPath},z=Ll(u,s.host,s._protocol),P="POST",K=s.maxUploadRetryTime,H=new gr(z,P,op(s,t),K);return H.urlParams=j,H.headers=h,H.body=N.uploadData(),H.errorHandler=wu(e),H}class Mh{constructor(e,t,i,l){this.current=e,this.total=t,this.finalized=!!i,this.metadata=l||null}}function cp(s,e){let t=null;try{t=s.getResponseHeader("X-Goog-Upload-Status")}catch{la(!1)}return la(!!t&&(e||["active"]).indexOf(t)!==-1),t}function jI(s,e,t,i,l){const u=e.bucketOnlyServerUrl(),h=QT(e,i,l),m={name:h.fullPath},p=Ll(u,s.host,s._protocol),_="POST",E={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":h.contentType,"Content-Type":"application/json; charset=utf-8"},b=$T(h,t),w=s.maxUploadRetryTime;function N(z){cp(z);let P;try{P=z.getResponseHeader("X-Goog-Upload-URL")}catch{la(!1)}return la(ud(P)),P}const j=new gr(p,_,N,w);return j.urlParams=m,j.headers=E,j.body=b,j.errorHandler=wu(e),j}function DI(s,e,t,i){const l={"X-Goog-Upload-Command":"query"};function u(_){const E=cp(_,["active","final"]);let b=null;try{b=_.getResponseHeader("X-Goog-Upload-Size-Received")}catch{la(!1)}b||la(!1);const w=Number(b);return la(!isNaN(w)),new Mh(w,i.size(),E==="final")}const h="POST",m=s.maxUploadRetryTime,p=new gr(t,h,u,m);return p.headers=l,p.errorHandler=wu(e),p}const Zx=256*1024;function OI(s,e,t,i,l,u,h,m){const p=new Mh(0,0);if(h?(p.current=h.current,p.total=h.total):(p.current=0,p.total=i.size()),i.size()!==p.total)throw W1();const _=p.total-p.current;let E=_;l>0&&(E=Math.min(E,l));const b=p.current,w=b+E;let N="";E===0?N="finalize":_===E?N="upload, finalize":N="upload";const j={"X-Goog-Upload-Command":N,"X-Goog-Upload-Offset":`${p.current}`},z=i.slice(b,w);if(z===null)throw LT();function P(Z,ee){const ie=cp(Z,["active","final"]),O=p.current+E,R=i.size();let A;return ie==="final"?A=op(e,u)(Z,ee):A=null,new Mh(O,R,ie==="final",A)}const K="POST",H=e.maxUploadRetryTime,$=new gr(t,K,P,H);return $.headers=j,$.body=z.uploadData(),$.progressCallback=m||null,$.errorHandler=wu(s),$}const gn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Im(s){switch(s){case"running":case"pausing":case"canceling":return gn.RUNNING;case"paused":return gn.PAUSED;case"success":return gn.SUCCESS;case"canceled":return gn.CANCELED;case"error":return gn.ERROR;default:return gn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(e,t,i){if(aI(e)||t!=null||i!=null)this.next=e,this.error=t??void 0,this.complete=i??void 0;else{const u=e;this.next=u.next,this.error=u.error,this.complete=u.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ul(s){return(...e)=>{Promise.resolve().then(()=>s(...e))}}class LI{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=nr.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=nr.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=nr.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,l){if(this.sent_)throw Qo("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),l!==void 0)for(const u in l)l.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,l[u].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Qo("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Qo("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Qo("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Qo("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class VI extends LI{initXhr(){this.xhr_.responseType="text"}}function Ja(){return new VI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,t,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=i,this._mappings=lp(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=l=>{if(this._request=void 0,this._chunkMultiplier=1,l._codeEquals(at.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const u=this.isExponentialBackoffExpired();if(UT(l.status,[]))if(u)l=OT();else{this.sleepTime=Math.max(this.sleepTime*2,H1),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=l,this._transition("error")}},this._metadataErrorHandler=l=>{this._request=void 0,l._codeEquals(at.CANCELED)?this.completeTransitions_():(this._error=l,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((l,u)=>{this._resolve=l,this._reject=u,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,i])=>{switch(this._state){case"running":e(t,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,t)=>{const i=jI(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),l=this._ref.storage._makeRequest(i,Ja,e,t);this._request=l,l.getPromise().then(u=>{this._request=void 0,this._uploadUrl=u,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,i)=>{const l=DI(this._ref.storage,this._ref._location,e,this._blob),u=this._ref.storage._makeRequest(l,Ja,t,i);this._request=u,u.getPromise().then(h=>{h=h,this._request=void 0,this._updateProgress(h.current),this._needToFetchStatus=!1,h.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=Zx*this._chunkMultiplier,t=new Mh(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((l,u)=>{let h;try{h=OI(this._ref._location,this._ref.storage,i,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(p){this._error=p,this._transition("error");return}const m=this._ref.storage._makeRequest(h,Ja,l,u,!1);this._request=m,m.getPromise().then(p=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(p.current),p.finalized?(this._metadata=p.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){Zx*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const i=NI(this._ref.storage,this._ref._location,this._mappings),l=this._ref.storage._makeRequest(i,Ja,e,t);this._request=l,l.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const i=YT(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),l=this._ref.storage._makeRequest(i,Ja,e,t);this._request=l,l.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t=this._state==="paused";this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=MT(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Im(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,i,l){const u=new MI(t||void 0,i||void 0,l||void 0);return this._addObserver(u),()=>{this._removeObserver(u)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);t!==-1&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Im(this._state)){case gn.SUCCESS:ul(this._resolve.bind(null,this.snapshot))();break;case gn.CANCELED:case gn.ERROR:const t=this._reject;ul(t.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Im(this._state)){case gn.RUNNING:case gn.PAUSED:e.next&&ul(e.next.bind(e,this.snapshot))();break;case gn.SUCCESS:e.complete&&ul(e.complete.bind(e))();break;case gn.CANCELED:case gn.ERROR:e.error&&ul(e.error.bind(e,this._error))();break;default:e.error&&ul(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e,t){this._service=e,t instanceof wn?this._location=t:this._location=wn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new lr(e,t)}get root(){const e=new wn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return FT(this._location.path)}get storage(){return this._service}get parent(){const e=xI(this._location.path);if(e===null)return null;const t=new wn(this._location.bucket,e);return new lr(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw J1(e)}}function UI(s,e,t){s._throwIfRoot("uploadBytes");const i=YT(s.storage,s._location,lp(),new ta(e,!0),t);return s.storage.makeRequestWithTokens(i,Ja).then(l=>({metadata:l,ref:s}))}function BI(s,e,t){return s._throwIfRoot("uploadBytesResumable"),new PI(s,new ta(e),t)}function HI(s,e,t=Xn.RAW,i){s._throwIfRoot("uploadString");const l=BT(t,e),u=Object.assign({},i);return u.contentType==null&&l.contentType!=null&&(u.contentType=l.contentType),UI(s,l.data,u)}function zI(s){s._throwIfRoot("getDownloadURL");const e=kI(s.storage,s._location,lp());return s.storage.makeRequestWithTokens(e,Ja).then(t=>{if(t===null)throw X1();return t})}function qI(s){s._throwIfRoot("deleteObject");const e=CI(s.storage,s._location);return s.storage.makeRequestWithTokens(e,Ja)}function KI(s,e){const t=EI(s._location.path,e),i=new wn(s._location.bucket,t);return new lr(s.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FI(s){return/^[A-Za-z]+:\/\//.test(s)}function GI(s,e){return new lr(s,e)}function WT(s,e){if(s instanceof hp){const t=s;if(t._bucket==null)throw Y1();const i=new lr(t,t._bucket);return e!=null?WT(i,e):i}else return e!==void 0?KI(s,e):s}function $I(s,e){if(e&&FI(e)){if(s instanceof hp)return GI(s,e);throw ag("To use ref(service, url), the first argument must be a Storage instance.")}else return WT(s,e)}function Jx(s,e){const t=e==null?void 0:e[DT];return t==null?null:wn.makeFromBucketSpec(t,s)}function QI(s,e,t,i={}){s.host=`${e}:${t}`,s._protocol="http";const{mockUserToken:l}=i;l&&(s._overrideAuthToken=typeof l=="string"?l:K0(l,s.app.options.projectId))}class hp{constructor(e,t,i,l,u){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=l,this._firebaseVersion=u,this._bucket=null,this._host=jT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=U1,this._maxUploadRetryTime=B1,this._requests=new Set,l!=null?this._bucket=wn.makeFromBucketSpec(l,this._host):this._bucket=Jx(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=wn.makeFromBucketSpec(this._url,e):this._bucket=Jx(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Xx("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Xx("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(An(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new lr(this,e)}_makeRequest(e,t,i,l,u=!0){if(this._deleted)return new eI(VT());{const h=hI(e,this._appId,i,l,t,this._firebaseVersion,u);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,t){const[i,l]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,l).getPromise()}}const e0="@firebase/storage",t0="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT="storage";function YI(s,e,t,i){return s=st(s),HI(s,e,t,i)}function WI(s,e,t){return s=st(s),BI(s,e,t)}function ZT(s){return s=st(s),zI(s)}function XI(s){return s=st(s),qI(s)}function dp(s,e){return s=st(s),$I(s,e)}function ZI(s=xg(),e){s=st(s);const i=Kh(s,XT).getImmediate({identifier:e}),l=H0("storage");return l&&JI(i,...l),i}function JI(s,e,t,i={}){QI(s,e,t,i)}function ej(s,{instanceIdentifier:e}){const t=s.getProvider("app").getImmediate(),i=s.getProvider("auth-internal"),l=s.getProvider("app-check-internal");return new hp(t,i,l,e,cr)}function tj(){ar(new ci(XT,ej,"PUBLIC").setMultipleInstances(!0)),Es(e0,t0,""),Es(e0,t0,"esm2017")}tj();function fp(s,e){var t={};for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&e.indexOf(i)<0&&(t[i]=s[i]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(s);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(s,i[l])&&(t[i[l]]=s[i[l]]);return t}function JT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const nj=JT,eb=new vu("auth","Firebase",JT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lh=new yg("@firebase/auth");function sj(s,...e){Lh.logLevel<=Me.WARN&&Lh.warn(`Auth (${cr}): ${s}`,...e)}function ph(s,...e){Lh.logLevel<=Me.ERROR&&Lh.error(`Auth (${cr}): ${s}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(s,...e){throw mp(s,...e)}function As(s,...e){return mp(s,...e)}function tb(s,e,t){const i=Object.assign(Object.assign({},nj()),{[e]:t});return new vu("auth","Firebase",i).create(e,{appName:s.name})}function oa(s){return tb(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mp(s,...e){if(typeof s!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=s.name),s._errorFactory.create(t,...i)}return eb.create(s,...e)}function Te(s,e,...t){if(!s)throw mp(e,...t)}function na(s){const e="INTERNAL ASSERTION FAILED: "+s;throw ph(e),new Error(e)}function da(s,e){s||na(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ig(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.href)||""}function aj(){return n0()==="http:"||n0()==="https:"}function n0(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ij(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(aj()||nR()||"connection"in navigator)?navigator.onLine:!0}function rj(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e,t){this.shortDelay=e,this.longDelay=t,da(t>e,"Short delay should be less than long delay!"),this.isMobile=Jw()||sR()}get(){return ij()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gp(s,e){da(s.emulator,"Emulator should always be set here");const{url:t}=s.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;na("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;na("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;na("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oj=new Ru(3e4,6e4);function Ei(s,e){return s.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:s.tenantId}):e}async function ma(s,e,t,i,l={}){return sb(s,l,async()=>{let u={},h={};i&&(e==="GET"?h=i:u={body:JSON.stringify(i)});const m=xu(Object.assign({key:s.config.apiKey},h)).slice(1),p=await s._getAdditionalHeaders();p["Content-Type"]="application/json",s.languageCode&&(p["X-Firebase-Locale"]=s.languageCode);const _=Object.assign({method:e,headers:p},u);return tR()||(_.referrerPolicy="no-referrer"),nb.fetch()(ab(s,s.config.apiHost,t,m),_)})}async function sb(s,e,t){s._canInitEmulator=!1;const i=Object.assign(Object.assign({},lj),e);try{const l=new cj(s),u=await Promise.race([t(),l.promise]);l.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw rh(s,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,_]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw rh(s,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw rh(s,"email-already-in-use",h);if(p==="USER_DISABLED")throw rh(s,"user-disabled",h);const E=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw tb(s,E,_);ts(s,E)}}catch(l){if(l instanceof Rs)throw l;ts(s,"network-request-failed",{message:String(l)})}}async function Nu(s,e,t,i,l={}){const u=await ma(s,e,t,i,l);return"mfaPendingCredential"in u&&ts(s,"multi-factor-auth-required",{_serverResponse:u}),u}function ab(s,e,t,i){const l=`${e}${t}?${i}`;return s.config.emulator?gp(s.config,l):`${s.config.apiScheme}://${l}`}function uj(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class cj{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(As(this.auth,"network-request-failed")),oj.get())})}}function rh(s,e,t){const i={appName:s.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const l=As(s,e,i);return l.customData._tokenResponse=t,l}function s0(s){return s!==void 0&&s.enterprise!==void 0}class hj{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return uj(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function dj(s,e){return ma(s,"GET","/v2/recaptchaConfig",Ei(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fj(s,e){return ma(s,"POST","/v1/accounts:delete",e)}async function ib(s,e){return ma(s,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ru(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function mj(s,e=!1){const t=st(s),i=await t.getIdToken(e),l=pp(i);Te(l&&l.exp&&l.auth_time&&l.iat,t.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:l,token:i,authTime:ru(jm(l.auth_time)),issuedAtTime:ru(jm(l.iat)),expirationTime:ru(jm(l.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function jm(s){return Number(s)*1e3}function pp(s){const[e,t,i]=s.split(".");if(e===void 0||t===void 0||i===void 0)return ph("JWT malformed, contained fewer than 3 sections"),null;try{const l=U0(t);return l?JSON.parse(l):(ph("Failed to decode base64 JWT payload"),null)}catch(l){return ph("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function a0(s){const e=pp(s);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wl(s,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Rs&&gj(i)&&s.auth.currentUser===s&&await s.auth.signOut(),i}}function gj({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const l=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ru(this.lastLoginAt),this.creationTime=ru(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vh(s){var e;const t=s.auth,i=await s.getIdToken(),l=await wl(s,ib(t,{idToken:i}));Te(l==null?void 0:l.users.length,t,"internal-error");const u=l.users[0];s._notifyReloadListener(u);const h=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?rb(u.providerUserInfo):[],m=yj(s.providerData,h),p=s.isAnonymous,_=!(s.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?_:!1,b={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new rg(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(s,b)}async function _j(s){const e=st(s);await Vh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function yj(s,e){return[...s.filter(i=>!e.some(l=>l.providerId===i.providerId)),...e]}function rb(s){return s.map(e=>{var{providerId:t}=e,i=fp(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vj(s,e){const t=await sb(s,{},async()=>{const i=xu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:u}=s.config,h=ab(s,l,"/v1/token",`key=${u}`),m=await s._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",nb.fetch()(h,{method:"POST",headers:m,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function xj(s,e){return ma(s,"POST","/v2/accounts:revokeToken",Ei(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):a0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const t=a0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:l,expiresIn:u}=await vj(e,t);this.updateTokensAndExpiration(i,l,Number(u))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:l,expirationTime:u}=t,h=new pl;return i&&(Te(typeof i=="string","internal-error",{appName:e}),h.refreshToken=i),l&&(Te(typeof l=="string","internal-error",{appName:e}),h.accessToken=l),u&&(Te(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new pl,this.toJSON())}_performRefresh(){return na("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Za(s,e){Te(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class sa{constructor(e){var{uid:t,auth:i,stsTokenManager:l}=e,u=fp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new pj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new rg(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const t=await wl(this,this.stsTokenManager.getToken(this.auth,e));return Te(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return mj(this,e)}reload(){return _j(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new sa(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Vh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(An(this.auth.app))return Promise.reject(oa(this.auth));const e=await this.getIdToken();return await wl(this,fj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,l,u,h,m,p,_,E;const b=(i=t.displayName)!==null&&i!==void 0?i:void 0,w=(l=t.email)!==null&&l!==void 0?l:void 0,N=(u=t.phoneNumber)!==null&&u!==void 0?u:void 0,j=(h=t.photoURL)!==null&&h!==void 0?h:void 0,z=(m=t.tenantId)!==null&&m!==void 0?m:void 0,P=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,K=(_=t.createdAt)!==null&&_!==void 0?_:void 0,H=(E=t.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:$,emailVerified:Z,isAnonymous:ee,providerData:ie,stsTokenManager:O}=t;Te($&&O,e,"internal-error");const R=pl.fromJSON(this.name,O);Te(typeof $=="string",e,"internal-error"),Za(b,e.name),Za(w,e.name),Te(typeof Z=="boolean",e,"internal-error"),Te(typeof ee=="boolean",e,"internal-error"),Za(N,e.name),Za(j,e.name),Za(z,e.name),Za(P,e.name),Za(K,e.name),Za(H,e.name);const A=new sa({uid:$,auth:e,email:w,emailVerified:Z,displayName:b,isAnonymous:ee,photoURL:j,phoneNumber:N,tenantId:z,stsTokenManager:R,createdAt:K,lastLoginAt:H});return ie&&Array.isArray(ie)&&(A.providerData=ie.map(C=>Object.assign({},C))),P&&(A._redirectEventId=P),A}static async _fromIdTokenResponse(e,t,i=!1){const l=new pl;l.updateFromServerResponse(t);const u=new sa({uid:t.localId,auth:e,stsTokenManager:l,isAnonymous:i});return await Vh(u),u}static async _fromGetAccountInfoResponse(e,t,i){const l=t.users[0];Te(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?rb(l.providerUserInfo):[],h=!(l.email&&l.passwordHash)&&!(u!=null&&u.length),m=new pl;m.updateFromIdToken(i);const p=new sa({uid:l.localId,auth:e,stsTokenManager:m,isAnonymous:h}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new rg(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,_),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0=new Map;function aa(s){da(s instanceof Function,"Expected a class definition");let e=i0.get(s);return e?(da(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,i0.set(s,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}lb.type="NONE";const r0=lb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _h(s,e,t){return`firebase:${s}:${e}:${t}`}class _l{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:l,name:u}=this.auth;this.fullUserKey=_h(this.userKey,l.apiKey,u),this.fullPersistenceKey=_h("persistence",l.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?sa._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new _l(aa(r0),e,i);const l=(await Promise.all(t.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let u=l[0]||aa(r0);const h=_h(i,e.config.apiKey,e.name);let m=null;for(const _ of t)try{const E=await _._get(h);if(E){const b=sa._fromJSON(e,E);_!==u&&(m=b),u=_;break}}catch{}const p=l.filter(_=>_._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new _l(u,e,i):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(t.map(async _=>{if(_!==u)try{await _._remove(h)}catch{}})),new _l(u,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l0(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(hb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ob(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(fb(e))return"Blackberry";if(mb(e))return"Webos";if(ub(e))return"Safari";if((e.includes("chrome/")||cb(e))&&!e.includes("edge/"))return"Chrome";if(db(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=s.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function ob(s=tn()){return/firefox\//i.test(s)}function ub(s=tn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function cb(s=tn()){return/crios\//i.test(s)}function hb(s=tn()){return/iemobile/i.test(s)}function db(s=tn()){return/android/i.test(s)}function fb(s=tn()){return/blackberry/i.test(s)}function mb(s=tn()){return/webos/i.test(s)}function _p(s=tn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function Ej(s=tn()){var e;return _p(s)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Tj(){return aR()&&document.documentMode===10}function gb(s=tn()){return _p(s)||db(s)||mb(s)||fb(s)||/windows phone/i.test(s)||hb(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pb(s,e=[]){let t;switch(s){case"Browser":t=l0(tn());break;case"Worker":t=`${l0(tn())}-${s}`;break;default:t=s}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${cr}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=u=>new Promise((h,m)=>{try{const p=e(u);h(p)}catch(p){m(p)}});i.onAbort=t,this.queue.push(i);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const l of t)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Aj(s,e={}){return ma(s,"GET","/v2/passwordPolicy",Ei(s,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sj=6;class wj{constructor(e){var t,i,l,u;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:Sj,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,l,u,h,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(l=p.containsLowercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),l&&(t.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let l=0;l<e.length;l++)i=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,l,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rj{constructor(e,t,i,l){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new o0(this),this.idTokenSubscription=new o0(this),this.beforeStateQueue=new bj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=eb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=aa(t)),this._initializationPromise=this.queue(async()=>{var i,l;if(!this._deleted&&(this.persistenceManager=await _l.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await ib(this,{idToken:e}),i=await sa._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(An(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let l=i,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,m=l==null?void 0:l._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===m)&&(p!=null&&p.user)&&(l=p.user,u=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(l)}catch(h){l=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Vh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=rj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(An(this.app))return Promise.reject(oa(this));const t=e?st(e):null;return t&&Te(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return An(this.app)?Promise.reject(oa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return An(this.app)?Promise.reject(oa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(aa(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Aj(this),t=new wj(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new vu("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await xj(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&aa(e)||this._popupRedirectResolver;Te(t,this,"argument-error"),this.redirectPersistenceManager=await _l.create(this,[aa(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,l){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,l);return()=>{h=!0,p()}}else{const p=e.addObserver(t);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=pb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const l=await this._getAppCheckToken();return l&&(t["X-Firebase-AppCheck"]=l),t}async _getAppCheckToken(){var e;if(An(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&sj(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function pr(s){return st(s)}class o0{constructor(e){this.auth=e,this.observer=null,this.addObserver=dR(t=>this.observer=t)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Nj(s){cd=s}function _b(s){return cd.loadJS(s)}function kj(){return cd.recaptchaEnterpriseScript}function Cj(){return cd.gapiScript}function Ij(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class jj{constructor(){this.enterprise=new Dj}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Dj{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Oj="recaptcha-enterprise",yb="NO_RECAPTCHA";class Mj{constructor(e){this.type=Oj,this.auth=pr(e)}async verify(e="verify",t=!1){async function i(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{dj(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const _=new hj(p);return u.tenantId==null?u._agentRecaptchaConfig=_:u._tenantRecaptchaConfigs[u.tenantId]=_,h(_.siteKey)}}).catch(p=>{m(p)})})}function l(u,h,m){const p=window.grecaptcha;s0(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(_=>{h(_)}).catch(()=>{h(yb)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new jj().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{i(this.auth).then(m=>{if(!t&&s0(window.grecaptcha))l(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=kj();p.length!==0&&(p+=m),_b(p).then(()=>{l(m,u,h)}).catch(_=>{h(_)})}}).catch(m=>{h(m)})})}}async function u0(s,e,t,i=!1,l=!1){const u=new Mj(s);let h;if(l)h=yb;else try{h=await u.verify(t)}catch{h=await u.verify(t,!0)}const m=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,_=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:_,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return i?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function lg(s,e,t,i,l){var u;if(!((u=s._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await u0(s,e,t,t==="getOobCode");return i(s,h)}else return i(s,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await u0(s,e,t,t==="getOobCode");return i(s,m)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lj(s,e){const t=Kh(s,"auth");if(t.isInitialized()){const l=t.getImmediate(),u=t.getOptions();if(sr(u,e??{}))return l;ts(l,"already-initialized")}return t.initialize({options:e})}function Vj(s,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(aa);e!=null&&e.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function Pj(s,e,t){const i=pr(s);Te(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const l=!1,u=vb(e),{host:h,port:m}=Uj(e),p=m===null?"":`:${m}`,_={url:`${u}//${h}${p}/`},E=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!i._canInitEmulator){Te(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Te(sr(_,i.config.emulator)&&sr(E,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=_,i.emulatorConfig=E,i.settings.appVerificationDisabledForTesting=!0,Bj()}function vb(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function Uj(s){const e=vb(s),t=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(i);if(l){const u=l[1];return{host:u,port:c0(i.substr(u.length+1))}}else{const[u,h]=i.split(":");return{host:u,port:c0(h)}}}function c0(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function Bj(){function s(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return na("not implemented")}_getIdTokenResponse(e){return na("not implemented")}_linkToIdToken(e,t){return na("not implemented")}_getReauthenticationResolver(e){return na("not implemented")}}async function Hj(s,e){return ma(s,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zj(s,e){return Nu(s,"POST","/v1/accounts:signInWithPassword",Ei(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qj(s,e){return Nu(s,"POST","/v1/accounts:signInWithEmailLink",Ei(s,e))}async function Kj(s,e){return Nu(s,"POST","/v1/accounts:signInWithEmailLink",Ei(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu extends yp{constructor(e,t,i,l=null){super("password",i),this._email=e,this._password=t,this._tenantId=l}static _fromEmailAndPassword(e,t){return new pu(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new pu(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return lg(e,t,"signInWithPassword",zj);case"emailLink":return qj(e,{email:this._email,oobCode:this._password});default:ts(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return lg(e,i,"signUpPassword",Hj);case"emailLink":return Kj(e,{idToken:t,email:this._email,oobCode:this._password});default:ts(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yl(s,e){return Nu(s,"POST","/v1/accounts:signInWithIdp",Ei(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fj="http://localhost";class or extends yp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new or(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ts("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:l}=t,u=fp(t,["providerId","signInMethod"]);if(!i||!l)return null;const h=new or(i,l);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return yl(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,yl(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,yl(e,t)}buildRequest(){const e={requestUri:Fj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=xu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gj(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function $j(s){const e=Yo(Wo(s)).link,t=e?Yo(Wo(e)).deep_link_id:null,i=Yo(Wo(s)).deep_link_id;return(i?Yo(Wo(i)).link:null)||i||t||e||s}class vp{constructor(e){var t,i,l,u,h,m;const p=Yo(Wo(e)),_=(t=p.apiKey)!==null&&t!==void 0?t:null,E=(i=p.oobCode)!==null&&i!==void 0?i:null,b=Gj((l=p.mode)!==null&&l!==void 0?l:null);Te(_&&E&&b,"argument-error"),this.apiKey=_,this.operation=b,this.code=E,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(h=p.languageCode)!==null&&h!==void 0?h:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const t=$j(e);try{return new vp(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(){this.providerId=Vl.PROVIDER_ID}static credential(e,t){return pu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=vp.parseLink(t);return Te(i,"argument-error"),pu._fromEmailAndCode(e,i.code,i.tenantId)}}Vl.PROVIDER_ID="password";Vl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Vl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku extends xb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei extends ku{constructor(){super("facebook.com")}static credential(e){return or._fromParams({providerId:ei.PROVIDER_ID,signInMethod:ei.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ei.credentialFromTaggedObject(e)}static credentialFromError(e){return ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ei.credential(e.oauthAccessToken)}catch{return null}}}ei.FACEBOOK_SIGN_IN_METHOD="facebook.com";ei.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti extends ku{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return or._fromParams({providerId:ti.PROVIDER_ID,signInMethod:ti.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ti.credentialFromTaggedObject(e)}static credentialFromError(e){return ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return ti.credential(t,i)}catch{return null}}}ti.GOOGLE_SIGN_IN_METHOD="google.com";ti.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni extends ku{constructor(){super("github.com")}static credential(e){return or._fromParams({providerId:ni.PROVIDER_ID,signInMethod:ni.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ni.credentialFromTaggedObject(e)}static credentialFromError(e){return ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ni.credential(e.oauthAccessToken)}catch{return null}}}ni.GITHUB_SIGN_IN_METHOD="github.com";ni.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si extends ku{constructor(){super("twitter.com")}static credential(e,t){return or._fromParams({providerId:si.PROVIDER_ID,signInMethod:si.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return si.credentialFromTaggedObject(e)}static credentialFromError(e){return si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return si.credential(t,i)}catch{return null}}}si.TWITTER_SIGN_IN_METHOD="twitter.com";si.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qj(s,e){return Nu(s,"POST","/v1/accounts:signUp",Ei(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,l=!1){const u=await sa._fromIdTokenResponse(e,i,l),h=h0(i);return new ur({user:u,providerId:h,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const l=h0(i);return new ur({user:e,providerId:l,_tokenResponse:i,operationType:t})}}function h0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph extends Rs{constructor(e,t,i,l){var u;super(t.code,t.message),this.operationType=i,this.user=l,Object.setPrototypeOf(this,Ph.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,l){return new Ph(e,t,i,l)}}function Eb(s,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(s):t._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Ph._fromErrorAndOperation(s,u,e,i):u})}async function Yj(s,e,t=!1){const i=await wl(s,e._linkToIdToken(s.auth,await s.getIdToken()),t);return ur._forOperation(s,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wj(s,e,t=!1){const{auth:i}=s;if(An(i.app))return Promise.reject(oa(i));const l="reauthenticate";try{const u=await wl(s,Eb(i,l,e,s),t);Te(u.idToken,i,"internal-error");const h=pp(u.idToken);Te(h,i,"internal-error");const{sub:m}=h;return Te(s.uid===m,i,"user-mismatch"),ur._forOperation(s,l,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&ts(i,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tb(s,e,t=!1){if(An(s.app))return Promise.reject(oa(s));const i="signIn",l=await Eb(s,i,e),u=await ur._fromIdTokenResponse(s,i,l);return t||await s._updateCurrentUser(u.user),u}async function Xj(s,e){return Tb(pr(s),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bb(s){const e=pr(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Zj(s,e,t){if(An(s.app))return Promise.reject(oa(s));const i=pr(s),h=await lg(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Qj).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&bb(s),p}),m=await ur._fromIdTokenResponse(i,"signIn",h);return await i._updateCurrentUser(m.user),m}function Jj(s,e,t){return An(s.app)?Promise.reject(oa(s)):Xj(st(s),Vl.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&bb(s),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e2(s,e){return ma(s,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t2(s,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const i=st(s),u={idToken:await i.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},h=await wl(i,e2(i.auth,u));i.displayName=h.displayName||null,i.photoURL=h.photoUrl||null;const m=i.providerData.find(({providerId:p})=>p==="password");m&&(m.displayName=i.displayName,m.photoURL=i.photoURL),await i._updateTokensIfNecessary(h)}function n2(s,e,t,i){return st(s).onIdTokenChanged(e,t,i)}function s2(s,e,t){return st(s).beforeAuthStateChanged(e,t)}function a2(s,e,t,i){return st(s).onAuthStateChanged(e,t,i)}function i2(s){return st(s).signOut()}const Uh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Uh,"1"),this.storage.removeItem(Uh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2=1e3,l2=10;class Sb extends Ab{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=gb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),l=this.localCache[t];i!==l&&e(t,l,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const l=()=>{const h=this.storage.getItem(i);!t&&this.localCache[i]===h||this.notifyListeners(i,h)},u=this.storage.getItem(i);Tj()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,l2):l()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const l of Array.from(i))l(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},r2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Sb.type="LOCAL";const o2=Sb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb extends Ab{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}wb.type="SESSION";const Rb=wb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u2(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(l=>l.isListeningto(e));if(t)return t;const i=new hd(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:l,data:u}=t.data,h=this.handlersMap[l];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:l});const m=Array.from(h).map(async _=>_(t.origin,u)),p=await u2(m);t.ports[0].postMessage({status:"done",eventId:i,eventType:l,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xp(s="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return s+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const _=xp("",20);l.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},i);h={messageChannel:l,onMessage(b){const w=b;if(w.data.eventId===_)switch(w.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),l.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:_,data:t},[l.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ss(){return window}function h2(s){Ss().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nb(){return typeof Ss().WorkerGlobalScope<"u"&&typeof Ss().importScripts=="function"}async function d2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function f2(){var s;return((s=navigator==null?void 0:navigator.serviceWorker)===null||s===void 0?void 0:s.controller)||null}function m2(){return Nb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb="firebaseLocalStorageDb",g2=1,Bh="firebaseLocalStorage",Cb="fbase_key";class Cu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function dd(s,e){return s.transaction([Bh],e?"readwrite":"readonly").objectStore(Bh)}function p2(){const s=indexedDB.deleteDatabase(kb);return new Cu(s).toPromise()}function og(){const s=indexedDB.open(kb,g2);return new Promise((e,t)=>{s.addEventListener("error",()=>{t(s.error)}),s.addEventListener("upgradeneeded",()=>{const i=s.result;try{i.createObjectStore(Bh,{keyPath:Cb})}catch(l){t(l)}}),s.addEventListener("success",async()=>{const i=s.result;i.objectStoreNames.contains(Bh)?e(i):(i.close(),await p2(),e(await og()))})})}async function d0(s,e,t){const i=dd(s,!0).put({[Cb]:e,value:t});return new Cu(i).toPromise()}async function _2(s,e){const t=dd(s,!1).get(e),i=await new Cu(t).toPromise();return i===void 0?null:i.value}function f0(s,e){const t=dd(s,!0).delete(e);return new Cu(t).toPromise()}const y2=800,v2=3;class Ib{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await og(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>v2)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Nb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hd._getInstance(m2()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await d2(),!this.activeServiceWorker)return;this.sender=new c2(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||f2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await og();return await d0(e,Uh,"1"),await f0(e,Uh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>d0(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>_2(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>f0(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const u=dd(l,!1).getAll();return new Cu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:l,value:u}of e)i.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),t.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!i.has(l)&&(this.notifyListeners(l,null),t.push(l));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const l of Array.from(i))l(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),y2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Ib.type="LOCAL";const x2=Ib;new Ru(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E2(s,e){return e?aa(e):(Te(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep extends yp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return yl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return yl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return yl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function T2(s){return Tb(s.auth,new Ep(s),s.bypassAuthState)}function b2(s){const{auth:e,user:t}=s;return Te(t,e,"internal-error"),Wj(t,new Ep(s),s.bypassAuthState)}async function A2(s){const{auth:e,user:t}=s;return Te(t,e,"internal-error"),Yj(t,new Ep(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(e,t,i,l,u=!1){this.auth=e,this.resolver=i,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:l,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return T2;case"linkViaPopup":case"linkViaRedirect":return A2;case"reauthViaPopup":case"reauthViaRedirect":return b2;default:ts(this.auth,"internal-error")}}resolve(e){da(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){da(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2=new Ru(2e3,1e4);class ml extends jb{constructor(e,t,i,l,u){super(e,t,l,u),this.provider=i,this.authWindow=null,this.pollId=null,ml.currentPopupAction&&ml.currentPopupAction.cancel(),ml.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){da(this.filter.length===1,"Popup operations only handle one event");const e=xp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(As(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(As(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ml.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(As(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,S2.get())};e()}}ml.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2="pendingRedirect",yh=new Map;class R2 extends jb{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=yh.get(this.auth._key());if(!e){try{const i=await N2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}yh.set(this.auth._key(),e)}return this.bypassAuthState||yh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function N2(s,e){const t=I2(e),i=C2(s);if(!await i._isAvailable())return!1;const l=await i._get(t)==="true";return await i._remove(t),l}function k2(s,e){yh.set(s._key(),e)}function C2(s){return aa(s._redirectPersistence)}function I2(s){return _h(w2,s.config.apiKey,s.name)}async function j2(s,e,t=!1){if(An(s.app))return Promise.reject(oa(s));const i=pr(s),l=E2(i,e),h=await new R2(i,l,t).execute();return h&&!t&&(delete h.user._redirectEventId,await i._persistUserIfCurrent(h.user),await i._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2=10*60*1e3;class O2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!M2(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!Db(e)){const l=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(As(this.auth,l))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=D2&&this.cachedEventUids.clear(),this.cachedEventUids.has(m0(e))}saveEventToCache(e){this.cachedEventUids.add(m0(e)),this.lastProcessedEventTime=Date.now()}}function m0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function Db({type:s,error:e}){return s==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function M2(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Db(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L2(s,e={}){return ma(s,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,P2=/^https?/;async function U2(s){if(s.config.emulator)return;const{authorizedDomains:e}=await L2(s);for(const t of e)try{if(B2(t))return}catch{}ts(s,"unauthorized-domain")}function B2(s){const e=ig(),{protocol:t,hostname:i}=new URL(e);if(s.startsWith("chrome-extension://")){const h=new URL(s);return h.hostname===""&&i===""?t==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===i}if(!P2.test(t))return!1;if(V2.test(s))return i===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2=new Ru(3e4,6e4);function g0(){const s=Ss().___jsl;if(s!=null&&s.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let t=0;t<s.CP.length;t++)s.CP[t]=null}}function z2(s){return new Promise((e,t)=>{var i,l,u;function h(){g0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{g0(),t(As(s,"network-request-failed"))},timeout:H2.get()})}if(!((l=(i=Ss().gapi)===null||i===void 0?void 0:i.iframes)===null||l===void 0)&&l.Iframe)e(gapi.iframes.getContext());else if(!((u=Ss().gapi)===null||u===void 0)&&u.load)h();else{const m=Ij("iframefcb");return Ss()[m]=()=>{gapi.load?h():t(As(s,"network-request-failed"))},_b(`${Cj()}?onload=${m}`).catch(p=>t(p))}}).catch(e=>{throw vh=null,e})}let vh=null;function q2(s){return vh=vh||z2(s),vh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2=new Ru(5e3,15e3),F2="__/auth/iframe",G2="emulator/auth/iframe",$2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Q2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Y2(s){const e=s.config;Te(e.authDomain,s,"auth-domain-config-required");const t=e.emulator?gp(e,G2):`https://${s.config.authDomain}/${F2}`,i={apiKey:e.apiKey,appName:s.name,v:cr},l=Q2.get(s.config.apiHost);l&&(i.eid=l);const u=s._getFrameworks();return u.length&&(i.fw=u.join(",")),`${t}?${xu(i).slice(1)}`}async function W2(s){const e=await q2(s),t=Ss().gapi;return Te(t,s,"internal-error"),e.open({where:document.body,url:Y2(s),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$2,dontclear:!0},i=>new Promise(async(l,u)=>{await i.restyle({setHideOnLeave:!1});const h=As(s,"network-request-failed"),m=Ss().setTimeout(()=>{u(h)},K2.get());function p(){Ss().clearTimeout(m),l(i)}i.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Z2=500,J2=600,eD="_blank",tD="http://localhost";class p0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function nD(s,e,t,i=Z2,l=J2){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),h=Math.max((window.screen.availWidth-i)/2,0).toString();let m="";const p=Object.assign(Object.assign({},X2),{width:i.toString(),height:l.toString(),top:u,left:h}),_=tn().toLowerCase();t&&(m=cb(_)?eD:t),ob(_)&&(e=e||tD,p.scrollbars="yes");const E=Object.entries(p).reduce((w,[N,j])=>`${w}${N}=${j},`,"");if(Ej(_)&&m!=="_self")return sD(e||"",m),new p0(null);const b=window.open(e||"",m,E);Te(b,s,"popup-blocked");try{b.focus()}catch{}return new p0(b)}function sD(s,e){const t=document.createElement("a");t.href=s,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD="__/auth/handler",iD="emulator/auth/handler",rD=encodeURIComponent("fac");async function _0(s,e,t,i,l,u){Te(s.config.authDomain,s,"auth-domain-config-required"),Te(s.config.apiKey,s,"invalid-api-key");const h={apiKey:s.config.apiKey,appName:s.name,authType:t,redirectUrl:i,v:cr,eventId:l};if(e instanceof xb){e.setDefaultLanguage(s.languageCode),h.providerId=e.providerId||"",hR(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,b]of Object.entries({}))h[E]=b}if(e instanceof ku){const E=e.getScopes().filter(b=>b!=="");E.length>0&&(h.scopes=E.join(","))}s.tenantId&&(h.tid=s.tenantId);const m=h;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await s._getAppCheckToken(),_=p?`#${rD}=${encodeURIComponent(p)}`:"";return`${lD(s)}?${xu(m).slice(1)}${_}`}function lD({config:s}){return s.emulator?gp(s,iD):`https://${s.authDomain}/${aD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm="webStorageSupport";class oD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Rb,this._completeRedirectFn=j2,this._overrideRedirectResult=k2}async _openPopup(e,t,i,l){var u;da((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await _0(e,t,i,ig(),l);return nD(e,h,xp())}async _openRedirect(e,t,i,l){await this._originValidation(e);const u=await _0(e,t,i,ig(),l);return h2(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:l,promise:u}=this.eventManagers[t];return l?Promise.resolve(l):(da(u,"If manager is not set, promise should be"),u)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await W2(e),i=new O2(e);return t.register("authEvent",l=>(Te(l==null?void 0:l.authEvent,e,"invalid-auth-event"),{status:i.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Dm,{type:Dm},l=>{var u;const h=(u=l==null?void 0:l[0])===null||u===void 0?void 0:u[Dm];h!==void 0&&t(!!h),ts(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=U2(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return gb()||ub()||_p()}}const uD=oD;var y0="@firebase/auth",v0="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hD(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function dD(s){ar(new ci("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=i.options;Te(h&&!h.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:h,authDomain:m,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pb(s)},_=new Rj(i,l,u,p);return Vj(_,t),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),ar(new ci("auth-internal",e=>{const t=pr(e.getProvider("auth").getImmediate());return(i=>new cD(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Es(y0,v0,hD(s)),Es(y0,v0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD=5*60,mD=q0("authIdTokenMaxAge")||fD;let x0=null;const gD=s=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>mD)return;const l=t==null?void 0:t.token;x0!==l&&(x0=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function pD(s=xg()){const e=Kh(s,"auth");if(e.isInitialized())return e.getImmediate();const t=Lj(s,{popupRedirectResolver:uD,persistence:[x2,o2,Rb]}),i=q0("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(i,location.origin);if(location.origin===u.origin){const h=gD(u.toString());s2(t,h,()=>h(t.currentUser)),n2(t,m=>h(m))}}const l=B0("auth");return l&&Pj(t,`http://${l}`),t}function _D(){var s,e;return(e=(s=document.getElementsByTagName("head"))===null||s===void 0?void 0:s[0])!==null&&e!==void 0?e:document}Nj({loadJS(s){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",s),i.onload=e,i.onerror=l=>{const u=As("internal-error");u.customData=l,t(u)},i.type="text/javascript",i.charset="UTF-8",_D().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});dD("Browser");const yD={apiKey:"AIzaSyB0zBdnr_ZBmmokxvgLiHWU52QhnFnoymU",authDomain:"aimchallange-67039.firebaseapp.com",projectId:"aimchallange-67039",storageBucket:"aimchallange-67039.appspot.com",messagingSenderId:"109617578227",appId:"1:109617578227:web:8f09f705f248bbdaf07786",measurementId:"G-42PJQ2LB6T"},Tp=$0(yD),xh=pD(Tp),fa=v1(Tp),bp=ZI(Tp),Ob=L.createContext(),_r=()=>L.useContext(Ob),vD=({children:s})=>{const[e,t]=L.useState(null),[i,l]=L.useState(!1),[u,h]=L.useState(!0);L.useEffect(()=>a2(xh,async b=>{if(b){const w={uid:b.uid,email:b.email,displayName:b.displayName||b.email.split("@")[0],role:"admin"};t(w),l(!0)}else t(null),l(!1);h(!1)}),[]);const _={currentUser:e,isAuthenticated:i,login:async(E,b)=>{try{return await Jj(xh,E,b),{success:!0}}catch(w){return console.error("Login error:",w),{success:!1,error:w.message}}},logout:async()=>{try{return await i2(xh),{success:!0}}catch(E){return console.error("Logout error:",E),{success:!1,error:E.message}}}};return d.jsx(Ob.Provider,{value:_,children:!u&&s})},ug=_i(fa,"settings","textContent"),xD=async()=>{try{const s=await kT(ug);return s.exists()?s.data():(await ld(ug,{}),{})}catch(s){return console.error("Error getting text content:",s),{}}},ED=async(s,e)=>{try{const t={};return t[s]=e,await M1(ug,t),{success:!0}}catch(t){throw console.error("Error updating text content:",t),t}};_i(fa,"settings","backgroundImages");const Mb=L.createContext(),yr=()=>L.useContext(Mb),TD=({children:s})=>{const[e,t]=L.useState({}),[i,l]=L.useState(!1),[u,h]=L.useState([]),{currentUser:m,isAuthenticated:p}=_r(),_=(m==null?void 0:m.role)==="admin";L.useEffect(()=>{(async()=>{try{const $=await xD();t($)}catch($){console.error("Error fetching text content:",$);const Z=localStorage.getItem("textContent");if(Z)try{t(JSON.parse(Z))}catch(ee){console.error("Error parsing saved content:",ee),t({})}}})()},[]),L.useEffect(()=>{l(!!(p&&_))},[p,_]);const K={getText:(H,$)=>e[H]||$,updateText:async(H,$)=>{try{await ED(H,$);const Z={...e,[H]:$};t(Z),h(ee=>[...ee,{content:{...e},timestamp:new Date().toISOString(),changedKey:H}]),localStorage.setItem("textContent",JSON.stringify(Z))}catch(Z){console.error("Error updating text content:",Z);const ee={...e,[H]:$};localStorage.setItem("textContent",JSON.stringify(ee)),t(ee)}},isEditing:i,toggleEditing:()=>{console.log("Edit mode is always on for admin users")},isAdmin:_,textContent:e,resetAllContent:()=>{h(H=>[...H,{content:{...e},timestamp:new Date().toISOString(),action:"reset-all"}]),t({}),localStorage.removeItem("textContent"),console.log("All content has been reset")},removeContentItem:H=>{h(Z=>[...Z,{content:{...e},timestamp:new Date().toISOString(),changedKey:H,action:"remove"}]);const $={...e};delete $[H],t($),localStorage.setItem("textContent",JSON.stringify($)),console.log(`Content item '${H}' has been removed`)},undoLastChange:()=>{if(u.length>1){const H=[...u];H.pop();const $=H[H.length-1].content;return t($),localStorage.setItem("textContent",JSON.stringify($)),h(H),console.log("Last change undone"),!0}return console.log("No changes to undo"),!1},getEditHistory:()=>u,editHistory:u};return d.jsx(Mb.Provider,{value:K,children:s})},bD=()=>{const[s,e]=L.useState(!1),[t,i]=L.useState(!1),[l,u]=L.useState(!1),{isAuthenticated:h,currentUser:m,logout:p}=_r(),{isEditing:_,getText:E,updateText:b}=yr(),w=Cl(),N=()=>{e(!1)},j=()=>{i(!1)},z=()=>{u(!l),e(!1),i(!1)},P=()=>{p(),w("/")};return L.useEffect(()=>{const K=H=>{const $=document.querySelector(".mobile-menu"),Z=document.querySelector(".hamburger-menu");l&&$&&!$.contains(H.target)&&!Z.contains(H.target)&&u(!1)};return document.addEventListener("mousedown",K),()=>{document.removeEventListener("mousedown",K)}},[l]),L.useEffect(()=>{console.log("Navbar auth state:",{isAuthenticated:h,currentUser:m,isAdmin:(m==null?void 0:m.role)==="admin"})},[h,m]),d.jsx("div",{className:"flex flex_col navbar-container",children:d.jsxs("div",{className:"navbar set-03 flex flex_j_SA MaxWH location font_white",children:[d.jsx("div",{className:"navim MaxWH location",children:d.jsx(Ae,{to:"/",children:d.jsx("img",{src:"/images/Aim_Challenge_logo_white.svg",alt:"aim challange logo",className:"custom-image navim"})})}),d.jsxs("div",{className:"hamburger-menu",onClick:z,children:[d.jsx("span",{}),d.jsx("span",{}),d.jsx("span",{})]}),d.jsxs("div",{className:"navbside",children:[d.jsxs("div",{className:"nav-button",children:[d.jsx("a",{href:"#",className:"dropdown-trigger",onClick:K=>{K.preventDefault(),e(!s)},children:"Tävlingar"}),s&&d.jsxs("div",{className:"drop-down",children:[d.jsx(Ae,{to:"/competitions",onClick:N,className:"drop-item",children:"TÄVLINGAR"}),d.jsx(Ae,{to:"/ulricehamn",onClick:N,className:"drop-item",children:"ULRICEHAMN"}),d.jsx(Ae,{to:"/salen",onClick:N,className:"drop-item",children:"SÄLEN"}),d.jsx(Ae,{to:"/hemsedal",onClick:N,className:"drop-item",children:"HEMSEDAL"}),d.jsx(Ae,{to:"/kolmarden",onClick:N,className:"drop-item",children:"KOLMÅRDEN"}),d.jsx(Ae,{to:"/trippeln",onClick:N,className:"drop-item",children:"AIM CHALLENGE TRIPPELN"}),d.jsx(Ae,{to:"/trippeln-results",onClick:N,className:"drop-item",children:"RESULTAT"}),d.jsx(Ae,{to:"/gallery",onClick:N,className:"drop-item",children:"GALLERI"})]})]}),d.jsx("div",{className:"nav-button",children:d.jsx("a",{href:"https://raceid.com/sv/campaigns/bcfa3952-92c0-11ef-a892-06546bc3018f",children:"Anmälan"})}),d.jsxs("div",{className:"nav-button",children:[d.jsx("a",{href:"#",className:"dropdown-trigger",onClick:K=>{K.preventDefault(),i(!t)},children:"Om oss"}),t&&d.jsxs("div",{className:"drop-down",children:[d.jsx(Ae,{to:"/om-oss",onClick:j,className:"drop-item",children:"Om oss"}),d.jsx(Ae,{to:"/regler",onClick:j,className:"drop-item",children:"Regler"}),d.jsx(Ae,{to:"/faq",onClick:j,className:"drop-item",children:"FAQ"}),d.jsx(Ae,{to:"/historien-om-aim",onClick:j,className:"drop-item",children:"Historien om AIM"})]})]}),d.jsx("div",{className:"nav-button",children:d.jsx("a",{href:"#sponsors-section",onClick:K=>{K.preventDefault();const H=document.getElementById("sponsors-section");H&&H.scrollIntoView({behavior:"smooth"})},children:"Sponsorer"})}),d.jsx("div",{className:"nav-button",children:d.jsx(Ae,{to:"/senaste-nytt",children:"Senaste nytt"})}),d.jsx("div",{className:"nav-button",children:d.jsx(Ae,{to:"#",children:"Kontakta oss"})}),d.jsx("div",{className:"nav-button",children:d.jsx("a",{href:"#",children:"SV|NO|EN"})}),h&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"nav-button",children:d.jsx(Ae,{to:"/content-manager",children:"Innehåll"})}),d.jsx("div",{className:"nav-button",children:d.jsx("a",{href:"#",onClick:K=>{K.preventDefault(),P()},children:"Logga ut"})})]})]}),l&&d.jsxs("div",{className:"mobile-menu",children:[d.jsxs("div",{className:"mobile-menu-item",children:[d.jsxs("div",{className:"mobile-menu-header",onClick:()=>e(!s),children:["Tävlingar ",s?"▲":"▼"]}),s&&d.jsxs("div",{className:"mobile-submenu",children:[d.jsx(Ae,{to:"/competitions",onClick:z,className:"mobile-submenu-item",children:"TÄVLINGAR"}),d.jsx(Ae,{to:"/ulricehamn",onClick:z,className:"mobile-submenu-item",children:"ULRICEHAMN"}),d.jsx(Ae,{to:"/salen",onClick:z,className:"mobile-submenu-item",children:"SÄLEN"}),d.jsx(Ae,{to:"/hemsedal",onClick:z,className:"mobile-submenu-item",children:"HEMSEDAL"}),d.jsx(Ae,{to:"/kolmarden",onClick:z,className:"mobile-submenu-item",children:"KOLMÅRDEN"}),d.jsx(Ae,{to:"/trippeln",onClick:z,className:"mobile-submenu-item",children:"AIM CHALLENGE TRIPPELN"}),d.jsx(Ae,{to:"/trippeln-results",onClick:z,className:"mobile-submenu-item",children:"RESULTAT"}),d.jsx(Ae,{to:"/gallery",onClick:z,className:"mobile-submenu-item",children:"GALLERI"})]})]}),d.jsx("div",{className:"mobile-menu-item",children:d.jsx("a",{href:"https://raceid.com/sv/campaigns/bcfa3952-92c0-11ef-a892-06546bc3018f",className:"mobile-menu-link",children:"Anmälan"})}),d.jsxs("div",{className:"mobile-menu-item",children:[d.jsxs("div",{className:"mobile-menu-header",onClick:()=>i(!t),children:["Om oss ",t?"▲":"▼"]}),t&&d.jsxs("div",{className:"mobile-submenu",children:[d.jsx(Ae,{to:"/om-oss",onClick:z,className:"mobile-submenu-item",children:"Om oss"}),d.jsx(Ae,{to:"/regler",onClick:z,className:"mobile-submenu-item",children:"Regler"}),d.jsx(Ae,{to:"/faq",onClick:z,className:"mobile-submenu-item",children:"FAQ"}),d.jsx(Ae,{to:"/historien-om-aim",onClick:z,className:"mobile-submenu-item",children:"Historien om AIM"})]})]}),d.jsx("div",{className:"mobile-menu-item",children:d.jsx("a",{href:"#sponsors-section",onClick:K=>{K.preventDefault();const H=document.getElementById("sponsors-section");H&&H.scrollIntoView({behavior:"smooth"}),z()},className:"mobile-menu-link",children:"Sponsorer"})}),d.jsx("div",{className:"mobile-menu-item",children:d.jsx(Ae,{to:"/senaste-nytt",onClick:z,className:"mobile-menu-link",children:"Senaste nytt"})}),d.jsx("div",{className:"mobile-menu-item",children:d.jsx(Ae,{to:"#",onClick:z,className:"mobile-menu-link",children:"Kontakta oss"})}),d.jsx("div",{className:"mobile-menu-item",children:d.jsx("a",{href:"#",className:"mobile-menu-link",children:"SV|NO|EN"})}),h&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"mobile-menu-item",children:d.jsx(Ae,{to:"/content-manager",onClick:z,className:"mobile-menu-link",children:"Innehåll"})}),d.jsx("div",{className:"mobile-menu-item",children:d.jsx("a",{href:"#",onClick:K=>{K.preventDefault(),P(),z()},className:"mobile-menu-link",children:"Logga ut"})})]})]})]})})},AD=()=>d.jsx("div",{className:"footer-wrapper",children:d.jsx("footer",{className:"footer set-03",children:d.jsxs("div",{className:"container",children:[d.jsxs("div",{className:"footer-grid",children:[d.jsxs("div",{className:"grid-item sponsors",children:[d.jsx("h3",{className:"footer-heading",id:"sponsors-section",children:"Sponsors"}),d.jsxs("div",{className:"grid",children:[d.jsx("div",{children:d.jsx("img",{src:"/images/Artboard 1@4x.png",alt:"Artboard",className:"sponsor-logo"})}),d.jsx("div",{children:d.jsx("img",{src:"/images/Camelbak_vit.svg",alt:"Camelbak",className:"sponsor-logo"})}),d.jsx("div",{children:d.jsx("img",{src:"/images/Hedghog_vit.svg",alt:"Hedghog",className:"sponsor-logo"})}),d.jsx("div",{children:d.jsx("img",{src:"/images/Kona_vit.png",alt:"Kona",className:"sponsor-logo"})}),d.jsx("div",{children:d.jsx("img",{src:"/images/Mareld_svart.svg",alt:"Mareld",className:"sponsor-logo"})}),d.jsx("div",{children:d.jsx("img",{src:"/images/ODD_white_RGB.png",alt:"ODD",className:"sponsor-logo"})}),d.jsx("div",{children:d.jsx("img",{src:"/images/Oofos.png",alt:"Oofos",className:"sponsor-logo"})}),d.jsx("div",{children:d.jsx("img",{src:"/images/Ortovox_svart.svg",alt:"Ortovox",className:"sponsor-logo"})}),d.jsx("div",{children:d.jsx("img",{src:"/images/UD Logo.png",alt:"UD",className:"sponsor-logo"})}),d.jsx("div",{children:d.jsx("img",{src:"/images/Upplev.png",alt:"Upplev Norrköping",className:"sponsor-logo"})}),d.jsx("div",{children:d.jsx("img",{src:"/images/holdut_logo_sort_1.png",alt:"Hold ut",className:"sponsor-logo"})}),d.jsx("div",{children:d.jsx("img",{src:"/images/h%C3%A4llmark logga sv_v.svg",alt:"Hällmark",className:"sponsor-logo"})}),d.jsx("div",{children:d.jsx("img",{src:"/images/injinji_black.svg",alt:"Injinji",className:"sponsor-logo"})})]})]}),d.jsxs("div",{className:"grid-item partners",children:[d.jsx("h3",{className:"footer-heading",children:"Partners"}),d.jsx("div",{className:"grid"})]})]}),d.jsxs("div",{className:"footer-bottom",children:[d.jsx("p",{className:"trademark",children:"© 2025 Aimchallenge"}),d.jsxs("div",{className:"social-icons",children:[d.jsx("a",{href:"https://www.facebook.com/aimchallenge/",className:"social-icon","aria-label":"Facebook",children:d.jsx("i",{className:"fa fa-facebook"})}),d.jsx("a",{href:"https://www.instagram.com/aimchallenge/",className:"social-icon","aria-label":"Instagram",children:d.jsx("i",{className:"fa fa-instagram"})}),d.jsx("a",{href:"https://vimeo.com/user45220061",className:"social-icon","aria-label":"Vimeo",children:d.jsx("i",{className:"fa fa-vimeo"})})]})]})]})})}),M=({textKey:s,defaultText:e,tag:t="p",className:i="",style:l={},placeholder:u="Skriv text här...",onClick:h})=>{const{getText:m,updateText:p,isAdmin:_}=yr(),[E,b]=L.useState(!1),[w,N]=L.useState(""),[j,z]=L.useState(!1),[P,K]=L.useState(""),[H,$]=L.useState(""),Z=L.useRef(null),ee=L.useRef(null),ie=L.useRef(null),O=["span","a","em","strong","i","b","code","small"].includes(t);L.useEffect(()=>{const me=m(s);N(me||e)},[s,e,m]),L.useEffect(()=>{const me=V=>{V.key==="Escape"&&E&&C()};return document.addEventListener("keydown",me),()=>{document.removeEventListener("keydown",me)}},[E]);const R=me=>{me&&(me.preventDefault(),me.stopPropagation()),b(!0)},A=()=>{p(s,w),b(!1),z(!1)},C=()=>{const me=m(s);N(me||e),b(!1),z(!1)},D=me=>{N(me.target.value)},U=()=>{z(!j),$(""),K("")},k=()=>{if(H&&P){let me=P;!me.startsWith("http://")&&!me.startsWith("https://")&&(me="https://"+me);const V=`<a href="${me}" target="_blank" rel="noopener noreferrer">${H}</a>`,re=Z.current,ge=re.selectionStart,ue=w.substring(0,ge),ce=w.substring(re.selectionEnd);N(ue+V+ce),$(""),K(""),setTimeout(()=>{re.focus();const Ne=ge+V.length;re.setSelectionRange(Ne,Ne)},0)}},je=me=>{$(me.target.value)},Ve=me=>{K(me.target.value)},le=me=>{me.key==="Enter"&&me.ctrlKey?(me.preventDefault(),A()):me.key==="Escape"&&(me.preventDefault(),C())},ye=()=>{const me=t,V={className:`editable-text ${i}`,style:l,dangerouslySetInnerHTML:{__html:w||u},"data-textkey":s.toString()};return h&&(V.onClick=h),d.jsx(me,{...V})};if(E)return d.jsx("div",{className:"edit-modal",children:d.jsxs("div",{className:"edit-modal__content",children:[d.jsxs("div",{className:"edit-modal__toolbar",children:[d.jsx("h3",{children:"Redigera text"}),d.jsx("span",{className:"edit-modal__hint",children:"Tryck Ctrl+Enter för att spara, Esc för att avbryta"})]}),d.jsx("textarea",{ref:Z,value:w,onChange:D,onKeyDown:le,placeholder:u,className:"edit-modal__textarea"}),d.jsx("button",{type:"button",onClick:U,className:"modal-button modal-button-secondary",children:j?"Dölj länkverktyg":"Lägg till länk"}),j&&d.jsxs("div",{className:"edit-modal__link-tools",children:[d.jsxs("div",{className:"edit-modal__form-group",children:[d.jsx("label",{htmlFor:"linkText",className:"edit-modal__label",children:"Länktext:"}),d.jsx("input",{ref:ee,type:"text",id:"linkText",value:H,onChange:je,className:"edit-modal__input",placeholder:"Text som ska visas"})]}),d.jsxs("div",{className:"edit-modal__form-group",children:[d.jsx("label",{htmlFor:"linkUrl",className:"edit-modal__label",children:"URL:"}),d.jsx("input",{ref:ie,type:"text",id:"linkUrl",value:P,onChange:Ve,className:"edit-modal__input",placeholder:"https://example.com"})]}),d.jsx("button",{type:"button",onClick:k,disabled:!H||!P,className:"modal-button modal-button-primary",children:"Infoga länk"})]}),d.jsxs("div",{className:"edit-modal__actions",children:[d.jsx("button",{type:"button",onClick:C,className:"modal-button modal-button-secondary",children:"Avbryt"}),d.jsx("button",{type:"button",onClick:A,className:"modal-button modal-button-primary",children:"Spara"})]})]})});const pe=O?"span":"div";return d.jsxs(pe,{className:"editable-text-wrapper",children:[ye(),_&&d.jsx("button",{type:"button",onClick:R,className:"edit-button edit-button-primary",title:"Redigera text",children:"Redigera"})]})},SD=()=>d.jsxs("div",{className:"flex flex_col MaxWH location",children:[d.jsx("section",{id:"page_01",className:"page_01 dynamic-background flex flex_col flex_j_E MaxWH location",children:d.jsxs("div",{className:"trans-background page_01box flex flex_col flex_j_SA MaxWH",children:[d.jsx(M,{textKey:"main-multisport-for-alla",defaultText:"MULTISPORT FÖR ALLA",tag:"p",className:"font_blue fonts_medium"}),d.jsx(M,{textKey:"main-multisport-sedan",defaultText:"MUTLISPORT SEDAN 2004",tag:"p",className:"font_blue fonts_large"})]})}),d.jsxs("section",{id:"page_02",className:"page_02 simple-background dynamic-background flex flex_j_E MaxWH location",children:[d.jsxs("div",{className:"page_02box simple-background flex flex_col flex_j_SB MaxWH location",children:[d.jsxs("div",{className:"trans-background page_02top flex flex_col flex_j_SA MaxWH",children:[d.jsx(M,{textKey:"main-ulricehamn-title",defaultText:"ULRICEHAMN",tag:"p",className:"font_blue fonts_medium_B"}),d.jsx(M,{textKey:"ulricehamn-date",defaultText:"datum insert",tag:"p",className:"font_blue fonts_medium"})]}),d.jsx("div",{className:"page_02top flex flex_col flex_j_SA MaxWH Button",children:d.jsx(Ae,{to:"/ulricehamn",className:"location button-2",children:d.jsx("span",{children:"Läs mer"})})})]}),d.jsxs("div",{className:"page_02box simple-background flex flex_col flex_j_SB MaxWH location",children:[d.jsxs("div",{className:"trans-background page_02top flex flex_col flex_j_SA MaxWH",children:[d.jsx(M,{textKey:"main-salen-title",defaultText:"SÄLEN",tag:"p",className:"font_blue fonts_medium_B"}),d.jsx(M,{textKey:"salen-date",defaultText:"datum insert",tag:"p",className:"font_blue fonts_medium"})]}),d.jsx("div",{className:"page_02top flex flex_col flex_j_SA MaxWH Button",children:d.jsx(Ae,{to:"/salen",className:"location button-2",children:d.jsx("span",{children:"Läs mer"})})})]}),d.jsxs("div",{className:"page_02box simple-background flex flex_col flex_j_SB MaxWH location",children:[d.jsxs("div",{className:"trans-background page_02top flex flex_col flex_j_SA MaxWH",children:[d.jsx(M,{textKey:"main-hemsedal-title",defaultText:"HEMSEDAL",tag:"p",className:"font_blue fonts_medium_B"}),d.jsx(M,{textKey:"hemsedal-date",defaultText:"datum insert",tag:"p",className:"font_blue fonts_medium"})]}),d.jsx("div",{className:"page_02top flex flex_col flex_j_SA MaxWH Button",children:d.jsx(Ae,{to:"/hemsedal",className:"location button-2",children:d.jsx("span",{children:"Läs mer"})})})]}),d.jsxs("div",{className:"page_02box simple-background flex flex_col flex_j_SB MaxWH location",children:[d.jsxs("div",{className:"trans-background page_02top flex flex_col flex_j_SA MaxWH",children:[d.jsx(M,{textKey:"main-kolmarden-title",defaultText:"KOLMÅRDEN",tag:"p",className:"font_blue fonts_medium_B"}),d.jsx(M,{textKey:"kolmarden-date",defaultText:"datum insert",tag:"p",className:"font_blue fonts_medium"})]}),d.jsx("div",{className:"page_02top flex flex_col flex_j_SA MaxWH Button",children:d.jsx(Ae,{to:"/kolmarden",className:"location button-2",children:d.jsx("span",{children:"Läs mer"})})})]})]}),d.jsx("section",{id:"page_03",className:"page_02 simple-background flex flex_col flex_j_C MaxWH location",children:d.jsxs("div",{className:"page_01box flex flex_col flex_j_C MaxWH font_white",children:[d.jsx(M,{textKey:"main-skistarshop",defaultText:"SKISTARSHOP.COM*",tag:"p",className:"font_white fonts_huge skistar-text"}),d.jsx(M,{textKey:"main-official-butik",defaultText:"OFFICIELL AIM CHALLENGE BUTIK",tag:"p",className:"font_white fonts_large skistar-subtext"})]})}),d.jsxs("section",{id:"page_04",className:"aim-section simple-background flex MaxWH",children:[d.jsxs("div",{className:"page_03box flex flex_col trans-background flex_j_SA MaxWH aim-info-box",children:[d.jsx(M,{textKey:"main-what-is-aim",defaultText:"VAD ÄR AIM CHALLENGE?",tag:"p",className:"font_blue fonts_large"}),d.jsx(M,{textKey:"main-aim-description",defaultText:"AIM Challenge är en multisport tävling som passar för alla. Lag på två personer ska under 6 timmar ta så många kontroller som möjligt utav 60 utplacerade.",tag:"p",className:"font_blue fonts_medium"}),d.jsx(Ae,{to:"/aim-challenge",className:"button-2",children:d.jsx("span",{children:"Läs mer"})})]}),d.jsx("div",{className:"page_03box flex flex_col pad flex_j_SA MaxWH",children:d.jsx("div",{})})]})]}),wD=()=>d.jsxs("div",{className:"competitions-container flex flex_col MaxWH location",children:[d.jsx("div",{className:"competitions-spacer"}),d.jsxs("div",{className:"competitions-grid",children:[d.jsxs("div",{className:"competitions-card competitions-card-ulricehamn flex flex_col flex_j_SB location simple-background",children:[d.jsxs("div",{className:"trans-background competitions-header flex flex_col flex_j_C flex_a_C flex_text_C MaxWH",children:[d.jsx(M,{textKey:"competitions-ulricehamn-title",defaultText:"ULRICEHAMN",tag:"p",className:"font_blue fonts_medium_B competitions-title text-center",style:{textAlign:"center"}}),d.jsx(M,{textKey:"ulricehamn-date",defaultText:"datum insert",tag:"p",className:"font_blue fonts_medium competitions-date text-center",style:{textAlign:"center"}})]}),d.jsx("div",{className:"competitions-button-container flex flex_col flex_j_SA flex_a_C MaxWH Button",children:d.jsx(Ae,{to:"/ulricehamn",className:"location button-2 competitions-button",children:d.jsx("span",{children:"Läs mer"})})})]}),d.jsxs("div",{className:"competitions-card competitions-card-salen flex flex_col flex_j_SB location simple-background",children:[d.jsxs("div",{className:"trans-background competitions-header flex flex_col flex_j_C flex_a_C flex_text_C MaxWH",children:[d.jsx(M,{textKey:"competitions-salen-title",defaultText:"SÄLEN",tag:"p",className:"font_blue fonts_medium_B competitions-title text-center",style:{textAlign:"center"}}),d.jsx(M,{textKey:"salen-date",defaultText:"datum insert",tag:"p",className:"font_blue fonts_medium competitions-date text-center",style:{textAlign:"center"}})]}),d.jsx("div",{className:"competitions-button-container flex flex_col flex_j_SA flex_a_C MaxWH Button",children:d.jsx(Ae,{to:"/salen",className:"location button-2 competitions-button",children:d.jsx("span",{children:"Läs mer"})})})]})]}),d.jsxs("div",{className:"competitions-grid",children:[d.jsxs("div",{className:"competitions-card competitions-card-hemsedal flex flex_col flex_j_SB location simple-background",children:[d.jsxs("div",{className:"trans-background competitions-header flex flex_col flex_j_C flex_a_C flex_text_C MaxWH",children:[d.jsx(M,{textKey:"competitions-hemsedal-title",defaultText:"HEMSEDAL",tag:"p",className:"font_blue fonts_medium_B competitions-title text-center",style:{textAlign:"center"}}),d.jsx(M,{textKey:"hemsedal-date",defaultText:"datum insert",tag:"p",className:"font_blue fonts_medium competitions-date text-center",style:{textAlign:"center"}})]}),d.jsx("div",{className:"competitions-button-container flex flex_col flex_j_SA flex_a_C MaxWH Button",children:d.jsx(Ae,{to:"/hemsedal",className:"location button-2 competitions-button",children:d.jsx("span",{children:"Läs mer"})})})]}),d.jsxs("div",{className:"competitions-card competitions-card-kolmarden flex flex_col flex_j_SB location simple-background",children:[d.jsxs("div",{className:"trans-background competitions-header flex flex_col flex_j_C flex_a_C flex_text_C MaxWH",children:[d.jsx(M,{textKey:"competitions-kolmarden-title",defaultText:"KOLMÅRDEN",tag:"p",className:"font_blue fonts_medium_B competitions-title text-center",style:{textAlign:"center"}}),d.jsx(M,{textKey:"kolmarden-date",defaultText:"datum insert",tag:"p",className:"font_blue fonts_medium competitions-date text-center",style:{textAlign:"center"}})]}),d.jsx("div",{className:"competitions-button-container flex flex_col flex_j_SA flex_a_C MaxWH Button",children:d.jsx(Ae,{to:"/kolmarden",className:"location button-2 competitions-button",children:d.jsx("span",{children:"Läs mer"})})})]})]})]}),RD=()=>d.jsxs("div",{className:"flex flex_col",children:[d.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",children:d.jsxs("div",{className:"trans-background page_01box flex flex_col flex_j_SA",children:[d.jsx(M,{textKey:"ulricehamn-title",defaultText:"ULRICEHAMN",tag:"p",className:"font_blue fonts_huge"}),d.jsx(M,{textKey:"ulricehamn-date",defaultText:"10/5-2025",tag:"p",className:"font_blue fonts_medium"})]})}),d.jsx("section",{className:"ulric-button-section-bg flex flex_j_C flex_a_C",children:d.jsx("a",{href:"https://raceid.com/sv/races/12846/about",target:"_blank",rel:"noopener noreferrer",className:"ulric-button flex flex_j_C flex_a_C",children:d.jsx("p",{className:"font_white fonts_medium",children:"TA MIG TILL ANMÄLAN"})})}),d.jsxs("section",{className:"ulric-section ulric-bg-1 flex flex_j_C flex_a_C",children:[d.jsxs("div",{className:"ulric-content trans-background MaxWH flex flex_col flex_j_C",children:[d.jsx(M,{textKey:"ulricehamn-program-title",defaultText:"PROGRAM",tag:"p",className:"font_blue fonts_large"}),d.jsx(M,{textKey:"ulricehamn-program-subtitle",defaultText:"PRELIMINÄRT PROGRAM:",tag:"p",className:"font_blue fonts_medium"}),d.jsxs("div",{className:"font_blue",children:[d.jsx(M,{textKey:"ulricehamn-friday-title",defaultText:"FREDAG 9 MAJ",tag:"p",className:"fonts_medium"}),d.jsx(M,{textKey:"ulricehamn-friday-schedule",defaultText:"17:00 - 19:00 Registrering för alla tävlande på XCC",tag:"p",className:"fonts_small ulric-time-entry"})]}),d.jsxs("div",{className:"font_blue",children:[d.jsx(M,{textKey:"ulricehamn-saturday-title",defaultText:"LÖRDAG 10 MAJ",tag:"p",className:"fonts_medium"}),d.jsx(M,{textKey:"ulricehamn-saturday-schedule1",defaultText:"08:30 - 10:15 Registrering för alla tävlande som ej registrerat sig under fredagen på 157 XCC, på Lassalyckan.",tag:"p",className:"fonts_small ulric-time-entry"}),d.jsx(M,{textKey:"ulricehamn-saturday-schedule2",defaultText:"10:30 Obligatoriskt informationsmöte vid starten på Lassalyckan stadion.",tag:"p",className:"fonts_small ulric-time-entry"}),d.jsx(M,{textKey:"ulricehamn-saturday-schedule3",defaultText:"11:00 Start AIM Challenge, på Lassalyckan stadion. Gemensam start för 3 & 6-timmars tävlingen.",tag:"p",className:"fonts_small ulric-time-entry"}),d.jsx(M,{textKey:"ulricehamn-saturday-schedule4",defaultText:"14:00 Målgång för 3-timmars tävlingen.",tag:"p",className:"fonts_small ulric-time-entry"}),d.jsx(M,{textKey:"ulricehamn-saturday-schedule5",defaultText:"ca 15:30 Prisutdelning 3-timmars tävlingen",tag:"p",className:"fonts_small ulric-time-entry"}),d.jsx(M,{textKey:"ulricehamn-saturday-schedule6",defaultText:"16:30 - 20:00 After AIM med mat och dryck på Hotell Lassalyckan.",tag:"p",className:"fonts_small ulric-time-entry"}),d.jsx(M,{textKey:"ulricehamn-saturday-schedule7",defaultText:"17:00 Målgång för 6-timmars tävlingen.",tag:"p",className:"fonts_small ulric-time-entry"}),d.jsx(M,{textKey:"ulricehamn-saturday-schedule8",defaultText:"19:00 Prisutdelning utanför Hotell Lassalyckan.",tag:"p",className:"fonts_small ulric-time-entry"})]})]}),d.jsx("div",{className:"ulric-spacer MaxWH"})]}),d.jsxs("section",{className:"ulric-section ulric-bg-2 flex flex_j_C flex_a_C",children:[d.jsx("div",{className:"ulric-spacer MaxWH"}),d.jsxs("div",{className:"ulric-content trans-background MaxWH flex flex_col flex_j_C",children:[d.jsx(M,{textKey:"ulricehamn-pris-title",defaultText:"PRIS",tag:"p",className:"font_blue fonts_large"}),d.jsx(M,{textKey:"ulricehamn-title-price",defaultText:"ULRICEHAMN",tag:"p",className:"font_blue fonts_medium"}),d.jsx("a",{href:"https://raceid.com/sv/races/12846/about",target:"_blank",rel:"noopener noreferrer",children:d.jsx(M,{textKey:"ulricehamn-date",defaultText:"10/5-2025",tag:"p",className:"font_blue fonts_medium"})}),d.jsxs("div",{className:"font_blue",children:[d.jsx(M,{textKey:"ulricehamn-pris-3-timmars-title",defaultText:"3-TIMMARS",tag:"p",className:"fonts_medium"}),d.jsx(M,{textKey:"ulricehamn-pris-3-timmars-early-bird",defaultText:"1500 SEK / lag för Early Bird-anmälan innan 1 november.",tag:"p",className:"fonts_small ulric-time-entry"}),d.jsx(M,{textKey:"ulricehamn-pris-3-timmars-nov-feb",defaultText:"1700 SEK / lag för anmälan mellan 1 november och 1 februari.",tag:"p",className:"fonts_small ulric-time-entry"}),d.jsx(M,{textKey:"ulricehamn-pris-3-timmars-feb-apr",defaultText:"1900 SEK / lag för anmälan mellan 2 februari och 24 april",tag:"p",className:"fonts_small ulric-time-entry"}),d.jsx(M,{textKey:"ulricehamn-pris-3-timmars-apr-start",defaultText:"2100 SEK / lag för anmälan från 25 april och fram till start.",tag:"p",className:"fonts_small ulric-time-entry"})]}),d.jsxs("div",{className:"font_blue",children:[d.jsx(M,{textKey:"ulricehamn-pris-6-timmars-title",defaultText:"6-TIMMARS",tag:"p",className:"fonts_medium"}),d.jsx(M,{textKey:"ulricehamn-pris-6-timmars-early-bird",defaultText:"1900 SEK / lag för Early Bird-anmälan innan 1 november.",tag:"p",className:"fonts_small ulric-time-entry"}),d.jsx(M,{textKey:"ulricehamn-pris-6-timmars-nov-feb",defaultText:"2100 SEK / lag för anmälan mellan 1 november och 1 februari.",tag:"p",className:"fonts_small ulric-time-entry"}),d.jsx(M,{textKey:"ulricehamn-pris-6-timmars-feb-apr",defaultText:"2300 SEK / lag för anmälan mellan 2 februari och 24 april.",tag:"p",className:"fonts_small ulric-time-entry"}),d.jsx(M,{textKey:"ulricehamn-pris-6-timmars-apr-start",defaultText:"2500 SEK / lag för anmälan från 25 april och fram till start.",tag:"p",className:"fonts_small ulric-time-entry"})]}),d.jsxs("div",{className:"font_blue",children:[d.jsx(M,{textKey:"ulricehamn-pris-trippeln-title",defaultText:"AIM CHALLENGE TRIPPELN 2025",tag:"p",className:"fonts_medium"}),d.jsx(M,{textKey:"ulricehamn-pris-trippeln-early-bird",defaultText:"4750 SEK / lag för Early Bird-anmälan innan 1 januari.",tag:"p",className:"fonts_small ulric-time-entry"}),d.jsx(M,{textKey:"ulricehamn-pris-trippeln-jan-feb",defaultText:"5250 SEK / lag för anmälan mellan 1 januari och 1 februari.",tag:"p",className:"fonts_small ulric-time-entry"}),d.jsx(M,{textKey:"ulricehamn-pris-trippeln-feb-apr",defaultText:"5750 SEK / lag för anmälan mellan 2 februari och 24 april.",tag:"p",className:"fonts_small ulric-time-entry"}),d.jsx(M,{textKey:"ulricehamn-pris-trippeln-apr-start",defaultText:"6250 SEK / lag för anmälan efter den 25 april.",tag:"p",className:"fonts_small ulric-time-entry"})]}),d.jsx("a",{href:"https://raceid.com/sv/races/12846/about",target:"_blank",rel:"noopener noreferrer",className:"button-2 ulric-button-align flex flex_s",children:d.jsx("p",{className:"fonts_small ulric-time-entry font_white",children:"ANMÄLAN"})})]})]}),d.jsxs("section",{className:"ulric-section ulric-bg-3 flex flex_j_C flex_a_C",children:[d.jsxs("div",{className:"ulric-content trans-background MaxWH flex flex_col flex_j_C",children:[d.jsx(M,{textKey:"ulricehamn-overnattning-title",defaultText:"ÖVERNATTNING OCH MAT",tag:"p",className:"font_blue fonts_large"}),d.jsx("div",{className:"font_blue ulric-text-block",children:d.jsx(M,{textKey:"ulricehamn-overnattning-cykeluthyrning",defaultText:"Cykeluthyrning med in- och utlämning på Lassalyckan Stadion. Läs mer och boka här.",tag:"p",className:"fonts_small ulric-time-entry"})}),d.jsxs("div",{className:"font_blue ulric-text-block",children:[d.jsx(M,{textKey:"ulricehamn-overnattning-hotell",defaultText:"Önskar du att bo nära start och mål så kan vi varmt rekommendera Hotell Lassalyckan som erbjuder ett modernt boende ett stenkast ifrån starten.",tag:"p",className:"fonts_small ulric-time-entry"}),d.jsx(M,{textKey:"ulricehamn-overnattning-hotell-link",defaultText:"www.hotell-lassalyckan.se",tag:"p",className:"fonts_small ulric-time-entry"})]}),d.jsxs("div",{className:"font_blue ulric-text-block",children:[d.jsx(M,{textKey:"ulricehamn-overnattning-alternativ",defaultText:"För övriga boende i Ulricehamn finns här en bra översikt över olika alternativ:",tag:"p",className:"fonts_small ulric-time-entry"}),d.jsx(M,{textKey:"ulricehamn-overnattning-alternativ-link",defaultText:"www.vastsverige.com/ulricehamn/boende",tag:"p",className:"fonts_small ulric-time-entry"})]})]}),d.jsx("div",{className:"ulric-spacer MaxWH"})]})]}),ND=()=>d.jsxs("div",{className:"flex flex_col",children:[d.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",children:d.jsxs("div",{className:"trans-background page_01box flex flex_col flex_j_SA",children:[d.jsx(M,{textKey:"salen-title",defaultText:"SÄLEN",tag:"p",className:"font_blue fonts_huge"}),d.jsx(M,{textKey:"salen-date",defaultText:"2/8-2024",tag:"p",className:"font_blue fonts_medium"})]})}),d.jsx("section",{className:"salen-button-section-bg flex flex_j_C flex_a_C",children:d.jsx("a",{href:"https://raceid.com/sv/races/13016/about",target:"_blank",rel:"noopener noreferrer",className:"salen-button flex flex_j_C flex_a_C",children:d.jsx("p",{className:"font_white fonts_medium",children:"TA MIG TILL ANMÄLAN"})})}),d.jsxs("section",{className:"salen-section salen-bg-1 flex flex_j_C flex_a_C",children:[d.jsxs("div",{className:"salen-content trans-background MaxWH flex flex_col flex_j_C",children:[d.jsx(M,{textKey:"salen-program-title",defaultText:"PROGRAM",tag:"p",className:"font_blue fonts_large"}),d.jsx(M,{textKey:"salen-program-subtitle",defaultText:"PRELIMINÄRT PROGRAM:",tag:"p",className:"font_blue fonts_medium"}),d.jsxs("div",{className:"font_blue",children:[d.jsx(M,{textKey:"salen-friday-title",defaultText:"FREDAG 1 AUGUSTI",tag:"p",className:"fonts_medium"}),d.jsx(M,{textKey:"salen-friday-schedule",defaultText:"17:00 - 20:00 Nummerlappsutdelning för alla tävlande på SkiStarshop Concept Store på Handelsområdet Lindvallen.",tag:"p",className:"fonts_xsmall salen-time-entry"})]}),d.jsxs("div",{className:"font_blue",children:[d.jsx(M,{textKey:"salen-saturday-title",defaultText:"LÖRDAG 2 AUGUSTI",tag:"p",className:"fonts_medium"}),d.jsx(M,{textKey:"salen-saturday-schedule1",defaultText:"08:30-09:00 Nummerlappsutdelning i konferenslokal ovanför Stadium",tag:"p",className:"fonts_xsmall salen-time-entry"}),d.jsx(M,{textKey:"salen-saturday-schedule2",defaultText:"09:30 Obligatoriskt infomöte vid starten",tag:"p",className:"fonts_xsmall salen-time-entry"}),d.jsx(M,{textKey:"salen-saturday-schedule3",defaultText:"10:00 START! Start/målområde vid Experiumtorget.",tag:"p",className:"fonts_xsmall salen-time-entry"}),d.jsx(M,{textKey:"salen-saturday-schedule4",defaultText:"15:30 After AIM på Lodgebaren på SkiStar Lodge Lindvallen",tag:"p",className:"fonts_xsmall salen-time-entry"}),d.jsx(M,{textKey:"salen-saturday-schedule5",defaultText:"16:00 Målgång AIM Challenge.",tag:"p",className:"fonts_xsmall salen-time-entry"}),d.jsx(M,{textKey:"salen-saturday-schedule6",defaultText:"xx:00 Prisutdelning i Lodgebaren",tag:"p",className:"fonts_xsmall salen-time-entry"})]})]}),d.jsx("div",{className:"salen-spacer MaxWH"})]}),d.jsxs("section",{className:"salen-section salen-bg-2 flex flex_j_C flex_a_C",children:[d.jsx("div",{className:"salen-spacer MaxWH"}),d.jsxs("div",{className:"salen-content trans-background MaxWH flex flex_col flex_j_C",children:[d.jsx(M,{textKey:"salen-pris-title",defaultText:"PRIS",tag:"p",className:"font_blue fonts_large"}),d.jsxs("div",{className:"font_blue",children:[d.jsx(M,{textKey:"salen-pris-salen-title",defaultText:"SÄLEN",tag:"p",className:"fonts_medium"}),d.jsx("a",{href:"https://raceid.com/sv/races/13016/about",target:"_blank",rel:"noopener noreferrer",children:d.jsx(M,{textKey:"salen-date",defaultText:"2/8-2024",tag:"p",className:"fonts_medium"})}),d.jsx(M,{textKey:"salen-pris-salen-price1",defaultText:"1900 SEK / lag för Early Bird-anmälan innan 1 januari.",tag:"p",className:"fonts_xsmall salen-time-entry"}),d.jsx(M,{textKey:"salen-pris-salen-price2",defaultText:"2100 SEK / lag för anmälan mellan 1 januari och 1 april.",tag:"p",className:"fonts_xsmall salen-time-entry"}),d.jsx(M,{textKey:"salen-pris-salen-price3",defaultText:"2300 SEK / lag för anmälan mellan 2 april och 18 juli",tag:"p",className:"fonts_xsmall salen-time-entry"}),d.jsx(M,{textKey:"salen-pris-salen-price4",defaultText:"2500 SEK / lag för anmälan från 19 juli och fram till start.",tag:"p",className:"fonts_xsmall salen-time-entry"})]}),d.jsxs("div",{className:"font_blue",children:[d.jsx(M,{textKey:"salen-pris-trippeln-title",defaultText:"AIM CHALLENGE TRIPPELN 2025",tag:"p",className:"fonts_medium"}),d.jsx(M,{textKey:"salen-pris-trippeln-price1",defaultText:"4750 SEK / lag för Early Bird-anmälan innan 1 januari.",tag:"p",className:"fonts_xsmall salen-time-entry"}),d.jsx(M,{textKey:"salen-pris-trippeln-price2",defaultText:"5250 SEK / lag för anmälan mellan 1 januari och 1 februari.",tag:"p",className:"fonts_xsmall salen-time-entry"}),d.jsx(M,{textKey:"salen-pris-trippeln-price3",defaultText:"5750 SEK / lag för anmälan mellan 2 februari och 25 april.",tag:"p",className:"fonts_xsmall salen-time-entry"}),d.jsx(M,{textKey:"salen-pris-trippeln-price4",defaultText:"6250 SEK / lag för anmälan efter den 26 april.",tag:"p",className:"fonts_xsmall salen-time-entry"})]}),d.jsxs("div",{className:"font_blue",children:[d.jsx(M,{textKey:"salen-pris-landskampen-title",defaultText:"LANDSKAMPEN = LINDVALLEN OCH HEMSEDAL",tag:"p",className:"fonts_medium"}),d.jsx(M,{textKey:"salen-pris-landskampen-price1",defaultText:"3400 SEK/ lag för anmälan innan 1 maj.",tag:"p",className:"fonts_xsmall salen-time-entry"}),d.jsx(M,{textKey:"salen-pris-landskampen-price2",defaultText:"3800 SEK/ lag för anmälan mellan 1 maj och 1 juli.",tag:"p",className:"fonts_xsmall salen-time-entry"}),d.jsx(M,{textKey:"salen-pris-landskampen-price3",defaultText:"4200 SEK/ lag för anmälan från 1 juli och framåt.",tag:"p",className:"fonts_xsmall salen-time-entry"})]}),d.jsx("a",{href:"https://raceid.com/sv/races/13014/about",target:"_blank",rel:"noopener noreferrer",className:"button-2 salen-button-align flex flex_s",children:d.jsx("p",{className:"font_white fonts_medium",children:"ANMÄLAN"})})]})]}),d.jsxs("section",{className:"salen-section salen-bg-3 flex flex_j_C flex_a_C",children:[d.jsxs("div",{className:"salen-content trans-background MaxWH flex flex_col flex_j_C",children:[d.jsx(M,{textKey:"salen-overnattning-title",defaultText:"ÖVERNATTNING OCH MAT",tag:"p",className:"font_blue fonts_large"}),d.jsxs("div",{className:"font_blue salen-text-block",children:[d.jsx(M,{textKey:"salen-overnattning-overnattning-title",defaultText:"ÖVERNATTNING",tag:"p",className:"fonts_medium"}),d.jsx(M,{textKey:"salen-overnattning-overnattning-text",defaultText:"Boende bokas enklast genom Skistar. För att komma direkt till bokningssida.",tag:"p",className:"fonts_xsmall salen-time-entry"})]}),d.jsxs("div",{className:"font_blue salen-text-block",children:[d.jsx(M,{textKey:"salen-overnattning-mat-title",defaultText:"MAT",tag:"p",className:"fonts_medium"}),d.jsx(M,{textKey:"salen-overnattning-mat-text1",defaultText:"Avslutningsmiddag på Lodgebaren.",tag:"p",className:"fonts_xsmall salen-time-entry"}),d.jsx(M,{textKey:"salen-overnattning-mat-text2",defaultText:"Möjlighet för frukost på Lodgebaren.",tag:"p",className:"fonts_xsmall salen-time-entry"}),d.jsx(M,{textKey:"salen-overnattning-mat-text3",defaultText:"Lodgebaren - Läs mer och boka bord",tag:"p",className:"fonts_xsmall salen-time-entry"})]}),d.jsxs("div",{className:"font_blue salen-text-block",children:[d.jsx(M,{textKey:"salen-overnattning-upplevelser-title",defaultText:"UPPLEVELSER & AKTIVITETER",tag:"p",className:"fonts_medium"}),d.jsx(M,{textKey:"salen-overnattning-upplevelser-text1",defaultText:"Bad & Spa",tag:"p",className:"fonts_xsmall salen-time-entry"}),d.jsx(M,{textKey:"salen-overnattning-upplevelser-text2",defaultText:"Bowling",tag:"p",className:"fonts_xsmall salen-time-entry"}),d.jsx(M,{textKey:"salen-overnattning-upplevelser-text3",defaultText:"Höghöjdsbana",tag:"p",className:"fonts_xsmall salen-time-entry"}),d.jsx(M,{textKey:"salen-overnattning-upplevelser-text4",defaultText:"SkiStar Sports & Adventures",tag:"p",className:"fonts_xsmall salen-time-entry"})]})]}),d.jsx("div",{className:"salen-spacer MaxWH"})]})]}),kD=()=>d.jsxs("div",{className:"MaxWH location",children:[d.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",children:d.jsxs("div",{className:"trans-background page_01box flex flex_col flex_j_SA",children:[d.jsx(M,{textKey:"hemsedal-title",defaultText:"HEMSEDAL",tag:"p",className:"font_blue fonts_huge"}),d.jsx(M,{textKey:"hemsedal-date",defaultText:"datum insert",tag:"p",className:"font_blue fonts_medium"})]})}),d.jsx("section",{className:"hemsedal-button-section-bg flex flex_j_C flex_a_C",children:d.jsx("a",{href:"https://raceid.com/sv/races/13015/about",target:"_blank",rel:"noopener noreferrer",className:"hemsedal-button flex flex_j_C flex_a_C",children:d.jsx("p",{className:"font_white fonts_medium",children:"TA MIG TILL ANMÄLAN"})})}),d.jsxs("section",{className:"hemsedal-section hemsedal-bg-1 flex flex_j_C flex_a_C",children:[d.jsxs("div",{className:"hemsedal-content trans-background MaxWH flex flex_col flex_j_C",children:[d.jsx(M,{textKey:"hemsedal-program-title",defaultText:"PROGRAM",tag:"p",className:"font_blue fonts_large"}),d.jsx(M,{textKey:"hemsedal-program-subtitle",defaultText:"PRELIMINÄRT PROGRAM:",tag:"p",className:"font_blue fonts_medium"}),d.jsxs("div",{className:"font_blue",children:[d.jsx(M,{textKey:"hemsedal-friday-title",defaultText:"FREDAG 23 AUGUSTI",tag:"p",className:"fonts_medium"}),d.jsx(M,{textKey:"hemsedal-friday-schedule",defaultText:"17:00 - 20:00 Nummerlappsutdelning för alla tävlande på SkiStarshop Hemsedal",tag:"p",className:"fonts_xsmall hemsedal-time-entry"})]}),d.jsxs("div",{className:"font_blue",children:[d.jsx(M,{textKey:"hemsedal-saturday-title",defaultText:"LÖRDAG 24 AUGUSTI",tag:"p",className:"fonts_medium"}),d.jsx(M,{textKey:"hemsedal-saturday-schedule1",defaultText:"08:30-09:00 Nummerlappsutdelning vid starten",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),d.jsx(M,{textKey:"hemsedal-saturday-schedule2",defaultText:"09:30 Obligatoriskt infomöte vid starten",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),d.jsx(M,{textKey:"hemsedal-saturday-schedule3",defaultText:"10:00 START! Start/målområde vid Hemsedal Skisenter",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),d.jsx(M,{textKey:"hemsedal-saturday-schedule4",defaultText:"15:30 After AIM på Stavkroa",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),d.jsx(M,{textKey:"hemsedal-saturday-schedule5",defaultText:"16:00 Målgång AIM Challenge",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),d.jsx(M,{textKey:"hemsedal-saturday-schedule6",defaultText:"18:00 Prisutdelning på Stavkroa",tag:"p",className:"fonts_xsmall hemsedal-time-entry"})]})]}),d.jsx("div",{className:"hemsedal-spacer MaxWH"})]}),d.jsxs("section",{className:"hemsedal-section hemsedal-bg-2 flex flex_j_C flex_a_C",children:[d.jsx("div",{className:"hemsedal-spacer MaxWH"}),d.jsxs("div",{className:"hemsedal-content trans-background MaxWH flex flex_col flex_j_C",children:[d.jsx(M,{textKey:"hemsedal-pris-title",defaultText:"PRIS",tag:"p",className:"font_blue fonts_large"}),d.jsxs("div",{className:"font_blue",children:[d.jsx(M,{textKey:"hemsedal-pris-date",defaultText:"HEMSEDAL",tag:"p",className:"fonts_medium"}),d.jsx("a",{href:"https://raceid.com/sv/races/13015/about",target:"_blank",rel:"noopener noreferrer",children:d.jsx(M,{textKey:"hemsedal-date",defaultText:"24/8-2024",tag:"p",className:"fonts_medium"})}),d.jsx(M,{textKey:"hemsedal-pris-price1",defaultText:"1900 NOK / lag för Early Bird-anmälan innan 1 januari",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),d.jsx(M,{textKey:"hemsedal-pris-price2",defaultText:"2100 NOK / lag för anmälan mellan 1 januari och 1 april",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),d.jsx(M,{textKey:"hemsedal-pris-price3",defaultText:"2300 NOK / lag för anmälan mellan 2 april och 18 juli",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),d.jsx(M,{textKey:"hemsedal-pris-price4",defaultText:"2500 NOK / lag för anmälan från 19 juli och fram till start",tag:"p",className:"fonts_xsmall hemsedal-time-entry"})]}),d.jsxs("div",{className:"font_blue",children:[d.jsx(M,{textKey:"hemsedal-trippeln-title",defaultText:"AIM CHALLENGE TRIPPELN 2025",tag:"p",className:"fonts_medium"}),d.jsx(M,{textKey:"hemsedal-trippeln-price1",defaultText:"4750 SEK / lag för Early Bird-anmälan innan 1 januari",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),d.jsx(M,{textKey:"hemsedal-trippeln-price2",defaultText:"5250 SEK / lag för anmälan mellan 1 januari och 1 februari",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),d.jsx(M,{textKey:"hemsedal-trippeln-price3",defaultText:"5750 SEK / lag för anmälan mellan 2 februari och 25 april",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),d.jsx(M,{textKey:"hemsedal-trippeln-price4",defaultText:"6250 SEK / lag för anmälan efter den 26 april",tag:"p",className:"fonts_xsmall hemsedal-time-entry"})]}),d.jsxs("div",{className:"font_blue",children:[d.jsx(M,{textKey:"hemsedal-landskampen-title",defaultText:"LANDSKAMPEN = LINDVALLEN OCH HEMSEDAL",tag:"p",className:"fonts_medium"}),d.jsx(M,{textKey:"hemsedal-landskampen-price1",defaultText:"3400 SEK / lag för anmälan innan 1 maj",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),d.jsx(M,{textKey:"hemsedal-landskampen-price2",defaultText:"3800 SEK / lag för anmälan mellan 1 maj och 1 juli",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),d.jsx(M,{textKey:"hemsedal-landskampen-price3",defaultText:"4200 SEK / lag för anmälan från 1 juli och framåt",tag:"p",className:"fonts_xsmall hemsedal-time-entry"})]}),d.jsx("a",{href:"https://raceid.com/sv/races/13014/about",target:"_blank",rel:"noopener noreferrer",className:"button-2 hemsedal-button-align flex flex_s",children:d.jsx("span",{className:"font_white",children:"ANMÄLAN"})})]})]}),d.jsxs("section",{className:"hemsedal-section hemsedal-bg-3 flex flex_j_C flex_a_C",children:[d.jsxs("div",{className:"hemsedal-content trans-background MaxWH flex flex_col flex_j_C",children:[d.jsx(M,{textKey:"hemsedal-overnattning-title",defaultText:"ÖVERNATTNING OCH MAT",tag:"p",className:"font_blue fonts_large"}),d.jsxs("div",{className:"font_blue hemsedal-text-block",children:[d.jsx(M,{textKey:"hemsedal-overnattning-subtitle",defaultText:"ÖVERNATTNING",tag:"p",className:"fonts_medium"}),d.jsx(M,{textKey:"hemsedal-overnattning-info",defaultText:"Boende bokas enklast genom Skistar. Klicka för att komma direkt till bokningssida.",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),d.jsx(M,{textKey:"hemsedal-cykeluthyrning-info",defaultText:"Cykel kan hyras hos Concept Store. Klicka för att komma till bokningssida.",tag:"p",className:"fonts_xsmall hemsedal-time-entry"})]}),d.jsxs("div",{className:"font_blue hemsedal-text-block",children:[d.jsx(M,{textKey:"hemsedal-mat-subtitle",defaultText:"MAT",tag:"p",className:"fonts_medium"}),d.jsx(M,{textKey:"hemsedal-mat-friday",defaultText:"FREDAG:",tag:"p",className:"fonts_small"}),d.jsx(M,{textKey:"hemsedal-mat-friday-info",defaultText:"18:00 - 21:00 Italiensk pizza som Take Away - Beställ på plats på lodgen Spiseri eller ring +47 458 65 086. Meny kommer att läggas ut HÄR.",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),d.jsx(M,{textKey:"hemsedal-mat-saturday",defaultText:"LÖRDAG:",tag:"p",className:"fonts_small"}),d.jsx(M,{textKey:"hemsedal-mat-saturday-info1",defaultText:"10:00 - 15:00 Cafe och lunchservering på Lodgen Spiseri",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),d.jsx(M,{textKey:"hemsedal-mat-saturday-info2",defaultText:"15:30-18:00 After AIM på Lodgen Spiseri. Viktigt att fylla på med vätska och energi efter målgång!",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),d.jsx(M,{textKey:"hemsedal-mat-saturday-info3",defaultText:"19:30 Bankettmiddag på Lodgen Spiseri. Bokas här.",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),d.jsx(M,{textKey:"hemsedal-mat-sunday",defaultText:"SÖNDAG:",tag:"p",className:"fonts_small"}),d.jsx(M,{textKey:"hemsedal-mat-sunday-info",defaultText:"10:00 - 15:00 Cafe och lunchservering på Lodgen Spiseri",tag:"p",className:"fonts_xsmall hemsedal-time-entry"})]}),d.jsx("div",{className:"font_blue hemsedal-text-block",children:d.jsx(M,{textKey:"hemsedal-mat-info",defaultText:"Lodgen Spiseri följer alla de nationella riktlinjerna för att ge dig en trygg och bra upplevelse.",tag:"p",className:"fonts_xsmall"})})]}),d.jsx("div",{className:"hemsedal-spacer MaxWH"})]})]}),CD=()=>d.jsxs("div",{className:"MaxWH location",children:[d.jsx("div",{className:"set-03",style:{height:"120px"}}),d.jsx("section",{className:"page_01 kolmarden-bg-1 flex flex_col flex_j_E set-03",children:d.jsxs("div",{className:"trans-background page_01box flex flex_col flex_j_SA",children:[d.jsx(M,{textKey:"kolmarden-title",defaultText:"KOLMÅRDEN",tag:"p",className:"font_blue fonts_huge"}),d.jsx(M,{textKey:"kolmarden-date",defaultText:"datum insert",tag:"p",className:"font_blue fonts_medium"})]})}),d.jsx("section",{className:"kolmarden-button-section-bg flex flex_j_C flex_a_C set-03",children:d.jsx("a",{href:"https://raceid.com/sv/races/13014/about",target:"_blank",rel:"noopener noreferrer",className:"kolmarden-button flex flex_j_C flex_a_C",children:d.jsx("p",{className:"font_white fonts_medium",children:"TA MIG TILL ANMÄLAN"})})}),d.jsx("section",{className:"kolmarden-section kolmarden-bg-2 flex flex_j_R flex_a_C set-03",children:d.jsxs("div",{className:"kolmarden-content trans-background MaxWH flex flex_col flex_j_C",children:[d.jsx(M,{textKey:"kolmarden-program-title",defaultText:"PROGRAM",tag:"p",className:"font_blue fonts_large"}),d.jsx(M,{textKey:"kolmarden-program-subtitle",defaultText:"PRELIMINÄRT PROGRAM:",tag:"p",className:"font_blue fonts_medium"}),d.jsxs("div",{className:"font_blue",children:[d.jsx(M,{textKey:"kolmarden-friday-title",defaultText:"FREDAG 27 SEPTEMBER",tag:"p",className:"fonts_small kolmarden-day-title"}),d.jsx(M,{textKey:"kolmarden-friday-program",defaultText:"15:00-19:00 Tävlingsexpeditionen öppen, utlämning av nummerlappar och kartor",tag:"p",className:"fonts_xsmall kolmarden-program-entry"})]}),d.jsxs("div",{className:"font_blue",children:[d.jsx(M,{textKey:"kolmarden-saturday-title",defaultText:"LÖRDAG 28 SEPTEMBER",tag:"p",className:"fonts_small kolmarden-day-title"}),d.jsx(M,{textKey:"kolmarden-saturday-program-1",defaultText:"07:30-08:30 Tävlingsexpeditionen öppen, utlämning av nummerlappar och kartor",tag:"p",className:"fonts_xsmall kolmarden-program-entry"}),d.jsx(M,{textKey:"kolmarden-saturday-program-2",defaultText:"08:30 Obligatorisk genomgång vid startområdet",tag:"p",className:"fonts_xsmall kolmarden-program-entry"}),d.jsx(M,{textKey:"kolmarden-saturday-program-3",defaultText:"09:00 Start",tag:"p",className:"fonts_xsmall kolmarden-program-entry"}),d.jsx(M,{textKey:"kolmarden-saturday-program-4",defaultText:"15:00 Målet stänger",tag:"p",className:"fonts_xsmall kolmarden-program-entry"}),d.jsx(M,{textKey:"kolmarden-saturday-program-5",defaultText:"16:00 Prisutdelning",tag:"p",className:"fonts_xsmall kolmarden-program-entry"})]})]})}),d.jsx("section",{className:"kolmarden-section kolmarden-bg-3 flex flex_j_E flex_a_C set-03",children:d.jsxs("div",{className:"kolmarden-content trans-background MaxWH flex flex_col flex_j_C",children:[d.jsx(M,{textKey:"kolmarden-registration-title",defaultText:"ANMÄLAN",tag:"p",className:"font_blue fonts_large"}),d.jsx("div",{className:"font_blue kolmarden-text-block",children:d.jsx(M,{textKey:"kolmarden-registration-text",defaultText:"Anmälan görs via RaceID. Klicka på knappen nedan för att komma till anmälningssidan.",tag:"p"})}),d.jsxs("div",{className:"kolmarden-registration-info font_blue",children:[d.jsxs("div",{className:"kolmarden-registration-column",children:[d.jsx(M,{textKey:"kolmarden-registration-early-title",defaultText:"ORDINARIE ANMÄLAN",tag:"p",className:"fonts_small kolmarden-fee-title"}),d.jsx(M,{textKey:"kolmarden-registration-early-dates",defaultText:"t.o.m. 31 augusti 2024",tag:"p",className:"fonts_xsmall kolmarden-date-entry"}),d.jsx(M,{textKey:"kolmarden-registration-early-fee",defaultText:"1 495 kr / lag",tag:"p",className:"fonts_xsmall kolmarden-fee-entry"})]}),d.jsxs("div",{className:"kolmarden-registration-column",children:[d.jsx(M,{textKey:"kolmarden-registration-late-title",defaultText:"SEN ANMÄLAN",tag:"p",className:"fonts_small kolmarden-fee-title"}),d.jsx(M,{textKey:"kolmarden-registration-late-dates",defaultText:"1 september - 20 september 2024",tag:"p",className:"fonts_xsmall kolmarden-date-entry"}),d.jsx(M,{textKey:"kolmarden-registration-late-fee",defaultText:"1 795 kr / lag",tag:"p",className:"fonts_xsmall kolmarden-fee-entry"})]}),d.jsxs("div",{className:"kolmarden-registration-column",children:[d.jsx(M,{textKey:"kolmarden-registration-onsite-title",defaultText:"EFTERANMÄLAN",tag:"p",className:"fonts_small kolmarden-fee-title"}),d.jsx(M,{textKey:"kolmarden-registration-onsite-dates",defaultText:"21 september - 27 september 2024",tag:"p",className:"fonts_xsmall kolmarden-date-entry"}),d.jsx(M,{textKey:"kolmarden-registration-onsite-fee",defaultText:"1 995 kr / lag",tag:"p",className:"fonts_xsmall kolmarden-fee-entry"})]})]}),d.jsxs("div",{className:"kolmarden-text-block font_blue",children:[d.jsx(M,{textKey:"kolmarden-registration-includes",defaultText:"I anmälningsavgiften ingår:",tag:"p",className:"fonts_small"}),d.jsx(M,{textKey:"kolmarden-registration-includes-list",defaultText:"Kartor, nummerlappar, tidtagningschip, vätskekontroller under loppet, enklare mat efter målgång, sjukvård och säkerhet under loppet.",tag:"p",className:"fonts_xsmall kolmarden-time-entry"})]}),d.jsx("a",{href:"https://raceid.com/sv/races/13014/about",target:"_blank",rel:"noopener noreferrer",className:"button-2 kolmarden-button-align flex flex_s",children:d.jsx(M,{textKey:"kolmarden-anmalan-button2",defaultText:"ANMÄLAN",tag:"span",className:"font_white"})})]})}),d.jsxs("section",{className:"kolmarden-section kolmarden-bg-4 flex flex_j_R flex_a_C set-03",children:[d.jsxs("div",{className:"kolmarden-content trans-background MaxWH flex flex_col flex_j_C",children:[d.jsx(M,{textKey:"kolmarden-accommodation-title",defaultText:"ÖVERNATTNING OCH MAT",tag:"p",className:"font_blue fonts_large"}),d.jsxs("div",{className:"font_blue kolmarden-text-block",children:[d.jsx(M,{textKey:"kolmarden-accommodation-text",defaultText:"Under tävlingshelgen bor du smidigt på First Camp Kolmården – Norrköping med krypavstånd från start- och målgången. Som tävlingsdeltagare får du dessutom 25% rabatt på stugor och camping när du bokar online.",tag:"p"}),d.jsx(M,{textKey:"kolmarden-discount-code",defaultText:"Rabattkod: AIMCHALLENGE25",tag:"p",className:"fonts_small"}),d.jsx(M,{textKey:"kolmarden-discount-dates",defaultText:"23-29 september 2024",tag:"p",className:"fonts_small"}),d.jsx(M,{textKey:"kolmarden-discount-note1",defaultText:"Endast BAS-bokningar",tag:"p",className:"fonts_small"}),d.jsx(M,{textKey:"kolmarden-discount-note2",defaultText:"Boka online på firstcamp.se",tag:"p",className:"fonts_small"}),d.jsx("div",{className:"kolmarden-button-align",children:d.jsx("a",{href:"https://firstcamp.se",target:"_blank",rel:"noopener noreferrer",className:"kolmarden-link",children:d.jsx(M,{textKey:"kolmarden-book-here",defaultText:"Boka här",tag:"span"})})})]}),d.jsxs("div",{className:"font_blue kolmarden-text-block",children:[d.jsx("p",{children:d.jsx(M,{textKey:"kolmarden-other-accommodation",defaultText:"Övriga boendealternativ finns att hitta här.",tag:"span"})}),d.jsx("p",{children:d.jsx(M,{textKey:"kolmarden-food-tips",defaultText:"Tips på ställen att äta i samband med ditt besök i Norrköping/Kolmården.",tag:"span"})}),d.jsx("p",{children:d.jsx(M,{textKey:"kolmarden-other-activities",defaultText:"Här kan du hitta inspiration på övriga saker att se och göra under ditt besök i Norrköping/Kolmården.",tag:"span"})})]})]}),d.jsx("div",{className:"kolmarden-spacer MaxWH"})]})]}),ID=()=>d.jsxs("div",{className:"MaxWH location",children:[d.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",children:d.jsx("div",{className:"trans-background page_01box flex flex_col flex_j_SA",children:d.jsx("p",{className:"font_blue fonts_huge",children:"AIM CHALLENGE TRIPPELN"})})}),d.jsxs("section",{className:"trippeln-section trippeln-bg",children:[d.jsx("div",{className:"trippeln-content trans-background",children:d.jsxs("div",{className:"font_blue",children:[d.jsx("p",{className:"fonts_medium",children:"Trippeln är en tävling i tävlingen där de som deltar i minst tre av årets deltävlingar är med och tävlar om den mycket hedervärda titeln Vinnare av AIM Challenge Trippeln!"}),d.jsx("br",{}),d.jsx("p",{children:"AIM Challenge Trippeln ersätter Landskampen som sedan 2010 har varit en tävling i tävlingen för de som genomfört AIM Challenge både i Lindvallen och Hemsedal. En tävling där det tävlats för antingen Sverige eller Norge, där det vinnande landet har hyllats och den som bidragit mest till sitt land har prisats."}),d.jsx("br",{}),d.jsx("p",{children:"Med AIM Challenge Trippeln lägger vi ner stridsyxan mellan Sverige och Norge och gör det därmed möjligt att även köra mixade lag mellan olika nationer utan att detta skapar en konflikt."}),d.jsx("br",{}),d.jsx("p",{className:"fonts_medium",children:"Hur går AIM Challenge Trippeln till:"}),d.jsx("br",{}),d.jsx("p",{children:"AIM Challenge Trippeln är en tävling i tävlingen för de lag som deltar på minst tre deltävlingar under ett och samma år. Tävlingarna som ingår är Ulricehamn, Sälen, Hemsedal och Kolmården. Det är fritt för laget att välja om ni önskar att delta i 3- eller 6-timmars tävlingen i Ulricehamn och Kolmården, båda anses att vara likvärdiga för Trippeln."}),d.jsx("br",{}),d.jsx("p",{children:"Vid anmälan till Trippeln blir man per automatik anmäld till alla fyra deltävlingar och väljer själv om man vill delta i tre eller fyra tävlingar. Priset för att anmäla sig till trippeln är rabatterat och blir billigare redan vid start i tre deltävlingar. Skulle ett lag delta i alla fyra deltävlingarna så räknas de tre bästa resultaten till Trippeln."}),d.jsx("br",{}),d.jsx("p",{children:"Det gäller att samla så många poäng som möjligt under årets tävlingar där varje lag får räkna in sina tre bästa resultat från det gångna året. Vinnaren av AIM Challenge Trippeln kommer att utses genom ett poängsystem som bygger på hur många poäng laget fått procentuellt i förhållande till vinnarlaget i respektive klass. Varje lag kommer då få en poängsumma mellan 1 och 100 per tävling och efter alla deltävlingarna kommer dessa poäng att adderas och det lag med högst sammanlagda poäng kommer att stå på prispallen! Skulle två lag få samma sammanlagda poäng så kommer vi se på placeringar i de enskilda loppen för att utse en vinnare."}),d.jsx("br",{}),d.jsx("p",{children:"Vid anmälan till AIM Challenge Trippeln så anmäler sig laget till alla fyra deltävlingarna, varav minst tre måste genomföras för att få ett resultat i Trippeln. Ett lag består av två personer, men om någon i laget skulle få förhinder inför någon av tävlingarna så gäller följande: För att resultatet i Trippeln skall bli godkänt så måste minst en i laget delta i alla tre tävlingarna, samt att deltagare 2 deltar vid minst två deltävlingar. Det vill säga att det är möjligt att ta in en reserv under en av deltävlingarna och fortfarande tävla som lag om den hedervärda titeln! I det fall deltagare 1 tävlat med tre olika lagkompisar under året är det enbart den som deltagit vid alla tre tävlingarna som kommer att premieras."}),d.jsx("br",{}),d.jsx("p",{children:"Det är inte möjligt att sälja sin startplats i Trippeln vidare för den tävling som laget eventuellt inte deltar i."})]})}),d.jsx("div",{className:"trippeln-spacer"})]}),d.jsx("section",{className:"ulric-button-section-bg flex flex_j_C flex_a_C",children:d.jsx("a",{href:"https://raceid.com/sv/races/13016/about",target:"_blank",rel:"noopener noreferrer",className:"ulric-button flex flex_j_C flex_a_C",children:d.jsx("p",{className:"font_white fonts_medium",children:"TA MIG TILL ANMÄLAN"})})})]}),Lb=({onClose:s,onUploadSuccess:e,years:t=["2023","2022","2021","2020","2019","2018","2017","2016","2015"],categories:i=["Herrar","Damer","Mixed"],durations:l=["3 timmar","6 timmar","12 timmar","24 timmar"],locations:u=["Ulricehamn","Borås","Göteborg","Jönköping","Stockholm"],year:h})=>{const[m,p]=L.useState("Ulricehamn"),[_,E]=L.useState(h||"2023"),[b,w]=L.useState("Herrar"),[N,j]=L.useState("3 timmar"),[z,P]=L.useState(null),[K,H]=L.useState(""),[$,Z]=L.useState(!1),[ee,ie]=L.useState(0),O=A=>{A.target.files[0]&&P(A.target.files[0])},R=async A=>{if(A.preventDefault(),!z){H("Please select a file to upload");return}Z(!0),H(""),ie(0);try{const C=`${_}_${b}_${N}_${Date.now()}_${z.name}`,D=dp(bp,`results/${C}`),U={contentType:z.type,customMetadata:{year:_,category:b,duration:N,location:m}},k=WI(D,z,U);k.on("state_changed",je=>{const Ve=je.bytesTransferred/je.totalBytes*100;ie(Ve),console.log("Upload is "+Ve+"% done")},je=>{console.error("Upload error:",je),H(`Upload failed: ${je.message}`),Z(!1)},async()=>{console.log("Upload completed successfully");const je=await ZT(k.snapshot.ref);console.log("Download URL:",je);const Ve={year:parseInt(_),location:m,category:b,duration:N,fileUrl:je,fileName:z.name,uploadedAt:new Date().toISOString()},le=_i(Gg(fa,"results"));await ld(le,Ve),P(null),ie(0),e&&e(),s(),Z(!1)})}catch(C){console.error("Error setting up upload:",C),H(`Upload setup failed: ${C.message}`),Z(!1)}};return d.jsx("div",{className:"result-upload-modal-overlay",children:d.jsxs("div",{className:"result-upload-modal",children:[d.jsxs("div",{className:"result-upload-modal-header",children:[d.jsx("h2",{children:"Ladda upp resultat"}),d.jsx("button",{className:"result-upload-modal-close",onClick:s,children:"×"})]}),d.jsx("div",{className:"result-upload-modal-body",children:d.jsxs("form",{className:"result-upload-modal-form",onSubmit:R,children:[d.jsxs("div",{className:"result-upload-modal-field",children:[d.jsx("label",{children:"Plats"}),d.jsx("select",{className:"result-upload-modal-select",value:m,onChange:A=>p(A.target.value),children:u.map((A,C)=>d.jsx("option",{value:A,children:A},C))})]}),d.jsxs("div",{className:"result-upload-modal-field",children:[d.jsx("label",{children:"År"}),d.jsx("select",{className:"result-upload-modal-select",value:_,onChange:A=>E(A.target.value),children:t.map((A,C)=>d.jsx("option",{value:A,children:A},C))})]}),d.jsxs("div",{className:"result-upload-modal-field",children:[d.jsx("label",{children:"Kategori"}),d.jsx("select",{className:"result-upload-modal-select",value:b,onChange:A=>w(A.target.value),children:i.map((A,C)=>d.jsx("option",{value:A,children:A},C))})]}),d.jsxs("div",{className:"result-upload-modal-field",children:[d.jsx("label",{children:"Distans"}),d.jsx("select",{className:"result-upload-modal-select",value:N,onChange:A=>j(A.target.value),children:l.map((A,C)=>d.jsx("option",{value:A,children:A},C))})]}),d.jsxs("div",{className:"result-upload-modal-field",children:[d.jsx("label",{children:"Fil"}),d.jsx("input",{type:"file",className:"result-upload-modal-file-input",onChange:O,accept:".pdf,.doc,.docx,.xls,.xlsx,.csv,.txt"})]}),$&&d.jsxs("div",{className:"result-upload-modal-progress",children:[d.jsx("div",{className:"result-upload-modal-progress-bar",style:{width:`${ee}%`}}),d.jsxs("div",{className:"result-upload-modal-progress-text",children:[Math.round(ee),"%"]})]}),K&&d.jsx("div",{className:"result-upload-modal-error",children:K}),d.jsxs("div",{className:"result-upload-modal-actions",children:[d.jsx("button",{type:"button",className:"result-upload-modal-cancel",onClick:s,disabled:$,children:"Avbryt"}),d.jsx("button",{type:"submit",className:"result-upload-modal-submit",disabled:$||!z,children:$?"Laddar upp...":"Ladda upp"})]})]})})]})})},jD=()=>{const[s,e]=L.useState("2023"),[t,i]=L.useState("Herrar"),[l,u]=L.useState("3 timmar"),[h,m]=L.useState([]),[p,_]=L.useState(!0),[E,b]=L.useState(null),[w,N]=L.useState(!1),{currentUser:j}=_r(),z=(j==null?void 0:j.role)==="admin";console.log("Current User:",j),console.log("Is Admin:",z);const K=(()=>{const ie=[];for(let O=2010;O<=2045;O++)ie.push(O.toString());return ie.sort((O,R)=>R-O)})();L.useEffect(()=>{(async()=>{_(!0);try{const O=Gg(fa,"results"),R=await IT(O),A=[];R.forEach(C=>{const D=C.data();(s==="all"||D.year.toString()===s)&&(t==="all"||D.category===t)&&(l==="all"||D.duration===l)&&A.push(D)}),m(A),b(null)}catch(O){console.error("Error fetching results:",O),b("Failed to load results. Please try again later."),m([])}finally{_(!1)}})()},[s,t,l]);const H=ie=>{e(ie.target.value)},$=ie=>{i(ie.target.value)},Z=ie=>{u(ie.target.value)},ee=()=>{window.location.reload()};return h.filter(ie=>(!t||ie.category===t)&&(!l||ie.duration===l)),d.jsxs("div",{className:"MaxWH location",children:[d.jsx("div",{className:"set-03",style:{height:"120px"}}),d.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E set-03",children:d.jsx("div",{className:"trans-background page_01box flex flex_col flex_j_SA",children:d.jsx("p",{className:"font_blue fonts_huge",children:"RESULTAT"})})}),d.jsx("section",{className:"set-03",style:{minHeight:"130vh",padding:"2rem"},children:d.jsxs("div",{className:"trans-background",style:{padding:"2rem",borderRadius:"8px"},children:[d.jsxs("div",{style:{marginBottom:"2rem"},className:"flex flex_j_C flex_a_C",children:[d.jsxs("select",{value:s,onChange:H,style:{padding:"0.5rem 1rem",margin:"0 1rem",background:"white",color:"rgb(56, 76, 135)",border:"2px solid rgb(56, 76, 135)",borderRadius:"4px"},children:[d.jsx("option",{value:"all",children:"Alla År"}),K.map(ie=>d.jsx("option",{style:{background:"white",color:"rgb(56, 76, 135)"},value:ie,children:ie},ie))]}),d.jsxs("select",{value:t,onChange:$,style:{padding:"0.5rem 1rem",margin:"0 1rem",background:"white",color:"rgb(56, 76, 135)",border:"2px solid rgb(56, 76, 135)",borderRadius:"4px"},children:[d.jsx("option",{style:{background:"white",color:"rgb(56, 76, 135)"},value:"all",children:"Alla Kategorier"}),d.jsx("option",{style:{background:"white",color:"rgb(56, 76, 135)"},value:"Herrar",children:"Herrar"}),d.jsx("option",{style:{background:"white",color:"rgb(56, 76, 135)"},value:"Damer",children:"Damer"}),d.jsx("option",{style:{background:"white",color:"rgb(56, 76, 135)"},value:"Mixed",children:"Mixed"})]}),d.jsxs("select",{value:l,onChange:Z,style:{padding:"0.5rem 1rem",margin:"0 1rem",background:"white",color:"rgb(56, 76, 135)",border:"2px solid rgb(56, 76, 135)",borderRadius:"4px"},children:[d.jsx("option",{style:{background:"white",color:"rgb(56, 76, 135)"},value:"all",children:"Alla Rutter"}),d.jsx("option",{style:{background:"white",color:"rgb(56, 76, 135)"},value:"3 timmar",children:"3 timmar"}),d.jsx("option",{style:{background:"white",color:"rgb(56, 76, 135)"},value:"6 timmar",children:"6 timmar"})]}),j&&d.jsx("button",{onClick:()=>N(!0),className:"result-upload-button",children:"Ladda upp resultat"})]}),d.jsx("div",{className:"race-results-container",children:p?d.jsx("p",{children:"Loading results..."}):E?d.jsx("p",{className:"error-message",children:E}):h.length===0?d.jsx("p",{children:"No results found for the selected filters. Please try different filters or upload new results."}):d.jsx("div",{className:"results-list",children:h.map(ie=>d.jsxs("div",{className:"result-item",children:[d.jsxs("div",{className:"result-info",children:[d.jsxs("h3",{children:[ie.location," - ",ie.year]}),d.jsxs("p",{children:["Category: ",ie.category]}),d.jsxs("p",{children:["Duration: ",ie.duration]}),d.jsxs("p",{children:["Uploaded: ",new Date(ie.uploadedAt).toLocaleDateString()]})]}),d.jsx("div",{className:"result-actions",children:d.jsxs("a",{href:ie.fileUrl,target:"_blank",rel:"noopener noreferrer",className:"result-download-link",children:["View/Download ",ie.fileName]})})]},ie.id))})})]})}),w&&d.jsx(Lb,{isOpen:w,onClose:()=>N(!1),onUploadSuccess:ee,year:s})]})},DD=()=>{const{currentUser:s}=_r(),[e,t]=L.useState("all"),[i,l]=L.useState("all"),[u,h]=L.useState("all"),[m,p]=L.useState([]),[_,E]=L.useState(!0),[b,w]=L.useState(!1),[N,j]=L.useState(""),z=(s==null?void 0:s.role)==="admin",P=[2025,2024,2023,2022,2021,2020,2019,2018],K=["Herrar","Damer","Mixed"],H=["3 timmar","6 timmar"],$=["Ulricehamn","Sälen","Hemsedal","Kolmården"];L.useEffect(()=>{Z()},[e,i,u]);const Z=()=>{try{E(!0),j("");const D=localStorage.getItem("raceResults");let U=D?JSON.parse(D):[];e!=="all"&&(U=U.filter(k=>k.year===parseInt(e))),i!=="all"&&(U=U.filter(k=>k.category===i)),u!=="all"&&(U=U.filter(k=>k.duration===u)),p(U)}catch(D){console.error("Error fetching results:",D),j("Failed to load results. Please try again later.")}finally{E(!1)}},ee=D=>{if(window.confirm("Are you sure you want to delete this result?"))try{const U=localStorage.getItem("raceResults");let k=U?JSON.parse(U):[];k=k.filter(je=>je.id!==D),localStorage.setItem("raceResults",JSON.stringify(k)),Z()}catch(U){console.error("Error deleting result:",U),j("Failed to delete result. Please try again.")}},ie=()=>{w(!0)},O=()=>{w(!1)},R=()=>{Z()},A=D=>m.filter(U=>U.location===D),C=D=>{const U={};return D.forEach(k=>{const je=`${k.year}-${k.category}-${k.duration}`;U[je]=k}),U};return d.jsxs("div",{className:"results-container",children:[d.jsx("div",{className:"results-top-spacer"}),d.jsx("section",{className:"results-header-section",children:d.jsxs("div",{className:"results-header-content",children:[d.jsx("h1",{className:"results-title",children:"RESULTAT"}),d.jsx("p",{className:"results-description",children:"Här hittar du resultaten från våra tävlingar. Välj år, kategori och distans för att filtrera resultaten."})]})}),d.jsxs("section",{className:"results-filters-section",children:[d.jsxs("div",{className:"results-filters",children:[d.jsxs("select",{value:e,onChange:D=>t(D.target.value),className:"results-filter-select",children:[d.jsx("option",{value:"all",children:"Alla År"}),P.map(D=>d.jsx("option",{value:D,children:D},D))]}),d.jsxs("select",{value:i,onChange:D=>l(D.target.value),className:"results-filter-select",children:[d.jsx("option",{value:"all",children:"Alla Kategorier"}),K.map(D=>d.jsx("option",{value:D,children:D},D))]}),d.jsxs("select",{value:u,onChange:D=>h(D.target.value),className:"results-filter-select",children:[d.jsx("option",{value:"all",children:"Alla Distanser"}),H.map(D=>d.jsx("option",{value:D,children:D},D))]})]}),d.jsx("div",{className:"results-upload-section",children:d.jsx("button",{onClick:ie,className:"results-upload-button",style:{padding:"10px 20px",backgroundColor:"rgb(56, 76, 135)",color:"white",border:"none",borderRadius:"4px",fontSize:"1rem",cursor:"pointer",display:"block",margin:"0 auto"},children:"Ladda upp resultat"})})]}),N&&d.jsx("div",{className:"results-error",children:N}),_?d.jsx("div",{className:"results-loading",children:"Laddar resultat..."}):d.jsx("section",{className:"results-content-section",children:d.jsx("div",{className:"results-grid",children:$.map(D=>{const U=A(D),k=C(U);return d.jsxs("div",{className:"results-location-card",children:[d.jsx("h2",{className:"results-location-title",children:D}),Object.keys(k).length>0?d.jsx("div",{className:"results-list",children:Object.entries(k).map(([je,Ve])=>d.jsxs("div",{className:"results-item",children:[d.jsx("a",{href:Ve.fileUrl,target:"_blank",rel:"noopener noreferrer",className:"results-link",children:d.jsxs("div",{className:"results-info",children:[d.jsx("span",{className:"results-year",children:Ve.year}),d.jsx("span",{className:"results-category",children:Ve.category}),d.jsx("span",{className:"results-duration",children:Ve.duration})]})}),z&&d.jsx("button",{onClick:()=>ee(Ve.id),className:"results-delete-button",children:"Ta bort"})]},je))}):d.jsxs("div",{className:"results-empty",children:["Inga resultat tillgängliga för ",D," med valda filter."]})]},D)})})}),b&&d.jsx(Lb,{onClose:O,onUploadSuccess:R,isAdmin:z,locations:$,years:P,categories:K,durations:H})]})},OD=()=>{const[s,e]=L.useState(null),[t,i]=L.useState([]),[l,u]=L.useState(1),h=8,[m,p]=L.useState({}),_=L.useMemo(()=>["/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_025.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_057.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_065.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_094.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_113.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_138.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_150.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_202.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_209.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_213.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_235.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_246.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_265.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_352.jpg","/AimRV/images/EE-AIMChallenge24-Uhamn-0132-high.jpg","/AimRV/images/EE-AIMChallenge24-Uhamn-0136-high.jpg","/AimRV/images/EE-AIMChallenge24-Uhamn-0171-high.jpg","/AimRV/images/EE-AIMChallenge24-Uhamn-0405-high.jpg","/AimRV/images/Kolmarden_1.jpg","/AimRV/images/Kolmarden_2.jpg"],[]),E=L.useCallback(()=>{const j=(l-1)*h,z=l*h,P=_.slice(j,z);i(K=>[...K,...P]),u(K=>K+1)},[l,_,h]);L.useEffect(()=>{E()},[E]),L.useEffect(()=>{const j=()=>{window.innerHeight+document.documentElement.scrollTop>=document.documentElement.offsetHeight-100&&(l-1)*h<_.length&&E()};return window.addEventListener("scroll",j),()=>window.removeEventListener("scroll",j)},[E,l,_.length,h]),L.useEffect(()=>{if(s!==null){const j=new Image;j.src=t[s],j.onload=()=>{p(z=>({...z,[s]:!0}))}}},[s,t]);const b=j=>{e(s===j?null:j)},N=(()=>{const j=[];let z=[],P=4;return t.forEach((K,H)=>{z.push({image:K,index:H}),z.length===P&&(j.push(z),z=[],P=P===4?3:4)}),z.length>0&&j.push(z),j})();return d.jsxs("div",{children:[d.jsx("div",{style:{height:"120px"}}),d.jsxs("div",{className:"gallery-container",style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"0.1rem",padding:"0.25rem",position:"relative"},children:[N.map((j,z)=>d.jsx("div",{style:{display:"flex",justifyContent:"center",gap:"3rem",width:"100%",marginBottom:"-20px",paddingLeft:j.length===3?"10%":"0",paddingRight:j.length===3?"10%":"0"},children:j.map(({image:P,index:K})=>{const H=s===K;return d.jsx("div",{onClick:()=>b(K),style:{width:H?"80vw":"250px",height:H?"80vh":"250px",transition:"all 0.5s ease",cursor:"pointer",position:H?"fixed":"relative",top:H?"50%":"auto",left:H?"50%":"auto",transform:H?"translate(-50%, -50%) rotate(0deg)":"rotate(45deg) scale(0.9)",zIndex:H?1e3:1,border:"2px solid #00a6fb",borderRadius:"8px",overflow:"hidden",boxShadow:"0 4px 8px rgba(0, 166, 251, 0.3)",margin:"0.1rem 1.5rem"},children:d.jsx("img",{src:P,alt:`Gallery image ${K+1}`,loading:"lazy",width:H?"auto":"250",height:H?"auto":"250",style:{width:"100%",height:"100%",objectFit:"cover",transform:H?"rotate(0deg) scale(1)":"rotate(-45deg) scale(1.5)"}})},K)})},z)),s!==null&&d.jsx("div",{onClick:()=>e(null),style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.8)",zIndex:999}}),t.length<_.length&&d.jsx("div",{style:{width:"100%",textAlign:"center",padding:"2rem"},children:d.jsx("button",{onClick:E,style:{padding:"0.75rem 1.5rem",backgroundColor:"#00a6fb",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"1rem",fontWeight:"bold"},children:"Load More Images"})})]}),d.jsx("div",{style:{height:"80px"}})]})},MD=()=>{const[s,e]=L.useState(0),[t,i]=L.useState(!1),l=L.useRef([]),u=[{id:1,src:"/videos/AIM nr 1 Formula 16x9.mov",title:"AIM Challenge Formula",description:"Highlights from the AIM Challenge Formula event"},{id:2,src:"/videos/AIM nr 1 Formula 16x9.mov",title:"AIM Challenge Highlights",description:"More exciting moments from the AIM Challenge"},{id:3,src:"/videos/AIM nr 1 Formula 16x9.mov",title:"AIM Challenge Recap",description:"A recap of the amazing AIM Challenge events"}];L.useEffect(()=>{l.current=l.current.slice(0,u.length)},[u.length]);const h=_=>{l.current.forEach((E,b)=>{b!==_&&E&&E.pause()}),i(!0),e(_)},m=()=>{e(_=>(_+1)%u.length)},p=()=>{e(_=>(_-1+u.length)%u.length)};return d.jsxs("div",{className:"video-carousel-container",style:{padding:"80px 0 40px 0",backgroundColor:"#f0f8ff",borderTop:"1px solid #e0e0e0",width:"100%",maxWidth:"100%"},children:[d.jsx("h2",{style:{textAlign:"center",marginBottom:"30px",color:"#00a6fb",fontSize:"2rem"},children:"AIM Challenge Videos"}),d.jsxs("div",{style:{position:"relative",width:"100%",margin:"0 auto",overflow:"hidden"},children:[d.jsx("button",{onClick:p,style:{position:"absolute",left:"10px",top:"50%",transform:"translateY(-50%)",zIndex:10,background:"rgba(0, 166, 251, 0.7)",color:"white",border:"none",borderRadius:"50%",width:"50px",height:"50px",fontSize:"24px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.3)"},"aria-label":"Previous video",children:"<"}),d.jsx("button",{onClick:m,style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",zIndex:10,background:"rgba(0, 166, 251, 0.7)",color:"white",border:"none",borderRadius:"50%",width:"50px",height:"50px",fontSize:"24px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.3)"},"aria-label":"Next video",children:">"}),d.jsx("div",{style:{display:"flex",transition:"transform 0.5s ease",transform:`translateX(${s*-100}%)`,width:"100%",position:"relative"},children:u.map((_,E)=>d.jsx("div",{style:{flex:"0 0 100%",padding:"0 20px",boxSizing:"border-box",width:"100%"},children:d.jsxs("div",{style:{background:"#fff",borderRadius:"8px",overflow:"hidden",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",maxWidth:"1200px",margin:"0 auto"},children:[d.jsx("div",{style:{position:"relative",paddingTop:"56.25%"},children:d.jsx("video",{ref:b=>l.current[E]=b,src:_.src,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover"},controls:!0,onPlay:()=>h(E),onPause:()=>i(!1)})}),d.jsxs("div",{style:{padding:"20px"},children:[d.jsx("h3",{style:{margin:"0 0 10px 0",color:"#00a6fb",fontSize:"1.5rem"},children:_.title}),d.jsx("p",{style:{margin:0,color:"#333",lineHeight:1.6},children:_.description})]})]})},_.id))}),d.jsx("div",{style:{display:"flex",justifyContent:"center",marginTop:"20px"},children:u.map((_,E)=>d.jsx("button",{onClick:()=>e(E),style:{width:"12px",height:"12px",borderRadius:"50%",margin:"0 5px",background:E===s?"#00a6fb":"#ccc",border:"none",cursor:"pointer"}},E))})]})]})},LD=()=>d.jsxs("div",{className:"om-oss-container",children:[d.jsx("div",{className:"om-oss-header page_01 locked-background flex flex_col flex_j_E",children:d.jsx("div",{className:"om-oss-header-content",children:d.jsx("div",{className:"trans-background page_01box flex flex_col flex_j_SA",children:d.jsx("div",{className:"om-oss-title flex flex_j_C flex_a_C",children:d.jsx(M,{textKey:"om-oss-title",defaultText:"OM OSS",tag:"p",className:"font_blue fonts_huge"})})})})}),d.jsx("section",{className:"om-oss-section flex flex_j_C flex_a_C set-03",children:d.jsx("div",{className:"om-oss-content MaxWH flex flex_col flex_j_C",children:d.jsxs("div",{className:"om-oss-content-wrapper",children:[d.jsx(M,{textKey:"om-oss-title-1",defaultText:"Vad är AIM Challenge?",tag:"h2",className:"fonts_large om-oss-title"}),d.jsx(M,{textKey:"om-oss-text-1",defaultText:"AIM Challenge är en multisporttävling som arrangeras i Åre, Sverige. Tävlingen går ut på att ta sig runt en bana med hjälp av karta och kompass. Längs banan finns kontroller som ska besökas i rätt ordning.",tag:"p",className:"fonts_small om-oss-text"}),d.jsx(M,{textKey:"om-oss-text-2",defaultText:"​",tag:"p",className:"fonts_small om-oss-text"}),d.jsx(M,{textKey:"om-oss-text-3",defaultText:"Tävlingen arrangeras av AIM Challenge AB och har funnits sedan 2004. Tävlingen har utvecklats under åren och är idag en av Sveriges största multisporttävlingar.",tag:"p",className:"fonts_small om-oss-text"}),d.jsx(M,{textKey:"om-oss-text-4",defaultText:"​",tag:"p",className:"fonts_small om-oss-text"}),d.jsx(M,{textKey:"om-oss-text-5",defaultText:"AIM Challenge är en tävling för alla. Oavsett om du är elit eller motionär finns det en klass för dig. Tävlingen är uppdelad i olika klasser beroende på svårighetsgrad och längd.",tag:"p",className:"fonts_small om-oss-text"}),d.jsx(M,{textKey:"om-oss-text-6",defaultText:"​",tag:"p",className:"fonts_small om-oss-text"}),d.jsx(M,{textKey:"om-oss-text-7",defaultText:"Tävlingen går ut på att ta sig runt en bana med hjälp av karta och kompass. Längs banan finns kontroller som ska besökas i rätt ordning. Tävlingen innehåller olika moment som löpning, cykling, paddling, simning och klättring.",tag:"p",className:"fonts_small om-oss-text"}),d.jsx(M,{textKey:"om-oss-text-8",defaultText:"​",tag:"p",className:"fonts_small om-oss-text"})]})})}),d.jsx("div",{className:"om-oss-background-container locked-background"}),d.jsx("section",{className:"om-oss-section flex flex_j_C flex_a_C set-03",children:d.jsx("div",{className:"om-oss-content MaxWH flex flex_col flex_j_C",children:d.jsxs("div",{className:"om-oss-content-wrapper",children:[d.jsx(M,{textKey:"om-oss-title-2",defaultText:"Så här är det att vara med i AIM Challenge",tag:"h2",className:"fonts_large om-oss-title"}),d.jsx(M,{textKey:"om-oss-text-9",defaultText:"AIM Challenge är en rolig tävling. Det är oftast det som är det centrala i de deltagarkommentarer vi får både från eliten och motionärerna. Man färdas till största delen med hjälp av sin mountainbike och sina löparskor, men också i klättersele, paddlandes i kanot eller så strippar man helt enkelt och simmar ut till kontroller som är i vattnet.",tag:"p",className:"fonts_small om-oss-text"}),d.jsx(M,{textKey:"om-oss-text-10",defaultText:"​",tag:"p",className:"fonts_small om-oss-text"}),d.jsx(M,{textKey:"om-oss-text-11",defaultText:"Det finns inga krav på förkunskaper om de olika momenten utan vi har kunnig personal vid varje post som innefattas av klättring, firning, simning, paddling. Varje lag genomför tävlingen i sin egen takt och med egen strategi. Visst finns det de lag som satsar allt för att knipa segern och det är det som är det roliga med konceptet. Elit och motionär tävlar på samma villkor på samma bana.",tag:"p",className:"fonts_small om-oss-text"}),d.jsx(M,{textKey:"om-oss-text-12",defaultText:"​",tag:"p",className:"fonts_small om-oss-text"}),d.jsx(M,{textKey:"om-oss-text-13",defaultText:"Våra deltagare är allt ifrån världseliten i multisport som Thule Adventure team, Team Silva, Team Multitude Salomon men också glada motionärer allt från åldrarna 15 till pensionärer. Oavsett ålder och fysiska förutsättningar är detta ett roligt och annorlunda sätt att tävla på.",tag:"p",className:"fonts_small om-oss-text"})]})})}),d.jsxs("section",{className:"om-oss-cards-container simple-background",children:[d.jsxs("div",{className:"om-oss-card simple-background",children:[d.jsxs("div",{className:"om-oss-card-content trans-background",children:[d.jsx(M,{textKey:"card-1-title",defaultText:"REGLER",tag:"p",className:"font_blue fonts_medium_B"}),d.jsx(M,{textKey:"card-1-text",defaultText:"Tävlingsregler och information",tag:"p",className:"font_blue fonts_medium"})]}),d.jsx("div",{className:"om-oss-card-button",children:d.jsx(Ae,{to:"/page2",className:"location button-2",children:"Läs mer"})})]}),d.jsxs("div",{className:"om-oss-card simple-background",children:[d.jsxs("div",{className:"om-oss-card-content trans-background",children:[d.jsx(M,{textKey:"card-2-title",defaultText:"FAQ",tag:"p",className:"font_blue fonts_medium_B"}),d.jsx(M,{textKey:"card-2-text",defaultText:"Vanliga frågor och svar",tag:"p",className:"font_blue fonts_medium"})]}),d.jsx("div",{className:"om-oss-card-button",children:d.jsx(Ae,{to:"/page3",className:"location button-2",children:"Läs mer"})})]}),d.jsxs("div",{className:"om-oss-card simple-background",children:[d.jsxs("div",{className:"om-oss-card-content trans-background",children:[d.jsx(M,{textKey:"card-3-title",defaultText:"HISTORIEN OM AIM",tag:"p",className:"font_blue fonts_medium_B"}),d.jsx(M,{textKey:"card-3-text",defaultText:"Vår resa sedan 2004",tag:"p",className:"font_blue fonts_medium"})]}),d.jsx("div",{className:"om-oss-card-button",children:d.jsx(Ae,{to:"/page3",className:"location button-2",children:"Läs mer"})})]})]})]}),VD=()=>d.jsxs("div",{className:"flex flex_col regler-container",children:[d.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",children:d.jsx("div",{className:"trans-background page_01box flex flex_col flex_j_SA",children:d.jsx("div",{className:"om-oss-title flex flex_j_C flex_a_C",children:d.jsx("p",{className:"font_blue fonts_huge font_white",children:"REGLER"})})})}),d.jsx("section",{className:"om-oss-section regler-section flex flex_j_C flex_a_C set-03",children:d.jsx("div",{className:"om-oss-content MaxWH flex flex_col flex_j_C regler-content-container",children:d.jsxs("div",{className:"regler-content",children:[d.jsx("h2",{className:"regler-heading font_white",children:"LAGET"}),d.jsxs("ul",{className:"regler-list",children:[d.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Åldersgräns 15år/18år"}),d.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Båda deltagarna måste ha olycksförsäkring som täcker olyckor i samband med tävling/idrottsaktiviteter."}),d.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Det är lagets ansvar att se till att de är registrerade i rätt klass."}),d.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Startnummer ska placeras fram på cykel samt synligt på kroppen på båda deltagarna"}),d.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Det är tillåtet att använda GPS men det är alltid kartan som gäller. GPSens kartunderlag stämmer inte alltid överens med den utskrivna AIM kartan."}),d.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Laget ska alltid vara samlade max 20 meter mellan lagmedlemmarna."}),d.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Det är inte tillåtet att ha följebil."})]}),d.jsx("h2",{className:"regler-heading-with-margin font_white",children:"SÄKERHET"}),d.jsxs("ul",{className:"regler-list",children:[d.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Lagen väljer själva vilka kontroller de klarar att ta baserat på väder, egen färdighet och kunskap."}),d.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Lagen väljer själva vilken väg de vill ta till kontrollerna baserat på väder, egen färdighet och kunskap."}),d.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Trafiken är inte reglerad under tävlingen."}),d.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Trafikregler gäller alltid."}),d.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Första hjälpen kit ska bäras med under hela tävlingen"}),d.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Hjälm ska bäras under all cykling, klättring, bouldering och rappellering"}),d.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Vid olycka är det obligatoriska att hjälpa till."}),d.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Vid allvarlig olycka ring nöd nummer 112 i Sverige och 113 i Norge"}),d.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Vid behov för enklare medicinsk hjälp ring telefonnumret på baksidan av kartan"}),d.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Tävlingsledningens direktiv gäller alltid."})]}),d.jsx("h2",{className:"regler-heading-with-margin font_white",children:"ÖVRIGT"}),d.jsxs("ul",{className:"regler-list",children:[d.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Elcyklar är ej tillåtet, med undantag för Elcykelklassen i Hemsedal."}),d.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Beroende på kapacitet är det möjligt att använda liften i Hemsedal, lyssna noga på vad speakern ger för information för vad som gäller för årets tävling."}),d.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Deltagare som bryter ska genast meddela tävlingsledningen. Telefonnummer står på kartan."}),d.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Synliga, osynliga och tävlande domare befinner sig i tävlingsområdet och ser till att reglerna följs."}),d.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Regelbrott kan leda till poängavdrag eller diskvalificering"}),d.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Deltagare som vinner priser som lottas ut pga olika händelser eller som dras på startnummer måste närvara på prisutdelningen för att få sitt pris. Är man inte närvarande och ditt namn/lagnamn dras drar vi reservnamn/lagnamn."}),d.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"LINDVALLEN, viadukten mellan Lodgen och Experium är stängd under hela tävlingen."}),d.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Tävlingsledningens beslut går inte att överklaga."}),d.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Kloka människor skräpar inte ner, för alla andra är det förbjudet."}),d.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Respektera privat mark, ta inte genvägar över privata områden"}),d.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Beträda odlad mark är förbjudet. Åkrar som inte har skördats är odlad mark."}),d.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Stäng alla grindar som ni öppnar."}),d.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Visa betande djur respekt genom att stiga av cykeln och gå förbi dem."})]}),d.jsx("h2",{className:"regler-heading-with-margin font_white",children:"OBLIGATORISK UTRUSTNING"}),d.jsxs("ul",{className:"regler-list",children:[d.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Cykel, utan elmotor med undantag för Elcykelklassen i Hemsedal."}),d.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Cykelhjälm vid cykling"}),d.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Mobiltelefon (1 st per lag)"}),d.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Första hjälpen (1 st per lag)"})]}),d.jsx("h2",{className:"regler-heading-with-margin font_white",children:"VI REKOMMENDERAR ATT NI ÄVEN HAR MED ER"}),d.jsxs("ul",{className:"regler-list",children:[d.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Förstärkningskläder vid hastigt väderomslag"}),d.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Kompass"}),d.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Vatten i en Camelbak"}),d.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Energy bars eller liknande"}),d.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Klocka"}),d.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Löparskor"}),d.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Cykelslang och reparationskit + övriga verktyg, tex en biketool för enklare justeringar"})]}),d.jsx("h2",{className:"regler-heading-with-margin font_white",children:"AIM CHALLENGE STÅR FÖR"}),d.jsx("ul",{className:"regler-list",children:d.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Kanot, SUP, sele, rep, hjälm vid firningar/klättring. All utrustning vid bemannade poster finns där klättring etc förekommer."})}),d.jsx("h2",{className:"regler-heading-with-margin font_white",children:"VILLKOR I FÖRBINDELSE MED ANMÄLAN"}),d.jsx("p",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Villkor i förbindelse med anmälan"}),d.jsxs("p",{className:"fonts_small om-oss-text regler-contact font_white",children:["Om du har frågor: ",d.jsx("a",{href:"mailto:info@aimchallenge.com",className:"font_white",children:"info@aimchallenge.com"})]})]})})}),d.jsx("div",{className:"locked-background",style:{height:"50vh",width:"100%"}})]}),PD=({question:s,answer:e})=>{const[t,i]=L.useState(!1),l=()=>{i(!t)};return d.jsxs("div",{className:"faq-item",children:[d.jsxs("div",{className:`faq-question ${t?"active":""}`,onClick:l,children:[d.jsx("h3",{className:"question-text",children:s}),d.jsx("span",{className:"icon",children:t?"▲":"▼"})]}),d.jsx("div",{className:`faq-answer ${t?"open":""}`,children:d.jsx("p",{children:e})})]})},lh=({title:s,items:e})=>d.jsxs("div",{className:"faq-category",children:[d.jsx("h2",{className:"faq-category-title",children:s}),e.map((t,i)=>d.jsx(PD,{question:t.question,answer:t.answer},i))]}),UD=()=>{const s=[{question:"Jag är nybörjare på multisport, kan jag delta?",answer:"Absolut, det är DU som väljer väg och antal kontroller. Ta 5 kontroller och ha en fin tur på fjället, eller ta 40 och vinn. Alla kan delta efter egen förmåga och ambition."},{question:"Behöver man vara en riktigt stenhård multisportare för att delta?",answer:"Det finns inga krav på förkunskaper om de olika momenten utan vi har kunnig personal vid varje post som innebär klättring, firning, simning etc. I och med AIM-konceptet så tar varje lag tävlingen i sin egen takt och sin egen strategi. Visst finns det de lag som satsar allt för att knipa segern och det är det som är det roliga med konceptet. Elit och motionär tävlar på samma villkor på samma bana."},{question:"Är det olika klasser?",answer:"Dam, Herr och Mix. Elit och motion tävlar i samma klass."},{question:"Vilken åldersgräns gäller?",answer:"Åldersgränsen för AIM Challenge är 15/18 år beroende på tävling och medtävlande. Läs mer här."},{question:"Kan jag ändra information om mitt lag. Tex ändrar lagnamn eller deltagare?",answer:"Ja, logga in på ditt RaceID-konto för att göra ändringar."},{question:"Om jag blir sjuk, får jag tillbaka min anmälningsavgift då?",answer:"Nej. Det går däremot bra att sälja sin startplats till en kompis. Vid försäljning så uppdaterar ni era uppgifter på ditt RaceID-konto. Alternativt ta kontakt med ditt försäkringsbolag för att se vad det täcker."},{question:"Hur vet jag om jag har olycksförsäkring?",answer:"Kontakta ditt försäkringsbolag, de flesta har den redan."}],e=[{question:"Ska jag tävla med löpskor eller cykelskor?",answer:"Det är en fördel att cykla med SPD sko, och det är en fördel att springa med löparskor. Ta med både och!"},{question:"Behöver man ha all utrustning med sig?",answer:"Nej. Deltagare ska ha med sig cykel, hjälm, första hjälpen och mobiltelefon. Vid en klätterkontroll finns kunnig personal med all nödvändig utrustning, de säkrar deltagarna och ser till att klättringen går säkert till. Vid en paddel kontroll finns det kanot, SUP, luftmadrass eller liknande. Skulle man inte ha en mountainbike går det bra att hyra och detta bör i så fall förbokas."},{question:"Får man använda sig av GPS?",answer:"Ja, det är tillåtet att använda en GPS. Det är dock inte alltid det bästa eftersom det är kartan som gäller och GPSen och kartans information kan skilja sig åt."}],t=[{question:"Om jag inte hinner till registreringen på fredag kväll, vad gör jag då?",answer:"Det finns möjlighet för registrering på lördag morgon innan start, dock ser vi helst att all registrering sker under fredag kvällen."},{question:"Ingår banketten i priset?",answer:"Nej, den får man köpa vid sidan om. Se respektive tävling för bokning av mat. Men prisutdelningen som följer efter banketten är gratis för alla deltagare."},{question:"Vilka tider är det som gäller för själva tävlandet?",answer:"Program: Fredagen: Registrering 17:00-21:00 i Lindvallen & 19.00-22.00 i Hemsedal. Lördagen: 9.30 Info möte vid start, 10.00 START, 16.00 MÅL. 22.00 PRISUTDELNING. Söndagen: Väl förtjänad sovmorgon och en härlig dag på fjället! Se detaljerat program under de enskilda tävlingarna."}],i=[{question:"Hur ser kartan ut?",answer:"Kartan får alla lagen när startskottet går. Där är samtliga kontroller utmärkta med position, poäng, beskrivning och om kontrollen innefattar klättring, paddling etc. Skalan är ungefär 1:30 000. Varje år är ett nytt år och därför en ny bansträckning. Kontrollernas position varierar från år till år så den strategi man hade året innan kanske inte lönar sig i år."},{question:"Måste både deltagarna simma/klättra/rappellera till en kontroll?",answer:"Lagen ska alltid hålla ihop och ska under hela tävlingen kunna kommunicera med varandra. Utom på de kontroller som vi kallar bemannade kontroller, dvs simma, paddla, klättra, balansera och rappelera. Här räcker det att den ena i laget tar posten. Både deltagarna ska dock vara så nära varandra som möjligt vid dessa poster."},{question:"Rappellering och klättring - hur goda bakgrundskunskaper måste man ha för att ställa upp?",answer:"Vid varje bemannad post finns det personal som är kunniga och med riktig utrustning. Lite erfarenhet ifrån klättring hjälper men är inte nödvändigt. Man behöver ingen kunskap om säkerhet."},{question:"Vilka regler gäller?",answer:"De regler som gäller för anmälan och under tävling finner du här >>"}];return d.jsxs("div",{className:"flex flex_col faq-container",children:[d.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",children:d.jsx("div",{className:"trans-background page_01box flex flex_col flex_j_SA",children:d.jsx("div",{className:"om-oss-title flex flex_j_C flex_a_C",children:d.jsx("p",{className:"font_blue fonts_huge font_white",children:"FAQ"})})})}),d.jsx("section",{className:"faq-section faq-dark-section",children:d.jsx("div",{className:"faq-content-container",children:d.jsxs("div",{className:"faq-content",children:[d.jsx("h1",{className:"faq-heading",children:"Vanliga frågor"}),d.jsx(lh,{title:"Allmänna frågor",items:s})]})})}),d.jsx("section",{className:"faq-section faq-light-section",children:d.jsx("div",{className:"faq-content-container",children:d.jsx("div",{className:"faq-content",children:d.jsx(lh,{title:"Utrustning",items:e})})})}),d.jsx("section",{className:"faq-section faq-dark-section",children:d.jsx("div",{className:"faq-content-container",children:d.jsx("div",{className:"faq-content",children:d.jsx(lh,{title:"Tävlingsdagen",items:t})})})}),d.jsx("section",{className:"faq-section faq-light-section",children:d.jsx("div",{className:"faq-content-container",children:d.jsx("div",{className:"faq-content",children:d.jsx(lh,{title:"Teknisk information",items:i})})})}),d.jsx("section",{className:"faq-section faq-dark-section",children:d.jsx("div",{className:"faq-content-container",children:d.jsx("div",{className:"faq-content",children:d.jsxs("div",{className:"faq-category",children:[d.jsx("h2",{className:"faq-category-title",children:"Har du fler frågor?"}),d.jsx("div",{className:"flex flex_j_C flex_a_C",children:d.jsxs("p",{className:"faq-contact-text",children:["Ta gärna kontakt om ni inte hittar svaret på era frågor: ",d.jsx("a",{href:"mailto:info@aimchallenge.com",className:"font_white",children:"info@aimchallenge.com"})]})})]})})})}),d.jsx("div",{className:"locked-background",style:{height:"50vh",width:"100%"}})]})},BD=()=>d.jsxs("div",{className:"flex flex_col",children:[d.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",children:d.jsx("div",{className:"trans-background page_01box flex flex_col flex_j_SA",children:d.jsx("div",{className:"om-oss-title flex flex_j_C flex_a_C",children:d.jsx(M,{textKey:"historien-om-aim-title",defaultText:"HISTORIEN OM AIM",tag:"p",className:"font_blue fonts_huge font_white"})})})}),d.jsx("section",{className:"om-oss-section regler-section flex flex_j_C flex_a_C set-03 historien-om-aim-section",children:d.jsx("div",{className:"om-oss-content MaxWH flex flex_col flex_j_C regler-content-container",children:d.jsxs("div",{className:"regler-content historien-om-aim-content",children:[d.jsx(M,{textKey:"historien-om-aim-text-1",defaultText:"AIM Challenge är idag Nordens största multisporttävling men historien om AIM Challenge börjar mycket tidigare än så.",tag:"p",className:"fonts_small om-oss-text font_white historien-om-aim-text"}),d.jsx(M,{textKey:"historien-om-aim-text-2",defaultText:"Vi låter Lisa Nordlind, grundare och initiativtagare till AIM Challenge berätta hur det gick till:",tag:"p",className:"fonts_small om-oss-text font_white historien-om-aim-text"}),d.jsx(M,{textKey:"historien-om-aim-text-3",defaultText:"År 2000 deltog jag i mitt livs största äventyr när jag tävlade i multisporttävlingen Camel Trophy.",tag:"p",className:"fonts_small om-oss-text font_white historien-om-aim-text"}),d.jsx(M,{textKey:"historien-om-aim-text-4",defaultText:"Av över en miljon sökande så var det 16 tvåmannalag från 22 länder som fick vara med och leka. Jag fick äran att representera Team Skandinavien tillsammans med brandmannen Mikael Stening.",tag:"p",className:"fonts_small om-oss-text font_white historien-om-aim-text"}),d.jsx(M,{textKey:"historien-om-aim-text-5",defaultText:"Lag på två personer skulle under 3 veckor samla så många kontroller som möjligt utav 400 utplacerade. Huvudtransportmedel var en specialbyggd RIB (Rigid Inflatable Boat). Båten var utrustad med mountainbikes, klätterutrustning, paddelbräda, dyk- och snorkel utrustning, tält, mat och vatten.",tag:"p",className:"fonts_small om-oss-text font_white historien-om-aim-text"}),d.jsx(M,{textKey:"historien-om-aim-text-6",defaultText:"Lagen fick själva välja vilka kontroller de ville ta, i vilken ordning och vilken väg.",tag:"p",className:"fonts_small om-oss-text font_white historien-om-aim-text"}),d.jsx(M,{textKey:"historien-om-aim-text-7",defaultText:"Olika kontroller gav olika poäng. Låter det bekant?",tag:"p",className:"fonts_small om-oss-text font_white historien-om-aim-text"}),d.jsx(M,{textKey:"historien-om-aim-text-8",defaultText:"Tävlingsområdet var ögrupperna Tonga och Samoa i Söderhavet. Det var galet roligt och Mikael och jag lyckades ta oss till en fjärde plats.",tag:"p",className:"fonts_small om-oss-text font_white historien-om-aim-text"}),d.jsx(M,{textKey:"historien-om-aim-text-9",defaultText:"År 2004 spenderade jag min första sommar i Hemsedal. Det var ganska lugnt i den lilla skidorten så jag beslutade mig för att starta ett nytt event. För mig är det viktigt att träning är roligt och jag tycker att den bästa träningen är tävling. Eftersom Camel Trophy var det roligaste jag någonsin varit med om så föll det naturligt att försöka skapa ett event där andra människor får uppleva samma lekfulla koncept om än i en mindre skala. Tävlingen fick namnet 'Hemsedal Challenge' och den första helgen i september 2004 stod 150 deltagare på startlinjen.",tag:"p",className:"fonts_small om-oss-text font_white historien-om-aim-text"}),d.jsx(M,{textKey:"historien-om-aim-text-10",defaultText:"Nära, kära, vänner och familj samlades från alla håll och kanter för att ställa upp som funktionärer.",tag:"p",className:"fonts_small om-oss-text font_white historien-om-aim-text"}),d.jsx(M,{textKey:"historien-om-aim-text-11",defaultText:"Efter 5 år startade vi en tävling till i Lindvallen och bytte namn till AIM Challenge.",tag:"p",className:"fonts_small om-oss-text font_white historien-om-aim-text"}),d.jsx(M,{textKey:"historien-om-aim-text-12",defaultText:"Efter AIM Challenge 2019 tackade Lisa för sig och lämnade över stafettpinnen till Marcus Andersson, som nu står inför en spännande framtid där han ser frem emot att driva vidare och utveckla AIM Challenge.",tag:"p",className:"fonts_small om-oss-text font_white historien-om-aim-text"})]})})}),d.jsx("div",{className:"historien-om-aim-background-container locked-background page_01"})]}),HD=({isOpen:s,onClose:e,onSave:t})=>{const[i,l]=L.useState(""),[u,h]=L.useState(""),[m,p]=L.useState(null),[_,E]=L.useState(""),[b,w]=L.useState(!1),[N,j]=L.useState(""),[z,P]=L.useState(""),[K,H]=L.useState(0),[$,Z]=L.useState(0),ee=L.useRef(null),ie=L.useRef(null),{isAdmin:O}=yr(),R=le=>{const ye=le.target.files[0];if(ye){const pe=new FileReader;pe.onloadend=()=>{p(ye),E(pe.result)},pe.readAsDataURL(ye)}},A=le=>{h(le.target.value)},C=()=>{ee.current&&(H(ee.current.selectionStart),Z(ee.current.selectionEnd))},D=()=>{if(w(!b),!b&&ee.current){const le=u.substring(ee.current.selectionStart,ee.current.selectionEnd);P(le),H(ee.current.selectionStart),Z(ee.current.selectionEnd)}},U=()=>{if(!N.trim()){alert("Please enter a URL");return}const le=`[${z||N}](${N})`,ye=u.substring(0,K)+le+u.substring($);h(ye),w(!1),j(""),P("")},k=()=>{if(!i.trim()||!u.trim()||!_){alert("Vänligen fyll i alla fält (titel, bild och innehåll)");return}const le={id:Date.now(),title:i,date:new Date().toLocaleDateString("sv-SE",{year:"numeric",month:"long",day:"numeric"}),content:u,image:_};t(le),je(),e()},je=()=>{l(""),h(""),p(null),E(""),w(!1),j(""),P("")},Ve=le=>{le.target.className==="create-post-modal__overlay"&&e()};return!s||!O?null:d.jsxs("div",{className:"create-post-modal",children:[d.jsx("div",{className:"create-post-modal__overlay",onClick:Ve}),d.jsxs("div",{className:"create-post-modal__content",children:[d.jsx("h2",{className:"create-post-modal__title",children:"Skapa nytt inlägg"}),d.jsxs("div",{className:"create-post-modal__form",children:[d.jsxs("div",{className:"create-post-modal__form-group",children:[d.jsx("label",{className:"create-post-modal__label",children:"Titel"}),d.jsx("input",{type:"text",className:"create-post-modal__input",value:i,onChange:le=>l(le.target.value),placeholder:"Ange titel"})]}),d.jsxs("div",{className:"create-post-modal__form-group",children:[d.jsx("label",{className:"create-post-modal__label",children:"Bild"}),d.jsxs("div",{className:"create-post-modal__image-upload",onClick:()=>ie.current.click(),children:[_?d.jsx("img",{src:_,alt:"Preview",className:"create-post-modal__image-preview"}):d.jsx("div",{className:"create-post-modal__image-placeholder",children:"Klicka för att ladda upp en bild"}),d.jsx("input",{type:"file",accept:"image/*",onChange:R,className:"create-post-modal__file-input",ref:ie})]})]}),d.jsxs("div",{className:"create-post-modal__form-group",children:[d.jsx("label",{className:"create-post-modal__label",children:"Innehåll"}),d.jsxs("div",{children:[d.jsx("textarea",{className:"create-post-modal__textarea",value:u,onChange:A,onSelect:C,ref:ee,placeholder:"Ange innehåll"}),d.jsx("button",{type:"button",onClick:D,className:"create-post-modal__button create-post-modal__button--secondary",style:{marginTop:"10px"},children:"Lägg till länk"}),b&&d.jsxs("div",{className:"create-post-modal__link-tools",children:[d.jsxs("div",{children:[d.jsx("label",{children:"Länktext:"}),d.jsx("input",{type:"text",value:z,onChange:le=>P(le.target.value),className:"create-post-modal__input",style:{marginTop:"5px",width:"100%"}})]}),d.jsxs("div",{children:[d.jsx("label",{children:"URL:"}),d.jsx("input",{type:"text",value:N,onChange:le=>j(le.target.value),className:"create-post-modal__input",style:{marginTop:"5px",width:"100%"}})]}),d.jsxs("div",{style:{marginTop:"10px"},children:[d.jsx("button",{onClick:U,className:"create-post-modal__button create-post-modal__button--primary",children:"Infoga länk"}),d.jsx("button",{onClick:()=>w(!1),className:"create-post-modal__button create-post-modal__button--secondary",style:{marginLeft:"10px"},children:"Avbryt"})]})]})]})]}),d.jsxs("div",{className:"create-post-modal__actions",children:[d.jsx("button",{onClick:e,className:"create-post-modal__button create-post-modal__button--secondary",children:"Avbryt"}),d.jsx("button",{onClick:k,className:"create-post-modal__button create-post-modal__button--primary",disabled:!i.trim()||!u.trim()||!_,children:"Spara"})]})]})]})]})},Vb=Gg(fa,"posts"),zD=async()=>{try{const s=C1(Vb,I1("createdAt","desc")),e=await IT(s),t=[];return e.forEach(i=>{t.push({id:i.id,...i.data()})}),t}catch(s){throw console.error("Error getting posts:",s),s}},E0=async(s,e)=>{try{let t=null;if(e){const l=dp(bp,`post-images/${Date.now()}`);await YI(l,e,"data_url"),t=await ZT(l)}return{id:(await V1(Vb,{title:s.title,content:s.content,image:t||s.image,date:s.date,createdAt:new Date().toISOString()})).id,...s,image:t||s.image}}catch(t){throw console.error("Error adding post:",t),t}},qD=async(s,e)=>{try{if(await L1(_i(fa,"posts",s)),e&&e.includes("firebase")){const t=dp(bp,e);await XI(t)}return{success:!0}}catch(t){throw console.error("Error deleting post:",t),t}},KD=()=>{const[s,e]=L.useState(""),[t,i]=L.useState(!1),[l,u]=L.useState(!1),{isAdmin:h}=yr(),[m,p]=L.useState([]),[_,E]=L.useState(!0),[b,w]=L.useState(null);L.useEffect(()=>{(async()=>{try{E(!0);const $=await zD();p($),w(null)}catch($){console.error("Error fetching posts:",$),w("Failed to load posts. Please try again later."),N()}finally{E(!1)}})()},[]);const N=()=>{p([{id:"default-1",title:"AIM Challenge 2025 - Anmälan öppen!",date:"28 februari 2025",content:"Nu är anmälan öppen för AIM Challenge 2025! Vi ser fram emot att välkomna både nya och återkommande deltagare till årets tävlingar i Hemsedal, Sälen, Ulricehamn och Kolmården.",image:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_094.jpg"},{id:"default-2",title:"Nya utmaningar i Hemsedal",date:"15 februari 2025",content:"I år har vi lagt till flera nya spännande utmaningar på Hemsedal-banan. Förbered er på att testa era gränser i den vackra norska fjällmiljön!",image:"/images/AIM_lindvallen_2024_AnkiGrothe_highres_125.jpg"},{id:"default-3",title:"Resultat från förra årets tävlingar",date:"10 januari 2025",content:"Nu finns alla resultat från förra årets tävlingar tillgängliga på vår hemsida. Kolla in hur du och ditt lag placerade er!",image:"/images/EE-AIMChallenge24-Uhamn-0171-high.jpg"},{id:"default-4",title:"Ny sponsor för AIM Challenge",date:"5 januari 2025",content:"Vi är glada att meddela att vi har fått en ny huvudsponsor för AIM Challenge 2025. Mer information kommer snart!",image:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_094.jpg"}])},j=H=>{H.preventDefault(),console.log("Email submitted:",s),i(!0),e(""),setTimeout(()=>i(!1),3e3)},z=async H=>{try{E(!0);const $=await E0(H,H.image);p([$,...m]),w(null)}catch($){console.error("Error saving post:",$),w("Failed to save post. Please try again.")}finally{E(!1)}},P=async(H,$)=>{if(window.confirm("Är du säker på att du vill ta bort detta inlägg?"))try{E(!0),await qD(H,$);const Z=m.filter(ee=>ee.id!==H);p(Z),w(null)}catch(Z){console.error("Error deleting post:",Z),w("Failed to delete post. Please try again.")}finally{E(!1)}},K=async()=>{if(window.confirm("Är du säker på att du vill återställa till standardinlägg? Alla dina anpassade inlägg kommer att försvinna."))try{E(!0),N();for(const H of m)await E0(H,H.image);w(null)}catch(H){console.error("Error resetting posts:",H),w("Failed to reset posts. Please try again.")}finally{E(!1)}};return d.jsxs("div",{className:"flex flex_col",children:[d.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",children:d.jsx("div",{className:"page_01box flex flex_col flex_j_SA",children:d.jsx("div",{className:"om-oss-title flex flex_j_C flex_a_C",children:d.jsx(M,{textKey:"senaste-nytt-title",defaultText:"SENASTE NYTT",tag:"p",className:"fonts_huge senaste-nytt-main-title",style:{color:"rgb(56, 76, 135)"}})})})}),d.jsx("section",{className:"set-03 senaste-nytt-subscribe-section",children:d.jsxs("div",{className:"MaxWH flex flex_col flex_j_C flex_a_C font_white",children:[d.jsx(M,{textKey:"senaste-nytt-subscribe-title",defaultText:"Håll dig uppdaterad",tag:"h2",className:"fonts_large senaste-nytt-title"}),d.jsx(M,{textKey:"senaste-nytt-subscribe-text",defaultText:"Prenumerera på vårt nyhetsbrev för att få de senaste uppdateringarna om AIM Challenge direkt i din inkorg.",tag:"p",className:"fonts_small senaste-nytt-description"}),d.jsxs("form",{onSubmit:j,className:"senaste-nytt-form flex flex_col flex_a_C",children:[d.jsxs("div",{className:"senaste-nytt-form-input-container flex",children:[d.jsx("input",{type:"email",value:s,onChange:H=>e(H.target.value),placeholder:"Din e-postadress",required:!0,className:"senaste-nytt-form-input"}),d.jsx("button",{type:"submit",className:"senaste-nytt-form-button",children:d.jsx(M,{textKey:"senaste-nytt-subscribe-button",defaultText:"Prenumerera",tag:"span",className:""})})]}),t&&d.jsx("p",{className:"senaste-nytt-form-success",children:d.jsx(M,{textKey:"senaste-nytt-subscribe-thanks",defaultText:"Tack för din prenumeration!",tag:"span",className:""})})]})]})}),d.jsx("section",{className:"senaste-nytt-news-section",children:d.jsxs("div",{className:"MaxWH senaste-nytt-container",children:[d.jsx(M,{textKey:"senaste-nytt-news-title",defaultText:"Nyheter",tag:"h2",className:"senaste-nytt-section-title"}),h&&d.jsxs("div",{className:"senaste-nytt-admin-actions flex flex_j_E",children:[d.jsx("button",{className:"senaste-nytt-create-post-button",onClick:()=>u(!0),children:d.jsx(M,{textKey:"senaste-nytt-create-post-button",defaultText:"Skapa nytt inlägg",tag:"span",className:""})}),d.jsx("button",{className:"senaste-nytt-reset-posts-button",onClick:K,children:d.jsx(M,{textKey:"senaste-nytt-reset-posts-button",defaultText:"Återställ till standardinlägg",tag:"span",className:""})})]}),d.jsx("div",{className:"senaste-nytt-news-grid",children:m.map(H=>d.jsxs("div",{className:"senaste-nytt-news-card",children:[d.jsx("div",{className:"senaste-nytt-news-image",style:{backgroundImage:`url(${H.image})`}}),d.jsxs("div",{className:"senaste-nytt-news-content",children:[d.jsx(M,{textKey:`senaste-nytt-news-title-${H.id}`,defaultText:H.title,tag:"h3",className:"senaste-nytt-news-card-title"}),d.jsx(M,{textKey:`senaste-nytt-news-date-${H.id}`,defaultText:H.date,tag:"p",className:"senaste-nytt-news-date"}),d.jsx(M,{textKey:`senaste-nytt-news-content-${H.id}`,defaultText:H.content,tag:"p",className:"senaste-nytt-news-text"}),d.jsx(Ae,{to:`/news/${H.id}`,className:"senaste-nytt-read-more",children:d.jsx(M,{textKey:`senaste-nytt-news-read-more-${H.id}`,defaultText:"Läs mer",tag:"span",className:"senaste-nytt-read-more-text"})}),h&&d.jsx("button",{className:"senaste-nytt-delete-post-button",onClick:()=>P(H.id,H.image),children:d.jsx(M,{textKey:`senaste-nytt-delete-post-button-${H.id}`,defaultText:"Ta bort",tag:"span",className:""})})]})]},H.id))})]})}),h&&d.jsx(HD,{isOpen:l,onClose:()=>u(!1),onSave:z}),d.jsx("div",{className:"senaste-nytt-background-container locked-background page_01"})]})},FD=()=>{const{id:s}=YS(),e=Cl(),[t,i]=L.useState(null),[l,u]=L.useState(!0),h=[{id:1,title:"AIM Challenge 2025 - Anmälan öppen!",date:"28 februari 2025",content:`Nu är anmälan öppen för AIM Challenge 2025! Vi ser fram emot att välkomna både nya och återkommande deltagare till årets tävlingar i Hemsedal, Sälen, Ulricehamn och Kolmården.

AIM Challenge har blivit en tradition för många äventyrslystna deltagare, och i år kommer vi att erbjuda ännu fler spännande utmaningar. Tävlingarna kommer att äga rum under följande datum:

- Hemsedal: 15-17 mars 2025
- Sälen: 22-24 mars 2025
- Ulricehamn: 5-7 april 2025
- Kolmården: 19-21 april 2025

Anmälan sker via vår hemsida och platserna fylls snabbt, så se till att säkra din plats redan idag!`,image:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_094.jpg",fullImage:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_094.jpg"},{id:2,title:"Nya utmaningar i Hemsedal",date:"15 februari 2025",content:`I år har vi lagt till flera nya spännande utmaningar på Hemsedal-banan. Förbered er på att testa era gränser i den vackra norska fjällmiljön!

Vårt team har arbetat hårt för att designa nya hinderbanor som kommer att utmana även de mest erfarna deltagarna. De nya utmaningarna inkluderar:

1. "Fjällpassagen" - en tekniskt krävande sträcka med klättring och balansmoment
2. "Isfloden" - en isande kall utmaning som testar både styrka och mental uthållighet
3. "Lavinzonen" - en hinderbana där samarbete är nyckeln till framgång

Vi har också förbättrat säkerheten längs hela banan med fler kontrollpunkter och medicinsk personal på plats. Vårt mål är att skapa en utmanande men säker upplevelse för alla deltagare.`,image:"/images/AIM_lindvallen_2024_AnkiGrothe_highres_125.jpg",fullImage:"/images/AIM_lindvallen_2024_AnkiGrothe_highres_125.jpg"},{id:3,title:"Resultat från förra årets tävlingar",date:"10 januari 2025",content:`Nu finns alla resultat från förra årets tävlingar tillgängliga på vår hemsida. Kolla in hur du och ditt lag placerade er!

Förra årets AIM Challenge var en enorm framgång med rekordmånga deltagare. Vi vill gratulera alla vinnare och tacka samtliga deltagare för ert engagemang och er sportslighet.

Här är topplaceringarna från förra årets tävlingar:

Hemsedal:
- Herrar: 1. Erik Johansson, 2. Petter Nordlund, 3. Magnus Ek
- Damer: 1. Anna Lindberg, 2. Sofia Axelsson, 3. Emma Karlsson

Sälen:
- Herrar: 1. Johan Bergström, 2. Anders Nyström, 3. Karl Lundgren
- Damer: 1. Lina Ekström, 2. Maria Holmberg, 3. Johanna Wikström

Ulricehamn:
- Herrar: 1. Niklas Andersson, 2. Fredrik Lindholm, 3. Gustav Holm
- Damer: 1. Elin Sandberg, 2. Kristina Berg, 3. Maja Nilsson

Kolmården:
- Herrar: 1. Mikael Svensson, 2. David Karlsson, 3. Simon Lindgren
- Damer: 1. Sara Björk, 2. Hanna Lindqvist, 3. Klara Öberg

Fullständiga resultatlistor finns tillgängliga på vår hemsida under fliken "Resultat".`,image:"/images/EE-AIMChallenge24-Uhamn-0171-high.jpg",fullImage:"/images/EE-AIMChallenge24-Uhamn-0171-high.jpg"},{id:4,title:"Ny sponsor för AIM Challenge",date:"5 januari 2025",content:`Vi är glada att meddela att vi har fått en ny huvudsponsor för AIM Challenge 2025. Mer information kommer snart!

Den nya sponsorn kommer att bidra till att höja kvaliteten på våra evenemang ytterligare och möjliggöra fler spännande utmaningar och bättre priser för deltagarna.

Vi kommer att presentera vår nya huvudsponsor vid en presskonferens nästa vecka, så håll utkik efter mer information på vår hemsida och i våra sociala medier.

Detta partnerskap markerar början på ett nytt kapitel för AIM Challenge, och vi ser fram emot att tillsammans med vår nya sponsor ta tävlingen till nya höjder.`,image:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_094.jpg",fullImage:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_094.jpg"}];L.useEffect(()=>{if(s){const p=h.find(_=>_.id===parseInt(s));p&&i(p),u(!1)}},[s]);const m=()=>{e("/senaste-nytt")};return l?d.jsx("div",{className:"flex flex_col flex_a_C flex_j_C",style:{minHeight:"50vh"},children:d.jsx("p",{className:"fonts_large",children:"Laddar..."})}):t?d.jsxs("div",{className:"flex flex_col",children:[d.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",children:d.jsx("div",{className:"trans-background page_01box flex flex_col flex_j_SA",children:d.jsx("div",{className:"om-oss-title flex flex_j_C flex_a_C",children:d.jsx("p",{className:"font_blue fonts_huge font_white",children:"NYHETER"})})})}),d.jsx("section",{style:{padding:"50px 0",backgroundColor:"#f5f5f5",width:"100vw"},children:d.jsxs("div",{className:"MaxWH",style:{padding:"0 20px",maxWidth:"1000px",margin:"0 auto"},children:[d.jsxs("button",{onClick:m,className:"navbbutton button font_blue",style:{marginBottom:"20px",padding:"10px 30px 10px 20px",display:"flex",alignItems:"center",gap:"5px",minWidth:"120px"},children:[d.jsx("span",{children:"←"})," ",d.jsx("span",{children:"Tillbaka"})]}),d.jsxs("div",{style:{backgroundColor:"white",borderRadius:"8px",overflow:"hidden",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[d.jsx("div",{style:{height:"400px",backgroundImage:`url(${t.fullImage||t.image})`,backgroundSize:"cover",backgroundPosition:"center"}}),d.jsxs("div",{style:{padding:"30px"},children:[d.jsx("h1",{className:"fonts_large font_blue",style:{marginBottom:"10px"},children:t.title}),d.jsx("p",{className:"fonts_small",style:{color:"#666",marginBottom:"30px"},children:t.date}),t.content.split(`

`).map((p,_)=>d.jsx("p",{className:"fonts_small",style:{marginBottom:"20px"},children:p},_))]})]}),d.jsx("div",{style:{marginTop:"30px",textAlign:"center"},children:d.jsxs("button",{onClick:m,className:"navbbutton button font_blue",style:{padding:"10px 30px 10px 20px",display:"flex",alignItems:"center",gap:"5px",minWidth:"120px"},children:[d.jsx("span",{children:"←"})," ",d.jsx("span",{children:"Tillbaka"})]})})]})}),d.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",style:{height:"50vh",width:"100vw"}})]}):d.jsxs("div",{className:"flex flex_col flex_a_C flex_j_C",style:{minHeight:"50vh"},children:[d.jsx("p",{className:"fonts_large",children:"Nyheten kunde inte hittas"}),d.jsx("button",{onClick:m,className:"navbbutton button font_blue",style:{marginTop:"20px",padding:"10px 20px"},children:"Tillbaka till nyheter"})]})},T0=()=>{const[s,e]=L.useState(""),[t,i]=L.useState(""),[l,u]=L.useState(""),[h,m]=L.useState(!1),p=Cl(),{login:_,isAuthenticated:E}=_r();L.useEffect(()=>{E&&p("/")},[E,p]);const b=async w=>{w.preventDefault(),m(!0),u("");try{const N=await _(s,t);N.success?(console.log("Login successful"),console.log("Current user after login:",{email:s,role:"admin"}),p("/")):u(N.message||"Ogiltigt e-post eller lösenord")}catch(N){console.error("Login error:",N),u("Ett fel uppstod vid inloggning. Försök igen.")}finally{m(!1)}};return d.jsxs("div",{className:"flex flex_col",children:[d.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",children:d.jsx("div",{className:"trans-background page_01box flex flex_col flex_j_SA",children:d.jsx("div",{className:"om-oss-title flex flex_j_C flex_a_C",children:d.jsx("p",{className:"font_blue fonts_huge font_white",children:"LOGGA IN"})})})}),d.jsx("section",{style:{padding:"50px 0",backgroundColor:"#f5f5f5",width:"100vw",minHeight:"60vh"},children:d.jsx("div",{className:"MaxWH",style:{padding:"0 20px",maxWidth:"500px",margin:"0 auto"},children:d.jsxs("div",{style:{backgroundColor:"white",borderRadius:"8px",overflow:"hidden",boxShadow:"0 4px 6px rgba(0,0,0,0.1)",padding:"30px"},children:[d.jsx("h2",{className:"fonts_medium font_blue",style:{marginBottom:"20px",textAlign:"center"},children:"Administratörsinloggning"}),l&&d.jsx("div",{style:{backgroundColor:"rgba(255, 0, 0, 0.1)",color:"#d32f2f",padding:"10px",borderRadius:"4px",marginBottom:"20px",textAlign:"center"},children:l}),d.jsxs("form",{onSubmit:b,children:[d.jsxs("div",{style:{marginBottom:"20px"},children:[d.jsx("label",{htmlFor:"email",className:"fonts_small",style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"E-post"}),d.jsx("input",{type:"email",id:"email",value:s,onChange:w=>e(w.target.value),required:!0,style:{width:"80%",padding:"10px 12px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"16px"}})]}),d.jsxs("div",{style:{marginBottom:"30px"},children:[d.jsx("label",{htmlFor:"password",className:"fonts_small",style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Lösenord"}),d.jsx("input",{type:"password",id:"password",value:t,onChange:w=>i(w.target.value),required:!0,style:{width:"80%",padding:"10px 12px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"16px"}})]}),d.jsx("button",{type:"submit",className:"navbbutton button font_blue",style:{width:"80%",padding:"10px 15px",fontSize:"16px",cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center"},disabled:h,children:h?"Loggar in...":"Logga in"})]}),d.jsxs("div",{style:{marginTop:"20px",textAlign:"center"},children:[d.jsx("p",{className:"fonts_small",style:{color:"#666"},children:"Detta är en inloggning endast för administratörer."}),d.jsx("p",{className:"fonts_small",style:{color:"#666",marginTop:"5px"},children:"Standard: admin@example.com / password123"})]})]})})}),d.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",style:{height:"30vh",width:"100vw"}})]})},GD=()=>{const{textContent:s,resetAllContent:e,removeContentItem:t,isAdmin:i}=yr(),{isAuthenticated:l}=_r(),[u,h]=L.useState(!1),[m,p]=L.useState(null),[_,E]=L.useState("all"),b=Cl();if(L.useEffect(()=>{(!l||!i)&&b("/")},[l,i,b]),!l||!i)return null;const w=()=>{h(!0),p(null)},N=Z=>{h(!0),p(Z)},j=()=>{m?t(m):e(),h(!1),p(null)},z=()=>{h(!1),p(null)},K=(()=>{const Z={text:{},image:{},background:{}};return Object.entries(s).forEach(([ee,ie])=>{ie.startsWith("data:image")||ie.startsWith("http")||ie.startsWith("/")?ee.includes("-bg")||ee.includes("background")?Z.background[ee]=ie:Z.image[ee]=ie:Z.text[ee]=ie}),Z})(),$=_==="all"?s:K[_]||{};return d.jsxs("div",{className:"flex flex_col",style:{minHeight:"100vh"},children:[d.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",children:d.jsx("div",{className:"trans-background page_01box flex flex_col flex_j_SA",children:d.jsx("div",{className:"om-oss-title flex flex_j_C flex_a_C",children:d.jsx("p",{className:"font_blue fonts_huge",children:"Innehållshanterare"})})})}),d.jsxs("section",{style:{padding:"40px",maxWidth:"1200px",margin:"0 auto"},children:[d.jsxs("div",{style:{marginBottom:"30px",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"20px"},children:[d.jsx("h2",{className:"font_blue fonts_large",children:"Alla redigerbara innehåll"}),d.jsx("button",{onClick:w,style:{padding:"10px 20px",backgroundColor:"#ff4d4d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Återställ allt innehåll"})]}),d.jsxs("div",{style:{marginBottom:"30px",display:"flex",gap:"10px",flexWrap:"wrap"},children:[d.jsxs("button",{onClick:()=>E("all"),style:{padding:"8px 16px",backgroundColor:_==="all"?"#00a6fb":"#f0f0f0",color:_==="all"?"white":"black",border:"none",borderRadius:"4px",cursor:"pointer"},children:["Alla (",Object.keys(s).length,")"]}),d.jsxs("button",{onClick:()=>E("text"),style:{padding:"8px 16px",backgroundColor:_==="text"?"#00a6fb":"#f0f0f0",color:_==="text"?"white":"black",border:"none",borderRadius:"4px",cursor:"pointer"},children:["Texter (",Object.keys(K.text).length,")"]}),d.jsxs("button",{onClick:()=>E("image"),style:{padding:"8px 16px",backgroundColor:_==="image"?"#00a6fb":"#f0f0f0",color:_==="image"?"white":"black",border:"none",borderRadius:"4px",cursor:"pointer"},children:["Bilder (",Object.keys(K.image).length,")"]}),d.jsxs("button",{onClick:()=>E("background"),style:{padding:"8px 16px",backgroundColor:_==="background"?"#00a6fb":"#f0f0f0",color:_==="background"?"white":"black",border:"none",borderRadius:"4px",cursor:"pointer"},children:["Bakgrundsbilder (",Object.keys(K.background).length,")"]})]}),u&&d.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.7)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:9999},children:d.jsxs("div",{style:{backgroundColor:"white",padding:"30px",borderRadius:"8px",maxWidth:"500px",width:"90%",textAlign:"center"},children:[d.jsx("h3",{style:{marginBottom:"20px",color:"#00a6fb"},children:"Bekräfta åtgärd"}),d.jsx("p",{style:{marginBottom:"30px"},children:m?`Är du säker på att du vill ta bort innehållet med nyckeln "${m}"?`:"Är du säker på att du vill återställa allt innehåll? Detta kan inte ångras."}),d.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"20px"},children:[d.jsx("button",{onClick:j,style:{padding:"10px 20px",backgroundColor:"#ff4d4d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:m?"Ta bort":"Återställ allt"}),d.jsx("button",{onClick:z,style:{padding:"10px 20px",backgroundColor:"#ccc",color:"black",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Avbryt"})]})]})}),Object.keys($).length===0?d.jsxs("p",{children:["Inga redigerade ",_==="text"?"texter":_==="image"?"bilder":_==="background"?"bakgrundsbilder":"innehåll"," ännu."]}):d.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"20px"},children:Object.entries($).map(([Z,ee])=>{const ie=ee.startsWith("data:image")||ee.startsWith("http")||ee.startsWith("/"),O=Z.includes("-bg")||Z.includes("background");return d.jsxs("div",{style:{border:"1px solid #ddd",borderRadius:"8px",padding:"15px",backgroundColor:"white",boxShadow:"0 2px 4px rgba(0,0,0,0.05)"},children:[d.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:[d.jsx("h3",{className:"font_blue fonts_medium",style:{wordBreak:"break-all",fontSize:"16px"},children:Z}),d.jsx("span",{style:{padding:"3px 8px",borderRadius:"4px",fontSize:"12px",backgroundColor:O?"#6c5ce7":ie?"#00b894":"#0984e3",color:"white"},children:O?"Bakgrund":ie?"Bild":"Text"})]}),d.jsx("div",{style:{marginBottom:"10px"},children:ie?d.jsxs("div",{children:[d.jsx("img",{src:ee,alt:Z,style:{width:"100%",height:O?"150px":"auto",maxHeight:"150px",objectFit:O?"cover":"contain",borderRadius:"4px",border:"1px solid #eee"}}),O&&d.jsx("div",{style:{marginTop:"5px",fontSize:"12px",color:"#666",textAlign:"center"},children:"Bakgrundsbild"})]}):d.jsx("p",{style:{maxHeight:"100px",overflow:"auto",backgroundColor:"#f5f5f5",padding:"10px",borderRadius:"4px",fontSize:"14px"},children:ee})}),d.jsx("button",{onClick:()=>N(Z),style:{width:"100%",padding:"8px",backgroundColor:"#ff4d4d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px"},children:"Ta bort"})]},Z)})})]})]})},$D=({children:s,requireAdmin:e=!1})=>{const{isAuthenticated:t,currentUser:i}=_r();return t?e&&(i==null?void 0:i.role)!=="admin"?d.jsx(Bv,{to:"/"}):s:d.jsx(Bv,{to:"/login"})},QD=()=>{const{isAdmin:s,getText:e}=yr();return L.useEffect(()=>{if(s)return document.body.classList.add("admin-editing-mode"),()=>{document.body.classList.remove("admin-editing-mode")}},[s]),L.useEffect(()=>{const t=()=>{const i=JSON.parse(localStorage.getItem("textContent")||"{}"),l=Object.keys(i).filter(h=>h.startsWith("bg-")&&(h.endsWith("-type")||h.endsWith("-image"))),u={};l.forEach(h=>{const m=h.split("-type")[0].split("-image")[0];u[m]||(u[m]={}),h.endsWith("-type")?u[m].type=i[h]:h.endsWith("-image")&&(u[m].image=i[h])}),Object.keys(u).forEach(h=>{const m=document.getElementById(h);if(!m)return;const p=u[h];p.type&&(m.classList.remove("simple-background","locked-background"),m.classList.add(`${p.type}-background`),p.type==="locked"?m.style.backgroundAttachment="fixed":m.style.backgroundAttachment="scroll"),p.image&&(m.style.backgroundImage=`url('${p.image}')`,m.style.backgroundSize="cover",m.style.backgroundPosition="center",m.style.backgroundRepeat="no-repeat")})};return t(),window.addEventListener("storage",t),()=>{window.removeEventListener("storage",t)}},[]),null},YD=()=>{const{isAdmin:s,getText:e,updateText:t}=yr(),[i,l]=L.useState(null),[u,h]=L.useState(null),[m,p]=L.useState(!1),[_,E]=L.useState("simple"),[b,w]=L.useState("type"),[N,j]=L.useState(""),z=L.useRef(null);L.useEffect(()=>{if(!s)return;const Z=ee=>{if(ee.target.classList.contains("simple-background")||ee.target.classList.contains("locked-background")||ee.target.classList.contains("dynamic-background")||[...ee.target.classList].some(O=>O.includes("-bg"))){ee.stopPropagation(),l(ee.target);let O=ee.target.id;O||(O=`bg-${Date.now()}`,ee.target.id=O),h(O);const R=e(`${O}-type`,null);R?E(R):ee.target.classList.contains("locked-background")?E("locked"):E("simple");const A=e(`${O}-image`,null);if(A)j(A);else{let D=window.getComputedStyle(ee.target).backgroundImage;D&&D!=="none"?(D=D.replace(/url\(['"]?(.*?)['"]?\)/i,"$1"),j(D)):j("")}p(!0)}};return document.addEventListener("click",Z),()=>{document.removeEventListener("click",Z)}},[s,e]);const P=()=>{!i||!u||(i.classList.remove("simple-background","locked-background"),i.classList.add(`${_}-background`),_==="locked"?i.style.backgroundAttachment="fixed":i.style.backgroundAttachment="scroll",t(`${u}-type`,_))},K=()=>{!i||!N||!u||(i.style.backgroundImage=`url('${N}')`,i.style.backgroundSize="cover",i.style.backgroundPosition="center",i.style.backgroundRepeat="no-repeat",t(`${u}-image`,N))},H=Z=>{const ee=Z.target.files[0];if(!ee)return;const ie=URL.createObjectURL(ee);j(ie);const O=new FileReader;O.onloadend=()=>{j(O.result)},O.readAsDataURL(ee)},$=()=>{P(),K(),p(!1)};return!s||!m?null:d.jsx("div",{className:"background-settings-modal",onClick:()=>p(!1),children:d.jsxs("div",{className:"background-settings-content",onClick:Z=>Z.stopPropagation(),children:[d.jsx("h3",{children:"Background Settings"}),d.jsxs("div",{className:"settings-tabs",children:[d.jsx("button",{className:`tab-button ${b==="type"?"active":""}`,onClick:()=>w("type"),children:"Background Type"}),d.jsx("button",{className:`tab-button ${b==="image"?"active":""}`,onClick:()=>w("image"),children:"Background Image"})]}),b==="type"&&d.jsxs("div",{className:"background-type-options",children:[d.jsx("div",{className:"form-group",children:d.jsxs("label",{children:[d.jsx("input",{type:"radio",name:"backgroundType",value:"simple",checked:_==="simple",onChange:()=>E("simple")}),"Simple (Scrolls with content)"]})}),d.jsx("div",{className:"form-group",children:d.jsxs("label",{children:[d.jsx("input",{type:"radio",name:"backgroundType",value:"locked",checked:_==="locked",onChange:()=>E("locked")}),"Locked (Fixed when scrolling)"]})})]}),b==="image"&&d.jsxs("div",{className:"background-image-options",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"imageUrl",children:"Image URL:"}),d.jsx("input",{type:"text",id:"imageUrl",value:N,onChange:Z=>j(Z.target.value),placeholder:"Enter image URL",className:"image-url-input"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Or upload an image:"}),d.jsx("input",{type:"file",accept:"image/*",onChange:H,ref:z,className:"file-input"}),d.jsx("button",{className:"upload-button",onClick:()=>z.current.click(),children:"Choose File"})]}),N&&d.jsxs("div",{className:"image-preview",children:[d.jsx("p",{children:"Preview:"}),d.jsx("img",{src:N,alt:"Background preview"})]})]}),d.jsxs("div",{className:"button-group",children:[d.jsx("button",{className:"cancel-button",onClick:()=>p(!1),children:"Cancel"}),d.jsx("button",{className:"apply-button",onClick:$,children:"Apply"})]})]})})},WD=()=>d.jsx("div",{className:"background-container",children:d.jsx("img",{src:"/backgrounds/Höjdkurvor.svg",alt:"Background"})}),XD=async(s,e,t="Admin")=>{try{const l=(await Zj(xh,s,e)).user;return await t2(l,{displayName:t}),await ld(_i(fa,"users",l.uid),{email:s,displayName:t,role:"admin",createdAt:new Date}),{success:!0,user:{uid:l.uid,email:l.email,displayName:t,role:"admin"}}}catch(i){return console.error("Error creating admin user:",i),{success:!1,error:i.message}}},ZD=async()=>{try{(await kT(_i(fa,"settings","admin"))).exists()||(await XD("admin@example.com","password123")).success&&(await ld(_i(fa,"settings","admin"),{initialized:!0,adminEmail:"admin@example.com",createdAt:new Date}),console.log("Admin user initialized successfully"))}catch(s){console.error("Error initializing admin user:",s)}},JD=()=>(L.useEffect(()=>{ZD().then(()=>console.log("Admin user initialized")).catch(s=>console.error("Error initializing admin user:",s))},[]),d.jsx(vD,{children:d.jsx(TD,{children:d.jsx(Ow,{children:d.jsxs("div",{className:"flex flex_col MaxWH location",style:{width:"100%",maxWidth:"100%",overflow:"hidden",margin:0,padding:0,display:"flex",flexDirection:"column",position:"relative"},children:[d.jsx(WD,{}),d.jsx(bD,{}),d.jsx(QD,{}),d.jsx(YD,{}),d.jsx("div",{style:{margin:0,padding:0,width:"100%",position:"relative",top:0},children:d.jsxs(cw,{children:[d.jsx(bt,{path:"/",element:d.jsx(SD,{})}),d.jsx(bt,{path:"/competitions",element:d.jsx(wD,{})}),d.jsx(bt,{path:"/ulricehamn",element:d.jsx(RD,{})}),d.jsx(bt,{path:"/salen",element:d.jsx(ND,{})}),d.jsx(bt,{path:"/hemsedal",element:d.jsx(kD,{})}),d.jsx(bt,{path:"/kolmarden",element:d.jsx(CD,{})}),d.jsx(bt,{path:"/trippeln",element:d.jsx(ID,{})}),d.jsx(bt,{path:"/trippeln-results",element:d.jsx(jD,{})}),d.jsx(bt,{path:"/results",element:d.jsx(DD,{})}),d.jsx(bt,{path:"/gallery",element:d.jsxs(d.Fragment,{children:[d.jsx(OD,{}),d.jsx(MD,{})]})}),d.jsx(bt,{path:"/om-oss",element:d.jsx(LD,{})}),d.jsx(bt,{path:"/regler",element:d.jsx(VD,{})}),d.jsx(bt,{path:"/faq",element:d.jsx(UD,{})}),d.jsx(bt,{path:"/historien-om-aim",element:d.jsx(BD,{})}),d.jsx(bt,{path:"/senaste-nytt",element:d.jsx(KD,{})}),d.jsx(bt,{path:"/news/:id",element:d.jsx(FD,{})}),d.jsx(bt,{path:"/login",element:d.jsx(T0,{})}),d.jsx(bt,{path:"login",element:d.jsx(T0,{})}),d.jsx(bt,{path:"/content-manager",element:d.jsx($D,{requireAdmin:!0,children:d.jsx(GD,{})})})]})}),d.jsx(AD,{})]})})})}));(function(){const s=sessionStorage.redirect;delete sessionStorage.redirect,s&&s!==location.href&&history.replaceState(null,null,s)})();const eO=document.getElementById("root");vS.createRoot(eO).render(d.jsx(hS.StrictMode,{children:d.jsx(JD,{})}));
//# sourceMappingURL=index-C9KnW5gt.js.map
