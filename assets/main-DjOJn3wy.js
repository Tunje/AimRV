(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();function _0(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var lm={exports:{}},Po={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vv;function eS(){if(vv)return Po;vv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,l,u){var h=null;if(u!==void 0&&(h=""+u),l.key!==void 0&&(h=""+l.key),"key"in l){u={};for(var g in l)g!=="key"&&(u[g]=l[g])}else u=l;return l=u.ref,{$$typeof:s,type:r,key:h,ref:l!==void 0?l:null,props:u}}return Po.Fragment=e,Po.jsx=n,Po.jsxs=n,Po}var xv;function tS(){return xv||(xv=1,lm.exports=eS()),lm.exports}var f=tS(),om={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ev;function nS(){if(Ev)return Ce;Ev=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.iterator;function A(P){return P===null||typeof P!="object"?null:(P=b&&P[b]||P["@@iterator"],typeof P=="function"?P:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,F={};function U(P,re,ge){this.props=P,this.context=re,this.refs=F,this.updater=ge||C}U.prototype.isReactComponent={},U.prototype.setState=function(P,re){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,re,"setState")},U.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function $(){}$.prototype=U.prototype;function z(P,re,ge){this.props=P,this.context=re,this.refs=F,this.updater=ge||C}var Q=z.prototype=new $;Q.constructor=z,D(Q,U.prototype),Q.isPureReactComponent=!0;var ee=Array.isArray,J={H:null,A:null,T:null,S:null},ie=Object.prototype.hasOwnProperty;function O(P,re,ge,ue,ce,Re){return ge=Re.ref,{$$typeof:s,type:P,key:re,ref:ge!==void 0?ge:null,props:Re}}function R(P,re){return O(P.type,re,void 0,void 0,void 0,P.props)}function S(P){return typeof P=="object"&&P!==null&&P.$$typeof===s}function I(P){var re={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(ge){return re[ge]})}var k=/\/+/g;function V(P,re){return typeof P=="object"&&P!==null&&P.key!=null?I(""+P.key):re.toString(36)}function N(){}function Ne(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(N,N):(P.status="pending",P.then(function(re){P.status==="pending"&&(P.status="fulfilled",P.value=re)},function(re){P.status==="pending"&&(P.status="rejected",P.reason=re)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function Pe(P,re,ge,ue,ce){var Re=typeof P;(Re==="undefined"||Re==="boolean")&&(P=null);var ke=!1;if(P===null)ke=!0;else switch(Re){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(P.$$typeof){case s:case e:ke=!0;break;case E:return ke=P._init,Pe(ke(P._payload),re,ge,ue,ce)}}if(ke)return ce=ce(P),ke=ue===""?"."+V(P,0):ue,ee(ce)?(ge="",ke!=null&&(ge=ke.replace(k,"$&/")+"/"),Pe(ce,re,ge,"",function(ut){return ut})):ce!=null&&(S(ce)&&(ce=R(ce,ge+(ce.key==null||P&&P.key===ce.key?"":(""+ce.key).replace(k,"$&/")+"/")+ke)),re.push(ce)),1;ke=0;var vt=ue===""?".":ue+":";if(ee(P))for(var Ke=0;Ke<P.length;Ke++)ue=P[Ke],Re=vt+V(ue,Ke),ke+=Pe(ue,re,ge,Re,ce);else if(Ke=A(P),typeof Ke=="function")for(P=Ke.call(P),Ke=0;!(ue=P.next()).done;)ue=ue.value,Re=vt+V(ue,Ke++),ke+=Pe(ue,re,ge,Re,ce);else if(Re==="object"){if(typeof P.then=="function")return Pe(Ne(P),re,ge,ue,ce);throw re=String(P),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return ke}function le(P,re,ge){if(P==null)return P;var ue=[],ce=0;return Pe(P,ue,"","",function(Re){return re.call(ge,Re,ce++)}),ue}function ye(P){if(P._status===-1){var re=P._result;re=re(),re.then(function(ge){(P._status===0||P._status===-1)&&(P._status=1,P._result=ge)},function(ge){(P._status===0||P._status===-1)&&(P._status=2,P._result=ge)}),P._status===-1&&(P._status=0,P._result=re)}if(P._status===1)return P._result.default;throw P._result}var pe=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)};function me(){}return Ce.Children={map:le,forEach:function(P,re,ge){le(P,function(){re.apply(this,arguments)},ge)},count:function(P){var re=0;return le(P,function(){re++}),re},toArray:function(P){return le(P,function(re){return re})||[]},only:function(P){if(!S(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},Ce.Component=U,Ce.Fragment=n,Ce.Profiler=l,Ce.PureComponent=z,Ce.StrictMode=r,Ce.Suspense=p,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,Ce.act=function(){throw Error("act(...) is not supported in production builds of React.")},Ce.cache=function(P){return function(){return P.apply(null,arguments)}},Ce.cloneElement=function(P,re,ge){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var ue=D({},P.props),ce=P.key,Re=void 0;if(re!=null)for(ke in re.ref!==void 0&&(Re=void 0),re.key!==void 0&&(ce=""+re.key),re)!ie.call(re,ke)||ke==="key"||ke==="__self"||ke==="__source"||ke==="ref"&&re.ref===void 0||(ue[ke]=re[ke]);var ke=arguments.length-2;if(ke===1)ue.children=ge;else if(1<ke){for(var vt=Array(ke),Ke=0;Ke<ke;Ke++)vt[Ke]=arguments[Ke+2];ue.children=vt}return O(P.type,ce,void 0,void 0,Re,ue)},Ce.createContext=function(P){return P={$$typeof:h,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:u,_context:P},P},Ce.createElement=function(P,re,ge){var ue,ce={},Re=null;if(re!=null)for(ue in re.key!==void 0&&(Re=""+re.key),re)ie.call(re,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(ce[ue]=re[ue]);var ke=arguments.length-2;if(ke===1)ce.children=ge;else if(1<ke){for(var vt=Array(ke),Ke=0;Ke<ke;Ke++)vt[Ke]=arguments[Ke+2];ce.children=vt}if(P&&P.defaultProps)for(ue in ke=P.defaultProps,ke)ce[ue]===void 0&&(ce[ue]=ke[ue]);return O(P,Re,void 0,void 0,null,ce)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(P){return{$$typeof:g,render:P}},Ce.isValidElement=S,Ce.lazy=function(P){return{$$typeof:E,_payload:{_status:-1,_result:P},_init:ye}},Ce.memo=function(P,re){return{$$typeof:_,type:P,compare:re===void 0?null:re}},Ce.startTransition=function(P){var re=J.T,ge={};J.T=ge;try{var ue=P(),ce=J.S;ce!==null&&ce(ge,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(me,pe)}catch(Re){pe(Re)}finally{J.T=re}},Ce.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},Ce.use=function(P){return J.H.use(P)},Ce.useActionState=function(P,re,ge){return J.H.useActionState(P,re,ge)},Ce.useCallback=function(P,re){return J.H.useCallback(P,re)},Ce.useContext=function(P){return J.H.useContext(P)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(P,re){return J.H.useDeferredValue(P,re)},Ce.useEffect=function(P,re){return J.H.useEffect(P,re)},Ce.useId=function(){return J.H.useId()},Ce.useImperativeHandle=function(P,re,ge){return J.H.useImperativeHandle(P,re,ge)},Ce.useInsertionEffect=function(P,re){return J.H.useInsertionEffect(P,re)},Ce.useLayoutEffect=function(P,re){return J.H.useLayoutEffect(P,re)},Ce.useMemo=function(P,re){return J.H.useMemo(P,re)},Ce.useOptimistic=function(P,re){return J.H.useOptimistic(P,re)},Ce.useReducer=function(P,re,ge){return J.H.useReducer(P,re,ge)},Ce.useRef=function(P){return J.H.useRef(P)},Ce.useState=function(P){return J.H.useState(P)},Ce.useSyncExternalStore=function(P,re,ge){return J.H.useSyncExternalStore(P,re,ge)},Ce.useTransition=function(){return J.H.useTransition()},Ce.version="19.0.0",Ce}var Tv;function rg(){return Tv||(Tv=1,om.exports=nS()),om.exports}var L=rg();const sS=_0(L);var um={exports:{}},Uo={},cm={exports:{}},hm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bv;function aS(){return bv||(bv=1,function(s){function e(le,ye){var pe=le.length;le.push(ye);e:for(;0<pe;){var me=pe-1>>>1,P=le[me];if(0<l(P,ye))le[me]=ye,le[pe]=P,pe=me;else break e}}function n(le){return le.length===0?null:le[0]}function r(le){if(le.length===0)return null;var ye=le[0],pe=le.pop();if(pe!==ye){le[0]=pe;e:for(var me=0,P=le.length,re=P>>>1;me<re;){var ge=2*(me+1)-1,ue=le[ge],ce=ge+1,Re=le[ce];if(0>l(ue,pe))ce<P&&0>l(Re,ue)?(le[me]=Re,le[ce]=pe,me=ce):(le[me]=ue,le[ge]=pe,me=ge);else if(ce<P&&0>l(Re,pe))le[me]=Re,le[ce]=pe,me=ce;else break e}}return ye}function l(le,ye){var pe=le.sortIndex-ye.sortIndex;return pe!==0?pe:le.id-ye.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var h=Date,g=h.now();s.unstable_now=function(){return h.now()-g}}var p=[],_=[],E=1,b=null,A=3,C=!1,D=!1,F=!1,U=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function Q(le){for(var ye=n(_);ye!==null;){if(ye.callback===null)r(_);else if(ye.startTime<=le)r(_),ye.sortIndex=ye.expirationTime,e(p,ye);else break;ye=n(_)}}function ee(le){if(F=!1,Q(le),!D)if(n(p)!==null)D=!0,Ne();else{var ye=n(_);ye!==null&&Pe(ee,ye.startTime-le)}}var J=!1,ie=-1,O=5,R=-1;function S(){return!(s.unstable_now()-R<O)}function I(){if(J){var le=s.unstable_now();R=le;var ye=!0;try{e:{D=!1,F&&(F=!1,$(ie),ie=-1),C=!0;var pe=A;try{t:{for(Q(le),b=n(p);b!==null&&!(b.expirationTime>le&&S());){var me=b.callback;if(typeof me=="function"){b.callback=null,A=b.priorityLevel;var P=me(b.expirationTime<=le);if(le=s.unstable_now(),typeof P=="function"){b.callback=P,Q(le),ye=!0;break t}b===n(p)&&r(p),Q(le)}else r(p);b=n(p)}if(b!==null)ye=!0;else{var re=n(_);re!==null&&Pe(ee,re.startTime-le),ye=!1}}break e}finally{b=null,A=pe,C=!1}ye=void 0}}finally{ye?k():J=!1}}}var k;if(typeof z=="function")k=function(){z(I)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,N=V.port2;V.port1.onmessage=I,k=function(){N.postMessage(null)}}else k=function(){U(I,0)};function Ne(){J||(J=!0,k())}function Pe(le,ye){ie=U(function(){le(s.unstable_now())},ye)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(le){le.callback=null},s.unstable_continueExecution=function(){D||C||(D=!0,Ne())},s.unstable_forceFrameRate=function(le){0>le||125<le?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<le?Math.floor(1e3/le):5},s.unstable_getCurrentPriorityLevel=function(){return A},s.unstable_getFirstCallbackNode=function(){return n(p)},s.unstable_next=function(le){switch(A){case 1:case 2:case 3:var ye=3;break;default:ye=A}var pe=A;A=ye;try{return le()}finally{A=pe}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(le,ye){switch(le){case 1:case 2:case 3:case 4:case 5:break;default:le=3}var pe=A;A=le;try{return ye()}finally{A=pe}},s.unstable_scheduleCallback=function(le,ye,pe){var me=s.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?me+pe:me):pe=me,le){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=pe+P,le={id:E++,callback:ye,priorityLevel:le,startTime:pe,expirationTime:P,sortIndex:-1},pe>me?(le.sortIndex=pe,e(_,le),n(p)===null&&le===n(_)&&(F?($(ie),ie=-1):F=!0,Pe(ee,pe-me))):(le.sortIndex=P,e(p,le),D||C||(D=!0,Ne())),le},s.unstable_shouldYield=S,s.unstable_wrapCallback=function(le){var ye=A;return function(){var pe=A;A=ye;try{return le.apply(this,arguments)}finally{A=pe}}}}(hm)),hm}var Av;function rS(){return Av||(Av=1,cm.exports=aS()),cm.exports}var dm={exports:{}},Xt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sv;function iS(){if(Sv)return Xt;Sv=1;var s=rg();function e(p){var _="https://react.dev/errors/"+p;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)_+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(p,_,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:p,containerInfo:_,implementation:E}}var h=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,_){if(p==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Xt.createPortal=function(p,_){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return u(p,_,null,E)},Xt.flushSync=function(p){var _=h.T,E=r.p;try{if(h.T=null,r.p=2,p)return p()}finally{h.T=_,r.p=E,r.d.f()}},Xt.preconnect=function(p,_){typeof p=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(p,_))},Xt.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},Xt.preinit=function(p,_){if(typeof p=="string"&&_&&typeof _.as=="string"){var E=_.as,b=g(E,_.crossOrigin),A=typeof _.integrity=="string"?_.integrity:void 0,C=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;E==="style"?r.d.S(p,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:b,integrity:A,fetchPriority:C}):E==="script"&&r.d.X(p,{crossOrigin:b,integrity:A,fetchPriority:C,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Xt.preinitModule=function(p,_){if(typeof p=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var E=g(_.as,_.crossOrigin);r.d.M(p,{crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(p)},Xt.preload=function(p,_){if(typeof p=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var E=_.as,b=g(E,_.crossOrigin);r.d.L(p,E,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Xt.preloadModule=function(p,_){if(typeof p=="string")if(_){var E=g(_.as,_.crossOrigin);r.d.m(p,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(p)},Xt.requestFormReset=function(p){r.d.r(p)},Xt.unstable_batchedUpdates=function(p,_){return p(_)},Xt.useFormState=function(p,_,E){return h.H.useFormState(p,_,E)},Xt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Xt.version="19.0.0",Xt}var wv;function lS(){if(wv)return dm.exports;wv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),dm.exports=iS(),dm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rv;function oS(){if(Rv)return Uo;Rv=1;var s=rS(),e=rg(),n=lS();function r(t){var a="https://react.dev/errors/"+t;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)a+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+t+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var u=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),A=Symbol.for("react.consumer"),C=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),Q=Symbol.for("react.offscreen"),ee=Symbol.for("react.memo_cache_sentinel"),J=Symbol.iterator;function ie(t){return t===null||typeof t!="object"?null:(t=J&&t[J]||t["@@iterator"],typeof t=="function"?t:null)}var O=Symbol.for("react.client.reference");function R(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===O?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case p:return"Fragment";case g:return"Portal";case E:return"Profiler";case _:return"StrictMode";case F:return"Suspense";case U:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case C:return(t.displayName||"Context")+".Provider";case A:return(t._context.displayName||"Context")+".Consumer";case D:var a=t.render;return t=t.displayName,t||(t=a.displayName||a.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case $:return a=t.displayName||null,a!==null?a:R(t.type)||"Memo";case z:a=t._payload,t=t._init;try{return R(t(a))}catch{}}return null}var S=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=Object.assign,k,V;function N(t){if(k===void 0)try{throw Error()}catch(i){var a=i.stack.trim().match(/\n( *(at )?)/);k=a&&a[1]||"",V=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+k+t+V}var Ne=!1;function Pe(t,a){if(!t||Ne)return"";Ne=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(a){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(X){var W=X}Reflect.construct(t,[],ae)}else{try{ae.call()}catch(X){W=X}t.call(ae.prototype)}}else{try{throw Error()}catch(X){W=X}(ae=t())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(X){if(X&&W&&typeof X.stack=="string")return[X.stack,W.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=o.DetermineComponentFrameRoot(),x=m[0],T=m[1];if(x&&T){var j=x.split(`
`),B=T.split(`
`);for(d=o=0;o<j.length&&!j[o].includes("DetermineComponentFrameRoot");)o++;for(;d<B.length&&!B[d].includes("DetermineComponentFrameRoot");)d++;if(o===j.length||d===B.length)for(o=j.length-1,d=B.length-1;1<=o&&0<=d&&j[o]!==B[d];)d--;for(;1<=o&&0<=d;o--,d--)if(j[o]!==B[d]){if(o!==1||d!==1)do if(o--,d--,0>d||j[o]!==B[d]){var Z=`
`+j[o].replace(" at new "," at ");return t.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",t.displayName)),Z}while(1<=o&&0<=d);break}}}finally{Ne=!1,Error.prepareStackTrace=i}return(i=t?t.displayName||t.name:"")?N(i):""}function le(t){switch(t.tag){case 26:case 27:case 5:return N(t.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 15:return t=Pe(t.type,!1),t;case 11:return t=Pe(t.type.render,!1),t;case 1:return t=Pe(t.type,!0),t;default:return""}}function ye(t){try{var a="";do a+=le(t),t=t.return;while(t);return a}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}function pe(t){var a=t,i=t;if(t.alternate)for(;a.return;)a=a.return;else{t=a;do a=t,(a.flags&4098)!==0&&(i=a.return),t=a.return;while(t)}return a.tag===3?i:null}function me(t){if(t.tag===13){var a=t.memoizedState;if(a===null&&(t=t.alternate,t!==null&&(a=t.memoizedState)),a!==null)return a.dehydrated}return null}function P(t){if(pe(t)!==t)throw Error(r(188))}function re(t){var a=t.alternate;if(!a){if(a=pe(t),a===null)throw Error(r(188));return a!==t?null:t}for(var i=t,o=a;;){var d=i.return;if(d===null)break;var m=d.alternate;if(m===null){if(o=d.return,o!==null){i=o;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===i)return P(d),t;if(m===o)return P(d),a;m=m.sibling}throw Error(r(188))}if(i.return!==o.return)i=d,o=m;else{for(var x=!1,T=d.child;T;){if(T===i){x=!0,i=d,o=m;break}if(T===o){x=!0,o=d,i=m;break}T=T.sibling}if(!x){for(T=m.child;T;){if(T===i){x=!0,i=m,o=d;break}if(T===o){x=!0,o=m,i=d;break}T=T.sibling}if(!x)throw Error(r(189))}}if(i.alternate!==o)throw Error(r(190))}if(i.tag!==3)throw Error(r(188));return i.stateNode.current===i?t:a}function ge(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t;for(t=t.child;t!==null;){if(a=ge(t),a!==null)return a;t=t.sibling}return null}var ue=Array.isArray,ce=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Re={pending:!1,data:null,method:null,action:null},ke=[],vt=-1;function Ke(t){return{current:t}}function ut(t){0>vt||(t.current=ke[vt],ke[vt]=null,vt--)}function Ye(t,a){vt++,ke[vt]=t.current,t.current=a}var nn=Ke(null),Rs=Ke(null),wn=Ke(null),da=Ke(null);function fa(t,a){switch(Ye(wn,a),Ye(Rs,t),Ye(nn,null),t=a.nodeType,t){case 9:case 11:a=(a=a.documentElement)&&(a=a.namespaceURI)?Qy(a):0;break;default:if(t=t===8?a.parentNode:a,a=t.tagName,t=t.namespaceURI)t=Qy(t),a=Wy(t,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}ut(nn),Ye(nn,a)}function Ns(){ut(nn),ut(Rs),ut(wn)}function jl(t){t.memoizedState!==null&&Ye(da,t);var a=nn.current,i=Wy(a,t.type);a!==i&&(Ye(Rs,t),Ye(nn,i))}function gi(t){Rs.current===t&&(ut(nn),ut(Rs)),da.current===t&&(ut(da),Do._currentValue=Re)}var pi=Object.prototype.hasOwnProperty,Er=s.unstable_scheduleCallback,_i=s.unstable_cancelCallback,od=s.unstable_shouldYield,Dl=s.unstable_requestPaint,hn=s.unstable_now,Su=s.unstable_getCurrentPriorityLevel,wt=s.unstable_ImmediatePriority,Ot=s.unstable_UserBlockingPriority,ks=s.unstable_NormalPriority,wu=s.unstable_LowPriority,Ol=s.unstable_IdlePriority,ud=s.log,Tr=s.unstable_setDisableYieldValue,ma=null,Wt=null;function Ml(t){if(Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(ma,t,void 0,(t.current.flags&128)===128)}catch{}}function ss(t){if(typeof ud=="function"&&Tr(t),Wt&&typeof Wt.setStrictMode=="function")try{Wt.setStrictMode(ma,t)}catch{}}var sn=Math.clz32?Math.clz32:Nu,Ll=Math.log,Ru=Math.LN2;function Nu(t){return t>>>=0,t===0?32:31-(Ll(t)/Ru|0)|0}var as=128,ga=4194304;function qn(t){var a=t&42;if(a!==0)return a;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Rn(t,a){var i=t.pendingLanes;if(i===0)return 0;var o=0,d=t.suspendedLanes,m=t.pingedLanes,x=t.warmLanes;t=t.finishedLanes!==0;var T=i&134217727;return T!==0?(i=T&~d,i!==0?o=qn(i):(m&=T,m!==0?o=qn(m):t||(x=T&~x,x!==0&&(o=qn(x))))):(T=i&~d,T!==0?o=qn(T):m!==0?o=qn(m):t||(x=i&~x,x!==0&&(o=qn(x)))),o===0?0:a!==0&&a!==o&&(a&d)===0&&(d=o&-o,x=a&-a,d>=x||d===32&&(x&4194176)!==0)?a:o}function pa(t,a){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&a)===0}function yi(t,a){switch(t){case 1:case 2:case 4:case 8:return a+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vl(){var t=as;return as<<=1,(as&4194176)===0&&(as=128),t}function _a(){var t=ga;return ga<<=1,(ga&62914560)===0&&(ga=4194304),t}function vi(t){for(var a=[],i=0;31>i;i++)a.push(t);return a}function pt(t,a){t.pendingLanes|=a,a!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function ku(t,a,i,o,d,m){var x=t.pendingLanes;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=i,t.entangledLanes&=i,t.errorRecoveryDisabledLanes&=i,t.shellSuspendCounter=0;var T=t.entanglements,j=t.expirationTimes,B=t.hiddenUpdates;for(i=x&~i;0<i;){var Z=31-sn(i),ae=1<<Z;T[Z]=0,j[Z]=-1;var W=B[Z];if(W!==null)for(B[Z]=null,Z=0;Z<W.length;Z++){var X=W[Z];X!==null&&(X.lane&=-536870913)}i&=~ae}o!==0&&ya(t,o,0),m!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=m&~(x&~a))}function ya(t,a,i){t.pendingLanes|=a,t.suspendedLanes&=~a;var o=31-sn(a);t.entangledLanes|=a,t.entanglements[o]=t.entanglements[o]|1073741824|i&4194218}function va(t,a){var i=t.entangledLanes|=a;for(t=t.entanglements;i;){var o=31-sn(i),d=1<<o;d&a|t[o]&a&&(t[o]|=a),i&=~d}}function Cu(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Iu(){var t=ce.p;return t!==0?t:(t=window.event,t===void 0?32:fv(t.type))}function xa(t,a){var i=ce.p;try{return ce.p=t,a()}finally{ce.p=i}}var rs=Math.random().toString(36).slice(2),Mt="__reactFiber$"+rs,Rt="__reactProps$"+rs,Cs="__reactContainer$"+rs,br="__reactEvents$"+rs,xi="__reactListeners$"+rs,is="__reactHandles$"+rs,Pl="__reactResources$"+rs,Ea="__reactMarker$"+rs;function Ar(t){delete t[Mt],delete t[Rt],delete t[br],delete t[xi],delete t[is]}function Fn(t){var a=t[Mt];if(a)return a;for(var i=t.parentNode;i;){if(a=i[Cs]||i[Mt]){if(i=a.alternate,a.child!==null||i!==null&&i.child!==null)for(t=Zy(t);t!==null;){if(i=t[Mt])return i;t=Zy(t)}return a}t=i,i=t.parentNode}return null}function Is(t){if(t=t[Mt]||t[Cs]){var a=t.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return t}return null}function Ta(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t.stateNode;throw Error(r(33))}function ba(t){var a=t[Pl];return a||(a=t[Pl]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function rt(t){t[Ea]=!0}var Ul=new Set,Ei={};function pn(t,a){dn(t,a),dn(t+"Capture",a)}function dn(t,a){for(Ei[t]=a,t=0;t<a.length;t++)Ul.add(a[t])}var _n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cd=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Hl={},Bl={};function ju(t){return pi.call(Bl,t)?!0:pi.call(Hl,t)?!1:cd.test(t)?Bl[t]=!0:(Hl[t]=!0,!1)}function Aa(t,a,i){if(ju(a))if(i===null)t.removeAttribute(a);else{switch(typeof i){case"undefined":case"function":case"symbol":t.removeAttribute(a);return;case"boolean":var o=a.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(a);return}}t.setAttribute(a,""+i)}}function Sa(t,a,i){if(i===null)t.removeAttribute(a);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttribute(a,""+i)}}function Nn(t,a,i,o){if(o===null)t.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttributeNS(a,i,""+o)}}function an(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Du(t){var a=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function hd(t){var a=Du(t)?"checked":"value",i=Object.getOwnPropertyDescriptor(t.constructor.prototype,a),o=""+t[a];if(!t.hasOwnProperty(a)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var d=i.get,m=i.set;return Object.defineProperty(t,a,{configurable:!0,get:function(){return d.call(this)},set:function(x){o=""+x,m.call(this,x)}}),Object.defineProperty(t,a,{enumerable:i.enumerable}),{getValue:function(){return o},setValue:function(x){o=""+x},stopTracking:function(){t._valueTracker=null,delete t[a]}}}}function Sr(t){t._valueTracker||(t._valueTracker=hd(t))}function zl(t){if(!t)return!1;var a=t._valueTracker;if(!a)return!0;var i=a.getValue(),o="";return t&&(o=Du(t)?t.checked?"true":"false":t.value),t=o,t!==i?(a.setValue(t),!0):!1}function Ti(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var js=/[\n"\\]/g;function ct(t){return t.replace(js,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function wa(t,a,i,o,d,m,x,T){t.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?t.type=x:t.removeAttribute("type"),a!=null?x==="number"?(a===0&&t.value===""||t.value!=a)&&(t.value=""+an(a)):t.value!==""+an(a)&&(t.value=""+an(a)):x!=="submit"&&x!=="reset"||t.removeAttribute("value"),a!=null?bi(t,x,an(a)):i!=null?bi(t,x,an(i)):o!=null&&t.removeAttribute("value"),d==null&&m!=null&&(t.defaultChecked=!!m),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+an(T):t.removeAttribute("name")}function wr(t,a,i,o,d,m,x,T){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),a!=null||i!=null){if(!(m!=="submit"&&m!=="reset"||a!=null))return;i=i!=null?""+an(i):"",a=a!=null?""+an(a):i,T||a===t.value||(t.value=a),t.defaultValue=a}o=o??d,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=T?t.checked:!!o,t.defaultChecked=!!o,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(t.name=x)}function bi(t,a,i){a==="number"&&Ti(t.ownerDocument)===t||t.defaultValue===""+i||(t.defaultValue=""+i)}function qe(t,a,i,o){if(t=t.options,a){a={};for(var d=0;d<i.length;d++)a["$"+i[d]]=!0;for(i=0;i<t.length;i++)d=a.hasOwnProperty("$"+t[i].value),t[i].selected!==d&&(t[i].selected=d),d&&o&&(t[i].defaultSelected=!0)}else{for(i=""+an(i),a=null,d=0;d<t.length;d++){if(t[d].value===i){t[d].selected=!0,o&&(t[d].defaultSelected=!0);return}a!==null||t[d].disabled||(a=t[d])}a!==null&&(a.selected=!0)}}function Rr(t,a,i){if(a!=null&&(a=""+an(a),a!==t.value&&(t.value=a),i==null)){t.defaultValue!==a&&(t.defaultValue=a);return}t.defaultValue=i!=null?""+an(i):""}function Ra(t,a,i,o){if(a==null){if(o!=null){if(i!=null)throw Error(r(92));if(ue(o)){if(1<o.length)throw Error(r(93));o=o[0]}i=o}i==null&&(i=""),a=i}i=an(a),t.defaultValue=i,o=t.textContent,o===i&&o!==""&&o!==null&&(t.value=o)}function kn(t,a){if(a){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=a;return}}t.textContent=a}var dd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Kl(t,a,i){var o=a.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?o?t.setProperty(a,""):a==="float"?t.cssFloat="":t[a]="":o?t.setProperty(a,i):typeof i!="number"||i===0||dd.has(a)?a==="float"?t.cssFloat=i:t[a]=(""+i).trim():t[a]=i+"px"}function Ou(t,a,i){if(a!=null&&typeof a!="object")throw Error(r(62));if(t=t.style,i!=null){for(var o in i)!i.hasOwnProperty(o)||a!=null&&a.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var d in a)o=a[d],a.hasOwnProperty(d)&&i[d]!==o&&Kl(t,d,o)}else for(var m in a)a.hasOwnProperty(m)&&Kl(t,m,a[m])}function ql(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),md=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ls(t){return md.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Cn=null;function Ai(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ds=null,Os=null;function Ms(t){var a=Is(t);if(a&&(t=a.stateNode)){var i=t[Rt]||null;e:switch(t=a.stateNode,a.type){case"input":if(wa(t,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),a=i.name,i.type==="radio"&&a!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+ct(""+a)+'"][type="radio"]'),a=0;a<i.length;a++){var o=i[a];if(o!==t&&o.form===t.form){var d=o[Rt]||null;if(!d)throw Error(r(90));wa(o,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(a=0;a<i.length;a++)o=i[a],o.form===t.form&&zl(o)}break e;case"textarea":Rr(t,i.value,i.defaultValue);break e;case"select":a=i.value,a!=null&&qe(t,!!i.multiple,a,!1)}}}var Fl=!1;function Mu(t,a,i){if(Fl)return t(a,i);Fl=!0;try{var o=t(a);return o}finally{if(Fl=!1,(Ds!==null||Os!==null)&&(wc(),Ds&&(a=Ds,t=Os,Os=Ds=null,Ms(a),t)))for(a=0;a<t.length;a++)Ms(t[a])}}function Nr(t,a){var i=t.stateNode;if(i===null)return null;var o=i[Rt]||null;if(o===null)return null;i=o[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(r(231,a,typeof i));return i}var In=!1;if(_n)try{var kr={};Object.defineProperty(kr,"passive",{get:function(){In=!0}}),window.addEventListener("test",kr,kr),window.removeEventListener("test",kr,kr)}catch{In=!1}var os=null,Na=null,Ls=null;function Gl(){if(Ls)return Ls;var t,a=Na,i=a.length,o,d="value"in os?os.value:os.textContent,m=d.length;for(t=0;t<i&&a[t]===d[t];t++);var x=i-t;for(o=1;o<=x&&a[i-o]===d[m-o];o++);return Ls=d.slice(t,1<o?1-o:void 0)}function us(t){var a=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&a===13&&(t=13)):t=a,t===10&&(t=13),32<=t||t===13?t:0}function cs(){return!0}function $l(){return!1}function Lt(t){function a(i,o,d,m,x){this._reactName=i,this._targetInst=d,this.type=o,this.nativeEvent=m,this.target=x,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(i=t[T],this[T]=i?i(m):m[T]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?cs:$l,this.isPropagationStopped=$l,this}return I(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=cs)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=cs)},persist:function(){},isPersistent:cs}),a}var Qe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Si=Lt(Qe),Cr=I({},Qe,{view:0,detail:0}),Lu=Lt(Cr),wi,Ri,hs,Ir=I({},Cr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Or,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==hs&&(hs&&t.type==="mousemove"?(wi=t.screenX-hs.screenX,Ri=t.screenY-hs.screenY):Ri=wi=0,hs=t),wi)},movementY:function(t){return"movementY"in t?t.movementY:Ri}}),jn=Lt(Ir),Vu=I({},Ir,{dataTransfer:0}),gd=Lt(Vu),jr=I({},Cr,{relatedTarget:0}),Ni=Lt(jr),Ql=I({},Qe,{animationName:0,elapsedTime:0,pseudoElement:0}),ki=Lt(Ql),Pu=I({},Qe,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ci=Lt(Pu),pd=I({},Qe,{data:0}),Wl=Lt(pd),Dr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Uu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yl(t){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(t):(t=Hu[t])?!!a[t]:!1}function Or(){return Yl}var Bu=I({},Cr,{key:function(t){if(t.key){var a=Dr[t.key]||t.key;if(a!=="Unidentified")return a}return t.type==="keypress"?(t=us(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Uu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Or,charCode:function(t){return t.type==="keypress"?us(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?us(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ii=Lt(Bu),zu=I({},Ir,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xl=Lt(zu),Vs=I({},Cr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Or}),Ku=Lt(Vs),qu=I({},Qe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fu=Lt(qu),Gu=I({},Ir,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ji=Lt(Gu),rn=I({},Qe,{newState:0,oldState:0}),$u=Lt(rn),Qu=[9,13,27,32],ds=_n&&"CompositionEvent"in window,c=null;_n&&"documentMode"in document&&(c=document.documentMode);var y=_n&&"TextEvent"in window&&!c,v=_n&&(!ds||c&&8<c&&11>=c),w=" ",q=!1;function Y(t,a){switch(t){case"keyup":return Qu.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oe(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ue=!1;function Nt(t,a){switch(t){case"compositionend":return oe(a);case"keypress":return a.which!==32?null:(q=!0,w);case"textInput":return t=a.data,t===w&&q?null:t;default:return null}}function He(t,a){if(Ue)return t==="compositionend"||!ds&&Y(t,a)?(t=Gl(),Ls=Na=os=null,Ue=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return v&&a.locale!=="ko"?null:a.data;default:return null}}var Vt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kt(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a==="input"?!!Vt[t.type]:a==="textarea"}function Ps(t,a,i,o){Ds?Os?Os.push(o):Os=[o]:Ds=o,a=Ic(a,"onChange"),0<a.length&&(i=new Si("onChange","change",null,i,o),t.push({event:i,listeners:a}))}var zt=null,fs=null;function Zl(t){Ky(t,0)}function Wu(t){var a=Ta(t);if(zl(a))return t}function yp(t,a){if(t==="change")return a}var vp=!1;if(_n){var _d;if(_n){var yd="oninput"in document;if(!yd){var xp=document.createElement("div");xp.setAttribute("oninput","return;"),yd=typeof xp.oninput=="function"}_d=yd}else _d=!1;vp=_d&&(!document.documentMode||9<document.documentMode)}function Ep(){zt&&(zt.detachEvent("onpropertychange",Tp),fs=zt=null)}function Tp(t){if(t.propertyName==="value"&&Wu(fs)){var a=[];Ps(a,fs,t,Ai(t)),Mu(Zl,a)}}function Cb(t,a,i){t==="focusin"?(Ep(),zt=a,fs=i,zt.attachEvent("onpropertychange",Tp)):t==="focusout"&&Ep()}function Ib(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Wu(fs)}function jb(t,a){if(t==="click")return Wu(a)}function Db(t,a){if(t==="input"||t==="change")return Wu(a)}function Ob(t,a){return t===a&&(t!==0||1/t===1/a)||t!==t&&a!==a}var yn=typeof Object.is=="function"?Object.is:Ob;function Jl(t,a){if(yn(t,a))return!0;if(typeof t!="object"||t===null||typeof a!="object"||a===null)return!1;var i=Object.keys(t),o=Object.keys(a);if(i.length!==o.length)return!1;for(o=0;o<i.length;o++){var d=i[o];if(!pi.call(a,d)||!yn(t[d],a[d]))return!1}return!0}function bp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ap(t,a){var i=bp(t);t=0;for(var o;i;){if(i.nodeType===3){if(o=t+i.textContent.length,t<=a&&o>=a)return{node:i,offset:a-t};t=o}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=bp(i)}}function Sp(t,a){return t&&a?t===a?!0:t&&t.nodeType===3?!1:a&&a.nodeType===3?Sp(t,a.parentNode):"contains"in t?t.contains(a):t.compareDocumentPosition?!!(t.compareDocumentPosition(a)&16):!1:!1}function wp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var a=Ti(t.document);a instanceof t.HTMLIFrameElement;){try{var i=typeof a.contentWindow.location.href=="string"}catch{i=!1}if(i)t=a.contentWindow;else break;a=Ti(t.document)}return a}function vd(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a&&(a==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||a==="textarea"||t.contentEditable==="true")}function Mb(t,a){var i=wp(a);a=t.focusedElem;var o=t.selectionRange;if(i!==a&&a&&a.ownerDocument&&Sp(a.ownerDocument.documentElement,a)){if(o!==null&&vd(a)){if(t=o.start,i=o.end,i===void 0&&(i=t),"selectionStart"in a)a.selectionStart=t,a.selectionEnd=Math.min(i,a.value.length);else if(i=(t=a.ownerDocument||document)&&t.defaultView||window,i.getSelection){i=i.getSelection();var d=a.textContent.length,m=Math.min(o.start,d);o=o.end===void 0?m:Math.min(o.end,d),!i.extend&&m>o&&(d=o,o=m,m=d),d=Ap(a,m);var x=Ap(a,o);d&&x&&(i.rangeCount!==1||i.anchorNode!==d.node||i.anchorOffset!==d.offset||i.focusNode!==x.node||i.focusOffset!==x.offset)&&(t=t.createRange(),t.setStart(d.node,d.offset),i.removeAllRanges(),m>o?(i.addRange(t),i.extend(x.node,x.offset)):(t.setEnd(x.node,x.offset),i.addRange(t)))}}for(t=[],i=a;i=i.parentNode;)i.nodeType===1&&t.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<t.length;a++)i=t[a],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var Lb=_n&&"documentMode"in document&&11>=document.documentMode,Di=null,xd=null,eo=null,Ed=!1;function Rp(t,a,i){var o=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Ed||Di==null||Di!==Ti(o)||(o=Di,"selectionStart"in o&&vd(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),eo&&Jl(eo,o)||(eo=o,o=Ic(xd,"onSelect"),0<o.length&&(a=new Si("onSelect","select",null,a,i),t.push({event:a,listeners:o}),a.target=Di)))}function Mr(t,a){var i={};return i[t.toLowerCase()]=a.toLowerCase(),i["Webkit"+t]="webkit"+a,i["Moz"+t]="moz"+a,i}var Oi={animationend:Mr("Animation","AnimationEnd"),animationiteration:Mr("Animation","AnimationIteration"),animationstart:Mr("Animation","AnimationStart"),transitionrun:Mr("Transition","TransitionRun"),transitionstart:Mr("Transition","TransitionStart"),transitioncancel:Mr("Transition","TransitionCancel"),transitionend:Mr("Transition","TransitionEnd")},Td={},Np={};_n&&(Np=document.createElement("div").style,"AnimationEvent"in window||(delete Oi.animationend.animation,delete Oi.animationiteration.animation,delete Oi.animationstart.animation),"TransitionEvent"in window||delete Oi.transitionend.transition);function Lr(t){if(Td[t])return Td[t];if(!Oi[t])return t;var a=Oi[t],i;for(i in a)if(a.hasOwnProperty(i)&&i in Np)return Td[t]=a[i];return t}var kp=Lr("animationend"),Cp=Lr("animationiteration"),Ip=Lr("animationstart"),Vb=Lr("transitionrun"),Pb=Lr("transitionstart"),Ub=Lr("transitioncancel"),jp=Lr("transitionend"),Dp=new Map,Op="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Gn(t,a){Dp.set(t,a),pn(a,[t])}var Dn=[],Mi=0,bd=0;function Yu(){for(var t=Mi,a=bd=Mi=0;a<t;){var i=Dn[a];Dn[a++]=null;var o=Dn[a];Dn[a++]=null;var d=Dn[a];Dn[a++]=null;var m=Dn[a];if(Dn[a++]=null,o!==null&&d!==null){var x=o.pending;x===null?d.next=d:(d.next=x.next,x.next=d),o.pending=d}m!==0&&Mp(i,d,m)}}function Xu(t,a,i,o){Dn[Mi++]=t,Dn[Mi++]=a,Dn[Mi++]=i,Dn[Mi++]=o,bd|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Ad(t,a,i,o){return Xu(t,a,i,o),Zu(t)}function ka(t,a){return Xu(t,null,null,a),Zu(t)}function Mp(t,a,i){t.lanes|=i;var o=t.alternate;o!==null&&(o.lanes|=i);for(var d=!1,m=t.return;m!==null;)m.childLanes|=i,o=m.alternate,o!==null&&(o.childLanes|=i),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(d=!0)),t=m,m=m.return;d&&a!==null&&t.tag===3&&(m=t.stateNode,d=31-sn(i),m=m.hiddenUpdates,t=m[d],t===null?m[d]=[a]:t.push(a),a.lane=i|536870912)}function Zu(t){if(50<wo)throw wo=0,If=null,Error(r(185));for(var a=t.return;a!==null;)t=a,a=t.return;return t.tag===3?t.stateNode:null}var Li={},Lp=new WeakMap;function On(t,a){if(typeof t=="object"&&t!==null){var i=Lp.get(t);return i!==void 0?i:(a={value:t,source:a,stack:ye(a)},Lp.set(t,a),a)}return{value:t,source:a,stack:ye(a)}}var Vi=[],Pi=0,Ju=null,ec=0,Mn=[],Ln=0,Vr=null,Us=1,Hs="";function Pr(t,a){Vi[Pi++]=ec,Vi[Pi++]=Ju,Ju=t,ec=a}function Vp(t,a,i){Mn[Ln++]=Us,Mn[Ln++]=Hs,Mn[Ln++]=Vr,Vr=t;var o=Us;t=Hs;var d=32-sn(o)-1;o&=~(1<<d),i+=1;var m=32-sn(a)+d;if(30<m){var x=d-d%5;m=(o&(1<<x)-1).toString(32),o>>=x,d-=x,Us=1<<32-sn(a)+d|i<<d|o,Hs=m+t}else Us=1<<m|i<<d|o,Hs=t}function Sd(t){t.return!==null&&(Pr(t,1),Vp(t,1,0))}function wd(t){for(;t===Ju;)Ju=Vi[--Pi],Vi[Pi]=null,ec=Vi[--Pi],Vi[Pi]=null;for(;t===Vr;)Vr=Mn[--Ln],Mn[Ln]=null,Hs=Mn[--Ln],Mn[Ln]=null,Us=Mn[--Ln],Mn[Ln]=null}var ln=null,Kt=null,Fe=!1,$n=null,ms=!1,Rd=Error(r(519));function Ur(t){var a=Error(r(418,""));throw so(On(a,t)),Rd}function Pp(t){var a=t.stateNode,i=t.type,o=t.memoizedProps;switch(a[Mt]=t,a[Rt]=o,i){case"dialog":Le("cancel",a),Le("close",a);break;case"iframe":case"object":case"embed":Le("load",a);break;case"video":case"audio":for(i=0;i<No.length;i++)Le(No[i],a);break;case"source":Le("error",a);break;case"img":case"image":case"link":Le("error",a),Le("load",a);break;case"details":Le("toggle",a);break;case"input":Le("invalid",a),wr(a,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Sr(a);break;case"select":Le("invalid",a);break;case"textarea":Le("invalid",a),Ra(a,o.value,o.defaultValue,o.children),Sr(a)}i=o.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||a.textContent===""+i||o.suppressHydrationWarning===!0||$y(a.textContent,i)?(o.popover!=null&&(Le("beforetoggle",a),Le("toggle",a)),o.onScroll!=null&&Le("scroll",a),o.onScrollEnd!=null&&Le("scrollend",a),o.onClick!=null&&(a.onclick=jc),a=!0):a=!1,a||Ur(t)}function Up(t){for(ln=t.return;ln;)switch(ln.tag){case 3:case 27:ms=!0;return;case 5:case 13:ms=!1;return;default:ln=ln.return}}function to(t){if(t!==ln)return!1;if(!Fe)return Up(t),Fe=!0,!1;var a=!1,i;if((i=t.tag!==3&&t.tag!==27)&&((i=t.tag===5)&&(i=t.type,i=!(i!=="form"&&i!=="button")||Qf(t.type,t.memoizedProps)),i=!i),i&&(a=!0),a&&Kt&&Ur(t),Up(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));e:{for(t=t.nextSibling,a=0;t;){if(t.nodeType===8)if(i=t.data,i==="/$"){if(a===0){Kt=Wn(t.nextSibling);break e}a--}else i!=="$"&&i!=="$!"&&i!=="$?"||a++;t=t.nextSibling}Kt=null}}else Kt=ln?Wn(t.stateNode.nextSibling):null;return!0}function no(){Kt=ln=null,Fe=!1}function so(t){$n===null?$n=[t]:$n.push(t)}var ao=Error(r(460)),Hp=Error(r(474)),Nd={then:function(){}};function Bp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function tc(){}function zp(t,a,i){switch(i=t[i],i===void 0?t.push(a):i!==a&&(a.then(tc,tc),a=i),a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,t===ao?Error(r(483)):t;default:if(typeof a.status=="string")a.then(tc,tc);else{if(t=et,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=a,t.status="pending",t.then(function(o){if(a.status==="pending"){var d=a;d.status="fulfilled",d.value=o}},function(o){if(a.status==="pending"){var d=a;d.status="rejected",d.reason=o}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,t===ao?Error(r(483)):t}throw ro=a,ao}}var ro=null;function Kp(){if(ro===null)throw Error(r(459));var t=ro;return ro=null,t}var Ui=null,io=0;function nc(t){var a=io;return io+=1,Ui===null&&(Ui=[]),zp(Ui,t,a)}function lo(t,a){a=a.props.ref,t.ref=a!==void 0?a:null}function sc(t,a){throw a.$$typeof===u?Error(r(525)):(t=Object.prototype.toString.call(a),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":t)))}function qp(t){var a=t._init;return a(t._payload)}function Fp(t){function a(K,H){if(t){var G=K.deletions;G===null?(K.deletions=[H],K.flags|=16):G.push(H)}}function i(K,H){if(!t)return null;for(;H!==null;)a(K,H),H=H.sibling;return null}function o(K){for(var H=new Map;K!==null;)K.key!==null?H.set(K.key,K):H.set(K.index,K),K=K.sibling;return H}function d(K,H){return K=Ba(K,H),K.index=0,K.sibling=null,K}function m(K,H,G){return K.index=G,t?(G=K.alternate,G!==null?(G=G.index,G<H?(K.flags|=33554434,H):G):(K.flags|=33554434,H)):(K.flags|=1048576,H)}function x(K){return t&&K.alternate===null&&(K.flags|=33554434),K}function T(K,H,G,te){return H===null||H.tag!==6?(H=bf(G,K.mode,te),H.return=K,H):(H=d(H,G),H.return=K,H)}function j(K,H,G,te){var fe=G.type;return fe===p?Z(K,H,G.props.children,te,G.key):H!==null&&(H.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===z&&qp(fe)===H.type)?(H=d(H,G.props),lo(H,G),H.return=K,H):(H=Ec(G.type,G.key,G.props,null,K.mode,te),lo(H,G),H.return=K,H)}function B(K,H,G,te){return H===null||H.tag!==4||H.stateNode.containerInfo!==G.containerInfo||H.stateNode.implementation!==G.implementation?(H=Af(G,K.mode,te),H.return=K,H):(H=d(H,G.children||[]),H.return=K,H)}function Z(K,H,G,te,fe){return H===null||H.tag!==7?(H=Wr(G,K.mode,te,fe),H.return=K,H):(H=d(H,G),H.return=K,H)}function ae(K,H,G){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=bf(""+H,K.mode,G),H.return=K,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case h:return G=Ec(H.type,H.key,H.props,null,K.mode,G),lo(G,H),G.return=K,G;case g:return H=Af(H,K.mode,G),H.return=K,H;case z:var te=H._init;return H=te(H._payload),ae(K,H,G)}if(ue(H)||ie(H))return H=Wr(H,K.mode,G,null),H.return=K,H;if(typeof H.then=="function")return ae(K,nc(H),G);if(H.$$typeof===C)return ae(K,yc(K,H),G);sc(K,H)}return null}function W(K,H,G,te){var fe=H!==null?H.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return fe!==null?null:T(K,H,""+G,te);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case h:return G.key===fe?j(K,H,G,te):null;case g:return G.key===fe?B(K,H,G,te):null;case z:return fe=G._init,G=fe(G._payload),W(K,H,G,te)}if(ue(G)||ie(G))return fe!==null?null:Z(K,H,G,te,null);if(typeof G.then=="function")return W(K,H,nc(G),te);if(G.$$typeof===C)return W(K,H,yc(K,G),te);sc(K,G)}return null}function X(K,H,G,te,fe){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return K=K.get(G)||null,T(H,K,""+te,fe);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case h:return K=K.get(te.key===null?G:te.key)||null,j(H,K,te,fe);case g:return K=K.get(te.key===null?G:te.key)||null,B(H,K,te,fe);case z:var je=te._init;return te=je(te._payload),X(K,H,G,te,fe)}if(ue(te)||ie(te))return K=K.get(G)||null,Z(H,K,te,fe,null);if(typeof te.then=="function")return X(K,H,G,nc(te),fe);if(te.$$typeof===C)return X(K,H,G,yc(H,te),fe);sc(H,te)}return null}function _e(K,H,G,te){for(var fe=null,je=null,ve=H,Ee=H=0,Ht=null;ve!==null&&Ee<G.length;Ee++){ve.index>Ee?(Ht=ve,ve=null):Ht=ve.sibling;var Ge=W(K,ve,G[Ee],te);if(Ge===null){ve===null&&(ve=Ht);break}t&&ve&&Ge.alternate===null&&a(K,ve),H=m(Ge,H,Ee),je===null?fe=Ge:je.sibling=Ge,je=Ge,ve=Ht}if(Ee===G.length)return i(K,ve),Fe&&Pr(K,Ee),fe;if(ve===null){for(;Ee<G.length;Ee++)ve=ae(K,G[Ee],te),ve!==null&&(H=m(ve,H,Ee),je===null?fe=ve:je.sibling=ve,je=ve);return Fe&&Pr(K,Ee),fe}for(ve=o(ve);Ee<G.length;Ee++)Ht=X(ve,K,Ee,G[Ee],te),Ht!==null&&(t&&Ht.alternate!==null&&ve.delete(Ht.key===null?Ee:Ht.key),H=m(Ht,H,Ee),je===null?fe=Ht:je.sibling=Ht,je=Ht);return t&&ve.forEach(function(Qa){return a(K,Qa)}),Fe&&Pr(K,Ee),fe}function Se(K,H,G,te){if(G==null)throw Error(r(151));for(var fe=null,je=null,ve=H,Ee=H=0,Ht=null,Ge=G.next();ve!==null&&!Ge.done;Ee++,Ge=G.next()){ve.index>Ee?(Ht=ve,ve=null):Ht=ve.sibling;var Qa=W(K,ve,Ge.value,te);if(Qa===null){ve===null&&(ve=Ht);break}t&&ve&&Qa.alternate===null&&a(K,ve),H=m(Qa,H,Ee),je===null?fe=Qa:je.sibling=Qa,je=Qa,ve=Ht}if(Ge.done)return i(K,ve),Fe&&Pr(K,Ee),fe;if(ve===null){for(;!Ge.done;Ee++,Ge=G.next())Ge=ae(K,Ge.value,te),Ge!==null&&(H=m(Ge,H,Ee),je===null?fe=Ge:je.sibling=Ge,je=Ge);return Fe&&Pr(K,Ee),fe}for(ve=o(ve);!Ge.done;Ee++,Ge=G.next())Ge=X(ve,K,Ee,Ge.value,te),Ge!==null&&(t&&Ge.alternate!==null&&ve.delete(Ge.key===null?Ee:Ge.key),H=m(Ge,H,Ee),je===null?fe=Ge:je.sibling=Ge,je=Ge);return t&&ve.forEach(function(JA){return a(K,JA)}),Fe&&Pr(K,Ee),fe}function ft(K,H,G,te){if(typeof G=="object"&&G!==null&&G.type===p&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case h:e:{for(var fe=G.key;H!==null;){if(H.key===fe){if(fe=G.type,fe===p){if(H.tag===7){i(K,H.sibling),te=d(H,G.props.children),te.return=K,K=te;break e}}else if(H.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===z&&qp(fe)===H.type){i(K,H.sibling),te=d(H,G.props),lo(te,G),te.return=K,K=te;break e}i(K,H);break}else a(K,H);H=H.sibling}G.type===p?(te=Wr(G.props.children,K.mode,te,G.key),te.return=K,K=te):(te=Ec(G.type,G.key,G.props,null,K.mode,te),lo(te,G),te.return=K,K=te)}return x(K);case g:e:{for(fe=G.key;H!==null;){if(H.key===fe)if(H.tag===4&&H.stateNode.containerInfo===G.containerInfo&&H.stateNode.implementation===G.implementation){i(K,H.sibling),te=d(H,G.children||[]),te.return=K,K=te;break e}else{i(K,H);break}else a(K,H);H=H.sibling}te=Af(G,K.mode,te),te.return=K,K=te}return x(K);case z:return fe=G._init,G=fe(G._payload),ft(K,H,G,te)}if(ue(G))return _e(K,H,G,te);if(ie(G)){if(fe=ie(G),typeof fe!="function")throw Error(r(150));return G=fe.call(G),Se(K,H,G,te)}if(typeof G.then=="function")return ft(K,H,nc(G),te);if(G.$$typeof===C)return ft(K,H,yc(K,G),te);sc(K,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,H!==null&&H.tag===6?(i(K,H.sibling),te=d(H,G),te.return=K,K=te):(i(K,H),te=bf(G,K.mode,te),te.return=K,K=te),x(K)):i(K,H)}return function(K,H,G,te){try{io=0;var fe=ft(K,H,G,te);return Ui=null,fe}catch(ve){if(ve===ao)throw ve;var je=Hn(29,ve,null,K.mode);return je.lanes=te,je.return=K,je}finally{}}}var Hr=Fp(!0),Gp=Fp(!1),Hi=Ke(null),ac=Ke(0);function $p(t,a){t=Xs,Ye(ac,t),Ye(Hi,a),Xs=t|a.baseLanes}function kd(){Ye(ac,Xs),Ye(Hi,Hi.current)}function Cd(){Xs=ac.current,ut(Hi),ut(ac)}var Vn=Ke(null),gs=null;function Ca(t){var a=t.alternate;Ye(Ct,Ct.current&1),Ye(Vn,t),gs===null&&(a===null||Hi.current!==null||a.memoizedState!==null)&&(gs=t)}function Qp(t){if(t.tag===22){if(Ye(Ct,Ct.current),Ye(Vn,t),gs===null){var a=t.alternate;a!==null&&a.memoizedState!==null&&(gs=t)}}else Ia()}function Ia(){Ye(Ct,Ct.current),Ye(Vn,Vn.current)}function Bs(t){ut(Vn),gs===t&&(gs=null),ut(Ct)}var Ct=Ke(0);function rc(t){for(var a=t;a!==null;){if(a.tag===13){var i=a.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Hb=typeof AbortController<"u"?AbortController:function(){var t=[],a=this.signal={aborted:!1,addEventListener:function(i,o){t.push(o)}};this.abort=function(){a.aborted=!0,t.forEach(function(i){return i()})}},Bb=s.unstable_scheduleCallback,zb=s.unstable_NormalPriority,It={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Id(){return{controller:new Hb,data:new Map,refCount:0}}function oo(t){t.refCount--,t.refCount===0&&Bb(zb,function(){t.controller.abort()})}var uo=null,jd=0,Bi=0,zi=null;function Kb(t,a){if(uo===null){var i=uo=[];jd=0,Bi=Uf(),zi={status:"pending",value:void 0,then:function(o){i.push(o)}}}return jd++,a.then(Wp,Wp),a}function Wp(){if(--jd===0&&uo!==null){zi!==null&&(zi.status="fulfilled");var t=uo;uo=null,Bi=0,zi=null;for(var a=0;a<t.length;a++)(0,t[a])()}}function qb(t,a){var i=[],o={status:"pending",value:null,reason:null,then:function(d){i.push(d)}};return t.then(function(){o.status="fulfilled",o.value=a;for(var d=0;d<i.length;d++)(0,i[d])(a)},function(d){for(o.status="rejected",o.reason=d,d=0;d<i.length;d++)(0,i[d])(void 0)}),o}var Yp=S.S;S.S=function(t,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&Kb(t,a),Yp!==null&&Yp(t,a)};var Br=Ke(null);function Dd(){var t=Br.current;return t!==null?t:et.pooledCache}function ic(t,a){a===null?Ye(Br,Br.current):Ye(Br,a.pool)}function Xp(){var t=Dd();return t===null?null:{parent:It._currentValue,pool:t}}var ja=0,Ie=null,Xe=null,xt=null,lc=!1,Ki=!1,zr=!1,oc=0,co=0,qi=null,Fb=0;function _t(){throw Error(r(321))}function Od(t,a){if(a===null)return!1;for(var i=0;i<a.length&&i<t.length;i++)if(!yn(t[i],a[i]))return!1;return!0}function Md(t,a,i,o,d,m){return ja=m,Ie=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,S.H=t===null||t.memoizedState===null?Kr:Da,zr=!1,m=i(o,d),zr=!1,Ki&&(m=Jp(a,i,o,d)),Zp(t),m}function Zp(t){S.H=ps;var a=Xe!==null&&Xe.next!==null;if(ja=0,xt=Xe=Ie=null,lc=!1,co=0,qi=null,a)throw Error(r(300));t===null||Pt||(t=t.dependencies,t!==null&&_c(t)&&(Pt=!0))}function Jp(t,a,i,o){Ie=t;var d=0;do{if(Ki&&(qi=null),co=0,Ki=!1,25<=d)throw Error(r(301));if(d+=1,xt=Xe=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}S.H=qr,m=a(i,o)}while(Ki);return m}function Gb(){var t=S.H,a=t.useState()[0];return a=typeof a.then=="function"?ho(a):a,t=t.useState()[0],(Xe!==null?Xe.memoizedState:null)!==t&&(Ie.flags|=1024),a}function Ld(){var t=oc!==0;return oc=0,t}function Vd(t,a,i){a.updateQueue=t.updateQueue,a.flags&=-2053,t.lanes&=~i}function Pd(t){if(lc){for(t=t.memoizedState;t!==null;){var a=t.queue;a!==null&&(a.pending=null),t=t.next}lc=!1}ja=0,xt=Xe=Ie=null,Ki=!1,co=oc=0,qi=null}function fn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?Ie.memoizedState=xt=t:xt=xt.next=t,xt}function Et(){if(Xe===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var a=xt===null?Ie.memoizedState:xt.next;if(a!==null)xt=a,Xe=t;else{if(t===null)throw Ie.alternate===null?Error(r(467)):Error(r(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},xt===null?Ie.memoizedState=xt=t:xt=xt.next=t}return xt}var uc;uc=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function ho(t){var a=co;return co+=1,qi===null&&(qi=[]),t=zp(qi,t,a),a=Ie,(xt===null?a.memoizedState:xt.next)===null&&(a=a.alternate,S.H=a===null||a.memoizedState===null?Kr:Da),t}function cc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ho(t);if(t.$$typeof===C)return Yt(t)}throw Error(r(438,String(t)))}function Ud(t){var a=null,i=Ie.updateQueue;if(i!==null&&(a=i.memoCache),a==null){var o=Ie.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(a={data:o.data.map(function(d){return d.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),i===null&&(i=uc(),Ie.updateQueue=i),i.memoCache=a,i=a.data[a.index],i===void 0)for(i=a.data[a.index]=Array(t),o=0;o<t;o++)i[o]=ee;return a.index++,i}function zs(t,a){return typeof a=="function"?a(t):a}function hc(t){var a=Et();return Hd(a,Xe,t)}function Hd(t,a,i){var o=t.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=i;var d=t.baseQueue,m=o.pending;if(m!==null){if(d!==null){var x=d.next;d.next=m.next,m.next=x}a.baseQueue=d=m,o.pending=null}if(m=t.baseState,d===null)t.memoizedState=m;else{a=d.next;var T=x=null,j=null,B=a,Z=!1;do{var ae=B.lane&-536870913;if(ae!==B.lane?(Be&ae)===ae:(ja&ae)===ae){var W=B.revertLane;if(W===0)j!==null&&(j=j.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),ae===Bi&&(Z=!0);else if((ja&W)===W){B=B.next,W===Bi&&(Z=!0);continue}else ae={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},j===null?(T=j=ae,x=m):j=j.next=ae,Ie.lanes|=W,za|=W;ae=B.action,zr&&i(m,ae),m=B.hasEagerState?B.eagerState:i(m,ae)}else W={lane:ae,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},j===null?(T=j=W,x=m):j=j.next=W,Ie.lanes|=ae,za|=ae;B=B.next}while(B!==null&&B!==a);if(j===null?x=m:j.next=T,!yn(m,t.memoizedState)&&(Pt=!0,Z&&(i=zi,i!==null)))throw i;t.memoizedState=m,t.baseState=x,t.baseQueue=j,o.lastRenderedState=m}return d===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Bd(t){var a=Et(),i=a.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=t;var o=i.dispatch,d=i.pending,m=a.memoizedState;if(d!==null){i.pending=null;var x=d=d.next;do m=t(m,x.action),x=x.next;while(x!==d);yn(m,a.memoizedState)||(Pt=!0),a.memoizedState=m,a.baseQueue===null&&(a.baseState=m),i.lastRenderedState=m}return[m,o]}function e_(t,a,i){var o=Ie,d=Et(),m=Fe;if(m){if(i===void 0)throw Error(r(407));i=i()}else i=a();var x=!yn((Xe||d).memoizedState,i);if(x&&(d.memoizedState=i,Pt=!0),d=d.queue,qd(s_.bind(null,o,d,t),[t]),d.getSnapshot!==a||x||xt!==null&&xt.memoizedState.tag&1){if(o.flags|=2048,Fi(9,n_.bind(null,o,d,i,a),{destroy:void 0},null),et===null)throw Error(r(349));m||(ja&60)!==0||t_(o,a,i)}return i}function t_(t,a,i){t.flags|=16384,t={getSnapshot:a,value:i},a=Ie.updateQueue,a===null?(a=uc(),Ie.updateQueue=a,a.stores=[t]):(i=a.stores,i===null?a.stores=[t]:i.push(t))}function n_(t,a,i,o){a.value=i,a.getSnapshot=o,a_(a)&&r_(t)}function s_(t,a,i){return i(function(){a_(a)&&r_(t)})}function a_(t){var a=t.getSnapshot;t=t.value;try{var i=a();return!yn(t,i)}catch{return!0}}function r_(t){var a=ka(t,2);a!==null&&on(a,t,2)}function zd(t){var a=fn();if(typeof t=="function"){var i=t;if(t=i(),zr){ss(!0);try{i()}finally{ss(!1)}}}return a.memoizedState=a.baseState=t,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zs,lastRenderedState:t},a}function i_(t,a,i,o){return t.baseState=i,Hd(t,Xe,typeof o=="function"?o:zs)}function $b(t,a,i,o,d){if(mc(t))throw Error(r(485));if(t=a.action,t!==null){var m={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){m.listeners.push(x)}};S.T!==null?i(!0):m.isTransition=!1,o(m),i=a.pending,i===null?(m.next=a.pending=m,l_(a,m)):(m.next=i.next,a.pending=i.next=m)}}function l_(t,a){var i=a.action,o=a.payload,d=t.state;if(a.isTransition){var m=S.T,x={};S.T=x;try{var T=i(d,o),j=S.S;j!==null&&j(x,T),o_(t,a,T)}catch(B){Kd(t,a,B)}finally{S.T=m}}else try{m=i(d,o),o_(t,a,m)}catch(B){Kd(t,a,B)}}function o_(t,a,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(o){u_(t,a,o)},function(o){return Kd(t,a,o)}):u_(t,a,i)}function u_(t,a,i){a.status="fulfilled",a.value=i,c_(a),t.state=i,a=t.pending,a!==null&&(i=a.next,i===a?t.pending=null:(i=i.next,a.next=i,l_(t,i)))}function Kd(t,a,i){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do a.status="rejected",a.reason=i,c_(a),a=a.next;while(a!==o)}t.action=null}function c_(t){t=t.listeners;for(var a=0;a<t.length;a++)(0,t[a])()}function h_(t,a){return a}function d_(t,a){if(Fe){var i=et.formState;if(i!==null){e:{var o=Ie;if(Fe){if(Kt){t:{for(var d=Kt,m=ms;d.nodeType!==8;){if(!m){d=null;break t}if(d=Wn(d.nextSibling),d===null){d=null;break t}}m=d.data,d=m==="F!"||m==="F"?d:null}if(d){Kt=Wn(d.nextSibling),o=d.data==="F!";break e}}Ur(o)}o=!1}o&&(a=i[0])}}return i=fn(),i.memoizedState=i.baseState=a,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:h_,lastRenderedState:a},i.queue=o,i=C_.bind(null,Ie,o),o.dispatch=i,o=zd(!1),m=Wd.bind(null,Ie,!1,o.queue),o=fn(),d={state:a,dispatch:null,action:t,pending:null},o.queue=d,i=$b.bind(null,Ie,d,m,i),d.dispatch=i,o.memoizedState=t,[a,i,!1]}function f_(t){var a=Et();return m_(a,Xe,t)}function m_(t,a,i){a=Hd(t,a,h_)[0],t=hc(zs)[0],a=typeof a=="object"&&a!==null&&typeof a.then=="function"?ho(a):a;var o=Et(),d=o.queue,m=d.dispatch;return i!==o.memoizedState&&(Ie.flags|=2048,Fi(9,Qb.bind(null,d,i),{destroy:void 0},null)),[a,m,t]}function Qb(t,a){t.action=a}function g_(t){var a=Et(),i=Xe;if(i!==null)return m_(a,i,t);Et(),a=a.memoizedState,i=Et();var o=i.queue.dispatch;return i.memoizedState=t,[a,o,!1]}function Fi(t,a,i,o){return t={tag:t,create:a,inst:i,deps:o,next:null},a=Ie.updateQueue,a===null&&(a=uc(),Ie.updateQueue=a),i=a.lastEffect,i===null?a.lastEffect=t.next=t:(o=i.next,i.next=t,t.next=o,a.lastEffect=t),t}function p_(){return Et().memoizedState}function dc(t,a,i,o){var d=fn();Ie.flags|=t,d.memoizedState=Fi(1|a,i,{destroy:void 0},o===void 0?null:o)}function fc(t,a,i,o){var d=Et();o=o===void 0?null:o;var m=d.memoizedState.inst;Xe!==null&&o!==null&&Od(o,Xe.memoizedState.deps)?d.memoizedState=Fi(a,i,m,o):(Ie.flags|=t,d.memoizedState=Fi(1|a,i,m,o))}function __(t,a){dc(8390656,8,t,a)}function qd(t,a){fc(2048,8,t,a)}function y_(t,a){return fc(4,2,t,a)}function v_(t,a){return fc(4,4,t,a)}function x_(t,a){if(typeof a=="function"){t=t();var i=a(t);return function(){typeof i=="function"?i():a(null)}}if(a!=null)return t=t(),a.current=t,function(){a.current=null}}function E_(t,a,i){i=i!=null?i.concat([t]):null,fc(4,4,x_.bind(null,a,t),i)}function Fd(){}function T_(t,a){var i=Et();a=a===void 0?null:a;var o=i.memoizedState;return a!==null&&Od(a,o[1])?o[0]:(i.memoizedState=[t,a],t)}function b_(t,a){var i=Et();a=a===void 0?null:a;var o=i.memoizedState;if(a!==null&&Od(a,o[1]))return o[0];if(o=t(),zr){ss(!0);try{t()}finally{ss(!1)}}return i.memoizedState=[o,a],o}function Gd(t,a,i){return i===void 0||(ja&1073741824)!==0?t.memoizedState=a:(t.memoizedState=i,t=Sy(),Ie.lanes|=t,za|=t,i)}function A_(t,a,i,o){return yn(i,a)?i:Hi.current!==null?(t=Gd(t,i,o),yn(t,a)||(Pt=!0),t):(ja&42)===0?(Pt=!0,t.memoizedState=i):(t=Sy(),Ie.lanes|=t,za|=t,a)}function S_(t,a,i,o,d){var m=ce.p;ce.p=m!==0&&8>m?m:8;var x=S.T,T={};S.T=T,Wd(t,!1,a,i);try{var j=d(),B=S.S;if(B!==null&&B(T,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var Z=qb(j,o);fo(t,a,Z,Tn(t))}else fo(t,a,o,Tn(t))}catch(ae){fo(t,a,{then:function(){},status:"rejected",reason:ae},Tn())}finally{ce.p=m,S.T=x}}function Wb(){}function $d(t,a,i,o){if(t.tag!==5)throw Error(r(476));var d=w_(t).queue;S_(t,d,a,Re,i===null?Wb:function(){return R_(t),i(o)})}function w_(t){var a=t.memoizedState;if(a!==null)return a;a={memoizedState:Re,baseState:Re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zs,lastRenderedState:Re},next:null};var i={};return a.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zs,lastRenderedState:i},next:null},t.memoizedState=a,t=t.alternate,t!==null&&(t.memoizedState=a),a}function R_(t){var a=w_(t).next.queue;fo(t,a,{},Tn())}function Qd(){return Yt(Do)}function N_(){return Et().memoizedState}function k_(){return Et().memoizedState}function Yb(t){for(var a=t.return;a!==null;){switch(a.tag){case 24:case 3:var i=Tn();t=La(i);var o=Va(a,t,i);o!==null&&(on(o,a,i),po(o,a,i)),a={cache:Id()},t.payload=a;return}a=a.return}}function Xb(t,a,i){var o=Tn();i={lane:o,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null},mc(t)?I_(a,i):(i=Ad(t,a,i,o),i!==null&&(on(i,t,o),j_(i,a,o)))}function C_(t,a,i){var o=Tn();fo(t,a,i,o)}function fo(t,a,i,o){var d={lane:o,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null};if(mc(t))I_(a,d);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=a.lastRenderedReducer,m!==null))try{var x=a.lastRenderedState,T=m(x,i);if(d.hasEagerState=!0,d.eagerState=T,yn(T,x))return Xu(t,a,d,0),et===null&&Yu(),!1}catch{}finally{}if(i=Ad(t,a,d,o),i!==null)return on(i,t,o),j_(i,a,o),!0}return!1}function Wd(t,a,i,o){if(o={lane:2,revertLane:Uf(),action:o,hasEagerState:!1,eagerState:null,next:null},mc(t)){if(a)throw Error(r(479))}else a=Ad(t,i,o,2),a!==null&&on(a,t,2)}function mc(t){var a=t.alternate;return t===Ie||a!==null&&a===Ie}function I_(t,a){Ki=lc=!0;var i=t.pending;i===null?a.next=a:(a.next=i.next,i.next=a),t.pending=a}function j_(t,a,i){if((i&4194176)!==0){var o=a.lanes;o&=t.pendingLanes,i|=o,a.lanes=i,va(t,i)}}var ps={readContext:Yt,use:cc,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useLayoutEffect:_t,useInsertionEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useSyncExternalStore:_t,useId:_t};ps.useCacheRefresh=_t,ps.useMemoCache=_t,ps.useHostTransitionStatus=_t,ps.useFormState=_t,ps.useActionState=_t,ps.useOptimistic=_t;var Kr={readContext:Yt,use:cc,useCallback:function(t,a){return fn().memoizedState=[t,a===void 0?null:a],t},useContext:Yt,useEffect:__,useImperativeHandle:function(t,a,i){i=i!=null?i.concat([t]):null,dc(4194308,4,x_.bind(null,a,t),i)},useLayoutEffect:function(t,a){return dc(4194308,4,t,a)},useInsertionEffect:function(t,a){dc(4,2,t,a)},useMemo:function(t,a){var i=fn();a=a===void 0?null:a;var o=t();if(zr){ss(!0);try{t()}finally{ss(!1)}}return i.memoizedState=[o,a],o},useReducer:function(t,a,i){var o=fn();if(i!==void 0){var d=i(a);if(zr){ss(!0);try{i(a)}finally{ss(!1)}}}else d=a;return o.memoizedState=o.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},o.queue=t,t=t.dispatch=Xb.bind(null,Ie,t),[o.memoizedState,t]},useRef:function(t){var a=fn();return t={current:t},a.memoizedState=t},useState:function(t){t=zd(t);var a=t.queue,i=C_.bind(null,Ie,a);return a.dispatch=i,[t.memoizedState,i]},useDebugValue:Fd,useDeferredValue:function(t,a){var i=fn();return Gd(i,t,a)},useTransition:function(){var t=zd(!1);return t=S_.bind(null,Ie,t.queue,!0,!1),fn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,a,i){var o=Ie,d=fn();if(Fe){if(i===void 0)throw Error(r(407));i=i()}else{if(i=a(),et===null)throw Error(r(349));(Be&60)!==0||t_(o,a,i)}d.memoizedState=i;var m={value:i,getSnapshot:a};return d.queue=m,__(s_.bind(null,o,m,t),[t]),o.flags|=2048,Fi(9,n_.bind(null,o,m,i,a),{destroy:void 0},null),i},useId:function(){var t=fn(),a=et.identifierPrefix;if(Fe){var i=Hs,o=Us;i=(o&~(1<<32-sn(o)-1)).toString(32)+i,a=":"+a+"R"+i,i=oc++,0<i&&(a+="H"+i.toString(32)),a+=":"}else i=Fb++,a=":"+a+"r"+i.toString(32)+":";return t.memoizedState=a},useCacheRefresh:function(){return fn().memoizedState=Yb.bind(null,Ie)}};Kr.useMemoCache=Ud,Kr.useHostTransitionStatus=Qd,Kr.useFormState=d_,Kr.useActionState=d_,Kr.useOptimistic=function(t){var a=fn();a.memoizedState=a.baseState=t;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=i,a=Wd.bind(null,Ie,!0,i),i.dispatch=a,[t,a]};var Da={readContext:Yt,use:cc,useCallback:T_,useContext:Yt,useEffect:qd,useImperativeHandle:E_,useInsertionEffect:y_,useLayoutEffect:v_,useMemo:b_,useReducer:hc,useRef:p_,useState:function(){return hc(zs)},useDebugValue:Fd,useDeferredValue:function(t,a){var i=Et();return A_(i,Xe.memoizedState,t,a)},useTransition:function(){var t=hc(zs)[0],a=Et().memoizedState;return[typeof t=="boolean"?t:ho(t),a]},useSyncExternalStore:e_,useId:N_};Da.useCacheRefresh=k_,Da.useMemoCache=Ud,Da.useHostTransitionStatus=Qd,Da.useFormState=f_,Da.useActionState=f_,Da.useOptimistic=function(t,a){var i=Et();return i_(i,Xe,t,a)};var qr={readContext:Yt,use:cc,useCallback:T_,useContext:Yt,useEffect:qd,useImperativeHandle:E_,useInsertionEffect:y_,useLayoutEffect:v_,useMemo:b_,useReducer:Bd,useRef:p_,useState:function(){return Bd(zs)},useDebugValue:Fd,useDeferredValue:function(t,a){var i=Et();return Xe===null?Gd(i,t,a):A_(i,Xe.memoizedState,t,a)},useTransition:function(){var t=Bd(zs)[0],a=Et().memoizedState;return[typeof t=="boolean"?t:ho(t),a]},useSyncExternalStore:e_,useId:N_};qr.useCacheRefresh=k_,qr.useMemoCache=Ud,qr.useHostTransitionStatus=Qd,qr.useFormState=g_,qr.useActionState=g_,qr.useOptimistic=function(t,a){var i=Et();return Xe!==null?i_(i,Xe,t,a):(i.baseState=t,[t,i.queue.dispatch])};function Yd(t,a,i,o){a=t.memoizedState,i=i(o,a),i=i==null?a:I({},a,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var Xd={isMounted:function(t){return(t=t._reactInternals)?pe(t)===t:!1},enqueueSetState:function(t,a,i){t=t._reactInternals;var o=Tn(),d=La(o);d.payload=a,i!=null&&(d.callback=i),a=Va(t,d,o),a!==null&&(on(a,t,o),po(a,t,o))},enqueueReplaceState:function(t,a,i){t=t._reactInternals;var o=Tn(),d=La(o);d.tag=1,d.payload=a,i!=null&&(d.callback=i),a=Va(t,d,o),a!==null&&(on(a,t,o),po(a,t,o))},enqueueForceUpdate:function(t,a){t=t._reactInternals;var i=Tn(),o=La(i);o.tag=2,a!=null&&(o.callback=a),a=Va(t,o,i),a!==null&&(on(a,t,i),po(a,t,i))}};function D_(t,a,i,o,d,m,x){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,m,x):a.prototype&&a.prototype.isPureReactComponent?!Jl(i,o)||!Jl(d,m):!0}function O_(t,a,i,o){t=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(i,o),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(i,o),a.state!==t&&Xd.enqueueReplaceState(a,a.state,null)}function Fr(t,a){var i=a;if("ref"in a){i={};for(var o in a)o!=="ref"&&(i[o]=a[o])}if(t=t.defaultProps){i===a&&(i=I({},i));for(var d in t)i[d]===void 0&&(i[d]=t[d])}return i}var gc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function M_(t){gc(t)}function L_(t){console.error(t)}function V_(t){gc(t)}function pc(t,a){try{var i=t.onUncaughtError;i(a.value,{componentStack:a.stack})}catch(o){setTimeout(function(){throw o})}}function P_(t,a,i){try{var o=t.onCaughtError;o(i.value,{componentStack:i.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Zd(t,a,i){return i=La(i),i.tag=3,i.payload={element:null},i.callback=function(){pc(t,a)},i}function U_(t){return t=La(t),t.tag=3,t}function H_(t,a,i,o){var d=i.type.getDerivedStateFromError;if(typeof d=="function"){var m=o.value;t.payload=function(){return d(m)},t.callback=function(){P_(a,i,o)}}var x=i.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(t.callback=function(){P_(a,i,o),typeof d!="function"&&(Ka===null?Ka=new Set([this]):Ka.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function Zb(t,a,i,o,d){if(i.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(a=i.alternate,a!==null&&go(a,i,d,!0),i=Vn.current,i!==null){switch(i.tag){case 13:return gs===null?Of():i.alternate===null&&dt===0&&(dt=3),i.flags&=-257,i.flags|=65536,i.lanes=d,o===Nd?i.flags|=16384:(a=i.updateQueue,a===null?i.updateQueue=new Set([o]):a.add(o),Lf(t,o,d)),!1;case 22:return i.flags|=65536,o===Nd?i.flags|=16384:(a=i.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([o])},i.updateQueue=a):(i=a.retryQueue,i===null?a.retryQueue=new Set([o]):i.add(o)),Lf(t,o,d)),!1}throw Error(r(435,i.tag))}return Lf(t,o,d),Of(),!1}if(Fe)return a=Vn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=d,o!==Rd&&(t=Error(r(422),{cause:o}),so(On(t,i)))):(o!==Rd&&(a=Error(r(423),{cause:o}),so(On(a,i))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,o=On(o,i),d=Zd(t.stateNode,o,d),mf(t,d),dt!==4&&(dt=2)),!1;var m=Error(r(520),{cause:o});if(m=On(m,i),Ao===null?Ao=[m]:Ao.push(m),dt!==4&&(dt=2),a===null)return!0;o=On(o,i),i=a;do{switch(i.tag){case 3:return i.flags|=65536,t=d&-d,i.lanes|=t,t=Zd(i.stateNode,o,t),mf(i,t),!1;case 1:if(a=i.type,m=i.stateNode,(i.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Ka===null||!Ka.has(m))))return i.flags|=65536,d&=-d,i.lanes|=d,d=U_(d),H_(d,t,i,o),mf(i,d),!1}i=i.return}while(i!==null);return!1}var B_=Error(r(461)),Pt=!1;function qt(t,a,i,o){a.child=t===null?Gp(a,null,i,o):Hr(a,t.child,i,o)}function z_(t,a,i,o,d){i=i.render;var m=a.ref;if("ref"in o){var x={};for(var T in o)T!=="ref"&&(x[T]=o[T])}else x=o;return $r(a),o=Md(t,a,i,x,m,d),T=Ld(),t!==null&&!Pt?(Vd(t,a,d),Ks(t,a,d)):(Fe&&T&&Sd(a),a.flags|=1,qt(t,a,o,d),a.child)}function K_(t,a,i,o,d){if(t===null){var m=i.type;return typeof m=="function"&&!Tf(m)&&m.defaultProps===void 0&&i.compare===null?(a.tag=15,a.type=m,q_(t,a,m,o,d)):(t=Ec(i.type,null,o,a,a.mode,d),t.ref=a.ref,t.return=a,a.child=t)}if(m=t.child,!of(t,d)){var x=m.memoizedProps;if(i=i.compare,i=i!==null?i:Jl,i(x,o)&&t.ref===a.ref)return Ks(t,a,d)}return a.flags|=1,t=Ba(m,o),t.ref=a.ref,t.return=a,a.child=t}function q_(t,a,i,o,d){if(t!==null){var m=t.memoizedProps;if(Jl(m,o)&&t.ref===a.ref)if(Pt=!1,a.pendingProps=o=m,of(t,d))(t.flags&131072)!==0&&(Pt=!0);else return a.lanes=t.lanes,Ks(t,a,d)}return Jd(t,a,i,o,d)}function F_(t,a,i){var o=a.pendingProps,d=o.children,m=(a.stateNode._pendingVisibility&2)!==0,x=t!==null?t.memoizedState:null;if(mo(t,a),o.mode==="hidden"||m){if((a.flags&128)!==0){if(o=x!==null?x.baseLanes|i:i,t!==null){for(d=a.child=t.child,m=0;d!==null;)m=m|d.lanes|d.childLanes,d=d.sibling;a.childLanes=m&~o}else a.childLanes=0,a.child=null;return G_(t,a,o,i)}if((i&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},t!==null&&ic(a,x!==null?x.cachePool:null),x!==null?$p(a,x):kd(),Qp(a);else return a.lanes=a.childLanes=536870912,G_(t,a,x!==null?x.baseLanes|i:i,i)}else x!==null?(ic(a,x.cachePool),$p(a,x),Ia(),a.memoizedState=null):(t!==null&&ic(a,null),kd(),Ia());return qt(t,a,d,i),a.child}function G_(t,a,i,o){var d=Dd();return d=d===null?null:{parent:It._currentValue,pool:d},a.memoizedState={baseLanes:i,cachePool:d},t!==null&&ic(a,null),kd(),Qp(a),t!==null&&go(t,a,o,!0),null}function mo(t,a){var i=a.ref;if(i===null)t!==null&&t.ref!==null&&(a.flags|=2097664);else{if(typeof i!="function"&&typeof i!="object")throw Error(r(284));(t===null||t.ref!==i)&&(a.flags|=2097664)}}function Jd(t,a,i,o,d){return $r(a),i=Md(t,a,i,o,void 0,d),o=Ld(),t!==null&&!Pt?(Vd(t,a,d),Ks(t,a,d)):(Fe&&o&&Sd(a),a.flags|=1,qt(t,a,i,d),a.child)}function $_(t,a,i,o,d,m){return $r(a),a.updateQueue=null,i=Jp(a,o,i,d),Zp(t),o=Ld(),t!==null&&!Pt?(Vd(t,a,m),Ks(t,a,m)):(Fe&&o&&Sd(a),a.flags|=1,qt(t,a,i,m),a.child)}function Q_(t,a,i,o,d){if($r(a),a.stateNode===null){var m=Li,x=i.contextType;typeof x=="object"&&x!==null&&(m=Yt(x)),m=new i(o,m),a.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Xd,a.stateNode=m,m._reactInternals=a,m=a.stateNode,m.props=o,m.state=a.memoizedState,m.refs={},df(a),x=i.contextType,m.context=typeof x=="object"&&x!==null?Yt(x):Li,m.state=a.memoizedState,x=i.getDerivedStateFromProps,typeof x=="function"&&(Yd(a,i,x,o),m.state=a.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(x=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),x!==m.state&&Xd.enqueueReplaceState(m,m.state,null),yo(a,o,m,d),_o(),m.state=a.memoizedState),typeof m.componentDidMount=="function"&&(a.flags|=4194308),o=!0}else if(t===null){m=a.stateNode;var T=a.memoizedProps,j=Fr(i,T);m.props=j;var B=m.context,Z=i.contextType;x=Li,typeof Z=="object"&&Z!==null&&(x=Yt(Z));var ae=i.getDerivedStateFromProps;Z=typeof ae=="function"||typeof m.getSnapshotBeforeUpdate=="function",T=a.pendingProps!==T,Z||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T||B!==x)&&O_(a,m,o,x),Ma=!1;var W=a.memoizedState;m.state=W,yo(a,o,m,d),_o(),B=a.memoizedState,T||W!==B||Ma?(typeof ae=="function"&&(Yd(a,i,ae,o),B=a.memoizedState),(j=Ma||D_(a,i,j,o,W,B,x))?(Z||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(a.flags|=4194308)):(typeof m.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=o,a.memoizedState=B),m.props=o,m.state=B,m.context=x,o=j):(typeof m.componentDidMount=="function"&&(a.flags|=4194308),o=!1)}else{m=a.stateNode,ff(t,a),x=a.memoizedProps,Z=Fr(i,x),m.props=Z,ae=a.pendingProps,W=m.context,B=i.contextType,j=Li,typeof B=="object"&&B!==null&&(j=Yt(B)),T=i.getDerivedStateFromProps,(B=typeof T=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(x!==ae||W!==j)&&O_(a,m,o,j),Ma=!1,W=a.memoizedState,m.state=W,yo(a,o,m,d),_o();var X=a.memoizedState;x!==ae||W!==X||Ma||t!==null&&t.dependencies!==null&&_c(t.dependencies)?(typeof T=="function"&&(Yd(a,i,T,o),X=a.memoizedState),(Z=Ma||D_(a,i,Z,o,W,X,j)||t!==null&&t.dependencies!==null&&_c(t.dependencies))?(B||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(o,X,j),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(o,X,j)),typeof m.componentDidUpdate=="function"&&(a.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof m.componentDidUpdate!="function"||x===t.memoizedProps&&W===t.memoizedState||(a.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||x===t.memoizedProps&&W===t.memoizedState||(a.flags|=1024),a.memoizedProps=o,a.memoizedState=X),m.props=o,m.state=X,m.context=j,o=Z):(typeof m.componentDidUpdate!="function"||x===t.memoizedProps&&W===t.memoizedState||(a.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||x===t.memoizedProps&&W===t.memoizedState||(a.flags|=1024),o=!1)}return m=o,mo(t,a),o=(a.flags&128)!==0,m||o?(m=a.stateNode,i=o&&typeof i.getDerivedStateFromError!="function"?null:m.render(),a.flags|=1,t!==null&&o?(a.child=Hr(a,t.child,null,d),a.child=Hr(a,null,i,d)):qt(t,a,i,d),a.memoizedState=m.state,t=a.child):t=Ks(t,a,d),t}function W_(t,a,i,o){return no(),a.flags|=256,qt(t,a,i,o),a.child}var ef={dehydrated:null,treeContext:null,retryLane:0};function tf(t){return{baseLanes:t,cachePool:Xp()}}function nf(t,a,i){return t=t!==null?t.childLanes&~i:0,a&&(t|=Bn),t}function Y_(t,a,i){var o=a.pendingProps,d=!1,m=(a.flags&128)!==0,x;if((x=m)||(x=t!==null&&t.memoizedState===null?!1:(Ct.current&2)!==0),x&&(d=!0,a.flags&=-129),x=(a.flags&32)!==0,a.flags&=-33,t===null){if(Fe){if(d?Ca(a):Ia(),Fe){var T=Kt,j;if(j=T){e:{for(j=T,T=ms;j.nodeType!==8;){if(!T){T=null;break e}if(j=Wn(j.nextSibling),j===null){T=null;break e}}T=j}T!==null?(a.memoizedState={dehydrated:T,treeContext:Vr!==null?{id:Us,overflow:Hs}:null,retryLane:536870912},j=Hn(18,null,null,0),j.stateNode=T,j.return=a,a.child=j,ln=a,Kt=null,j=!0):j=!1}j||Ur(a)}if(T=a.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return T.data==="$!"?a.lanes=16:a.lanes=536870912,null;Bs(a)}return T=o.children,o=o.fallback,d?(Ia(),d=a.mode,T=af({mode:"hidden",children:T},d),o=Wr(o,d,i,null),T.return=a,o.return=a,T.sibling=o,a.child=T,d=a.child,d.memoizedState=tf(i),d.childLanes=nf(t,x,i),a.memoizedState=ef,o):(Ca(a),sf(a,T))}if(j=t.memoizedState,j!==null&&(T=j.dehydrated,T!==null)){if(m)a.flags&256?(Ca(a),a.flags&=-257,a=rf(t,a,i)):a.memoizedState!==null?(Ia(),a.child=t.child,a.flags|=128,a=null):(Ia(),d=o.fallback,T=a.mode,o=af({mode:"visible",children:o.children},T),d=Wr(d,T,i,null),d.flags|=2,o.return=a,d.return=a,o.sibling=d,a.child=o,Hr(a,t.child,null,i),o=a.child,o.memoizedState=tf(i),o.childLanes=nf(t,x,i),a.memoizedState=ef,a=d);else if(Ca(a),T.data==="$!"){if(x=T.nextSibling&&T.nextSibling.dataset,x)var B=x.dgst;x=B,o=Error(r(419)),o.stack="",o.digest=x,so({value:o,source:null,stack:null}),a=rf(t,a,i)}else if(Pt||go(t,a,i,!1),x=(i&t.childLanes)!==0,Pt||x){if(x=et,x!==null){if(o=i&-i,(o&42)!==0)o=1;else switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=64;break;case 268435456:o=134217728;break;default:o=0}if(o=(o&(x.suspendedLanes|i))!==0?0:o,o!==0&&o!==j.retryLane)throw j.retryLane=o,ka(t,o),on(x,t,o),B_}T.data==="$?"||Of(),a=rf(t,a,i)}else T.data==="$?"?(a.flags|=128,a.child=t.child,a=fA.bind(null,t),T._reactRetry=a,a=null):(t=j.treeContext,Kt=Wn(T.nextSibling),ln=a,Fe=!0,$n=null,ms=!1,t!==null&&(Mn[Ln++]=Us,Mn[Ln++]=Hs,Mn[Ln++]=Vr,Us=t.id,Hs=t.overflow,Vr=a),a=sf(a,o.children),a.flags|=4096);return a}return d?(Ia(),d=o.fallback,T=a.mode,j=t.child,B=j.sibling,o=Ba(j,{mode:"hidden",children:o.children}),o.subtreeFlags=j.subtreeFlags&31457280,B!==null?d=Ba(B,d):(d=Wr(d,T,i,null),d.flags|=2),d.return=a,o.return=a,o.sibling=d,a.child=o,o=d,d=a.child,T=t.child.memoizedState,T===null?T=tf(i):(j=T.cachePool,j!==null?(B=It._currentValue,j=j.parent!==B?{parent:B,pool:B}:j):j=Xp(),T={baseLanes:T.baseLanes|i,cachePool:j}),d.memoizedState=T,d.childLanes=nf(t,x,i),a.memoizedState=ef,o):(Ca(a),i=t.child,t=i.sibling,i=Ba(i,{mode:"visible",children:o.children}),i.return=a,i.sibling=null,t!==null&&(x=a.deletions,x===null?(a.deletions=[t],a.flags|=16):x.push(t)),a.child=i,a.memoizedState=null,i)}function sf(t,a){return a=af({mode:"visible",children:a},t.mode),a.return=t,t.child=a}function af(t,a){return Ty(t,a,0,null)}function rf(t,a,i){return Hr(a,t.child,null,i),t=sf(a,a.pendingProps.children),t.flags|=2,a.memoizedState=null,t}function X_(t,a,i){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a),cf(t.return,a,i)}function lf(t,a,i,o,d){var m=t.memoizedState;m===null?t.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:o,tail:i,tailMode:d}:(m.isBackwards=a,m.rendering=null,m.renderingStartTime=0,m.last=o,m.tail=i,m.tailMode=d)}function Z_(t,a,i){var o=a.pendingProps,d=o.revealOrder,m=o.tail;if(qt(t,a,o.children,i),o=Ct.current,(o&2)!==0)o=o&1|2,a.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=a.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&X_(t,i,a);else if(t.tag===19)X_(t,i,a);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===a)break e;for(;t.sibling===null;){if(t.return===null||t.return===a)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}switch(Ye(Ct,o),d){case"forwards":for(i=a.child,d=null;i!==null;)t=i.alternate,t!==null&&rc(t)===null&&(d=i),i=i.sibling;i=d,i===null?(d=a.child,a.child=null):(d=i.sibling,i.sibling=null),lf(a,!1,d,i,m);break;case"backwards":for(i=null,d=a.child,a.child=null;d!==null;){if(t=d.alternate,t!==null&&rc(t)===null){a.child=d;break}t=d.sibling,d.sibling=i,i=d,d=t}lf(a,!0,i,null,m);break;case"together":lf(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Ks(t,a,i){if(t!==null&&(a.dependencies=t.dependencies),za|=a.lanes,(i&a.childLanes)===0)if(t!==null){if(go(t,a,i,!1),(i&a.childLanes)===0)return null}else return null;if(t!==null&&a.child!==t.child)throw Error(r(153));if(a.child!==null){for(t=a.child,i=Ba(t,t.pendingProps),a.child=i,i.return=a;t.sibling!==null;)t=t.sibling,i=i.sibling=Ba(t,t.pendingProps),i.return=a;i.sibling=null}return a.child}function of(t,a){return(t.lanes&a)!==0?!0:(t=t.dependencies,!!(t!==null&&_c(t)))}function Jb(t,a,i){switch(a.tag){case 3:fa(a,a.stateNode.containerInfo),Oa(a,It,t.memoizedState.cache),no();break;case 27:case 5:jl(a);break;case 4:fa(a,a.stateNode.containerInfo);break;case 10:Oa(a,a.type,a.memoizedProps.value);break;case 13:var o=a.memoizedState;if(o!==null)return o.dehydrated!==null?(Ca(a),a.flags|=128,null):(i&a.child.childLanes)!==0?Y_(t,a,i):(Ca(a),t=Ks(t,a,i),t!==null?t.sibling:null);Ca(a);break;case 19:var d=(t.flags&128)!==0;if(o=(i&a.childLanes)!==0,o||(go(t,a,i,!1),o=(i&a.childLanes)!==0),d){if(o)return Z_(t,a,i);a.flags|=128}if(d=a.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Ye(Ct,Ct.current),o)break;return null;case 22:case 23:return a.lanes=0,F_(t,a,i);case 24:Oa(a,It,t.memoizedState.cache)}return Ks(t,a,i)}function J_(t,a,i){if(t!==null)if(t.memoizedProps!==a.pendingProps)Pt=!0;else{if(!of(t,i)&&(a.flags&128)===0)return Pt=!1,Jb(t,a,i);Pt=(t.flags&131072)!==0}else Pt=!1,Fe&&(a.flags&1048576)!==0&&Vp(a,ec,a.index);switch(a.lanes=0,a.tag){case 16:e:{t=a.pendingProps;var o=a.elementType,d=o._init;if(o=d(o._payload),a.type=o,typeof o=="function")Tf(o)?(t=Fr(o,t),a.tag=1,a=Q_(null,a,o,t,i)):(a.tag=0,a=Jd(null,a,o,t,i));else{if(o!=null){if(d=o.$$typeof,d===D){a.tag=11,a=z_(null,a,o,t,i);break e}else if(d===$){a.tag=14,a=K_(null,a,o,t,i);break e}}throw a=R(o)||o,Error(r(306,a,""))}}return a;case 0:return Jd(t,a,a.type,a.pendingProps,i);case 1:return o=a.type,d=Fr(o,a.pendingProps),Q_(t,a,o,d,i);case 3:e:{if(fa(a,a.stateNode.containerInfo),t===null)throw Error(r(387));var m=a.pendingProps;d=a.memoizedState,o=d.element,ff(t,a),yo(a,m,null,i);var x=a.memoizedState;if(m=x.cache,Oa(a,It,m),m!==d.cache&&hf(a,[It],i,!0),_o(),m=x.element,d.isDehydrated)if(d={element:m,isDehydrated:!1,cache:x.cache},a.updateQueue.baseState=d,a.memoizedState=d,a.flags&256){a=W_(t,a,m,i);break e}else if(m!==o){o=On(Error(r(424)),a),so(o),a=W_(t,a,m,i);break e}else for(Kt=Wn(a.stateNode.containerInfo.firstChild),ln=a,Fe=!0,$n=null,ms=!0,i=Gp(a,null,m,i),a.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(no(),m===o){a=Ks(t,a,i);break e}qt(t,a,m,i)}a=a.child}return a;case 26:return mo(t,a),t===null?(i=nv(a.type,null,a.pendingProps,null))?a.memoizedState=i:Fe||(i=a.type,t=a.pendingProps,o=Dc(wn.current).createElement(i),o[Mt]=a,o[Rt]=t,Ft(o,i,t),rt(o),a.stateNode=o):a.memoizedState=nv(a.type,t.memoizedProps,a.pendingProps,t.memoizedState),null;case 27:return jl(a),t===null&&Fe&&(o=a.stateNode=Jy(a.type,a.pendingProps,wn.current),ln=a,ms=!0,Kt=Wn(o.firstChild)),o=a.pendingProps.children,t!==null||Fe?qt(t,a,o,i):a.child=Hr(a,null,o,i),mo(t,a),a.child;case 5:return t===null&&Fe&&((d=o=Kt)&&(o=kA(o,a.type,a.pendingProps,ms),o!==null?(a.stateNode=o,ln=a,Kt=Wn(o.firstChild),ms=!1,d=!0):d=!1),d||Ur(a)),jl(a),d=a.type,m=a.pendingProps,x=t!==null?t.memoizedProps:null,o=m.children,Qf(d,m)?o=null:x!==null&&Qf(d,x)&&(a.flags|=32),a.memoizedState!==null&&(d=Md(t,a,Gb,null,null,i),Do._currentValue=d),mo(t,a),qt(t,a,o,i),a.child;case 6:return t===null&&Fe&&((t=i=Kt)&&(i=CA(i,a.pendingProps,ms),i!==null?(a.stateNode=i,ln=a,Kt=null,t=!0):t=!1),t||Ur(a)),null;case 13:return Y_(t,a,i);case 4:return fa(a,a.stateNode.containerInfo),o=a.pendingProps,t===null?a.child=Hr(a,null,o,i):qt(t,a,o,i),a.child;case 11:return z_(t,a,a.type,a.pendingProps,i);case 7:return qt(t,a,a.pendingProps,i),a.child;case 8:return qt(t,a,a.pendingProps.children,i),a.child;case 12:return qt(t,a,a.pendingProps.children,i),a.child;case 10:return o=a.pendingProps,Oa(a,a.type,o.value),qt(t,a,o.children,i),a.child;case 9:return d=a.type._context,o=a.pendingProps.children,$r(a),d=Yt(d),o=o(d),a.flags|=1,qt(t,a,o,i),a.child;case 14:return K_(t,a,a.type,a.pendingProps,i);case 15:return q_(t,a,a.type,a.pendingProps,i);case 19:return Z_(t,a,i);case 22:return F_(t,a,i);case 24:return $r(a),o=Yt(It),t===null?(d=Dd(),d===null&&(d=et,m=Id(),d.pooledCache=m,m.refCount++,m!==null&&(d.pooledCacheLanes|=i),d=m),a.memoizedState={parent:o,cache:d},df(a),Oa(a,It,d)):((t.lanes&i)!==0&&(ff(t,a),yo(a,null,null,i),_o()),d=t.memoizedState,m=a.memoizedState,d.parent!==o?(d={parent:o,cache:o},a.memoizedState=d,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=d),Oa(a,It,o)):(o=m.cache,Oa(a,It,o),o!==d.cache&&hf(a,[It],i,!0))),qt(t,a,a.pendingProps.children,i),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}var uf=Ke(null),Gr=null,qs=null;function Oa(t,a,i){Ye(uf,a._currentValue),a._currentValue=i}function Fs(t){t._currentValue=uf.current,ut(uf)}function cf(t,a,i){for(;t!==null;){var o=t.alternate;if((t.childLanes&a)!==a?(t.childLanes|=a,o!==null&&(o.childLanes|=a)):o!==null&&(o.childLanes&a)!==a&&(o.childLanes|=a),t===i)break;t=t.return}}function hf(t,a,i,o){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var m=d.dependencies;if(m!==null){var x=d.child;m=m.firstContext;e:for(;m!==null;){var T=m;m=d;for(var j=0;j<a.length;j++)if(T.context===a[j]){m.lanes|=i,T=m.alternate,T!==null&&(T.lanes|=i),cf(m.return,i,t),o||(x=null);break e}m=T.next}}else if(d.tag===18){if(x=d.return,x===null)throw Error(r(341));x.lanes|=i,m=x.alternate,m!==null&&(m.lanes|=i),cf(x,i,t),x=null}else x=d.child;if(x!==null)x.return=d;else for(x=d;x!==null;){if(x===t){x=null;break}if(d=x.sibling,d!==null){d.return=x.return,x=d;break}x=x.return}d=x}}function go(t,a,i,o){t=null;for(var d=a,m=!1;d!==null;){if(!m){if((d.flags&524288)!==0)m=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var x=d.alternate;if(x===null)throw Error(r(387));if(x=x.memoizedProps,x!==null){var T=d.type;yn(d.pendingProps.value,x.value)||(t!==null?t.push(T):t=[T])}}else if(d===da.current){if(x=d.alternate,x===null)throw Error(r(387));x.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(Do):t=[Do])}d=d.return}t!==null&&hf(a,t,i,o),a.flags|=262144}function _c(t){for(t=t.firstContext;t!==null;){if(!yn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function $r(t){Gr=t,qs=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Yt(t){return ey(Gr,t)}function yc(t,a){return Gr===null&&$r(t),ey(t,a)}function ey(t,a){var i=a._currentValue;if(a={context:a,memoizedValue:i,next:null},qs===null){if(t===null)throw Error(r(308));qs=a,t.dependencies={lanes:0,firstContext:a},t.flags|=524288}else qs=qs.next=a;return i}var Ma=!1;function df(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ff(t,a){t=t.updateQueue,a.updateQueue===t&&(a.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function La(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Va(t,a,i){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(lt&2)!==0){var d=o.pending;return d===null?a.next=a:(a.next=d.next,d.next=a),o.pending=a,a=Zu(t),Mp(t,null,i),a}return Xu(t,o,a,i),Zu(t)}function po(t,a,i){if(a=a.updateQueue,a!==null&&(a=a.shared,(i&4194176)!==0)){var o=a.lanes;o&=t.pendingLanes,i|=o,a.lanes=i,va(t,i)}}function mf(t,a){var i=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,i===o)){var d=null,m=null;if(i=i.firstBaseUpdate,i!==null){do{var x={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};m===null?d=m=x:m=m.next=x,i=i.next}while(i!==null);m===null?d=m=a:m=m.next=a}else d=m=a;i={baseState:o.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:o.shared,callbacks:o.callbacks},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=a:t.next=a,i.lastBaseUpdate=a}var gf=!1;function _o(){if(gf){var t=zi;if(t!==null)throw t}}function yo(t,a,i,o){gf=!1;var d=t.updateQueue;Ma=!1;var m=d.firstBaseUpdate,x=d.lastBaseUpdate,T=d.shared.pending;if(T!==null){d.shared.pending=null;var j=T,B=j.next;j.next=null,x===null?m=B:x.next=B,x=j;var Z=t.alternate;Z!==null&&(Z=Z.updateQueue,T=Z.lastBaseUpdate,T!==x&&(T===null?Z.firstBaseUpdate=B:T.next=B,Z.lastBaseUpdate=j))}if(m!==null){var ae=d.baseState;x=0,Z=B=j=null,T=m;do{var W=T.lane&-536870913,X=W!==T.lane;if(X?(Be&W)===W:(o&W)===W){W!==0&&W===Bi&&(gf=!0),Z!==null&&(Z=Z.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var _e=t,Se=T;W=a;var ft=i;switch(Se.tag){case 1:if(_e=Se.payload,typeof _e=="function"){ae=_e.call(ft,ae,W);break e}ae=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=Se.payload,W=typeof _e=="function"?_e.call(ft,ae,W):_e,W==null)break e;ae=I({},ae,W);break e;case 2:Ma=!0}}W=T.callback,W!==null&&(t.flags|=64,X&&(t.flags|=8192),X=d.callbacks,X===null?d.callbacks=[W]:X.push(W))}else X={lane:W,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Z===null?(B=Z=X,j=ae):Z=Z.next=X,x|=W;if(T=T.next,T===null){if(T=d.shared.pending,T===null)break;X=T,T=X.next,X.next=null,d.lastBaseUpdate=X,d.shared.pending=null}}while(!0);Z===null&&(j=ae),d.baseState=j,d.firstBaseUpdate=B,d.lastBaseUpdate=Z,m===null&&(d.shared.lanes=0),za|=x,t.lanes=x,t.memoizedState=ae}}function ty(t,a){if(typeof t!="function")throw Error(r(191,t));t.call(a)}function ny(t,a){var i=t.callbacks;if(i!==null)for(t.callbacks=null,t=0;t<i.length;t++)ty(i[t],a)}function vo(t,a){try{var i=a.updateQueue,o=i!==null?i.lastEffect:null;if(o!==null){var d=o.next;i=d;do{if((i.tag&t)===t){o=void 0;var m=i.create,x=i.inst;o=m(),x.destroy=o}i=i.next}while(i!==d)}}catch(T){Je(a,a.return,T)}}function Pa(t,a,i){try{var o=a.updateQueue,d=o!==null?o.lastEffect:null;if(d!==null){var m=d.next;o=m;do{if((o.tag&t)===t){var x=o.inst,T=x.destroy;if(T!==void 0){x.destroy=void 0,d=a;var j=i;try{T()}catch(B){Je(d,j,B)}}}o=o.next}while(o!==m)}}catch(B){Je(a,a.return,B)}}function sy(t){var a=t.updateQueue;if(a!==null){var i=t.stateNode;try{ny(a,i)}catch(o){Je(t,t.return,o)}}}function ay(t,a,i){i.props=Fr(t.type,t.memoizedProps),i.state=t.memoizedState;try{i.componentWillUnmount()}catch(o){Je(t,a,o)}}function Qr(t,a){try{var i=t.ref;if(i!==null){var o=t.stateNode;switch(t.tag){case 26:case 27:case 5:var d=o;break;default:d=o}typeof i=="function"?t.refCleanup=i(d):i.current=d}}catch(m){Je(t,a,m)}}function vn(t,a){var i=t.ref,o=t.refCleanup;if(i!==null)if(typeof o=="function")try{o()}catch(d){Je(t,a,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(d){Je(t,a,d)}else i.current=null}function ry(t){var a=t.type,i=t.memoizedProps,o=t.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":i.autoFocus&&o.focus();break e;case"img":i.src?o.src=i.src:i.srcSet&&(o.srcset=i.srcSet)}}catch(d){Je(t,t.return,d)}}function iy(t,a,i){try{var o=t.stateNode;AA(o,t.type,i,a),o[Rt]=a}catch(d){Je(t,t.return,d)}}function ly(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function pf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ly(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function _f(t,a,i){var o=t.tag;if(o===5||o===6)t=t.stateNode,a?i.nodeType===8?i.parentNode.insertBefore(t,a):i.insertBefore(t,a):(i.nodeType===8?(a=i.parentNode,a.insertBefore(t,i)):(a=i,a.appendChild(t)),i=i._reactRootContainer,i!=null||a.onclick!==null||(a.onclick=jc));else if(o!==4&&o!==27&&(t=t.child,t!==null))for(_f(t,a,i),t=t.sibling;t!==null;)_f(t,a,i),t=t.sibling}function vc(t,a,i){var o=t.tag;if(o===5||o===6)t=t.stateNode,a?i.insertBefore(t,a):i.appendChild(t);else if(o!==4&&o!==27&&(t=t.child,t!==null))for(vc(t,a,i),t=t.sibling;t!==null;)vc(t,a,i),t=t.sibling}var Gs=!1,ht=!1,yf=!1,oy=typeof WeakSet=="function"?WeakSet:Set,Ut=null,uy=!1;function eA(t,a){if(t=t.containerInfo,Gf=Uc,t=wp(t),vd(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else e:{i=(i=t.ownerDocument)&&i.defaultView||window;var o=i.getSelection&&i.getSelection();if(o&&o.rangeCount!==0){i=o.anchorNode;var d=o.anchorOffset,m=o.focusNode;o=o.focusOffset;try{i.nodeType,m.nodeType}catch{i=null;break e}var x=0,T=-1,j=-1,B=0,Z=0,ae=t,W=null;t:for(;;){for(var X;ae!==i||d!==0&&ae.nodeType!==3||(T=x+d),ae!==m||o!==0&&ae.nodeType!==3||(j=x+o),ae.nodeType===3&&(x+=ae.nodeValue.length),(X=ae.firstChild)!==null;)W=ae,ae=X;for(;;){if(ae===t)break t;if(W===i&&++B===d&&(T=x),W===m&&++Z===o&&(j=x),(X=ae.nextSibling)!==null)break;ae=W,W=ae.parentNode}ae=X}i=T===-1||j===-1?null:{start:T,end:j}}else i=null}i=i||{start:0,end:0}}else i=null;for($f={focusedElem:t,selectionRange:i},Uc=!1,Ut=a;Ut!==null;)if(a=Ut,t=a.child,(a.subtreeFlags&1028)!==0&&t!==null)t.return=a,Ut=t;else for(;Ut!==null;){switch(a=Ut,m=a.alternate,t=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,i=a,d=m.memoizedProps,m=m.memoizedState,o=i.stateNode;try{var _e=Fr(i.type,d,i.elementType===i.type);t=o.getSnapshotBeforeUpdate(_e,m),o.__reactInternalSnapshotBeforeUpdate=t}catch(Se){Je(i,i.return,Se)}}break;case 3:if((t&1024)!==0){if(t=a.stateNode.containerInfo,i=t.nodeType,i===9)Xf(t);else if(i===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Xf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=a.sibling,t!==null){t.return=a.return,Ut=t;break}Ut=a.return}return _e=uy,uy=!1,_e}function cy(t,a,i){var o=i.flags;switch(i.tag){case 0:case 11:case 15:Qs(t,i),o&4&&vo(5,i);break;case 1:if(Qs(t,i),o&4)if(t=i.stateNode,a===null)try{t.componentDidMount()}catch(T){Je(i,i.return,T)}else{var d=Fr(i.type,a.memoizedProps);a=a.memoizedState;try{t.componentDidUpdate(d,a,t.__reactInternalSnapshotBeforeUpdate)}catch(T){Je(i,i.return,T)}}o&64&&sy(i),o&512&&Qr(i,i.return);break;case 3:if(Qs(t,i),o&64&&(o=i.updateQueue,o!==null)){if(t=null,i.child!==null)switch(i.child.tag){case 27:case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}try{ny(o,t)}catch(T){Je(i,i.return,T)}}break;case 26:Qs(t,i),o&512&&Qr(i,i.return);break;case 27:case 5:Qs(t,i),a===null&&o&4&&ry(i),o&512&&Qr(i,i.return);break;case 12:Qs(t,i);break;case 13:Qs(t,i),o&4&&fy(t,i);break;case 22:if(d=i.memoizedState!==null||Gs,!d){a=a!==null&&a.memoizedState!==null||ht;var m=Gs,x=ht;Gs=d,(ht=a)&&!x?Ua(t,i,(i.subtreeFlags&8772)!==0):Qs(t,i),Gs=m,ht=x}o&512&&(i.memoizedProps.mode==="manual"?Qr(i,i.return):vn(i,i.return));break;default:Qs(t,i)}}function hy(t){var a=t.alternate;a!==null&&(t.alternate=null,hy(a)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(a=t.stateNode,a!==null&&Ar(a)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Tt=null,xn=!1;function $s(t,a,i){for(i=i.child;i!==null;)dy(t,a,i),i=i.sibling}function dy(t,a,i){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(ma,i)}catch{}switch(i.tag){case 26:ht||vn(i,a),$s(t,a,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:ht||vn(i,a);var o=Tt,d=xn;for(Tt=i.stateNode,$s(t,a,i),i=i.stateNode,a=i.attributes;a.length;)i.removeAttributeNode(a[0]);Ar(i),Tt=o,xn=d;break;case 5:ht||vn(i,a);case 6:d=Tt;var m=xn;if(Tt=null,$s(t,a,i),Tt=d,xn=m,Tt!==null)if(xn)try{t=Tt,o=i.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)}catch(x){Je(i,a,x)}else try{Tt.removeChild(i.stateNode)}catch(x){Je(i,a,x)}break;case 18:Tt!==null&&(xn?(a=Tt,i=i.stateNode,a.nodeType===8?Yf(a.parentNode,i):a.nodeType===1&&Yf(a,i),Vo(a)):Yf(Tt,i.stateNode));break;case 4:o=Tt,d=xn,Tt=i.stateNode.containerInfo,xn=!0,$s(t,a,i),Tt=o,xn=d;break;case 0:case 11:case 14:case 15:ht||Pa(2,i,a),ht||Pa(4,i,a),$s(t,a,i);break;case 1:ht||(vn(i,a),o=i.stateNode,typeof o.componentWillUnmount=="function"&&ay(i,a,o)),$s(t,a,i);break;case 21:$s(t,a,i);break;case 22:ht||vn(i,a),ht=(o=ht)||i.memoizedState!==null,$s(t,a,i),ht=o;break;default:$s(t,a,i)}}function fy(t,a){if(a.memoizedState===null&&(t=a.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Vo(t)}catch(i){Je(a,a.return,i)}}function tA(t){switch(t.tag){case 13:case 19:var a=t.stateNode;return a===null&&(a=t.stateNode=new oy),a;case 22:return t=t.stateNode,a=t._retryCache,a===null&&(a=t._retryCache=new oy),a;default:throw Error(r(435,t.tag))}}function vf(t,a){var i=tA(t);a.forEach(function(o){var d=mA.bind(null,t,o);i.has(o)||(i.add(o),o.then(d,d))})}function Pn(t,a){var i=a.deletions;if(i!==null)for(var o=0;o<i.length;o++){var d=i[o],m=t,x=a,T=x;e:for(;T!==null;){switch(T.tag){case 27:case 5:Tt=T.stateNode,xn=!1;break e;case 3:Tt=T.stateNode.containerInfo,xn=!0;break e;case 4:Tt=T.stateNode.containerInfo,xn=!0;break e}T=T.return}if(Tt===null)throw Error(r(160));dy(m,x,d),Tt=null,xn=!1,m=d.alternate,m!==null&&(m.return=null),d.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)my(a,t),a=a.sibling}var Qn=null;function my(t,a){var i=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Pn(a,t),Un(t),o&4&&(Pa(3,t,t.return),vo(3,t),Pa(5,t,t.return));break;case 1:Pn(a,t),Un(t),o&512&&(ht||i===null||vn(i,i.return)),o&64&&Gs&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(i=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=i===null?o:i.concat(o))));break;case 26:var d=Qn;if(Pn(a,t),Un(t),o&512&&(ht||i===null||vn(i,i.return)),o&4){var m=i!==null?i.memoizedState:null;if(o=t.memoizedState,i===null)if(o===null)if(t.stateNode===null){e:{o=t.type,i=t.memoizedProps,d=d.ownerDocument||d;t:switch(o){case"title":m=d.getElementsByTagName("title")[0],(!m||m[Ea]||m[Mt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=d.createElement(o),d.head.insertBefore(m,d.querySelector("head > title"))),Ft(m,o,i),m[Mt]=t,rt(m),o=m;break e;case"link":var x=rv("link","href",d).get(o+(i.href||""));if(x){for(var T=0;T<x.length;T++)if(m=x[T],m.getAttribute("href")===(i.href==null?null:i.href)&&m.getAttribute("rel")===(i.rel==null?null:i.rel)&&m.getAttribute("title")===(i.title==null?null:i.title)&&m.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){x.splice(T,1);break t}}m=d.createElement(o),Ft(m,o,i),d.head.appendChild(m);break;case"meta":if(x=rv("meta","content",d).get(o+(i.content||""))){for(T=0;T<x.length;T++)if(m=x[T],m.getAttribute("content")===(i.content==null?null:""+i.content)&&m.getAttribute("name")===(i.name==null?null:i.name)&&m.getAttribute("property")===(i.property==null?null:i.property)&&m.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&m.getAttribute("charset")===(i.charSet==null?null:i.charSet)){x.splice(T,1);break t}}m=d.createElement(o),Ft(m,o,i),d.head.appendChild(m);break;default:throw Error(r(468,o))}m[Mt]=t,rt(m),o=m}t.stateNode=o}else iv(d,t.type,t.stateNode);else t.stateNode=av(d,o,t.memoizedProps);else m!==o?(m===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):m.count--,o===null?iv(d,t.type,t.stateNode):av(d,o,t.memoizedProps)):o===null&&t.stateNode!==null&&iy(t,t.memoizedProps,i.memoizedProps)}break;case 27:if(o&4&&t.alternate===null){d=t.stateNode,m=t.memoizedProps;try{for(var j=d.firstChild;j;){var B=j.nextSibling,Z=j.nodeName;j[Ea]||Z==="HEAD"||Z==="BODY"||Z==="SCRIPT"||Z==="STYLE"||Z==="LINK"&&j.rel.toLowerCase()==="stylesheet"||d.removeChild(j),j=B}for(var ae=t.type,W=d.attributes;W.length;)d.removeAttributeNode(W[0]);Ft(d,ae,m),d[Mt]=t,d[Rt]=m}catch(_e){Je(t,t.return,_e)}}case 5:if(Pn(a,t),Un(t),o&512&&(ht||i===null||vn(i,i.return)),t.flags&32){d=t.stateNode;try{kn(d,"")}catch(_e){Je(t,t.return,_e)}}o&4&&t.stateNode!=null&&(d=t.memoizedProps,iy(t,d,i!==null?i.memoizedProps:d)),o&1024&&(yf=!0);break;case 6:if(Pn(a,t),Un(t),o&4){if(t.stateNode===null)throw Error(r(162));o=t.memoizedProps,i=t.stateNode;try{i.nodeValue=o}catch(_e){Je(t,t.return,_e)}}break;case 3:if(Lc=null,d=Qn,Qn=Oc(a.containerInfo),Pn(a,t),Qn=d,Un(t),o&4&&i!==null&&i.memoizedState.isDehydrated)try{Vo(a.containerInfo)}catch(_e){Je(t,t.return,_e)}yf&&(yf=!1,gy(t));break;case 4:o=Qn,Qn=Oc(t.stateNode.containerInfo),Pn(a,t),Un(t),Qn=o;break;case 12:Pn(a,t),Un(t);break;case 13:Pn(a,t),Un(t),t.child.flags&8192&&t.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Nf=hn()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,vf(t,o)));break;case 22:if(o&512&&(ht||i===null||vn(i,i.return)),j=t.memoizedState!==null,B=i!==null&&i.memoizedState!==null,Z=Gs,ae=ht,Gs=Z||j,ht=ae||B,Pn(a,t),ht=ae,Gs=Z,Un(t),a=t.stateNode,a._current=t,a._visibility&=-3,a._visibility|=a._pendingVisibility&2,o&8192&&(a._visibility=j?a._visibility&-2:a._visibility|1,j&&(a=Gs||ht,i===null||B||a||Gi(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))e:for(i=null,a=t;;){if(a.tag===5||a.tag===26||a.tag===27){if(i===null){B=i=a;try{if(d=B.stateNode,j)m=d.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{x=B.stateNode,T=B.memoizedProps.style;var X=T!=null&&T.hasOwnProperty("display")?T.display:null;x.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(_e){Je(B,B.return,_e)}}}else if(a.tag===6){if(i===null){B=a;try{B.stateNode.nodeValue=j?"":B.memoizedProps}catch(_e){Je(B,B.return,_e)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===t)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;a.sibling===null;){if(a.return===null||a.return===t)break e;i===a&&(i=null),a=a.return}i===a&&(i=null),a.sibling.return=a.return,a=a.sibling}o&4&&(o=t.updateQueue,o!==null&&(i=o.retryQueue,i!==null&&(o.retryQueue=null,vf(t,i))));break;case 19:Pn(a,t),Un(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,vf(t,o)));break;case 21:break;default:Pn(a,t),Un(t)}}function Un(t){var a=t.flags;if(a&2){try{if(t.tag!==27){e:{for(var i=t.return;i!==null;){if(ly(i)){var o=i;break e}i=i.return}throw Error(r(160))}switch(o.tag){case 27:var d=o.stateNode,m=pf(t);vc(t,m,d);break;case 5:var x=o.stateNode;o.flags&32&&(kn(x,""),o.flags&=-33);var T=pf(t);vc(t,T,x);break;case 3:case 4:var j=o.stateNode.containerInfo,B=pf(t);_f(t,B,j);break;default:throw Error(r(161))}}}catch(Z){Je(t,t.return,Z)}t.flags&=-3}a&4096&&(t.flags&=-4097)}function gy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var a=t;gy(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),t=t.sibling}}function Qs(t,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)cy(t,a.alternate,a),a=a.sibling}function Gi(t){for(t=t.child;t!==null;){var a=t;switch(a.tag){case 0:case 11:case 14:case 15:Pa(4,a,a.return),Gi(a);break;case 1:vn(a,a.return);var i=a.stateNode;typeof i.componentWillUnmount=="function"&&ay(a,a.return,i),Gi(a);break;case 26:case 27:case 5:vn(a,a.return),Gi(a);break;case 22:vn(a,a.return),a.memoizedState===null&&Gi(a);break;default:Gi(a)}t=t.sibling}}function Ua(t,a,i){for(i=i&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var o=a.alternate,d=t,m=a,x=m.flags;switch(m.tag){case 0:case 11:case 15:Ua(d,m,i),vo(4,m);break;case 1:if(Ua(d,m,i),o=m,d=o.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(B){Je(o,o.return,B)}if(o=m,d=o.updateQueue,d!==null){var T=o.stateNode;try{var j=d.shared.hiddenCallbacks;if(j!==null)for(d.shared.hiddenCallbacks=null,d=0;d<j.length;d++)ty(j[d],T)}catch(B){Je(o,o.return,B)}}i&&x&64&&sy(m),Qr(m,m.return);break;case 26:case 27:case 5:Ua(d,m,i),i&&o===null&&x&4&&ry(m),Qr(m,m.return);break;case 12:Ua(d,m,i);break;case 13:Ua(d,m,i),i&&x&4&&fy(d,m);break;case 22:m.memoizedState===null&&Ua(d,m,i),Qr(m,m.return);break;default:Ua(d,m,i)}a=a.sibling}}function xf(t,a){var i=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),t=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(t=a.memoizedState.cachePool.pool),t!==i&&(t!=null&&t.refCount++,i!=null&&oo(i))}function Ef(t,a){t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&oo(t))}function Ha(t,a,i,o){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)py(t,a,i,o),a=a.sibling}function py(t,a,i,o){var d=a.flags;switch(a.tag){case 0:case 11:case 15:Ha(t,a,i,o),d&2048&&vo(9,a);break;case 3:Ha(t,a,i,o),d&2048&&(t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&oo(t)));break;case 12:if(d&2048){Ha(t,a,i,o),t=a.stateNode;try{var m=a.memoizedProps,x=m.id,T=m.onPostCommit;typeof T=="function"&&T(x,a.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(j){Je(a,a.return,j)}}else Ha(t,a,i,o);break;case 23:break;case 22:m=a.stateNode,a.memoizedState!==null?m._visibility&4?Ha(t,a,i,o):xo(t,a):m._visibility&4?Ha(t,a,i,o):(m._visibility|=4,$i(t,a,i,o,(a.subtreeFlags&10256)!==0)),d&2048&&xf(a.alternate,a);break;case 24:Ha(t,a,i,o),d&2048&&Ef(a.alternate,a);break;default:Ha(t,a,i,o)}}function $i(t,a,i,o,d){for(d=d&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var m=t,x=a,T=i,j=o,B=x.flags;switch(x.tag){case 0:case 11:case 15:$i(m,x,T,j,d),vo(8,x);break;case 23:break;case 22:var Z=x.stateNode;x.memoizedState!==null?Z._visibility&4?$i(m,x,T,j,d):xo(m,x):(Z._visibility|=4,$i(m,x,T,j,d)),d&&B&2048&&xf(x.alternate,x);break;case 24:$i(m,x,T,j,d),d&&B&2048&&Ef(x.alternate,x);break;default:$i(m,x,T,j,d)}a=a.sibling}}function xo(t,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var i=t,o=a,d=o.flags;switch(o.tag){case 22:xo(i,o),d&2048&&xf(o.alternate,o);break;case 24:xo(i,o),d&2048&&Ef(o.alternate,o);break;default:xo(i,o)}a=a.sibling}}var Eo=8192;function Qi(t){if(t.subtreeFlags&Eo)for(t=t.child;t!==null;)_y(t),t=t.sibling}function _y(t){switch(t.tag){case 26:Qi(t),t.flags&Eo&&t.memoizedState!==null&&KA(Qn,t.memoizedState,t.memoizedProps);break;case 5:Qi(t);break;case 3:case 4:var a=Qn;Qn=Oc(t.stateNode.containerInfo),Qi(t),Qn=a;break;case 22:t.memoizedState===null&&(a=t.alternate,a!==null&&a.memoizedState!==null?(a=Eo,Eo=16777216,Qi(t),Eo=a):Qi(t));break;default:Qi(t)}}function yy(t){var a=t.alternate;if(a!==null&&(t=a.child,t!==null)){a.child=null;do a=t.sibling,t.sibling=null,t=a;while(t!==null)}}function To(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var i=0;i<a.length;i++){var o=a[i];Ut=o,xy(o,t)}yy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)vy(t),t=t.sibling}function vy(t){switch(t.tag){case 0:case 11:case 15:To(t),t.flags&2048&&Pa(9,t,t.return);break;case 3:To(t);break;case 12:To(t);break;case 22:var a=t.stateNode;t.memoizedState!==null&&a._visibility&4&&(t.return===null||t.return.tag!==13)?(a._visibility&=-5,xc(t)):To(t);break;default:To(t)}}function xc(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var i=0;i<a.length;i++){var o=a[i];Ut=o,xy(o,t)}yy(t)}for(t=t.child;t!==null;){switch(a=t,a.tag){case 0:case 11:case 15:Pa(8,a,a.return),xc(a);break;case 22:i=a.stateNode,i._visibility&4&&(i._visibility&=-5,xc(a));break;default:xc(a)}t=t.sibling}}function xy(t,a){for(;Ut!==null;){var i=Ut;switch(i.tag){case 0:case 11:case 15:Pa(8,i,a);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var o=i.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:oo(i.memoizedState.cache)}if(o=i.child,o!==null)o.return=i,Ut=o;else e:for(i=t;Ut!==null;){o=Ut;var d=o.sibling,m=o.return;if(hy(o),o===i){Ut=null;break e}if(d!==null){d.return=m,Ut=d;break e}Ut=m}}}function nA(t,a,i,o){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hn(t,a,i,o){return new nA(t,a,i,o)}function Tf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ba(t,a){var i=t.alternate;return i===null?(i=Hn(t.tag,a,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=a,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&31457280,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,a=t.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i.refCleanup=t.refCleanup,i}function Ey(t,a){t.flags&=31457282;var i=t.alternate;return i===null?(t.childLanes=0,t.lanes=a,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=i.childLanes,t.lanes=i.lanes,t.child=i.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=i.memoizedProps,t.memoizedState=i.memoizedState,t.updateQueue=i.updateQueue,t.type=i.type,a=i.dependencies,t.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),t}function Ec(t,a,i,o,d,m){var x=0;if(o=t,typeof t=="function")Tf(t)&&(x=1);else if(typeof t=="string")x=BA(t,i,nn.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case p:return Wr(i.children,d,m,a);case _:x=8,d|=24;break;case E:return t=Hn(12,i,a,d|2),t.elementType=E,t.lanes=m,t;case F:return t=Hn(13,i,a,d),t.elementType=F,t.lanes=m,t;case U:return t=Hn(19,i,a,d),t.elementType=U,t.lanes=m,t;case Q:return Ty(i,d,m,a);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case b:case C:x=10;break e;case A:x=9;break e;case D:x=11;break e;case $:x=14;break e;case z:x=16,o=null;break e}x=29,i=Error(r(130,t===null?"null":typeof t,"")),o=null}return a=Hn(x,i,a,d),a.elementType=t,a.type=o,a.lanes=m,a}function Wr(t,a,i,o){return t=Hn(7,t,o,a),t.lanes=i,t}function Ty(t,a,i,o){t=Hn(22,t,o,a),t.elementType=Q,t.lanes=i;var d={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var m=d._current;if(m===null)throw Error(r(456));if((d._pendingVisibility&2)===0){var x=ka(m,2);x!==null&&(d._pendingVisibility|=2,on(x,m,2))}},attach:function(){var m=d._current;if(m===null)throw Error(r(456));if((d._pendingVisibility&2)!==0){var x=ka(m,2);x!==null&&(d._pendingVisibility&=-3,on(x,m,2))}}};return t.stateNode=d,t}function bf(t,a,i){return t=Hn(6,t,null,a),t.lanes=i,t}function Af(t,a,i){return a=Hn(4,t.children!==null?t.children:[],t.key,a),a.lanes=i,a.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},a}function Ws(t){t.flags|=4}function by(t,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!lv(a)){if(a=Vn.current,a!==null&&((Be&4194176)===Be?gs!==null:(Be&62914560)!==Be&&(Be&536870912)===0||a!==gs))throw ro=Nd,Hp;t.flags|=8192}}function Tc(t,a){a!==null&&(t.flags|=4),t.flags&16384&&(a=t.tag!==22?_a():536870912,t.lanes|=a,Yi|=a)}function bo(t,a){if(!Fe)switch(t.tailMode){case"hidden":a=t.tail;for(var i=null;a!==null;)a.alternate!==null&&(i=a),a=a.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?a||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function it(t){var a=t.alternate!==null&&t.alternate.child===t.child,i=0,o=0;if(a)for(var d=t.child;d!==null;)i|=d.lanes|d.childLanes,o|=d.subtreeFlags&31457280,o|=d.flags&31457280,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)i|=d.lanes|d.childLanes,o|=d.subtreeFlags,o|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=o,t.childLanes=i,a}function sA(t,a,i){var o=a.pendingProps;switch(wd(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(a),null;case 1:return it(a),null;case 3:return i=a.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),a.memoizedState.cache!==o&&(a.flags|=2048),Fs(It),Ns(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(to(a)?Ws(a):t===null||t.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,$n!==null&&(jf($n),$n=null))),it(a),null;case 26:return i=a.memoizedState,t===null?(Ws(a),i!==null?(it(a),by(a,i)):(it(a),a.flags&=-16777217)):i?i!==t.memoizedState?(Ws(a),it(a),by(a,i)):(it(a),a.flags&=-16777217):(t.memoizedProps!==o&&Ws(a),it(a),a.flags&=-16777217),null;case 27:gi(a),i=wn.current;var d=a.type;if(t!==null&&a.stateNode!=null)t.memoizedProps!==o&&Ws(a);else{if(!o){if(a.stateNode===null)throw Error(r(166));return it(a),null}t=nn.current,to(a)?Pp(a):(t=Jy(d,o,i),a.stateNode=t,Ws(a))}return it(a),null;case 5:if(gi(a),i=a.type,t!==null&&a.stateNode!=null)t.memoizedProps!==o&&Ws(a);else{if(!o){if(a.stateNode===null)throw Error(r(166));return it(a),null}if(t=nn.current,to(a))Pp(a);else{switch(d=Dc(wn.current),t){case 1:t=d.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:t=d.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":t=d.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":t=d.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":t=d.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof o.is=="string"?d.createElement("select",{is:o.is}):d.createElement("select"),o.multiple?t.multiple=!0:o.size&&(t.size=o.size);break;default:t=typeof o.is=="string"?d.createElement(i,{is:o.is}):d.createElement(i)}}t[Mt]=a,t[Rt]=o;e:for(d=a.child;d!==null;){if(d.tag===5||d.tag===6)t.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===a)break e;for(;d.sibling===null;){if(d.return===null||d.return===a)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}a.stateNode=t;e:switch(Ft(t,i,o),i){case"button":case"input":case"select":case"textarea":t=!!o.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Ws(a)}}return it(a),a.flags&=-16777217,null;case 6:if(t&&a.stateNode!=null)t.memoizedProps!==o&&Ws(a);else{if(typeof o!="string"&&a.stateNode===null)throw Error(r(166));if(t=wn.current,to(a)){if(t=a.stateNode,i=a.memoizedProps,o=null,d=ln,d!==null)switch(d.tag){case 27:case 5:o=d.memoizedProps}t[Mt]=a,t=!!(t.nodeValue===i||o!==null&&o.suppressHydrationWarning===!0||$y(t.nodeValue,i)),t||Ur(a)}else t=Dc(t).createTextNode(o),t[Mt]=a,a.stateNode=t}return it(a),null;case 13:if(o=a.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=to(a),o!==null&&o.dehydrated!==null){if(t===null){if(!d)throw Error(r(318));if(d=a.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));d[Mt]=a}else no(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;it(a),d=!1}else $n!==null&&(jf($n),$n=null),d=!0;if(!d)return a.flags&256?(Bs(a),a):(Bs(a),null)}if(Bs(a),(a.flags&128)!==0)return a.lanes=i,a;if(i=o!==null,t=t!==null&&t.memoizedState!==null,i){o=a.child,d=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(d=o.alternate.memoizedState.cachePool.pool);var m=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==d&&(o.flags|=2048)}return i!==t&&i&&(a.child.flags|=8192),Tc(a,a.updateQueue),it(a),null;case 4:return Ns(),t===null&&Kf(a.stateNode.containerInfo),it(a),null;case 10:return Fs(a.type),it(a),null;case 19:if(ut(Ct),d=a.memoizedState,d===null)return it(a),null;if(o=(a.flags&128)!==0,m=d.rendering,m===null)if(o)bo(d,!1);else{if(dt!==0||t!==null&&(t.flags&128)!==0)for(t=a.child;t!==null;){if(m=rc(t),m!==null){for(a.flags|=128,bo(d,!1),t=m.updateQueue,a.updateQueue=t,Tc(a,t),a.subtreeFlags=0,t=i,i=a.child;i!==null;)Ey(i,t),i=i.sibling;return Ye(Ct,Ct.current&1|2),a.child}t=t.sibling}d.tail!==null&&hn()>bc&&(a.flags|=128,o=!0,bo(d,!1),a.lanes=4194304)}else{if(!o)if(t=rc(m),t!==null){if(a.flags|=128,o=!0,t=t.updateQueue,a.updateQueue=t,Tc(a,t),bo(d,!0),d.tail===null&&d.tailMode==="hidden"&&!m.alternate&&!Fe)return it(a),null}else 2*hn()-d.renderingStartTime>bc&&i!==536870912&&(a.flags|=128,o=!0,bo(d,!1),a.lanes=4194304);d.isBackwards?(m.sibling=a.child,a.child=m):(t=d.last,t!==null?t.sibling=m:a.child=m,d.last=m)}return d.tail!==null?(a=d.tail,d.rendering=a,d.tail=a.sibling,d.renderingStartTime=hn(),a.sibling=null,t=Ct.current,Ye(Ct,o?t&1|2:t&1),a):(it(a),null);case 22:case 23:return Bs(a),Cd(),o=a.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(a.flags|=8192):o&&(a.flags|=8192),o?(i&536870912)!==0&&(a.flags&128)===0&&(it(a),a.subtreeFlags&6&&(a.flags|=8192)):it(a),i=a.updateQueue,i!==null&&Tc(a,i.retryQueue),i=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),o=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(o=a.memoizedState.cachePool.pool),o!==i&&(a.flags|=2048),t!==null&&ut(Br),null;case 24:return i=null,t!==null&&(i=t.memoizedState.cache),a.memoizedState.cache!==i&&(a.flags|=2048),Fs(It),it(a),null;case 25:return null}throw Error(r(156,a.tag))}function aA(t,a){switch(wd(a),a.tag){case 1:return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 3:return Fs(It),Ns(),t=a.flags,(t&65536)!==0&&(t&128)===0?(a.flags=t&-65537|128,a):null;case 26:case 27:case 5:return gi(a),null;case 13:if(Bs(a),t=a.memoizedState,t!==null&&t.dehydrated!==null){if(a.alternate===null)throw Error(r(340));no()}return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 19:return ut(Ct),null;case 4:return Ns(),null;case 10:return Fs(a.type),null;case 22:case 23:return Bs(a),Cd(),t!==null&&ut(Br),t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 24:return Fs(It),null;case 25:return null;default:return null}}function Ay(t,a){switch(wd(a),a.tag){case 3:Fs(It),Ns();break;case 26:case 27:case 5:gi(a);break;case 4:Ns();break;case 13:Bs(a);break;case 19:ut(Ct);break;case 10:Fs(a.type);break;case 22:case 23:Bs(a),Cd(),t!==null&&ut(Br);break;case 24:Fs(It)}}var rA={getCacheForType:function(t){var a=Yt(It),i=a.data.get(t);return i===void 0&&(i=t(),a.data.set(t,i)),i}},iA=typeof WeakMap=="function"?WeakMap:Map,lt=0,et=null,De=null,Be=0,tt=0,En=null,Ys=!1,Wi=!1,Sf=!1,Xs=0,dt=0,za=0,Yr=0,wf=0,Bn=0,Yi=0,Ao=null,_s=null,Rf=!1,Nf=0,bc=1/0,Ac=null,Ka=null,Sc=!1,Xr=null,So=0,kf=0,Cf=null,wo=0,If=null;function Tn(){if((lt&2)!==0&&Be!==0)return Be&-Be;if(S.T!==null){var t=Bi;return t!==0?t:Uf()}return Iu()}function Sy(){Bn===0&&(Bn=(Be&536870912)===0||Fe?Vl():536870912);var t=Vn.current;return t!==null&&(t.flags|=32),Bn}function on(t,a,i){(t===et&&tt===2||t.cancelPendingCommit!==null)&&(Xi(t,0),Zs(t,Be,Bn,!1)),pt(t,i),((lt&2)===0||t!==et)&&(t===et&&((lt&2)===0&&(Yr|=i),dt===4&&Zs(t,Be,Bn,!1)),ys(t))}function wy(t,a,i){if((lt&6)!==0)throw Error(r(327));var o=!i&&(a&60)===0&&(a&t.expiredLanes)===0||pa(t,a),d=o?uA(t,a):Mf(t,a,!0),m=o;do{if(d===0){Wi&&!o&&Zs(t,a,0,!1);break}else if(d===6)Zs(t,a,0,!Ys);else{if(i=t.current.alternate,m&&!lA(i)){d=Mf(t,a,!1),m=!1;continue}if(d===2){if(m=a,t.errorRecoveryDisabledLanes&m)var x=0;else x=t.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){a=x;e:{var T=t;d=Ao;var j=T.current.memoizedState.isDehydrated;if(j&&(Xi(T,x).flags|=256),x=Mf(T,x,!1),x!==2){if(Sf&&!j){T.errorRecoveryDisabledLanes|=m,Yr|=m,d=4;break e}m=_s,_s=d,m!==null&&jf(m)}d=x}if(m=!1,d!==2)continue}}if(d===1){Xi(t,0),Zs(t,a,0,!0);break}e:{switch(o=t,d){case 0:case 1:throw Error(r(345));case 4:if((a&4194176)===a){Zs(o,a,Bn,!Ys);break e}break;case 2:_s=null;break;case 3:case 5:break;default:throw Error(r(329))}if(o.finishedWork=i,o.finishedLanes=a,(a&62914560)===a&&(m=Nf+300-hn(),10<m)){if(Zs(o,a,Bn,!Ys),Rn(o,0)!==0)break e;o.timeoutHandle=Yy(Ry.bind(null,o,i,_s,Ac,Rf,a,Bn,Yr,Yi,Ys,2,-0,0),m);break e}Ry(o,i,_s,Ac,Rf,a,Bn,Yr,Yi,Ys,0,-0,0)}}break}while(!0);ys(t)}function jf(t){_s===null?_s=t:_s.push.apply(_s,t)}function Ry(t,a,i,o,d,m,x,T,j,B,Z,ae,W){var X=a.subtreeFlags;if((X&8192||(X&16785408)===16785408)&&(jo={stylesheets:null,count:0,unsuspend:zA},_y(a),a=qA(),a!==null)){t.cancelPendingCommit=a(Oy.bind(null,t,i,o,d,x,T,j,1,ae,W)),Zs(t,m,x,!B);return}Oy(t,i,o,d,x,T,j,Z,ae,W)}function lA(t){for(var a=t;;){var i=a.tag;if((i===0||i===11||i===15)&&a.flags&16384&&(i=a.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var o=0;o<i.length;o++){var d=i[o],m=d.getSnapshot;d=d.value;try{if(!yn(m(),d))return!1}catch{return!1}}if(i=a.child,a.subtreeFlags&16384&&i!==null)i.return=a,a=i;else{if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Zs(t,a,i,o){a&=~wf,a&=~Yr,t.suspendedLanes|=a,t.pingedLanes&=~a,o&&(t.warmLanes|=a),o=t.expirationTimes;for(var d=a;0<d;){var m=31-sn(d),x=1<<m;o[m]=-1,d&=~x}i!==0&&ya(t,i,a)}function wc(){return(lt&6)===0?(Ro(0),!1):!0}function Df(){if(De!==null){if(tt===0)var t=De.return;else t=De,qs=Gr=null,Pd(t),Ui=null,io=0,t=De;for(;t!==null;)Ay(t.alternate,t),t=t.return;De=null}}function Xi(t,a){t.finishedWork=null,t.finishedLanes=0;var i=t.timeoutHandle;i!==-1&&(t.timeoutHandle=-1,wA(i)),i=t.cancelPendingCommit,i!==null&&(t.cancelPendingCommit=null,i()),Df(),et=t,De=i=Ba(t.current,null),Be=a,tt=0,En=null,Ys=!1,Wi=pa(t,a),Sf=!1,Yi=Bn=wf=Yr=za=dt=0,_s=Ao=null,Rf=!1,(a&8)!==0&&(a|=a&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=a;0<o;){var d=31-sn(o),m=1<<d;a|=t[d],o&=~m}return Xs=a,Yu(),i}function Ny(t,a){Ie=null,S.H=ps,a===ao?(a=Kp(),tt=3):a===Hp?(a=Kp(),tt=4):tt=a===B_?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,En=a,De===null&&(dt=1,pc(t,On(a,t.current)))}function ky(){var t=S.H;return S.H=ps,t===null?ps:t}function Cy(){var t=S.A;return S.A=rA,t}function Of(){dt=4,Ys||(Be&4194176)!==Be&&Vn.current!==null||(Wi=!0),(za&134217727)===0&&(Yr&134217727)===0||et===null||Zs(et,Be,Bn,!1)}function Mf(t,a,i){var o=lt;lt|=2;var d=ky(),m=Cy();(et!==t||Be!==a)&&(Ac=null,Xi(t,a)),a=!1;var x=dt;e:do try{if(tt!==0&&De!==null){var T=De,j=En;switch(tt){case 8:Df(),x=6;break e;case 3:case 2:case 6:Vn.current===null&&(a=!0);var B=tt;if(tt=0,En=null,Zi(t,T,j,B),i&&Wi){x=0;break e}break;default:B=tt,tt=0,En=null,Zi(t,T,j,B)}}oA(),x=dt;break}catch(Z){Ny(t,Z)}while(!0);return a&&t.shellSuspendCounter++,qs=Gr=null,lt=o,S.H=d,S.A=m,De===null&&(et=null,Be=0,Yu()),x}function oA(){for(;De!==null;)Iy(De)}function uA(t,a){var i=lt;lt|=2;var o=ky(),d=Cy();et!==t||Be!==a?(Ac=null,bc=hn()+500,Xi(t,a)):Wi=pa(t,a);e:do try{if(tt!==0&&De!==null){a=De;var m=En;t:switch(tt){case 1:tt=0,En=null,Zi(t,a,m,1);break;case 2:if(Bp(m)){tt=0,En=null,jy(a);break}a=function(){tt===2&&et===t&&(tt=7),ys(t)},m.then(a,a);break e;case 3:tt=7;break e;case 4:tt=5;break e;case 7:Bp(m)?(tt=0,En=null,jy(a)):(tt=0,En=null,Zi(t,a,m,7));break;case 5:var x=null;switch(De.tag){case 26:x=De.memoizedState;case 5:case 27:var T=De;if(!x||lv(x)){tt=0,En=null;var j=T.sibling;if(j!==null)De=j;else{var B=T.return;B!==null?(De=B,Rc(B)):De=null}break t}}tt=0,En=null,Zi(t,a,m,5);break;case 6:tt=0,En=null,Zi(t,a,m,6);break;case 8:Df(),dt=6;break e;default:throw Error(r(462))}}cA();break}catch(Z){Ny(t,Z)}while(!0);return qs=Gr=null,S.H=o,S.A=d,lt=i,De!==null?0:(et=null,Be=0,Yu(),dt)}function cA(){for(;De!==null&&!od();)Iy(De)}function Iy(t){var a=J_(t.alternate,t,Xs);t.memoizedProps=t.pendingProps,a===null?Rc(t):De=a}function jy(t){var a=t,i=a.alternate;switch(a.tag){case 15:case 0:a=$_(i,a,a.pendingProps,a.type,void 0,Be);break;case 11:a=$_(i,a,a.pendingProps,a.type.render,a.ref,Be);break;case 5:Pd(a);default:Ay(i,a),a=De=Ey(a,Xs),a=J_(i,a,Xs)}t.memoizedProps=t.pendingProps,a===null?Rc(t):De=a}function Zi(t,a,i,o){qs=Gr=null,Pd(a),Ui=null,io=0;var d=a.return;try{if(Zb(t,d,a,i,Be)){dt=1,pc(t,On(i,t.current)),De=null;return}}catch(m){if(d!==null)throw De=d,m;dt=1,pc(t,On(i,t.current)),De=null;return}a.flags&32768?(Fe||o===1?t=!0:Wi||(Be&536870912)!==0?t=!1:(Ys=t=!0,(o===2||o===3||o===6)&&(o=Vn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Dy(a,t)):Rc(a)}function Rc(t){var a=t;do{if((a.flags&32768)!==0){Dy(a,Ys);return}t=a.return;var i=sA(a.alternate,a,Xs);if(i!==null){De=i;return}if(a=a.sibling,a!==null){De=a;return}De=a=t}while(a!==null);dt===0&&(dt=5)}function Dy(t,a){do{var i=aA(t.alternate,t);if(i!==null){i.flags&=32767,De=i;return}if(i=t.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!a&&(t=t.sibling,t!==null)){De=t;return}De=t=i}while(t!==null);dt=6,De=null}function Oy(t,a,i,o,d,m,x,T,j,B){var Z=S.T,ae=ce.p;try{ce.p=2,S.T=null,hA(t,a,i,o,ae,d,m,x,T,j,B)}finally{S.T=Z,ce.p=ae}}function hA(t,a,i,o,d,m,x,T){do Ji();while(Xr!==null);if((lt&6)!==0)throw Error(r(327));var j=t.finishedWork;if(o=t.finishedLanes,j===null)return null;if(t.finishedWork=null,t.finishedLanes=0,j===t.current)throw Error(r(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var B=j.lanes|j.childLanes;if(B|=bd,ku(t,o,B,m,x,T),t===et&&(De=et=null,Be=0),(j.subtreeFlags&10256)===0&&(j.flags&10256)===0||Sc||(Sc=!0,kf=B,Cf=i,gA(ks,function(){return Ji(),null})),i=(j.flags&15990)!==0,(j.subtreeFlags&15990)!==0||i?(i=S.T,S.T=null,m=ce.p,ce.p=2,x=lt,lt|=4,eA(t,j),my(j,t),Mb($f,t.containerInfo),Uc=!!Gf,$f=Gf=null,t.current=j,cy(t,j.alternate,j),Dl(),lt=x,ce.p=m,S.T=i):t.current=j,Sc?(Sc=!1,Xr=t,So=o):My(t,B),B=t.pendingLanes,B===0&&(Ka=null),Ml(j.stateNode),ys(t),a!==null)for(d=t.onRecoverableError,j=0;j<a.length;j++)B=a[j],d(B.value,{componentStack:B.stack});return(So&3)!==0&&Ji(),B=t.pendingLanes,(o&4194218)!==0&&(B&42)!==0?t===If?wo++:(wo=0,If=t):wo=0,Ro(0),null}function My(t,a){(t.pooledCacheLanes&=a)===0&&(a=t.pooledCache,a!=null&&(t.pooledCache=null,oo(a)))}function Ji(){if(Xr!==null){var t=Xr,a=kf;kf=0;var i=Cu(So),o=S.T,d=ce.p;try{if(ce.p=32>i?32:i,S.T=null,Xr===null)var m=!1;else{i=Cf,Cf=null;var x=Xr,T=So;if(Xr=null,So=0,(lt&6)!==0)throw Error(r(331));var j=lt;if(lt|=4,vy(x.current),py(x,x.current,T,i),lt=j,Ro(0,!1),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(ma,x)}catch{}m=!0}return m}finally{ce.p=d,S.T=o,My(t,a)}}return!1}function Ly(t,a,i){a=On(i,a),a=Zd(t.stateNode,a,2),t=Va(t,a,2),t!==null&&(pt(t,2),ys(t))}function Je(t,a,i){if(t.tag===3)Ly(t,t,i);else for(;a!==null;){if(a.tag===3){Ly(a,t,i);break}else if(a.tag===1){var o=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ka===null||!Ka.has(o))){t=On(i,t),i=U_(2),o=Va(a,i,2),o!==null&&(H_(i,o,a,t),pt(o,2),ys(o));break}}a=a.return}}function Lf(t,a,i){var o=t.pingCache;if(o===null){o=t.pingCache=new iA;var d=new Set;o.set(a,d)}else d=o.get(a),d===void 0&&(d=new Set,o.set(a,d));d.has(i)||(Sf=!0,d.add(i),t=dA.bind(null,t,a,i),a.then(t,t))}function dA(t,a,i){var o=t.pingCache;o!==null&&o.delete(a),t.pingedLanes|=t.suspendedLanes&i,t.warmLanes&=~i,et===t&&(Be&i)===i&&(dt===4||dt===3&&(Be&62914560)===Be&&300>hn()-Nf?(lt&2)===0&&Xi(t,0):wf|=i,Yi===Be&&(Yi=0)),ys(t)}function Vy(t,a){a===0&&(a=_a()),t=ka(t,a),t!==null&&(pt(t,a),ys(t))}function fA(t){var a=t.memoizedState,i=0;a!==null&&(i=a.retryLane),Vy(t,i)}function mA(t,a){var i=0;switch(t.tag){case 13:var o=t.stateNode,d=t.memoizedState;d!==null&&(i=d.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(a),Vy(t,i)}function gA(t,a){return Er(t,a)}var Nc=null,el=null,Vf=!1,kc=!1,Pf=!1,Zr=0;function ys(t){t!==el&&t.next===null&&(el===null?Nc=el=t:el=el.next=t),kc=!0,Vf||(Vf=!0,_A(pA))}function Ro(t,a){if(!Pf&&kc){Pf=!0;do for(var i=!1,o=Nc;o!==null;){if(t!==0){var d=o.pendingLanes;if(d===0)var m=0;else{var x=o.suspendedLanes,T=o.pingedLanes;m=(1<<31-sn(42|t)+1)-1,m&=d&~(x&~T),m=m&201326677?m&201326677|1:m?m|2:0}m!==0&&(i=!0,Hy(o,m))}else m=Be,m=Rn(o,o===et?m:0),(m&3)===0||pa(o,m)||(i=!0,Hy(o,m));o=o.next}while(i);Pf=!1}}function pA(){kc=Vf=!1;var t=0;Zr!==0&&(SA()&&(t=Zr),Zr=0);for(var a=hn(),i=null,o=Nc;o!==null;){var d=o.next,m=Py(o,a);m===0?(o.next=null,i===null?Nc=d:i.next=d,d===null&&(el=i)):(i=o,(t!==0||(m&3)!==0)&&(kc=!0)),o=d}Ro(t)}function Py(t,a){for(var i=t.suspendedLanes,o=t.pingedLanes,d=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var x=31-sn(m),T=1<<x,j=d[x];j===-1?((T&i)===0||(T&o)!==0)&&(d[x]=yi(T,a)):j<=a&&(t.expiredLanes|=T),m&=~T}if(a=et,i=Be,i=Rn(t,t===a?i:0),o=t.callbackNode,i===0||t===a&&tt===2||t.cancelPendingCommit!==null)return o!==null&&o!==null&&_i(o),t.callbackNode=null,t.callbackPriority=0;if((i&3)===0||pa(t,i)){if(a=i&-i,a===t.callbackPriority)return a;switch(o!==null&&_i(o),Cu(i)){case 2:case 8:i=Ot;break;case 32:i=ks;break;case 268435456:i=Ol;break;default:i=ks}return o=Uy.bind(null,t),i=Er(i,o),t.callbackPriority=a,t.callbackNode=i,a}return o!==null&&o!==null&&_i(o),t.callbackPriority=2,t.callbackNode=null,2}function Uy(t,a){var i=t.callbackNode;if(Ji()&&t.callbackNode!==i)return null;var o=Be;return o=Rn(t,t===et?o:0),o===0?null:(wy(t,o,a),Py(t,hn()),t.callbackNode!=null&&t.callbackNode===i?Uy.bind(null,t):null)}function Hy(t,a){if(Ji())return null;wy(t,a,!0)}function _A(t){RA(function(){(lt&6)!==0?Er(wt,t):t()})}function Uf(){return Zr===0&&(Zr=Vl()),Zr}function By(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ls(""+t)}function zy(t,a){var i=a.ownerDocument.createElement("input");return i.name=a.name,i.value=a.value,t.id&&i.setAttribute("form",t.id),a.parentNode.insertBefore(i,a),t=new FormData(t),i.parentNode.removeChild(i),t}function yA(t,a,i,o,d){if(a==="submit"&&i&&i.stateNode===d){var m=By((d[Rt]||null).action),x=o.submitter;x&&(a=(a=x[Rt]||null)?By(a.formAction):x.getAttribute("formAction"),a!==null&&(m=a,x=null));var T=new Si("action","action",null,o,d);t.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Zr!==0){var j=x?zy(d,x):new FormData(d);$d(i,{pending:!0,data:j,method:d.method,action:m},null,j)}}else typeof m=="function"&&(T.preventDefault(),j=x?zy(d,x):new FormData(d),$d(i,{pending:!0,data:j,method:d.method,action:m},m,j))},currentTarget:d}]})}}for(var Hf=0;Hf<Op.length;Hf++){var Bf=Op[Hf],vA=Bf.toLowerCase(),xA=Bf[0].toUpperCase()+Bf.slice(1);Gn(vA,"on"+xA)}Gn(kp,"onAnimationEnd"),Gn(Cp,"onAnimationIteration"),Gn(Ip,"onAnimationStart"),Gn("dblclick","onDoubleClick"),Gn("focusin","onFocus"),Gn("focusout","onBlur"),Gn(Vb,"onTransitionRun"),Gn(Pb,"onTransitionStart"),Gn(Ub,"onTransitionCancel"),Gn(jp,"onTransitionEnd"),dn("onMouseEnter",["mouseout","mouseover"]),dn("onMouseLeave",["mouseout","mouseover"]),dn("onPointerEnter",["pointerout","pointerover"]),dn("onPointerLeave",["pointerout","pointerover"]),pn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pn("onBeforeInput",["compositionend","keypress","textInput","paste"]),pn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var No="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),EA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(No));function Ky(t,a){a=(a&4)!==0;for(var i=0;i<t.length;i++){var o=t[i],d=o.event;o=o.listeners;e:{var m=void 0;if(a)for(var x=o.length-1;0<=x;x--){var T=o[x],j=T.instance,B=T.currentTarget;if(T=T.listener,j!==m&&d.isPropagationStopped())break e;m=T,d.currentTarget=B;try{m(d)}catch(Z){gc(Z)}d.currentTarget=null,m=j}else for(x=0;x<o.length;x++){if(T=o[x],j=T.instance,B=T.currentTarget,T=T.listener,j!==m&&d.isPropagationStopped())break e;m=T,d.currentTarget=B;try{m(d)}catch(Z){gc(Z)}d.currentTarget=null,m=j}}}}function Le(t,a){var i=a[br];i===void 0&&(i=a[br]=new Set);var o=t+"__bubble";i.has(o)||(qy(a,t,2,!1),i.add(o))}function zf(t,a,i){var o=0;a&&(o|=4),qy(i,t,o,a)}var Cc="_reactListening"+Math.random().toString(36).slice(2);function Kf(t){if(!t[Cc]){t[Cc]=!0,Ul.forEach(function(i){i!=="selectionchange"&&(EA.has(i)||zf(i,!1,t),zf(i,!0,t))});var a=t.nodeType===9?t:t.ownerDocument;a===null||a[Cc]||(a[Cc]=!0,zf("selectionchange",!1,a))}}function qy(t,a,i,o){switch(fv(a)){case 2:var d=$A;break;case 8:d=QA;break;default:d=nm}i=d.bind(null,a,i,t),d=void 0,!In||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(d=!0),o?d!==void 0?t.addEventListener(a,i,{capture:!0,passive:d}):t.addEventListener(a,i,!0):d!==void 0?t.addEventListener(a,i,{passive:d}):t.addEventListener(a,i,!1)}function qf(t,a,i,o,d){var m=o;if((a&1)===0&&(a&2)===0&&o!==null)e:for(;;){if(o===null)return;var x=o.tag;if(x===3||x===4){var T=o.stateNode.containerInfo;if(T===d||T.nodeType===8&&T.parentNode===d)break;if(x===4)for(x=o.return;x!==null;){var j=x.tag;if((j===3||j===4)&&(j=x.stateNode.containerInfo,j===d||j.nodeType===8&&j.parentNode===d))return;x=x.return}for(;T!==null;){if(x=Fn(T),x===null)return;if(j=x.tag,j===5||j===6||j===26||j===27){o=m=x;continue e}T=T.parentNode}}o=o.return}Mu(function(){var B=m,Z=Ai(i),ae=[];e:{var W=Dp.get(t);if(W!==void 0){var X=Si,_e=t;switch(t){case"keypress":if(us(i)===0)break e;case"keydown":case"keyup":X=Ii;break;case"focusin":_e="focus",X=Ni;break;case"focusout":_e="blur",X=Ni;break;case"beforeblur":case"afterblur":X=Ni;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=jn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=gd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=Ku;break;case kp:case Cp:case Ip:X=ki;break;case jp:X=Fu;break;case"scroll":case"scrollend":X=Lu;break;case"wheel":X=ji;break;case"copy":case"cut":case"paste":X=Ci;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Xl;break;case"toggle":case"beforetoggle":X=$u}var Se=(a&4)!==0,ft=!Se&&(t==="scroll"||t==="scrollend"),K=Se?W!==null?W+"Capture":null:W;Se=[];for(var H=B,G;H!==null;){var te=H;if(G=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||G===null||K===null||(te=Nr(H,K),te!=null&&Se.push(ko(H,te,G))),ft)break;H=H.return}0<Se.length&&(W=new X(W,_e,null,i,Z),ae.push({event:W,listeners:Se}))}}if((a&7)===0){e:{if(W=t==="mouseover"||t==="pointerover",X=t==="mouseout"||t==="pointerout",W&&i!==Cn&&(_e=i.relatedTarget||i.fromElement)&&(Fn(_e)||_e[Cs]))break e;if((X||W)&&(W=Z.window===Z?Z:(W=Z.ownerDocument)?W.defaultView||W.parentWindow:window,X?(_e=i.relatedTarget||i.toElement,X=B,_e=_e?Fn(_e):null,_e!==null&&(ft=pe(_e),Se=_e.tag,_e!==ft||Se!==5&&Se!==27&&Se!==6)&&(_e=null)):(X=null,_e=B),X!==_e)){if(Se=jn,te="onMouseLeave",K="onMouseEnter",H="mouse",(t==="pointerout"||t==="pointerover")&&(Se=Xl,te="onPointerLeave",K="onPointerEnter",H="pointer"),ft=X==null?W:Ta(X),G=_e==null?W:Ta(_e),W=new Se(te,H+"leave",X,i,Z),W.target=ft,W.relatedTarget=G,te=null,Fn(Z)===B&&(Se=new Se(K,H+"enter",_e,i,Z),Se.target=G,Se.relatedTarget=ft,te=Se),ft=te,X&&_e)t:{for(Se=X,K=_e,H=0,G=Se;G;G=tl(G))H++;for(G=0,te=K;te;te=tl(te))G++;for(;0<H-G;)Se=tl(Se),H--;for(;0<G-H;)K=tl(K),G--;for(;H--;){if(Se===K||K!==null&&Se===K.alternate)break t;Se=tl(Se),K=tl(K)}Se=null}else Se=null;X!==null&&Fy(ae,W,X,Se,!1),_e!==null&&ft!==null&&Fy(ae,ft,_e,Se,!0)}}e:{if(W=B?Ta(B):window,X=W.nodeName&&W.nodeName.toLowerCase(),X==="select"||X==="input"&&W.type==="file")var fe=yp;else if(kt(W))if(vp)fe=Db;else{fe=Ib;var je=Cb}else X=W.nodeName,!X||X.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?B&&ql(B.elementType)&&(fe=yp):fe=jb;if(fe&&(fe=fe(t,B))){Ps(ae,fe,i,Z);break e}je&&je(t,W,B),t==="focusout"&&B&&W.type==="number"&&B.memoizedProps.value!=null&&bi(W,"number",W.value)}switch(je=B?Ta(B):window,t){case"focusin":(kt(je)||je.contentEditable==="true")&&(Di=je,xd=B,eo=null);break;case"focusout":eo=xd=Di=null;break;case"mousedown":Ed=!0;break;case"contextmenu":case"mouseup":case"dragend":Ed=!1,Rp(ae,i,Z);break;case"selectionchange":if(Lb)break;case"keydown":case"keyup":Rp(ae,i,Z)}var ve;if(ds)e:{switch(t){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else Ue?Y(t,i)&&(Ee="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(Ee="onCompositionStart");Ee&&(v&&i.locale!=="ko"&&(Ue||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&Ue&&(ve=Gl()):(os=Z,Na="value"in os?os.value:os.textContent,Ue=!0)),je=Ic(B,Ee),0<je.length&&(Ee=new Wl(Ee,t,null,i,Z),ae.push({event:Ee,listeners:je}),ve?Ee.data=ve:(ve=oe(i),ve!==null&&(Ee.data=ve)))),(ve=y?Nt(t,i):He(t,i))&&(Ee=Ic(B,"onBeforeInput"),0<Ee.length&&(je=new Wl("onBeforeInput","beforeinput",null,i,Z),ae.push({event:je,listeners:Ee}),je.data=ve)),yA(ae,t,B,i,Z)}Ky(ae,a)})}function ko(t,a,i){return{instance:t,listener:a,currentTarget:i}}function Ic(t,a){for(var i=a+"Capture",o=[];t!==null;){var d=t,m=d.stateNode;d=d.tag,d!==5&&d!==26&&d!==27||m===null||(d=Nr(t,i),d!=null&&o.unshift(ko(t,d,m)),d=Nr(t,a),d!=null&&o.push(ko(t,d,m))),t=t.return}return o}function tl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Fy(t,a,i,o,d){for(var m=a._reactName,x=[];i!==null&&i!==o;){var T=i,j=T.alternate,B=T.stateNode;if(T=T.tag,j!==null&&j===o)break;T!==5&&T!==26&&T!==27||B===null||(j=B,d?(B=Nr(i,m),B!=null&&x.unshift(ko(i,B,j))):d||(B=Nr(i,m),B!=null&&x.push(ko(i,B,j)))),i=i.return}x.length!==0&&t.push({event:a,listeners:x})}var TA=/\r\n?/g,bA=/\u0000|\uFFFD/g;function Gy(t){return(typeof t=="string"?t:""+t).replace(TA,`
`).replace(bA,"")}function $y(t,a){return a=Gy(a),Gy(t)===a}function jc(){}function Ze(t,a,i,o,d,m){switch(i){case"children":typeof o=="string"?a==="body"||a==="textarea"&&o===""||kn(t,o):(typeof o=="number"||typeof o=="bigint")&&a!=="body"&&kn(t,""+o);break;case"className":Sa(t,"class",o);break;case"tabIndex":Sa(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Sa(t,i,o);break;case"style":Ou(t,o,m);break;case"data":if(a!=="object"){Sa(t,"data",o);break}case"src":case"href":if(o===""&&(a!=="a"||i!=="href")){t.removeAttribute(i);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(i);break}o=ls(""+o),t.setAttribute(i,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(i==="formAction"?(a!=="input"&&Ze(t,a,"name",d.name,d,null),Ze(t,a,"formEncType",d.formEncType,d,null),Ze(t,a,"formMethod",d.formMethod,d,null),Ze(t,a,"formTarget",d.formTarget,d,null)):(Ze(t,a,"encType",d.encType,d,null),Ze(t,a,"method",d.method,d,null),Ze(t,a,"target",d.target,d,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(i);break}o=ls(""+o),t.setAttribute(i,o);break;case"onClick":o!=null&&(t.onclick=jc);break;case"onScroll":o!=null&&Le("scroll",t);break;case"onScrollEnd":o!=null&&Le("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(i=o.__html,i!=null){if(d.children!=null)throw Error(r(60));t.innerHTML=i}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}i=ls(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(i,""+o):t.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(i,""):t.removeAttribute(i);break;case"capture":case"download":o===!0?t.setAttribute(i,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(i,o):t.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(i,o):t.removeAttribute(i);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(i):t.setAttribute(i,o);break;case"popover":Le("beforetoggle",t),Le("toggle",t),Aa(t,"popover",o);break;case"xlinkActuate":Nn(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Nn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Nn(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Nn(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Nn(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Nn(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Nn(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Nn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Nn(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Aa(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=fd.get(i)||i,Aa(t,i,o))}}function Ff(t,a,i,o,d,m){switch(i){case"style":Ou(t,o,m);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(i=o.__html,i!=null){if(d.children!=null)throw Error(r(60));t.innerHTML=i}}break;case"children":typeof o=="string"?kn(t,o):(typeof o=="number"||typeof o=="bigint")&&kn(t,""+o);break;case"onScroll":o!=null&&Le("scroll",t);break;case"onScrollEnd":o!=null&&Le("scrollend",t);break;case"onClick":o!=null&&(t.onclick=jc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ei.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(d=i.endsWith("Capture"),a=i.slice(2,d?i.length-7:void 0),m=t[Rt]||null,m=m!=null?m[i]:null,typeof m=="function"&&t.removeEventListener(a,m,d),typeof o=="function")){typeof m!="function"&&m!==null&&(i in t?t[i]=null:t.hasAttribute(i)&&t.removeAttribute(i)),t.addEventListener(a,o,d);break e}i in t?t[i]=o:o===!0?t.setAttribute(i,""):Aa(t,i,o)}}}function Ft(t,a,i){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",t),Le("load",t);var o=!1,d=!1,m;for(m in i)if(i.hasOwnProperty(m)){var x=i[m];if(x!=null)switch(m){case"src":o=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:Ze(t,a,m,x,i,null)}}d&&Ze(t,a,"srcSet",i.srcSet,i,null),o&&Ze(t,a,"src",i.src,i,null);return;case"input":Le("invalid",t);var T=m=x=d=null,j=null,B=null;for(o in i)if(i.hasOwnProperty(o)){var Z=i[o];if(Z!=null)switch(o){case"name":d=Z;break;case"type":x=Z;break;case"checked":j=Z;break;case"defaultChecked":B=Z;break;case"value":m=Z;break;case"defaultValue":T=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,a));break;default:Ze(t,a,o,Z,i,null)}}wr(t,m,T,j,B,x,d,!1),Sr(t);return;case"select":Le("invalid",t),o=x=m=null;for(d in i)if(i.hasOwnProperty(d)&&(T=i[d],T!=null))switch(d){case"value":m=T;break;case"defaultValue":x=T;break;case"multiple":o=T;default:Ze(t,a,d,T,i,null)}a=m,i=x,t.multiple=!!o,a!=null?qe(t,!!o,a,!1):i!=null&&qe(t,!!o,i,!0);return;case"textarea":Le("invalid",t),m=d=o=null;for(x in i)if(i.hasOwnProperty(x)&&(T=i[x],T!=null))switch(x){case"value":o=T;break;case"defaultValue":d=T;break;case"children":m=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:Ze(t,a,x,T,i,null)}Ra(t,o,d,m),Sr(t);return;case"option":for(j in i)if(i.hasOwnProperty(j)&&(o=i[j],o!=null))switch(j){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Ze(t,a,j,o,i,null)}return;case"dialog":Le("cancel",t),Le("close",t);break;case"iframe":case"object":Le("load",t);break;case"video":case"audio":for(o=0;o<No.length;o++)Le(No[o],t);break;case"image":Le("error",t),Le("load",t);break;case"details":Le("toggle",t);break;case"embed":case"source":case"link":Le("error",t),Le("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in i)if(i.hasOwnProperty(B)&&(o=i[B],o!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:Ze(t,a,B,o,i,null)}return;default:if(ql(a)){for(Z in i)i.hasOwnProperty(Z)&&(o=i[Z],o!==void 0&&Ff(t,a,Z,o,i,void 0));return}}for(T in i)i.hasOwnProperty(T)&&(o=i[T],o!=null&&Ze(t,a,T,o,i,null))}function AA(t,a,i,o){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,m=null,x=null,T=null,j=null,B=null,Z=null;for(X in i){var ae=i[X];if(i.hasOwnProperty(X)&&ae!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":j=ae;default:o.hasOwnProperty(X)||Ze(t,a,X,null,o,ae)}}for(var W in o){var X=o[W];if(ae=i[W],o.hasOwnProperty(W)&&(X!=null||ae!=null))switch(W){case"type":m=X;break;case"name":d=X;break;case"checked":B=X;break;case"defaultChecked":Z=X;break;case"value":x=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,a));break;default:X!==ae&&Ze(t,a,W,X,o,ae)}}wa(t,x,T,j,B,Z,m,d);return;case"select":X=x=T=W=null;for(m in i)if(j=i[m],i.hasOwnProperty(m)&&j!=null)switch(m){case"value":break;case"multiple":X=j;default:o.hasOwnProperty(m)||Ze(t,a,m,null,o,j)}for(d in o)if(m=o[d],j=i[d],o.hasOwnProperty(d)&&(m!=null||j!=null))switch(d){case"value":W=m;break;case"defaultValue":T=m;break;case"multiple":x=m;default:m!==j&&Ze(t,a,d,m,o,j)}a=T,i=x,o=X,W!=null?qe(t,!!i,W,!1):!!o!=!!i&&(a!=null?qe(t,!!i,a,!0):qe(t,!!i,i?[]:"",!1));return;case"textarea":X=W=null;for(T in i)if(d=i[T],i.hasOwnProperty(T)&&d!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Ze(t,a,T,null,o,d)}for(x in o)if(d=o[x],m=i[x],o.hasOwnProperty(x)&&(d!=null||m!=null))switch(x){case"value":W=d;break;case"defaultValue":X=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(r(91));break;default:d!==m&&Ze(t,a,x,d,o,m)}Rr(t,W,X);return;case"option":for(var _e in i)if(W=i[_e],i.hasOwnProperty(_e)&&W!=null&&!o.hasOwnProperty(_e))switch(_e){case"selected":t.selected=!1;break;default:Ze(t,a,_e,null,o,W)}for(j in o)if(W=o[j],X=i[j],o.hasOwnProperty(j)&&W!==X&&(W!=null||X!=null))switch(j){case"selected":t.selected=W&&typeof W!="function"&&typeof W!="symbol";break;default:Ze(t,a,j,W,o,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in i)W=i[Se],i.hasOwnProperty(Se)&&W!=null&&!o.hasOwnProperty(Se)&&Ze(t,a,Se,null,o,W);for(B in o)if(W=o[B],X=i[B],o.hasOwnProperty(B)&&W!==X&&(W!=null||X!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(r(137,a));break;default:Ze(t,a,B,W,o,X)}return;default:if(ql(a)){for(var ft in i)W=i[ft],i.hasOwnProperty(ft)&&W!==void 0&&!o.hasOwnProperty(ft)&&Ff(t,a,ft,void 0,o,W);for(Z in o)W=o[Z],X=i[Z],!o.hasOwnProperty(Z)||W===X||W===void 0&&X===void 0||Ff(t,a,Z,W,o,X);return}}for(var K in i)W=i[K],i.hasOwnProperty(K)&&W!=null&&!o.hasOwnProperty(K)&&Ze(t,a,K,null,o,W);for(ae in o)W=o[ae],X=i[ae],!o.hasOwnProperty(ae)||W===X||W==null&&X==null||Ze(t,a,ae,W,o,X)}var Gf=null,$f=null;function Dc(t){return t.nodeType===9?t:t.ownerDocument}function Qy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Wy(t,a){if(t===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&a==="foreignObject"?0:t}function Qf(t,a){return t==="textarea"||t==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Wf=null;function SA(){var t=window.event;return t&&t.type==="popstate"?t===Wf?!1:(Wf=t,!0):(Wf=null,!1)}var Yy=typeof setTimeout=="function"?setTimeout:void 0,wA=typeof clearTimeout=="function"?clearTimeout:void 0,Xy=typeof Promise=="function"?Promise:void 0,RA=typeof queueMicrotask=="function"?queueMicrotask:typeof Xy<"u"?function(t){return Xy.resolve(null).then(t).catch(NA)}:Yy;function NA(t){setTimeout(function(){throw t})}function Yf(t,a){var i=a,o=0;do{var d=i.nextSibling;if(t.removeChild(i),d&&d.nodeType===8)if(i=d.data,i==="/$"){if(o===0){t.removeChild(d),Vo(a);return}o--}else i!=="$"&&i!=="$?"&&i!=="$!"||o++;i=d}while(i);Vo(a)}function Xf(t){var a=t.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var i=a;switch(a=a.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Xf(i),Ar(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}t.removeChild(i)}}function kA(t,a,i,o){for(;t.nodeType===1;){var d=i;if(t.nodeName.toLowerCase()!==a.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Ea])switch(a){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==d.rel||t.getAttribute("href")!==(d.href==null?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(a==="input"&&t.type==="hidden"){var m=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=Wn(t.nextSibling),t===null)break}return null}function CA(t,a,i){if(a==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Wn(t.nextSibling),t===null))return null;return t}function Wn(t){for(;t!=null;t=t.nextSibling){var a=t.nodeType;if(a===1||a===3)break;if(a===8){if(a=t.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return t}function Zy(t){t=t.previousSibling;for(var a=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"){if(a===0)return t;a--}else i==="/$"&&a++}t=t.previousSibling}return null}function Jy(t,a,i){switch(a=Dc(i),t){case"html":if(t=a.documentElement,!t)throw Error(r(452));return t;case"head":if(t=a.head,!t)throw Error(r(453));return t;case"body":if(t=a.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}var zn=new Map,ev=new Set;function Oc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Js=ce.d;ce.d={f:IA,r:jA,D:DA,C:OA,L:MA,m:LA,X:PA,S:VA,M:UA};function IA(){var t=Js.f(),a=wc();return t||a}function jA(t){var a=Is(t);a!==null&&a.tag===5&&a.type==="form"?R_(a):Js.r(t)}var nl=typeof document>"u"?null:document;function tv(t,a,i){var o=nl;if(o&&typeof a=="string"&&a){var d=ct(a);d='link[rel="'+t+'"][href="'+d+'"]',typeof i=="string"&&(d+='[crossorigin="'+i+'"]'),ev.has(d)||(ev.add(d),t={rel:t,crossOrigin:i,href:a},o.querySelector(d)===null&&(a=o.createElement("link"),Ft(a,"link",t),rt(a),o.head.appendChild(a)))}}function DA(t){Js.D(t),tv("dns-prefetch",t,null)}function OA(t,a){Js.C(t,a),tv("preconnect",t,a)}function MA(t,a,i){Js.L(t,a,i);var o=nl;if(o&&t&&a){var d='link[rel="preload"][as="'+ct(a)+'"]';a==="image"&&i&&i.imageSrcSet?(d+='[imagesrcset="'+ct(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(d+='[imagesizes="'+ct(i.imageSizes)+'"]')):d+='[href="'+ct(t)+'"]';var m=d;switch(a){case"style":m=sl(t);break;case"script":m=al(t)}zn.has(m)||(t=I({rel:"preload",href:a==="image"&&i&&i.imageSrcSet?void 0:t,as:a},i),zn.set(m,t),o.querySelector(d)!==null||a==="style"&&o.querySelector(Co(m))||a==="script"&&o.querySelector(Io(m))||(a=o.createElement("link"),Ft(a,"link",t),rt(a),o.head.appendChild(a)))}}function LA(t,a){Js.m(t,a);var i=nl;if(i&&t){var o=a&&typeof a.as=="string"?a.as:"script",d='link[rel="modulepreload"][as="'+ct(o)+'"][href="'+ct(t)+'"]',m=d;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=al(t)}if(!zn.has(m)&&(t=I({rel:"modulepreload",href:t},a),zn.set(m,t),i.querySelector(d)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Io(m)))return}o=i.createElement("link"),Ft(o,"link",t),rt(o),i.head.appendChild(o)}}}function VA(t,a,i){Js.S(t,a,i);var o=nl;if(o&&t){var d=ba(o).hoistableStyles,m=sl(t);a=a||"default";var x=d.get(m);if(!x){var T={loading:0,preload:null};if(x=o.querySelector(Co(m)))T.loading=5;else{t=I({rel:"stylesheet",href:t,"data-precedence":a},i),(i=zn.get(m))&&Zf(t,i);var j=x=o.createElement("link");rt(j),Ft(j,"link",t),j._p=new Promise(function(B,Z){j.onload=B,j.onerror=Z}),j.addEventListener("load",function(){T.loading|=1}),j.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Mc(x,a,o)}x={type:"stylesheet",instance:x,count:1,state:T},d.set(m,x)}}}function PA(t,a){Js.X(t,a);var i=nl;if(i&&t){var o=ba(i).hoistableScripts,d=al(t),m=o.get(d);m||(m=i.querySelector(Io(d)),m||(t=I({src:t,async:!0},a),(a=zn.get(d))&&Jf(t,a),m=i.createElement("script"),rt(m),Ft(m,"link",t),i.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(d,m))}}function UA(t,a){Js.M(t,a);var i=nl;if(i&&t){var o=ba(i).hoistableScripts,d=al(t),m=o.get(d);m||(m=i.querySelector(Io(d)),m||(t=I({src:t,async:!0,type:"module"},a),(a=zn.get(d))&&Jf(t,a),m=i.createElement("script"),rt(m),Ft(m,"link",t),i.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(d,m))}}function nv(t,a,i,o){var d=(d=wn.current)?Oc(d):null;if(!d)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(a=sl(i.href),i=ba(d).hoistableStyles,o=i.get(a),o||(o={type:"style",instance:null,count:0,state:null},i.set(a,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){t=sl(i.href);var m=ba(d).hoistableStyles,x=m.get(t);if(x||(d=d.ownerDocument||d,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,x),(m=d.querySelector(Co(t)))&&!m._p&&(x.instance=m,x.state.loading=5),zn.has(t)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},zn.set(t,i),m||HA(d,t,i,x.state))),a&&o===null)throw Error(r(528,""));return x}if(a&&o!==null)throw Error(r(529,""));return null;case"script":return a=i.async,i=i.src,typeof i=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=al(i),i=ba(d).hoistableScripts,o=i.get(a),o||(o={type:"script",instance:null,count:0,state:null},i.set(a,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function sl(t){return'href="'+ct(t)+'"'}function Co(t){return'link[rel="stylesheet"]['+t+"]"}function sv(t){return I({},t,{"data-precedence":t.precedence,precedence:null})}function HA(t,a,i,o){t.querySelector('link[rel="preload"][as="style"]['+a+"]")?o.loading=1:(a=t.createElement("link"),o.preload=a,a.addEventListener("load",function(){return o.loading|=1}),a.addEventListener("error",function(){return o.loading|=2}),Ft(a,"link",i),rt(a),t.head.appendChild(a))}function al(t){return'[src="'+ct(t)+'"]'}function Io(t){return"script[async]"+t}function av(t,a,i){if(a.count++,a.instance===null)switch(a.type){case"style":var o=t.querySelector('style[data-href~="'+ct(i.href)+'"]');if(o)return a.instance=o,rt(o),o;var d=I({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),rt(o),Ft(o,"style",d),Mc(o,i.precedence,t),a.instance=o;case"stylesheet":d=sl(i.href);var m=t.querySelector(Co(d));if(m)return a.state.loading|=4,a.instance=m,rt(m),m;o=sv(i),(d=zn.get(d))&&Zf(o,d),m=(t.ownerDocument||t).createElement("link"),rt(m);var x=m;return x._p=new Promise(function(T,j){x.onload=T,x.onerror=j}),Ft(m,"link",o),a.state.loading|=4,Mc(m,i.precedence,t),a.instance=m;case"script":return m=al(i.src),(d=t.querySelector(Io(m)))?(a.instance=d,rt(d),d):(o=i,(d=zn.get(m))&&(o=I({},i),Jf(o,d)),t=t.ownerDocument||t,d=t.createElement("script"),rt(d),Ft(d,"link",o),t.head.appendChild(d),a.instance=d);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(o=a.instance,a.state.loading|=4,Mc(o,i.precedence,t));return a.instance}function Mc(t,a,i){for(var o=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=o.length?o[o.length-1]:null,m=d,x=0;x<o.length;x++){var T=o[x];if(T.dataset.precedence===a)m=T;else if(m!==d)break}m?m.parentNode.insertBefore(t,m.nextSibling):(a=i.nodeType===9?i.head:i,a.insertBefore(t,a.firstChild))}function Zf(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.title==null&&(t.title=a.title)}function Jf(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.integrity==null&&(t.integrity=a.integrity)}var Lc=null;function rv(t,a,i){if(Lc===null){var o=new Map,d=Lc=new Map;d.set(i,o)}else d=Lc,o=d.get(i),o||(o=new Map,d.set(i,o));if(o.has(t))return o;for(o.set(t,null),i=i.getElementsByTagName(t),d=0;d<i.length;d++){var m=i[d];if(!(m[Ea]||m[Mt]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var x=m.getAttribute(a)||"";x=t+x;var T=o.get(x);T?T.push(m):o.set(x,[m])}}return o}function iv(t,a,i){t=t.ownerDocument||t,t.head.insertBefore(i,a==="title"?t.querySelector("head > title"):null)}function BA(t,a,i){if(i===1||a.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return t=a.disabled,typeof a.precedence=="string"&&t==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function lv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var jo=null;function zA(){}function KA(t,a,i){if(jo===null)throw Error(r(475));var o=jo;if(a.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var d=sl(i.href),m=t.querySelector(Co(d));if(m){t=m._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(o.count++,o=Vc.bind(o),t.then(o,o)),a.state.loading|=4,a.instance=m,rt(m);return}m=t.ownerDocument||t,i=sv(i),(d=zn.get(d))&&Zf(i,d),m=m.createElement("link"),rt(m);var x=m;x._p=new Promise(function(T,j){x.onload=T,x.onerror=j}),Ft(m,"link",i),a.instance=m}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(o.count++,a=Vc.bind(o),t.addEventListener("load",a),t.addEventListener("error",a))}}function qA(){if(jo===null)throw Error(r(475));var t=jo;return t.stylesheets&&t.count===0&&em(t,t.stylesheets),0<t.count?function(a){var i=setTimeout(function(){if(t.stylesheets&&em(t,t.stylesheets),t.unsuspend){var o=t.unsuspend;t.unsuspend=null,o()}},6e4);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(i)}}:null}function Vc(){if(this.count--,this.count===0){if(this.stylesheets)em(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Pc=null;function em(t,a){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Pc=new Map,a.forEach(FA,t),Pc=null,Vc.call(t))}function FA(t,a){if(!(a.state.loading&4)){var i=Pc.get(t);if(i)var o=i.get(null);else{i=new Map,Pc.set(t,i);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<d.length;m++){var x=d[m];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(i.set(x.dataset.precedence,x),o=x)}o&&i.set(null,o)}d=a.instance,x=d.getAttribute("data-precedence"),m=i.get(x)||o,m===o&&i.set(null,d),i.set(x,d),this.count++,o=Vc.bind(this),d.addEventListener("load",o),d.addEventListener("error",o),m?m.parentNode.insertBefore(d,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),a.state.loading|=4}}var Do={$$typeof:C,Provider:null,Consumer:null,_currentValue:Re,_currentValue2:Re,_threadCount:0};function GA(t,a,i,o,d,m,x,T){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vi(0),this.hiddenUpdates=vi(null),this.identifierPrefix=o,this.onUncaughtError=d,this.onCaughtError=m,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function ov(t,a,i,o,d,m,x,T,j,B,Z,ae){return t=new GA(t,a,i,x,T,j,B,ae),a=1,m===!0&&(a|=24),m=Hn(3,null,null,a),t.current=m,m.stateNode=t,a=Id(),a.refCount++,t.pooledCache=a,a.refCount++,m.memoizedState={element:o,isDehydrated:i,cache:a},df(m),t}function uv(t){return t?(t=Li,t):Li}function cv(t,a,i,o,d,m){d=uv(d),o.context===null?o.context=d:o.pendingContext=d,o=La(a),o.payload={element:i},m=m===void 0?null:m,m!==null&&(o.callback=m),i=Va(t,o,a),i!==null&&(on(i,t,a),po(i,t,a))}function hv(t,a){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<a?i:a}}function tm(t,a){hv(t,a),(t=t.alternate)&&hv(t,a)}function dv(t){if(t.tag===13){var a=ka(t,67108864);a!==null&&on(a,t,67108864),tm(t,67108864)}}var Uc=!0;function $A(t,a,i,o){var d=S.T;S.T=null;var m=ce.p;try{ce.p=2,nm(t,a,i,o)}finally{ce.p=m,S.T=d}}function QA(t,a,i,o){var d=S.T;S.T=null;var m=ce.p;try{ce.p=8,nm(t,a,i,o)}finally{ce.p=m,S.T=d}}function nm(t,a,i,o){if(Uc){var d=sm(o);if(d===null)qf(t,a,o,Hc,i),mv(t,o);else if(YA(d,t,a,i,o))o.stopPropagation();else if(mv(t,o),a&4&&-1<WA.indexOf(t)){for(;d!==null;){var m=Is(d);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var x=qn(m.pendingLanes);if(x!==0){var T=m;for(T.pendingLanes|=2,T.entangledLanes|=2;x;){var j=1<<31-sn(x);T.entanglements[1]|=j,x&=~j}ys(m),(lt&6)===0&&(bc=hn()+500,Ro(0))}}break;case 13:T=ka(m,2),T!==null&&on(T,m,2),wc(),tm(m,2)}if(m=sm(o),m===null&&qf(t,a,o,Hc,i),m===d)break;d=m}d!==null&&o.stopPropagation()}else qf(t,a,o,null,i)}}function sm(t){return t=Ai(t),am(t)}var Hc=null;function am(t){if(Hc=null,t=Fn(t),t!==null){var a=pe(t);if(a===null)t=null;else{var i=a.tag;if(i===13){if(t=me(a),t!==null)return t;t=null}else if(i===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;t=null}else a!==t&&(t=null)}}return Hc=t,null}function fv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Su()){case wt:return 2;case Ot:return 8;case ks:case wu:return 32;case Ol:return 268435456;default:return 32}default:return 32}}var rm=!1,qa=null,Fa=null,Ga=null,Oo=new Map,Mo=new Map,$a=[],WA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function mv(t,a){switch(t){case"focusin":case"focusout":qa=null;break;case"dragenter":case"dragleave":Fa=null;break;case"mouseover":case"mouseout":Ga=null;break;case"pointerover":case"pointerout":Oo.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mo.delete(a.pointerId)}}function Lo(t,a,i,o,d,m){return t===null||t.nativeEvent!==m?(t={blockedOn:a,domEventName:i,eventSystemFlags:o,nativeEvent:m,targetContainers:[d]},a!==null&&(a=Is(a),a!==null&&dv(a)),t):(t.eventSystemFlags|=o,a=t.targetContainers,d!==null&&a.indexOf(d)===-1&&a.push(d),t)}function YA(t,a,i,o,d){switch(a){case"focusin":return qa=Lo(qa,t,a,i,o,d),!0;case"dragenter":return Fa=Lo(Fa,t,a,i,o,d),!0;case"mouseover":return Ga=Lo(Ga,t,a,i,o,d),!0;case"pointerover":var m=d.pointerId;return Oo.set(m,Lo(Oo.get(m)||null,t,a,i,o,d)),!0;case"gotpointercapture":return m=d.pointerId,Mo.set(m,Lo(Mo.get(m)||null,t,a,i,o,d)),!0}return!1}function gv(t){var a=Fn(t.target);if(a!==null){var i=pe(a);if(i!==null){if(a=i.tag,a===13){if(a=me(i),a!==null){t.blockedOn=a,xa(t.priority,function(){if(i.tag===13){var o=Tn(),d=ka(i,o);d!==null&&on(d,i,o),tm(i,o)}});return}}else if(a===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Bc(t){if(t.blockedOn!==null)return!1;for(var a=t.targetContainers;0<a.length;){var i=sm(t.nativeEvent);if(i===null){i=t.nativeEvent;var o=new i.constructor(i.type,i);Cn=o,i.target.dispatchEvent(o),Cn=null}else return a=Is(i),a!==null&&dv(a),t.blockedOn=i,!1;a.shift()}return!0}function pv(t,a,i){Bc(t)&&i.delete(a)}function XA(){rm=!1,qa!==null&&Bc(qa)&&(qa=null),Fa!==null&&Bc(Fa)&&(Fa=null),Ga!==null&&Bc(Ga)&&(Ga=null),Oo.forEach(pv),Mo.forEach(pv)}function zc(t,a){t.blockedOn===a&&(t.blockedOn=null,rm||(rm=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,XA)))}var Kc=null;function _v(t){Kc!==t&&(Kc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Kc===t&&(Kc=null);for(var a=0;a<t.length;a+=3){var i=t[a],o=t[a+1],d=t[a+2];if(typeof o!="function"){if(am(o||i)===null)continue;break}var m=Is(i);m!==null&&(t.splice(a,3),a-=3,$d(m,{pending:!0,data:d,method:i.method,action:o},o,d))}}))}function Vo(t){function a(j){return zc(j,t)}qa!==null&&zc(qa,t),Fa!==null&&zc(Fa,t),Ga!==null&&zc(Ga,t),Oo.forEach(a),Mo.forEach(a);for(var i=0;i<$a.length;i++){var o=$a[i];o.blockedOn===t&&(o.blockedOn=null)}for(;0<$a.length&&(i=$a[0],i.blockedOn===null);)gv(i),i.blockedOn===null&&$a.shift();if(i=(t.ownerDocument||t).$$reactFormReplay,i!=null)for(o=0;o<i.length;o+=3){var d=i[o],m=i[o+1],x=d[Rt]||null;if(typeof m=="function")x||_v(i);else if(x){var T=null;if(m&&m.hasAttribute("formAction")){if(d=m,x=m[Rt]||null)T=x.formAction;else if(am(d)!==null)continue}else T=x.action;typeof T=="function"?i[o+1]=T:(i.splice(o,3),o-=3),_v(i)}}}function im(t){this._internalRoot=t}qc.prototype.render=im.prototype.render=function(t){var a=this._internalRoot;if(a===null)throw Error(r(409));var i=a.current,o=Tn();cv(i,o,t,a,null,null)},qc.prototype.unmount=im.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var a=t.containerInfo;t.tag===0&&Ji(),cv(t.current,2,null,t,null,null),wc(),a[Cs]=null}};function qc(t){this._internalRoot=t}qc.prototype.unstable_scheduleHydration=function(t){if(t){var a=Iu();t={blockedOn:null,target:t,priority:a};for(var i=0;i<$a.length&&a!==0&&a<$a[i].priority;i++);$a.splice(i,0,t),i===0&&gv(t)}};var yv=e.version;if(yv!=="19.0.0")throw Error(r(527,yv,"19.0.0"));ce.findDOMNode=function(t){var a=t._reactInternals;if(a===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=re(a),t=t!==null?ge(t):null,t=t===null?null:t.stateNode,t};var ZA={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:S,findFiberByHostInstance:Fn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fc.isDisabled&&Fc.supportsFiber)try{ma=Fc.inject(ZA),Wt=Fc}catch{}}return Uo.createRoot=function(t,a){if(!l(t))throw Error(r(299));var i=!1,o="",d=M_,m=L_,x=V_,T=null;return a!=null&&(a.unstable_strictMode===!0&&(i=!0),a.identifierPrefix!==void 0&&(o=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(m=a.onCaughtError),a.onRecoverableError!==void 0&&(x=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(T=a.unstable_transitionCallbacks)),a=ov(t,1,!1,null,null,i,o,d,m,x,T,null),t[Cs]=a.current,Kf(t.nodeType===8?t.parentNode:t),new im(a)},Uo.hydrateRoot=function(t,a,i){if(!l(t))throw Error(r(299));var o=!1,d="",m=M_,x=L_,T=V_,j=null,B=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onUncaughtError!==void 0&&(m=i.onUncaughtError),i.onCaughtError!==void 0&&(x=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(j=i.unstable_transitionCallbacks),i.formState!==void 0&&(B=i.formState)),a=ov(t,1,!0,a,i??null,o,d,m,x,T,j,B),a.context=uv(null),i=a.current,o=Tn(),d=La(o),d.callback=null,Va(i,d,o),a.current.lanes=o,pt(a,o),ys(a),t[Cs]=a.current,Kf(t),new qc(a)},Uo.version="19.0.0",Uo}var Nv;function uS(){if(Nv)return um.exports;Nv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),um.exports=oS(),um.exports}var cS=uS();const hS=_0(cS);var Ho={},kv;function dS(){if(kv)return Ho;kv=1,Object.defineProperty(Ho,"__esModule",{value:!0}),Ho.parse=h,Ho.serialize=_;const s=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,u=(()=>{const A=function(){};return A.prototype=Object.create(null),A})();function h(A,C){const D=new u,F=A.length;if(F<2)return D;const U=(C==null?void 0:C.decode)||E;let $=0;do{const z=A.indexOf("=",$);if(z===-1)break;const Q=A.indexOf(";",$),ee=Q===-1?F:Q;if(z>ee){$=A.lastIndexOf(";",z-1)+1;continue}const J=g(A,$,z),ie=p(A,z,J),O=A.slice(J,ie);if(D[O]===void 0){let R=g(A,z+1,ee),S=p(A,ee,R);const I=U(A.slice(R,S));D[O]=I}$=ee+1}while($<F);return D}function g(A,C,D){do{const F=A.charCodeAt(C);if(F!==32&&F!==9)return C}while(++C<D);return D}function p(A,C,D){for(;C>D;){const F=A.charCodeAt(--C);if(F!==32&&F!==9)return C+1}return D}function _(A,C,D){const F=(D==null?void 0:D.encode)||encodeURIComponent;if(!s.test(A))throw new TypeError(`argument name is invalid: ${A}`);const U=F(C);if(!e.test(U))throw new TypeError(`argument val is invalid: ${C}`);let $=A+"="+U;if(!D)return $;if(D.maxAge!==void 0){if(!Number.isInteger(D.maxAge))throw new TypeError(`option maxAge is invalid: ${D.maxAge}`);$+="; Max-Age="+D.maxAge}if(D.domain){if(!n.test(D.domain))throw new TypeError(`option domain is invalid: ${D.domain}`);$+="; Domain="+D.domain}if(D.path){if(!r.test(D.path))throw new TypeError(`option path is invalid: ${D.path}`);$+="; Path="+D.path}if(D.expires){if(!b(D.expires)||!Number.isFinite(D.expires.valueOf()))throw new TypeError(`option expires is invalid: ${D.expires}`);$+="; Expires="+D.expires.toUTCString()}if(D.httpOnly&&($+="; HttpOnly"),D.secure&&($+="; Secure"),D.partitioned&&($+="; Partitioned"),D.priority)switch(typeof D.priority=="string"?D.priority.toLowerCase():void 0){case"low":$+="; Priority=Low";break;case"medium":$+="; Priority=Medium";break;case"high":$+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${D.priority}`)}if(D.sameSite)switch(typeof D.sameSite=="string"?D.sameSite.toLowerCase():D.sameSite){case!0:case"strict":$+="; SameSite=Strict";break;case"lax":$+="; SameSite=Lax";break;case"none":$+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${D.sameSite}`)}return $}function E(A){if(A.indexOf("%")===-1)return A;try{return decodeURIComponent(A)}catch{return A}}function b(A){return l.call(A)==="[object Date]"}return Ho}dS();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Cv="popstate";function fS(s={}){function e(r,l){let{pathname:u,search:h,hash:g}=r.location;return Nm("",{pathname:u,search:h,hash:g},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(r,l){return typeof l=="string"?l:tu(l)}return gS(e,n,null,s)}function at(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function Xn(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function mS(){return Math.random().toString(36).substring(2,10)}function Iv(s,e){return{usr:s.state,key:s.key,idx:e}}function Nm(s,e,n=null,r){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?Tl(e):e,state:n,key:e&&e.key||r||mS()}}function tu({pathname:s="/",search:e="",hash:n=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(s+=n.charAt(0)==="#"?n:"#"+n),s}function Tl(s){let e={};if(s){let n=s.indexOf("#");n>=0&&(e.hash=s.substring(n),s=s.substring(0,n));let r=s.indexOf("?");r>=0&&(e.search=s.substring(r),s=s.substring(0,r)),s&&(e.pathname=s)}return e}function gS(s,e,n,r={}){let{window:l=document.defaultView,v5Compat:u=!1}=r,h=l.history,g="POP",p=null,_=E();_==null&&(_=0,h.replaceState({...h.state,idx:_},""));function E(){return(h.state||{idx:null}).idx}function b(){g="POP";let U=E(),$=U==null?null:U-_;_=U,p&&p({action:g,location:F.location,delta:$})}function A(U,$){g="PUSH";let z=Nm(F.location,U,$);_=E()+1;let Q=Iv(z,_),ee=F.createHref(z);try{h.pushState(Q,"",ee)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;l.location.assign(ee)}u&&p&&p({action:g,location:F.location,delta:1})}function C(U,$){g="REPLACE";let z=Nm(F.location,U,$);_=E();let Q=Iv(z,_),ee=F.createHref(z);h.replaceState(Q,"",ee),u&&p&&p({action:g,location:F.location,delta:0})}function D(U){let $=l.location.origin!=="null"?l.location.origin:l.location.href,z=typeof U=="string"?U:tu(U);return z=z.replace(/ $/,"%20"),at($,`No window.location.(origin|href) available to create URL for href: ${z}`),new URL(z,$)}let F={get action(){return g},get location(){return s(l,h)},listen(U){if(p)throw new Error("A history only accepts one active listener");return l.addEventListener(Cv,b),p=U,()=>{l.removeEventListener(Cv,b),p=null}},createHref(U){return e(l,U)},createURL:D,encodeLocation(U){let $=D(U);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:A,replace:C,go(U){return h.go(U)}};return F}function y0(s,e,n="/"){return pS(s,e,n,!1)}function pS(s,e,n,r){let l=typeof e=="string"?Tl(e):e,u=ir(l.pathname||"/",n);if(u==null)return null;let h=v0(s);_S(h);let g=null;for(let p=0;g==null&&p<h.length;++p){let _=NS(u);g=wS(h[p],_,r)}return g}function v0(s,e=[],n=[],r=""){let l=(u,h,g)=>{let p={relativePath:g===void 0?u.path||"":g,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};p.relativePath.startsWith("/")&&(at(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length));let _=sa([r,p.relativePath]),E=n.concat(p);u.children&&u.children.length>0&&(at(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),v0(u.children,e,E,_)),!(u.path==null&&!u.index)&&e.push({path:_,score:AS(_,u.index),routesMeta:E})};return s.forEach((u,h)=>{var g;if(u.path===""||!((g=u.path)!=null&&g.includes("?")))l(u,h);else for(let p of x0(u.path))l(u,h,p)}),e}function x0(s){let e=s.split("/");if(e.length===0)return[];let[n,...r]=e,l=n.endsWith("?"),u=n.replace(/\?$/,"");if(r.length===0)return l?[u,""]:[u];let h=x0(r.join("/")),g=[];return g.push(...h.map(p=>p===""?u:[u,p].join("/"))),l&&g.push(...h),g.map(p=>s.startsWith("/")&&p===""?"/":p)}function _S(s){s.sort((e,n)=>e.score!==n.score?n.score-e.score:SS(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var yS=/^:[\w-]+$/,vS=3,xS=2,ES=1,TS=10,bS=-2,jv=s=>s==="*";function AS(s,e){let n=s.split("/"),r=n.length;return n.some(jv)&&(r+=bS),e&&(r+=xS),n.filter(l=>!jv(l)).reduce((l,u)=>l+(yS.test(u)?vS:u===""?ES:TS),r)}function SS(s,e){return s.length===e.length&&s.slice(0,-1).every((r,l)=>r===e[l])?s[s.length-1]-e[e.length-1]:0}function wS(s,e,n=!1){let{routesMeta:r}=s,l={},u="/",h=[];for(let g=0;g<r.length;++g){let p=r[g],_=g===r.length-1,E=u==="/"?e:e.slice(u.length)||"/",b=gh({path:p.relativePath,caseSensitive:p.caseSensitive,end:_},E),A=p.route;if(!b&&_&&n&&!r[r.length-1].route.index&&(b=gh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!b)return null;Object.assign(l,b.params),h.push({params:l,pathname:sa([u,b.pathname]),pathnameBase:jS(sa([u,b.pathnameBase])),route:A}),b.pathnameBase!=="/"&&(u=sa([u,b.pathnameBase]))}return h}function gh(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[n,r]=RS(s.path,s.caseSensitive,s.end),l=e.match(n);if(!l)return null;let u=l[0],h=u.replace(/(.)\/+$/,"$1"),g=l.slice(1);return{params:r.reduce((_,{paramName:E,isOptional:b},A)=>{if(E==="*"){let D=g[A]||"";h=u.slice(0,u.length-D.length).replace(/(.)\/+$/,"$1")}const C=g[A];return b&&!C?_[E]=void 0:_[E]=(C||"").replace(/%2F/g,"/"),_},{}),pathname:u,pathnameBase:h,pattern:s}}function RS(s,e=!1,n=!0){Xn(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let r=[],l="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,g,p)=>(r.push({paramName:g,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(r.push({paramName:"*"}),l+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":s!==""&&s!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),r]}function NS(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Xn(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function ir(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=s.charAt(n);return r&&r!=="/"?null:s.slice(n)||"/"}function kS(s,e="/"){let{pathname:n,search:r="",hash:l=""}=typeof s=="string"?Tl(s):s;return{pathname:n?n.startsWith("/")?n:CS(n,e):e,search:DS(r),hash:OS(l)}}function CS(s,e){let n=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function fm(s,e,n,r){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function IS(s){return s.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ig(s){let e=IS(s);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function lg(s,e,n,r=!1){let l;typeof s=="string"?l=Tl(s):(l={...s},at(!l.pathname||!l.pathname.includes("?"),fm("?","pathname","search",l)),at(!l.pathname||!l.pathname.includes("#"),fm("#","pathname","hash",l)),at(!l.search||!l.search.includes("#"),fm("#","search","hash",l)));let u=s===""||l.pathname==="",h=u?"/":l.pathname,g;if(h==null)g=n;else{let b=e.length-1;if(!r&&h.startsWith("..")){let A=h.split("/");for(;A[0]==="..";)A.shift(),b-=1;l.pathname=A.join("/")}g=b>=0?e[b]:"/"}let p=kS(l,g),_=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(_||E)&&(p.pathname+="/"),p}var sa=s=>s.join("/").replace(/\/\/+/g,"/"),jS=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),DS=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,OS=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function MS(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var E0=["POST","PUT","PATCH","DELETE"];new Set(E0);var LS=["GET",...E0];new Set(LS);var bl=L.createContext(null);bl.displayName="DataRouter";var Mh=L.createContext(null);Mh.displayName="DataRouterState";var T0=L.createContext({isTransitioning:!1});T0.displayName="ViewTransition";var VS=L.createContext(new Map);VS.displayName="Fetchers";var PS=L.createContext(null);PS.displayName="Await";var ts=L.createContext(null);ts.displayName="Navigation";var hu=L.createContext(null);hu.displayName="Location";var ns=L.createContext({outlet:null,matches:[],isDataRoute:!1});ns.displayName="Route";var og=L.createContext(null);og.displayName="RouteError";function US(s,{relative:e}={}){at(Al(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=L.useContext(ts),{hash:l,pathname:u,search:h}=du(s,{relative:e}),g=u;return n!=="/"&&(g=u==="/"?n:sa([n,u])),r.createHref({pathname:g,search:h,hash:l})}function Al(){return L.useContext(hu)!=null}function gr(){return at(Al(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(hu).location}var b0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function A0(s){L.useContext(ts).static||L.useLayoutEffect(s)}function Sl(){let{isDataRoute:s}=L.useContext(ns);return s?JS():HS()}function HS(){at(Al(),"useNavigate() may be used only in the context of a <Router> component.");let s=L.useContext(bl),{basename:e,navigator:n}=L.useContext(ts),{matches:r}=L.useContext(ns),{pathname:l}=gr(),u=JSON.stringify(ig(r)),h=L.useRef(!1);return A0(()=>{h.current=!0}),L.useCallback((p,_={})=>{if(Xn(h.current,b0),!h.current)return;if(typeof p=="number"){n.go(p);return}let E=lg(p,JSON.parse(u),l,_.relative==="path");s==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:sa([e,E.pathname])),(_.replace?n.replace:n.push)(E,_.state,_)},[e,n,u,l,s])}L.createContext(null);function BS(){let{matches:s}=L.useContext(ns),e=s[s.length-1];return e?e.params:{}}function du(s,{relative:e}={}){let{matches:n}=L.useContext(ns),{pathname:r}=gr(),l=JSON.stringify(ig(n));return L.useMemo(()=>lg(s,JSON.parse(l),r,e==="path"),[s,l,r,e])}function zS(s,e){return S0(s,e)}function S0(s,e,n,r){var z;at(Al(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l,static:u}=L.useContext(ts),{matches:h}=L.useContext(ns),g=h[h.length-1],p=g?g.params:{},_=g?g.pathname:"/",E=g?g.pathnameBase:"/",b=g&&g.route;{let Q=b&&b.path||"";w0(_,!b||Q.endsWith("*")||Q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${_}" (under <Route path="${Q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Q}"> to <Route path="${Q==="/"?"*":`${Q}/*`}">.`)}let A=gr(),C;if(e){let Q=typeof e=="string"?Tl(e):e;at(E==="/"||((z=Q.pathname)==null?void 0:z.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${Q.pathname}" was given in the \`location\` prop.`),C=Q}else C=A;let D=C.pathname||"/",F=D;if(E!=="/"){let Q=E.replace(/^\//,"").split("/");F="/"+D.replace(/^\//,"").split("/").slice(Q.length).join("/")}let U=!u&&n&&n.matches&&n.matches.length>0?n.matches:y0(s,{pathname:F});Xn(b||U!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),Xn(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let $=$S(U&&U.map(Q=>Object.assign({},Q,{params:Object.assign({},p,Q.params),pathname:sa([E,l.encodeLocation?l.encodeLocation(Q.pathname).pathname:Q.pathname]),pathnameBase:Q.pathnameBase==="/"?E:sa([E,l.encodeLocation?l.encodeLocation(Q.pathnameBase).pathname:Q.pathnameBase])})),h,n,r);return e&&$?L.createElement(hu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},$):$}function KS(){let s=ZS(),e=MS(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),n=s instanceof Error?s.stack:null,r="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r},h=null;return console.error("Error handled by React Router default ErrorBoundary:",s),h=L.createElement(L.Fragment,null,L.createElement("p",null,"💿 Hey developer 👋"),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:u},"ErrorBoundary")," or"," ",L.createElement("code",{style:u},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),n?L.createElement("pre",{style:l},n):null,h)}var qS=L.createElement(KS,null),FS=class extends L.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){console.error("React Router caught the following error during render",s,e)}render(){return this.state.error!==void 0?L.createElement(ns.Provider,{value:this.props.routeContext},L.createElement(og.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function GS({routeContext:s,match:e,children:n}){let r=L.useContext(bl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(ns.Provider,{value:s},n)}function $S(s,e=[],n=null,r=null){if(s==null){if(!n)return null;if(n.errors)s=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)s=n.matches;else return null}let l=s,u=n==null?void 0:n.errors;if(u!=null){let p=l.findIndex(_=>_.route.id&&(u==null?void 0:u[_.route.id])!==void 0);at(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,p+1))}let h=!1,g=-1;if(n)for(let p=0;p<l.length;p++){let _=l[p];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(g=p),_.route.id){let{loaderData:E,errors:b}=n,A=_.route.loader&&!E.hasOwnProperty(_.route.id)&&(!b||b[_.route.id]===void 0);if(_.route.lazy||A){h=!0,g>=0?l=l.slice(0,g+1):l=[l[0]];break}}}return l.reduceRight((p,_,E)=>{let b,A=!1,C=null,D=null;n&&(b=u&&_.route.id?u[_.route.id]:void 0,C=_.route.errorElement||qS,h&&(g<0&&E===0?(w0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,D=null):g===E&&(A=!0,D=_.route.hydrateFallbackElement||null)));let F=e.concat(l.slice(0,E+1)),U=()=>{let $;return b?$=C:A?$=D:_.route.Component?$=L.createElement(_.route.Component,null):_.route.element?$=_.route.element:$=p,L.createElement(GS,{match:_,routeContext:{outlet:p,matches:F,isDataRoute:n!=null},children:$})};return n&&(_.route.ErrorBoundary||_.route.errorElement||E===0)?L.createElement(FS,{location:n.location,revalidation:n.revalidation,component:C,error:b,children:U(),routeContext:{outlet:null,matches:F,isDataRoute:!0}}):U()},null)}function ug(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function QS(s){let e=L.useContext(bl);return at(e,ug(s)),e}function WS(s){let e=L.useContext(Mh);return at(e,ug(s)),e}function YS(s){let e=L.useContext(ns);return at(e,ug(s)),e}function cg(s){let e=YS(s),n=e.matches[e.matches.length-1];return at(n.route.id,`${s} can only be used on routes that contain a unique "id"`),n.route.id}function XS(){return cg("useRouteId")}function ZS(){var r;let s=L.useContext(og),e=WS("useRouteError"),n=cg("useRouteError");return s!==void 0?s:(r=e.errors)==null?void 0:r[n]}function JS(){let{router:s}=QS("useNavigate"),e=cg("useNavigate"),n=L.useRef(!1);return A0(()=>{n.current=!0}),L.useCallback(async(l,u={})=>{Xn(n.current,b0),n.current&&(typeof l=="number"?s.navigate(l):await s.navigate(l,{fromRouteId:e,...u}))},[s,e])}var Dv={};function w0(s,e,n){!e&&!Dv[s]&&(Dv[s]=!0,Xn(!1,n))}L.memo(ew);function ew({routes:s,future:e,state:n}){return S0(s,void 0,n,e)}function Ov({to:s,replace:e,state:n,relative:r}){at(Al(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=L.useContext(ts);Xn(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=L.useContext(ns),{pathname:h}=gr(),g=Sl(),p=lg(s,ig(u),h,r==="path"),_=JSON.stringify(p);return L.useEffect(()=>{g(JSON.parse(_),{replace:e,state:n,relative:r})},[g,_,r,e,n]),null}function bt(s){at(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function tw({basename:s="/",children:e=null,location:n,navigationType:r="POP",navigator:l,static:u=!1}){at(!Al(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=s.replace(/^\/*/,"/"),g=L.useMemo(()=>({basename:h,navigator:l,static:u,future:{}}),[h,l,u]);typeof n=="string"&&(n=Tl(n));let{pathname:p="/",search:_="",hash:E="",state:b=null,key:A="default"}=n,C=L.useMemo(()=>{let D=ir(p,h);return D==null?null:{location:{pathname:D,search:_,hash:E,state:b,key:A},navigationType:r}},[h,p,_,E,b,A,r]);return Xn(C!=null,`<Router basename="${h}"> is not able to match the URL "${p}${_}${E}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:L.createElement(ts.Provider,{value:g},L.createElement(hu.Provider,{children:e,value:C}))}function nw({children:s,location:e}){return zS(km(s),e)}function km(s,e=[]){let n=[];return L.Children.forEach(s,(r,l)=>{if(!L.isValidElement(r))return;let u=[...e,l];if(r.type===L.Fragment){n.push.apply(n,km(r.props.children,u));return}at(r.type===bt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),at(!r.props.index||!r.props.children,"An index route cannot have child routes.");let h={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(h.children=km(r.props.children,u)),n.push(h)}),n}var nh="get",sh="application/x-www-form-urlencoded";function Lh(s){return s!=null&&typeof s.tagName=="string"}function sw(s){return Lh(s)&&s.tagName.toLowerCase()==="button"}function aw(s){return Lh(s)&&s.tagName.toLowerCase()==="form"}function rw(s){return Lh(s)&&s.tagName.toLowerCase()==="input"}function iw(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function lw(s,e){return s.button===0&&(!e||e==="_self")&&!iw(s)}var Gc=null;function ow(){if(Gc===null)try{new FormData(document.createElement("form"),0),Gc=!1}catch{Gc=!0}return Gc}var uw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function mm(s){return s!=null&&!uw.has(s)?(Xn(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${sh}"`),null):s}function cw(s,e){let n,r,l,u,h;if(aw(s)){let g=s.getAttribute("action");r=g?ir(g,e):null,n=s.getAttribute("method")||nh,l=mm(s.getAttribute("enctype"))||sh,u=new FormData(s)}else if(sw(s)||rw(s)&&(s.type==="submit"||s.type==="image")){let g=s.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=s.getAttribute("formaction")||g.getAttribute("action");if(r=p?ir(p,e):null,n=s.getAttribute("formmethod")||g.getAttribute("method")||nh,l=mm(s.getAttribute("formenctype"))||mm(g.getAttribute("enctype"))||sh,u=new FormData(g,s),!ow()){let{name:_,type:E,value:b}=s;if(E==="image"){let A=_?`${_}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else _&&u.append(_,b)}}else{if(Lh(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=nh,r=null,l=sh,h=s}return u&&l==="text/plain"&&(h=u,u=void 0),{action:r,method:n.toLowerCase(),encType:l,formData:u,body:h}}function hg(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}async function hw(s,e){if(s.id in e)return e[s.id];try{let n=await import(s.module);return e[s.id]=n,n}catch(n){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function dw(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function fw(s,e,n){let r=await Promise.all(s.map(async l=>{let u=e.routes[l.route.id];if(u){let h=await hw(u,n);return h.links?h.links():[]}return[]}));return _w(r.flat(1).filter(dw).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function Mv(s,e,n,r,l,u){let h=(p,_)=>n[_]?p.route.id!==n[_].route.id:!0,g=(p,_)=>{var E;return n[_].pathname!==p.pathname||((E=n[_].route.path)==null?void 0:E.endsWith("*"))&&n[_].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,_)=>h(p,_)||g(p,_)):u==="data"?e.filter((p,_)=>{var b;let E=r.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(h(p,_)||g(p,_))return!0;if(p.route.shouldRevalidate){let A=p.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((b=n[0])==null?void 0:b.params)||{},nextUrl:new URL(s,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function mw(s,e,{includeHydrateFallback:n}={}){return gw(s.map(r=>{let l=e.routes[r.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function gw(s){return[...new Set(s)]}function pw(s){let e={},n=Object.keys(s).sort();for(let r of n)e[r]=s[r];return e}function _w(s,e){let n=new Set;return new Set(e),s.reduce((r,l)=>{let u=JSON.stringify(pw(l));return n.has(u)||(n.add(u),r.push({key:u,link:l})),r},[])}function yw(s){let e=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function vw(){let s=L.useContext(bl);return hg(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function xw(){let s=L.useContext(Mh);return hg(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var dg=L.createContext(void 0);dg.displayName="FrameworkContext";function R0(){let s=L.useContext(dg);return hg(s,"You must render this element inside a <HydratedRouter> element"),s}function Ew(s,e){let n=L.useContext(dg),[r,l]=L.useState(!1),[u,h]=L.useState(!1),{onFocus:g,onBlur:p,onMouseEnter:_,onMouseLeave:E,onTouchStart:b}=e,A=L.useRef(null);L.useEffect(()=>{if(s==="render"&&h(!0),s==="viewport"){let F=$=>{$.forEach(z=>{h(z.isIntersecting)})},U=new IntersectionObserver(F,{threshold:.5});return A.current&&U.observe(A.current),()=>{U.disconnect()}}},[s]),L.useEffect(()=>{if(r){let F=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(F)}}},[r]);let C=()=>{l(!0)},D=()=>{l(!1),h(!1)};return n?s!=="intent"?[u,A,{}]:[u,A,{onFocus:Bo(g,C),onBlur:Bo(p,D),onMouseEnter:Bo(_,C),onMouseLeave:Bo(E,D),onTouchStart:Bo(b,C)}]:[!1,A,{}]}function Bo(s,e){return n=>{s&&s(n),n.defaultPrevented||e(n)}}function Tw({page:s,...e}){let{router:n}=vw(),r=L.useMemo(()=>y0(n.routes,s,n.basename),[n.routes,s,n.basename]);return r?L.createElement(Aw,{page:s,matches:r,...e}):null}function bw(s){let{manifest:e,routeModules:n}=R0(),[r,l]=L.useState([]);return L.useEffect(()=>{let u=!1;return fw(s,e,n).then(h=>{u||l(h)}),()=>{u=!0}},[s,e,n]),r}function Aw({page:s,matches:e,...n}){let r=gr(),{manifest:l,routeModules:u}=R0(),{loaderData:h,matches:g}=xw(),p=L.useMemo(()=>Mv(s,e,g,l,r,"data"),[s,e,g,l,r]),_=L.useMemo(()=>Mv(s,e,g,l,r,"assets"),[s,e,g,l,r]),E=L.useMemo(()=>{if(s===r.pathname+r.search+r.hash)return[];let C=new Set,D=!1;if(e.forEach(U=>{var z;let $=l.routes[U.route.id];!$||!$.hasLoader||(!p.some(Q=>Q.route.id===U.route.id)&&U.route.id in h&&((z=u[U.route.id])!=null&&z.shouldRevalidate)||$.hasClientLoader?D=!0:C.add(U.route.id))}),C.size===0)return[];let F=yw(s);return D&&C.size>0&&F.searchParams.set("_routes",e.filter(U=>C.has(U.route.id)).map(U=>U.route.id).join(",")),[F.pathname+F.search]},[h,r,l,p,e,s,u]),b=L.useMemo(()=>mw(_,l),[_,l]),A=bw(_);return L.createElement(L.Fragment,null,E.map(C=>L.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...n})),b.map(C=>L.createElement("link",{key:C,rel:"modulepreload",href:C,...n})),A.map(({key:C,link:D})=>L.createElement("link",{key:C,...D})))}function Sw(...s){return e=>{s.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var N0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{N0&&(window.__reactRouterVersion="7.2.0")}catch{}function ww({basename:s,children:e,window:n}){let r=L.useRef();r.current==null&&(r.current=fS({window:n,v5Compat:!0}));let l=r.current,[u,h]=L.useState({action:l.action,location:l.location}),g=L.useCallback(p=>{L.startTransition(()=>h(p))},[h]);return L.useLayoutEffect(()=>l.listen(g),[l,g]),L.createElement(tw,{basename:s,children:e,location:u.location,navigationType:u.action,navigator:l})}var k0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$e=L.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:l,reloadDocument:u,replace:h,state:g,target:p,to:_,preventScrollReset:E,viewTransition:b,...A},C){let{basename:D}=L.useContext(ts),F=typeof _=="string"&&k0.test(_),U,$=!1;if(typeof _=="string"&&F&&(U=_,N0))try{let S=new URL(window.location.href),I=_.startsWith("//")?new URL(S.protocol+_):new URL(_),k=ir(I.pathname,D);I.origin===S.origin&&k!=null?_=k+I.search+I.hash:$=!0}catch{Xn(!1,`<Link to="${_}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let z=US(_,{relative:l}),[Q,ee,J]=Ew(r,A),ie=Cw(_,{replace:h,state:g,target:p,preventScrollReset:E,relative:l,viewTransition:b});function O(S){e&&e(S),S.defaultPrevented||ie(S)}let R=L.createElement("a",{...A,...J,href:U||z,onClick:$||u?e:O,ref:Sw(C,ee),target:p,"data-discover":!F&&n==="render"?"true":void 0});return Q&&!F?L.createElement(L.Fragment,null,R,L.createElement(Tw,{page:z})):R});$e.displayName="Link";var Rw=L.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:l=!1,style:u,to:h,viewTransition:g,children:p,..._},E){let b=du(h,{relative:_.relative}),A=gr(),C=L.useContext(Mh),{navigator:D,basename:F}=L.useContext(ts),U=C!=null&&Mw(b)&&g===!0,$=D.encodeLocation?D.encodeLocation(b).pathname:b.pathname,z=A.pathname,Q=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;n||(z=z.toLowerCase(),Q=Q?Q.toLowerCase():null,$=$.toLowerCase()),Q&&F&&(Q=ir(Q,F)||Q);const ee=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let J=z===$||!l&&z.startsWith($)&&z.charAt(ee)==="/",ie=Q!=null&&(Q===$||!l&&Q.startsWith($)&&Q.charAt($.length)==="/"),O={isActive:J,isPending:ie,isTransitioning:U},R=J?e:void 0,S;typeof r=="function"?S=r(O):S=[r,J?"active":null,ie?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let I=typeof u=="function"?u(O):u;return L.createElement($e,{..._,"aria-current":R,className:S,ref:E,style:I,to:h,viewTransition:g},typeof p=="function"?p(O):p)});Rw.displayName="NavLink";var Nw=L.forwardRef(({discover:s="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:l,state:u,method:h=nh,action:g,onSubmit:p,relative:_,preventScrollReset:E,viewTransition:b,...A},C)=>{let D=Dw(),F=Ow(g,{relative:_}),U=h.toLowerCase()==="get"?"get":"post",$=typeof g=="string"&&k0.test(g),z=Q=>{if(p&&p(Q),Q.defaultPrevented)return;Q.preventDefault();let ee=Q.nativeEvent.submitter,J=(ee==null?void 0:ee.getAttribute("formmethod"))||h;D(ee||Q.currentTarget,{fetcherKey:e,method:J,navigate:n,replace:l,state:u,relative:_,preventScrollReset:E,viewTransition:b})};return L.createElement("form",{ref:C,method:U,action:F,onSubmit:r?p:z,...A,"data-discover":!$&&s==="render"?"true":void 0})});Nw.displayName="Form";function kw(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function C0(s){let e=L.useContext(bl);return at(e,kw(s)),e}function Cw(s,{target:e,replace:n,state:r,preventScrollReset:l,relative:u,viewTransition:h}={}){let g=Sl(),p=gr(),_=du(s,{relative:u});return L.useCallback(E=>{if(lw(E,e)){E.preventDefault();let b=n!==void 0?n:tu(p)===tu(_);g(s,{replace:b,state:r,preventScrollReset:l,relative:u,viewTransition:h})}},[p,g,_,n,r,e,s,l,u,h])}var Iw=0,jw=()=>`__${String(++Iw)}__`;function Dw(){let{router:s}=C0("useSubmit"),{basename:e}=L.useContext(ts),n=XS();return L.useCallback(async(r,l={})=>{let{action:u,method:h,encType:g,formData:p,body:_}=cw(r,e);if(l.navigate===!1){let E=l.fetcherKey||jw();await s.fetch(E,n,l.action||u,{preventScrollReset:l.preventScrollReset,formData:p,body:_,formMethod:l.method||h,formEncType:l.encType||g,flushSync:l.flushSync})}else await s.navigate(l.action||u,{preventScrollReset:l.preventScrollReset,formData:p,body:_,formMethod:l.method||h,formEncType:l.encType||g,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[s,e,n])}function Ow(s,{relative:e}={}){let{basename:n}=L.useContext(ts),r=L.useContext(ns);at(r,"useFormAction must be used inside a RouteContext");let[l]=r.matches.slice(-1),u={...du(s||".",{relative:e})},h=gr();if(s==null){u.search=h.search;let g=new URLSearchParams(u.search),p=g.getAll("index");if(p.some(E=>E==="")){g.delete("index"),p.filter(b=>b).forEach(b=>g.append("index",b));let E=g.toString();u.search=E?`?${E}`:""}}return(!s||s===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:sa([n,u.pathname])),tu(u)}function Mw(s,e={}){let n=L.useContext(T0);at(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=C0("useViewTransitionState"),l=du(s,{relative:e.relative});if(!n.isTransitioning)return!1;let u=ir(n.currentLocation.pathname,r)||n.currentLocation.pathname,h=ir(n.nextLocation.pathname,r)||n.nextLocation.pathname;return gh(l.pathname,h)!=null||gh(l.pathname,u)!=null}new TextEncoder;document.addEventListener("DOMContentLoaded",function(){const s=["/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg","/AimRV/images/EE-AIMChallenge24-Uhamn-0171-high.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_113.jpg","/AimRV/images/AIM_lindvallen_2024_AnkiGrothe_highres_125.jpg"];function e(){const n=document.querySelectorAll(".dynamic-background");if(n.length===0){setTimeout(e,100);return}let r=s;try{const l=JSON.parse(localStorage.getItem("aimrv-background-images"));l&&Array.isArray(l)&&l.length>0&&(r=l)}catch(l){console.error("Error loading custom background images:",l)}n.forEach(function(l){let u=0;l.style.backgroundImage=`url(${r[u]})`,l.style.backgroundSize="cover",l.style.backgroundPosition="center",l.style.backgroundRepeat="no-repeat";const h=document.createElement("div");h.className="background-overlay",h.style.position="absolute",h.style.top="0",h.style.left="0",h.style.width="100%",h.style.height="100%",h.style.backgroundSize="cover",h.style.backgroundPosition="center",h.style.opacity="0",h.style.transition="opacity 2s ease-in-out",h.style.zIndex="1",getComputedStyle(l).position==="static"&&(l.style.position="relative"),Array.from(l.children).forEach(p=>{p!==h&&(p.style.zIndex===""||parseInt(p.style.zIndex)<10)&&(p.style.position="relative",p.style.zIndex="10")}),l.appendChild(h);function g(){const p=(u+1)%r.length;h.style.backgroundImage=`url(${r[p]})`,h.style.opacity="1",setTimeout(()=>{l.style.backgroundImage=`url(${r[p]})`,h.style.opacity="0",u=p},2e3)}setInterval(g,5e3)}),window.addEventListener("storage",function(l){if(l.key==="aimrv-background-images")try{const u=JSON.parse(l.newValue);u&&Array.isArray(u)&&u.length>0&&(r=u)}catch(u){console.error("Error updating background images:",u)}})}e()});const Lw=()=>{};var Lv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0=function(s){const e=[];let n=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},Vw=function(s){const e=[];let n=0,r=0;for(;n<s.length;){const l=s[n++];if(l<128)e[r++]=String.fromCharCode(l);else if(l>191&&l<224){const u=s[n++];e[r++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=s[n++],h=s[n++],g=s[n++],p=((l&7)<<18|(u&63)<<12|(h&63)<<6|g&63)-65536;e[r++]=String.fromCharCode(55296+(p>>10)),e[r++]=String.fromCharCode(56320+(p&1023))}else{const u=s[n++],h=s[n++];e[r++]=String.fromCharCode((l&15)<<12|(u&63)<<6|h&63)}}return e.join("")},j0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const u=s[l],h=l+1<s.length,g=h?s[l+1]:0,p=l+2<s.length,_=p?s[l+2]:0,E=u>>2,b=(u&3)<<4|g>>4;let A=(g&15)<<2|_>>6,C=_&63;p||(C=64,h||(A=64)),r.push(n[E],n[b],n[A],n[C])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(I0(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):Vw(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const u=n[s.charAt(l++)],g=l<s.length?n[s.charAt(l)]:0;++l;const _=l<s.length?n[s.charAt(l)]:64;++l;const b=l<s.length?n[s.charAt(l)]:64;if(++l,u==null||g==null||_==null||b==null)throw new Pw;const A=u<<2|g>>4;if(r.push(A),_!==64){const C=g<<4&240|_>>2;if(r.push(C),b!==64){const D=_<<6&192|b;r.push(D)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class Pw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Uw=function(s){const e=I0(s);return j0.encodeByteArray(e,!0)},ph=function(s){return Uw(s).replace(/\./g,"")},D0=function(s){try{return j0.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw=()=>Hw().__FIREBASE_DEFAULTS__,zw=()=>{if(typeof process>"u"||typeof Lv>"u")return;const s=Lv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},Kw=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&D0(s[1]);return e&&JSON.parse(e)},Vh=()=>{try{return Lw()||Bw()||zw()||Kw()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},O0=s=>{var e,n;return(n=(e=Vh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[s]},M0=s=>{const e=O0(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},L0=()=>{var s;return(s=Vh())===null||s===void 0?void 0:s.config},V0=s=>{var e;return(e=Vh())===null||e===void 0?void 0:e[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P0(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",l=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},s);return[ph(JSON.stringify(n)),ph(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Fw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function Gw(){var s;const e=(s=Vh())===null||s===void 0?void 0:s.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $w(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Qw(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function Ww(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Yw(){const s=tn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function Xw(){return!Gw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Zw(){try{return typeof indexedDB=="object"}catch{return!1}}function Jw(){return new Promise((s,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var u;e(((u=l.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR="FirebaseError";class ws extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=eR,Object.setPrototypeOf(this,ws.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fu.prototype.create)}}class fu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},l=`${this.service}/${e}`,u=this.errors[e],h=u?tR(u,r):"Error",g=`${this.serviceName}: ${h} (${l}).`;return new ws(l,g,r)}}function tR(s,e){return s.replace(nR,(n,r)=>{const l=e[r];return l!=null?String(l):`<${r}?>`})}const nR=/\{\$([^}]+)}/g;function sR(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function ni(s,e){if(s===e)return!0;const n=Object.keys(s),r=Object.keys(e);for(const l of n){if(!r.includes(l))return!1;const u=s[l],h=e[l];if(Vv(u)&&Vv(h)){if(!ni(u,h))return!1}else if(u!==h)return!1}for(const l of r)if(!n.includes(l))return!1;return!0}function Vv(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mu(s){const e=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ko(s){const e={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[l,u]=r.split("=");e[decodeURIComponent(l)]=decodeURIComponent(u)}}),e}function qo(s){const e=s.indexOf("?");if(!e)return"";const n=s.indexOf("#",e);return s.substring(e,n>0?n:void 0)}function aR(s,e){const n=new rR(s,e);return n.subscribe.bind(n)}class rR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let l;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");iR(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:r},l.next===void 0&&(l.next=gm),l.error===void 0&&(l.error=gm),l.complete===void 0&&(l.complete=gm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function iR(s,e){if(typeof s!="object"||s===null)return!1;for(const n of e)if(n in s&&typeof s[n]=="function")return!0;return!1}function gm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function st(s){return s&&s._delegate?s._delegate:s}class lr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new qw;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),l=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(u){if(l)return null;throw u}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(uR(e))try{this.getOrInitializeService({instanceIdentifier:Jr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:l});r.resolve(u)}catch{}}}}clearInstance(e=Jr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Jr){return this.instances.has(e)}getOptions(e=Jr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,h]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(u);r===g&&h.resolve(l)}return l}onInit(e,n){var r;const l=this.normalizeInstanceIdentifier(n),u=(r=this.onInitCallbacks.get(l))!==null&&r!==void 0?r:new Set;u.add(e),this.onInitCallbacks.set(l,u);const h=this.instances.get(l);return h&&e(h,l),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const l of r)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:oR(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Jr){return this.component?this.component.multipleInstances?e:Jr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function oR(s){return s===Jr?void 0:s}function uR(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new lR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Oe||(Oe={}));const hR={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},dR=Oe.INFO,fR={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},mR=(s,e,...n)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),l=fR[e];if(l)console[l](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class fg{constructor(e){this.name=e,this._logLevel=dR,this._logHandler=mR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const gR=(s,e)=>e.some(n=>s instanceof n);let Pv,Uv;function pR(){return Pv||(Pv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _R(){return Uv||(Uv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const U0=new WeakMap,Cm=new WeakMap,H0=new WeakMap,pm=new WeakMap,mg=new WeakMap;function yR(s){const e=new Promise((n,r)=>{const l=()=>{s.removeEventListener("success",u),s.removeEventListener("error",h)},u=()=>{n(nr(s.result)),l()},h=()=>{r(s.error),l()};s.addEventListener("success",u),s.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&U0.set(n,s)}).catch(()=>{}),mg.set(e,s),e}function vR(s){if(Cm.has(s))return;const e=new Promise((n,r)=>{const l=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",h),s.removeEventListener("abort",h)},u=()=>{n(),l()},h=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",u),s.addEventListener("error",h),s.addEventListener("abort",h)});Cm.set(s,e)}let Im={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return Cm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||H0.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return nr(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function xR(s){Im=s(Im)}function ER(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=s.call(_m(this),e,...n);return H0.set(r,e.sort?e.sort():[e]),nr(r)}:_R().includes(s)?function(...e){return s.apply(_m(this),e),nr(U0.get(this))}:function(...e){return nr(s.apply(_m(this),e))}}function TR(s){return typeof s=="function"?ER(s):(s instanceof IDBTransaction&&vR(s),gR(s,pR())?new Proxy(s,Im):s)}function nr(s){if(s instanceof IDBRequest)return yR(s);if(pm.has(s))return pm.get(s);const e=TR(s);return e!==s&&(pm.set(s,e),mg.set(e,s)),e}const _m=s=>mg.get(s);function bR(s,e,{blocked:n,upgrade:r,blocking:l,terminated:u}={}){const h=indexedDB.open(s,e),g=nr(h);return r&&h.addEventListener("upgradeneeded",p=>{r(nr(h.result),p.oldVersion,p.newVersion,nr(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),g.then(p=>{u&&p.addEventListener("close",()=>u()),l&&p.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const AR=["get","getKey","getAll","getAllKeys","count"],SR=["put","add","delete","clear"],ym=new Map;function Hv(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(ym.get(e))return ym.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,l=SR.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(l||AR.includes(n)))return;const u=async function(h,...g){const p=this.transaction(h,l?"readwrite":"readonly");let _=p.store;return r&&(_=_.index(g.shift())),(await Promise.all([_[n](...g),l&&p.done]))[0]};return ym.set(e,u),u}xR(s=>({...s,get:(e,n,r)=>Hv(e,n)||s.get(e,n,r),has:(e,n)=>!!Hv(e,n)||s.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(RR(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function RR(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const jm="@firebase/app",Bv="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia=new fg("@firebase/app"),NR="@firebase/app-compat",kR="@firebase/analytics-compat",CR="@firebase/analytics",IR="@firebase/app-check-compat",jR="@firebase/app-check",DR="@firebase/auth",OR="@firebase/auth-compat",MR="@firebase/database",LR="@firebase/data-connect",VR="@firebase/database-compat",PR="@firebase/functions",UR="@firebase/functions-compat",HR="@firebase/installations",BR="@firebase/installations-compat",zR="@firebase/messaging",KR="@firebase/messaging-compat",qR="@firebase/performance",FR="@firebase/performance-compat",GR="@firebase/remote-config",$R="@firebase/remote-config-compat",QR="@firebase/storage",WR="@firebase/storage-compat",YR="@firebase/firestore",XR="@firebase/vertexai",ZR="@firebase/firestore-compat",JR="firebase",eN="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm="[DEFAULT]",tN={[jm]:"fire-core",[NR]:"fire-core-compat",[CR]:"fire-analytics",[kR]:"fire-analytics-compat",[jR]:"fire-app-check",[IR]:"fire-app-check-compat",[DR]:"fire-auth",[OR]:"fire-auth-compat",[MR]:"fire-rtdb",[LR]:"fire-data-connect",[VR]:"fire-rtdb-compat",[PR]:"fire-fn",[UR]:"fire-fn-compat",[HR]:"fire-iid",[BR]:"fire-iid-compat",[zR]:"fire-fcm",[KR]:"fire-fcm-compat",[qR]:"fire-perf",[FR]:"fire-perf-compat",[GR]:"fire-rc",[$R]:"fire-rc-compat",[QR]:"fire-gcs",[WR]:"fire-gcs-compat",[YR]:"fire-fst",[ZR]:"fire-fst-compat",[XR]:"fire-vertex","fire-js":"fire-js",[JR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _h=new Map,nN=new Map,Om=new Map;function zv(s,e){try{s.container.addComponent(e)}catch(n){ia.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function si(s){const e=s.name;if(Om.has(e))return ia.debug(`There were multiple attempts to register component ${e}.`),!1;Om.set(e,s);for(const n of _h.values())zv(n,s);for(const n of nN.values())zv(n,s);return!0}function Ph(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function bn(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},sr=new fu("app","Firebase",sN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new lr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw sr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ui=eN;function B0(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Dm,automaticDataCollectionEnabled:!1},e),l=r.name;if(typeof l!="string"||!l)throw sr.create("bad-app-name",{appName:String(l)});if(n||(n=L0()),!n)throw sr.create("no-options");const u=_h.get(l);if(u){if(ni(n,u.options)&&ni(r,u.config))return u;throw sr.create("duplicate-app",{appName:l})}const h=new cR(l);for(const p of Om.values())h.addComponent(p);const g=new aN(n,r,h);return _h.set(l,g),g}function gg(s=Dm){const e=_h.get(s);if(!e&&s===Dm&&L0())return B0();if(!e)throw sr.create("no-app",{appName:s});return e}function xs(s,e,n){var r;let l=(r=tN[s])!==null&&r!==void 0?r:s;n&&(l+=`-${n}`);const u=l.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const g=[`Unable to register library "${l}" with version "${e}":`];u&&g.push(`library name "${l}" contains illegal characters (whitespace or "/")`),u&&h&&g.push("and"),h&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ia.warn(g.join(" "));return}si(new lr(`${l}-version`,()=>({library:l,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN="firebase-heartbeat-database",iN=1,nu="firebase-heartbeat-store";let vm=null;function z0(){return vm||(vm=bR(rN,iN,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(nu)}catch(n){console.warn(n)}}}}).catch(s=>{throw sr.create("idb-open",{originalErrorMessage:s.message})})),vm}async function lN(s){try{const n=(await z0()).transaction(nu),r=await n.objectStore(nu).get(K0(s));return await n.done,r}catch(e){if(e instanceof ws)ia.warn(e.message);else{const n=sr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ia.warn(n.message)}}}async function Kv(s,e){try{const r=(await z0()).transaction(nu,"readwrite");await r.objectStore(nu).put(e,K0(s)),await r.done}catch(n){if(n instanceof ws)ia.warn(n.message);else{const r=sr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ia.warn(r.message)}}}function K0(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN=1024,uN=30;class cN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new dN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=qv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:l}),this._heartbeatsCache.heartbeats.length>uN){const h=fN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ia.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=qv(),{heartbeatsToSend:r,unsentEntries:l}=hN(this._heartbeatsCache.heartbeats),u=ph(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return ia.warn(n),""}}}function qv(){return new Date().toISOString().substring(0,10)}function hN(s,e=oN){const n=[];let r=s.slice();for(const l of s){const u=n.find(h=>h.agent===l.agent);if(u){if(u.dates.push(l.date),Fv(n)>e){u.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),Fv(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class dN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Zw()?Jw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await lN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return Kv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return Kv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...e.heartbeats]})}else return}}function Fv(s){return ph(JSON.stringify({version:2,heartbeats:s})).length}function fN(s){if(s.length===0)return-1;let e=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mN(s){si(new lr("platform-logger",e=>new wR(e),"PRIVATE")),si(new lr("heartbeat",e=>new cN(e),"PRIVATE")),xs(jm,Bv,s),xs(jm,Bv,"esm2017"),xs("fire-js","")}mN("");var gN="firebase",pN="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xs(gN,pN,"app");var Gv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ar,q0;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,R){function S(){}S.prototype=R.prototype,O.D=R.prototype,O.prototype=new S,O.prototype.constructor=O,O.C=function(I,k,V){for(var N=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)N[Ne-2]=arguments[Ne];return R.prototype[k].apply(I,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(O,R,S){S||(S=0);var I=Array(16);if(typeof R=="string")for(var k=0;16>k;++k)I[k]=R.charCodeAt(S++)|R.charCodeAt(S++)<<8|R.charCodeAt(S++)<<16|R.charCodeAt(S++)<<24;else for(k=0;16>k;++k)I[k]=R[S++]|R[S++]<<8|R[S++]<<16|R[S++]<<24;R=O.g[0],S=O.g[1],k=O.g[2];var V=O.g[3],N=R+(V^S&(k^V))+I[0]+3614090360&4294967295;R=S+(N<<7&4294967295|N>>>25),N=V+(k^R&(S^k))+I[1]+3905402710&4294967295,V=R+(N<<12&4294967295|N>>>20),N=k+(S^V&(R^S))+I[2]+606105819&4294967295,k=V+(N<<17&4294967295|N>>>15),N=S+(R^k&(V^R))+I[3]+3250441966&4294967295,S=k+(N<<22&4294967295|N>>>10),N=R+(V^S&(k^V))+I[4]+4118548399&4294967295,R=S+(N<<7&4294967295|N>>>25),N=V+(k^R&(S^k))+I[5]+1200080426&4294967295,V=R+(N<<12&4294967295|N>>>20),N=k+(S^V&(R^S))+I[6]+2821735955&4294967295,k=V+(N<<17&4294967295|N>>>15),N=S+(R^k&(V^R))+I[7]+4249261313&4294967295,S=k+(N<<22&4294967295|N>>>10),N=R+(V^S&(k^V))+I[8]+1770035416&4294967295,R=S+(N<<7&4294967295|N>>>25),N=V+(k^R&(S^k))+I[9]+2336552879&4294967295,V=R+(N<<12&4294967295|N>>>20),N=k+(S^V&(R^S))+I[10]+4294925233&4294967295,k=V+(N<<17&4294967295|N>>>15),N=S+(R^k&(V^R))+I[11]+2304563134&4294967295,S=k+(N<<22&4294967295|N>>>10),N=R+(V^S&(k^V))+I[12]+1804603682&4294967295,R=S+(N<<7&4294967295|N>>>25),N=V+(k^R&(S^k))+I[13]+4254626195&4294967295,V=R+(N<<12&4294967295|N>>>20),N=k+(S^V&(R^S))+I[14]+2792965006&4294967295,k=V+(N<<17&4294967295|N>>>15),N=S+(R^k&(V^R))+I[15]+1236535329&4294967295,S=k+(N<<22&4294967295|N>>>10),N=R+(k^V&(S^k))+I[1]+4129170786&4294967295,R=S+(N<<5&4294967295|N>>>27),N=V+(S^k&(R^S))+I[6]+3225465664&4294967295,V=R+(N<<9&4294967295|N>>>23),N=k+(R^S&(V^R))+I[11]+643717713&4294967295,k=V+(N<<14&4294967295|N>>>18),N=S+(V^R&(k^V))+I[0]+3921069994&4294967295,S=k+(N<<20&4294967295|N>>>12),N=R+(k^V&(S^k))+I[5]+3593408605&4294967295,R=S+(N<<5&4294967295|N>>>27),N=V+(S^k&(R^S))+I[10]+38016083&4294967295,V=R+(N<<9&4294967295|N>>>23),N=k+(R^S&(V^R))+I[15]+3634488961&4294967295,k=V+(N<<14&4294967295|N>>>18),N=S+(V^R&(k^V))+I[4]+3889429448&4294967295,S=k+(N<<20&4294967295|N>>>12),N=R+(k^V&(S^k))+I[9]+568446438&4294967295,R=S+(N<<5&4294967295|N>>>27),N=V+(S^k&(R^S))+I[14]+3275163606&4294967295,V=R+(N<<9&4294967295|N>>>23),N=k+(R^S&(V^R))+I[3]+4107603335&4294967295,k=V+(N<<14&4294967295|N>>>18),N=S+(V^R&(k^V))+I[8]+1163531501&4294967295,S=k+(N<<20&4294967295|N>>>12),N=R+(k^V&(S^k))+I[13]+2850285829&4294967295,R=S+(N<<5&4294967295|N>>>27),N=V+(S^k&(R^S))+I[2]+4243563512&4294967295,V=R+(N<<9&4294967295|N>>>23),N=k+(R^S&(V^R))+I[7]+1735328473&4294967295,k=V+(N<<14&4294967295|N>>>18),N=S+(V^R&(k^V))+I[12]+2368359562&4294967295,S=k+(N<<20&4294967295|N>>>12),N=R+(S^k^V)+I[5]+4294588738&4294967295,R=S+(N<<4&4294967295|N>>>28),N=V+(R^S^k)+I[8]+2272392833&4294967295,V=R+(N<<11&4294967295|N>>>21),N=k+(V^R^S)+I[11]+1839030562&4294967295,k=V+(N<<16&4294967295|N>>>16),N=S+(k^V^R)+I[14]+4259657740&4294967295,S=k+(N<<23&4294967295|N>>>9),N=R+(S^k^V)+I[1]+2763975236&4294967295,R=S+(N<<4&4294967295|N>>>28),N=V+(R^S^k)+I[4]+1272893353&4294967295,V=R+(N<<11&4294967295|N>>>21),N=k+(V^R^S)+I[7]+4139469664&4294967295,k=V+(N<<16&4294967295|N>>>16),N=S+(k^V^R)+I[10]+3200236656&4294967295,S=k+(N<<23&4294967295|N>>>9),N=R+(S^k^V)+I[13]+681279174&4294967295,R=S+(N<<4&4294967295|N>>>28),N=V+(R^S^k)+I[0]+3936430074&4294967295,V=R+(N<<11&4294967295|N>>>21),N=k+(V^R^S)+I[3]+3572445317&4294967295,k=V+(N<<16&4294967295|N>>>16),N=S+(k^V^R)+I[6]+76029189&4294967295,S=k+(N<<23&4294967295|N>>>9),N=R+(S^k^V)+I[9]+3654602809&4294967295,R=S+(N<<4&4294967295|N>>>28),N=V+(R^S^k)+I[12]+3873151461&4294967295,V=R+(N<<11&4294967295|N>>>21),N=k+(V^R^S)+I[15]+530742520&4294967295,k=V+(N<<16&4294967295|N>>>16),N=S+(k^V^R)+I[2]+3299628645&4294967295,S=k+(N<<23&4294967295|N>>>9),N=R+(k^(S|~V))+I[0]+4096336452&4294967295,R=S+(N<<6&4294967295|N>>>26),N=V+(S^(R|~k))+I[7]+1126891415&4294967295,V=R+(N<<10&4294967295|N>>>22),N=k+(R^(V|~S))+I[14]+2878612391&4294967295,k=V+(N<<15&4294967295|N>>>17),N=S+(V^(k|~R))+I[5]+4237533241&4294967295,S=k+(N<<21&4294967295|N>>>11),N=R+(k^(S|~V))+I[12]+1700485571&4294967295,R=S+(N<<6&4294967295|N>>>26),N=V+(S^(R|~k))+I[3]+2399980690&4294967295,V=R+(N<<10&4294967295|N>>>22),N=k+(R^(V|~S))+I[10]+4293915773&4294967295,k=V+(N<<15&4294967295|N>>>17),N=S+(V^(k|~R))+I[1]+2240044497&4294967295,S=k+(N<<21&4294967295|N>>>11),N=R+(k^(S|~V))+I[8]+1873313359&4294967295,R=S+(N<<6&4294967295|N>>>26),N=V+(S^(R|~k))+I[15]+4264355552&4294967295,V=R+(N<<10&4294967295|N>>>22),N=k+(R^(V|~S))+I[6]+2734768916&4294967295,k=V+(N<<15&4294967295|N>>>17),N=S+(V^(k|~R))+I[13]+1309151649&4294967295,S=k+(N<<21&4294967295|N>>>11),N=R+(k^(S|~V))+I[4]+4149444226&4294967295,R=S+(N<<6&4294967295|N>>>26),N=V+(S^(R|~k))+I[11]+3174756917&4294967295,V=R+(N<<10&4294967295|N>>>22),N=k+(R^(V|~S))+I[2]+718787259&4294967295,k=V+(N<<15&4294967295|N>>>17),N=S+(V^(k|~R))+I[9]+3951481745&4294967295,O.g[0]=O.g[0]+R&4294967295,O.g[1]=O.g[1]+(k+(N<<21&4294967295|N>>>11))&4294967295,O.g[2]=O.g[2]+k&4294967295,O.g[3]=O.g[3]+V&4294967295}r.prototype.u=function(O,R){R===void 0&&(R=O.length);for(var S=R-this.blockSize,I=this.B,k=this.h,V=0;V<R;){if(k==0)for(;V<=S;)l(this,O,V),V+=this.blockSize;if(typeof O=="string"){for(;V<R;)if(I[k++]=O.charCodeAt(V++),k==this.blockSize){l(this,I),k=0;break}}else for(;V<R;)if(I[k++]=O[V++],k==this.blockSize){l(this,I),k=0;break}}this.h=k,this.o+=R},r.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var R=1;R<O.length-8;++R)O[R]=0;var S=8*this.o;for(R=O.length-8;R<O.length;++R)O[R]=S&255,S/=256;for(this.u(O),O=Array(16),R=S=0;4>R;++R)for(var I=0;32>I;I+=8)O[S++]=this.g[R]>>>I&255;return O};function u(O,R){var S=g;return Object.prototype.hasOwnProperty.call(S,O)?S[O]:S[O]=R(O)}function h(O,R){this.h=R;for(var S=[],I=!0,k=O.length-1;0<=k;k--){var V=O[k]|0;I&&V==R||(S[k]=V,I=!1)}this.g=S}var g={};function p(O){return-128<=O&&128>O?u(O,function(R){return new h([R|0],0>R?-1:0)}):new h([O|0],0>O?-1:0)}function _(O){if(isNaN(O)||!isFinite(O))return b;if(0>O)return U(_(-O));for(var R=[],S=1,I=0;O>=S;I++)R[I]=O/S|0,S*=4294967296;return new h(R,0)}function E(O,R){if(O.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(O.charAt(0)=="-")return U(E(O.substring(1),R));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=_(Math.pow(R,8)),I=b,k=0;k<O.length;k+=8){var V=Math.min(8,O.length-k),N=parseInt(O.substring(k,k+V),R);8>V?(V=_(Math.pow(R,V)),I=I.j(V).add(_(N))):(I=I.j(S),I=I.add(_(N)))}return I}var b=p(0),A=p(1),C=p(16777216);s=h.prototype,s.m=function(){if(F(this))return-U(this).m();for(var O=0,R=1,S=0;S<this.g.length;S++){var I=this.i(S);O+=(0<=I?I:4294967296+I)*R,R*=4294967296}return O},s.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(D(this))return"0";if(F(this))return"-"+U(this).toString(O);for(var R=_(Math.pow(O,6)),S=this,I="";;){var k=ee(S,R).g;S=$(S,k.j(R));var V=((0<S.g.length?S.g[0]:S.h)>>>0).toString(O);if(S=k,D(S))return V+I;for(;6>V.length;)V="0"+V;I=V+I}},s.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function D(O){if(O.h!=0)return!1;for(var R=0;R<O.g.length;R++)if(O.g[R]!=0)return!1;return!0}function F(O){return O.h==-1}s.l=function(O){return O=$(this,O),F(O)?-1:D(O)?0:1};function U(O){for(var R=O.g.length,S=[],I=0;I<R;I++)S[I]=~O.g[I];return new h(S,~O.h).add(A)}s.abs=function(){return F(this)?U(this):this},s.add=function(O){for(var R=Math.max(this.g.length,O.g.length),S=[],I=0,k=0;k<=R;k++){var V=I+(this.i(k)&65535)+(O.i(k)&65535),N=(V>>>16)+(this.i(k)>>>16)+(O.i(k)>>>16);I=N>>>16,V&=65535,N&=65535,S[k]=N<<16|V}return new h(S,S[S.length-1]&-2147483648?-1:0)};function $(O,R){return O.add(U(R))}s.j=function(O){if(D(this)||D(O))return b;if(F(this))return F(O)?U(this).j(U(O)):U(U(this).j(O));if(F(O))return U(this.j(U(O)));if(0>this.l(C)&&0>O.l(C))return _(this.m()*O.m());for(var R=this.g.length+O.g.length,S=[],I=0;I<2*R;I++)S[I]=0;for(I=0;I<this.g.length;I++)for(var k=0;k<O.g.length;k++){var V=this.i(I)>>>16,N=this.i(I)&65535,Ne=O.i(k)>>>16,Pe=O.i(k)&65535;S[2*I+2*k]+=N*Pe,z(S,2*I+2*k),S[2*I+2*k+1]+=V*Pe,z(S,2*I+2*k+1),S[2*I+2*k+1]+=N*Ne,z(S,2*I+2*k+1),S[2*I+2*k+2]+=V*Ne,z(S,2*I+2*k+2)}for(I=0;I<R;I++)S[I]=S[2*I+1]<<16|S[2*I];for(I=R;I<2*R;I++)S[I]=0;return new h(S,0)};function z(O,R){for(;(O[R]&65535)!=O[R];)O[R+1]+=O[R]>>>16,O[R]&=65535,R++}function Q(O,R){this.g=O,this.h=R}function ee(O,R){if(D(R))throw Error("division by zero");if(D(O))return new Q(b,b);if(F(O))return R=ee(U(O),R),new Q(U(R.g),U(R.h));if(F(R))return R=ee(O,U(R)),new Q(U(R.g),R.h);if(30<O.g.length){if(F(O)||F(R))throw Error("slowDivide_ only works with positive integers.");for(var S=A,I=R;0>=I.l(O);)S=J(S),I=J(I);var k=ie(S,1),V=ie(I,1);for(I=ie(I,2),S=ie(S,2);!D(I);){var N=V.add(I);0>=N.l(O)&&(k=k.add(S),V=N),I=ie(I,1),S=ie(S,1)}return R=$(O,k.j(R)),new Q(k,R)}for(k=b;0<=O.l(R);){for(S=Math.max(1,Math.floor(O.m()/R.m())),I=Math.ceil(Math.log(S)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),V=_(S),N=V.j(R);F(N)||0<N.l(O);)S-=I,V=_(S),N=V.j(R);D(V)&&(V=A),k=k.add(V),O=$(O,N)}return new Q(k,O)}s.A=function(O){return ee(this,O).h},s.and=function(O){for(var R=Math.max(this.g.length,O.g.length),S=[],I=0;I<R;I++)S[I]=this.i(I)&O.i(I);return new h(S,this.h&O.h)},s.or=function(O){for(var R=Math.max(this.g.length,O.g.length),S=[],I=0;I<R;I++)S[I]=this.i(I)|O.i(I);return new h(S,this.h|O.h)},s.xor=function(O){for(var R=Math.max(this.g.length,O.g.length),S=[],I=0;I<R;I++)S[I]=this.i(I)^O.i(I);return new h(S,this.h^O.h)};function J(O){for(var R=O.g.length+1,S=[],I=0;I<R;I++)S[I]=O.i(I)<<1|O.i(I-1)>>>31;return new h(S,O.h)}function ie(O,R){var S=R>>5;R%=32;for(var I=O.g.length-S,k=[],V=0;V<I;V++)k[V]=0<R?O.i(V+S)>>>R|O.i(V+S+1)<<32-R:O.i(V+S);return new h(k,O.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,q0=r,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=_,h.fromString=E,ar=h}).apply(typeof Gv<"u"?Gv:typeof self<"u"?self:typeof window<"u"?window:{});var $c=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var F0,Fo,G0,ah,Mm,$0,Q0,W0;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,v){return c==Array.prototype||c==Object.prototype||(c[y]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof $c=="object"&&$c];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function l(c,y){if(y)e:{var v=r;c=c.split(".");for(var w=0;w<c.length-1;w++){var q=c[w];if(!(q in v))break e;v=v[q]}c=c[c.length-1],w=v[c],y=y(w),y!=w&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var v=0,w=!1,q={next:function(){if(!w&&v<c.length){var Y=v++;return{value:y(Y,c[Y]),done:!1}}return w=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}l("Array.prototype.values",function(c){return c||function(){return u(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},g=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function _(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,v){return c.call.apply(c.bind,arguments)}function b(c,y,v){if(!c)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,w),c.apply(y,q)}}return function(){return c.apply(y,arguments)}}function A(c,y,v){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:b,A.apply(null,arguments)}function C(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var w=v.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function D(c,y){function v(){}v.prototype=y.prototype,c.aa=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(w,q,Y){for(var oe=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)oe[Ue-2]=arguments[Ue];return y.prototype[q].apply(w,oe)}}function F(c){const y=c.length;if(0<y){const v=Array(y);for(let w=0;w<y;w++)v[w]=c[w];return v}return[]}function U(c,y){for(let v=1;v<arguments.length;v++){const w=arguments[v];if(p(w)){const q=c.length||0,Y=w.length||0;c.length=q+Y;for(let oe=0;oe<Y;oe++)c[q+oe]=w[oe]}else c.push(w)}}class ${constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function z(c){return/^[\s\xa0]*$/.test(c)}function Q(){var c=g.navigator;return c&&(c=c.userAgent)?c:""}function ee(c){return ee[" "](c),c}ee[" "]=function(){};var J=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function ie(c,y,v){for(const w in c)y.call(v,c[w],w,c)}function O(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function R(c){const y={};for(const v in c)y[v]=c[v];return y}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(c,y){let v,w;for(let q=1;q<arguments.length;q++){w=arguments[q];for(v in w)c[v]=w[v];for(let Y=0;Y<S.length;Y++)v=S[Y],Object.prototype.hasOwnProperty.call(w,v)&&(c[v]=w[v])}}function k(c){var y=1;c=c.split(":");const v=[];for(;0<y&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function V(c){g.setTimeout(()=>{throw c},0)}function N(){var c=me;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Ne{constructor(){this.h=this.g=null}add(y,v){const w=Pe.get();w.set(y,v),this.h?this.h.next=w:this.g=w,this.h=w}}var Pe=new $(()=>new le,c=>c.reset());class le{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ye,pe=!1,me=new Ne,P=()=>{const c=g.Promise.resolve(void 0);ye=()=>{c.then(re)}};var re=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(v){V(v)}var y=Pe;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}pe=!1};function ge(){this.s=this.s,this.C=this.C}ge.prototype.s=!1,ge.prototype.ma=function(){this.s||(this.s=!0,this.N())},ge.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var ce=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};g.addEventListener("test",v,y),g.removeEventListener("test",v,y)}catch{}return c}();function Re(c,y){if(ue.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(J){e:{try{ee(y.nodeName);var q=!0;break e}catch{}q=!1}q||(y=null)}}else v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement);this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ke[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Re.aa.h.call(this)}}D(Re,ue);var ke={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var vt="closure_listenable_"+(1e6*Math.random()|0),Ke=0;function ut(c,y,v,w,q){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!w,this.ha=q,this.key=++Ke,this.da=this.fa=!1}function Ye(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function nn(c){this.src=c,this.g={},this.h=0}nn.prototype.add=function(c,y,v,w,q){var Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);var oe=wn(c,y,w,q);return-1<oe?(y=c[oe],v||(y.fa=!1)):(y=new ut(y,this.src,Y,!!w,q),y.fa=v,c.push(y)),y};function Rs(c,y){var v=y.type;if(v in c.g){var w=c.g[v],q=Array.prototype.indexOf.call(w,y,void 0),Y;(Y=0<=q)&&Array.prototype.splice.call(w,q,1),Y&&(Ye(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function wn(c,y,v,w){for(var q=0;q<c.length;++q){var Y=c[q];if(!Y.da&&Y.listener==y&&Y.capture==!!v&&Y.ha==w)return q}return-1}var da="closure_lm_"+(1e6*Math.random()|0),fa={};function Ns(c,y,v,w,q){if(Array.isArray(y)){for(var Y=0;Y<y.length;Y++)Ns(c,y[Y],v,w,q);return null}return v=Su(v),c&&c[vt]?c.K(y,v,_(w)?!!w.capture:!1,q):jl(c,y,v,!1,w,q)}function jl(c,y,v,w,q,Y){if(!y)throw Error("Invalid event type");var oe=_(q)?!!q.capture:!!q,Ue=Dl(c);if(Ue||(c[da]=Ue=new nn(c)),v=Ue.add(y,v,w,oe,Y),v.proxy)return v;if(w=gi(),v.proxy=w,w.src=c,w.listener=v,c.addEventListener)ce||(q=oe),q===void 0&&(q=!1),c.addEventListener(y.toString(),w,q);else if(c.attachEvent)c.attachEvent(_i(y.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return v}function gi(){function c(v){return y.call(c.src,c.listener,v)}const y=od;return c}function pi(c,y,v,w,q){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)pi(c,y[Y],v,w,q);else w=_(w)?!!w.capture:!!w,v=Su(v),c&&c[vt]?(c=c.i,y=String(y).toString(),y in c.g&&(Y=c.g[y],v=wn(Y,v,w,q),-1<v&&(Ye(Y[v]),Array.prototype.splice.call(Y,v,1),Y.length==0&&(delete c.g[y],c.h--)))):c&&(c=Dl(c))&&(y=c.g[y.toString()],c=-1,y&&(c=wn(y,v,w,q)),(v=-1<c?y[c]:null)&&Er(v))}function Er(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[vt])Rs(y.i,c);else{var v=c.type,w=c.proxy;y.removeEventListener?y.removeEventListener(v,w,c.capture):y.detachEvent?y.detachEvent(_i(v),w):y.addListener&&y.removeListener&&y.removeListener(w),(v=Dl(y))?(Rs(v,c),v.h==0&&(v.src=null,y[da]=null)):Ye(c)}}}function _i(c){return c in fa?fa[c]:fa[c]="on"+c}function od(c,y){if(c.da)c=!0;else{y=new Re(y,this);var v=c.listener,w=c.ha||c.src;c.fa&&Er(c),c=v.call(w,y)}return c}function Dl(c){return c=c[da],c instanceof nn?c:null}var hn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Su(c){return typeof c=="function"?c:(c[hn]||(c[hn]=function(y){return c.handleEvent(y)}),c[hn])}function wt(){ge.call(this),this.i=new nn(this),this.M=this,this.F=null}D(wt,ge),wt.prototype[vt]=!0,wt.prototype.removeEventListener=function(c,y,v,w){pi(this,c,y,v,w)};function Ot(c,y){var v,w=c.F;if(w)for(v=[];w;w=w.F)v.push(w);if(c=c.M,w=y.type||y,typeof y=="string")y=new ue(y,c);else if(y instanceof ue)y.target=y.target||c;else{var q=y;y=new ue(w,c),I(y,q)}if(q=!0,v)for(var Y=v.length-1;0<=Y;Y--){var oe=y.g=v[Y];q=ks(oe,w,!0,y)&&q}if(oe=y.g=c,q=ks(oe,w,!0,y)&&q,q=ks(oe,w,!1,y)&&q,v)for(Y=0;Y<v.length;Y++)oe=y.g=v[Y],q=ks(oe,w,!1,y)&&q}wt.prototype.N=function(){if(wt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var v=c.g[y],w=0;w<v.length;w++)Ye(v[w]);delete c.g[y],c.h--}}this.F=null},wt.prototype.K=function(c,y,v,w){return this.i.add(String(c),y,!1,v,w)},wt.prototype.L=function(c,y,v,w){return this.i.add(String(c),y,!0,v,w)};function ks(c,y,v,w){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var q=!0,Y=0;Y<y.length;++Y){var oe=y[Y];if(oe&&!oe.da&&oe.capture==v){var Ue=oe.listener,Nt=oe.ha||oe.src;oe.fa&&Rs(c.i,oe),q=Ue.call(Nt,w)!==!1&&q}}return q&&!w.defaultPrevented}function wu(c,y,v){if(typeof c=="function")v&&(c=A(c,v));else if(c&&typeof c.handleEvent=="function")c=A(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:g.setTimeout(c,y||0)}function Ol(c){c.g=wu(()=>{c.g=null,c.i&&(c.i=!1,Ol(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class ud extends ge{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Ol(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Tr(c){ge.call(this),this.h=c,this.g={}}D(Tr,ge);var ma=[];function Wt(c){ie(c.g,function(y,v){this.g.hasOwnProperty(v)&&Er(y)},c),c.g={}}Tr.prototype.N=function(){Tr.aa.N.call(this),Wt(this)},Tr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ml=g.JSON.stringify,ss=g.JSON.parse,sn=class{stringify(c){return g.JSON.stringify(c,void 0)}parse(c){return g.JSON.parse(c,void 0)}};function Ll(){}Ll.prototype.h=null;function Ru(c){return c.h||(c.h=c.i())}function Nu(){}var as={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ga(){ue.call(this,"d")}D(ga,ue);function qn(){ue.call(this,"c")}D(qn,ue);var Rn={},pa=null;function yi(){return pa=pa||new wt}Rn.La="serverreachability";function Vl(c){ue.call(this,Rn.La,c)}D(Vl,ue);function _a(c){const y=yi();Ot(y,new Vl(y))}Rn.STAT_EVENT="statevent";function vi(c,y){ue.call(this,Rn.STAT_EVENT,c),this.stat=y}D(vi,ue);function pt(c){const y=yi();Ot(y,new vi(y,c))}Rn.Ma="timingevent";function ku(c,y){ue.call(this,Rn.Ma,c),this.size=y}D(ku,ue);function ya(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){c()},y)}function va(){this.g=!0}va.prototype.xa=function(){this.g=!1};function Cu(c,y,v,w,q,Y){c.info(function(){if(c.g)if(Y)for(var oe="",Ue=Y.split("&"),Nt=0;Nt<Ue.length;Nt++){var He=Ue[Nt].split("=");if(1<He.length){var Vt=He[0];He=He[1];var kt=Vt.split("_");oe=2<=kt.length&&kt[1]=="type"?oe+(Vt+"="+He+"&"):oe+(Vt+"=redacted&")}}else oe=null;else oe=Y;return"XMLHTTP REQ ("+w+") [attempt "+q+"]: "+y+`
`+v+`
`+oe})}function Iu(c,y,v,w,q,Y,oe){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+q+"]: "+y+`
`+v+`
`+Y+" "+oe})}function xa(c,y,v,w){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Mt(c,v)+(w?" "+w:"")})}function rs(c,y){c.info(function(){return"TIMEOUT: "+y})}va.prototype.info=function(){};function Mt(c,y){if(!c.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var w=v[c];if(!(2>w.length)){var q=w[1];if(Array.isArray(q)&&!(1>q.length)){var Y=q[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var oe=1;oe<q.length;oe++)q[oe]=""}}}}return Ml(v)}catch{return y}}var Rt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Cs={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},br;function xi(){}D(xi,Ll),xi.prototype.g=function(){return new XMLHttpRequest},xi.prototype.i=function(){return{}},br=new xi;function is(c,y,v,w){this.j=c,this.i=y,this.l=v,this.R=w||1,this.U=new Tr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Pl}function Pl(){this.i=null,this.g="",this.h=!1}var Ea={},Ar={};function Fn(c,y,v){c.L=1,c.v=Rr(ct(y)),c.m=v,c.P=!0,Is(c,null)}function Is(c,y){c.F=Date.now(),rt(c),c.A=ct(c.v);var v=c.A,w=c.R;Array.isArray(w)||(w=[String(w)]),Os(v.i,"t",w),c.C=0,v=c.j.J,c.h=new Pl,c.g=Fu(c.j,v?y:null,!c.m),0<c.O&&(c.M=new ud(A(c.Y,c,c.g),c.O)),y=c.U,v=c.g,w=c.ca;var q="readystatechange";Array.isArray(q)||(q&&(ma[0]=q.toString()),q=ma);for(var Y=0;Y<q.length;Y++){var oe=Ns(v,q[Y],w||y.handleEvent,!1,y.h||y);if(!oe)break;y.g[oe.key]=oe}y=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),_a(),Cu(c.i,c.u,c.A,c.l,c.R,c.m)}is.prototype.ca=function(c){c=c.target;const y=this.M;y&&jn(c)==3?y.j():this.Y(c)},is.prototype.Y=function(c){try{if(c==this.g)e:{const kt=jn(this.g);var y=this.g.Ba();const Ps=this.g.Z();if(!(3>kt)&&(kt!=3||this.g&&(this.h.h||this.g.oa()||Vu(this.g)))){this.J||kt!=4||y==7||(y==8||0>=Ps?_a(3):_a(2)),Ei(this);var v=this.g.Z();this.X=v;t:if(Ta(this)){var w=Vu(this.g);c="";var q=w.length,Y=jn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){dn(this),pn(this);var oe="";break t}this.h.i=new g.TextDecoder}for(y=0;y<q;y++)this.h.h=!0,c+=this.h.i.decode(w[y],{stream:!(Y&&y==q-1)});w.length=0,this.h.g+=c,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=v==200,Iu(this.i,this.u,this.A,this.l,this.R,kt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Ue,Nt=this.g;if((Ue=Nt.g?Nt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(Ue)){var He=Ue;break t}}He=null}if(v=He)xa(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_n(this,v);else{this.o=!1,this.s=3,pt(12),dn(this),pn(this);break e}}if(this.P){v=!0;let zt;for(;!this.J&&this.C<oe.length;)if(zt=ba(this,oe),zt==Ar){kt==4&&(this.s=4,pt(14),v=!1),xa(this.i,this.l,null,"[Incomplete Response]");break}else if(zt==Ea){this.s=4,pt(15),xa(this.i,this.l,oe,"[Invalid Chunk]"),v=!1;break}else xa(this.i,this.l,zt,null),_n(this,zt);if(Ta(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),kt!=4||oe.length!=0||this.h.h||(this.s=1,pt(16),v=!1),this.o=this.o&&v,!v)xa(this.i,this.l,oe,"[Invalid Chunked Response]"),dn(this),pn(this);else if(0<oe.length&&!this.W){this.W=!0;var Vt=this.j;Vt.g==this&&Vt.ba&&!Vt.M&&(Vt.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),Or(Vt),Vt.M=!0,pt(11))}}else xa(this.i,this.l,oe,null),_n(this,oe);kt==4&&dn(this),this.o&&!this.J&&(kt==4?zu(this.j,this):(this.o=!1,rt(this)))}else gd(this.g),v==400&&0<oe.indexOf("Unknown SID")?(this.s=3,pt(12)):(this.s=0,pt(13)),dn(this),pn(this)}}}catch{}finally{}};function Ta(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function ba(c,y){var v=c.C,w=y.indexOf(`
`,v);return w==-1?Ar:(v=Number(y.substring(v,w)),isNaN(v)?Ea:(w+=1,w+v>y.length?Ar:(y=y.slice(w,w+v),c.C=w+v,y)))}is.prototype.cancel=function(){this.J=!0,dn(this)};function rt(c){c.S=Date.now()+c.I,Ul(c,c.I)}function Ul(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ya(A(c.ba,c),y)}function Ei(c){c.B&&(g.clearTimeout(c.B),c.B=null)}is.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(rs(this.i,this.A),this.L!=2&&(_a(),pt(17)),dn(this),this.s=2,pn(this)):Ul(this,this.S-c)};function pn(c){c.j.G==0||c.J||zu(c.j,c)}function dn(c){Ei(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Wt(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function _n(c,y){try{var v=c.j;if(v.G!=0&&(v.g==c||Aa(v.h,c))){if(!c.K&&Aa(v.h,c)&&v.G==3){try{var w=v.Da.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var q=w;if(q[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)Ii(v),ki(v);else break e;Yl(v),pt(18)}}else v.za=q[1],0<v.za-v.T&&37500>q[2]&&v.F&&v.v==0&&!v.C&&(v.C=ya(A(v.Za,v),6e3));if(1>=ju(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Vs(v,11)}else if((c.K||v.g==c)&&Ii(v),!z(y))for(q=v.Da.g.parse(y),y=0;y<q.length;y++){let He=q[y];if(v.T=He[0],He=He[1],v.G==2)if(He[0]=="c"){v.K=He[1],v.ia=He[2];const Vt=He[3];Vt!=null&&(v.la=Vt,v.j.info("VER="+v.la));const kt=He[4];kt!=null&&(v.Aa=kt,v.j.info("SVER="+v.Aa));const Ps=He[5];Ps!=null&&typeof Ps=="number"&&0<Ps&&(w=1.5*Ps,v.L=w,v.j.info("backChannelRequestTimeoutMs_="+w)),w=v;const zt=c.g;if(zt){const fs=zt.g?zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fs){var Y=w.h;Y.g||fs.indexOf("spdy")==-1&&fs.indexOf("quic")==-1&&fs.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Sa(Y,Y.h),Y.h=null))}if(w.D){const Zl=zt.g?zt.g.getResponseHeader("X-HTTP-Session-Id"):null;Zl&&(w.ya=Zl,qe(w.I,w.D,Zl))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),w=v;var oe=c;if(w.qa=qu(w,w.J?w.ia:null,w.W),oe.K){Nn(w.h,oe);var Ue=oe,Nt=w.L;Nt&&(Ue.I=Nt),Ue.B&&(Ei(Ue),rt(Ue)),w.g=oe}else Hu(w);0<v.i.length&&Ci(v)}else He[0]!="stop"&&He[0]!="close"||Vs(v,7);else v.G==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?Vs(v,7):Ql(v):He[0]!="noop"&&v.l&&v.l.ta(He),v.v=0)}}_a(4)}catch{}}var cd=class{constructor(c,y){this.g=c,this.map=y}};function Hl(c){this.l=c||10,g.PerformanceNavigationTiming?(c=g.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Bl(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ju(c){return c.h?1:c.g?c.g.size:0}function Aa(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Sa(c,y){c.g?c.g.add(y):c.h=y}function Nn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Hl.prototype.cancel=function(){if(this.i=an(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function an(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.D);return y}return F(c.i)}function Du(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],v=c.length,w=0;w<v;w++)y.push(c[w]);return y}y=[],v=0;for(w in c)y[v++]=c[w];return y}function hd(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var v=0;v<c;v++)y.push(v);return y}y=[],v=0;for(const w in c)y[v++]=w;return y}}}function Sr(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var v=hd(c),w=Du(c),q=w.length,Y=0;Y<q;Y++)y.call(void 0,w[Y],v&&v[Y],c)}var zl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ti(c,y){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var w=c[v].indexOf("="),q=null;if(0<=w){var Y=c[v].substring(0,w);q=c[v].substring(w+1)}else Y=c[v];y(Y,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function js(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof js){this.h=c.h,wa(this,c.j),this.o=c.o,this.g=c.g,wr(this,c.s),this.l=c.l;var y=c.i,v=new ls;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),bi(this,v),this.m=c.m}else c&&(y=String(c).match(zl))?(this.h=!1,wa(this,y[1]||"",!0),this.o=Ra(y[2]||""),this.g=Ra(y[3]||"",!0),wr(this,y[4]),this.l=Ra(y[5]||"",!0),bi(this,y[6]||"",!0),this.m=Ra(y[7]||"")):(this.h=!1,this.i=new ls(null,this.h))}js.prototype.toString=function(){var c=[],y=this.j;y&&c.push(kn(y,Kl,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(kn(y,Kl,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(kn(v,v.charAt(0)=="/"?ql:Ou,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",kn(v,md)),c.join("")};function ct(c){return new js(c)}function wa(c,y,v){c.j=v?Ra(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function wr(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function bi(c,y,v){y instanceof ls?(c.i=y,Fl(c.i,c.h)):(v||(y=kn(y,fd)),c.i=new ls(y,c.h))}function qe(c,y,v){c.i.set(y,v)}function Rr(c){return qe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ra(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function kn(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,dd),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function dd(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Kl=/[#\/\?@]/g,Ou=/[#\?:]/g,ql=/[#\?]/g,fd=/[#\?@]/g,md=/#/g;function ls(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Cn(c){c.g||(c.g=new Map,c.h=0,c.i&&Ti(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}s=ls.prototype,s.add=function(c,y){Cn(this),this.i=null,c=Ms(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Ai(c,y){Cn(c),y=Ms(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Ds(c,y){return Cn(c),y=Ms(c,y),c.g.has(y)}s.forEach=function(c,y){Cn(this),this.g.forEach(function(v,w){v.forEach(function(q){c.call(y,q,w,this)},this)},this)},s.na=function(){Cn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let w=0;w<y.length;w++){const q=c[w];for(let Y=0;Y<q.length;Y++)v.push(y[w])}return v},s.V=function(c){Cn(this);let y=[];if(typeof c=="string")Ds(this,c)&&(y=y.concat(this.g.get(Ms(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)y=y.concat(c[v])}return y},s.set=function(c,y){return Cn(this),this.i=null,c=Ms(this,c),Ds(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},s.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Os(c,y,v){Ai(c,y),0<v.length&&(c.i=null,c.g.set(Ms(c,y),F(v)),c.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var w=y[v];const Y=encodeURIComponent(String(w)),oe=this.V(w);for(w=0;w<oe.length;w++){var q=Y;oe[w]!==""&&(q+="="+encodeURIComponent(String(oe[w]))),c.push(q)}}return this.i=c.join("&")};function Ms(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Fl(c,y){y&&!c.j&&(Cn(c),c.i=null,c.g.forEach(function(v,w){var q=w.toLowerCase();w!=q&&(Ai(this,w),Os(this,q,v))},c)),c.j=y}function Mu(c,y){const v=new va;if(g.Image){const w=new Image;w.onload=C(In,v,"TestLoadImage: loaded",!0,y,w),w.onerror=C(In,v,"TestLoadImage: error",!1,y,w),w.onabort=C(In,v,"TestLoadImage: abort",!1,y,w),w.ontimeout=C(In,v,"TestLoadImage: timeout",!1,y,w),g.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else y(!1)}function Nr(c,y){const v=new va,w=new AbortController,q=setTimeout(()=>{w.abort(),In(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:w.signal}).then(Y=>{clearTimeout(q),Y.ok?In(v,"TestPingServer: ok",!0,y):In(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(q),In(v,"TestPingServer: error",!1,y)})}function In(c,y,v,w,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),w(v)}catch{}}function kr(){this.g=new sn}function os(c,y,v){const w=v||"";try{Sr(c,function(q,Y){let oe=q;_(q)&&(oe=Ml(q)),y.push(w+Y+"="+encodeURIComponent(oe))})}catch(q){throw y.push(w+"type="+encodeURIComponent("_badmap")),q}}function Na(c){this.l=c.Ub||null,this.j=c.eb||!1}D(Na,Ll),Na.prototype.g=function(){return new Ls(this.l,this.j)},Na.prototype.i=function(c){return function(){return c}}({});function Ls(c,y){wt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(Ls,wt),s=Ls.prototype,s.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,cs(this)},s.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||g).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,us(this)),this.readyState=0},s.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,cs(this)),this.g&&(this.readyState=3,cs(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Gl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Gl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}s.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?us(this):cs(this),this.readyState==3&&Gl(this)}},s.Ra=function(c){this.g&&(this.response=this.responseText=c,us(this))},s.Qa=function(c){this.g&&(this.response=c,us(this))},s.ga=function(){this.g&&us(this)};function us(c){c.readyState=4,c.l=null,c.j=null,c.v=null,cs(c)}s.setRequestHeader=function(c,y){this.u.append(c,y)},s.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function cs(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ls.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function $l(c){let y="";return ie(c,function(v,w){y+=w,y+=":",y+=v,y+=`\r
`}),y}function Lt(c,y,v){e:{for(w in v){var w=!1;break e}w=!0}w||(v=$l(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):qe(c,y,v))}function Qe(c){wt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(Qe,wt);var Si=/^https?$/i,Cr=["POST","PUT"];s=Qe.prototype,s.Ha=function(c){this.J=c},s.ea=function(c,y,v,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():br.g(),this.v=this.o?Ru(this.o):Ru(br),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Y){Lu(this,Y);return}if(c=v||"",v=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var q in w)v.set(q,w[q]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const Y of w.keys())v.set(Y,w.get(Y));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(v.keys()).find(Y=>Y.toLowerCase()=="content-type"),q=g.FormData&&c instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Cr,y,void 0))||w||q||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,oe]of v)this.g.setRequestHeader(Y,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ir(this),this.u=!0,this.g.send(c),this.u=!1}catch(Y){Lu(this,Y)}};function Lu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,wi(c),hs(c)}function wi(c){c.A||(c.A=!0,Ot(c,"complete"),Ot(c,"error"))}s.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ot(this,"complete"),Ot(this,"abort"),hs(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hs(this,!0)),Qe.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Ri(this):this.bb())},s.bb=function(){Ri(this)};function Ri(c){if(c.h&&typeof h<"u"&&(!c.v[1]||jn(c)!=4||c.Z()!=2)){if(c.u&&jn(c)==4)wu(c.Ea,0,c);else if(Ot(c,"readystatechange"),jn(c)==4){c.h=!1;try{const oe=c.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var w;if(w=oe===0){var q=String(c.D).match(zl)[1]||null;!q&&g.self&&g.self.location&&(q=g.self.location.protocol.slice(0,-1)),w=!Si.test(q?q.toLowerCase():"")}v=w}if(v)Ot(c,"complete"),Ot(c,"success");else{c.m=6;try{var Y=2<jn(c)?c.g.statusText:""}catch{Y=""}c.l=Y+" ["+c.Z()+"]",wi(c)}}finally{hs(c)}}}}function hs(c,y){if(c.g){Ir(c);const v=c.g,w=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Ot(c,"ready");try{v.onreadystatechange=w}catch{}}}function Ir(c){c.I&&(g.clearTimeout(c.I),c.I=null)}s.isActive=function(){return!!this.g};function jn(c){return c.g?c.g.readyState:0}s.Z=function(){try{return 2<jn(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),ss(y)}};function Vu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function gd(c){const y={};c=(c.g&&2<=jn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(z(c[w]))continue;var v=k(c[w]);const q=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Y=y[q]||[];y[q]=Y,Y.push(v)}O(y,function(w){return w.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function jr(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Ni(c){this.Aa=0,this.i=[],this.j=new va,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=jr("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=jr("baseRetryDelayMs",5e3,c),this.cb=jr("retryDelaySeedMs",1e4,c),this.Wa=jr("forwardChannelMaxRetries",2,c),this.wa=jr("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Hl(c&&c.concurrentRequestLimit),this.Da=new kr,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=Ni.prototype,s.la=8,s.G=1,s.connect=function(c,y,v,w){pt(0),this.W=c,this.H=y||{},v&&w!==void 0&&(this.H.OSID=v,this.H.OAID=w),this.F=this.X,this.I=qu(this,null,this.W),Ci(this)};function Ql(c){if(Pu(c),c.G==3){var y=c.U++,v=ct(c.I);if(qe(v,"SID",c.K),qe(v,"RID",y),qe(v,"TYPE","terminate"),Dr(c,v),y=new is(c,c.j,y),y.L=2,y.v=Rr(ct(v)),v=!1,g.navigator&&g.navigator.sendBeacon)try{v=g.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&g.Image&&(new Image().src=y.v,v=!0),v||(y.g=Fu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),rt(y)}Ku(c)}function ki(c){c.g&&(Or(c),c.g.cancel(),c.g=null)}function Pu(c){ki(c),c.u&&(g.clearTimeout(c.u),c.u=null),Ii(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&g.clearTimeout(c.s),c.s=null)}function Ci(c){if(!Bl(c.h)&&!c.s){c.s=!0;var y=c.Ga;ye||P(),pe||(ye(),pe=!0),me.add(y,c),c.B=0}}function pd(c,y){return ju(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ya(A(c.Ga,c,y),Xl(c,c.B)),c.B++,!0)}s.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const q=new is(this,this.j,c);let Y=this.o;if(this.S&&(Y?(Y=R(Y),I(Y,this.S)):Y=this.S),this.m!==null||this.O||(q.H=Y,Y=null),this.P)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var w=this.i[v];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(y+=w,4096<y){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Uu(this,q,y),v=ct(this.I),qe(v,"RID",c),qe(v,"CVER",22),this.D&&qe(v,"X-HTTP-Session-Id",this.D),Dr(this,v),Y&&(this.O?y="headers="+encodeURIComponent(String($l(Y)))+"&"+y:this.m&&Lt(v,this.m,Y)),Sa(this.h,q),this.Ua&&qe(v,"TYPE","init"),this.P?(qe(v,"$req",y),qe(v,"SID","null"),q.T=!0,Fn(q,v,null)):Fn(q,v,y),this.G=2}}else this.G==3&&(c?Wl(this,c):this.i.length==0||Bl(this.h)||Wl(this))};function Wl(c,y){var v;y?v=y.l:v=c.U++;const w=ct(c.I);qe(w,"SID",c.K),qe(w,"RID",v),qe(w,"AID",c.T),Dr(c,w),c.m&&c.o&&Lt(w,c.m,c.o),v=new is(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Uu(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Sa(c.h,v),Fn(v,w,y)}function Dr(c,y){c.H&&ie(c.H,function(v,w){qe(y,w,v)}),c.l&&Sr({},function(v,w){qe(y,w,v)})}function Uu(c,y,v){v=Math.min(c.i.length,v);var w=c.l?A(c.l.Na,c.l,c):null;e:{var q=c.i;let Y=-1;for(;;){const oe=["count="+v];Y==-1?0<v?(Y=q[0].g,oe.push("ofs="+Y)):Y=0:oe.push("ofs="+Y);let Ue=!0;for(let Nt=0;Nt<v;Nt++){let He=q[Nt].g;const Vt=q[Nt].map;if(He-=Y,0>He)Y=Math.max(0,q[Nt].g-100),Ue=!1;else try{os(Vt,oe,"req"+He+"_")}catch{w&&w(Vt)}}if(Ue){w=oe.join("&");break e}}}return c=c.i.splice(0,v),y.D=c,w}function Hu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;ye||P(),pe||(ye(),pe=!0),me.add(y,c),c.v=0}}function Yl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ya(A(c.Fa,c),Xl(c,c.v)),c.v++,!0)}s.Fa=function(){if(this.u=null,Bu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ya(A(this.ab,this),c)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,pt(10),ki(this),Bu(this))};function Or(c){c.A!=null&&(g.clearTimeout(c.A),c.A=null)}function Bu(c){c.g=new is(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=ct(c.qa);qe(y,"RID","rpc"),qe(y,"SID",c.K),qe(y,"AID",c.T),qe(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&qe(y,"TO",c.ja),qe(y,"TYPE","xmlhttp"),Dr(c,y),c.m&&c.o&&Lt(y,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=Rr(ct(y)),v.m=null,v.P=!0,Is(v,c)}s.Za=function(){this.C!=null&&(this.C=null,ki(this),Yl(this),pt(19))};function Ii(c){c.C!=null&&(g.clearTimeout(c.C),c.C=null)}function zu(c,y){var v=null;if(c.g==y){Ii(c),Or(c),c.g=null;var w=2}else if(Aa(c.h,y))v=y.D,Nn(c.h,y),w=1;else return;if(c.G!=0){if(y.o)if(w==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var q=c.B;w=yi(),Ot(w,new ku(w,v)),Ci(c)}else Hu(c);else if(q=y.s,q==3||q==0&&0<y.X||!(w==1&&pd(c,y)||w==2&&Yl(c)))switch(v&&0<v.length&&(y=c.h,y.i=y.i.concat(v)),q){case 1:Vs(c,5);break;case 4:Vs(c,10);break;case 3:Vs(c,6);break;default:Vs(c,2)}}}function Xl(c,y){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*y}function Vs(c,y){if(c.j.info("Error code "+y),y==2){var v=A(c.fb,c),w=c.Xa;const q=!w;w=new js(w||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||wa(w,"https"),Rr(w),q?Mu(w.toString(),v):Nr(w.toString(),v)}else pt(2);c.G=0,c.l&&c.l.sa(y),Ku(c),Pu(c)}s.fb=function(c){c?(this.j.info("Successfully pinged google.com"),pt(2)):(this.j.info("Failed to ping google.com"),pt(1))};function Ku(c){if(c.G=0,c.ka=[],c.l){const y=an(c.h);(y.length!=0||c.i.length!=0)&&(U(c.ka,y),U(c.ka,c.i),c.h.i.length=0,F(c.i),c.i.length=0),c.l.ra()}}function qu(c,y,v){var w=v instanceof js?ct(v):new js(v);if(w.g!="")y&&(w.g=y+"."+w.g),wr(w,w.s);else{var q=g.location;w=q.protocol,y=y?y+"."+q.hostname:q.hostname,q=+q.port;var Y=new js(null);w&&wa(Y,w),y&&(Y.g=y),q&&wr(Y,q),v&&(Y.l=v),w=Y}return v=c.D,y=c.ya,v&&y&&qe(w,v,y),qe(w,"VER",c.la),Dr(c,w),w}function Fu(c,y,v){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Qe(new Na({eb:v})):new Qe(c.pa),y.Ha(c.J),y}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Gu(){}s=Gu.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function ji(){}ji.prototype.g=function(c,y){return new rn(c,y)};function rn(c,y){wt.call(this),this.g=new Ni(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!z(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!z(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new ds(this)}D(rn,wt),rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){Ql(this.g)},rn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Ml(c),c=v);y.i.push(new cd(y.Ya++,c)),y.G==3&&Ci(y)},rn.prototype.N=function(){this.g.l=null,delete this.j,Ql(this.g),delete this.g,rn.aa.N.call(this)};function $u(c){ga.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}D($u,ga);function Qu(){qn.call(this),this.status=1}D(Qu,qn);function ds(c){this.g=c}D(ds,Gu),ds.prototype.ua=function(){Ot(this.g,"a")},ds.prototype.ta=function(c){Ot(this.g,new $u(c))},ds.prototype.sa=function(c){Ot(this.g,new Qu)},ds.prototype.ra=function(){Ot(this.g,"b")},ji.prototype.createWebChannel=ji.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,W0=function(){return new ji},Q0=function(){return yi()},$0=Rn,Mm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Rt.NO_ERROR=0,Rt.TIMEOUT=8,Rt.HTTP_ERROR=6,ah=Rt,Cs.COMPLETE="complete",G0=Cs,Nu.EventType=as,as.OPEN="a",as.CLOSE="b",as.ERROR="c",as.MESSAGE="d",wt.prototype.listen=wt.prototype.K,Fo=Nu,Qe.prototype.listenOnce=Qe.prototype.L,Qe.prototype.getLastError=Qe.prototype.Ka,Qe.prototype.getLastErrorCode=Qe.prototype.Ba,Qe.prototype.getStatus=Qe.prototype.Z,Qe.prototype.getResponseJson=Qe.prototype.Oa,Qe.prototype.getResponseText=Qe.prototype.oa,Qe.prototype.send=Qe.prototype.ea,Qe.prototype.setWithCredentials=Qe.prototype.Ha,F0=Qe}).apply(typeof $c<"u"?$c:typeof self<"u"?self:typeof window<"u"?window:{});const $v="@firebase/firestore",Qv="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wl="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ai=new fg("@firebase/firestore");function rl(){return ai.logLevel}function he(s,...e){if(ai.logLevel<=Oe.DEBUG){const n=e.map(pg);ai.debug(`Firestore (${wl}): ${s}`,...n)}}function la(s,...e){if(ai.logLevel<=Oe.ERROR){const n=e.map(pg);ai.error(`Firestore (${wl}): ${s}`,...n)}}function ml(s,...e){if(ai.logLevel<=Oe.WARN){const n=e.map(pg);ai.warn(`Firestore (${wl}): ${s}`,...n)}}function pg(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(s="Unexpected state"){const e=`FIRESTORE (${wl}) INTERNAL ASSERTION FAILED: `+s;throw la(e),new Error(e)}function We(s,e){s||be()}function we(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends ws{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _N{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Jt.UNAUTHENTICATED))}shutdown(){}}class yN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class vN{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){We(this.o===void 0);let r=this.i;const l=p=>this.i!==r?(r=this.i,n(p)):Promise.resolve();let u=new aa;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new aa,e.enqueueRetryable(()=>l(this.currentUser))};const h=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await l(this.currentUser)})},g=p=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>g(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new aa)}},0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(We(typeof r.accessToken=="string"),new Y0(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string"),new Jt(e)}}class xN{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class EN{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new xN(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Wv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class TN{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,bn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){We(this.o===void 0);const r=u=>{u.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.R;return this.R=u.token,he("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const l=u=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>l(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?l(u):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Wv(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(We(typeof n.token=="string"),this.R=n.token,new Wv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bN(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=bN(40);for(let u=0;u<l.length;++u)r.length<20&&l[u]<n&&(r+=e.charAt(l[u]%62))}return r}}function Ve(s,e){return s<e?-1:s>e?1:0}function gl(s,e,n){return s.length===e.length&&s.every((r,l)=>n(r,e[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv=-62135596800,Xv=1e6;class jt{static now(){return jt.fromMillis(Date.now())}static fromDate(e){return jt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Xv);return new jt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Yv)throw new de(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Xv}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Yv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new jt(0,0))}static max(){return new Ae(new jt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv="__name__";class vs{constructor(e,n,r){n===void 0?n=0:n>e.length&&be(),r===void 0?r=e.length-n:r>e.length-n&&be(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return vs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof vs?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let l=0;l<r;l++){const u=vs.compareSegments(e.get(l),n.get(l));if(u!==0)return u}return Math.sign(e.length-n.length)}static compareSegments(e,n){const r=vs.isNumericId(e),l=vs.isNumericId(n);return r&&!l?-1:!r&&l?1:r&&l?vs.extractNumericId(e).compare(vs.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ar.fromString(e.substring(4,e.length-2))}}class nt extends vs{construct(e,n,r){return new nt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new de(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(l=>l.length>0))}return new nt(n)}static emptyPath(){return new nt([])}}const AN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $t extends vs{construct(e,n,r){return new $t(e,n,r)}static isValidIdentifier(e){return AN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Zv}static keyField(){return new $t([Zv])}static fromServerFormat(e){const n=[];let r="",l=0;const u=()=>{if(r.length===0)throw new de(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let h=!1;for(;l<e.length;){const g=e[l];if(g==="\\"){if(l+1===e.length)throw new de(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new de(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=p,l+=2}else g==="`"?(h=!h,l++):g!=="."||h?(r+=g,l++):(u(),l++)}if(u(),h)throw new de(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $t(n)}static emptyPath(){return new $t([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.path=e}static fromPath(e){return new xe(nt.fromString(e))}static fromName(e){return new xe(nt.fromString(e).popFirst(5))}static empty(){return new xe(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return nt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xe(new nt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const su=-1;function SN(s,e){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=Ae.fromTimestamp(r===1e9?new jt(n+1,0):new jt(n,r));return new or(l,xe.empty(),e)}function wN(s){return new or(s.readTime,s.key,su)}class or{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new or(Ae.min(),xe.empty(),su)}static max(){return new or(Ae.max(),xe.empty(),su)}}function RN(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=xe.comparator(s.documentKey,e.documentKey),n!==0?n:Ve(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rl(s){if(s.code!==ne.FAILED_PRECONDITION||s.message!==NN)throw s;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&be(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new se((r,l)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,l)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,l)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof se?n:se.resolve(n)}catch(n){return se.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):se.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):se.reject(n)}static resolve(e){return new se((n,r)=>{n(e)})}static reject(e){return new se((n,r)=>{r(e)})}static waitFor(e){return new se((n,r)=>{let l=0,u=0,h=!1;e.forEach(g=>{++l,g.next(()=>{++u,h&&u===l&&n()},p=>r(p))}),h=!0,u===l&&n()})}static or(e){let n=se.resolve(!1);for(const r of e)n=n.next(l=>l?se.resolve(l):r());return n}static forEach(e,n){const r=[];return e.forEach((l,u)=>{r.push(n.call(this,l,u))}),this.waitFor(r)}static mapArray(e,n){return new se((r,l)=>{const u=e.length,h=new Array(u);let g=0;for(let p=0;p<u;p++){const _=p;n(e[_]).next(E=>{h[_]=E,++g,g===u&&r(h)},E=>l(E))}})}static doWhile(e,n){return new se((r,l)=>{const u=()=>{e()===!0?n().next(()=>{u()},l):r()};u()})}}function CN(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Nl(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Uh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _g=-1;function Hh(s){return s==null}function yh(s){return s===0&&1/s==-1/0}function IN(s){return typeof s=="number"&&Number.isInteger(s)&&!yh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0="";function jN(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=Jv(e)),e=DN(s.get(n),e);return Jv(e)}function DN(s,e){let n=e;const r=s.length;for(let l=0;l<r;l++){const u=s.charAt(l);switch(u){case"\0":n+="";break;case Z0:n+="";break;default:n+=u}}return n}function Jv(s){return s+Z0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ex(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function pr(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function J0(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,n){this.comparator=e,this.root=n||Gt.EMPTY}insert(e,n){return new ot(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(e,r.key);if(l===0)return n+r.left.size;l<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Qc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Qc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Qc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Qc(this.root,e,this.comparator,!0)}}class Qc{constructor(e,n,r,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?r(e.key,n):1,n&&l&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,n,r,l,u){this.key=e,this.value=n,this.color=r??Gt.RED,this.left=l??Gt.EMPTY,this.right=u??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,l,u){return new Gt(e??this.key,n??this.value,r??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let l=this;const u=r(e,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(e,n,r),null):u===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(e,l.key)===0){if(l.right.isEmpty())return Gt.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw be();const e=this.left.check();if(e!==this.right.check())throw be();return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw be()}get value(){throw be()}get color(){throw be()}get left(){throw be()}get right(){throw be()}copy(e,n,r,l,u){return this}insert(e,n,r){return new Gt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new tx(this.data.getIterator())}getIteratorFrom(e){return new tx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Dt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=r.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Dt(this.comparator);return n.data=e,n}}class tx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.fields=e,e.sort($t.comparator)}static empty(){return new An([])}unionWith(e){let n=new Dt($t.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new An(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return gl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new eE("Invalid base64 string: "+u):u}}(e);return new Qt(n)}static fromUint8Array(e){const n=function(l){let u="";for(let h=0;h<l.length;++h)u+=String.fromCharCode(l[h]);return u}(e);return new Qt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let l=0;l<n.length;l++)r[l]=n.charCodeAt(l);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const ON=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ur(s){if(We(!!s),typeof s=="string"){let e=0;const n=ON.exec(s);if(We(!!n),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:yt(s.seconds),nanos:yt(s.nanos)}}function yt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function cr(s){return typeof s=="string"?Qt.fromBase64String(s):Qt.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE="server_timestamp",nE="__type__",sE="__previous_value__",aE="__local_write_time__";function yg(s){var e,n;return((n=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[nE])===null||n===void 0?void 0:n.stringValue)===tE}function Bh(s){const e=s.mapValue.fields[sE];return yg(e)?Bh(e):e}function au(s){const e=ur(s.mapValue.fields[aE].timestampValue);return new jt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e,n,r,l,u,h,g,p,_){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=l,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=_}}const vh="(default)";class ru{constructor(e,n){this.projectId=e,this.database=n||vh}static empty(){return new ru("","")}get isDefaultDatabase(){return this.database===vh}isEqual(e){return e instanceof ru&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE="__type__",LN="__max__",Wc={mapValue:{}},iE="__vector__",xh="value";function hr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?yg(s)?4:PN(s)?9007199254740991:VN(s)?10:11:be()}function Ss(s,e){if(s===e)return!0;const n=hr(s);if(n!==hr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return au(s).isEqual(au(e));case 3:return function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const h=ur(l.timestampValue),g=ur(u.timestampValue);return h.seconds===g.seconds&&h.nanos===g.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(l,u){return cr(l.bytesValue).isEqual(cr(u.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(l,u){return yt(l.geoPointValue.latitude)===yt(u.geoPointValue.latitude)&&yt(l.geoPointValue.longitude)===yt(u.geoPointValue.longitude)}(s,e);case 2:return function(l,u){if("integerValue"in l&&"integerValue"in u)return yt(l.integerValue)===yt(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const h=yt(l.doubleValue),g=yt(u.doubleValue);return h===g?yh(h)===yh(g):isNaN(h)&&isNaN(g)}return!1}(s,e);case 9:return gl(s.arrayValue.values||[],e.arrayValue.values||[],Ss);case 10:case 11:return function(l,u){const h=l.mapValue.fields||{},g=u.mapValue.fields||{};if(ex(h)!==ex(g))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(g[p]===void 0||!Ss(h[p],g[p])))return!1;return!0}(s,e);default:return be()}}function iu(s,e){return(s.values||[]).find(n=>Ss(n,e))!==void 0}function pl(s,e){if(s===e)return 0;const n=hr(s),r=hr(e);if(n!==r)return Ve(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(s.booleanValue,e.booleanValue);case 2:return function(u,h){const g=yt(u.integerValue||u.doubleValue),p=yt(h.integerValue||h.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1}(s,e);case 3:return nx(s.timestampValue,e.timestampValue);case 4:return nx(au(s),au(e));case 5:return Ve(s.stringValue,e.stringValue);case 6:return function(u,h){const g=cr(u),p=cr(h);return g.compareTo(p)}(s.bytesValue,e.bytesValue);case 7:return function(u,h){const g=u.split("/"),p=h.split("/");for(let _=0;_<g.length&&_<p.length;_++){const E=Ve(g[_],p[_]);if(E!==0)return E}return Ve(g.length,p.length)}(s.referenceValue,e.referenceValue);case 8:return function(u,h){const g=Ve(yt(u.latitude),yt(h.latitude));return g!==0?g:Ve(yt(u.longitude),yt(h.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return sx(s.arrayValue,e.arrayValue);case 10:return function(u,h){var g,p,_,E;const b=u.fields||{},A=h.fields||{},C=(g=b[xh])===null||g===void 0?void 0:g.arrayValue,D=(p=A[xh])===null||p===void 0?void 0:p.arrayValue,F=Ve(((_=C==null?void 0:C.values)===null||_===void 0?void 0:_.length)||0,((E=D==null?void 0:D.values)===null||E===void 0?void 0:E.length)||0);return F!==0?F:sx(C,D)}(s.mapValue,e.mapValue);case 11:return function(u,h){if(u===Wc.mapValue&&h===Wc.mapValue)return 0;if(u===Wc.mapValue)return 1;if(h===Wc.mapValue)return-1;const g=u.fields||{},p=Object.keys(g),_=h.fields||{},E=Object.keys(_);p.sort(),E.sort();for(let b=0;b<p.length&&b<E.length;++b){const A=Ve(p[b],E[b]);if(A!==0)return A;const C=pl(g[p[b]],_[E[b]]);if(C!==0)return C}return Ve(p.length,E.length)}(s.mapValue,e.mapValue);default:throw be()}}function nx(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Ve(s,e);const n=ur(s),r=ur(e),l=Ve(n.seconds,r.seconds);return l!==0?l:Ve(n.nanos,r.nanos)}function sx(s,e){const n=s.values||[],r=e.values||[];for(let l=0;l<n.length&&l<r.length;++l){const u=pl(n[l],r[l]);if(u)return u}return Ve(n.length,r.length)}function _l(s){return Lm(s)}function Lm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(n){const r=ur(n);return`time(${r.seconds},${r.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(n){return cr(n).toBase64()}(s.bytesValue):"referenceValue"in s?function(n){return xe.fromName(n).toString()}(s.referenceValue):"geoPointValue"in s?function(n){return`geo(${n.latitude},${n.longitude})`}(s.geoPointValue):"arrayValue"in s?function(n){let r="[",l=!0;for(const u of n.values||[])l?l=!1:r+=",",r+=Lm(u);return r+"]"}(s.arrayValue):"mapValue"in s?function(n){const r=Object.keys(n.fields||{}).sort();let l="{",u=!0;for(const h of r)u?u=!1:l+=",",l+=`${h}:${Lm(n.fields[h])}`;return l+"}"}(s.mapValue):be()}function rh(s){switch(hr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Bh(s);return e?16+rh(e):16;case 5:return 2*s.stringValue.length;case 6:return cr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((l,u)=>l+rh(u),0)}(s.arrayValue);case 10:case 11:return function(r){let l=0;return pr(r.fields,(u,h)=>{l+=u.length+rh(h)}),l}(s.mapValue);default:throw be()}}function ax(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Vm(s){return!!s&&"integerValue"in s}function vg(s){return!!s&&"arrayValue"in s}function rx(s){return!!s&&"nullValue"in s}function ix(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function ih(s){return!!s&&"mapValue"in s}function VN(s){var e,n;return((n=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[rE])===null||n===void 0?void 0:n.stringValue)===iE}function Wo(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return pr(s.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Wo(r)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Wo(s.arrayValue.values[n]);return e}return Object.assign({},s)}function PN(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===LN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.value=e}static empty(){return new gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ih(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wo(n)}setAll(e){let n=$t.emptyPath(),r={},l=[];e.forEach((h,g)=>{if(!n.isImmediateParentOf(g)){const p=this.getFieldsMap(n);this.applyChanges(p,r,l),r={},l=[],n=g.popLast()}h?r[g.lastSegment()]=Wo(h):l.push(g.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,r,l)}delete(e){const n=this.field(e.popLast());ih(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ss(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let l=n.mapValue.fields[e.get(r)];ih(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,r){pr(n,(l,u)=>e[l]=u);for(const l of r)delete e[l]}clone(){return new gn(Wo(this.value))}}function lE(s){const e=[];return pr(s.fields,(n,r)=>{const l=new $t([n]);if(ih(r)){const u=lE(r.mapValue).fields;if(u.length===0)e.push(l);else for(const h of u)e.push(l.child(h))}else e.push(l)}),new An(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,n,r,l,u,h,g){this.key=e,this.documentType=n,this.version=r,this.readTime=l,this.createTime=u,this.data=h,this.documentState=g}static newInvalidDocument(e){return new en(e,0,Ae.min(),Ae.min(),Ae.min(),gn.empty(),0)}static newFoundDocument(e,n,r,l){return new en(e,1,n,Ae.min(),r,l,0)}static newNoDocument(e,n){return new en(e,2,n,Ae.min(),Ae.min(),gn.empty(),0)}static newUnknownDocument(e,n){return new en(e,3,n,Ae.min(),Ae.min(),gn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,n){this.position=e,this.inclusive=n}}function lx(s,e,n){let r=0;for(let l=0;l<s.position.length;l++){const u=e[l],h=s.position[l];if(u.field.isKeyField()?r=xe.comparator(xe.fromName(h.referenceValue),n.key):r=pl(h,n.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function ox(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!Ss(s.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e,n="asc"){this.field=e,this.dir=n}}function UN(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{}class St extends oE{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new BN(e,n,r):n==="array-contains"?new qN(e,r):n==="in"?new FN(e,r):n==="not-in"?new GN(e,r):n==="array-contains-any"?new $N(e,r):new St(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new zN(e,r):new KN(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(pl(n,this.value)):n!==null&&hr(this.value)===hr(n)&&this.matchesComparison(pl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zn extends oE{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Zn(e,n)}matches(e){return uE(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function uE(s){return s.op==="and"}function cE(s){return HN(s)&&uE(s)}function HN(s){for(const e of s.filters)if(e instanceof Zn)return!1;return!0}function Pm(s){if(s instanceof St)return s.field.canonicalString()+s.op.toString()+_l(s.value);if(cE(s))return s.filters.map(e=>Pm(e)).join(",");{const e=s.filters.map(n=>Pm(n)).join(",");return`${s.op}(${e})`}}function hE(s,e){return s instanceof St?function(r,l){return l instanceof St&&r.op===l.op&&r.field.isEqual(l.field)&&Ss(r.value,l.value)}(s,e):s instanceof Zn?function(r,l){return l instanceof Zn&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce((u,h,g)=>u&&hE(h,l.filters[g]),!0):!1}(s,e):void be()}function dE(s){return s instanceof St?function(n){return`${n.field.canonicalString()} ${n.op} ${_l(n.value)}`}(s):s instanceof Zn?function(n){return n.op.toString()+" {"+n.getFilters().map(dE).join(" ,")+"}"}(s):"Filter"}class BN extends St{constructor(e,n,r){super(e,n,r),this.key=xe.fromName(r.referenceValue)}matches(e){const n=xe.comparator(e.key,this.key);return this.matchesComparison(n)}}class zN extends St{constructor(e,n){super(e,"in",n),this.keys=fE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class KN extends St{constructor(e,n){super(e,"not-in",n),this.keys=fE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function fE(s,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>xe.fromName(r.referenceValue))}class qN extends St{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return vg(n)&&iu(n.arrayValue,this.value)}}class FN extends St{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&iu(this.value.arrayValue,n)}}class GN extends St{constructor(e,n){super(e,"not-in",n)}matches(e){if(iu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!iu(this.value.arrayValue,n)}}class $N extends St{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!vg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>iu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(e,n=null,r=[],l=[],u=null,h=null,g=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=l,this.limit=u,this.startAt=h,this.endAt=g,this.le=null}}function ux(s,e=null,n=[],r=[],l=null,u=null,h=null){return new QN(s,e,n,r,l,u,h)}function xg(s){const e=we(s);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Pm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(u){return u.field.canonicalString()+u.dir}(r)).join(","),Hh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>_l(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>_l(r)).join(",")),e.le=n}return e.le}function Eg(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!UN(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!hE(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!ox(s.startAt,e.startAt)&&ox(s.endAt,e.endAt)}function Um(s){return xe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e,n=null,r=[],l=[],u=null,h="F",g=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=l,this.limit=u,this.limitType=h,this.startAt=g,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function WN(s,e,n,r,l,u,h,g){return new kl(s,e,n,r,l,u,h,g)}function Tg(s){return new kl(s)}function cx(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function mE(s){return s.collectionGroup!==null}function Yo(s){const e=we(s);if(e.he===null){e.he=[];const n=new Set;for(const u of e.explicitOrderBy)e.he.push(u),n.add(u.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let g=new Dt($t.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(_=>{_.isInequality()&&(g=g.add(_.field))})}),g})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.he.push(new lu(u,r))}),n.has($t.keyField().canonicalString())||e.he.push(new lu($t.keyField(),r))}return e.he}function Es(s){const e=we(s);return e.Pe||(e.Pe=YN(e,Yo(s))),e.Pe}function YN(s,e){if(s.limitType==="F")return ux(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(l=>{const u=l.dir==="desc"?"asc":"desc";return new lu(l.field,u)});const n=s.endAt?new Eh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new Eh(s.startAt.position,s.startAt.inclusive):null;return ux(s.path,s.collectionGroup,e,s.filters,s.limit,n,r)}}function Hm(s,e){const n=s.filters.concat([e]);return new kl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function Bm(s,e,n){return new kl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function zh(s,e){return Eg(Es(s),Es(e))&&s.limitType===e.limitType}function gE(s){return`${xg(Es(s))}|lt:${s.limitType}`}function il(s){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(l=>dE(l)).join(", ")}]`),Hh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(l=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(l)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(l=>_l(l)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(l=>_l(l)).join(",")),`Target(${r})`}(Es(s))}; limitType=${s.limitType})`}function Kh(s,e){return e.isFoundDocument()&&function(r,l){const u=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):xe.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)}(s,e)&&function(r,l){for(const u of Yo(r))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0}(s,e)&&function(r,l){for(const u of r.filters)if(!u.matches(l))return!1;return!0}(s,e)&&function(r,l){return!(r.startAt&&!function(h,g,p){const _=lx(h,g,p);return h.inclusive?_<=0:_<0}(r.startAt,Yo(r),l)||r.endAt&&!function(h,g,p){const _=lx(h,g,p);return h.inclusive?_>=0:_>0}(r.endAt,Yo(r),l))}(s,e)}function XN(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function pE(s){return(e,n)=>{let r=!1;for(const l of Yo(s)){const u=ZN(l,e,n);if(u!==0)return u;r=r||l.field.isKeyField()}return 0}}function ZN(s,e,n){const r=s.field.isKeyField()?xe.comparator(e.key,n.key):function(u,h,g){const p=h.data.field(u),_=g.data.field(u);return p!==null&&_!==null?pl(p,_):be()}(s.field,e,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return be()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[l,u]of r)if(this.equalsFn(l,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),l=this.inner[r];if(l===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],e))return void(l[u]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],e))return r.length===1?delete this.inner[n]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(e){pr(this.inner,(n,r)=>{for(const[l,u]of r)e(l,u)})}isEmpty(){return J0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN=new ot(xe.comparator);function oa(){return JN}const _E=new ot(xe.comparator);function Go(...s){let e=_E;for(const n of s)e=e.insert(n.key,n);return e}function yE(s){let e=_E;return s.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ei(){return Xo()}function vE(){return Xo()}function Xo(){return new ci(s=>s.toString(),(s,e)=>s.isEqual(e))}const ek=new ot(xe.comparator),tk=new Dt(xe.comparator);function Me(...s){let e=tk;for(const n of s)e=e.add(n);return e}const nk=new Dt(Ve);function sk(){return nk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bg(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yh(e)?"-0":e}}function xE(s){return{integerValue:""+s}}function ak(s,e){return IN(e)?xE(e):bg(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(){this._=void 0}}function rk(s,e,n){return s instanceof Th?function(l,u){const h={fields:{[nE]:{stringValue:tE},[aE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&yg(u)&&(u=Bh(u)),u&&(h.fields[sE]=u),{mapValue:h}}(n,e):s instanceof ou?TE(s,e):s instanceof uu?bE(s,e):function(l,u){const h=EE(l,u),g=hx(h)+hx(l.Ie);return Vm(h)&&Vm(l.Ie)?xE(g):bg(l.serializer,g)}(s,e)}function ik(s,e,n){return s instanceof ou?TE(s,e):s instanceof uu?bE(s,e):n}function EE(s,e){return s instanceof bh?function(r){return Vm(r)||function(u){return!!u&&"doubleValue"in u}(r)}(e)?e:{integerValue:0}:null}class Th extends qh{}class ou extends qh{constructor(e){super(),this.elements=e}}function TE(s,e){const n=AE(e);for(const r of s.elements)n.some(l=>Ss(l,r))||n.push(r);return{arrayValue:{values:n}}}class uu extends qh{constructor(e){super(),this.elements=e}}function bE(s,e){let n=AE(e);for(const r of s.elements)n=n.filter(l=>!Ss(l,r));return{arrayValue:{values:n}}}class bh extends qh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function hx(s){return yt(s.integerValue||s.doubleValue)}function AE(s){return vg(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function lk(s,e){return s.field.isEqual(e.field)&&function(r,l){return r instanceof ou&&l instanceof ou||r instanceof uu&&l instanceof uu?gl(r.elements,l.elements,Ss):r instanceof bh&&l instanceof bh?Ss(r.Ie,l.Ie):r instanceof Th&&l instanceof Th}(s.transform,e.transform)}class ok{constructor(e,n){this.version=e,this.transformResults=n}}class Kn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Kn}static exists(e){return new Kn(void 0,e)}static updateTime(e){return new Kn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lh(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Fh{}function SE(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Ag(s.key,Kn.none()):new gu(s.key,s.data,Kn.none());{const n=s.data,r=gn.empty();let l=new Dt($t.comparator);for(let u of e.fields)if(!l.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?r.delete(u):r.set(u,h),l=l.add(u)}return new _r(s.key,r,new An(l.toArray()),Kn.none())}}function uk(s,e,n){s instanceof gu?function(l,u,h){const g=l.value.clone(),p=fx(l.fieldTransforms,u,h.transformResults);g.setAll(p),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()}(s,e,n):s instanceof _r?function(l,u,h){if(!lh(l.precondition,u))return void u.convertToUnknownDocument(h.version);const g=fx(l.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(wE(l)),p.setAll(g),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(s,e,n):function(l,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,n)}function Zo(s,e,n,r){return s instanceof gu?function(u,h,g,p){if(!lh(u.precondition,h))return g;const _=u.value.clone(),E=mx(u.fieldTransforms,p,h);return _.setAll(E),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),null}(s,e,n,r):s instanceof _r?function(u,h,g,p){if(!lh(u.precondition,h))return g;const _=mx(u.fieldTransforms,p,h),E=h.data;return E.setAll(wE(u)),E.setAll(_),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),g===null?null:g.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(b=>b.field))}(s,e,n,r):function(u,h,g){return lh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):g}(s,e,n)}function ck(s,e){let n=null;for(const r of s.fieldTransforms){const l=e.data.field(r.field),u=EE(r.transform,l||null);u!=null&&(n===null&&(n=gn.empty()),n.set(r.field,u))}return n||null}function dx(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&gl(r,l,(u,h)=>lk(u,h))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class gu extends Fh{constructor(e,n,r,l=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class _r extends Fh{constructor(e,n,r,l,u=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function wE(s){const e=new Map;return s.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=s.data.field(n);e.set(n,r)}}),e}function fx(s,e,n){const r=new Map;We(s.length===n.length);for(let l=0;l<n.length;l++){const u=s[l],h=u.transform,g=e.data.field(u.field);r.set(u.field,ik(h,g,n[l]))}return r}function mx(s,e,n){const r=new Map;for(const l of s){const u=l.transform,h=n.data.field(l.field);r.set(l.field,rk(u,h,e))}return r}class Ag extends Fh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hk extends Fh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(e,n,r,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(e.key)&&uk(u,e,r[l])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Zo(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Zo(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=vE();return this.mutations.forEach(l=>{const u=e.get(l.key),h=u.overlayedDocument;let g=this.applyToLocalView(h,u.mutatedFields);g=n.has(l.key)?null:g;const p=SE(h,g);p!==null&&r.set(l.key,p),h.isValidDocument()||h.convertToNoDocument(Ae.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Me())}isEqual(e){return this.batchId===e.batchId&&gl(this.mutations,e.mutations,(n,r)=>dx(n,r))&&gl(this.baseMutations,e.baseMutations,(n,r)=>dx(n,r))}}class Sg{constructor(e,n,r,l){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=l}static from(e,n,r){We(e.mutations.length===r.length);let l=function(){return ek}();const u=e.mutations;for(let h=0;h<u.length;h++)l=l.insert(u[h].key,r[h].version);return new Sg(e,n,r,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var At,ze;function gk(s){switch(s){case ne.OK:return be();case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return be()}}function RE(s){if(s===void 0)return la("GRPC error has no .code"),ne.UNKNOWN;switch(s){case At.OK:return ne.OK;case At.CANCELLED:return ne.CANCELLED;case At.UNKNOWN:return ne.UNKNOWN;case At.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case At.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case At.INTERNAL:return ne.INTERNAL;case At.UNAVAILABLE:return ne.UNAVAILABLE;case At.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case At.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case At.NOT_FOUND:return ne.NOT_FOUND;case At.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case At.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case At.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case At.ABORTED:return ne.ABORTED;case At.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case At.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case At.DATA_LOSS:return ne.DATA_LOSS;default:return be()}}(ze=At||(At={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _k=new ar([4294967295,4294967295],0);function gx(s){const e=pk().encode(s),n=new q0;return n.update(e),new Uint8Array(n.digest())}function px(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),l=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ar([n,r],0),new ar([l,u],0)]}class wg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new $o(`Invalid padding: ${n}`);if(r<0)throw new $o(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new $o(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new $o(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=ar.fromNumber(this.Ee)}Ae(e,n,r){let l=e.add(n.multiply(ar.fromNumber(r)));return l.compare(_k)===1&&(l=new ar([l.getBits(0),l.getBits(1)],0)),l.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=gx(e),[r,l]=px(n);for(let u=0;u<this.hashCount;u++){const h=this.Ae(r,l,u);if(!this.Re(h))return!1}return!0}static create(e,n,r){const l=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new wg(u,l,n);return r.forEach(g=>h.insert(g)),h}insert(e){if(this.Ee===0)return;const n=gx(e),[r,l]=px(n);for(let u=0;u<this.hashCount;u++){const h=this.Ae(r,l,u);this.Ve(h)}}Ve(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class $o extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,n,r,l,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const l=new Map;return l.set(e,pu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Gh(Ae.min(),l,new ot(Ve),oa(),Me())}}class pu{constructor(e,n,r,l,u){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new pu(r,n,Me(),Me(),Me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,n,r,l){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=l}}class NE{constructor(e,n){this.targetId=e,this.ge=n}}class kE{constructor(e,n,r=Qt.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=l}}class _x{constructor(){this.pe=0,this.ye=yx(),this.we=Qt.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Me(),n=Me(),r=Me();return this.ye.forEach((l,u)=>{switch(u){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:r=r.add(l);break;default:be()}}),new pu(this.we,this.be,e,n,r)}Me(){this.Se=!1,this.ye=yx()}xe(e,n){this.Se=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,We(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class yk{constructor(e){this.ke=e,this.qe=new Map,this.Qe=oa(),this.$e=Yc(),this.Ke=Yc(),this.Ue=new ot(Ve)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(e.resumeToken));break;default:be()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,l)=>{this.Je(l)&&n(l)})}Ze(e){const n=e.targetId,r=e.ge.count,l=this.Xe(n);if(l){const u=l.target;if(Um(u))if(r===0){const h=new xe(u.path);this.ze(n,h,en.newNoDocument(h,Ae.min()))}else We(r===1);else{const h=this.et(n);if(h!==r){const g=this.tt(e),p=g?this.nt(g,e,h):1;if(p!==0){this.Ye(n);const _=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,_)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:u=0}=n;let h,g;try{h=cr(r).toUint8Array()}catch(p){if(p instanceof eE)return ml("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new wg(h,l,u)}catch(p){return ml(p instanceof $o?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.Ee===0?null:g}nt(e,n,r){return n.ge.count===r-this.st(e,n.targetId)?0:2}st(e,n){const r=this.ke.getRemoteKeysForTarget(n);let l=0;return r.forEach(u=>{const h=this.ke.it(),g=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(g)||(this.ze(n,u,null),l++)}),l}ot(e){const n=new Map;this.qe.forEach((u,h)=>{const g=this.Xe(h);if(g){if(u.current&&Um(g.target)){const p=new xe(g.target.path);this._t(p).has(h)||this.ut(h,p)||this.ze(h,p,en.newNoDocument(p,e))}u.ve&&(n.set(h,u.Fe()),u.Me())}});let r=Me();this.Ke.forEach((u,h)=>{let g=!0;h.forEachWhile(p=>{const _=this.Xe(p);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(r=r.add(u))}),this.Qe.forEach((u,h)=>h.setReadTime(e));const l=new Gh(e,n,this.Ue,this.Qe,r);return this.Qe=oa(),this.$e=Yc(),this.Ke=Yc(),this.Ue=new ot(Ve),l}Ge(e,n){if(!this.Je(e))return;const r=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const l=this.He(e);this.ut(e,n)?l.xe(n,1):l.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(e)),this.Ke=this.Ke.insert(n,this.ct(n).add(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new _x,this.qe.set(e,n)),n}ct(e){let n=this.Ke.get(e);return n||(n=new Dt(Ve),this.Ke=this.Ke.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Dt(Ve),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new _x),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Yc(){return new ot(xe.comparator)}function yx(){return new ot(xe.comparator)}const vk={asc:"ASCENDING",desc:"DESCENDING"},xk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ek={and:"AND",or:"OR"};class Tk{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function zm(s,e){return s.useProto3Json||Hh(e)?e:{value:e}}function Ah(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function CE(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function bk(s,e){return Ah(s,e.toTimestamp())}function Ts(s){return We(!!s),Ae.fromTimestamp(function(n){const r=ur(n);return new jt(r.seconds,r.nanos)}(s))}function Rg(s,e){return Km(s,e).canonicalString()}function Km(s,e){const n=function(l){return new nt(["projects",l.projectId,"databases",l.database])}(s).child("documents");return e===void 0?n:n.child(e)}function IE(s){const e=nt.fromString(s);return We(LE(e)),e}function qm(s,e){return Rg(s.databaseId,e.path)}function xm(s,e){const n=IE(e);if(n.get(1)!==s.databaseId.projectId)throw new de(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new de(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new xe(DE(n))}function jE(s,e){return Rg(s.databaseId,e)}function Ak(s){const e=IE(s);return e.length===4?nt.emptyPath():DE(e)}function Fm(s){return new nt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function DE(s){return We(s.length>4&&s.get(4)==="documents"),s.popFirst(5)}function vx(s,e,n){return{name:qm(s,e),fields:n.value.mapValue.fields}}function Sk(s,e){let n;if("targetChange"in e){e.targetChange;const r=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:be()}(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],u=function(_,E){return _.useProto3Json?(We(E===void 0||typeof E=="string"),Qt.fromBase64String(E||"")):(We(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Qt.fromUint8Array(E||new Uint8Array))}(s,e.targetChange.resumeToken),h=e.targetChange.cause,g=h&&function(_){const E=_.code===void 0?ne.UNKNOWN:RE(_.code);return new de(E,_.message||"")}(h);n=new kE(r,l,u,g||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const l=xm(s,r.document.name),u=Ts(r.document.updateTime),h=r.document.createTime?Ts(r.document.createTime):Ae.min(),g=new gn({mapValue:{fields:r.document.fields}}),p=en.newFoundDocument(l,u,h,g),_=r.targetIds||[],E=r.removedTargetIds||[];n=new oh(_,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const l=xm(s,r.document),u=r.readTime?Ts(r.readTime):Ae.min(),h=en.newNoDocument(l,u),g=r.removedTargetIds||[];n=new oh([],g,h.key,h)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const l=xm(s,r.document),u=r.removedTargetIds||[];n=new oh([],u,l,null)}else{if(!("filter"in e))return be();{e.filter;const r=e.filter;r.targetId;const{count:l=0,unchangedNames:u}=r,h=new mk(l,u),g=r.targetId;n=new NE(g,h)}}return n}function wk(s,e){let n;if(e instanceof gu)n={update:vx(s,e.key,e.value)};else if(e instanceof Ag)n={delete:qm(s,e.key)};else if(e instanceof _r)n={update:vx(s,e.key,e.data),updateMask:Mk(e.fieldMask)};else{if(!(e instanceof hk))return be();n={verify:qm(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(u,h){const g=h.transform;if(g instanceof Th)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof ou)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof uu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof bh)return{fieldPath:h.field.canonicalString(),increment:g.Ie};throw be()}(0,r))),e.precondition.isNone||(n.currentDocument=function(l,u){return u.updateTime!==void 0?{updateTime:bk(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:be()}(s,e.precondition)),n}function Rk(s,e){return s&&s.length>0?(We(e!==void 0),s.map(n=>function(l,u){let h=l.updateTime?Ts(l.updateTime):Ts(u);return h.isEqual(Ae.min())&&(h=Ts(u)),new ok(h,l.transformResults||[])}(n,e))):[]}function Nk(s,e){return{documents:[jE(s,e.path)]}}function kk(s,e){const n={structuredQuery:{}},r=e.path;let l;e.collectionGroup!==null?(l=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=jE(s,l);const u=function(_){if(_.length!==0)return ME(Zn.create(_,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const h=function(_){if(_.length!==0)return _.map(E=>function(A){return{field:ll(A.field),direction:jk(A.dir)}}(E))}(e.orderBy);h&&(n.structuredQuery.orderBy=h);const g=zm(s,e.limit);return g!==null&&(n.structuredQuery.limit=g),e.startAt&&(n.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{ht:n,parent:l}}function Ck(s){let e=Ak(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let l=null;if(r>0){We(r===1);const E=n.from[0];E.allDescendants?l=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(b){const A=OE(b);return A instanceof Zn&&cE(A)?A.getFilters():[A]}(n.where));let h=[];n.orderBy&&(h=function(b){return b.map(A=>function(D){return new lu(ol(D.field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction))}(A))}(n.orderBy));let g=null;n.limit&&(g=function(b){let A;return A=typeof b=="object"?b.value:b,Hh(A)?null:A}(n.limit));let p=null;n.startAt&&(p=function(b){const A=!!b.before,C=b.values||[];return new Eh(C,A)}(n.startAt));let _=null;return n.endAt&&(_=function(b){const A=!b.before,C=b.values||[];return new Eh(C,A)}(n.endAt)),WN(e,l,h,u,g,"F",p,_)}function Ik(s,e){const n=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function OE(s){return s.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ol(n.unaryFilter.field);return St.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=ol(n.unaryFilter.field);return St.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=ol(n.unaryFilter.field);return St.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=ol(n.unaryFilter.field);return St.create(h,"!=",{nullValue:"NULL_VALUE"});default:return be()}}(s):s.fieldFilter!==void 0?function(n){return St.create(ol(n.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return be()}}(n.fieldFilter.op),n.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(n){return Zn.create(n.compositeFilter.filters.map(r=>OE(r)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return be()}}(n.compositeFilter.op))}(s):be()}function jk(s){return vk[s]}function Dk(s){return xk[s]}function Ok(s){return Ek[s]}function ll(s){return{fieldPath:s.canonicalString()}}function ol(s){return $t.fromServerFormat(s.fieldPath)}function ME(s){return s instanceof St?function(n){if(n.op==="=="){if(ix(n.value))return{unaryFilter:{field:ll(n.field),op:"IS_NAN"}};if(rx(n.value))return{unaryFilter:{field:ll(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ix(n.value))return{unaryFilter:{field:ll(n.field),op:"IS_NOT_NAN"}};if(rx(n.value))return{unaryFilter:{field:ll(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ll(n.field),op:Dk(n.op),value:n.value}}}(s):s instanceof Zn?function(n){const r=n.getFilters().map(l=>ME(l));return r.length===1?r[0]:{compositeFilter:{op:Ok(n.op),filters:r}}}(s):be()}function Mk(s){const e=[];return s.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function LE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e,n,r,l,u=Ae.min(),h=Ae.min(),g=Qt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(e){return new tr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new tr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(e){this.Tt=e}}function Vk(s){const e=Ck({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Bm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(){this.Tn=new Uk}addToCollectionParentIndex(e,n){return this.Tn.add(n),se.resolve()}getCollectionParents(e,n){return se.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return se.resolve()}deleteFieldIndex(e,n){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,n){return se.resolve()}getDocumentsMatchingTarget(e,n){return se.resolve(null)}getIndexType(e,n){return se.resolve(0)}getFieldIndexes(e,n){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,n){return se.resolve(or.min())}getMinOffsetFromCollectionGroup(e,n){return se.resolve(or.min())}updateCollectionGroup(e,n,r){return se.resolve()}updateIndexEntries(e,n){return se.resolve()}}class Uk{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),l=this.index[n]||new Dt(nt.comparator),u=!l.has(r);return this.index[n]=l.add(r),u}has(e){const n=e.lastSegment(),r=e.popLast(),l=this.index[n];return l&&l.has(r)}getEntries(e){return(this.index[e]||new Dt(nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},VE=41943040;class mn{static withCacheSize(e){return new mn(e,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(VE,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new yl(0)}static Un(){return new yl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ex="LruGarbageCollector",Hk=1048576;function Tx([s,e],[n,r]){const l=Ve(s,n);return l===0?Ve(e,r):l}class Bk{constructor(e){this.Hn=e,this.buffer=new Dt(Tx),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Tx(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class zk{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){he(Ex,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Nl(n)?he(Ex,"Ignoring IndexedDB error during garbage collection: ",n):await Rl(n)}await this.er(3e5)})}}class Kk{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return se.resolve(Uh.ae);const r=new Bk(n);return this.tr.forEachTarget(e,l=>r.Zn(l.sequenceNumber)).next(()=>this.tr.rr(e,l=>r.Zn(l))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.tr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(xx)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),xx):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let r,l,u,h,g,p,_;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),l=this.params.maximumSequenceNumbersToCollect):l=b,h=Date.now(),this.nthSequenceNumber(e,l))).next(b=>(r=b,g=Date.now(),this.removeTargets(e,r,n))).next(b=>(u=b,p=Date.now(),this.removeOrphanedDocuments(e,r))).next(b=>(_=Date.now(),rl()<=Oe.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${l} in `+(g-h)+`ms
	Removed ${u} targets in `+(p-g)+`ms
	Removed ${b} documents in `+(_-p)+`ms
Total Duration: ${_-E}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:b})))}}function qk(s,e){return new Kk(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(){this.changes=new ci(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?se.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(e,n,r,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=l}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(l=>(r=l,this.remoteDocumentCache.getEntry(e,n))).next(l=>(r!==null&&Zo(r.mutation,l,An.empty(),jt.now()),l))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Me()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Me()){const l=ei();return this.populateOverlays(e,l,n).next(()=>this.computeViews(e,n,l,r).next(u=>{let h=Go();return u.forEach((g,p)=>{h=h.insert(g,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,n){const r=ei();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Me()))}populateOverlays(e,n,r){const l=[];return r.forEach(u=>{n.has(u)||l.push(u)}),this.documentOverlayCache.getOverlays(e,l).next(u=>{u.forEach((h,g)=>{n.set(h,g)})})}computeViews(e,n,r,l){let u=oa();const h=Xo(),g=function(){return Xo()}();return n.forEach((p,_)=>{const E=r.get(_.key);l.has(_.key)&&(E===void 0||E.mutation instanceof _r)?u=u.insert(_.key,_):E!==void 0?(h.set(_.key,E.mutation.getFieldMask()),Zo(E.mutation,_,E.mutation.getFieldMask(),jt.now())):h.set(_.key,An.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((_,E)=>h.set(_,E)),n.forEach((_,E)=>{var b;return g.set(_,new Gk(E,(b=h.get(_))!==null&&b!==void 0?b:null))}),g))}recalculateAndSaveOverlays(e,n){const r=Xo();let l=new ot((h,g)=>h-g),u=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(h=>{for(const g of h)g.keys().forEach(p=>{const _=n.get(p);if(_===null)return;let E=r.get(p)||An.empty();E=g.applyToLocalView(_,E),r.set(p,E);const b=(l.get(g.batchId)||Me()).add(p);l=l.insert(g.batchId,b)})}).next(()=>{const h=[],g=l.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),_=p.key,E=p.value,b=vE();E.forEach(A=>{if(!u.has(A)){const C=SE(n.get(A),r.get(A));C!==null&&b.set(A,C),u=u.add(A)}}),h.push(this.documentOverlayCache.saveOverlays(e,_,b))}return se.waitFor(h)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,l){return function(h){return xe.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):mE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,l):this.getDocumentsMatchingCollectionQuery(e,n,r,l)}getNextDocuments(e,n,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,l).next(u=>{const h=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,l-u.size):se.resolve(ei());let g=su,p=u;return h.next(_=>se.forEach(_,(E,b)=>(g<b.largestBatchId&&(g=b.largestBatchId),u.get(E)?se.resolve():this.remoteDocumentCache.getEntry(e,E).next(A=>{p=p.insert(E,A)}))).next(()=>this.populateOverlays(e,_,u)).next(()=>this.computeViews(e,p,_,Me())).next(E=>({batchId:g,changes:yE(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new xe(n)).next(r=>{let l=Go();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l})}getDocumentsMatchingCollectionGroupQuery(e,n,r,l){const u=n.collectionGroup;let h=Go();return this.indexManager.getCollectionParents(e,u).next(g=>se.forEach(g,p=>{const _=function(b,A){return new kl(A,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,_,r,l).next(E=>{E.forEach((b,A)=>{h=h.insert(b,A)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,n,r,l){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,u,l))).next(h=>{u.forEach((p,_)=>{const E=_.getKey();h.get(E)===null&&(h=h.insert(E,en.newInvalidDocument(E)))});let g=Go();return h.forEach((p,_)=>{const E=u.get(p);E!==void 0&&Zo(E.mutation,_,An.empty(),jt.now()),Kh(n,_)&&(g=g.insert(p,_))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return se.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(l){return{id:l.id,version:l.version,createTime:Ts(l.createTime)}}(n)),se.resolve()}getNamedQuery(e,n){return se.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(l){return{name:l.name,query:Vk(l.bundledQuery),readTime:Ts(l.readTime)}}(n)),se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(){this.overlays=new ot(xe.comparator),this.Rr=new Map}getOverlay(e,n){return se.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ei();return se.forEach(n,l=>this.getOverlay(e,l).next(u=>{u!==null&&r.set(l,u)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((l,u)=>{this.Et(e,n,u)}),se.resolve()}removeOverlaysForBatchId(e,n,r){const l=this.Rr.get(r);return l!==void 0&&(l.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(r)),se.resolve()}getOverlaysForCollection(e,n,r){const l=ei(),u=n.length+1,h=new xe(n.child("")),g=this.overlays.getIteratorFrom(h);for(;g.hasNext();){const p=g.getNext().value,_=p.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===u&&p.largestBatchId>r&&l.set(p.getKey(),p)}return se.resolve(l)}getOverlaysForCollectionGroup(e,n,r,l){let u=new ot((_,E)=>_-E);const h=this.overlays.getIterator();for(;h.hasNext();){const _=h.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>r){let E=u.get(_.largestBatchId);E===null&&(E=ei(),u=u.insert(_.largestBatchId,E)),E.set(_.getKey(),_)}}const g=ei(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((_,E)=>g.set(_,E)),!(g.size()>=l)););return se.resolve(g)}Et(e,n,r){const l=this.overlays.get(r.key);if(l!==null){const h=this.Rr.get(l.largestBatchId).delete(r.key);this.Rr.set(l.largestBatchId,h)}this.overlays=this.overlays.insert(r.key,new fk(n,r));let u=this.Rr.get(n);u===void 0&&(u=Me(),this.Rr.set(n,u)),this.Rr.set(n,u.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(){this.sessionToken=Qt.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(){this.Vr=new Dt(Bt.mr),this.gr=new Dt(Bt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const r=new Bt(e,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.wr(new Bt(e,n))}br(e,n){e.forEach(r=>this.removeReference(r,n))}Sr(e){const n=new xe(new nt([])),r=new Bt(n,e),l=new Bt(n,e+1),u=[];return this.gr.forEachInRange([r,l],h=>{this.wr(h),u.push(h.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new xe(new nt([])),r=new Bt(n,e),l=new Bt(n,e+1);let u=Me();return this.gr.forEachInRange([r,l],h=>{u=u.add(h.key)}),u}containsKey(e){const n=new Bt(e,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Bt{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return xe.comparator(e.key,n.key)||Ve(e.Cr,n.Cr)}static pr(e,n){return Ve(e.Cr,n.Cr)||xe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Dt(Bt.mr)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,l){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new dk(u,n,r,l);this.mutationQueue.push(h);for(const g of l)this.Mr=this.Mr.add(new Bt(g.key,u)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return se.resolve(h)}lookupMutationBatch(e,n){return se.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,l=this.Nr(r),u=l<0?0:l;return se.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?_g:this.Fr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Bt(n,0),l=new Bt(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([r,l],h=>{const g=this.Or(h.Cr);u.push(g)}),se.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Dt(Ve);return n.forEach(l=>{const u=new Bt(l,0),h=new Bt(l,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,h],g=>{r=r.add(g.Cr)})}),se.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,l=r.length+1;let u=r;xe.isDocumentKey(u)||(u=u.child(""));const h=new Bt(new xe(u),0);let g=new Dt(Ve);return this.Mr.forEachWhile(p=>{const _=p.key.path;return!!r.isPrefixOf(_)&&(_.length===l&&(g=g.add(p.Cr)),!0)},h),se.resolve(this.Br(g))}Br(e){const n=[];return e.forEach(r=>{const l=this.Or(r);l!==null&&n.push(l)}),n}removeMutationBatch(e,n){We(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return se.forEach(n.mutations,l=>{const u=new Bt(l.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,n){const r=new Bt(n,0),l=this.Mr.firstAfterOrEqual(r);return se.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(e){this.kr=e,this.docs=function(){return new ot(xe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,l=this.docs.get(r),u=l?l.size:0,h=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return se.resolve(r?r.document.mutableCopy():en.newInvalidDocument(n))}getEntries(e,n){let r=oa();return n.forEach(l=>{const u=this.docs.get(l);r=r.insert(l,u?u.document.mutableCopy():en.newInvalidDocument(l))}),se.resolve(r)}getDocumentsMatchingQuery(e,n,r,l){let u=oa();const h=n.path,g=new xe(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:_,value:{document:E}}=p.getNext();if(!h.isPrefixOf(_.path))break;_.path.length>h.length+1||RN(wN(E),r)<=0||(l.has(E.key)||Kh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return se.resolve(u)}getAllFromCollectionGroup(e,n,r,l){be()}qr(e,n){return se.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Jk(this)}getSize(e){return se.resolve(this.size)}}class Jk extends Fk{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((r,l)=>{l.isValidDocument()?n.push(this.Ir.addEntry(e,l)):this.Ir.removeEntry(r)}),se.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e){this.persistence=e,this.Qr=new ci(n=>xg(n),Eg),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Ng,this.targetCount=0,this.Ur=yl.Kn()}forEachTarget(e,n){return this.Qr.forEach((r,l)=>n(l)),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),se.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ur=new yl(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,se.resolve()}updateTargetData(e,n){return this.zn(n),se.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Kr.Sr(n.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,n,r){let l=0;const u=[];return this.Qr.forEach((h,g)=>{g.sequenceNumber<=n&&r.get(g.targetId)===null&&(this.Qr.delete(h),u.push(this.removeMatchingKeysForTargetId(e,g.targetId)),l++)}),se.waitFor(u).next(()=>l)}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,n){const r=this.Qr.get(n)||null;return se.resolve(r)}addMatchingKeys(e,n,r){return this.Kr.yr(n,r),se.resolve()}removeMatchingKeys(e,n,r){this.Kr.br(n,r);const l=this.persistence.referenceDelegate,u=[];return l&&n.forEach(h=>{u.push(l.markPotentiallyOrphaned(e,h))}),se.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.Kr.Sr(n),se.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Kr.vr(n);return se.resolve(r)}containsKey(e,n){return se.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Uh(0),this.zr=!1,this.zr=!0,this.jr=new Yk,this.referenceDelegate=e(this),this.Hr=new eC(this),this.indexManager=new Pk,this.remoteDocumentCache=function(l){return new Zk(l)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new Lk(n),this.Yr=new Qk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Wk,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Wr[e.toKey()];return r||(r=new Xk(n,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,r){he("MemoryPersistence","Starting transaction:",e);const l=new tC(this.Gr.next());return this.referenceDelegate.Zr(),r(l).next(u=>this.referenceDelegate.Xr(l).next(()=>u)).toPromise().then(u=>(l.raiseOnCommittedEvent(),u))}ei(e,n){return se.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,n)))}}class tC extends kN{constructor(e){super(),this.currentSequenceNumber=e}}class kg{constructor(e){this.persistence=e,this.ti=new Ng,this.ni=null}static ri(e){return new kg(e)}get ii(){if(this.ni)return this.ni;throw be()}addReference(e,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),se.resolve()}removeReference(e,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),se.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),se.resolve()}removeTarget(e,n){this.ti.Sr(n.targetId).forEach(l=>this.ii.add(l.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(l=>{l.forEach(u=>this.ii.add(u.toString()))}).next(()=>r.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.ii,r=>{const l=xe.fromPath(r);return this.si(e,l).next(u=>{u||n.removeEntry(l,Ae.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return se.or([()=>se.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class Sh{constructor(e,n){this.persistence=e,this.oi=new ci(r=>jN(r.path),(r,l)=>r.isEqual(l)),this.garbageCollector=qk(this,n)}static ri(e,n){return new Sh(e,n)}Zr(){}Xr(e){return se.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(l=>r+l))}sr(e){let n=0;return this.rr(e,r=>{n++}).next(()=>n)}rr(e,n){return se.forEach(this.oi,(r,l)=>this.ar(e,r,l).next(u=>u?se.resolve():n(l)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.qr(e,h=>this.ar(e,h,n).next(g=>{g||(r++,u.removeEntry(h,Ae.min()))})).next(()=>u.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),se.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),se.resolve()}removeReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),se.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=rh(e.data.value)),n}ar(e,n,r){return se.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const l=this.oi.get(n);return se.resolve(l!==void 0&&l>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(e,n,r,l){this.targetId=e,this.fromCache=n,this.Hi=r,this.Ji=l}static Yi(e,n){let r=Me(),l=Me();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new Cg(e,n.fromCache,r,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return Xw()?8:CN(tn())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,r,l){const u={result:null};return this.rs(e,n).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ss(e,n,l,r).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new nC;return this._s(e,n,h).next(g=>{if(u.result=g,this.Xi)return this.us(e,n,h,g.size)})}).next(()=>u.result)}us(e,n,r,l){return r.documentReadCount<this.es?(rl()<=Oe.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",il(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),se.resolve()):(rl()<=Oe.DEBUG&&he("QueryEngine","Query:",il(n),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.ts*l?(rl()<=Oe.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",il(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Es(n))):se.resolve())}rs(e,n){if(cx(n))return se.resolve(null);let r=Es(n);return this.indexManager.getIndexType(e,r).next(l=>l===0?null:(n.limit!==null&&l===1&&(n=Bm(n,null,"F"),r=Es(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(u=>{const h=Me(...u);return this.ns.getDocuments(e,h).next(g=>this.indexManager.getMinOffset(e,r).next(p=>{const _=this.cs(n,g);return this.ls(n,_,h,p.readTime)?this.rs(e,Bm(n,null,"F")):this.hs(e,_,n,p)}))})))}ss(e,n,r,l){return cx(n)||l.isEqual(Ae.min())?se.resolve(null):this.ns.getDocuments(e,r).next(u=>{const h=this.cs(n,u);return this.ls(n,h,r,l)?se.resolve(null):(rl()<=Oe.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),il(n)),this.hs(e,h,n,SN(l,su)).next(g=>g))})}cs(e,n){let r=new Dt(pE(e));return n.forEach((l,u)=>{Kh(e,u)&&(r=r.add(u))}),r}ls(e,n,r,l){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}_s(e,n,r){return rl()<=Oe.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",il(n)),this.ns.getDocumentsMatchingQuery(e,n,or.min(),r)}hs(e,n,r,l){return this.ns.getDocumentsMatchingQuery(e,r,l).next(u=>(n.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ig="LocalStore",aC=3e8;class rC{constructor(e,n,r,l){this.persistence=e,this.Ps=n,this.serializer=l,this.Ts=new ot(Ve),this.Is=new ci(u=>xg(u),Eg),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $k(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function iC(s,e,n,r){return new rC(s,e,n,r)}async function UE(s,e){const n=we(s);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let l;return n.mutationQueue.getAllMutationBatches(r).next(u=>(l=u,n.As(e),n.mutationQueue.getAllMutationBatches(r))).next(u=>{const h=[],g=[];let p=Me();for(const _ of l){h.push(_.batchId);for(const E of _.mutations)p=p.add(E.key)}for(const _ of u){g.push(_.batchId);for(const E of _.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(r,p).next(_=>({Rs:_,removedBatchIds:h,addedBatchIds:g}))})})}function lC(s,e){const n=we(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const l=e.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(g,p,_,E){const b=_.batch,A=b.keys();let C=se.resolve();return A.forEach(D=>{C=C.next(()=>E.getEntry(p,D)).next(F=>{const U=_.docVersions.get(D);We(U!==null),F.version.compareTo(U)<0&&(b.applyToRemoteDocument(F,_),F.isValidDocument()&&(F.setReadTime(_.commitVersion),E.addEntry(F)))})}),C.next(()=>g.mutationQueue.removeMutationBatch(p,b))}(n,r,e,u).next(()=>u.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,l,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(g){let p=Me();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(p=p.add(g.batch.mutations[_].key));return p}(e))).next(()=>n.localDocuments.getDocuments(r,l))})}function HE(s){const e=we(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function oC(s,e){const n=we(s),r=e.snapshotVersion;let l=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=n.ds.newChangeBuffer({trackRemovals:!0});l=n.Ts;const g=[];e.targetChanges.forEach((E,b)=>{const A=l.get(b);if(!A)return;g.push(n.Hr.removeMatchingKeys(u,E.removedDocuments,b).next(()=>n.Hr.addMatchingKeys(u,E.addedDocuments,b)));let C=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?C=C.withResumeToken(Qt.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):E.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(E.resumeToken,r)),l=l.insert(b,C),function(F,U,$){return F.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=aC?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(A,C,E)&&g.push(n.Hr.updateTargetData(u,C))});let p=oa(),_=Me();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),g.push(uC(u,h,e.documentUpdates).next(E=>{p=E.Vs,_=E.fs})),!r.isEqual(Ae.min())){const E=n.Hr.getLastRemoteSnapshotVersion(u).next(b=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,r));g.push(E)}return se.waitFor(g).next(()=>h.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,_)).next(()=>p)}).then(u=>(n.Ts=l,u))}function uC(s,e,n){let r=Me(),l=Me();return n.forEach(u=>r=r.add(u)),e.getEntries(s,r).next(u=>{let h=oa();return n.forEach((g,p)=>{const _=u.get(g);p.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(g)),p.isNoDocument()&&p.version.isEqual(Ae.min())?(e.removeEntry(g,p.readTime),h=h.insert(g,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||p.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(p),h=h.insert(g,p)):he(Ig,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",p.version)}),{Vs:h,fs:l}})}function cC(s,e){const n=we(s);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=_g),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function hC(s,e){const n=we(s);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let l;return n.Hr.getTargetData(r,e).next(u=>u?(l=u,se.resolve(l)):n.Hr.allocateTargetId(r).next(h=>(l=new tr(e,h,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,l).next(()=>l))))}).then(r=>{const l=n.Ts.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(e,r.targetId)),r})}async function Gm(s,e,n){const r=we(s),l=r.Ts.get(e),u=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",u,h=>r.persistence.referenceDelegate.removeTarget(h,l))}catch(h){if(!Nl(h))throw h;he(Ig,`Failed to update sequence numbers for target ${e}: ${h}`)}r.Ts=r.Ts.remove(e),r.Is.delete(l.target)}function bx(s,e,n){const r=we(s);let l=Ae.min(),u=Me();return r.persistence.runTransaction("Execute query","readwrite",h=>function(p,_,E){const b=we(p),A=b.Is.get(E);return A!==void 0?se.resolve(b.Ts.get(A)):b.Hr.getTargetData(_,E)}(r,h,Es(e)).next(g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(h,g.targetId).next(p=>{u=p})}).next(()=>r.Ps.getDocumentsMatchingQuery(h,e,n?l:Ae.min(),n?u:Me())).next(g=>(dC(r,XN(e),g),{documents:g,gs:u})))}function dC(s,e,n){let r=s.Es.get(e)||Ae.min();n.forEach((l,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),s.Es.set(e,r)}class Ax{constructor(){this.activeTargetIds=sk()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class fC{constructor(){this.ho=new Ax,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,r){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Ax,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx="ConnectivityMonitor";class wx{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){he(Sx,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){he(Sx,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xc=null;function $m(){return Xc===null?Xc=function(){return 268435456+Math.round(2147483648*Math.random())}():Xc++,"0x"+Xc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Em="RestConnection",gC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class pC{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${r}/databases/${l}`,this.wo=this.databaseId.database===vh?`project_id=${r}`:`project_id=${r}&database_id=${l}`}bo(e,n,r,l,u){const h=$m(),g=this.So(e,n.toUriEncodedString());he(Em,`Sending RPC '${e}' ${h}:`,g,r);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,l,u),this.vo(e,g,p,r).then(_=>(he(Em,`Received RPC '${e}' ${h}: `,_),_),_=>{throw ml(Em,`RPC '${e}' ${h} failed with error: `,_,"url: ",g,"request:",r),_})}Co(e,n,r,l,u,h){return this.bo(e,n,r,l,u)}Do(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+wl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((l,u)=>e[u]=l),r&&r.headers.forEach((l,u)=>e[u]=l)}So(e,n){const r=gC[e];return`${this.po}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt="WebChannelConnection";class yC extends pC{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,l){const u=$m();return new Promise((h,g)=>{const p=new F0;p.setWithCredentials(!0),p.listenOnce(G0.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case ah.NO_ERROR:const E=p.getResponseJson();he(Zt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),h(E);break;case ah.TIMEOUT:he(Zt,`RPC '${e}' ${u} timed out`),g(new de(ne.DEADLINE_EXCEEDED,"Request time out"));break;case ah.HTTP_ERROR:const b=p.getStatus();if(he(Zt,`RPC '${e}' ${u} failed with status:`,b,"response text:",p.getResponseText()),b>0){let A=p.getResponseJson();Array.isArray(A)&&(A=A[0]);const C=A==null?void 0:A.error;if(C&&C.status&&C.message){const D=function(U){const $=U.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf($)>=0?$:ne.UNKNOWN}(C.status);g(new de(D,C.message))}else g(new de(ne.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new de(ne.UNAVAILABLE,"Connection failed."));break;default:be()}}finally{he(Zt,`RPC '${e}' ${u} completed.`)}});const _=JSON.stringify(l);he(Zt,`RPC '${e}' ${u} sending request:`,l),p.send(n,"POST",_,r,15)})}Wo(e,n,r){const l=$m(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=W0(),g=Q0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,r),p.encodeInitMessageHeaders=!0;const E=u.join("");he(Zt,`Creating RPC '${e}' stream ${l}: ${E}`,p);const b=h.createWebChannel(E,p);let A=!1,C=!1;const D=new _C({Fo:U=>{C?he(Zt,`Not sending because RPC '${e}' stream ${l} is closed:`,U):(A||(he(Zt,`Opening RPC '${e}' stream ${l} transport.`),b.open(),A=!0),he(Zt,`RPC '${e}' stream ${l} sending:`,U),b.send(U))},Mo:()=>b.close()}),F=(U,$,z)=>{U.listen($,Q=>{try{z(Q)}catch(ee){setTimeout(()=>{throw ee},0)}})};return F(b,Fo.EventType.OPEN,()=>{C||(he(Zt,`RPC '${e}' stream ${l} transport opened.`),D.Qo())}),F(b,Fo.EventType.CLOSE,()=>{C||(C=!0,he(Zt,`RPC '${e}' stream ${l} transport closed`),D.Ko())}),F(b,Fo.EventType.ERROR,U=>{C||(C=!0,ml(Zt,`RPC '${e}' stream ${l} transport errored:`,U),D.Ko(new de(ne.UNAVAILABLE,"The operation could not be completed")))}),F(b,Fo.EventType.MESSAGE,U=>{var $;if(!C){const z=U.data[0];We(!!z);const Q=z,ee=(Q==null?void 0:Q.error)||(($=Q[0])===null||$===void 0?void 0:$.error);if(ee){he(Zt,`RPC '${e}' stream ${l} received error:`,ee);const J=ee.status;let ie=function(S){const I=At[S];if(I!==void 0)return RE(I)}(J),O=ee.message;ie===void 0&&(ie=ne.INTERNAL,O="Unknown error status: "+J+" with message "+ee.message),C=!0,D.Ko(new de(ie,O)),b.close()}else he(Zt,`RPC '${e}' stream ${l} received:`,z),D.Uo(z)}}),F(g,$0.STAT_EVENT,U=>{U.stat===Mm.PROXY?he(Zt,`RPC '${e}' stream ${l} detected buffering proxy`):U.stat===Mm.NOPROXY&&he(Zt,`RPC '${e}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{D.$o()},0),D}}function Tm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $h(s){return new Tk(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(e,n,r=1e3,l=1.5,u=6e4){this.Ti=e,this.timerId=n,this.Go=r,this.zo=l,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),l=Math.max(0,n-r);l>0&&he("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,l,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx="PersistentStream";class zE{constructor(e,n,r,l,u,h,g,p){this.Ti=e,this.n_=r,this.r_=l,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new BE(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(la(n.toString()),la("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,l])=>{this.i_===n&&this.V_(r,l)},r=>{e(()=>{const l=new de(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(l)})})}V_(e,n){const r=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(l=>{r(()=>this.m_(l))}),this.stream.onMessage(l=>{r(()=>++this.__==1?this.g_(l):this.onNext(l))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return he(Rx,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(he(Rx,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class vC extends zE{constructor(e,n,r,l,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,l,h),this.serializer=u}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=Sk(this.serializer,e),r=function(u){if(!("targetChange"in u))return Ae.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Ae.min():h.readTime?Ts(h.readTime):Ae.min()}(e);return this.listener.p_(n,r)}y_(e){const n={};n.database=Fm(this.serializer),n.addTarget=function(u,h){let g;const p=h.target;if(g=Um(p)?{documents:Nk(u,p)}:{query:kk(u,p).ht},g.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){g.resumeToken=CE(u,h.resumeToken);const _=zm(u,h.expectedCount);_!==null&&(g.expectedCount=_)}else if(h.snapshotVersion.compareTo(Ae.min())>0){g.readTime=Ah(u,h.snapshotVersion.toTimestamp());const _=zm(u,h.expectedCount);_!==null&&(g.expectedCount=_)}return g}(this.serializer,e);const r=Ik(this.serializer,e);r&&(n.labels=r),this.I_(n)}w_(e){const n={};n.database=Fm(this.serializer),n.removeTarget=e,this.I_(n)}}class xC extends zE{constructor(e,n,r,l,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,l,h),this.serializer=u}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return We(!!e.streamToken),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){We(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=Rk(e.writeResults,e.commitTime),r=Ts(e.commitTime);return this.listener.v_(r,n)}C_(){const e={};e.database=Fm(this.serializer),this.I_(e)}S_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>wk(this.serializer,r))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{}class TC extends EC{constructor(e,n,r,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=l,this.F_=!1}M_(){if(this.F_)throw new de(ne.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,r,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.bo(e,Km(n,r),l,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new de(ne.UNKNOWN,u.toString())})}Co(e,n,r,l,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,g])=>this.connection.Co(e,Km(n,r),l,h,g,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new de(ne.UNKNOWN,h.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class bC{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(la(n),this.N_=!1):he("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ri="RemoteStore";class AC{constructor(e,n,r,l,u){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(h=>{r.enqueueAndForget(async()=>{hi(this)&&(he(ri,"Restarting streams for network reachability change."),await async function(p){const _=we(p);_.W_.add(4),await _u(_),_.j_.set("Unknown"),_.W_.delete(4),await Qh(_)}(this))})}),this.j_=new bC(r,l)}}async function Qh(s){if(hi(s))for(const e of s.G_)await e(!0)}async function _u(s){for(const e of s.G_)await e(!1)}function KE(s,e){const n=we(s);n.U_.has(e.targetId)||(n.U_.set(e.targetId,e),Mg(n)?Og(n):Cl(n).c_()&&Dg(n,e))}function jg(s,e){const n=we(s),r=Cl(n);n.U_.delete(e),r.c_()&&qE(n,e),n.U_.size===0&&(r.c_()?r.P_():hi(n)&&n.j_.set("Unknown"))}function Dg(s,e){if(s.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Cl(s).y_(e)}function qE(s,e){s.H_.Ne(e),Cl(s).w_(e)}function Og(s){s.H_=new yk({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>s.U_.get(e)||null,it:()=>s.datastore.serializer.databaseId}),Cl(s).start(),s.j_.B_()}function Mg(s){return hi(s)&&!Cl(s).u_()&&s.U_.size>0}function hi(s){return we(s).W_.size===0}function FE(s){s.H_=void 0}async function SC(s){s.j_.set("Online")}async function wC(s){s.U_.forEach((e,n)=>{Dg(s,e)})}async function RC(s,e){FE(s),Mg(s)?(s.j_.q_(e),Og(s)):s.j_.set("Unknown")}async function NC(s,e,n){if(s.j_.set("Online"),e instanceof kE&&e.state===2&&e.cause)try{await async function(l,u){const h=u.cause;for(const g of u.targetIds)l.U_.has(g)&&(await l.remoteSyncer.rejectListen(g,h),l.U_.delete(g),l.H_.removeTarget(g))}(s,e)}catch(r){he(ri,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await wh(s,r)}else if(e instanceof oh?s.H_.We(e):e instanceof NE?s.H_.Ze(e):s.H_.je(e),!n.isEqual(Ae.min()))try{const r=await HE(s.localStore);n.compareTo(r)>=0&&await function(u,h){const g=u.H_.ot(h);return g.targetChanges.forEach((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.U_.get(_);E&&u.U_.set(_,E.withResumeToken(p.resumeToken,h))}}),g.targetMismatches.forEach((p,_)=>{const E=u.U_.get(p);if(!E)return;u.U_.set(p,E.withResumeToken(Qt.EMPTY_BYTE_STRING,E.snapshotVersion)),qE(u,p);const b=new tr(E.target,p,_,E.sequenceNumber);Dg(u,b)}),u.remoteSyncer.applyRemoteEvent(g)}(s,n)}catch(r){he(ri,"Failed to raise snapshot:",r),await wh(s,r)}}async function wh(s,e,n){if(!Nl(e))throw e;s.W_.add(1),await _u(s),s.j_.set("Offline"),n||(n=()=>HE(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{he(ri,"Retrying IndexedDB access"),await n(),s.W_.delete(1),await Qh(s)})}function GE(s,e){return e().catch(n=>wh(s,n,e))}async function Wh(s){const e=we(s),n=dr(e);let r=e.K_.length>0?e.K_[e.K_.length-1].batchId:_g;for(;kC(e);)try{const l=await cC(e.localStore,r);if(l===null){e.K_.length===0&&n.P_();break}r=l.batchId,CC(e,l)}catch(l){await wh(e,l)}$E(e)&&QE(e)}function kC(s){return hi(s)&&s.K_.length<10}function CC(s,e){s.K_.push(e);const n=dr(s);n.c_()&&n.b_&&n.S_(e.mutations)}function $E(s){return hi(s)&&!dr(s).u_()&&s.K_.length>0}function QE(s){dr(s).start()}async function IC(s){dr(s).C_()}async function jC(s){const e=dr(s);for(const n of s.K_)e.S_(n.mutations)}async function DC(s,e,n){const r=s.K_.shift(),l=Sg.from(r,e,n);await GE(s,()=>s.remoteSyncer.applySuccessfulWrite(l)),await Wh(s)}async function OC(s,e){e&&dr(s).b_&&await async function(r,l){if(function(h){return gk(h)&&h!==ne.ABORTED}(l.code)){const u=r.K_.shift();dr(r).h_(),await GE(r,()=>r.remoteSyncer.rejectFailedWrite(u.batchId,l)),await Wh(r)}}(s,e),$E(s)&&QE(s)}async function Nx(s,e){const n=we(s);n.asyncQueue.verifyOperationInProgress(),he(ri,"RemoteStore received new credentials");const r=hi(n);n.W_.add(3),await _u(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Qh(n)}async function MC(s,e){const n=we(s);e?(n.W_.delete(2),await Qh(n)):e||(n.W_.add(2),await _u(n),n.j_.set("Unknown"))}function Cl(s){return s.J_||(s.J_=function(n,r,l){const u=we(n);return u.M_(),new vC(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)}(s.datastore,s.asyncQueue,{xo:SC.bind(null,s),No:wC.bind(null,s),Lo:RC.bind(null,s),p_:NC.bind(null,s)}),s.G_.push(async e=>{e?(s.J_.h_(),Mg(s)?Og(s):s.j_.set("Unknown")):(await s.J_.stop(),FE(s))})),s.J_}function dr(s){return s.Y_||(s.Y_=function(n,r,l){const u=we(n);return u.M_(),new xC(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)}(s.datastore,s.asyncQueue,{xo:()=>Promise.resolve(),No:IC.bind(null,s),Lo:OC.bind(null,s),D_:jC.bind(null,s),v_:DC.bind(null,s)}),s.G_.push(async e=>{e?(s.Y_.h_(),await Wh(s)):(await s.Y_.stop(),s.K_.length>0&&(he(ri,`Stopping write stream with ${s.K_.length} pending writes`),s.K_=[]))})),s.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(e,n,r,l,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=l,this.removalCallback=u,this.deferred=new aa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,l,u){const h=Date.now()+r,g=new Lg(e,n,h,l,u);return g.start(r),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vg(s,e){if(la("AsyncQueue",`${e}: ${s}`),Nl(s))return new de(ne.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{static emptySet(e){return new cl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||xe.comparator(n.key,r.key):(n,r)=>xe.comparator(n.key,r.key),this.keyedMap=Go(),this.sortedSet=new ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof cl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=r.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new cl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(){this.Z_=new ot(xe.comparator)}track(e){const n=e.doc.key,r=this.Z_.get(n);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(n):e.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):be():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class vl{constructor(e,n,r,l,u,h,g,p,_){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(e,n,r,l,u){const h=[];return n.forEach(g=>{h.push({type:0,doc:g})}),new vl(e,n,cl.emptySet(n),h,r,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==r[l].type||!n[l].doc.isEqual(r[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class VC{constructor(){this.queries=Cx(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){const l=we(n),u=l.queries;l.queries=Cx(),u.forEach((h,g)=>{for(const p of g.ta)p.onError(r)})})(this,new de(ne.ABORTED,"Firestore shutting down"))}}function Cx(){return new ci(s=>gE(s),zh)}async function WE(s,e){const n=we(s);let r=3;const l=e.query;let u=n.queries.get(l);u?!u.na()&&e.ra()&&(r=2):(u=new LC,r=e.ra()?0:1);try{switch(r){case 0:u.ea=await n.onListen(l,!0);break;case 1:u.ea=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(h){const g=Vg(h,`Initialization of query '${il(e.query)}' failed`);return void e.onError(g)}n.queries.set(l,u),u.ta.push(e),e.sa(n.onlineState),u.ea&&e.oa(u.ea)&&Pg(n)}async function YE(s,e){const n=we(s),r=e.query;let l=3;const u=n.queries.get(r);if(u){const h=u.ta.indexOf(e);h>=0&&(u.ta.splice(h,1),u.ta.length===0?l=e.ra()?0:1:!u.na()&&e.ra()&&(l=2))}switch(l){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function PC(s,e){const n=we(s);let r=!1;for(const l of e){const u=l.query,h=n.queries.get(u);if(h){for(const g of h.ta)g.oa(l)&&(r=!0);h.ea=l}}r&&Pg(n)}function UC(s,e,n){const r=we(s),l=r.queries.get(e);if(l)for(const u of l.ta)u.onError(n);r.queries.delete(e)}function Pg(s){s.ia.forEach(e=>{e.next()})}var Qm,Ix;(Ix=Qm||(Qm={}))._a="default",Ix.Cache="cache";class XE{constructor(e,n,r){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const l of e.docChanges)l.type!==3&&r.push(l);e=new vl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const r=n!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=vl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Qm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(e){this.key=e}}class JE{constructor(e){this.key=e}}class HC{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Me(),this.mutatedKeys=Me(),this.ya=pE(e),this.wa=new cl(this.ya)}get ba(){return this.fa}Sa(e,n){const r=n?n.Da:new kx,l=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,h=l,g=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((E,b)=>{const A=l.get(E),C=Kh(this.query,b)?b:null,D=!!A&&this.mutatedKeys.has(A.key),F=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let U=!1;A&&C?A.data.isEqual(C.data)?D!==F&&(r.track({type:3,doc:C}),U=!0):this.va(A,C)||(r.track({type:2,doc:C}),U=!0,(p&&this.ya(C,p)>0||_&&this.ya(C,_)<0)&&(g=!0)):!A&&C?(r.track({type:0,doc:C}),U=!0):A&&!C&&(r.track({type:1,doc:A}),U=!0,(p||_)&&(g=!0)),U&&(C?(h=h.add(C),u=F?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),r.track({type:1,doc:E})}return{wa:h,Da:r,ls:g,mutatedKeys:u}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,l){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const h=e.Da.X_();h.sort((E,b)=>function(C,D){const F=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be()}};return F(C)-F(D)}(E.type,b.type)||this.ya(E.doc,b.doc)),this.Ca(r),l=l!=null&&l;const g=n&&!l?this.Fa():[],p=this.pa.size===0&&this.current&&!l?1:0,_=p!==this.ga;return this.ga=p,h.length!==0||_?{snapshot:new vl(this.query,e.wa,u,h,e.mutatedKeys,p===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:g}:{Ma:g}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new kx,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Me(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const n=[];return e.forEach(r=>{this.pa.has(r)||n.push(new JE(r))}),this.pa.forEach(r=>{e.has(r)||n.push(new ZE(r))}),n}Oa(e){this.fa=e.gs,this.pa=Me();const n=this.Sa(e.documents);return this.applyChanges(n,!0)}Na(){return vl.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Ug="SyncEngine";class BC{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class zC{constructor(e){this.key=e,this.Ba=!1}}class KC{constructor(e,n,r,l,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.La={},this.ka=new ci(g=>gE(g),zh),this.qa=new Map,this.Qa=new Set,this.$a=new ot(xe.comparator),this.Ka=new Map,this.Ua=new Ng,this.Wa={},this.Ga=new Map,this.za=yl.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function qC(s,e,n=!0){const r=rT(s);let l;const u=r.ka.get(e);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.Na()):l=await eT(r,e,n,!0),l}async function FC(s,e){const n=rT(s);await eT(n,e,!0,!1)}async function eT(s,e,n,r){const l=await hC(s.localStore,Es(e)),u=l.targetId,h=s.sharedClientState.addLocalQueryTarget(u,n);let g;return r&&(g=await GC(s,e,u,h==="current",l.resumeToken)),s.isPrimaryClient&&n&&KE(s.remoteStore,l),g}async function GC(s,e,n,r,l){s.Ha=(b,A,C)=>async function(F,U,$,z){let Q=U.view.Sa($);Q.ls&&(Q=await bx(F.localStore,U.query,!1).then(({documents:O})=>U.view.Sa(O,Q)));const ee=z&&z.targetChanges.get(U.targetId),J=z&&z.targetMismatches.get(U.targetId)!=null,ie=U.view.applyChanges(Q,F.isPrimaryClient,ee,J);return Dx(F,U.targetId,ie.Ma),ie.snapshot}(s,b,A,C);const u=await bx(s.localStore,e,!0),h=new HC(e,u.gs),g=h.Sa(u.documents),p=pu.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",l),_=h.applyChanges(g,s.isPrimaryClient,p);Dx(s,n,_.Ma);const E=new BC(e,n,h);return s.ka.set(e,E),s.qa.has(n)?s.qa.get(n).push(e):s.qa.set(n,[e]),_.snapshot}async function $C(s,e,n){const r=we(s),l=r.ka.get(e),u=r.qa.get(l.targetId);if(u.length>1)return r.qa.set(l.targetId,u.filter(h=>!zh(h,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await Gm(r.localStore,l.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(l.targetId),n&&jg(r.remoteStore,l.targetId),Wm(r,l.targetId)}).catch(Rl)):(Wm(r,l.targetId),await Gm(r.localStore,l.targetId,!0))}async function QC(s,e){const n=we(s),r=n.ka.get(e),l=n.qa.get(r.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),jg(n.remoteStore,r.targetId))}async function WC(s,e,n){const r=nI(s);try{const l=await function(h,g){const p=we(h),_=jt.now(),E=g.reduce((C,D)=>C.add(D.key),Me());let b,A;return p.persistence.runTransaction("Locally write mutations","readwrite",C=>{let D=oa(),F=Me();return p.ds.getEntries(C,E).next(U=>{D=U,D.forEach(($,z)=>{z.isValidDocument()||(F=F.add($))})}).next(()=>p.localDocuments.getOverlayedDocuments(C,D)).next(U=>{b=U;const $=[];for(const z of g){const Q=ck(z,b.get(z.key).overlayedDocument);Q!=null&&$.push(new _r(z.key,Q,lE(Q.value.mapValue),Kn.exists(!0)))}return p.mutationQueue.addMutationBatch(C,_,$,g)}).next(U=>{A=U;const $=U.applyToLocalDocumentSet(b,F);return p.documentOverlayCache.saveOverlays(C,U.batchId,$)})}).then(()=>({batchId:A.batchId,changes:yE(b)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(l.batchId),function(h,g,p){let _=h.Wa[h.currentUser.toKey()];_||(_=new ot(Ve)),_=_.insert(g,p),h.Wa[h.currentUser.toKey()]=_}(r,l.batchId,n),await yu(r,l.changes),await Wh(r.remoteStore)}catch(l){const u=Vg(l,"Failed to persist write");n.reject(u)}}async function tT(s,e){const n=we(s);try{const r=await oC(n.localStore,e);e.targetChanges.forEach((l,u)=>{const h=n.Ka.get(u);h&&(We(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?h.Ba=!0:l.modifiedDocuments.size>0?We(h.Ba):l.removedDocuments.size>0&&(We(h.Ba),h.Ba=!1))}),await yu(n,r,e)}catch(r){await Rl(r)}}function jx(s,e,n){const r=we(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const l=[];r.ka.forEach((u,h)=>{const g=h.view.sa(e);g.snapshot&&l.push(g.snapshot)}),function(h,g){const p=we(h);p.onlineState=g;let _=!1;p.queries.forEach((E,b)=>{for(const A of b.ta)A.sa(g)&&(_=!0)}),_&&Pg(p)}(r.eventManager,e),l.length&&r.La.p_(l),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function YC(s,e,n){const r=we(s);r.sharedClientState.updateQueryState(e,"rejected",n);const l=r.Ka.get(e),u=l&&l.key;if(u){let h=new ot(xe.comparator);h=h.insert(u,en.newNoDocument(u,Ae.min()));const g=Me().add(u),p=new Gh(Ae.min(),new Map,new ot(Ve),h,g);await tT(r,p),r.$a=r.$a.remove(u),r.Ka.delete(e),Hg(r)}else await Gm(r.localStore,e,!1).then(()=>Wm(r,e,n)).catch(Rl)}async function XC(s,e){const n=we(s),r=e.batch.batchId;try{const l=await lC(n.localStore,e);sT(n,r,null),nT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await yu(n,l)}catch(l){await Rl(l)}}async function ZC(s,e,n){const r=we(s);try{const l=await function(h,g){const p=we(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let E;return p.mutationQueue.lookupMutationBatch(_,g).next(b=>(We(b!==null),E=b.keys(),p.mutationQueue.removeMutationBatch(_,b))).next(()=>p.mutationQueue.performConsistencyCheck(_)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(_,E,g)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,E)).next(()=>p.localDocuments.getDocuments(_,E))})}(r.localStore,e);sT(r,e,n),nT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await yu(r,l)}catch(l){await Rl(l)}}function nT(s,e){(s.Ga.get(e)||[]).forEach(n=>{n.resolve()}),s.Ga.delete(e)}function sT(s,e,n){const r=we(s);let l=r.Wa[r.currentUser.toKey()];if(l){const u=l.get(e);u&&(n?u.reject(n):u.resolve(),l=l.remove(e)),r.Wa[r.currentUser.toKey()]=l}}function Wm(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.qa.get(e))s.ka.delete(r),n&&s.La.Ja(r,n);s.qa.delete(e),s.isPrimaryClient&&s.Ua.Sr(e).forEach(r=>{s.Ua.containsKey(r)||aT(s,r)})}function aT(s,e){s.Qa.delete(e.path.canonicalString());const n=s.$a.get(e);n!==null&&(jg(s.remoteStore,n),s.$a=s.$a.remove(e),s.Ka.delete(n),Hg(s))}function Dx(s,e,n){for(const r of n)r instanceof ZE?(s.Ua.addReference(r.key,e),JC(s,r)):r instanceof JE?(he(Ug,"Document no longer in limbo: "+r.key),s.Ua.removeReference(r.key,e),s.Ua.containsKey(r.key)||aT(s,r.key)):be()}function JC(s,e){const n=e.key,r=n.path.canonicalString();s.$a.get(n)||s.Qa.has(r)||(he(Ug,"New document in limbo: "+n),s.Qa.add(r),Hg(s))}function Hg(s){for(;s.Qa.size>0&&s.$a.size<s.maxConcurrentLimboResolutions;){const e=s.Qa.values().next().value;s.Qa.delete(e);const n=new xe(nt.fromString(e)),r=s.za.next();s.Ka.set(r,new zC(n)),s.$a=s.$a.insert(n,r),KE(s.remoteStore,new tr(Es(Tg(n.path)),r,"TargetPurposeLimboResolution",Uh.ae))}}async function yu(s,e,n){const r=we(s),l=[],u=[],h=[];r.ka.isEmpty()||(r.ka.forEach((g,p)=>{h.push(r.Ha(p,e,n).then(_=>{var E;if((_||n)&&r.isPrimaryClient){const b=_?!_.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;r.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(_){l.push(_);const b=Cg.Yi(p.targetId,_);u.push(b)}}))}),await Promise.all(h),r.La.p_(l),await async function(p,_){const E=we(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>se.forEach(_,A=>se.forEach(A.Hi,C=>E.persistence.referenceDelegate.addReference(b,A.targetId,C)).next(()=>se.forEach(A.Ji,C=>E.persistence.referenceDelegate.removeReference(b,A.targetId,C)))))}catch(b){if(!Nl(b))throw b;he(Ig,"Failed to update sequence numbers: "+b)}for(const b of _){const A=b.targetId;if(!b.fromCache){const C=E.Ts.get(A),D=C.snapshotVersion,F=C.withLastLimboFreeSnapshotVersion(D);E.Ts=E.Ts.insert(A,F)}}}(r.localStore,u))}async function eI(s,e){const n=we(s);if(!n.currentUser.isEqual(e)){he(Ug,"User change. New user:",e.toKey());const r=await UE(n.localStore,e);n.currentUser=e,function(u,h){u.Ga.forEach(g=>{g.forEach(p=>{p.reject(new de(ne.CANCELLED,h))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await yu(n,r.Rs)}}function tI(s,e){const n=we(s),r=n.Ka.get(e);if(r&&r.Ba)return Me().add(r.key);{let l=Me();const u=n.qa.get(e);if(!u)return l;for(const h of u){const g=n.ka.get(h);l=l.unionWith(g.view.ba)}return l}}function rT(s){const e=we(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=tT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=tI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=YC.bind(null,e),e.La.p_=PC.bind(null,e.eventManager),e.La.Ja=UC.bind(null,e.eventManager),e}function nI(s){const e=we(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=XC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ZC.bind(null,e),e}class Rh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=$h(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return iC(this.persistence,new sC,e.initialUser,this.serializer)}Xa(e){return new PE(kg.ri,this.serializer)}Za(e){return new fC}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Rh.provider={build:()=>new Rh};class sI extends Rh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){We(this.persistence.referenceDelegate instanceof Sh);const r=this.persistence.referenceDelegate.garbageCollector;return new zk(r,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new PE(r=>Sh.ri(r,n),this.serializer)}}class Ym{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>jx(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=eI.bind(null,this.syncEngine),await MC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new VC}()}createDatastore(e){const n=$h(e.databaseInfo.databaseId),r=function(u){return new yC(u)}(e.databaseInfo);return function(u,h,g,p){return new TC(u,h,g,p)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,l,u,h,g){return new AC(r,l,u,h,g)}(this.localStore,this.datastore,e.asyncQueue,n=>jx(this.syncEngine,n,0),function(){return wx.D()?new wx:new mC}())}createSyncEngine(e,n){return function(l,u,h,g,p,_,E){const b=new KC(l,u,h,g,p,_);return E&&(b.ja=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(l){const u=we(l);he(ri,"RemoteStore shutting down."),u.W_.add(5),await _u(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Ym.provider={build:()=>new Ym};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):la("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fr="FirestoreClient";class aI{constructor(e,n,r,l,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=l,this.user=Jt.UNAUTHENTICATED,this.clientId=X0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,async h=>{he(fr,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(r,h=>(he(fr,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new aa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Vg(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function bm(s,e){s.asyncQueue.verifyOperationInProgress(),he(fr,"Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let r=n.initialUser;s.setCredentialChangeListener(async l=>{r.isEqual(l)||(await UE(e.localStore,l),r=l)}),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}async function Ox(s,e){s.asyncQueue.verifyOperationInProgress();const n=await rI(s);he(fr,"Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener(r=>Nx(e.remoteStore,r)),s.setAppCheckTokenChangeListener((r,l)=>Nx(e.remoteStore,l)),s._onlineComponents=e}async function rI(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){he(fr,"Using user provided OfflineComponentProvider");try{await bm(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(l){return l.name==="FirebaseError"?l.code===ne.FAILED_PRECONDITION||l.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(n))throw n;ml("Error using user provided cache. Falling back to memory cache: "+n),await bm(s,new Rh)}}else he(fr,"Using default OfflineComponentProvider"),await bm(s,new sI(void 0));return s._offlineComponents}async function lT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(he(fr,"Using user provided OnlineComponentProvider"),await Ox(s,s._uninitializedComponentsProvider._online)):(he(fr,"Using default OnlineComponentProvider"),await Ox(s,new Ym))),s._onlineComponents}function iI(s){return lT(s).then(e=>e.syncEngine)}async function oT(s){const e=await lT(s),n=e.eventManager;return n.onListen=qC.bind(null,e.syncEngine),n.onUnlisten=$C.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=FC.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=QC.bind(null,e.syncEngine),n}function lI(s,e,n={}){const r=new aa;return s.asyncQueue.enqueueAndForget(async()=>function(u,h,g,p,_){const E=new iT({next:A=>{E.su(),h.enqueueAndForget(()=>YE(u,b));const C=A.docs.has(g);!C&&A.fromCache?_.reject(new de(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&A.fromCache&&p&&p.source==="server"?_.reject(new de(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(A)},error:A=>_.reject(A)}),b=new XE(Tg(g.path),E,{includeMetadataChanges:!0,Ta:!0});return WE(u,b)}(await oT(s),s.asyncQueue,e,n,r)),r.promise}function oI(s,e,n={}){const r=new aa;return s.asyncQueue.enqueueAndForget(async()=>function(u,h,g,p,_){const E=new iT({next:A=>{E.su(),h.enqueueAndForget(()=>YE(u,b)),A.fromCache&&p.source==="server"?_.reject(new de(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(A)},error:A=>_.reject(A)}),b=new XE(g,E,{includeMetadataChanges:!0,Ta:!0});return WE(u,b)}(await oT(s),s.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uT(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cT(s,e,n){if(!n)throw new de(ne.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function uI(s,e,n,r){if(e===!0&&r===!0)throw new de(ne.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function Lx(s){if(!xe.isDocumentKey(s))throw new de(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Vx(s){if(xe.isDocumentKey(s))throw new de(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function Yh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":be()}function Jn(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new de(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Yh(s);throw new de(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT="firestore.googleapis.com",Px=!0;class Ux{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new de(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=hT,this.ssl=Px}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Px;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=VE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Hk)throw new de(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}uI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=uT((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new de(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new de(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new de(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,l){return r.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xh{constructor(e,n,r,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ux({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ux(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new _N;switch(r.type){case"firstParty":return new EN(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new de(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Mx.get(n);r&&(he("ComponentProvider","Removing Datastore"),Mx.delete(n),r.terminate())}(this),Promise.resolve()}}function cI(s,e,n,r={}){var l;const u=(s=Jn(s,Xh))._getSettings(),h=Object.assign(Object.assign({},u),{emulatorOptions:s._getEmulatorOptions()}),g=`${e}:${n}`;u.host!==hT&&u.host!==g&&ml("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:g,ssl:!1,emulatorOptions:r});if(!ni(p,h)&&(s._setSettings(p),r.mockUserToken)){let _,E;if(typeof r.mockUserToken=="string")_=r.mockUserToken,E=Jt.MOCK_USER;else{_=P0(r.mockUserToken,(l=s._app)===null||l===void 0?void 0:l.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new de(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Jt(b)}s._authCredentials=new yN(new Y0(_,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new di(this.firestore,e,this._query)}}class cn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new cn(this.firestore,e,this._key)}}class rr extends di{constructor(e,n,r){super(e,n,Tg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new cn(this.firestore,null,new xe(e))}withConverter(e){return new rr(this.firestore,e,this._path)}}function Bg(s,e,...n){if(s=st(s),cT("collection","path",e),s instanceof Xh){const r=nt.fromString(e,...n);return Vx(r),new rr(s,null,r)}{if(!(s instanceof cn||s instanceof rr))throw new de(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(nt.fromString(e,...n));return Vx(r),new rr(s.firestore,null,r)}}function mr(s,e,...n){if(s=st(s),arguments.length===1&&(e=X0.newId()),cT("doc","path",e),s instanceof Xh){const r=nt.fromString(e,...n);return Lx(r),new cn(s,null,new xe(r))}{if(!(s instanceof cn||s instanceof rr))throw new de(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(nt.fromString(e,...n));return Lx(r),new cn(s.firestore,s instanceof rr?s.converter:null,new xe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx="AsyncQueue";class Bx{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new BE(this,"async_queue_retry"),this.bu=()=>{const r=Tm();r&&he(Hx,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.Su=e;const n=Tm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=Tm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new aa;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Nl(e))throw e;he(Hx,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.Su.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const l=function(h){let g=h.message||"";return h.stack&&(g=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),g}(r);throw la("INTERNAL UNHANDLED ERROR: ",l),r}).then(r=>(this.pu=!1,r))));return this.Su=n,n}enqueueAfterDelay(e,n,r){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const l=Lg.createAndSchedule(this,e,n,r,u=>this.Fu(u));return this.fu.push(l),l}Du(){this.gu&&be()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class fi extends Xh{constructor(e,n,r,l){super(e,n,r,l),this.type="firestore",this._queue=new Bx,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Bx(e),this._firestoreClient=void 0,await e}}}function hI(s,e){const n=typeof s=="object"?s:gg(),r=typeof s=="string"?s:vh,l=Ph(n,"firestore").getImmediate({identifier:r});if(!l._initialized){const u=M0("firestore");u&&cI(l,...u)}return l}function zg(s){if(s._terminated)throw new de(ne.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||dI(s),s._firestoreClient}function dI(s){var e,n,r;const l=s._freezeSettings(),u=function(g,p,_,E){return new MN(g,p,_,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,uT(E.experimentalLongPollingOptions),E.useFetchStreams)}(s._databaseId,((e=s._app)===null||e===void 0?void 0:e.options.appId)||"",s._persistenceKey,l);s._componentsProvider||!((n=l.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=l.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(s._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),s._firestoreClient=new aI(s._authCredentials,s._appCheckCredentials,s._queue,u,s._componentsProvider&&function(g){const p=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(p),_online:p}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xl(Qt.fromBase64String(e))}catch(n){throw new de(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new xl(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,l){if(r.length!==l.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==l[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI=/^__.*__$/;class mI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new _r(e,this.data,this.fieldMask,n,this.fieldTransforms):new gu(e,this.data,n,this.fieldTransforms)}}class dT{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new _r(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function fT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be()}}class Gg{constructor(e,n,r,l,u,h){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=l,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Gg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),l=this.ku({path:r,Qu:!1});return l.$u(e),l}Ku(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),l=this.ku({path:r,Qu:!1});return l.Bu(),l}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Nh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(fT(this.Lu)&&fI.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class gI{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||$h(e)}ju(e,n,r,l=!1){return new Gg({Lu:e,methodName:n,zu:r,path:$t.emptyPath(),Qu:!1,Gu:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Jh(s){const e=s._freezeSettings(),n=$h(s._databaseId);return new gI(s._databaseId,!!e.ignoreUndefinedProperties,n)}function mT(s,e,n,r,l,u={}){const h=s.ju(u.merge||u.mergeFields?2:0,e,n,l);$g("Data must be an object, but it was:",h,r);const g=gT(r,h);let p,_;if(u.merge)p=new An(h.fieldMask),_=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const b of u.mergeFields){const A=Xm(e,b,n);if(!h.contains(A))throw new de(ne.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);_T(E,A)||E.push(A)}p=new An(E),_=h.fieldTransforms.filter(b=>p.covers(b.field))}else p=null,_=h.fieldTransforms;return new mI(new gn(g),p,_)}class ed extends Kg{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ed}}function pI(s,e,n,r){const l=s.ju(1,e,n);$g("Data must be an object, but it was:",l,r);const u=[],h=gn.empty();pr(r,(p,_)=>{const E=Qg(e,p,n);_=st(_);const b=l.Ku(E);if(_ instanceof ed)u.push(E);else{const A=vu(_,b);A!=null&&(u.push(E),h.set(E,A))}});const g=new An(u);return new dT(h,g,l.fieldTransforms)}function _I(s,e,n,r,l,u){const h=s.ju(1,e,n),g=[Xm(e,r,n)],p=[l];if(u.length%2!=0)throw new de(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)g.push(Xm(e,u[A])),p.push(u[A+1]);const _=[],E=gn.empty();for(let A=g.length-1;A>=0;--A)if(!_T(_,g[A])){const C=g[A];let D=p[A];D=st(D);const F=h.Ku(C);if(D instanceof ed)_.push(C);else{const U=vu(D,F);U!=null&&(_.push(C),E.set(C,U))}}const b=new An(_);return new dT(E,b,h.fieldTransforms)}function yI(s,e,n,r=!1){return vu(n,s.ju(r?4:3,e))}function vu(s,e){if(pT(s=st(s)))return $g("Unsupported field value:",e,s),gT(s,e);if(s instanceof Kg)return function(r,l){if(!fT(l.Lu))throw l.Wu(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Wu(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(l);u&&l.fieldTransforms.push(u)}(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,l){const u=[];let h=0;for(const g of r){let p=vu(g,l.Uu(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}}(s,e)}return function(r,l){if((r=st(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return ak(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=jt.fromDate(r);return{timestampValue:Ah(l.serializer,u)}}if(r instanceof jt){const u=new jt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ah(l.serializer,u)}}if(r instanceof qg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof xl)return{bytesValue:CE(l.serializer,r._byteString)};if(r instanceof cn){const u=l.databaseId,h=r.firestore._databaseId;if(!h.isEqual(u))throw l.Wu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Rg(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof Fg)return function(h,g){return{mapValue:{fields:{[rE]:{stringValue:iE},[xh]:{arrayValue:{values:h.toArray().map(_=>{if(typeof _!="number")throw g.Wu("VectorValues must only contain numeric values.");return bg(g.serializer,_)})}}}}}}(r,l);throw l.Wu(`Unsupported field value: ${Yh(r)}`)}(s,e)}function gT(s,e){const n={};return J0(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):pr(s,(r,l)=>{const u=vu(l,e.qu(r));u!=null&&(n[r]=u)}),{mapValue:{fields:n}}}function pT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof jt||s instanceof qg||s instanceof xl||s instanceof cn||s instanceof Kg||s instanceof Fg)}function $g(s,e,n){if(!pT(n)||!function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}(n)){const r=Yh(n);throw r==="an object"?e.Wu(s+" a custom object"):e.Wu(s+" "+r)}}function Xm(s,e,n){if((e=st(e))instanceof Zh)return e._internalPath;if(typeof e=="string")return Qg(s,e);throw Nh("Field path arguments must be of type string or ",s,!1,void 0,n)}const vI=new RegExp("[~\\*/\\[\\]]");function Qg(s,e,n){if(e.search(vI)>=0)throw Nh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new Zh(...e.split("."))._internalPath}catch{throw Nh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function Nh(s,e,n,r,l){const u=r&&!r.isEmpty(),h=l!==void 0;let g=`Function ${e}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${r}`),h&&(p+=` in document ${l}`),p+=")"),new de(ne.INVALID_ARGUMENT,g+s+p)}function _T(s,e){return s.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(e,n,r,l,u){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new xI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Wg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class xI extends yT{data(){return super.data()}}function Wg(s,e){return typeof e=="string"?Qg(s,e):e instanceof Zh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EI(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new de(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Yg{}class vT extends Yg{}function TI(s,e,...n){let r=[];e instanceof Yg&&r.push(e),r=r.concat(n),function(u){const h=u.filter(p=>p instanceof Zg).length,g=u.filter(p=>p instanceof Xg).length;if(h>1||h>0&&g>0)throw new de(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const l of r)s=l._apply(s);return s}class Xg extends vT{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Xg(e,n,r)}_apply(e){const n=this._parse(e);return xT(e._query,n),new di(e.firestore,e.converter,Hm(e._query,n))}_parse(e){const n=Jh(e.firestore);return function(u,h,g,p,_,E,b){let A;if(_.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new de(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){Kx(b,E);const D=[];for(const F of b)D.push(zx(p,u,F));A={arrayValue:{values:D}}}else A=zx(p,u,b)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||Kx(b,E),A=yI(g,h,b,E==="in"||E==="not-in");return St.create(_,E,A)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Zg extends Yg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Zg(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Zn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(l,u){let h=l;const g=u.getFlattenedFilters();for(const p of g)xT(h,p),h=Hm(h,p)}(e._query,n),new di(e.firestore,e.converter,Hm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Jg extends vT{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Jg(e,n)}_apply(e){const n=function(l,u,h){if(l.startAt!==null)throw new de(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new de(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new lu(u,h)}(e._query,this._field,this._direction);return new di(e.firestore,e.converter,function(l,u){const h=l.explicitOrderBy.concat([u]);return new kl(l.path,l.collectionGroup,h,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(e._query,n))}}function bI(s,e="asc"){const n=e,r=Wg("orderBy",s);return Jg._create(r,n)}function zx(s,e,n){if(typeof(n=st(n))=="string"){if(n==="")throw new de(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!mE(e)&&n.indexOf("/")!==-1)throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(nt.fromString(n));if(!xe.isDocumentKey(r))throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ax(s,new xe(r))}if(n instanceof cn)return ax(s,n._key);throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Yh(n)}.`)}function Kx(s,e){if(!Array.isArray(s)||s.length===0)throw new de(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function xT(s,e){const n=function(l,u){for(const h of l)for(const g of h.getFlattenedFilters())if(u.indexOf(g.op)>=0)return g.op;return null}(s.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new de(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class AI{convertValue(e,n="none"){switch(hr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(cr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw be()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return pr(e,(l,u)=>{r[l]=this.convertValue(u,n)}),r}convertVectorValue(e){var n,r,l;const u=(l=(r=(n=e.fields)===null||n===void 0?void 0:n[xh].arrayValue)===null||r===void 0?void 0:r.values)===null||l===void 0?void 0:l.map(h=>yt(h.doubleValue));return new Fg(u)}convertGeoPoint(e){return new qg(yt(e.latitude),yt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Bh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(au(e));default:return null}}convertTimestamp(e){const n=ur(e);return new jt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=nt.fromString(e);We(LE(r));const l=new ru(r.get(1),r.get(3)),u=new xe(r.popFirst(5));return l.isEqual(n)||la(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ET(s,e,n){let r;return r=s?s.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class TT extends yT{constructor(e,n,r,l,u,h){super(e,n,r,l,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new uh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Wg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class uh extends TT{data(e={}){return super.data(e)}}class SI{constructor(e,n,r,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new Qo(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new uh(this._firestore,this._userDataWriter,r.key,r,new Qo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(l,u){if(l._snapshot.oldDocs.isEmpty()){let h=0;return l._snapshot.docChanges.map(g=>{const p=new uh(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Qo(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(g=>u||g.type!==3).map(g=>{const p=new uh(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Qo(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,E=-1;return g.type!==0&&(_=h.indexOf(g.doc.key),h=h.delete(g.doc.key)),g.type!==1&&(h=h.add(g.doc),E=h.indexOf(g.doc.key)),{type:wI(g.type),doc:p,oldIndex:_,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function wI(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ep(s){s=Jn(s,cn);const e=Jn(s.firestore,fi);return lI(zg(e),s._key).then(n=>kI(e,s,n))}class bT extends AI{constructor(e){super(),this.firestore=e}convertBytes(e){return new xl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new cn(this.firestore,null,n)}}function AT(s){s=Jn(s,di);const e=Jn(s.firestore,fi),n=zg(e),r=new bT(e);return EI(s._query),oI(n,s._query).then(l=>new SI(e,r,s,l))}function xu(s,e,n){s=Jn(s,cn);const r=Jn(s.firestore,fi),l=ET(s.converter,e);return td(r,[mT(Jh(r),"setDoc",s._key,l,s.converter!==null,n).toMutation(s._key,Kn.none())])}function ST(s,e,n,...r){s=Jn(s,cn);const l=Jn(s.firestore,fi),u=Jh(l);let h;return h=typeof(e=st(e))=="string"||e instanceof Zh?_I(u,"updateDoc",s._key,e,n,r):pI(u,"updateDoc",s._key,e),td(l,[h.toMutation(s._key,Kn.exists(!0))])}function RI(s){return td(Jn(s.firestore,fi),[new Ag(s._key,Kn.none())])}function NI(s,e){const n=Jn(s.firestore,fi),r=mr(s),l=ET(s.converter,e);return td(n,[mT(Jh(s.firestore),"addDoc",r._key,l,s.converter!==null,{}).toMutation(r._key,Kn.exists(!1))]).then(()=>r)}function td(s,e){return function(r,l){const u=new aa;return r.asyncQueue.enqueueAndForget(async()=>WC(await iI(r),l,u)),u.promise}(zg(s),e)}function kI(s,e,n){const r=n.docs.get(e._key),l=new bT(s);return new TT(s,l,e._key,r,new Qo(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(l){wl=l})(ui),si(new lr("firestore",(r,{instanceIdentifier:l,options:u})=>{const h=r.getProvider("app").getImmediate(),g=new fi(new vN(r.getProvider("auth-internal")),new TN(h,r.getProvider("app-check-internal")),function(_,E){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new de(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ru(_.options.projectId,E)}(h,l),h);return u=Object.assign({useFetchStreams:n},u),g._setSettings(u),g},"PUBLIC").setMultipleInstances(!0)),xs($v,Qv,e),xs($v,Qv,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT="firebasestorage.googleapis.com",RT="storageBucket",CI=2*60*1e3,II=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt extends ws{constructor(e,n,r=0){super(Am(e),`Firebase Storage: ${n} (${Am(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,gt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Am(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var mt;(function(s){s.UNKNOWN="unknown",s.OBJECT_NOT_FOUND="object-not-found",s.BUCKET_NOT_FOUND="bucket-not-found",s.PROJECT_NOT_FOUND="project-not-found",s.QUOTA_EXCEEDED="quota-exceeded",s.UNAUTHENTICATED="unauthenticated",s.UNAUTHORIZED="unauthorized",s.UNAUTHORIZED_APP="unauthorized-app",s.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",s.INVALID_CHECKSUM="invalid-checksum",s.CANCELED="canceled",s.INVALID_EVENT_NAME="invalid-event-name",s.INVALID_URL="invalid-url",s.INVALID_DEFAULT_BUCKET="invalid-default-bucket",s.NO_DEFAULT_BUCKET="no-default-bucket",s.CANNOT_SLICE_BLOB="cannot-slice-blob",s.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",s.NO_DOWNLOAD_URL="no-download-url",s.INVALID_ARGUMENT="invalid-argument",s.INVALID_ARGUMENT_COUNT="invalid-argument-count",s.APP_DELETED="app-deleted",s.INVALID_ROOT_OPERATION="invalid-root-operation",s.INVALID_FORMAT="invalid-format",s.INTERNAL_ERROR="internal-error",s.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(mt||(mt={}));function Am(s){return"storage/"+s}function tp(){const s="An unknown error occurred, please check the error payload for server response.";return new gt(mt.UNKNOWN,s)}function jI(s){return new gt(mt.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")}function DI(s){return new gt(mt.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function OI(){const s="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new gt(mt.UNAUTHENTICATED,s)}function MI(){return new gt(mt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function LI(s){return new gt(mt.UNAUTHORIZED,"User does not have permission to access '"+s+"'.")}function VI(){return new gt(mt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function PI(){return new gt(mt.CANCELED,"User canceled the upload/download.")}function UI(s){return new gt(mt.INVALID_URL,"Invalid URL '"+s+"'.")}function HI(s){return new gt(mt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+s+"'.")}function BI(){return new gt(mt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+RT+"' property when initializing the app?")}function zI(){return new gt(mt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function KI(){return new gt(mt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function qI(s){return new gt(mt.UNSUPPORTED_ENVIRONMENT,`${s} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Zm(s){return new gt(mt.INVALID_ARGUMENT,s)}function NT(){return new gt(mt.APP_DELETED,"The Firebase app was deleted.")}function FI(s){return new gt(mt.INVALID_ROOT_OPERATION,"The operation '"+s+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Jo(s,e){return new gt(mt.INVALID_FORMAT,"String does not match format '"+s+"': "+e)}function zo(s){throw new gt(mt.INTERNAL_ERROR,"Internal error: "+s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Sn.makeFromUrl(e,n)}catch{return new Sn(e,"")}if(r.path==="")return r;throw HI(e)}static makeFromUrl(e,n){let r=null;const l="([A-Za-z0-9.\\-_]+)";function u(ee){ee.path.charAt(ee.path.length-1)==="/"&&(ee.path_=ee.path_.slice(0,-1))}const h="(/(.*))?$",g=new RegExp("^gs://"+l+h,"i"),p={bucket:1,path:3};function _(ee){ee.path_=decodeURIComponent(ee.path)}const E="v[A-Za-z0-9_]+",b=n.replace(/[.]/g,"\\."),A="(/([^?#]*).*)?$",C=new RegExp(`^https?://${b}/${E}/b/${l}/o${A}`,"i"),D={bucket:1,path:3},F=n===wT?"(?:storage.googleapis.com|storage.cloud.google.com)":n,U="([^?#]*)",$=new RegExp(`^https?://${F}/${l}/${U}`,"i"),Q=[{regex:g,indices:p,postModify:u},{regex:C,indices:D,postModify:_},{regex:$,indices:{bucket:1,path:2},postModify:_}];for(let ee=0;ee<Q.length;ee++){const J=Q[ee],ie=J.regex.exec(e);if(ie){const O=ie[J.indices.bucket];let R=ie[J.indices.path];R||(R=""),r=new Sn(O,R),J.postModify(r);break}}if(r==null)throw UI(e);return r}}class GI{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $I(s,e,n){let r=1,l=null,u=null,h=!1,g=0;function p(){return g===2}let _=!1;function E(...U){_||(_=!0,e.apply(null,U))}function b(U){l=setTimeout(()=>{l=null,s(C,p())},U)}function A(){u&&clearTimeout(u)}function C(U,...$){if(_){A();return}if(U){A(),E.call(null,U,...$);return}if(p()||h){A(),E.call(null,U,...$);return}r<64&&(r*=2);let Q;g===1?(g=2,Q=0):Q=(r+Math.random())*1e3,b(Q)}let D=!1;function F(U){D||(D=!0,A(),!_&&(l!==null?(U||(g=2),clearTimeout(l),b(0)):U||(g=1)))}return b(0),u=setTimeout(()=>{h=!0,F(!0)},n),F}function QI(s){s(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(s){return s!==void 0}function YI(s){return typeof s=="object"&&!Array.isArray(s)}function np(s){return typeof s=="string"||s instanceof String}function qx(s){return sp()&&s instanceof Blob}function sp(){return typeof Blob<"u"}function Fx(s,e,n,r){if(r<e)throw Zm(`Invalid value for '${s}'. Expected ${e} or greater.`);if(r>n)throw Zm(`Invalid value for '${s}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nd(s,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${s}`}function kT(s){const e=encodeURIComponent;let n="?";for(const r in s)if(s.hasOwnProperty(r)){const l=e(r)+"="+e(s[r]);n=n+l+"&"}return n=n.slice(0,-1),n}var ti;(function(s){s[s.NO_ERROR=0]="NO_ERROR",s[s.NETWORK_ERROR=1]="NETWORK_ERROR",s[s.ABORT=2]="ABORT"})(ti||(ti={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XI(s,e){const n=s>=500&&s<600,l=[408,429].indexOf(s)!==-1,u=e.indexOf(s)!==-1;return n||l||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e,n,r,l,u,h,g,p,_,E,b,A=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=l,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=g,this.errorCallback_=p,this.timeout_=_,this.progressCallback_=E,this.connectionFactory_=b,this.retry=A,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,D)=>{this.resolve_=C,this.reject_=D,this.start_()})}start_(){const e=(r,l)=>{if(l){r(!1,new Zc(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=g=>{const p=g.loaded,_=g.lengthComputable?g.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,_)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const g=u.getErrorCode()===ti.NO_ERROR,p=u.getStatus();if(!g||XI(p,this.additionalRetryCodes_)&&this.retry){const E=u.getErrorCode()===ti.ABORT;r(!1,new Zc(!1,null,E));return}const _=this.successCodes_.indexOf(p)!==-1;r(!0,new Zc(_,u))})},n=(r,l)=>{const u=this.resolve_,h=this.reject_,g=l.connection;if(l.wasSuccessCode)try{const p=this.callback_(g,g.getResponse());WI(p)?u(p):u()}catch(p){h(p)}else if(g!==null){const p=tp();p.serverResponse=g.getErrorText(),this.errorCallback_?h(this.errorCallback_(g,p)):h(p)}else if(l.canceled){const p=this.appDelete_?NT():PI();h(p)}else{const p=VI();h(p)}};this.canceled_?n(!1,new Zc(!1,null,!0)):this.backoffId_=$I(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&QI(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Zc{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function JI(s,e){e!==null&&e.length>0&&(s.Authorization="Firebase "+e)}function e1(s,e){s["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function t1(s,e){e&&(s["X-Firebase-GMPID"]=e)}function n1(s,e){e!==null&&(s["X-Firebase-AppCheck"]=e)}function s1(s,e,n,r,l,u,h=!0){const g=kT(s.urlParams),p=s.url+g,_=Object.assign({},s.headers);return t1(_,e),JI(_,n),e1(_,u),n1(_,r),new ZI(p,s.method,_,s.body,s.successCodes,s.additionalRetryCodes,s.handler,s.errorHandler,s.timeout,s.progressCallback,l,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a1(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function r1(...s){const e=a1();if(e!==void 0){const n=new e;for(let r=0;r<s.length;r++)n.append(s[r]);return n.getBlob()}else{if(sp())return new Blob(s);throw new gt(mt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function i1(s,e,n){return s.webkitSlice?s.webkitSlice(e,n):s.mozSlice?s.mozSlice(e,n):s.slice?s.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l1(s){if(typeof atob>"u")throw qI("base-64");return atob(s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Sm{constructor(e,n){this.data=e,this.contentType=n||null}}function CT(s,e){switch(s){case Yn.RAW:return new Sm(IT(e));case Yn.BASE64:case Yn.BASE64URL:return new Sm(jT(s,e));case Yn.DATA_URL:return new Sm(u1(e),c1(e))}throw tp()}function IT(s){const e=[];for(let n=0;n<s.length;n++){let r=s.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<s.length-1&&(s.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const u=r,h=s.charCodeAt(++n);r=65536|(u&1023)<<10|h&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function o1(s){let e;try{e=decodeURIComponent(s)}catch{throw Jo(Yn.DATA_URL,"Malformed data URL.")}return IT(e)}function jT(s,e){switch(s){case Yn.BASE64:{const l=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(l||u)throw Jo(s,"Invalid character '"+(l?"-":"_")+"' found: is it base64url encoded?");break}case Yn.BASE64URL:{const l=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(l||u)throw Jo(s,"Invalid character '"+(l?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=l1(e)}catch(l){throw l.message.includes("polyfill")?l:Jo(s,"Invalid character found")}const r=new Uint8Array(n.length);for(let l=0;l<n.length;l++)r[l]=n.charCodeAt(l);return r}class DT{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Jo(Yn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=h1(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function u1(s){const e=new DT(s);return e.base64?jT(Yn.BASE64,e.rest):o1(e.rest)}function c1(s){return new DT(s).contentType}function h1(s,e){return s.length>=e.length?s.substring(s.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e,n){let r=0,l="";qx(e)?(this.data_=e,r=e.size,l=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=l}size(){return this.size_}type(){return this.type_}slice(e,n){if(qx(this.data_)){const r=this.data_,l=i1(r,e,n);return l===null?null:new Ya(l)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Ya(r,!0)}}static getBlob(...e){if(sp()){const n=e.map(r=>r instanceof Ya?r.data_:r);return new Ya(r1.apply(null,n))}else{const n=e.map(h=>np(h)?CT(Yn.RAW,h).data:h.data_);let r=0;n.forEach(h=>{r+=h.byteLength});const l=new Uint8Array(r);let u=0;return n.forEach(h=>{for(let g=0;g<h.length;g++)l[u++]=h[g]}),new Ya(l,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OT(s){let e;try{e=JSON.parse(s)}catch{return null}return YI(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1(s){if(s.length===0)return null;const e=s.lastIndexOf("/");return e===-1?"":s.slice(0,e)}function f1(s,e){const n=e.split("/").filter(r=>r.length>0).join("/");return s.length===0?n:s+"/"+n}function MT(s){const e=s.lastIndexOf("/",s.length-2);return e===-1?s:s.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m1(s,e){return e}class un{constructor(e,n,r,l){this.server=e,this.local=n||e,this.writable=!!r,this.xform=l||m1}}let Jc=null;function g1(s){return!np(s)||s.length<2?s:MT(s)}function LT(){if(Jc)return Jc;const s=[];s.push(new un("bucket")),s.push(new un("generation")),s.push(new un("metageneration")),s.push(new un("name","fullPath",!0));function e(u,h){return g1(h)}const n=new un("name");n.xform=e,s.push(n);function r(u,h){return h!==void 0?Number(h):h}const l=new un("size");return l.xform=r,s.push(l),s.push(new un("timeCreated")),s.push(new un("updated")),s.push(new un("md5Hash",null,!0)),s.push(new un("cacheControl",null,!0)),s.push(new un("contentDisposition",null,!0)),s.push(new un("contentEncoding",null,!0)),s.push(new un("contentLanguage",null,!0)),s.push(new un("contentType",null,!0)),s.push(new un("metadata","customMetadata",!0)),Jc=s,Jc}function p1(s,e){function n(){const r=s.bucket,l=s.fullPath,u=new Sn(r,l);return e._makeStorageReference(u)}Object.defineProperty(s,"ref",{get:n})}function _1(s,e,n){const r={};r.type="file";const l=n.length;for(let u=0;u<l;u++){const h=n[u];r[h.local]=h.xform(r,e[h.server])}return p1(r,s),r}function VT(s,e,n){const r=OT(e);return r===null?null:_1(s,r,n)}function y1(s,e,n,r){const l=OT(e);if(l===null||!np(l.downloadTokens))return null;const u=l.downloadTokens;if(u.length===0)return null;const h=encodeURIComponent;return u.split(",").map(_=>{const E=s.bucket,b=s.fullPath,A="/b/"+h(E)+"/o/"+h(b),C=nd(A,n,r),D=kT({alt:"media",token:_});return C+D})[0]}function v1(s,e){const n={},r=e.length;for(let l=0;l<r;l++){const u=e[l];u.writable&&(n[u.server]=s[u.local])}return JSON.stringify(n)}class ap{constructor(e,n,r,l){this.url=e,this.method=n,this.handler=r,this.timeout=l,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(s){if(!s)throw tp()}function x1(s,e){function n(r,l){const u=VT(s,l,e);return PT(u!==null),u}return n}function E1(s,e){function n(r,l){const u=VT(s,l,e);return PT(u!==null),y1(u,l,s.host,s._protocol)}return n}function UT(s){function e(n,r){let l;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?l=MI():l=OI():n.getStatus()===402?l=DI(s.bucket):n.getStatus()===403?l=LI(s.path):l=r,l.status=n.getStatus(),l.serverResponse=r.serverResponse,l}return e}function HT(s){const e=UT(s);function n(r,l){let u=e(r,l);return r.getStatus()===404&&(u=jI(s.path)),u.serverResponse=l.serverResponse,u}return n}function T1(s,e,n){const r=e.fullServerUrl(),l=nd(r,s.host,s._protocol),u="GET",h=s.maxOperationRetryTime,g=new ap(l,u,E1(s,n),h);return g.errorHandler=HT(e),g}function b1(s,e){const n=e.fullServerUrl(),r=nd(n,s.host,s._protocol),l="DELETE",u=s.maxOperationRetryTime;function h(p,_){}const g=new ap(r,l,h,u);return g.successCodes=[200,204],g.errorHandler=HT(e),g}function A1(s,e){return s&&s.contentType||e&&e.type()||"application/octet-stream"}function S1(s,e,n){const r=Object.assign({},n);return r.fullPath=s.path,r.size=e.size(),r.contentType||(r.contentType=A1(null,e)),r}function w1(s,e,n,r,l){const u=e.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"};function g(){let Q="";for(let ee=0;ee<2;ee++)Q=Q+Math.random().toString().slice(2);return Q}const p=g();h["Content-Type"]="multipart/related; boundary="+p;const _=S1(e,r,l),E=v1(_,n),b="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+E+`\r
--`+p+`\r
Content-Type: `+_.contentType+`\r
\r
`,A=`\r
--`+p+"--",C=Ya.getBlob(b,r,A);if(C===null)throw zI();const D={name:_.fullPath},F=nd(u,s.host,s._protocol),U="POST",$=s.maxUploadRetryTime,z=new ap(F,U,x1(s,n),$);return z.urlParams=D,z.headers=h,z.body=C.uploadData(),z.errorHandler=UT(e),z}class R1{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ti.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ti.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ti.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,l){if(this.sent_)throw zo("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),l!==void 0)for(const u in l)l.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,l[u].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw zo("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw zo("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw zo("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw zo("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class N1 extends R1{initXhr(){this.xhr_.responseType="text"}}function rp(){return new N1}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e,n){this._service=e,n instanceof Sn?this._location=n:this._location=Sn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ii(e,n)}get root(){const e=new Sn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return MT(this._location.path)}get storage(){return this._service}get parent(){const e=d1(this._location.path);if(e===null)return null;const n=new Sn(this._location.bucket,e);return new ii(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw FI(e)}}function BT(s,e,n){s._throwIfRoot("uploadBytes");const r=w1(s.storage,s._location,LT(),new Ya(e,!0),n);return s.storage.makeRequestWithTokens(r,rp).then(l=>({metadata:l,ref:s}))}function k1(s,e,n=Yn.RAW,r){s._throwIfRoot("uploadString");const l=CT(n,e),u=Object.assign({},r);return u.contentType==null&&l.contentType!=null&&(u.contentType=l.contentType),BT(s,l.data,u)}function C1(s){s._throwIfRoot("getDownloadURL");const e=T1(s.storage,s._location,LT());return s.storage.makeRequestWithTokens(e,rp).then(n=>{if(n===null)throw KI();return n})}function I1(s){s._throwIfRoot("deleteObject");const e=b1(s.storage,s._location);return s.storage.makeRequestWithTokens(e,rp)}function j1(s,e){const n=f1(s._location.path,e),r=new Sn(s._location.bucket,n);return new ii(s.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D1(s){return/^[A-Za-z]+:\/\//.test(s)}function O1(s,e){return new ii(s,e)}function zT(s,e){if(s instanceof ip){const n=s;if(n._bucket==null)throw BI();const r=new ii(n,n._bucket);return e!=null?zT(r,e):r}else return e!==void 0?j1(s,e):s}function M1(s,e){if(e&&D1(e)){if(s instanceof ip)return O1(s,e);throw Zm("To use ref(service, url), the first argument must be a Storage instance.")}else return zT(s,e)}function Gx(s,e){const n=e==null?void 0:e[RT];return n==null?null:Sn.makeFromBucketSpec(n,s)}function L1(s,e,n,r={}){s.host=`${e}:${n}`,s._protocol="http";const{mockUserToken:l}=r;l&&(s._overrideAuthToken=typeof l=="string"?l:P0(l,s.app.options.projectId))}class ip{constructor(e,n,r,l,u){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=l,this._firebaseVersion=u,this._bucket=null,this._host=wT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=CI,this._maxUploadRetryTime=II,this._requests=new Set,l!=null?this._bucket=Sn.makeFromBucketSpec(l,this._host):this._bucket=Gx(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Sn.makeFromBucketSpec(this._url,e):this._bucket=Gx(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Fx("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Fx("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ii(this,e)}_makeRequest(e,n,r,l,u=!0){if(this._deleted)return new GI(NT());{const h=s1(e,this._appId,r,l,n,this._firebaseVersion,u);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,n){const[r,l]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,l).getPromise()}}const $x="@firebase/storage",Qx="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT="storage";function V1(s,e,n){return s=st(s),BT(s,e,n)}function qT(s,e,n,r){return s=st(s),k1(s,e,n,r)}function lp(s){return s=st(s),C1(s)}function P1(s){return s=st(s),I1(s)}function sd(s,e){return s=st(s),M1(s,e)}function U1(s=gg(),e){s=st(s);const r=Ph(s,KT).getImmediate({identifier:e}),l=M0("storage");return l&&H1(r,...l),r}function H1(s,e,n,r={}){L1(s,e,n,r)}function B1(s,{instanceIdentifier:e}){const n=s.getProvider("app").getImmediate(),r=s.getProvider("auth-internal"),l=s.getProvider("app-check-internal");return new ip(n,r,l,e,ui)}function z1(){si(new lr(KT,B1,"PUBLIC").setMultipleInstances(!0)),xs($x,Qx,""),xs($x,Qx,"esm2017")}z1();function op(s,e){var n={};for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&e.indexOf(r)<0&&(n[r]=s[r]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,r=Object.getOwnPropertySymbols(s);l<r.length;l++)e.indexOf(r[l])<0&&Object.prototype.propertyIsEnumerable.call(s,r[l])&&(n[r[l]]=s[r[l]]);return n}function FT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const K1=FT,GT=new fu("auth","Firebase",FT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kh=new fg("@firebase/auth");function q1(s,...e){kh.logLevel<=Oe.WARN&&kh.warn(`Auth (${ui}): ${s}`,...e)}function ch(s,...e){kh.logLevel<=Oe.ERROR&&kh.error(`Auth (${ui}): ${s}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function es(s,...e){throw up(s,...e)}function bs(s,...e){return up(s,...e)}function $T(s,e,n){const r=Object.assign(Object.assign({},K1()),{[e]:n});return new fu("auth","Firebase",r).create(e,{appName:s.name})}function ra(s){return $T(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function up(s,...e){if(typeof s!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return GT.create(s,...e)}function Te(s,e,...n){if(!s)throw up(e,...n)}function ea(s){const e="INTERNAL ASSERTION FAILED: "+s;throw ch(e),new Error(e)}function ua(s,e){s||ea(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jm(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.href)||""}function F1(){return Wx()==="http:"||Wx()==="https:"}function Wx(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(F1()||Qw()||"connection"in navigator)?navigator.onLine:!0}function $1(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e,n){this.shortDelay=e,this.longDelay=n,ua(n>e,"Short delay should be less than long delay!"),this.isMobile=Fw()||Ww()}get(){return G1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cp(s,e){ua(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ea("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ea("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ea("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1=new Eu(3e4,6e4);function yr(s,e){return s.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:s.tenantId}):e}async function ha(s,e,n,r,l={}){return WT(s,l,async()=>{let u={},h={};r&&(e==="GET"?h=r:u={body:JSON.stringify(r)});const g=mu(Object.assign({key:s.config.apiKey},h)).slice(1),p=await s._getAdditionalHeaders();p["Content-Type"]="application/json",s.languageCode&&(p["X-Firebase-Locale"]=s.languageCode);const _=Object.assign({method:e,headers:p},u);return $w()||(_.referrerPolicy="no-referrer"),QT.fetch()(YT(s,s.config.apiHost,n,g),_)})}async function WT(s,e,n){s._canInitEmulator=!1;const r=Object.assign(Object.assign({},Q1),e);try{const l=new X1(s),u=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw eh(s,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const g=u.ok?h.errorMessage:h.error.message,[p,_]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw eh(s,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw eh(s,"email-already-in-use",h);if(p==="USER_DISABLED")throw eh(s,"user-disabled",h);const E=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw $T(s,E,_);es(s,E)}}catch(l){if(l instanceof ws)throw l;es(s,"network-request-failed",{message:String(l)})}}async function Tu(s,e,n,r,l={}){const u=await ha(s,e,n,r,l);return"mfaPendingCredential"in u&&es(s,"multi-factor-auth-required",{_serverResponse:u}),u}function YT(s,e,n,r){const l=`${e}${n}?${r}`;return s.config.emulator?cp(s.config,l):`${s.config.apiScheme}://${l}`}function Y1(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class X1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(bs(this.auth,"network-request-failed")),W1.get())})}}function eh(s,e,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const l=bs(s,e,r);return l.customData._tokenResponse=n,l}function Yx(s){return s!==void 0&&s.enterprise!==void 0}class Z1{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Y1(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function J1(s,e){return ha(s,"GET","/v2/recaptchaConfig",yr(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ej(s,e){return ha(s,"POST","/v1/accounts:delete",e)}async function XT(s,e){return ha(s,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function tj(s,e=!1){const n=st(s),r=await n.getIdToken(e),l=hp(r);Te(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:l,token:r,authTime:eu(wm(l.auth_time)),issuedAtTime:eu(wm(l.iat)),expirationTime:eu(wm(l.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function wm(s){return Number(s)*1e3}function hp(s){const[e,n,r]=s.split(".");if(e===void 0||n===void 0||r===void 0)return ch("JWT malformed, contained fewer than 3 sections"),null;try{const l=D0(n);return l?JSON.parse(l):(ch("Failed to decode base64 JWT payload"),null)}catch(l){return ch("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function Xx(s){const e=hp(s);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function El(s,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ws&&nj(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function nj({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const l=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=eu(this.lastLoginAt),this.creationTime=eu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ch(s){var e;const n=s.auth,r=await s.getIdToken(),l=await El(s,XT(n,{idToken:r}));Te(l==null?void 0:l.users.length,n,"internal-error");const u=l.users[0];s._notifyReloadListener(u);const h=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?ZT(u.providerUserInfo):[],g=rj(s.providerData,h),p=s.isAnonymous,_=!(s.email&&u.passwordHash)&&!(g!=null&&g.length),E=p?_:!1,b={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:g,metadata:new eg(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(s,b)}async function aj(s){const e=st(s);await Ch(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function rj(s,e){return[...s.filter(r=>!e.some(l=>l.providerId===r.providerId)),...e]}function ZT(s){return s.map(e=>{var{providerId:n}=e,r=op(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ij(s,e){const n=await WT(s,{},async()=>{const r=mu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:u}=s.config,h=YT(s,l,"/v1/token",`key=${u}`),g=await s._getAdditionalHeaders();return g["Content-Type"]="application/x-www-form-urlencoded",QT.fetch()(h,{method:"POST",headers:g,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function lj(s,e){return ha(s,"POST","/v2/accounts:revokeToken",yr(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Xx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const n=Xx(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:l,expiresIn:u}=await ij(e,n);this.updateTokensAndExpiration(r,l,Number(u))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:l,expirationTime:u}=n,h=new hl;return r&&(Te(typeof r=="string","internal-error",{appName:e}),h.refreshToken=r),l&&(Te(typeof l=="string","internal-error",{appName:e}),h.accessToken=l),u&&(Te(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new hl,this.toJSON())}_performRefresh(){return ea("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wa(s,e){Te(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class ta{constructor(e){var{uid:n,auth:r,stsTokenManager:l}=e,u=op(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new sj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new eg(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await El(this,this.stsTokenManager.getToken(this.auth,e));return Te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return tj(this,e)}reload(){return aj(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ta(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ch(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(bn(this.auth.app))return Promise.reject(ra(this.auth));const e=await this.getIdToken();return await El(this,ej(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,l,u,h,g,p,_,E;const b=(r=n.displayName)!==null&&r!==void 0?r:void 0,A=(l=n.email)!==null&&l!==void 0?l:void 0,C=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,D=(h=n.photoURL)!==null&&h!==void 0?h:void 0,F=(g=n.tenantId)!==null&&g!==void 0?g:void 0,U=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,$=(_=n.createdAt)!==null&&_!==void 0?_:void 0,z=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:Q,emailVerified:ee,isAnonymous:J,providerData:ie,stsTokenManager:O}=n;Te(Q&&O,e,"internal-error");const R=hl.fromJSON(this.name,O);Te(typeof Q=="string",e,"internal-error"),Wa(b,e.name),Wa(A,e.name),Te(typeof ee=="boolean",e,"internal-error"),Te(typeof J=="boolean",e,"internal-error"),Wa(C,e.name),Wa(D,e.name),Wa(F,e.name),Wa(U,e.name),Wa($,e.name),Wa(z,e.name);const S=new ta({uid:Q,auth:e,email:A,emailVerified:ee,displayName:b,isAnonymous:J,photoURL:D,phoneNumber:C,tenantId:F,stsTokenManager:R,createdAt:$,lastLoginAt:z});return ie&&Array.isArray(ie)&&(S.providerData=ie.map(I=>Object.assign({},I))),U&&(S._redirectEventId=U),S}static async _fromIdTokenResponse(e,n,r=!1){const l=new hl;l.updateFromServerResponse(n);const u=new ta({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:r});return await Ch(u),u}static async _fromGetAccountInfoResponse(e,n,r){const l=n.users[0];Te(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?ZT(l.providerUserInfo):[],h=!(l.email&&l.passwordHash)&&!(u!=null&&u.length),g=new hl;g.updateFromIdToken(r);const p=new ta({uid:l.localId,auth:e,stsTokenManager:g,isAnonymous:h}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new eg(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,_),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx=new Map;function na(s){ua(s instanceof Function,"Expected a class definition");let e=Zx.get(s);return e?(ua(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,Zx.set(s,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}JT.type="NONE";const Jx=JT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hh(s,e,n){return`firebase:${s}:${e}:${n}`}class dl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:l,name:u}=this.auth;this.fullUserKey=hh(this.userKey,l.apiKey,u),this.fullPersistenceKey=hh("persistence",l.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ta._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new dl(na(Jx),e,r);const l=(await Promise.all(n.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let u=l[0]||na(Jx);const h=hh(r,e.config.apiKey,e.name);let g=null;for(const _ of n)try{const E=await _._get(h);if(E){const b=ta._fromJSON(e,E);_!==u&&(g=b),u=_;break}}catch{}const p=l.filter(_=>_._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new dl(u,e,r):(u=p[0],g&&await u._set(h,g.toJSON()),await Promise.all(n.map(async _=>{if(_!==u)try{await _._remove(h)}catch{}})),new dl(u,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e0(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(sb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(eb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(rb(e))return"Blackberry";if(ib(e))return"Webos";if(tb(e))return"Safari";if((e.includes("chrome/")||nb(e))&&!e.includes("edge/"))return"Chrome";if(ab(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function eb(s=tn()){return/firefox\//i.test(s)}function tb(s=tn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function nb(s=tn()){return/crios\//i.test(s)}function sb(s=tn()){return/iemobile/i.test(s)}function ab(s=tn()){return/android/i.test(s)}function rb(s=tn()){return/blackberry/i.test(s)}function ib(s=tn()){return/webos/i.test(s)}function dp(s=tn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function oj(s=tn()){var e;return dp(s)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function uj(){return Yw()&&document.documentMode===10}function lb(s=tn()){return dp(s)||ab(s)||ib(s)||rb(s)||/windows phone/i.test(s)||sb(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ob(s,e=[]){let n;switch(s){case"Browser":n=e0(tn());break;case"Worker":n=`${e0(tn())}-${s}`;break;default:n=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ui}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=u=>new Promise((h,g)=>{try{const p=e(u);h(p)}catch(p){g(p)}});r.onAbort=n,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hj(s,e={}){return ha(s,"GET","/v2/passwordPolicy",yr(s,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dj=6;class fj{constructor(e){var n,r,l,u;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=h.minPasswordLength)!==null&&n!==void 0?n:dj,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,l,u,h,g;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(r=p.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),p.isValid&&(p.isValid=(l=p.containsLowercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(g=p.containsNonAlphanumericCharacter)!==null&&g!==void 0?g:!0),p}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let l=0;l<e.length;l++)r=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,l,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mj{constructor(e,n,r,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new t0(this),this.idTokenSubscription=new t0(this),this.beforeStateQueue=new cj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=GT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=na(n)),this._initializationPromise=this.queue(async()=>{var r,l;if(!this._deleted&&(this.persistenceManager=await dl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await XT(this,{idToken:e}),r=await ta._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(bn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(g,g))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let l=r,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,g=l==null?void 0:l._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===g)&&(p!=null&&p.user)&&(l=p.user,u=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(l)}catch(h){l=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ch(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=$1()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(bn(this.app))return Promise.reject(ra(this));const n=e?st(e):null;return n&&Te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return bn(this.app)?Promise.reject(ra(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return bn(this.app)?Promise.reject(ra(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(na(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await hj(this),n=new fj(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new fu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await lj(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&na(e)||this._popupRedirectResolver;Te(n,this,"argument-error"),this.redirectPersistenceManager=await dl.create(this,[na(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,l){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(g,this,"internal-error"),g.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,r,l);return()=>{h=!0,p()}}else{const p=e.addObserver(n);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ob(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const l=await this._getAppCheckToken();return l&&(n["X-Firebase-AppCheck"]=l),n}async _getAppCheckToken(){var e;if(bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&q1(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function mi(s){return st(s)}class t0{constructor(e){this.auth=e,this.observer=null,this.addObserver=aR(n=>this.observer=n)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ad={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function gj(s){ad=s}function ub(s){return ad.loadJS(s)}function pj(){return ad.recaptchaEnterpriseScript}function _j(){return ad.gapiScript}function yj(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class vj{constructor(){this.enterprise=new xj}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class xj{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Ej="recaptcha-enterprise",cb="NO_RECAPTCHA";class Tj{constructor(e){this.type=Ej,this.auth=mi(e)}async verify(e="verify",n=!1){async function r(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,g)=>{J1(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const _=new Z1(p);return u.tenantId==null?u._agentRecaptchaConfig=_:u._tenantRecaptchaConfigs[u.tenantId]=_,h(_.siteKey)}}).catch(p=>{g(p)})})}function l(u,h,g){const p=window.grecaptcha;Yx(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(_=>{h(_)}).catch(()=>{h(cb)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new vj().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{r(this.auth).then(g=>{if(!n&&Yx(window.grecaptcha))l(g,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=pj();p.length!==0&&(p+=g),ub(p).then(()=>{l(g,u,h)}).catch(_=>{h(_)})}}).catch(g=>{h(g)})})}}async function n0(s,e,n,r=!1,l=!1){const u=new Tj(s);let h;if(l)h=cb;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const g=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const p=g.phoneEnrollmentInfo.phoneNumber,_=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:_,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const p=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return r?Object.assign(g,{captchaResp:h}):Object.assign(g,{captchaResponse:h}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function tg(s,e,n,r,l){var u;if(!((u=s._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await n0(s,e,n,n==="getOobCode");return r(s,h)}else return r(s,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const g=await n0(s,e,n,n==="getOobCode");return r(s,g)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bj(s,e){const n=Ph(s,"auth");if(n.isInitialized()){const l=n.getImmediate(),u=n.getOptions();if(ni(u,e??{}))return l;es(l,"already-initialized")}return n.initialize({options:e})}function Aj(s,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(na);e!=null&&e.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Sj(s,e,n){const r=mi(s);Te(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const l=!1,u=hb(e),{host:h,port:g}=wj(e),p=g===null?"":`:${g}`,_={url:`${u}//${h}${p}/`},E=Object.freeze({host:h,port:g,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){Te(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Te(ni(_,r.config.emulator)&&ni(E,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=_,r.emulatorConfig=E,r.settings.appVerificationDisabledForTesting=!0,Rj()}function hb(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function wj(s){const e=hb(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const u=l[1];return{host:u,port:s0(r.substr(u.length+1))}}else{const[u,h]=r.split(":");return{host:u,port:s0(h)}}}function s0(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function Rj(){function s(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ea("not implemented")}_getIdTokenResponse(e){return ea("not implemented")}_linkToIdToken(e,n){return ea("not implemented")}_getReauthenticationResolver(e){return ea("not implemented")}}async function Nj(s,e){return ha(s,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kj(s,e){return Tu(s,"POST","/v1/accounts:signInWithPassword",yr(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cj(s,e){return Tu(s,"POST","/v1/accounts:signInWithEmailLink",yr(s,e))}async function Ij(s,e){return Tu(s,"POST","/v1/accounts:signInWithEmailLink",yr(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu extends fp{constructor(e,n,r,l=null){super("password",r),this._email=e,this._password=n,this._tenantId=l}static _fromEmailAndPassword(e,n){return new cu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new cu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tg(e,n,"signInWithPassword",kj);case"emailLink":return Cj(e,{email:this._email,oobCode:this._password});default:es(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tg(e,r,"signUpPassword",Nj);case"emailLink":return Ij(e,{idToken:n,email:this._email,oobCode:this._password});default:es(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fl(s,e){return Tu(s,"POST","/v1/accounts:signInWithIdp",yr(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jj="http://localhost";class li extends fp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new li(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):es("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:l}=n,u=op(n,["providerId","signInMethod"]);if(!r||!l)return null;const h=new li(r,l);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return fl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,fl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,fl(e,n)}buildRequest(){const e={requestUri:jj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=mu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dj(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Oj(s){const e=Ko(qo(s)).link,n=e?Ko(qo(e)).deep_link_id:null,r=Ko(qo(s)).deep_link_id;return(r?Ko(qo(r)).link:null)||r||n||e||s}class mp{constructor(e){var n,r,l,u,h,g;const p=Ko(qo(e)),_=(n=p.apiKey)!==null&&n!==void 0?n:null,E=(r=p.oobCode)!==null&&r!==void 0?r:null,b=Dj((l=p.mode)!==null&&l!==void 0?l:null);Te(_&&E&&b,"argument-error"),this.apiKey=_,this.operation=b,this.code=E,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(h=p.languageCode)!==null&&h!==void 0?h:null,this.tenantId=(g=p.tenantId)!==null&&g!==void 0?g:null}static parseLink(e){const n=Oj(e);try{return new mp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(){this.providerId=Il.PROVIDER_ID}static credential(e,n){return cu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=mp.parseLink(n);return Te(r,"argument-error"),cu._fromEmailAndCode(e,r.code,r.tenantId)}}Il.PROVIDER_ID="password";Il.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Il.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu extends db{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa extends bu{constructor(){super("facebook.com")}static credential(e){return li._fromParams({providerId:Xa.PROVIDER_ID,signInMethod:Xa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xa.credentialFromTaggedObject(e)}static credentialFromError(e){return Xa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xa.credential(e.oauthAccessToken)}catch{return null}}}Xa.FACEBOOK_SIGN_IN_METHOD="facebook.com";Xa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za extends bu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return li._fromParams({providerId:Za.PROVIDER_ID,signInMethod:Za.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Za.credentialFromTaggedObject(e)}static credentialFromError(e){return Za.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Za.credential(n,r)}catch{return null}}}Za.GOOGLE_SIGN_IN_METHOD="google.com";Za.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja extends bu{constructor(){super("github.com")}static credential(e){return li._fromParams({providerId:Ja.PROVIDER_ID,signInMethod:Ja.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ja.credentialFromTaggedObject(e)}static credentialFromError(e){return Ja.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ja.credential(e.oauthAccessToken)}catch{return null}}}Ja.GITHUB_SIGN_IN_METHOD="github.com";Ja.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er extends bu{constructor(){super("twitter.com")}static credential(e,n){return li._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return er.credentialFromTaggedObject(e)}static credentialFromError(e){return er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return er.credential(n,r)}catch{return null}}}er.TWITTER_SIGN_IN_METHOD="twitter.com";er.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mj(s,e){return Tu(s,"POST","/v1/accounts:signUp",yr(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,l=!1){const u=await ta._fromIdTokenResponse(e,r,l),h=a0(r);return new oi({user:u,providerId:h,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const l=a0(r);return new oi({user:e,providerId:l,_tokenResponse:r,operationType:n})}}function a0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih extends ws{constructor(e,n,r,l){var u;super(n.code,n.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,Ih.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,l){return new Ih(e,n,r,l)}}function fb(s,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Ih._fromErrorAndOperation(s,u,e,r):u})}async function Lj(s,e,n=!1){const r=await El(s,e._linkToIdToken(s.auth,await s.getIdToken()),n);return oi._forOperation(s,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vj(s,e,n=!1){const{auth:r}=s;if(bn(r.app))return Promise.reject(ra(r));const l="reauthenticate";try{const u=await El(s,fb(r,l,e,s),n);Te(u.idToken,r,"internal-error");const h=hp(u.idToken);Te(h,r,"internal-error");const{sub:g}=h;return Te(s.uid===g,r,"user-mismatch"),oi._forOperation(s,l,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&es(r,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mb(s,e,n=!1){if(bn(s.app))return Promise.reject(ra(s));const r="signIn",l=await fb(s,r,e),u=await oi._fromIdTokenResponse(s,r,l);return n||await s._updateCurrentUser(u.user),u}async function Pj(s,e){return mb(mi(s),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gb(s){const e=mi(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Uj(s,e,n){if(bn(s.app))return Promise.reject(ra(s));const r=mi(s),h=await tg(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Mj).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&gb(s),p}),g=await oi._fromIdTokenResponse(r,"signIn",h);return await r._updateCurrentUser(g.user),g}function Hj(s,e,n){return bn(s.app)?Promise.reject(ra(s)):Pj(st(s),Il.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&gb(s),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bj(s,e){return ha(s,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zj(s,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=st(s),u={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},h=await El(r,Bj(r.auth,u));r.displayName=h.displayName||null,r.photoURL=h.photoUrl||null;const g=r.providerData.find(({providerId:p})=>p==="password");g&&(g.displayName=r.displayName,g.photoURL=r.photoURL),await r._updateTokensIfNecessary(h)}function Kj(s,e,n,r){return st(s).onIdTokenChanged(e,n,r)}function qj(s,e,n){return st(s).beforeAuthStateChanged(e,n)}function Fj(s,e,n,r){return st(s).onAuthStateChanged(e,n,r)}function Gj(s){return st(s).signOut()}const jh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(jh,"1"),this.storage.removeItem(jh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $j=1e3,Qj=10;class _b extends pb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=lb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),l=this.localCache[n];r!==l&&e(n,l,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,g,p)=>{this.notifyListeners(h,p)});return}const r=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const h=this.storage.getItem(r);!n&&this.localCache[r]===h||this.notifyListeners(r,h)},u=this.storage.getItem(r);uj()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,Qj):l()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},$j)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}_b.type="LOCAL";const Wj=_b;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb extends pb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}yb.type="SESSION";const vb=yb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yj(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const r=new rd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:l,data:u}=n.data,h=this.handlersMap[l];if(!(h!=null&&h.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const g=Array.from(h).map(async _=>_(n.origin,u)),p=await Yj(g);n.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}rd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gp(s="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return s+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,h;return new Promise((g,p)=>{const _=gp("",20);l.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},r);h={messageChannel:l,onMessage(b){const A=b;if(A.data.eventId===_)switch(A.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),g(A.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),l.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:_,data:n},[l.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function As(){return window}function Zj(s){As().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xb(){return typeof As().WorkerGlobalScope<"u"&&typeof As().importScripts=="function"}async function Jj(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function e2(){var s;return((s=navigator==null?void 0:navigator.serviceWorker)===null||s===void 0?void 0:s.controller)||null}function t2(){return xb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb="firebaseLocalStorageDb",n2=1,Dh="firebaseLocalStorage",Tb="fbase_key";class Au{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function id(s,e){return s.transaction([Dh],e?"readwrite":"readonly").objectStore(Dh)}function s2(){const s=indexedDB.deleteDatabase(Eb);return new Au(s).toPromise()}function ng(){const s=indexedDB.open(Eb,n2);return new Promise((e,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(Dh,{keyPath:Tb})}catch(l){n(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(Dh)?e(r):(r.close(),await s2(),e(await ng()))})})}async function r0(s,e,n){const r=id(s,!0).put({[Tb]:e,value:n});return new Au(r).toPromise()}async function a2(s,e){const n=id(s,!1).get(e),r=await new Au(n).toPromise();return r===void 0?null:r.value}function i0(s,e){const n=id(s,!0).delete(e);return new Au(n).toPromise()}const r2=800,i2=3;class bb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ng(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>i2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return xb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rd._getInstance(t2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Jj(),!this.activeServiceWorker)return;this.sender=new Xj(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||e2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ng();return await r0(e,jh,"1"),await i0(e,jh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>r0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>a2(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>i0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const u=id(l,!1).getAll();return new Au(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:l,value:u}of e)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),r2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}bb.type="LOCAL";const l2=bb;new Eu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o2(s,e){return e?na(e):(Te(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp extends fp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return fl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return fl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function u2(s){return mb(s.auth,new pp(s),s.bypassAuthState)}function c2(s){const{auth:e,user:n}=s;return Te(n,e,"internal-error"),Vj(n,new pp(s),s.bypassAuthState)}async function h2(s){const{auth:e,user:n}=s;return Te(n,e,"internal-error"),Lj(n,new pp(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(e,n,r,l,u=!1){this.auth=e,this.resolver=r,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:l,tenantId:u,error:h,type:g}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:n,sessionId:r,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return u2;case"linkViaPopup":case"linkViaRedirect":return h2;case"reauthViaPopup":case"reauthViaRedirect":return c2;default:es(this.auth,"internal-error")}}resolve(e){ua(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ua(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2=new Eu(2e3,1e4);class ul extends Ab{constructor(e,n,r,l,u){super(e,n,l,u),this.provider=r,this.authWindow=null,this.pollId=null,ul.currentPopupAction&&ul.currentPopupAction.cancel(),ul.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){ua(this.filter.length===1,"Popup operations only handle one event");const e=gp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(bs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(bs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ul.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,d2.get())};e()}}ul.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2="pendingRedirect",dh=new Map;class m2 extends Ab{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=dh.get(this.auth._key());if(!e){try{const r=await g2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}dh.set(this.auth._key(),e)}return this.bypassAuthState||dh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function g2(s,e){const n=y2(e),r=_2(s);if(!await r._isAvailable())return!1;const l=await r._get(n)==="true";return await r._remove(n),l}function p2(s,e){dh.set(s._key(),e)}function _2(s){return na(s._redirectPersistence)}function y2(s){return hh(f2,s.config.apiKey,s.name)}async function v2(s,e,n=!1){if(bn(s.app))return Promise.reject(ra(s));const r=mi(s),l=o2(r,e),h=await new m2(r,l,n).execute();return h&&!n&&(delete h.user._redirectEventId,await r._persistUserIfCurrent(h.user),await r._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2=10*60*1e3;class E2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!T2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Sb(e)){const l=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(bs(this.auth,l))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=x2&&this.cachedEventUids.clear(),this.cachedEventUids.has(l0(e))}saveEventToCache(e){this.cachedEventUids.add(l0(e)),this.lastProcessedEventTime=Date.now()}}function l0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function Sb({type:s,error:e}){return s==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function T2(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Sb(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b2(s,e={}){return ha(s,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,S2=/^https?/;async function w2(s){if(s.config.emulator)return;const{authorizedDomains:e}=await b2(s);for(const n of e)try{if(R2(n))return}catch{}es(s,"unauthorized-domain")}function R2(s){const e=Jm(),{protocol:n,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const h=new URL(s);return h.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===r}if(!S2.test(n))return!1;if(A2.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2=new Eu(3e4,6e4);function o0(){const s=As().___jsl;if(s!=null&&s.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function k2(s){return new Promise((e,n)=>{var r,l,u;function h(){o0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{o0(),n(bs(s,"network-request-failed"))},timeout:N2.get()})}if(!((l=(r=As().gapi)===null||r===void 0?void 0:r.iframes)===null||l===void 0)&&l.Iframe)e(gapi.iframes.getContext());else if(!((u=As().gapi)===null||u===void 0)&&u.load)h();else{const g=yj("iframefcb");return As()[g]=()=>{gapi.load?h():n(bs(s,"network-request-failed"))},ub(`${_j()}?onload=${g}`).catch(p=>n(p))}}).catch(e=>{throw fh=null,e})}let fh=null;function C2(s){return fh=fh||k2(s),fh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2=new Eu(5e3,15e3),j2="__/auth/iframe",D2="emulator/auth/iframe",O2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},M2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function L2(s){const e=s.config;Te(e.authDomain,s,"auth-domain-config-required");const n=e.emulator?cp(e,D2):`https://${s.config.authDomain}/${j2}`,r={apiKey:e.apiKey,appName:s.name,v:ui},l=M2.get(s.config.apiHost);l&&(r.eid=l);const u=s._getFrameworks();return u.length&&(r.fw=u.join(",")),`${n}?${mu(r).slice(1)}`}async function V2(s){const e=await C2(s),n=As().gapi;return Te(n,s,"internal-error"),e.open({where:document.body,url:L2(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:O2,dontclear:!0},r=>new Promise(async(l,u)=>{await r.restyle({setHideOnLeave:!1});const h=bs(s,"network-request-failed"),g=As().setTimeout(()=>{u(h)},I2.get());function p(){As().clearTimeout(g),l(r)}r.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},U2=500,H2=600,B2="_blank",z2="http://localhost";class u0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function K2(s,e,n,r=U2,l=H2){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),h=Math.max((window.screen.availWidth-r)/2,0).toString();let g="";const p=Object.assign(Object.assign({},P2),{width:r.toString(),height:l.toString(),top:u,left:h}),_=tn().toLowerCase();n&&(g=nb(_)?B2:n),eb(_)&&(e=e||z2,p.scrollbars="yes");const E=Object.entries(p).reduce((A,[C,D])=>`${A}${C}=${D},`,"");if(oj(_)&&g!=="_self")return q2(e||"",g),new u0(null);const b=window.open(e||"",g,E);Te(b,s,"popup-blocked");try{b.focus()}catch{}return new u0(b)}function q2(s,e){const n=document.createElement("a");n.href=s,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2="__/auth/handler",G2="emulator/auth/handler",$2=encodeURIComponent("fac");async function c0(s,e,n,r,l,u){Te(s.config.authDomain,s,"auth-domain-config-required"),Te(s.config.apiKey,s,"invalid-api-key");const h={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:ui,eventId:l};if(e instanceof db){e.setDefaultLanguage(s.languageCode),h.providerId=e.providerId||"",sR(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,b]of Object.entries({}))h[E]=b}if(e instanceof bu){const E=e.getScopes().filter(b=>b!=="");E.length>0&&(h.scopes=E.join(","))}s.tenantId&&(h.tid=s.tenantId);const g=h;for(const E of Object.keys(g))g[E]===void 0&&delete g[E];const p=await s._getAppCheckToken(),_=p?`#${$2}=${encodeURIComponent(p)}`:"";return`${Q2(s)}?${mu(g).slice(1)}${_}`}function Q2({config:s}){return s.emulator?cp(s,G2):`https://${s.authDomain}/${F2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rm="webStorageSupport";class W2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vb,this._completeRedirectFn=v2,this._overrideRedirectResult=p2}async _openPopup(e,n,r,l){var u;ua((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await c0(e,n,r,Jm(),l);return K2(e,h,gp())}async _openRedirect(e,n,r,l){await this._originValidation(e);const u=await c0(e,n,r,Jm(),l);return Zj(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:u}=this.eventManagers[n];return l?Promise.resolve(l):(ua(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await V2(e),r=new E2(e);return n.register("authEvent",l=>(Te(l==null?void 0:l.authEvent,e,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Rm,{type:Rm},l=>{var u;const h=(u=l==null?void 0:l[0])===null||u===void 0?void 0:u[Rm];h!==void 0&&n(!!h),es(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=w2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return lb()||tb()||dp()}}const Y2=W2;var h0="@firebase/auth",d0="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z2(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function J2(s){si(new lr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:g}=r.options;Te(h&&!h.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:h,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ob(s)},_=new mj(r,l,u,p);return Aj(_,n),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),si(new lr("auth-internal",e=>{const n=mi(e.getProvider("auth").getImmediate());return(r=>new X2(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),xs(h0,d0,Z2(s)),xs(h0,d0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD=5*60,tD=V0("authIdTokenMaxAge")||eD;let f0=null;const nD=s=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>tD)return;const l=n==null?void 0:n.token;f0!==l&&(f0=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function sD(s=gg()){const e=Ph(s,"auth");if(e.isInitialized())return e.getImmediate();const n=bj(s,{popupRedirectResolver:Y2,persistence:[l2,Wj,vb]}),r=V0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const h=nD(u.toString());qj(n,h,()=>h(n.currentUser)),Kj(n,g=>h(g))}}const l=O0("auth");return l&&Sj(n,`http://${l}`),n}function aD(){var s,e;return(e=(s=document.getElementsByTagName("head"))===null||s===void 0?void 0:s[0])!==null&&e!==void 0?e:document}gj({loadJS(s){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=l=>{const u=bs("internal-error");u.customData=l,n(u)},r.type="text/javascript",r.charset="UTF-8",aD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});J2("Browser");const rD={apiKey:"AIzaSyB0zBdnr_ZBmmokxvgLiHWU52QhnFnoymU",authDomain:"aimchallange-67039.firebaseapp.com",projectId:"aimchallange-67039",storageBucket:"aimchallange-67039.appspot.com",messagingSenderId:"109617578227",appId:"1:109617578227:web:8f09f705f248bbdaf07786",measurementId:"G-42PJQ2LB6T"},_p=B0(rD),mh=sD(_p),ca=hI(_p),ld=U1(_p),wb=L.createContext(),vr=()=>L.useContext(wb),iD=({children:s})=>{const[e,n]=L.useState(null),[r,l]=L.useState(!1),[u,h]=L.useState(!0);L.useEffect(()=>Fj(mh,async b=>{if(b){const A={uid:b.uid,email:b.email,displayName:b.displayName||b.email.split("@")[0],role:"admin"};n(A),l(!0)}else n(null),l(!1);h(!1)}),[]);const _={currentUser:e,isAuthenticated:r,login:async(E,b)=>{try{return await Hj(mh,E,b),{success:!0}}catch(A){return console.error("Login error:",A),{success:!1,error:A.message}}},logout:async()=>{try{return await Gj(mh),{success:!0}}catch(E){return console.error("Logout error:",E),{success:!1,error:E.message}}}};return f.jsx(wb.Provider,{value:_,children:!u&&s})},sg=mr(ca,"settings","textContent"),lD=async()=>{try{const s=await ep(sg);return s.exists()?s.data():(await xu(sg,{}),{})}catch(s){return console.error("Error getting text content:",s),{}}},oD=async(s,e)=>{try{const n={};return n[s]=e,await ST(sg,n),{success:!0}}catch(n){throw console.error("Error updating text content:",n),n}},uD=async(s,e)=>{try{const n=sd(ld,`background-images/${e}`);return await qT(n,s,"data_url"),await lp(n)}catch(n){throw console.error("Error uploading background image:",n),n}},ag=mr(ca,"settings","backgroundImages"),cD=async()=>{try{const s=await ep(ag);return s.exists()?s.data():(await xu(ag,{}),{})}catch(s){return console.error("Error getting background images:",s),{}}},m0=async(s,e)=>{try{const n={};return n[s]=e,await ST(ag,n),{success:!0}}catch(n){throw console.error("Error updating background image:",n),n}},Rb=L.createContext(),xr=()=>L.useContext(Rb),hD=({children:s})=>{const[e,n]=L.useState({}),[r,l]=L.useState(!1),[u,h]=L.useState([]),{currentUser:g,isAuthenticated:p}=vr(),_=(g==null?void 0:g.role)==="admin";L.useEffect(()=>{(async()=>{try{const Q=await lD();n(Q)}catch(Q){console.error("Error fetching text content:",Q);const ee=localStorage.getItem("textContent");if(ee)try{n(JSON.parse(ee))}catch(J){console.error("Error parsing saved content:",J),n({})}}})()},[]),L.useEffect(()=>{l(!!(p&&_))},[p,_]);const $={getText:(z,Q)=>e[z]||Q,updateText:async(z,Q)=>{try{await oD(z,Q);const ee={...e,[z]:Q};n(ee),h(J=>[...J,{content:{...e},timestamp:new Date().toISOString(),changedKey:z}]),localStorage.setItem("textContent",JSON.stringify(ee))}catch(ee){console.error("Error updating text content:",ee);const J={...e,[z]:Q};localStorage.setItem("textContent",JSON.stringify(J)),n(J)}},isEditing:r,toggleEditing:()=>{console.log("Edit mode is always on for admin users")},isAdmin:_,textContent:e,resetAllContent:()=>{h(z=>[...z,{content:{...e},timestamp:new Date().toISOString(),action:"reset-all"}]),n({}),localStorage.removeItem("textContent"),console.log("All content has been reset")},removeContentItem:z=>{h(ee=>[...ee,{content:{...e},timestamp:new Date().toISOString(),changedKey:z,action:"remove"}]);const Q={...e};delete Q[z],n(Q),localStorage.setItem("textContent",JSON.stringify(Q)),console.log(`Content item '${z}' has been removed`)},undoLastChange:()=>{if(u.length>1){const z=[...u];z.pop();const Q=z[z.length-1].content;return n(Q),localStorage.setItem("textContent",JSON.stringify(Q)),h(z),console.log("Last change undone"),!0}return console.log("No changes to undo"),!1},getEditHistory:()=>u,editHistory:u};return f.jsx(Rb.Provider,{value:$,children:s})},dD=()=>{const[s,e]=L.useState(!1),[n,r]=L.useState(!1),{isAuthenticated:l,currentUser:u,logout:h}=vr(),{isEditing:g,getText:p,updateText:_}=xr(),E=Sl(),b=()=>{e(!1)},A=()=>{r(!1)},C=()=>{h(),E("/")};return L.useEffect(()=>{console.log("Navbar auth state:",{isAuthenticated:l,currentUser:u,isAdmin:(u==null?void 0:u.role)==="admin"})},[l,u]),f.jsx("div",{className:"flex flex_col",style:{margin:0,padding:0},children:f.jsxs("div",{className:"navbar set-03 flex flex_j_SA MaxWH location font_white",style:{margin:0,padding:0},children:[f.jsx("div",{className:"navim MaxWH location",children:f.jsx($e,{to:"/",children:f.jsx("img",{src:"/images/Aim_Challenge_logo_white.svg",alt:"aim challange logo",className:"custom-image navim"})})}),f.jsxs("div",{className:"navbside MaxWH location flex flex_j_SA",children:[f.jsxs("div",{className:"navbbutton flex flex_j_SA flex_col MaxWH location button",children:[f.jsx("a",{href:"#",className:"dropdown-trigger",onClick:D=>{D.preventDefault(),e(!s)},children:"Tävlingar"}),s&&f.jsxs("div",{className:"drop-down",children:[f.jsx($e,{to:"/competitions",onClick:b,className:"drop-item",children:"TÄVLINGAR"}),f.jsx($e,{to:"/ulricehamn",onClick:b,className:"drop-item",children:"ULRICEHAMN"}),f.jsx($e,{to:"/salen",onClick:b,className:"drop-item",children:"SÄLEN"}),f.jsx($e,{to:"/hemsedal",onClick:b,className:"drop-item",children:"HEMSEDAL"}),f.jsx($e,{to:"/kolmarden",onClick:b,className:"drop-item",children:"KOLMÅRDEN"}),f.jsx($e,{to:"/trippeln",onClick:b,className:"drop-item",children:"AIM CHALLENGE TRIPPELN"}),f.jsx($e,{to:"/trippeln-results",onClick:b,className:"drop-item",children:"RESULTAT"}),f.jsx($e,{to:"/gallery",onClick:b,className:"drop-item",children:"GALLERI"})]})]}),f.jsx("div",{className:"navbbutton flex flex_j_SA MaxWH location button",children:f.jsx("a",{href:"https://raceid.com/sv/campaigns/bcfa3952-92c0-11ef-a892-06546bc3018f",children:"Anmälan"})}),f.jsxs("div",{className:"navbbutton flex flex_j_SA flex_col MaxWH location button",children:[f.jsx("a",{href:"#",className:"dropdown-trigger",onClick:D=>{D.preventDefault(),r(!n)},children:"Om oss"}),n&&f.jsxs("div",{className:"drop-down",children:[f.jsx($e,{to:"/om-oss",onClick:A,className:"drop-item",children:"Om oss"}),f.jsx($e,{to:"/regler",onClick:A,className:"drop-item",children:"Regler"}),f.jsx($e,{to:"/faq",onClick:A,className:"drop-item",children:"FAQ"}),f.jsx($e,{to:"/historien-om-aim",onClick:A,className:"drop-item",children:"Historien om AIM"})]})]}),f.jsx("div",{className:"navbbutton flex flex_j_SA MaxWH location button",children:f.jsx("a",{href:"#sponsors-section",onClick:D=>{D.preventDefault();const F=document.getElementById("sponsors-section");F&&F.scrollIntoView({behavior:"smooth"})},children:"Sponsorer"})}),f.jsx("div",{className:"navbbutton flex flex_j_SA MaxWH location button",children:f.jsx($e,{to:"/senaste-nytt",children:"Senaste nytt"})}),f.jsx("div",{className:"navbbutton flex flex_j_SA MaxWH location button",children:f.jsx($e,{to:"#",children:"Kontakta oss"})}),f.jsx("div",{className:"navbbutton flex flex_j_SA MaxWH location button",children:f.jsx("a",{href:"#",children:"SV|NO|EN"})}),l&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"navbbutton flex flex_j_SA MaxWH location button",children:f.jsx($e,{to:"/content-manager",children:"Innehåll"})}),f.jsx("div",{className:"navbbutton flex flex_j_SA MaxWH location button",children:f.jsx("a",{href:"#",onClick:D=>{D.preventDefault(),C()},children:"Logga ut"})})]})]})]})})},fD=()=>f.jsx("div",{className:"flex flex_col MaxWH location",children:f.jsx("footer",{className:"footer set-03",children:f.jsxs("div",{className:"container",children:[f.jsxs("div",{className:"footer-grid",children:[f.jsxs("div",{className:"grid-item sponsors",children:[f.jsx("h3",{className:"footer-heading",id:"sponsors-section",children:"Sponsors"}),f.jsxs("div",{className:"grid",children:[f.jsx("img",{src:"/images/Artboard 1@4x.png",alt:"Artboard",className:"sponsor-logo"}),f.jsx("img",{src:"/images/Camelbak_vit.svg",alt:"Camelbak",className:"sponsor-logo"}),f.jsx("img",{src:"/images/Hedghog_vit.svg",alt:"Hedghog",className:"sponsor-logo"}),f.jsx("img",{src:"/images/Kona_vit.png",alt:"Kona",className:"sponsor-logo"}),f.jsx("img",{src:"/images/Mareld_svart.svg",alt:"Mareld",className:"sponsor-logo"}),f.jsx("img",{src:"/images/ODD_white_RGB.png",alt:"ODD",className:"sponsor-logo"}),f.jsx("img",{src:"/images/Oofos.png",alt:"Oofos",className:"sponsor-logo"}),f.jsx("img",{src:"/images/Ortovox_svart.svg",alt:"Ortovox",className:"sponsor-logo"}),f.jsx("img",{src:"/images/UD Logo.png",alt:"UD",className:"sponsor-logo"}),f.jsx("img",{src:"/images/Upplev.png",alt:"Upplev Norrköping",className:"sponsor-logo"}),f.jsx("img",{src:"/images/holdut_logo_sort_1.png",alt:"Hold ut",className:"sponsor-logo"}),f.jsx("img",{src:"/images/h%C3%A4llmark logga sv_v.svg",alt:"Hällmark",className:"sponsor-logo"}),f.jsx("img",{src:"/images/injinji_black.svg",alt:"Injinji",className:"sponsor-logo"})]})]}),f.jsxs("div",{className:"grid-item partners",children:[f.jsx("h3",{className:"footer-heading",children:"Partners"}),f.jsx("div",{className:"grid"})]})]}),f.jsxs("div",{className:"footer-bottom",children:[f.jsx("p",{className:"trademark",children:"© 2025 Aimchallenge"}),f.jsxs("div",{className:"social-icons flex flex_j_SA location font_white",children:[f.jsx("a",{href:"https://www.facebook.com/aimchallenge/",className:"fa fa-facebook font_white"}),f.jsx("a",{href:"https://www.instagram.com/aimchallenge/",className:"fa fa-instagram font_white"}),f.jsx("a",{href:"https://vimeo.com/user45220061",className:"fa fa-credit-card font_white"})]})]})]})})}),M=({textKey:s,defaultText:e,tag:n="p",className:r="",style:l={},placeholder:u="Skriv text här...",onClick:h})=>{const{getText:g,updateText:p,isAdmin:_}=xr(),[E,b]=L.useState(!1),[A,C]=L.useState(""),[D,F]=L.useState(!1),[U,$]=L.useState(""),[z,Q]=L.useState(""),ee=L.useRef(null),J=L.useRef(null),ie=L.useRef(null),O=["span","a","em","strong","i","b","code","small"].includes(n);L.useEffect(()=>{const me=g(s);C(me||e)},[s,e,g]),L.useEffect(()=>{const me=P=>{P.key==="Escape"&&E&&I()};return document.addEventListener("keydown",me),()=>{document.removeEventListener("keydown",me)}},[E]);const R=me=>{me&&(me.preventDefault(),me.stopPropagation()),b(!0)},S=()=>{p(s,A),b(!1),F(!1)},I=()=>{const me=g(s);C(me||e),b(!1),F(!1)},k=me=>{C(me.target.value)},V=()=>{F(!D),Q(""),$("")},N=()=>{if(z&&U){let me=U;!me.startsWith("http://")&&!me.startsWith("https://")&&(me="https://"+me);const P=`<a href="${me}" target="_blank" rel="noopener noreferrer">${z}</a>`,re=ee.current,ge=re.selectionStart,ue=A.substring(0,ge),ce=A.substring(re.selectionEnd);C(ue+P+ce),Q(""),$(""),setTimeout(()=>{re.focus();const Re=ge+P.length;re.setSelectionRange(Re,Re)},0)}},Ne=me=>{Q(me.target.value)},Pe=me=>{$(me.target.value)},le=me=>{me.key==="Enter"&&me.ctrlKey?(me.preventDefault(),S()):me.key==="Escape"&&(me.preventDefault(),I())},ye=()=>{const me=n,P={className:`editable-text ${r}`,style:l,dangerouslySetInnerHTML:{__html:A||u},"data-textkey":s.toString()};return h&&(P.onClick=h),f.jsx(me,{...P})};if(E)return f.jsx("div",{className:"edit-modal",children:f.jsxs("div",{className:"edit-modal__content",children:[f.jsxs("div",{className:"edit-modal__toolbar",children:[f.jsx("h3",{children:"Redigera text"}),f.jsx("span",{className:"edit-modal__hint",children:"Tryck Ctrl+Enter för att spara, Esc för att avbryta"})]}),f.jsx("textarea",{ref:ee,value:A,onChange:k,onKeyDown:le,placeholder:u,className:"edit-modal__textarea"}),f.jsx("button",{type:"button",onClick:V,className:"modal-button modal-button-secondary",children:D?"Dölj länkverktyg":"Lägg till länk"}),D&&f.jsxs("div",{className:"edit-modal__link-tools",children:[f.jsxs("div",{className:"edit-modal__form-group",children:[f.jsx("label",{htmlFor:"linkText",className:"edit-modal__label",children:"Länktext:"}),f.jsx("input",{ref:J,type:"text",id:"linkText",value:z,onChange:Ne,className:"edit-modal__input",placeholder:"Text som ska visas"})]}),f.jsxs("div",{className:"edit-modal__form-group",children:[f.jsx("label",{htmlFor:"linkUrl",className:"edit-modal__label",children:"URL:"}),f.jsx("input",{ref:ie,type:"text",id:"linkUrl",value:U,onChange:Pe,className:"edit-modal__input",placeholder:"https://example.com"})]}),f.jsx("button",{type:"button",onClick:N,disabled:!z||!U,className:"modal-button modal-button-primary",children:"Infoga länk"})]}),f.jsxs("div",{className:"edit-modal__actions",children:[f.jsx("button",{type:"button",onClick:I,className:"modal-button modal-button-secondary",children:"Avbryt"}),f.jsx("button",{type:"button",onClick:S,className:"modal-button modal-button-primary",children:"Spara"})]})]})});const pe=O?"span":"div";return f.jsxs(pe,{className:"editable-text-wrapper",children:[ye(),_&&f.jsx("button",{type:"button",onClick:R,className:"edit-button edit-button-primary",title:"Redigera text",children:"Redigera"})]})},mD=()=>f.jsxs("div",{className:"flex flex_col MaxWH location",children:[f.jsx("section",{id:"page_01",className:"page_01 dynamic-background flex flex_col flex_j_E MaxWH location",children:f.jsxs("div",{className:"trans-background page_01box flex flex_col flex_j_SA MaxWH",children:[f.jsx(M,{textKey:"main-multisport-for-alla",defaultText:"MULTISPORT FÖR ALLA",tag:"p",className:"font_blue fonts_medium"}),f.jsx(M,{textKey:"main-multisport-sedan",defaultText:"MUTLISPORT SEDAN 2004",tag:"p",className:"font_blue fonts_large"})]})}),f.jsxs("section",{id:"page_02",className:"page_02 simple-background dynamic-background flex flex_j_E MaxWH location",children:[f.jsxs("div",{className:"page_02box simple-background flex flex_col flex_j_SB MaxWH location",children:[f.jsxs("div",{className:"trans-background page_02top flex flex_col flex_j_SA MaxWH",children:[f.jsx(M,{textKey:"main-ulricehamn-title",defaultText:"ULRICEHAMN",tag:"p",className:"font_blue fonts_medium_B"}),f.jsx(M,{textKey:"ulricehamn-date",defaultText:"datum insert",tag:"p",className:"font_blue fonts_medium"})]}),f.jsx("div",{className:"page_02top flex flex_col flex_j_SA MaxWH Button",children:f.jsx($e,{to:"/ulricehamn",className:"location button-2",children:f.jsx("span",{children:"Läs mer"})})})]}),f.jsxs("div",{className:"page_02box simple-background flex flex_col flex_j_SB MaxWH location",children:[f.jsxs("div",{className:"trans-background page_02top flex flex_col flex_j_SA MaxWH",children:[f.jsx(M,{textKey:"main-salen-title",defaultText:"SÄLEN",tag:"p",className:"font_blue fonts_medium_B"}),f.jsx(M,{textKey:"salen-date",defaultText:"datum insert",tag:"p",className:"font_blue fonts_medium"})]}),f.jsx("div",{className:"page_02top flex flex_col flex_j_SA MaxWH Button",children:f.jsx($e,{to:"/salen",className:"location button-2",children:f.jsx("span",{children:"Läs mer"})})})]}),f.jsxs("div",{className:"page_02box simple-background flex flex_col flex_j_SB MaxWH location",children:[f.jsxs("div",{className:"trans-background page_02top flex flex_col flex_j_SA MaxWH",children:[f.jsx(M,{textKey:"main-hemsedal-title",defaultText:"HEMSEDAL",tag:"p",className:"font_blue fonts_medium_B"}),f.jsx(M,{textKey:"hemsedal-date",defaultText:"datum insert",tag:"p",className:"font_blue fonts_medium"})]}),f.jsx("div",{className:"page_02top flex flex_col flex_j_SA MaxWH Button",children:f.jsx($e,{to:"/hemsedal",className:"location button-2",children:f.jsx("span",{children:"Läs mer"})})})]}),f.jsxs("div",{className:"page_02box simple-background flex flex_col flex_j_SB MaxWH location",children:[f.jsxs("div",{className:"trans-background page_02top flex flex_col flex_j_SA MaxWH",children:[f.jsx(M,{textKey:"main-kolmarden-title",defaultText:"KOLMÅRDEN",tag:"p",className:"font_blue fonts_medium_B"}),f.jsx(M,{textKey:"kolmarden-date",defaultText:"datum insert",tag:"p",className:"font_blue fonts_medium"})]}),f.jsx("div",{className:"page_02top flex flex_col flex_j_SA MaxWH Button",children:f.jsx($e,{to:"/kolmarden",className:"location button-2",children:f.jsx("span",{children:"Läs mer"})})})]})]}),f.jsx("section",{id:"page_03",className:"page_02 simple-background flex flex_col flex_j_SA MaxWH location",children:f.jsxs("div",{className:"page_01box flex flex_col flex_j_SA MaxWH  font_white",children:[f.jsx(M,{textKey:"main-skistarshop",defaultText:"SKISTARSHOP.COM*",tag:"p",className:"font_white fonts_huge"}),f.jsx(M,{textKey:"main-official-butik",defaultText:"OFFICIELL AIM CHALLENGE BUTIK",tag:"p",className:"font_white fonts_large"})]})}),f.jsxs("section",{id:"page_04",className:"page_02 simple-background flex flex_j_SA MaxWH location",children:[f.jsxs("div",{className:"page_03box flex flex_col trans-background flex flex_j_SA MaxWH",children:[f.jsx(M,{textKey:"main-what-is-aim",defaultText:"VAD ÄR AIM CHALLENGE?",tag:"p",className:"font_blue fonts_large"}),f.jsx(M,{textKey:"main-aim-description",defaultText:"AIM Challenge är en multisport tävling som passar för alla. Lag på två personer ska under 6 timmar ta så många kontroller som möjligt utav 60 utplacerade.",tag:"p",className:"font_blue fonts_medium"}),f.jsx($e,{to:"/aim-challenge",className:"button-2",children:f.jsx("span",{children:"Läs mer"})})]}),f.jsx("div",{className:"page_03box flex flex_col pad flex_j_SA MaxWH",children:f.jsx("div",{})})]})]}),gD=()=>f.jsxs("div",{className:"flex flex_col MaxWH location",children:[f.jsx("div",{className:"competitions-spacer"}),f.jsxs("div",{className:"competitions-row flex MaxWH location set-03",children:[f.jsxs("div",{className:"competitions-card competitions-card-ulricehamn flex flex_col flex_j_SB MaxWH location simple-background",children:[f.jsxs("div",{className:"trans-background competitions-header flex flex_col flex_j_SA MaxWH",children:[f.jsx(M,{textKey:"competitions-ulricehamn-title",defaultText:"ULRICEHAMN",tag:"p",className:"font_blue fonts_medium_B competitions-title"}),f.jsx(M,{textKey:"ulricehamn-date",defaultText:"datum insert",tag:"p",className:"font_blue fonts_medium competitions-date"})]}),f.jsx("div",{className:"competitions-button-container flex flex_col flex_j_SA flex_a_C MaxWH Button",children:f.jsx($e,{to:"/ulricehamn",className:"location button-2 competitions-button",children:f.jsx("span",{children:"Läs mer"})})})]}),f.jsxs("div",{className:"competitions-card competitions-card-salen flex flex_col flex_j_SB MaxWH location simple-background",children:[f.jsxs("div",{className:"trans-background competitions-header flex flex_col flex_j_SA MaxWH",children:[f.jsx(M,{textKey:"competitions-salen-title",defaultText:"SÄLEN",tag:"p",className:"font_blue fonts_medium_B competitions-title"}),f.jsx(M,{textKey:"salen-date",defaultText:"datum insert",tag:"p",className:"font_blue fonts_medium competitions-date"})]}),f.jsx("div",{className:"competitions-button-container flex flex_col flex_j_SA flex_a_C MaxWH Button",children:f.jsx($e,{to:"/salen",className:"location button-2 competitions-button",children:f.jsx("span",{children:"Läs mer"})})})]})]}),f.jsxs("div",{className:"competitions-row flex MaxWH location",children:[f.jsxs("div",{className:"competitions-card competitions-card-hemsedal flex flex_col flex_j_SB MaxWH location simple-background",children:[f.jsxs("div",{className:"trans-background competitions-header flex flex_col flex_j_SA MaxWH",children:[f.jsx(M,{textKey:"competitions-hemsedal-title",defaultText:"HEMSEDAL",tag:"p",className:"font_blue fonts_medium_B competitions-title"}),f.jsx(M,{textKey:"hemsedal-date",defaultText:"datum insert",tag:"p",className:"font_blue fonts_medium competitions-date"})]}),f.jsx("div",{className:"competitions-button-container flex flex_col flex_j_SA flex_a_C MaxWH Button",children:f.jsx($e,{to:"/hemsedal",className:"location button-2 competitions-button",children:f.jsx("span",{children:"Läs mer"})})})]}),f.jsxs("div",{className:"competitions-card competitions-card-kolmarden flex flex_col flex_j_SB MaxWH location simple-background",children:[f.jsxs("div",{className:"trans-background competitions-header flex flex_col flex_j_SA MaxWH",children:[f.jsx(M,{textKey:"competitions-kolmarden-title",defaultText:"KOLMÅRDEN",tag:"p",className:"font_blue fonts_medium_B competitions-title"}),f.jsx(M,{textKey:"kolmarden-date",defaultText:"datum insert",tag:"p",className:"font_blue fonts_medium competitions-date"})]}),f.jsx("div",{className:"competitions-button-container flex flex_col flex_j_SA flex_a_C MaxWH Button",children:f.jsx($e,{to:"/kolmarden",className:"location button-2 competitions-button",children:f.jsx("span",{children:"Läs mer"})})})]})]})]}),pD=()=>f.jsxs("div",{className:"flex flex_col",children:[f.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",children:f.jsxs("div",{className:"trans-background page_01box flex flex_col flex_j_SA",children:[f.jsx(M,{textKey:"ulricehamn-title",defaultText:"ULRICEHAMN",tag:"p",className:"font_blue fonts_huge"}),f.jsx(M,{textKey:"ulricehamn-date",defaultText:"10/5-2025",tag:"p",className:"font_blue fonts_medium"})]})}),f.jsx("section",{className:"ulric-button-section-bg flex flex_j_C flex_a_C",children:f.jsx("a",{href:"https://raceid.com/sv/races/12846/about",target:"_blank",rel:"noopener noreferrer",className:"ulric-button flex flex_j_C flex_a_C",children:f.jsx("p",{className:"font_white fonts_medium",children:"TA MIG TILL ANMÄLAN"})})}),f.jsxs("section",{className:"ulric-section ulric-bg-1 flex flex_j_C flex_a_C",children:[f.jsxs("div",{className:"ulric-content trans-background MaxWH flex flex_col flex_j_C",children:[f.jsx(M,{textKey:"ulricehamn-program-title",defaultText:"PROGRAM",tag:"p",className:"font_blue fonts_large"}),f.jsx(M,{textKey:"ulricehamn-program-subtitle",defaultText:"PRELIMINÄRT PROGRAM:",tag:"p",className:"font_blue fonts_medium"}),f.jsxs("div",{className:"font_blue",children:[f.jsx(M,{textKey:"ulricehamn-friday-title",defaultText:"FREDAG 9 MAJ",tag:"p",className:"fonts_medium"}),f.jsx(M,{textKey:"ulricehamn-friday-schedule",defaultText:"17:00 - 19:00 Registrering för alla tävlande på XCC",tag:"p",className:"fonts_small ulric-time-entry"})]}),f.jsxs("div",{className:"font_blue",children:[f.jsx(M,{textKey:"ulricehamn-saturday-title",defaultText:"LÖRDAG 10 MAJ",tag:"p",className:"fonts_medium"}),f.jsx(M,{textKey:"ulricehamn-saturday-schedule1",defaultText:"08:30 - 10:15 Registrering för alla tävlande som ej registrerat sig under fredagen på 157 XCC, på Lassalyckan.",tag:"p",className:"fonts_small ulric-time-entry"}),f.jsx(M,{textKey:"ulricehamn-saturday-schedule2",defaultText:"10:30 Obligatoriskt informationsmöte vid starten på Lassalyckan stadion.",tag:"p",className:"fonts_small ulric-time-entry"}),f.jsx(M,{textKey:"ulricehamn-saturday-schedule3",defaultText:"11:00 Start AIM Challenge, på Lassalyckan stadion. Gemensam start för 3 & 6-timmars tävlingen.",tag:"p",className:"fonts_small ulric-time-entry"}),f.jsx(M,{textKey:"ulricehamn-saturday-schedule4",defaultText:"14:00 Målgång för 3-timmars tävlingen.",tag:"p",className:"fonts_small ulric-time-entry"}),f.jsx(M,{textKey:"ulricehamn-saturday-schedule5",defaultText:"ca 15:30 Prisutdelning 3-timmars tävlingen",tag:"p",className:"fonts_small ulric-time-entry"}),f.jsx(M,{textKey:"ulricehamn-saturday-schedule6",defaultText:"16:30 - 20:00 After AIM med mat och dryck på Hotell Lassalyckan.",tag:"p",className:"fonts_small ulric-time-entry"}),f.jsx(M,{textKey:"ulricehamn-saturday-schedule7",defaultText:"17:00 Målgång för 6-timmars tävlingen.",tag:"p",className:"fonts_small ulric-time-entry"}),f.jsx(M,{textKey:"ulricehamn-saturday-schedule8",defaultText:"19:00 Prisutdelning utanför Hotell Lassalyckan.",tag:"p",className:"fonts_small ulric-time-entry"})]})]}),f.jsx("div",{className:"ulric-spacer MaxWH"})]}),f.jsxs("section",{className:"ulric-section ulric-bg-2 flex flex_j_C flex_a_C",children:[f.jsx("div",{className:"ulric-spacer MaxWH"}),f.jsxs("div",{className:"ulric-content trans-background MaxWH flex flex_col flex_j_C",children:[f.jsx(M,{textKey:"ulricehamn-pris-title",defaultText:"PRIS",tag:"p",className:"font_blue fonts_large"}),f.jsx(M,{textKey:"ulricehamn-title-price",defaultText:"ULRICEHAMN",tag:"p",className:"font_blue fonts_medium"}),f.jsx("a",{href:"https://raceid.com/sv/races/12846/about",target:"_blank",rel:"noopener noreferrer",children:f.jsx(M,{textKey:"ulricehamn-date",defaultText:"10/5-2025",tag:"p",className:"font_blue fonts_medium"})}),f.jsxs("div",{className:"font_blue",children:[f.jsx(M,{textKey:"ulricehamn-pris-3-timmars-title",defaultText:"3-TIMMARS",tag:"p",className:"fonts_medium"}),f.jsx(M,{textKey:"ulricehamn-pris-3-timmars-early-bird",defaultText:"1500 SEK / lag för Early Bird-anmälan innan 1 november.",tag:"p",className:"fonts_small ulric-time-entry"}),f.jsx(M,{textKey:"ulricehamn-pris-3-timmars-nov-feb",defaultText:"1700 SEK / lag för anmälan mellan 1 november och 1 februari.",tag:"p",className:"fonts_small ulric-time-entry"}),f.jsx(M,{textKey:"ulricehamn-pris-3-timmars-feb-apr",defaultText:"1900 SEK / lag för anmälan mellan 2 februari och 24 april",tag:"p",className:"fonts_small ulric-time-entry"}),f.jsx(M,{textKey:"ulricehamn-pris-3-timmars-apr-start",defaultText:"2100 SEK / lag för anmälan från 25 april och fram till start.",tag:"p",className:"fonts_small ulric-time-entry"})]}),f.jsxs("div",{className:"font_blue",children:[f.jsx(M,{textKey:"ulricehamn-pris-6-timmars-title",defaultText:"6-TIMMARS",tag:"p",className:"fonts_medium"}),f.jsx(M,{textKey:"ulricehamn-pris-6-timmars-early-bird",defaultText:"1900 SEK / lag för Early Bird-anmälan innan 1 november.",tag:"p",className:"fonts_small ulric-time-entry"}),f.jsx(M,{textKey:"ulricehamn-pris-6-timmars-nov-feb",defaultText:"2100 SEK / lag för anmälan mellan 1 november och 1 februari.",tag:"p",className:"fonts_small ulric-time-entry"}),f.jsx(M,{textKey:"ulricehamn-pris-6-timmars-feb-apr",defaultText:"2300 SEK / lag för anmälan mellan 2 februari och 24 april.",tag:"p",className:"fonts_small ulric-time-entry"}),f.jsx(M,{textKey:"ulricehamn-pris-6-timmars-apr-start",defaultText:"2500 SEK / lag för anmälan från 25 april och fram till start.",tag:"p",className:"fonts_small ulric-time-entry"})]}),f.jsxs("div",{className:"font_blue",children:[f.jsx(M,{textKey:"ulricehamn-pris-trippeln-title",defaultText:"AIM CHALLENGE TRIPPELN 2025",tag:"p",className:"fonts_medium"}),f.jsx(M,{textKey:"ulricehamn-pris-trippeln-early-bird",defaultText:"4750 SEK / lag för Early Bird-anmälan innan 1 januari.",tag:"p",className:"fonts_small ulric-time-entry"}),f.jsx(M,{textKey:"ulricehamn-pris-trippeln-jan-feb",defaultText:"5250 SEK / lag för anmälan mellan 1 januari och 1 februari.",tag:"p",className:"fonts_small ulric-time-entry"}),f.jsx(M,{textKey:"ulricehamn-pris-trippeln-feb-apr",defaultText:"5750 SEK / lag för anmälan mellan 2 februari och 24 april.",tag:"p",className:"fonts_small ulric-time-entry"}),f.jsx(M,{textKey:"ulricehamn-pris-trippeln-apr-start",defaultText:"6250 SEK / lag för anmälan efter den 25 april.",tag:"p",className:"fonts_small ulric-time-entry"})]}),f.jsx("a",{href:"https://raceid.com/sv/races/12846/about",target:"_blank",rel:"noopener noreferrer",className:"button-2 ulric-button-align flex flex_s",children:f.jsx("p",{className:"fonts_small ulric-time-entry ulric-link",children:"ANMÄLAN"})})]})]}),f.jsxs("section",{className:"ulric-section ulric-bg-3 flex flex_j_C flex_a_C",children:[f.jsxs("div",{className:"ulric-content trans-background MaxWH flex flex_col flex_j_C",children:[f.jsx(M,{textKey:"ulricehamn-overnattning-title",defaultText:"ÖVERNATTNING OCH MAT",tag:"p",className:"font_blue fonts_large"}),f.jsx("div",{className:"font_blue ulric-text-block",children:f.jsx(M,{textKey:"ulricehamn-overnattning-cykeluthyrning",defaultText:"Cykeluthyrning med in- och utlämning på Lassalyckan Stadion. Läs mer och boka här.",tag:"p",className:"fonts_small ulric-time-entry"})}),f.jsxs("div",{className:"font_blue ulric-text-block",children:[f.jsx(M,{textKey:"ulricehamn-overnattning-hotell",defaultText:"Önskar du att bo nära start och mål så kan vi varmt rekommendera Hotell Lassalyckan som erbjuder ett modernt boende ett stenkast ifrån starten.",tag:"p",className:"fonts_small ulric-time-entry"}),f.jsx(M,{textKey:"ulricehamn-overnattning-hotell-link",defaultText:"www.hotell-lassalyckan.se",tag:"p",className:"fonts_small ulric-time-entry"})]}),f.jsxs("div",{className:"font_blue ulric-text-block",children:[f.jsx(M,{textKey:"ulricehamn-overnattning-alternativ",defaultText:"För övriga boende i Ulricehamn finns här en bra översikt över olika alternativ:",tag:"p",className:"fonts_small ulric-time-entry"}),f.jsx(M,{textKey:"ulricehamn-overnattning-alternativ-link",defaultText:"www.vastsverige.com/ulricehamn/boende",tag:"p",className:"fonts_small ulric-time-entry"})]})]}),f.jsx("div",{className:"ulric-spacer MaxWH"})]})]}),_D=()=>f.jsxs("div",{className:"flex flex_col",children:[f.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",children:f.jsxs("div",{className:"trans-background page_01box flex flex_col flex_j_SA",children:[f.jsx(M,{textKey:"salen-title",defaultText:"SÄLEN",tag:"p",className:"font_blue fonts_huge"}),f.jsx(M,{textKey:"salen-date",defaultText:"2/8-2024",tag:"p",className:"font_blue fonts_medium"})]})}),f.jsx("section",{className:"salen-button-section-bg flex flex_j_C flex_a_C",children:f.jsx("a",{href:"https://raceid.com/sv/races/13016/about",target:"_blank",rel:"noopener noreferrer",className:"salen-button flex flex_j_C flex_a_C",children:f.jsx("p",{className:"font_white fonts_medium",children:"TA MIG TILL ANMÄLAN"})})}),f.jsxs("section",{className:"salen-section salen-bg-1 flex flex_j_C flex_a_C",children:[f.jsxs("div",{className:"salen-content trans-background MaxWH flex flex_col flex_j_C",children:[f.jsx(M,{textKey:"salen-program-title",defaultText:"PROGRAM",tag:"p",className:"font_blue fonts_large"}),f.jsx(M,{textKey:"salen-program-subtitle",defaultText:"PRELIMINÄRT PROGRAM:",tag:"p",className:"font_blue fonts_medium"}),f.jsxs("div",{className:"font_blue",children:[f.jsx(M,{textKey:"salen-friday-title",defaultText:"FREDAG 1 AUGUSTI",tag:"p",className:"fonts_medium"}),f.jsx(M,{textKey:"salen-friday-schedule",defaultText:"17:00 - 20:00 Nummerlappsutdelning för alla tävlande på SkiStarshop Concept Store på Handelsområdet Lindvallen.",tag:"p",className:"fonts_xsmall salen-time-entry"})]}),f.jsxs("div",{className:"font_blue",children:[f.jsx(M,{textKey:"salen-saturday-title",defaultText:"LÖRDAG 2 AUGUSTI",tag:"p",className:"fonts_medium"}),f.jsx(M,{textKey:"salen-saturday-schedule1",defaultText:"08:30-09:00 Nummerlappsutdelning i konferenslokal ovanför Stadium",tag:"p",className:"fonts_xsmall salen-time-entry"}),f.jsx(M,{textKey:"salen-saturday-schedule2",defaultText:"09:30 Obligatoriskt infomöte vid starten",tag:"p",className:"fonts_xsmall salen-time-entry"}),f.jsx(M,{textKey:"salen-saturday-schedule3",defaultText:"10:00 START! Start/målområde vid Experiumtorget.",tag:"p",className:"fonts_xsmall salen-time-entry"}),f.jsx(M,{textKey:"salen-saturday-schedule4",defaultText:"15:30 After AIM på Lodgebaren på SkiStar Lodge Lindvallen",tag:"p",className:"fonts_xsmall salen-time-entry"}),f.jsx(M,{textKey:"salen-saturday-schedule5",defaultText:"16:00 Målgång AIM Challenge.",tag:"p",className:"fonts_xsmall salen-time-entry"}),f.jsx(M,{textKey:"salen-saturday-schedule6",defaultText:"xx:00 Prisutdelning i Lodgebaren",tag:"p",className:"fonts_xsmall salen-time-entry"})]})]}),f.jsx("div",{className:"salen-spacer MaxWH"})]}),f.jsxs("section",{className:"salen-section salen-bg-2 flex flex_j_C flex_a_C",children:[f.jsx("div",{className:"salen-spacer MaxWH"}),f.jsxs("div",{className:"salen-content trans-background MaxWH flex flex_col flex_j_C",children:[f.jsx(M,{textKey:"salen-pris-title",defaultText:"PRIS",tag:"p",className:"font_blue fonts_large"}),f.jsxs("div",{className:"font_blue",children:[f.jsx(M,{textKey:"salen-pris-salen-title",defaultText:"SÄLEN",tag:"p",className:"fonts_medium"}),f.jsx("a",{href:"https://raceid.com/sv/races/13016/about",target:"_blank",rel:"noopener noreferrer",children:f.jsx(M,{textKey:"salen-date",defaultText:"2/8-2024",tag:"p",className:"fonts_medium"})}),f.jsx(M,{textKey:"salen-pris-salen-price1",defaultText:"1900 SEK / lag för Early Bird-anmälan innan 1 januari.",tag:"p",className:"fonts_xsmall salen-time-entry"}),f.jsx(M,{textKey:"salen-pris-salen-price2",defaultText:"2100 SEK / lag för anmälan mellan 1 januari och 1 april.",tag:"p",className:"fonts_xsmall salen-time-entry"}),f.jsx(M,{textKey:"salen-pris-salen-price3",defaultText:"2300 SEK / lag för anmälan mellan 2 april och 18 juli",tag:"p",className:"fonts_xsmall salen-time-entry"}),f.jsx(M,{textKey:"salen-pris-salen-price4",defaultText:"2500 SEK / lag för anmälan från 19 juli och fram till start.",tag:"p",className:"fonts_xsmall salen-time-entry"})]}),f.jsxs("div",{className:"font_blue",children:[f.jsx(M,{textKey:"salen-pris-trippeln-title",defaultText:"AIM CHALLENGE TRIPPELN 2025",tag:"p",className:"fonts_medium"}),f.jsx(M,{textKey:"salen-pris-trippeln-price1",defaultText:"4750 SEK / lag för Early Bird-anmälan innan 1 januari.",tag:"p",className:"fonts_xsmall salen-time-entry"}),f.jsx(M,{textKey:"salen-pris-trippeln-price2",defaultText:"5250 SEK / lag för anmälan mellan 1 januari och 1 februari.",tag:"p",className:"fonts_xsmall salen-time-entry"}),f.jsx(M,{textKey:"salen-pris-trippeln-price3",defaultText:"5750 SEK / lag för anmälan mellan 2 februari och 25 april.",tag:"p",className:"fonts_xsmall salen-time-entry"}),f.jsx(M,{textKey:"salen-pris-trippeln-price4",defaultText:"6250 SEK / lag för anmälan efter den 26 april.",tag:"p",className:"fonts_xsmall salen-time-entry"})]}),f.jsxs("div",{className:"font_blue",children:[f.jsx(M,{textKey:"salen-pris-landskampen-title",defaultText:"LANDSKAMPEN = LINDVALLEN OCH HEMSEDAL",tag:"p",className:"fonts_medium"}),f.jsx(M,{textKey:"salen-pris-landskampen-price1",defaultText:"3400 SEK/ lag för anmälan innan 1 maj.",tag:"p",className:"fonts_xsmall salen-time-entry"}),f.jsx(M,{textKey:"salen-pris-landskampen-price2",defaultText:"3800 SEK/ lag för anmälan mellan 1 maj och 1 juli.",tag:"p",className:"fonts_xsmall salen-time-entry"}),f.jsx(M,{textKey:"salen-pris-landskampen-price3",defaultText:"4200 SEK/ lag för anmälan från 1 juli och framåt.",tag:"p",className:"fonts_xsmall salen-time-entry"})]}),f.jsx("a",{href:"https://raceid.com/sv/races/13014/about",target:"_blank",rel:"noopener noreferrer",className:"button-2 salen-button-align flex flex_s",children:f.jsx("p",{className:"font_blue fonts_medium",children:"ANMÄLAN"})})]})]}),f.jsxs("section",{className:"salen-section salen-bg-3 flex flex_j_C flex_a_C",children:[f.jsxs("div",{className:"salen-content trans-background MaxWH flex flex_col flex_j_C",children:[f.jsx(M,{textKey:"salen-overnattning-title",defaultText:"ÖVERNATTNING OCH MAT",tag:"p",className:"font_blue fonts_large"}),f.jsxs("div",{className:"font_blue salen-text-block",children:[f.jsx(M,{textKey:"salen-overnattning-overnattning-title",defaultText:"ÖVERNATTNING",tag:"p",className:"fonts_medium"}),f.jsx(M,{textKey:"salen-overnattning-overnattning-text",defaultText:"Boende bokas enklast genom Skistar. För att komma direkt till bokningssida.",tag:"p",className:"fonts_xsmall salen-time-entry"})]}),f.jsxs("div",{className:"font_blue salen-text-block",children:[f.jsx(M,{textKey:"salen-overnattning-mat-title",defaultText:"MAT",tag:"p",className:"fonts_medium"}),f.jsx(M,{textKey:"salen-overnattning-mat-text1",defaultText:"Avslutningsmiddag på Lodgebaren.",tag:"p",className:"fonts_xsmall salen-time-entry"}),f.jsx(M,{textKey:"salen-overnattning-mat-text2",defaultText:"Möjlighet för frukost på Lodgebaren.",tag:"p",className:"fonts_xsmall salen-time-entry"}),f.jsx(M,{textKey:"salen-overnattning-mat-text3",defaultText:"Lodgebaren - Läs mer och boka bord",tag:"p",className:"fonts_xsmall salen-time-entry"})]}),f.jsxs("div",{className:"font_blue salen-text-block",children:[f.jsx(M,{textKey:"salen-overnattning-upplevelser-title",defaultText:"UPPLEVELSER & AKTIVITETER",tag:"p",className:"fonts_medium"}),f.jsx(M,{textKey:"salen-overnattning-upplevelser-text1",defaultText:"Bad & Spa",tag:"p",className:"fonts_xsmall salen-time-entry"}),f.jsx(M,{textKey:"salen-overnattning-upplevelser-text2",defaultText:"Bowling",tag:"p",className:"fonts_xsmall salen-time-entry"}),f.jsx(M,{textKey:"salen-overnattning-upplevelser-text3",defaultText:"Höghöjdsbana",tag:"p",className:"fonts_xsmall salen-time-entry"}),f.jsx(M,{textKey:"salen-overnattning-upplevelser-text4",defaultText:"SkiStar Sports & Adventures",tag:"p",className:"fonts_xsmall salen-time-entry"})]})]}),f.jsx("div",{className:"salen-spacer MaxWH"})]})]}),yD=()=>f.jsxs("div",{className:"MaxWH location",children:[f.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",children:f.jsxs("div",{className:"trans-background page_01box flex flex_col flex_j_SA",children:[f.jsx(M,{textKey:"hemsedal-title",defaultText:"HEMSEDAL",tag:"p",className:"font_blue fonts_huge"}),f.jsx(M,{textKey:"hemsedal-date",defaultText:"datum insert",tag:"p",className:"font_blue fonts_medium"})]})}),f.jsx("section",{className:"hemsedal-button-section-bg flex flex_j_C flex_a_C",children:f.jsx("a",{href:"https://raceid.com/sv/races/13015/about",target:"_blank",rel:"noopener noreferrer",className:"hemsedal-button flex flex_j_C flex_a_C",children:f.jsx("p",{className:"font_white fonts_medium",children:"TA MIG TILL ANMÄLAN"})})}),f.jsxs("section",{className:"hemsedal-section hemsedal-bg-1 flex flex_j_C flex_a_C",children:[f.jsxs("div",{className:"hemsedal-content trans-background MaxWH flex flex_col flex_j_C",children:[f.jsx(M,{textKey:"hemsedal-program-title",defaultText:"PROGRAM",tag:"p",className:"font_blue fonts_large"}),f.jsx(M,{textKey:"hemsedal-program-subtitle",defaultText:"PRELIMINÄRT PROGRAM:",tag:"p",className:"font_blue fonts_medium"}),f.jsxs("div",{className:"font_blue",children:[f.jsx(M,{textKey:"hemsedal-friday-title",defaultText:"FREDAG 23 AUGUSTI",tag:"p",className:"fonts_medium"}),f.jsx(M,{textKey:"hemsedal-friday-schedule",defaultText:"17:00 - 20:00 Nummerlappsutdelning för alla tävlande på SkiStarshop Hemsedal",tag:"p",className:"fonts_xsmall hemsedal-time-entry"})]}),f.jsxs("div",{className:"font_blue",children:[f.jsx(M,{textKey:"hemsedal-saturday-title",defaultText:"LÖRDAG 24 AUGUSTI",tag:"p",className:"fonts_medium"}),f.jsx(M,{textKey:"hemsedal-saturday-schedule1",defaultText:"08:30-09:00 Nummerlappsutdelning vid starten",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),f.jsx(M,{textKey:"hemsedal-saturday-schedule2",defaultText:"09:30 Obligatoriskt infomöte vid starten",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),f.jsx(M,{textKey:"hemsedal-saturday-schedule3",defaultText:"10:00 START! Start/målområde vid Hemsedal Skisenter",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),f.jsx(M,{textKey:"hemsedal-saturday-schedule4",defaultText:"15:30 After AIM på Stavkroa",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),f.jsx(M,{textKey:"hemsedal-saturday-schedule5",defaultText:"16:00 Målgång AIM Challenge",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),f.jsx(M,{textKey:"hemsedal-saturday-schedule6",defaultText:"18:00 Prisutdelning på Stavkroa",tag:"p",className:"fonts_xsmall hemsedal-time-entry"})]})]}),f.jsx("div",{className:"hemsedal-spacer MaxWH"})]}),f.jsxs("section",{className:"hemsedal-section hemsedal-bg-2 flex flex_j_C flex_a_C",children:[f.jsx("div",{className:"hemsedal-spacer MaxWH"}),f.jsxs("div",{className:"hemsedal-content trans-background MaxWH flex flex_col flex_j_C",children:[f.jsx(M,{textKey:"hemsedal-pris-title",defaultText:"PRIS",tag:"p",className:"font_blue fonts_large"}),f.jsxs("div",{className:"font_blue",children:[f.jsx(M,{textKey:"hemsedal-pris-date",defaultText:"HEMSEDAL",tag:"p",className:"fonts_medium"}),f.jsx("a",{href:"https://raceid.com/sv/races/13015/about",target:"_blank",rel:"noopener noreferrer",children:f.jsx(M,{textKey:"hemsedal-date",defaultText:"24/8-2024",tag:"p",className:"fonts_medium"})}),f.jsx(M,{textKey:"hemsedal-pris-price1",defaultText:"1900 NOK / lag för Early Bird-anmälan innan 1 januari",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),f.jsx(M,{textKey:"hemsedal-pris-price2",defaultText:"2100 NOK / lag för anmälan mellan 1 januari och 1 april",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),f.jsx(M,{textKey:"hemsedal-pris-price3",defaultText:"2300 NOK / lag för anmälan mellan 2 april och 18 juli",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),f.jsx(M,{textKey:"hemsedal-pris-price4",defaultText:"2500 NOK / lag för anmälan från 19 juli och fram till start",tag:"p",className:"fonts_xsmall hemsedal-time-entry"})]}),f.jsxs("div",{className:"font_blue",children:[f.jsx(M,{textKey:"hemsedal-trippeln-title",defaultText:"AIM CHALLENGE TRIPPELN 2025",tag:"p",className:"fonts_medium"}),f.jsx(M,{textKey:"hemsedal-trippeln-price1",defaultText:"4750 SEK / lag för Early Bird-anmälan innan 1 januari",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),f.jsx(M,{textKey:"hemsedal-trippeln-price2",defaultText:"5250 SEK / lag för anmälan mellan 1 januari och 1 februari",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),f.jsx(M,{textKey:"hemsedal-trippeln-price3",defaultText:"5750 SEK / lag för anmälan mellan 2 februari och 25 april",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),f.jsx(M,{textKey:"hemsedal-trippeln-price4",defaultText:"6250 SEK / lag för anmälan efter den 26 april",tag:"p",className:"fonts_xsmall hemsedal-time-entry"})]}),f.jsxs("div",{className:"font_blue",children:[f.jsx(M,{textKey:"hemsedal-landskampen-title",defaultText:"LANDSKAMPEN = LINDVALLEN OCH HEMSEDAL",tag:"p",className:"fonts_medium"}),f.jsx(M,{textKey:"hemsedal-landskampen-price1",defaultText:"3400 SEK / lag för anmälan innan 1 maj",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),f.jsx(M,{textKey:"hemsedal-landskampen-price2",defaultText:"3800 SEK / lag för anmälan mellan 1 maj och 1 juli",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),f.jsx(M,{textKey:"hemsedal-landskampen-price3",defaultText:"4200 SEK / lag för anmälan från 1 juli och framåt",tag:"p",className:"fonts_xsmall hemsedal-time-entry"})]}),f.jsx("a",{href:"https://raceid.com/sv/races/13014/about",target:"_blank",rel:"noopener noreferrer",className:"button-2 hemsedal-button-align flex flex_s",children:f.jsx("span",{children:"ANMÄLAN"})})]})]}),f.jsxs("section",{className:"hemsedal-section hemsedal-bg-3 flex flex_j_C flex_a_C",children:[f.jsxs("div",{className:"hemsedal-content trans-background MaxWH flex flex_col flex_j_C",children:[f.jsx(M,{textKey:"hemsedal-overnattning-title",defaultText:"ÖVERNATTNING OCH MAT",tag:"p",className:"font_blue fonts_large"}),f.jsxs("div",{className:"font_blue hemsedal-text-block",children:[f.jsx(M,{textKey:"hemsedal-overnattning-subtitle",defaultText:"ÖVERNATTNING",tag:"p",className:"fonts_medium"}),f.jsx(M,{textKey:"hemsedal-overnattning-info",defaultText:"Boende bokas enklast genom Skistar. Klicka för att komma direkt till bokningssida.",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),f.jsx(M,{textKey:"hemsedal-cykeluthyrning-info",defaultText:"Cykel kan hyras hos Concept Store. Klicka för att komma till bokningssida.",tag:"p",className:"fonts_xsmall hemsedal-time-entry"})]}),f.jsxs("div",{className:"font_blue hemsedal-text-block",children:[f.jsx(M,{textKey:"hemsedal-mat-subtitle",defaultText:"MAT",tag:"p",className:"fonts_medium"}),f.jsx(M,{textKey:"hemsedal-mat-friday",defaultText:"FREDAG:",tag:"p",className:"fonts_small"}),f.jsx(M,{textKey:"hemsedal-mat-friday-info",defaultText:"18:00 - 21:00 Italiensk pizza som Take Away - Beställ på plats på lodgen Spiseri eller ring +47 458 65 086. Meny kommer att läggas ut HÄR.",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),f.jsx(M,{textKey:"hemsedal-mat-saturday",defaultText:"LÖRDAG:",tag:"p",className:"fonts_small"}),f.jsx(M,{textKey:"hemsedal-mat-saturday-info1",defaultText:"10:00 - 15:00 Cafe och lunchservering på Lodgen Spiseri",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),f.jsx(M,{textKey:"hemsedal-mat-saturday-info2",defaultText:"15:30-18:00 After AIM på Lodgen Spiseri. Viktigt att fylla på med vätska och energi efter målgång!",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),f.jsx(M,{textKey:"hemsedal-mat-saturday-info3",defaultText:"19:30 Bankettmiddag på Lodgen Spiseri. Bokas här.",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),f.jsx(M,{textKey:"hemsedal-mat-sunday",defaultText:"SÖNDAG:",tag:"p",className:"fonts_small"}),f.jsx(M,{textKey:"hemsedal-mat-sunday-info",defaultText:"10:00 - 15:00 Cafe och lunchservering på Lodgen Spiseri",tag:"p",className:"fonts_xsmall hemsedal-time-entry"})]}),f.jsx("div",{className:"font_blue hemsedal-text-block",children:f.jsx(M,{textKey:"hemsedal-mat-info",defaultText:"Lodgen Spiseri följer alla de nationella riktlinjerna för att ge dig en trygg och bra upplevelse.",tag:"p",className:"fonts_xsmall"})})]}),f.jsx("div",{className:"hemsedal-spacer MaxWH"})]})]}),vD=()=>f.jsxs("div",{className:"MaxWH location",children:[f.jsx("div",{className:"set-03",style:{height:"120px"}}),f.jsx("section",{className:"page_01 kolmarden-bg-1 flex flex_col flex_j_E set-03",children:f.jsxs("div",{className:"trans-background page_01box flex flex_col flex_j_SA",children:[f.jsx(M,{textKey:"kolmarden-title",defaultText:"KOLMÅRDEN",tag:"p",className:"font_blue fonts_huge"}),f.jsx(M,{textKey:"kolmarden-date",defaultText:"datum insert",tag:"p",className:"font_blue fonts_medium"})]})}),f.jsx("section",{className:"kolmarden-button-section-bg flex flex_j_C flex_a_C set-03",children:f.jsx("a",{href:"https://raceid.com/sv/races/13014/about",target:"_blank",rel:"noopener noreferrer",className:"kolmarden-button flex flex_j_C flex_a_C",children:f.jsx("p",{className:"font_white fonts_medium",children:"TA MIG TILL ANMÄLAN"})})}),f.jsx("section",{className:"kolmarden-section kolmarden-bg-2 flex flex_j_R flex_a_C set-03",children:f.jsxs("div",{className:"kolmarden-content trans-background MaxWH flex flex_col flex_j_C",children:[f.jsx(M,{textKey:"kolmarden-program-title",defaultText:"PROGRAM",tag:"p",className:"font_blue fonts_large"}),f.jsx(M,{textKey:"kolmarden-program-subtitle",defaultText:"PRELIMINÄRT PROGRAM:",tag:"p",className:"font_blue fonts_medium"}),f.jsxs("div",{className:"font_blue",children:[f.jsx(M,{textKey:"kolmarden-friday-title",defaultText:"FREDAG 27 SEPTEMBER",tag:"p",className:"fonts_small kolmarden-day-title"}),f.jsx(M,{textKey:"kolmarden-friday-program",defaultText:"15:00-19:00 Tävlingsexpeditionen öppen, utlämning av nummerlappar och kartor",tag:"p",className:"fonts_xsmall kolmarden-program-entry"})]}),f.jsxs("div",{className:"font_blue",children:[f.jsx(M,{textKey:"kolmarden-saturday-title",defaultText:"LÖRDAG 28 SEPTEMBER",tag:"p",className:"fonts_small kolmarden-day-title"}),f.jsx(M,{textKey:"kolmarden-saturday-program-1",defaultText:"07:30-08:30 Tävlingsexpeditionen öppen, utlämning av nummerlappar och kartor",tag:"p",className:"fonts_xsmall kolmarden-program-entry"}),f.jsx(M,{textKey:"kolmarden-saturday-program-2",defaultText:"08:30 Obligatorisk genomgång vid startområdet",tag:"p",className:"fonts_xsmall kolmarden-program-entry"}),f.jsx(M,{textKey:"kolmarden-saturday-program-3",defaultText:"09:00 Start",tag:"p",className:"fonts_xsmall kolmarden-program-entry"}),f.jsx(M,{textKey:"kolmarden-saturday-program-4",defaultText:"15:00 Målet stänger",tag:"p",className:"fonts_xsmall kolmarden-program-entry"}),f.jsx(M,{textKey:"kolmarden-saturday-program-5",defaultText:"16:00 Prisutdelning",tag:"p",className:"fonts_xsmall kolmarden-program-entry"})]})]})}),f.jsx("section",{className:"kolmarden-section kolmarden-bg-3 flex flex_j_E flex_a_C set-03",children:f.jsxs("div",{className:"kolmarden-content trans-background MaxWH flex flex_col flex_j_C",children:[f.jsx(M,{textKey:"kolmarden-registration-title",defaultText:"ANMÄLAN",tag:"p",className:"font_blue fonts_large"}),f.jsx("div",{className:"font_blue kolmarden-text-block",children:f.jsx(M,{textKey:"kolmarden-registration-text",defaultText:"Anmälan görs via RaceID. Klicka på knappen nedan för att komma till anmälningssidan.",tag:"p"})}),f.jsxs("div",{className:"kolmarden-registration-info font_blue",children:[f.jsxs("div",{className:"kolmarden-registration-column",children:[f.jsx(M,{textKey:"kolmarden-registration-early-title",defaultText:"ORDINARIE ANMÄLAN",tag:"p",className:"fonts_small kolmarden-fee-title"}),f.jsx(M,{textKey:"kolmarden-registration-early-dates",defaultText:"t.o.m. 31 augusti 2024",tag:"p",className:"fonts_xsmall kolmarden-date-entry"}),f.jsx(M,{textKey:"kolmarden-registration-early-fee",defaultText:"1 495 kr / lag",tag:"p",className:"fonts_xsmall kolmarden-fee-entry"})]}),f.jsxs("div",{className:"kolmarden-registration-column",children:[f.jsx(M,{textKey:"kolmarden-registration-late-title",defaultText:"SEN ANMÄLAN",tag:"p",className:"fonts_small kolmarden-fee-title"}),f.jsx(M,{textKey:"kolmarden-registration-late-dates",defaultText:"1 september - 20 september 2024",tag:"p",className:"fonts_xsmall kolmarden-date-entry"}),f.jsx(M,{textKey:"kolmarden-registration-late-fee",defaultText:"1 795 kr / lag",tag:"p",className:"fonts_xsmall kolmarden-fee-entry"})]}),f.jsxs("div",{className:"kolmarden-registration-column",children:[f.jsx(M,{textKey:"kolmarden-registration-onsite-title",defaultText:"EFTERANMÄLAN",tag:"p",className:"fonts_small kolmarden-fee-title"}),f.jsx(M,{textKey:"kolmarden-registration-onsite-dates",defaultText:"21 september - 27 september 2024",tag:"p",className:"fonts_xsmall kolmarden-date-entry"}),f.jsx(M,{textKey:"kolmarden-registration-onsite-fee",defaultText:"1 995 kr / lag",tag:"p",className:"fonts_xsmall kolmarden-fee-entry"})]})]}),f.jsxs("div",{className:"kolmarden-text-block font_blue",children:[f.jsx(M,{textKey:"kolmarden-registration-includes",defaultText:"I anmälningsavgiften ingår:",tag:"p",className:"fonts_small"}),f.jsx(M,{textKey:"kolmarden-registration-includes-list",defaultText:"Kartor, nummerlappar, tidtagningschip, vätskekontroller under loppet, enklare mat efter målgång, sjukvård och säkerhet under loppet.",tag:"p",className:"fonts_xsmall kolmarden-time-entry"})]}),f.jsx("a",{href:"https://raceid.com/sv/races/13014/about",target:"_blank",rel:"noopener noreferrer",className:"button-2 kolmarden-button-align flex flex_s",children:f.jsx(M,{textKey:"kolmarden-anmalan-button2",defaultText:"ANMÄLAN",tag:"span"})})]})}),f.jsxs("section",{className:"kolmarden-section kolmarden-bg-4 flex flex_j_R flex_a_C set-03",children:[f.jsxs("div",{className:"kolmarden-content trans-background MaxWH flex flex_col flex_j_C",children:[f.jsx(M,{textKey:"kolmarden-accommodation-title",defaultText:"ÖVERNATTNING OCH MAT",tag:"p",className:"font_blue fonts_large"}),f.jsxs("div",{className:"font_blue kolmarden-text-block",children:[f.jsx(M,{textKey:"kolmarden-accommodation-text",defaultText:"Under tävlingshelgen bor du smidigt på First Camp Kolmården – Norrköping med krypavstånd från start- och målgången. Som tävlingsdeltagare får du dessutom 25% rabatt på stugor och camping när du bokar online.",tag:"p"}),f.jsx(M,{textKey:"kolmarden-discount-code",defaultText:"Rabattkod: AIMCHALLENGE25",tag:"p",className:"fonts_small"}),f.jsx(M,{textKey:"kolmarden-discount-dates",defaultText:"23-29 september 2024",tag:"p",className:"fonts_small"}),f.jsx(M,{textKey:"kolmarden-discount-note1",defaultText:"Endast BAS-bokningar",tag:"p",className:"fonts_small"}),f.jsx(M,{textKey:"kolmarden-discount-note2",defaultText:"Boka online på firstcamp.se",tag:"p",className:"fonts_small"}),f.jsx("div",{className:"kolmarden-button-align",children:f.jsx("a",{href:"https://firstcamp.se",target:"_blank",rel:"noopener noreferrer",className:"kolmarden-link",children:f.jsx(M,{textKey:"kolmarden-book-here",defaultText:"Boka här",tag:"span"})})})]}),f.jsxs("div",{className:"font_blue kolmarden-text-block",children:[f.jsx("p",{children:f.jsx(M,{textKey:"kolmarden-other-accommodation",defaultText:"Övriga boendealternativ finns att hitta här.",tag:"span"})}),f.jsx("p",{children:f.jsx(M,{textKey:"kolmarden-food-tips",defaultText:"Tips på ställen att äta i samband med ditt besök i Norrköping/Kolmården.",tag:"span"})}),f.jsx("p",{children:f.jsx(M,{textKey:"kolmarden-other-activities",defaultText:"Här kan du hitta inspiration på övriga saker att se och göra under ditt besök i Norrköping/Kolmården.",tag:"span"})})]})]}),f.jsx("div",{className:"kolmarden-spacer MaxWH"})]})]}),xD=()=>f.jsxs("div",{className:"MaxWH location",children:[f.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",children:f.jsx("div",{className:"trans-background page_01box flex flex_col flex_j_SA",children:f.jsx("p",{className:"font_blue fonts_huge",children:"AIM CHALLENGE TRIPPELN"})})}),f.jsxs("section",{className:"trippeln-section trippeln-bg",style:{minHeight:"130vh"},children:[f.jsx("div",{className:"trippeln-content trans-background",children:f.jsxs("div",{className:"font_blue",children:[f.jsx("p",{className:"fonts_medium",children:"Trippeln är en tävling i tävlingen där de som deltar i minst tre av årets deltävlingar är med och tävlar om den mycket hedervärda titeln Vinnare av AIM Challenge Trippeln!"}),f.jsx("br",{}),f.jsx("p",{children:"AIM Challenge Trippeln ersätter Landskampen som sedan 2010 har varit en tävling i tävlingen för de som genomfört AIM Challenge både i Lindvallen och Hemsedal. En tävling där det tävlats för antingen Sverige eller Norge, där det vinnande landet har hyllats och den som bidragit mest till sitt land har prisats."}),f.jsx("br",{}),f.jsx("p",{children:"Med AIM Challenge Trippeln lägger vi ner stridsyxan mellan Sverige och Norge och gör det därmed möjligt att även köra mixade lag mellan olika nationer utan att detta skapar en konflikt."}),f.jsx("br",{}),f.jsx("p",{className:"fonts_medium",children:"Hur går AIM Challenge Trippeln till:"}),f.jsx("br",{}),f.jsx("p",{children:"AIM Challenge Trippeln är en tävling i tävlingen för de lag som deltar på minst tre deltävlingar under ett och samma år. Tävlingarna som ingår är Ulricehamn, Sälen, Hemsedal och Kolmården. Det är fritt för laget att välja om ni önskar att delta i 3- eller 6-timmars tävlingen i Ulricehamn och Kolmården, båda anses att vara likvärdiga för Trippeln."}),f.jsx("br",{}),f.jsx("p",{children:"Vid anmälan till Trippeln blir man per automatik anmäld till alla fyra deltävlingar och väljer själv om man vill delta i tre eller fyra tävlingar. Priset för att anmäla sig till trippeln är rabatterat och blir billigare redan vid start i tre deltävlingar. Skulle ett lag delta i alla fyra deltävlingarna så räknas de tre bästa resultaten till Trippeln."}),f.jsx("br",{}),f.jsx("p",{children:"Det gäller att samla så många poäng som möjligt under årets tävlingar där varje lag får räkna in sina tre bästa resultat från det gångna året. Vinnaren av AIM Challenge Trippeln kommer att utses genom ett poängsystem som bygger på hur många poäng laget fått procentuellt i förhållande till vinnarlaget i respektive klass. Varje lag kommer då få en poängsumma mellan 1 och 100 per tävling och efter alla deltävlingarna kommer dessa poäng att adderas och det lag med högst sammanlagda poäng kommer att stå på prispallen! Skulle två lag få samma sammanlagda poäng så kommer vi se på placeringar i de enskilda loppen för att utse en vinnare."}),f.jsx("br",{}),f.jsx("p",{children:"Vid anmälan till AIM Challenge Trippeln så anmäler sig laget till alla fyra deltävlingarna, varav minst tre måste genomföras för att få ett resultat i Trippeln. Ett lag består av två personer, men om någon i laget skulle få förhinder inför någon av tävlingarna så gäller följande: För att resultatet i Trippeln skall bli godkänt så måste minst en i laget delta i alla tre tävlingarna, samt att deltagare 2 deltar vid minst två deltävlingar. Det vill säga att det är möjligt att ta in en reserv under en av deltävlingarna och fortfarande tävla som lag om den hedervärda titeln! I det fall deltagare 1 tävlat med tre olika lagkompisar under året är det enbart den som deltagit vid alla tre tävlingarna som kommer att premieras."}),f.jsx("br",{}),f.jsx("p",{children:"Det är inte möjligt att sälja sin startplats i Trippeln vidare för den tävling som laget eventuellt inte deltar i."})]})}),f.jsx("div",{className:"trippeln-spacer"})]}),f.jsx("section",{className:"ulric-button-section-bg flex flex_j_C flex_a_C",children:f.jsx("a",{href:"https://raceid.com/sv/races/13016/about",target:"_blank",rel:"noopener noreferrer",className:"ulric-button flex flex_j_C flex_a_C",children:f.jsx("p",{className:"font_white fonts_medium",children:"TA MIG TILL ANMÄLAN"})})})]}),Nb=({onClose:s,onUploadSuccess:e,years:n=["2023","2022","2021","2020","2019","2018","2017","2016","2015"],categories:r=["Herrar","Damer","Mixed"],durations:l=["3 timmar","6 timmar","12 timmar","24 timmar"],locations:u=["Ulricehamn","Borås","Göteborg","Jönköping","Stockholm"],isAdmin:h,year:g})=>{const[p,_]=L.useState("Ulricehamn"),[E,b]=L.useState(g||"2023"),[A,C]=L.useState("Herrar"),[D,F]=L.useState("3 timmar"),[U,$]=L.useState(null),[z,Q]=L.useState(""),[ee,J]=L.useState(!1),{currentUser:ie}=vr(),O=S=>{S.target.files[0]&&$(S.target.files[0])},R=async S=>{if(S.preventDefault(),!U){Q("Please select a file to upload");return}if(!ie){Q("You must be logged in to upload results");return}J(!0),Q("");try{const I=`${E}_${A}_${D}_${Date.now()}_${U.name}`,k=sd(ld,`results/${I}`);await V1(k,U);const V=await lp(k),N={year:parseInt(E),location:p,category:A,duration:D,fileUrl:V,fileName:U.name,uploadedAt:new Date().toISOString()},Ne=mr(Bg(ca,"results"));await xu(Ne,N),$(null),e&&e(),s()}catch(I){console.error("Error uploading result:",I),Q("Failed to upload result. Please try again.")}finally{J(!1)}};return f.jsx("div",{className:"result-upload-modal-overlay",children:f.jsxs("div",{className:"result-upload-modal",children:[f.jsxs("div",{className:"result-upload-modal-header",children:[f.jsx("h2",{children:"Ladda upp resultat"}),f.jsx("button",{className:"result-upload-modal-close",onClick:s,children:"×"})]}),f.jsx("div",{className:"result-upload-modal-body",children:f.jsxs("form",{className:"result-upload-modal-form",onSubmit:R,children:[f.jsxs("div",{className:"result-upload-modal-field",children:[f.jsx("label",{children:"Plats"}),f.jsx("select",{className:"result-upload-modal-select",value:p,onChange:S=>_(S.target.value),children:u.map((S,I)=>f.jsx("option",{value:S,children:S},I))})]}),f.jsxs("div",{className:"result-upload-modal-field",children:[f.jsx("label",{children:"År"}),f.jsx("select",{className:"result-upload-modal-select",value:E,onChange:S=>b(S.target.value),children:n.map((S,I)=>f.jsx("option",{value:S,children:S},I))})]}),f.jsxs("div",{className:"result-upload-modal-field",children:[f.jsx("label",{children:"Kategori"}),f.jsx("select",{className:"result-upload-modal-select",value:A,onChange:S=>C(S.target.value),children:r.map((S,I)=>f.jsx("option",{value:S,children:S},I))})]}),f.jsxs("div",{className:"result-upload-modal-field",children:[f.jsx("label",{children:"Distans"}),f.jsx("select",{className:"result-upload-modal-select",value:D,onChange:S=>F(S.target.value),children:l.map((S,I)=>f.jsx("option",{value:S,children:S},I))})]}),f.jsxs("div",{className:"result-upload-modal-field",children:[f.jsx("label",{children:"Fil"}),f.jsx("input",{type:"file",className:"result-upload-modal-file-input",onChange:O,accept:".pdf,.doc,.docx,.xls,.xlsx,.csv,.txt"})]}),z&&f.jsx("div",{className:"result-upload-modal-error",children:z}),f.jsxs("div",{className:"result-upload-modal-actions",children:[f.jsx("button",{type:"button",className:"result-upload-modal-cancel",onClick:s,children:"Avbryt"}),f.jsx("button",{type:"submit",className:"result-upload-modal-submit",disabled:ee,children:ee?"Laddar upp...":"Ladda upp"})]})]})})]})})},ED=()=>{const[s,e]=L.useState("2023"),[n,r]=L.useState("Herrar"),[l,u]=L.useState("3 timmar"),[h,g]=L.useState([]),[p,_]=L.useState(!0),[E,b]=L.useState(null),[A,C]=L.useState(!1),{currentUser:D}=vr(),F=(D==null?void 0:D.role)==="admin";console.log("Current User:",D),console.log("Is Admin:",F);const $=(()=>{const ie=[];for(let O=2010;O<=2045;O++)ie.push(O.toString());return ie.sort((O,R)=>R-O)})();L.useEffect(()=>{(async()=>{_(!0);try{const O=Bg(ca,"results"),R=await AT(O),S=[];R.forEach(I=>{const k=I.data();(s==="all"||k.year.toString()===s)&&(n==="all"||k.category===n)&&(l==="all"||k.duration===l)&&S.push(k)}),g(S),b(null)}catch(O){console.error("Error fetching results:",O),b("Failed to load results. Please try again later."),g([])}finally{_(!1)}})()},[s,n,l]);const z=ie=>{e(ie.target.value)},Q=ie=>{r(ie.target.value)},ee=ie=>{u(ie.target.value)},J=()=>{window.location.reload()};return h.filter(ie=>(!n||ie.category===n)&&(!l||ie.duration===l)),f.jsxs("div",{className:"MaxWH location",children:[f.jsx("div",{className:"set-03",style:{height:"120px"}}),f.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E set-03",children:f.jsx("div",{className:"trans-background page_01box flex flex_col flex_j_SA",children:f.jsx("p",{className:"font_blue fonts_huge",children:"RESULTAT"})})}),f.jsx("section",{className:"set-03",style:{minHeight:"130vh",padding:"2rem"},children:f.jsxs("div",{className:"trans-background",style:{padding:"2rem",borderRadius:"8px"},children:[f.jsxs("div",{style:{marginBottom:"2rem"},className:"flex flex_j_C flex_a_C",children:[f.jsxs("select",{value:s,onChange:z,style:{padding:"0.5rem 1rem",margin:"0 1rem",background:"white",color:"rgb(56, 76, 135)",border:"2px solid rgb(56, 76, 135)",borderRadius:"4px"},children:[f.jsx("option",{value:"all",children:"Alla År"}),$.map(ie=>f.jsx("option",{style:{background:"white",color:"rgb(56, 76, 135)"},value:ie,children:ie},ie))]}),f.jsxs("select",{value:n,onChange:Q,style:{padding:"0.5rem 1rem",margin:"0 1rem",background:"white",color:"rgb(56, 76, 135)",border:"2px solid rgb(56, 76, 135)",borderRadius:"4px"},children:[f.jsx("option",{style:{background:"white",color:"rgb(56, 76, 135)"},value:"all",children:"Alla Kategorier"}),f.jsx("option",{style:{background:"white",color:"rgb(56, 76, 135)"},value:"Herrar",children:"Herrar"}),f.jsx("option",{style:{background:"white",color:"rgb(56, 76, 135)"},value:"Damer",children:"Damer"}),f.jsx("option",{style:{background:"white",color:"rgb(56, 76, 135)"},value:"Mixed",children:"Mixed"})]}),f.jsxs("select",{value:l,onChange:ee,style:{padding:"0.5rem 1rem",margin:"0 1rem",background:"white",color:"rgb(56, 76, 135)",border:"2px solid rgb(56, 76, 135)",borderRadius:"4px"},children:[f.jsx("option",{style:{background:"white",color:"rgb(56, 76, 135)"},value:"all",children:"Alla Rutter"}),f.jsx("option",{style:{background:"white",color:"rgb(56, 76, 135)"},value:"3 timmar",children:"3 timmar"}),f.jsx("option",{style:{background:"white",color:"rgb(56, 76, 135)"},value:"6 timmar",children:"6 timmar"})]}),D&&f.jsx("button",{onClick:()=>C(!0),className:"result-upload-button",children:"Ladda upp resultat"})]}),f.jsx("div",{className:"race-results-container",children:p?f.jsx("p",{children:"Loading results..."}):E?f.jsx("p",{className:"error-message",children:E}):h.length===0?f.jsx("p",{children:"No results found for the selected filters. Please try different filters or upload new results."}):f.jsx("div",{className:"results-list",children:h.map(ie=>f.jsxs("div",{className:"result-item",children:[f.jsxs("div",{className:"result-info",children:[f.jsxs("h3",{children:[ie.location," - ",ie.year]}),f.jsxs("p",{children:["Category: ",ie.category]}),f.jsxs("p",{children:["Duration: ",ie.duration]}),f.jsxs("p",{children:["Uploaded: ",new Date(ie.uploadedAt).toLocaleDateString()]})]}),f.jsx("div",{className:"result-actions",children:f.jsxs("a",{href:ie.fileUrl,target:"_blank",rel:"noopener noreferrer",className:"result-download-link",children:["View/Download ",ie.fileName]})})]},ie.id))})})]})}),A&&f.jsx(Nb,{isOpen:A,onClose:()=>C(!1),onUploadSuccess:J,year:s})]})},TD=()=>{const{currentUser:s}=vr(),[e,n]=L.useState("all"),[r,l]=L.useState("all"),[u,h]=L.useState("all"),[g,p]=L.useState([]),[_,E]=L.useState(!0),[b,A]=L.useState(!1),[C,D]=L.useState(""),F=(s==null?void 0:s.role)==="admin",U=[2025,2024,2023,2022,2021,2020,2019,2018],$=["Herrar","Damer","Mixed"],z=["3 timmar","6 timmar"],Q=["Ulricehamn","Sälen","Hemsedal","Kolmården"];L.useEffect(()=>{ee()},[e,r,u]);const ee=()=>{try{E(!0),D("");const k=localStorage.getItem("raceResults");let V=k?JSON.parse(k):[];e!=="all"&&(V=V.filter(N=>N.year===parseInt(e))),r!=="all"&&(V=V.filter(N=>N.category===r)),u!=="all"&&(V=V.filter(N=>N.duration===u)),p(V)}catch(k){console.error("Error fetching results:",k),D("Failed to load results. Please try again later.")}finally{E(!1)}},J=k=>{if(window.confirm("Are you sure you want to delete this result?"))try{const V=localStorage.getItem("raceResults");let N=V?JSON.parse(V):[];N=N.filter(Ne=>Ne.id!==k),localStorage.setItem("raceResults",JSON.stringify(N)),ee()}catch(V){console.error("Error deleting result:",V),D("Failed to delete result. Please try again.")}},ie=()=>{A(!0)},O=()=>{A(!1)},R=()=>{ee()},S=k=>g.filter(V=>V.location===k),I=k=>{const V={};return k.forEach(N=>{const Ne=`${N.year}-${N.category}-${N.duration}`;V[Ne]=N}),V};return f.jsxs("div",{className:"results-container",children:[f.jsx("div",{className:"results-top-spacer"}),f.jsx("section",{className:"results-header-section",children:f.jsxs("div",{className:"results-header-content",children:[f.jsx("h1",{className:"results-title",children:"RESULTAT"}),f.jsx("p",{className:"results-description",children:"Här hittar du resultaten från våra tävlingar. Välj år, kategori och distans för att filtrera resultaten."})]})}),f.jsxs("section",{className:"results-filters-section",children:[f.jsxs("div",{className:"results-filters",children:[f.jsxs("select",{value:e,onChange:k=>n(k.target.value),className:"results-filter-select",children:[f.jsx("option",{value:"all",children:"Alla År"}),U.map(k=>f.jsx("option",{value:k,children:k},k))]}),f.jsxs("select",{value:r,onChange:k=>l(k.target.value),className:"results-filter-select",children:[f.jsx("option",{value:"all",children:"Alla Kategorier"}),$.map(k=>f.jsx("option",{value:k,children:k},k))]}),f.jsxs("select",{value:u,onChange:k=>h(k.target.value),className:"results-filter-select",children:[f.jsx("option",{value:"all",children:"Alla Distanser"}),z.map(k=>f.jsx("option",{value:k,children:k},k))]})]}),f.jsx("div",{className:"results-upload-section",children:f.jsx("button",{onClick:ie,className:"results-upload-button",style:{padding:"10px 20px",backgroundColor:"rgb(56, 76, 135)",color:"white",border:"none",borderRadius:"4px",fontSize:"1rem",cursor:"pointer",display:"block",margin:"0 auto"},children:"Ladda upp resultat"})})]}),C&&f.jsx("div",{className:"results-error",children:C}),_?f.jsx("div",{className:"results-loading",children:"Laddar resultat..."}):f.jsx("section",{className:"results-content-section",children:f.jsx("div",{className:"results-grid",children:Q.map(k=>{const V=S(k),N=I(V);return f.jsxs("div",{className:"results-location-card",children:[f.jsx("h2",{className:"results-location-title",children:k}),Object.keys(N).length>0?f.jsx("div",{className:"results-list",children:Object.entries(N).map(([Ne,Pe])=>f.jsxs("div",{className:"results-item",children:[f.jsx("a",{href:Pe.fileUrl,target:"_blank",rel:"noopener noreferrer",className:"results-link",children:f.jsxs("div",{className:"results-info",children:[f.jsx("span",{className:"results-year",children:Pe.year}),f.jsx("span",{className:"results-category",children:Pe.category}),f.jsx("span",{className:"results-duration",children:Pe.duration})]})}),F&&f.jsx("button",{onClick:()=>J(Pe.id),className:"results-delete-button",children:"Ta bort"})]},Ne))}):f.jsxs("div",{className:"results-empty",children:["Inga resultat tillgängliga för ",k," med valda filter."]})]},k)})})}),b&&f.jsx(Nb,{onClose:O,onUploadSuccess:R,isAdmin:F,locations:Q,years:U,categories:$,durations:z})]})},bD=()=>{const[s,e]=L.useState(null),[n,r]=L.useState([]),[l,u]=L.useState(1),h=8,[g,p]=L.useState({}),_=L.useMemo(()=>["/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_025.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_057.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_065.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_094.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_113.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_138.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_150.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_202.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_209.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_213.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_235.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_246.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_265.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_352.jpg","/AimRV/images/EE-AIMChallenge24-Uhamn-0132-high.jpg","/AimRV/images/EE-AIMChallenge24-Uhamn-0136-high.jpg","/AimRV/images/EE-AIMChallenge24-Uhamn-0171-high.jpg","/AimRV/images/EE-AIMChallenge24-Uhamn-0405-high.jpg","/AimRV/images/Kolmarden_1.jpg","/AimRV/images/Kolmarden_2.jpg"],[]),E=L.useCallback(()=>{const D=(l-1)*h,F=l*h,U=_.slice(D,F);r($=>[...$,...U]),u($=>$+1)},[l,_,h]);L.useEffect(()=>{E()},[E]),L.useEffect(()=>{const D=()=>{window.innerHeight+document.documentElement.scrollTop>=document.documentElement.offsetHeight-100&&(l-1)*h<_.length&&E()};return window.addEventListener("scroll",D),()=>window.removeEventListener("scroll",D)},[E,l,_.length,h]),L.useEffect(()=>{if(s!==null){const D=new Image;D.src=n[s],D.onload=()=>{p(F=>({...F,[s]:!0}))}}},[s,n]);const b=D=>{e(s===D?null:D)},C=(()=>{const D=[];let F=[],U=4;return n.forEach(($,z)=>{F.push({image:$,index:z}),F.length===U&&(D.push(F),F=[],U=U===4?3:4)}),F.length>0&&D.push(F),D})();return f.jsxs("div",{children:[f.jsx("div",{style:{height:"120px"}}),f.jsxs("div",{className:"gallery-container",style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"0.1rem",padding:"0.25rem",position:"relative"},children:[C.map((D,F)=>f.jsx("div",{style:{display:"flex",justifyContent:"center",gap:"3rem",width:"100%",marginBottom:"-20px",paddingLeft:D.length===3?"10%":"0",paddingRight:D.length===3?"10%":"0"},children:D.map(({image:U,index:$})=>{const z=s===$;return f.jsx("div",{onClick:()=>b($),style:{width:z?"80vw":"250px",height:z?"80vh":"250px",transition:"all 0.5s ease",cursor:"pointer",position:z?"fixed":"relative",top:z?"50%":"auto",left:z?"50%":"auto",transform:z?"translate(-50%, -50%) rotate(0deg)":"rotate(45deg) scale(0.9)",zIndex:z?1e3:1,border:"2px solid #00a6fb",borderRadius:"8px",overflow:"hidden",boxShadow:"0 4px 8px rgba(0, 166, 251, 0.3)",margin:"0.1rem 1.5rem"},children:f.jsx("img",{src:U,alt:`Gallery image ${$+1}`,loading:"lazy",width:z?"auto":"250",height:z?"auto":"250",style:{width:"100%",height:"100%",objectFit:"cover",transform:z?"rotate(0deg) scale(1)":"rotate(-45deg) scale(1.5)"}})},$)})},F)),s!==null&&f.jsx("div",{onClick:()=>e(null),style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.8)",zIndex:999}}),n.length<_.length&&f.jsx("div",{style:{width:"100%",textAlign:"center",padding:"2rem"},children:f.jsx("button",{onClick:E,style:{padding:"0.75rem 1.5rem",backgroundColor:"#00a6fb",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"1rem",fontWeight:"bold"},children:"Load More Images"})})]}),f.jsx("div",{style:{height:"80px"}})]})},AD=()=>{const[s,e]=L.useState(0),[n,r]=L.useState(!1),l=L.useRef([]),u=[{id:1,src:"/videos/AIM nr 1 Formula 16x9.mov",title:"AIM Challenge Formula",description:"Highlights from the AIM Challenge Formula event"},{id:2,src:"/videos/AIM nr 1 Formula 16x9.mov",title:"AIM Challenge Highlights",description:"More exciting moments from the AIM Challenge"},{id:3,src:"/videos/AIM nr 1 Formula 16x9.mov",title:"AIM Challenge Recap",description:"A recap of the amazing AIM Challenge events"}];L.useEffect(()=>{l.current=l.current.slice(0,u.length)},[u.length]);const h=_=>{l.current.forEach((E,b)=>{b!==_&&E&&E.pause()}),r(!0),e(_)},g=()=>{e(_=>(_+1)%u.length)},p=()=>{e(_=>(_-1+u.length)%u.length)};return f.jsxs("div",{className:"video-carousel-container",style:{padding:"80px 0 40px 0",backgroundColor:"#f0f8ff",borderTop:"1px solid #e0e0e0",width:"100%",maxWidth:"100%"},children:[f.jsx("h2",{style:{textAlign:"center",marginBottom:"30px",color:"#00a6fb",fontSize:"2rem"},children:"AIM Challenge Videos"}),f.jsxs("div",{style:{position:"relative",width:"100%",margin:"0 auto",overflow:"hidden"},children:[f.jsx("button",{onClick:p,style:{position:"absolute",left:"10px",top:"50%",transform:"translateY(-50%)",zIndex:10,background:"rgba(0, 166, 251, 0.7)",color:"white",border:"none",borderRadius:"50%",width:"50px",height:"50px",fontSize:"24px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.3)"},"aria-label":"Previous video",children:"<"}),f.jsx("button",{onClick:g,style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",zIndex:10,background:"rgba(0, 166, 251, 0.7)",color:"white",border:"none",borderRadius:"50%",width:"50px",height:"50px",fontSize:"24px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.3)"},"aria-label":"Next video",children:">"}),f.jsx("div",{style:{display:"flex",transition:"transform 0.5s ease",transform:`translateX(${s*-100}%)`,width:"100%",position:"relative"},children:u.map((_,E)=>f.jsx("div",{style:{flex:"0 0 100%",padding:"0 20px",boxSizing:"border-box",width:"100%"},children:f.jsxs("div",{style:{background:"#fff",borderRadius:"8px",overflow:"hidden",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",maxWidth:"1200px",margin:"0 auto"},children:[f.jsx("div",{style:{position:"relative",paddingTop:"56.25%"},children:f.jsx("video",{ref:b=>l.current[E]=b,src:_.src,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover"},controls:!0,onPlay:()=>h(E),onPause:()=>r(!1)})}),f.jsxs("div",{style:{padding:"20px"},children:[f.jsx("h3",{style:{margin:"0 0 10px 0",color:"#00a6fb",fontSize:"1.5rem"},children:_.title}),f.jsx("p",{style:{margin:0,color:"#333",lineHeight:1.6},children:_.description})]})]})},_.id))}),f.jsx("div",{style:{display:"flex",justifyContent:"center",marginTop:"20px"},children:u.map((_,E)=>f.jsx("button",{onClick:()=>e(E),style:{width:"12px",height:"12px",borderRadius:"50%",margin:"0 5px",background:E===s?"#00a6fb":"#ccc",border:"none",cursor:"pointer"}},E))})]})]})},Oh=({imageKey:s,defaultImage:e,className:n,children:r,style:l={},backgroundPosition:u="center",backgroundSize:h="cover",backgroundRepeat:g="no-repeat"})=>{const{isAdmin:p}=xr(),[_,E]=L.useState(!1),[b,A]=L.useState(e),[C,D]=L.useState(""),[F,U]=L.useState(!1),[$,z]=L.useState(null),Q=L.useRef(null);L.useEffect(()=>{(async()=>{try{U(!0);const V=await cD();V&&V[s]?A(V[s]):A(e),z(null)}catch(V){console.error("Error fetching background image:",V),z("Failed to load background image. Using default.");try{const N=localStorage.getItem("backgroundImages");if(N){const Ne=JSON.parse(N);Ne[s]?A(Ne[s]):A(e)}else A(e)}catch(N){console.error("Error with localStorage fallback:",N),A(e)}}finally{U(!1)}})()},[s,e]);const ee=()=>{E(!0),D(b)},J=k=>{D(k.target.value)},ie=async k=>{const V=k.target.files[0];if(V)try{U(!0);const N=new FileReader;N.onloadend=async()=>{try{const Ne=await uD(N.result,`${s}_${Date.now()}`);await m0(s,Ne),A(Ne),D(Ne);try{const Pe=localStorage.getItem("backgroundImages")||"{}",le=JSON.parse(Pe);le[s]=Ne,localStorage.setItem("backgroundImages",JSON.stringify(le))}catch(Pe){console.error("Error updating localStorage:",Pe)}z(null)}catch(Ne){console.error("Error uploading image:",Ne),z("Failed to upload image. Please try again.")}finally{U(!1)}},N.readAsDataURL(V)}catch(N){console.error("Error reading file:",N),z("Failed to read file. Please try again."),U(!1)}},O=async()=>{if(!S(C)){alert("Please enter a valid URL");return}try{U(!0),await m0(s,C),A(C);try{const k=localStorage.getItem("backgroundImages")||"{}",V=JSON.parse(k);V[s]=C,localStorage.setItem("backgroundImages",JSON.stringify(V))}catch(k){console.error("Error updating localStorage:",k)}E(!1),z(null)}catch(k){console.error("Error saving background image:",k),z("Failed to save background image. Please try again.");try{const V=localStorage.getItem("backgroundImages")||"{}",N=JSON.parse(V);N[s]=C,localStorage.setItem("backgroundImages",JSON.stringify(N)),A(C),E(!1)}catch(V){console.error("Error with localStorage fallback:",V)}}finally{U(!1)}},R=()=>{E(!1),D(b)},S=k=>{try{return new URL(k),!0}catch{return!1}},I={...l,backgroundImage:`url(${b})`,backgroundPosition:u,backgroundSize:h,backgroundRepeat:g,position:"relative"};return f.jsxs("div",{className:n,style:I,children:[r,p&&!_&&f.jsx("button",{onClick:ee,className:"edit-background-button",children:"Edit Background"}),p&&_&&f.jsx("div",{className:"background-editor",children:f.jsxs("div",{className:"background-editor-content",children:[f.jsx("h3",{children:"Edit Background Image"}),f.jsxs("div",{className:"background-editor-input-group",children:[f.jsx("label",{children:"Image URL:"}),f.jsx("input",{type:"text",value:C,onChange:J,placeholder:"Enter image URL"})]}),f.jsxs("div",{className:"background-editor-input-group",children:[f.jsx("label",{children:"Or upload image:"}),f.jsx("input",{type:"file",ref:Q,onChange:ie,accept:"image/*"})]}),F&&f.jsx("div",{className:"loading-indicator",children:"Loading..."}),$&&f.jsx("div",{className:"error-message",children:$}),f.jsxs("div",{className:"background-editor-actions",children:[f.jsx("button",{onClick:R,children:"Cancel"}),f.jsx("button",{onClick:O,disabled:F,children:"Save"})]})]})})]})},SD=()=>f.jsxs("div",{className:"om-oss-container",children:[f.jsx("div",{className:"om-oss-header page_01 dynamic-background flex flex_col flex_j_E",children:f.jsx(Oh,{backgroundKey:"om-oss-header-bg",defaultSrc:"https://via.placeholder.com/1920x600?text=Om+Oss+Header",className:"om-oss-background-image",children:f.jsx("div",{className:"om-oss-header-content",children:f.jsx("div",{className:"trans-background page_01box flex flex_col flex_j_SA",children:f.jsx("div",{className:"om-oss-title flex flex_j_C flex_a_C",children:f.jsx(M,{textKey:"om-oss-title",defaultText:"OM OSS",tag:"p",className:"font_blue fonts_huge"})})})})})}),f.jsx("section",{className:"om-oss-section flex flex_j_C flex_a_C set-03",children:f.jsx("div",{className:"om-oss-content MaxWH flex flex_col flex_j_C",children:f.jsxs("div",{className:"om-oss-content-wrapper",children:[f.jsx(M,{textKey:"om-oss-title-1",defaultText:"Vad är AIM Challenge?",tag:"h2",className:"fonts_large om-oss-title"}),f.jsx(M,{textKey:"om-oss-text-1",defaultText:"AIM Challenge är en multisporttävling som arrangeras i Åre, Sverige. Tävlingen går ut på att ta sig runt en bana med hjälp av karta och kompass. Längs banan finns kontroller som ska besökas i rätt ordning.",tag:"p",className:"fonts_small om-oss-text"}),f.jsx(M,{textKey:"om-oss-text-2",defaultText:"​",tag:"p",className:"fonts_small om-oss-text"}),f.jsx(M,{textKey:"om-oss-text-3",defaultText:"Tävlingen arrangeras av AIM Challenge AB och har funnits sedan 2004. Tävlingen har utvecklats under åren och är idag en av Sveriges största multisporttävlingar.",tag:"p",className:"fonts_small om-oss-text"}),f.jsx(M,{textKey:"om-oss-text-4",defaultText:"​",tag:"p",className:"fonts_small om-oss-text"}),f.jsx(M,{textKey:"om-oss-text-5",defaultText:"AIM Challenge är en tävling för alla. Oavsett om du är elit eller motionär finns det en klass för dig. Tävlingen är uppdelad i olika klasser beroende på svårighetsgrad och längd.",tag:"p",className:"fonts_small om-oss-text"}),f.jsx(M,{textKey:"om-oss-text-6",defaultText:"​",tag:"p",className:"fonts_small om-oss-text"}),f.jsx(M,{textKey:"om-oss-text-7",defaultText:"Tävlingen går ut på att ta sig runt en bana med hjälp av karta och kompass. Längs banan finns kontroller som ska besökas i rätt ordning. Tävlingen innehåller olika moment som löpning, cykling, paddling, simning och klättring.",tag:"p",className:"fonts_small om-oss-text"}),f.jsx(M,{textKey:"om-oss-text-8",defaultText:"​",tag:"p",className:"fonts_small om-oss-text"})]})})}),f.jsx("div",{className:"om-oss-background-container",children:f.jsx(Oh,{backgroundKey:"om-oss-background-image",defaultSrc:"https://via.placeholder.com/1920x400?text=Background+Image",className:"om-oss-background-image"})}),f.jsx("section",{className:"om-oss-section flex flex_j_C flex_a_C set-03",children:f.jsx("div",{className:"om-oss-content MaxWH flex flex_col flex_j_C",children:f.jsxs("div",{className:"om-oss-content-wrapper",children:[f.jsx(M,{textKey:"om-oss-title-2",defaultText:"Så här är det att vara med i AIM Challenge",tag:"h2",className:"fonts_large om-oss-title"}),f.jsx(M,{textKey:"om-oss-text-9",defaultText:"AIM Challenge är en rolig tävling. Det är oftast det som är det centrala i de deltagarkommentarer vi får både från eliten och motionärerna. Man färdas till största delen med hjälp av sin mountainbike och sina löparskor, men också i klättersele, paddlandes i kanot eller så strippar man helt enkelt och simmar ut till kontroller som är i vattnet.",tag:"p",className:"fonts_small om-oss-text"}),f.jsx(M,{textKey:"om-oss-text-10",defaultText:"​",tag:"p",className:"fonts_small om-oss-text"}),f.jsx(M,{textKey:"om-oss-text-11",defaultText:"Det finns inga krav på förkunskaper om de olika momenten utan vi har kunnig personal vid varje post som innefattas av klättring, firning, simning, paddling. Varje lag genomför tävlingen i sin egen takt och med egen strategi. Visst finns det de lag som satsar allt för att knipa segern och det är det som är det roliga med konceptet. Elit och motionär tävlar på samma villkor på samma bana.",tag:"p",className:"fonts_small om-oss-text"}),f.jsx(M,{textKey:"om-oss-text-12",defaultText:"​",tag:"p",className:"fonts_small om-oss-text"}),f.jsx(M,{textKey:"om-oss-text-13",defaultText:"Våra deltagare är allt ifrån världseliten i multisport som Thule Adventure team, Team Silva, Team Multitude Salomon men också glada motionärer allt från åldrarna 15 till pensionärer. Oavsett ålder och fysiska förutsättningar är detta ett roligt och annorlunda sätt att tävla på.",tag:"p",className:"fonts_small om-oss-text"})]})})}),f.jsxs("section",{id:"page_02",className:"page_02 simple-background flex flex_j_E MaxWH location",children:[f.jsxs("div",{className:"page_02box simple-background flex flex_col flex_j_SB MaxWH location",children:[f.jsxs("div",{className:"trans-background page_02top flex flex_col flex_j_SA MaxWH",children:[f.jsx(M,{textKey:"card-1-title",defaultText:"REGLER",tag:"p",className:"font_blue fonts_medium_B"}),f.jsx(M,{textKey:"card-1-text",defaultText:"Tävlingsregler och information",tag:"p",className:"font_blue fonts_medium"})]}),f.jsx("div",{className:"page_02top flex flex_col flex_j_SA MaxWH Button",children:f.jsx($e,{to:"/page2",className:"location button-2",children:"Läs mer"})})]}),f.jsxs("div",{className:"page_02box simple-background flex flex_col flex_j_SB MaxWH location",children:[f.jsxs("div",{className:"trans-background page_02top flex flex_col flex_j_SA MaxWH",children:[f.jsx(M,{textKey:"card-2-title",defaultText:"FAQ",tag:"p",className:"font_blue fonts_medium_B"}),f.jsx(M,{textKey:"card-2-text",defaultText:"Vanliga frågor och svar",tag:"p",className:"font_blue fonts_medium"})]}),f.jsx("div",{className:"page_02top flex flex_col flex_j_SA MaxWH Button",children:f.jsx($e,{to:"/page3",className:"location button-2",children:"Läs mer"})})]}),f.jsxs("div",{className:"page_02box simple-background flex flex_col flex_j_SB MaxWH location",children:[f.jsxs("div",{className:"trans-background page_02top flex flex_col flex_j_SA MaxWH",children:[f.jsx(M,{textKey:"card-3-title",defaultText:"HISTORIEN OM AIM",tag:"p",className:"font_blue fonts_medium_B"}),f.jsx(M,{textKey:"card-3-text",defaultText:"Vår resa sedan 2004",tag:"p",className:"font_blue fonts_medium"})]}),f.jsx("div",{className:"page_02top flex flex_col flex_j_SA MaxWH Button",children:f.jsx($e,{to:"/page3",className:"location button-2",children:"Läs mer"})})]})]})]}),wD=()=>f.jsxs("div",{className:"flex flex_col regler-container",children:[f.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",children:f.jsx("div",{className:"trans-background page_01box flex flex_col flex_j_SA",children:f.jsx("div",{className:"om-oss-title flex flex_j_C flex_a_C",children:f.jsx("p",{className:"font_blue fonts_huge font_white",children:"REGLER"})})})}),f.jsx("section",{className:"om-oss-section regler-section flex flex_j_C flex_a_C set-03",style:{paddingTop:"50px",paddingBottom:"50px"},children:f.jsx("div",{className:"om-oss-content MaxWH flex flex_col flex_j_C regler-content-container",children:f.jsxs("div",{className:"regler-content",style:{paddingLeft:"150px",paddingRight:"150px",maxWidth:"80%"},children:[f.jsx("h2",{className:"regler-heading font_white",style:{paddingLeft:"30px",paddingRight:"30px"},children:"LAGET"}),f.jsxs("ul",{className:"regler-list",style:{paddingLeft:"80px",paddingRight:"80px"},children:[f.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Åldersgräns 15år/18år"}),f.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Båda deltagarna måste ha olycksförsäkring som täcker olyckor i samband med tävling/idrottsaktiviteter."}),f.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Det är lagets ansvar att se till att de är registrerade i rätt klass."}),f.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Startnummer ska placeras fram på cykel samt synligt på kroppen på båda deltagarna"}),f.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Det är tillåtet att använda GPS men det är alltid kartan som gäller. GPSens kartunderlag stämmer inte alltid överens med den utskrivna AIM kartan."}),f.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Laget ska alltid vara samlade max 20 meter mellan lagmedlemmarna."}),f.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Det är inte tillåtet att ha följebil."})]}),f.jsx("h2",{className:"regler-heading-with-margin font_white",style:{paddingLeft:"30px",paddingRight:"30px"},children:"SÄKERHET"}),f.jsxs("ul",{className:"regler-list",style:{paddingLeft:"80px",paddingRight:"80px"},children:[f.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Lagen väljer själva vilka kontroller de klarar att ta baserat på väder, egen färdighet och kunskap."}),f.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Lagen väljer själva vilken väg de vill ta till kontrollerna baserat på väder, egen färdighet och kunskap."}),f.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Trafiken är inte reglerad under tävlingen."}),f.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Trafikregler gäller alltid."}),f.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Första hjälpen kit ska bäras med under hela tävlingen"}),f.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Hjälm ska bäras under all cykling, klättring, bouldering och rappellering"}),f.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Vid olycka är det obligatoriska att hjälpa till."}),f.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Vid allvarlig olycka ring nöd nummer 112 i Sverige och 113 i Norge"}),f.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Vid behov för enklare medicinsk hjälp ring telefonnumret på baksidan av kartan"}),f.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Tävlingsledningens direktiv gäller alltid."})]}),f.jsx("h2",{className:"regler-heading-with-margin font_white",style:{paddingLeft:"30px",paddingRight:"30px"},children:"ÖVRIGT"}),f.jsxs("ul",{className:"regler-list",style:{paddingLeft:"80px",paddingRight:"80px"},children:[f.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Elcyklar är ej tillåtet, med undantag för Elcykelklassen i Hemsedal."}),f.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Beroende på kapacitet är det möjligt att använda liften i Hemsedal, lyssna noga på vad speakern ger för information för vad som gäller för årets tävling."}),f.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Deltagare som bryter ska genast meddela tävlingsledningen. Telefonnummer står på kartan."}),f.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Synliga, osynliga och tävlande domare befinner sig i tävlingsområdet och ser till att reglerna följs."}),f.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Regelbrott kan leda till poängavdrag eller diskvalificering"}),f.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Deltagare som vinner priser som lottas ut pga olika händelser eller som dras på startnummer måste närvara på prisutdelningen för att få sitt pris. Är man inte närvarande och ditt namn/lagnamn dras drar vi reservnamn/lagnamn."}),f.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"LINDVALLEN, viadukten mellan Lodgen och Experium är stängd under hela tävlingen."}),f.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Tävlingsledningens beslut går inte att överklaga."}),f.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Kloka människor skräpar inte ner, för alla andra är det förbjudet."}),f.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Respektera privat mark, ta inte genvägar över privata områden"}),f.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Beträda odlad mark är förbjudet. Åkrar som inte har skördats är odlad mark."}),f.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Stäng alla grindar som ni öppnar."}),f.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Visa betande djur respekt genom att stiga av cykeln och gå förbi dem."})]}),f.jsx("h2",{className:"regler-heading-with-margin font_white",style:{paddingLeft:"30px",paddingRight:"30px"},children:"OBLIGATORISK UTRUSTNING"}),f.jsxs("ul",{className:"regler-list",style:{paddingLeft:"80px",paddingRight:"80px"},children:[f.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Cykel, utan elmotor med undantag för Elcykelklassen i Hemsedal."}),f.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Cykelhjälm vid cykling"}),f.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Mobiltelefon (1 st per lag)"}),f.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Första hjälpen (1 st per lag)"})]}),f.jsx("h2",{className:"regler-heading-with-margin font_white",style:{paddingLeft:"30px",paddingRight:"30px"},children:"VI REKOMMENDERAR ATT NI ÄVEN HAR MED ER"}),f.jsxs("ul",{className:"regler-list",style:{paddingLeft:"80px",paddingRight:"80px"},children:[f.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Förstärkningskläder vid hastigt väderomslag"}),f.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Kompass"}),f.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Vatten i en Camelbak"}),f.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Energy bars eller liknande"}),f.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Klocka"}),f.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Löparskor"}),f.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Cykelslang och reparationskit + övriga verktyg, tex en biketool för enklare justeringar"})]}),f.jsx("h2",{className:"regler-heading-with-margin font_white",style:{paddingLeft:"30px",paddingRight:"30px"},children:"AIM CHALLENGE STÅR FÖR"}),f.jsx("ul",{className:"regler-list",style:{paddingLeft:"80px",paddingRight:"80px"},children:f.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Kanot, SUP, sele, rep, hjälm vid firningar/klättring. All utrustning vid bemannade poster finns där klättring etc förekommer."})}),f.jsx("h2",{className:"regler-heading-with-margin font_white",style:{paddingLeft:"30px",paddingRight:"30px"},children:"VILLKOR I FÖRBINDELSE MED ANMÄLAN"}),f.jsx("p",{className:"fonts_small om-oss-text regler-list-item font_white",style:{paddingLeft:"30px",paddingRight:"30px"},children:"Villkor i förbindelse med anmälan"}),f.jsxs("p",{className:"fonts_small om-oss-text regler-contact font_white",style:{paddingLeft:"30px",paddingRight:"30px"},children:["Om du har frågor: ",f.jsx("a",{href:"mailto:info@aimchallenge.com",className:"font_white",children:"info@aimchallenge.com"})]})]})})}),f.jsx("div",{className:"locked-background",style:{height:"50vh",width:"100%"}})]}),RD=({question:s,answer:e})=>{const[n,r]=L.useState(!1),l=()=>{r(!n)};return f.jsxs("div",{className:"faq-item",children:[f.jsxs("div",{className:`faq-question ${n?"active":""}`,onClick:l,children:[f.jsx("h3",{className:"question-text",children:s}),f.jsx("span",{className:"icon",children:n?"▲":"▼"})]}),f.jsx("div",{className:`faq-answer ${n?"open":""}`,children:f.jsx("p",{children:e})})]})},th=({title:s,items:e})=>f.jsxs("div",{className:"faq-category",children:[f.jsx("h2",{className:"faq-category-title",children:s}),e.map((n,r)=>f.jsx(RD,{question:n.question,answer:n.answer},r))]}),ND=()=>{const s=[{question:"Jag är nybörjare på multisport, kan jag delta?",answer:"Absolut, det är DU som väljer väg och antal kontroller. Ta 5 kontroller och ha en fin tur på fjället, eller ta 40 och vinn. Alla kan delta efter egen förmåga och ambition."},{question:"Behöver man vara en riktigt stenhård multisportare för att delta?",answer:"Det finns inga krav på förkunskaper om de olika momenten utan vi har kunnig personal vid varje post som innebär klättring, firning, simning etc. I och med AIM-konceptet så tar varje lag tävlingen i sin egen takt och sin egen strategi. Visst finns det de lag som satsar allt för att knipa segern och det är det som är det roliga med konceptet. Elit och motionär tävlar på samma villkor på samma bana."},{question:"Är det olika klasser?",answer:"Dam, Herr och Mix. Elit och motion tävlar i samma klass."},{question:"Vilken åldersgräns gäller?",answer:"Åldersgränsen för AIM Challenge är 15/18 år beroende på tävling och medtävlande. Läs mer här."},{question:"Kan jag ändra information om mitt lag. Tex ändrar lagnamn eller deltagare?",answer:"Ja, logga in på ditt RaceID-konto för att göra ändringar."},{question:"Om jag blir sjuk, får jag tillbaka min anmälningsavgift då?",answer:"Nej. Det går däremot bra att sälja sin startplats till en kompis. Vid försäljning så uppdaterar ni era uppgifter på ditt RaceID-konto. Alternativt ta kontakt med ditt försäkringsbolag för att se vad det täcker."},{question:"Hur vet jag om jag har olycksförsäkring?",answer:"Kontakta ditt försäkringsbolag, de flesta har den redan."}],e=[{question:"Ska jag tävla med löpskor eller cykelskor?",answer:"Det är en fördel att cykla med SPD sko, och det är en fördel att springa med löparskor. Ta med både och!"},{question:"Behöver man ha all utrustning med sig?",answer:"Nej. Deltagare ska ha med sig cykel, hjälm, första hjälpen och mobiltelefon. Vid en klätterkontroll finns kunnig personal med all nödvändig utrustning, de säkrar deltagarna och ser till att klättringen går säkert till. Vid en paddel kontroll finns det kanot, SUP, luftmadrass eller liknande. Skulle man inte ha en mountainbike går det bra att hyra och detta bör i så fall förbokas."},{question:"Får man använda sig av GPS?",answer:"Ja, det är tillåtet att använda en GPS. Det är dock inte alltid det bästa eftersom det är kartan som gäller och GPSen och kartans information kan skilja sig åt."}],n=[{question:"Om jag inte hinner till registreringen på fredag kväll, vad gör jag då?",answer:"Det finns möjlighet för registrering på lördag morgon innan start, dock ser vi helst att all registrering sker under fredag kvällen."},{question:"Ingår banketten i priset?",answer:"Nej, den får man köpa vid sidan om. Se respektive tävling för bokning av mat. Men prisutdelningen som följer efter banketten är gratis för alla deltagare."},{question:"Vilka tider är det som gäller för själva tävlandet?",answer:"Program: Fredagen: Registrering 17:00-21:00 i Lindvallen & 19.00-22.00 i Hemsedal. Lördagen: 9.30 Info möte vid start, 10.00 START, 16.00 MÅL. 22.00 PRISUTDELNING. Söndagen: Väl förtjänad sovmorgon och en härlig dag på fjället! Se detaljerat program under de enskilda tävlingarna."}],r=[{question:"Hur ser kartan ut?",answer:"Kartan får alla lagen när startskottet går. Där är samtliga kontroller utmärkta med position, poäng, beskrivning och om kontrollen innefattar klättring, paddling etc. Skalan är ungefär 1:30 000. Varje år är ett nytt år och därför en ny bansträckning. Kontrollernas position varierar från år till år så den strategi man hade året innan kanske inte lönar sig i år."},{question:"Måste både deltagarna simma/klättra/rappellera till en kontroll?",answer:"Lagen ska alltid hålla ihop och ska under hela tävlingen kunna kommunicera med varandra. Utom på de kontroller som vi kallar bemannade kontroller, dvs simma, paddla, klättra, balansera och rappelera. Här räcker det att den ena i laget tar posten. Både deltagarna ska dock vara så nära varandra som möjligt vid dessa poster."},{question:"Rappellering och klättring - hur goda bakgrundskunskaper måste man ha för att ställa upp?",answer:"Vid varje bemannad post finns det personal som är kunniga och med riktig utrustning. Lite erfarenhet ifrån klättring hjälper men är inte nödvändigt. Man behöver ingen kunskap om säkerhet."},{question:"Vilka regler gäller?",answer:"De regler som gäller för anmälan och under tävling finner du här >>"}];return f.jsxs("div",{className:"flex flex_col faq-container",children:[f.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",children:f.jsx("div",{className:"trans-background page_01box flex flex_col flex_j_SA",children:f.jsx("div",{className:"om-oss-title flex flex_j_C flex_a_C",children:f.jsx("p",{className:"font_blue fonts_huge font_white",children:"FAQ"})})})}),f.jsx("section",{className:"faq-section faq-dark-section",children:f.jsx("div",{className:"faq-content-container",children:f.jsxs("div",{className:"faq-content",children:[f.jsx("h1",{className:"faq-heading",children:"Vanliga frågor"}),f.jsx(th,{title:"Allmänna frågor",items:s})]})})}),f.jsx("section",{className:"faq-section faq-light-section",children:f.jsx("div",{className:"faq-content-container",children:f.jsx("div",{className:"faq-content",children:f.jsx(th,{title:"Utrustning",items:e})})})}),f.jsx("section",{className:"faq-section faq-dark-section",children:f.jsx("div",{className:"faq-content-container",children:f.jsx("div",{className:"faq-content",children:f.jsx(th,{title:"Tävlingsdagen",items:n})})})}),f.jsx("section",{className:"faq-section faq-light-section",children:f.jsx("div",{className:"faq-content-container",children:f.jsx("div",{className:"faq-content",children:f.jsx(th,{title:"Teknisk information",items:r})})})}),f.jsx("section",{className:"faq-section faq-dark-section",children:f.jsx("div",{className:"faq-content-container",children:f.jsx("div",{className:"faq-content",children:f.jsxs("div",{className:"faq-category",children:[f.jsx("h2",{className:"faq-category-title",children:"Har du fler frågor?"}),f.jsx("div",{className:"flex flex_j_C flex_a_C",children:f.jsxs("p",{className:"faq-contact-text",children:["Ta gärna kontakt om ni inte hittar svaret på era frågor: ",f.jsx("a",{href:"mailto:info@aimchallenge.com",className:"font_white",children:"info@aimchallenge.com"})]})})]})})})}),f.jsx("div",{className:"locked-background",style:{height:"50vh",width:"100%"}})]})},kD=()=>f.jsxs("div",{className:"flex flex_col",children:[f.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",children:f.jsx("div",{className:"trans-background page_01box flex flex_col flex_j_SA",children:f.jsx("div",{className:"om-oss-title flex flex_j_C flex_a_C",children:f.jsx(M,{textKey:"historien-om-aim-title",defaultText:"HISTORIEN OM AIM",tag:"p",className:"font_blue fonts_huge font_white"})})})}),f.jsx("section",{className:"om-oss-section regler-section flex flex_j_C flex_a_C set-03 historien-om-aim-section",children:f.jsx("div",{className:"om-oss-content MaxWH flex flex_col flex_j_C regler-content-container",children:f.jsxs("div",{className:"regler-content historien-om-aim-content",children:[f.jsx(M,{textKey:"historien-om-aim-text-1",defaultText:"AIM Challenge är idag Nordens största multisporttävling men historien om AIM Challenge börjar mycket tidigare än så.",tag:"p",className:"fonts_small om-oss-text font_white historien-om-aim-text"}),f.jsx(M,{textKey:"historien-om-aim-text-2",defaultText:"Vi låter Lisa Nordlind, grundare och initiativtagare till AIM Challenge berätta hur det gick till:",tag:"p",className:"fonts_small om-oss-text font_white historien-om-aim-text"}),f.jsx(M,{textKey:"historien-om-aim-text-3",defaultText:"År 2000 deltog jag i mitt livs största äventyr när jag tävlade i multisporttävlingen Camel Trophy.",tag:"p",className:"fonts_small om-oss-text font_white historien-om-aim-text"}),f.jsx(M,{textKey:"historien-om-aim-text-4",defaultText:"Av över en miljon sökande så var det 16 tvåmannalag från 22 länder som fick vara med och leka. Jag fick äran att representera Team Skandinavien tillsammans med brandmannen Mikael Stening.",tag:"p",className:"fonts_small om-oss-text font_white historien-om-aim-text"}),f.jsx(M,{textKey:"historien-om-aim-text-5",defaultText:"Lag på två personer skulle under 3 veckor samla så många kontroller som möjligt utav 400 utplacerade. Huvudtransportmedel var en specialbyggd RIB (Rigid Inflatable Boat). Båten var utrustad med mountainbikes, klätterutrustning, paddelbräda, dyk- och snorkel utrustning, tält, mat och vatten.",tag:"p",className:"fonts_small om-oss-text font_white historien-om-aim-text"}),f.jsx(M,{textKey:"historien-om-aim-text-6",defaultText:"Lagen fick själva välja vilka kontroller de ville ta, i vilken ordning och vilken väg.",tag:"p",className:"fonts_small om-oss-text font_white historien-om-aim-text"}),f.jsx(M,{textKey:"historien-om-aim-text-7",defaultText:"Olika kontroller gav olika poäng. Låter det bekant?",tag:"p",className:"fonts_small om-oss-text font_white historien-om-aim-text"}),f.jsx(M,{textKey:"historien-om-aim-text-8",defaultText:"Tävlingsområdet var ögrupperna Tonga och Samoa i Söderhavet. Det var galet roligt och Mikael och jag lyckades ta oss till en fjärde plats.",tag:"p",className:"fonts_small om-oss-text font_white historien-om-aim-text"}),f.jsx(M,{textKey:"historien-om-aim-text-9",defaultText:"År 2004 spenderade jag min första sommar i Hemsedal. Det var ganska lugnt i den lilla skidorten så jag beslutade mig för att starta ett nytt event. För mig är det viktigt att träning är roligt och jag tycker att den bästa träningen är tävling. Eftersom Camel Trophy var det roligaste jag någonsin varit med om så föll det naturligt att försöka skapa ett event där andra människor får uppleva samma lekfulla koncept om än i en mindre skala. Tävlingen fick namnet 'Hemsedal Challenge' och den första helgen i september 2004 stod 150 deltagare på startlinjen.",tag:"p",className:"fonts_small om-oss-text font_white historien-om-aim-text"}),f.jsx(M,{textKey:"historien-om-aim-text-10",defaultText:"Nära, kära, vänner och familj samlades från alla håll och kanter för att ställa upp som funktionärer.",tag:"p",className:"fonts_small om-oss-text font_white historien-om-aim-text"}),f.jsx(M,{textKey:"historien-om-aim-text-11",defaultText:"Efter 5 år startade vi en tävling till i Lindvallen och bytte namn till AIM Challenge.",tag:"p",className:"fonts_small om-oss-text font_white historien-om-aim-text"}),f.jsx(M,{textKey:"historien-om-aim-text-12",defaultText:"Efter AIM Challenge 2019 tackade Lisa för sig och lämnade över stafettpinnen till Marcus Andersson, som nu står inför en spännande framtid där han ser frem emot att driva vidare och utveckla AIM Challenge.",tag:"p",className:"fonts_small om-oss-text font_white historien-om-aim-text"})]})})}),f.jsx(Oh,{backgroundKey:"historien-om-aim-bottom-bg",defaultSrc:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_094.jpg",className:"page_01 dynamic-background flex flex_col flex_j_E"})]}),CD=({isOpen:s,onClose:e,onSave:n})=>{const[r,l]=L.useState(""),[u,h]=L.useState(""),[g,p]=L.useState(null),[_,E]=L.useState(""),[b,A]=L.useState(!1),[C,D]=L.useState(""),[F,U]=L.useState(""),[$,z]=L.useState(0),[Q,ee]=L.useState(0),J=L.useRef(null),ie=L.useRef(null),{isAdmin:O}=xr(),R=le=>{const ye=le.target.files[0];if(ye){const pe=new FileReader;pe.onloadend=()=>{p(ye),E(pe.result)},pe.readAsDataURL(ye)}},S=le=>{h(le.target.value)},I=()=>{J.current&&(z(J.current.selectionStart),ee(J.current.selectionEnd))},k=()=>{if(A(!b),!b&&J.current){const le=u.substring(J.current.selectionStart,J.current.selectionEnd);U(le),z(J.current.selectionStart),ee(J.current.selectionEnd)}},V=()=>{if(!C.trim()){alert("Please enter a URL");return}const le=`[${F||C}](${C})`,ye=u.substring(0,$)+le+u.substring(Q);h(ye),A(!1),D(""),U("")},N=()=>{if(!r.trim()||!u.trim()||!_){alert("Vänligen fyll i alla fält (titel, bild och innehåll)");return}const le={id:Date.now(),title:r,date:new Date().toLocaleDateString("sv-SE",{year:"numeric",month:"long",day:"numeric"}),content:u,image:_};n(le),Ne(),e()},Ne=()=>{l(""),h(""),p(null),E(""),A(!1),D(""),U("")},Pe=le=>{le.target.className==="create-post-modal__overlay"&&e()};return!s||!O?null:f.jsxs("div",{className:"create-post-modal",children:[f.jsx("div",{className:"create-post-modal__overlay",onClick:Pe}),f.jsxs("div",{className:"create-post-modal__content",children:[f.jsx("h2",{className:"create-post-modal__title",children:"Skapa nytt inlägg"}),f.jsxs("div",{className:"create-post-modal__form",children:[f.jsxs("div",{className:"create-post-modal__form-group",children:[f.jsx("label",{className:"create-post-modal__label",children:"Titel"}),f.jsx("input",{type:"text",className:"create-post-modal__input",value:r,onChange:le=>l(le.target.value),placeholder:"Ange titel"})]}),f.jsxs("div",{className:"create-post-modal__form-group",children:[f.jsx("label",{className:"create-post-modal__label",children:"Bild"}),f.jsxs("div",{className:"create-post-modal__image-upload",onClick:()=>ie.current.click(),children:[_?f.jsx("img",{src:_,alt:"Preview",className:"create-post-modal__image-preview"}):f.jsx("div",{className:"create-post-modal__image-placeholder",children:"Klicka för att ladda upp en bild"}),f.jsx("input",{type:"file",accept:"image/*",onChange:R,className:"create-post-modal__file-input",ref:ie})]})]}),f.jsxs("div",{className:"create-post-modal__form-group",children:[f.jsx("label",{className:"create-post-modal__label",children:"Innehåll"}),f.jsxs("div",{children:[f.jsx("textarea",{className:"create-post-modal__textarea",value:u,onChange:S,onSelect:I,ref:J,placeholder:"Ange innehåll"}),f.jsx("button",{type:"button",onClick:k,className:"create-post-modal__button create-post-modal__button--secondary",style:{marginTop:"10px"},children:"Lägg till länk"}),b&&f.jsxs("div",{className:"create-post-modal__link-tools",children:[f.jsxs("div",{children:[f.jsx("label",{children:"Länktext:"}),f.jsx("input",{type:"text",value:F,onChange:le=>U(le.target.value),className:"create-post-modal__input",style:{marginTop:"5px",width:"100%"}})]}),f.jsxs("div",{children:[f.jsx("label",{children:"URL:"}),f.jsx("input",{type:"text",value:C,onChange:le=>D(le.target.value),className:"create-post-modal__input",style:{marginTop:"5px",width:"100%"}})]}),f.jsxs("div",{style:{marginTop:"10px"},children:[f.jsx("button",{onClick:V,className:"create-post-modal__button create-post-modal__button--primary",children:"Infoga länk"}),f.jsx("button",{onClick:()=>A(!1),className:"create-post-modal__button create-post-modal__button--secondary",style:{marginLeft:"10px"},children:"Avbryt"})]})]})]})]}),f.jsxs("div",{className:"create-post-modal__actions",children:[f.jsx("button",{onClick:e,className:"create-post-modal__button create-post-modal__button--secondary",children:"Avbryt"}),f.jsx("button",{onClick:N,className:"create-post-modal__button create-post-modal__button--primary",disabled:!r.trim()||!u.trim()||!_,children:"Spara"})]})]})]})]})},kb=Bg(ca,"posts"),ID=async()=>{try{const s=TI(kb,bI("createdAt","desc")),e=await AT(s),n=[];return e.forEach(r=>{n.push({id:r.id,...r.data()})}),n}catch(s){throw console.error("Error getting posts:",s),s}},g0=async(s,e)=>{try{let n=null;if(e){const l=sd(ld,`post-images/${Date.now()}`);await qT(l,e,"data_url"),n=await lp(l)}return{id:(await NI(kb,{title:s.title,content:s.content,image:n||s.image,date:s.date,createdAt:new Date().toISOString()})).id,...s,image:n||s.image}}catch(n){throw console.error("Error adding post:",n),n}},jD=async(s,e)=>{try{if(await RI(mr(ca,"posts",s)),e&&e.includes("firebase")){const n=sd(ld,e);await P1(n)}return{success:!0}}catch(n){throw console.error("Error deleting post:",n),n}},DD=()=>{const[s,e]=L.useState(""),[n,r]=L.useState(!1),[l,u]=L.useState(!1),{isAdmin:h}=xr(),[g,p]=L.useState([]),[_,E]=L.useState(!0),[b,A]=L.useState(null);L.useEffect(()=>{(async()=>{try{E(!0);const Q=await ID();p(Q),A(null)}catch(Q){console.error("Error fetching posts:",Q),A("Failed to load posts. Please try again later."),C()}finally{E(!1)}})()},[]);const C=()=>{p([{id:"default-1",title:"AIM Challenge 2025 - Anmälan öppen!",date:"28 februari 2025",content:"Nu är anmälan öppen för AIM Challenge 2025! Vi ser fram emot att välkomna både nya och återkommande deltagare till årets tävlingar i Hemsedal, Sälen, Ulricehamn och Kolmården.",image:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_094.jpg"},{id:"default-2",title:"Nya utmaningar i Hemsedal",date:"15 februari 2025",content:"I år har vi lagt till flera nya spännande utmaningar på Hemsedal-banan. Förbered er på att testa era gränser i den vackra norska fjällmiljön!",image:"/images/AIM_lindvallen_2024_AnkiGrothe_highres_125.jpg"},{id:"default-3",title:"Resultat från förra årets tävlingar",date:"10 januari 2025",content:"Nu finns alla resultat från förra årets tävlingar tillgängliga på vår hemsida. Kolla in hur du och ditt lag placerade er!",image:"/images/EE-AIMChallenge24-Uhamn-0171-high.jpg"},{id:"default-4",title:"Ny sponsor för AIM Challenge",date:"5 januari 2025",content:"Vi är glada att meddela att vi har fått en ny huvudsponsor för AIM Challenge 2025. Mer information kommer snart!",image:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_094.jpg"}])},D=z=>{z.preventDefault(),console.log("Email submitted:",s),r(!0),e(""),setTimeout(()=>r(!1),3e3)},F=async z=>{try{E(!0);const Q=await g0(z,z.image);p([Q,...g]),A(null)}catch(Q){console.error("Error saving post:",Q),A("Failed to save post. Please try again.")}finally{E(!1)}},U=async(z,Q)=>{if(window.confirm("Är du säker på att du vill ta bort detta inlägg?"))try{E(!0),await jD(z,Q);const ee=g.filter(J=>J.id!==z);p(ee),A(null)}catch(ee){console.error("Error deleting post:",ee),A("Failed to delete post. Please try again.")}finally{E(!1)}},$=async()=>{if(window.confirm("Är du säker på att du vill återställa till standardinlägg? Alla dina anpassade inlägg kommer att försvinna."))try{E(!0),C();for(const z of g)await g0(z,z.image);A(null)}catch(z){console.error("Error resetting posts:",z),A("Failed to reset posts. Please try again.")}finally{E(!1)}};return f.jsxs("div",{className:"flex flex_col",children:[f.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",children:f.jsx("div",{className:"page_01box flex flex_col flex_j_SA",children:f.jsx("div",{className:"om-oss-title flex flex_j_C flex_a_C",children:f.jsx(M,{textKey:"senaste-nytt-title",defaultText:"SENASTE NYTT",tag:"p",className:"fonts_huge senaste-nytt-main-title",style:{color:"rgb(56, 76, 135)"}})})})}),f.jsx("section",{className:"set-03 senaste-nytt-subscribe-section",children:f.jsxs("div",{className:"MaxWH flex flex_col flex_j_C flex_a_C font_white",children:[f.jsx(M,{textKey:"senaste-nytt-subscribe-title",defaultText:"Håll dig uppdaterad",tag:"h2",className:"fonts_large senaste-nytt-title"}),f.jsx(M,{textKey:"senaste-nytt-subscribe-text",defaultText:"Prenumerera på vårt nyhetsbrev för att få de senaste uppdateringarna om AIM Challenge direkt i din inkorg.",tag:"p",className:"fonts_small senaste-nytt-description"}),f.jsxs("form",{onSubmit:D,className:"senaste-nytt-form flex flex_col flex_a_C",children:[f.jsxs("div",{className:"senaste-nytt-form-input-container flex",children:[f.jsx("input",{type:"email",value:s,onChange:z=>e(z.target.value),placeholder:"Din e-postadress",required:!0,className:"senaste-nytt-form-input"}),f.jsx("button",{type:"submit",className:"senaste-nytt-form-button",children:f.jsx(M,{textKey:"senaste-nytt-subscribe-button",defaultText:"Prenumerera",tag:"span",className:""})})]}),n&&f.jsx("p",{className:"senaste-nytt-form-success",children:f.jsx(M,{textKey:"senaste-nytt-subscribe-thanks",defaultText:"Tack för din prenumeration!",tag:"span",className:""})})]})]})}),f.jsx("section",{className:"senaste-nytt-news-section",children:f.jsxs("div",{className:"MaxWH senaste-nytt-container",children:[f.jsx(M,{textKey:"senaste-nytt-news-title",defaultText:"Nyheter",tag:"h2",className:"senaste-nytt-section-title"}),h&&f.jsxs("div",{className:"senaste-nytt-admin-actions flex flex_j_E",children:[f.jsx("button",{className:"senaste-nytt-create-post-button",onClick:()=>u(!0),children:f.jsx(M,{textKey:"senaste-nytt-create-post-button",defaultText:"Skapa nytt inlägg",tag:"span",className:""})}),f.jsx("button",{className:"senaste-nytt-reset-posts-button",onClick:$,children:f.jsx(M,{textKey:"senaste-nytt-reset-posts-button",defaultText:"Återställ till standardinlägg",tag:"span",className:""})})]}),f.jsx("div",{className:"senaste-nytt-news-grid",children:g.map(z=>f.jsxs("div",{className:"senaste-nytt-news-card",children:[f.jsx("div",{className:"senaste-nytt-news-image",style:{backgroundImage:`url(${z.image})`}}),f.jsxs("div",{className:"senaste-nytt-news-content",children:[f.jsx(M,{textKey:`senaste-nytt-news-title-${z.id}`,defaultText:z.title,tag:"h3",className:"senaste-nytt-news-card-title"}),f.jsx(M,{textKey:`senaste-nytt-news-date-${z.id}`,defaultText:z.date,tag:"p",className:"senaste-nytt-news-date"}),f.jsx(M,{textKey:`senaste-nytt-news-content-${z.id}`,defaultText:z.content,tag:"p",className:"senaste-nytt-news-text"}),f.jsx($e,{to:`/news/${z.id}`,className:"senaste-nytt-read-more",children:f.jsx(M,{textKey:`senaste-nytt-news-read-more-${z.id}`,defaultText:"Läs mer",tag:"span",className:"senaste-nytt-read-more-text"})}),h&&f.jsx("button",{className:"senaste-nytt-delete-post-button",onClick:()=>U(z.id,z.image),children:f.jsx(M,{textKey:`senaste-nytt-delete-post-button-${z.id}`,defaultText:"Ta bort",tag:"span",className:""})})]})]},z.id))})]})}),h&&f.jsx(CD,{isOpen:l,onClose:()=>u(!1),onSave:F}),f.jsx(Oh,{backgroundKey:"senaste-nytt-bottom-bg",defaultSrc:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_094.jpg",className:"page_01 dynamic-background flex flex_col flex_j_E"})]})},OD=()=>{const{id:s}=BS(),e=Sl(),[n,r]=L.useState(null),[l,u]=L.useState(!0),h=[{id:1,title:"AIM Challenge 2025 - Anmälan öppen!",date:"28 februari 2025",content:`Nu är anmälan öppen för AIM Challenge 2025! Vi ser fram emot att välkomna både nya och återkommande deltagare till årets tävlingar i Hemsedal, Sälen, Ulricehamn och Kolmården.

AIM Challenge har blivit en tradition för många äventyrslystna deltagare, och i år kommer vi att erbjuda ännu fler spännande utmaningar. Tävlingarna kommer att äga rum under följande datum:

- Hemsedal: 15-17 mars 2025
- Sälen: 22-24 mars 2025
- Ulricehamn: 5-7 april 2025
- Kolmården: 19-21 april 2025

Anmälan sker via vår hemsida och platserna fylls snabbt, så se till att säkra din plats redan idag!`,image:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_094.jpg",fullImage:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_094.jpg"},{id:2,title:"Nya utmaningar i Hemsedal",date:"15 februari 2025",content:`I år har vi lagt till flera nya spännande utmaningar på Hemsedal-banan. Förbered er på att testa era gränser i den vackra norska fjällmiljön!

Vårt team har arbetat hårt för att designa nya hinderbanor som kommer att utmana även de mest erfarna deltagarna. De nya utmaningarna inkluderar:

1. "Fjällpassagen" - en tekniskt krävande sträcka med klättring och balansmoment
2. "Isfloden" - en isande kall utmaning som testar både styrka och mental uthållighet
3. "Lavinzonen" - en hinderbana där samarbete är nyckeln till framgång

Vi har också förbättrat säkerheten längs hela banan med fler kontrollpunkter och medicinsk personal på plats. Vårt mål är att skapa en utmanande men säker upplevelse för alla deltagare.`,image:"/images/AIM_lindvallen_2024_AnkiGrothe_highres_125.jpg",fullImage:"/images/AIM_lindvallen_2024_AnkiGrothe_highres_125.jpg"},{id:3,title:"Resultat från förra årets tävlingar",date:"10 januari 2025",content:`Nu finns alla resultat från förra årets tävlingar tillgängliga på vår hemsida. Kolla in hur du och ditt lag placerade er!

Förra årets AIM Challenge var en enorm framgång med rekordmånga deltagare. Vi vill gratulera alla vinnare och tacka samtliga deltagare för ert engagemang och er sportslighet.

Här är topplaceringarna från förra årets tävlingar:

Hemsedal:
- Herrar: 1. Erik Johansson, 2. Petter Nordlund, 3. Magnus Ek
- Damer: 1. Anna Lindberg, 2. Sofia Axelsson, 3. Emma Karlsson

Sälen:
- Herrar: 1. Johan Bergström, 2. Anders Nyström, 3. Karl Lundgren
- Damer: 1. Lina Ekström, 2. Maria Holmberg, 3. Johanna Wikström

Ulricehamn:
- Herrar: 1. Niklas Andersson, 2. Fredrik Lindholm, 3. Gustav Holm
- Damer: 1. Elin Sandberg, 2. Kristina Berg, 3. Maja Nilsson

Kolmården:
- Herrar: 1. Mikael Svensson, 2. David Karlsson, 3. Simon Lindgren
- Damer: 1. Sara Björk, 2. Hanna Lindqvist, 3. Klara Öberg

Fullständiga resultatlistor finns tillgängliga på vår hemsida under fliken "Resultat".`,image:"/images/EE-AIMChallenge24-Uhamn-0171-high.jpg",fullImage:"/images/EE-AIMChallenge24-Uhamn-0171-high.jpg"},{id:4,title:"Ny sponsor för AIM Challenge",date:"5 januari 2025",content:`Vi är glada att meddela att vi har fått en ny huvudsponsor för AIM Challenge 2025. Mer information kommer snart!

Den nya sponsorn kommer att bidra till att höja kvaliteten på våra evenemang ytterligare och möjliggöra fler spännande utmaningar och bättre priser för deltagarna.

Vi kommer att presentera vår nya huvudsponsor vid en presskonferens nästa vecka, så håll utkik efter mer information på vår hemsida och i våra sociala medier.

Detta partnerskap markerar början på ett nytt kapitel för AIM Challenge, och vi ser fram emot att tillsammans med vår nya sponsor ta tävlingen till nya höjder.`,image:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_094.jpg",fullImage:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_094.jpg"}];L.useEffect(()=>{if(s){const p=h.find(_=>_.id===parseInt(s));p&&r(p),u(!1)}},[s]);const g=()=>{e("/senaste-nytt")};return l?f.jsx("div",{className:"flex flex_col flex_a_C flex_j_C",style:{minHeight:"50vh"},children:f.jsx("p",{className:"fonts_large",children:"Laddar..."})}):n?f.jsxs("div",{className:"flex flex_col",children:[f.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",children:f.jsx("div",{className:"trans-background page_01box flex flex_col flex_j_SA",children:f.jsx("div",{className:"om-oss-title flex flex_j_C flex_a_C",children:f.jsx("p",{className:"font_blue fonts_huge font_white",children:"NYHETER"})})})}),f.jsx("section",{style:{padding:"50px 0",backgroundColor:"#f5f5f5",width:"100vw"},children:f.jsxs("div",{className:"MaxWH",style:{padding:"0 20px",maxWidth:"1000px",margin:"0 auto"},children:[f.jsxs("button",{onClick:g,className:"navbbutton button font_blue",style:{marginBottom:"20px",padding:"10px 30px 10px 20px",display:"flex",alignItems:"center",gap:"5px",minWidth:"120px"},children:[f.jsx("span",{children:"←"})," ",f.jsx("span",{children:"Tillbaka"})]}),f.jsxs("div",{style:{backgroundColor:"white",borderRadius:"8px",overflow:"hidden",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[f.jsx("div",{style:{height:"400px",backgroundImage:`url(${n.fullImage||n.image})`,backgroundSize:"cover",backgroundPosition:"center"}}),f.jsxs("div",{style:{padding:"30px"},children:[f.jsx("h1",{className:"fonts_large font_blue",style:{marginBottom:"10px"},children:n.title}),f.jsx("p",{className:"fonts_small",style:{color:"#666",marginBottom:"30px"},children:n.date}),n.content.split(`

`).map((p,_)=>f.jsx("p",{className:"fonts_small",style:{marginBottom:"20px"},children:p},_))]})]}),f.jsx("div",{style:{marginTop:"30px",textAlign:"center"},children:f.jsxs("button",{onClick:g,className:"navbbutton button font_blue",style:{padding:"10px 30px 10px 20px",display:"flex",alignItems:"center",gap:"5px",minWidth:"120px"},children:[f.jsx("span",{children:"←"})," ",f.jsx("span",{children:"Tillbaka"})]})})]})}),f.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",style:{height:"50vh",width:"100vw"}})]}):f.jsxs("div",{className:"flex flex_col flex_a_C flex_j_C",style:{minHeight:"50vh"},children:[f.jsx("p",{className:"fonts_large",children:"Nyheten kunde inte hittas"}),f.jsx("button",{onClick:g,className:"navbbutton button font_blue",style:{marginTop:"20px",padding:"10px 20px"},children:"Tillbaka till nyheter"})]})},p0=()=>{const[s,e]=L.useState(""),[n,r]=L.useState(""),[l,u]=L.useState(""),[h,g]=L.useState(!1),p=Sl(),{login:_,isAuthenticated:E}=vr();L.useEffect(()=>{E&&p("/")},[E,p]);const b=async A=>{A.preventDefault(),g(!0),u("");try{const C=await _(s,n);C.success?p("/"):u(C.message||"Ogiltigt e-post eller lösenord")}catch(C){console.error("Login error:",C),u("Ett fel uppstod vid inloggning. Försök igen.")}finally{g(!1)}};return f.jsxs("div",{className:"flex flex_col",children:[f.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",children:f.jsx("div",{className:"trans-background page_01box flex flex_col flex_j_SA",children:f.jsx("div",{className:"om-oss-title flex flex_j_C flex_a_C",children:f.jsx("p",{className:"font_blue fonts_huge font_white",children:"LOGGA IN"})})})}),f.jsx("section",{style:{padding:"50px 0",backgroundColor:"#f5f5f5",width:"100vw",minHeight:"60vh"},children:f.jsx("div",{className:"MaxWH",style:{padding:"0 20px",maxWidth:"500px",margin:"0 auto"},children:f.jsxs("div",{style:{backgroundColor:"white",borderRadius:"8px",overflow:"hidden",boxShadow:"0 4px 6px rgba(0,0,0,0.1)",padding:"30px"},children:[f.jsx("h2",{className:"fonts_medium font_blue",style:{marginBottom:"20px",textAlign:"center"},children:"Administratörsinloggning"}),l&&f.jsx("div",{style:{backgroundColor:"rgba(255, 0, 0, 0.1)",color:"#d32f2f",padding:"10px",borderRadius:"4px",marginBottom:"20px",textAlign:"center"},children:l}),f.jsxs("form",{onSubmit:b,children:[f.jsxs("div",{style:{marginBottom:"20px"},children:[f.jsx("label",{htmlFor:"email",className:"fonts_small",style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"E-post"}),f.jsx("input",{type:"email",id:"email",value:s,onChange:A=>e(A.target.value),required:!0,style:{width:"80%",padding:"10px 12px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"16px"}})]}),f.jsxs("div",{style:{marginBottom:"30px"},children:[f.jsx("label",{htmlFor:"password",className:"fonts_small",style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Lösenord"}),f.jsx("input",{type:"password",id:"password",value:n,onChange:A=>r(A.target.value),required:!0,style:{width:"80%",padding:"10px 12px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"16px"}})]}),f.jsx("button",{type:"submit",className:"navbbutton button font_blue",style:{width:"80%",padding:"10px 15px",fontSize:"16px",cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center"},disabled:h,children:h?"Loggar in...":"Logga in"})]}),f.jsxs("div",{style:{marginTop:"20px",textAlign:"center"},children:[f.jsx("p",{className:"fonts_small",style:{color:"#666"},children:"Detta är en inloggning endast för administratörer."}),f.jsx("p",{className:"fonts_small",style:{color:"#666",marginTop:"5px"},children:"Standard: admin@example.com / password123"})]})]})})}),f.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",style:{height:"30vh",width:"100vw"}})]})},MD=()=>{const{textContent:s,resetAllContent:e,removeContentItem:n,isAdmin:r}=xr(),{isAuthenticated:l}=vr(),[u,h]=L.useState(!1),[g,p]=L.useState(null),[_,E]=L.useState("all"),b=Sl();if(L.useEffect(()=>{(!l||!r)&&b("/")},[l,r,b]),!l||!r)return null;const A=()=>{h(!0),p(null)},C=ee=>{h(!0),p(ee)},D=()=>{g?n(g):e(),h(!1),p(null)},F=()=>{h(!1),p(null)},$=(()=>{const ee={text:{},image:{},background:{}};return Object.entries(s).forEach(([J,ie])=>{ie.startsWith("data:image")||ie.startsWith("http")||ie.startsWith("/")?J.includes("-bg")||J.includes("background")?ee.background[J]=ie:ee.image[J]=ie:ee.text[J]=ie}),ee})(),Q=_==="all"?s:$[_]||{};return f.jsxs("div",{className:"flex flex_col",style:{minHeight:"100vh"},children:[f.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",children:f.jsx("div",{className:"trans-background page_01box flex flex_col flex_j_SA",children:f.jsx("div",{className:"om-oss-title flex flex_j_C flex_a_C",children:f.jsx("p",{className:"font_blue fonts_huge",children:"Innehållshanterare"})})})}),f.jsxs("section",{style:{padding:"40px",maxWidth:"1200px",margin:"0 auto"},children:[f.jsxs("div",{style:{marginBottom:"30px",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"20px"},children:[f.jsx("h2",{className:"font_blue fonts_large",children:"Alla redigerbara innehåll"}),f.jsx("button",{onClick:A,style:{padding:"10px 20px",backgroundColor:"#ff4d4d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Återställ allt innehåll"})]}),f.jsxs("div",{style:{marginBottom:"30px",display:"flex",gap:"10px",flexWrap:"wrap"},children:[f.jsxs("button",{onClick:()=>E("all"),style:{padding:"8px 16px",backgroundColor:_==="all"?"#00a6fb":"#f0f0f0",color:_==="all"?"white":"black",border:"none",borderRadius:"4px",cursor:"pointer"},children:["Alla (",Object.keys(s).length,")"]}),f.jsxs("button",{onClick:()=>E("text"),style:{padding:"8px 16px",backgroundColor:_==="text"?"#00a6fb":"#f0f0f0",color:_==="text"?"white":"black",border:"none",borderRadius:"4px",cursor:"pointer"},children:["Texter (",Object.keys($.text).length,")"]}),f.jsxs("button",{onClick:()=>E("image"),style:{padding:"8px 16px",backgroundColor:_==="image"?"#00a6fb":"#f0f0f0",color:_==="image"?"white":"black",border:"none",borderRadius:"4px",cursor:"pointer"},children:["Bilder (",Object.keys($.image).length,")"]}),f.jsxs("button",{onClick:()=>E("background"),style:{padding:"8px 16px",backgroundColor:_==="background"?"#00a6fb":"#f0f0f0",color:_==="background"?"white":"black",border:"none",borderRadius:"4px",cursor:"pointer"},children:["Bakgrundsbilder (",Object.keys($.background).length,")"]})]}),u&&f.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.7)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:9999},children:f.jsxs("div",{style:{backgroundColor:"white",padding:"30px",borderRadius:"8px",maxWidth:"500px",width:"90%",textAlign:"center"},children:[f.jsx("h3",{style:{marginBottom:"20px",color:"#00a6fb"},children:"Bekräfta åtgärd"}),f.jsx("p",{style:{marginBottom:"30px"},children:g?`Är du säker på att du vill ta bort innehållet med nyckeln "${g}"?`:"Är du säker på att du vill återställa allt innehåll? Detta kan inte ångras."}),f.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"20px"},children:[f.jsx("button",{onClick:D,style:{padding:"10px 20px",backgroundColor:"#ff4d4d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:g?"Ta bort":"Återställ allt"}),f.jsx("button",{onClick:F,style:{padding:"10px 20px",backgroundColor:"#ccc",color:"black",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Avbryt"})]})]})}),Object.keys(Q).length===0?f.jsxs("p",{children:["Inga redigerade ",_==="text"?"texter":_==="image"?"bilder":_==="background"?"bakgrundsbilder":"innehåll"," ännu."]}):f.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"20px"},children:Object.entries(Q).map(([ee,J])=>{const ie=J.startsWith("data:image")||J.startsWith("http")||J.startsWith("/"),O=ee.includes("-bg")||ee.includes("background");return f.jsxs("div",{style:{border:"1px solid #ddd",borderRadius:"8px",padding:"15px",backgroundColor:"white",boxShadow:"0 2px 4px rgba(0,0,0,0.05)"},children:[f.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:[f.jsx("h3",{className:"font_blue fonts_medium",style:{wordBreak:"break-all",fontSize:"16px"},children:ee}),f.jsx("span",{style:{padding:"3px 8px",borderRadius:"4px",fontSize:"12px",backgroundColor:O?"#6c5ce7":ie?"#00b894":"#0984e3",color:"white"},children:O?"Bakgrund":ie?"Bild":"Text"})]}),f.jsx("div",{style:{marginBottom:"10px"},children:ie?f.jsxs("div",{children:[f.jsx("img",{src:J,alt:ee,style:{width:"100%",height:O?"150px":"auto",maxHeight:"150px",objectFit:O?"cover":"contain",borderRadius:"4px",border:"1px solid #eee"}}),O&&f.jsx("div",{style:{marginTop:"5px",fontSize:"12px",color:"#666",textAlign:"center"},children:"Bakgrundsbild"})]}):f.jsx("p",{style:{maxHeight:"100px",overflow:"auto",backgroundColor:"#f5f5f5",padding:"10px",borderRadius:"4px",fontSize:"14px"},children:J})}),f.jsx("button",{onClick:()=>C(ee),style:{width:"100%",padding:"8px",backgroundColor:"#ff4d4d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px"},children:"Ta bort"})]},ee)})})]})]})},LD=({children:s,requireAdmin:e=!1})=>{const{isAuthenticated:n,currentUser:r}=vr();return n?e&&(r==null?void 0:r.role)!=="admin"?f.jsx(Ov,{to:"/"}):s:f.jsx(Ov,{to:"/login"})},VD=()=>{const{isAdmin:s,getText:e}=xr();return L.useEffect(()=>{if(s)return document.body.classList.add("admin-editing-mode"),()=>{document.body.classList.remove("admin-editing-mode")}},[s]),L.useEffect(()=>{const n=()=>{const r=JSON.parse(localStorage.getItem("textContent")||"{}"),l=Object.keys(r).filter(h=>h.startsWith("bg-")&&(h.endsWith("-type")||h.endsWith("-image"))),u={};l.forEach(h=>{const g=h.split("-type")[0].split("-image")[0];u[g]||(u[g]={}),h.endsWith("-type")?u[g].type=r[h]:h.endsWith("-image")&&(u[g].image=r[h])}),Object.keys(u).forEach(h=>{const g=document.getElementById(h);if(!g)return;const p=u[h];p.type&&(g.classList.remove("simple-background","locked-background"),g.classList.add(`${p.type}-background`),p.type==="locked"?g.style.backgroundAttachment="fixed":g.style.backgroundAttachment="scroll"),p.image&&(g.style.backgroundImage=`url('${p.image}')`,g.style.backgroundSize="cover",g.style.backgroundPosition="center",g.style.backgroundRepeat="no-repeat")})};return n(),window.addEventListener("storage",n),()=>{window.removeEventListener("storage",n)}},[]),null},PD=()=>{const{isAdmin:s,getText:e,updateText:n}=xr(),[r,l]=L.useState(null),[u,h]=L.useState(null),[g,p]=L.useState(!1),[_,E]=L.useState("simple"),[b,A]=L.useState("type"),[C,D]=L.useState(""),F=L.useRef(null);L.useEffect(()=>{if(!s)return;const ee=J=>{if(J.target.classList.contains("simple-background")||J.target.classList.contains("locked-background")||J.target.classList.contains("dynamic-background")||[...J.target.classList].some(O=>O.includes("-bg"))){J.stopPropagation(),l(J.target);let O=J.target.id;O||(O=`bg-${Date.now()}`,J.target.id=O),h(O);const R=e(`${O}-type`,null);R?E(R):J.target.classList.contains("locked-background")?E("locked"):E("simple");const S=e(`${O}-image`,null);if(S)D(S);else{let k=window.getComputedStyle(J.target).backgroundImage;k&&k!=="none"?(k=k.replace(/url\(['"]?(.*?)['"]?\)/i,"$1"),D(k)):D("")}p(!0)}};return document.addEventListener("click",ee),()=>{document.removeEventListener("click",ee)}},[s,e]);const U=()=>{!r||!u||(r.classList.remove("simple-background","locked-background"),r.classList.add(`${_}-background`),_==="locked"?r.style.backgroundAttachment="fixed":r.style.backgroundAttachment="scroll",n(`${u}-type`,_))},$=()=>{!r||!C||!u||(r.style.backgroundImage=`url('${C}')`,r.style.backgroundSize="cover",r.style.backgroundPosition="center",r.style.backgroundRepeat="no-repeat",n(`${u}-image`,C))},z=ee=>{const J=ee.target.files[0];if(!J)return;const ie=URL.createObjectURL(J);D(ie);const O=new FileReader;O.onloadend=()=>{D(O.result)},O.readAsDataURL(J)},Q=()=>{U(),$(),p(!1)};return!s||!g?null:f.jsx("div",{className:"background-settings-modal",onClick:()=>p(!1),children:f.jsxs("div",{className:"background-settings-content",onClick:ee=>ee.stopPropagation(),children:[f.jsx("h3",{children:"Background Settings"}),f.jsxs("div",{className:"settings-tabs",children:[f.jsx("button",{className:`tab-button ${b==="type"?"active":""}`,onClick:()=>A("type"),children:"Background Type"}),f.jsx("button",{className:`tab-button ${b==="image"?"active":""}`,onClick:()=>A("image"),children:"Background Image"})]}),b==="type"&&f.jsxs("div",{className:"background-type-options",children:[f.jsx("div",{className:"form-group",children:f.jsxs("label",{children:[f.jsx("input",{type:"radio",name:"backgroundType",value:"simple",checked:_==="simple",onChange:()=>E("simple")}),"Simple (Scrolls with content)"]})}),f.jsx("div",{className:"form-group",children:f.jsxs("label",{children:[f.jsx("input",{type:"radio",name:"backgroundType",value:"locked",checked:_==="locked",onChange:()=>E("locked")}),"Locked (Fixed when scrolling)"]})})]}),b==="image"&&f.jsxs("div",{className:"background-image-options",children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"imageUrl",children:"Image URL:"}),f.jsx("input",{type:"text",id:"imageUrl",value:C,onChange:ee=>D(ee.target.value),placeholder:"Enter image URL",className:"image-url-input"})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Or upload an image:"}),f.jsx("input",{type:"file",accept:"image/*",onChange:z,ref:F,className:"file-input"}),f.jsx("button",{className:"upload-button",onClick:()=>F.current.click(),children:"Choose File"})]}),C&&f.jsxs("div",{className:"image-preview",children:[f.jsx("p",{children:"Preview:"}),f.jsx("img",{src:C,alt:"Background preview"})]})]}),f.jsxs("div",{className:"button-group",children:[f.jsx("button",{className:"cancel-button",onClick:()=>p(!1),children:"Cancel"}),f.jsx("button",{className:"apply-button",onClick:Q,children:"Apply"})]})]})})},UD=async(s,e,n="Admin")=>{try{const l=(await Uj(mh,s,e)).user;return await zj(l,{displayName:n}),await xu(mr(ca,"users",l.uid),{email:s,displayName:n,role:"admin",createdAt:new Date}),{success:!0,user:{uid:l.uid,email:l.email,displayName:n,role:"admin"}}}catch(r){return console.error("Error creating admin user:",r),{success:!1,error:r.message}}},HD=async()=>{try{(await ep(mr(ca,"settings","admin"))).exists()||(await UD("admin@example.com","password123")).success&&(await xu(mr(ca,"settings","admin"),{initialized:!0,adminEmail:"admin@example.com",createdAt:new Date}),console.log("Admin user initialized successfully"))}catch(s){console.error("Error initializing admin user:",s)}},BD=()=>(L.useEffect(()=>{HD().then(()=>console.log("Admin user initialized")).catch(s=>console.error("Error initializing admin user:",s))},[]),f.jsx(iD,{children:f.jsx(hD,{children:f.jsx(ww,{children:f.jsxs("div",{className:"flex flex_col MaxWH location",style:{width:"100%",maxWidth:"100%",overflow:"hidden",margin:0,padding:0,display:"flex",flexDirection:"column",position:"relative"},children:[f.jsx(dD,{}),f.jsx(VD,{}),f.jsx(PD,{}),f.jsx("div",{style:{margin:0,padding:0,width:"100%",position:"relative",top:0},children:f.jsxs(nw,{children:[f.jsx(bt,{path:"/",element:f.jsx(mD,{})}),f.jsx(bt,{path:"/competitions",element:f.jsx(gD,{})}),f.jsx(bt,{path:"/ulricehamn",element:f.jsx(pD,{})}),f.jsx(bt,{path:"/salen",element:f.jsx(_D,{})}),f.jsx(bt,{path:"/hemsedal",element:f.jsx(yD,{})}),f.jsx(bt,{path:"/kolmarden",element:f.jsx(vD,{})}),f.jsx(bt,{path:"/trippeln",element:f.jsx(xD,{})}),f.jsx(bt,{path:"/trippeln-results",element:f.jsx(ED,{})}),f.jsx(bt,{path:"/results",element:f.jsx(TD,{})}),f.jsx(bt,{path:"/gallery",element:f.jsxs(f.Fragment,{children:[f.jsx(bD,{}),f.jsx(AD,{})]})}),f.jsx(bt,{path:"/om-oss",element:f.jsx(SD,{})}),f.jsx(bt,{path:"/regler",element:f.jsx(wD,{})}),f.jsx(bt,{path:"/faq",element:f.jsx(ND,{})}),f.jsx(bt,{path:"/historien-om-aim",element:f.jsx(kD,{})}),f.jsx(bt,{path:"/senaste-nytt",element:f.jsx(DD,{})}),f.jsx(bt,{path:"/news/:id",element:f.jsx(OD,{})}),f.jsx(bt,{path:"/login",element:f.jsx(p0,{})}),f.jsx(bt,{path:"login",element:f.jsx(p0,{})}),f.jsx(bt,{path:"/content-manager",element:f.jsx(LD,{requireAdmin:!0,children:f.jsx(MD,{})})})]})}),f.jsx(fD,{})]})})})}));(function(){const s=sessionStorage.redirect;delete sessionStorage.redirect,s&&s!==location.href&&history.replaceState(null,null,s)})();const zD=document.getElementById("root");hS.createRoot(zD).render(f.jsx(sS.StrictMode,{children:f.jsx(BD,{})}));
