(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();function dg(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var gm={exports:{}},Vo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sv;function ZA(){if(Sv)return Vo;Sv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var m in l)m!=="key"&&(c[m]=l[m])}else c=l;return l=c.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:c}}return Vo.Fragment=e,Vo.jsx=n,Vo.jsxs=n,Vo}var Nv;function JA(){return Nv||(Nv=1,gm.exports=ZA()),gm.exports}var u=JA(),pm={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rv;function ew(){if(Rv)return Ce;Rv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),T=Symbol.iterator;function w(j){return j===null||typeof j!="object"?null:(j=T&&j[T]||j["@@iterator"],typeof j=="function"?j:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,q={};function M(j,ie,me){this.props=j,this.context=ie,this.refs=q,this.updater=me||C}M.prototype.isReactComponent={},M.prototype.setState=function(j,ie){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,ie,"setState")},M.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function z(){}z.prototype=M.prototype;function G(j,ie,me){this.props=j,this.context=ie,this.refs=q,this.updater=me||C}var Q=G.prototype=new z;Q.constructor=G,D(Q,M.prototype),Q.isPureReactComponent=!0;var J=Array.isArray,te={H:null,A:null,T:null,S:null},ce=Object.prototype.hasOwnProperty;function L(j,ie,me,ue,he,ke){return me=ke.ref,{$$typeof:s,type:j,key:ie,ref:me!==void 0?me:null,props:ke}}function N(j,ie){return L(j.type,ie,void 0,void 0,void 0,j.props)}function S(j){return typeof j=="object"&&j!==null&&j.$$typeof===s}function R(j){var ie={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(me){return ie[me]})}var O=/\/+/g;function H(j,ie){return typeof j=="object"&&j!==null&&j.key!=null?R(""+j.key):ie.toString(36)}function I(){}function it(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(I,I):(j.status="pending",j.then(function(ie){j.status==="pending"&&(j.status="fulfilled",j.value=ie)},function(ie){j.status==="pending"&&(j.status="rejected",j.reason=ie)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function et(j,ie,me,ue,he){var ke=typeof j;(ke==="undefined"||ke==="boolean")&&(j=null);var Ae=!1;if(j===null)Ae=!0;else switch(ke){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(j.$$typeof){case s:case e:Ae=!0;break;case x:return Ae=j._init,et(Ae(j._payload),ie,me,ue,he)}}if(Ae)return he=he(j),Ae=ue===""?"."+H(j,0):ue,J(he)?(me="",Ae!=null&&(me=Ae.replace(O,"$&/")+"/"),et(he,ie,me,"",function(ct){return ct})):he!=null&&(S(he)&&(he=N(he,me+(he.key==null||j&&j.key===he.key?"":(""+he.key).replace(O,"$&/")+"/")+Ae)),ie.push(he)),1;Ae=0;var vt=ue===""?".":ue+":";if(J(j))for(var ze=0;ze<j.length;ze++)ue=j[ze],ke=vt+H(ue,ze),Ae+=et(ue,ie,me,ke,he);else if(ze=w(j),typeof ze=="function")for(j=ze.call(j),ze=0;!(ue=j.next()).done;)ue=ue.value,ke=vt+H(ue,ze++),Ae+=et(ue,ie,me,ke,he);else if(ke==="object"){if(typeof j.then=="function")return et(it(j),ie,me,ue,he);throw ie=String(j),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function le(j,ie,me){if(j==null)return j;var ue=[],he=0;return et(j,ue,"","",function(ke){return ie.call(me,ke,he++)}),ue}function ve(j){if(j._status===-1){var ie=j._result;ie=ie(),ie.then(function(me){(j._status===0||j._status===-1)&&(j._status=1,j._result=me)},function(me){(j._status===0||j._status===-1)&&(j._status=2,j._result=me)}),j._status===-1&&(j._status=0,j._result=ie)}if(j._status===1)return j._result.default;throw j._result}var oe=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)};function Re(){}return Ce.Children={map:le,forEach:function(j,ie,me){le(j,function(){ie.apply(this,arguments)},me)},count:function(j){var ie=0;return le(j,function(){ie++}),ie},toArray:function(j){return le(j,function(ie){return ie})||[]},only:function(j){if(!S(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},Ce.Component=M,Ce.Fragment=n,Ce.Profiler=l,Ce.PureComponent=G,Ce.StrictMode=a,Ce.Suspense=p,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=te,Ce.act=function(){throw Error("act(...) is not supported in production builds of React.")},Ce.cache=function(j){return function(){return j.apply(null,arguments)}},Ce.cloneElement=function(j,ie,me){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var ue=D({},j.props),he=j.key,ke=void 0;if(ie!=null)for(Ae in ie.ref!==void 0&&(ke=void 0),ie.key!==void 0&&(he=""+ie.key),ie)!ce.call(ie,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&ie.ref===void 0||(ue[Ae]=ie[Ae]);var Ae=arguments.length-2;if(Ae===1)ue.children=me;else if(1<Ae){for(var vt=Array(Ae),ze=0;ze<Ae;ze++)vt[ze]=arguments[ze+2];ue.children=vt}return L(j.type,he,void 0,void 0,ke,ue)},Ce.createContext=function(j){return j={$$typeof:d,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:c,_context:j},j},Ce.createElement=function(j,ie,me){var ue,he={},ke=null;if(ie!=null)for(ue in ie.key!==void 0&&(ke=""+ie.key),ie)ce.call(ie,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(he[ue]=ie[ue]);var Ae=arguments.length-2;if(Ae===1)he.children=me;else if(1<Ae){for(var vt=Array(Ae),ze=0;ze<Ae;ze++)vt[ze]=arguments[ze+2];he.children=vt}if(j&&j.defaultProps)for(ue in Ae=j.defaultProps,Ae)he[ue]===void 0&&(he[ue]=Ae[ue]);return L(j,ke,void 0,void 0,null,he)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(j){return{$$typeof:m,render:j}},Ce.isValidElement=S,Ce.lazy=function(j){return{$$typeof:x,_payload:{_status:-1,_result:j},_init:ve}},Ce.memo=function(j,ie){return{$$typeof:_,type:j,compare:ie===void 0?null:ie}},Ce.startTransition=function(j){var ie=te.T,me={};te.T=me;try{var ue=j(),he=te.S;he!==null&&he(me,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(Re,oe)}catch(ke){oe(ke)}finally{te.T=ie}},Ce.unstable_useCacheRefresh=function(){return te.H.useCacheRefresh()},Ce.use=function(j){return te.H.use(j)},Ce.useActionState=function(j,ie,me){return te.H.useActionState(j,ie,me)},Ce.useCallback=function(j,ie){return te.H.useCallback(j,ie)},Ce.useContext=function(j){return te.H.useContext(j)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(j,ie){return te.H.useDeferredValue(j,ie)},Ce.useEffect=function(j,ie){return te.H.useEffect(j,ie)},Ce.useId=function(){return te.H.useId()},Ce.useImperativeHandle=function(j,ie,me){return te.H.useImperativeHandle(j,ie,me)},Ce.useInsertionEffect=function(j,ie){return te.H.useInsertionEffect(j,ie)},Ce.useLayoutEffect=function(j,ie){return te.H.useLayoutEffect(j,ie)},Ce.useMemo=function(j,ie){return te.H.useMemo(j,ie)},Ce.useOptimistic=function(j,ie){return te.H.useOptimistic(j,ie)},Ce.useReducer=function(j,ie,me){return te.H.useReducer(j,ie,me)},Ce.useRef=function(j){return te.H.useRef(j)},Ce.useState=function(j){return te.H.useState(j)},Ce.useSyncExternalStore=function(j,ie,me){return te.H.useSyncExternalStore(j,ie,me)},Ce.useTransition=function(){return te.H.useTransition()},Ce.version="19.0.0",Ce}var kv;function fg(){return kv||(kv=1,pm.exports=ew()),pm.exports}var V=fg();const tw=dg(V);var _m={exports:{}},Po={},ym={exports:{}},vm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cv;function nw(){return Cv||(Cv=1,function(s){function e(le,ve){var oe=le.length;le.push(ve);e:for(;0<oe;){var Re=oe-1>>>1,j=le[Re];if(0<l(j,ve))le[Re]=ve,le[oe]=j,oe=Re;else break e}}function n(le){return le.length===0?null:le[0]}function a(le){if(le.length===0)return null;var ve=le[0],oe=le.pop();if(oe!==ve){le[0]=oe;e:for(var Re=0,j=le.length,ie=j>>>1;Re<ie;){var me=2*(Re+1)-1,ue=le[me],he=me+1,ke=le[he];if(0>l(ue,oe))he<j&&0>l(ke,ue)?(le[Re]=ke,le[he]=oe,Re=he):(le[Re]=ue,le[me]=oe,Re=me);else if(he<j&&0>l(ke,oe))le[Re]=ke,le[he]=oe,Re=he;else break e}}return ve}function l(le,ve){var oe=le.sortIndex-ve.sortIndex;return oe!==0?oe:le.id-ve.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,m=d.now();s.unstable_now=function(){return d.now()-m}}var p=[],_=[],x=1,T=null,w=3,C=!1,D=!1,q=!1,M=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function Q(le){for(var ve=n(_);ve!==null;){if(ve.callback===null)a(_);else if(ve.startTime<=le)a(_),ve.sortIndex=ve.expirationTime,e(p,ve);else break;ve=n(_)}}function J(le){if(q=!1,Q(le),!D)if(n(p)!==null)D=!0,it();else{var ve=n(_);ve!==null&&et(J,ve.startTime-le)}}var te=!1,ce=-1,L=5,N=-1;function S(){return!(s.unstable_now()-N<L)}function R(){if(te){var le=s.unstable_now();N=le;var ve=!0;try{e:{D=!1,q&&(q=!1,z(ce),ce=-1),C=!0;var oe=w;try{t:{for(Q(le),T=n(p);T!==null&&!(T.expirationTime>le&&S());){var Re=T.callback;if(typeof Re=="function"){T.callback=null,w=T.priorityLevel;var j=Re(T.expirationTime<=le);if(le=s.unstable_now(),typeof j=="function"){T.callback=j,Q(le),ve=!0;break t}T===n(p)&&a(p),Q(le)}else a(p);T=n(p)}if(T!==null)ve=!0;else{var ie=n(_);ie!==null&&et(J,ie.startTime-le),ve=!1}}break e}finally{T=null,w=oe,C=!1}ve=void 0}}finally{ve?O():te=!1}}}var O;if(typeof G=="function")O=function(){G(R)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,I=H.port2;H.port1.onmessage=R,O=function(){I.postMessage(null)}}else O=function(){M(R,0)};function it(){te||(te=!0,O())}function et(le,ve){ce=M(function(){le(s.unstable_now())},ve)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(le){le.callback=null},s.unstable_continueExecution=function(){D||C||(D=!0,it())},s.unstable_forceFrameRate=function(le){0>le||125<le?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<le?Math.floor(1e3/le):5},s.unstable_getCurrentPriorityLevel=function(){return w},s.unstable_getFirstCallbackNode=function(){return n(p)},s.unstable_next=function(le){switch(w){case 1:case 2:case 3:var ve=3;break;default:ve=w}var oe=w;w=ve;try{return le()}finally{w=oe}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(le,ve){switch(le){case 1:case 2:case 3:case 4:case 5:break;default:le=3}var oe=w;w=le;try{return ve()}finally{w=oe}},s.unstable_scheduleCallback=function(le,ve,oe){var Re=s.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?Re+oe:Re):oe=Re,le){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=oe+j,le={id:x++,callback:ve,priorityLevel:le,startTime:oe,expirationTime:j,sortIndex:-1},oe>Re?(le.sortIndex=oe,e(_,le),n(p)===null&&le===n(_)&&(q?(z(ce),ce=-1):q=!0,et(J,oe-Re))):(le.sortIndex=j,e(p,le),D||C||(D=!0,it())),le},s.unstable_shouldYield=S,s.unstable_wrapCallback=function(le){var ve=w;return function(){var oe=w;w=ve;try{return le.apply(this,arguments)}finally{w=oe}}}}(vm)),vm}var Iv;function sw(){return Iv||(Iv=1,ym.exports=nw()),ym.exports}var xm={exports:{}},Xt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jv;function iw(){if(jv)return Xt;jv=1;var s=fg();function e(p){var _="https://react.dev/errors/"+p;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)_+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+p+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(p,_,x){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:T==null?null:""+T,children:p,containerInfo:_,implementation:x}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,_){if(p==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Xt.createPortal=function(p,_){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(p,_,null,x)},Xt.flushSync=function(p){var _=d.T,x=a.p;try{if(d.T=null,a.p=2,p)return p()}finally{d.T=_,a.p=x,a.d.f()}},Xt.preconnect=function(p,_){typeof p=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(p,_))},Xt.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},Xt.preinit=function(p,_){if(typeof p=="string"&&_&&typeof _.as=="string"){var x=_.as,T=m(x,_.crossOrigin),w=typeof _.integrity=="string"?_.integrity:void 0,C=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;x==="style"?a.d.S(p,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:T,integrity:w,fetchPriority:C}):x==="script"&&a.d.X(p,{crossOrigin:T,integrity:w,fetchPriority:C,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Xt.preinitModule=function(p,_){if(typeof p=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var x=m(_.as,_.crossOrigin);a.d.M(p,{crossOrigin:x,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(p)},Xt.preload=function(p,_){if(typeof p=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var x=_.as,T=m(x,_.crossOrigin);a.d.L(p,x,{crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Xt.preloadModule=function(p,_){if(typeof p=="string")if(_){var x=m(_.as,_.crossOrigin);a.d.m(p,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:x,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(p)},Xt.requestFormReset=function(p){a.d.r(p)},Xt.unstable_batchedUpdates=function(p,_){return p(_)},Xt.useFormState=function(p,_,x){return d.H.useFormState(p,_,x)},Xt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Xt.version="19.0.0",Xt}var Dv;function b0(){if(Dv)return xm.exports;Dv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),xm.exports=iw(),xm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ov;function aw(){if(Ov)return Po;Ov=1;var s=sw(),e=fg(),n=b0();function a(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)i+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var c=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),C=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),Q=Symbol.for("react.offscreen"),J=Symbol.for("react.memo_cache_sentinel"),te=Symbol.iterator;function ce(t){return t===null||typeof t!="object"?null:(t=te&&t[te]||t["@@iterator"],typeof t=="function"?t:null)}var L=Symbol.for("react.client.reference");function N(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===L?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case p:return"Fragment";case m:return"Portal";case x:return"Profiler";case _:return"StrictMode";case q:return"Suspense";case M:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case C:return(t.displayName||"Context")+".Provider";case w:return(t._context.displayName||"Context")+".Consumer";case D:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case z:return i=t.displayName||null,i!==null?i:N(t.type)||"Memo";case G:i=t._payload,t=t._init;try{return N(t(i))}catch{}}return null}var S=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R=Object.assign,O,H;function I(t){if(O===void 0)try{throw Error()}catch(r){var i=r.stack.trim().match(/\n( *(at )?)/);O=i&&i[1]||"",H=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+O+t+H}var it=!1;function et(t,i){if(!t||it)return"";it=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(X){var Y=X}Reflect.construct(t,[],ae)}else{try{ae.call()}catch(X){Y=X}t.call(ae.prototype)}}else{try{throw Error()}catch(X){Y=X}(ae=t())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(X){if(X&&Y&&typeof X.stack=="string")return[X.stack,Y.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=o.DetermineComponentFrameRoot(),E=g[0],b=g[1];if(E&&b){var k=E.split(`
`),B=b.split(`
`);for(f=o=0;o<k.length&&!k[o].includes("DetermineComponentFrameRoot");)o++;for(;f<B.length&&!B[f].includes("DetermineComponentFrameRoot");)f++;if(o===k.length||f===B.length)for(o=k.length-1,f=B.length-1;1<=o&&0<=f&&k[o]!==B[f];)f--;for(;1<=o&&0<=f;o--,f--)if(k[o]!==B[f]){if(o!==1||f!==1)do if(o--,f--,0>f||k[o]!==B[f]){var Z=`
`+k[o].replace(" at new "," at ");return t.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",t.displayName)),Z}while(1<=o&&0<=f);break}}}finally{it=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?I(r):""}function le(t){switch(t.tag){case 26:case 27:case 5:return I(t.type);case 16:return I("Lazy");case 13:return I("Suspense");case 19:return I("SuspenseList");case 0:case 15:return t=et(t.type,!1),t;case 11:return t=et(t.type.render,!1),t;case 1:return t=et(t.type,!0),t;default:return""}}function ve(t){try{var i="";do i+=le(t),t=t.return;while(t);return i}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function oe(t){var i=t,r=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(r=i.return),t=i.return;while(t)}return i.tag===3?r:null}function Re(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function j(t){if(oe(t)!==t)throw Error(a(188))}function ie(t){var i=t.alternate;if(!i){if(i=oe(t),i===null)throw Error(a(188));return i!==t?null:t}for(var r=t,o=i;;){var f=r.return;if(f===null)break;var g=f.alternate;if(g===null){if(o=f.return,o!==null){r=o;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===r)return j(f),t;if(g===o)return j(f),i;g=g.sibling}throw Error(a(188))}if(r.return!==o.return)r=f,o=g;else{for(var E=!1,b=f.child;b;){if(b===r){E=!0,r=f,o=g;break}if(b===o){E=!0,o=f,r=g;break}b=b.sibling}if(!E){for(b=g.child;b;){if(b===r){E=!0,r=g,o=f;break}if(b===o){E=!0,o=g,r=f;break}b=b.sibling}if(!E)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:i}function me(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=me(t),i!==null)return i;t=t.sibling}return null}var ue=Array.isArray,he=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ke={pending:!1,data:null,method:null,action:null},Ae=[],vt=-1;function ze(t){return{current:t}}function ct(t){0>vt||(t.current=Ae[vt],Ae[vt]=null,vt--)}function Qe(t,i){vt++,Ae[vt]=t.current,t.current=i}var an=ze(null),ks=ze(null),Rn=ze(null),gi=ze(null);function pi(t,i){switch(Qe(Rn,i),Qe(ks,t),Qe(an,null),t=i.nodeType,t){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?tv(i):0;break;default:if(t=t===8?i.parentNode:i,i=t.tagName,t=t.namespaceURI)t=tv(t),i=nv(t,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ct(an),Qe(an,i)}function Cs(){ct(an),ct(ks),ct(Rn)}function Il(t){t.memoizedState!==null&&Qe(gi,t);var i=an.current,r=nv(i,t.type);i!==r&&(Qe(ks,t),Qe(an,r))}function gr(t){ks.current===t&&(ct(an),ct(ks)),gi.current===t&&(ct(gi),jo._currentValue=ke)}var pr=Object.prototype.hasOwnProperty,xa=s.unstable_scheduleCallback,_r=s.unstable_cancelCallback,pd=s.unstable_shouldYield,jl=s.unstable_requestPaint,dn=s.unstable_now,Rc=s.unstable_getCurrentPriorityLevel,wt=s.unstable_ImmediatePriority,Ot=s.unstable_UserBlockingPriority,Is=s.unstable_NormalPriority,kc=s.unstable_LowPriority,Dl=s.unstable_IdlePriority,_d=s.log,Ea=s.unstable_setDisableYieldValue,_i=null,Yt=null;function Ol(t){if(Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(_i,t,void 0,(t.current.flags&128)===128)}catch{}}function is(t){if(typeof _d=="function"&&Ea(t),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode(_i,t)}catch{}}var rn=Math.clz32?Math.clz32:Ic,Ml=Math.log,Cc=Math.LN2;function Ic(t){return t>>>=0,t===0?32:31-(Ml(t)/Cc|0)|0}var as=128,yi=4194304;function $n(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function kn(t,i){var r=t.pendingLanes;if(r===0)return 0;var o=0,f=t.suspendedLanes,g=t.pingedLanes,E=t.warmLanes;t=t.finishedLanes!==0;var b=r&134217727;return b!==0?(r=b&~f,r!==0?o=$n(r):(g&=b,g!==0?o=$n(g):t||(E=b&~E,E!==0&&(o=$n(E))))):(b=r&~f,b!==0?o=$n(b):g!==0?o=$n(g):t||(E=r&~E,E!==0&&(o=$n(E)))),o===0?0:i!==0&&i!==o&&(i&f)===0&&(f=o&-o,E=i&-i,f>=E||f===32&&(E&4194176)!==0)?i:o}function vi(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function yr(t,i){switch(t){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ll(){var t=as;return as<<=1,(as&4194176)===0&&(as=128),t}function xi(){var t=yi;return yi<<=1,(yi&62914560)===0&&(yi=4194304),t}function vr(t){for(var i=[],r=0;31>r;r++)i.push(t);return i}function pt(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function jc(t,i,r,o,f,g){var E=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var b=t.entanglements,k=t.expirationTimes,B=t.hiddenUpdates;for(r=E&~r;0<r;){var Z=31-rn(r),ae=1<<Z;b[Z]=0,k[Z]=-1;var Y=B[Z];if(Y!==null)for(B[Z]=null,Z=0;Z<Y.length;Z++){var X=Y[Z];X!==null&&(X.lane&=-536870913)}r&=~ae}o!==0&&Ei(t,o,0),g!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=g&~(E&~i))}function Ei(t,i,r){t.pendingLanes|=i,t.suspendedLanes&=~i;var o=31-rn(i);t.entangledLanes|=i,t.entanglements[o]=t.entanglements[o]|1073741824|r&4194218}function Ti(t,i){var r=t.entangledLanes|=i;for(t=t.entanglements;r;){var o=31-rn(r),f=1<<o;f&i|t[o]&i&&(t[o]|=i),r&=~f}}function Dc(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Oc(){var t=he.p;return t!==0?t:(t=window.event,t===void 0?32:xv(t.type))}function bi(t,i){var r=he.p;try{return he.p=t,i()}finally{he.p=r}}var rs=Math.random().toString(36).slice(2),Mt="__reactFiber$"+rs,St="__reactProps$"+rs,js="__reactContainer$"+rs,Ta="__reactEvents$"+rs,xr="__reactListeners$"+rs,ls="__reactHandles$"+rs,Vl="__reactResources$"+rs,Ai="__reactMarker$"+rs;function ba(t){delete t[Mt],delete t[St],delete t[Ta],delete t[xr],delete t[ls]}function Qn(t){var i=t[Mt];if(i)return i;for(var r=t.parentNode;r;){if(i=r[js]||r[Mt]){if(r=i.alternate,i.child!==null||r!==null&&r.child!==null)for(t=av(t);t!==null;){if(r=t[Mt])return r;t=av(t)}return i}t=r,r=t.parentNode}return null}function Ds(t){if(t=t[Mt]||t[js]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function wi(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(a(33))}function Si(t){var i=t[Vl];return i||(i=t[Vl]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function at(t){t[Ai]=!0}var Pl=new Set,Er={};function yn(t,i){fn(t,i),fn(t+"Capture",i)}function fn(t,i){for(Er[t]=i,t=0;t<i.length;t++)Pl.add(i[t])}var vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yd=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ul={},Bl={};function Mc(t){return pr.call(Bl,t)?!0:pr.call(Ul,t)?!1:yd.test(t)?Bl[t]=!0:(Ul[t]=!0,!1)}function Ni(t,i,r){if(Mc(i))if(r===null)t.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+r)}}function Ri(t,i,r){if(r===null)t.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+r)}}function Cn(t,i,r,o){if(o===null)t.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(i,r,""+o)}}function ln(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Lc(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function vd(t){var i=Lc(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),o=""+t[i];if(!t.hasOwnProperty(i)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var f=r.get,g=r.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(E){o=""+E,g.call(this,E)}}),Object.defineProperty(t,i,{enumerable:r.enumerable}),{getValue:function(){return o},setValue:function(E){o=""+E},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Aa(t){t._valueTracker||(t._valueTracker=vd(t))}function Hl(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var r=i.getValue(),o="";return t&&(o=Lc(t)?t.checked?"true":"false":t.value),t=o,t!==r?(i.setValue(t),!0):!1}function Tr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Os=/[\n"\\]/g;function ut(t){return t.replace(Os,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ki(t,i,r,o,f,g,E,b){t.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.type=E:t.removeAttribute("type"),i!=null?E==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+ln(i)):t.value!==""+ln(i)&&(t.value=""+ln(i)):E!=="submit"&&E!=="reset"||t.removeAttribute("value"),i!=null?br(t,E,ln(i)):r!=null?br(t,E,ln(r)):o!=null&&t.removeAttribute("value"),f==null&&g!=null&&(t.defaultChecked=!!g),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+ln(b):t.removeAttribute("name")}function wa(t,i,r,o,f,g,E,b){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.type=g),i!=null||r!=null){if(!(g!=="submit"&&g!=="reset"||i!=null))return;r=r!=null?""+ln(r):"",i=i!=null?""+ln(i):r,b||i===t.value||(t.value=i),t.defaultValue=i}o=o??f,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=b?t.checked:!!o,t.defaultChecked=!!o,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(t.name=E)}function br(t,i,r){i==="number"&&Tr(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function qe(t,i,r,o){if(t=t.options,i){i={};for(var f=0;f<r.length;f++)i["$"+r[f]]=!0;for(r=0;r<t.length;r++)f=i.hasOwnProperty("$"+t[r].value),t[r].selected!==f&&(t[r].selected=f),f&&o&&(t[r].defaultSelected=!0)}else{for(r=""+ln(r),i=null,f=0;f<t.length;f++){if(t[f].value===r){t[f].selected=!0,o&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function Sa(t,i,r){if(i!=null&&(i=""+ln(i),i!==t.value&&(t.value=i),r==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=r!=null?""+ln(r):""}function Ci(t,i,r,o){if(i==null){if(o!=null){if(r!=null)throw Error(a(92));if(ue(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),i=r}r=ln(i),t.defaultValue=r,o=t.textContent,o===r&&o!==""&&o!==null&&(t.value=o)}function In(t,i){if(i){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=i;return}}t.textContent=i}var xd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zl(t,i,r){var o=i.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":o?t.setProperty(i,r):typeof r!="number"||r===0||xd.has(i)?i==="float"?t.cssFloat=r:t[i]=(""+r).trim():t[i]=r+"px"}function Vc(t,i,r){if(i!=null&&typeof i!="object")throw Error(a(62));if(t=t.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var f in i)o=i[f],i.hasOwnProperty(f)&&r[f]!==o&&zl(t,f,o)}else for(var g in i)i.hasOwnProperty(g)&&zl(t,g,i[g])}function ql(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ed=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Td=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function os(t){return Td.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var jn=null;function Ar(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ms=null,Ls=null;function Vs(t){var i=Ds(t);if(i&&(t=i.stateNode)){var r=t[St]||null;e:switch(t=i.stateNode,i.type){case"input":if(ki(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),i=r.name,r.type==="radio"&&i!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+ut(""+i)+'"][type="radio"]'),i=0;i<r.length;i++){var o=r[i];if(o!==t&&o.form===t.form){var f=o[St]||null;if(!f)throw Error(a(90));ki(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<r.length;i++)o=r[i],o.form===t.form&&Hl(o)}break e;case"textarea":Sa(t,r.value,r.defaultValue);break e;case"select":i=r.value,i!=null&&qe(t,!!r.multiple,i,!1)}}}var Kl=!1;function Pc(t,i,r){if(Kl)return t(i,r);Kl=!0;try{var o=t(i);return o}finally{if(Kl=!1,(Ms!==null||Ls!==null)&&(ku(),Ms&&(i=Ms,t=Ls,Ls=Ms=null,Vs(i),t)))for(i=0;i<t.length;i++)Vs(t[i])}}function Na(t,i){var r=t.stateNode;if(r===null)return null;var o=r[St]||null;if(o===null)return null;r=o[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,i,typeof r));return r}var Dn=!1;if(vn)try{var Ra={};Object.defineProperty(Ra,"passive",{get:function(){Dn=!0}}),window.addEventListener("test",Ra,Ra),window.removeEventListener("test",Ra,Ra)}catch{Dn=!1}var cs=null,Ii=null,Ps=null;function Fl(){if(Ps)return Ps;var t,i=Ii,r=i.length,o,f="value"in cs?cs.value:cs.textContent,g=f.length;for(t=0;t<r&&i[t]===f[t];t++);var E=r-t;for(o=1;o<=E&&i[r-o]===f[g-o];o++);return Ps=f.slice(t,1<o?1-o:void 0)}function us(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function hs(){return!0}function Gl(){return!1}function Lt(t){function i(r,o,f,g,E){this._reactName=r,this._targetInst=f,this.type=o,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(r=t[b],this[b]=r?r(g):g[b]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?hs:Gl,this.isPropagationStopped=Gl,this}return R(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=hs)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=hs)},persist:function(){},isPersistent:hs}),i}var Ge={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wr=Lt(Ge),ka=R({},Ge,{view:0,detail:0}),Uc=Lt(ka),Sr,Nr,ds,Ca=R({},ka,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Da,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ds&&(ds&&t.type==="mousemove"?(Sr=t.screenX-ds.screenX,Nr=t.screenY-ds.screenY):Nr=Sr=0,ds=t),Sr)},movementY:function(t){return"movementY"in t?t.movementY:Nr}}),On=Lt(Ca),Bc=R({},Ca,{dataTransfer:0}),bd=Lt(Bc),Ia=R({},ka,{relatedTarget:0}),Rr=Lt(Ia),$l=R({},Ge,{animationName:0,elapsedTime:0,pseudoElement:0}),kr=Lt($l),Hc=R({},Ge,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Cr=Lt(Hc),Ad=R({},Ge,{data:0}),Ql=Lt(Ad),ja={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yl(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=qc[t])?!!i[t]:!1}function Da(){return Yl}var Kc=R({},ka,{key:function(t){if(t.key){var i=ja[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=us(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?zc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Da,charCode:function(t){return t.type==="keypress"?us(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?us(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ir=Lt(Kc),Fc=R({},Ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wl=Lt(Fc),Us=R({},ka,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Da}),Gc=Lt(Us),$c=R({},Ge,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qc=Lt($c),Yc=R({},Ca,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),jr=Lt(Yc),on=R({},Ge,{newState:0,oldState:0}),Wc=Lt(on),Xc=[9,13,27,32],fs=vn&&"CompositionEvent"in window,h=null;vn&&"documentMode"in document&&(h=document.documentMode);var y=vn&&"TextEvent"in window&&!h,v=vn&&(!fs||h&&8<h&&11>=h),A=" ",F=!1;function W(t,i){switch(t){case"keyup":return Xc.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function re(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Pe=!1;function Nt(t,i){switch(t){case"compositionend":return re(i);case"keypress":return i.which!==32?null:(F=!0,A);case"textInput":return t=i.data,t===A&&F?null:t;default:return null}}function Ue(t,i){if(Pe)return t==="compositionend"||!fs&&W(t,i)?(t=Fl(),Ps=Ii=cs=null,Pe=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return v&&i.locale!=="ko"?null:i.data;default:return null}}var Vt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rt(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Vt[t.type]:i==="textarea"}function Bs(t,i,r,o){Ms?Ls?Ls.push(o):Ls=[o]:Ms=o,i=Ou(i,"onChange"),0<i.length&&(r=new wr("onChange","change",null,r,o),t.push({event:r,listeners:i}))}var zt=null,ms=null;function Xl(t){Wy(t,0)}function Zc(t){var i=wi(t);if(Hl(i))return t}function wp(t,i){if(t==="change")return i}var Sp=!1;if(vn){var wd;if(vn){var Sd="oninput"in document;if(!Sd){var Np=document.createElement("div");Np.setAttribute("oninput","return;"),Sd=typeof Np.oninput=="function"}wd=Sd}else wd=!1;Sp=wd&&(!document.documentMode||9<document.documentMode)}function Rp(){zt&&(zt.detachEvent("onpropertychange",kp),ms=zt=null)}function kp(t){if(t.propertyName==="value"&&Zc(ms)){var i=[];Bs(i,ms,t,Ar(t)),Pc(Xl,i)}}function Rb(t,i,r){t==="focusin"?(Rp(),zt=i,ms=r,zt.attachEvent("onpropertychange",kp)):t==="focusout"&&Rp()}function kb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Zc(ms)}function Cb(t,i){if(t==="click")return Zc(i)}function Ib(t,i){if(t==="input"||t==="change")return Zc(i)}function jb(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var xn=typeof Object.is=="function"?Object.is:jb;function Zl(t,i){if(xn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var r=Object.keys(t),o=Object.keys(i);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var f=r[o];if(!pr.call(i,f)||!xn(t[f],i[f]))return!1}return!0}function Cp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ip(t,i){var r=Cp(t);t=0;for(var o;r;){if(r.nodeType===3){if(o=t+r.textContent.length,t<=i&&o>=i)return{node:r,offset:i-t};t=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Cp(r)}}function jp(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?jp(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Dp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Tr(t.document);i instanceof t.HTMLIFrameElement;){try{var r=typeof i.contentWindow.location.href=="string"}catch{r=!1}if(r)t=i.contentWindow;else break;i=Tr(t.document)}return i}function Nd(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}function Db(t,i){var r=Dp(i);i=t.focusedElem;var o=t.selectionRange;if(r!==i&&i&&i.ownerDocument&&jp(i.ownerDocument.documentElement,i)){if(o!==null&&Nd(i)){if(t=o.start,r=o.end,r===void 0&&(r=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(r,i.value.length);else if(r=(t=i.ownerDocument||document)&&t.defaultView||window,r.getSelection){r=r.getSelection();var f=i.textContent.length,g=Math.min(o.start,f);o=o.end===void 0?g:Math.min(o.end,f),!r.extend&&g>o&&(f=o,o=g,g=f),f=Ip(i,g);var E=Ip(i,o);f&&E&&(r.rangeCount!==1||r.anchorNode!==f.node||r.anchorOffset!==f.offset||r.focusNode!==E.node||r.focusOffset!==E.offset)&&(t=t.createRange(),t.setStart(f.node,f.offset),r.removeAllRanges(),g>o?(r.addRange(t),r.extend(E.node,E.offset)):(t.setEnd(E.node,E.offset),r.addRange(t)))}}for(t=[],r=i;r=r.parentNode;)r.nodeType===1&&t.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)r=t[i],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var Ob=vn&&"documentMode"in document&&11>=document.documentMode,Dr=null,Rd=null,Jl=null,kd=!1;function Op(t,i,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;kd||Dr==null||Dr!==Tr(o)||(o=Dr,"selectionStart"in o&&Nd(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Jl&&Zl(Jl,o)||(Jl=o,o=Ou(Rd,"onSelect"),0<o.length&&(i=new wr("onSelect","select",null,i,r),t.push({event:i,listeners:o}),i.target=Dr)))}function Oa(t,i){var r={};return r[t.toLowerCase()]=i.toLowerCase(),r["Webkit"+t]="webkit"+i,r["Moz"+t]="moz"+i,r}var Or={animationend:Oa("Animation","AnimationEnd"),animationiteration:Oa("Animation","AnimationIteration"),animationstart:Oa("Animation","AnimationStart"),transitionrun:Oa("Transition","TransitionRun"),transitionstart:Oa("Transition","TransitionStart"),transitioncancel:Oa("Transition","TransitionCancel"),transitionend:Oa("Transition","TransitionEnd")},Cd={},Mp={};vn&&(Mp=document.createElement("div").style,"AnimationEvent"in window||(delete Or.animationend.animation,delete Or.animationiteration.animation,delete Or.animationstart.animation),"TransitionEvent"in window||delete Or.transitionend.transition);function Ma(t){if(Cd[t])return Cd[t];if(!Or[t])return t;var i=Or[t],r;for(r in i)if(i.hasOwnProperty(r)&&r in Mp)return Cd[t]=i[r];return t}var Lp=Ma("animationend"),Vp=Ma("animationiteration"),Pp=Ma("animationstart"),Mb=Ma("transitionrun"),Lb=Ma("transitionstart"),Vb=Ma("transitioncancel"),Up=Ma("transitionend"),Bp=new Map,Hp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Yn(t,i){Bp.set(t,i),yn(i,[t])}var Mn=[],Mr=0,Id=0;function Jc(){for(var t=Mr,i=Id=Mr=0;i<t;){var r=Mn[i];Mn[i++]=null;var o=Mn[i];Mn[i++]=null;var f=Mn[i];Mn[i++]=null;var g=Mn[i];if(Mn[i++]=null,o!==null&&f!==null){var E=o.pending;E===null?f.next=f:(f.next=E.next,E.next=f),o.pending=f}g!==0&&zp(r,f,g)}}function eu(t,i,r,o){Mn[Mr++]=t,Mn[Mr++]=i,Mn[Mr++]=r,Mn[Mr++]=o,Id|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function jd(t,i,r,o){return eu(t,i,r,o),tu(t)}function ji(t,i){return eu(t,null,null,i),tu(t)}function zp(t,i,r){t.lanes|=r;var o=t.alternate;o!==null&&(o.lanes|=r);for(var f=!1,g=t.return;g!==null;)g.childLanes|=r,o=g.alternate,o!==null&&(o.childLanes|=r),g.tag===22&&(t=g.stateNode,t===null||t._visibility&1||(f=!0)),t=g,g=g.return;f&&i!==null&&t.tag===3&&(g=t.stateNode,f=31-rn(r),g=g.hiddenUpdates,t=g[f],t===null?g[f]=[i]:t.push(i),i.lane=r|536870912)}function tu(t){if(50<wo)throw wo=0,Uf=null,Error(a(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Lr={},qp=new WeakMap;function Ln(t,i){if(typeof t=="object"&&t!==null){var r=qp.get(t);return r!==void 0?r:(i={value:t,source:i,stack:ve(i)},qp.set(t,i),i)}return{value:t,source:i,stack:ve(i)}}var Vr=[],Pr=0,nu=null,su=0,Vn=[],Pn=0,La=null,Hs=1,zs="";function Va(t,i){Vr[Pr++]=su,Vr[Pr++]=nu,nu=t,su=i}function Kp(t,i,r){Vn[Pn++]=Hs,Vn[Pn++]=zs,Vn[Pn++]=La,La=t;var o=Hs;t=zs;var f=32-rn(o)-1;o&=~(1<<f),r+=1;var g=32-rn(i)+f;if(30<g){var E=f-f%5;g=(o&(1<<E)-1).toString(32),o>>=E,f-=E,Hs=1<<32-rn(i)+f|r<<f|o,zs=g+t}else Hs=1<<g|r<<f|o,zs=t}function Dd(t){t.return!==null&&(Va(t,1),Kp(t,1,0))}function Od(t){for(;t===nu;)nu=Vr[--Pr],Vr[Pr]=null,su=Vr[--Pr],Vr[Pr]=null;for(;t===La;)La=Vn[--Pn],Vn[Pn]=null,zs=Vn[--Pn],Vn[Pn]=null,Hs=Vn[--Pn],Vn[Pn]=null}var cn=null,qt=null,Ke=!1,Wn=null,gs=!1,Md=Error(a(519));function Pa(t){var i=Error(a(418,""));throw no(Ln(i,t)),Md}function Fp(t){var i=t.stateNode,r=t.type,o=t.memoizedProps;switch(i[Mt]=t,i[St]=o,r){case"dialog":Le("cancel",i),Le("close",i);break;case"iframe":case"object":case"embed":Le("load",i);break;case"video":case"audio":for(r=0;r<No.length;r++)Le(No[r],i);break;case"source":Le("error",i);break;case"img":case"image":case"link":Le("error",i),Le("load",i);break;case"details":Le("toggle",i);break;case"input":Le("invalid",i),wa(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Aa(i);break;case"select":Le("invalid",i);break;case"textarea":Le("invalid",i),Ci(i,o.value,o.defaultValue,o.children),Aa(i)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||i.textContent===""+r||o.suppressHydrationWarning===!0||ev(i.textContent,r)?(o.popover!=null&&(Le("beforetoggle",i),Le("toggle",i)),o.onScroll!=null&&Le("scroll",i),o.onScrollEnd!=null&&Le("scrollend",i),o.onClick!=null&&(i.onclick=Mu),i=!0):i=!1,i||Pa(t)}function Gp(t){for(cn=t.return;cn;)switch(cn.tag){case 3:case 27:gs=!0;return;case 5:case 13:gs=!1;return;default:cn=cn.return}}function eo(t){if(t!==cn)return!1;if(!Ke)return Gp(t),Ke=!0,!1;var i=!1,r;if((r=t.tag!==3&&t.tag!==27)&&((r=t.tag===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||nm(t.type,t.memoizedProps)),r=!r),r&&(i=!0),i&&qt&&Pa(t),Gp(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(i===0){qt=Zn(t.nextSibling);break e}i--}else r!=="$"&&r!=="$!"&&r!=="$?"||i++;t=t.nextSibling}qt=null}}else qt=cn?Zn(t.stateNode.nextSibling):null;return!0}function to(){qt=cn=null,Ke=!1}function no(t){Wn===null?Wn=[t]:Wn.push(t)}var so=Error(a(460)),$p=Error(a(474)),Ld={then:function(){}};function Qp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function iu(){}function Yp(t,i,r){switch(r=t[r],r===void 0?t.push(i):r!==i&&(i.then(iu,iu),i=r),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,t===so?Error(a(483)):t;default:if(typeof i.status=="string")i.then(iu,iu);else{if(t=Ze,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=i,t.status="pending",t.then(function(o){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=o}},function(o){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,t===so?Error(a(483)):t}throw io=i,so}}var io=null;function Wp(){if(io===null)throw Error(a(459));var t=io;return io=null,t}var Ur=null,ao=0;function au(t){var i=ao;return ao+=1,Ur===null&&(Ur=[]),Yp(Ur,t,i)}function ro(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function ru(t,i){throw i.$$typeof===c?Error(a(525)):(t=Object.prototype.toString.call(i),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Xp(t){var i=t._init;return i(t._payload)}function Zp(t){function i(K,U){if(t){var $=K.deletions;$===null?(K.deletions=[U],K.flags|=16):$.push(U)}}function r(K,U){if(!t)return null;for(;U!==null;)i(K,U),U=U.sibling;return null}function o(K){for(var U=new Map;K!==null;)K.key!==null?U.set(K.key,K):U.set(K.index,K),K=K.sibling;return U}function f(K,U){return K=Ki(K,U),K.index=0,K.sibling=null,K}function g(K,U,$){return K.index=$,t?($=K.alternate,$!==null?($=$.index,$<U?(K.flags|=33554434,U):$):(K.flags|=33554434,U)):(K.flags|=1048576,U)}function E(K){return t&&K.alternate===null&&(K.flags|=33554434),K}function b(K,U,$,ee){return U===null||U.tag!==6?(U=If($,K.mode,ee),U.return=K,U):(U=f(U,$),U.return=K,U)}function k(K,U,$,ee){var ge=$.type;return ge===p?Z(K,U,$.props.children,ee,$.key):U!==null&&(U.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===G&&Xp(ge)===U.type)?(U=f(U,$.props),ro(U,$),U.return=K,U):(U=Au($.type,$.key,$.props,null,K.mode,ee),ro(U,$),U.return=K,U)}function B(K,U,$,ee){return U===null||U.tag!==4||U.stateNode.containerInfo!==$.containerInfo||U.stateNode.implementation!==$.implementation?(U=jf($,K.mode,ee),U.return=K,U):(U=f(U,$.children||[]),U.return=K,U)}function Z(K,U,$,ee,ge){return U===null||U.tag!==7?(U=Qa($,K.mode,ee,ge),U.return=K,U):(U=f(U,$),U.return=K,U)}function ae(K,U,$){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=If(""+U,K.mode,$),U.return=K,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case d:return $=Au(U.type,U.key,U.props,null,K.mode,$),ro($,U),$.return=K,$;case m:return U=jf(U,K.mode,$),U.return=K,U;case G:var ee=U._init;return U=ee(U._payload),ae(K,U,$)}if(ue(U)||ce(U))return U=Qa(U,K.mode,$,null),U.return=K,U;if(typeof U.then=="function")return ae(K,au(U),$);if(U.$$typeof===C)return ae(K,Eu(K,U),$);ru(K,U)}return null}function Y(K,U,$,ee){var ge=U!==null?U.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return ge!==null?null:b(K,U,""+$,ee);if(typeof $=="object"&&$!==null){switch($.$$typeof){case d:return $.key===ge?k(K,U,$,ee):null;case m:return $.key===ge?B(K,U,$,ee):null;case G:return ge=$._init,$=ge($._payload),Y(K,U,$,ee)}if(ue($)||ce($))return ge!==null?null:Z(K,U,$,ee,null);if(typeof $.then=="function")return Y(K,U,au($),ee);if($.$$typeof===C)return Y(K,U,Eu(K,$),ee);ru(K,$)}return null}function X(K,U,$,ee,ge){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return K=K.get($)||null,b(U,K,""+ee,ge);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case d:return K=K.get(ee.key===null?$:ee.key)||null,k(U,K,ee,ge);case m:return K=K.get(ee.key===null?$:ee.key)||null,B(U,K,ee,ge);case G:var je=ee._init;return ee=je(ee._payload),X(K,U,$,ee,ge)}if(ue(ee)||ce(ee))return K=K.get($)||null,Z(U,K,ee,ge,null);if(typeof ee.then=="function")return X(K,U,$,au(ee),ge);if(ee.$$typeof===C)return X(K,U,$,Eu(U,ee),ge);ru(U,ee)}return null}function pe(K,U,$,ee){for(var ge=null,je=null,_e=U,xe=U=0,Bt=null;_e!==null&&xe<$.length;xe++){_e.index>xe?(Bt=_e,_e=null):Bt=_e.sibling;var Fe=Y(K,_e,$[xe],ee);if(Fe===null){_e===null&&(_e=Bt);break}t&&_e&&Fe.alternate===null&&i(K,_e),U=g(Fe,U,xe),je===null?ge=Fe:je.sibling=Fe,je=Fe,_e=Bt}if(xe===$.length)return r(K,_e),Ke&&Va(K,xe),ge;if(_e===null){for(;xe<$.length;xe++)_e=ae(K,$[xe],ee),_e!==null&&(U=g(_e,U,xe),je===null?ge=_e:je.sibling=_e,je=_e);return Ke&&Va(K,xe),ge}for(_e=o(_e);xe<$.length;xe++)Bt=X(_e,K,xe,$[xe],ee),Bt!==null&&(t&&Bt.alternate!==null&&_e.delete(Bt.key===null?xe:Bt.key),U=g(Bt,U,xe),je===null?ge=Bt:je.sibling=Bt,je=Bt);return t&&_e.forEach(function(Xi){return i(K,Xi)}),Ke&&Va(K,xe),ge}function we(K,U,$,ee){if($==null)throw Error(a(151));for(var ge=null,je=null,_e=U,xe=U=0,Bt=null,Fe=$.next();_e!==null&&!Fe.done;xe++,Fe=$.next()){_e.index>xe?(Bt=_e,_e=null):Bt=_e.sibling;var Xi=Y(K,_e,Fe.value,ee);if(Xi===null){_e===null&&(_e=Bt);break}t&&_e&&Xi.alternate===null&&i(K,_e),U=g(Xi,U,xe),je===null?ge=Xi:je.sibling=Xi,je=Xi,_e=Bt}if(Fe.done)return r(K,_e),Ke&&Va(K,xe),ge;if(_e===null){for(;!Fe.done;xe++,Fe=$.next())Fe=ae(K,Fe.value,ee),Fe!==null&&(U=g(Fe,U,xe),je===null?ge=Fe:je.sibling=Fe,je=Fe);return Ke&&Va(K,xe),ge}for(_e=o(_e);!Fe.done;xe++,Fe=$.next())Fe=X(_e,K,xe,Fe.value,ee),Fe!==null&&(t&&Fe.alternate!==null&&_e.delete(Fe.key===null?xe:Fe.key),U=g(Fe,U,xe),je===null?ge=Fe:je.sibling=Fe,je=Fe);return t&&_e.forEach(function(XA){return i(K,XA)}),Ke&&Va(K,xe),ge}function ft(K,U,$,ee){if(typeof $=="object"&&$!==null&&$.type===p&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case d:e:{for(var ge=$.key;U!==null;){if(U.key===ge){if(ge=$.type,ge===p){if(U.tag===7){r(K,U.sibling),ee=f(U,$.props.children),ee.return=K,K=ee;break e}}else if(U.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===G&&Xp(ge)===U.type){r(K,U.sibling),ee=f(U,$.props),ro(ee,$),ee.return=K,K=ee;break e}r(K,U);break}else i(K,U);U=U.sibling}$.type===p?(ee=Qa($.props.children,K.mode,ee,$.key),ee.return=K,K=ee):(ee=Au($.type,$.key,$.props,null,K.mode,ee),ro(ee,$),ee.return=K,K=ee)}return E(K);case m:e:{for(ge=$.key;U!==null;){if(U.key===ge)if(U.tag===4&&U.stateNode.containerInfo===$.containerInfo&&U.stateNode.implementation===$.implementation){r(K,U.sibling),ee=f(U,$.children||[]),ee.return=K,K=ee;break e}else{r(K,U);break}else i(K,U);U=U.sibling}ee=jf($,K.mode,ee),ee.return=K,K=ee}return E(K);case G:return ge=$._init,$=ge($._payload),ft(K,U,$,ee)}if(ue($))return pe(K,U,$,ee);if(ce($)){if(ge=ce($),typeof ge!="function")throw Error(a(150));return $=ge.call($),we(K,U,$,ee)}if(typeof $.then=="function")return ft(K,U,au($),ee);if($.$$typeof===C)return ft(K,U,Eu(K,$),ee);ru(K,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,U!==null&&U.tag===6?(r(K,U.sibling),ee=f(U,$),ee.return=K,K=ee):(r(K,U),ee=If($,K.mode,ee),ee.return=K,K=ee),E(K)):r(K,U)}return function(K,U,$,ee){try{ao=0;var ge=ft(K,U,$,ee);return Ur=null,ge}catch(_e){if(_e===so)throw _e;var je=zn(29,_e,null,K.mode);return je.lanes=ee,je.return=K,je}finally{}}}var Ua=Zp(!0),Jp=Zp(!1),Br=ze(null),lu=ze(0);function e_(t,i){t=Js,Qe(lu,t),Qe(Br,i),Js=t|i.baseLanes}function Vd(){Qe(lu,Js),Qe(Br,Br.current)}function Pd(){Js=lu.current,ct(Br),ct(lu)}var Un=ze(null),ps=null;function Di(t){var i=t.alternate;Qe(kt,kt.current&1),Qe(Un,t),ps===null&&(i===null||Br.current!==null||i.memoizedState!==null)&&(ps=t)}function t_(t){if(t.tag===22){if(Qe(kt,kt.current),Qe(Un,t),ps===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(ps=t)}}else Oi()}function Oi(){Qe(kt,kt.current),Qe(Un,Un.current)}function qs(t){ct(Un),ps===t&&(ps=null),ct(kt)}var kt=ze(0);function ou(t){for(var i=t;i!==null;){if(i.tag===13){var r=i.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Pb=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(r,o){t.push(o)}};this.abort=function(){i.aborted=!0,t.forEach(function(r){return r()})}},Ub=s.unstable_scheduleCallback,Bb=s.unstable_NormalPriority,Ct={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ud(){return{controller:new Pb,data:new Map,refCount:0}}function lo(t){t.refCount--,t.refCount===0&&Ub(Bb,function(){t.controller.abort()})}var oo=null,Bd=0,Hr=0,zr=null;function Hb(t,i){if(oo===null){var r=oo=[];Bd=0,Hr=$f(),zr={status:"pending",value:void 0,then:function(o){r.push(o)}}}return Bd++,i.then(n_,n_),i}function n_(){if(--Bd===0&&oo!==null){zr!==null&&(zr.status="fulfilled");var t=oo;oo=null,Hr=0,zr=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function zb(t,i){var r=[],o={status:"pending",value:null,reason:null,then:function(f){r.push(f)}};return t.then(function(){o.status="fulfilled",o.value=i;for(var f=0;f<r.length;f++)(0,r[f])(i)},function(f){for(o.status="rejected",o.reason=f,f=0;f<r.length;f++)(0,r[f])(void 0)}),o}var s_=S.S;S.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&Hb(t,i),s_!==null&&s_(t,i)};var Ba=ze(null);function Hd(){var t=Ba.current;return t!==null?t:Ze.pooledCache}function cu(t,i){i===null?Qe(Ba,Ba.current):Qe(Ba,i.pool)}function i_(){var t=Hd();return t===null?null:{parent:Ct._currentValue,pool:t}}var Mi=0,Ie=null,Ye=null,xt=null,uu=!1,qr=!1,Ha=!1,hu=0,co=0,Kr=null,qb=0;function _t(){throw Error(a(321))}function zd(t,i){if(i===null)return!1;for(var r=0;r<i.length&&r<t.length;r++)if(!xn(t[r],i[r]))return!1;return!0}function qd(t,i,r,o,f,g){return Mi=g,Ie=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,S.H=t===null||t.memoizedState===null?za:Li,Ha=!1,g=r(o,f),Ha=!1,qr&&(g=r_(i,r,o,f)),a_(t),g}function a_(t){S.H=_s;var i=Ye!==null&&Ye.next!==null;if(Mi=0,xt=Ye=Ie=null,uu=!1,co=0,Kr=null,i)throw Error(a(300));t===null||Pt||(t=t.dependencies,t!==null&&xu(t)&&(Pt=!0))}function r_(t,i,r,o){Ie=t;var f=0;do{if(qr&&(Kr=null),co=0,qr=!1,25<=f)throw Error(a(301));if(f+=1,xt=Ye=null,t.updateQueue!=null){var g=t.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}S.H=qa,g=i(r,o)}while(qr);return g}function Kb(){var t=S.H,i=t.useState()[0];return i=typeof i.then=="function"?uo(i):i,t=t.useState()[0],(Ye!==null?Ye.memoizedState:null)!==t&&(Ie.flags|=1024),i}function Kd(){var t=hu!==0;return hu=0,t}function Fd(t,i,r){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~r}function Gd(t){if(uu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}uu=!1}Mi=0,xt=Ye=Ie=null,qr=!1,co=hu=0,Kr=null}function mn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?Ie.memoizedState=xt=t:xt=xt.next=t,xt}function Et(){if(Ye===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=Ye.next;var i=xt===null?Ie.memoizedState:xt.next;if(i!==null)xt=i,Ye=t;else{if(t===null)throw Ie.alternate===null?Error(a(467)):Error(a(310));Ye=t,t={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},xt===null?Ie.memoizedState=xt=t:xt=xt.next=t}return xt}var du;du=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function uo(t){var i=co;return co+=1,Kr===null&&(Kr=[]),t=Yp(Kr,t,i),i=Ie,(xt===null?i.memoizedState:xt.next)===null&&(i=i.alternate,S.H=i===null||i.memoizedState===null?za:Li),t}function fu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return uo(t);if(t.$$typeof===C)return Wt(t)}throw Error(a(438,String(t)))}function $d(t){var i=null,r=Ie.updateQueue;if(r!==null&&(i=r.memoCache),i==null){var o=Ie.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),r===null&&(r=du(),Ie.updateQueue=r),r.memoCache=i,r=i.data[i.index],r===void 0)for(r=i.data[i.index]=Array(t),o=0;o<t;o++)r[o]=J;return i.index++,r}function Ks(t,i){return typeof i=="function"?i(t):i}function mu(t){var i=Et();return Qd(i,Ye,t)}function Qd(t,i,r){var o=t.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var f=t.baseQueue,g=o.pending;if(g!==null){if(f!==null){var E=f.next;f.next=g.next,g.next=E}i.baseQueue=f=g,o.pending=null}if(g=t.baseState,f===null)t.memoizedState=g;else{i=f.next;var b=E=null,k=null,B=i,Z=!1;do{var ae=B.lane&-536870913;if(ae!==B.lane?(Be&ae)===ae:(Mi&ae)===ae){var Y=B.revertLane;if(Y===0)k!==null&&(k=k.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),ae===Hr&&(Z=!0);else if((Mi&Y)===Y){B=B.next,Y===Hr&&(Z=!0);continue}else ae={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},k===null?(b=k=ae,E=g):k=k.next=ae,Ie.lanes|=Y,Fi|=Y;ae=B.action,Ha&&r(g,ae),g=B.hasEagerState?B.eagerState:r(g,ae)}else Y={lane:ae,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},k===null?(b=k=Y,E=g):k=k.next=Y,Ie.lanes|=ae,Fi|=ae;B=B.next}while(B!==null&&B!==i);if(k===null?E=g:k.next=b,!xn(g,t.memoizedState)&&(Pt=!0,Z&&(r=zr,r!==null)))throw r;t.memoizedState=g,t.baseState=E,t.baseQueue=k,o.lastRenderedState=g}return f===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Yd(t){var i=Et(),r=i.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var o=r.dispatch,f=r.pending,g=i.memoizedState;if(f!==null){r.pending=null;var E=f=f.next;do g=t(g,E.action),E=E.next;while(E!==f);xn(g,i.memoizedState)||(Pt=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),r.lastRenderedState=g}return[g,o]}function l_(t,i,r){var o=Ie,f=Et(),g=Ke;if(g){if(r===void 0)throw Error(a(407));r=r()}else r=i();var E=!xn((Ye||f).memoizedState,r);if(E&&(f.memoizedState=r,Pt=!0),f=f.queue,Zd(u_.bind(null,o,f,t),[t]),f.getSnapshot!==i||E||xt!==null&&xt.memoizedState.tag&1){if(o.flags|=2048,Fr(9,c_.bind(null,o,f,r,i),{destroy:void 0},null),Ze===null)throw Error(a(349));g||(Mi&60)!==0||o_(o,i,r)}return r}function o_(t,i,r){t.flags|=16384,t={getSnapshot:i,value:r},i=Ie.updateQueue,i===null?(i=du(),Ie.updateQueue=i,i.stores=[t]):(r=i.stores,r===null?i.stores=[t]:r.push(t))}function c_(t,i,r,o){i.value=r,i.getSnapshot=o,h_(i)&&d_(t)}function u_(t,i,r){return r(function(){h_(i)&&d_(t)})}function h_(t){var i=t.getSnapshot;t=t.value;try{var r=i();return!xn(t,r)}catch{return!0}}function d_(t){var i=ji(t,2);i!==null&&un(i,t,2)}function Wd(t){var i=mn();if(typeof t=="function"){var r=t;if(t=r(),Ha){is(!0);try{r()}finally{is(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ks,lastRenderedState:t},i}function f_(t,i,r,o){return t.baseState=r,Qd(t,Ye,typeof o=="function"?o:Ks)}function Fb(t,i,r,o,f){if(_u(t))throw Error(a(485));if(t=i.action,t!==null){var g={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){g.listeners.push(E)}};S.T!==null?r(!0):g.isTransition=!1,o(g),r=i.pending,r===null?(g.next=i.pending=g,m_(i,g)):(g.next=r.next,i.pending=r.next=g)}}function m_(t,i){var r=i.action,o=i.payload,f=t.state;if(i.isTransition){var g=S.T,E={};S.T=E;try{var b=r(f,o),k=S.S;k!==null&&k(E,b),g_(t,i,b)}catch(B){Xd(t,i,B)}finally{S.T=g}}else try{g=r(f,o),g_(t,i,g)}catch(B){Xd(t,i,B)}}function g_(t,i,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){p_(t,i,o)},function(o){return Xd(t,i,o)}):p_(t,i,r)}function p_(t,i,r){i.status="fulfilled",i.value=r,__(i),t.state=r,i=t.pending,i!==null&&(r=i.next,r===i?t.pending=null:(r=r.next,i.next=r,m_(t,r)))}function Xd(t,i,r){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=r,__(i),i=i.next;while(i!==o)}t.action=null}function __(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function y_(t,i){return i}function v_(t,i){if(Ke){var r=Ze.formState;if(r!==null){e:{var o=Ie;if(Ke){if(qt){t:{for(var f=qt,g=gs;f.nodeType!==8;){if(!g){f=null;break t}if(f=Zn(f.nextSibling),f===null){f=null;break t}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){qt=Zn(f.nextSibling),o=f.data==="F!";break e}}Pa(o)}o=!1}o&&(i=r[0])}}return r=mn(),r.memoizedState=r.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:y_,lastRenderedState:i},r.queue=o,r=V_.bind(null,Ie,o),o.dispatch=r,o=Wd(!1),g=sf.bind(null,Ie,!1,o.queue),o=mn(),f={state:i,dispatch:null,action:t,pending:null},o.queue=f,r=Fb.bind(null,Ie,f,g,r),f.dispatch=r,o.memoizedState=t,[i,r,!1]}function x_(t){var i=Et();return E_(i,Ye,t)}function E_(t,i,r){i=Qd(t,i,y_)[0],t=mu(Ks)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?uo(i):i;var o=Et(),f=o.queue,g=f.dispatch;return r!==o.memoizedState&&(Ie.flags|=2048,Fr(9,Gb.bind(null,f,r),{destroy:void 0},null)),[i,g,t]}function Gb(t,i){t.action=i}function T_(t){var i=Et(),r=Ye;if(r!==null)return E_(i,r,t);Et(),i=i.memoizedState,r=Et();var o=r.queue.dispatch;return r.memoizedState=t,[i,o,!1]}function Fr(t,i,r,o){return t={tag:t,create:i,inst:r,deps:o,next:null},i=Ie.updateQueue,i===null&&(i=du(),Ie.updateQueue=i),r=i.lastEffect,r===null?i.lastEffect=t.next=t:(o=r.next,r.next=t,t.next=o,i.lastEffect=t),t}function b_(){return Et().memoizedState}function gu(t,i,r,o){var f=mn();Ie.flags|=t,f.memoizedState=Fr(1|i,r,{destroy:void 0},o===void 0?null:o)}function pu(t,i,r,o){var f=Et();o=o===void 0?null:o;var g=f.memoizedState.inst;Ye!==null&&o!==null&&zd(o,Ye.memoizedState.deps)?f.memoizedState=Fr(i,r,g,o):(Ie.flags|=t,f.memoizedState=Fr(1|i,r,g,o))}function A_(t,i){gu(8390656,8,t,i)}function Zd(t,i){pu(2048,8,t,i)}function w_(t,i){return pu(4,2,t,i)}function S_(t,i){return pu(4,4,t,i)}function N_(t,i){if(typeof i=="function"){t=t();var r=i(t);return function(){typeof r=="function"?r():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function R_(t,i,r){r=r!=null?r.concat([t]):null,pu(4,4,N_.bind(null,i,t),r)}function Jd(){}function k_(t,i){var r=Et();i=i===void 0?null:i;var o=r.memoizedState;return i!==null&&zd(i,o[1])?o[0]:(r.memoizedState=[t,i],t)}function C_(t,i){var r=Et();i=i===void 0?null:i;var o=r.memoizedState;if(i!==null&&zd(i,o[1]))return o[0];if(o=t(),Ha){is(!0);try{t()}finally{is(!1)}}return r.memoizedState=[o,i],o}function ef(t,i,r){return r===void 0||(Mi&1073741824)!==0?t.memoizedState=i:(t.memoizedState=r,t=jy(),Ie.lanes|=t,Fi|=t,r)}function I_(t,i,r,o){return xn(r,i)?r:Br.current!==null?(t=ef(t,r,o),xn(t,i)||(Pt=!0),t):(Mi&42)===0?(Pt=!0,t.memoizedState=r):(t=jy(),Ie.lanes|=t,Fi|=t,i)}function j_(t,i,r,o,f){var g=he.p;he.p=g!==0&&8>g?g:8;var E=S.T,b={};S.T=b,sf(t,!1,i,r);try{var k=f(),B=S.S;if(B!==null&&B(b,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var Z=zb(k,o);ho(t,i,Z,An(t))}else ho(t,i,o,An(t))}catch(ae){ho(t,i,{then:function(){},status:"rejected",reason:ae},An())}finally{he.p=g,S.T=E}}function $b(){}function tf(t,i,r,o){if(t.tag!==5)throw Error(a(476));var f=D_(t).queue;j_(t,f,i,ke,r===null?$b:function(){return O_(t),r(o)})}function D_(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ke,baseState:ke,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ks,lastRenderedState:ke},next:null};var r={};return i.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ks,lastRenderedState:r},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function O_(t){var i=D_(t).next.queue;ho(t,i,{},An())}function nf(){return Wt(jo)}function M_(){return Et().memoizedState}function L_(){return Et().memoizedState}function Qb(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var r=An();t=Ui(r);var o=Bi(i,t,r);o!==null&&(un(o,i,r),go(o,i,r)),i={cache:Ud()},t.payload=i;return}i=i.return}}function Yb(t,i,r){var o=An();r={lane:o,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},_u(t)?P_(i,r):(r=jd(t,i,r,o),r!==null&&(un(r,t,o),U_(r,i,o)))}function V_(t,i,r){var o=An();ho(t,i,r,o)}function ho(t,i,r,o){var f={lane:o,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(_u(t))P_(i,f);else{var g=t.alternate;if(t.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var E=i.lastRenderedState,b=g(E,r);if(f.hasEagerState=!0,f.eagerState=b,xn(b,E))return eu(t,i,f,0),Ze===null&&Jc(),!1}catch{}finally{}if(r=jd(t,i,f,o),r!==null)return un(r,t,o),U_(r,i,o),!0}return!1}function sf(t,i,r,o){if(o={lane:2,revertLane:$f(),action:o,hasEagerState:!1,eagerState:null,next:null},_u(t)){if(i)throw Error(a(479))}else i=jd(t,r,o,2),i!==null&&un(i,t,2)}function _u(t){var i=t.alternate;return t===Ie||i!==null&&i===Ie}function P_(t,i){qr=uu=!0;var r=t.pending;r===null?i.next=i:(i.next=r.next,r.next=i),t.pending=i}function U_(t,i,r){if((r&4194176)!==0){var o=i.lanes;o&=t.pendingLanes,r|=o,i.lanes=r,Ti(t,r)}}var _s={readContext:Wt,use:fu,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useLayoutEffect:_t,useInsertionEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useSyncExternalStore:_t,useId:_t};_s.useCacheRefresh=_t,_s.useMemoCache=_t,_s.useHostTransitionStatus=_t,_s.useFormState=_t,_s.useActionState=_t,_s.useOptimistic=_t;var za={readContext:Wt,use:fu,useCallback:function(t,i){return mn().memoizedState=[t,i===void 0?null:i],t},useContext:Wt,useEffect:A_,useImperativeHandle:function(t,i,r){r=r!=null?r.concat([t]):null,gu(4194308,4,N_.bind(null,i,t),r)},useLayoutEffect:function(t,i){return gu(4194308,4,t,i)},useInsertionEffect:function(t,i){gu(4,2,t,i)},useMemo:function(t,i){var r=mn();i=i===void 0?null:i;var o=t();if(Ha){is(!0);try{t()}finally{is(!1)}}return r.memoizedState=[o,i],o},useReducer:function(t,i,r){var o=mn();if(r!==void 0){var f=r(i);if(Ha){is(!0);try{r(i)}finally{is(!1)}}}else f=i;return o.memoizedState=o.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},o.queue=t,t=t.dispatch=Yb.bind(null,Ie,t),[o.memoizedState,t]},useRef:function(t){var i=mn();return t={current:t},i.memoizedState=t},useState:function(t){t=Wd(t);var i=t.queue,r=V_.bind(null,Ie,i);return i.dispatch=r,[t.memoizedState,r]},useDebugValue:Jd,useDeferredValue:function(t,i){var r=mn();return ef(r,t,i)},useTransition:function(){var t=Wd(!1);return t=j_.bind(null,Ie,t.queue,!0,!1),mn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,r){var o=Ie,f=mn();if(Ke){if(r===void 0)throw Error(a(407));r=r()}else{if(r=i(),Ze===null)throw Error(a(349));(Be&60)!==0||o_(o,i,r)}f.memoizedState=r;var g={value:r,getSnapshot:i};return f.queue=g,A_(u_.bind(null,o,g,t),[t]),o.flags|=2048,Fr(9,c_.bind(null,o,g,r,i),{destroy:void 0},null),r},useId:function(){var t=mn(),i=Ze.identifierPrefix;if(Ke){var r=zs,o=Hs;r=(o&~(1<<32-rn(o)-1)).toString(32)+r,i=":"+i+"R"+r,r=hu++,0<r&&(i+="H"+r.toString(32)),i+=":"}else r=qb++,i=":"+i+"r"+r.toString(32)+":";return t.memoizedState=i},useCacheRefresh:function(){return mn().memoizedState=Qb.bind(null,Ie)}};za.useMemoCache=$d,za.useHostTransitionStatus=nf,za.useFormState=v_,za.useActionState=v_,za.useOptimistic=function(t){var i=mn();i.memoizedState=i.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=r,i=sf.bind(null,Ie,!0,r),r.dispatch=i,[t,i]};var Li={readContext:Wt,use:fu,useCallback:k_,useContext:Wt,useEffect:Zd,useImperativeHandle:R_,useInsertionEffect:w_,useLayoutEffect:S_,useMemo:C_,useReducer:mu,useRef:b_,useState:function(){return mu(Ks)},useDebugValue:Jd,useDeferredValue:function(t,i){var r=Et();return I_(r,Ye.memoizedState,t,i)},useTransition:function(){var t=mu(Ks)[0],i=Et().memoizedState;return[typeof t=="boolean"?t:uo(t),i]},useSyncExternalStore:l_,useId:M_};Li.useCacheRefresh=L_,Li.useMemoCache=$d,Li.useHostTransitionStatus=nf,Li.useFormState=x_,Li.useActionState=x_,Li.useOptimistic=function(t,i){var r=Et();return f_(r,Ye,t,i)};var qa={readContext:Wt,use:fu,useCallback:k_,useContext:Wt,useEffect:Zd,useImperativeHandle:R_,useInsertionEffect:w_,useLayoutEffect:S_,useMemo:C_,useReducer:Yd,useRef:b_,useState:function(){return Yd(Ks)},useDebugValue:Jd,useDeferredValue:function(t,i){var r=Et();return Ye===null?ef(r,t,i):I_(r,Ye.memoizedState,t,i)},useTransition:function(){var t=Yd(Ks)[0],i=Et().memoizedState;return[typeof t=="boolean"?t:uo(t),i]},useSyncExternalStore:l_,useId:M_};qa.useCacheRefresh=L_,qa.useMemoCache=$d,qa.useHostTransitionStatus=nf,qa.useFormState=T_,qa.useActionState=T_,qa.useOptimistic=function(t,i){var r=Et();return Ye!==null?f_(r,Ye,t,i):(r.baseState=t,[t,r.queue.dispatch])};function af(t,i,r,o){i=t.memoizedState,r=r(o,i),r=r==null?i:R({},i,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var rf={isMounted:function(t){return(t=t._reactInternals)?oe(t)===t:!1},enqueueSetState:function(t,i,r){t=t._reactInternals;var o=An(),f=Ui(o);f.payload=i,r!=null&&(f.callback=r),i=Bi(t,f,o),i!==null&&(un(i,t,o),go(i,t,o))},enqueueReplaceState:function(t,i,r){t=t._reactInternals;var o=An(),f=Ui(o);f.tag=1,f.payload=i,r!=null&&(f.callback=r),i=Bi(t,f,o),i!==null&&(un(i,t,o),go(i,t,o))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var r=An(),o=Ui(r);o.tag=2,i!=null&&(o.callback=i),i=Bi(t,o,r),i!==null&&(un(i,t,r),go(i,t,r))}};function B_(t,i,r,o,f,g,E){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,g,E):i.prototype&&i.prototype.isPureReactComponent?!Zl(r,o)||!Zl(f,g):!0}function H_(t,i,r,o){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(r,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(r,o),i.state!==t&&rf.enqueueReplaceState(i,i.state,null)}function Ka(t,i){var r=i;if("ref"in i){r={};for(var o in i)o!=="ref"&&(r[o]=i[o])}if(t=t.defaultProps){r===i&&(r=R({},r));for(var f in t)r[f]===void 0&&(r[f]=t[f])}return r}var yu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function z_(t){yu(t)}function q_(t){console.error(t)}function K_(t){yu(t)}function vu(t,i){try{var r=t.onUncaughtError;r(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function F_(t,i,r){try{var o=t.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function lf(t,i,r){return r=Ui(r),r.tag=3,r.payload={element:null},r.callback=function(){vu(t,i)},r}function G_(t){return t=Ui(t),t.tag=3,t}function $_(t,i,r,o){var f=r.type.getDerivedStateFromError;if(typeof f=="function"){var g=o.value;t.payload=function(){return f(g)},t.callback=function(){F_(i,r,o)}}var E=r.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(t.callback=function(){F_(i,r,o),typeof f!="function"&&(Gi===null?Gi=new Set([this]):Gi.add(this));var b=o.stack;this.componentDidCatch(o.value,{componentStack:b!==null?b:""})})}function Wb(t,i,r,o,f){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=r.alternate,i!==null&&mo(i,r,f,!0),r=Un.current,r!==null){switch(r.tag){case 13:return ps===null?zf():r.alternate===null&&dt===0&&(dt=3),r.flags&=-257,r.flags|=65536,r.lanes=f,o===Ld?r.flags|=16384:(i=r.updateQueue,i===null?r.updateQueue=new Set([o]):i.add(o),Kf(t,o,f)),!1;case 22:return r.flags|=65536,o===Ld?r.flags|=16384:(i=r.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=i):(r=i.retryQueue,r===null?i.retryQueue=new Set([o]):r.add(o)),Kf(t,o,f)),!1}throw Error(a(435,r.tag))}return Kf(t,o,f),zf(),!1}if(Ke)return i=Un.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,o!==Md&&(t=Error(a(422),{cause:o}),no(Ln(t,r)))):(o!==Md&&(i=Error(a(423),{cause:o}),no(Ln(i,r))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,o=Ln(o,r),f=lf(t.stateNode,o,f),Tf(t,f),dt!==4&&(dt=2)),!1;var g=Error(a(520),{cause:o});if(g=Ln(g,r),bo===null?bo=[g]:bo.push(g),dt!==4&&(dt=2),i===null)return!0;o=Ln(o,r),r=i;do{switch(r.tag){case 3:return r.flags|=65536,t=f&-f,r.lanes|=t,t=lf(r.stateNode,o,t),Tf(r,t),!1;case 1:if(i=r.type,g=r.stateNode,(r.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Gi===null||!Gi.has(g))))return r.flags|=65536,f&=-f,r.lanes|=f,f=G_(f),$_(f,t,r,o),Tf(r,f),!1}r=r.return}while(r!==null);return!1}var Q_=Error(a(461)),Pt=!1;function Kt(t,i,r,o){i.child=t===null?Jp(i,null,r,o):Ua(i,t.child,r,o)}function Y_(t,i,r,o,f){r=r.render;var g=i.ref;if("ref"in o){var E={};for(var b in o)b!=="ref"&&(E[b]=o[b])}else E=o;return Ga(i),o=qd(t,i,r,E,g,f),b=Kd(),t!==null&&!Pt?(Fd(t,i,f),Fs(t,i,f)):(Ke&&b&&Dd(i),i.flags|=1,Kt(t,i,o,f),i.child)}function W_(t,i,r,o,f){if(t===null){var g=r.type;return typeof g=="function"&&!Cf(g)&&g.defaultProps===void 0&&r.compare===null?(i.tag=15,i.type=g,X_(t,i,g,o,f)):(t=Au(r.type,null,o,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(g=t.child,!pf(t,f)){var E=g.memoizedProps;if(r=r.compare,r=r!==null?r:Zl,r(E,o)&&t.ref===i.ref)return Fs(t,i,f)}return i.flags|=1,t=Ki(g,o),t.ref=i.ref,t.return=i,i.child=t}function X_(t,i,r,o,f){if(t!==null){var g=t.memoizedProps;if(Zl(g,o)&&t.ref===i.ref)if(Pt=!1,i.pendingProps=o=g,pf(t,f))(t.flags&131072)!==0&&(Pt=!0);else return i.lanes=t.lanes,Fs(t,i,f)}return of(t,i,r,o,f)}function Z_(t,i,r){var o=i.pendingProps,f=o.children,g=(i.stateNode._pendingVisibility&2)!==0,E=t!==null?t.memoizedState:null;if(fo(t,i),o.mode==="hidden"||g){if((i.flags&128)!==0){if(o=E!==null?E.baseLanes|r:r,t!==null){for(f=i.child=t.child,g=0;f!==null;)g=g|f.lanes|f.childLanes,f=f.sibling;i.childLanes=g&~o}else i.childLanes=0,i.child=null;return J_(t,i,o,r)}if((r&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&cu(i,E!==null?E.cachePool:null),E!==null?e_(i,E):Vd(),t_(i);else return i.lanes=i.childLanes=536870912,J_(t,i,E!==null?E.baseLanes|r:r,r)}else E!==null?(cu(i,E.cachePool),e_(i,E),Oi(),i.memoizedState=null):(t!==null&&cu(i,null),Vd(),Oi());return Kt(t,i,f,r),i.child}function J_(t,i,r,o){var f=Hd();return f=f===null?null:{parent:Ct._currentValue,pool:f},i.memoizedState={baseLanes:r,cachePool:f},t!==null&&cu(i,null),Vd(),t_(i),t!==null&&mo(t,i,o,!0),null}function fo(t,i){var r=i.ref;if(r===null)t!==null&&t.ref!==null&&(i.flags|=2097664);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(i.flags|=2097664)}}function of(t,i,r,o,f){return Ga(i),r=qd(t,i,r,o,void 0,f),o=Kd(),t!==null&&!Pt?(Fd(t,i,f),Fs(t,i,f)):(Ke&&o&&Dd(i),i.flags|=1,Kt(t,i,r,f),i.child)}function ey(t,i,r,o,f,g){return Ga(i),i.updateQueue=null,r=r_(i,o,r,f),a_(t),o=Kd(),t!==null&&!Pt?(Fd(t,i,g),Fs(t,i,g)):(Ke&&o&&Dd(i),i.flags|=1,Kt(t,i,r,g),i.child)}function ty(t,i,r,o,f){if(Ga(i),i.stateNode===null){var g=Lr,E=r.contextType;typeof E=="object"&&E!==null&&(g=Wt(E)),g=new r(o,g),i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=rf,i.stateNode=g,g._reactInternals=i,g=i.stateNode,g.props=o,g.state=i.memoizedState,g.refs={},xf(i),E=r.contextType,g.context=typeof E=="object"&&E!==null?Wt(E):Lr,g.state=i.memoizedState,E=r.getDerivedStateFromProps,typeof E=="function"&&(af(i,r,E,o),g.state=i.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(E=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),E!==g.state&&rf.enqueueReplaceState(g,g.state,null),_o(i,o,g,f),po(),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(t===null){g=i.stateNode;var b=i.memoizedProps,k=Ka(r,b);g.props=k;var B=g.context,Z=r.contextType;E=Lr,typeof Z=="object"&&Z!==null&&(E=Wt(Z));var ae=r.getDerivedStateFromProps;Z=typeof ae=="function"||typeof g.getSnapshotBeforeUpdate=="function",b=i.pendingProps!==b,Z||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b||B!==E)&&H_(i,g,o,E),Pi=!1;var Y=i.memoizedState;g.state=Y,_o(i,o,g,f),po(),B=i.memoizedState,b||Y!==B||Pi?(typeof ae=="function"&&(af(i,r,ae,o),B=i.memoizedState),(k=Pi||B_(i,r,k,o,Y,B,E))?(Z||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(i.flags|=4194308)):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=B),g.props=o,g.state=B,g.context=E,o=k):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{g=i.stateNode,Ef(t,i),E=i.memoizedProps,Z=Ka(r,E),g.props=Z,ae=i.pendingProps,Y=g.context,B=r.contextType,k=Lr,typeof B=="object"&&B!==null&&(k=Wt(B)),b=r.getDerivedStateFromProps,(B=typeof b=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(E!==ae||Y!==k)&&H_(i,g,o,k),Pi=!1,Y=i.memoizedState,g.state=Y,_o(i,o,g,f),po();var X=i.memoizedState;E!==ae||Y!==X||Pi||t!==null&&t.dependencies!==null&&xu(t.dependencies)?(typeof b=="function"&&(af(i,r,b,o),X=i.memoizedState),(Z=Pi||B_(i,r,Z,o,Y,X,k)||t!==null&&t.dependencies!==null&&xu(t.dependencies))?(B||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(o,X,k),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(o,X,k)),typeof g.componentDidUpdate=="function"&&(i.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof g.componentDidUpdate!="function"||E===t.memoizedProps&&Y===t.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&Y===t.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=X),g.props=o,g.state=X,g.context=k,o=Z):(typeof g.componentDidUpdate!="function"||E===t.memoizedProps&&Y===t.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&Y===t.memoizedState||(i.flags|=1024),o=!1)}return g=o,fo(t,i),o=(i.flags&128)!==0,g||o?(g=i.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:g.render(),i.flags|=1,t!==null&&o?(i.child=Ua(i,t.child,null,f),i.child=Ua(i,null,r,f)):Kt(t,i,r,f),i.memoizedState=g.state,t=i.child):t=Fs(t,i,f),t}function ny(t,i,r,o){return to(),i.flags|=256,Kt(t,i,r,o),i.child}var cf={dehydrated:null,treeContext:null,retryLane:0};function uf(t){return{baseLanes:t,cachePool:i_()}}function hf(t,i,r){return t=t!==null?t.childLanes&~r:0,i&&(t|=qn),t}function sy(t,i,r){var o=i.pendingProps,f=!1,g=(i.flags&128)!==0,E;if((E=g)||(E=t!==null&&t.memoizedState===null?!1:(kt.current&2)!==0),E&&(f=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,t===null){if(Ke){if(f?Di(i):Oi(),Ke){var b=qt,k;if(k=b){e:{for(k=b,b=gs;k.nodeType!==8;){if(!b){b=null;break e}if(k=Zn(k.nextSibling),k===null){b=null;break e}}b=k}b!==null?(i.memoizedState={dehydrated:b,treeContext:La!==null?{id:Hs,overflow:zs}:null,retryLane:536870912},k=zn(18,null,null,0),k.stateNode=b,k.return=i,i.child=k,cn=i,qt=null,k=!0):k=!1}k||Pa(i)}if(b=i.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return b.data==="$!"?i.lanes=16:i.lanes=536870912,null;qs(i)}return b=o.children,o=o.fallback,f?(Oi(),f=i.mode,b=ff({mode:"hidden",children:b},f),o=Qa(o,f,r,null),b.return=i,o.return=i,b.sibling=o,i.child=b,f=i.child,f.memoizedState=uf(r),f.childLanes=hf(t,E,r),i.memoizedState=cf,o):(Di(i),df(i,b))}if(k=t.memoizedState,k!==null&&(b=k.dehydrated,b!==null)){if(g)i.flags&256?(Di(i),i.flags&=-257,i=mf(t,i,r)):i.memoizedState!==null?(Oi(),i.child=t.child,i.flags|=128,i=null):(Oi(),f=o.fallback,b=i.mode,o=ff({mode:"visible",children:o.children},b),f=Qa(f,b,r,null),f.flags|=2,o.return=i,f.return=i,o.sibling=f,i.child=o,Ua(i,t.child,null,r),o=i.child,o.memoizedState=uf(r),o.childLanes=hf(t,E,r),i.memoizedState=cf,i=f);else if(Di(i),b.data==="$!"){if(E=b.nextSibling&&b.nextSibling.dataset,E)var B=E.dgst;E=B,o=Error(a(419)),o.stack="",o.digest=E,no({value:o,source:null,stack:null}),i=mf(t,i,r)}else if(Pt||mo(t,i,r,!1),E=(r&t.childLanes)!==0,Pt||E){if(E=Ze,E!==null){if(o=r&-r,(o&42)!==0)o=1;else switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=64;break;case 268435456:o=134217728;break;default:o=0}if(o=(o&(E.suspendedLanes|r))!==0?0:o,o!==0&&o!==k.retryLane)throw k.retryLane=o,ji(t,o),un(E,t,o),Q_}b.data==="$?"||zf(),i=mf(t,i,r)}else b.data==="$?"?(i.flags|=128,i.child=t.child,i=hA.bind(null,t),b._reactRetry=i,i=null):(t=k.treeContext,qt=Zn(b.nextSibling),cn=i,Ke=!0,Wn=null,gs=!1,t!==null&&(Vn[Pn++]=Hs,Vn[Pn++]=zs,Vn[Pn++]=La,Hs=t.id,zs=t.overflow,La=i),i=df(i,o.children),i.flags|=4096);return i}return f?(Oi(),f=o.fallback,b=i.mode,k=t.child,B=k.sibling,o=Ki(k,{mode:"hidden",children:o.children}),o.subtreeFlags=k.subtreeFlags&31457280,B!==null?f=Ki(B,f):(f=Qa(f,b,r,null),f.flags|=2),f.return=i,o.return=i,o.sibling=f,i.child=o,o=f,f=i.child,b=t.child.memoizedState,b===null?b=uf(r):(k=b.cachePool,k!==null?(B=Ct._currentValue,k=k.parent!==B?{parent:B,pool:B}:k):k=i_(),b={baseLanes:b.baseLanes|r,cachePool:k}),f.memoizedState=b,f.childLanes=hf(t,E,r),i.memoizedState=cf,o):(Di(i),r=t.child,t=r.sibling,r=Ki(r,{mode:"visible",children:o.children}),r.return=i,r.sibling=null,t!==null&&(E=i.deletions,E===null?(i.deletions=[t],i.flags|=16):E.push(t)),i.child=r,i.memoizedState=null,r)}function df(t,i){return i=ff({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function ff(t,i){return ky(t,i,0,null)}function mf(t,i,r){return Ua(i,t.child,null,r),t=df(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function iy(t,i,r){t.lanes|=i;var o=t.alternate;o!==null&&(o.lanes|=i),yf(t.return,i,r)}function gf(t,i,r,o,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:f}:(g.isBackwards=i,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=r,g.tailMode=f)}function ay(t,i,r){var o=i.pendingProps,f=o.revealOrder,g=o.tail;if(Kt(t,i,o.children,r),o=kt.current,(o&2)!==0)o=o&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&iy(t,r,i);else if(t.tag===19)iy(t,r,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}switch(Qe(kt,o),f){case"forwards":for(r=i.child,f=null;r!==null;)t=r.alternate,t!==null&&ou(t)===null&&(f=r),r=r.sibling;r=f,r===null?(f=i.child,i.child=null):(f=r.sibling,r.sibling=null),gf(i,!1,f,r,g);break;case"backwards":for(r=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&ou(t)===null){i.child=f;break}t=f.sibling,f.sibling=r,r=f,f=t}gf(i,!0,r,null,g);break;case"together":gf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Fs(t,i,r){if(t!==null&&(i.dependencies=t.dependencies),Fi|=i.lanes,(r&i.childLanes)===0)if(t!==null){if(mo(t,i,r,!1),(r&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(a(153));if(i.child!==null){for(t=i.child,r=Ki(t,t.pendingProps),i.child=r,r.return=i;t.sibling!==null;)t=t.sibling,r=r.sibling=Ki(t,t.pendingProps),r.return=i;r.sibling=null}return i.child}function pf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&xu(t)))}function Xb(t,i,r){switch(i.tag){case 3:pi(i,i.stateNode.containerInfo),Vi(i,Ct,t.memoizedState.cache),to();break;case 27:case 5:Il(i);break;case 4:pi(i,i.stateNode.containerInfo);break;case 10:Vi(i,i.type,i.memoizedProps.value);break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(Di(i),i.flags|=128,null):(r&i.child.childLanes)!==0?sy(t,i,r):(Di(i),t=Fs(t,i,r),t!==null?t.sibling:null);Di(i);break;case 19:var f=(t.flags&128)!==0;if(o=(r&i.childLanes)!==0,o||(mo(t,i,r,!1),o=(r&i.childLanes)!==0),f){if(o)return ay(t,i,r);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Qe(kt,kt.current),o)break;return null;case 22:case 23:return i.lanes=0,Z_(t,i,r);case 24:Vi(i,Ct,t.memoizedState.cache)}return Fs(t,i,r)}function ry(t,i,r){if(t!==null)if(t.memoizedProps!==i.pendingProps)Pt=!0;else{if(!pf(t,r)&&(i.flags&128)===0)return Pt=!1,Xb(t,i,r);Pt=(t.flags&131072)!==0}else Pt=!1,Ke&&(i.flags&1048576)!==0&&Kp(i,su,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var o=i.elementType,f=o._init;if(o=f(o._payload),i.type=o,typeof o=="function")Cf(o)?(t=Ka(o,t),i.tag=1,i=ty(null,i,o,t,r)):(i.tag=0,i=of(null,i,o,t,r));else{if(o!=null){if(f=o.$$typeof,f===D){i.tag=11,i=Y_(null,i,o,t,r);break e}else if(f===z){i.tag=14,i=W_(null,i,o,t,r);break e}}throw i=N(o)||o,Error(a(306,i,""))}}return i;case 0:return of(t,i,i.type,i.pendingProps,r);case 1:return o=i.type,f=Ka(o,i.pendingProps),ty(t,i,o,f,r);case 3:e:{if(pi(i,i.stateNode.containerInfo),t===null)throw Error(a(387));var g=i.pendingProps;f=i.memoizedState,o=f.element,Ef(t,i),_o(i,g,null,r);var E=i.memoizedState;if(g=E.cache,Vi(i,Ct,g),g!==f.cache&&vf(i,[Ct],r,!0),po(),g=E.element,f.isDehydrated)if(f={element:g,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=ny(t,i,g,r);break e}else if(g!==o){o=Ln(Error(a(424)),i),no(o),i=ny(t,i,g,r);break e}else for(qt=Zn(i.stateNode.containerInfo.firstChild),cn=i,Ke=!0,Wn=null,gs=!0,r=Jp(i,null,g,r),i.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(to(),g===o){i=Fs(t,i,r);break e}Kt(t,i,g,r)}i=i.child}return i;case 26:return fo(t,i),t===null?(r=cv(i.type,null,i.pendingProps,null))?i.memoizedState=r:Ke||(r=i.type,t=i.pendingProps,o=Lu(Rn.current).createElement(r),o[Mt]=i,o[St]=t,Ft(o,r,t),at(o),i.stateNode=o):i.memoizedState=cv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Il(i),t===null&&Ke&&(o=i.stateNode=rv(i.type,i.pendingProps,Rn.current),cn=i,gs=!0,qt=Zn(o.firstChild)),o=i.pendingProps.children,t!==null||Ke?Kt(t,i,o,r):i.child=Ua(i,null,o,r),fo(t,i),i.child;case 5:return t===null&&Ke&&((f=o=qt)&&(o=NA(o,i.type,i.pendingProps,gs),o!==null?(i.stateNode=o,cn=i,qt=Zn(o.firstChild),gs=!1,f=!0):f=!1),f||Pa(i)),Il(i),f=i.type,g=i.pendingProps,E=t!==null?t.memoizedProps:null,o=g.children,nm(f,g)?o=null:E!==null&&nm(f,E)&&(i.flags|=32),i.memoizedState!==null&&(f=qd(t,i,Kb,null,null,r),jo._currentValue=f),fo(t,i),Kt(t,i,o,r),i.child;case 6:return t===null&&Ke&&((t=r=qt)&&(r=RA(r,i.pendingProps,gs),r!==null?(i.stateNode=r,cn=i,qt=null,t=!0):t=!1),t||Pa(i)),null;case 13:return sy(t,i,r);case 4:return pi(i,i.stateNode.containerInfo),o=i.pendingProps,t===null?i.child=Ua(i,null,o,r):Kt(t,i,o,r),i.child;case 11:return Y_(t,i,i.type,i.pendingProps,r);case 7:return Kt(t,i,i.pendingProps,r),i.child;case 8:return Kt(t,i,i.pendingProps.children,r),i.child;case 12:return Kt(t,i,i.pendingProps.children,r),i.child;case 10:return o=i.pendingProps,Vi(i,i.type,o.value),Kt(t,i,o.children,r),i.child;case 9:return f=i.type._context,o=i.pendingProps.children,Ga(i),f=Wt(f),o=o(f),i.flags|=1,Kt(t,i,o,r),i.child;case 14:return W_(t,i,i.type,i.pendingProps,r);case 15:return X_(t,i,i.type,i.pendingProps,r);case 19:return ay(t,i,r);case 22:return Z_(t,i,r);case 24:return Ga(i),o=Wt(Ct),t===null?(f=Hd(),f===null&&(f=Ze,g=Ud(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=r),f=g),i.memoizedState={parent:o,cache:f},xf(i),Vi(i,Ct,f)):((t.lanes&r)!==0&&(Ef(t,i),_o(i,null,null,r),po()),f=t.memoizedState,g=i.memoizedState,f.parent!==o?(f={parent:o,cache:o},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Vi(i,Ct,o)):(o=g.cache,Vi(i,Ct,o),o!==f.cache&&vf(i,[Ct],r,!0))),Kt(t,i,i.pendingProps.children,r),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}var _f=ze(null),Fa=null,Gs=null;function Vi(t,i,r){Qe(_f,i._currentValue),i._currentValue=r}function $s(t){t._currentValue=_f.current,ct(_f)}function yf(t,i,r){for(;t!==null;){var o=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),t===r)break;t=t.return}}function vf(t,i,r,o){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var g=f.dependencies;if(g!==null){var E=f.child;g=g.firstContext;e:for(;g!==null;){var b=g;g=f;for(var k=0;k<i.length;k++)if(b.context===i[k]){g.lanes|=r,b=g.alternate,b!==null&&(b.lanes|=r),yf(g.return,r,t),o||(E=null);break e}g=b.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(a(341));E.lanes|=r,g=E.alternate,g!==null&&(g.lanes|=r),yf(E,r,t),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===t){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function mo(t,i,r,o){t=null;for(var f=i,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(a(387));if(E=E.memoizedProps,E!==null){var b=f.type;xn(f.pendingProps.value,E.value)||(t!==null?t.push(b):t=[b])}}else if(f===gi.current){if(E=f.alternate,E===null)throw Error(a(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(jo):t=[jo])}f=f.return}t!==null&&vf(i,t,r,o),i.flags|=262144}function xu(t){for(t=t.firstContext;t!==null;){if(!xn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ga(t){Fa=t,Gs=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Wt(t){return ly(Fa,t)}function Eu(t,i){return Fa===null&&Ga(t),ly(t,i)}function ly(t,i){var r=i._currentValue;if(i={context:i,memoizedValue:r,next:null},Gs===null){if(t===null)throw Error(a(308));Gs=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Gs=Gs.next=i;return r}var Pi=!1;function xf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ef(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ui(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Bi(t,i,r){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(lt&2)!==0){var f=o.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),o.pending=i,i=tu(t),zp(t,null,r),i}return eu(t,o,i,r),tu(t)}function go(t,i,r){if(i=i.updateQueue,i!==null&&(i=i.shared,(r&4194176)!==0)){var o=i.lanes;o&=t.pendingLanes,r|=o,i.lanes=r,Ti(t,r)}}function Tf(t,i){var r=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var f=null,g=null;if(r=r.firstBaseUpdate,r!==null){do{var E={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};g===null?f=g=E:g=g.next=E,r=r.next}while(r!==null);g===null?f=g=i:g=g.next=i}else f=g=i;r={baseState:o.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:o.shared,callbacks:o.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=i:t.next=i,r.lastBaseUpdate=i}var bf=!1;function po(){if(bf){var t=zr;if(t!==null)throw t}}function _o(t,i,r,o){bf=!1;var f=t.updateQueue;Pi=!1;var g=f.firstBaseUpdate,E=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var k=b,B=k.next;k.next=null,E===null?g=B:E.next=B,E=k;var Z=t.alternate;Z!==null&&(Z=Z.updateQueue,b=Z.lastBaseUpdate,b!==E&&(b===null?Z.firstBaseUpdate=B:b.next=B,Z.lastBaseUpdate=k))}if(g!==null){var ae=f.baseState;E=0,Z=B=k=null,b=g;do{var Y=b.lane&-536870913,X=Y!==b.lane;if(X?(Be&Y)===Y:(o&Y)===Y){Y!==0&&Y===Hr&&(bf=!0),Z!==null&&(Z=Z.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var pe=t,we=b;Y=i;var ft=r;switch(we.tag){case 1:if(pe=we.payload,typeof pe=="function"){ae=pe.call(ft,ae,Y);break e}ae=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=we.payload,Y=typeof pe=="function"?pe.call(ft,ae,Y):pe,Y==null)break e;ae=R({},ae,Y);break e;case 2:Pi=!0}}Y=b.callback,Y!==null&&(t.flags|=64,X&&(t.flags|=8192),X=f.callbacks,X===null?f.callbacks=[Y]:X.push(Y))}else X={lane:Y,tag:b.tag,payload:b.payload,callback:b.callback,next:null},Z===null?(B=Z=X,k=ae):Z=Z.next=X,E|=Y;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;X=b,b=X.next,X.next=null,f.lastBaseUpdate=X,f.shared.pending=null}}while(!0);Z===null&&(k=ae),f.baseState=k,f.firstBaseUpdate=B,f.lastBaseUpdate=Z,g===null&&(f.shared.lanes=0),Fi|=E,t.lanes=E,t.memoizedState=ae}}function oy(t,i){if(typeof t!="function")throw Error(a(191,t));t.call(i)}function cy(t,i){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)oy(r[t],i)}function yo(t,i){try{var r=i.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var f=o.next;r=f;do{if((r.tag&t)===t){o=void 0;var g=r.create,E=r.inst;o=g(),E.destroy=o}r=r.next}while(r!==f)}}catch(b){Xe(i,i.return,b)}}function Hi(t,i,r){try{var o=i.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var g=f.next;o=g;do{if((o.tag&t)===t){var E=o.inst,b=E.destroy;if(b!==void 0){E.destroy=void 0,f=i;var k=r;try{b()}catch(B){Xe(f,k,B)}}}o=o.next}while(o!==g)}}catch(B){Xe(i,i.return,B)}}function uy(t){var i=t.updateQueue;if(i!==null){var r=t.stateNode;try{cy(i,r)}catch(o){Xe(t,t.return,o)}}}function hy(t,i,r){r.props=Ka(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(o){Xe(t,i,o)}}function $a(t,i){try{var r=t.ref;if(r!==null){var o=t.stateNode;switch(t.tag){case 26:case 27:case 5:var f=o;break;default:f=o}typeof r=="function"?t.refCleanup=r(f):r.current=f}}catch(g){Xe(t,i,g)}}function En(t,i){var r=t.ref,o=t.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(f){Xe(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(f){Xe(t,i,f)}else r.current=null}function dy(t){var i=t.type,r=t.memoizedProps,o=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break e;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(f){Xe(t,t.return,f)}}function fy(t,i,r){try{var o=t.stateNode;TA(o,t.type,r,i),o[St]=i}catch(f){Xe(t,t.return,f)}}function my(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function Af(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||my(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function wf(t,i,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?r.nodeType===8?r.parentNode.insertBefore(t,i):r.insertBefore(t,i):(r.nodeType===8?(i=r.parentNode,i.insertBefore(t,r)):(i=r,i.appendChild(t)),r=r._reactRootContainer,r!=null||i.onclick!==null||(i.onclick=Mu));else if(o!==4&&o!==27&&(t=t.child,t!==null))for(wf(t,i,r),t=t.sibling;t!==null;)wf(t,i,r),t=t.sibling}function Tu(t,i,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?r.insertBefore(t,i):r.appendChild(t);else if(o!==4&&o!==27&&(t=t.child,t!==null))for(Tu(t,i,r),t=t.sibling;t!==null;)Tu(t,i,r),t=t.sibling}var Qs=!1,ht=!1,Sf=!1,gy=typeof WeakSet=="function"?WeakSet:Set,Ut=null,py=!1;function Zb(t,i){if(t=t.containerInfo,em=zu,t=Dp(t),Nd(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var f=o.anchorOffset,g=o.focusNode;o=o.focusOffset;try{r.nodeType,g.nodeType}catch{r=null;break e}var E=0,b=-1,k=-1,B=0,Z=0,ae=t,Y=null;t:for(;;){for(var X;ae!==r||f!==0&&ae.nodeType!==3||(b=E+f),ae!==g||o!==0&&ae.nodeType!==3||(k=E+o),ae.nodeType===3&&(E+=ae.nodeValue.length),(X=ae.firstChild)!==null;)Y=ae,ae=X;for(;;){if(ae===t)break t;if(Y===r&&++B===f&&(b=E),Y===g&&++Z===o&&(k=E),(X=ae.nextSibling)!==null)break;ae=Y,Y=ae.parentNode}ae=X}r=b===-1||k===-1?null:{start:b,end:k}}else r=null}r=r||{start:0,end:0}}else r=null;for(tm={focusedElem:t,selectionRange:r},zu=!1,Ut=i;Ut!==null;)if(i=Ut,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Ut=t;else for(;Ut!==null;){switch(i=Ut,g=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&g!==null){t=void 0,r=i,f=g.memoizedProps,g=g.memoizedState,o=r.stateNode;try{var pe=Ka(r.type,f,r.elementType===r.type);t=o.getSnapshotBeforeUpdate(pe,g),o.__reactInternalSnapshotBeforeUpdate=t}catch(we){Xe(r,r.return,we)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,r=t.nodeType,r===9)am(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":am(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=i.sibling,t!==null){t.return=i.return,Ut=t;break}Ut=i.return}return pe=py,py=!1,pe}function _y(t,i,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:Ws(t,r),o&4&&yo(5,r);break;case 1:if(Ws(t,r),o&4)if(t=r.stateNode,i===null)try{t.componentDidMount()}catch(b){Xe(r,r.return,b)}else{var f=Ka(r.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(b){Xe(r,r.return,b)}}o&64&&uy(r),o&512&&$a(r,r.return);break;case 3:if(Ws(t,r),o&64&&(o=r.updateQueue,o!==null)){if(t=null,r.child!==null)switch(r.child.tag){case 27:case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}try{cy(o,t)}catch(b){Xe(r,r.return,b)}}break;case 26:Ws(t,r),o&512&&$a(r,r.return);break;case 27:case 5:Ws(t,r),i===null&&o&4&&dy(r),o&512&&$a(r,r.return);break;case 12:Ws(t,r);break;case 13:Ws(t,r),o&4&&xy(t,r);break;case 22:if(f=r.memoizedState!==null||Qs,!f){i=i!==null&&i.memoizedState!==null||ht;var g=Qs,E=ht;Qs=f,(ht=i)&&!E?zi(t,r,(r.subtreeFlags&8772)!==0):Ws(t,r),Qs=g,ht=E}o&512&&(r.memoizedProps.mode==="manual"?$a(r,r.return):En(r,r.return));break;default:Ws(t,r)}}function yy(t){var i=t.alternate;i!==null&&(t.alternate=null,yy(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ba(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Tt=null,Tn=!1;function Ys(t,i,r){for(r=r.child;r!==null;)vy(t,i,r),r=r.sibling}function vy(t,i,r){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(_i,r)}catch{}switch(r.tag){case 26:ht||En(r,i),Ys(t,i,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:ht||En(r,i);var o=Tt,f=Tn;for(Tt=r.stateNode,Ys(t,i,r),r=r.stateNode,i=r.attributes;i.length;)r.removeAttributeNode(i[0]);ba(r),Tt=o,Tn=f;break;case 5:ht||En(r,i);case 6:f=Tt;var g=Tn;if(Tt=null,Ys(t,i,r),Tt=f,Tn=g,Tt!==null)if(Tn)try{t=Tt,o=r.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)}catch(E){Xe(r,i,E)}else try{Tt.removeChild(r.stateNode)}catch(E){Xe(r,i,E)}break;case 18:Tt!==null&&(Tn?(i=Tt,r=r.stateNode,i.nodeType===8?im(i.parentNode,r):i.nodeType===1&&im(i,r),Lo(i)):im(Tt,r.stateNode));break;case 4:o=Tt,f=Tn,Tt=r.stateNode.containerInfo,Tn=!0,Ys(t,i,r),Tt=o,Tn=f;break;case 0:case 11:case 14:case 15:ht||Hi(2,r,i),ht||Hi(4,r,i),Ys(t,i,r);break;case 1:ht||(En(r,i),o=r.stateNode,typeof o.componentWillUnmount=="function"&&hy(r,i,o)),Ys(t,i,r);break;case 21:Ys(t,i,r);break;case 22:ht||En(r,i),ht=(o=ht)||r.memoizedState!==null,Ys(t,i,r),ht=o;break;default:Ys(t,i,r)}}function xy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Lo(t)}catch(r){Xe(i,i.return,r)}}function Jb(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new gy),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new gy),i;default:throw Error(a(435,t.tag))}}function Nf(t,i){var r=Jb(t);i.forEach(function(o){var f=dA.bind(null,t,o);r.has(o)||(r.add(o),o.then(f,f))})}function Bn(t,i){var r=i.deletions;if(r!==null)for(var o=0;o<r.length;o++){var f=r[o],g=t,E=i,b=E;e:for(;b!==null;){switch(b.tag){case 27:case 5:Tt=b.stateNode,Tn=!1;break e;case 3:Tt=b.stateNode.containerInfo,Tn=!0;break e;case 4:Tt=b.stateNode.containerInfo,Tn=!0;break e}b=b.return}if(Tt===null)throw Error(a(160));vy(g,E,f),Tt=null,Tn=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Ey(i,t),i=i.sibling}var Xn=null;function Ey(t,i){var r=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Bn(i,t),Hn(t),o&4&&(Hi(3,t,t.return),yo(3,t),Hi(5,t,t.return));break;case 1:Bn(i,t),Hn(t),o&512&&(ht||r===null||En(r,r.return)),o&64&&Qs&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var f=Xn;if(Bn(i,t),Hn(t),o&512&&(ht||r===null||En(r,r.return)),o&4){var g=r!==null?r.memoizedState:null;if(o=t.memoizedState,r===null)if(o===null)if(t.stateNode===null){e:{o=t.type,r=t.memoizedProps,f=f.ownerDocument||f;t:switch(o){case"title":g=f.getElementsByTagName("title")[0],(!g||g[Ai]||g[Mt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(o),f.head.insertBefore(g,f.querySelector("head > title"))),Ft(g,o,r),g[Mt]=t,at(g),o=g;break e;case"link":var E=dv("link","href",f).get(o+(r.href||""));if(E){for(var b=0;b<E.length;b++)if(g=E[b],g.getAttribute("href")===(r.href==null?null:r.href)&&g.getAttribute("rel")===(r.rel==null?null:r.rel)&&g.getAttribute("title")===(r.title==null?null:r.title)&&g.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){E.splice(b,1);break t}}g=f.createElement(o),Ft(g,o,r),f.head.appendChild(g);break;case"meta":if(E=dv("meta","content",f).get(o+(r.content||""))){for(b=0;b<E.length;b++)if(g=E[b],g.getAttribute("content")===(r.content==null?null:""+r.content)&&g.getAttribute("name")===(r.name==null?null:r.name)&&g.getAttribute("property")===(r.property==null?null:r.property)&&g.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&g.getAttribute("charset")===(r.charSet==null?null:r.charSet)){E.splice(b,1);break t}}g=f.createElement(o),Ft(g,o,r),f.head.appendChild(g);break;default:throw Error(a(468,o))}g[Mt]=t,at(g),o=g}t.stateNode=o}else fv(f,t.type,t.stateNode);else t.stateNode=hv(f,o,t.memoizedProps);else g!==o?(g===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):g.count--,o===null?fv(f,t.type,t.stateNode):hv(f,o,t.memoizedProps)):o===null&&t.stateNode!==null&&fy(t,t.memoizedProps,r.memoizedProps)}break;case 27:if(o&4&&t.alternate===null){f=t.stateNode,g=t.memoizedProps;try{for(var k=f.firstChild;k;){var B=k.nextSibling,Z=k.nodeName;k[Ai]||Z==="HEAD"||Z==="BODY"||Z==="SCRIPT"||Z==="STYLE"||Z==="LINK"&&k.rel.toLowerCase()==="stylesheet"||f.removeChild(k),k=B}for(var ae=t.type,Y=f.attributes;Y.length;)f.removeAttributeNode(Y[0]);Ft(f,ae,g),f[Mt]=t,f[St]=g}catch(pe){Xe(t,t.return,pe)}}case 5:if(Bn(i,t),Hn(t),o&512&&(ht||r===null||En(r,r.return)),t.flags&32){f=t.stateNode;try{In(f,"")}catch(pe){Xe(t,t.return,pe)}}o&4&&t.stateNode!=null&&(f=t.memoizedProps,fy(t,f,r!==null?r.memoizedProps:f)),o&1024&&(Sf=!0);break;case 6:if(Bn(i,t),Hn(t),o&4){if(t.stateNode===null)throw Error(a(162));o=t.memoizedProps,r=t.stateNode;try{r.nodeValue=o}catch(pe){Xe(t,t.return,pe)}}break;case 3:if(Uu=null,f=Xn,Xn=Vu(i.containerInfo),Bn(i,t),Xn=f,Hn(t),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Lo(i.containerInfo)}catch(pe){Xe(t,t.return,pe)}Sf&&(Sf=!1,Ty(t));break;case 4:o=Xn,Xn=Vu(t.stateNode.containerInfo),Bn(i,t),Hn(t),Xn=o;break;case 12:Bn(i,t),Hn(t);break;case 13:Bn(i,t),Hn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Lf=dn()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Nf(t,o)));break;case 22:if(o&512&&(ht||r===null||En(r,r.return)),k=t.memoizedState!==null,B=r!==null&&r.memoizedState!==null,Z=Qs,ae=ht,Qs=Z||k,ht=ae||B,Bn(i,t),ht=ae,Qs=Z,Hn(t),i=t.stateNode,i._current=t,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,o&8192&&(i._visibility=k?i._visibility&-2:i._visibility|1,k&&(i=Qs||ht,r===null||B||i||Gr(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))e:for(r=null,i=t;;){if(i.tag===5||i.tag===26||i.tag===27){if(r===null){B=r=i;try{if(f=B.stateNode,k)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=B.stateNode,b=B.memoizedProps.style;var X=b!=null&&b.hasOwnProperty("display")?b.display:null;E.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(pe){Xe(B,B.return,pe)}}}else if(i.tag===6){if(r===null){B=i;try{B.stateNode.nodeValue=k?"":B.memoizedProps}catch(pe){Xe(B,B.return,pe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;r===i&&(r=null),i=i.return}r===i&&(r=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=t.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,Nf(t,r))));break;case 19:Bn(i,t),Hn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Nf(t,o)));break;case 21:break;default:Bn(i,t),Hn(t)}}function Hn(t){var i=t.flags;if(i&2){try{if(t.tag!==27){e:{for(var r=t.return;r!==null;){if(my(r)){var o=r;break e}r=r.return}throw Error(a(160))}switch(o.tag){case 27:var f=o.stateNode,g=Af(t);Tu(t,g,f);break;case 5:var E=o.stateNode;o.flags&32&&(In(E,""),o.flags&=-33);var b=Af(t);Tu(t,b,E);break;case 3:case 4:var k=o.stateNode.containerInfo,B=Af(t);wf(t,B,k);break;default:throw Error(a(161))}}}catch(Z){Xe(t,t.return,Z)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Ty(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Ty(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Ws(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)_y(t,i.alternate,i),i=i.sibling}function Gr(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Hi(4,i,i.return),Gr(i);break;case 1:En(i,i.return);var r=i.stateNode;typeof r.componentWillUnmount=="function"&&hy(i,i.return,r),Gr(i);break;case 26:case 27:case 5:En(i,i.return),Gr(i);break;case 22:En(i,i.return),i.memoizedState===null&&Gr(i);break;default:Gr(i)}t=t.sibling}}function zi(t,i,r){for(r=r&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,f=t,g=i,E=g.flags;switch(g.tag){case 0:case 11:case 15:zi(f,g,r),yo(4,g);break;case 1:if(zi(f,g,r),o=g,f=o.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(B){Xe(o,o.return,B)}if(o=g,f=o.updateQueue,f!==null){var b=o.stateNode;try{var k=f.shared.hiddenCallbacks;if(k!==null)for(f.shared.hiddenCallbacks=null,f=0;f<k.length;f++)oy(k[f],b)}catch(B){Xe(o,o.return,B)}}r&&E&64&&uy(g),$a(g,g.return);break;case 26:case 27:case 5:zi(f,g,r),r&&o===null&&E&4&&dy(g),$a(g,g.return);break;case 12:zi(f,g,r);break;case 13:zi(f,g,r),r&&E&4&&xy(f,g);break;case 22:g.memoizedState===null&&zi(f,g,r),$a(g,g.return);break;default:zi(f,g,r)}i=i.sibling}}function Rf(t,i){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&lo(r))}function kf(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&lo(t))}function qi(t,i,r,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)by(t,i,r,o),i=i.sibling}function by(t,i,r,o){var f=i.flags;switch(i.tag){case 0:case 11:case 15:qi(t,i,r,o),f&2048&&yo(9,i);break;case 3:qi(t,i,r,o),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&lo(t)));break;case 12:if(f&2048){qi(t,i,r,o),t=i.stateNode;try{var g=i.memoizedProps,E=g.id,b=g.onPostCommit;typeof b=="function"&&b(E,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(k){Xe(i,i.return,k)}}else qi(t,i,r,o);break;case 23:break;case 22:g=i.stateNode,i.memoizedState!==null?g._visibility&4?qi(t,i,r,o):vo(t,i):g._visibility&4?qi(t,i,r,o):(g._visibility|=4,$r(t,i,r,o,(i.subtreeFlags&10256)!==0)),f&2048&&Rf(i.alternate,i);break;case 24:qi(t,i,r,o),f&2048&&kf(i.alternate,i);break;default:qi(t,i,r,o)}}function $r(t,i,r,o,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var g=t,E=i,b=r,k=o,B=E.flags;switch(E.tag){case 0:case 11:case 15:$r(g,E,b,k,f),yo(8,E);break;case 23:break;case 22:var Z=E.stateNode;E.memoizedState!==null?Z._visibility&4?$r(g,E,b,k,f):vo(g,E):(Z._visibility|=4,$r(g,E,b,k,f)),f&&B&2048&&Rf(E.alternate,E);break;case 24:$r(g,E,b,k,f),f&&B&2048&&kf(E.alternate,E);break;default:$r(g,E,b,k,f)}i=i.sibling}}function vo(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var r=t,o=i,f=o.flags;switch(o.tag){case 22:vo(r,o),f&2048&&Rf(o.alternate,o);break;case 24:vo(r,o),f&2048&&kf(o.alternate,o);break;default:vo(r,o)}i=i.sibling}}var xo=8192;function Qr(t){if(t.subtreeFlags&xo)for(t=t.child;t!==null;)Ay(t),t=t.sibling}function Ay(t){switch(t.tag){case 26:Qr(t),t.flags&xo&&t.memoizedState!==null&&HA(Xn,t.memoizedState,t.memoizedProps);break;case 5:Qr(t);break;case 3:case 4:var i=Xn;Xn=Vu(t.stateNode.containerInfo),Qr(t),Xn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=xo,xo=16777216,Qr(t),xo=i):Qr(t));break;default:Qr(t)}}function wy(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Eo(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var r=0;r<i.length;r++){var o=i[r];Ut=o,Ny(o,t)}wy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Sy(t),t=t.sibling}function Sy(t){switch(t.tag){case 0:case 11:case 15:Eo(t),t.flags&2048&&Hi(9,t,t.return);break;case 3:Eo(t);break;case 12:Eo(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&4&&(t.return===null||t.return.tag!==13)?(i._visibility&=-5,bu(t)):Eo(t);break;default:Eo(t)}}function bu(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var r=0;r<i.length;r++){var o=i[r];Ut=o,Ny(o,t)}wy(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Hi(8,i,i.return),bu(i);break;case 22:r=i.stateNode,r._visibility&4&&(r._visibility&=-5,bu(i));break;default:bu(i)}t=t.sibling}}function Ny(t,i){for(;Ut!==null;){var r=Ut;switch(r.tag){case 0:case 11:case 15:Hi(8,r,i);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:lo(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Ut=o;else e:for(r=t;Ut!==null;){o=Ut;var f=o.sibling,g=o.return;if(yy(o),o===r){Ut=null;break e}if(f!==null){f.return=g,Ut=f;break e}Ut=g}}}function eA(t,i,r,o){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(t,i,r,o){return new eA(t,i,r,o)}function Cf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ki(t,i){var r=t.alternate;return r===null?(r=zn(t.tag,i,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=i,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&31457280,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,i=t.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Ry(t,i){t.flags&=31457282;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,i=r.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Au(t,i,r,o,f,g){var E=0;if(o=t,typeof t=="function")Cf(t)&&(E=1);else if(typeof t=="string")E=UA(t,r,an.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case p:return Qa(r.children,f,g,i);case _:E=8,f|=24;break;case x:return t=zn(12,r,i,f|2),t.elementType=x,t.lanes=g,t;case q:return t=zn(13,r,i,f),t.elementType=q,t.lanes=g,t;case M:return t=zn(19,r,i,f),t.elementType=M,t.lanes=g,t;case Q:return ky(r,f,g,i);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case T:case C:E=10;break e;case w:E=9;break e;case D:E=11;break e;case z:E=14;break e;case G:E=16,o=null;break e}E=29,r=Error(a(130,t===null?"null":typeof t,"")),o=null}return i=zn(E,r,i,f),i.elementType=t,i.type=o,i.lanes=g,i}function Qa(t,i,r,o){return t=zn(7,t,o,i),t.lanes=r,t}function ky(t,i,r,o){t=zn(22,t,o,i),t.elementType=Q,t.lanes=r;var f={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var g=f._current;if(g===null)throw Error(a(456));if((f._pendingVisibility&2)===0){var E=ji(g,2);E!==null&&(f._pendingVisibility|=2,un(E,g,2))}},attach:function(){var g=f._current;if(g===null)throw Error(a(456));if((f._pendingVisibility&2)!==0){var E=ji(g,2);E!==null&&(f._pendingVisibility&=-3,un(E,g,2))}}};return t.stateNode=f,t}function If(t,i,r){return t=zn(6,t,null,i),t.lanes=r,t}function jf(t,i,r){return i=zn(4,t.children!==null?t.children:[],t.key,i),i.lanes=r,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}function Xs(t){t.flags|=4}function Cy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!mv(i)){if(i=Un.current,i!==null&&((Be&4194176)===Be?ps!==null:(Be&62914560)!==Be&&(Be&536870912)===0||i!==ps))throw io=Ld,$p;t.flags|=8192}}function wu(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?xi():536870912,t.lanes|=i,Wr|=i)}function To(t,i){if(!Ke)switch(t.tailMode){case"hidden":i=t.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function rt(t){var i=t.alternate!==null&&t.alternate.child===t.child,r=0,o=0;if(i)for(var f=t.child;f!==null;)r|=f.lanes|f.childLanes,o|=f.subtreeFlags&31457280,o|=f.flags&31457280,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)r|=f.lanes|f.childLanes,o|=f.subtreeFlags,o|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=o,t.childLanes=r,i}function tA(t,i,r){var o=i.pendingProps;switch(Od(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(i),null;case 1:return rt(i),null;case 3:return r=i.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),$s(Ct),Cs(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(eo(i)?Xs(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Wn!==null&&(Bf(Wn),Wn=null))),rt(i),null;case 26:return r=i.memoizedState,t===null?(Xs(i),r!==null?(rt(i),Cy(i,r)):(rt(i),i.flags&=-16777217)):r?r!==t.memoizedState?(Xs(i),rt(i),Cy(i,r)):(rt(i),i.flags&=-16777217):(t.memoizedProps!==o&&Xs(i),rt(i),i.flags&=-16777217),null;case 27:gr(i),r=Rn.current;var f=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==o&&Xs(i);else{if(!o){if(i.stateNode===null)throw Error(a(166));return rt(i),null}t=an.current,eo(i)?Fp(i):(t=rv(f,o,r),i.stateNode=t,Xs(i))}return rt(i),null;case 5:if(gr(i),r=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&Xs(i);else{if(!o){if(i.stateNode===null)throw Error(a(166));return rt(i),null}if(t=an.current,eo(i))Fp(i);else{switch(f=Lu(Rn.current),t){case 1:t=f.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=f.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=f.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=f.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=f.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof o.is=="string"?f.createElement("select",{is:o.is}):f.createElement("select"),o.multiple?t.multiple=!0:o.size&&(t.size=o.size);break;default:t=typeof o.is=="string"?f.createElement(r,{is:o.is}):f.createElement(r)}}t[Mt]=i,t[St]=o;e:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)t.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break e;for(;f.sibling===null;){if(f.return===null||f.return===i)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=t;e:switch(Ft(t,r,o),r){case"button":case"input":case"select":case"textarea":t=!!o.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Xs(i)}}return rt(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==o&&Xs(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(a(166));if(t=Rn.current,eo(i)){if(t=i.stateNode,r=i.memoizedProps,o=null,f=cn,f!==null)switch(f.tag){case 27:case 5:o=f.memoizedProps}t[Mt]=i,t=!!(t.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||ev(t.nodeValue,r)),t||Pa(i)}else t=Lu(t).createTextNode(o),t[Mt]=i,i.stateNode=t}return rt(i),null;case 13:if(o=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=eo(i),o!==null&&o.dehydrated!==null){if(t===null){if(!f)throw Error(a(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[Mt]=i}else to(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;rt(i),f=!1}else Wn!==null&&(Bf(Wn),Wn=null),f=!0;if(!f)return i.flags&256?(qs(i),i):(qs(i),null)}if(qs(i),(i.flags&128)!==0)return i.lanes=r,i;if(r=o!==null,t=t!==null&&t.memoizedState!==null,r){o=i.child,f=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(f=o.alternate.memoizedState.cachePool.pool);var g=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(g=o.memoizedState.cachePool.pool),g!==f&&(o.flags|=2048)}return r!==t&&r&&(i.child.flags|=8192),wu(i,i.updateQueue),rt(i),null;case 4:return Cs(),t===null&&Xf(i.stateNode.containerInfo),rt(i),null;case 10:return $s(i.type),rt(i),null;case 19:if(ct(kt),f=i.memoizedState,f===null)return rt(i),null;if(o=(i.flags&128)!==0,g=f.rendering,g===null)if(o)To(f,!1);else{if(dt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(g=ou(t),g!==null){for(i.flags|=128,To(f,!1),t=g.updateQueue,i.updateQueue=t,wu(i,t),i.subtreeFlags=0,t=r,r=i.child;r!==null;)Ry(r,t),r=r.sibling;return Qe(kt,kt.current&1|2),i.child}t=t.sibling}f.tail!==null&&dn()>Su&&(i.flags|=128,o=!0,To(f,!1),i.lanes=4194304)}else{if(!o)if(t=ou(g),t!==null){if(i.flags|=128,o=!0,t=t.updateQueue,i.updateQueue=t,wu(i,t),To(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!Ke)return rt(i),null}else 2*dn()-f.renderingStartTime>Su&&r!==536870912&&(i.flags|=128,o=!0,To(f,!1),i.lanes=4194304);f.isBackwards?(g.sibling=i.child,i.child=g):(t=f.last,t!==null?t.sibling=g:i.child=g,f.last=g)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=dn(),i.sibling=null,t=kt.current,Qe(kt,o?t&1|2:t&1),i):(rt(i),null);case 22:case 23:return qs(i),Pd(),o=i.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(r&536870912)!==0&&(i.flags&128)===0&&(rt(i),i.subtreeFlags&6&&(i.flags|=8192)):rt(i),r=i.updateQueue,r!==null&&wu(i,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==r&&(i.flags|=2048),t!==null&&ct(Ba),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),i.memoizedState.cache!==r&&(i.flags|=2048),$s(Ct),rt(i),null;case 25:return null}throw Error(a(156,i.tag))}function nA(t,i){switch(Od(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return $s(Ct),Cs(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return gr(i),null;case 13:if(qs(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(a(340));to()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return ct(kt),null;case 4:return Cs(),null;case 10:return $s(i.type),null;case 22:case 23:return qs(i),Pd(),t!==null&&ct(Ba),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return $s(Ct),null;case 25:return null;default:return null}}function Iy(t,i){switch(Od(i),i.tag){case 3:$s(Ct),Cs();break;case 26:case 27:case 5:gr(i);break;case 4:Cs();break;case 13:qs(i);break;case 19:ct(kt);break;case 10:$s(i.type);break;case 22:case 23:qs(i),Pd(),t!==null&&ct(Ba);break;case 24:$s(Ct)}}var sA={getCacheForType:function(t){var i=Wt(Ct),r=i.data.get(t);return r===void 0&&(r=t(),i.data.set(t,r)),r}},iA=typeof WeakMap=="function"?WeakMap:Map,lt=0,Ze=null,De=null,Be=0,Je=0,bn=null,Zs=!1,Yr=!1,Df=!1,Js=0,dt=0,Fi=0,Ya=0,Of=0,qn=0,Wr=0,bo=null,ys=null,Mf=!1,Lf=0,Su=1/0,Nu=null,Gi=null,Ru=!1,Wa=null,Ao=0,Vf=0,Pf=null,wo=0,Uf=null;function An(){if((lt&2)!==0&&Be!==0)return Be&-Be;if(S.T!==null){var t=Hr;return t!==0?t:$f()}return Oc()}function jy(){qn===0&&(qn=(Be&536870912)===0||Ke?Ll():536870912);var t=Un.current;return t!==null&&(t.flags|=32),qn}function un(t,i,r){(t===Ze&&Je===2||t.cancelPendingCommit!==null)&&(Xr(t,0),ei(t,Be,qn,!1)),pt(t,r),((lt&2)===0||t!==Ze)&&(t===Ze&&((lt&2)===0&&(Ya|=r),dt===4&&ei(t,Be,qn,!1)),vs(t))}function Dy(t,i,r){if((lt&6)!==0)throw Error(a(327));var o=!r&&(i&60)===0&&(i&t.expiredLanes)===0||vi(t,i),f=o?lA(t,i):qf(t,i,!0),g=o;do{if(f===0){Yr&&!o&&ei(t,i,0,!1);break}else if(f===6)ei(t,i,0,!Zs);else{if(r=t.current.alternate,g&&!aA(r)){f=qf(t,i,!1),g=!1;continue}if(f===2){if(g=i,t.errorRecoveryDisabledLanes&g)var E=0;else E=t.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var b=t;f=bo;var k=b.current.memoizedState.isDehydrated;if(k&&(Xr(b,E).flags|=256),E=qf(b,E,!1),E!==2){if(Df&&!k){b.errorRecoveryDisabledLanes|=g,Ya|=g,f=4;break e}g=ys,ys=f,g!==null&&Bf(g)}f=E}if(g=!1,f!==2)continue}}if(f===1){Xr(t,0),ei(t,i,0,!0);break}e:{switch(o=t,f){case 0:case 1:throw Error(a(345));case 4:if((i&4194176)===i){ei(o,i,qn,!Zs);break e}break;case 2:ys=null;break;case 3:case 5:break;default:throw Error(a(329))}if(o.finishedWork=r,o.finishedLanes=i,(i&62914560)===i&&(g=Lf+300-dn(),10<g)){if(ei(o,i,qn,!Zs),kn(o,0)!==0)break e;o.timeoutHandle=sv(Oy.bind(null,o,r,ys,Nu,Mf,i,qn,Ya,Wr,Zs,2,-0,0),g);break e}Oy(o,r,ys,Nu,Mf,i,qn,Ya,Wr,Zs,0,-0,0)}}break}while(!0);vs(t)}function Bf(t){ys===null?ys=t:ys.push.apply(ys,t)}function Oy(t,i,r,o,f,g,E,b,k,B,Z,ae,Y){var X=i.subtreeFlags;if((X&8192||(X&16785408)===16785408)&&(Io={stylesheets:null,count:0,unsuspend:BA},Ay(i),i=zA(),i!==null)){t.cancelPendingCommit=i(Hy.bind(null,t,r,o,f,E,b,k,1,ae,Y)),ei(t,g,E,!B);return}Hy(t,r,o,f,E,b,k,Z,ae,Y)}function aA(t){for(var i=t;;){var r=i.tag;if((r===0||r===11||r===15)&&i.flags&16384&&(r=i.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var f=r[o],g=f.getSnapshot;f=f.value;try{if(!xn(g(),f))return!1}catch{return!1}}if(r=i.child,i.subtreeFlags&16384&&r!==null)r.return=i,i=r;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ei(t,i,r,o){i&=~Of,i&=~Ya,t.suspendedLanes|=i,t.pingedLanes&=~i,o&&(t.warmLanes|=i),o=t.expirationTimes;for(var f=i;0<f;){var g=31-rn(f),E=1<<g;o[g]=-1,f&=~E}r!==0&&Ei(t,r,i)}function ku(){return(lt&6)===0?(So(0),!1):!0}function Hf(){if(De!==null){if(Je===0)var t=De.return;else t=De,Gs=Fa=null,Gd(t),Ur=null,ao=0,t=De;for(;t!==null;)Iy(t.alternate,t),t=t.return;De=null}}function Xr(t,i){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,AA(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Hf(),Ze=t,De=r=Ki(t.current,null),Be=i,Je=0,bn=null,Zs=!1,Yr=vi(t,i),Df=!1,Wr=qn=Of=Ya=Fi=dt=0,ys=bo=null,Mf=!1,(i&8)!==0&&(i|=i&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=i;0<o;){var f=31-rn(o),g=1<<f;i|=t[f],o&=~g}return Js=i,Jc(),r}function My(t,i){Ie=null,S.H=_s,i===so?(i=Wp(),Je=3):i===$p?(i=Wp(),Je=4):Je=i===Q_?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,bn=i,De===null&&(dt=1,vu(t,Ln(i,t.current)))}function Ly(){var t=S.H;return S.H=_s,t===null?_s:t}function Vy(){var t=S.A;return S.A=sA,t}function zf(){dt=4,Zs||(Be&4194176)!==Be&&Un.current!==null||(Yr=!0),(Fi&134217727)===0&&(Ya&134217727)===0||Ze===null||ei(Ze,Be,qn,!1)}function qf(t,i,r){var o=lt;lt|=2;var f=Ly(),g=Vy();(Ze!==t||Be!==i)&&(Nu=null,Xr(t,i)),i=!1;var E=dt;e:do try{if(Je!==0&&De!==null){var b=De,k=bn;switch(Je){case 8:Hf(),E=6;break e;case 3:case 2:case 6:Un.current===null&&(i=!0);var B=Je;if(Je=0,bn=null,Zr(t,b,k,B),r&&Yr){E=0;break e}break;default:B=Je,Je=0,bn=null,Zr(t,b,k,B)}}rA(),E=dt;break}catch(Z){My(t,Z)}while(!0);return i&&t.shellSuspendCounter++,Gs=Fa=null,lt=o,S.H=f,S.A=g,De===null&&(Ze=null,Be=0,Jc()),E}function rA(){for(;De!==null;)Py(De)}function lA(t,i){var r=lt;lt|=2;var o=Ly(),f=Vy();Ze!==t||Be!==i?(Nu=null,Su=dn()+500,Xr(t,i)):Yr=vi(t,i);e:do try{if(Je!==0&&De!==null){i=De;var g=bn;t:switch(Je){case 1:Je=0,bn=null,Zr(t,i,g,1);break;case 2:if(Qp(g)){Je=0,bn=null,Uy(i);break}i=function(){Je===2&&Ze===t&&(Je=7),vs(t)},g.then(i,i);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:Qp(g)?(Je=0,bn=null,Uy(i)):(Je=0,bn=null,Zr(t,i,g,7));break;case 5:var E=null;switch(De.tag){case 26:E=De.memoizedState;case 5:case 27:var b=De;if(!E||mv(E)){Je=0,bn=null;var k=b.sibling;if(k!==null)De=k;else{var B=b.return;B!==null?(De=B,Cu(B)):De=null}break t}}Je=0,bn=null,Zr(t,i,g,5);break;case 6:Je=0,bn=null,Zr(t,i,g,6);break;case 8:Hf(),dt=6;break e;default:throw Error(a(462))}}oA();break}catch(Z){My(t,Z)}while(!0);return Gs=Fa=null,S.H=o,S.A=f,lt=r,De!==null?0:(Ze=null,Be=0,Jc(),dt)}function oA(){for(;De!==null&&!pd();)Py(De)}function Py(t){var i=ry(t.alternate,t,Js);t.memoizedProps=t.pendingProps,i===null?Cu(t):De=i}function Uy(t){var i=t,r=i.alternate;switch(i.tag){case 15:case 0:i=ey(r,i,i.pendingProps,i.type,void 0,Be);break;case 11:i=ey(r,i,i.pendingProps,i.type.render,i.ref,Be);break;case 5:Gd(i);default:Iy(r,i),i=De=Ry(i,Js),i=ry(r,i,Js)}t.memoizedProps=t.pendingProps,i===null?Cu(t):De=i}function Zr(t,i,r,o){Gs=Fa=null,Gd(i),Ur=null,ao=0;var f=i.return;try{if(Wb(t,f,i,r,Be)){dt=1,vu(t,Ln(r,t.current)),De=null;return}}catch(g){if(f!==null)throw De=f,g;dt=1,vu(t,Ln(r,t.current)),De=null;return}i.flags&32768?(Ke||o===1?t=!0:Yr||(Be&536870912)!==0?t=!1:(Zs=t=!0,(o===2||o===3||o===6)&&(o=Un.current,o!==null&&o.tag===13&&(o.flags|=16384))),By(i,t)):Cu(i)}function Cu(t){var i=t;do{if((i.flags&32768)!==0){By(i,Zs);return}t=i.return;var r=tA(i.alternate,i,Js);if(r!==null){De=r;return}if(i=i.sibling,i!==null){De=i;return}De=i=t}while(i!==null);dt===0&&(dt=5)}function By(t,i){do{var r=nA(t.alternate,t);if(r!==null){r.flags&=32767,De=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!i&&(t=t.sibling,t!==null)){De=t;return}De=t=r}while(t!==null);dt=6,De=null}function Hy(t,i,r,o,f,g,E,b,k,B){var Z=S.T,ae=he.p;try{he.p=2,S.T=null,cA(t,i,r,o,ae,f,g,E,b,k,B)}finally{S.T=Z,he.p=ae}}function cA(t,i,r,o,f,g,E,b){do Jr();while(Wa!==null);if((lt&6)!==0)throw Error(a(327));var k=t.finishedWork;if(o=t.finishedLanes,k===null)return null;if(t.finishedWork=null,t.finishedLanes=0,k===t.current)throw Error(a(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var B=k.lanes|k.childLanes;if(B|=Id,jc(t,o,B,g,E,b),t===Ze&&(De=Ze=null,Be=0),(k.subtreeFlags&10256)===0&&(k.flags&10256)===0||Ru||(Ru=!0,Vf=B,Pf=r,fA(Is,function(){return Jr(),null})),r=(k.flags&15990)!==0,(k.subtreeFlags&15990)!==0||r?(r=S.T,S.T=null,g=he.p,he.p=2,E=lt,lt|=4,Zb(t,k),Ey(k,t),Db(tm,t.containerInfo),zu=!!em,tm=em=null,t.current=k,_y(t,k.alternate,k),jl(),lt=E,he.p=g,S.T=r):t.current=k,Ru?(Ru=!1,Wa=t,Ao=o):zy(t,B),B=t.pendingLanes,B===0&&(Gi=null),Ol(k.stateNode),vs(t),i!==null)for(f=t.onRecoverableError,k=0;k<i.length;k++)B=i[k],f(B.value,{componentStack:B.stack});return(Ao&3)!==0&&Jr(),B=t.pendingLanes,(o&4194218)!==0&&(B&42)!==0?t===Uf?wo++:(wo=0,Uf=t):wo=0,So(0),null}function zy(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,lo(i)))}function Jr(){if(Wa!==null){var t=Wa,i=Vf;Vf=0;var r=Dc(Ao),o=S.T,f=he.p;try{if(he.p=32>r?32:r,S.T=null,Wa===null)var g=!1;else{r=Pf,Pf=null;var E=Wa,b=Ao;if(Wa=null,Ao=0,(lt&6)!==0)throw Error(a(331));var k=lt;if(lt|=4,Sy(E.current),by(E,E.current,b,r),lt=k,So(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(_i,E)}catch{}g=!0}return g}finally{he.p=f,S.T=o,zy(t,i)}}return!1}function qy(t,i,r){i=Ln(r,i),i=lf(t.stateNode,i,2),t=Bi(t,i,2),t!==null&&(pt(t,2),vs(t))}function Xe(t,i,r){if(t.tag===3)qy(t,t,r);else for(;i!==null;){if(i.tag===3){qy(i,t,r);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Gi===null||!Gi.has(o))){t=Ln(r,t),r=G_(2),o=Bi(i,r,2),o!==null&&($_(r,o,i,t),pt(o,2),vs(o));break}}i=i.return}}function Kf(t,i,r){var o=t.pingCache;if(o===null){o=t.pingCache=new iA;var f=new Set;o.set(i,f)}else f=o.get(i),f===void 0&&(f=new Set,o.set(i,f));f.has(r)||(Df=!0,f.add(r),t=uA.bind(null,t,i,r),i.then(t,t))}function uA(t,i,r){var o=t.pingCache;o!==null&&o.delete(i),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Ze===t&&(Be&r)===r&&(dt===4||dt===3&&(Be&62914560)===Be&&300>dn()-Lf?(lt&2)===0&&Xr(t,0):Of|=r,Wr===Be&&(Wr=0)),vs(t)}function Ky(t,i){i===0&&(i=xi()),t=ji(t,i),t!==null&&(pt(t,i),vs(t))}function hA(t){var i=t.memoizedState,r=0;i!==null&&(r=i.retryLane),Ky(t,r)}function dA(t,i){var r=0;switch(t.tag){case 13:var o=t.stateNode,f=t.memoizedState;f!==null&&(r=f.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(i),Ky(t,r)}function fA(t,i){return xa(t,i)}var Iu=null,el=null,Ff=!1,ju=!1,Gf=!1,Xa=0;function vs(t){t!==el&&t.next===null&&(el===null?Iu=el=t:el=el.next=t),ju=!0,Ff||(Ff=!0,gA(mA))}function So(t,i){if(!Gf&&ju){Gf=!0;do for(var r=!1,o=Iu;o!==null;){if(t!==0){var f=o.pendingLanes;if(f===0)var g=0;else{var E=o.suspendedLanes,b=o.pingedLanes;g=(1<<31-rn(42|t)+1)-1,g&=f&~(E&~b),g=g&201326677?g&201326677|1:g?g|2:0}g!==0&&(r=!0,$y(o,g))}else g=Be,g=kn(o,o===Ze?g:0),(g&3)===0||vi(o,g)||(r=!0,$y(o,g));o=o.next}while(r);Gf=!1}}function mA(){ju=Ff=!1;var t=0;Xa!==0&&(bA()&&(t=Xa),Xa=0);for(var i=dn(),r=null,o=Iu;o!==null;){var f=o.next,g=Fy(o,i);g===0?(o.next=null,r===null?Iu=f:r.next=f,f===null&&(el=r)):(r=o,(t!==0||(g&3)!==0)&&(ju=!0)),o=f}So(t)}function Fy(t,i){for(var r=t.suspendedLanes,o=t.pingedLanes,f=t.expirationTimes,g=t.pendingLanes&-62914561;0<g;){var E=31-rn(g),b=1<<E,k=f[E];k===-1?((b&r)===0||(b&o)!==0)&&(f[E]=yr(b,i)):k<=i&&(t.expiredLanes|=b),g&=~b}if(i=Ze,r=Be,r=kn(t,t===i?r:0),o=t.callbackNode,r===0||t===i&&Je===2||t.cancelPendingCommit!==null)return o!==null&&o!==null&&_r(o),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||vi(t,r)){if(i=r&-r,i===t.callbackPriority)return i;switch(o!==null&&_r(o),Dc(r)){case 2:case 8:r=Ot;break;case 32:r=Is;break;case 268435456:r=Dl;break;default:r=Is}return o=Gy.bind(null,t),r=xa(r,o),t.callbackPriority=i,t.callbackNode=r,i}return o!==null&&o!==null&&_r(o),t.callbackPriority=2,t.callbackNode=null,2}function Gy(t,i){var r=t.callbackNode;if(Jr()&&t.callbackNode!==r)return null;var o=Be;return o=kn(t,t===Ze?o:0),o===0?null:(Dy(t,o,i),Fy(t,dn()),t.callbackNode!=null&&t.callbackNode===r?Gy.bind(null,t):null)}function $y(t,i){if(Jr())return null;Dy(t,i,!0)}function gA(t){wA(function(){(lt&6)!==0?xa(wt,t):t()})}function $f(){return Xa===0&&(Xa=Ll()),Xa}function Qy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:os(""+t)}function Yy(t,i){var r=i.ownerDocument.createElement("input");return r.name=i.name,r.value=i.value,t.id&&r.setAttribute("form",t.id),i.parentNode.insertBefore(r,i),t=new FormData(t),r.parentNode.removeChild(r),t}function pA(t,i,r,o,f){if(i==="submit"&&r&&r.stateNode===f){var g=Qy((f[St]||null).action),E=o.submitter;E&&(i=(i=E[St]||null)?Qy(i.formAction):E.getAttribute("formAction"),i!==null&&(g=i,E=null));var b=new wr("action","action",null,o,f);t.push({event:b,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Xa!==0){var k=E?Yy(f,E):new FormData(f);tf(r,{pending:!0,data:k,method:f.method,action:g},null,k)}}else typeof g=="function"&&(b.preventDefault(),k=E?Yy(f,E):new FormData(f),tf(r,{pending:!0,data:k,method:f.method,action:g},g,k))},currentTarget:f}]})}}for(var Qf=0;Qf<Hp.length;Qf++){var Yf=Hp[Qf],_A=Yf.toLowerCase(),yA=Yf[0].toUpperCase()+Yf.slice(1);Yn(_A,"on"+yA)}Yn(Lp,"onAnimationEnd"),Yn(Vp,"onAnimationIteration"),Yn(Pp,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(Mb,"onTransitionRun"),Yn(Lb,"onTransitionStart"),Yn(Vb,"onTransitionCancel"),Yn(Up,"onTransitionEnd"),fn("onMouseEnter",["mouseout","mouseover"]),fn("onMouseLeave",["mouseout","mouseover"]),fn("onPointerEnter",["pointerout","pointerover"]),fn("onPointerLeave",["pointerout","pointerover"]),yn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),yn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),yn("onBeforeInput",["compositionend","keypress","textInput","paste"]),yn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),yn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),yn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var No="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(No));function Wy(t,i){i=(i&4)!==0;for(var r=0;r<t.length;r++){var o=t[r],f=o.event;o=o.listeners;e:{var g=void 0;if(i)for(var E=o.length-1;0<=E;E--){var b=o[E],k=b.instance,B=b.currentTarget;if(b=b.listener,k!==g&&f.isPropagationStopped())break e;g=b,f.currentTarget=B;try{g(f)}catch(Z){yu(Z)}f.currentTarget=null,g=k}else for(E=0;E<o.length;E++){if(b=o[E],k=b.instance,B=b.currentTarget,b=b.listener,k!==g&&f.isPropagationStopped())break e;g=b,f.currentTarget=B;try{g(f)}catch(Z){yu(Z)}f.currentTarget=null,g=k}}}}function Le(t,i){var r=i[Ta];r===void 0&&(r=i[Ta]=new Set);var o=t+"__bubble";r.has(o)||(Xy(i,t,2,!1),r.add(o))}function Wf(t,i,r){var o=0;i&&(o|=4),Xy(r,t,o,i)}var Du="_reactListening"+Math.random().toString(36).slice(2);function Xf(t){if(!t[Du]){t[Du]=!0,Pl.forEach(function(r){r!=="selectionchange"&&(vA.has(r)||Wf(r,!1,t),Wf(r,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Du]||(i[Du]=!0,Wf("selectionchange",!1,i))}}function Xy(t,i,r,o){switch(xv(i)){case 2:var f=FA;break;case 8:f=GA;break;default:f=um}r=f.bind(null,i,r,t),f=void 0,!Dn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),o?f!==void 0?t.addEventListener(i,r,{capture:!0,passive:f}):t.addEventListener(i,r,!0):f!==void 0?t.addEventListener(i,r,{passive:f}):t.addEventListener(i,r,!1)}function Zf(t,i,r,o,f){var g=o;if((i&1)===0&&(i&2)===0&&o!==null)e:for(;;){if(o===null)return;var E=o.tag;if(E===3||E===4){var b=o.stateNode.containerInfo;if(b===f||b.nodeType===8&&b.parentNode===f)break;if(E===4)for(E=o.return;E!==null;){var k=E.tag;if((k===3||k===4)&&(k=E.stateNode.containerInfo,k===f||k.nodeType===8&&k.parentNode===f))return;E=E.return}for(;b!==null;){if(E=Qn(b),E===null)return;if(k=E.tag,k===5||k===6||k===26||k===27){o=g=E;continue e}b=b.parentNode}}o=o.return}Pc(function(){var B=g,Z=Ar(r),ae=[];e:{var Y=Bp.get(t);if(Y!==void 0){var X=wr,pe=t;switch(t){case"keypress":if(us(r)===0)break e;case"keydown":case"keyup":X=Ir;break;case"focusin":pe="focus",X=Rr;break;case"focusout":pe="blur",X=Rr;break;case"beforeblur":case"afterblur":X=Rr;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=On;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=bd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=Gc;break;case Lp:case Vp:case Pp:X=kr;break;case Up:X=Qc;break;case"scroll":case"scrollend":X=Uc;break;case"wheel":X=jr;break;case"copy":case"cut":case"paste":X=Cr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Wl;break;case"toggle":case"beforetoggle":X=Wc}var we=(i&4)!==0,ft=!we&&(t==="scroll"||t==="scrollend"),K=we?Y!==null?Y+"Capture":null:Y;we=[];for(var U=B,$;U!==null;){var ee=U;if($=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||$===null||K===null||(ee=Na(U,K),ee!=null&&we.push(Ro(U,ee,$))),ft)break;U=U.return}0<we.length&&(Y=new X(Y,pe,null,r,Z),ae.push({event:Y,listeners:we}))}}if((i&7)===0){e:{if(Y=t==="mouseover"||t==="pointerover",X=t==="mouseout"||t==="pointerout",Y&&r!==jn&&(pe=r.relatedTarget||r.fromElement)&&(Qn(pe)||pe[js]))break e;if((X||Y)&&(Y=Z.window===Z?Z:(Y=Z.ownerDocument)?Y.defaultView||Y.parentWindow:window,X?(pe=r.relatedTarget||r.toElement,X=B,pe=pe?Qn(pe):null,pe!==null&&(ft=oe(pe),we=pe.tag,pe!==ft||we!==5&&we!==27&&we!==6)&&(pe=null)):(X=null,pe=B),X!==pe)){if(we=On,ee="onMouseLeave",K="onMouseEnter",U="mouse",(t==="pointerout"||t==="pointerover")&&(we=Wl,ee="onPointerLeave",K="onPointerEnter",U="pointer"),ft=X==null?Y:wi(X),$=pe==null?Y:wi(pe),Y=new we(ee,U+"leave",X,r,Z),Y.target=ft,Y.relatedTarget=$,ee=null,Qn(Z)===B&&(we=new we(K,U+"enter",pe,r,Z),we.target=$,we.relatedTarget=ft,ee=we),ft=ee,X&&pe)t:{for(we=X,K=pe,U=0,$=we;$;$=tl($))U++;for($=0,ee=K;ee;ee=tl(ee))$++;for(;0<U-$;)we=tl(we),U--;for(;0<$-U;)K=tl(K),$--;for(;U--;){if(we===K||K!==null&&we===K.alternate)break t;we=tl(we),K=tl(K)}we=null}else we=null;X!==null&&Zy(ae,Y,X,we,!1),pe!==null&&ft!==null&&Zy(ae,ft,pe,we,!0)}}e:{if(Y=B?wi(B):window,X=Y.nodeName&&Y.nodeName.toLowerCase(),X==="select"||X==="input"&&Y.type==="file")var ge=wp;else if(Rt(Y))if(Sp)ge=Ib;else{ge=kb;var je=Rb}else X=Y.nodeName,!X||X.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?B&&ql(B.elementType)&&(ge=wp):ge=Cb;if(ge&&(ge=ge(t,B))){Bs(ae,ge,r,Z);break e}je&&je(t,Y,B),t==="focusout"&&B&&Y.type==="number"&&B.memoizedProps.value!=null&&br(Y,"number",Y.value)}switch(je=B?wi(B):window,t){case"focusin":(Rt(je)||je.contentEditable==="true")&&(Dr=je,Rd=B,Jl=null);break;case"focusout":Jl=Rd=Dr=null;break;case"mousedown":kd=!0;break;case"contextmenu":case"mouseup":case"dragend":kd=!1,Op(ae,r,Z);break;case"selectionchange":if(Ob)break;case"keydown":case"keyup":Op(ae,r,Z)}var _e;if(fs)e:{switch(t){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else Pe?W(t,r)&&(xe="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(xe="onCompositionStart");xe&&(v&&r.locale!=="ko"&&(Pe||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&Pe&&(_e=Fl()):(cs=Z,Ii="value"in cs?cs.value:cs.textContent,Pe=!0)),je=Ou(B,xe),0<je.length&&(xe=new Ql(xe,t,null,r,Z),ae.push({event:xe,listeners:je}),_e?xe.data=_e:(_e=re(r),_e!==null&&(xe.data=_e)))),(_e=y?Nt(t,r):Ue(t,r))&&(xe=Ou(B,"onBeforeInput"),0<xe.length&&(je=new Ql("onBeforeInput","beforeinput",null,r,Z),ae.push({event:je,listeners:xe}),je.data=_e)),pA(ae,t,B,r,Z)}Wy(ae,i)})}function Ro(t,i,r){return{instance:t,listener:i,currentTarget:r}}function Ou(t,i){for(var r=i+"Capture",o=[];t!==null;){var f=t,g=f.stateNode;f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=Na(t,r),f!=null&&o.unshift(Ro(t,f,g)),f=Na(t,i),f!=null&&o.push(Ro(t,f,g))),t=t.return}return o}function tl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Zy(t,i,r,o,f){for(var g=i._reactName,E=[];r!==null&&r!==o;){var b=r,k=b.alternate,B=b.stateNode;if(b=b.tag,k!==null&&k===o)break;b!==5&&b!==26&&b!==27||B===null||(k=B,f?(B=Na(r,g),B!=null&&E.unshift(Ro(r,B,k))):f||(B=Na(r,g),B!=null&&E.push(Ro(r,B,k)))),r=r.return}E.length!==0&&t.push({event:i,listeners:E})}var xA=/\r\n?/g,EA=/\u0000|\uFFFD/g;function Jy(t){return(typeof t=="string"?t:""+t).replace(xA,`
`).replace(EA,"")}function ev(t,i){return i=Jy(i),Jy(t)===i}function Mu(){}function We(t,i,r,o,f,g){switch(r){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||In(t,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&In(t,""+o);break;case"className":Ri(t,"class",o);break;case"tabIndex":Ri(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Ri(t,r,o);break;case"style":Vc(t,o,g);break;case"data":if(i!=="object"){Ri(t,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||r!=="href")){t.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=os(""+o),t.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(r==="formAction"?(i!=="input"&&We(t,i,"name",f.name,f,null),We(t,i,"formEncType",f.formEncType,f,null),We(t,i,"formMethod",f.formMethod,f,null),We(t,i,"formTarget",f.formTarget,f,null)):(We(t,i,"encType",f.encType,f,null),We(t,i,"method",f.method,f,null),We(t,i,"target",f.target,f,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=os(""+o),t.setAttribute(r,o);break;case"onClick":o!=null&&(t.onclick=Mu);break;case"onScroll":o!=null&&Le("scroll",t);break;case"onScrollEnd":o!=null&&Le("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(f.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}r=os(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""+o):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":o===!0?t.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,o):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(r,o):t.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(r):t.setAttribute(r,o);break;case"popover":Le("beforetoggle",t),Le("toggle",t),Ni(t,"popover",o);break;case"xlinkActuate":Cn(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Cn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Cn(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Cn(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Cn(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Cn(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Cn(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Cn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Cn(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Ni(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Ed.get(r)||r,Ni(t,r,o))}}function Jf(t,i,r,o,f,g){switch(r){case"style":Vc(t,o,g);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(f.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof o=="string"?In(t,o):(typeof o=="number"||typeof o=="bigint")&&In(t,""+o);break;case"onScroll":o!=null&&Le("scroll",t);break;case"onScrollEnd":o!=null&&Le("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Mu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Er.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(f=r.endsWith("Capture"),i=r.slice(2,f?r.length-7:void 0),g=t[St]||null,g=g!=null?g[r]:null,typeof g=="function"&&t.removeEventListener(i,g,f),typeof o=="function")){typeof g!="function"&&g!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(i,o,f);break e}r in t?t[r]=o:o===!0?t.setAttribute(r,""):Ni(t,r,o)}}}function Ft(t,i,r){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",t),Le("load",t);var o=!1,f=!1,g;for(g in r)if(r.hasOwnProperty(g)){var E=r[g];if(E!=null)switch(g){case"src":o=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:We(t,i,g,E,r,null)}}f&&We(t,i,"srcSet",r.srcSet,r,null),o&&We(t,i,"src",r.src,r,null);return;case"input":Le("invalid",t);var b=g=E=f=null,k=null,B=null;for(o in r)if(r.hasOwnProperty(o)){var Z=r[o];if(Z!=null)switch(o){case"name":f=Z;break;case"type":E=Z;break;case"checked":k=Z;break;case"defaultChecked":B=Z;break;case"value":g=Z;break;case"defaultValue":b=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(a(137,i));break;default:We(t,i,o,Z,r,null)}}wa(t,g,b,k,B,E,f,!1),Aa(t);return;case"select":Le("invalid",t),o=E=g=null;for(f in r)if(r.hasOwnProperty(f)&&(b=r[f],b!=null))switch(f){case"value":g=b;break;case"defaultValue":E=b;break;case"multiple":o=b;default:We(t,i,f,b,r,null)}i=g,r=E,t.multiple=!!o,i!=null?qe(t,!!o,i,!1):r!=null&&qe(t,!!o,r,!0);return;case"textarea":Le("invalid",t),g=f=o=null;for(E in r)if(r.hasOwnProperty(E)&&(b=r[E],b!=null))switch(E){case"value":o=b;break;case"defaultValue":f=b;break;case"children":g=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(a(91));break;default:We(t,i,E,b,r,null)}Ci(t,o,f,g),Aa(t);return;case"option":for(k in r)if(r.hasOwnProperty(k)&&(o=r[k],o!=null))switch(k){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:We(t,i,k,o,r,null)}return;case"dialog":Le("cancel",t),Le("close",t);break;case"iframe":case"object":Le("load",t);break;case"video":case"audio":for(o=0;o<No.length;o++)Le(No[o],t);break;case"image":Le("error",t),Le("load",t);break;case"details":Le("toggle",t);break;case"embed":case"source":case"link":Le("error",t),Le("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in r)if(r.hasOwnProperty(B)&&(o=r[B],o!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:We(t,i,B,o,r,null)}return;default:if(ql(i)){for(Z in r)r.hasOwnProperty(Z)&&(o=r[Z],o!==void 0&&Jf(t,i,Z,o,r,void 0));return}}for(b in r)r.hasOwnProperty(b)&&(o=r[b],o!=null&&We(t,i,b,o,r,null))}function TA(t,i,r,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,E=null,b=null,k=null,B=null,Z=null;for(X in r){var ae=r[X];if(r.hasOwnProperty(X)&&ae!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":k=ae;default:o.hasOwnProperty(X)||We(t,i,X,null,o,ae)}}for(var Y in o){var X=o[Y];if(ae=r[Y],o.hasOwnProperty(Y)&&(X!=null||ae!=null))switch(Y){case"type":g=X;break;case"name":f=X;break;case"checked":B=X;break;case"defaultChecked":Z=X;break;case"value":E=X;break;case"defaultValue":b=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(a(137,i));break;default:X!==ae&&We(t,i,Y,X,o,ae)}}ki(t,E,b,k,B,Z,g,f);return;case"select":X=E=b=Y=null;for(g in r)if(k=r[g],r.hasOwnProperty(g)&&k!=null)switch(g){case"value":break;case"multiple":X=k;default:o.hasOwnProperty(g)||We(t,i,g,null,o,k)}for(f in o)if(g=o[f],k=r[f],o.hasOwnProperty(f)&&(g!=null||k!=null))switch(f){case"value":Y=g;break;case"defaultValue":b=g;break;case"multiple":E=g;default:g!==k&&We(t,i,f,g,o,k)}i=b,r=E,o=X,Y!=null?qe(t,!!r,Y,!1):!!o!=!!r&&(i!=null?qe(t,!!r,i,!0):qe(t,!!r,r?[]:"",!1));return;case"textarea":X=Y=null;for(b in r)if(f=r[b],r.hasOwnProperty(b)&&f!=null&&!o.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:We(t,i,b,null,o,f)}for(E in o)if(f=o[E],g=r[E],o.hasOwnProperty(E)&&(f!=null||g!=null))switch(E){case"value":Y=f;break;case"defaultValue":X=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==g&&We(t,i,E,f,o,g)}Sa(t,Y,X);return;case"option":for(var pe in r)if(Y=r[pe],r.hasOwnProperty(pe)&&Y!=null&&!o.hasOwnProperty(pe))switch(pe){case"selected":t.selected=!1;break;default:We(t,i,pe,null,o,Y)}for(k in o)if(Y=o[k],X=r[k],o.hasOwnProperty(k)&&Y!==X&&(Y!=null||X!=null))switch(k){case"selected":t.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:We(t,i,k,Y,o,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in r)Y=r[we],r.hasOwnProperty(we)&&Y!=null&&!o.hasOwnProperty(we)&&We(t,i,we,null,o,Y);for(B in o)if(Y=o[B],X=r[B],o.hasOwnProperty(B)&&Y!==X&&(Y!=null||X!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(a(137,i));break;default:We(t,i,B,Y,o,X)}return;default:if(ql(i)){for(var ft in r)Y=r[ft],r.hasOwnProperty(ft)&&Y!==void 0&&!o.hasOwnProperty(ft)&&Jf(t,i,ft,void 0,o,Y);for(Z in o)Y=o[Z],X=r[Z],!o.hasOwnProperty(Z)||Y===X||Y===void 0&&X===void 0||Jf(t,i,Z,Y,o,X);return}}for(var K in r)Y=r[K],r.hasOwnProperty(K)&&Y!=null&&!o.hasOwnProperty(K)&&We(t,i,K,null,o,Y);for(ae in o)Y=o[ae],X=r[ae],!o.hasOwnProperty(ae)||Y===X||Y==null&&X==null||We(t,i,ae,Y,o,X)}var em=null,tm=null;function Lu(t){return t.nodeType===9?t:t.ownerDocument}function tv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function nv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function nm(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var sm=null;function bA(){var t=window.event;return t&&t.type==="popstate"?t===sm?!1:(sm=t,!0):(sm=null,!1)}var sv=typeof setTimeout=="function"?setTimeout:void 0,AA=typeof clearTimeout=="function"?clearTimeout:void 0,iv=typeof Promise=="function"?Promise:void 0,wA=typeof queueMicrotask=="function"?queueMicrotask:typeof iv<"u"?function(t){return iv.resolve(null).then(t).catch(SA)}:sv;function SA(t){setTimeout(function(){throw t})}function im(t,i){var r=i,o=0;do{var f=r.nextSibling;if(t.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(o===0){t.removeChild(f),Lo(i);return}o--}else r!=="$"&&r!=="$?"&&r!=="$!"||o++;r=f}while(r);Lo(i)}function am(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var r=i;switch(i=i.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":am(r),ba(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function NA(t,i,r,o){for(;t.nodeType===1;){var f=r;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Ai])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(g=t.getAttribute("rel"),g==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(g!==f.rel||t.getAttribute("href")!==(f.href==null?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(g=t.getAttribute("src"),(g!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===g)return t}else return t;if(t=Zn(t.nextSibling),t===null)break}return null}function RA(t,i,r){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Zn(t.nextSibling),t===null))return null;return t}function Zn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}function av(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(i===0)return t;i--}else r==="/$"&&i++}t=t.previousSibling}return null}function rv(t,i,r){switch(i=Lu(r),t){case"html":if(t=i.documentElement,!t)throw Error(a(452));return t;case"head":if(t=i.head,!t)throw Error(a(453));return t;case"body":if(t=i.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}var Kn=new Map,lv=new Set;function Vu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var ti=he.d;he.d={f:kA,r:CA,D:IA,C:jA,L:DA,m:OA,X:LA,S:MA,M:VA};function kA(){var t=ti.f(),i=ku();return t||i}function CA(t){var i=Ds(t);i!==null&&i.tag===5&&i.type==="form"?O_(i):ti.r(t)}var nl=typeof document>"u"?null:document;function ov(t,i,r){var o=nl;if(o&&typeof i=="string"&&i){var f=ut(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof r=="string"&&(f+='[crossorigin="'+r+'"]'),lv.has(f)||(lv.add(f),t={rel:t,crossOrigin:r,href:i},o.querySelector(f)===null&&(i=o.createElement("link"),Ft(i,"link",t),at(i),o.head.appendChild(i)))}}function IA(t){ti.D(t),ov("dns-prefetch",t,null)}function jA(t,i){ti.C(t,i),ov("preconnect",t,i)}function DA(t,i,r){ti.L(t,i,r);var o=nl;if(o&&t&&i){var f='link[rel="preload"][as="'+ut(i)+'"]';i==="image"&&r&&r.imageSrcSet?(f+='[imagesrcset="'+ut(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(f+='[imagesizes="'+ut(r.imageSizes)+'"]')):f+='[href="'+ut(t)+'"]';var g=f;switch(i){case"style":g=sl(t);break;case"script":g=il(t)}Kn.has(g)||(t=R({rel:"preload",href:i==="image"&&r&&r.imageSrcSet?void 0:t,as:i},r),Kn.set(g,t),o.querySelector(f)!==null||i==="style"&&o.querySelector(ko(g))||i==="script"&&o.querySelector(Co(g))||(i=o.createElement("link"),Ft(i,"link",t),at(i),o.head.appendChild(i)))}}function OA(t,i){ti.m(t,i);var r=nl;if(r&&t){var o=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+ut(o)+'"][href="'+ut(t)+'"]',g=f;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=il(t)}if(!Kn.has(g)&&(t=R({rel:"modulepreload",href:t},i),Kn.set(g,t),r.querySelector(f)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Co(g)))return}o=r.createElement("link"),Ft(o,"link",t),at(o),r.head.appendChild(o)}}}function MA(t,i,r){ti.S(t,i,r);var o=nl;if(o&&t){var f=Si(o).hoistableStyles,g=sl(t);i=i||"default";var E=f.get(g);if(!E){var b={loading:0,preload:null};if(E=o.querySelector(ko(g)))b.loading=5;else{t=R({rel:"stylesheet",href:t,"data-precedence":i},r),(r=Kn.get(g))&&rm(t,r);var k=E=o.createElement("link");at(k),Ft(k,"link",t),k._p=new Promise(function(B,Z){k.onload=B,k.onerror=Z}),k.addEventListener("load",function(){b.loading|=1}),k.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Pu(E,i,o)}E={type:"stylesheet",instance:E,count:1,state:b},f.set(g,E)}}}function LA(t,i){ti.X(t,i);var r=nl;if(r&&t){var o=Si(r).hoistableScripts,f=il(t),g=o.get(f);g||(g=r.querySelector(Co(f)),g||(t=R({src:t,async:!0},i),(i=Kn.get(f))&&lm(t,i),g=r.createElement("script"),at(g),Ft(g,"link",t),r.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},o.set(f,g))}}function VA(t,i){ti.M(t,i);var r=nl;if(r&&t){var o=Si(r).hoistableScripts,f=il(t),g=o.get(f);g||(g=r.querySelector(Co(f)),g||(t=R({src:t,async:!0,type:"module"},i),(i=Kn.get(f))&&lm(t,i),g=r.createElement("script"),at(g),Ft(g,"link",t),r.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},o.set(f,g))}}function cv(t,i,r,o){var f=(f=Rn.current)?Vu(f):null;if(!f)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(i=sl(r.href),r=Si(f).hoistableStyles,o=r.get(i),o||(o={type:"style",instance:null,count:0,state:null},r.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=sl(r.href);var g=Si(f).hoistableStyles,E=g.get(t);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(t,E),(g=f.querySelector(ko(t)))&&!g._p&&(E.instance=g,E.state.loading=5),Kn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Kn.set(t,r),g||PA(f,t,r,E.state))),i&&o===null)throw Error(a(528,""));return E}if(i&&o!==null)throw Error(a(529,""));return null;case"script":return i=r.async,r=r.src,typeof r=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=il(r),r=Si(f).hoistableScripts,o=r.get(i),o||(o={type:"script",instance:null,count:0,state:null},r.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function sl(t){return'href="'+ut(t)+'"'}function ko(t){return'link[rel="stylesheet"]['+t+"]"}function uv(t){return R({},t,{"data-precedence":t.precedence,precedence:null})}function PA(t,i,r,o){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=t.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Ft(i,"link",r),at(i),t.head.appendChild(i))}function il(t){return'[src="'+ut(t)+'"]'}function Co(t){return"script[async]"+t}function hv(t,i,r){if(i.count++,i.instance===null)switch(i.type){case"style":var o=t.querySelector('style[data-href~="'+ut(r.href)+'"]');if(o)return i.instance=o,at(o),o;var f=R({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),at(o),Ft(o,"style",f),Pu(o,r.precedence,t),i.instance=o;case"stylesheet":f=sl(r.href);var g=t.querySelector(ko(f));if(g)return i.state.loading|=4,i.instance=g,at(g),g;o=uv(r),(f=Kn.get(f))&&rm(o,f),g=(t.ownerDocument||t).createElement("link"),at(g);var E=g;return E._p=new Promise(function(b,k){E.onload=b,E.onerror=k}),Ft(g,"link",o),i.state.loading|=4,Pu(g,r.precedence,t),i.instance=g;case"script":return g=il(r.src),(f=t.querySelector(Co(g)))?(i.instance=f,at(f),f):(o=r,(f=Kn.get(g))&&(o=R({},r),lm(o,f)),t=t.ownerDocument||t,f=t.createElement("script"),at(f),Ft(f,"link",o),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,Pu(o,r.precedence,t));return i.instance}function Pu(t,i,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=o.length?o[o.length-1]:null,g=f,E=0;E<o.length;E++){var b=o[E];if(b.dataset.precedence===i)g=b;else if(g!==f)break}g?g.parentNode.insertBefore(t,g.nextSibling):(i=r.nodeType===9?r.head:r,i.insertBefore(t,i.firstChild))}function rm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function lm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Uu=null;function dv(t,i,r){if(Uu===null){var o=new Map,f=Uu=new Map;f.set(r,o)}else f=Uu,o=f.get(r),o||(o=new Map,f.set(r,o));if(o.has(t))return o;for(o.set(t,null),r=r.getElementsByTagName(t),f=0;f<r.length;f++){var g=r[f];if(!(g[Ai]||g[Mt]||t==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var E=g.getAttribute(i)||"";E=t+E;var b=o.get(E);b?b.push(g):o.set(E,[g])}}return o}function fv(t,i,r){t=t.ownerDocument||t,t.head.insertBefore(r,i==="title"?t.querySelector("head > title"):null)}function UA(t,i,r){if(r===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function mv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Io=null;function BA(){}function HA(t,i,r){if(Io===null)throw Error(a(475));var o=Io;if(i.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=sl(r.href),g=t.querySelector(ko(f));if(g){t=g._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(o.count++,o=Bu.bind(o),t.then(o,o)),i.state.loading|=4,i.instance=g,at(g);return}g=t.ownerDocument||t,r=uv(r),(f=Kn.get(f))&&rm(r,f),g=g.createElement("link"),at(g);var E=g;E._p=new Promise(function(b,k){E.onload=b,E.onerror=k}),Ft(g,"link",r),i.instance=g}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(o.count++,i=Bu.bind(o),t.addEventListener("load",i),t.addEventListener("error",i))}}function zA(){if(Io===null)throw Error(a(475));var t=Io;return t.stylesheets&&t.count===0&&om(t,t.stylesheets),0<t.count?function(i){var r=setTimeout(function(){if(t.stylesheets&&om(t,t.stylesheets),t.unsuspend){var o=t.unsuspend;t.unsuspend=null,o()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(r)}}:null}function Bu(){if(this.count--,this.count===0){if(this.stylesheets)om(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Hu=null;function om(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Hu=new Map,i.forEach(qA,t),Hu=null,Bu.call(t))}function qA(t,i){if(!(i.state.loading&4)){var r=Hu.get(t);if(r)var o=r.get(null);else{r=new Map,Hu.set(t,r);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var E=f[g];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(r.set(E.dataset.precedence,E),o=E)}o&&r.set(null,o)}f=i.instance,E=f.getAttribute("data-precedence"),g=r.get(E)||o,g===o&&r.set(null,f),r.set(E,f),this.count++,o=Bu.bind(this),f.addEventListener("load",o),f.addEventListener("error",o),g?g.parentNode.insertBefore(f,g.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var jo={$$typeof:C,Provider:null,Consumer:null,_currentValue:ke,_currentValue2:ke,_threadCount:0};function KA(t,i,r,o,f,g,E,b){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vr(0),this.hiddenUpdates=vr(null),this.identifierPrefix=o,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function gv(t,i,r,o,f,g,E,b,k,B,Z,ae){return t=new KA(t,i,r,E,b,k,B,ae),i=1,g===!0&&(i|=24),g=zn(3,null,null,i),t.current=g,g.stateNode=t,i=Ud(),i.refCount++,t.pooledCache=i,i.refCount++,g.memoizedState={element:o,isDehydrated:r,cache:i},xf(g),t}function pv(t){return t?(t=Lr,t):Lr}function _v(t,i,r,o,f,g){f=pv(f),o.context===null?o.context=f:o.pendingContext=f,o=Ui(i),o.payload={element:r},g=g===void 0?null:g,g!==null&&(o.callback=g),r=Bi(t,o,i),r!==null&&(un(r,t,i),go(r,t,i))}function yv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<i?r:i}}function cm(t,i){yv(t,i),(t=t.alternate)&&yv(t,i)}function vv(t){if(t.tag===13){var i=ji(t,67108864);i!==null&&un(i,t,67108864),cm(t,67108864)}}var zu=!0;function FA(t,i,r,o){var f=S.T;S.T=null;var g=he.p;try{he.p=2,um(t,i,r,o)}finally{he.p=g,S.T=f}}function GA(t,i,r,o){var f=S.T;S.T=null;var g=he.p;try{he.p=8,um(t,i,r,o)}finally{he.p=g,S.T=f}}function um(t,i,r,o){if(zu){var f=hm(o);if(f===null)Zf(t,i,o,qu,r),Ev(t,o);else if(QA(f,t,i,r,o))o.stopPropagation();else if(Ev(t,o),i&4&&-1<$A.indexOf(t)){for(;f!==null;){var g=Ds(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var E=$n(g.pendingLanes);if(E!==0){var b=g;for(b.pendingLanes|=2,b.entangledLanes|=2;E;){var k=1<<31-rn(E);b.entanglements[1]|=k,E&=~k}vs(g),(lt&6)===0&&(Su=dn()+500,So(0))}}break;case 13:b=ji(g,2),b!==null&&un(b,g,2),ku(),cm(g,2)}if(g=hm(o),g===null&&Zf(t,i,o,qu,r),g===f)break;f=g}f!==null&&o.stopPropagation()}else Zf(t,i,o,null,r)}}function hm(t){return t=Ar(t),dm(t)}var qu=null;function dm(t){if(qu=null,t=Qn(t),t!==null){var i=oe(t);if(i===null)t=null;else{var r=i.tag;if(r===13){if(t=Re(i),t!==null)return t;t=null}else if(r===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return qu=t,null}function xv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Rc()){case wt:return 2;case Ot:return 8;case Is:case kc:return 32;case Dl:return 268435456;default:return 32}default:return 32}}var fm=!1,$i=null,Qi=null,Yi=null,Do=new Map,Oo=new Map,Wi=[],$A="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ev(t,i){switch(t){case"focusin":case"focusout":$i=null;break;case"dragenter":case"dragleave":Qi=null;break;case"mouseover":case"mouseout":Yi=null;break;case"pointerover":case"pointerout":Do.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oo.delete(i.pointerId)}}function Mo(t,i,r,o,f,g){return t===null||t.nativeEvent!==g?(t={blockedOn:i,domEventName:r,eventSystemFlags:o,nativeEvent:g,targetContainers:[f]},i!==null&&(i=Ds(i),i!==null&&vv(i)),t):(t.eventSystemFlags|=o,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function QA(t,i,r,o,f){switch(i){case"focusin":return $i=Mo($i,t,i,r,o,f),!0;case"dragenter":return Qi=Mo(Qi,t,i,r,o,f),!0;case"mouseover":return Yi=Mo(Yi,t,i,r,o,f),!0;case"pointerover":var g=f.pointerId;return Do.set(g,Mo(Do.get(g)||null,t,i,r,o,f)),!0;case"gotpointercapture":return g=f.pointerId,Oo.set(g,Mo(Oo.get(g)||null,t,i,r,o,f)),!0}return!1}function Tv(t){var i=Qn(t.target);if(i!==null){var r=oe(i);if(r!==null){if(i=r.tag,i===13){if(i=Re(r),i!==null){t.blockedOn=i,bi(t.priority,function(){if(r.tag===13){var o=An(),f=ji(r,o);f!==null&&un(f,r,o),cm(r,o)}});return}}else if(i===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ku(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var r=hm(t.nativeEvent);if(r===null){r=t.nativeEvent;var o=new r.constructor(r.type,r);jn=o,r.target.dispatchEvent(o),jn=null}else return i=Ds(r),i!==null&&vv(i),t.blockedOn=r,!1;i.shift()}return!0}function bv(t,i,r){Ku(t)&&r.delete(i)}function YA(){fm=!1,$i!==null&&Ku($i)&&($i=null),Qi!==null&&Ku(Qi)&&(Qi=null),Yi!==null&&Ku(Yi)&&(Yi=null),Do.forEach(bv),Oo.forEach(bv)}function Fu(t,i){t.blockedOn===i&&(t.blockedOn=null,fm||(fm=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,YA)))}var Gu=null;function Av(t){Gu!==t&&(Gu=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Gu===t&&(Gu=null);for(var i=0;i<t.length;i+=3){var r=t[i],o=t[i+1],f=t[i+2];if(typeof o!="function"){if(dm(o||r)===null)continue;break}var g=Ds(r);g!==null&&(t.splice(i,3),i-=3,tf(g,{pending:!0,data:f,method:r.method,action:o},o,f))}}))}function Lo(t){function i(k){return Fu(k,t)}$i!==null&&Fu($i,t),Qi!==null&&Fu(Qi,t),Yi!==null&&Fu(Yi,t),Do.forEach(i),Oo.forEach(i);for(var r=0;r<Wi.length;r++){var o=Wi[r];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Wi.length&&(r=Wi[0],r.blockedOn===null);)Tv(r),r.blockedOn===null&&Wi.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var f=r[o],g=r[o+1],E=f[St]||null;if(typeof g=="function")E||Av(r);else if(E){var b=null;if(g&&g.hasAttribute("formAction")){if(f=g,E=g[St]||null)b=E.formAction;else if(dm(f)!==null)continue}else b=E.action;typeof b=="function"?r[o+1]=b:(r.splice(o,3),o-=3),Av(r)}}}function mm(t){this._internalRoot=t}$u.prototype.render=mm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(a(409));var r=i.current,o=An();_v(r,o,t,i,null,null)},$u.prototype.unmount=mm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;t.tag===0&&Jr(),_v(t.current,2,null,t,null,null),ku(),i[js]=null}};function $u(t){this._internalRoot=t}$u.prototype.unstable_scheduleHydration=function(t){if(t){var i=Oc();t={blockedOn:null,target:t,priority:i};for(var r=0;r<Wi.length&&i!==0&&i<Wi[r].priority;r++);Wi.splice(r,0,t),r===0&&Tv(t)}};var wv=e.version;if(wv!=="19.0.0")throw Error(a(527,wv,"19.0.0"));he.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=ie(i),t=t!==null?me(t):null,t=t===null?null:t.stateNode,t};var WA={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:S,findFiberByHostInstance:Qn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qu.isDisabled&&Qu.supportsFiber)try{_i=Qu.inject(WA),Yt=Qu}catch{}}return Po.createRoot=function(t,i){if(!l(t))throw Error(a(299));var r=!1,o="",f=z_,g=q_,E=K_,b=null;return i!=null&&(i.unstable_strictMode===!0&&(r=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(b=i.unstable_transitionCallbacks)),i=gv(t,1,!1,null,null,r,o,f,g,E,b,null),t[js]=i.current,Xf(t.nodeType===8?t.parentNode:t),new mm(i)},Po.hydrateRoot=function(t,i,r){if(!l(t))throw Error(a(299));var o=!1,f="",g=z_,E=q_,b=K_,k=null,B=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(f=r.identifierPrefix),r.onUncaughtError!==void 0&&(g=r.onUncaughtError),r.onCaughtError!==void 0&&(E=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(k=r.unstable_transitionCallbacks),r.formState!==void 0&&(B=r.formState)),i=gv(t,1,!0,i,r??null,o,f,g,E,b,k,B),i.context=pv(null),r=i.current,o=An(),f=Ui(o),f.callback=null,Bi(r,f,o),i.current.lanes=o,pt(i,o),vs(i),t[js]=i.current,Xf(t),new $u(i)},Po.version="19.0.0",Po}var Mv;function rw(){if(Mv)return _m.exports;Mv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),_m.exports=aw(),_m.exports}var lw=rw();const ow=dg(lw);var Uo={},Lv;function cw(){if(Lv)return Uo;Lv=1,Object.defineProperty(Uo,"__esModule",{value:!0}),Uo.parse=d,Uo.serialize=_;const s=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,c=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function d(w,C){const D=new c,q=w.length;if(q<2)return D;const M=(C==null?void 0:C.decode)||x;let z=0;do{const G=w.indexOf("=",z);if(G===-1)break;const Q=w.indexOf(";",z),J=Q===-1?q:Q;if(G>J){z=w.lastIndexOf(";",G-1)+1;continue}const te=m(w,z,G),ce=p(w,G,te),L=w.slice(te,ce);if(D[L]===void 0){let N=m(w,G+1,J),S=p(w,J,N);const R=M(w.slice(N,S));D[L]=R}z=J+1}while(z<q);return D}function m(w,C,D){do{const q=w.charCodeAt(C);if(q!==32&&q!==9)return C}while(++C<D);return D}function p(w,C,D){for(;C>D;){const q=w.charCodeAt(--C);if(q!==32&&q!==9)return C+1}return D}function _(w,C,D){const q=(D==null?void 0:D.encode)||encodeURIComponent;if(!s.test(w))throw new TypeError(`argument name is invalid: ${w}`);const M=q(C);if(!e.test(M))throw new TypeError(`argument val is invalid: ${C}`);let z=w+"="+M;if(!D)return z;if(D.maxAge!==void 0){if(!Number.isInteger(D.maxAge))throw new TypeError(`option maxAge is invalid: ${D.maxAge}`);z+="; Max-Age="+D.maxAge}if(D.domain){if(!n.test(D.domain))throw new TypeError(`option domain is invalid: ${D.domain}`);z+="; Domain="+D.domain}if(D.path){if(!a.test(D.path))throw new TypeError(`option path is invalid: ${D.path}`);z+="; Path="+D.path}if(D.expires){if(!T(D.expires)||!Number.isFinite(D.expires.valueOf()))throw new TypeError(`option expires is invalid: ${D.expires}`);z+="; Expires="+D.expires.toUTCString()}if(D.httpOnly&&(z+="; HttpOnly"),D.secure&&(z+="; Secure"),D.partitioned&&(z+="; Partitioned"),D.priority)switch(typeof D.priority=="string"?D.priority.toLowerCase():void 0){case"low":z+="; Priority=Low";break;case"medium":z+="; Priority=Medium";break;case"high":z+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${D.priority}`)}if(D.sameSite)switch(typeof D.sameSite=="string"?D.sameSite.toLowerCase():D.sameSite){case!0:case"strict":z+="; SameSite=Strict";break;case"lax":z+="; SameSite=Lax";break;case"none":z+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${D.sameSite}`)}return z}function x(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function T(w){return l.call(w)==="[object Date]"}return Uo}cw();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Vv="popstate";function uw(s={}){function e(a,l){let{pathname:c,search:d,hash:m}=a.location;return Lm("",{pathname:c,search:d,hash:m},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(a,l){return typeof l=="string"?l:tc(l)}return dw(e,n,null,s)}function st(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function Jn(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function hw(){return Math.random().toString(36).substring(2,10)}function Pv(s,e){return{usr:s.state,key:s.key,idx:e}}function Lm(s,e,n=null,a){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?Tl(e):e,state:n,key:e&&e.key||a||hw()}}function tc({pathname:s="/",search:e="",hash:n=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(s+=n.charAt(0)==="#"?n:"#"+n),s}function Tl(s){let e={};if(s){let n=s.indexOf("#");n>=0&&(e.hash=s.substring(n),s=s.substring(0,n));let a=s.indexOf("?");a>=0&&(e.search=s.substring(a),s=s.substring(0,a)),s&&(e.pathname=s)}return e}function dw(s,e,n,a={}){let{window:l=document.defaultView,v5Compat:c=!1}=a,d=l.history,m="POP",p=null,_=x();_==null&&(_=0,d.replaceState({...d.state,idx:_},""));function x(){return(d.state||{idx:null}).idx}function T(){m="POP";let M=x(),z=M==null?null:M-_;_=M,p&&p({action:m,location:q.location,delta:z})}function w(M,z){m="PUSH";let G=Lm(q.location,M,z);_=x()+1;let Q=Pv(G,_),J=q.createHref(G);try{d.pushState(Q,"",J)}catch(te){if(te instanceof DOMException&&te.name==="DataCloneError")throw te;l.location.assign(J)}c&&p&&p({action:m,location:q.location,delta:1})}function C(M,z){m="REPLACE";let G=Lm(q.location,M,z);_=x();let Q=Pv(G,_),J=q.createHref(G);d.replaceState(Q,"",J),c&&p&&p({action:m,location:q.location,delta:0})}function D(M){let z=l.location.origin!=="null"?l.location.origin:l.location.href,G=typeof M=="string"?M:tc(M);return G=G.replace(/ $/,"%20"),st(z,`No window.location.(origin|href) available to create URL for href: ${G}`),new URL(G,z)}let q={get action(){return m},get location(){return s(l,d)},listen(M){if(p)throw new Error("A history only accepts one active listener");return l.addEventListener(Vv,T),p=M,()=>{l.removeEventListener(Vv,T),p=null}},createHref(M){return e(l,M)},createURL:D,encodeLocation(M){let z=D(M);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:w,replace:C,go(M){return d.go(M)}};return q}function A0(s,e,n="/"){return fw(s,e,n,!1)}function fw(s,e,n,a){let l=typeof e=="string"?Tl(e):e,c=ca(l.pathname||"/",n);if(c==null)return null;let d=w0(s);mw(d);let m=null;for(let p=0;m==null&&p<d.length;++p){let _=ww(c);m=bw(d[p],_,a)}return m}function w0(s,e=[],n=[],a=""){let l=(c,d,m)=>{let p={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};p.relativePath.startsWith("/")&&(st(p.relativePath.startsWith(a),`Absolute route path "${p.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(a.length));let _=ai([a,p.relativePath]),x=n.concat(p);c.children&&c.children.length>0&&(st(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),w0(c.children,e,x,_)),!(c.path==null&&!c.index)&&e.push({path:_,score:Ew(_,c.index),routesMeta:x})};return s.forEach((c,d)=>{var m;if(c.path===""||!((m=c.path)!=null&&m.includes("?")))l(c,d);else for(let p of S0(c.path))l(c,d,p)}),e}function S0(s){let e=s.split("/");if(e.length===0)return[];let[n,...a]=e,l=n.endsWith("?"),c=n.replace(/\?$/,"");if(a.length===0)return l?[c,""]:[c];let d=S0(a.join("/")),m=[];return m.push(...d.map(p=>p===""?c:[c,p].join("/"))),l&&m.push(...d),m.map(p=>s.startsWith("/")&&p===""?"/":p)}function mw(s){s.sort((e,n)=>e.score!==n.score?n.score-e.score:Tw(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var gw=/^:[\w-]+$/,pw=3,_w=2,yw=1,vw=10,xw=-2,Uv=s=>s==="*";function Ew(s,e){let n=s.split("/"),a=n.length;return n.some(Uv)&&(a+=xw),e&&(a+=_w),n.filter(l=>!Uv(l)).reduce((l,c)=>l+(gw.test(c)?pw:c===""?yw:vw),a)}function Tw(s,e){return s.length===e.length&&s.slice(0,-1).every((a,l)=>a===e[l])?s[s.length-1]-e[e.length-1]:0}function bw(s,e,n=!1){let{routesMeta:a}=s,l={},c="/",d=[];for(let m=0;m<a.length;++m){let p=a[m],_=m===a.length-1,x=c==="/"?e:e.slice(c.length)||"/",T=vh({path:p.relativePath,caseSensitive:p.caseSensitive,end:_},x),w=p.route;if(!T&&_&&n&&!a[a.length-1].route.index&&(T=vh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},x)),!T)return null;Object.assign(l,T.params),d.push({params:l,pathname:ai([c,T.pathname]),pathnameBase:kw(ai([c,T.pathnameBase])),route:w}),T.pathnameBase!=="/"&&(c=ai([c,T.pathnameBase]))}return d}function vh(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[n,a]=Aw(s.path,s.caseSensitive,s.end),l=e.match(n);if(!l)return null;let c=l[0],d=c.replace(/(.)\/+$/,"$1"),m=l.slice(1);return{params:a.reduce((_,{paramName:x,isOptional:T},w)=>{if(x==="*"){let D=m[w]||"";d=c.slice(0,c.length-D.length).replace(/(.)\/+$/,"$1")}const C=m[w];return T&&!C?_[x]=void 0:_[x]=(C||"").replace(/%2F/g,"/"),_},{}),pathname:c,pathnameBase:d,pattern:s}}function Aw(s,e=!1,n=!0){Jn(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let a=[],l="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,m,p)=>(a.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(a.push({paramName:"*"}),l+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":s!==""&&s!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),a]}function ww(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Jn(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function ca(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=s.charAt(n);return a&&a!=="/"?null:s.slice(n)||"/"}function Sw(s,e="/"){let{pathname:n,search:a="",hash:l=""}=typeof s=="string"?Tl(s):s;return{pathname:n?n.startsWith("/")?n:Nw(n,e):e,search:Cw(a),hash:Iw(l)}}function Nw(s,e){let n=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function Em(s,e,n,a){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Rw(s){return s.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function mg(s){let e=Rw(s);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function gg(s,e,n,a=!1){let l;typeof s=="string"?l=Tl(s):(l={...s},st(!l.pathname||!l.pathname.includes("?"),Em("?","pathname","search",l)),st(!l.pathname||!l.pathname.includes("#"),Em("#","pathname","hash",l)),st(!l.search||!l.search.includes("#"),Em("#","search","hash",l)));let c=s===""||l.pathname==="",d=c?"/":l.pathname,m;if(d==null)m=n;else{let T=e.length-1;if(!a&&d.startsWith("..")){let w=d.split("/");for(;w[0]==="..";)w.shift(),T-=1;l.pathname=w.join("/")}m=T>=0?e[T]:"/"}let p=Sw(l,m),_=d&&d!=="/"&&d.endsWith("/"),x=(c||d===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(_||x)&&(p.pathname+="/"),p}var ai=s=>s.join("/").replace(/\/\/+/g,"/"),kw=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),Cw=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,Iw=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function jw(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var N0=["POST","PUT","PATCH","DELETE"];new Set(N0);var Dw=["GET",...N0];new Set(Dw);var bl=V.createContext(null);bl.displayName="DataRouter";var Bh=V.createContext(null);Bh.displayName="DataRouterState";var R0=V.createContext({isTransitioning:!1});R0.displayName="ViewTransition";var Ow=V.createContext(new Map);Ow.displayName="Fetchers";var Mw=V.createContext(null);Mw.displayName="Await";var ns=V.createContext(null);ns.displayName="Navigation";var uc=V.createContext(null);uc.displayName="Location";var ss=V.createContext({outlet:null,matches:[],isDataRoute:!1});ss.displayName="Route";var pg=V.createContext(null);pg.displayName="RouteError";function Lw(s,{relative:e}={}){st(Al(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=V.useContext(ns),{hash:l,pathname:c,search:d}=hc(s,{relative:e}),m=c;return n!=="/"&&(m=c==="/"?n:ai([n,c])),a.createHref({pathname:m,search:d,hash:l})}function Al(){return V.useContext(uc)!=null}function fi(){return st(Al(),"useLocation() may be used only in the context of a <Router> component."),V.useContext(uc).location}var k0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function C0(s){V.useContext(ns).static||V.useLayoutEffect(s)}function wl(){let{isDataRoute:s}=V.useContext(ss);return s?Ww():Vw()}function Vw(){st(Al(),"useNavigate() may be used only in the context of a <Router> component.");let s=V.useContext(bl),{basename:e,navigator:n}=V.useContext(ns),{matches:a}=V.useContext(ss),{pathname:l}=fi(),c=JSON.stringify(mg(a)),d=V.useRef(!1);return C0(()=>{d.current=!0}),V.useCallback((p,_={})=>{if(Jn(d.current,k0),!d.current)return;if(typeof p=="number"){n.go(p);return}let x=gg(p,JSON.parse(c),l,_.relative==="path");s==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:ai([e,x.pathname])),(_.replace?n.replace:n.push)(x,_.state,_)},[e,n,c,l,s])}V.createContext(null);function Pw(){let{matches:s}=V.useContext(ss),e=s[s.length-1];return e?e.params:{}}function hc(s,{relative:e}={}){let{matches:n}=V.useContext(ss),{pathname:a}=fi(),l=JSON.stringify(mg(n));return V.useMemo(()=>gg(s,JSON.parse(l),a,e==="path"),[s,l,a,e])}function Uw(s,e){return I0(s,e)}function I0(s,e,n,a){var G;st(Al(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l,static:c}=V.useContext(ns),{matches:d}=V.useContext(ss),m=d[d.length-1],p=m?m.params:{},_=m?m.pathname:"/",x=m?m.pathnameBase:"/",T=m&&m.route;{let Q=T&&T.path||"";j0(_,!T||Q.endsWith("*")||Q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${_}" (under <Route path="${Q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Q}"> to <Route path="${Q==="/"?"*":`${Q}/*`}">.`)}let w=fi(),C;if(e){let Q=typeof e=="string"?Tl(e):e;st(x==="/"||((G=Q.pathname)==null?void 0:G.startsWith(x)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${Q.pathname}" was given in the \`location\` prop.`),C=Q}else C=w;let D=C.pathname||"/",q=D;if(x!=="/"){let Q=x.replace(/^\//,"").split("/");q="/"+D.replace(/^\//,"").split("/").slice(Q.length).join("/")}let M=!c&&n&&n.matches&&n.matches.length>0?n.matches:A0(s,{pathname:q});Jn(T||M!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),Jn(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let z=Kw(M&&M.map(Q=>Object.assign({},Q,{params:Object.assign({},p,Q.params),pathname:ai([x,l.encodeLocation?l.encodeLocation(Q.pathname).pathname:Q.pathname]),pathnameBase:Q.pathnameBase==="/"?x:ai([x,l.encodeLocation?l.encodeLocation(Q.pathnameBase).pathname:Q.pathnameBase])})),d,n,a);return e&&z?V.createElement(uc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},z):z}function Bw(){let s=Yw(),e=jw(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),n=s instanceof Error?s.stack:null,a="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:a},c={padding:"2px 4px",backgroundColor:a},d=null;return console.error("Error handled by React Router default ErrorBoundary:",s),d=V.createElement(V.Fragment,null,V.createElement("p",null,"💿 Hey developer 👋"),V.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",V.createElement("code",{style:c},"ErrorBoundary")," or"," ",V.createElement("code",{style:c},"errorElement")," prop on your route.")),V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),n?V.createElement("pre",{style:l},n):null,d)}var Hw=V.createElement(Bw,null),zw=class extends V.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){console.error("React Router caught the following error during render",s,e)}render(){return this.state.error!==void 0?V.createElement(ss.Provider,{value:this.props.routeContext},V.createElement(pg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function qw({routeContext:s,match:e,children:n}){let a=V.useContext(bl);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),V.createElement(ss.Provider,{value:s},n)}function Kw(s,e=[],n=null,a=null){if(s==null){if(!n)return null;if(n.errors)s=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)s=n.matches;else return null}let l=s,c=n==null?void 0:n.errors;if(c!=null){let p=l.findIndex(_=>_.route.id&&(c==null?void 0:c[_.route.id])!==void 0);st(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,p+1))}let d=!1,m=-1;if(n)for(let p=0;p<l.length;p++){let _=l[p];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(m=p),_.route.id){let{loaderData:x,errors:T}=n,w=_.route.loader&&!x.hasOwnProperty(_.route.id)&&(!T||T[_.route.id]===void 0);if(_.route.lazy||w){d=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}return l.reduceRight((p,_,x)=>{let T,w=!1,C=null,D=null;n&&(T=c&&_.route.id?c[_.route.id]:void 0,C=_.route.errorElement||Hw,d&&(m<0&&x===0?(j0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,D=null):m===x&&(w=!0,D=_.route.hydrateFallbackElement||null)));let q=e.concat(l.slice(0,x+1)),M=()=>{let z;return T?z=C:w?z=D:_.route.Component?z=V.createElement(_.route.Component,null):_.route.element?z=_.route.element:z=p,V.createElement(qw,{match:_,routeContext:{outlet:p,matches:q,isDataRoute:n!=null},children:z})};return n&&(_.route.ErrorBoundary||_.route.errorElement||x===0)?V.createElement(zw,{location:n.location,revalidation:n.revalidation,component:C,error:T,children:M(),routeContext:{outlet:null,matches:q,isDataRoute:!0}}):M()},null)}function _g(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Fw(s){let e=V.useContext(bl);return st(e,_g(s)),e}function Gw(s){let e=V.useContext(Bh);return st(e,_g(s)),e}function $w(s){let e=V.useContext(ss);return st(e,_g(s)),e}function yg(s){let e=$w(s),n=e.matches[e.matches.length-1];return st(n.route.id,`${s} can only be used on routes that contain a unique "id"`),n.route.id}function Qw(){return yg("useRouteId")}function Yw(){var a;let s=V.useContext(pg),e=Gw("useRouteError"),n=yg("useRouteError");return s!==void 0?s:(a=e.errors)==null?void 0:a[n]}function Ww(){let{router:s}=Fw("useNavigate"),e=yg("useNavigate"),n=V.useRef(!1);return C0(()=>{n.current=!0}),V.useCallback(async(l,c={})=>{Jn(n.current,k0),n.current&&(typeof l=="number"?s.navigate(l):await s.navigate(l,{fromRouteId:e,...c}))},[s,e])}var Bv={};function j0(s,e,n){!e&&!Bv[s]&&(Bv[s]=!0,Jn(!1,n))}V.memo(Xw);function Xw({routes:s,future:e,state:n}){return I0(s,void 0,n,e)}function Hv({to:s,replace:e,state:n,relative:a}){st(Al(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=V.useContext(ns);Jn(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=V.useContext(ss),{pathname:d}=fi(),m=wl(),p=gg(s,mg(c),d,a==="path"),_=JSON.stringify(p);return V.useEffect(()=>{m(JSON.parse(_),{replace:e,state:n,relative:a})},[m,_,a,e,n]),null}function It(s){st(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Zw({basename:s="/",children:e=null,location:n,navigationType:a="POP",navigator:l,static:c=!1}){st(!Al(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=s.replace(/^\/*/,"/"),m=V.useMemo(()=>({basename:d,navigator:l,static:c,future:{}}),[d,l,c]);typeof n=="string"&&(n=Tl(n));let{pathname:p="/",search:_="",hash:x="",state:T=null,key:w="default"}=n,C=V.useMemo(()=>{let D=ca(p,d);return D==null?null:{location:{pathname:D,search:_,hash:x,state:T,key:w},navigationType:a}},[d,p,_,x,T,w,a]);return Jn(C!=null,`<Router basename="${d}"> is not able to match the URL "${p}${_}${x}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:V.createElement(ns.Provider,{value:m},V.createElement(uc.Provider,{children:e,value:C}))}function Jw({children:s,location:e}){return Uw(Vm(s),e)}function Vm(s,e=[]){let n=[];return V.Children.forEach(s,(a,l)=>{if(!V.isValidElement(a))return;let c=[...e,l];if(a.type===V.Fragment){n.push.apply(n,Vm(a.props.children,c));return}st(a.type===It,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),st(!a.props.index||!a.props.children,"An index route cannot have child routes.");let d={id:a.props.id||c.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(d.children=Vm(a.props.children,c)),n.push(d)}),n}var rh="get",lh="application/x-www-form-urlencoded";function Hh(s){return s!=null&&typeof s.tagName=="string"}function eS(s){return Hh(s)&&s.tagName.toLowerCase()==="button"}function tS(s){return Hh(s)&&s.tagName.toLowerCase()==="form"}function nS(s){return Hh(s)&&s.tagName.toLowerCase()==="input"}function sS(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function iS(s,e){return s.button===0&&(!e||e==="_self")&&!sS(s)}var Yu=null;function aS(){if(Yu===null)try{new FormData(document.createElement("form"),0),Yu=!1}catch{Yu=!0}return Yu}var rS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Tm(s){return s!=null&&!rS.has(s)?(Jn(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${lh}"`),null):s}function lS(s,e){let n,a,l,c,d;if(tS(s)){let m=s.getAttribute("action");a=m?ca(m,e):null,n=s.getAttribute("method")||rh,l=Tm(s.getAttribute("enctype"))||lh,c=new FormData(s)}else if(eS(s)||nS(s)&&(s.type==="submit"||s.type==="image")){let m=s.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=s.getAttribute("formaction")||m.getAttribute("action");if(a=p?ca(p,e):null,n=s.getAttribute("formmethod")||m.getAttribute("method")||rh,l=Tm(s.getAttribute("formenctype"))||Tm(m.getAttribute("enctype"))||lh,c=new FormData(m,s),!aS()){let{name:_,type:x,value:T}=s;if(x==="image"){let w=_?`${_}.`:"";c.append(`${w}x`,"0"),c.append(`${w}y`,"0")}else _&&c.append(_,T)}}else{if(Hh(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=rh,a=null,l=lh,d=s}return c&&l==="text/plain"&&(d=c,c=void 0),{action:a,method:n.toLowerCase(),encType:l,formData:c,body:d}}function vg(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}async function oS(s,e){if(s.id in e)return e[s.id];try{let n=await import(s.module);return e[s.id]=n,n}catch(n){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function cS(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function uS(s,e,n){let a=await Promise.all(s.map(async l=>{let c=e.routes[l.route.id];if(c){let d=await oS(c,n);return d.links?d.links():[]}return[]}));return mS(a.flat(1).filter(cS).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function zv(s,e,n,a,l,c){let d=(p,_)=>n[_]?p.route.id!==n[_].route.id:!0,m=(p,_)=>{var x;return n[_].pathname!==p.pathname||((x=n[_].route.path)==null?void 0:x.endsWith("*"))&&n[_].params["*"]!==p.params["*"]};return c==="assets"?e.filter((p,_)=>d(p,_)||m(p,_)):c==="data"?e.filter((p,_)=>{var T;let x=a.routes[p.route.id];if(!x||!x.hasLoader)return!1;if(d(p,_)||m(p,_))return!0;if(p.route.shouldRevalidate){let w=p.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((T=n[0])==null?void 0:T.params)||{},nextUrl:new URL(s,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function hS(s,e,{includeHydrateFallback:n}={}){return dS(s.map(a=>{let l=e.routes[a.route.id];if(!l)return[];let c=[l.module];return l.clientActionModule&&(c=c.concat(l.clientActionModule)),l.clientLoaderModule&&(c=c.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(c=c.concat(l.hydrateFallbackModule)),l.imports&&(c=c.concat(l.imports)),c}).flat(1))}function dS(s){return[...new Set(s)]}function fS(s){let e={},n=Object.keys(s).sort();for(let a of n)e[a]=s[a];return e}function mS(s,e){let n=new Set;return new Set(e),s.reduce((a,l)=>{let c=JSON.stringify(fS(l));return n.has(c)||(n.add(c),a.push({key:c,link:l})),a},[])}function gS(s){let e=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function pS(){let s=V.useContext(bl);return vg(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function _S(){let s=V.useContext(Bh);return vg(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var xg=V.createContext(void 0);xg.displayName="FrameworkContext";function D0(){let s=V.useContext(xg);return vg(s,"You must render this element inside a <HydratedRouter> element"),s}function yS(s,e){let n=V.useContext(xg),[a,l]=V.useState(!1),[c,d]=V.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:_,onMouseLeave:x,onTouchStart:T}=e,w=V.useRef(null);V.useEffect(()=>{if(s==="render"&&d(!0),s==="viewport"){let q=z=>{z.forEach(G=>{d(G.isIntersecting)})},M=new IntersectionObserver(q,{threshold:.5});return w.current&&M.observe(w.current),()=>{M.disconnect()}}},[s]),V.useEffect(()=>{if(a){let q=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(q)}}},[a]);let C=()=>{l(!0)},D=()=>{l(!1),d(!1)};return n?s!=="intent"?[c,w,{}]:[c,w,{onFocus:Bo(m,C),onBlur:Bo(p,D),onMouseEnter:Bo(_,C),onMouseLeave:Bo(x,D),onTouchStart:Bo(T,C)}]:[!1,w,{}]}function Bo(s,e){return n=>{s&&s(n),n.defaultPrevented||e(n)}}function vS({page:s,...e}){let{router:n}=pS(),a=V.useMemo(()=>A0(n.routes,s,n.basename),[n.routes,s,n.basename]);return a?V.createElement(ES,{page:s,matches:a,...e}):null}function xS(s){let{manifest:e,routeModules:n}=D0(),[a,l]=V.useState([]);return V.useEffect(()=>{let c=!1;return uS(s,e,n).then(d=>{c||l(d)}),()=>{c=!0}},[s,e,n]),a}function ES({page:s,matches:e,...n}){let a=fi(),{manifest:l,routeModules:c}=D0(),{loaderData:d,matches:m}=_S(),p=V.useMemo(()=>zv(s,e,m,l,a,"data"),[s,e,m,l,a]),_=V.useMemo(()=>zv(s,e,m,l,a,"assets"),[s,e,m,l,a]),x=V.useMemo(()=>{if(s===a.pathname+a.search+a.hash)return[];let C=new Set,D=!1;if(e.forEach(M=>{var G;let z=l.routes[M.route.id];!z||!z.hasLoader||(!p.some(Q=>Q.route.id===M.route.id)&&M.route.id in d&&((G=c[M.route.id])!=null&&G.shouldRevalidate)||z.hasClientLoader?D=!0:C.add(M.route.id))}),C.size===0)return[];let q=gS(s);return D&&C.size>0&&q.searchParams.set("_routes",e.filter(M=>C.has(M.route.id)).map(M=>M.route.id).join(",")),[q.pathname+q.search]},[d,a,l,p,e,s,c]),T=V.useMemo(()=>hS(_,l),[_,l]),w=xS(_);return V.createElement(V.Fragment,null,x.map(C=>V.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...n})),T.map(C=>V.createElement("link",{key:C,rel:"modulepreload",href:C,...n})),w.map(({key:C,link:D})=>V.createElement("link",{key:C,...D})))}function TS(...s){return e=>{s.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var O0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{O0&&(window.__reactRouterVersion="7.2.0")}catch{}function bS({basename:s,children:e,window:n}){let a=V.useRef();a.current==null&&(a.current=uw({window:n,v5Compat:!0}));let l=a.current,[c,d]=V.useState({action:l.action,location:l.location}),m=V.useCallback(p=>{V.startTransition(()=>d(p))},[d]);return V.useLayoutEffect(()=>l.listen(m),[l,m]),V.createElement(Zw,{basename:s,children:e,location:c.location,navigationType:c.action,navigator:l})}var M0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Se=V.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:l,reloadDocument:c,replace:d,state:m,target:p,to:_,preventScrollReset:x,viewTransition:T,...w},C){let{basename:D}=V.useContext(ns),q=typeof _=="string"&&M0.test(_),M,z=!1;if(typeof _=="string"&&q&&(M=_,O0))try{let S=new URL(window.location.href),R=_.startsWith("//")?new URL(S.protocol+_):new URL(_),O=ca(R.pathname,D);R.origin===S.origin&&O!=null?_=O+R.search+R.hash:z=!0}catch{Jn(!1,`<Link to="${_}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let G=Lw(_,{relative:l}),[Q,J,te]=yS(a,w),ce=NS(_,{replace:d,state:m,target:p,preventScrollReset:x,relative:l,viewTransition:T});function L(S){e&&e(S),S.defaultPrevented||ce(S)}let N=V.createElement("a",{...w,...te,href:M||G,onClick:z||c?e:L,ref:TS(C,J),target:p,"data-discover":!q&&n==="render"?"true":void 0});return Q&&!q?V.createElement(V.Fragment,null,N,V.createElement(vS,{page:G})):N});Se.displayName="Link";var AS=V.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:l=!1,style:c,to:d,viewTransition:m,children:p,..._},x){let T=hc(d,{relative:_.relative}),w=fi(),C=V.useContext(Bh),{navigator:D,basename:q}=V.useContext(ns),M=C!=null&&jS(T)&&m===!0,z=D.encodeLocation?D.encodeLocation(T).pathname:T.pathname,G=w.pathname,Q=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;n||(G=G.toLowerCase(),Q=Q?Q.toLowerCase():null,z=z.toLowerCase()),Q&&q&&(Q=ca(Q,q)||Q);const J=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let te=G===z||!l&&G.startsWith(z)&&G.charAt(J)==="/",ce=Q!=null&&(Q===z||!l&&Q.startsWith(z)&&Q.charAt(z.length)==="/"),L={isActive:te,isPending:ce,isTransitioning:M},N=te?e:void 0,S;typeof a=="function"?S=a(L):S=[a,te?"active":null,ce?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let R=typeof c=="function"?c(L):c;return V.createElement(Se,{..._,"aria-current":N,className:S,ref:x,style:R,to:d,viewTransition:m},typeof p=="function"?p(L):p)});AS.displayName="NavLink";var wS=V.forwardRef(({discover:s="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:l,state:c,method:d=rh,action:m,onSubmit:p,relative:_,preventScrollReset:x,viewTransition:T,...w},C)=>{let D=CS(),q=IS(m,{relative:_}),M=d.toLowerCase()==="get"?"get":"post",z=typeof m=="string"&&M0.test(m),G=Q=>{if(p&&p(Q),Q.defaultPrevented)return;Q.preventDefault();let J=Q.nativeEvent.submitter,te=(J==null?void 0:J.getAttribute("formmethod"))||d;D(J||Q.currentTarget,{fetcherKey:e,method:te,navigate:n,replace:l,state:c,relative:_,preventScrollReset:x,viewTransition:T})};return V.createElement("form",{ref:C,method:M,action:q,onSubmit:a?p:G,...w,"data-discover":!z&&s==="render"?"true":void 0})});wS.displayName="Form";function SS(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function L0(s){let e=V.useContext(bl);return st(e,SS(s)),e}function NS(s,{target:e,replace:n,state:a,preventScrollReset:l,relative:c,viewTransition:d}={}){let m=wl(),p=fi(),_=hc(s,{relative:c});return V.useCallback(x=>{if(iS(x,e)){x.preventDefault();let T=n!==void 0?n:tc(p)===tc(_);m(s,{replace:T,state:a,preventScrollReset:l,relative:c,viewTransition:d})}},[p,m,_,n,a,e,s,l,c,d])}var RS=0,kS=()=>`__${String(++RS)}__`;function CS(){let{router:s}=L0("useSubmit"),{basename:e}=V.useContext(ns),n=Qw();return V.useCallback(async(a,l={})=>{let{action:c,method:d,encType:m,formData:p,body:_}=lS(a,e);if(l.navigate===!1){let x=l.fetcherKey||kS();await s.fetch(x,n,l.action||c,{preventScrollReset:l.preventScrollReset,formData:p,body:_,formMethod:l.method||d,formEncType:l.encType||m,flushSync:l.flushSync})}else await s.navigate(l.action||c,{preventScrollReset:l.preventScrollReset,formData:p,body:_,formMethod:l.method||d,formEncType:l.encType||m,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[s,e,n])}function IS(s,{relative:e}={}){let{basename:n}=V.useContext(ns),a=V.useContext(ss);st(a,"useFormAction must be used inside a RouteContext");let[l]=a.matches.slice(-1),c={...hc(s||".",{relative:e})},d=fi();if(s==null){c.search=d.search;let m=new URLSearchParams(c.search),p=m.getAll("index");if(p.some(x=>x==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let x=m.toString();c.search=x?`?${x}`:""}}return(!s||s===".")&&l.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:ai([n,c.pathname])),tc(c)}function jS(s,e={}){let n=V.useContext(R0);st(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=L0("useViewTransitionState"),l=hc(s,{relative:e.relative});if(!n.isTransitioning)return!1;let c=ca(n.currentLocation.pathname,a)||n.currentLocation.pathname,d=ca(n.nextLocation.pathname,a)||n.nextLocation.pathname;return vh(l.pathname,d)!=null||vh(l.pathname,c)!=null}new TextEncoder;var DS=b0();const OS=dg(DS);document.addEventListener("DOMContentLoaded",function(){const s=["/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg","/AimRV/images/EE-AIMChallenge24-Uhamn-0171-high.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_113.jpg","/AimRV/images/AIM_lindvallen_2024_AnkiGrothe_highres_125.jpg"];function e(){const n=document.querySelectorAll(".dynamic-background");if(n.length===0){setTimeout(e,100);return}let a=s;try{const l=JSON.parse(localStorage.getItem("aimrv-background-images"));l&&Array.isArray(l)&&l.length>0&&(a=l)}catch(l){console.error("Error loading custom background images:",l)}n.forEach(function(l){let c=0;l.style.backgroundImage=`url(${a[c]})`,l.style.backgroundSize="cover",l.style.backgroundPosition="center",l.style.backgroundRepeat="no-repeat";const d=document.createElement("div");d.className="background-overlay",d.style.position="absolute",d.style.top="0",d.style.left="0",d.style.width="100%",d.style.height="100%",d.style.backgroundSize="cover",d.style.backgroundPosition="center",d.style.opacity="0",d.style.transition="opacity 2s ease-in-out",d.style.zIndex="1",getComputedStyle(l).position==="static"&&(l.style.position="relative"),Array.from(l.children).forEach(p=>{p!==d&&(p.style.zIndex===""||parseInt(p.style.zIndex)<10)&&(p.style.position="relative",p.style.zIndex="10")}),l.appendChild(d);function m(){const p=(c+1)%a.length;d.style.backgroundImage=`url(${a[p]})`,d.style.opacity="1",setTimeout(()=>{l.style.backgroundImage=`url(${a[p]})`,d.style.opacity="0",c=p},2e3)}setInterval(m,5e3)}),window.addEventListener("storage",function(l){if(l.key==="aimrv-background-images")try{const c=JSON.parse(l.newValue);c&&Array.isArray(c)&&c.length>0&&(a=c)}catch(c){console.error("Error updating background images:",c)}})}e()});const MS=()=>{};var qv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0=function(s){const e=[];let n=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},LS=function(s){const e=[];let n=0,a=0;for(;n<s.length;){const l=s[n++];if(l<128)e[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[n++];e[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[n++],d=s[n++],m=s[n++],p=((l&7)<<18|(c&63)<<12|(d&63)<<6|m&63)-65536;e[a++]=String.fromCharCode(55296+(p>>10)),e[a++]=String.fromCharCode(56320+(p&1023))}else{const c=s[n++],d=s[n++];e[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},P0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,m=d?s[l+1]:0,p=l+2<s.length,_=p?s[l+2]:0,x=c>>2,T=(c&3)<<4|m>>4;let w=(m&15)<<2|_>>6,C=_&63;p||(C=64,d||(w=64)),a.push(n[x],n[T],n[w],n[C])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(V0(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):LS(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const c=n[s.charAt(l++)],m=l<s.length?n[s.charAt(l)]:0;++l;const _=l<s.length?n[s.charAt(l)]:64;++l;const T=l<s.length?n[s.charAt(l)]:64;if(++l,c==null||m==null||_==null||T==null)throw new VS;const w=c<<2|m>>4;if(a.push(w),_!==64){const C=m<<4&240|_>>2;if(a.push(C),T!==64){const D=_<<6&192|T;a.push(D)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class VS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const PS=function(s){const e=V0(s);return P0.encodeByteArray(e,!0)},xh=function(s){return PS(s).replace(/\./g,"")},U0=function(s){try{return P0.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function US(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS=()=>US().__FIREBASE_DEFAULTS__,HS=()=>{if(typeof process>"u"||typeof qv>"u")return;const s=qv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},zS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&U0(s[1]);return e&&JSON.parse(e)},zh=()=>{try{return MS()||BS()||HS()||zS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},B0=s=>{var e,n;return(n=(e=zh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[s]},H0=s=>{const e=B0(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},z0=()=>{var s;return(s=zh())===null||s===void 0?void 0:s.config},q0=s=>{var e;return(e=zh())===null||e===void 0?void 0:e[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K0(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},s);return[xh(JSON.stringify(n)),xh(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function KS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())}function FS(){var s;const e=(s=zh())===null||s===void 0?void 0:s.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function GS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $S(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function QS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function YS(){const s=nn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function WS(){return!FS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function XS(){try{return typeof indexedDB=="object"}catch{return!1}}function ZS(){return new Promise((s,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var c;e(((c=l.error)===null||c===void 0?void 0:c.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS="FirebaseError";class Rs extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=JS,Object.setPrototypeOf(this,Rs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,dc.prototype.create)}}class dc{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?eN(c,a):"Error",m=`${this.serviceName}: ${d} (${l}).`;return new Rs(l,m,a)}}function eN(s,e){return s.replace(tN,(n,a)=>{const l=e[a];return l!=null?String(l):`<${a}?>`})}const tN=/\{\$([^}]+)}/g;function nN(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function tr(s,e){if(s===e)return!0;const n=Object.keys(s),a=Object.keys(e);for(const l of n){if(!a.includes(l))return!1;const c=s[l],d=e[l];if(Kv(c)&&Kv(d)){if(!tr(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!n.includes(l))return!1;return!0}function Kv(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fc(s){const e=[];for(const[n,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function qo(s){const e={};return s.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[l,c]=a.split("=");e[decodeURIComponent(l)]=decodeURIComponent(c)}}),e}function Ko(s){const e=s.indexOf("?");if(!e)return"";const n=s.indexOf("#",e);return s.substring(e,n>0?n:void 0)}function sN(s,e){const n=new iN(s,e);return n.subscribe.bind(n)}class iN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,a){let l;if(e===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");aN(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:a},l.next===void 0&&(l.next=bm),l.error===void 0&&(l.error=bm),l.complete===void 0&&(l.complete=bm);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function aN(s,e){if(typeof s!="object"||s===null)return!1;for(const n of e)if(n in s&&typeof s[n]=="function")return!0;return!1}function bm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nt(s){return s&&s._delegate?s._delegate:s}class ua{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new qS;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),l=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(c){if(l)return null;throw c}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(oN(e))try{this.getOrInitializeService({instanceIdentifier:Za})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(e=Za){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Za){return this.instances.has(e)}getOptions(e=Za){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[c,d]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);a===m&&d.resolve(l)}return l}onInit(e,n){var a;const l=this.normalizeInstanceIdentifier(n),c=(a=this.onInitCallbacks.get(l))!==null&&a!==void 0?a:new Set;c.add(e),this.onInitCallbacks.set(l,c);const d=this.instances.get(l);return d&&e(d,l),()=>{c.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const l of a)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:lN(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Za){return this.component?this.component.multipleInstances?e:Za:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lN(s){return s===Za?void 0:s}function oN(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new rN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Oe||(Oe={}));const uN={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},hN=Oe.INFO,dN={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},fN=(s,e,...n)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),l=dN[e];if(l)console[l](`[${a}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Eg{constructor(e){this.name=e,this._logLevel=hN,this._logHandler=fN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?uN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const mN=(s,e)=>e.some(n=>s instanceof n);let Fv,Gv;function gN(){return Fv||(Fv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pN(){return Gv||(Gv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const F0=new WeakMap,Pm=new WeakMap,G0=new WeakMap,Am=new WeakMap,Tg=new WeakMap;function _N(s){const e=new Promise((n,a)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{n(aa(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&F0.set(n,s)}).catch(()=>{}),Tg.set(e,s),e}function yN(s){if(Pm.has(s))return;const e=new Promise((n,a)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{n(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});Pm.set(s,e)}let Um={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return Pm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||G0.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return aa(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function vN(s){Um=s(Um)}function xN(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=s.call(wm(this),e,...n);return G0.set(a,e.sort?e.sort():[e]),aa(a)}:pN().includes(s)?function(...e){return s.apply(wm(this),e),aa(F0.get(this))}:function(...e){return aa(s.apply(wm(this),e))}}function EN(s){return typeof s=="function"?xN(s):(s instanceof IDBTransaction&&yN(s),mN(s,gN())?new Proxy(s,Um):s)}function aa(s){if(s instanceof IDBRequest)return _N(s);if(Am.has(s))return Am.get(s);const e=EN(s);return e!==s&&(Am.set(s,e),Tg.set(e,s)),e}const wm=s=>Tg.get(s);function TN(s,e,{blocked:n,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(s,e),m=aa(d);return a&&d.addEventListener("upgradeneeded",p=>{a(aa(d.result),p.oldVersion,p.newVersion,aa(d.transaction),p)}),n&&d.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{c&&p.addEventListener("close",()=>c()),l&&p.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),m}const bN=["get","getKey","getAll","getAllKeys","count"],AN=["put","add","delete","clear"],Sm=new Map;function $v(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Sm.get(e))return Sm.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,l=AN.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(l||bN.includes(n)))return;const c=async function(d,...m){const p=this.transaction(d,l?"readwrite":"readonly");let _=p.store;return a&&(_=_.index(m.shift())),(await Promise.all([_[n](...m),l&&p.done]))[0]};return Sm.set(e,c),c}vN(s=>({...s,get:(e,n,a)=>$v(e,n)||s.get(e,n,a),has:(e,n)=>!!$v(e,n)||s.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(SN(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function SN(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Bm="@firebase/app",Qv="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oi=new Eg("@firebase/app"),NN="@firebase/app-compat",RN="@firebase/analytics-compat",kN="@firebase/analytics",CN="@firebase/app-check-compat",IN="@firebase/app-check",jN="@firebase/auth",DN="@firebase/auth-compat",ON="@firebase/database",MN="@firebase/data-connect",LN="@firebase/database-compat",VN="@firebase/functions",PN="@firebase/functions-compat",UN="@firebase/installations",BN="@firebase/installations-compat",HN="@firebase/messaging",zN="@firebase/messaging-compat",qN="@firebase/performance",KN="@firebase/performance-compat",FN="@firebase/remote-config",GN="@firebase/remote-config-compat",$N="@firebase/storage",QN="@firebase/storage-compat",YN="@firebase/firestore",WN="@firebase/vertexai",XN="@firebase/firestore-compat",ZN="firebase",JN="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hm="[DEFAULT]",eR={[Bm]:"fire-core",[NN]:"fire-core-compat",[kN]:"fire-analytics",[RN]:"fire-analytics-compat",[IN]:"fire-app-check",[CN]:"fire-app-check-compat",[jN]:"fire-auth",[DN]:"fire-auth-compat",[ON]:"fire-rtdb",[MN]:"fire-data-connect",[LN]:"fire-rtdb-compat",[VN]:"fire-fn",[PN]:"fire-fn-compat",[UN]:"fire-iid",[BN]:"fire-iid-compat",[HN]:"fire-fcm",[zN]:"fire-fcm-compat",[qN]:"fire-perf",[KN]:"fire-perf-compat",[FN]:"fire-rc",[GN]:"fire-rc-compat",[$N]:"fire-gcs",[QN]:"fire-gcs-compat",[YN]:"fire-fst",[XN]:"fire-fst-compat",[WN]:"fire-vertex","fire-js":"fire-js",[ZN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eh=new Map,tR=new Map,zm=new Map;function Yv(s,e){try{s.container.addComponent(e)}catch(n){oi.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function nr(s){const e=s.name;if(zm.has(e))return oi.debug(`There were multiple attempts to register component ${e}.`),!1;zm.set(e,s);for(const n of Eh.values())Yv(n,s);for(const n of tR.values())Yv(n,s);return!0}function qh(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function wn(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ra=new dc("app","Firebase",nR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e,n,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ua("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ra.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const or=JN;function $0(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const a=Object.assign({name:Hm,automaticDataCollectionEnabled:!1},e),l=a.name;if(typeof l!="string"||!l)throw ra.create("bad-app-name",{appName:String(l)});if(n||(n=z0()),!n)throw ra.create("no-options");const c=Eh.get(l);if(c){if(tr(n,c.options)&&tr(a,c.config))return c;throw ra.create("duplicate-app",{appName:l})}const d=new cN(l);for(const p of zm.values())d.addComponent(p);const m=new sR(n,a,d);return Eh.set(l,m),m}function bg(s=Hm){const e=Eh.get(s);if(!e&&s===Hm&&z0())return $0();if(!e)throw ra.create("no-app",{appName:s});return e}function Ts(s,e,n){var a;let l=(a=eR[s])!==null&&a!==void 0?a:s;n&&(l+=`-${n}`);const c=l.match(/\s|\//),d=e.match(/\s|\//);if(c||d){const m=[`Unable to register library "${l}" with version "${e}":`];c&&m.push(`library name "${l}" contains illegal characters (whitespace or "/")`),c&&d&&m.push("and"),d&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),oi.warn(m.join(" "));return}nr(new ua(`${l}-version`,()=>({library:l,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR="firebase-heartbeat-database",aR=1,nc="firebase-heartbeat-store";let Nm=null;function Q0(){return Nm||(Nm=TN(iR,aR,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(nc)}catch(n){console.warn(n)}}}}).catch(s=>{throw ra.create("idb-open",{originalErrorMessage:s.message})})),Nm}async function rR(s){try{const n=(await Q0()).transaction(nc),a=await n.objectStore(nc).get(Y0(s));return await n.done,a}catch(e){if(e instanceof Rs)oi.warn(e.message);else{const n=ra.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});oi.warn(n.message)}}}async function Wv(s,e){try{const a=(await Q0()).transaction(nc,"readwrite");await a.objectStore(nc).put(e,Y0(s)),await a.done}catch(n){if(n instanceof Rs)oi.warn(n.message);else{const a=ra.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});oi.warn(a.message)}}}function Y0(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR=1024,oR=30;class cR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new hR(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Xv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats.length>oR){const d=dR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){oi.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Xv(),{heartbeatsToSend:a,unsentEntries:l}=uR(this._heartbeatsCache.heartbeats),c=xh(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return oi.warn(n),""}}}function Xv(){return new Date().toISOString().substring(0,10)}function uR(s,e=lR){const n=[];let a=s.slice();for(const l of s){const c=n.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),Zv(n)>e){c.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),Zv(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class hR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return XS()?ZS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await rR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return Wv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return Wv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...e.heartbeats]})}else return}}function Zv(s){return xh(JSON.stringify({version:2,heartbeats:s})).length}function dR(s){if(s.length===0)return-1;let e=0,n=s[0].date;for(let a=1;a<s.length;a++)s[a].date<n&&(n=s[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fR(s){nr(new ua("platform-logger",e=>new wN(e),"PRIVATE")),nr(new ua("heartbeat",e=>new cR(e),"PRIVATE")),Ts(Bm,Qv,s),Ts(Bm,Qv,"esm2017"),Ts("fire-js","")}fR("");var mR="firebase",gR="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ts(mR,gR,"app");var Jv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var la,W0;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(L,N){function S(){}S.prototype=N.prototype,L.D=N.prototype,L.prototype=new S,L.prototype.constructor=L,L.C=function(R,O,H){for(var I=Array(arguments.length-2),it=2;it<arguments.length;it++)I[it-2]=arguments[it];return N.prototype[O].apply(R,I)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,n),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(L,N,S){S||(S=0);var R=Array(16);if(typeof N=="string")for(var O=0;16>O;++O)R[O]=N.charCodeAt(S++)|N.charCodeAt(S++)<<8|N.charCodeAt(S++)<<16|N.charCodeAt(S++)<<24;else for(O=0;16>O;++O)R[O]=N[S++]|N[S++]<<8|N[S++]<<16|N[S++]<<24;N=L.g[0],S=L.g[1],O=L.g[2];var H=L.g[3],I=N+(H^S&(O^H))+R[0]+3614090360&4294967295;N=S+(I<<7&4294967295|I>>>25),I=H+(O^N&(S^O))+R[1]+3905402710&4294967295,H=N+(I<<12&4294967295|I>>>20),I=O+(S^H&(N^S))+R[2]+606105819&4294967295,O=H+(I<<17&4294967295|I>>>15),I=S+(N^O&(H^N))+R[3]+3250441966&4294967295,S=O+(I<<22&4294967295|I>>>10),I=N+(H^S&(O^H))+R[4]+4118548399&4294967295,N=S+(I<<7&4294967295|I>>>25),I=H+(O^N&(S^O))+R[5]+1200080426&4294967295,H=N+(I<<12&4294967295|I>>>20),I=O+(S^H&(N^S))+R[6]+2821735955&4294967295,O=H+(I<<17&4294967295|I>>>15),I=S+(N^O&(H^N))+R[7]+4249261313&4294967295,S=O+(I<<22&4294967295|I>>>10),I=N+(H^S&(O^H))+R[8]+1770035416&4294967295,N=S+(I<<7&4294967295|I>>>25),I=H+(O^N&(S^O))+R[9]+2336552879&4294967295,H=N+(I<<12&4294967295|I>>>20),I=O+(S^H&(N^S))+R[10]+4294925233&4294967295,O=H+(I<<17&4294967295|I>>>15),I=S+(N^O&(H^N))+R[11]+2304563134&4294967295,S=O+(I<<22&4294967295|I>>>10),I=N+(H^S&(O^H))+R[12]+1804603682&4294967295,N=S+(I<<7&4294967295|I>>>25),I=H+(O^N&(S^O))+R[13]+4254626195&4294967295,H=N+(I<<12&4294967295|I>>>20),I=O+(S^H&(N^S))+R[14]+2792965006&4294967295,O=H+(I<<17&4294967295|I>>>15),I=S+(N^O&(H^N))+R[15]+1236535329&4294967295,S=O+(I<<22&4294967295|I>>>10),I=N+(O^H&(S^O))+R[1]+4129170786&4294967295,N=S+(I<<5&4294967295|I>>>27),I=H+(S^O&(N^S))+R[6]+3225465664&4294967295,H=N+(I<<9&4294967295|I>>>23),I=O+(N^S&(H^N))+R[11]+643717713&4294967295,O=H+(I<<14&4294967295|I>>>18),I=S+(H^N&(O^H))+R[0]+3921069994&4294967295,S=O+(I<<20&4294967295|I>>>12),I=N+(O^H&(S^O))+R[5]+3593408605&4294967295,N=S+(I<<5&4294967295|I>>>27),I=H+(S^O&(N^S))+R[10]+38016083&4294967295,H=N+(I<<9&4294967295|I>>>23),I=O+(N^S&(H^N))+R[15]+3634488961&4294967295,O=H+(I<<14&4294967295|I>>>18),I=S+(H^N&(O^H))+R[4]+3889429448&4294967295,S=O+(I<<20&4294967295|I>>>12),I=N+(O^H&(S^O))+R[9]+568446438&4294967295,N=S+(I<<5&4294967295|I>>>27),I=H+(S^O&(N^S))+R[14]+3275163606&4294967295,H=N+(I<<9&4294967295|I>>>23),I=O+(N^S&(H^N))+R[3]+4107603335&4294967295,O=H+(I<<14&4294967295|I>>>18),I=S+(H^N&(O^H))+R[8]+1163531501&4294967295,S=O+(I<<20&4294967295|I>>>12),I=N+(O^H&(S^O))+R[13]+2850285829&4294967295,N=S+(I<<5&4294967295|I>>>27),I=H+(S^O&(N^S))+R[2]+4243563512&4294967295,H=N+(I<<9&4294967295|I>>>23),I=O+(N^S&(H^N))+R[7]+1735328473&4294967295,O=H+(I<<14&4294967295|I>>>18),I=S+(H^N&(O^H))+R[12]+2368359562&4294967295,S=O+(I<<20&4294967295|I>>>12),I=N+(S^O^H)+R[5]+4294588738&4294967295,N=S+(I<<4&4294967295|I>>>28),I=H+(N^S^O)+R[8]+2272392833&4294967295,H=N+(I<<11&4294967295|I>>>21),I=O+(H^N^S)+R[11]+1839030562&4294967295,O=H+(I<<16&4294967295|I>>>16),I=S+(O^H^N)+R[14]+4259657740&4294967295,S=O+(I<<23&4294967295|I>>>9),I=N+(S^O^H)+R[1]+2763975236&4294967295,N=S+(I<<4&4294967295|I>>>28),I=H+(N^S^O)+R[4]+1272893353&4294967295,H=N+(I<<11&4294967295|I>>>21),I=O+(H^N^S)+R[7]+4139469664&4294967295,O=H+(I<<16&4294967295|I>>>16),I=S+(O^H^N)+R[10]+3200236656&4294967295,S=O+(I<<23&4294967295|I>>>9),I=N+(S^O^H)+R[13]+681279174&4294967295,N=S+(I<<4&4294967295|I>>>28),I=H+(N^S^O)+R[0]+3936430074&4294967295,H=N+(I<<11&4294967295|I>>>21),I=O+(H^N^S)+R[3]+3572445317&4294967295,O=H+(I<<16&4294967295|I>>>16),I=S+(O^H^N)+R[6]+76029189&4294967295,S=O+(I<<23&4294967295|I>>>9),I=N+(S^O^H)+R[9]+3654602809&4294967295,N=S+(I<<4&4294967295|I>>>28),I=H+(N^S^O)+R[12]+3873151461&4294967295,H=N+(I<<11&4294967295|I>>>21),I=O+(H^N^S)+R[15]+530742520&4294967295,O=H+(I<<16&4294967295|I>>>16),I=S+(O^H^N)+R[2]+3299628645&4294967295,S=O+(I<<23&4294967295|I>>>9),I=N+(O^(S|~H))+R[0]+4096336452&4294967295,N=S+(I<<6&4294967295|I>>>26),I=H+(S^(N|~O))+R[7]+1126891415&4294967295,H=N+(I<<10&4294967295|I>>>22),I=O+(N^(H|~S))+R[14]+2878612391&4294967295,O=H+(I<<15&4294967295|I>>>17),I=S+(H^(O|~N))+R[5]+4237533241&4294967295,S=O+(I<<21&4294967295|I>>>11),I=N+(O^(S|~H))+R[12]+1700485571&4294967295,N=S+(I<<6&4294967295|I>>>26),I=H+(S^(N|~O))+R[3]+2399980690&4294967295,H=N+(I<<10&4294967295|I>>>22),I=O+(N^(H|~S))+R[10]+4293915773&4294967295,O=H+(I<<15&4294967295|I>>>17),I=S+(H^(O|~N))+R[1]+2240044497&4294967295,S=O+(I<<21&4294967295|I>>>11),I=N+(O^(S|~H))+R[8]+1873313359&4294967295,N=S+(I<<6&4294967295|I>>>26),I=H+(S^(N|~O))+R[15]+4264355552&4294967295,H=N+(I<<10&4294967295|I>>>22),I=O+(N^(H|~S))+R[6]+2734768916&4294967295,O=H+(I<<15&4294967295|I>>>17),I=S+(H^(O|~N))+R[13]+1309151649&4294967295,S=O+(I<<21&4294967295|I>>>11),I=N+(O^(S|~H))+R[4]+4149444226&4294967295,N=S+(I<<6&4294967295|I>>>26),I=H+(S^(N|~O))+R[11]+3174756917&4294967295,H=N+(I<<10&4294967295|I>>>22),I=O+(N^(H|~S))+R[2]+718787259&4294967295,O=H+(I<<15&4294967295|I>>>17),I=S+(H^(O|~N))+R[9]+3951481745&4294967295,L.g[0]=L.g[0]+N&4294967295,L.g[1]=L.g[1]+(O+(I<<21&4294967295|I>>>11))&4294967295,L.g[2]=L.g[2]+O&4294967295,L.g[3]=L.g[3]+H&4294967295}a.prototype.u=function(L,N){N===void 0&&(N=L.length);for(var S=N-this.blockSize,R=this.B,O=this.h,H=0;H<N;){if(O==0)for(;H<=S;)l(this,L,H),H+=this.blockSize;if(typeof L=="string"){for(;H<N;)if(R[O++]=L.charCodeAt(H++),O==this.blockSize){l(this,R),O=0;break}}else for(;H<N;)if(R[O++]=L[H++],O==this.blockSize){l(this,R),O=0;break}}this.h=O,this.o+=N},a.prototype.v=function(){var L=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);L[0]=128;for(var N=1;N<L.length-8;++N)L[N]=0;var S=8*this.o;for(N=L.length-8;N<L.length;++N)L[N]=S&255,S/=256;for(this.u(L),L=Array(16),N=S=0;4>N;++N)for(var R=0;32>R;R+=8)L[S++]=this.g[N]>>>R&255;return L};function c(L,N){var S=m;return Object.prototype.hasOwnProperty.call(S,L)?S[L]:S[L]=N(L)}function d(L,N){this.h=N;for(var S=[],R=!0,O=L.length-1;0<=O;O--){var H=L[O]|0;R&&H==N||(S[O]=H,R=!1)}this.g=S}var m={};function p(L){return-128<=L&&128>L?c(L,function(N){return new d([N|0],0>N?-1:0)}):new d([L|0],0>L?-1:0)}function _(L){if(isNaN(L)||!isFinite(L))return T;if(0>L)return M(_(-L));for(var N=[],S=1,R=0;L>=S;R++)N[R]=L/S|0,S*=4294967296;return new d(N,0)}function x(L,N){if(L.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(L.charAt(0)=="-")return M(x(L.substring(1),N));if(0<=L.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=_(Math.pow(N,8)),R=T,O=0;O<L.length;O+=8){var H=Math.min(8,L.length-O),I=parseInt(L.substring(O,O+H),N);8>H?(H=_(Math.pow(N,H)),R=R.j(H).add(_(I))):(R=R.j(S),R=R.add(_(I)))}return R}var T=p(0),w=p(1),C=p(16777216);s=d.prototype,s.m=function(){if(q(this))return-M(this).m();for(var L=0,N=1,S=0;S<this.g.length;S++){var R=this.i(S);L+=(0<=R?R:4294967296+R)*N,N*=4294967296}return L},s.toString=function(L){if(L=L||10,2>L||36<L)throw Error("radix out of range: "+L);if(D(this))return"0";if(q(this))return"-"+M(this).toString(L);for(var N=_(Math.pow(L,6)),S=this,R="";;){var O=J(S,N).g;S=z(S,O.j(N));var H=((0<S.g.length?S.g[0]:S.h)>>>0).toString(L);if(S=O,D(S))return H+R;for(;6>H.length;)H="0"+H;R=H+R}},s.i=function(L){return 0>L?0:L<this.g.length?this.g[L]:this.h};function D(L){if(L.h!=0)return!1;for(var N=0;N<L.g.length;N++)if(L.g[N]!=0)return!1;return!0}function q(L){return L.h==-1}s.l=function(L){return L=z(this,L),q(L)?-1:D(L)?0:1};function M(L){for(var N=L.g.length,S=[],R=0;R<N;R++)S[R]=~L.g[R];return new d(S,~L.h).add(w)}s.abs=function(){return q(this)?M(this):this},s.add=function(L){for(var N=Math.max(this.g.length,L.g.length),S=[],R=0,O=0;O<=N;O++){var H=R+(this.i(O)&65535)+(L.i(O)&65535),I=(H>>>16)+(this.i(O)>>>16)+(L.i(O)>>>16);R=I>>>16,H&=65535,I&=65535,S[O]=I<<16|H}return new d(S,S[S.length-1]&-2147483648?-1:0)};function z(L,N){return L.add(M(N))}s.j=function(L){if(D(this)||D(L))return T;if(q(this))return q(L)?M(this).j(M(L)):M(M(this).j(L));if(q(L))return M(this.j(M(L)));if(0>this.l(C)&&0>L.l(C))return _(this.m()*L.m());for(var N=this.g.length+L.g.length,S=[],R=0;R<2*N;R++)S[R]=0;for(R=0;R<this.g.length;R++)for(var O=0;O<L.g.length;O++){var H=this.i(R)>>>16,I=this.i(R)&65535,it=L.i(O)>>>16,et=L.i(O)&65535;S[2*R+2*O]+=I*et,G(S,2*R+2*O),S[2*R+2*O+1]+=H*et,G(S,2*R+2*O+1),S[2*R+2*O+1]+=I*it,G(S,2*R+2*O+1),S[2*R+2*O+2]+=H*it,G(S,2*R+2*O+2)}for(R=0;R<N;R++)S[R]=S[2*R+1]<<16|S[2*R];for(R=N;R<2*N;R++)S[R]=0;return new d(S,0)};function G(L,N){for(;(L[N]&65535)!=L[N];)L[N+1]+=L[N]>>>16,L[N]&=65535,N++}function Q(L,N){this.g=L,this.h=N}function J(L,N){if(D(N))throw Error("division by zero");if(D(L))return new Q(T,T);if(q(L))return N=J(M(L),N),new Q(M(N.g),M(N.h));if(q(N))return N=J(L,M(N)),new Q(M(N.g),N.h);if(30<L.g.length){if(q(L)||q(N))throw Error("slowDivide_ only works with positive integers.");for(var S=w,R=N;0>=R.l(L);)S=te(S),R=te(R);var O=ce(S,1),H=ce(R,1);for(R=ce(R,2),S=ce(S,2);!D(R);){var I=H.add(R);0>=I.l(L)&&(O=O.add(S),H=I),R=ce(R,1),S=ce(S,1)}return N=z(L,O.j(N)),new Q(O,N)}for(O=T;0<=L.l(N);){for(S=Math.max(1,Math.floor(L.m()/N.m())),R=Math.ceil(Math.log(S)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),H=_(S),I=H.j(N);q(I)||0<I.l(L);)S-=R,H=_(S),I=H.j(N);D(H)&&(H=w),O=O.add(H),L=z(L,I)}return new Q(O,L)}s.A=function(L){return J(this,L).h},s.and=function(L){for(var N=Math.max(this.g.length,L.g.length),S=[],R=0;R<N;R++)S[R]=this.i(R)&L.i(R);return new d(S,this.h&L.h)},s.or=function(L){for(var N=Math.max(this.g.length,L.g.length),S=[],R=0;R<N;R++)S[R]=this.i(R)|L.i(R);return new d(S,this.h|L.h)},s.xor=function(L){for(var N=Math.max(this.g.length,L.g.length),S=[],R=0;R<N;R++)S[R]=this.i(R)^L.i(R);return new d(S,this.h^L.h)};function te(L){for(var N=L.g.length+1,S=[],R=0;R<N;R++)S[R]=L.i(R)<<1|L.i(R-1)>>>31;return new d(S,L.h)}function ce(L,N){var S=N>>5;N%=32;for(var R=L.g.length-S,O=[],H=0;H<R;H++)O[H]=0<N?L.i(H+S)>>>N|L.i(H+S+1)<<32-N:L.i(H+S);return new d(O,L.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,W0=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=x,la=d}).apply(typeof Jv<"u"?Jv:typeof self<"u"?self:typeof window<"u"?window:{});var Wu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var X0,Fo,Z0,oh,qm,J0,eE,tE;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,y,v){return h==Array.prototype||h==Object.prototype||(h[y]=v.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wu=="object"&&Wu];for(var y=0;y<h.length;++y){var v=h[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=n(this);function l(h,y){if(y)e:{var v=a;h=h.split(".");for(var A=0;A<h.length-1;A++){var F=h[A];if(!(F in v))break e;v=v[F]}h=h[h.length-1],A=v[h],y=y(A),y!=A&&y!=null&&e(v,h,{configurable:!0,writable:!0,value:y})}}function c(h,y){h instanceof String&&(h+="");var v=0,A=!1,F={next:function(){if(!A&&v<h.length){var W=v++;return{value:y(W,h[W]),done:!1}}return A=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}l("Array.prototype.values",function(h){return h||function(){return c(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},m=this||self;function p(h){var y=typeof h;return y=y!="object"?y:h?Array.isArray(h)?"array":y:"null",y=="array"||y=="object"&&typeof h.length=="number"}function _(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function x(h,y,v){return h.call.apply(h.bind,arguments)}function T(h,y,v){if(!h)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,A),h.apply(y,F)}}return function(){return h.apply(y,arguments)}}function w(h,y,v){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?x:T,w.apply(null,arguments)}function C(h,y){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function D(h,y){function v(){}v.prototype=y.prototype,h.aa=y.prototype,h.prototype=new v,h.prototype.constructor=h,h.Qb=function(A,F,W){for(var re=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)re[Pe-2]=arguments[Pe];return y.prototype[F].apply(A,re)}}function q(h){const y=h.length;if(0<y){const v=Array(y);for(let A=0;A<y;A++)v[A]=h[A];return v}return[]}function M(h,y){for(let v=1;v<arguments.length;v++){const A=arguments[v];if(p(A)){const F=h.length||0,W=A.length||0;h.length=F+W;for(let re=0;re<W;re++)h[F+re]=A[re]}else h.push(A)}}class z{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function G(h){return/^[\s\xa0]*$/.test(h)}function Q(){var h=m.navigator;return h&&(h=h.userAgent)?h:""}function J(h){return J[" "](h),h}J[" "]=function(){};var te=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function ce(h,y,v){for(const A in h)y.call(v,h[A],A,h)}function L(h,y){for(const v in h)y.call(void 0,h[v],v,h)}function N(h){const y={};for(const v in h)y[v]=h[v];return y}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(h,y){let v,A;for(let F=1;F<arguments.length;F++){A=arguments[F];for(v in A)h[v]=A[v];for(let W=0;W<S.length;W++)v=S[W],Object.prototype.hasOwnProperty.call(A,v)&&(h[v]=A[v])}}function O(h){var y=1;h=h.split(":");const v=[];for(;0<y&&h.length;)v.push(h.shift()),y--;return h.length&&v.push(h.join(":")),v}function H(h){m.setTimeout(()=>{throw h},0)}function I(){var h=Re;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class it{constructor(){this.h=this.g=null}add(y,v){const A=et.get();A.set(y,v),this.h?this.h.next=A:this.g=A,this.h=A}}var et=new z(()=>new le,h=>h.reset());class le{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ve,oe=!1,Re=new it,j=()=>{const h=m.Promise.resolve(void 0);ve=()=>{h.then(ie)}};var ie=()=>{for(var h;h=I();){try{h.h.call(h.g)}catch(v){H(v)}var y=et;y.j(h),100>y.h&&(y.h++,h.next=y.g,y.g=h)}oe=!1};function me(){this.s=this.s,this.C=this.C}me.prototype.s=!1,me.prototype.ma=function(){this.s||(this.s=!0,this.N())},me.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var he=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const v=()=>{};m.addEventListener("test",v,y),m.removeEventListener("test",v,y)}catch{}return h}();function ke(h,y){if(ue.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var v=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget){if(te){e:{try{J(y.nodeName);var F=!0;break e}catch{}F=!1}F||(y=null)}}else v=="mouseover"?y=h.fromElement:v=="mouseout"&&(y=h.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Ae[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&ke.aa.h.call(this)}}D(ke,ue);var Ae={2:"touch",3:"pen",4:"mouse"};ke.prototype.h=function(){ke.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var vt="closure_listenable_"+(1e6*Math.random()|0),ze=0;function ct(h,y,v,A,F){this.listener=h,this.proxy=null,this.src=y,this.type=v,this.capture=!!A,this.ha=F,this.key=++ze,this.da=this.fa=!1}function Qe(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function an(h){this.src=h,this.g={},this.h=0}an.prototype.add=function(h,y,v,A,F){var W=h.toString();h=this.g[W],h||(h=this.g[W]=[],this.h++);var re=Rn(h,y,A,F);return-1<re?(y=h[re],v||(y.fa=!1)):(y=new ct(y,this.src,W,!!A,F),y.fa=v,h.push(y)),y};function ks(h,y){var v=y.type;if(v in h.g){var A=h.g[v],F=Array.prototype.indexOf.call(A,y,void 0),W;(W=0<=F)&&Array.prototype.splice.call(A,F,1),W&&(Qe(y),h.g[v].length==0&&(delete h.g[v],h.h--))}}function Rn(h,y,v,A){for(var F=0;F<h.length;++F){var W=h[F];if(!W.da&&W.listener==y&&W.capture==!!v&&W.ha==A)return F}return-1}var gi="closure_lm_"+(1e6*Math.random()|0),pi={};function Cs(h,y,v,A,F){if(Array.isArray(y)){for(var W=0;W<y.length;W++)Cs(h,y[W],v,A,F);return null}return v=Rc(v),h&&h[vt]?h.K(y,v,_(A)?!!A.capture:!1,F):Il(h,y,v,!1,A,F)}function Il(h,y,v,A,F,W){if(!y)throw Error("Invalid event type");var re=_(F)?!!F.capture:!!F,Pe=jl(h);if(Pe||(h[gi]=Pe=new an(h)),v=Pe.add(y,v,A,re,W),v.proxy)return v;if(A=gr(),v.proxy=A,A.src=h,A.listener=v,h.addEventListener)he||(F=re),F===void 0&&(F=!1),h.addEventListener(y.toString(),A,F);else if(h.attachEvent)h.attachEvent(_r(y.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function gr(){function h(v){return y.call(h.src,h.listener,v)}const y=pd;return h}function pr(h,y,v,A,F){if(Array.isArray(y))for(var W=0;W<y.length;W++)pr(h,y[W],v,A,F);else A=_(A)?!!A.capture:!!A,v=Rc(v),h&&h[vt]?(h=h.i,y=String(y).toString(),y in h.g&&(W=h.g[y],v=Rn(W,v,A,F),-1<v&&(Qe(W[v]),Array.prototype.splice.call(W,v,1),W.length==0&&(delete h.g[y],h.h--)))):h&&(h=jl(h))&&(y=h.g[y.toString()],h=-1,y&&(h=Rn(y,v,A,F)),(v=-1<h?y[h]:null)&&xa(v))}function xa(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[vt])ks(y.i,h);else{var v=h.type,A=h.proxy;y.removeEventListener?y.removeEventListener(v,A,h.capture):y.detachEvent?y.detachEvent(_r(v),A):y.addListener&&y.removeListener&&y.removeListener(A),(v=jl(y))?(ks(v,h),v.h==0&&(v.src=null,y[gi]=null)):Qe(h)}}}function _r(h){return h in pi?pi[h]:pi[h]="on"+h}function pd(h,y){if(h.da)h=!0;else{y=new ke(y,this);var v=h.listener,A=h.ha||h.src;h.fa&&xa(h),h=v.call(A,y)}return h}function jl(h){return h=h[gi],h instanceof an?h:null}var dn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Rc(h){return typeof h=="function"?h:(h[dn]||(h[dn]=function(y){return h.handleEvent(y)}),h[dn])}function wt(){me.call(this),this.i=new an(this),this.M=this,this.F=null}D(wt,me),wt.prototype[vt]=!0,wt.prototype.removeEventListener=function(h,y,v,A){pr(this,h,y,v,A)};function Ot(h,y){var v,A=h.F;if(A)for(v=[];A;A=A.F)v.push(A);if(h=h.M,A=y.type||y,typeof y=="string")y=new ue(y,h);else if(y instanceof ue)y.target=y.target||h;else{var F=y;y=new ue(A,h),R(y,F)}if(F=!0,v)for(var W=v.length-1;0<=W;W--){var re=y.g=v[W];F=Is(re,A,!0,y)&&F}if(re=y.g=h,F=Is(re,A,!0,y)&&F,F=Is(re,A,!1,y)&&F,v)for(W=0;W<v.length;W++)re=y.g=v[W],F=Is(re,A,!1,y)&&F}wt.prototype.N=function(){if(wt.aa.N.call(this),this.i){var h=this.i,y;for(y in h.g){for(var v=h.g[y],A=0;A<v.length;A++)Qe(v[A]);delete h.g[y],h.h--}}this.F=null},wt.prototype.K=function(h,y,v,A){return this.i.add(String(h),y,!1,v,A)},wt.prototype.L=function(h,y,v,A){return this.i.add(String(h),y,!0,v,A)};function Is(h,y,v,A){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();for(var F=!0,W=0;W<y.length;++W){var re=y[W];if(re&&!re.da&&re.capture==v){var Pe=re.listener,Nt=re.ha||re.src;re.fa&&ks(h.i,re),F=Pe.call(Nt,A)!==!1&&F}}return F&&!A.defaultPrevented}function kc(h,y,v){if(typeof h=="function")v&&(h=w(h,v));else if(h&&typeof h.handleEvent=="function")h=w(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(h,y||0)}function Dl(h){h.g=kc(()=>{h.g=null,h.i&&(h.i=!1,Dl(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class _d extends me{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Dl(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ea(h){me.call(this),this.h=h,this.g={}}D(Ea,me);var _i=[];function Yt(h){ce(h.g,function(y,v){this.g.hasOwnProperty(v)&&xa(y)},h),h.g={}}Ea.prototype.N=function(){Ea.aa.N.call(this),Yt(this)},Ea.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ol=m.JSON.stringify,is=m.JSON.parse,rn=class{stringify(h){return m.JSON.stringify(h,void 0)}parse(h){return m.JSON.parse(h,void 0)}};function Ml(){}Ml.prototype.h=null;function Cc(h){return h.h||(h.h=h.i())}function Ic(){}var as={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function yi(){ue.call(this,"d")}D(yi,ue);function $n(){ue.call(this,"c")}D($n,ue);var kn={},vi=null;function yr(){return vi=vi||new wt}kn.La="serverreachability";function Ll(h){ue.call(this,kn.La,h)}D(Ll,ue);function xi(h){const y=yr();Ot(y,new Ll(y))}kn.STAT_EVENT="statevent";function vr(h,y){ue.call(this,kn.STAT_EVENT,h),this.stat=y}D(vr,ue);function pt(h){const y=yr();Ot(y,new vr(y,h))}kn.Ma="timingevent";function jc(h,y){ue.call(this,kn.Ma,h),this.size=y}D(jc,ue);function Ei(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){h()},y)}function Ti(){this.g=!0}Ti.prototype.xa=function(){this.g=!1};function Dc(h,y,v,A,F,W){h.info(function(){if(h.g)if(W)for(var re="",Pe=W.split("&"),Nt=0;Nt<Pe.length;Nt++){var Ue=Pe[Nt].split("=");if(1<Ue.length){var Vt=Ue[0];Ue=Ue[1];var Rt=Vt.split("_");re=2<=Rt.length&&Rt[1]=="type"?re+(Vt+"="+Ue+"&"):re+(Vt+"=redacted&")}}else re=null;else re=W;return"XMLHTTP REQ ("+A+") [attempt "+F+"]: "+y+`
`+v+`
`+re})}function Oc(h,y,v,A,F,W,re){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+F+"]: "+y+`
`+v+`
`+W+" "+re})}function bi(h,y,v,A){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+Mt(h,v)+(A?" "+A:"")})}function rs(h,y){h.info(function(){return"TIMEOUT: "+y})}Ti.prototype.info=function(){};function Mt(h,y){if(!h.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(h=0;h<v.length;h++)if(Array.isArray(v[h])){var A=v[h];if(!(2>A.length)){var F=A[1];if(Array.isArray(F)&&!(1>F.length)){var W=F[0];if(W!="noop"&&W!="stop"&&W!="close")for(var re=1;re<F.length;re++)F[re]=""}}}}return Ol(v)}catch{return y}}var St={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},js={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ta;function xr(){}D(xr,Ml),xr.prototype.g=function(){return new XMLHttpRequest},xr.prototype.i=function(){return{}},Ta=new xr;function ls(h,y,v,A){this.j=h,this.i=y,this.l=v,this.R=A||1,this.U=new Ea(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Vl}function Vl(){this.i=null,this.g="",this.h=!1}var Ai={},ba={};function Qn(h,y,v){h.L=1,h.v=Sa(ut(y)),h.m=v,h.P=!0,Ds(h,null)}function Ds(h,y){h.F=Date.now(),at(h),h.A=ut(h.v);var v=h.A,A=h.R;Array.isArray(A)||(A=[String(A)]),Ls(v.i,"t",A),h.C=0,v=h.j.J,h.h=new Vl,h.g=Qc(h.j,v?y:null,!h.m),0<h.O&&(h.M=new _d(w(h.Y,h,h.g),h.O)),y=h.U,v=h.g,A=h.ca;var F="readystatechange";Array.isArray(F)||(F&&(_i[0]=F.toString()),F=_i);for(var W=0;W<F.length;W++){var re=Cs(v,F[W],A||y.handleEvent,!1,y.h||y);if(!re)break;y.g[re.key]=re}y=h.H?N(h.H):{},h.m?(h.u||(h.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,y)):(h.u="GET",h.g.ea(h.A,h.u,null,y)),xi(),Dc(h.i,h.u,h.A,h.l,h.R,h.m)}ls.prototype.ca=function(h){h=h.target;const y=this.M;y&&On(h)==3?y.j():this.Y(h)},ls.prototype.Y=function(h){try{if(h==this.g)e:{const Rt=On(this.g);var y=this.g.Ba();const Bs=this.g.Z();if(!(3>Rt)&&(Rt!=3||this.g&&(this.h.h||this.g.oa()||Bc(this.g)))){this.J||Rt!=4||y==7||(y==8||0>=Bs?xi(3):xi(2)),Er(this);var v=this.g.Z();this.X=v;t:if(wi(this)){var A=Bc(this.g);h="";var F=A.length,W=On(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){fn(this),yn(this);var re="";break t}this.h.i=new m.TextDecoder}for(y=0;y<F;y++)this.h.h=!0,h+=this.h.i.decode(A[y],{stream:!(W&&y==F-1)});A.length=0,this.h.g+=h,this.C=0,re=this.h.g}else re=this.g.oa();if(this.o=v==200,Oc(this.i,this.u,this.A,this.l,this.R,Rt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Pe,Nt=this.g;if((Pe=Nt.g?Nt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(Pe)){var Ue=Pe;break t}}Ue=null}if(v=Ue)bi(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vn(this,v);else{this.o=!1,this.s=3,pt(12),fn(this),yn(this);break e}}if(this.P){v=!0;let zt;for(;!this.J&&this.C<re.length;)if(zt=Si(this,re),zt==ba){Rt==4&&(this.s=4,pt(14),v=!1),bi(this.i,this.l,null,"[Incomplete Response]");break}else if(zt==Ai){this.s=4,pt(15),bi(this.i,this.l,re,"[Invalid Chunk]"),v=!1;break}else bi(this.i,this.l,zt,null),vn(this,zt);if(wi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||re.length!=0||this.h.h||(this.s=1,pt(16),v=!1),this.o=this.o&&v,!v)bi(this.i,this.l,re,"[Invalid Chunked Response]"),fn(this),yn(this);else if(0<re.length&&!this.W){this.W=!0;var Vt=this.j;Vt.g==this&&Vt.ba&&!Vt.M&&(Vt.j.info("Great, no buffering proxy detected. Bytes received: "+re.length),Da(Vt),Vt.M=!0,pt(11))}}else bi(this.i,this.l,re,null),vn(this,re);Rt==4&&fn(this),this.o&&!this.J&&(Rt==4?Fc(this.j,this):(this.o=!1,at(this)))}else bd(this.g),v==400&&0<re.indexOf("Unknown SID")?(this.s=3,pt(12)):(this.s=0,pt(13)),fn(this),yn(this)}}}catch{}finally{}};function wi(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Si(h,y){var v=h.C,A=y.indexOf(`
`,v);return A==-1?ba:(v=Number(y.substring(v,A)),isNaN(v)?Ai:(A+=1,A+v>y.length?ba:(y=y.slice(A,A+v),h.C=A+v,y)))}ls.prototype.cancel=function(){this.J=!0,fn(this)};function at(h){h.S=Date.now()+h.I,Pl(h,h.I)}function Pl(h,y){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Ei(w(h.ba,h),y)}function Er(h){h.B&&(m.clearTimeout(h.B),h.B=null)}ls.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(rs(this.i,this.A),this.L!=2&&(xi(),pt(17)),fn(this),this.s=2,yn(this)):Pl(this,this.S-h)};function yn(h){h.j.G==0||h.J||Fc(h.j,h)}function fn(h){Er(h);var y=h.M;y&&typeof y.ma=="function"&&y.ma(),h.M=null,Yt(h.U),h.g&&(y=h.g,h.g=null,y.abort(),y.ma())}function vn(h,y){try{var v=h.j;if(v.G!=0&&(v.g==h||Ni(v.h,h))){if(!h.K&&Ni(v.h,h)&&v.G==3){try{var A=v.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var F=A;if(F[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<h.F)Ir(v),kr(v);else break e;Yl(v),pt(18)}}else v.za=F[1],0<v.za-v.T&&37500>F[2]&&v.F&&v.v==0&&!v.C&&(v.C=Ei(w(v.Za,v),6e3));if(1>=Mc(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Us(v,11)}else if((h.K||v.g==h)&&Ir(v),!G(y))for(F=v.Da.g.parse(y),y=0;y<F.length;y++){let Ue=F[y];if(v.T=Ue[0],Ue=Ue[1],v.G==2)if(Ue[0]=="c"){v.K=Ue[1],v.ia=Ue[2];const Vt=Ue[3];Vt!=null&&(v.la=Vt,v.j.info("VER="+v.la));const Rt=Ue[4];Rt!=null&&(v.Aa=Rt,v.j.info("SVER="+v.Aa));const Bs=Ue[5];Bs!=null&&typeof Bs=="number"&&0<Bs&&(A=1.5*Bs,v.L=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const zt=h.g;if(zt){const ms=zt.g?zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ms){var W=A.h;W.g||ms.indexOf("spdy")==-1&&ms.indexOf("quic")==-1&&ms.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(Ri(W,W.h),W.h=null))}if(A.D){const Xl=zt.g?zt.g.getResponseHeader("X-HTTP-Session-Id"):null;Xl&&(A.ya=Xl,qe(A.I,A.D,Xl))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-h.F,v.j.info("Handshake RTT: "+v.R+"ms")),A=v;var re=h;if(A.qa=$c(A,A.J?A.ia:null,A.W),re.K){Cn(A.h,re);var Pe=re,Nt=A.L;Nt&&(Pe.I=Nt),Pe.B&&(Er(Pe),at(Pe)),A.g=re}else qc(A);0<v.i.length&&Cr(v)}else Ue[0]!="stop"&&Ue[0]!="close"||Us(v,7);else v.G==3&&(Ue[0]=="stop"||Ue[0]=="close"?Ue[0]=="stop"?Us(v,7):$l(v):Ue[0]!="noop"&&v.l&&v.l.ta(Ue),v.v=0)}}xi(4)}catch{}}var yd=class{constructor(h,y){this.g=h,this.map=y}};function Ul(h){this.l=h||10,m.PerformanceNavigationTiming?(h=m.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Bl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Mc(h){return h.h?1:h.g?h.g.size:0}function Ni(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function Ri(h,y){h.g?h.g.add(y):h.h=y}function Cn(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}Ul.prototype.cancel=function(){if(this.i=ln(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function ln(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const v of h.g.values())y=y.concat(v.D);return y}return q(h.i)}function Lc(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(p(h)){for(var y=[],v=h.length,A=0;A<v;A++)y.push(h[A]);return y}y=[],v=0;for(A in h)y[v++]=h[A];return y}function vd(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(p(h)||typeof h=="string"){var y=[];h=h.length;for(var v=0;v<h;v++)y.push(v);return y}y=[],v=0;for(const A in h)y[v++]=A;return y}}}function Aa(h,y){if(h.forEach&&typeof h.forEach=="function")h.forEach(y,void 0);else if(p(h)||typeof h=="string")Array.prototype.forEach.call(h,y,void 0);else for(var v=vd(h),A=Lc(h),F=A.length,W=0;W<F;W++)y.call(void 0,A[W],v&&v[W],h)}var Hl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Tr(h,y){if(h){h=h.split("&");for(var v=0;v<h.length;v++){var A=h[v].indexOf("="),F=null;if(0<=A){var W=h[v].substring(0,A);F=h[v].substring(A+1)}else W=h[v];y(W,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Os(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Os){this.h=h.h,ki(this,h.j),this.o=h.o,this.g=h.g,wa(this,h.s),this.l=h.l;var y=h.i,v=new os;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),br(this,v),this.m=h.m}else h&&(y=String(h).match(Hl))?(this.h=!1,ki(this,y[1]||"",!0),this.o=Ci(y[2]||""),this.g=Ci(y[3]||"",!0),wa(this,y[4]),this.l=Ci(y[5]||"",!0),br(this,y[6]||"",!0),this.m=Ci(y[7]||"")):(this.h=!1,this.i=new os(null,this.h))}Os.prototype.toString=function(){var h=[],y=this.j;y&&h.push(In(y,zl,!0),":");var v=this.g;return(v||y=="file")&&(h.push("//"),(y=this.o)&&h.push(In(y,zl,!0),"@"),h.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&h.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&h.push("/"),h.push(In(v,v.charAt(0)=="/"?ql:Vc,!0))),(v=this.i.toString())&&h.push("?",v),(v=this.m)&&h.push("#",In(v,Td)),h.join("")};function ut(h){return new Os(h)}function ki(h,y,v){h.j=v?Ci(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function wa(h,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);h.s=y}else h.s=null}function br(h,y,v){y instanceof os?(h.i=y,Kl(h.i,h.h)):(v||(y=In(y,Ed)),h.i=new os(y,h.h))}function qe(h,y,v){h.i.set(y,v)}function Sa(h){return qe(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Ci(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function In(h,y,v){return typeof h=="string"?(h=encodeURI(h).replace(y,xd),v&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function xd(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var zl=/[#\/\?@]/g,Vc=/[#\?:]/g,ql=/[#\?]/g,Ed=/[#\?@]/g,Td=/#/g;function os(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function jn(h){h.g||(h.g=new Map,h.h=0,h.i&&Tr(h.i,function(y,v){h.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}s=os.prototype,s.add=function(h,y){jn(this),this.i=null,h=Vs(this,h);var v=this.g.get(h);return v||this.g.set(h,v=[]),v.push(y),this.h+=1,this};function Ar(h,y){jn(h),y=Vs(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function Ms(h,y){return jn(h),y=Vs(h,y),h.g.has(y)}s.forEach=function(h,y){jn(this),this.g.forEach(function(v,A){v.forEach(function(F){h.call(y,F,A,this)},this)},this)},s.na=function(){jn(this);const h=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let A=0;A<y.length;A++){const F=h[A];for(let W=0;W<F.length;W++)v.push(y[A])}return v},s.V=function(h){jn(this);let y=[];if(typeof h=="string")Ms(this,h)&&(y=y.concat(this.g.get(Vs(this,h))));else{h=Array.from(this.g.values());for(let v=0;v<h.length;v++)y=y.concat(h[v])}return y},s.set=function(h,y){return jn(this),this.i=null,h=Vs(this,h),Ms(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},s.get=function(h,y){return h?(h=this.V(h),0<h.length?String(h[0]):y):y};function Ls(h,y,v){Ar(h,y),0<v.length&&(h.i=null,h.g.set(Vs(h,y),q(v)),h.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var A=y[v];const W=encodeURIComponent(String(A)),re=this.V(A);for(A=0;A<re.length;A++){var F=W;re[A]!==""&&(F+="="+encodeURIComponent(String(re[A]))),h.push(F)}}return this.i=h.join("&")};function Vs(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function Kl(h,y){y&&!h.j&&(jn(h),h.i=null,h.g.forEach(function(v,A){var F=A.toLowerCase();A!=F&&(Ar(this,A),Ls(this,F,v))},h)),h.j=y}function Pc(h,y){const v=new Ti;if(m.Image){const A=new Image;A.onload=C(Dn,v,"TestLoadImage: loaded",!0,y,A),A.onerror=C(Dn,v,"TestLoadImage: error",!1,y,A),A.onabort=C(Dn,v,"TestLoadImage: abort",!1,y,A),A.ontimeout=C(Dn,v,"TestLoadImage: timeout",!1,y,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else y(!1)}function Na(h,y){const v=new Ti,A=new AbortController,F=setTimeout(()=>{A.abort(),Dn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:A.signal}).then(W=>{clearTimeout(F),W.ok?Dn(v,"TestPingServer: ok",!0,y):Dn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(F),Dn(v,"TestPingServer: error",!1,y)})}function Dn(h,y,v,A,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),A(v)}catch{}}function Ra(){this.g=new rn}function cs(h,y,v){const A=v||"";try{Aa(h,function(F,W){let re=F;_(F)&&(re=Ol(F)),y.push(A+W+"="+encodeURIComponent(re))})}catch(F){throw y.push(A+"type="+encodeURIComponent("_badmap")),F}}function Ii(h){this.l=h.Ub||null,this.j=h.eb||!1}D(Ii,Ml),Ii.prototype.g=function(){return new Ps(this.l,this.j)},Ii.prototype.i=function(h){return function(){return h}}({});function Ps(h,y){wt.call(this),this.D=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(Ps,wt),s=Ps.prototype,s.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=y,this.readyState=1,hs(this)},s.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(y.body=h),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,us(this)),this.readyState=0},s.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,hs(this)),this.g&&(this.readyState=3,hs(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Fl(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Fl(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}s.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?us(this):hs(this),this.readyState==3&&Fl(this)}},s.Ra=function(h){this.g&&(this.response=this.responseText=h,us(this))},s.Qa=function(h){this.g&&(this.response=h,us(this))},s.ga=function(){this.g&&us(this)};function us(h){h.readyState=4,h.l=null,h.j=null,h.v=null,hs(h)}s.setRequestHeader=function(h,y){this.u.append(h,y)},s.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,h.push(v[0]+": "+v[1]),v=y.next();return h.join(`\r
`)};function hs(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Ps.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Gl(h){let y="";return ce(h,function(v,A){y+=A,y+=":",y+=v,y+=`\r
`}),y}function Lt(h,y,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=Gl(v),typeof h=="string"?v!=null&&encodeURIComponent(String(v)):qe(h,y,v))}function Ge(h){wt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(Ge,wt);var wr=/^https?$/i,ka=["POST","PUT"];s=Ge.prototype,s.Ha=function(h){this.J=h},s.ea=function(h,y,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ta.g(),this.v=this.o?Cc(this.o):Cc(Ta),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(W){Uc(this,W);return}if(h=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var F in A)v.set(F,A[F]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const W of A.keys())v.set(W,A.get(W));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(W=>W.toLowerCase()=="content-type"),F=m.FormData&&h instanceof m.FormData,!(0<=Array.prototype.indexOf.call(ka,y,void 0))||A||F||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,re]of v)this.g.setRequestHeader(W,re);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ca(this),this.u=!0,this.g.send(h),this.u=!1}catch(W){Uc(this,W)}};function Uc(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.m=5,Sr(h),ds(h)}function Sr(h){h.A||(h.A=!0,Ot(h,"complete"),Ot(h,"error"))}s.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Ot(this,"complete"),Ot(this,"abort"),ds(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ds(this,!0)),Ge.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Nr(this):this.bb())},s.bb=function(){Nr(this)};function Nr(h){if(h.h&&typeof d<"u"&&(!h.v[1]||On(h)!=4||h.Z()!=2)){if(h.u&&On(h)==4)kc(h.Ea,0,h);else if(Ot(h,"readystatechange"),On(h)==4){h.h=!1;try{const re=h.Z();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var A;if(A=re===0){var F=String(h.D).match(Hl)[1]||null;!F&&m.self&&m.self.location&&(F=m.self.location.protocol.slice(0,-1)),A=!wr.test(F?F.toLowerCase():"")}v=A}if(v)Ot(h,"complete"),Ot(h,"success");else{h.m=6;try{var W=2<On(h)?h.g.statusText:""}catch{W=""}h.l=W+" ["+h.Z()+"]",Sr(h)}}finally{ds(h)}}}}function ds(h,y){if(h.g){Ca(h);const v=h.g,A=h.v[0]?()=>{}:null;h.g=null,h.v=null,y||Ot(h,"ready");try{v.onreadystatechange=A}catch{}}}function Ca(h){h.I&&(m.clearTimeout(h.I),h.I=null)}s.isActive=function(){return!!this.g};function On(h){return h.g?h.g.readyState:0}s.Z=function(){try{return 2<On(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),is(y)}};function Bc(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function bd(h){const y={};h=(h.g&&2<=On(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(G(h[A]))continue;var v=O(h[A]);const F=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const W=y[F]||[];y[F]=W,W.push(v)}L(y,function(A){return A.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ia(h,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[h]||y}function Rr(h){this.Aa=0,this.i=[],this.j=new Ti,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ia("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ia("baseRetryDelayMs",5e3,h),this.cb=Ia("retryDelaySeedMs",1e4,h),this.Wa=Ia("forwardChannelMaxRetries",2,h),this.wa=Ia("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Ul(h&&h.concurrentRequestLimit),this.Da=new Ra,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=Rr.prototype,s.la=8,s.G=1,s.connect=function(h,y,v,A){pt(0),this.W=h,this.H=y||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.I=$c(this,null,this.W),Cr(this)};function $l(h){if(Hc(h),h.G==3){var y=h.U++,v=ut(h.I);if(qe(v,"SID",h.K),qe(v,"RID",y),qe(v,"TYPE","terminate"),ja(h,v),y=new ls(h,h.j,y),y.L=2,y.v=Sa(ut(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=y.v,v=!0),v||(y.g=Qc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),at(y)}Gc(h)}function kr(h){h.g&&(Da(h),h.g.cancel(),h.g=null)}function Hc(h){kr(h),h.u&&(m.clearTimeout(h.u),h.u=null),Ir(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&m.clearTimeout(h.s),h.s=null)}function Cr(h){if(!Bl(h.h)&&!h.s){h.s=!0;var y=h.Ga;ve||j(),oe||(ve(),oe=!0),Re.add(y,h),h.B=0}}function Ad(h,y){return Mc(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=y.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Ei(w(h.Ga,h,y),Wl(h,h.B)),h.B++,!0)}s.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const F=new ls(this,this.j,h);let W=this.o;if(this.S&&(W?(W=N(W),R(W,this.S)):W=this.S),this.m!==null||this.O||(F.H=W,W=null),this.P)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=zc(this,F,y),v=ut(this.I),qe(v,"RID",h),qe(v,"CVER",22),this.D&&qe(v,"X-HTTP-Session-Id",this.D),ja(this,v),W&&(this.O?y="headers="+encodeURIComponent(String(Gl(W)))+"&"+y:this.m&&Lt(v,this.m,W)),Ri(this.h,F),this.Ua&&qe(v,"TYPE","init"),this.P?(qe(v,"$req",y),qe(v,"SID","null"),F.T=!0,Qn(F,v,null)):Qn(F,v,y),this.G=2}}else this.G==3&&(h?Ql(this,h):this.i.length==0||Bl(this.h)||Ql(this))};function Ql(h,y){var v;y?v=y.l:v=h.U++;const A=ut(h.I);qe(A,"SID",h.K),qe(A,"RID",v),qe(A,"AID",h.T),ja(h,A),h.m&&h.o&&Lt(A,h.m,h.o),v=new ls(h,h.j,v,h.B+1),h.m===null&&(v.H=h.o),y&&(h.i=y.D.concat(h.i)),y=zc(h,v,1e3),v.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Ri(h.h,v),Qn(v,A,y)}function ja(h,y){h.H&&ce(h.H,function(v,A){qe(y,A,v)}),h.l&&Aa({},function(v,A){qe(y,A,v)})}function zc(h,y,v){v=Math.min(h.i.length,v);var A=h.l?w(h.l.Na,h.l,h):null;e:{var F=h.i;let W=-1;for(;;){const re=["count="+v];W==-1?0<v?(W=F[0].g,re.push("ofs="+W)):W=0:re.push("ofs="+W);let Pe=!0;for(let Nt=0;Nt<v;Nt++){let Ue=F[Nt].g;const Vt=F[Nt].map;if(Ue-=W,0>Ue)W=Math.max(0,F[Nt].g-100),Pe=!1;else try{cs(Vt,re,"req"+Ue+"_")}catch{A&&A(Vt)}}if(Pe){A=re.join("&");break e}}}return h=h.i.splice(0,v),y.D=h,A}function qc(h){if(!h.g&&!h.u){h.Y=1;var y=h.Fa;ve||j(),oe||(ve(),oe=!0),Re.add(y,h),h.v=0}}function Yl(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Ei(w(h.Fa,h),Wl(h,h.v)),h.v++,!0)}s.Fa=function(){if(this.u=null,Kc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Ei(w(this.ab,this),h)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,pt(10),kr(this),Kc(this))};function Da(h){h.A!=null&&(m.clearTimeout(h.A),h.A=null)}function Kc(h){h.g=new ls(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var y=ut(h.qa);qe(y,"RID","rpc"),qe(y,"SID",h.K),qe(y,"AID",h.T),qe(y,"CI",h.F?"0":"1"),!h.F&&h.ja&&qe(y,"TO",h.ja),qe(y,"TYPE","xmlhttp"),ja(h,y),h.m&&h.o&&Lt(y,h.m,h.o),h.L&&(h.g.I=h.L);var v=h.g;h=h.ia,v.L=1,v.v=Sa(ut(y)),v.m=null,v.P=!0,Ds(v,h)}s.Za=function(){this.C!=null&&(this.C=null,kr(this),Yl(this),pt(19))};function Ir(h){h.C!=null&&(m.clearTimeout(h.C),h.C=null)}function Fc(h,y){var v=null;if(h.g==y){Ir(h),Da(h),h.g=null;var A=2}else if(Ni(h.h,y))v=y.D,Cn(h.h,y),A=1;else return;if(h.G!=0){if(y.o)if(A==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var F=h.B;A=yr(),Ot(A,new jc(A,v)),Cr(h)}else qc(h);else if(F=y.s,F==3||F==0&&0<y.X||!(A==1&&Ad(h,y)||A==2&&Yl(h)))switch(v&&0<v.length&&(y=h.h,y.i=y.i.concat(v)),F){case 1:Us(h,5);break;case 4:Us(h,10);break;case 3:Us(h,6);break;default:Us(h,2)}}}function Wl(h,y){let v=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(v*=2),v*y}function Us(h,y){if(h.j.info("Error code "+y),y==2){var v=w(h.fb,h),A=h.Xa;const F=!A;A=new Os(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||ki(A,"https"),Sa(A),F?Pc(A.toString(),v):Na(A.toString(),v)}else pt(2);h.G=0,h.l&&h.l.sa(y),Gc(h),Hc(h)}s.fb=function(h){h?(this.j.info("Successfully pinged google.com"),pt(2)):(this.j.info("Failed to ping google.com"),pt(1))};function Gc(h){if(h.G=0,h.ka=[],h.l){const y=ln(h.h);(y.length!=0||h.i.length!=0)&&(M(h.ka,y),M(h.ka,h.i),h.h.i.length=0,q(h.i),h.i.length=0),h.l.ra()}}function $c(h,y,v){var A=v instanceof Os?ut(v):new Os(v);if(A.g!="")y&&(A.g=y+"."+A.g),wa(A,A.s);else{var F=m.location;A=F.protocol,y=y?y+"."+F.hostname:F.hostname,F=+F.port;var W=new Os(null);A&&ki(W,A),y&&(W.g=y),F&&wa(W,F),v&&(W.l=v),A=W}return v=h.D,y=h.ya,v&&y&&qe(A,v,y),qe(A,"VER",h.la),ja(h,A),A}function Qc(h,y,v){if(y&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Ca&&!h.pa?new Ge(new Ii({eb:v})):new Ge(h.pa),y.Ha(h.J),y}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yc(){}s=Yc.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function jr(){}jr.prototype.g=function(h,y){return new on(h,y)};function on(h,y){wt.call(this),this.g=new Rr(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(h?h["X-WebChannel-Client-Profile"]=y.va:h={"X-WebChannel-Client-Profile":y.va}),this.g.S=h,(h=y&&y.Sb)&&!G(h)&&(this.g.m=h),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!G(y)&&(this.g.D=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new fs(this)}D(on,wt),on.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){$l(this.g)},on.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var v={};v.__data__=h,h=v}else this.u&&(v={},v.__data__=Ol(h),h=v);y.i.push(new yd(y.Ya++,h)),y.G==3&&Cr(y)},on.prototype.N=function(){this.g.l=null,delete this.j,$l(this.g),delete this.g,on.aa.N.call(this)};function Wc(h){yi.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const v in y){h=v;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}D(Wc,yi);function Xc(){$n.call(this),this.status=1}D(Xc,$n);function fs(h){this.g=h}D(fs,Yc),fs.prototype.ua=function(){Ot(this.g,"a")},fs.prototype.ta=function(h){Ot(this.g,new Wc(h))},fs.prototype.sa=function(h){Ot(this.g,new Xc)},fs.prototype.ra=function(){Ot(this.g,"b")},jr.prototype.createWebChannel=jr.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,tE=function(){return new jr},eE=function(){return yr()},J0=kn,qm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},St.NO_ERROR=0,St.TIMEOUT=8,St.HTTP_ERROR=6,oh=St,js.COMPLETE="complete",Z0=js,Ic.EventType=as,as.OPEN="a",as.CLOSE="b",as.ERROR="c",as.MESSAGE="d",wt.prototype.listen=wt.prototype.K,Fo=Ic,Ge.prototype.listenOnce=Ge.prototype.L,Ge.prototype.getLastError=Ge.prototype.Ka,Ge.prototype.getLastErrorCode=Ge.prototype.Ba,Ge.prototype.getStatus=Ge.prototype.Z,Ge.prototype.getResponseJson=Ge.prototype.Oa,Ge.prototype.getResponseText=Ge.prototype.oa,Ge.prototype.send=Ge.prototype.ea,Ge.prototype.setWithCredentials=Ge.prototype.Ha,X0=Ge}).apply(typeof Wu<"u"?Wu:typeof self<"u"?self:typeof window<"u"?window:{});const ex="@firebase/firestore",tx="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sl="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sr=new Eg("@firebase/firestore");function al(){return sr.logLevel}function de(s,...e){if(sr.logLevel<=Oe.DEBUG){const n=e.map(Ag);sr.debug(`Firestore (${Sl}): ${s}`,...n)}}function ci(s,...e){if(sr.logLevel<=Oe.ERROR){const n=e.map(Ag);sr.error(`Firestore (${Sl}): ${s}`,...n)}}function ml(s,...e){if(sr.logLevel<=Oe.WARN){const n=e.map(Ag);sr.warn(`Firestore (${Sl}): ${s}`,...n)}}function Ag(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(s="Unexpected state"){const e=`FIRESTORE (${Sl}) INTERNAL ASSERTION FAILED: `+s;throw ci(e),new Error(e)}function $e(s,e){s||Te()}function Ne(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Rs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class pR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Jt.UNAUTHENTICATED))}shutdown(){}}class _R{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class yR{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){$e(this.o===void 0);let a=this.i;const l=p=>this.i!==a?(a=this.i,n(p)):Promise.resolve();let c=new ri;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ri,e.enqueueRetryable(()=>l(this.currentUser))};const d=()=>{const p=c;e.enqueueRetryable(async()=>{await p.promise,await l(this.currentUser)})},m=p=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ri)}},0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(a=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?($e(typeof a.accessToken=="string"),new nE(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string"),new Jt(e)}}class vR{constructor(e,n,a){this.l=e,this.h=n,this.P=a,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class xR{constructor(e,n,a){this.l=e,this.h=n,this.P=a}getToken(){return Promise.resolve(new vR(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class nx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ER{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,wn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){$e(this.o===void 0);const a=c=>{c.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.R;return this.R=c.token,de("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>a(c))};const l=c=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>l(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?l(c):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new nx(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?($e(typeof n.token=="string"),this.R=n.token,new nx(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TR(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<s;a++)n[a]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=TR(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<n&&(a+=e.charAt(l[c]%62))}return a}}function Ve(s,e){return s<e?-1:s>e?1:0}function gl(s,e,n){return s.length===e.length&&s.every((a,l)=>n(a,e[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx=-62135596800,ix=1e6;class jt{static now(){return jt.fromMillis(Date.now())}static fromDate(e){return jt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor((e-1e3*n)*ix);return new jt(n,a)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<sx)throw new fe(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ix}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-sx;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new jt(0,0))}static max(){return new be(new jt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax="__name__";class xs{constructor(e,n,a){n===void 0?n=0:n>e.length&&Te(),a===void 0?a=e.length-n:a>e.length-n&&Te(),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return xs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof xs?e.forEach(a=>{n.push(a)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let l=0;l<a;l++){const c=xs.compareSegments(e.get(l),n.get(l));if(c!==0)return c}return Math.sign(e.length-n.length)}static compareSegments(e,n){const a=xs.isNumericId(e),l=xs.isNumericId(n);return a&&!l?-1:!a&&l?1:a&&l?xs.extractNumericId(e).compare(xs.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return la.fromString(e.substring(4,e.length-2))}}class tt extends xs{construct(e,n,a){return new tt(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new fe(se.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter(l=>l.length>0))}return new tt(n)}static emptyPath(){return new tt([])}}const bR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $t extends xs{construct(e,n,a){return new $t(e,n,a)}static isValidIdentifier(e){return bR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ax}static keyField(){return new $t([ax])}static fromServerFormat(e){const n=[];let a="",l=0;const c=()=>{if(a.length===0)throw new fe(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let d=!1;for(;l<e.length;){const m=e[l];if(m==="\\"){if(l+1===e.length)throw new fe(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new fe(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=p,l+=2}else m==="`"?(d=!d,l++):m!=="."||d?(a+=m,l++):(c(),l++)}if(c(),d)throw new fe(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $t(n)}static emptyPath(){return new $t([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(tt.fromString(e))}static fromName(e){return new ye(tt.fromString(e).popFirst(5))}static empty(){return new ye(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new tt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sc=-1;function AR(s,e){const n=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=be.fromTimestamp(a===1e9?new jt(n+1,0):new jt(n,a));return new ha(l,ye.empty(),e)}function wR(s){return new ha(s.readTime,s.key,sc)}class ha{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new ha(be.min(),ye.empty(),sc)}static max(){return new ha(be.max(),ye.empty(),sc)}}function SR(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(s.documentKey,e.documentKey),n!==0?n:Ve(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class RR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nl(s){if(s.code!==se.FAILED_PRECONDITION||s.message!==NR)throw s;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(n,c).next(a,l)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ne.reject(n)}static resolve(e){return new ne((n,a)=>{n(e)})}static reject(e){return new ne((n,a)=>{a(e)})}static waitFor(e){return new ne((n,a)=>{let l=0,c=0,d=!1;e.forEach(m=>{++l,m.next(()=>{++c,d&&c===l&&n()},p=>a(p))}),d=!0,c===l&&n()})}static or(e){let n=ne.resolve(!1);for(const a of e)n=n.next(l=>l?ne.resolve(l):a());return n}static forEach(e,n){const a=[];return e.forEach((l,c)=>{a.push(n.call(this,l,c))}),this.waitFor(a)}static mapArray(e,n){return new ne((a,l)=>{const c=e.length,d=new Array(c);let m=0;for(let p=0;p<c;p++){const _=p;n(e[_]).next(x=>{d[_]=x,++m,m===c&&a(d)},x=>l(x))}})}static doWhile(e,n){return new ne((a,l)=>{const c=()=>{e()===!0?n().next(()=>{c()},l):a()};c()})}}function kR(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Rl(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this.oe(a),this._e=a=>n.writeSequenceNumber(a))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Kh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wg=-1;function Fh(s){return s==null}function Th(s){return s===0&&1/s==-1/0}function CR(s){return typeof s=="number"&&Number.isInteger(s)&&!Th(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE="";function IR(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=rx(e)),e=jR(s.get(n),e);return rx(e)}function jR(s,e){let n=e;const a=s.length;for(let l=0;l<a;l++){const c=s.charAt(l);switch(c){case"\0":n+="";break;case iE:n+="";break;default:n+=c}}return n}function rx(s){return s+iE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lx(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function _a(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function aE(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,n){this.comparator=e,this.root=n||Gt.EMPTY}insert(e,n){return new ot(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(e,a.key);if(l===0)return n+a.left.size;l<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,a)=>(e(n,a),!1))}toString(){const e=[];return this.inorderTraversal((n,a)=>(e.push(`${n}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xu(this.root,e,this.comparator,!0)}}class Xu{constructor(e,n,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?a(e.key,n):1,n&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,n,a,l,c){this.key=e,this.value=n,this.color=a??Gt.RED,this.left=l??Gt.EMPTY,this.right=c??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,l,c){return new Gt(e??this.key,n??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let l=this;const c=a(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,n,a),null):c===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(e,l.key)===0){if(l.right.isEmpty())return Gt.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Te();const e=this.left.check();if(e!==this.right.check())throw Te();return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te()}get value(){throw Te()}get color(){throw Te()}get left(){throw Te()}get right(){throw Te()}copy(e,n,a,l,c){return this}insert(e,n,a){return new Gt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,a)=>(e(n),!1))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ox(this.data.getIterator())}getIteratorFrom(e){return new ox(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(a=>{n=n.add(a)}),n}isEqual(e){if(!(e instanceof Dt)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Dt(this.comparator);return n.data=e,n}}class ox{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.fields=e,e.sort($t.comparator)}static empty(){return new Sn([])}unionWith(e){let n=new Dt($t.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new Sn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return gl(this.fields,e.fields,(n,a)=>n.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new rE("Invalid base64 string: "+c):c}}(e);return new Qt(n)}static fromUint8Array(e){const n=function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c}(e);return new Qt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const a=new Uint8Array(n.length);for(let l=0;l<n.length;l++)a[l]=n.charCodeAt(l);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const DR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function da(s){if($e(!!s),typeof s=="string"){let e=0;const n=DR.exec(s);if($e(!!n),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:yt(s.seconds),nanos:yt(s.nanos)}}function yt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function fa(s){return typeof s=="string"?Qt.fromBase64String(s):Qt.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE="server_timestamp",oE="__type__",cE="__previous_value__",uE="__local_write_time__";function Sg(s){var e,n;return((n=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[oE])===null||n===void 0?void 0:n.stringValue)===lE}function Gh(s){const e=s.mapValue.fields[cE];return Sg(e)?Gh(e):e}function ic(s){const e=da(s.mapValue.fields[uE].timestampValue);return new jt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(e,n,a,l,c,d,m,p,_){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=_}}const bh="(default)";class ac{constructor(e,n){this.projectId=e,this.database=n||bh}static empty(){return new ac("","")}get isDefaultDatabase(){return this.database===bh}isEqual(e){return e instanceof ac&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE="__type__",MR="__max__",Zu={mapValue:{}},dE="__vector__",Ah="value";function ma(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Sg(s)?4:VR(s)?9007199254740991:LR(s)?10:11:Te()}function Ns(s,e){if(s===e)return!0;const n=ma(s);if(n!==ma(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return ic(s).isEqual(ic(e));case 3:return function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=da(l.timestampValue),m=da(c.timestampValue);return d.seconds===m.seconds&&d.nanos===m.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(l,c){return fa(l.bytesValue).isEqual(fa(c.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(l,c){return yt(l.geoPointValue.latitude)===yt(c.geoPointValue.latitude)&&yt(l.geoPointValue.longitude)===yt(c.geoPointValue.longitude)}(s,e);case 2:return function(l,c){if("integerValue"in l&&"integerValue"in c)return yt(l.integerValue)===yt(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=yt(l.doubleValue),m=yt(c.doubleValue);return d===m?Th(d)===Th(m):isNaN(d)&&isNaN(m)}return!1}(s,e);case 9:return gl(s.arrayValue.values||[],e.arrayValue.values||[],Ns);case 10:case 11:return function(l,c){const d=l.mapValue.fields||{},m=c.mapValue.fields||{};if(lx(d)!==lx(m))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(m[p]===void 0||!Ns(d[p],m[p])))return!1;return!0}(s,e);default:return Te()}}function rc(s,e){return(s.values||[]).find(n=>Ns(n,e))!==void 0}function pl(s,e){if(s===e)return 0;const n=ma(s),a=ma(e);if(n!==a)return Ve(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(s.booleanValue,e.booleanValue);case 2:return function(c,d){const m=yt(c.integerValue||c.doubleValue),p=yt(d.integerValue||d.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(s,e);case 3:return cx(s.timestampValue,e.timestampValue);case 4:return cx(ic(s),ic(e));case 5:return Ve(s.stringValue,e.stringValue);case 6:return function(c,d){const m=fa(c),p=fa(d);return m.compareTo(p)}(s.bytesValue,e.bytesValue);case 7:return function(c,d){const m=c.split("/"),p=d.split("/");for(let _=0;_<m.length&&_<p.length;_++){const x=Ve(m[_],p[_]);if(x!==0)return x}return Ve(m.length,p.length)}(s.referenceValue,e.referenceValue);case 8:return function(c,d){const m=Ve(yt(c.latitude),yt(d.latitude));return m!==0?m:Ve(yt(c.longitude),yt(d.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return ux(s.arrayValue,e.arrayValue);case 10:return function(c,d){var m,p,_,x;const T=c.fields||{},w=d.fields||{},C=(m=T[Ah])===null||m===void 0?void 0:m.arrayValue,D=(p=w[Ah])===null||p===void 0?void 0:p.arrayValue,q=Ve(((_=C==null?void 0:C.values)===null||_===void 0?void 0:_.length)||0,((x=D==null?void 0:D.values)===null||x===void 0?void 0:x.length)||0);return q!==0?q:ux(C,D)}(s.mapValue,e.mapValue);case 11:return function(c,d){if(c===Zu.mapValue&&d===Zu.mapValue)return 0;if(c===Zu.mapValue)return 1;if(d===Zu.mapValue)return-1;const m=c.fields||{},p=Object.keys(m),_=d.fields||{},x=Object.keys(_);p.sort(),x.sort();for(let T=0;T<p.length&&T<x.length;++T){const w=Ve(p[T],x[T]);if(w!==0)return w;const C=pl(m[p[T]],_[x[T]]);if(C!==0)return C}return Ve(p.length,x.length)}(s.mapValue,e.mapValue);default:throw Te()}}function cx(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Ve(s,e);const n=da(s),a=da(e),l=Ve(n.seconds,a.seconds);return l!==0?l:Ve(n.nanos,a.nanos)}function ux(s,e){const n=s.values||[],a=e.values||[];for(let l=0;l<n.length&&l<a.length;++l){const c=pl(n[l],a[l]);if(c)return c}return Ve(n.length,a.length)}function _l(s){return Km(s)}function Km(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(n){const a=da(n);return`time(${a.seconds},${a.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(n){return fa(n).toBase64()}(s.bytesValue):"referenceValue"in s?function(n){return ye.fromName(n).toString()}(s.referenceValue):"geoPointValue"in s?function(n){return`geo(${n.latitude},${n.longitude})`}(s.geoPointValue):"arrayValue"in s?function(n){let a="[",l=!0;for(const c of n.values||[])l?l=!1:a+=",",a+=Km(c);return a+"]"}(s.arrayValue):"mapValue"in s?function(n){const a=Object.keys(n.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${Km(n.fields[d])}`;return l+"}"}(s.mapValue):Te()}function ch(s){switch(ma(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Gh(s);return e?16+ch(e):16;case 5:return 2*s.stringValue.length;case 6:return fa(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((l,c)=>l+ch(c),0)}(s.arrayValue);case 10:case 11:return function(a){let l=0;return _a(a.fields,(c,d)=>{l+=c.length+ch(d)}),l}(s.mapValue);default:throw Te()}}function hx(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Fm(s){return!!s&&"integerValue"in s}function Ng(s){return!!s&&"arrayValue"in s}function dx(s){return!!s&&"nullValue"in s}function fx(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function uh(s){return!!s&&"mapValue"in s}function LR(s){var e,n;return((n=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[hE])===null||n===void 0?void 0:n.stringValue)===dE}function Yo(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return _a(s.mapValue.fields,(n,a)=>e.mapValue.fields[n]=Yo(a)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Yo(s.arrayValue.values[n]);return e}return Object.assign({},s)}function VR(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===MR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.value=e}static empty(){return new pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!uh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yo(n)}setAll(e){let n=$t.emptyPath(),a={},l=[];e.forEach((d,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,a,l),a={},l=[],n=m.popLast()}d?a[m.lastSegment()]=Yo(d):l.push(m.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,a,l)}delete(e){const n=this.field(e.popLast());uh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ns(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let l=n.mapValue.fields[e.get(a)];uh(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,a){_a(n,(l,c)=>e[l]=c);for(const l of a)delete e[l]}clone(){return new pn(Yo(this.value))}}function fE(s){const e=[];return _a(s.fields,(n,a)=>{const l=new $t([n]);if(uh(a)){const c=fE(a.mapValue).fields;if(c.length===0)e.push(l);else for(const d of c)e.push(l.child(d))}else e.push(l)}),new Sn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,n,a,l,c,d,m){this.key=e,this.documentType=n,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=m}static newInvalidDocument(e){return new en(e,0,be.min(),be.min(),be.min(),pn.empty(),0)}static newFoundDocument(e,n,a,l){return new en(e,1,n,be.min(),a,l,0)}static newNoDocument(e,n){return new en(e,2,n,be.min(),be.min(),pn.empty(),0)}static newUnknownDocument(e,n){return new en(e,3,n,be.min(),be.min(),pn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e,n){this.position=e,this.inclusive=n}}function mx(s,e,n){let a=0;for(let l=0;l<s.position.length;l++){const c=e[l],d=s.position[l];if(c.field.isKeyField()?a=ye.comparator(ye.fromName(d.referenceValue),n.key):a=pl(d,n.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function gx(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!Ns(s.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,n="asc"){this.field=e,this.dir=n}}function PR(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{}class At extends mE{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new BR(e,n,a):n==="array-contains"?new qR(e,a):n==="in"?new KR(e,a):n==="not-in"?new FR(e,a):n==="array-contains-any"?new GR(e,a):new At(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new HR(e,a):new zR(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(pl(n,this.value)):n!==null&&ma(this.value)===ma(n)&&this.matchesComparison(pl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class es extends mE{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new es(e,n)}matches(e){return gE(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function gE(s){return s.op==="and"}function pE(s){return UR(s)&&gE(s)}function UR(s){for(const e of s.filters)if(e instanceof es)return!1;return!0}function Gm(s){if(s instanceof At)return s.field.canonicalString()+s.op.toString()+_l(s.value);if(pE(s))return s.filters.map(e=>Gm(e)).join(",");{const e=s.filters.map(n=>Gm(n)).join(",");return`${s.op}(${e})`}}function _E(s,e){return s instanceof At?function(a,l){return l instanceof At&&a.op===l.op&&a.field.isEqual(l.field)&&Ns(a.value,l.value)}(s,e):s instanceof es?function(a,l){return l instanceof es&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce((c,d,m)=>c&&_E(d,l.filters[m]),!0):!1}(s,e):void Te()}function yE(s){return s instanceof At?function(n){return`${n.field.canonicalString()} ${n.op} ${_l(n.value)}`}(s):s instanceof es?function(n){return n.op.toString()+" {"+n.getFilters().map(yE).join(" ,")+"}"}(s):"Filter"}class BR extends At{constructor(e,n,a){super(e,n,a),this.key=ye.fromName(a.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class HR extends At{constructor(e,n){super(e,"in",n),this.keys=vE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class zR extends At{constructor(e,n){super(e,"not-in",n),this.keys=vE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function vE(s,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(a=>ye.fromName(a.referenceValue))}class qR extends At{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ng(n)&&rc(n.arrayValue,this.value)}}class KR extends At{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&rc(this.value.arrayValue,n)}}class FR extends At{constructor(e,n){super(e,"not-in",n)}matches(e){if(rc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!rc(this.value.arrayValue,n)}}class GR extends At{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ng(n)||!n.arrayValue.values)&&n.arrayValue.values.some(a=>rc(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e,n=null,a=[],l=[],c=null,d=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=m,this.le=null}}function px(s,e=null,n=[],a=[],l=null,c=null,d=null){return new $R(s,e,n,a,l,c,d)}function Rg(s){const e=Ne(s);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(a=>Gm(a)).join(","),n+="|ob:",n+=e.orderBy.map(a=>function(c){return c.field.canonicalString()+c.dir}(a)).join(","),Fh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(a=>_l(a)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(a=>_l(a)).join(",")),e.le=n}return e.le}function kg(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!PR(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!_E(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!gx(s.startAt,e.startAt)&&gx(s.endAt,e.endAt)}function $m(s){return ye.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,n=null,a=[],l=[],c=null,d="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function QR(s,e,n,a,l,c,d,m){return new mc(s,e,n,a,l,c,d,m)}function $h(s){return new mc(s)}function _x(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function xE(s){return s.collectionGroup!==null}function Wo(s){const e=Ne(s);if(e.he===null){e.he=[];const n=new Set;for(const c of e.explicitOrderBy)e.he.push(c),n.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let m=new Dt($t.comparator);return d.filters.forEach(p=>{p.getFlattenedFilters().forEach(_=>{_.isInequality()&&(m=m.add(_.field))})}),m})(e).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||e.he.push(new Sh(c,a))}),n.has($t.keyField().canonicalString())||e.he.push(new Sh($t.keyField(),a))}return e.he}function bs(s){const e=Ne(s);return e.Pe||(e.Pe=YR(e,Wo(s))),e.Pe}function YR(s,e){if(s.limitType==="F")return px(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(l=>{const c=l.dir==="desc"?"asc":"desc";return new Sh(l.field,c)});const n=s.endAt?new wh(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new wh(s.startAt.position,s.startAt.inclusive):null;return px(s.path,s.collectionGroup,e,s.filters,s.limit,n,a)}}function Qm(s,e){const n=s.filters.concat([e]);return new mc(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function Ym(s,e,n){return new mc(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function Qh(s,e){return kg(bs(s),bs(e))&&s.limitType===e.limitType}function EE(s){return`${Rg(bs(s))}|lt:${s.limitType}`}function rl(s){return`Query(target=${function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map(l=>yE(l)).join(", ")}]`),Fh(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map(l=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(l)).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map(l=>_l(l)).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map(l=>_l(l)).join(",")),`Target(${a})`}(bs(s))}; limitType=${s.limitType})`}function Yh(s,e){return e.isFoundDocument()&&function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ye.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)}(s,e)&&function(a,l){for(const c of Wo(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0}(s,e)&&function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0}(s,e)&&function(a,l){return!(a.startAt&&!function(d,m,p){const _=mx(d,m,p);return d.inclusive?_<=0:_<0}(a.startAt,Wo(a),l)||a.endAt&&!function(d,m,p){const _=mx(d,m,p);return d.inclusive?_>=0:_>0}(a.endAt,Wo(a),l))}(s,e)}function WR(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function TE(s){return(e,n)=>{let a=!1;for(const l of Wo(s)){const c=XR(l,e,n);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function XR(s,e,n){const a=s.field.isKeyField()?ye.comparator(e.key,n.key):function(c,d,m){const p=d.data.field(c),_=m.data.field(c);return p!==null&&_!==null?pl(p,_):Te()}(s.field,e,n);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return Te()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),l=this.inner[a];if(l===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return a.length===1?delete this.inner[n]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(e){_a(this.inner,(n,a)=>{for(const[l,c]of a)e(l,c)})}isEmpty(){return aE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR=new ot(ye.comparator);function ui(){return ZR}const bE=new ot(ye.comparator);function Go(...s){let e=bE;for(const n of s)e=e.insert(n.key,n);return e}function AE(s){let e=bE;return s.forEach((n,a)=>e=e.insert(n,a.overlayedDocument)),e}function Ja(){return Xo()}function wE(){return Xo()}function Xo(){return new cr(s=>s.toString(),(s,e)=>s.isEqual(e))}const JR=new ot(ye.comparator),ek=new Dt(ye.comparator);function Me(...s){let e=ek;for(const n of s)e=e.add(n);return e}const tk=new Dt(Ve);function nk(){return tk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cg(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Th(e)?"-0":e}}function SE(s){return{integerValue:""+s}}function sk(s,e){return CR(e)?SE(e):Cg(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(){this._=void 0}}function ik(s,e,n){return s instanceof Nh?function(l,c){const d={fields:{[oE]:{stringValue:lE},[uE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Sg(c)&&(c=Gh(c)),c&&(d.fields[cE]=c),{mapValue:d}}(n,e):s instanceof lc?RE(s,e):s instanceof oc?kE(s,e):function(l,c){const d=NE(l,c),m=yx(d)+yx(l.Ie);return Fm(d)&&Fm(l.Ie)?SE(m):Cg(l.serializer,m)}(s,e)}function ak(s,e,n){return s instanceof lc?RE(s,e):s instanceof oc?kE(s,e):n}function NE(s,e){return s instanceof Rh?function(a){return Fm(a)||function(c){return!!c&&"doubleValue"in c}(a)}(e)?e:{integerValue:0}:null}class Nh extends Wh{}class lc extends Wh{constructor(e){super(),this.elements=e}}function RE(s,e){const n=CE(e);for(const a of s.elements)n.some(l=>Ns(l,a))||n.push(a);return{arrayValue:{values:n}}}class oc extends Wh{constructor(e){super(),this.elements=e}}function kE(s,e){let n=CE(e);for(const a of s.elements)n=n.filter(l=>!Ns(l,a));return{arrayValue:{values:n}}}class Rh extends Wh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function yx(s){return yt(s.integerValue||s.doubleValue)}function CE(s){return Ng(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function rk(s,e){return s.field.isEqual(e.field)&&function(a,l){return a instanceof lc&&l instanceof lc||a instanceof oc&&l instanceof oc?gl(a.elements,l.elements,Ns):a instanceof Rh&&l instanceof Rh?Ns(a.Ie,l.Ie):a instanceof Nh&&l instanceof Nh}(s.transform,e.transform)}class lk{constructor(e,n){this.version=e,this.transformResults=n}}class Fn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Fn}static exists(e){return new Fn(void 0,e)}static updateTime(e){return new Fn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hh(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Xh{}function IE(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Ig(s.key,Fn.none()):new gc(s.key,s.data,Fn.none());{const n=s.data,a=pn.empty();let l=new Dt($t.comparator);for(let c of e.fields)if(!l.has(c)){let d=n.field(c);d===null&&c.length>1&&(c=c.popLast(),d=n.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new ya(s.key,a,new Sn(l.toArray()),Fn.none())}}function ok(s,e,n){s instanceof gc?function(l,c,d){const m=l.value.clone(),p=xx(l.fieldTransforms,c,d.transformResults);m.setAll(p),c.convertToFoundDocument(d.version,m).setHasCommittedMutations()}(s,e,n):s instanceof ya?function(l,c,d){if(!hh(l.precondition,c))return void c.convertToUnknownDocument(d.version);const m=xx(l.fieldTransforms,c,d.transformResults),p=c.data;p.setAll(jE(l)),p.setAll(m),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(s,e,n):function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,n)}function Zo(s,e,n,a){return s instanceof gc?function(c,d,m,p){if(!hh(c.precondition,d))return m;const _=c.value.clone(),x=Ex(c.fieldTransforms,p,d);return _.setAll(x),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null}(s,e,n,a):s instanceof ya?function(c,d,m,p){if(!hh(c.precondition,d))return m;const _=Ex(c.fieldTransforms,p,d),x=d.data;return x.setAll(jE(c)),x.setAll(_),d.convertToFoundDocument(d.version,x).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(T=>T.field))}(s,e,n,a):function(c,d,m){return hh(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):m}(s,e,n)}function ck(s,e){let n=null;for(const a of s.fieldTransforms){const l=e.data.field(a.field),c=NE(a.transform,l||null);c!=null&&(n===null&&(n=pn.empty()),n.set(a.field,c))}return n||null}function vx(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&gl(a,l,(c,d)=>rk(c,d))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class gc extends Xh{constructor(e,n,a,l=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ya extends Xh{constructor(e,n,a,l,c=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function jE(s){const e=new Map;return s.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const a=s.data.field(n);e.set(n,a)}}),e}function xx(s,e,n){const a=new Map;$e(s.length===n.length);for(let l=0;l<n.length;l++){const c=s[l],d=c.transform,m=e.data.field(c.field);a.set(c.field,ak(d,m,n[l]))}return a}function Ex(s,e,n){const a=new Map;for(const l of s){const c=l.transform,d=n.data.field(l.field);a.set(l.field,ik(c,d,e))}return a}class Ig extends Xh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class uk extends Xh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(e,n,a,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&ok(c,e,a[l])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=Zo(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=Zo(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=wE();return this.mutations.forEach(l=>{const c=e.get(l.key),d=c.overlayedDocument;let m=this.applyToLocalView(d,c.mutatedFields);m=n.has(l.key)?null:m;const p=IE(d,m);p!==null&&a.set(l.key,p),d.isValidDocument()||d.convertToNoDocument(be.min())}),a}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Me())}isEqual(e){return this.batchId===e.batchId&&gl(this.mutations,e.mutations,(n,a)=>vx(n,a))&&gl(this.baseMutations,e.baseMutations,(n,a)=>vx(n,a))}}class jg{constructor(e,n,a,l){this.batch=e,this.commitVersion=n,this.mutationResults=a,this.docVersions=l}static from(e,n,a){$e(e.mutations.length===a.length);let l=function(){return JR}();const c=e.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new jg(e,n,a,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bt,He;function mk(s){switch(s){case se.OK:return Te();case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return Te()}}function DE(s){if(s===void 0)return ci("GRPC error has no .code"),se.UNKNOWN;switch(s){case bt.OK:return se.OK;case bt.CANCELLED:return se.CANCELLED;case bt.UNKNOWN:return se.UNKNOWN;case bt.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case bt.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case bt.INTERNAL:return se.INTERNAL;case bt.UNAVAILABLE:return se.UNAVAILABLE;case bt.UNAUTHENTICATED:return se.UNAUTHENTICATED;case bt.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case bt.NOT_FOUND:return se.NOT_FOUND;case bt.ALREADY_EXISTS:return se.ALREADY_EXISTS;case bt.PERMISSION_DENIED:return se.PERMISSION_DENIED;case bt.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case bt.ABORTED:return se.ABORTED;case bt.OUT_OF_RANGE:return se.OUT_OF_RANGE;case bt.UNIMPLEMENTED:return se.UNIMPLEMENTED;case bt.DATA_LOSS:return se.DATA_LOSS;default:return Te()}}(He=bt||(bt={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pk=new la([4294967295,4294967295],0);function Tx(s){const e=gk().encode(s),n=new W0;return n.update(e),new Uint8Array(n.digest())}function bx(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new la([n,a],0),new la([l,c],0)]}class Dg{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new $o(`Invalid padding: ${n}`);if(a<0)throw new $o(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new $o(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new $o(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=la.fromNumber(this.Ee)}Ae(e,n,a){let l=e.add(n.multiply(la.fromNumber(a)));return l.compare(pk)===1&&(l=new la([l.getBits(0),l.getBits(1)],0)),l.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=Tx(e),[a,l]=bx(n);for(let c=0;c<this.hashCount;c++){const d=this.Ae(a,l,c);if(!this.Re(d))return!1}return!0}static create(e,n,a){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Dg(c,l,n);return a.forEach(m=>d.insert(m)),d}insert(e){if(this.Ee===0)return;const n=Tx(e),[a,l]=bx(n);for(let c=0;c<this.hashCount;c++){const d=this.Ae(a,l,c);this.Ve(d)}}Ve(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class $o extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,n,a,l,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const l=new Map;return l.set(e,pc.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new Zh(be.min(),l,new ot(Ve),ui(),Me())}}class pc{constructor(e,n,a,l,c){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new pc(a,n,Me(),Me(),Me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e,n,a,l){this.me=e,this.removedTargetIds=n,this.key=a,this.fe=l}}class OE{constructor(e,n){this.targetId=e,this.ge=n}}class ME{constructor(e,n,a=Qt.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=l}}class Ax{constructor(){this.pe=0,this.ye=wx(),this.we=Qt.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Me(),n=Me(),a=Me();return this.ye.forEach((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:a=a.add(l);break;default:Te()}}),new pc(this.we,this.be,e,n,a)}Me(){this.Se=!1,this.ye=wx()}xe(e,n){this.Se=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,$e(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class _k{constructor(e){this.ke=e,this.qe=new Map,this.Qe=ui(),this.$e=Ju(),this.Ke=Ju(),this.Ue=new ot(Ve)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const a=this.He(n);switch(e.state){case 0:this.Je(n)&&a.Ce(e.resumeToken);break;case 1:a.Be(),a.De||a.Me(),a.Ce(e.resumeToken);break;case 2:a.Be(),a.De||this.removeTarget(n);break;case 3:this.Je(n)&&(a.Le(),a.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),a.Ce(e.resumeToken));break;default:Te()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((a,l)=>{this.Je(l)&&n(l)})}Ze(e){const n=e.targetId,a=e.ge.count,l=this.Xe(n);if(l){const c=l.target;if($m(c))if(a===0){const d=new ye(c.path);this.ze(n,d,en.newNoDocument(d,be.min()))}else $e(a===1);else{const d=this.et(n);if(d!==a){const m=this.tt(e),p=m?this.nt(m,e,d):1;if(p!==0){this.Ye(n);const _=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,_)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=n;let d,m;try{d=fa(a).toUint8Array()}catch(p){if(p instanceof rE)return ml("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Dg(d,l,c)}catch(p){return ml(p instanceof $o?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(e,n,a){return n.ge.count===a-this.st(e,n.targetId)?0:2}st(e,n){const a=this.ke.getRemoteKeysForTarget(n);let l=0;return a.forEach(c=>{const d=this.ke.it(),m=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.ze(n,c,null),l++)}),l}ot(e){const n=new Map;this.qe.forEach((c,d)=>{const m=this.Xe(d);if(m){if(c.current&&$m(m.target)){const p=new ye(m.target.path);this._t(p).has(d)||this.ut(d,p)||this.ze(d,p,en.newNoDocument(p,e))}c.ve&&(n.set(d,c.Fe()),c.Me())}});let a=Me();this.Ke.forEach((c,d)=>{let m=!0;d.forEachWhile(p=>{const _=this.Xe(p);return!_||_.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(a=a.add(c))}),this.Qe.forEach((c,d)=>d.setReadTime(e));const l=new Zh(e,n,this.Ue,this.Qe,a);return this.Qe=ui(),this.$e=Ju(),this.Ke=Ju(),this.Ue=new ot(Ve),l}Ge(e,n){if(!this.Je(e))return;const a=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,a),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(e))}ze(e,n,a){if(!this.Je(e))return;const l=this.He(e);this.ut(e,n)?l.xe(n,1):l.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(e)),this.Ke=this.Ke.insert(n,this.ct(n).add(e)),a&&(this.Qe=this.Qe.insert(n,a))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new Ax,this.qe.set(e,n)),n}ct(e){let n=this.Ke.get(e);return n||(n=new Dt(Ve),this.Ke=this.Ke.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Dt(Ve),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||de("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Ax),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Ju(){return new ot(ye.comparator)}function wx(){return new ot(ye.comparator)}const yk={asc:"ASCENDING",desc:"DESCENDING"},vk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xk={and:"AND",or:"OR"};class Ek{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Wm(s,e){return s.useProto3Json||Fh(e)?e:{value:e}}function kh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function LE(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function Tk(s,e){return kh(s,e.toTimestamp())}function As(s){return $e(!!s),be.fromTimestamp(function(n){const a=da(n);return new jt(a.seconds,a.nanos)}(s))}function Og(s,e){return Xm(s,e).canonicalString()}function Xm(s,e){const n=function(l){return new tt(["projects",l.projectId,"databases",l.database])}(s).child("documents");return e===void 0?n:n.child(e)}function VE(s){const e=tt.fromString(s);return $e(zE(e)),e}function Zm(s,e){return Og(s.databaseId,e.path)}function Rm(s,e){const n=VE(e);if(n.get(1)!==s.databaseId.projectId)throw new fe(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new fe(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new ye(UE(n))}function PE(s,e){return Og(s.databaseId,e)}function bk(s){const e=VE(s);return e.length===4?tt.emptyPath():UE(e)}function Jm(s){return new tt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function UE(s){return $e(s.length>4&&s.get(4)==="documents"),s.popFirst(5)}function Sx(s,e,n){return{name:Zm(s,e),fields:n.value.mapValue.fields}}function Ak(s,e){let n;if("targetChange"in e){e.targetChange;const a=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Te()}(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=function(_,x){return _.useProto3Json?($e(x===void 0||typeof x=="string"),Qt.fromBase64String(x||"")):($e(x===void 0||x instanceof Buffer||x instanceof Uint8Array),Qt.fromUint8Array(x||new Uint8Array))}(s,e.targetChange.resumeToken),d=e.targetChange.cause,m=d&&function(_){const x=_.code===void 0?se.UNKNOWN:DE(_.code);return new fe(x,_.message||"")}(d);n=new ME(a,l,c,m||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const l=Rm(s,a.document.name),c=As(a.document.updateTime),d=a.document.createTime?As(a.document.createTime):be.min(),m=new pn({mapValue:{fields:a.document.fields}}),p=en.newFoundDocument(l,c,d,m),_=a.targetIds||[],x=a.removedTargetIds||[];n=new dh(_,x,p.key,p)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const l=Rm(s,a.document),c=a.readTime?As(a.readTime):be.min(),d=en.newNoDocument(l,c),m=a.removedTargetIds||[];n=new dh([],m,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const l=Rm(s,a.document),c=a.removedTargetIds||[];n=new dh([],c,l,null)}else{if(!("filter"in e))return Te();{e.filter;const a=e.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new fk(l,c),m=a.targetId;n=new OE(m,d)}}return n}function wk(s,e){let n;if(e instanceof gc)n={update:Sx(s,e.key,e.value)};else if(e instanceof Ig)n={delete:Zm(s,e.key)};else if(e instanceof ya)n={update:Sx(s,e.key,e.data),updateMask:Ok(e.fieldMask)};else{if(!(e instanceof uk))return Te();n={verify:Zm(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(a=>function(c,d){const m=d.transform;if(m instanceof Nh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof lc)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof oc)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Rh)return{fieldPath:d.field.canonicalString(),increment:m.Ie};throw Te()}(0,a))),e.precondition.isNone||(n.currentDocument=function(l,c){return c.updateTime!==void 0?{updateTime:Tk(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Te()}(s,e.precondition)),n}function Sk(s,e){return s&&s.length>0?($e(e!==void 0),s.map(n=>function(l,c){let d=l.updateTime?As(l.updateTime):As(c);return d.isEqual(be.min())&&(d=As(c)),new lk(d,l.transformResults||[])}(n,e))):[]}function Nk(s,e){return{documents:[PE(s,e.path)]}}function Rk(s,e){const n={structuredQuery:{}},a=e.path;let l;e.collectionGroup!==null?(l=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=PE(s,l);const c=function(_){if(_.length!==0)return HE(es.create(_,"and"))}(e.filters);c&&(n.structuredQuery.where=c);const d=function(_){if(_.length!==0)return _.map(x=>function(w){return{field:ll(w.field),direction:Ik(w.dir)}}(x))}(e.orderBy);d&&(n.structuredQuery.orderBy=d);const m=Wm(s,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{ht:n,parent:l}}function kk(s){let e=bk(s.parent);const n=s.structuredQuery,a=n.from?n.from.length:0;let l=null;if(a>0){$e(a===1);const x=n.from[0];x.allDescendants?l=x.collectionId:e=e.child(x.collectionId)}let c=[];n.where&&(c=function(T){const w=BE(T);return w instanceof es&&pE(w)?w.getFilters():[w]}(n.where));let d=[];n.orderBy&&(d=function(T){return T.map(w=>function(D){return new Sh(ol(D.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction))}(w))}(n.orderBy));let m=null;n.limit&&(m=function(T){let w;return w=typeof T=="object"?T.value:T,Fh(w)?null:w}(n.limit));let p=null;n.startAt&&(p=function(T){const w=!!T.before,C=T.values||[];return new wh(C,w)}(n.startAt));let _=null;return n.endAt&&(_=function(T){const w=!T.before,C=T.values||[];return new wh(C,w)}(n.endAt)),QR(e,l,d,c,m,"F",p,_)}function Ck(s,e){const n=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function BE(s){return s.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=ol(n.unaryFilter.field);return At.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=ol(n.unaryFilter.field);return At.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ol(n.unaryFilter.field);return At.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ol(n.unaryFilter.field);return At.create(d,"!=",{nullValue:"NULL_VALUE"});default:return Te()}}(s):s.fieldFilter!==void 0?function(n){return At.create(ol(n.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Te()}}(n.fieldFilter.op),n.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(n){return es.create(n.compositeFilter.filters.map(a=>BE(a)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Te()}}(n.compositeFilter.op))}(s):Te()}function Ik(s){return yk[s]}function jk(s){return vk[s]}function Dk(s){return xk[s]}function ll(s){return{fieldPath:s.canonicalString()}}function ol(s){return $t.fromServerFormat(s.fieldPath)}function HE(s){return s instanceof At?function(n){if(n.op==="=="){if(fx(n.value))return{unaryFilter:{field:ll(n.field),op:"IS_NAN"}};if(dx(n.value))return{unaryFilter:{field:ll(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(fx(n.value))return{unaryFilter:{field:ll(n.field),op:"IS_NOT_NAN"}};if(dx(n.value))return{unaryFilter:{field:ll(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ll(n.field),op:jk(n.op),value:n.value}}}(s):s instanceof es?function(n){const a=n.getFilters().map(l=>HE(l));return a.length===1?a[0]:{compositeFilter:{op:Dk(n.op),filters:a}}}(s):Te()}function Ok(s){const e=[];return s.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function zE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e,n,a,l,c=be.min(),d=be.min(),m=Qt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new ia(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ia(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ia(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ia(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(e){this.Tt=e}}function Lk(s){const e=kk({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Ym(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(){this.Tn=new Pk}addToCollectionParentIndex(e,n){return this.Tn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(ha.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(ha.min())}updateCollectionGroup(e,n,a){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class Pk{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),l=this.index[n]||new Dt(tt.comparator),c=!l.has(a);return this.index[n]=l.add(a),c}has(e){const n=e.lastSegment(),a=e.popLast(),l=this.index[n];return l&&l.has(a)}getEntries(e){return(this.index[e]||new Dt(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},qE=41943040;class gn{static withCacheSize(e){return new gn(e,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(qE,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new yl(0)}static Un(){return new yl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx="LruGarbageCollector",Uk=1048576;function kx([s,e],[n,a]){const l=Ve(s,n);return l===0?Ve(e,a):l}class Bk{constructor(e){this.Hn=e,this.buffer=new Dt(kx),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();kx(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Hk{constructor(e,n,a){this.garbageCollector=e,this.asyncQueue=n,this.localStore=a,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){de(Rx,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Rl(n)?de(Rx,"Ignoring IndexedDB error during garbage collection: ",n):await Nl(n)}await this.er(3e5)})}}class zk{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(a=>Math.floor(n/100*a))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(Kh.ae);const a=new Bk(n);return this.tr.forEachTarget(e,l=>a.Zn(l.sequenceNumber)).next(()=>this.tr.rr(e,l=>a.Zn(l))).next(()=>a.maxValue)}removeTargets(e,n,a){return this.tr.removeTargets(e,n,a)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(Nx)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Nx):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let a,l,c,d,m,p,_;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),l=this.params.maximumSequenceNumbersToCollect):l=T,d=Date.now(),this.nthSequenceNumber(e,l))).next(T=>(a=T,m=Date.now(),this.removeTargets(e,a,n))).next(T=>(c=T,p=Date.now(),this.removeOrphanedDocuments(e,a))).next(T=>(_=Date.now(),al()<=Oe.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-x}ms
	Determined least recently used ${l} in `+(m-d)+`ms
	Removed ${c} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(_-p)+`ms
Total Duration: ${_-x}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:T})))}}function qk(s,e){return new zk(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(){this.changes=new cr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?ne.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(e,n,a,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=l}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next(l=>(a=l,this.remoteDocumentCache.getEntry(e,n))).next(l=>(a!==null&&Zo(a.mutation,l,Sn.empty(),jt.now()),l))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.getLocalViewOfDocuments(e,a,Me()).next(()=>a))}getLocalViewOfDocuments(e,n,a=Me()){const l=Ja();return this.populateOverlays(e,l,n).next(()=>this.computeViews(e,n,l,a).next(c=>{let d=Go();return c.forEach((m,p)=>{d=d.insert(m,p.overlayedDocument)}),d}))}getOverlayedDocuments(e,n){const a=Ja();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,Me()))}populateOverlays(e,n,a){const l=[];return a.forEach(c=>{n.has(c)||l.push(c)}),this.documentOverlayCache.getOverlays(e,l).next(c=>{c.forEach((d,m)=>{n.set(d,m)})})}computeViews(e,n,a,l){let c=ui();const d=Xo(),m=function(){return Xo()}();return n.forEach((p,_)=>{const x=a.get(_.key);l.has(_.key)&&(x===void 0||x.mutation instanceof ya)?c=c.insert(_.key,_):x!==void 0?(d.set(_.key,x.mutation.getFieldMask()),Zo(x.mutation,_,x.mutation.getFieldMask(),jt.now())):d.set(_.key,Sn.empty())}),this.recalculateAndSaveOverlays(e,c).next(p=>(p.forEach((_,x)=>d.set(_,x)),n.forEach((_,x)=>{var T;return m.set(_,new Fk(x,(T=d.get(_))!==null&&T!==void 0?T:null))}),m))}recalculateAndSaveOverlays(e,n){const a=Xo();let l=new ot((d,m)=>d-m),c=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(d=>{for(const m of d)m.keys().forEach(p=>{const _=n.get(p);if(_===null)return;let x=a.get(p)||Sn.empty();x=m.applyToLocalView(_,x),a.set(p,x);const T=(l.get(m.batchId)||Me()).add(p);l=l.insert(m.batchId,T)})}).next(()=>{const d=[],m=l.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),_=p.key,x=p.value,T=wE();x.forEach(w=>{if(!c.has(w)){const C=IE(n.get(w),a.get(w));C!==null&&T.set(w,C),c=c.add(w)}}),d.push(this.documentOverlayCache.saveOverlays(e,_,T))}return ne.waitFor(d)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,n,a,l){return function(d){return ye.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):xE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,l):this.getDocumentsMatchingCollectionQuery(e,n,a,l)}getNextDocuments(e,n,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,l).next(c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,l-c.size):ne.resolve(Ja());let m=sc,p=c;return d.next(_=>ne.forEach(_,(x,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),c.get(x)?ne.resolve():this.remoteDocumentCache.getEntry(e,x).next(w=>{p=p.insert(x,w)}))).next(()=>this.populateOverlays(e,_,c)).next(()=>this.computeViews(e,p,_,Me())).next(x=>({batchId:m,changes:AE(x)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next(a=>{let l=Go();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l})}getDocumentsMatchingCollectionGroupQuery(e,n,a,l){const c=n.collectionGroup;let d=Go();return this.indexManager.getCollectionParents(e,c).next(m=>ne.forEach(m,p=>{const _=function(T,w){return new mc(w,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(n,p.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,a,l).next(x=>{x.forEach((T,w)=>{d=d.insert(T,w)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,n,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,c,l))).next(d=>{c.forEach((p,_)=>{const x=_.getKey();d.get(x)===null&&(d=d.insert(x,en.newInvalidDocument(x)))});let m=Go();return d.forEach((p,_)=>{const x=c.get(p);x!==void 0&&Zo(x.mutation,_,Sn.empty(),jt.now()),Yh(n,_)&&(m=m.insert(p,_))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return ne.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(l){return{id:l.id,version:l.version,createTime:As(l.createTime)}}(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(l){return{name:l.name,query:Lk(l.bundledQuery),readTime:As(l.readTime)}}(n)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(){this.overlays=new ot(ye.comparator),this.Rr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const a=Ja();return ne.forEach(n,l=>this.getOverlay(e,l).next(c=>{c!==null&&a.set(l,c)})).next(()=>a)}saveOverlays(e,n,a){return a.forEach((l,c)=>{this.Et(e,n,c)}),ne.resolve()}removeOverlaysForBatchId(e,n,a){const l=this.Rr.get(a);return l!==void 0&&(l.forEach(c=>this.overlays=this.overlays.remove(c)),this.Rr.delete(a)),ne.resolve()}getOverlaysForCollection(e,n,a){const l=Ja(),c=n.length+1,d=new ye(n.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const p=m.getNext().value,_=p.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===c&&p.largestBatchId>a&&l.set(p.getKey(),p)}return ne.resolve(l)}getOverlaysForCollectionGroup(e,n,a,l){let c=new ot((_,x)=>_-x);const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>a){let x=c.get(_.largestBatchId);x===null&&(x=Ja(),c=c.insert(_.largestBatchId,x)),x.set(_.getKey(),_)}}const m=Ja(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((_,x)=>m.set(_,x)),!(m.size()>=l)););return ne.resolve(m)}Et(e,n,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.Rr.get(l.largestBatchId).delete(a.key);this.Rr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new dk(n,a));let c=this.Rr.get(n);c===void 0&&(c=Me(),this.Rr.set(n,c)),this.Rr.set(n,c.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(){this.sessionToken=Qt.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(){this.Vr=new Dt(Ht.mr),this.gr=new Dt(Ht.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const a=new Ht(e,n);this.Vr=this.Vr.add(a),this.gr=this.gr.add(a)}yr(e,n){e.forEach(a=>this.addReference(a,n))}removeReference(e,n){this.wr(new Ht(e,n))}br(e,n){e.forEach(a=>this.removeReference(a,n))}Sr(e){const n=new ye(new tt([])),a=new Ht(n,e),l=new Ht(n,e+1),c=[];return this.gr.forEachInRange([a,l],d=>{this.wr(d),c.push(d.key)}),c}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new ye(new tt([])),a=new Ht(n,e),l=new Ht(n,e+1);let c=Me();return this.gr.forEachInRange([a,l],d=>{c=c.add(d.key)}),c}containsKey(e){const n=new Ht(e,0),a=this.Vr.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class Ht{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return ye.comparator(e.key,n.key)||Ve(e.Cr,n.Cr)}static pr(e,n){return Ve(e.Cr,n.Cr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Dt(Ht.mr)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,l){const c=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new hk(c,n,a,l);this.mutationQueue.push(d);for(const m of l)this.Mr=this.Mr.add(new Ht(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ne.resolve(d)}lookupMutationBatch(e,n){return ne.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,l=this.Nr(a),c=l<0?0:l;return ne.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?wg:this.Fr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new Ht(n,0),l=new Ht(n,Number.POSITIVE_INFINITY),c=[];return this.Mr.forEachInRange([a,l],d=>{const m=this.Or(d.Cr);c.push(m)}),ne.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new Dt(Ve);return n.forEach(l=>{const c=new Ht(l,0),d=new Ht(l,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([c,d],m=>{a=a.add(m.Cr)})}),ne.resolve(this.Br(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,l=a.length+1;let c=a;ye.isDocumentKey(c)||(c=c.child(""));const d=new Ht(new ye(c),0);let m=new Dt(Ve);return this.Mr.forEachWhile(p=>{const _=p.key.path;return!!a.isPrefixOf(_)&&(_.length===l&&(m=m.add(p.Cr)),!0)},d),ne.resolve(this.Br(m))}Br(e){const n=[];return e.forEach(a=>{const l=this.Or(a);l!==null&&n.push(l)}),n}removeMutationBatch(e,n){$e(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let a=this.Mr;return ne.forEach(n.mutations,l=>{const c=new Ht(l.key,n.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.Mr=a})}qn(e){}containsKey(e,n){const a=new Ht(n,0),l=this.Mr.firstAfterOrEqual(a);return ne.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e){this.kr=e,this.docs=function(){return new ot(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,l=this.docs.get(a),c=l?l.size:0,d=this.kr(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return ne.resolve(a?a.document.mutableCopy():en.newInvalidDocument(n))}getEntries(e,n){let a=ui();return n.forEach(l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():en.newInvalidDocument(l))}),ne.resolve(a)}getDocumentsMatchingQuery(e,n,a,l){let c=ui();const d=n.path,m=new ye(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:_,value:{document:x}}=p.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||SR(wR(x),a)<=0||(l.has(x.key)||Yh(n,x))&&(c=c.insert(x.key,x.mutableCopy()))}return ne.resolve(c)}getAllFromCollectionGroup(e,n,a,l){Te()}qr(e,n){return ne.forEach(this.docs,a=>n(a))}newChangeBuffer(e){return new Zk(this)}getSize(e){return ne.resolve(this.size)}}class Zk extends Kk{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((a,l)=>{l.isValidDocument()?n.push(this.Ir.addEntry(e,l)):this.Ir.removeEntry(a)}),ne.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(e){this.persistence=e,this.Qr=new cr(n=>Rg(n),kg),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Mg,this.targetCount=0,this.Ur=yl.Kn()}forEachTarget(e,n){return this.Qr.forEach((a,l)=>n(l)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.$r&&(this.$r=n),ne.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ur=new yl(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.zn(n),ne.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Kr.Sr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,a){let l=0;const c=[];return this.Qr.forEach((d,m)=>{m.sequenceNumber<=n&&a.get(m.targetId)===null&&(this.Qr.delete(d),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),l++)}),ne.waitFor(c).next(()=>l)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const a=this.Qr.get(n)||null;return ne.resolve(a)}addMatchingKeys(e,n,a){return this.Kr.yr(n,a),ne.resolve()}removeMatchingKeys(e,n,a){this.Kr.br(n,a);const l=this.persistence.referenceDelegate,c=[];return l&&n.forEach(d=>{c.push(l.markPotentiallyOrphaned(e,d))}),ne.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.Kr.Sr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const a=this.Kr.vr(n);return ne.resolve(a)}containsKey(e,n){return ne.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Kh(0),this.zr=!1,this.zr=!0,this.jr=new Yk,this.referenceDelegate=e(this),this.Hr=new Jk(this),this.indexManager=new Vk,this.remoteDocumentCache=function(l){return new Xk(l)}(a=>this.referenceDelegate.Jr(a)),this.serializer=new Mk(n),this.Yr=new $k(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Qk,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this.Wr[e.toKey()];return a||(a=new Wk(n,this.referenceDelegate),this.Wr[e.toKey()]=a),a}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,a){de("MemoryPersistence","Starting transaction:",e);const l=new eC(this.Gr.next());return this.referenceDelegate.Zr(),a(l).next(c=>this.referenceDelegate.Xr(l).next(()=>c)).toPromise().then(c=>(l.raiseOnCommittedEvent(),c))}ei(e,n){return ne.or(Object.values(this.Wr).map(a=>()=>a.containsKey(e,n)))}}class eC extends RR{constructor(e){super(),this.currentSequenceNumber=e}}class Lg{constructor(e){this.persistence=e,this.ti=new Mg,this.ni=null}static ri(e){return new Lg(e)}get ii(){if(this.ni)return this.ni;throw Te()}addReference(e,n,a){return this.ti.addReference(a,n),this.ii.delete(a.toString()),ne.resolve()}removeReference(e,n,a){return this.ti.removeReference(a,n),this.ii.add(a.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),ne.resolve()}removeTarget(e,n){this.ti.Sr(n.targetId).forEach(l=>this.ii.add(l.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next(l=>{l.forEach(c=>this.ii.add(c.toString()))}).next(()=>a.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.ii,a=>{const l=ye.fromPath(a);return this.si(e,l).next(c=>{c||n.removeEntry(l,be.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(a=>{a?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return ne.or([()=>ne.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class Ch{constructor(e,n){this.persistence=e,this.oi=new cr(a=>IR(a.path),(a,l)=>a.isEqual(l)),this.garbageCollector=qk(this,n)}static ri(e,n){return new Ch(e,n)}Zr(){}Xr(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>n.next(l=>a+l))}sr(e){let n=0;return this.rr(e,a=>{n++}).next(()=>n)}rr(e,n){return ne.forEach(this.oi,(a,l)=>this.ar(e,a,l).next(c=>c?ne.resolve():n(l)))}removeTargets(e,n,a){return this.persistence.getTargetCache().removeTargets(e,n,a)}removeOrphanedDocuments(e,n){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.qr(e,d=>this.ar(e,d,n).next(m=>{m||(a++,c.removeEntry(d,be.min()))})).next(()=>c.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const a=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,n,a){return this.oi.set(a,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,a){return this.oi.set(a,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),ne.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ch(e.data.value)),n}ar(e,n,a){return ne.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const l=this.oi.get(n);return ne.resolve(l!==void 0&&l>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e,n,a,l){this.targetId=e,this.fromCache=n,this.Hi=a,this.Ji=l}static Yi(e,n){let a=Me(),l=Me();for(const c of n.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Vg(e,n.fromCache,a,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return WS()?8:kR(nn())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,a,l){const c={result:null};return this.rs(e,n).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.ss(e,n,l,a).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new tC;return this._s(e,n,d).next(m=>{if(c.result=m,this.Xi)return this.us(e,n,d,m.size)})}).next(()=>c.result)}us(e,n,a,l){return a.documentReadCount<this.es?(al()<=Oe.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",rl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ne.resolve()):(al()<=Oe.DEBUG&&de("QueryEngine","Query:",rl(n),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.ts*l?(al()<=Oe.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",rl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,bs(n))):ne.resolve())}rs(e,n){if(_x(n))return ne.resolve(null);let a=bs(n);return this.indexManager.getIndexType(e,a).next(l=>l===0?null:(n.limit!==null&&l===1&&(n=Ym(n,null,"F"),a=bs(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next(c=>{const d=Me(...c);return this.ns.getDocuments(e,d).next(m=>this.indexManager.getMinOffset(e,a).next(p=>{const _=this.cs(n,m);return this.ls(n,_,d,p.readTime)?this.rs(e,Ym(n,null,"F")):this.hs(e,_,n,p)}))})))}ss(e,n,a,l){return _x(n)||l.isEqual(be.min())?ne.resolve(null):this.ns.getDocuments(e,a).next(c=>{const d=this.cs(n,c);return this.ls(n,d,a,l)?ne.resolve(null):(al()<=Oe.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),rl(n)),this.hs(e,d,n,AR(l,sc)).next(m=>m))})}cs(e,n){let a=new Dt(TE(e));return n.forEach((l,c)=>{Yh(e,c)&&(a=a.add(c))}),a}ls(e,n,a,l){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}_s(e,n,a){return al()<=Oe.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",rl(n)),this.ns.getDocumentsMatchingQuery(e,n,ha.min(),a)}hs(e,n,a,l){return this.ns.getDocumentsMatchingQuery(e,a,l).next(c=>(n.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pg="LocalStore",sC=3e8;class iC{constructor(e,n,a,l){this.persistence=e,this.Ps=n,this.serializer=l,this.Ts=new ot(Ve),this.Is=new cr(c=>Rg(c),kg),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(a)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Gk(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function aC(s,e,n,a){return new iC(s,e,n,a)}async function FE(s,e){const n=Ne(s);return await n.persistence.runTransaction("Handle user change","readonly",a=>{let l;return n.mutationQueue.getAllMutationBatches(a).next(c=>(l=c,n.As(e),n.mutationQueue.getAllMutationBatches(a))).next(c=>{const d=[],m=[];let p=Me();for(const _ of l){d.push(_.batchId);for(const x of _.mutations)p=p.add(x.key)}for(const _ of c){m.push(_.batchId);for(const x of _.mutations)p=p.add(x.key)}return n.localDocuments.getDocuments(a,p).next(_=>({Rs:_,removedBatchIds:d,addedBatchIds:m}))})})}function rC(s,e){const n=Ne(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const l=e.batch.keys(),c=n.ds.newChangeBuffer({trackRemovals:!0});return function(m,p,_,x){const T=_.batch,w=T.keys();let C=ne.resolve();return w.forEach(D=>{C=C.next(()=>x.getEntry(p,D)).next(q=>{const M=_.docVersions.get(D);$e(M!==null),q.version.compareTo(M)<0&&(T.applyToRemoteDocument(q,_),q.isValidDocument()&&(q.setReadTime(_.commitVersion),x.addEntry(q)))})}),C.next(()=>m.mutationQueue.removeMutationBatch(p,T))}(n,a,e,c).next(()=>c.apply(a)).next(()=>n.mutationQueue.performConsistencyCheck(a)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(a,l,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(m){let p=Me();for(let _=0;_<m.mutationResults.length;++_)m.mutationResults[_].transformResults.length>0&&(p=p.add(m.batch.mutations[_].key));return p}(e))).next(()=>n.localDocuments.getDocuments(a,l))})}function GE(s){const e=Ne(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function lC(s,e){const n=Ne(s),a=e.snapshotVersion;let l=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=n.ds.newChangeBuffer({trackRemovals:!0});l=n.Ts;const m=[];e.targetChanges.forEach((x,T)=>{const w=l.get(T);if(!w)return;m.push(n.Hr.removeMatchingKeys(c,x.removedDocuments,T).next(()=>n.Hr.addMatchingKeys(c,x.addedDocuments,T)));let C=w.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(T)!==null?C=C.withResumeToken(Qt.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):x.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(x.resumeToken,a)),l=l.insert(T,C),function(q,M,z){return q.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=sC?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0}(w,C,x)&&m.push(n.Hr.updateTargetData(c,C))});let p=ui(),_=Me();if(e.documentUpdates.forEach(x=>{e.resolvedLimboDocuments.has(x)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(c,x))}),m.push(oC(c,d,e.documentUpdates).next(x=>{p=x.Vs,_=x.fs})),!a.isEqual(be.min())){const x=n.Hr.getLastRemoteSnapshotVersion(c).next(T=>n.Hr.setTargetsMetadata(c,c.currentSequenceNumber,a));m.push(x)}return ne.waitFor(m).next(()=>d.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,p,_)).next(()=>p)}).then(c=>(n.Ts=l,c))}function oC(s,e,n){let a=Me(),l=Me();return n.forEach(c=>a=a.add(c)),e.getEntries(s,a).next(c=>{let d=ui();return n.forEach((m,p)=>{const _=c.get(m);p.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(m)),p.isNoDocument()&&p.version.isEqual(be.min())?(e.removeEntry(m,p.readTime),d=d.insert(m,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||p.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(p),d=d.insert(m,p)):de(Pg,"Ignoring outdated watch update for ",m,". Current version:",_.version," Watch version:",p.version)}),{Vs:d,fs:l}})}function cC(s,e){const n=Ne(s);return n.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=wg),n.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function uC(s,e){const n=Ne(s);return n.persistence.runTransaction("Allocate target","readwrite",a=>{let l;return n.Hr.getTargetData(a,e).next(c=>c?(l=c,ne.resolve(l)):n.Hr.allocateTargetId(a).next(d=>(l=new ia(e,d,"TargetPurposeListen",a.currentSequenceNumber),n.Hr.addTargetData(a,l).next(()=>l))))}).then(a=>{const l=n.Ts.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(a.targetId,a),n.Is.set(e,a.targetId)),a})}async function eg(s,e,n){const a=Ne(s),l=a.Ts.get(e),c=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",c,d=>a.persistence.referenceDelegate.removeTarget(d,l))}catch(d){if(!Rl(d))throw d;de(Pg,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ts=a.Ts.remove(e),a.Is.delete(l.target)}function Cx(s,e,n){const a=Ne(s);let l=be.min(),c=Me();return a.persistence.runTransaction("Execute query","readwrite",d=>function(p,_,x){const T=Ne(p),w=T.Is.get(x);return w!==void 0?ne.resolve(T.Ts.get(w)):T.Hr.getTargetData(_,x)}(a,d,bs(e)).next(m=>{if(m)return l=m.lastLimboFreeSnapshotVersion,a.Hr.getMatchingKeysForTargetId(d,m.targetId).next(p=>{c=p})}).next(()=>a.Ps.getDocumentsMatchingQuery(d,e,n?l:be.min(),n?c:Me())).next(m=>(hC(a,WR(e),m),{documents:m,gs:c})))}function hC(s,e,n){let a=s.Es.get(e)||be.min();n.forEach((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)}),s.Es.set(e,a)}class Ix{constructor(){this.activeTargetIds=nk()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class dC{constructor(){this.ho=new Ix,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,a){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Ix,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx="ConnectivityMonitor";class Dx{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){de(jx,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){de(jx,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eh=null;function tg(){return eh===null?eh=function(){return 268435456+Math.round(2147483648*Math.random())}():eh++,"0x"+eh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km="RestConnection",mC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class gC{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${a}/databases/${l}`,this.wo=this.databaseId.database===bh?`project_id=${a}`:`project_id=${a}&database_id=${l}`}bo(e,n,a,l,c){const d=tg(),m=this.So(e,n.toUriEncodedString());de(km,`Sending RPC '${e}' ${d}:`,m,a);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,l,c),this.vo(e,m,p,a).then(_=>(de(km,`Received RPC '${e}' ${d}: `,_),_),_=>{throw ml(km,`RPC '${e}' ${d} failed with error: `,_,"url: ",m,"request:",a),_})}Co(e,n,a,l,c,d){return this.bo(e,n,a,l,c)}Do(e,n,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Sl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((l,c)=>e[c]=l),a&&a.headers.forEach((l,c)=>e[c]=l)}So(e,n){const a=mC[e];return`${this.po}/v1/${n}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt="WebChannelConnection";class _C extends gC{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,a,l){const c=tg();return new Promise((d,m)=>{const p=new X0;p.setWithCredentials(!0),p.listenOnce(Z0.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case oh.NO_ERROR:const x=p.getResponseJson();de(Zt,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(x)),d(x);break;case oh.TIMEOUT:de(Zt,`RPC '${e}' ${c} timed out`),m(new fe(se.DEADLINE_EXCEEDED,"Request time out"));break;case oh.HTTP_ERROR:const T=p.getStatus();if(de(Zt,`RPC '${e}' ${c} failed with status:`,T,"response text:",p.getResponseText()),T>0){let w=p.getResponseJson();Array.isArray(w)&&(w=w[0]);const C=w==null?void 0:w.error;if(C&&C.status&&C.message){const D=function(M){const z=M.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(z)>=0?z:se.UNKNOWN}(C.status);m(new fe(D,C.message))}else m(new fe(se.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new fe(se.UNAVAILABLE,"Connection failed."));break;default:Te()}}finally{de(Zt,`RPC '${e}' ${c} completed.`)}});const _=JSON.stringify(l);de(Zt,`RPC '${e}' ${c} sending request:`,l),p.send(n,"POST",_,a,15)})}Wo(e,n,a){const l=tg(),c=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=tE(),m=eE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,a),p.encodeInitMessageHeaders=!0;const x=c.join("");de(Zt,`Creating RPC '${e}' stream ${l}: ${x}`,p);const T=d.createWebChannel(x,p);let w=!1,C=!1;const D=new pC({Fo:M=>{C?de(Zt,`Not sending because RPC '${e}' stream ${l} is closed:`,M):(w||(de(Zt,`Opening RPC '${e}' stream ${l} transport.`),T.open(),w=!0),de(Zt,`RPC '${e}' stream ${l} sending:`,M),T.send(M))},Mo:()=>T.close()}),q=(M,z,G)=>{M.listen(z,Q=>{try{G(Q)}catch(J){setTimeout(()=>{throw J},0)}})};return q(T,Fo.EventType.OPEN,()=>{C||(de(Zt,`RPC '${e}' stream ${l} transport opened.`),D.Qo())}),q(T,Fo.EventType.CLOSE,()=>{C||(C=!0,de(Zt,`RPC '${e}' stream ${l} transport closed`),D.Ko())}),q(T,Fo.EventType.ERROR,M=>{C||(C=!0,ml(Zt,`RPC '${e}' stream ${l} transport errored:`,M),D.Ko(new fe(se.UNAVAILABLE,"The operation could not be completed")))}),q(T,Fo.EventType.MESSAGE,M=>{var z;if(!C){const G=M.data[0];$e(!!G);const Q=G,J=(Q==null?void 0:Q.error)||((z=Q[0])===null||z===void 0?void 0:z.error);if(J){de(Zt,`RPC '${e}' stream ${l} received error:`,J);const te=J.status;let ce=function(S){const R=bt[S];if(R!==void 0)return DE(R)}(te),L=J.message;ce===void 0&&(ce=se.INTERNAL,L="Unknown error status: "+te+" with message "+J.message),C=!0,D.Ko(new fe(ce,L)),T.close()}else de(Zt,`RPC '${e}' stream ${l} received:`,G),D.Uo(G)}}),q(m,J0.STAT_EVENT,M=>{M.stat===qm.PROXY?de(Zt,`RPC '${e}' stream ${l} detected buffering proxy`):M.stat===qm.NOPROXY&&de(Zt,`RPC '${e}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{D.$o()},0),D}}function Cm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jh(s){return new Ek(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(e,n,a=1e3,l=1.5,c=6e4){this.Ti=e,this.timerId=n,this.Go=a,this.zo=l,this.jo=c,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),a=Math.max(0,Date.now()-this.Yo),l=Math.max(0,n-a);l>0&&de("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,l,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox="PersistentStream";class QE{constructor(e,n,a,l,c,d,m,p){this.Ti=e,this.n_=a,this.r_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new $E(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===se.RESOURCE_EXHAUSTED?(ci(n.toString()),ci("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,l])=>{this.i_===n&&this.V_(a,l)},a=>{e(()=>{const l=new fe(se.UNKNOWN,"Fetching auth token failed: "+a.message);return this.m_(l)})})}V_(e,n){const a=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{a(()=>this.listener.xo())}),this.stream.No(()=>{a(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(l=>{a(()=>this.m_(l))}),this.stream.onMessage(l=>{a(()=>++this.__==1?this.g_(l):this.onNext(l))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return de(Ox,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(de(Ox,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class yC extends QE{constructor(e,n,a,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,l,d),this.serializer=c}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=Ak(this.serializer,e),a=function(c){if(!("targetChange"in c))return be.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?be.min():d.readTime?As(d.readTime):be.min()}(e);return this.listener.p_(n,a)}y_(e){const n={};n.database=Jm(this.serializer),n.addTarget=function(c,d){let m;const p=d.target;if(m=$m(p)?{documents:Nk(c,p)}:{query:Rk(c,p).ht},m.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){m.resumeToken=LE(c,d.resumeToken);const _=Wm(c,d.expectedCount);_!==null&&(m.expectedCount=_)}else if(d.snapshotVersion.compareTo(be.min())>0){m.readTime=kh(c,d.snapshotVersion.toTimestamp());const _=Wm(c,d.expectedCount);_!==null&&(m.expectedCount=_)}return m}(this.serializer,e);const a=Ck(this.serializer,e);a&&(n.labels=a),this.I_(n)}w_(e){const n={};n.database=Jm(this.serializer),n.removeTarget=e,this.I_(n)}}class vC extends QE{constructor(e,n,a,l,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,l,d),this.serializer=c}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return $e(!!e.streamToken),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){$e(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=Sk(e.writeResults,e.commitTime),a=As(e.commitTime);return this.listener.v_(a,n)}C_(){const e={};e.database=Jm(this.serializer),this.I_(e)}S_(e){const n={streamToken:this.lastStreamToken,writes:e.map(a=>wk(this.serializer,a))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{}class EC extends xC{constructor(e,n,a,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=l,this.F_=!1}M_(){if(this.F_)throw new fe(se.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,a,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.bo(e,Xm(n,a),l,c,d)).catch(c=>{throw c.name==="FirebaseError"?(c.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new fe(se.UNKNOWN,c.toString())})}Co(e,n,a,l,c){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,m])=>this.connection.Co(e,Xm(n,a),l,d,m,c)).catch(d=>{throw d.name==="FirebaseError"?(d.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new fe(se.UNKNOWN,d.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class TC{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(ci(n),this.N_=!1):de("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ir="RemoteStore";class bC{constructor(e,n,a,l,c){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=c,this.z_.To(d=>{a.enqueueAndForget(async()=>{ur(this)&&(de(ir,"Restarting streams for network reachability change."),await async function(p){const _=Ne(p);_.W_.add(4),await _c(_),_.j_.set("Unknown"),_.W_.delete(4),await ed(_)}(this))})}),this.j_=new TC(a,l)}}async function ed(s){if(ur(s))for(const e of s.G_)await e(!0)}async function _c(s){for(const e of s.G_)await e(!1)}function YE(s,e){const n=Ne(s);n.U_.has(e.targetId)||(n.U_.set(e.targetId,e),zg(n)?Hg(n):kl(n).c_()&&Bg(n,e))}function Ug(s,e){const n=Ne(s),a=kl(n);n.U_.delete(e),a.c_()&&WE(n,e),n.U_.size===0&&(a.c_()?a.P_():ur(n)&&n.j_.set("Unknown"))}function Bg(s,e){if(s.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}kl(s).y_(e)}function WE(s,e){s.H_.Ne(e),kl(s).w_(e)}function Hg(s){s.H_=new _k({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>s.U_.get(e)||null,it:()=>s.datastore.serializer.databaseId}),kl(s).start(),s.j_.B_()}function zg(s){return ur(s)&&!kl(s).u_()&&s.U_.size>0}function ur(s){return Ne(s).W_.size===0}function XE(s){s.H_=void 0}async function AC(s){s.j_.set("Online")}async function wC(s){s.U_.forEach((e,n)=>{Bg(s,e)})}async function SC(s,e){XE(s),zg(s)?(s.j_.q_(e),Hg(s)):s.j_.set("Unknown")}async function NC(s,e,n){if(s.j_.set("Online"),e instanceof ME&&e.state===2&&e.cause)try{await async function(l,c){const d=c.cause;for(const m of c.targetIds)l.U_.has(m)&&(await l.remoteSyncer.rejectListen(m,d),l.U_.delete(m),l.H_.removeTarget(m))}(s,e)}catch(a){de(ir,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await Ih(s,a)}else if(e instanceof dh?s.H_.We(e):e instanceof OE?s.H_.Ze(e):s.H_.je(e),!n.isEqual(be.min()))try{const a=await GE(s.localStore);n.compareTo(a)>=0&&await function(c,d){const m=c.H_.ot(d);return m.targetChanges.forEach((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const x=c.U_.get(_);x&&c.U_.set(_,x.withResumeToken(p.resumeToken,d))}}),m.targetMismatches.forEach((p,_)=>{const x=c.U_.get(p);if(!x)return;c.U_.set(p,x.withResumeToken(Qt.EMPTY_BYTE_STRING,x.snapshotVersion)),WE(c,p);const T=new ia(x.target,p,_,x.sequenceNumber);Bg(c,T)}),c.remoteSyncer.applyRemoteEvent(m)}(s,n)}catch(a){de(ir,"Failed to raise snapshot:",a),await Ih(s,a)}}async function Ih(s,e,n){if(!Rl(e))throw e;s.W_.add(1),await _c(s),s.j_.set("Offline"),n||(n=()=>GE(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{de(ir,"Retrying IndexedDB access"),await n(),s.W_.delete(1),await ed(s)})}function ZE(s,e){return e().catch(n=>Ih(s,n,e))}async function td(s){const e=Ne(s),n=ga(e);let a=e.K_.length>0?e.K_[e.K_.length-1].batchId:wg;for(;RC(e);)try{const l=await cC(e.localStore,a);if(l===null){e.K_.length===0&&n.P_();break}a=l.batchId,kC(e,l)}catch(l){await Ih(e,l)}JE(e)&&eT(e)}function RC(s){return ur(s)&&s.K_.length<10}function kC(s,e){s.K_.push(e);const n=ga(s);n.c_()&&n.b_&&n.S_(e.mutations)}function JE(s){return ur(s)&&!ga(s).u_()&&s.K_.length>0}function eT(s){ga(s).start()}async function CC(s){ga(s).C_()}async function IC(s){const e=ga(s);for(const n of s.K_)e.S_(n.mutations)}async function jC(s,e,n){const a=s.K_.shift(),l=jg.from(a,e,n);await ZE(s,()=>s.remoteSyncer.applySuccessfulWrite(l)),await td(s)}async function DC(s,e){e&&ga(s).b_&&await async function(a,l){if(function(d){return mk(d)&&d!==se.ABORTED}(l.code)){const c=a.K_.shift();ga(a).h_(),await ZE(a,()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l)),await td(a)}}(s,e),JE(s)&&eT(s)}async function Mx(s,e){const n=Ne(s);n.asyncQueue.verifyOperationInProgress(),de(ir,"RemoteStore received new credentials");const a=ur(n);n.W_.add(3),await _c(n),a&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await ed(n)}async function OC(s,e){const n=Ne(s);e?(n.W_.delete(2),await ed(n)):e||(n.W_.add(2),await _c(n),n.j_.set("Unknown"))}function kl(s){return s.J_||(s.J_=function(n,a,l){const c=Ne(n);return c.M_(),new yC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(s.datastore,s.asyncQueue,{xo:AC.bind(null,s),No:wC.bind(null,s),Lo:SC.bind(null,s),p_:NC.bind(null,s)}),s.G_.push(async e=>{e?(s.J_.h_(),zg(s)?Hg(s):s.j_.set("Unknown")):(await s.J_.stop(),XE(s))})),s.J_}function ga(s){return s.Y_||(s.Y_=function(n,a,l){const c=Ne(n);return c.M_(),new vC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(s.datastore,s.asyncQueue,{xo:()=>Promise.resolve(),No:CC.bind(null,s),Lo:DC.bind(null,s),D_:IC.bind(null,s),v_:jC.bind(null,s)}),s.G_.push(async e=>{e?(s.Y_.h_(),await td(s)):(await s.Y_.stop(),s.K_.length>0&&(de(ir,`Stopping write stream with ${s.K_.length} pending writes`),s.K_=[]))})),s.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e,n,a,l,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new ri,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,l,c){const d=Date.now()+a,m=new qg(e,n,d,l,c);return m.start(a),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Kg(s,e){if(ci("AsyncQueue",`${e}: ${s}`),Rl(s))return new fe(se.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{static emptySet(e){return new ul(e.comparator)}constructor(e){this.comparator=e?(n,a)=>e(n,a)||ye.comparator(n.key,a.key):(n,a)=>ye.comparator(n.key,a.key),this.keyedMap=Go(),this.sortedSet=new ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,a)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ul)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new ul;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(){this.Z_=new ot(ye.comparator)}track(e){const n=e.doc.key,a=this.Z_.get(n);a?e.type!==0&&a.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&a.type!==1?this.Z_=this.Z_.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.Z_=this.Z_.remove(n):e.type===1&&a.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Te():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,a)=>{e.push(a)}),e}}class vl{constructor(e,n,a,l,c,d,m,p,_){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(e,n,a,l,c){const d=[];return n.forEach(m=>{d.push({type:0,doc:m})}),new vl(e,n,ul.emptySet(n),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==a[l].type||!n[l].doc.isEqual(a[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class LC{constructor(){this.queries=Vx(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,a){const l=Ne(n),c=l.queries;l.queries=Vx(),c.forEach((d,m)=>{for(const p of m.ta)p.onError(a)})})(this,new fe(se.ABORTED,"Firestore shutting down"))}}function Vx(){return new cr(s=>EE(s),Qh)}async function Fg(s,e){const n=Ne(s);let a=3;const l=e.query;let c=n.queries.get(l);c?!c.na()&&e.ra()&&(a=2):(c=new MC,a=e.ra()?0:1);try{switch(a){case 0:c.ea=await n.onListen(l,!0);break;case 1:c.ea=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(d){const m=Kg(d,`Initialization of query '${rl(e.query)}' failed`);return void e.onError(m)}n.queries.set(l,c),c.ta.push(e),e.sa(n.onlineState),c.ea&&e.oa(c.ea)&&$g(n)}async function Gg(s,e){const n=Ne(s),a=e.query;let l=3;const c=n.queries.get(a);if(c){const d=c.ta.indexOf(e);d>=0&&(c.ta.splice(d,1),c.ta.length===0?l=e.ra()?0:1:!c.na()&&e.ra()&&(l=2))}switch(l){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function VC(s,e){const n=Ne(s);let a=!1;for(const l of e){const c=l.query,d=n.queries.get(c);if(d){for(const m of d.ta)m.oa(l)&&(a=!0);d.ea=l}}a&&$g(n)}function PC(s,e,n){const a=Ne(s),l=a.queries.get(e);if(l)for(const c of l.ta)c.onError(n);a.queries.delete(e)}function $g(s){s.ia.forEach(e=>{e.next()})}var ng,Px;(Px=ng||(ng={}))._a="default",Px.Cache="cache";class Qg{constructor(e,n,a){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=a||{}}oa(e){if(!this.options.includeMetadataChanges){const a=[];for(const l of e.docChanges)l.type!==3&&a.push(l);e=new vl(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const a=n!=="Offline";return(!this.options.Ta||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=vl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==ng.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(e){this.key=e}}class nT{constructor(e){this.key=e}}class UC{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Me(),this.mutatedKeys=Me(),this.ya=TE(e),this.wa=new ul(this.ya)}get ba(){return this.fa}Sa(e,n){const a=n?n.Da:new Lx,l=n?n.wa:this.wa;let c=n?n.mutatedKeys:this.mutatedKeys,d=l,m=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((x,T)=>{const w=l.get(x),C=Yh(this.query,T)?T:null,D=!!w&&this.mutatedKeys.has(w.key),q=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let M=!1;w&&C?w.data.isEqual(C.data)?D!==q&&(a.track({type:3,doc:C}),M=!0):this.va(w,C)||(a.track({type:2,doc:C}),M=!0,(p&&this.ya(C,p)>0||_&&this.ya(C,_)<0)&&(m=!0)):!w&&C?(a.track({type:0,doc:C}),M=!0):w&&!C&&(a.track({type:1,doc:w}),M=!0,(p||_)&&(m=!0)),M&&(C?(d=d.add(C),c=q?c.add(x):c.delete(x)):(d=d.delete(x),c=c.delete(x)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const x=this.query.limitType==="F"?d.last():d.first();d=d.delete(x.key),c=c.delete(x.key),a.track({type:1,doc:x})}return{wa:d,Da:a,ls:m,mutatedKeys:c}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,l){const c=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const d=e.Da.X_();d.sort((x,T)=>function(C,D){const q=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te()}};return q(C)-q(D)}(x.type,T.type)||this.ya(x.doc,T.doc)),this.Ca(a),l=l!=null&&l;const m=n&&!l?this.Fa():[],p=this.pa.size===0&&this.current&&!l?1:0,_=p!==this.ga;return this.ga=p,d.length!==0||_?{snapshot:new vl(this.query,e.wa,c,d,e.mutatedKeys,p===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Lx,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Me(),this.wa.forEach(a=>{this.xa(a.key)&&(this.pa=this.pa.add(a.key))});const n=[];return e.forEach(a=>{this.pa.has(a)||n.push(new nT(a))}),this.pa.forEach(a=>{e.has(a)||n.push(new tT(a))}),n}Oa(e){this.fa=e.gs,this.pa=Me();const n=this.Sa(e.documents);return this.applyChanges(n,!0)}Na(){return vl.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Yg="SyncEngine";class BC{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class HC{constructor(e){this.key=e,this.Ba=!1}}class zC{constructor(e,n,a,l,c,d){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.La={},this.ka=new cr(m=>EE(m),Qh),this.qa=new Map,this.Qa=new Set,this.$a=new ot(ye.comparator),this.Ka=new Map,this.Ua=new Mg,this.Wa={},this.Ga=new Map,this.za=yl.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function qC(s,e,n=!0){const a=oT(s);let l;const c=a.ka.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.Na()):l=await sT(a,e,n,!0),l}async function KC(s,e){const n=oT(s);await sT(n,e,!0,!1)}async function sT(s,e,n,a){const l=await uC(s.localStore,bs(e)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,n);let m;return a&&(m=await FC(s,e,c,d==="current",l.resumeToken)),s.isPrimaryClient&&n&&YE(s.remoteStore,l),m}async function FC(s,e,n,a,l){s.Ha=(T,w,C)=>async function(q,M,z,G){let Q=M.view.Sa(z);Q.ls&&(Q=await Cx(q.localStore,M.query,!1).then(({documents:L})=>M.view.Sa(L,Q)));const J=G&&G.targetChanges.get(M.targetId),te=G&&G.targetMismatches.get(M.targetId)!=null,ce=M.view.applyChanges(Q,q.isPrimaryClient,J,te);return Bx(q,M.targetId,ce.Ma),ce.snapshot}(s,T,w,C);const c=await Cx(s.localStore,e,!0),d=new UC(e,c.gs),m=d.Sa(c.documents),p=pc.createSynthesizedTargetChangeForCurrentChange(n,a&&s.onlineState!=="Offline",l),_=d.applyChanges(m,s.isPrimaryClient,p);Bx(s,n,_.Ma);const x=new BC(e,n,d);return s.ka.set(e,x),s.qa.has(n)?s.qa.get(n).push(e):s.qa.set(n,[e]),_.snapshot}async function GC(s,e,n){const a=Ne(s),l=a.ka.get(e),c=a.qa.get(l.targetId);if(c.length>1)return a.qa.set(l.targetId,c.filter(d=>!Qh(d,e))),void a.ka.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await eg(a.localStore,l.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(l.targetId),n&&Ug(a.remoteStore,l.targetId),sg(a,l.targetId)}).catch(Nl)):(sg(a,l.targetId),await eg(a.localStore,l.targetId,!0))}async function $C(s,e){const n=Ne(s),a=n.ka.get(e),l=n.qa.get(a.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),Ug(n.remoteStore,a.targetId))}async function QC(s,e,n){const a=tI(s);try{const l=await function(d,m){const p=Ne(d),_=jt.now(),x=m.reduce((C,D)=>C.add(D.key),Me());let T,w;return p.persistence.runTransaction("Locally write mutations","readwrite",C=>{let D=ui(),q=Me();return p.ds.getEntries(C,x).next(M=>{D=M,D.forEach((z,G)=>{G.isValidDocument()||(q=q.add(z))})}).next(()=>p.localDocuments.getOverlayedDocuments(C,D)).next(M=>{T=M;const z=[];for(const G of m){const Q=ck(G,T.get(G.key).overlayedDocument);Q!=null&&z.push(new ya(G.key,Q,fE(Q.value.mapValue),Fn.exists(!0)))}return p.mutationQueue.addMutationBatch(C,_,z,m)}).next(M=>{w=M;const z=M.applyToLocalDocumentSet(T,q);return p.documentOverlayCache.saveOverlays(C,M.batchId,z)})}).then(()=>({batchId:w.batchId,changes:AE(T)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(l.batchId),function(d,m,p){let _=d.Wa[d.currentUser.toKey()];_||(_=new ot(Ve)),_=_.insert(m,p),d.Wa[d.currentUser.toKey()]=_}(a,l.batchId,n),await yc(a,l.changes),await td(a.remoteStore)}catch(l){const c=Kg(l,"Failed to persist write");n.reject(c)}}async function iT(s,e){const n=Ne(s);try{const a=await lC(n.localStore,e);e.targetChanges.forEach((l,c)=>{const d=n.Ka.get(c);d&&($e(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?d.Ba=!0:l.modifiedDocuments.size>0?$e(d.Ba):l.removedDocuments.size>0&&($e(d.Ba),d.Ba=!1))}),await yc(n,a,e)}catch(a){await Nl(a)}}function Ux(s,e,n){const a=Ne(s);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const l=[];a.ka.forEach((c,d)=>{const m=d.view.sa(e);m.snapshot&&l.push(m.snapshot)}),function(d,m){const p=Ne(d);p.onlineState=m;let _=!1;p.queries.forEach((x,T)=>{for(const w of T.ta)w.sa(m)&&(_=!0)}),_&&$g(p)}(a.eventManager,e),l.length&&a.La.p_(l),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function YC(s,e,n){const a=Ne(s);a.sharedClientState.updateQueryState(e,"rejected",n);const l=a.Ka.get(e),c=l&&l.key;if(c){let d=new ot(ye.comparator);d=d.insert(c,en.newNoDocument(c,be.min()));const m=Me().add(c),p=new Zh(be.min(),new Map,new ot(Ve),d,m);await iT(a,p),a.$a=a.$a.remove(c),a.Ka.delete(e),Wg(a)}else await eg(a.localStore,e,!1).then(()=>sg(a,e,n)).catch(Nl)}async function WC(s,e){const n=Ne(s),a=e.batch.batchId;try{const l=await rC(n.localStore,e);rT(n,a,null),aT(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await yc(n,l)}catch(l){await Nl(l)}}async function XC(s,e,n){const a=Ne(s);try{const l=await function(d,m){const p=Ne(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let x;return p.mutationQueue.lookupMutationBatch(_,m).next(T=>($e(T!==null),x=T.keys(),p.mutationQueue.removeMutationBatch(_,T))).next(()=>p.mutationQueue.performConsistencyCheck(_)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(_,x,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,x)).next(()=>p.localDocuments.getDocuments(_,x))})}(a.localStore,e);rT(a,e,n),aT(a,e),a.sharedClientState.updateMutationState(e,"rejected",n),await yc(a,l)}catch(l){await Nl(l)}}function aT(s,e){(s.Ga.get(e)||[]).forEach(n=>{n.resolve()}),s.Ga.delete(e)}function rT(s,e,n){const a=Ne(s);let l=a.Wa[a.currentUser.toKey()];if(l){const c=l.get(e);c&&(n?c.reject(n):c.resolve(),l=l.remove(e)),a.Wa[a.currentUser.toKey()]=l}}function sg(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.qa.get(e))s.ka.delete(a),n&&s.La.Ja(a,n);s.qa.delete(e),s.isPrimaryClient&&s.Ua.Sr(e).forEach(a=>{s.Ua.containsKey(a)||lT(s,a)})}function lT(s,e){s.Qa.delete(e.path.canonicalString());const n=s.$a.get(e);n!==null&&(Ug(s.remoteStore,n),s.$a=s.$a.remove(e),s.Ka.delete(n),Wg(s))}function Bx(s,e,n){for(const a of n)a instanceof tT?(s.Ua.addReference(a.key,e),ZC(s,a)):a instanceof nT?(de(Yg,"Document no longer in limbo: "+a.key),s.Ua.removeReference(a.key,e),s.Ua.containsKey(a.key)||lT(s,a.key)):Te()}function ZC(s,e){const n=e.key,a=n.path.canonicalString();s.$a.get(n)||s.Qa.has(a)||(de(Yg,"New document in limbo: "+n),s.Qa.add(a),Wg(s))}function Wg(s){for(;s.Qa.size>0&&s.$a.size<s.maxConcurrentLimboResolutions;){const e=s.Qa.values().next().value;s.Qa.delete(e);const n=new ye(tt.fromString(e)),a=s.za.next();s.Ka.set(a,new HC(n)),s.$a=s.$a.insert(n,a),YE(s.remoteStore,new ia(bs($h(n.path)),a,"TargetPurposeLimboResolution",Kh.ae))}}async function yc(s,e,n){const a=Ne(s),l=[],c=[],d=[];a.ka.isEmpty()||(a.ka.forEach((m,p)=>{d.push(a.Ha(p,e,n).then(_=>{var x;if((_||n)&&a.isPrimaryClient){const T=_?!_.fromCache:(x=n==null?void 0:n.targetChanges.get(p.targetId))===null||x===void 0?void 0:x.current;a.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(_){l.push(_);const T=Vg.Yi(p.targetId,_);c.push(T)}}))}),await Promise.all(d),a.La.p_(l),await async function(p,_){const x=Ne(p);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>ne.forEach(_,w=>ne.forEach(w.Hi,C=>x.persistence.referenceDelegate.addReference(T,w.targetId,C)).next(()=>ne.forEach(w.Ji,C=>x.persistence.referenceDelegate.removeReference(T,w.targetId,C)))))}catch(T){if(!Rl(T))throw T;de(Pg,"Failed to update sequence numbers: "+T)}for(const T of _){const w=T.targetId;if(!T.fromCache){const C=x.Ts.get(w),D=C.snapshotVersion,q=C.withLastLimboFreeSnapshotVersion(D);x.Ts=x.Ts.insert(w,q)}}}(a.localStore,c))}async function JC(s,e){const n=Ne(s);if(!n.currentUser.isEqual(e)){de(Yg,"User change. New user:",e.toKey());const a=await FE(n.localStore,e);n.currentUser=e,function(c,d){c.Ga.forEach(m=>{m.forEach(p=>{p.reject(new fe(se.CANCELLED,d))})}),c.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await yc(n,a.Rs)}}function eI(s,e){const n=Ne(s),a=n.Ka.get(e);if(a&&a.Ba)return Me().add(a.key);{let l=Me();const c=n.qa.get(e);if(!c)return l;for(const d of c){const m=n.ka.get(d);l=l.unionWith(m.view.ba)}return l}}function oT(s){const e=Ne(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=iT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=eI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=YC.bind(null,e),e.La.p_=VC.bind(null,e.eventManager),e.La.Ja=PC.bind(null,e.eventManager),e}function tI(s){const e=Ne(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=WC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=XC.bind(null,e),e}class jh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Jh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return aC(this.persistence,new nC,e.initialUser,this.serializer)}Xa(e){return new KE(Lg.ri,this.serializer)}Za(e){return new dC}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jh.provider={build:()=>new jh};class nI extends jh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){$e(this.persistence.referenceDelegate instanceof Ch);const a=this.persistence.referenceDelegate.garbageCollector;return new Hk(a,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new KE(a=>Ch.ri(a,n),this.serializer)}}class ig{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Ux(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=JC.bind(null,this.syncEngine),await OC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new LC}()}createDatastore(e){const n=Jh(e.databaseInfo.databaseId),a=function(c){return new _C(c)}(e.databaseInfo);return function(c,d,m,p){return new EC(c,d,m,p)}(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return function(a,l,c,d,m){return new bC(a,l,c,d,m)}(this.localStore,this.datastore,e.asyncQueue,n=>Ux(this.syncEngine,n,0),function(){return Dx.D()?new Dx:new fC}())}createSyncEngine(e,n){return function(l,c,d,m,p,_,x){const T=new zC(l,c,d,m,p,_);return x&&(T.ja=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(l){const c=Ne(l);de(ir,"RemoteStore shutting down."),c.W_.add(5),await _c(c),c.z_.shutdown(),c.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}ig.provider={build:()=>new ig};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):ci("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa="FirestoreClient";class sI{constructor(e,n,a,l,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=l,this.user=Jt.UNAUTHENTICATED,this.clientId=sE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,async d=>{de(pa,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(a,d=>(de(pa,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ri;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=Kg(n,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function Im(s,e){s.asyncQueue.verifyOperationInProgress(),de(pa,"Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let a=n.initialUser;s.setCredentialChangeListener(async l=>{a.isEqual(l)||(await FE(e.localStore,l),a=l)}),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}async function Hx(s,e){s.asyncQueue.verifyOperationInProgress();const n=await iI(s);de(pa,"Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener(a=>Mx(e.remoteStore,a)),s.setAppCheckTokenChangeListener((a,l)=>Mx(e.remoteStore,l)),s._onlineComponents=e}async function iI(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){de(pa,"Using user provided OfflineComponentProvider");try{await Im(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(l){return l.name==="FirebaseError"?l.code===se.FAILED_PRECONDITION||l.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(n))throw n;ml("Error using user provided cache. Falling back to memory cache: "+n),await Im(s,new jh)}}else de(pa,"Using default OfflineComponentProvider"),await Im(s,new nI(void 0));return s._offlineComponents}async function cT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(de(pa,"Using user provided OnlineComponentProvider"),await Hx(s,s._uninitializedComponentsProvider._online)):(de(pa,"Using default OnlineComponentProvider"),await Hx(s,new ig))),s._onlineComponents}function aI(s){return cT(s).then(e=>e.syncEngine)}async function Dh(s){const e=await cT(s),n=e.eventManager;return n.onListen=qC.bind(null,e.syncEngine),n.onUnlisten=GC.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=KC.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=$C.bind(null,e.syncEngine),n}function rI(s,e,n={}){const a=new ri;return s.asyncQueue.enqueueAndForget(async()=>function(c,d,m,p,_){const x=new Xg({next:w=>{x.su(),d.enqueueAndForget(()=>Gg(c,T));const C=w.docs.has(m);!C&&w.fromCache?_.reject(new fe(se.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&w.fromCache&&p&&p.source==="server"?_.reject(new fe(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(w)},error:w=>_.reject(w)}),T=new Qg($h(m.path),x,{includeMetadataChanges:!0,Ta:!0});return Fg(c,T)}(await Dh(s),s.asyncQueue,e,n,a)),a.promise}function lI(s,e,n={}){const a=new ri;return s.asyncQueue.enqueueAndForget(async()=>function(c,d,m,p,_){const x=new Xg({next:w=>{x.su(),d.enqueueAndForget(()=>Gg(c,T)),w.fromCache&&p.source==="server"?_.reject(new fe(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(w)},error:w=>_.reject(w)}),T=new Qg(m,x,{includeMetadataChanges:!0,Ta:!0});return Fg(c,T)}(await Dh(s),s.asyncQueue,e,n,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uT(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hT(s,e,n){if(!n)throw new fe(se.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function oI(s,e,n,a){if(e===!0&&a===!0)throw new fe(se.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function qx(s){if(!ye.isDocumentKey(s))throw new fe(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Kx(s){if(ye.isDocumentKey(s))throw new fe(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function nd(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Te()}function _n(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new fe(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=nd(s);throw new fe(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT="firestore.googleapis.com",Fx=!0;class Gx{constructor(e){var n,a;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=dT,this.ssl=Fx}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Fx;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=qE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Uk)throw new fe(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}oI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=uT((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new fe(se.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new fe(se.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new fe(se.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,l){return a.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sd{constructor(e,n,a,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Gx({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Gx(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new pR;switch(a.type){case"firstParty":return new xR(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new fe(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const a=zx.get(n);a&&(de("ComponentProvider","Removing Datastore"),zx.delete(n),a.terminate())}(this),Promise.resolve()}}function cI(s,e,n,a={}){var l;const c=(s=_n(s,sd))._getSettings(),d=Object.assign(Object.assign({},c),{emulatorOptions:s._getEmulatorOptions()}),m=`${e}:${n}`;c.host!==dT&&c.host!==m&&ml("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},c),{host:m,ssl:!1,emulatorOptions:a});if(!tr(p,d)&&(s._setSettings(p),a.mockUserToken)){let _,x;if(typeof a.mockUserToken=="string")_=a.mockUserToken,x=Jt.MOCK_USER;else{_=K0(a.mockUserToken,(l=s._app)===null||l===void 0?void 0:l.options.projectId);const T=a.mockUserToken.sub||a.mockUserToken.user_id;if(!T)throw new fe(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new Jt(T)}s._authCredentials=new _R(new nE(_,x))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new hr(this.firestore,e,this._query)}}class tn{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new oa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new tn(this.firestore,e,this._key)}}class oa extends hr{constructor(e,n,a){super(e,n,$h(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new tn(this.firestore,null,new ye(e))}withConverter(e){return new oa(this.firestore,e,this._path)}}function vc(s,e,...n){if(s=nt(s),hT("collection","path",e),s instanceof sd){const a=tt.fromString(e,...n);return Kx(a),new oa(s,null,a)}{if(!(s instanceof tn||s instanceof oa))throw new fe(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(tt.fromString(e,...n));return Kx(a),new oa(s.firestore,null,a)}}function Gn(s,e,...n){if(s=nt(s),arguments.length===1&&(e=sE.newId()),hT("doc","path",e),s instanceof sd){const a=tt.fromString(e,...n);return qx(a),new tn(s,null,new ye(a))}{if(!(s instanceof tn||s instanceof oa))throw new fe(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(tt.fromString(e,...n));return qx(a),new tn(s.firestore,s instanceof oa?s.converter:null,new ye(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $x="AsyncQueue";class Qx{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new $E(this,"async_queue_retry"),this.bu=()=>{const a=Cm();a&&de($x,"Visibility state changed to "+a.visibilityState),this.a_.t_()},this.Su=e;const n=Cm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=Cm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new ri;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Rl(e))throw e;de($x,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.Su.then(()=>(this.pu=!0,e().catch(a=>{this.gu=a,this.pu=!1;const l=function(d){let m=d.message||"";return d.stack&&(m=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),m}(a);throw ci("INTERNAL UNHANDLED ERROR: ",l),a}).then(a=>(this.pu=!1,a))));return this.Su=n,n}enqueueAfterDelay(e,n,a){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const l=qg.createAndSchedule(this,e,n,a,c=>this.Fu(c));return this.fu.push(l),l}Du(){this.gu&&Te()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,a)=>n.targetTimeMs-a.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}function Yx(s){return function(n,a){if(typeof n!="object"||n===null)return!1;const l=n;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1}(s,["next","error","complete"])}class hi extends sd{constructor(e,n,a,l){super(e,n,a,l),this.type="firestore",this._queue=new Qx,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Qx(e),this._firestoreClient=void 0,await e}}}function uI(s,e){const n=typeof s=="object"?s:bg(),a=typeof s=="string"?s:bh,l=qh(n,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=H0("firestore");c&&cI(l,...c)}return l}function id(s){if(s._terminated)throw new fe(se.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||hI(s),s._firestoreClient}function hI(s){var e,n,a;const l=s._freezeSettings(),c=function(m,p,_,x){return new OR(m,p,_,x.host,x.ssl,x.experimentalForceLongPolling,x.experimentalAutoDetectLongPolling,uT(x.experimentalLongPollingOptions),x.useFetchStreams)}(s._databaseId,((e=s._app)===null||e===void 0?void 0:e.options.appId)||"",s._persistenceKey,l);s._componentsProvider||!((n=l.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((a=l.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(s._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),s._firestoreClient=new sI(s._authCredentials,s._appCheckCredentials,s._queue,c,s._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xl(Qt.fromBase64String(e))}catch(n){throw new fe(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new xl(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI=/^__.*__$/;class fI{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return this.fieldMask!==null?new ya(e,this.data,this.fieldMask,n,this.fieldTransforms):new gc(e,this.data,n,this.fieldTransforms)}}class fT{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return new ya(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function mT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te()}}class tp{constructor(e,n,a,l,c,d){this.settings=e,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Bu(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new tp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(e),l=this.ku({path:a,Qu:!1});return l.$u(e),l}Ku(e){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(e),l=this.ku({path:a,Qu:!1});return l.Bu(),l}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Oh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(mT(this.Lu)&&dI.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class mI{constructor(e,n,a){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=a||Jh(e)}ju(e,n,a,l=!1){return new tp({Lu:e,methodName:n,zu:a,path:$t.emptyPath(),Qu:!1,Gu:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function rd(s){const e=s._freezeSettings(),n=Jh(s._databaseId);return new mI(s._databaseId,!!e.ignoreUndefinedProperties,n)}function gT(s,e,n,a,l,c={}){const d=s.ju(c.merge||c.mergeFields?2:0,e,n,l);np("Data must be an object, but it was:",d,a);const m=pT(a,d);let p,_;if(c.merge)p=new Sn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const x=[];for(const T of c.mergeFields){const w=ag(e,T,n);if(!d.contains(w))throw new fe(se.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);yT(x,w)||x.push(w)}p=new Sn(x),_=d.fieldTransforms.filter(T=>p.covers(T.field))}else p=null,_=d.fieldTransforms;return new fI(new pn(m),p,_)}class ld extends Zg{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ld}}function gI(s,e,n,a){const l=s.ju(1,e,n);np("Data must be an object, but it was:",l,a);const c=[],d=pn.empty();_a(a,(p,_)=>{const x=sp(e,p,n);_=nt(_);const T=l.Ku(x);if(_ instanceof ld)c.push(x);else{const w=xc(_,T);w!=null&&(c.push(x),d.set(x,w))}});const m=new Sn(c);return new fT(d,m,l.fieldTransforms)}function pI(s,e,n,a,l,c){const d=s.ju(1,e,n),m=[ag(e,a,n)],p=[l];if(c.length%2!=0)throw new fe(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<c.length;w+=2)m.push(ag(e,c[w])),p.push(c[w+1]);const _=[],x=pn.empty();for(let w=m.length-1;w>=0;--w)if(!yT(_,m[w])){const C=m[w];let D=p[w];D=nt(D);const q=d.Ku(C);if(D instanceof ld)_.push(C);else{const M=xc(D,q);M!=null&&(_.push(C),x.set(C,M))}}const T=new Sn(_);return new fT(x,T,d.fieldTransforms)}function _I(s,e,n,a=!1){return xc(n,s.ju(a?4:3,e))}function xc(s,e){if(_T(s=nt(s)))return np("Unsupported field value:",e,s),pT(s,e);if(s instanceof Zg)return function(a,l){if(!mT(l.Lu))throw l.Wu(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Wu(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)}(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(a,l){const c=[];let d=0;for(const m of a){let p=xc(m,l.Uu(d));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),d++}return{arrayValue:{values:c}}}(s,e)}return function(a,l){if((a=nt(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return sk(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=jt.fromDate(a);return{timestampValue:kh(l.serializer,c)}}if(a instanceof jt){const c=new jt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:kh(l.serializer,c)}}if(a instanceof Jg)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof xl)return{bytesValue:LE(l.serializer,a._byteString)};if(a instanceof tn){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Wu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Og(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof ep)return function(d,m){return{mapValue:{fields:{[hE]:{stringValue:dE},[Ah]:{arrayValue:{values:d.toArray().map(_=>{if(typeof _!="number")throw m.Wu("VectorValues must only contain numeric values.");return Cg(m.serializer,_)})}}}}}}(a,l);throw l.Wu(`Unsupported field value: ${nd(a)}`)}(s,e)}function pT(s,e){const n={};return aE(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_a(s,(a,l)=>{const c=xc(l,e.qu(a));c!=null&&(n[a]=c)}),{mapValue:{fields:n}}}function _T(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof jt||s instanceof Jg||s instanceof xl||s instanceof tn||s instanceof Zg||s instanceof ep)}function np(s,e,n){if(!_T(n)||!function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}(n)){const a=nd(n);throw a==="an object"?e.Wu(s+" a custom object"):e.Wu(s+" "+a)}}function ag(s,e,n){if((e=nt(e))instanceof ad)return e._internalPath;if(typeof e=="string")return sp(s,e);throw Oh("Field path arguments must be of type string or ",s,!1,void 0,n)}const yI=new RegExp("[~\\*/\\[\\]]");function sp(s,e,n){if(e.search(yI)>=0)throw Oh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new ad(...e.split("."))._internalPath}catch{throw Oh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function Oh(s,e,n,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(c||d)&&(p+=" (found",c&&(p+=` in field ${a}`),d&&(p+=` in document ${l}`),p+=")"),new fe(se.INVALID_ARGUMENT,m+s+p)}function yT(s,e){return s.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(e,n,a,l,c){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new vI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ip("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class vI extends vT{data(){return super.data()}}function ip(s,e){return typeof e=="string"?sp(s,e):e instanceof ad?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xT(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new fe(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ap{}class xI extends ap{}function Ho(s,e,...n){let a=[];e instanceof ap&&a.push(e),a=a.concat(n),function(c){const d=c.filter(p=>p instanceof rp).length,m=c.filter(p=>p instanceof od).length;if(d>1||d>0&&m>0)throw new fe(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const l of a)s=l._apply(s);return s}class od extends xI{constructor(e,n,a){super(),this._field=e,this._op=n,this._value=a,this.type="where"}static _create(e,n,a){return new od(e,n,a)}_apply(e){const n=this._parse(e);return ET(e._query,n),new hr(e.firestore,e.converter,Qm(e._query,n))}_parse(e){const n=rd(e.firestore);return function(c,d,m,p,_,x,T){let w;if(_.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new fe(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){Xx(T,x);const D=[];for(const q of T)D.push(Wx(p,c,q));w={arrayValue:{values:D}}}else w=Wx(p,c,T)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||Xx(T,x),w=_I(m,d,T,x==="in"||x==="not-in");return At.create(_,x,w)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function th(s,e,n){const a=e,l=ip("where",s);return od._create(l,a,n)}class rp extends ap{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new rp(e,n)}_parse(e){const n=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return n.length===1?n[0]:es.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(l,c){let d=l;const m=c.getFlattenedFilters();for(const p of m)ET(d,p),d=Qm(d,p)}(e._query,n),new hr(e.firestore,e.converter,Qm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Wx(s,e,n){if(typeof(n=nt(n))=="string"){if(n==="")throw new fe(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!xE(e)&&n.indexOf("/")!==-1)throw new fe(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=e.path.child(tt.fromString(n));if(!ye.isDocumentKey(a))throw new fe(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return hx(s,new ye(a))}if(n instanceof tn)return hx(s,n._key);throw new fe(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${nd(n)}.`)}function Xx(s,e){if(!Array.isArray(s)||s.length===0)throw new fe(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ET(s,e){const n=function(l,c){for(const d of l)for(const m of d.getFlattenedFilters())if(c.indexOf(m.op)>=0)return m.op;return null}(s.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new fe(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class EI{convertValue(e,n="none"){switch(ma(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(fa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return _a(e,(l,c)=>{a[l]=this.convertValue(c,n)}),a}convertVectorValue(e){var n,a,l;const c=(l=(a=(n=e.fields)===null||n===void 0?void 0:n[Ah].arrayValue)===null||a===void 0?void 0:a.values)===null||l===void 0?void 0:l.map(d=>yt(d.doubleValue));return new ep(c)}convertGeoPoint(e){return new Jg(yt(e.latitude),yt(e.longitude))}convertArray(e,n){return(e.values||[]).map(a=>this.convertValue(a,n))}convertServerTimestamp(e,n){switch(n){case"previous":const a=Gh(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(ic(e));default:return null}}convertTimestamp(e){const n=da(e);return new jt(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=tt.fromString(e);$e(zE(a));const l=new ac(a.get(1),a.get(3)),c=new ye(a.popFirst(5));return l.isEqual(n)||ci(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TT(s,e,n){let a;return a=s?n&&(n.merge||n.mergeFields)?s.toFirestore(e,n):s.toFirestore(e):e,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class bT extends vT{constructor(e,n,a,l,c,d){super(e,n,a,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new fh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(ip("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}}class fh extends bT{data(e={}){return super.data(e)}}class AT{constructor(e,n,a,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new Qo(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(a=>{e.call(n,new fh(this._firestore,this._userDataWriter,a.key,a,new Qo(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map(m=>{const p=new fh(l._firestore,l._userDataWriter,m.doc.key,m.doc,new Qo(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}})}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(m=>c||m.type!==3).map(m=>{const p=new fh(l._firestore,l._userDataWriter,m.doc.key,m.doc,new Qo(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,x=-1;return m.type!==0&&(_=d.indexOf(m.doc.key),d=d.delete(m.doc.key)),m.type!==1&&(d=d.add(m.doc),x=d.indexOf(m.doc.key)),{type:TI(m.type),doc:p,oldIndex:_,newIndex:x}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function TI(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cd(s){s=_n(s,tn);const e=_n(s.firestore,hi);return rI(id(e),s._key).then(n=>ST(e,s,n))}class lp extends EI{constructor(e){super(),this.firestore=e}convertBytes(e){return new xl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new tn(this.firestore,null,n)}}function op(s){s=_n(s,hr);const e=_n(s.firestore,hi),n=id(e),a=new lp(e);return xT(s._query),lI(n,s._query).then(l=>new AT(e,a,s,l))}function Ec(s,e,n){s=_n(s,tn);const a=_n(s.firestore,hi),l=TT(s.converter,e,n);return ud(a,[gT(rd(a),"setDoc",s._key,l,s.converter!==null,n).toMutation(s._key,Fn.none())])}function bI(s,e,n,...a){s=_n(s,tn);const l=_n(s.firestore,hi),c=rd(l);let d;return d=typeof(e=nt(e))=="string"||e instanceof ad?pI(c,"updateDoc",s._key,e,n,a):gI(c,"updateDoc",s._key,e),ud(l,[d.toMutation(s._key,Fn.exists(!0))])}function wT(s){return ud(_n(s.firestore,hi),[new Ig(s._key,Fn.none())])}function AI(s,e){const n=_n(s.firestore,hi),a=Gn(s),l=TT(s.converter,e);return ud(n,[gT(rd(s.firestore),"addDoc",a._key,l,s.converter!==null,{}).toMutation(a._key,Fn.exists(!1))]).then(()=>a)}function wI(s,...e){var n,a,l;s=nt(s);let c={includeMetadataChanges:!1,source:"default"},d=0;typeof e[d]!="object"||Yx(e[d])||(c=e[d],d++);const m={includeMetadataChanges:c.includeMetadataChanges,source:c.source};if(Yx(e[d])){const T=e[d];e[d]=(n=T.next)===null||n===void 0?void 0:n.bind(T),e[d+1]=(a=T.error)===null||a===void 0?void 0:a.bind(T),e[d+2]=(l=T.complete)===null||l===void 0?void 0:l.bind(T)}let p,_,x;if(s instanceof tn)_=_n(s.firestore,hi),x=$h(s._key.path),p={next:T=>{e[d]&&e[d](ST(_,s,T))},error:e[d+1],complete:e[d+2]};else{const T=_n(s,hr);_=_n(T.firestore,hi),x=T._query;const w=new lp(_);p={next:C=>{e[d]&&e[d](new AT(_,w,T,C))},error:e[d+1],complete:e[d+2]},xT(s._query)}return function(w,C,D,q){const M=new Xg(q),z=new Qg(C,M,D);return w.asyncQueue.enqueueAndForget(async()=>Fg(await Dh(w),z)),()=>{M.su(),w.asyncQueue.enqueueAndForget(async()=>Gg(await Dh(w),z))}}(id(_),x,m,p)}function ud(s,e){return function(a,l){const c=new ri;return a.asyncQueue.enqueueAndForget(async()=>QC(await aI(a),l,c)),c.promise}(id(s),e)}function ST(s,e,n){const a=n.docs.get(e._key),l=new lp(s);return new bT(s,l,e._key,a,new Qo(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(l){Sl=l})(or),nr(new ua("firestore",(a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),m=new hi(new yR(a.getProvider("auth-internal")),new ER(d,a.getProvider("app-check-internal")),function(_,x){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new fe(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ac(_.options.projectId,x)}(d,l),d);return c=Object.assign({useFetchStreams:n},c),m._setSettings(c),m},"PUBLIC").setMultipleInstances(!0)),Ts(ex,tx,e),Ts(ex,tx,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT="firebasestorage.googleapis.com",RT="storageBucket",SI=2*60*1e3,NI=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt extends Rs{constructor(e,n,a=0){super(jm(e),`Firebase Storage: ${n} (${jm(e)})`),this.status_=a,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,gt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return jm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var mt;(function(s){s.UNKNOWN="unknown",s.OBJECT_NOT_FOUND="object-not-found",s.BUCKET_NOT_FOUND="bucket-not-found",s.PROJECT_NOT_FOUND="project-not-found",s.QUOTA_EXCEEDED="quota-exceeded",s.UNAUTHENTICATED="unauthenticated",s.UNAUTHORIZED="unauthorized",s.UNAUTHORIZED_APP="unauthorized-app",s.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",s.INVALID_CHECKSUM="invalid-checksum",s.CANCELED="canceled",s.INVALID_EVENT_NAME="invalid-event-name",s.INVALID_URL="invalid-url",s.INVALID_DEFAULT_BUCKET="invalid-default-bucket",s.NO_DEFAULT_BUCKET="no-default-bucket",s.CANNOT_SLICE_BLOB="cannot-slice-blob",s.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",s.NO_DOWNLOAD_URL="no-download-url",s.INVALID_ARGUMENT="invalid-argument",s.INVALID_ARGUMENT_COUNT="invalid-argument-count",s.APP_DELETED="app-deleted",s.INVALID_ROOT_OPERATION="invalid-root-operation",s.INVALID_FORMAT="invalid-format",s.INTERNAL_ERROR="internal-error",s.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(mt||(mt={}));function jm(s){return"storage/"+s}function cp(){const s="An unknown error occurred, please check the error payload for server response.";return new gt(mt.UNKNOWN,s)}function RI(s){return new gt(mt.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")}function kI(s){return new gt(mt.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function CI(){const s="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new gt(mt.UNAUTHENTICATED,s)}function II(){return new gt(mt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function jI(s){return new gt(mt.UNAUTHORIZED,"User does not have permission to access '"+s+"'.")}function DI(){return new gt(mt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function OI(){return new gt(mt.CANCELED,"User canceled the upload/download.")}function MI(s){return new gt(mt.INVALID_URL,"Invalid URL '"+s+"'.")}function LI(s){return new gt(mt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+s+"'.")}function VI(){return new gt(mt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+RT+"' property when initializing the app?")}function PI(){return new gt(mt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function UI(){return new gt(mt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function BI(s){return new gt(mt.UNSUPPORTED_ENVIRONMENT,`${s} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function rg(s){return new gt(mt.INVALID_ARGUMENT,s)}function kT(){return new gt(mt.APP_DELETED,"The Firebase app was deleted.")}function HI(s){return new gt(mt.INVALID_ROOT_OPERATION,"The operation '"+s+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Jo(s,e){return new gt(mt.INVALID_FORMAT,"String does not match format '"+s+"': "+e)}function zo(s){throw new gt(mt.INTERNAL_ERROR,"Internal error: "+s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let a;try{a=Nn.makeFromUrl(e,n)}catch{return new Nn(e,"")}if(a.path==="")return a;throw LI(e)}static makeFromUrl(e,n){let a=null;const l="([A-Za-z0-9.\\-_]+)";function c(J){J.path.charAt(J.path.length-1)==="/"&&(J.path_=J.path_.slice(0,-1))}const d="(/(.*))?$",m=new RegExp("^gs://"+l+d,"i"),p={bucket:1,path:3};function _(J){J.path_=decodeURIComponent(J.path)}const x="v[A-Za-z0-9_]+",T=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",C=new RegExp(`^https?://${T}/${x}/b/${l}/o${w}`,"i"),D={bucket:1,path:3},q=n===NT?"(?:storage.googleapis.com|storage.cloud.google.com)":n,M="([^?#]*)",z=new RegExp(`^https?://${q}/${l}/${M}`,"i"),Q=[{regex:m,indices:p,postModify:c},{regex:C,indices:D,postModify:_},{regex:z,indices:{bucket:1,path:2},postModify:_}];for(let J=0;J<Q.length;J++){const te=Q[J],ce=te.regex.exec(e);if(ce){const L=ce[te.indices.bucket];let N=ce[te.indices.path];N||(N=""),a=new Nn(L,N),te.postModify(a);break}}if(a==null)throw MI(e);return a}}class zI{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qI(s,e,n){let a=1,l=null,c=null,d=!1,m=0;function p(){return m===2}let _=!1;function x(...M){_||(_=!0,e.apply(null,M))}function T(M){l=setTimeout(()=>{l=null,s(C,p())},M)}function w(){c&&clearTimeout(c)}function C(M,...z){if(_){w();return}if(M){w(),x.call(null,M,...z);return}if(p()||d){w(),x.call(null,M,...z);return}a<64&&(a*=2);let Q;m===1?(m=2,Q=0):Q=(a+Math.random())*1e3,T(Q)}let D=!1;function q(M){D||(D=!0,w(),!_&&(l!==null?(M||(m=2),clearTimeout(l),T(0)):M||(m=1)))}return T(0),c=setTimeout(()=>{d=!0,q(!0)},n),q}function KI(s){s(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FI(s){return s!==void 0}function GI(s){return typeof s=="object"&&!Array.isArray(s)}function up(s){return typeof s=="string"||s instanceof String}function Zx(s){return hp()&&s instanceof Blob}function hp(){return typeof Blob<"u"}function Jx(s,e,n,a){if(a<e)throw rg(`Invalid value for '${s}'. Expected ${e} or greater.`);if(a>n)throw rg(`Invalid value for '${s}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hd(s,e,n){let a=e;return n==null&&(a=`https://${e}`),`${n}://${a}/v0${s}`}function CT(s){const e=encodeURIComponent;let n="?";for(const a in s)if(s.hasOwnProperty(a)){const l=e(a)+"="+e(s[a]);n=n+l+"&"}return n=n.slice(0,-1),n}var er;(function(s){s[s.NO_ERROR=0]="NO_ERROR",s[s.NETWORK_ERROR=1]="NETWORK_ERROR",s[s.ABORT=2]="ABORT"})(er||(er={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $I(s,e){const n=s>=500&&s<600,l=[408,429].indexOf(s)!==-1,c=e.indexOf(s)!==-1;return n||l||c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(e,n,a,l,c,d,m,p,_,x,T,w=!0){this.url_=e,this.method_=n,this.headers_=a,this.body_=l,this.successCodes_=c,this.additionalRetryCodes_=d,this.callback_=m,this.errorCallback_=p,this.timeout_=_,this.progressCallback_=x,this.connectionFactory_=T,this.retry=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,D)=>{this.resolve_=C,this.reject_=D,this.start_()})}start_(){const e=(a,l)=>{if(l){a(!1,new nh(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const d=m=>{const p=m.loaded,_=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,_)};this.progressCallback_!==null&&c.addUploadProgressListener(d),c.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(d),this.pendingConnection_=null;const m=c.getErrorCode()===er.NO_ERROR,p=c.getStatus();if(!m||$I(p,this.additionalRetryCodes_)&&this.retry){const x=c.getErrorCode()===er.ABORT;a(!1,new nh(!1,null,x));return}const _=this.successCodes_.indexOf(p)!==-1;a(!0,new nh(_,c))})},n=(a,l)=>{const c=this.resolve_,d=this.reject_,m=l.connection;if(l.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());FI(p)?c(p):c()}catch(p){d(p)}else if(m!==null){const p=cp();p.serverResponse=m.getErrorText(),this.errorCallback_?d(this.errorCallback_(m,p)):d(p)}else if(l.canceled){const p=this.appDelete_?kT():OI();d(p)}else{const p=DI();d(p)}};this.canceled_?n(!1,new nh(!1,null,!0)):this.backoffId_=qI(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&KI(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class nh{constructor(e,n,a){this.wasSuccessCode=e,this.connection=n,this.canceled=!!a}}function YI(s,e){e!==null&&e.length>0&&(s.Authorization="Firebase "+e)}function WI(s,e){s["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function XI(s,e){e&&(s["X-Firebase-GMPID"]=e)}function ZI(s,e){e!==null&&(s["X-Firebase-AppCheck"]=e)}function JI(s,e,n,a,l,c,d=!0){const m=CT(s.urlParams),p=s.url+m,_=Object.assign({},s.headers);return XI(_,e),YI(_,n),WI(_,c),ZI(_,a),new QI(p,s.method,_,s.body,s.successCodes,s.additionalRetryCodes,s.handler,s.errorHandler,s.timeout,s.progressCallback,l,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e1(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function t1(...s){const e=e1();if(e!==void 0){const n=new e;for(let a=0;a<s.length;a++)n.append(s[a]);return n.getBlob()}else{if(hp())return new Blob(s);throw new gt(mt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function n1(s,e,n){return s.webkitSlice?s.webkitSlice(e,n):s.mozSlice?s.mozSlice(e,n):s.slice?s.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(s){if(typeof atob>"u")throw BI("base-64");return atob(s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Dm{constructor(e,n){this.data=e,this.contentType=n||null}}function i1(s,e){switch(s){case Es.RAW:return new Dm(IT(e));case Es.BASE64:case Es.BASE64URL:return new Dm(jT(s,e));case Es.DATA_URL:return new Dm(r1(e),l1(e))}throw cp()}function IT(s){const e=[];for(let n=0;n<s.length;n++){let a=s.charCodeAt(n);if(a<=127)e.push(a);else if(a<=2047)e.push(192|a>>6,128|a&63);else if((a&64512)===55296)if(!(n<s.length-1&&(s.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const c=a,d=s.charCodeAt(++n);a=65536|(c&1023)<<10|d&1023,e.push(240|a>>18,128|a>>12&63,128|a>>6&63,128|a&63)}else(a&64512)===56320?e.push(239,191,189):e.push(224|a>>12,128|a>>6&63,128|a&63)}return new Uint8Array(e)}function a1(s){let e;try{e=decodeURIComponent(s)}catch{throw Jo(Es.DATA_URL,"Malformed data URL.")}return IT(e)}function jT(s,e){switch(s){case Es.BASE64:{const l=e.indexOf("-")!==-1,c=e.indexOf("_")!==-1;if(l||c)throw Jo(s,"Invalid character '"+(l?"-":"_")+"' found: is it base64url encoded?");break}case Es.BASE64URL:{const l=e.indexOf("+")!==-1,c=e.indexOf("/")!==-1;if(l||c)throw Jo(s,"Invalid character '"+(l?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=s1(e)}catch(l){throw l.message.includes("polyfill")?l:Jo(s,"Invalid character found")}const a=new Uint8Array(n.length);for(let l=0;l<n.length;l++)a[l]=n.charCodeAt(l);return a}class DT{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Jo(Es.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const a=n[1]||null;a!=null&&(this.base64=o1(a,";base64"),this.contentType=this.base64?a.substring(0,a.length-7):a),this.rest=e.substring(e.indexOf(",")+1)}}function r1(s){const e=new DT(s);return e.base64?jT(Es.BASE64,e.rest):a1(e.rest)}function l1(s){return new DT(s).contentType}function o1(s,e){return s.length>=e.length?s.substring(s.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e,n){let a=0,l="";Zx(e)?(this.data_=e,a=e.size,l=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),a=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),a=e.length),this.size_=a,this.type_=l}size(){return this.size_}type(){return this.type_}slice(e,n){if(Zx(this.data_)){const a=this.data_,l=n1(a,e,n);return l===null?null:new Ji(l)}else{const a=new Uint8Array(this.data_.buffer,e,n-e);return new Ji(a,!0)}}static getBlob(...e){if(hp()){const n=e.map(a=>a instanceof Ji?a.data_:a);return new Ji(t1.apply(null,n))}else{const n=e.map(d=>up(d)?i1(Es.RAW,d).data:d.data_);let a=0;n.forEach(d=>{a+=d.byteLength});const l=new Uint8Array(a);let c=0;return n.forEach(d=>{for(let m=0;m<d.length;m++)l[c++]=d[m]}),new Ji(l,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OT(s){let e;try{e=JSON.parse(s)}catch{return null}return GI(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1(s){if(s.length===0)return null;const e=s.lastIndexOf("/");return e===-1?"":s.slice(0,e)}function u1(s,e){const n=e.split("/").filter(a=>a.length>0).join("/");return s.length===0?n:s+"/"+n}function MT(s){const e=s.lastIndexOf("/",s.length-2);return e===-1?s:s.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h1(s,e){return e}class hn{constructor(e,n,a,l){this.server=e,this.local=n||e,this.writable=!!a,this.xform=l||h1}}let sh=null;function d1(s){return!up(s)||s.length<2?s:MT(s)}function LT(){if(sh)return sh;const s=[];s.push(new hn("bucket")),s.push(new hn("generation")),s.push(new hn("metageneration")),s.push(new hn("name","fullPath",!0));function e(c,d){return d1(d)}const n=new hn("name");n.xform=e,s.push(n);function a(c,d){return d!==void 0?Number(d):d}const l=new hn("size");return l.xform=a,s.push(l),s.push(new hn("timeCreated")),s.push(new hn("updated")),s.push(new hn("md5Hash",null,!0)),s.push(new hn("cacheControl",null,!0)),s.push(new hn("contentDisposition",null,!0)),s.push(new hn("contentEncoding",null,!0)),s.push(new hn("contentLanguage",null,!0)),s.push(new hn("contentType",null,!0)),s.push(new hn("metadata","customMetadata",!0)),sh=s,sh}function f1(s,e){function n(){const a=s.bucket,l=s.fullPath,c=new Nn(a,l);return e._makeStorageReference(c)}Object.defineProperty(s,"ref",{get:n})}function m1(s,e,n){const a={};a.type="file";const l=n.length;for(let c=0;c<l;c++){const d=n[c];a[d.local]=d.xform(a,e[d.server])}return f1(a,s),a}function VT(s,e,n){const a=OT(e);return a===null?null:m1(s,a,n)}function g1(s,e,n,a){const l=OT(e);if(l===null||!up(l.downloadTokens))return null;const c=l.downloadTokens;if(c.length===0)return null;const d=encodeURIComponent;return c.split(",").map(_=>{const x=s.bucket,T=s.fullPath,w="/b/"+d(x)+"/o/"+d(T),C=hd(w,n,a),D=CT({alt:"media",token:_});return C+D})[0]}function p1(s,e){const n={},a=e.length;for(let l=0;l<a;l++){const c=e[l];c.writable&&(n[c.server]=s[c.local])}return JSON.stringify(n)}class dp{constructor(e,n,a,l){this.url=e,this.method=n,this.handler=a,this.timeout=l,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(s){if(!s)throw cp()}function _1(s,e){function n(a,l){const c=VT(s,l,e);return PT(c!==null),c}return n}function y1(s,e){function n(a,l){const c=VT(s,l,e);return PT(c!==null),g1(c,l,s.host,s._protocol)}return n}function UT(s){function e(n,a){let l;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?l=II():l=CI():n.getStatus()===402?l=kI(s.bucket):n.getStatus()===403?l=jI(s.path):l=a,l.status=n.getStatus(),l.serverResponse=a.serverResponse,l}return e}function BT(s){const e=UT(s);function n(a,l){let c=e(a,l);return a.getStatus()===404&&(c=RI(s.path)),c.serverResponse=l.serverResponse,c}return n}function v1(s,e,n){const a=e.fullServerUrl(),l=hd(a,s.host,s._protocol),c="GET",d=s.maxOperationRetryTime,m=new dp(l,c,y1(s,n),d);return m.errorHandler=BT(e),m}function x1(s,e){const n=e.fullServerUrl(),a=hd(n,s.host,s._protocol),l="DELETE",c=s.maxOperationRetryTime;function d(p,_){}const m=new dp(a,l,d,c);return m.successCodes=[200,204],m.errorHandler=BT(e),m}function E1(s,e){return s&&s.contentType||e&&e.type()||"application/octet-stream"}function T1(s,e,n){const a=Object.assign({},n);return a.fullPath=s.path,a.size=e.size(),a.contentType||(a.contentType=E1(null,e)),a}function b1(s,e,n,a,l){const c=e.bucketOnlyServerUrl(),d={"X-Goog-Upload-Protocol":"multipart"};function m(){let Q="";for(let J=0;J<2;J++)Q=Q+Math.random().toString().slice(2);return Q}const p=m();d["Content-Type"]="multipart/related; boundary="+p;const _=T1(e,a,l),x=p1(_,n),T="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+x+`\r
--`+p+`\r
Content-Type: `+_.contentType+`\r
\r
`,w=`\r
--`+p+"--",C=Ji.getBlob(T,a,w);if(C===null)throw PI();const D={name:_.fullPath},q=hd(c,s.host,s._protocol),M="POST",z=s.maxUploadRetryTime,G=new dp(q,M,_1(s,n),z);return G.urlParams=D,G.headers=d,G.body=C.uploadData(),G.errorHandler=UT(e),G}class A1{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=er.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=er.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=er.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,a,l){if(this.sent_)throw zo("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),l!==void 0)for(const c in l)l.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,l[c].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw zo("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw zo("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw zo("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw zo("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class w1 extends A1{initXhr(){this.xhr_.responseType="text"}}function fp(){return new w1}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e,n){this._service=e,n instanceof Nn?this._location=n:this._location=Nn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ar(e,n)}get root(){const e=new Nn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return MT(this._location.path)}get storage(){return this._service}get parent(){const e=c1(this._location.path);if(e===null)return null;const n=new Nn(this._location.bucket,e);return new ar(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw HI(e)}}function S1(s,e,n){s._throwIfRoot("uploadBytes");const a=b1(s.storage,s._location,LT(),new Ji(e,!0),n);return s.storage.makeRequestWithTokens(a,fp).then(l=>({metadata:l,ref:s}))}function N1(s){s._throwIfRoot("getDownloadURL");const e=v1(s.storage,s._location,LT());return s.storage.makeRequestWithTokens(e,fp).then(n=>{if(n===null)throw UI();return n})}function R1(s){s._throwIfRoot("deleteObject");const e=x1(s.storage,s._location);return s.storage.makeRequestWithTokens(e,fp)}function k1(s,e){const n=u1(s._location.path,e),a=new Nn(s._location.bucket,n);return new ar(s.storage,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C1(s){return/^[A-Za-z]+:\/\//.test(s)}function I1(s,e){return new ar(s,e)}function HT(s,e){if(s instanceof mp){const n=s;if(n._bucket==null)throw VI();const a=new ar(n,n._bucket);return e!=null?HT(a,e):a}else return e!==void 0?k1(s,e):s}function j1(s,e){if(e&&C1(e)){if(s instanceof mp)return I1(s,e);throw rg("To use ref(service, url), the first argument must be a Storage instance.")}else return HT(s,e)}function e0(s,e){const n=e==null?void 0:e[RT];return n==null?null:Nn.makeFromBucketSpec(n,s)}function D1(s,e,n,a={}){s.host=`${e}:${n}`,s._protocol="http";const{mockUserToken:l}=a;l&&(s._overrideAuthToken=typeof l=="string"?l:K0(l,s.app.options.projectId))}class mp{constructor(e,n,a,l,c){this.app=e,this._authProvider=n,this._appCheckProvider=a,this._url=l,this._firebaseVersion=c,this._bucket=null,this._host=NT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=SI,this._maxUploadRetryTime=NI,this._requests=new Set,l!=null?this._bucket=Nn.makeFromBucketSpec(l,this._host):this._bucket=e0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Nn.makeFromBucketSpec(this._url,e):this._bucket=e0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Jx("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Jx("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ar(this,e)}_makeRequest(e,n,a,l,c=!0){if(this._deleted)return new zI(kT());{const d=JI(e,this._appId,a,l,n,this._firebaseVersion,c);return this._requests.add(d),d.getPromise().then(()=>this._requests.delete(d),()=>this._requests.delete(d)),d}}async makeRequestWithTokens(e,n){const[a,l]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,a,l).getPromise()}}const t0="@firebase/storage",n0="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT="storage";function qT(s,e,n){return s=nt(s),S1(s,e,n)}function O1(s){return s=nt(s),N1(s)}function gp(s){return s=nt(s),R1(s)}function Tc(s,e){return s=nt(s),j1(s,e)}function KT(s=bg(),e){s=nt(s);const a=qh(s,zT).getImmediate({identifier:e}),l=H0("storage");return l&&M1(a,...l),a}function M1(s,e,n,a={}){D1(s,e,n,a)}function L1(s,{instanceIdentifier:e}){const n=s.getProvider("app").getImmediate(),a=s.getProvider("auth-internal"),l=s.getProvider("app-check-internal");return new mp(n,a,l,e,or)}function V1(){nr(new ua(zT,L1,"PUBLIC").setMultipleInstances(!0)),Ts(t0,n0,""),Ts(t0,n0,"esm2017")}V1();function pp(s,e){var n={};for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&e.indexOf(a)<0&&(n[a]=s[a]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(s);l<a.length;l++)e.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(s,a[l])&&(n[a[l]]=s[a[l]]);return n}function FT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const P1=FT,GT=new dc("auth","Firebase",FT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh=new Eg("@firebase/auth");function U1(s,...e){Mh.logLevel<=Oe.WARN&&Mh.warn(`Auth (${or}): ${s}`,...e)}function mh(s,...e){Mh.logLevel<=Oe.ERROR&&Mh.error(`Auth (${or}): ${s}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(s,...e){throw _p(s,...e)}function ws(s,...e){return _p(s,...e)}function $T(s,e,n){const a=Object.assign(Object.assign({},P1()),{[e]:n});return new dc("auth","Firebase",a).create(e,{appName:s.name})}function li(s){return $T(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _p(s,...e){if(typeof s!="string"){const n=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(n,...a)}return GT.create(s,...e)}function Ee(s,e,...n){if(!s)throw _p(e,...n)}function ni(s){const e="INTERNAL ASSERTION FAILED: "+s;throw mh(e),new Error(e)}function di(s,e){s||ni(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lg(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.href)||""}function B1(){return s0()==="http:"||s0()==="https:"}function s0(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(B1()||$S()||"connection"in navigator)?navigator.onLine:!0}function z1(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,n){this.shortDelay=e,this.longDelay=n,di(n>e,"Short delay should be less than long delay!"),this.isMobile=KS()||QS()}get(){return H1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yp(s,e){di(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{static initialize(e,n,a){this.fetchImpl=e,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ni("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ni("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ni("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1=new bc(3e4,6e4);function va(s,e){return s.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:s.tenantId}):e}async function mi(s,e,n,a,l={}){return YT(s,l,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const m=fc(Object.assign({key:s.config.apiKey},d)).slice(1),p=await s._getAdditionalHeaders();p["Content-Type"]="application/json",s.languageCode&&(p["X-Firebase-Locale"]=s.languageCode);const _=Object.assign({method:e,headers:p},c);return GS()||(_.referrerPolicy="no-referrer"),QT.fetch()(WT(s,s.config.apiHost,n,m),_)})}async function YT(s,e,n){s._canInitEmulator=!1;const a=Object.assign(Object.assign({},q1),e);try{const l=new G1(s),c=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw ih(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const m=c.ok?d.errorMessage:d.error.message,[p,_]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw ih(s,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw ih(s,"email-already-in-use",d);if(p==="USER_DISABLED")throw ih(s,"user-disabled",d);const x=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw $T(s,x,_);ts(s,x)}}catch(l){if(l instanceof Rs)throw l;ts(s,"network-request-failed",{message:String(l)})}}async function Ac(s,e,n,a,l={}){const c=await mi(s,e,n,a,l);return"mfaPendingCredential"in c&&ts(s,"multi-factor-auth-required",{_serverResponse:c}),c}function WT(s,e,n,a){const l=`${e}${n}?${a}`;return s.config.emulator?yp(s.config,l):`${s.config.apiScheme}://${l}`}function F1(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class G1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(ws(this.auth,"network-request-failed")),K1.get())})}}function ih(s,e,n){const a={appName:s.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const l=ws(s,e,a);return l.customData._tokenResponse=n,l}function i0(s){return s!==void 0&&s.enterprise!==void 0}class $1{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return F1(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Q1(s,e){return mi(s,"GET","/v2/recaptchaConfig",va(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y1(s,e){return mi(s,"POST","/v1/accounts:delete",e)}async function XT(s,e){return mi(s,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ec(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function W1(s,e=!1){const n=nt(s),a=await n.getIdToken(e),l=vp(a);Ee(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c==null?void 0:c.sign_in_provider;return{claims:l,token:a,authTime:ec(Om(l.auth_time)),issuedAtTime:ec(Om(l.iat)),expirationTime:ec(Om(l.exp)),signInProvider:d||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function Om(s){return Number(s)*1e3}function vp(s){const[e,n,a]=s.split(".");if(e===void 0||n===void 0||a===void 0)return mh("JWT malformed, contained fewer than 3 sections"),null;try{const l=U0(n);return l?JSON.parse(l):(mh("Failed to decode base64 JWT payload"),null)}catch(l){return mh("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function a0(s){const e=vp(s);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function El(s,e,n=!1){if(n)return e;try{return await e}catch(a){throw a instanceof Rs&&X1(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function X1({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const l=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ec(this.lastLoginAt),this.creationTime=ec(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lh(s){var e;const n=s.auth,a=await s.getIdToken(),l=await El(s,XT(n,{idToken:a}));Ee(l==null?void 0:l.users.length,n,"internal-error");const c=l.users[0];s._notifyReloadListener(c);const d=!((e=c.providerUserInfo)===null||e===void 0)&&e.length?ZT(c.providerUserInfo):[],m=ej(s.providerData,d),p=s.isAnonymous,_=!(s.email&&c.passwordHash)&&!(m!=null&&m.length),x=p?_:!1,T={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:m,metadata:new og(c.createdAt,c.lastLoginAt),isAnonymous:x};Object.assign(s,T)}async function J1(s){const e=nt(s);await Lh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ej(s,e){return[...s.filter(a=>!e.some(l=>l.providerId===a.providerId)),...e]}function ZT(s){return s.map(e=>{var{providerId:n}=e,a=pp(e,["providerId"]);return{providerId:n,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tj(s,e){const n=await YT(s,{},async()=>{const a=fc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=WT(s,l,"/v1/token",`key=${c}`),m=await s._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",QT.fetch()(d,{method:"POST",headers:m,body:a})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function nj(s,e){return mi(s,"POST","/v2/accounts:revokeToken",va(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):a0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=a0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:a,refreshToken:l,expiresIn:c}=await tj(e,n);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(e,n,a){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,n){const{refreshToken:a,accessToken:l,expirationTime:c}=n,d=new hl;return a&&(Ee(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),l&&(Ee(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(Ee(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new hl,this.toJSON())}_performRefresh(){return ni("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zi(s,e){Ee(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class si{constructor(e){var{uid:n,auth:a,stsTokenManager:l}=e,c=pp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Z1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=a,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new og(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(e){const n=await El(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return W1(this,e)}reload(){return J1(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new si(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),n&&await Lh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(wn(this.auth.app))return Promise.reject(li(this.auth));const e=await this.getIdToken();return await El(this,Y1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var a,l,c,d,m,p,_,x;const T=(a=n.displayName)!==null&&a!==void 0?a:void 0,w=(l=n.email)!==null&&l!==void 0?l:void 0,C=(c=n.phoneNumber)!==null&&c!==void 0?c:void 0,D=(d=n.photoURL)!==null&&d!==void 0?d:void 0,q=(m=n.tenantId)!==null&&m!==void 0?m:void 0,M=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,z=(_=n.createdAt)!==null&&_!==void 0?_:void 0,G=(x=n.lastLoginAt)!==null&&x!==void 0?x:void 0,{uid:Q,emailVerified:J,isAnonymous:te,providerData:ce,stsTokenManager:L}=n;Ee(Q&&L,e,"internal-error");const N=hl.fromJSON(this.name,L);Ee(typeof Q=="string",e,"internal-error"),Zi(T,e.name),Zi(w,e.name),Ee(typeof J=="boolean",e,"internal-error"),Ee(typeof te=="boolean",e,"internal-error"),Zi(C,e.name),Zi(D,e.name),Zi(q,e.name),Zi(M,e.name),Zi(z,e.name),Zi(G,e.name);const S=new si({uid:Q,auth:e,email:w,emailVerified:J,displayName:T,isAnonymous:te,photoURL:D,phoneNumber:C,tenantId:q,stsTokenManager:N,createdAt:z,lastLoginAt:G});return ce&&Array.isArray(ce)&&(S.providerData=ce.map(R=>Object.assign({},R))),M&&(S._redirectEventId=M),S}static async _fromIdTokenResponse(e,n,a=!1){const l=new hl;l.updateFromServerResponse(n);const c=new si({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:a});return await Lh(c),c}static async _fromGetAccountInfoResponse(e,n,a){const l=n.users[0];Ee(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?ZT(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!(c!=null&&c.length),m=new hl;m.updateFromIdToken(a);const p=new si({uid:l.localId,auth:e,stsTokenManager:m,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new og(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(c!=null&&c.length)};return Object.assign(p,_),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0=new Map;function ii(s){di(s instanceof Function,"Expected a class definition");let e=r0.get(s);return e?(di(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,r0.set(s,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}JT.type="NONE";const l0=JT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gh(s,e,n){return`firebase:${s}:${e}:${n}`}class dl{constructor(e,n,a){this.persistence=e,this.auth=n,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=gh(this.userKey,l.apiKey,c),this.fullPersistenceKey=gh("persistence",l.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?si._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,a="authUser"){if(!n.length)return new dl(ii(l0),e,a);const l=(await Promise.all(n.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||ii(l0);const d=gh(a,e.config.apiKey,e.name);let m=null;for(const _ of n)try{const x=await _._get(d);if(x){const T=si._fromJSON(e,x);_!==c&&(m=T),c=_;break}}catch{}const p=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new dl(c,e,a):(c=p[0],m&&await c._set(d,m.toJSON()),await Promise.all(n.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new dl(c,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o0(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(sb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(eb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ab(e))return"Blackberry";if(rb(e))return"Webos";if(tb(e))return"Safari";if((e.includes("chrome/")||nb(e))&&!e.includes("edge/"))return"Chrome";if(ib(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(n);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function eb(s=nn()){return/firefox\//i.test(s)}function tb(s=nn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function nb(s=nn()){return/crios\//i.test(s)}function sb(s=nn()){return/iemobile/i.test(s)}function ib(s=nn()){return/android/i.test(s)}function ab(s=nn()){return/blackberry/i.test(s)}function rb(s=nn()){return/webos/i.test(s)}function xp(s=nn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function sj(s=nn()){var e;return xp(s)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function ij(){return YS()&&document.documentMode===10}function lb(s=nn()){return xp(s)||ib(s)||rb(s)||ab(s)||/windows phone/i.test(s)||sb(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ob(s,e=[]){let n;switch(s){case"Browser":n=o0(nn());break;case"Worker":n=`${o0(nn())}-${s}`;break;default:n=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${or}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const a=c=>new Promise((d,m)=>{try{const p=e(c);d(p)}catch(p){m(p)}});a.onAbort=n,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const a of this.queue)await a(e),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rj(s,e={}){return mi(s,"GET","/v2/passwordPolicy",va(s,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lj=6;class oj{constructor(e){var n,a,l,c;const d=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=d.minPasswordLength)!==null&&n!==void 0?n:lj,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(a=e.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(c=e.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,a,l,c,d,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(a=p.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(l=p.containsLowercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsUppercaseLetter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(d=p.containsNumericCharacter)!==null&&d!==void 0?d:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=e.length>=a),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let l=0;l<e.length;l++)a=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,n,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj{constructor(e,n,a,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new c0(this),this.idTokenSubscription=new c0(this),this.beforeStateQueue=new aj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=GT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ii(n)),this._initializationPromise=this.queue(async()=>{var a,l;if(!this._deleted&&(this.persistenceManager=await dl.create(this,e),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await XT(this,{idToken:e}),a=await si._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(wn(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(m,m))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let l=a,c=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=l==null?void 0:l._redirectEventId,p=await this.tryRedirectSignIn(e);(!d||d===m)&&(p!=null&&p.user)&&(l=p.user,c=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(l)}catch(d){l=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Lh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=z1()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(wn(this.app))return Promise.reject(li(this));const n=e?nt(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return wn(this.app)?Promise.reject(li(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return wn(this.app)?Promise.reject(li(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ii(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await rj(this),n=new oj(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new dc("auth","Firebase",e())}onAuthStateChanged(e,n,a){return this.registerStateListener(this.authStateSubscription,e,n,a)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,a){return this.registerStateListener(this.idTokenSubscription,e,n,a)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await nj(this,a)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const a=await this.getOrInitRedirectPersistenceManager(n);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ii(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await dl.create(this,[ii(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,a;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,a,l){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let d=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(m,this,"internal-error"),m.then(()=>{d||c(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,a,l);return()=>{d=!0,p()}}else{const p=e.addObserver(n);return()=>{d=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ob(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const a=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());a&&(n["X-Firebase-Client"]=a);const l=await this._getAppCheckToken();return l&&(n["X-Firebase-AppCheck"]=l),n}async _getAppCheckToken(){var e;if(wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&U1(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function dr(s){return nt(s)}class c0{constructor(e){this.auth=e,this.observer=null,this.addObserver=sN(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function uj(s){dd=s}function cb(s){return dd.loadJS(s)}function hj(){return dd.recaptchaEnterpriseScript}function dj(){return dd.gapiScript}function fj(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class mj{constructor(){this.enterprise=new gj}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class gj{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const pj="recaptcha-enterprise",ub="NO_RECAPTCHA";class _j{constructor(e){this.type=pj,this.auth=dr(e)}async verify(e="verify",n=!1){async function a(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,m)=>{Q1(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const _=new $1(p);return c.tenantId==null?c._agentRecaptchaConfig=_:c._tenantRecaptchaConfigs[c.tenantId]=_,d(_.siteKey)}}).catch(p=>{m(p)})})}function l(c,d,m){const p=window.grecaptcha;i0(p)?p.enterprise.ready(()=>{p.enterprise.execute(c,{action:e}).then(_=>{d(_)}).catch(()=>{d(ub)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new mj().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{a(this.auth).then(m=>{if(!n&&i0(window.grecaptcha))l(m,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let p=hj();p.length!==0&&(p+=m),cb(p).then(()=>{l(m,c,d)}).catch(_=>{d(_)})}}).catch(m=>{d(m)})})}}async function u0(s,e,n,a=!1,l=!1){const c=new _j(s);let d;if(l)d=ub;else try{d=await c.verify(n)}catch{d=await c.verify(n,!0)}const m=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,_=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return a?Object.assign(m,{captchaResp:d}):Object.assign(m,{captchaResponse:d}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function cg(s,e,n,a,l){var c;if(!((c=s._getRecaptchaConfig())===null||c===void 0)&&c.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const d=await u0(s,e,n,n==="getOobCode");return a(s,d)}else return a(s,e).catch(async d=>{if(d.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await u0(s,e,n,n==="getOobCode");return a(s,m)}else return Promise.reject(d)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yj(s,e){const n=qh(s,"auth");if(n.isInitialized()){const l=n.getImmediate(),c=n.getOptions();if(tr(c,e??{}))return l;ts(l,"already-initialized")}return n.initialize({options:e})}function vj(s,e){const n=(e==null?void 0:e.persistence)||[],a=(Array.isArray(n)?n:[n]).map(ii);e!=null&&e.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e==null?void 0:e.popupRedirectResolver)}function xj(s,e,n){const a=dr(s);Ee(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const l=!1,c=hb(e),{host:d,port:m}=Ej(e),p=m===null?"":`:${m}`,_={url:`${c}//${d}${p}/`},x=Object.freeze({host:d,port:m,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){Ee(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Ee(tr(_,a.config.emulator)&&tr(x,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=x,a.settings.appVerificationDisabledForTesting=!0,Tj()}function hb(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function Ej(s){const e=hb(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:h0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:h0(d)}}}function h0(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function Tj(){function s(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ni("not implemented")}_getIdTokenResponse(e){return ni("not implemented")}_linkToIdToken(e,n){return ni("not implemented")}_getReauthenticationResolver(e){return ni("not implemented")}}async function bj(s,e){return mi(s,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Aj(s,e){return Ac(s,"POST","/v1/accounts:signInWithPassword",va(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wj(s,e){return Ac(s,"POST","/v1/accounts:signInWithEmailLink",va(s,e))}async function Sj(s,e){return Ac(s,"POST","/v1/accounts:signInWithEmailLink",va(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc extends Ep{constructor(e,n,a,l=null){super("password",a),this._email=e,this._password=n,this._tenantId=l}static _fromEmailAndPassword(e,n){return new cc(e,n,"password")}static _fromEmailAndCode(e,n,a=null){return new cc(e,n,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cg(e,n,"signInWithPassword",Aj);case"emailLink":return wj(e,{email:this._email,oobCode:this._password});default:ts(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const a={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cg(e,a,"signUpPassword",bj);case"emailLink":return Sj(e,{idToken:n,email:this._email,oobCode:this._password});default:ts(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fl(s,e){return Ac(s,"POST","/v1/accounts:signInWithIdp",va(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nj="http://localhost";class rr extends Ep{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new rr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ts("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:l}=n,c=pp(n,["providerId","signInMethod"]);if(!a||!l)return null;const d=new rr(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return fl(e,n)}_linkToIdToken(e,n){const a=this.buildRequest();return a.idToken=n,fl(e,a)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,fl(e,n)}buildRequest(){const e={requestUri:Nj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=fc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rj(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function kj(s){const e=qo(Ko(s)).link,n=e?qo(Ko(e)).deep_link_id:null,a=qo(Ko(s)).deep_link_id;return(a?qo(Ko(a)).link:null)||a||n||e||s}class Tp{constructor(e){var n,a,l,c,d,m;const p=qo(Ko(e)),_=(n=p.apiKey)!==null&&n!==void 0?n:null,x=(a=p.oobCode)!==null&&a!==void 0?a:null,T=Rj((l=p.mode)!==null&&l!==void 0?l:null);Ee(_&&x&&T,"argument-error"),this.apiKey=_,this.operation=T,this.code=x,this.continueUrl=(c=p.continueUrl)!==null&&c!==void 0?c:null,this.languageCode=(d=p.languageCode)!==null&&d!==void 0?d:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=kj(e);try{return new Tp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(){this.providerId=Cl.PROVIDER_ID}static credential(e,n){return cc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const a=Tp.parseLink(n);return Ee(a,"argument-error"),cc._fromEmailAndCode(e,a.code,a.tenantId)}}Cl.PROVIDER_ID="password";Cl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Cl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc extends db{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea extends wc{constructor(){super("facebook.com")}static credential(e){return rr._fromParams({providerId:ea.PROVIDER_ID,signInMethod:ea.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ea.credentialFromTaggedObject(e)}static credentialFromError(e){return ea.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ea.credential(e.oauthAccessToken)}catch{return null}}}ea.FACEBOOK_SIGN_IN_METHOD="facebook.com";ea.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta extends wc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return rr._fromParams({providerId:ta.PROVIDER_ID,signInMethod:ta.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ta.credentialFromTaggedObject(e)}static credentialFromError(e){return ta.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:a}=e;if(!n&&!a)return null;try{return ta.credential(n,a)}catch{return null}}}ta.GOOGLE_SIGN_IN_METHOD="google.com";ta.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na extends wc{constructor(){super("github.com")}static credential(e){return rr._fromParams({providerId:na.PROVIDER_ID,signInMethod:na.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return na.credentialFromTaggedObject(e)}static credentialFromError(e){return na.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return na.credential(e.oauthAccessToken)}catch{return null}}}na.GITHUB_SIGN_IN_METHOD="github.com";na.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa extends wc{constructor(){super("twitter.com")}static credential(e,n){return rr._fromParams({providerId:sa.PROVIDER_ID,signInMethod:sa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return sa.credentialFromTaggedObject(e)}static credentialFromError(e){return sa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=e;if(!n||!a)return null;try{return sa.credential(n,a)}catch{return null}}}sa.TWITTER_SIGN_IN_METHOD="twitter.com";sa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cj(s,e){return Ac(s,"POST","/v1/accounts:signUp",va(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,a,l=!1){const c=await si._fromIdTokenResponse(e,a,l),d=d0(a);return new lr({user:c,providerId:d,_tokenResponse:a,operationType:n})}static async _forOperation(e,n,a){await e._updateTokensIfNecessary(a,!0);const l=d0(a);return new lr({user:e,providerId:l,_tokenResponse:a,operationType:n})}}function d0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh extends Rs{constructor(e,n,a,l){var c;super(n.code,n.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Vh.prototype),this.customData={appName:e.name,tenantId:(c=e.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,n,a,l){return new Vh(e,n,a,l)}}function fb(s,e,n,a){return(e==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Vh._fromErrorAndOperation(s,c,e,a):c})}async function Ij(s,e,n=!1){const a=await El(s,e._linkToIdToken(s.auth,await s.getIdToken()),n);return lr._forOperation(s,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jj(s,e,n=!1){const{auth:a}=s;if(wn(a.app))return Promise.reject(li(a));const l="reauthenticate";try{const c=await El(s,fb(a,l,e,s),n);Ee(c.idToken,a,"internal-error");const d=vp(c.idToken);Ee(d,a,"internal-error");const{sub:m}=d;return Ee(s.uid===m,a,"user-mismatch"),lr._forOperation(s,l,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&ts(a,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mb(s,e,n=!1){if(wn(s.app))return Promise.reject(li(s));const a="signIn",l=await fb(s,a,e),c=await lr._fromIdTokenResponse(s,a,l);return n||await s._updateCurrentUser(c.user),c}async function Dj(s,e){return mb(dr(s),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gb(s){const e=dr(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Oj(s,e,n){if(wn(s.app))return Promise.reject(li(s));const a=dr(s),d=await cg(a,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Cj).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&gb(s),p}),m=await lr._fromIdTokenResponse(a,"signIn",d);return await a._updateCurrentUser(m.user),m}function Mj(s,e,n){return wn(s.app)?Promise.reject(li(s)):Dj(nt(s),Cl.credential(e,n)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&gb(s),a})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lj(s,e){return mi(s,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vj(s,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const a=nt(s),c={idToken:await a.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},d=await El(a,Lj(a.auth,c));a.displayName=d.displayName||null,a.photoURL=d.photoUrl||null;const m=a.providerData.find(({providerId:p})=>p==="password");m&&(m.displayName=a.displayName,m.photoURL=a.photoURL),await a._updateTokensIfNecessary(d)}function Pj(s,e,n,a){return nt(s).onIdTokenChanged(e,n,a)}function Uj(s,e,n){return nt(s).beforeAuthStateChanged(e,n)}function Bj(s,e,n,a){return nt(s).onAuthStateChanged(e,n,a)}function Hj(s){return nt(s).signOut()}const Ph="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ph,"1"),this.storage.removeItem(Ph),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zj=1e3,qj=10;class _b extends pb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=lb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),l=this.localCache[n];a!==l&&e(n,l,a)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,m,p)=>{this.notifyListeners(d,p)});return}const a=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!n&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);ij()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,qj):l()}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:a}),!0)})},zj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}_b.type="LOCAL";const Kj=_b;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb extends pb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}yb.type="SESSION";const vb=yb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fj(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const a=new fd(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:a,eventType:l,data:c}=n.data,d=this.handlersMap[l];if(!(d!=null&&d.size))return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const m=Array.from(d).map(async _=>_(n.origin,c)),p=await Fj(m);n.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}fd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bp(s="",e=10){let n="";for(let a=0;a<e;a++)n+=Math.floor(Math.random()*10);return s+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((m,p)=>{const _=bp("",20);l.port1.start();const x=setTimeout(()=>{p(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(T){const w=T;if(w.data.eventId===_)switch(w.data.status){case"ack":clearTimeout(x),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),m(w.data.response);break;default:clearTimeout(x),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:n},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ss(){return window}function $j(s){Ss().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xb(){return typeof Ss().WorkerGlobalScope<"u"&&typeof Ss().importScripts=="function"}async function Qj(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Yj(){var s;return((s=navigator==null?void 0:navigator.serviceWorker)===null||s===void 0?void 0:s.controller)||null}function Wj(){return xb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb="firebaseLocalStorageDb",Xj=1,Uh="firebaseLocalStorage",Tb="fbase_key";class Sc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function md(s,e){return s.transaction([Uh],e?"readwrite":"readonly").objectStore(Uh)}function Zj(){const s=indexedDB.deleteDatabase(Eb);return new Sc(s).toPromise()}function ug(){const s=indexedDB.open(Eb,Xj);return new Promise((e,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(Uh,{keyPath:Tb})}catch(l){n(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(Uh)?e(a):(a.close(),await Zj(),e(await ug()))})})}async function f0(s,e,n){const a=md(s,!0).put({[Tb]:e,value:n});return new Sc(a).toPromise()}async function Jj(s,e){const n=md(s,!1).get(e),a=await new Sc(n).toPromise();return a===void 0?null:a.value}function m0(s,e){const n=md(s,!0).delete(e);return new Sc(n).toPromise()}const e2=800,t2=3;class bb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ug(),this.db)}async _withRetries(e){let n=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(n++>t2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return xb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=fd._getInstance(Wj()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Qj(),!this.activeServiceWorker)return;this.sender=new Gj(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((e=a[0])===null||e===void 0)&&e.fulfilled&&!((n=a[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Yj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ug();return await f0(e,Ph,"1"),await m0(e,Ph),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>f0(a,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(a=>Jj(a,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>m0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=md(l,!1).getAll();return new Sc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),e2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}bb.type="LOCAL";const n2=bb;new bc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s2(s,e){return e?ii(e):(Ee(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap extends Ep{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return fl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return fl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function i2(s){return mb(s.auth,new Ap(s),s.bypassAuthState)}function a2(s){const{auth:e,user:n}=s;return Ee(n,e,"internal-error"),jj(n,new Ap(s),s.bypassAuthState)}async function r2(s){const{auth:e,user:n}=s;return Ee(n,e,"internal-error"),Ij(n,new Ap(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(e,n,a,l,c=!1){this.auth=e,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:a,postBody:l,tenantId:c,error:d,type:m}=e;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:n,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return i2;case"linkViaPopup":case"linkViaRedirect":return r2;case"reauthViaPopup":case"reauthViaRedirect":return a2;default:ts(this.auth,"internal-error")}}resolve(e){di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2=new bc(2e3,1e4);class cl extends Ab{constructor(e,n,a,l,c){super(e,n,l,c),this.provider=a,this.authWindow=null,this.pollId=null,cl.currentPopupAction&&cl.currentPopupAction.cancel(),cl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){di(this.filter.length===1,"Popup operations only handle one event");const e=bp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ws(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ws(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,cl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,a;if(!((a=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ws(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,l2.get())};e()}}cl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2="pendingRedirect",ph=new Map;class c2 extends Ab{constructor(e,n,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let e=ph.get(this.auth._key());if(!e){try{const a=await u2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(n){e=()=>Promise.reject(n)}ph.set(this.auth._key(),e)}return this.bypassAuthState||ph.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function u2(s,e){const n=f2(e),a=d2(s);if(!await a._isAvailable())return!1;const l=await a._get(n)==="true";return await a._remove(n),l}function h2(s,e){ph.set(s._key(),e)}function d2(s){return ii(s._redirectPersistence)}function f2(s){return gh(o2,s.config.apiKey,s.name)}async function m2(s,e,n=!1){if(wn(s.app))return Promise.reject(li(s));const a=dr(s),l=s2(a,e),d=await new c2(a,l,n).execute();return d&&!n&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2=10*60*1e3;class p2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(n=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!_2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var a;if(e.error&&!wb(e)){const l=((a=e.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";n.onError(ws(this.auth,l))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const a=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=g2&&this.cachedEventUids.clear(),this.cachedEventUids.has(g0(e))}saveEventToCache(e){this.cachedEventUids.add(g0(e)),this.lastProcessedEventTime=Date.now()}}function g0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function wb({type:s,error:e}){return s==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function _2(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wb(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y2(s,e={}){return mi(s,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,x2=/^https?/;async function E2(s){if(s.config.emulator)return;const{authorizedDomains:e}=await y2(s);for(const n of e)try{if(T2(n))return}catch{}ts(s,"unauthorized-domain")}function T2(s){const e=lg(),{protocol:n,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===a}if(!x2.test(n))return!1;if(v2.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2=new bc(3e4,6e4);function p0(){const s=Ss().___jsl;if(s!=null&&s.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function A2(s){return new Promise((e,n)=>{var a,l,c;function d(){p0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{p0(),n(ws(s,"network-request-failed"))},timeout:b2.get()})}if(!((l=(a=Ss().gapi)===null||a===void 0?void 0:a.iframes)===null||l===void 0)&&l.Iframe)e(gapi.iframes.getContext());else if(!((c=Ss().gapi)===null||c===void 0)&&c.load)d();else{const m=fj("iframefcb");return Ss()[m]=()=>{gapi.load?d():n(ws(s,"network-request-failed"))},cb(`${dj()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw _h=null,e})}let _h=null;function w2(s){return _h=_h||A2(s),_h}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2=new bc(5e3,15e3),N2="__/auth/iframe",R2="emulator/auth/iframe",k2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},C2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function I2(s){const e=s.config;Ee(e.authDomain,s,"auth-domain-config-required");const n=e.emulator?yp(e,R2):`https://${s.config.authDomain}/${N2}`,a={apiKey:e.apiKey,appName:s.name,v:or},l=C2.get(s.config.apiHost);l&&(a.eid=l);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${n}?${fc(a).slice(1)}`}async function j2(s){const e=await w2(s),n=Ss().gapi;return Ee(n,s,"internal-error"),e.open({where:document.body,url:I2(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:k2,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=ws(s,"network-request-failed"),m=Ss().setTimeout(()=>{c(d)},S2.get());function p(){Ss().clearTimeout(m),l(a)}a.ping(p).then(p,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},O2=500,M2=600,L2="_blank",V2="http://localhost";class _0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function P2(s,e,n,a=O2,l=M2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let m="";const p=Object.assign(Object.assign({},D2),{width:a.toString(),height:l.toString(),top:c,left:d}),_=nn().toLowerCase();n&&(m=nb(_)?L2:n),eb(_)&&(e=e||V2,p.scrollbars="yes");const x=Object.entries(p).reduce((w,[C,D])=>`${w}${C}=${D},`,"");if(sj(_)&&m!=="_self")return U2(e||"",m),new _0(null);const T=window.open(e||"",m,x);Ee(T,s,"popup-blocked");try{T.focus()}catch{}return new _0(T)}function U2(s,e){const n=document.createElement("a");n.href=s,n.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2="__/auth/handler",H2="emulator/auth/handler",z2=encodeURIComponent("fac");async function y0(s,e,n,a,l,c){Ee(s.config.authDomain,s,"auth-domain-config-required"),Ee(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:a,v:or,eventId:l};if(e instanceof db){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",nN(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,T]of Object.entries({}))d[x]=T}if(e instanceof wc){const x=e.getScopes().filter(T=>T!=="");x.length>0&&(d.scopes=x.join(","))}s.tenantId&&(d.tid=s.tenantId);const m=d;for(const x of Object.keys(m))m[x]===void 0&&delete m[x];const p=await s._getAppCheckToken(),_=p?`#${z2}=${encodeURIComponent(p)}`:"";return`${q2(s)}?${fc(m).slice(1)}${_}`}function q2({config:s}){return s.emulator?yp(s,H2):`https://${s.authDomain}/${B2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mm="webStorageSupport";class K2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vb,this._completeRedirectFn=m2,this._overrideRedirectResult=h2}async _openPopup(e,n,a,l){var c;di((c=this.eventManagers[e._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const d=await y0(e,n,a,lg(),l);return P2(e,d,bp())}async _openRedirect(e,n,a,l){await this._originValidation(e);const c=await y0(e,n,a,lg(),l);return $j(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:c}=this.eventManagers[n];return l?Promise.resolve(l):(di(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(e){const n=await j2(e),a=new p2(e);return n.register("authEvent",l=>(Ee(l==null?void 0:l.authEvent,e,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=n,a}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Mm,{type:Mm},l=>{var c;const d=(c=l==null?void 0:l[0])===null||c===void 0?void 0:c[Mm];d!==void 0&&n(!!d),ts(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=E2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return lb()||tb()||xp()}}const F2=K2;var v0="@firebase/auth",x0="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(a=>{e((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $2(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Q2(s){nr(new ua("auth",(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:m}=a.options;Ee(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:d,authDomain:m,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ob(s)},_=new cj(a,l,c,p);return vj(_,n),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,a)=>{e.getProvider("auth-internal").initialize()})),nr(new ua("auth-internal",e=>{const n=dr(e.getProvider("auth").getImmediate());return(a=>new G2(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ts(v0,x0,$2(s)),Ts(v0,x0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2=5*60,W2=q0("authIdTokenMaxAge")||Y2;let E0=null;const X2=s=>async e=>{const n=e&&await e.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>W2)return;const l=n==null?void 0:n.token;E0!==l&&(E0=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function Z2(s=bg()){const e=qh(s,"auth");if(e.isInitialized())return e.getImmediate();const n=yj(s,{popupRedirectResolver:F2,persistence:[n2,Kj,vb]}),a=q0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=X2(c.toString());Uj(n,d,()=>d(n.currentUser)),Pj(n,m=>d(m))}}const l=B0("auth");return l&&xj(n,`http://${l}`),n}function J2(){var s,e;return(e=(s=document.getElementsByTagName("head"))===null||s===void 0?void 0:s[0])!==null&&e!==void 0?e:document}uj({loadJS(s){return new Promise((e,n)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=l=>{const c=ws("internal-error");c.customData=l,n(c)},a.type="text/javascript",a.charset="UTF-8",J2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Q2("Browser");const eD={apiKey:"AIzaSyB0zBdnr_ZBmmokxvgLiHWU52QhnFnoymU",authDomain:"aimchallange-67039.firebaseapp.com",projectId:"aimchallange-67039",storageBucket:"aimchallange-67039.appspot.com",messagingSenderId:"109617578227",appId:"1:109617578227:web:8f09f705f248bbdaf07786",measurementId:"G-42PJQ2LB6T"},gd=$0(eD),yh=Z2(gd),sn=uI(gd),Nc=KT(gd,"gs://aimchallange-67039.firebasestorage.app");KT(gd,"gs://aimchallange-67039.appspot.com");const Sb=V.createContext(),fr=()=>V.useContext(Sb),tD=({children:s})=>{const[e,n]=V.useState(null),[a,l]=V.useState(!1),[c,d]=V.useState(!0);V.useEffect(()=>Bj(yh,async T=>{if(T){const w={uid:T.uid,email:T.email,displayName:T.displayName||T.email.split("@")[0],role:"admin"};n(w),l(!0)}else n(null),l(!1);d(!1)}),[]);const _={currentUser:e,isAuthenticated:a,login:async(x,T)=>{try{return await Mj(yh,x,T),{success:!0}}catch(w){return console.error("Login error:",w),{success:!1,error:w.message}}},logout:async()=>{try{return await Hj(yh),{success:!0}}catch(x){return console.error("Logout error:",x),{success:!1,error:x.message}}}};return u.jsx(Sb.Provider,{value:_,children:!c&&s})},hg=Gn(sn,"settings","textContent"),nD=async()=>{try{const s=await cd(hg);return s.exists()?s.data():(await Ec(hg,{}),{})}catch(s){return console.error("Error getting text content:",s),{}}},sD=async(s,e)=>{try{const n={};return n[s]=e,await bI(hg,n),!0}catch(n){return console.error("Error updating text content:",n),!1}};Gn(sn,"settings","backgroundImages");const Nb=V.createContext(),mr=()=>V.useContext(Nb),iD=({children:s})=>{const[e,n]=V.useState({}),[a,l]=V.useState(!1),[c,d]=V.useState([]),{currentUser:m,isAuthenticated:p}=fr(),_=(m==null?void 0:m.role)==="admin";V.useEffect(()=>{(async()=>{try{const Q=await nD();n(Q)}catch(Q){console.error("Error fetching text content:",Q);const J=localStorage.getItem("textContent");if(J)try{n(JSON.parse(J))}catch(te){console.error("Error parsing saved content:",te),n({})}}})()},[]),V.useEffect(()=>{l(!!(p&&_))},[p,_]);const z={getText:(G,Q)=>e[G]||Q,updateText:async(G,Q)=>{try{await sD(G,Q);const J={...e,[G]:Q};n(J),d(te=>[...te,{content:{...e},timestamp:new Date().toISOString(),changedKey:G}]),localStorage.setItem("textContent",JSON.stringify(J))}catch(J){console.error("Error updating text content:",J);const te={...e,[G]:Q};localStorage.setItem("textContent",JSON.stringify(te)),n(te)}},isEditing:a,toggleEditing:()=>{console.log("Edit mode is always on for admin users")},isAdmin:_,textContent:e,resetAllContent:()=>{d(G=>[...G,{content:{...e},timestamp:new Date().toISOString(),action:"reset-all"}]),n({}),localStorage.removeItem("textContent"),console.log("All content has been reset")},removeContentItem:G=>{d(J=>[...J,{content:{...e},timestamp:new Date().toISOString(),changedKey:G,action:"remove"}]);const Q={...e};delete Q[G],n(Q),localStorage.setItem("textContent",JSON.stringify(Q)),console.log(`Content item '${G}' has been removed`)},undoLastChange:()=>{if(c.length>1){const G=[...c];G.pop();const Q=G[G.length-1].content;return n(Q),localStorage.setItem("textContent",JSON.stringify(Q)),d(G),console.log("Last change undone"),!0}return console.log("No changes to undo"),!1},getEditHistory:()=>c,editHistory:c};return u.jsx(Nb.Provider,{value:z,children:s})},aD=()=>{const[s,e]=V.useState(!1),[n,a]=V.useState(!1),[l,c]=V.useState(!1),{isAuthenticated:d,currentUser:m,logout:p}=fr(),{isEditing:_,getText:x,updateText:T}=mr(),w=wl(),C=()=>{e(!1)},D=()=>{a(!1)},q=()=>{c(!l),e(!1),a(!1)},M=()=>{p(),w("/")};return V.useEffect(()=>{const z=G=>{const Q=document.querySelector(".mobile-menu"),J=document.querySelector(".hamburger-menu");l&&Q&&!Q.contains(G.target)&&!J.contains(G.target)&&c(!1)};return document.addEventListener("mousedown",z),()=>{document.removeEventListener("mousedown",z)}},[l]),V.useEffect(()=>{console.log("Navbar auth state:",{isAuthenticated:d,currentUser:m,isAdmin:(m==null?void 0:m.role)==="admin"})},[d,m]),u.jsx("div",{className:"flex flex_col navbar-container",children:u.jsxs("div",{className:"navbar  flex flex_j_SA MaxWH location font_white",children:[u.jsx("div",{className:"navim MaxWH location",children:u.jsx(Se,{to:"/",children:u.jsx("img",{src:"/images/Aim Blue.svg",alt:"aim challenge logo",className:"custom-image navim"})})}),u.jsxs("div",{className:"hamburger-menu",onClick:q,children:[u.jsx("span",{}),u.jsx("span",{}),u.jsx("span",{})]}),u.jsxs("div",{className:"navbside",children:[u.jsxs("div",{className:"nav-button",children:[u.jsx("a",{href:"#",className:"dropdown-trigger",onClick:z=>{z.preventDefault(),e(!s)},children:"Tävlingar"}),s&&u.jsxs("div",{className:"drop-down",children:[u.jsx(Se,{to:"/competitions",onClick:C,className:"drop-item",children:"TÄVLINGAR"}),u.jsx("a",{href:"https://raceid.com/sv/campaigns/bcfa3952-92c0-11ef-a892-06546bc3018f",onClick:C,className:"drop-item",children:"ANMÄLAN"}),u.jsx(Se,{to:"/results",onClick:C,className:"drop-item",children:"RESULTAT"})]})]}),u.jsxs("div",{className:"nav-button",children:[u.jsx("a",{href:"#",className:"dropdown-trigger",onClick:z=>{z.preventDefault(),a(!n)},children:"Om oss"}),n&&u.jsxs("div",{className:"drop-down",children:[u.jsx(Se,{to:"/om-oss",onClick:D,className:"drop-item",children:"Om oss"}),u.jsx(Se,{to:"/regler",onClick:D,className:"drop-item",children:"Regler"}),u.jsx(Se,{to:"/faq",onClick:D,className:"drop-item",children:"FAQ"}),u.jsx(Se,{to:"/historien-om-aim",onClick:D,className:"drop-item",children:"Historien om AIM"})]})]}),u.jsx("div",{className:"nav-button",children:u.jsx("a",{href:"#sponsors-section",onClick:z=>{z.preventDefault();const G=document.getElementById("sponsors-section");G&&G.scrollIntoView({behavior:"smooth"})},children:"Sponsorer"})}),u.jsx("div",{className:"nav-button",children:u.jsx(Se,{to:"/senaste-nytt",children:"Senaste nytt"})}),u.jsx("div",{className:"nav-button",children:u.jsx(Se,{to:"#",children:"Kontakta oss"})}),u.jsx("div",{className:"nav-button",children:u.jsx("a",{href:"#",children:"SV|NO|EN"})}),d&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"nav-button",children:u.jsx(Se,{to:"/content-manager",children:"Innehåll"})}),u.jsx("div",{className:"nav-button",children:u.jsx("a",{href:"#",onClick:z=>{z.preventDefault(),M()},children:"Logga ut"})})]})]}),l&&u.jsxs("div",{className:"mobile-menu",children:[u.jsxs("div",{className:"mobile-menu-item",children:[u.jsxs("div",{className:"mobile-menu-header",onClick:()=>e(!s),children:["Tävlingar ",s?"▲":"▼"]}),s&&u.jsxs("div",{className:"mobile-submenu",children:[u.jsx(Se,{to:"/competitions",onClick:q,className:"mobile-submenu-item",children:"TÄVLINGAR"}),u.jsx("a",{href:"https://raceid.com/sv/campaigns/bcfa3952-92c0-11ef-a892-06546bc3018f",onClick:q,className:"mobile-submenu-item",children:"ANMÄLAN"}),u.jsx(Se,{to:"/results",onClick:q,className:"mobile-submenu-item",children:"RESULTAT"})]})]}),u.jsxs("div",{className:"mobile-menu-item",children:[u.jsxs("div",{className:"mobile-menu-header",onClick:()=>a(!n),children:["Om oss ",n?"▲":"▼"]}),n&&u.jsxs("div",{className:"mobile-submenu",children:[u.jsx(Se,{to:"/om-oss",onClick:q,className:"mobile-submenu-item",children:"Om oss"}),u.jsx(Se,{to:"/regler",onClick:q,className:"mobile-submenu-item",children:"Regler"}),u.jsx(Se,{to:"/faq",onClick:q,className:"mobile-submenu-item",children:"FAQ"}),u.jsx(Se,{to:"/historien-om-aim",onClick:q,className:"mobile-submenu-item",children:"Historien om AIM"})]})]}),u.jsx("div",{className:"mobile-menu-item",children:u.jsx("a",{href:"#sponsors-section",onClick:z=>{z.preventDefault();const G=document.getElementById("sponsors-section");G&&G.scrollIntoView({behavior:"smooth"}),q()},className:"mobile-menu-link",children:"Sponsorer"})}),u.jsx("div",{className:"mobile-menu-item",children:u.jsx(Se,{to:"/senaste-nytt",onClick:q,className:"mobile-menu-link",children:"Senaste nytt"})}),u.jsx("div",{className:"mobile-menu-item",children:u.jsx(Se,{to:"#",onClick:q,className:"mobile-menu-link",children:"Kontakta oss"})}),u.jsx("div",{className:"mobile-menu-item",children:u.jsx("a",{href:"#",className:"mobile-menu-link",children:"SV|NO|EN"})}),d&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"mobile-menu-item",children:u.jsx(Se,{to:"/content-manager",onClick:q,className:"mobile-menu-link",children:"Innehåll"})}),u.jsx("div",{className:"mobile-menu-item",children:u.jsx("a",{href:"#",onClick:z=>{z.preventDefault(),M(),q()},className:"mobile-menu-link",children:"Logga ut"})})]})]})]})})},rD=()=>u.jsx("div",{className:"footer-wrapper",children:u.jsx("footer",{className:"footer",children:u.jsxs("div",{className:"container",children:[u.jsx("div",{className:"footer-grid",children:u.jsxs("div",{className:"grid-item sponsors",children:[u.jsx("h1",{className:"footer-heading",id:"sponsors-section",children:"Sponsorer & Partners"}),u.jsxs("div",{className:"grid",children:[u.jsx("div",{children:u.jsx("img",{src:"/images/Artboard 1@4x.png",alt:"Artboard",className:"sponsor-logo"})}),u.jsx("div",{children:u.jsx("img",{src:"/images/Camelbak_vit.svg",alt:"Camelbak",className:"sponsor-logo"})}),u.jsx("div",{children:u.jsx("img",{src:"/images/Hedghog_vit.svg",alt:"Hedghog",className:"sponsor-logo"})}),u.jsx("div",{children:u.jsx("img",{src:"/images/Kona_vit.png",alt:"Kona",className:"sponsor-logo"})}),u.jsx("div",{children:u.jsx("img",{src:"/images/Mareld_svart.svg",alt:"Mareld",className:"sponsor-logo"})}),u.jsx("div",{children:u.jsx("img",{src:"/images/ODD_white_RGB.png",alt:"ODD",className:"sponsor-logo"})}),u.jsx("div",{children:u.jsx("img",{src:"/images/Oofos.png",alt:"Oofos",className:"sponsor-logo"})}),u.jsx("div",{children:u.jsx("img",{src:"/images/Ortovox_svart.svg",alt:"Ortovox",className:"sponsor-logo"})}),u.jsx("div",{children:u.jsx("img",{src:"/images/UD Logo.png",alt:"UD",className:"sponsor-logo"})}),u.jsx("div",{children:u.jsx("img",{src:"/images/Upplev.png",alt:"Upplev Norrköping",className:"sponsor-logo"})}),u.jsx("div",{children:u.jsx("img",{src:"/images/holdut_logo_sort_1.png",alt:"Hold ut",className:"sponsor-logo"})}),u.jsx("div",{children:u.jsx("img",{src:"/images/h%C3%A4llmark logga sv_v.svg",alt:"Hällmark",className:"sponsor-logo"})}),u.jsx("div",{children:u.jsx("img",{src:"/images/injinji_black.svg",alt:"Injinji",className:"sponsor-logo"})})]})]})}),u.jsxs("div",{className:"footer-bottom",children:[u.jsx("p",{className:"trademark",children:"© 2025 Aimchallenge"}),u.jsxs("div",{className:"social-icons",children:[u.jsx("a",{href:"https://www.facebook.com/aimchallenge/",className:"social-icon","aria-label":"Facebook",children:u.jsx("i",{className:"fa fa-facebook"})}),u.jsx("a",{href:"https://www.instagram.com/aimchallenge/",className:"social-icon","aria-label":"Instagram",children:u.jsx("i",{className:"fa fa-instagram"})}),u.jsx("a",{href:"https://vimeo.com/user45220061",className:"social-icon","aria-label":"Vimeo",children:u.jsx("i",{className:"fa fa-vimeo"})})]})]})]})})}),P=({textKey:s,defaultText:e,tag:n="p",className:a="",style:l={},placeholder:c="Skriv text här...",onClick:d})=>{const{getText:m,updateText:p,isAdmin:_}=mr(),[x,T]=V.useState(!1),[w,C]=V.useState(""),[D,q]=V.useState(!1),[M,z]=V.useState(""),[G,Q]=V.useState(""),J=V.useRef(null),te=V.useRef(null),ce=V.useRef(null),L=["span","a","em","strong","i","b","code","small"].includes(n);V.useEffect(()=>{const j=m(s);C(j||e)},[s,e,m]),V.useEffect(()=>{const j=ie=>{ie.key==="Escape"&&x&&R()};return document.addEventListener("keydown",j),()=>{document.removeEventListener("keydown",j)}},[x]);const N=j=>{j&&(j.preventDefault(),j.stopPropagation()),T(!0)},S=()=>{p(s,w),T(!1),q(!1)},R=()=>{const j=m(s);C(j||e),T(!1),q(!1)},O=j=>{C(j.target.value)},H=()=>{q(!D),Q(""),z("")},I=()=>{if(G&&M){let j=M;!j.startsWith("http://")&&!j.startsWith("https://")&&(j="https://"+j);const ie=`<a href="${j}" target="_blank" rel="noopener noreferrer">${G}</a>`,me=J.current,ue=me.selectionStart,he=w.substring(0,ue),ke=w.substring(me.selectionEnd);C(he+ie+ke),Q(""),z(""),setTimeout(()=>{me.focus();const Ae=ue+ie.length;me.setSelectionRange(Ae,Ae)},0)}},it=j=>{Q(j.target.value)},et=j=>{z(j.target.value)},le=j=>{j.key==="Enter"&&j.ctrlKey?(j.preventDefault(),S()):j.key==="Escape"&&(j.preventDefault(),R())},ve=()=>x?OS.createPortal(u.jsx("div",{className:"edit-modal",children:u.jsxs("div",{className:"edit-modal__content",children:[u.jsx("textarea",{ref:J,value:w,onChange:O,onKeyDown:le,placeholder:c,className:"edit-modal__textarea"}),u.jsx("button",{type:"button",onClick:H,className:"modal-action-button modal-action-button--secondary",children:D?"Dölj länkverktyg":"Lägg till länk"}),D&&u.jsxs("div",{className:"edit-modal__link-tools",children:[u.jsxs("div",{className:"edit-modal__form-group",children:[u.jsx("label",{htmlFor:"linkText",className:"edit-modal__label",children:"Länktext:"}),u.jsx("input",{ref:te,type:"text",id:"linkText",value:G,onChange:it,className:"edit-modal__input",placeholder:"Text som ska visas"})]}),u.jsxs("div",{className:"edit-modal__form-group",children:[u.jsx("label",{htmlFor:"linkUrl",className:"edit-modal__label",children:"URL:"}),u.jsx("input",{ref:ce,type:"text",id:"linkUrl",value:M,onChange:et,className:"edit-modal__input",placeholder:"https://example.com"})]}),u.jsx("button",{type:"button",onClick:I,disabled:!G||!M,className:"modal-action-button modal-action-button--primary",children:"Infoga länk"})]}),u.jsxs("div",{className:"edit-modal__actions",children:[u.jsx("button",{type:"button",onClick:R,className:"modal-action-button modal-action-button--secondary",children:"Avbryt"}),u.jsx("button",{type:"button",onClick:S,className:"modal-action-button modal-action-button--primary",children:"Spara"})]})]})}),document.body):null,oe=()=>{const j=n,ie={className:`editable-text ${a}`,style:l,dangerouslySetInnerHTML:{__html:w||c},onClick:d};return u.jsx(j,{...ie})},Re=L?"span":"div";return u.jsxs(u.Fragment,{children:[u.jsxs(Re,{className:"editable-text-wrapper",children:[oe(),_&&u.jsx("button",{type:"button",onClick:N,className:"edit-button edit-button-primary",title:"Redigera text",children:"Redigera"})]}),ve()]})},lD=()=>u.jsxs("div",{className:"flex flex_col MaxWH location",children:[u.jsx("section",{id:"page_01",className:"page_01 dynamic-background ",children:u.jsx("div",{className:" page_01box flex flex_col flex_j_SA MaxWH",children:u.jsx(P,{textKey:"main-multisport-sedan",defaultText:"MUTLISPORT SEDAN 2004",tag:"p",className:"font_white fonts_large"})})}),u.jsxs("section",{id:"page_02",className:"page_02 flex flex_j_E MaxWH location",children:[u.jsx("h2",{className:"page_02-title",children:"ÅRETS TÄVLINGAR"}),u.jsxs("div",{className:"page_02box  flex flex_col MaxWH location",children:[u.jsx("div",{className:"page_02-image",style:{backgroundImage:"url('images/EE-AIMChallenge24-Uhamn-0171-high.jpg')"}}),u.jsx("div",{className:"page_02-content",children:u.jsxs("div",{className:"page_02-header",children:[u.jsx(P,{textKey:"main-ulricehamn-title",defaultText:"ULRICEHAMN 10/5",tag:"p",className:"font_white fonts_medium_B"}),u.jsx(P,{textKey:"ulricehamn-date",defaultText:"datum insert",tag:"p",className:"font_white fonts_medium"})]})}),u.jsx("div",{className:"page_02-button",children:u.jsx(Se,{to:"/ulricehamn",className:"location button-2",children:u.jsx("span",{children:"Läs mer"})})})]}),u.jsxs("div",{className:"page_02box  flex flex_col MaxWH location",children:[u.jsx("div",{className:"page_02-image",style:{backgroundImage:"url('/images/AIM_lindvallen_2024_AnkiGrothe_highres_155.jpg')"}}),u.jsx("div",{className:"page_02-content",children:u.jsxs("div",{className:"page_02-header",children:[u.jsx(P,{textKey:"main-salen-title",defaultText:"SÄLEN 10/5",tag:"p",className:"font_white fonts_medium_B"}),u.jsx(P,{textKey:"salen-date",defaultText:"datum insert",tag:"p",className:"font_white fonts_medium"})]})}),u.jsx("div",{className:"page_02-button",children:u.jsx(Se,{to:"/salen",className:"location button-2",children:u.jsx("span",{children:"Läs mer"})})})]}),u.jsxs("div",{className:"page_02box flex flex_col MaxWH location",children:[u.jsx("div",{className:"page_02-image",style:{backgroundImage:"url('/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg')"}}),u.jsx("div",{className:"page_02-content",children:u.jsxs("div",{className:"page_02-header",children:[u.jsx(P,{textKey:"main-hemsedal-title",defaultText:"HEMSEDAL 10/5",tag:"p",className:"font_white fonts_medium_B"}),u.jsx(P,{textKey:"hemsedal-date",defaultText:"datum insert",tag:"p",className:"font_white fonts_medium"})]})}),u.jsx("div",{className:"page_02-button",children:u.jsx(Se,{to:"/hemsedal",className:"location button-2",children:u.jsx("span",{children:"Läs mer"})})})]}),u.jsxs("div",{className:"page_02box  flex flex_col MaxWH location",children:[u.jsx("div",{className:"page_02-image",style:{backgroundImage:"url('/images/AIM_lindvallen_2024_AnkiGrothe_highres_125.jpg')"}}),u.jsx("div",{className:"page_02-content",children:u.jsxs("div",{className:"page_02-header",children:[u.jsx(P,{textKey:"main-kolmarden-title",defaultText:"KOLMÅRDEN 10/5",tag:"p",className:"font_white fonts_medium_B"}),u.jsx(P,{textKey:"kolmarden-date",defaultText:"datum insert",tag:"p",className:"font_white fonts_medium"})]})}),u.jsx("div",{className:"page_02-button",children:u.jsx(Se,{to:"/kolmarden",className:"location button-2",children:u.jsx("span",{children:"Läs mer"})})})]})]}),u.jsx("section",{id:"page_03",className:"page_03 flex MaxWH",children:u.jsxs("div",{className:"page_03-content flex",children:[u.jsxs("div",{className:"page_03-text",children:[u.jsx("h2",{className:"page_03-title",children:"OM AIM CHALLENGE"}),u.jsx(P,{textKey:"aim-challenge-desc-1",defaultText:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",tag:"p",className:"font_white"}),u.jsx(P,{textKey:"aim-challenge-desc-2",defaultText:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",tag:"p",className:"font_white"}),u.jsx("div",{className:"page_03-button",children:u.jsx(Se,{to:"/about",className:"button-2",children:u.jsx("span",{children:"LÄS MER"})})})]}),u.jsx("div",{className:"page_03-image",children:u.jsx("img",{src:"/images/AIM_lindvallen_2024_AnkiGrothe_highres_155.jpg",alt:"AIM Challenge"})})]})}),u.jsx("section",{id:"ad-section",className:"ad-section",children:u.jsx("div",{className:"ad-container",children:u.jsx("div",{className:"ad-content",children:u.jsx("p",{children:"ANNONS"})})})}),u.jsxs("section",{id:"latest-news",className:"latest-news-section",children:[u.jsx("h2",{className:"latest-news-title",children:"SENASTE NYTT"}),u.jsxs("div",{className:"latest-news-container",children:[u.jsxs("div",{className:"news-card",children:[u.jsx("div",{className:"news-image",children:u.jsx("img",{src:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg",alt:"News"})}),u.jsxs("div",{className:"news-content",children:[u.jsx("h3",{className:"news-location",children:"ULRICEHAMN 10/5"}),u.jsx("p",{className:"news-description",children:"Brödtext om tävlingen, 2 korta meningar"}),u.jsx("div",{className:"news-button",children:u.jsx(Se,{to:"/news/1",className:"button-2",children:u.jsx("span",{children:"LÄS MER"})})})]})]}),u.jsxs("div",{className:"news-card",children:[u.jsx("div",{className:"news-image",children:u.jsx("img",{src:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg",alt:"News"})}),u.jsxs("div",{className:"news-content",children:[u.jsx("h3",{className:"news-location",children:"ULRICEHAMN 10/5"}),u.jsx("p",{className:"news-description",children:"Brödtext om tävlingen, 2 korta meningar"}),u.jsx("div",{className:"news-button",children:u.jsx(Se,{to:"/news/2",className:"button-2",children:u.jsx("span",{children:"LÄS MER"})})})]})]}),u.jsxs("div",{className:"news-card",children:[u.jsx("div",{className:"news-image",children:u.jsx("img",{src:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg",alt:"News"})}),u.jsxs("div",{className:"news-content",children:[u.jsx("h3",{className:"news-location",children:"ULRICEHAMN 10/5"}),u.jsx("p",{className:"news-description",children:"Brödtext om tävlingen, 2 korta meningar"}),u.jsx("div",{className:"news-button",children:u.jsx(Se,{to:"/news/3",className:"button-2",children:u.jsx("span",{children:"LÄS MER"})})})]})]})]})]})]}),oD=()=>u.jsxs("div",{className:"competitions-container flex flex_col MaxWH location",children:[u.jsx("div",{className:"competitions-spacer"}),u.jsxs("div",{className:"competitions-grid",children:[u.jsxs("div",{className:"competitions-card competitions-card-ulricehamn flex flex_col flex_j_SB location simple-background",children:[u.jsxs("div",{className:"trans-background competitions-header flex flex_col flex_j_C flex_a_C flex_text_C MaxWH",children:[u.jsx(P,{textKey:"competitions-ulricehamn-title",defaultText:"ULRICEHAMN",tag:"p",className:"font_blue fonts_medium_B competitions-title text-center",style:{textAlign:"center"}}),u.jsx(P,{textKey:"ulricehamn-date",defaultText:"datum insert",tag:"p",className:"font_blue fonts_medium competitions-date text-center",style:{textAlign:"center"}})]}),u.jsx("div",{className:"competitions-button-container flex flex_col flex_j_SA flex_a_C MaxWH Button",children:u.jsx(Se,{to:"/ulricehamn",className:"location button-2 competitions-button",children:u.jsx("span",{children:"Läs mer"})})})]}),u.jsxs("div",{className:"competitions-card competitions-card-salen flex flex_col flex_j_SB location simple-background",children:[u.jsxs("div",{className:"trans-background competitions-header flex flex_col flex_j_C flex_a_C flex_text_C MaxWH",children:[u.jsx(P,{textKey:"competitions-salen-title",defaultText:"SÄLEN",tag:"p",className:"font_blue fonts_medium_B competitions-title text-center",style:{textAlign:"center"}}),u.jsx(P,{textKey:"salen-date",defaultText:"datum insert",tag:"p",className:"font_blue fonts_medium competitions-date text-center",style:{textAlign:"center"}})]}),u.jsx("div",{className:"competitions-button-container flex flex_col flex_j_SA flex_a_C MaxWH Button",children:u.jsx(Se,{to:"/salen",className:"location button-2 competitions-button",children:u.jsx("span",{children:"Läs mer"})})})]})]}),u.jsxs("div",{className:"competitions-grid",children:[u.jsxs("div",{className:"competitions-card competitions-card-hemsedal flex flex_col flex_j_SB location simple-background",children:[u.jsxs("div",{className:"trans-background competitions-header flex flex_col flex_j_C flex_a_C flex_text_C MaxWH",children:[u.jsx(P,{textKey:"competitions-hemsedal-title",defaultText:"HEMSEDAL",tag:"p",className:"font_blue fonts_medium_B competitions-title text-center",style:{textAlign:"center"}}),u.jsx(P,{textKey:"hemsedal-date",defaultText:"datum insert",tag:"p",className:"font_blue fonts_medium competitions-date text-center",style:{textAlign:"center"}})]}),u.jsx("div",{className:"competitions-button-container flex flex_col flex_j_SA flex_a_C MaxWH Button",children:u.jsx(Se,{to:"/hemsedal",className:"location button-2 competitions-button",children:u.jsx("span",{children:"Läs mer"})})})]}),u.jsxs("div",{className:"competitions-card competitions-card-kolmarden flex flex_col flex_j_SB location simple-background",children:[u.jsxs("div",{className:"trans-background competitions-header flex flex_col flex_j_C flex_a_C flex_text_C MaxWH",children:[u.jsx(P,{textKey:"competitions-kolmarden-title",defaultText:"KOLMÅRDEN",tag:"p",className:"font_blue fonts_medium_B competitions-title text-center",style:{textAlign:"center"}}),u.jsx(P,{textKey:"kolmarden-date",defaultText:"datum insert",tag:"p",className:"font_blue fonts_medium competitions-date text-center",style:{textAlign:"center"}})]}),u.jsx("div",{className:"competitions-button-container flex flex_col flex_j_SA flex_a_C MaxWH Button",children:u.jsx(Se,{to:"/kolmarden",className:"location button-2 competitions-button",children:u.jsx("span",{children:"Läs mer"})})})]})]}),u.jsx("div",{className:"competitions-grid",children:u.jsxs("div",{className:"competitions-card competitions-card-trippeln flex flex_col flex_j_SB location simple-background",style:{gridColumn:"span 2"},children:[u.jsxs("div",{className:"trans-background competitions-header flex flex_col flex_j_C flex_a_C flex_text_C MaxWH",children:[u.jsx(P,{textKey:"competitions-trippeln-title",defaultText:"AIM CHALLENGE TRIPPELN",tag:"p",className:"font_blue fonts_medium_B competitions-title text-center",style:{textAlign:"center"}}),u.jsx(P,{textKey:"trippeln-description",defaultText:"Tävla i alla tre deltävlingar och bli en del av AIM Challenge Trippeln",tag:"p",className:"font_blue fonts_medium competitions-date text-center",style:{textAlign:"center"}})]}),u.jsx("div",{className:"competitions-button-container flex flex_col flex_j_SA flex_a_C MaxWH Button",children:u.jsx(Se,{to:"/trippeln",className:"location button-2 competitions-button",children:u.jsx("span",{children:"Läs mer"})})})]})})]}),cD=()=>u.jsxs("div",{className:"ulricehamn-container",children:[u.jsx("section",{className:"ulricehamn-hero-section",children:u.jsx("div",{className:"hero-content",children:u.jsx("div",{className:"hero-image-container",children:u.jsx("img",{src:"/images/EE-AIMChallenge24-Uhamn-0171-high.jpg",alt:"Ulricehamn Event"})})})}),u.jsx("section",{className:"ulricehamn-title-section",children:u.jsx("div",{className:"title-container",children:u.jsx(P,{textKey:"ulricehamn-title-with-date",defaultText:"ULRICEHAMN - 10 MAJ 2025",tag:"h1",className:"ulricehamn-title"})})}),u.jsx("section",{className:"ulricehamn-button-section",children:u.jsx("div",{className:"button-container",children:u.jsx("a",{href:"https://raceid.com/sv/races/12846/about",target:"_blank",rel:"noopener noreferrer",className:"anmalan-button",children:u.jsx("p",{children:"TA MIG TILL ANMÄLAN"})})})}),u.jsx("section",{className:"ulricehamn-program-section",children:u.jsx("div",{className:"program-container",children:u.jsxs("div",{className:"program-cards",children:[u.jsx("div",{className:"program-card image-card",children:u.jsx("img",{src:"/images/EE-AIMChallenge24-Uhamn-0171-high.jpg",alt:"Ulricehamn Event"})}),u.jsxs("div",{className:"program-card info-card",children:[u.jsx(P,{textKey:"ulricehamn-program-title",defaultText:"PROGRAM",tag:"h2",className:"program-title"}),u.jsxs("div",{className:"program-schedule",children:[u.jsxs("div",{className:"program-day",children:[u.jsx(P,{textKey:"ulricehamn-friday-title",defaultText:"Fredag 9/5",tag:"h3",className:"day-title"}),u.jsx(P,{textKey:"ulricehamn-friday-schedule",defaultText:"17:00 - 19:00 Nummerlappsutdelning på XCC",tag:"p",className:"schedule-item"})]}),u.jsxs("div",{className:"program-day",children:[u.jsx(P,{textKey:"ulricehamn-saturday-title",defaultText:"Lördag 10/5",tag:"h3",className:"day-title"}),u.jsx(P,{textKey:"ulricehamn-saturday-schedule1",defaultText:"08:30 - 10:15 Registrering för alla tävlande som ej registrerat sig under fredagen på 157 XCC, på Lassalyckan.",tag:"p",className:"schedule-item"}),u.jsx(P,{textKey:"ulricehamn-saturday-schedule2",defaultText:"10:30 Obligatoriskt informationsmöte vid starten på Lassalyckan stadion.",tag:"p",className:"schedule-item"}),u.jsx(P,{textKey:"ulricehamn-saturday-schedule3",defaultText:"11:00 Start AIM Challenge, på Lassalyckan stadion. Gemensam start för 3 & 6-timmars tävlingen.",tag:"p",className:"schedule-item"}),u.jsx(P,{textKey:"ulricehamn-saturday-schedule4",defaultText:"14:00 Målgång för 3-timmars tävlingen.",tag:"p",className:"schedule-item"}),u.jsx(P,{textKey:"ulricehamn-saturday-schedule5",defaultText:"ca 15:30 Prisutdelning 3-timmars tävlingen",tag:"p",className:"schedule-item"}),u.jsx(P,{textKey:"ulricehamn-saturday-schedule6",defaultText:"16:30 - 20:00 After AIM med mat och dryck på Hotell Lassalyckan.",tag:"p",className:"schedule-item"}),u.jsx(P,{textKey:"ulricehamn-saturday-schedule7",defaultText:"17:00 Målgång för 6-timmars tävlingen.",tag:"p",className:"schedule-item"}),u.jsx(P,{textKey:"ulricehamn-saturday-schedule8",defaultText:"19:00 Prisutdelning utanför Hotell Lassalyckan.",tag:"p",className:"schedule-item"})]})]})]})]})})}),u.jsx("section",{className:"ulricehamn-price-section",children:u.jsx("div",{className:"price-container",children:u.jsxs("div",{className:"price-image-container",children:[u.jsx("img",{src:"/images/EE-AIMChallenge24-Uhamn-0171-high.jpg",alt:"Climbing in Ulricehamn",className:"price-background-image"}),u.jsx("div",{className:"price-overlay",children:u.jsxs("div",{className:"price-content",children:[u.jsx(P,{textKey:"ulricehamn-price-title",defaultText:"PRIS",tag:"h2",className:"section-title"}),u.jsx(P,{textKey:"ulricehamn-price-subtitle",defaultText:"ULRICEHAMN 10/5-2025",tag:"h3",className:"price-subtitle"}),u.jsxs("div",{className:"price-categories",children:[u.jsxs("div",{className:"price-category",children:[u.jsx(P,{textKey:"ulricehamn-price-3h-title",defaultText:"3-TIMMARS",tag:"h4",className:"category-title"}),u.jsx(P,{textKey:"ulricehamn-price-3h-1",defaultText:"1500 SEK / lag för Early Bird-anmälan innan 1 november.",tag:"p",className:"price-item"}),u.jsx(P,{textKey:"ulricehamn-price-3h-2",defaultText:"1700 SEK / lag för anmälan mellan 1 november och 1 februari.",tag:"p",className:"price-item"}),u.jsx(P,{textKey:"ulricehamn-price-3h-3",defaultText:"1900 SEK / lag för anmälan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(P,{textKey:"ulricehamn-price-3h-4",defaultText:"2100 SEK / lag för anmälan från 25 april och fram till start.",tag:"p",className:"price-item"})]}),u.jsxs("div",{className:"price-category",children:[u.jsx(P,{textKey:"ulricehamn-price-6h-title",defaultText:"6-TIMMARS",tag:"h4",className:"category-title"}),u.jsx(P,{textKey:"ulricehamn-price-6h-1",defaultText:"1900 SEK / lag för Early Bird-anmälan innan 1 november.",tag:"p",className:"price-item"}),u.jsx(P,{textKey:"ulricehamn-price-6h-2",defaultText:"2100 SEK / lag för anmälan mellan 1 november och 1 februari.",tag:"p",className:"price-item"}),u.jsx(P,{textKey:"ulricehamn-price-6h-3",defaultText:"2300 SEK / lag för anmälan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(P,{textKey:"ulricehamn-price-6h-4",defaultText:"2500 SEK / lag för anmälan från 25 april och fram till start.",tag:"p",className:"price-item"})]})]}),u.jsxs("div",{className:"price-category trippeln-category",children:[u.jsx(P,{textKey:"ulricehamn-price-trippeln-title",defaultText:"AIM CHALLENGE TRIPPELN 2025",tag:"h4",className:"category-title"}),u.jsx(P,{textKey:"ulricehamn-price-trippeln-1",defaultText:"4750 SEK / lag för Early Bird-anmälan innan 1 januari.",tag:"p",className:"price-item"}),u.jsx(P,{textKey:"ulricehamn-price-trippeln-2",defaultText:"5250 SEK / lag för anmälan mellan 1 januari och 1 februari.",tag:"p",className:"price-item"}),u.jsx(P,{textKey:"ulricehamn-price-trippeln-3",defaultText:"5750 SEK / lag för anmälan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(P,{textKey:"ulricehamn-price-trippeln-4",defaultText:"6250 SEK / lag för anmälan efter den 25 april.",tag:"p",className:"price-item"})]}),u.jsx("div",{className:"price-button-container",children:u.jsx("a",{href:"https://raceid.com/sv/races/12846/about",target:"_blank",rel:"noopener noreferrer",className:"anmalan-button",children:u.jsx("p",{children:"TA MIG TILL ANMÄLAN"})})})]})})]})})}),u.jsxs("section",{id:"latest-news",className:"latest-news-section",children:[u.jsx("h2",{className:"latest-news-title",children:"SENASTE NYTT ULRICEHAMN"}),u.jsxs("div",{className:"latest-news-container",children:[u.jsxs("div",{className:"news-card",children:[u.jsx("div",{className:"news-image",children:u.jsx("img",{src:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg",alt:"News"})}),u.jsxs("div",{className:"news-content",children:[u.jsx("h3",{className:"news-location",children:"NYHETSARTIKEL 1"}),u.jsx("p",{className:"news-description",children:"Brödtext om tävlingen, 2 korta em-ningar"}),u.jsx("div",{className:"news-button",children:u.jsx(Se,{to:"/news/1",className:"button-2",children:u.jsx("span",{children:"LÄS MER"})})})]})]}),u.jsxs("div",{className:"news-card",children:[u.jsx("div",{className:"news-image",children:u.jsx("img",{src:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg",alt:"News"})}),u.jsxs("div",{className:"news-content",children:[u.jsx("h3",{className:"news-location",children:"NYHETSARTIKEL 2"}),u.jsx("p",{className:"news-description",children:"Brödtext om tävlingen, 2 korta em-ningar"}),u.jsx("div",{className:"news-button",children:u.jsx(Se,{to:"/news/2",className:"button-2",children:u.jsx("span",{children:"LÄS MER"})})})]})]}),u.jsxs("div",{className:"news-card",children:[u.jsx("div",{className:"news-image",children:u.jsx("img",{src:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg",alt:"News"})}),u.jsxs("div",{className:"news-content",children:[u.jsx("h3",{className:"news-location",children:"NYHETSARTIKEL 3"}),u.jsx("p",{className:"news-description",children:"Brödtext om tävlingen, 2 korta em-ningar"}),u.jsx("div",{className:"news-button",children:u.jsx(Se,{to:"/news/3",className:"button-2",children:u.jsx("span",{children:"LÄS MER"})})})]})]})]})]}),u.jsx("section",{className:"useful-links-section",children:u.jsxs("div",{className:"useful-links-container",children:[u.jsx("h2",{className:"useful-links-title",children:"NYTTIGA LÄNKAR"}),u.jsxs("div",{className:"links-category",children:[u.jsx("h3",{className:"links-category-title",children:"Cykeluthyrning"}),u.jsxs("p",{className:"links-text",children:["Cykeluthyrning med in- och utlämning på Lassalyckan Stadion."," ",u.jsx("a",{href:"#",className:"links-link",children:"Läs mer och boka här."})]})]}),u.jsxs("div",{className:"links-category",children:[u.jsx("h3",{className:"links-category-title",children:"Boende"}),u.jsx("p",{className:"links-text",children:"Önskar du att bo nära start och mål så kan vi varmt rekommendera Hotell Lassalyckan som erbjuder ett modernt boende ett stenkast ifrån starten."}),u.jsx("a",{href:"https://www.hotell-lassalyckan.se",className:"links-link",target:"_blank",rel:"noopener noreferrer",children:"https://www.hotell-lassalyckan.se"})]}),u.jsxs("div",{className:"links-category",children:[u.jsx("h3",{className:"links-category-title",children:"Mat"}),u.jsx("p",{className:"links-text",children:"Önskar du att bo nära start och mål så kan vi varmt rekommendera Hotell Lassalyckan som erbjuder ett modernt boende ett stenkast ifrån starten."})]})]})}),u.jsxs("section",{className:"sponsors-section",children:[u.jsx("h2",{className:"sponsors-title",children:"LOKALA SPONSORER"}),u.jsxs("div",{className:"sponsors-container",children:[u.jsx("div",{className:"s-sponsor-logo side-logo",children:u.jsx("img",{src:"images/UD Logo.png",alt:"UD Logo"})}),u.jsx("div",{className:"s-sponsor-logo main-logo",children:u.jsx("img",{src:"images/Aim_Challenge_logo_white.svg",alt:"AIM Challenge"})}),u.jsx("div",{className:"s-sponsor-logo side-logo",children:u.jsx("img",{src:"images/holdut_logo_sort_1.png",alt:"Holdut Logo"})})]})]}),u.jsx("section",{className:"footer-section",children:u.jsxs("div",{className:"footer-container",children:[u.jsxs("div",{className:"footer-top",children:[u.jsxs("div",{className:"footer-left",children:[u.jsx("div",{className:"footer-logo",children:u.jsx("img",{src:"/images/Aim_Challenge_logo_white.svg",alt:"AIM Challenge"})}),u.jsxs("div",{className:"footer-info",children:[u.jsx("p",{children:"Loftsdalian 108, 30129 Halmstad"}),u.jsx("p",{children:u.jsx("a",{href:"mailto:info@aimchallenge.com",children:"info@aimchallenge.com"})}),u.jsx("p",{children:"+46 (0) 73-81 87 54"})]}),u.jsxs("div",{className:"footer-social",children:[u.jsx("a",{href:"#",className:"social-icon",children:u.jsx("i",{className:"fa fa-instagram"})}),u.jsx("a",{href:"#",className:"social-icon",children:u.jsx("i",{className:"fa fa-facebook"})}),u.jsx("a",{href:"#",className:"social-icon",children:u.jsx("i",{className:"fa fa-twitter"})})]})]}),u.jsxs("div",{className:"footer-columns",children:[u.jsxs("div",{className:"footer-column footer-column-center",children:[u.jsx("h3",{className:"footer-title",children:"INFORMATION"}),u.jsxs("ul",{className:"footer-links",children:[u.jsx("li",{children:u.jsx("a",{href:"#",children:"Anmälningsvillkor"})}),u.jsx("li",{children:u.jsx("a",{href:"#",children:"Integritetspolicy"})}),u.jsx("li",{children:u.jsx("a",{href:"#",children:"FAQ"})})]})]}),u.jsxs("div",{className:"footer-column footer-column-right",children:[u.jsx("h3",{className:"footer-title",children:"NYHETSBREV"}),u.jsx("p",{className:"footer-newsletter-text",children:"Åtext om nyhetsbrev, samt en optin ruta för att fylla i sin epostadress. Integration mot mailchimp."})]})]})]}),u.jsx("div",{className:"footer-copyright",children:u.jsx("p",{children:" 2023 Copyright AIM Challenge."})})]})})]}),uD=()=>u.jsxs("div",{className:"salen-container",children:[u.jsx("section",{className:"salen-hero-section",children:u.jsx("div",{className:"hero-content",children:u.jsx("div",{className:"hero-image-container",children:u.jsx("img",{src:"/images/salen-hero.jpg",alt:"Sälen Event"})})})}),u.jsx("section",{className:"salen-title-section",children:u.jsx("div",{className:"title-container",children:u.jsx(P,{textKey:"salen-title-with-date",defaultText:"SÄLEN - 1 AUGUSTI 2025",tag:"h1",className:"salen-title"})})}),u.jsx("section",{className:"salen-program-section",children:u.jsx("div",{className:"program-container",children:u.jsxs("div",{className:"program-cards",children:[u.jsx("div",{className:"program-card image-card",children:u.jsx("img",{src:"/images/EE-AIMChallenge24-Uhamn-0171-high.jpg",alt:"Sälen Event"})}),u.jsxs("div",{className:"program-card info-card",children:[u.jsx(P,{textKey:"salen-program-title",defaultText:"PROGRAM",tag:"h2",className:"program-title"}),u.jsxs("div",{className:"program-schedule",children:[u.jsxs("div",{className:"program-day",children:[u.jsx(P,{textKey:"salen-friday-title",defaultText:"Fredag 9/5",tag:"h3",className:"day-title"}),u.jsx(P,{textKey:"salen-friday-schedule",defaultText:"17:00 - 19:00 Nummerlappsutdelning på XCC",tag:"p",className:"schedule-item"})]}),u.jsxs("div",{className:"program-day",children:[u.jsx(P,{textKey:"salen-saturday-title",defaultText:"Lördag 10/5",tag:"h3",className:"day-title"}),u.jsx(P,{textKey:"salen-saturday-schedule1",defaultText:"08:30 - 10:15 Registrering för alla tävlande som ej registrerat sig under fredagen på 157 XCC, på Lassalyckan.",tag:"p",className:"schedule-item"}),u.jsx(P,{textKey:"salen-saturday-schedule2",defaultText:"10:30 Obligatoriskt informationsmöte vid starten på Lassalyckan stadion.",tag:"p",className:"schedule-item"}),u.jsx(P,{textKey:"salen-saturday-schedule3",defaultText:"11:00 Start AIM Challenge, på Lassalyckan stadion. Gemensam start för 3 & 6-timmars tävlingen.",tag:"p",className:"schedule-item"}),u.jsx(P,{textKey:"salen-saturday-schedule4",defaultText:"14:00 Målgång för 3-timmars tävlingen.",tag:"p",className:"schedule-item"}),u.jsx(P,{textKey:"salen-saturday-schedule5",defaultText:"ca 15:30 Prisutdelning 3-timmars tävlingen",tag:"p",className:"schedule-item"}),u.jsx(P,{textKey:"salen-saturday-schedule6",defaultText:"16:30 - 20:00 After AIM med mat och dryck på Hotell Lassalyckan.",tag:"p",className:"schedule-item"}),u.jsx(P,{textKey:"salen-saturday-schedule7",defaultText:"17:00 Målgång för 6-timmars tävlingen.",tag:"p",className:"schedule-item"}),u.jsx(P,{textKey:"salen-saturday-schedule8",defaultText:"19:00 Prisutdelning utanför Hotell Lassalyckan.",tag:"p",className:"schedule-item"})]})]})]})]})})}),u.jsx("section",{className:"salen-price-section",children:u.jsx("div",{className:"price-container",children:u.jsxs("div",{className:"price-image-container",children:[u.jsx("img",{src:"/images/AIM_lindvallen_2024_AnkiGrothe_highres_34.jpg",alt:"Climbing in Lindvallen",className:"price-background-image"}),u.jsx("div",{className:"price-overlay",children:u.jsxs("div",{className:"price-content",children:[u.jsx(P,{textKey:"salen-price-title",defaultText:"PRIS",tag:"h2",className:"section-title"}),u.jsx(P,{textKey:"salen-price-subtitle",defaultText:"ULRICEHAMN 10/5-2025",tag:"h3",className:"price-subtitle"}),u.jsxs("div",{className:"price-categories",children:[u.jsxs("div",{className:"price-category",children:[u.jsx(P,{textKey:"salen-price-3h-title",defaultText:"3-TIMMARS",tag:"h4",className:"category-title"}),u.jsx(P,{textKey:"salen-price-3h-1",defaultText:"1500 SEK / lag för Early Bird-anmälan innan 1 november.",tag:"p",className:"price-item"}),u.jsx(P,{textKey:"salen-price-3h-2",defaultText:"1700 SEK / lag för anmälan mellan 1 november och 1 februari.",tag:"p",className:"price-item"}),u.jsx(P,{textKey:"salen-price-3h-3",defaultText:"1900 SEK / lag för anmälan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(P,{textKey:"salen-price-3h-4",defaultText:"2100 SEK / lag för anmälan från 25 april och fram till start.",tag:"p",className:"price-item"})]}),u.jsxs("div",{className:"price-category",children:[u.jsx(P,{textKey:"salen-price-6h-title",defaultText:"6-TIMMARS",tag:"h4",className:"category-title"}),u.jsx(P,{textKey:"salen-price-6h-1",defaultText:"1900 SEK / lag för Early Bird-anmälan innan 1 november.",tag:"p",className:"price-item"}),u.jsx(P,{textKey:"salen-price-6h-2",defaultText:"2100 SEK / lag för anmälan mellan 1 november och 1 februari.",tag:"p",className:"price-item"}),u.jsx(P,{textKey:"salen-price-6h-3",defaultText:"2300 SEK / lag för anmälan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(P,{textKey:"salen-price-6h-4",defaultText:"2500 SEK / lag för anmälan från 25 april och fram till start.",tag:"p",className:"price-item"})]})]}),u.jsxs("div",{className:"price-category trippeln-category",children:[u.jsx(P,{textKey:"salen-price-trippeln-title",defaultText:"AIM CHALLENGE TRIPPELN 2025",tag:"h4",className:"category-title"}),u.jsx(P,{textKey:"salen-price-trippeln-1",defaultText:"4750 SEK / lag för Early Bird-anmälan innan 1 januari.",tag:"p",className:"price-item"}),u.jsx(P,{textKey:"salen-price-trippeln-2",defaultText:"5250 SEK / lag för anmälan mellan 1 januari och 1 februari.",tag:"p",className:"price-item"}),u.jsx(P,{textKey:"salen-price-trippeln-3",defaultText:"5750 SEK / lag för anmälan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(P,{textKey:"salen-price-trippeln-4",defaultText:"6250 SEK / lag för anmälan efter den 25 april.",tag:"p",className:"price-item"})]}),u.jsx("div",{className:"price-button-container",children:u.jsx("a",{href:"https://raceid.com/sv/races/12846/about",target:"_blank",rel:"noopener noreferrer",className:"anmalan-button",children:u.jsx("p",{children:"TA MIG TILL ANMÄLAN"})})})]})})]})})}),u.jsxs("section",{id:"latest-news",className:"latest-news-section",children:[u.jsx("h2",{className:"latest-news-title",children:"SENASTE NYTT SÄLEN"}),u.jsxs("div",{className:"latest-news-container",children:[u.jsxs("div",{className:"news-card",children:[u.jsx("div",{className:"news-image",children:u.jsx("img",{src:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg",alt:"News"})}),u.jsxs("div",{className:"news-content",children:[u.jsx("h3",{className:"news-location",children:"NYHETSARTIKEL 1"}),u.jsx("p",{className:"news-description",children:"Brödtext om tävlingen, 2 korta em-ningar"}),u.jsx("div",{className:"news-button",children:u.jsx(Se,{to:"/news/1",className:"button-2",children:u.jsx("span",{children:"LÄS MER"})})})]})]}),u.jsxs("div",{className:"news-card",children:[u.jsx("div",{className:"news-image",children:u.jsx("img",{src:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg",alt:"News"})}),u.jsxs("div",{className:"news-content",children:[u.jsx("h3",{className:"news-location",children:"NYHETSARTIKEL 2"}),u.jsx("p",{className:"news-description",children:"Brödtext om tävlingen, 2 korta em-ningar"}),u.jsx("div",{className:"news-button",children:u.jsx(Se,{to:"/news/2",className:"button-2",children:u.jsx("span",{children:"LÄS MER"})})})]})]}),u.jsxs("div",{className:"news-card",children:[u.jsx("div",{className:"news-image",children:u.jsx("img",{src:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg",alt:"News"})}),u.jsxs("div",{className:"news-content",children:[u.jsx("h3",{className:"news-location",children:"NYHETSARTIKEL 3"}),u.jsx("p",{className:"news-description",children:"Brödtext om tävlingen, 2 korta em-ningar"}),u.jsx("div",{className:"news-button",children:u.jsx(Se,{to:"/news/3",className:"button-2",children:u.jsx("span",{children:"LÄS MER"})})})]})]})]})]}),u.jsx("section",{className:"useful-links-section",children:u.jsxs("div",{className:"useful-links-container",children:[u.jsx("h2",{className:"useful-links-title",children:"NYTTIGA LÄNKAR"}),u.jsxs("div",{className:"links-category",children:[u.jsx("h3",{className:"links-category-title",children:"Cykeluthyrning"}),u.jsxs("p",{className:"links-text",children:["Cykeluthyrning med in- och utlämning på Lassalyckan Stadion."," ",u.jsx("a",{href:"#",className:"links-link",children:"Läs mer och boka här."})]})]}),u.jsxs("div",{className:"links-category",children:[u.jsx("h3",{className:"links-category-title",children:"Boende"}),u.jsx("p",{className:"links-text",children:"Önskar du att bo nära start och mål så kan vi varmt rekommendera Hotell Lassalyckan som erbjuder ett modernt boende ett stenkast ifrån starten."}),u.jsx("a",{href:"https://www.hotell-lassalyckan.se",className:"links-link",target:"_blank",rel:"noopener noreferrer",children:"https://www.hotell-lassalyckan.se"})]}),u.jsxs("div",{className:"links-category",children:[u.jsx("h3",{className:"links-category-title",children:"Mat"}),u.jsx("p",{className:"links-text",children:"Önskar du att bo nära start och mål så kan vi varmt rekommendera Hotell Lassalyckan som erbjuder ett modernt boende ett stenkast ifrån starten."})]})]})}),u.jsxs("section",{className:"sponsors-section",children:[u.jsx("h2",{className:"sponsors-title",children:"LOKALA SPONSORER"}),u.jsxs("div",{className:"sponsors-container",children:[u.jsx("div",{className:"s-sponsor-logo side-logo",children:u.jsx("img",{src:"images/UD Logo.png",alt:"UD Logo"})}),u.jsx("div",{className:"s-sponsor-logo main-logo",children:u.jsx("img",{src:"images/Aim_Challenge_logo_white.svg",alt:"AIM Challenge"})}),u.jsx("div",{className:"s-sponsor-logo side-logo",children:u.jsx("img",{src:"images/holdut_logo_sort_1.png",alt:"Holdut Logo"})})]})]}),u.jsx("section",{className:"footer-section",children:u.jsxs("div",{className:"footer-container",children:[u.jsxs("div",{className:"footer-top",children:[u.jsxs("div",{className:"footer-left",children:[u.jsx("div",{className:"footer-logo",children:u.jsx("img",{src:"/images/Aim_Challenge_logo_white.svg",alt:"AIM Challenge"})}),u.jsxs("div",{className:"footer-info",children:[u.jsx("p",{children:"Loftsdalian 108, 30129 Halmstad"}),u.jsx("p",{children:u.jsx("a",{href:"mailto:info@aimchallenge.com",children:"info@aimchallenge.com"})}),u.jsx("p",{children:"+46 (0) 73-81 87 54"})]}),u.jsxs("div",{className:"footer-social",children:[u.jsx("a",{href:"#",className:"social-icon",children:u.jsx("i",{className:"fa fa-instagram"})}),u.jsx("a",{href:"#",className:"social-icon",children:u.jsx("i",{className:"fa fa-facebook"})}),u.jsx("a",{href:"#",className:"social-icon",children:u.jsx("i",{className:"fa fa-twitter"})})]})]}),u.jsxs("div",{className:"footer-columns",children:[u.jsxs("div",{className:"footer-column footer-column-center",children:[u.jsx("h3",{className:"footer-title",children:"INFORMATION"}),u.jsxs("ul",{className:"footer-links",children:[u.jsx("li",{children:u.jsx("a",{href:"#",children:"Anmälningsvillkor"})}),u.jsx("li",{children:u.jsx("a",{href:"#",children:"Integritetspolicy"})}),u.jsx("li",{children:u.jsx("a",{href:"#",children:"FAQ"})})]})]}),u.jsxs("div",{className:"footer-column footer-column-right",children:[u.jsx("h3",{className:"footer-title",children:"NYHETSBREV"}),u.jsx("p",{className:"footer-newsletter-text",children:"Åtext om nyhetsbrev, samt en optin ruta för att fylla i sin epostadress. Integration mot mailchimp."})]})]})]}),u.jsx("div",{className:"footer-copyright",children:u.jsx("p",{children:" 2023 Copyright AIM Challenge."})})]})})]}),hD=()=>u.jsxs("div",{className:"MaxWH location",children:[u.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",children:u.jsxs("div",{className:"trans-background page_01box flex flex_col flex_j_SA",children:[u.jsx(P,{textKey:"hemsedal-title",defaultText:"HEMSEDAL",tag:"p",className:"font_blue fonts_huge"}),u.jsx(P,{textKey:"hemsedal-date",defaultText:"datum insert",tag:"p",className:"font_blue fonts_medium competitions-date text-center"})]})}),u.jsx("section",{className:"hemsedal-button-section-bg flex flex_j_C flex_a_C",children:u.jsx("a",{href:"https://raceid.com/sv/races/13015/about",target:"_blank",rel:"noopener noreferrer",className:"hemsedal-button flex flex_j_C flex_a_C",children:u.jsx("p",{className:"font_white fonts_medium",children:"TA MIG TILL ANMÄLAN"})})}),u.jsxs("section",{className:"hemsedal-section hemsedal-bg-1 flex flex_j_C flex_a_C",children:[u.jsxs("div",{className:"hemsedal-content trans-background MaxWH flex flex_col flex_j_C",children:[u.jsx(P,{textKey:"hemsedal-program-title",defaultText:"PROGRAM",tag:"p",className:"font_blue fonts_large"}),u.jsx(P,{textKey:"hemsedal-program-subtitle",defaultText:"PRELIMINÄRT PROGRAM:",tag:"p",className:"font_blue fonts_medium"}),u.jsxs("div",{className:"font_blue",children:[u.jsx(P,{textKey:"hemsedal-friday-title",defaultText:"FREDAG 23 AUGUSTI",tag:"p",className:"fonts_medium"}),u.jsx(P,{textKey:"hemsedal-friday-schedule",defaultText:"17:00 - 20:00 Nummerlappsutdelning för alla tävlande på SkiStarshop Hemsedal",tag:"p",className:"fonts_xsmall hemsedal-time-entry"})]}),u.jsxs("div",{className:"font_blue",children:[u.jsx(P,{textKey:"hemsedal-saturday-title",defaultText:"LÖRDAG 24 AUGUSTI",tag:"p",className:"fonts_medium"}),u.jsx(P,{textKey:"hemsedal-saturday-schedule1",defaultText:"08:30-09:00 Nummerlappsutdelning vid starten",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),u.jsx(P,{textKey:"hemsedal-saturday-schedule2",defaultText:"09:30 Obligatoriskt infomöte vid starten",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),u.jsx(P,{textKey:"hemsedal-saturday-schedule3",defaultText:"10:00 START! Start/målområde vid Hemsedal Skisenter",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),u.jsx(P,{textKey:"hemsedal-saturday-schedule4",defaultText:"15:30 After AIM på Stavkroa",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),u.jsx(P,{textKey:"hemsedal-saturday-schedule5",defaultText:"16:00 Målgång AIM Challenge",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),u.jsx(P,{textKey:"hemsedal-saturday-schedule6",defaultText:"18:00 Prisutdelning på Stavkroa",tag:"p",className:"fonts_xsmall hemsedal-time-entry"})]})]}),u.jsx("div",{className:"hemsedal-spacer MaxWH"})]}),u.jsxs("section",{className:"hemsedal-section hemsedal-bg-2 flex flex_j_C flex_a_C",children:[u.jsx("div",{className:"hemsedal-spacer MaxWH"}),u.jsxs("div",{className:"hemsedal-content trans-background MaxWH flex flex_col flex_j_C",children:[u.jsx(P,{textKey:"hemsedal-pris-title",defaultText:"PRIS",tag:"p",className:"font_blue fonts_large"}),u.jsxs("div",{className:"font_blue",children:[u.jsx(P,{textKey:"hemsedal-pris-date",defaultText:"HEMSEDAL",tag:"p",className:"fonts_medium"}),u.jsx("a",{href:"https://raceid.com/sv/races/13015/about",target:"_blank",rel:"noopener noreferrer",children:u.jsx(P,{textKey:"hemsedal-date",defaultText:"24/8-2024",tag:"p",className:"font_blue fonts_medium competitions-date text-center"})}),u.jsx(P,{textKey:"hemsedal-pris-price1",defaultText:"1900 NOK / lag för Early Bird-anmälan innan 1 januari",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),u.jsx(P,{textKey:"hemsedal-pris-price2",defaultText:"2100 NOK / lag för anmälan mellan 1 januari och 1 april",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),u.jsx(P,{textKey:"hemsedal-pris-price3",defaultText:"2300 NOK / lag för anmälan mellan 2 april och 18 juli",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),u.jsx(P,{textKey:"hemsedal-pris-price4",defaultText:"2500 NOK / lag för anmälan från 19 juli och fram till start",tag:"p",className:"fonts_xsmall hemsedal-time-entry"})]}),u.jsxs("div",{className:"font_blue",children:[u.jsx(P,{textKey:"hemsedal-trippeln-title",defaultText:"AIM CHALLENGE TRIPPELN 2025",tag:"p",className:"fonts_medium"}),u.jsx(P,{textKey:"hemsedal-trippeln-price1",defaultText:"4750 SEK / lag för Early Bird-anmälan innan 1 januari",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),u.jsx(P,{textKey:"hemsedal-trippeln-price2",defaultText:"5250 SEK / lag för anmälan mellan 1 januari och 1 februari",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),u.jsx(P,{textKey:"hemsedal-trippeln-price3",defaultText:"5750 SEK / lag för anmälan mellan 2 februari och 25 april",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),u.jsx(P,{textKey:"hemsedal-trippeln-price4",defaultText:"6250 SEK / lag för anmälan efter den 26 april",tag:"p",className:"fonts_xsmall hemsedal-time-entry"})]}),u.jsxs("div",{className:"font_blue",children:[u.jsx(P,{textKey:"hemsedal-landskampen-title",defaultText:"LANDSKAMPEN = LINDVALLEN OCH HEMSEDAL",tag:"p",className:"fonts_medium"}),u.jsx(P,{textKey:"hemsedal-landskampen-price1",defaultText:"3400 SEK / lag för anmälan innan 1 maj",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),u.jsx(P,{textKey:"hemsedal-landskampen-price2",defaultText:"3800 SEK / lag för anmälan mellan 1 maj och 1 juli",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),u.jsx(P,{textKey:"hemsedal-landskampen-price3",defaultText:"4200 SEK / lag för anmälan från 1 juli och framåt",tag:"p",className:"fonts_xsmall hemsedal-time-entry"})]}),u.jsx("a",{href:"https://raceid.com/sv/races/13014/about",target:"_blank",rel:"noopener noreferrer",className:"button-2 hemsedal-button-align flex flex_s",children:u.jsx("span",{className:"font_white",children:"ANMÄLAN"})})]})]}),u.jsxs("section",{className:"hemsedal-section hemsedal-bg-3 flex flex_j_C flex_a_C",children:[u.jsxs("div",{className:"hemsedal-content trans-background MaxWH flex flex_col flex_j_C",children:[u.jsx(P,{textKey:"hemsedal-overnattning-title",defaultText:"ÖVERNATTNING OCH MAT",tag:"p",className:"font_blue fonts_large"}),u.jsxs("div",{className:"font_blue hemsedal-text-block",children:[u.jsx(P,{textKey:"hemsedal-overnattning-subtitle",defaultText:"ÖVERNATTNING",tag:"p",className:"fonts_medium"}),u.jsx(P,{textKey:"hemsedal-overnattning-info",defaultText:"Boende bokas enklast genom Skistar. Klicka för att komma direkt till bokningssida.",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),u.jsx(P,{textKey:"hemsedal-cykeluthyrning-info",defaultText:"Cykel kan hyras hos Concept Store. Klicka för att komma till bokningssida.",tag:"p",className:"fonts_xsmall hemsedal-time-entry"})]}),u.jsxs("div",{className:"font_blue hemsedal-text-block",children:[u.jsx(P,{textKey:"hemsedal-mat-subtitle",defaultText:"MAT",tag:"p",className:"fonts_medium"}),u.jsx(P,{textKey:"hemsedal-mat-friday",defaultText:"FREDAG:",tag:"p",className:"fonts_small"}),u.jsx(P,{textKey:"hemsedal-mat-friday-info",defaultText:"18:00 - 21:00 Italiensk pizza som Take Away - Beställ på plats på lodgen Spiseri eller ring +47 458 65 086. Meny kommer att läggas ut HÄR.",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),u.jsx(P,{textKey:"hemsedal-mat-saturday",defaultText:"LÖRDAG:",tag:"p",className:"fonts_small"}),u.jsx(P,{textKey:"hemsedal-mat-saturday-info1",defaultText:"10:00 - 15:00 Cafe och lunchservering på Lodgen Spiseri",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),u.jsx(P,{textKey:"hemsedal-mat-saturday-info2",defaultText:"15:30-18:00 After AIM på Lodgen Spiseri. Viktigt att fylla på med vätska och energi efter målgång!",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),u.jsx(P,{textKey:"hemsedal-mat-saturday-info3",defaultText:"19:30 Bankettmiddag på Lodgen Spiseri. Bokas här.",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),u.jsx(P,{textKey:"hemsedal-mat-sunday",defaultText:"SÖNDAG:",tag:"p",className:"fonts_small"}),u.jsx(P,{textKey:"hemsedal-mat-sunday-info",defaultText:"10:00 - 15:00 Cafe och lunchservering på Lodgen Spiseri",tag:"p",className:"fonts_xsmall hemsedal-time-entry"})]}),u.jsx("div",{className:"font_blue hemsedal-text-block",children:u.jsx(P,{textKey:"hemsedal-mat-info",defaultText:"Lodgen Spiseri följer alla de nationella riktlinjerna för att ge dig en trygg och bra upplevelse.",tag:"p",className:"fonts_xsmall"})})]}),u.jsx("div",{className:"hemsedal-spacer MaxWH"})]})]}),dD=()=>u.jsxs("div",{className:"MaxWH location",children:[u.jsx("div",{className:"set-03",style:{height:"120px"}}),u.jsx("section",{className:"page_01 kolmarden-bg-1 flex flex_col flex_j_E set-03",children:u.jsxs("div",{className:"trans-background page_01box flex flex_col flex_j_SA",children:[u.jsx(P,{textKey:"kolmarden-title",defaultText:"KOLMÅRDEN",tag:"p",className:"font_blue fonts_huge"}),u.jsx(P,{textKey:"kolmarden-date",defaultText:"datum insert",tag:"p",className:"font_blue fonts_medium competitions-date text-center"})]})}),u.jsx("section",{className:"kolmarden-button-section-bg flex flex_j_C flex_a_C set-03",children:u.jsx("a",{href:"https://raceid.com/sv/races/13014/about",target:"_blank",rel:"noopener noreferrer",className:"kolmarden-button flex flex_j_C flex_a_C",children:u.jsx("p",{className:"font_white fonts_medium",children:"TA MIG TILL ANMÄLAN"})})}),u.jsx("section",{className:"kolmarden-section kolmarden-bg-2 flex flex_j_R flex_a_C set-03",children:u.jsxs("div",{className:"kolmarden-content trans-background MaxWH flex flex_col flex_j_C",children:[u.jsx(P,{textKey:"kolmarden-program-title",defaultText:"PROGRAM",tag:"p",className:"font_blue fonts_large"}),u.jsx(P,{textKey:"kolmarden-program-subtitle",defaultText:"PRELIMINÄRT PROGRAM:",tag:"p",className:"font_blue fonts_medium"}),u.jsxs("div",{className:"font_blue",children:[u.jsx(P,{textKey:"kolmarden-friday-title",defaultText:"FREDAG 27 SEPTEMBER",tag:"p",className:"fonts_small kolmarden-day-title"}),u.jsx(P,{textKey:"kolmarden-friday-program",defaultText:"15:00-19:00 Tävlingsexpeditionen öppen, utlämning av nummerlappar och kartor",tag:"p",className:"fonts_xsmall kolmarden-program-entry"})]}),u.jsxs("div",{className:"font_blue",children:[u.jsx(P,{textKey:"kolmarden-saturday-title",defaultText:"LÖRDAG 28 SEPTEMBER",tag:"p",className:"fonts_small kolmarden-day-title"}),u.jsx(P,{textKey:"kolmarden-saturday-program-1",defaultText:"07:30-08:30 Tävlingsexpeditionen öppen, utlämning av nummerlappar och kartor",tag:"p",className:"fonts_xsmall kolmarden-program-entry"}),u.jsx(P,{textKey:"kolmarden-saturday-program-2",defaultText:"08:30 Obligatorisk genomgång vid startområdet",tag:"p",className:"fonts_xsmall kolmarden-program-entry"}),u.jsx(P,{textKey:"kolmarden-saturday-program-3",defaultText:"09:00 Start",tag:"p",className:"fonts_xsmall kolmarden-program-entry"}),u.jsx(P,{textKey:"kolmarden-saturday-program-4",defaultText:"15:00 Målet stänger",tag:"p",className:"fonts_xsmall kolmarden-program-entry"}),u.jsx(P,{textKey:"kolmarden-saturday-program-5",defaultText:"16:00 Prisutdelning",tag:"p",className:"fonts_xsmall kolmarden-program-entry"})]})]})}),u.jsx("section",{className:"kolmarden-section kolmarden-bg-3 flex flex_j_E flex_a_C set-03",children:u.jsxs("div",{className:"kolmarden-content trans-background MaxWH flex flex_col flex_j_C",children:[u.jsx(P,{textKey:"kolmarden-registration-title",defaultText:"ANMÄLAN",tag:"p",className:"font_blue fonts_large"}),u.jsx("div",{className:"font_blue kolmarden-text-block",children:u.jsx(P,{textKey:"kolmarden-registration-text",defaultText:"Anmälan görs via RaceID. Klicka på knappen nedan för att komma till anmälningssidan.",tag:"p"})}),u.jsxs("div",{className:"kolmarden-registration-info font_blue",children:[u.jsxs("div",{className:"kolmarden-registration-column",children:[u.jsx(P,{textKey:"kolmarden-registration-early-title",defaultText:"ORDINARIE ANMÄLAN",tag:"p",className:"fonts_small kolmarden-fee-title"}),u.jsx(P,{textKey:"kolmarden-registration-early-dates",defaultText:"t.o.m. 31 augusti 2024",tag:"p",className:"fonts_xsmall kolmarden-date-entry"}),u.jsx(P,{textKey:"kolmarden-registration-early-fee",defaultText:"1 495 kr / lag",tag:"p",className:"fonts_xsmall kolmarden-fee-entry"})]}),u.jsxs("div",{className:"kolmarden-registration-column",children:[u.jsx(P,{textKey:"kolmarden-registration-late-title",defaultText:"SEN ANMÄLAN",tag:"p",className:"fonts_small kolmarden-fee-title"}),u.jsx(P,{textKey:"kolmarden-registration-late-dates",defaultText:"1 september - 20 september 2024",tag:"p",className:"fonts_xsmall kolmarden-date-entry"}),u.jsx(P,{textKey:"kolmarden-registration-late-fee",defaultText:"1 795 kr / lag",tag:"p",className:"fonts_xsmall kolmarden-fee-entry"})]}),u.jsxs("div",{className:"kolmarden-registration-column",children:[u.jsx(P,{textKey:"kolmarden-registration-onsite-title",defaultText:"EFTERANMÄLAN",tag:"p",className:"fonts_small kolmarden-fee-title"}),u.jsx(P,{textKey:"kolmarden-registration-onsite-dates",defaultText:"21 september - 27 september 2024",tag:"p",className:"fonts_xsmall kolmarden-date-entry"}),u.jsx(P,{textKey:"kolmarden-registration-onsite-fee",defaultText:"1 995 kr / lag",tag:"p",className:"fonts_xsmall kolmarden-fee-entry"})]})]}),u.jsxs("div",{className:"kolmarden-text-block font_blue",children:[u.jsx(P,{textKey:"kolmarden-registration-includes",defaultText:"I anmälningsavgiften ingår:",tag:"p",className:"fonts_small"}),u.jsx(P,{textKey:"kolmarden-registration-includes-list",defaultText:"Kartor, nummerlappar, tidtagningschip, vätskekontroller under loppet, enklare mat efter målgång, sjukvård och säkerhet under loppet.",tag:"p",className:"fonts_xsmall kolmarden-time-entry"})]}),u.jsx("a",{href:"https://raceid.com/sv/races/13014/about",target:"_blank",rel:"noopener noreferrer",className:"button-2 kolmarden-button-align flex flex_s",children:u.jsx(P,{textKey:"kolmarden-anmalan-button2",defaultText:"ANMÄLAN",tag:"span",className:"font_white"})})]})}),u.jsxs("section",{className:"kolmarden-section kolmarden-bg-4 flex flex_j_R flex_a_C set-03",children:[u.jsxs("div",{className:"kolmarden-content trans-background MaxWH flex flex_col flex_j_C",children:[u.jsx(P,{textKey:"kolmarden-accommodation-title",defaultText:"ÖVERNATTNING OCH MAT",tag:"p",className:"font_blue fonts_large"}),u.jsxs("div",{className:"font_blue kolmarden-text-block",children:[u.jsx(P,{textKey:"kolmarden-accommodation-text",defaultText:"Under tävlingshelgen bor du smidigt på First Camp Kolmården – Norrköping med krypavstånd från start- och målgången. Som tävlingsdeltagare får du dessutom 25% rabatt på stugor och camping när du bokar online.",tag:"p"}),u.jsx(P,{textKey:"kolmarden-discount-code",defaultText:"Rabattkod: AIMCHALLENGE25",tag:"p",className:"fonts_small"}),u.jsx(P,{textKey:"kolmarden-discount-dates",defaultText:"23-29 september 2024",tag:"p",className:"fonts_small"}),u.jsx(P,{textKey:"kolmarden-discount-note1",defaultText:"Endast BAS-bokningar",tag:"p",className:"fonts_small"}),u.jsx(P,{textKey:"kolmarden-discount-note2",defaultText:"Boka online på firstcamp.se",tag:"p",className:"fonts_small"}),u.jsx("div",{className:"kolmarden-button-align",children:u.jsx("a",{href:"https://firstcamp.se",target:"_blank",rel:"noopener noreferrer",className:"kolmarden-link",children:u.jsx(P,{textKey:"kolmarden-book-here",defaultText:"Boka här",tag:"span"})})})]}),u.jsxs("div",{className:"font_blue kolmarden-text-block",children:[u.jsx("p",{children:u.jsx(P,{textKey:"kolmarden-other-accommodation",defaultText:"Övriga boendealternativ finns att hitta här.",tag:"span"})}),u.jsx("p",{children:u.jsx(P,{textKey:"kolmarden-food-tips",defaultText:"Tips på ställen att äta i samband med ditt besök i Norrköping/Kolmården.",tag:"span"})}),u.jsx("p",{children:u.jsx(P,{textKey:"kolmarden-other-activities",defaultText:"Här kan du hitta inspiration på övriga saker att se och göra under ditt besök i Norrköping/Kolmården.",tag:"span"})})]})]}),u.jsx("div",{className:"kolmarden-spacer MaxWH"})]})]}),fD=()=>u.jsxs("div",{className:"MaxWH location",children:[u.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",children:u.jsx("div",{className:"trans-background page_01box flex flex_col flex_j_SA",children:u.jsx("p",{className:"font_blue fonts_huge",children:"AIM CHALLENGE TRIPPELN"})})}),u.jsxs("section",{className:"trippeln-section trippeln-bg",children:[u.jsx("div",{className:"trippeln-content trans-background",children:u.jsxs("div",{className:"font_blue",children:[u.jsx("p",{className:"fonts_medium",children:"Trippeln är en tävling i tävlingen där de som deltar i minst tre av årets deltävlingar är med och tävlar om den mycket hedervärda titeln Vinnare av AIM Challenge Trippeln!"}),u.jsx("br",{}),u.jsx("p",{children:"AIM Challenge Trippeln ersätter Landskampen som sedan 2010 har varit en tävling i tävlingen för de som genomfört AIM Challenge både i Lindvallen och Hemsedal. En tävling där det tävlats för antingen Sverige eller Norge, där det vinnande landet har hyllats och den som bidragit mest till sitt land har prisats."}),u.jsx("br",{}),u.jsx("p",{children:"Med AIM Challenge Trippeln lägger vi ner stridsyxan mellan Sverige och Norge och gör det därmed möjligt att även köra mixade lag mellan olika nationer utan att detta skapar en konflikt."}),u.jsx("br",{}),u.jsx("p",{className:"fonts_medium",children:"Hur går AIM Challenge Trippeln till:"}),u.jsx("br",{}),u.jsx("p",{children:"AIM Challenge Trippeln är en tävling i tävlingen för de lag som deltar på minst tre deltävlingar under ett och samma år. Tävlingarna som ingår är Ulricehamn, Sälen, Hemsedal och Kolmården. Det är fritt för laget att välja om ni önskar att delta i 3- eller 6-timmars tävlingen i Ulricehamn och Kolmården, båda anses att vara likvärdiga för Trippeln."}),u.jsx("br",{}),u.jsx("p",{children:"Vid anmälan till Trippeln blir man per automatik anmäld till alla fyra deltävlingar och väljer själv om man vill delta i tre eller fyra tävlingar. Priset för att anmäla sig till trippeln är rabatterat och blir billigare redan vid start i tre deltävlingar. Skulle ett lag delta i alla fyra deltävlingarna så räknas de tre bästa resultaten till Trippeln."}),u.jsx("br",{}),u.jsx("p",{children:"Det gäller att samla så många poäng som möjligt under årets tävlingar där varje lag får räkna in sina tre bästa resultat från det gångna året. Vinnaren av AIM Challenge Trippeln kommer att utses genom ett poängsystem som bygger på hur många poäng laget fått procentuellt i förhållande till vinnarlaget i respektive klass. Varje lag kommer då få en poängsumma mellan 1 och 100 per tävling och efter alla deltävlingarna kommer dessa poäng att adderas och det lag med högst sammanlagda poäng kommer att stå på prispallen! Skulle två lag få samma sammanlagda poäng så kommer vi se på placeringar i de enskilda loppen för att utse en vinnare."}),u.jsx("br",{}),u.jsx("p",{children:"Vid anmälan till AIM Challenge Trippeln så anmäler sig laget till alla fyra deltävlingarna, varav minst tre måste genomföras för att få ett resultat i Trippeln. Ett lag består av två personer, men om någon i laget skulle få förhinder inför någon av tävlingarna så gäller följande: För att resultatet i Trippeln skall bli godkänt så måste minst en i laget delta i alla tre tävlingarna, samt att deltagare 2 deltar vid minst två deltävlingar. Det vill säga att det är möjligt att ta in en reserv under en av deltävlingarna och fortfarande tävla som lag om den hedervärda titeln! I det fall deltagare 1 tävlat med tre olika lagkompisar under året är det enbart den som deltagit vid alla tre tävlingarna som kommer att premieras."}),u.jsx("br",{}),u.jsx("p",{children:"Det är inte möjligt att sälja sin startplats i Trippeln vidare för den tävling som laget eventuellt inte deltar i."})]})}),u.jsx("div",{className:"trippeln-spacer"})]}),u.jsx("section",{className:"ulric-button-section-bg flex flex_j_C flex_a_C",children:u.jsx("a",{href:"https://raceid.com/sv/races/13016/about",target:"_blank",rel:"noopener noreferrer",className:"ulric-button flex flex_j_C flex_a_C",children:u.jsx("p",{className:"font_white fonts_medium",children:"TA MIG TILL ANMÄLAN"})})})]}),mD=({onClose:s,onUploadSuccess:e,years:n=["2023","2022","2021","2020","2019","2018","2017","2016","2015"],categories:a=["Herrar","Damer","Mixed"],durations:l=["3 timmar","6 timmar","12 timmar","24 timmar"],locations:c=["Ulricehamn","Borås","Göteborg","Jönköping","Stockholm"],year:d})=>{const{currentUser:m}=fr(),[p,_]=V.useState("Ulricehamn"),[x,T]=V.useState(d||"2023"),[w,C]=V.useState("Herrar"),[D,q]=V.useState("3 timmar"),[M,z]=V.useState(null),[G,Q]=V.useState(""),[J,te]=V.useState(!1),ce=N=>{const S=N.target.files[0];S&&(z(S),Q(""))},L=async N=>{if(N.preventDefault(),!M){Q("Please select a file to upload");return}te(!0),Q("");try{const S=Tc(Nc,`results/${M.name}`),R=await qT(S,M),O=`https://firebasestorage.googleapis.com/v0/b/${R.ref.bucket}/o/${encodeURIComponent(R.ref.fullPath)}?alt=media`,H={year:parseInt(x),location:p,category:w,duration:D,fileName:M.name,fileUrl:O,uploadedAt:new Date().toISOString(),uploadedBy:m.uid},I=`${x}_${p}_${w}_${Date.now()}`;await Ec(Gn(sn,"results",I),{...H,id:I}),z(null),e({...H,id:I}),s()}catch(S){console.error("Upload failed:",S),Q("Upload failed: "+S.message)}finally{te(!1)}};return u.jsx("div",{className:"result-upload-modal-overlay",children:u.jsxs("div",{className:"result-upload-modal",children:[u.jsxs("div",{className:"result-upload-modal-header",children:[u.jsx("h2",{children:"Ladda upp resultat"}),u.jsx("button",{className:"result-upload-modal-close",onClick:s,children:"×"})]}),u.jsx("div",{className:"result-upload-modal-body",children:u.jsxs("form",{className:"result-upload-modal-form",onSubmit:L,children:[u.jsxs("div",{className:"result-upload-modal-field",children:[u.jsx("label",{children:"Plats"}),u.jsx("select",{className:"result-upload-modal-select",value:p,onChange:N=>_(N.target.value),children:c.map((N,S)=>u.jsx("option",{value:N,children:N},S))})]}),u.jsxs("div",{className:"result-upload-modal-field",children:[u.jsx("label",{children:"År"}),u.jsx("select",{className:"result-upload-modal-select",value:x,onChange:N=>T(N.target.value),children:n.map((N,S)=>u.jsx("option",{value:N,children:N},S))})]}),u.jsxs("div",{className:"result-upload-modal-field",children:[u.jsx("label",{children:"Kategori"}),u.jsx("select",{className:"result-upload-modal-select",value:w,onChange:N=>C(N.target.value),children:a.map((N,S)=>u.jsx("option",{value:N,children:N},S))})]}),u.jsxs("div",{className:"result-upload-modal-field",children:[u.jsx("label",{children:"Distans"}),u.jsx("select",{className:"result-upload-modal-select",value:D,onChange:N=>q(N.target.value),children:l.map((N,S)=>u.jsx("option",{value:N,children:N},S))})]}),u.jsxs("div",{className:"result-upload-modal-field",children:[u.jsx("label",{children:"Fil"}),u.jsx("input",{type:"file",className:"result-upload-modal-file-input",onChange:ce,accept:".txt,.pdf,.doc,.docx,.xls,.xlsx"})]}),G&&u.jsx("div",{className:"result-upload-modal-error",children:G}),u.jsxs("div",{className:"result-upload-modal-actions",children:[u.jsx("button",{type:"button",className:"result-upload-modal-cancel",onClick:s,disabled:J,children:"Avbryt"}),u.jsx("button",{type:"submit",className:"result-upload-modal-submit",disabled:J||!M,children:J?"Laddar upp...":"Ladda upp"})]})]})})]})})},gD=vc(sn,"results"),pD=async(s={})=>{try{let e=Ho(gD);s.year&&(e=Ho(e,th("year","==",parseInt(s.year)))),s.category&&(e=Ho(e,th("category","==",s.category))),s.duration&&(e=Ho(e,th("duration","==",s.duration))),s.location&&(e=Ho(e,th("location","==",s.location)));const n=await op(e),a=[];return n.forEach(l=>{const c=l.data();a.push({id:l.id,...c,year:parseInt(c.year)})}),console.log("Firebase results:",a),a}catch(e){throw console.error("Error getting results:",e),e}},_D=async(s,e)=>{try{if(await wT(Gn(sn,"results",s)),e){const n=Tc(Nc,e);await gp(n)}}catch(n){throw console.error("Error deleting result:",n),n}},yD=()=>{const{currentUser:s}=fr(),[e,n]=V.useState("all"),[a,l]=V.useState("all"),[c,d]=V.useState("all"),[m,p]=V.useState([]),[_,x]=V.useState(!0),[T,w]=V.useState(!1),[C,D]=V.useState(""),q=(s==null?void 0:s.role)==="admin",M=[2025,2024,2023,2022,2021,2020,2019,2018],z=["Herrar","Damer","Mixed"],G=["3 timmar","6 timmar"],Q=["Ulricehamn","Sälen","Hemsedal","Kolmården"];V.useEffect(()=>{console.log("Fetching results..."),J()},[]);const J=async()=>{try{x(!0),D(""),console.log("Getting results from Firebase...");const R=await pD({});console.log("Got results:",R),p(R||[])}catch(R){console.error("Error fetching results:",R),D("Failed to load results. Please try again later.")}finally{x(!1)}},te=async R=>{if(window.confirm("Är du säker på att du vill ta bort detta resultat?"))try{x(!0);const O=m.find(I=>I.id===R);await _D(R,O.fileUrl);const H=m.filter(I=>I.id!==R);p(H)}catch(O){console.error("Error deleting result:",O),D("Failed to delete result. Please try again.")}finally{x(!1)}},ce=()=>{w(!0)},L=()=>{w(!1)},N=R=>{console.log("New result:",R),p(O=>[R,...O]),L()},S=R=>{let O=[...m];return e!=="all"&&(O=O.filter(H=>H.year===parseInt(e))),a!=="all"&&(O=O.filter(H=>H.category===a)),c!=="all"&&(O=O.filter(H=>H.duration===c)),O=O.filter(H=>H.location===R),console.log("Filtered results for",R,":",O),O};return u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"results-header-banner"}),u.jsxs("div",{className:"results-container",children:[u.jsx("h1",{className:"results-header-title",children:"Multisport för alla"}),u.jsxs("section",{className:"results-filters-section",children:[u.jsxs("div",{className:"results-filters",children:[u.jsxs("select",{value:e,onChange:R=>n(R.target.value),className:"results-filter-select",children:[u.jsx("option",{value:"all",children:"Alla År"}),M.map(R=>u.jsx("option",{value:R,children:R},R))]}),u.jsxs("select",{value:a,onChange:R=>l(R.target.value),className:"results-filter-select",children:[u.jsx("option",{value:"all",children:"Alla Kategorier"}),z.map(R=>u.jsx("option",{value:R,children:R},R))]}),u.jsxs("select",{value:c,onChange:R=>d(R.target.value),className:"results-filter-select",children:[u.jsx("option",{value:"all",children:"Alla Distanser"}),G.map(R=>u.jsx("option",{value:R,children:R},R))]})]}),u.jsx("div",{className:"results-upload-section",children:q&&u.jsx("button",{onClick:ce,className:"upload-result-button",children:"Ladda upp resultat"})})]}),C&&u.jsx("div",{className:"results-error",children:C}),u.jsx("section",{className:"results-content-section",children:u.jsx("div",{className:"results-grid",children:Q.map(R=>u.jsxs("div",{className:"results-location-card",children:[u.jsx("h2",{className:"results-location-title",children:R}),u.jsx("div",{className:"results-list",children:_?u.jsx("div",{className:"results-loading",children:"Laddar..."}):S(R).map(O=>u.jsxs("div",{className:"results-item",children:[u.jsx("a",{href:O.fileUrl,target:"_blank",rel:"noopener noreferrer",className:"results-link",children:u.jsxs("div",{className:"results-info",children:[u.jsx("span",{className:"results-year",children:O.year}),u.jsx("span",{className:"results-category",children:O.category}),u.jsx("span",{className:"results-duration",children:O.duration})]})}),q&&u.jsx("button",{onClick:()=>te(O.id),className:"results-delete-button",children:"Ta bort"})]},O.id))})]},R))})}),T&&u.jsx(mD,{onClose:L,onUploadSuccess:N,isAdmin:q,locations:Q,years:M,categories:z,durations:G})]})]})},vD=()=>{const[s,e]=V.useState(null),[n,a]=V.useState([]),[l,c]=V.useState(1),d=8,[m,p]=V.useState({}),_=V.useMemo(()=>["/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_025.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_057.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_065.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_094.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_113.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_138.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_150.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_202.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_209.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_213.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_235.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_246.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_265.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_352.jpg","/AimRV/images/EE-AIMChallenge24-Uhamn-0132-high.jpg","/AimRV/images/EE-AIMChallenge24-Uhamn-0136-high.jpg","/AimRV/images/EE-AIMChallenge24-Uhamn-0171-high.jpg","/AimRV/images/EE-AIMChallenge24-Uhamn-0405-high.jpg","/AimRV/images/Kolmarden_1.jpg","/AimRV/images/Kolmarden_2.jpg"],[]),x=V.useCallback(()=>{const D=(l-1)*d,q=l*d,M=_.slice(D,q);a(z=>[...z,...M]),c(z=>z+1)},[l,_,d]);V.useEffect(()=>{x()},[x]),V.useEffect(()=>{const D=()=>{window.innerHeight+document.documentElement.scrollTop>=document.documentElement.offsetHeight-100&&(l-1)*d<_.length&&x()};return window.addEventListener("scroll",D),()=>window.removeEventListener("scroll",D)},[x,l,_.length,d]),V.useEffect(()=>{if(s!==null){const D=new Image;D.src=n[s],D.onload=()=>{p(q=>({...q,[s]:!0}))}}},[s,n]);const T=D=>{e(s===D?null:D)},C=(()=>{const D=[];let q=[],M=4;return n.forEach((z,G)=>{q.push({image:z,index:G}),q.length===M&&(D.push(q),q=[],M=M===4?3:4)}),q.length>0&&D.push(q),D})();return u.jsxs("div",{children:[u.jsx("div",{style:{height:"120px"}}),u.jsxs("div",{className:"gallery-container",style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"0.1rem",padding:"0.25rem",position:"relative"},children:[C.map((D,q)=>u.jsx("div",{style:{display:"flex",justifyContent:"center",gap:"3rem",width:"100%",marginBottom:"-20px",paddingLeft:D.length===3?"10%":"0",paddingRight:D.length===3?"10%":"0"},children:D.map(({image:M,index:z})=>{const G=s===z;return u.jsx("div",{onClick:()=>T(z),style:{width:G?"80vw":"250px",height:G?"80vh":"250px",transition:"all 0.5s ease",cursor:"pointer",position:G?"fixed":"relative",top:G?"50%":"auto",left:G?"50%":"auto",transform:G?"translate(-50%, -50%) rotate(0deg)":"rotate(45deg) scale(0.9)",zIndex:G?1e3:1,border:"2px solid #00a6fb",borderRadius:"8px",overflow:"hidden",boxShadow:"0 4px 8px rgba(0, 166, 251, 0.3)",margin:"0.1rem 1.5rem"},children:u.jsx("img",{src:M,alt:`Gallery image ${z+1}`,loading:"lazy",width:G?"auto":"250",height:G?"auto":"250",style:{width:"100%",height:"100%",objectFit:"cover",transform:G?"rotate(0deg) scale(1)":"rotate(-45deg) scale(1.5)"}})},z)})},q)),s!==null&&u.jsx("div",{onClick:()=>e(null),style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.8)",zIndex:999}}),n.length<_.length&&u.jsx("div",{style:{width:"100%",textAlign:"center",padding:"2rem"},children:u.jsx("button",{onClick:x,style:{padding:"0.75rem 1.5rem",backgroundColor:"#00a6fb",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"1rem",fontWeight:"bold"},children:"Load More Images"})})]}),u.jsx("div",{style:{height:"80px"}})]})},xD=()=>{const[s,e]=V.useState(0),[n,a]=V.useState(!1),l=V.useRef([]),c=[{id:1,src:"/videos/AIM nr 1 Formula 16x9.mov",title:"AIM Challenge Formula",description:"Highlights from the AIM Challenge Formula event"},{id:2,src:"/videos/AIM nr 1 Formula 16x9.mov",title:"AIM Challenge Highlights",description:"More exciting moments from the AIM Challenge"},{id:3,src:"/videos/AIM nr 1 Formula 16x9.mov",title:"AIM Challenge Recap",description:"A recap of the amazing AIM Challenge events"}];V.useEffect(()=>{l.current=l.current.slice(0,c.length)},[c.length]);const d=_=>{l.current.forEach((x,T)=>{T!==_&&x&&x.pause()}),a(!0),e(_)},m=()=>{e(_=>(_+1)%c.length)},p=()=>{e(_=>(_-1+c.length)%c.length)};return u.jsxs("div",{className:"video-carousel-container",style:{padding:"80px 0 40px 0",backgroundColor:"#f0f8ff",borderTop:"1px solid #e0e0e0",width:"100%",maxWidth:"100%"},children:[u.jsx("h2",{style:{textAlign:"center",marginBottom:"30px",color:"#00a6fb",fontSize:"2rem"},children:"AIM Challenge Videos"}),u.jsxs("div",{style:{position:"relative",width:"100%",margin:"0 auto",overflow:"hidden"},children:[u.jsx("button",{onClick:p,style:{position:"absolute",left:"10px",top:"50%",transform:"translateY(-50%)",zIndex:10,background:"rgba(0, 166, 251, 0.7)",color:"white",border:"none",borderRadius:"50%",width:"50px",height:"50px",fontSize:"24px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.3)"},"aria-label":"Previous video",children:"<"}),u.jsx("button",{onClick:m,style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",zIndex:10,background:"rgba(0, 166, 251, 0.7)",color:"white",border:"none",borderRadius:"50%",width:"50px",height:"50px",fontSize:"24px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.3)"},"aria-label":"Next video",children:">"}),u.jsx("div",{style:{display:"flex",transition:"transform 0.5s ease",transform:`translateX(${s*-100}%)`,width:"100%",position:"relative"},children:c.map((_,x)=>u.jsx("div",{style:{flex:"0 0 100%",padding:"0 20px",boxSizing:"border-box",width:"100%"},children:u.jsxs("div",{style:{background:"#fff",borderRadius:"8px",overflow:"hidden",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",maxWidth:"1200px",margin:"0 auto"},children:[u.jsx("div",{style:{position:"relative",paddingTop:"56.25%"},children:u.jsx("video",{ref:T=>l.current[x]=T,src:_.src,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover"},controls:!0,onPlay:()=>d(x),onPause:()=>a(!1)})}),u.jsxs("div",{style:{padding:"20px"},children:[u.jsx("h3",{style:{margin:"0 0 10px 0",color:"#00a6fb",fontSize:"1.5rem"},children:_.title}),u.jsx("p",{style:{margin:0,color:"#333",lineHeight:1.6},children:_.description})]})]})},_.id))}),u.jsx("div",{style:{display:"flex",justifyContent:"center",marginTop:"20px"},children:c.map((_,x)=>u.jsx("button",{onClick:()=>e(x),style:{width:"12px",height:"12px",borderRadius:"50%",margin:"0 5px",background:x===s?"#00a6fb":"#ccc",border:"none",cursor:"pointer"}},x))})]})]})},ED=()=>u.jsxs("div",{className:"om-oss-container",children:[u.jsx("div",{className:"om-oss-header page_01 locked-background flex flex_col flex_j_E",children:u.jsx("div",{className:"om-oss-header-content",children:u.jsx("div",{className:"trans-background page_01box flex flex_col flex_j_SA",children:u.jsx("div",{className:"om-oss-title flex flex_j_C flex_a_C",children:u.jsx(P,{textKey:"om-oss-title",defaultText:"OM OSS",tag:"p",className:"font_blue fonts_huge"})})})})}),u.jsx("section",{className:"om-oss-section flex flex_j_C flex_a_C set-03",children:u.jsx("div",{className:"om-oss-content MaxWH flex flex_col flex_j_C",children:u.jsxs("div",{className:"om-oss-content-wrapper",children:[u.jsx(P,{textKey:"om-oss-title-1",defaultText:"Vad är AIM Challenge?",tag:"h2",className:"fonts_large om-oss-title"}),u.jsx(P,{textKey:"om-oss-text-1",defaultText:"AIM Challenge är en multisporttävling som arrangeras i Åre, Sverige. Tävlingen går ut på att ta sig runt en bana med hjälp av karta och kompass. Längs banan finns kontroller som ska besökas i rätt ordning.",tag:"p",className:"fonts_small om-oss-text"}),u.jsx(P,{textKey:"om-oss-text-2",defaultText:"​",tag:"p",className:"fonts_small om-oss-text"}),u.jsx(P,{textKey:"om-oss-text-3",defaultText:"Tävlingen arrangeras av AIM Challenge AB och har funnits sedan 2004. Tävlingen har utvecklats under åren och är idag en av Sveriges största multisporttävlingar.",tag:"p",className:"fonts_small om-oss-text"}),u.jsx(P,{textKey:"om-oss-text-4",defaultText:"​",tag:"p",className:"fonts_small om-oss-text"}),u.jsx(P,{textKey:"om-oss-text-5",defaultText:"AIM Challenge är en tävling för alla. Oavsett om du är elit eller motionär finns det en klass för dig. Tävlingen är uppdelad i olika klasser beroende på svårighetsgrad och längd.",tag:"p",className:"fonts_small om-oss-text"}),u.jsx(P,{textKey:"om-oss-text-6",defaultText:"​",tag:"p",className:"fonts_small om-oss-text"}),u.jsx(P,{textKey:"om-oss-text-7",defaultText:"Tävlingen går ut på att ta sig runt en bana med hjälp av karta och kompass. Längs banan finns kontroller som ska besökas i rätt ordning. Tävlingen innehåller olika moment som löpning, cykling, paddling, simning och klättring.",tag:"p",className:"fonts_small om-oss-text"}),u.jsx(P,{textKey:"om-oss-text-8",defaultText:"​",tag:"p",className:"fonts_small om-oss-text"})]})})}),u.jsx("div",{className:"om-oss-background-container locked-background"}),u.jsx("section",{className:"om-oss-section flex flex_j_C flex_a_C set-03",children:u.jsx("div",{className:"om-oss-content MaxWH flex flex_col flex_j_C",children:u.jsxs("div",{className:"om-oss-content-wrapper",children:[u.jsx(P,{textKey:"om-oss-title-2",defaultText:"Så här är det att vara med i AIM Challenge",tag:"h2",className:"fonts_large om-oss-title"}),u.jsx(P,{textKey:"om-oss-text-9",defaultText:"AIM Challenge är en rolig tävling. Det är oftast det som är det centrala i de deltagarkommentarer vi får både från eliten och motionärerna. Man färdas till största delen med hjälp av sin mountainbike och sina löparskor, men också i klättersele, paddlandes i kanot eller så strippar man helt enkelt och simmar ut till kontroller som är i vattnet.",tag:"p",className:"fonts_small om-oss-text"}),u.jsx(P,{textKey:"om-oss-text-10",defaultText:"​",tag:"p",className:"fonts_small om-oss-text"}),u.jsx(P,{textKey:"om-oss-text-11",defaultText:"Det finns inga krav på förkunskaper om de olika momenten utan vi har kunnig personal vid varje post som innefattas av klättring, firning, simning, paddling. Varje lag genomför tävlingen i sin egen takt och med egen strategi. Visst finns det de lag som satsar allt för att knipa segern och det är det som är det roliga med konceptet. Elit och motionär tävlar på samma villkor på samma bana.",tag:"p",className:"fonts_small om-oss-text"}),u.jsx(P,{textKey:"om-oss-text-12",defaultText:"​",tag:"p",className:"fonts_small om-oss-text"}),u.jsx(P,{textKey:"om-oss-text-13",defaultText:"Våra deltagare är allt ifrån världseliten i multisport som Thule Adventure team, Team Silva, Team Multitude Salomon men också glada motionärer allt från åldrarna 15 till pensionärer. Oavsett ålder och fysiska förutsättningar är detta ett roligt och annorlunda sätt att tävla på.",tag:"p",className:"fonts_small om-oss-text"})]})})}),u.jsxs("section",{className:"om-oss-cards-container simple-background",children:[u.jsxs("div",{className:"om-oss-card simple-background",children:[u.jsxs("div",{className:"om-oss-card-content trans-background",children:[u.jsx(P,{textKey:"card-1-title",defaultText:"REGLER",tag:"p",className:"font_blue fonts_medium_B"}),u.jsx(P,{textKey:"card-1-text",defaultText:"Tävlingsregler och information",tag:"p",className:"font_blue fonts_medium"})]}),u.jsx("div",{className:"om-oss-card-button",children:u.jsx(Se,{to:"/page2",className:"location button-2",children:"Läs mer"})})]}),u.jsxs("div",{className:"om-oss-card simple-background",children:[u.jsxs("div",{className:"om-oss-card-content trans-background",children:[u.jsx(P,{textKey:"card-2-title",defaultText:"FAQ",tag:"p",className:"font_blue fonts_medium_B"}),u.jsx(P,{textKey:"card-2-text",defaultText:"Vanliga frågor och svar",tag:"p",className:"font_blue fonts_medium"})]}),u.jsx("div",{className:"om-oss-card-button",children:u.jsx(Se,{to:"/page3",className:"location button-2",children:"Läs mer"})})]}),u.jsxs("div",{className:"om-oss-card simple-background",children:[u.jsxs("div",{className:"om-oss-card-content trans-background",children:[u.jsx(P,{textKey:"card-3-title",defaultText:"HISTORIEN OM AIM",tag:"p",className:"font_blue fonts_medium_B"}),u.jsx(P,{textKey:"card-3-text",defaultText:"Vår resa sedan 2004",tag:"p",className:"font_blue fonts_medium"})]}),u.jsx("div",{className:"om-oss-card-button",children:u.jsx(Se,{to:"/page3",className:"location button-2",children:"Läs mer"})})]})]})]}),TD=()=>u.jsxs("div",{className:"flex flex_col regler-container",children:[u.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",children:u.jsx("div",{className:"trans-background page_01box flex flex_col flex_j_SA",children:u.jsx("div",{className:"om-oss-title flex flex_j_C flex_a_C",children:u.jsx("p",{className:"font_blue fonts_huge font_white",children:"REGLER"})})})}),u.jsx("section",{className:"om-oss-section regler-section flex flex_j_C flex_a_C set-03",children:u.jsx("div",{className:"om-oss-content MaxWH flex flex_col flex_j_C regler-content-container",children:u.jsxs("div",{className:"regler-content",children:[u.jsx("h2",{className:"regler-heading font_white",children:"LAGET"}),u.jsxs("ul",{className:"regler-list",children:[u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Åldersgräns 15år/18år"}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Båda deltagarna måste ha olycksförsäkring som täcker olyckor i samband med tävling/idrottsaktiviteter."}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Det är lagets ansvar att se till att de är registrerade i rätt klass."}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Startnummer ska placeras fram på cykel samt synligt på kroppen på båda deltagarna"}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Det är tillåtet att använda GPS men det är alltid kartan som gäller. GPSens kartunderlag stämmer inte alltid överens med den utskrivna AIM kartan."}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Laget ska alltid vara samlade max 20 meter mellan lagmedlemmarna."}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Det är inte tillåtet att ha följebil."})]}),u.jsx("h2",{className:"regler-heading-with-margin font_white",children:"SÄKERHET"}),u.jsxs("ul",{className:"regler-list",children:[u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Lagen väljer själva vilka kontroller de klarar att ta baserat på väder, egen färdighet och kunskap."}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Lagen väljer själva vilken väg de vill ta till kontrollerna baserat på väder, egen färdighet och kunskap."}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Trafiken är inte reglerad under tävlingen."}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Trafikregler gäller alltid."}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Första hjälpen kit ska bäras med under hela tävlingen"}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Hjälm ska bäras under all cykling, klättring, bouldering och rappellering"}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Vid olycka är det obligatoriska att hjälpa till."}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Vid allvarlig olycka ring nöd nummer 112 i Sverige och 113 i Norge"}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Vid behov för enklare medicinsk hjälp ring telefonnumret på baksidan av kartan"}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Tävlingsledningens direktiv gäller alltid."})]}),u.jsx("h2",{className:"regler-heading-with-margin font_white",children:"ÖVRIGT"}),u.jsxs("ul",{className:"regler-list",children:[u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Elcyklar är ej tillåtet, med undantag för Elcykelklassen i Hemsedal."}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Beroende på kapacitet är det möjligt att använda liften i Hemsedal, lyssna noga på vad speakern ger för information för vad som gäller för årets tävling."}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Deltagare som bryter ska genast meddela tävlingsledningen. Telefonnummer står på kartan."}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Synliga, osynliga och tävlande domare befinner sig i tävlingsområdet och ser till att reglerna följs."}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Regelbrott kan leda till poängavdrag eller diskvalificering"}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Deltagare som vinner priser som lottas ut pga olika händelser eller som dras på startnummer måste närvara på prisutdelningen för att få sitt pris. Är man inte närvarande och ditt namn/lagnamn dras drar vi reservnamn/lagnamn."}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"LINDVALLEN, viadukten mellan Lodgen och Experium är stängd under hela tävlingen."}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Tävlingsledningens beslut går inte att överklaga."}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Kloka människor skräpar inte ner, för alla andra är det förbjudet."}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Respektera privat mark, ta inte genvägar över privata områden"}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Beträda odlad mark är förbjudet. Åkrar som inte har skördats är odlad mark."}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Stäng alla grindar som ni öppnar."}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Visa betande djur respekt genom att stiga av cykeln och gå förbi dem."})]}),u.jsx("h2",{className:"regler-heading-with-margin font_white",children:"OBLIGATORISK UTRUSTNING"}),u.jsxs("ul",{className:"regler-list",children:[u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Cykel, utan elmotor med undantag för Elcykelklassen i Hemsedal."}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Cykelhjälm vid cykling"}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Mobiltelefon (1 st per lag)"}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Första hjälpen (1 st per lag)"})]}),u.jsx("h2",{className:"regler-heading-with-margin font_white",children:"VI REKOMMENDERAR ATT NI ÄVEN HAR MED ER"}),u.jsxs("ul",{className:"regler-list",children:[u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Förstärkningskläder vid hastigt väderomslag"}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Kompass"}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Vatten i en Camelbak"}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Energy bars eller liknande"}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Klocka"}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Löparskor"}),u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Cykelslang och reparationskit + övriga verktyg, tex en biketool för enklare justeringar"})]}),u.jsx("h2",{className:"regler-heading-with-margin font_white",children:"AIM CHALLENGE STÅR FÖR"}),u.jsx("ul",{className:"regler-list",children:u.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Kanot, SUP, sele, rep, hjälm vid firningar/klättring. All utrustning vid bemannade poster finns där klättring etc förekommer."})}),u.jsx("h2",{className:"regler-heading-with-margin font_white",children:"VILLKOR I FÖRBINDELSE MED ANMÄLAN"}),u.jsx("p",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Villkor i förbindelse med anmälan"}),u.jsxs("p",{className:"fonts_small om-oss-text regler-contact font_white",children:["Om du har frågor: ",u.jsx("a",{href:"mailto:info@aimchallenge.com",className:"font_white",children:"info@aimchallenge.com"})]})]})})}),u.jsx("div",{className:"locked-background",style:{height:"50vh",width:"100%"}})]}),bD=({question:s,answer:e})=>{const[n,a]=V.useState(!1),l=()=>{a(!n)};return u.jsxs("div",{className:"faq-item",children:[u.jsxs("div",{className:`faq-question ${n?"active":""}`,onClick:l,children:[u.jsx("h3",{className:"question-text",children:s}),u.jsx("span",{className:"icon",children:n?"▲":"▼"})]}),u.jsx("div",{className:`faq-answer ${n?"open":""}`,children:u.jsx("p",{children:e})})]})},ah=({title:s,items:e})=>u.jsxs("div",{className:"faq-category",children:[u.jsx("h2",{className:"faq-category-title",children:s}),e.map((n,a)=>u.jsx(bD,{question:n.question,answer:n.answer},a))]}),AD=()=>{const s=[{question:"Jag är nybörjare på multisport, kan jag delta?",answer:"Absolut, det är DU som väljer väg och antal kontroller. Ta 5 kontroller och ha en fin tur på fjället, eller ta 40 och vinn. Alla kan delta efter egen förmåga och ambition."},{question:"Behöver man vara en riktigt stenhård multisportare för att delta?",answer:"Det finns inga krav på förkunskaper om de olika momenten utan vi har kunnig personal vid varje post som innebär klättring, firning, simning etc. I och med AIM-konceptet så tar varje lag tävlingen i sin egen takt och sin egen strategi. Visst finns det de lag som satsar allt för att knipa segern och det är det som är det roliga med konceptet. Elit och motionär tävlar på samma villkor på samma bana."},{question:"Är det olika klasser?",answer:"Dam, Herr och Mix. Elit och motion tävlar i samma klass."},{question:"Vilken åldersgräns gäller?",answer:"Åldersgränsen för AIM Challenge är 15/18 år beroende på tävling och medtävlande. Läs mer här."},{question:"Kan jag ändra information om mitt lag. Tex ändrar lagnamn eller deltagare?",answer:"Ja, logga in på ditt RaceID-konto för att göra ändringar."},{question:"Om jag blir sjuk, får jag tillbaka min anmälningsavgift då?",answer:"Nej. Det går däremot bra att sälja sin startplats till en kompis. Vid försäljning så uppdaterar ni era uppgifter på ditt RaceID-konto. Alternativt ta kontakt med ditt försäkringsbolag för att se vad det täcker."},{question:"Hur vet jag om jag har olycksförsäkring?",answer:"Kontakta ditt försäkringsbolag, de flesta har den redan."}],e=[{question:"Ska jag tävla med löpskor eller cykelskor?",answer:"Det är en fördel att cykla med SPD sko, och det är en fördel att springa med löparskor. Ta med både och!"},{question:"Behöver man ha all utrustning med sig?",answer:"Nej. Deltagare ska ha med sig cykel, hjälm, första hjälpen och mobiltelefon. Vid en klätterkontroll finns kunnig personal med all nödvändig utrustning, de säkrar deltagarna och ser till att klättringen går säkert till. Vid en paddel kontroll finns det kanot, SUP, luftmadrass eller liknande. Skulle man inte ha en mountainbike går det bra att hyra och detta bör i så fall förbokas."},{question:"Får man använda sig av GPS?",answer:"Ja, det är tillåtet att använda en GPS. Det är dock inte alltid det bästa eftersom det är kartan som gäller och GPSen och kartans information kan skilja sig åt."}],n=[{question:"Om jag inte hinner till registreringen på fredag kväll, vad gör jag då?",answer:"Det finns möjlighet för registrering på lördag morgon innan start, dock ser vi helst att all registrering sker under fredag kvällen."},{question:"Ingår banketten i priset?",answer:"Nej, den får man köpa vid sidan om. Se respektive tävling för bokning av mat. Men prisutdelningen som följer efter banketten är gratis för alla deltagare."},{question:"Vilka tider är det som gäller för själva tävlandet?",answer:"Program: Fredagen: Registrering 17:00-21:00 i Lindvallen & 19.00-22.00 i Hemsedal. Lördagen: 9.30 Info möte vid start, 10.00 START, 16.00 MÅL. 22.00 PRISUTDELNING. Söndagen: Väl förtjänad sovmorgon och en härlig dag på fjället! Se detaljerat program under de enskilda tävlingarna."}],a=[{question:"Hur ser kartan ut?",answer:"Kartan får alla lagen när startskottet går. Där är samtliga kontroller utmärkta med position, poäng, beskrivning och om kontrollen innefattar klättring, paddling etc. Skalan är ungefär 1:30 000. Varje år är ett nytt år och därför en ny bansträckning. Kontrollernas position varierar från år till år så den strategi man hade året innan kanske inte lönar sig i år."},{question:"Måste både deltagarna simma/klättra/rappellera till en kontroll?",answer:"Lagen ska alltid hålla ihop och ska under hela tävlingen kunna kommunicera med varandra. Utom på de kontroller som vi kallar bemannade kontroller, dvs simma, paddla, klättra, balansera och rappelera. Här räcker det att den ena i laget tar posten. Både deltagarna ska dock vara så nära varandra som möjligt vid dessa poster."},{question:"Rappellering och klättring - hur goda bakgrundskunskaper måste man ha för att ställa upp?",answer:"Vid varje bemannad post finns det personal som är kunniga och med riktig utrustning. Lite erfarenhet ifrån klättring hjälper men är inte nödvändigt. Man behöver ingen kunskap om säkerhet."},{question:"Vilka regler gäller?",answer:"De regler som gäller för anmälan och under tävling finner du här >>"}];return u.jsxs("div",{className:"flex flex_col faq-container",children:[u.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",children:u.jsx("div",{className:"trans-background page_01box flex flex_col flex_j_SA",children:u.jsx("div",{className:"om-oss-title flex flex_j_C flex_a_C",children:u.jsx("p",{className:"font_blue fonts_huge font_white",children:"FAQ"})})})}),u.jsx("section",{className:"faq-section faq-dark-section",children:u.jsx("div",{className:"faq-content-container",children:u.jsxs("div",{className:"faq-content",children:[u.jsx("h1",{className:"faq-heading",children:"Vanliga frågor"}),u.jsx(ah,{title:"Allmänna frågor",items:s})]})})}),u.jsx("section",{className:"faq-section faq-light-section",children:u.jsx("div",{className:"faq-content-container",children:u.jsx("div",{className:"faq-content",children:u.jsx(ah,{title:"Utrustning",items:e})})})}),u.jsx("section",{className:"faq-section faq-dark-section",children:u.jsx("div",{className:"faq-content-container",children:u.jsx("div",{className:"faq-content",children:u.jsx(ah,{title:"Tävlingsdagen",items:n})})})}),u.jsx("section",{className:"faq-section faq-light-section",children:u.jsx("div",{className:"faq-content-container",children:u.jsx("div",{className:"faq-content",children:u.jsx(ah,{title:"Teknisk information",items:a})})})}),u.jsx("section",{className:"faq-section faq-dark-section",children:u.jsx("div",{className:"faq-content-container",children:u.jsx("div",{className:"faq-content",children:u.jsxs("div",{className:"faq-category",children:[u.jsx("h2",{className:"faq-category-title",children:"Har du fler frågor?"}),u.jsx("div",{className:"flex flex_j_C flex_a_C",children:u.jsxs("p",{className:"faq-contact-text",children:["Ta gärna kontakt om ni inte hittar svaret på era frågor: ",u.jsx("a",{href:"mailto:info@aimchallenge.com",className:"font_white",children:"info@aimchallenge.com"})]})})]})})})}),u.jsx("div",{className:"locked-background",style:{height:"50vh",width:"100%"}})]})},wD=()=>u.jsxs("div",{className:"flex flex_col",children:[u.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",children:u.jsx("div",{className:"trans-background page_01box flex flex_col flex_j_SA",children:u.jsx("div",{className:"om-oss-title flex flex_j_C flex_a_C",children:u.jsx(P,{textKey:"historien-om-aim-title",defaultText:"HISTORIEN OM AIM",tag:"p",className:"font_blue fonts_huge font_white"})})})}),u.jsx("section",{className:"om-oss-section regler-section flex flex_j_C flex_a_C set-03 historien-om-aim-section",children:u.jsx("div",{className:"om-oss-content MaxWH flex flex_col flex_j_C regler-content-container",children:u.jsxs("div",{className:"regler-content historien-om-aim-content",children:[u.jsx(P,{textKey:"historien-om-aim-text-1",defaultText:"AIM Challenge är idag Nordens största multisporttävling men historien om AIM Challenge börjar mycket tidigare än så.",tag:"p",className:"fonts_small om-oss-text font_white historien-om-aim-text"}),u.jsx(P,{textKey:"historien-om-aim-text-2",defaultText:"Vi låter Lisa Nordlind, grundare och initiativtagare till AIM Challenge berätta hur det gick till:",tag:"p",className:"fonts_small om-oss-text font_white historien-om-aim-text"}),u.jsx(P,{textKey:"historien-om-aim-text-3",defaultText:"År 2000 deltog jag i mitt livs största äventyr när jag tävlade i multisporttävlingen Camel Trophy.",tag:"p",className:"fonts_small om-oss-text font_white historien-om-aim-text"}),u.jsx(P,{textKey:"historien-om-aim-text-4",defaultText:"Av över en miljon sökande så var det 16 tvåmannalag från 22 länder som fick vara med och leka. Jag fick äran att representera Team Skandinavien tillsammans med brandmannen Mikael Stening.",tag:"p",className:"fonts_small om-oss-text font_white historien-om-aim-text"}),u.jsx(P,{textKey:"historien-om-aim-text-5",defaultText:"Lag på två personer skulle under 3 veckor samla så många kontroller som möjligt utav 400 utplacerade. Huvudtransportmedel var en specialbyggd RIB (Rigid Inflatable Boat). Båten var utrustad med mountainbikes, klätterutrustning, paddelbräda, dyk- och snorkel utrustning, tält, mat och vatten.",tag:"p",className:"fonts_small om-oss-text font_white historien-om-aim-text"}),u.jsx(P,{textKey:"historien-om-aim-text-6",defaultText:"Lagen fick själva välja vilka kontroller de ville ta, i vilken ordning och vilken väg.",tag:"p",className:"fonts_small om-oss-text font_white historien-om-aim-text"}),u.jsx(P,{textKey:"historien-om-aim-text-7",defaultText:"Olika kontroller gav olika poäng. Låter det bekant?",tag:"p",className:"fonts_small om-oss-text font_white historien-om-aim-text"}),u.jsx(P,{textKey:"historien-om-aim-text-8",defaultText:"Tävlingsområdet var ögrupperna Tonga och Samoa i Söderhavet. Det var galet roligt och Mikael och jag lyckades ta oss till en fjärde plats.",tag:"p",className:"fonts_small om-oss-text font_white historien-om-aim-text"}),u.jsx(P,{textKey:"historien-om-aim-text-9",defaultText:"År 2004 spenderade jag min första sommar i Hemsedal. Det var ganska lugnt i den lilla skidorten så jag beslutade mig för att starta ett nytt event. För mig är det viktigt att träning är roligt och jag tycker att den bästa träningen är tävling. Eftersom Camel Trophy var det roligaste jag någonsin varit med om så föll det naturligt att försöka skapa ett event där andra människor får uppleva samma lekfulla koncept om än i en mindre skala. Tävlingen fick namnet 'Hemsedal Challenge' och den första helgen i september 2004 stod 150 deltagare på startlinjen.",tag:"p",className:"fonts_small om-oss-text font_white historien-om-aim-text"}),u.jsx(P,{textKey:"historien-om-aim-text-10",defaultText:"Nära, kära, vänner och familj samlades från alla håll och kanter för att ställa upp som funktionärer.",tag:"p",className:"fonts_small om-oss-text font_white historien-om-aim-text"}),u.jsx(P,{textKey:"historien-om-aim-text-11",defaultText:"Efter 5 år startade vi en tävling till i Lindvallen och bytte namn till AIM Challenge.",tag:"p",className:"fonts_small om-oss-text font_white historien-om-aim-text"}),u.jsx(P,{textKey:"historien-om-aim-text-12",defaultText:"Efter AIM Challenge 2019 tackade Lisa för sig och lämnade över stafettpinnen till Marcus Andersson, som nu står inför en spännande framtid där han ser frem emot att driva vidare och utveckla AIM Challenge.",tag:"p",className:"fonts_small om-oss-text font_white historien-om-aim-text"})]})})}),u.jsx("div",{className:"historien-om-aim-background-container locked-background page_01"})]}),SD=({isOpen:s,onClose:e})=>{const[n,a]=V.useState(""),[l,c]=V.useState(""),[d,m]=V.useState(null),[p,_]=V.useState(""),[x,T]=V.useState(!1),[w,C]=V.useState(""),[D,q]=V.useState(""),[M,z]=V.useState(0),[G,Q]=V.useState(0),[J,te]=V.useState("Alla"),ce=V.useRef(null),L=V.useRef(null),{isAdmin:N}=mr(),S=oe=>{const Re=oe.target.files[0];if(Re){Re.name||(Re.name=`image-${Date.now()}.jpg`);const j=new FileReader;j.onloadend=()=>{m(Re),_(j.result)},j.readAsDataURL(Re)}},R=oe=>{c(oe.target.value)},O=()=>{ce.current&&(z(ce.current.selectionStart),Q(ce.current.selectionEnd))},H=()=>{if(T(!x),!x&&ce.current){const oe=l.substring(ce.current.selectionStart,ce.current.selectionEnd);q(oe),z(ce.current.selectionStart),Q(ce.current.selectionEnd)}},I=()=>{if(!w.trim()){alert("Please enter a URL");return}const oe=`[${D||w}](${w})`,Re=l.substring(0,M)+oe+l.substring(G);c(Re),T(!1),C(""),q("")},it=async()=>{if(!n.trim()||!l.trim()){alert("Vänligen fyll i titel och innehåll");return}try{let oe=null;if(d){const ie=Date.now(),me=d.name?d.name.split(".").pop():"jpg",ue=`image_${ie}.${me}`,he=Tc(Nc,`post-images/${ue}`);console.log("Uploading image with new filename:",ue),await qT(he,d),oe=await O1(he),console.log("Image URL after upload:",oe)}const Re={title:n,content:l,image:oe,date:new Date().toLocaleDateString("sv-SE",{year:"numeric",month:"long",day:"numeric"}),category:J,createdAt:new Date().toISOString()},j=await AI(vc(sn,"posts"),Re);console.log("Post saved with ID:",j.id),et(),e(),window.location.reload()}catch(oe){console.error("Error saving post:",oe),alert("Ett fel uppstod när inlägget skulle sparas. Försök igen.")}},et=()=>{a(""),c(""),m(null),_(""),T(!1),C(""),q(""),te("Alla")},le=()=>{et(),e()},ve=oe=>{oe.target.className==="create-post-modal__overlay"&&le()};return!s||!N?null:u.jsxs("div",{className:"create-post-modal",children:[u.jsx("div",{className:"create-post-modal__overlay",onClick:ve}),u.jsxs("div",{className:"create-post-modal__content",children:[u.jsx("h2",{className:"create-post-modal__title",children:"Skapa nytt inlägg"}),u.jsxs("div",{className:"create-post-modal__form",children:[u.jsxs("div",{className:"create-post-modal__form-group",children:[u.jsx("label",{className:"create-post-modal__label",children:"Titel"}),u.jsx("input",{type:"text",className:"create-post-modal__input",value:n,onChange:oe=>a(oe.target.value),placeholder:"Ange titel"})]}),u.jsxs("div",{className:"create-post-modal__form-group",children:[u.jsx("label",{className:"create-post-modal__label",children:"Bild (valfritt)"}),u.jsxs("div",{className:"create-post-modal__image-upload",onClick:()=>L.current.click(),children:[p?u.jsx("img",{src:p,alt:"Preview",className:"create-post-modal__image-preview"}):u.jsx("div",{className:"create-post-modal__image-placeholder",children:"Klicka för att ladda upp en bild"}),u.jsx("input",{type:"file",accept:"image/*",onChange:S,className:"create-post-modal__file-input",ref:L})]})]}),u.jsxs("div",{className:"create-post-modal__form-group",children:[u.jsx("label",{className:"create-post-modal__label",children:"Kategori"}),u.jsxs("select",{className:"create-post-modal__input",value:J,onChange:oe=>te(oe.target.value),children:[u.jsx("option",{value:"Alla",children:"Alla"}),u.jsx("option",{value:"Inga",children:"Inga"}),u.jsx("option",{value:"Kolmården",children:"Kolmården"}),u.jsx("option",{value:"Sälen",children:"Sälen"}),u.jsx("option",{value:"Hemsedal",children:"Hemsedal"}),u.jsx("option",{value:"Ulricshamn",children:"Ulricshamn"}),u.jsx("option",{value:"Tripplen",children:"Tripplen"})]})]}),u.jsxs("div",{className:"create-post-modal__form-group",children:[u.jsx("label",{className:"create-post-modal__label",children:"Innehåll"}),u.jsxs("div",{children:[u.jsx("textarea",{className:"create-post-modal__textarea",value:l,onChange:R,onSelect:O,ref:ce,placeholder:"Ange innehåll"}),u.jsx("button",{type:"button",onClick:H,className:"create-post-modal__button create-post-modal__button--secondary",style:{marginTop:"10px"},children:"Lägg till länk"}),x&&u.jsxs("div",{className:"create-post-modal__link-tools",children:[u.jsxs("div",{children:[u.jsx("label",{children:"Länktext:"}),u.jsx("input",{type:"text",value:D,onChange:oe=>q(oe.target.value),className:"create-post-modal__input",style:{marginTop:"5px",width:"100%"}})]}),u.jsxs("div",{children:[u.jsx("label",{children:"URL:"}),u.jsx("input",{type:"text",value:w,onChange:oe=>C(oe.target.value),className:"create-post-modal__input",style:{marginTop:"5px",width:"100%"}})]}),u.jsx("div",{style:{marginTop:"10px"},children:u.jsx("button",{onClick:I,className:"create-post-modal__button create-post-modal__button--primary",children:"Infoga länk"})})]})]})]}),u.jsxs("div",{className:"create-post-modal__actions",children:[u.jsx("button",{onClick:le,className:"create-post-modal__button create-post-modal__button--secondary",children:"Avbryt"}),u.jsx("button",{onClick:it,className:"create-post-modal__button create-post-modal__button--primary",disabled:!n.trim()||!l.trim(),children:"Spara"})]})]})]})]})},ND=()=>{const[s,e]=V.useState(""),[n,a]=V.useState(!1),[l,c]=V.useState(!1),{isAdmin:d}=mr(),[m,p]=V.useState([]),[_,x]=V.useState(!0),[T,w]=V.useState(null),C=async()=>{try{x(!0);const M=vc(sn,"posts"),G=(await op(M)).docs.map(Q=>({id:Q.id,...Q.data()}));console.log("All posts from Firestore:",G),p(G),x(!1)}catch(M){console.error("Error fetching posts:",M),x(!1)}};V.useEffect(()=>{C()},[]);const D=M=>{M.preventDefault(),console.log("Email submitted:",s),a(!0),e(""),setTimeout(()=>a(!1),3e3)},q=async M=>{try{const z=m.find(G=>String(G.id)===String(M));if(await wT(Gn(sn,"posts",String(M))),z&&z.image)try{const Q=(J=>{const te=J.match(/\/o\/(.+)\?alt=media/);return te?decodeURIComponent(te[1]):null})(z.image);if(Q){const J=Tc(Nc,Q);await gp(J)}}catch(G){console.error("Failed to delete image from storage:",G)}p(m.filter(G=>String(G.id)!==String(M)))}catch(z){console.error("Failed to delete post:",z)}};return u.jsxs("div",{className:"flex flex_col",children:[u.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",children:u.jsx("div",{className:"MaxWH flex flex_col flex_j_SA",children:u.jsx("div",{className:"om-oss-title flex flex_j_C flex_a_C",children:u.jsx("p",{className:"fonts_huge senaste-nytt-main-title",children:"SENASTE NYTT"})})})}),u.jsx("div",{className:"set-03 senaste-nytt-subscribe-section",children:u.jsxs("div",{className:"senaste-nytt-container flex flex_col flex_j_C flex_a_C font_white",children:[u.jsx("h2",{className:"fonts_large senaste-nytt-title",children:"Håll dig uppdaterad"}),u.jsx("p",{className:"fonts_small senaste-nytt-description",children:"Prenumerera på vårt nyhetsbrev för att få de senaste uppdateringarna om AIM Challenge direkt i din inkorg."}),u.jsxs("form",{onSubmit:D,className:"senaste-nytt-form flex flex_col flex_a_C",children:[u.jsxs("div",{className:"senaste-nytt-form-input-container flex",children:[u.jsx("input",{type:"email",value:s,onChange:M=>e(M.target.value),placeholder:"Din e-postadress",required:!0,className:"senaste-nytt-form-input fonts_small",id:"newsletter-email",name:"newsletter-email",autoComplete:"email"}),u.jsx("button",{type:"submit",className:"senaste-nytt-form-button fonts_small flex flex_j_C flex_a_C",children:u.jsx("span",{children:"Prenumerera"})})]}),n&&u.jsx("p",{className:"senaste-nytt-form-success",children:"Tack för din prenumeration!"})]})]})}),u.jsx("div",{className:"set-03 senaste-nytt-news-section",children:u.jsxs("div",{className:"senaste-nytt-container",children:[u.jsx("h2",{className:"senaste-nytt-section-title",children:"Nyheter"}),d&&u.jsx("div",{className:"senaste-nytt-admin-actions flex flex_j_E",children:u.jsx("button",{className:"senaste-nytt-create-post-button",onClick:()=>c(!0),children:"Skapa nytt inlägg"})}),u.jsx("div",{className:"senaste-nytt-news-grid",children:m.map(M=>u.jsxs("div",{className:"senaste-nytt-news-card",children:[u.jsx("div",{className:"senaste-nytt-news-image-wrapper",children:M.image?u.jsx("div",{className:"senaste-nytt-news-image",style:{backgroundImage:`url(${M.image})`}}):u.jsx("div",{className:"senaste-nytt-news-image senaste-nytt-news-image--empty",children:u.jsx("span",{children:"Ingen bild"})})}),u.jsxs("div",{className:"senaste-nytt-news-content",children:[u.jsx("h3",{className:"senaste-nytt-news-card-title",children:M.title}),u.jsx("p",{className:"senaste-nytt-news-date",children:M.date}),u.jsx("p",{className:"senaste-nytt-news-text",children:M.content}),u.jsx(Se,{to:`/news/${M.id}`,className:"senaste-nytt-read-more",children:"Läs mer"}),d&&u.jsx("button",{className:"senaste-nytt-delete-post-button",onClick:()=>{console.log("Post:",M),console.log("Post ID:",M.id),console.log("Post ID type:",typeof M.id),console.log("Post ID value:",String(M.id)),q(String(M.id))},children:"Ta bort"})]})]},M.id))})]})}),d&&u.jsx(SD,{isOpen:l,onClose:()=>c(!1)}),u.jsx("div",{className:"senaste-nytt-background-container locked-background page_01"})]})},RD=()=>{const{id:s}=Pw(),e=wl(),[n,a]=V.useState(null),[l,c]=V.useState(!0),[d,m]=V.useState(null);V.useEffect(()=>{(async()=>{try{c(!0);const x=Gn(sn,"posts",s),T=await cd(x);T.exists()?(a({id:T.id,...T.data()}),m(null)):m("Nyheten kunde inte hittas")}catch(x){console.error("Error fetching post:",x),m("Ett fel uppstod när nyheten skulle hämtas")}finally{c(!1)}})()},[s]);const p=()=>{e("/senaste-nytt")};return l?u.jsx("div",{className:"flex flex_col flex_a_C flex_j_C",style:{minHeight:"50vh"},children:u.jsx("p",{className:"fonts_large",children:"Laddar..."})}):d?u.jsxs("div",{className:"flex flex_col flex_a_C flex_j_C",style:{minHeight:"50vh"},children:[u.jsx("p",{className:"fonts_large",children:d}),u.jsx("button",{onClick:p,className:"navbbutton button font_blue",style:{marginTop:"20px",padding:"10px 20px"},children:"Tillbaka till nyheter"})]}):n?u.jsxs("div",{className:"flex flex_col",children:[u.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",children:u.jsx("div",{className:"MaxWH flex flex_col flex_j_SA",children:u.jsx("div",{className:"om-oss-title flex flex_j_C flex_a_C",children:u.jsx("p",{className:"fonts_huge senaste-nytt-main-title",children:"NYHETER"})})})}),u.jsx("section",{style:{padding:"50px 0",backgroundColor:"#f5f5f5",width:"100vw"},children:u.jsxs("div",{className:"MaxWH",style:{padding:"0 20px",maxWidth:"1000px",margin:"0 auto"},children:[u.jsxs("button",{onClick:p,className:"navbbutton button font_blue",style:{marginBottom:"20px",padding:"10px 30px 10px 20px",display:"flex",alignItems:"center",gap:"5px",minWidth:"120px"},children:[u.jsx("span",{children:"←"})," ",u.jsx("span",{children:"Tillbaka"})]}),u.jsxs("div",{style:{backgroundColor:"white",borderRadius:"8px",overflow:"hidden",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[n.image&&u.jsx("div",{style:{height:"400px",backgroundImage:`url(${n.image})`,backgroundSize:"cover",backgroundPosition:"center"}}),u.jsxs("div",{style:{padding:"30px"},children:[u.jsx("h1",{className:"fonts_large font_blue",style:{marginBottom:"10px"},children:n.title}),u.jsx("p",{className:"fonts_small",style:{color:"#666",marginBottom:"30px"},children:n.date}),n.content.split(`
`).map((_,x)=>u.jsx("p",{className:"fonts_small",style:{marginBottom:"20px"},children:_},x))]})]}),u.jsx("div",{style:{marginTop:"30px",textAlign:"center"},children:u.jsxs("button",{onClick:p,className:"navbbutton button font_blue",style:{padding:"10px 30px 10px 20px",display:"flex",alignItems:"center",gap:"5px",minWidth:"120px"},children:[u.jsx("span",{children:"←"})," ",u.jsx("span",{children:"Tillbaka"})]})})]})}),u.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",style:{height:"50vh",width:"100vw"}})]}):u.jsxs("div",{className:"flex flex_col flex_a_C flex_j_C",style:{minHeight:"50vh"},children:[u.jsx("p",{className:"fonts_large",children:"Nyheten kunde inte hittas"}),u.jsx("button",{onClick:p,className:"navbbutton button font_blue",style:{marginTop:"20px",padding:"10px 20px"},children:"Tillbaka till nyheter"})]})},T0=()=>{const[s,e]=V.useState(""),[n,a]=V.useState(""),[l,c]=V.useState(""),[d,m]=V.useState(!1),p=wl(),{login:_,isAuthenticated:x}=fr();V.useEffect(()=>{x&&p("/")},[x,p]);const T=async w=>{w.preventDefault(),m(!0),c("");try{const C=await _(s,n);C.success?(console.log("Login successful"),console.log("Current user after login:",{email:s,role:"admin"}),p("/")):c(C.message||"Ogiltigt e-post eller lösenord")}catch(C){console.error("Login error:",C),c("Ett fel uppstod vid inloggning. Försök igen.")}finally{m(!1)}};return u.jsxs("div",{className:"flex flex_col",children:[u.jsx("section",{className:"login-header-section dynamic-background flex flex_col flex_j_E",children:u.jsx("div",{className:"login-header-container flex flex_col flex_j_SA",children:u.jsx("div",{className:"login-title-container",children:u.jsx("p",{className:"fonts_huge login-title",children:"LOGGA IN"})})})}),u.jsx("div",{className:"login-form-wrapper",children:u.jsx("div",{className:"login-form-container",children:u.jsx("div",{className:"login-form",children:u.jsxs("div",{className:"login-card",children:[u.jsx("h2",{className:"fonts_medium font_blue login-subtitle",children:"Administratörsinloggning"}),l&&u.jsx("div",{className:"error-message",children:l}),u.jsxs("form",{onSubmit:T,children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"email",className:"fonts_small",children:"E-post"}),u.jsx("input",{type:"email",id:"email",value:s,onChange:w=>e(w.target.value),required:!0,className:"form-input"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"password",className:"fonts_small",children:"Lösenord"}),u.jsx("input",{type:"password",id:"password",value:n,onChange:w=>a(w.target.value),required:!0,className:"form-input"})]}),u.jsx("button",{type:"submit",className:"navbbutton button font_blue",disabled:d,children:d?"Loggar in...":"Logga in"})]}),u.jsx("div",{className:"login-note",children:u.jsx("p",{className:"fonts_small",style:{color:"#666"},children:"Detta är en inloggning endast för administratörer."})})]})})})}),u.jsx("section",{className:"login-background-section dynamic-background flex flex_col flex_j_E",children:u.jsx("div",{className:"login-background-container"})})]})},kD=()=>{const{textContent:s,resetAllContent:e,removeContentItem:n,isAdmin:a}=mr(),{isAuthenticated:l}=fr(),[c,d]=V.useState(!1),[m,p]=V.useState(null),[_,x]=V.useState("all"),T=wl();if(V.useEffect(()=>{(!l||!a)&&T("/")},[l,a,T]),!l||!a)return null;const w=()=>{d(!0),p(null)},C=J=>{d(!0),p(J)},D=()=>{m?n(m):e(),d(!1),p(null)},q=()=>{d(!1),p(null)},z=(()=>{const J={text:{},image:{},background:{}};return Object.entries(s).forEach(([te,ce])=>{ce.startsWith("data:image")||ce.startsWith("http")||ce.startsWith("/")?te.includes("-bg")||te.includes("background")?J.background[te]=ce:J.image[te]=ce:J.text[te]=ce}),J})(),Q=_==="all"?s:z[_]||{};return u.jsxs("div",{className:"flex flex_col",style:{minHeight:"100vh"},children:[u.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",children:u.jsx("div",{className:"trans-background page_01box flex flex_col flex_j_SA",children:u.jsx("div",{className:"om-oss-title flex flex_j_C flex_a_C",children:u.jsx("p",{className:"font_blue fonts_huge",children:"Innehållshanterare"})})})}),u.jsxs("section",{style:{padding:"40px",maxWidth:"1200px",margin:"0 auto"},children:[u.jsxs("div",{style:{marginBottom:"30px",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"20px"},children:[u.jsx("h2",{className:"font_blue fonts_large",children:"Alla redigerbara innehåll"}),u.jsx("button",{onClick:w,style:{padding:"10px 20px",backgroundColor:"#ff4d4d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Återställ allt innehåll"})]}),u.jsxs("div",{style:{marginBottom:"30px",display:"flex",gap:"10px",flexWrap:"wrap"},children:[u.jsxs("button",{onClick:()=>x("all"),style:{padding:"8px 16px",backgroundColor:_==="all"?"#00a6fb":"#f0f0f0",color:_==="all"?"white":"black",border:"none",borderRadius:"4px",cursor:"pointer"},children:["Alla (",Object.keys(s).length,")"]}),u.jsxs("button",{onClick:()=>x("text"),style:{padding:"8px 16px",backgroundColor:_==="text"?"#00a6fb":"#f0f0f0",color:_==="text"?"white":"black",border:"none",borderRadius:"4px",cursor:"pointer"},children:["Texter (",Object.keys(z.text).length,")"]}),u.jsxs("button",{onClick:()=>x("image"),style:{padding:"8px 16px",backgroundColor:_==="image"?"#00a6fb":"#f0f0f0",color:_==="image"?"white":"black",border:"none",borderRadius:"4px",cursor:"pointer"},children:["Bilder (",Object.keys(z.image).length,")"]}),u.jsxs("button",{onClick:()=>x("background"),style:{padding:"8px 16px",backgroundColor:_==="background"?"#00a6fb":"#f0f0f0",color:_==="background"?"white":"black",border:"none",borderRadius:"4px",cursor:"pointer"},children:["Bakgrundsbilder (",Object.keys(z.background).length,")"]})]}),c&&u.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.7)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:9999},children:u.jsxs("div",{style:{backgroundColor:"white",padding:"30px",borderRadius:"8px",maxWidth:"500px",width:"90%",textAlign:"center"},children:[u.jsx("h3",{style:{marginBottom:"20px",color:"#00a6fb"},children:"Bekräfta åtgärd"}),u.jsx("p",{style:{marginBottom:"30px"},children:m?`Är du säker på att du vill ta bort innehållet med nyckeln "${m}"?`:"Är du säker på att du vill återställa allt innehåll? Detta kan inte ångras."}),u.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"20px"},children:[u.jsx("button",{onClick:D,style:{padding:"10px 20px",backgroundColor:"#ff4d4d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:m?"Ta bort":"Återställ allt"}),u.jsx("button",{onClick:q,style:{padding:"10px 20px",backgroundColor:"#ccc",color:"black",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Avbryt"})]})]})}),Object.keys(Q).length===0?u.jsxs("p",{children:["Inga redigerade ",_==="text"?"texter":_==="image"?"bilder":_==="background"?"bakgrundsbilder":"innehåll"," ännu."]}):u.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"20px"},children:Object.entries(Q).map(([J,te])=>{const ce=te.startsWith("data:image")||te.startsWith("http")||te.startsWith("/"),L=J.includes("-bg")||J.includes("background");return u.jsxs("div",{style:{border:"1px solid #ddd",borderRadius:"8px",padding:"15px",backgroundColor:"white",boxShadow:"0 2px 4px rgba(0,0,0,0.05)"},children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:[u.jsx("h3",{className:"font_blue fonts_medium",style:{wordBreak:"break-all",fontSize:"16px"},children:J}),u.jsx("span",{style:{padding:"3px 8px",borderRadius:"4px",fontSize:"12px",backgroundColor:L?"#6c5ce7":ce?"#00b894":"#0984e3",color:"white"},children:L?"Bakgrund":ce?"Bild":"Text"})]}),u.jsx("div",{style:{marginBottom:"10px"},children:ce?u.jsxs("div",{children:[u.jsx("img",{src:te,alt:J,style:{width:"100%",height:L?"150px":"auto",maxHeight:"150px",objectFit:L?"cover":"contain",borderRadius:"4px",border:"1px solid #eee"}}),L&&u.jsx("div",{style:{marginTop:"5px",fontSize:"12px",color:"#666",textAlign:"center"},children:"Bakgrundsbild"})]}):u.jsx("p",{style:{maxHeight:"100px",overflow:"auto",backgroundColor:"#f5f5f5",padding:"10px",borderRadius:"4px",fontSize:"14px"},children:te})}),u.jsx("button",{onClick:()=>C(J),style:{width:"100%",padding:"8px",backgroundColor:"#ff4d4d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px"},children:"Ta bort"})]},J)})})]})]})},CD=({children:s,requireAdmin:e=!1})=>{const{isAuthenticated:n,currentUser:a}=fr();return n?e&&(a==null?void 0:a.role)!=="admin"?u.jsx(Hv,{to:"/"}):s:u.jsx(Hv,{to:"/login"})},ID=s=>{if(!s)return null;const e=s.match(/\/o\/(.+)\?alt=media/);return e?decodeURIComponent(e[1]):null},jD=async()=>{try{const s=vc(sn,"backgrounds"),e=await op(s),n={};return e.forEach(a=>{n[a.id]=a.data()}),n}catch(s){throw console.error("Error fetching background settings:",s),s}},DD=async s=>{try{const e=Gn(sn,"backgrounds",s),n=await cd(e);return n.exists()?n.data():null}catch(e){throw console.error(`Error fetching background setting for ${s}:`,e),e}},OD=async(s,e)=>{try{const n=await DD(s);if(n&&n.image&&e.image&&n.image!==e.image)try{const l=ID(n.image);if(l){const c=Tc(Nc,l);await gp(c),console.log(`Deleted old background image: ${l}`)}}catch(l){console.warn(`Failed to delete old image, it may not exist anymore: ${l.message}`)}const a=Gn(sn,"backgrounds",s);return await Ec(a,e,{merge:!0}),!0}catch(n){throw console.error("Error saving background setting:",n),n}},MD=()=>{const{isAdmin:s}=mr(),[e,n]=V.useState({}),a=fi();V.useEffect(()=>{if(s)return document.body.classList.add("admin-editing-mode"),()=>{document.body.classList.remove("admin-editing-mode")}},[s]),V.useEffect(()=>{console.log("Setting up Firebase background listener");const d=vc(sn,"backgrounds"),m=wI(d,p=>{const _={};p.forEach(x=>{_[x.id]=x.data()}),console.log("Received background settings from Firebase:",_),n(_),l(_)},p=>{console.error("Error fetching background settings:",p)});return()=>m()},[]),V.useEffect(()=>{console.log("Route changed to:",a.pathname),Object.keys(e).length>0&&l(e);const d=async()=>{try{const p=await jD();console.log("Fetched fresh background settings after route change:",p),n(p),l(p)}catch(p){console.error("Failed to fetch background settings:",p)}},m=setTimeout(()=>{d()},500);return()=>clearTimeout(m)},[a.pathname]);const l=d=>{console.log("Applying background settings:",d),Object.keys(d).forEach(p=>{const _=document.getElementById(p);if(_)console.log(`Applying background to element with ID: ${p}`),c(_,d[p]);else if(console.log(`Element with ID ${p} not found, checking for class`),p.startsWith("class:")){const x=p.replace("class:",""),T=document.getElementsByClassName(x);console.log(`Found ${T.length} elements with class ${x}`),Array.from(T).forEach(w=>{c(w,d[p])})}});const m=document.querySelectorAll(".simple-background, .locked-background, .dynamic-background");console.log(`Found ${m.length} elements with background classes`),m.forEach(p=>{if(p.id&&d[p.id])console.log(`Applying background to element with ID: ${p.id} (found by class)`),c(p,d[p.id]);else for(const _ of p.classList){const x=`class:${_}`;d[x]&&(console.log(`Applying background to element with class: ${_}`),c(p,d[x]))}})},c=(d,m)=>{!d||!m||(console.log("Applying setting to element:",d,m),m.type&&(d.classList.remove("simple-background","locked-background","dynamic-background"),d.classList.add(`${m.type}-background`),m.type==="locked"?d.style.backgroundAttachment="fixed":d.style.backgroundAttachment="scroll"),m.image&&(d.style.backgroundImage=`url('${m.image}')`,d.style.backgroundSize="cover",d.style.backgroundPosition="center",d.style.backgroundRepeat="no-repeat"))};return V.useEffect(()=>{if(Object.keys(e).length===0)return;console.log("Setting up MutationObserver for background elements");const d=p=>{let _=!1;p.forEach(x=>{if(x.type==="childList")x.addedNodes.forEach(T=>{T.nodeType===Node.ELEMENT_NODE&&(T.querySelectorAll("[id]").forEach(D=>{e[D.id]&&(console.log(`New element with ID ${D.id} added, will reapply backgrounds`),_=!0)}),T.querySelectorAll(".simple-background, .locked-background, .dynamic-background").length>0&&(console.log("New elements with background classes added, will reapply backgrounds"),_=!0),T.id&&e[T.id]&&(console.log(`New element with ID ${T.id} added, will reapply backgrounds`),_=!0),T.classList&&(T.classList.contains("simple-background")||T.classList.contains("locked-background")||T.classList.contains("dynamic-background"))&&(console.log("New element with background class added, will reapply backgrounds"),_=!0))});else if(x.type==="attributes"){const T=x.target;T.id&&e[T.id]&&(console.log(`Element ID ${T.id} changed, will reapply backgrounds`),_=!0),T.classList&&(T.classList.contains("simple-background")||T.classList.contains("locked-background")||T.classList.contains("dynamic-background"))&&(console.log("Element class changed to include background class, will reapply backgrounds"),_=!0)}}),_&&(console.log("DOM changed, reapplying background settings"),l(e))},m=new MutationObserver(d);return m.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["id","class"]}),()=>m.disconnect()},[e]),V.useEffect(()=>(window.saveBackgroundSetting=async(d,m)=>{let p=d;console.log(`Saving background setting for: ${d}`,m),document.getElementById(d)||document.getElementsByClassName(d).length>0&&(p=`class:${d}`,console.log(`Using class key instead: ${p}`));const _=await OD(p,m);console.log(`Background setting saved: ${_}`);const x=document.getElementById(d)||document.getElementsByClassName(d)[0];return x&&(console.log("Immediately applying background to element"),c(x,m)),_},()=>{delete window.saveBackgroundSetting}),[]),null},LD=()=>u.jsx("div",{className:"background-container",children:u.jsx("img",{src:"/backgrounds/Höjdkurvor.svg",alt:"Background"})}),VD=()=>{const{isAdmin:s,getText:e,updateText:n}=mr(),[a,l]=V.useState(null),[c,d]=V.useState(null),[m,p]=V.useState(!1),[_,x]=V.useState("simple"),[T,w]=V.useState("type"),[C,D]=V.useState(""),q=V.useRef(null);V.useEffect(()=>{if(!s)return;const J=te=>{if(te.target.classList.contains("simple-background")||te.target.classList.contains("locked-background")||te.target.classList.contains("dynamic-background")||[...te.target.classList].some(L=>L.includes("-bg"))){te.stopPropagation(),l(te.target);let L=te.target.id;L||(L=`bg-${Date.now()}`,te.target.id=L),d(L);const N=e(`${L}-type`,null);N?x(N):te.target.classList.contains("locked-background")?x("locked"):x("simple");const S=e(`${L}-image`,null);if(S)D(S);else{let O=window.getComputedStyle(te.target).backgroundImage;O&&O!=="none"?(O=O.replace(/url\(['"]?(.*?)['"]?\)/i,"$1"),D(O)):D("")}p(!0)}};return document.addEventListener("click",J),()=>{document.removeEventListener("click",J)}},[s,e]);const M=()=>{!a||!c||(a.classList.remove("simple-background","locked-background"),a.classList.add(`${_}-background`),_==="locked"?a.style.backgroundAttachment="fixed":a.style.backgroundAttachment="scroll",n(`${c}-type`,_))},z=()=>{!a||!C||!c||(a.style.backgroundImage=`url('${C}')`,a.style.backgroundSize="cover",a.style.backgroundPosition="center",a.style.backgroundRepeat="no-repeat",n(`${c}-image`,C))},G=J=>{const te=J.target.files[0];if(!te)return;const ce=URL.createObjectURL(te);D(ce);const L=new FileReader;L.onloadend=()=>{D(L.result)},L.readAsDataURL(te)},Q=()=>{M(),z(),p(!1)};return!s||!m?null:u.jsx("div",{className:"background-settings-modal",onClick:()=>p(!1),children:u.jsxs("div",{className:"background-settings-content",onClick:J=>J.stopPropagation(),children:[u.jsx("h3",{children:"Background Settings"}),u.jsxs("div",{className:"settings-tabs",children:[u.jsx("button",{className:`tab-button ${T==="type"?"active":""}`,onClick:()=>w("type"),children:"Background Type"}),u.jsx("button",{className:`tab-button ${T==="image"?"active":""}`,onClick:()=>w("image"),children:"Background Image"})]}),T==="type"&&u.jsxs("div",{className:"background-type-options",children:[u.jsx("div",{className:"form-group",children:u.jsxs("label",{children:[u.jsx("input",{type:"radio",name:"backgroundType",value:"simple",checked:_==="simple",onChange:()=>x("simple")}),"Simple (Scrolls with content)"]})}),u.jsx("div",{className:"form-group",children:u.jsxs("label",{children:[u.jsx("input",{type:"radio",name:"backgroundType",value:"locked",checked:_==="locked",onChange:()=>x("locked")}),"Locked (Fixed when scrolling)"]})})]}),T==="image"&&u.jsxs("div",{className:"background-image-options",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"imageUrl",children:"Image URL:"}),u.jsx("input",{type:"text",id:"imageUrl",value:C,onChange:J=>D(J.target.value),placeholder:"Enter image URL",className:"image-url-input"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Or upload an image:"}),u.jsx("input",{type:"file",accept:"image/*",onChange:G,ref:q,className:"file-input"}),u.jsx("button",{className:"upload-button",onClick:()=>q.current.click(),children:"Choose File"})]}),C&&u.jsxs("div",{className:"image-preview",children:[u.jsx("p",{children:"Preview:"}),u.jsx("img",{src:C,alt:"Background preview"})]})]}),u.jsxs("div",{className:"button-group",children:[u.jsx("button",{className:"cancel-button",onClick:()=>p(!1),children:"Cancel"}),u.jsx("button",{className:"apply-button",onClick:Q,children:"Apply"})]})]})})},PD=async(s,e,n="Admin")=>{try{const l=(await Oj(yh,s,e)).user;return await Vj(l,{displayName:n}),await Ec(Gn(sn,"users",l.uid),{email:s,displayName:n,role:"admin",createdAt:new Date}),{success:!0,user:{uid:l.uid,email:l.email,displayName:n,role:"admin"}}}catch(a){return console.error("Error creating admin user:",a),{success:!1,error:a.message}}},UD=async()=>{try{(await cd(Gn(sn,"settings","admin"))).exists()||(await PD("admin@example.com","password123")).success&&(await Ec(Gn(sn,"settings","admin"),{initialized:!0,adminEmail:"admin@example.com",createdAt:new Date}),console.log("Admin user initialized successfully"))}catch(s){console.error("Error initializing admin user:",s)}},BD=()=>(V.useEffect(()=>{UD().then(()=>console.log("Admin user initialized")).catch(s=>console.error("Error initializing admin user:",s))},[]),u.jsx(tD,{children:u.jsx(iD,{children:u.jsx(bS,{children:u.jsxs("div",{className:"flex flex_col MaxWH location",style:{width:"100%",maxWidth:"100%",overflow:"hidden",margin:0,padding:0,display:"flex",flexDirection:"column",position:"relative"},children:[u.jsx(LD,{}),u.jsx(aD,{}),u.jsx(MD,{}),u.jsx(VD,{}),u.jsx("div",{style:{margin:0,padding:0,width:"100%",position:"relative",top:0},children:u.jsxs(Jw,{children:[u.jsx(It,{path:"/",element:u.jsx(lD,{})}),u.jsx(It,{path:"/competitions",element:u.jsx(oD,{})}),u.jsx(It,{path:"/ulricehamn",element:u.jsx(cD,{})}),u.jsx(It,{path:"/salen",element:u.jsx(uD,{})}),u.jsx(It,{path:"/hemsedal",element:u.jsx(hD,{})}),u.jsx(It,{path:"/kolmarden",element:u.jsx(dD,{})}),u.jsx(It,{path:"/trippeln",element:u.jsx(fD,{})}),u.jsx(It,{path:"/results",element:u.jsx(yD,{})}),u.jsx(It,{path:"/gallery",element:u.jsxs(u.Fragment,{children:[u.jsx(vD,{}),u.jsx(xD,{})]})}),u.jsx(It,{path:"/om-oss",element:u.jsx(ED,{})}),u.jsx(It,{path:"/regler",element:u.jsx(TD,{})}),u.jsx(It,{path:"/faq",element:u.jsx(AD,{})}),u.jsx(It,{path:"/historien-om-aim",element:u.jsx(wD,{})}),u.jsx(It,{path:"/senaste-nytt",element:u.jsx(ND,{})}),u.jsx(It,{path:"/news/:id",element:u.jsx(RD,{})}),u.jsx(It,{path:"/login",element:u.jsx(T0,{})}),u.jsx(It,{path:"login",element:u.jsx(T0,{})}),u.jsx(It,{path:"/content-manager",element:u.jsx(CD,{requireAdmin:!0,children:u.jsx(kD,{})})})]})}),u.jsx(rD,{})]})})})}));(function(){const s=sessionStorage.redirect;delete sessionStorage.redirect,s&&s!==location.href&&history.replaceState(null,null,s)})();const HD=document.getElementById("root");ow.createRoot(HD).render(u.jsx(tw.StrictMode,{children:u.jsx(BD,{})}));
//# sourceMappingURL=index-2l-7pue6.js.map
