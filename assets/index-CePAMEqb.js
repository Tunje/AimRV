(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function t(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(l){if(l.ep)return;l.ep=!0;const c=t(l);fetch(l.href,c)}})();function xg(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Am={exports:{}},Wo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jv;function oS(){if(jv)return Wo;jv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,l,c){var h=null;if(c!==void 0&&(h=""+c),l.key!==void 0&&(h=""+l.key),"key"in l){c={};for(var m in l)m!=="key"&&(c[m]=l[m])}else c=l;return l=c.ref,{$$typeof:s,type:i,key:h,ref:l!==void 0?l:null,props:c}}return Wo.Fragment=e,Wo.jsx=t,Wo.jsxs=t,Wo}var Dv;function cS(){return Dv||(Dv=1,Am.exports=oS()),Am.exports}var u=cS(),Sm={exports:{}},De={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ov;function uS(){if(Ov)return De;Ov=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.iterator;function N(M){return M===null||typeof M!="object"?null:(M=w&&M[w]||M["@@iterator"],typeof M=="function"?M:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,B={};function V(M,ae,me){this.props=M,this.context=ae,this.refs=B,this.updater=me||O}V.prototype.isReactComponent={},V.prototype.setState=function(M,ae){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,ae,"setState")},V.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function z(){}z.prototype=V.prototype;function H(M,ae,me){this.props=M,this.context=ae,this.refs=B,this.updater=me||O}var F=H.prototype=new z;F.constructor=H,L(F,V.prototype),F.isPureReactComponent=!0;var Z=Array.isArray,oe={H:null,A:null,T:null,S:null},de=Object.prototype.hasOwnProperty;function D(M,ae,me,fe,ge,Ae){return me=Ae.ref,{$$typeof:s,type:M,key:ae,ref:me!==void 0?me:null,props:Ae}}function C(M,ae){return D(M.type,ae,void 0,void 0,void 0,M.props)}function T(M){return typeof M=="object"&&M!==null&&M.$$typeof===s}function b(M){var ae={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(me){return ae[me]})}var S=/\/+/g;function j(M,ae){return typeof M=="object"&&M!==null&&M.key!=null?b(""+M.key):ae.toString(36)}function A(){}function Y(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(A,A):(M.status="pending",M.then(function(ae){M.status==="pending"&&(M.status="fulfilled",M.value=ae)},function(ae){M.status==="pending"&&(M.status="rejected",M.reason=ae)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function ne(M,ae,me,fe,ge){var Ae=typeof M;(Ae==="undefined"||Ae==="boolean")&&(M=null);var Re=!1;if(M===null)Re=!0;else switch(Ae){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(M.$$typeof){case s:case e:Re=!0;break;case v:return Re=M._init,ne(Re(M._payload),ae,me,fe,ge)}}if(Re)return ge=ge(M),Re=fe===""?"."+j(M,0):fe,Z(ge)?(me="",Re!=null&&(me=Re.replace(S,"$&/")+"/"),ne(ge,ae,me,"",function(it){return it})):ge!=null&&(T(ge)&&(ge=C(ge,me+(ge.key==null||M&&M.key===ge.key?"":(""+ge.key).replace(S,"$&/")+"/")+Re)),ae.push(ge)),1;Re=0;var gt=fe===""?".":fe+":";if(Z(M))for(var He=0;He<M.length;He++)fe=M[He],Ae=gt+j(fe,He),Re+=ne(fe,ae,me,Ae,ge);else if(He=N(M),typeof He=="function")for(M=He.call(M),He=0;!(fe=M.next()).done;)fe=fe.value,Ae=gt+j(fe,He++),Re+=ne(fe,ae,me,Ae,ge);else if(Ae==="object"){if(typeof M.then=="function")return ne(Y(M),ae,me,fe,ge);throw ae=String(M),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return Re}function X(M,ae,me){if(M==null)return M;var fe=[],ge=0;return ne(M,fe,"","",function(Ae){return ae.call(me,Ae,ge++)}),fe}function Q(M){if(M._status===-1){var ae=M._result;ae=ae(),ae.then(function(me){(M._status===0||M._status===-1)&&(M._status=1,M._result=me)},function(me){(M._status===0||M._status===-1)&&(M._status=2,M._result=me)}),M._status===-1&&(M._status=0,M._result=ae)}if(M._status===1)return M._result.default;throw M._result}var ue=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function ve(){}return De.Children={map:X,forEach:function(M,ae,me){X(M,function(){ae.apply(this,arguments)},me)},count:function(M){var ae=0;return X(M,function(){ae++}),ae},toArray:function(M){return X(M,function(ae){return ae})||[]},only:function(M){if(!T(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},De.Component=V,De.Fragment=t,De.Profiler=l,De.PureComponent=H,De.StrictMode=i,De.Suspense=p,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=oe,De.act=function(){throw Error("act(...) is not supported in production builds of React.")},De.cache=function(M){return function(){return M.apply(null,arguments)}},De.cloneElement=function(M,ae,me){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var fe=L({},M.props),ge=M.key,Ae=void 0;if(ae!=null)for(Re in ae.ref!==void 0&&(Ae=void 0),ae.key!==void 0&&(ge=""+ae.key),ae)!de.call(ae,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&ae.ref===void 0||(fe[Re]=ae[Re]);var Re=arguments.length-2;if(Re===1)fe.children=me;else if(1<Re){for(var gt=Array(Re),He=0;He<Re;He++)gt[He]=arguments[He+2];fe.children=gt}return D(M.type,ge,void 0,void 0,Ae,fe)},De.createContext=function(M){return M={$$typeof:h,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:c,_context:M},M},De.createElement=function(M,ae,me){var fe,ge={},Ae=null;if(ae!=null)for(fe in ae.key!==void 0&&(Ae=""+ae.key),ae)de.call(ae,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(ge[fe]=ae[fe]);var Re=arguments.length-2;if(Re===1)ge.children=me;else if(1<Re){for(var gt=Array(Re),He=0;He<Re;He++)gt[He]=arguments[He+2];ge.children=gt}if(M&&M.defaultProps)for(fe in Re=M.defaultProps,Re)ge[fe]===void 0&&(ge[fe]=Re[fe]);return D(M,Ae,void 0,void 0,null,ge)},De.createRef=function(){return{current:null}},De.forwardRef=function(M){return{$$typeof:m,render:M}},De.isValidElement=T,De.lazy=function(M){return{$$typeof:v,_payload:{_status:-1,_result:M},_init:Q}},De.memo=function(M,ae){return{$$typeof:y,type:M,compare:ae===void 0?null:ae}},De.startTransition=function(M){var ae=oe.T,me={};oe.T=me;try{var fe=M(),ge=oe.S;ge!==null&&ge(me,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(ve,ue)}catch(Ae){ue(Ae)}finally{oe.T=ae}},De.unstable_useCacheRefresh=function(){return oe.H.useCacheRefresh()},De.use=function(M){return oe.H.use(M)},De.useActionState=function(M,ae,me){return oe.H.useActionState(M,ae,me)},De.useCallback=function(M,ae){return oe.H.useCallback(M,ae)},De.useContext=function(M){return oe.H.useContext(M)},De.useDebugValue=function(){},De.useDeferredValue=function(M,ae){return oe.H.useDeferredValue(M,ae)},De.useEffect=function(M,ae){return oe.H.useEffect(M,ae)},De.useId=function(){return oe.H.useId()},De.useImperativeHandle=function(M,ae,me){return oe.H.useImperativeHandle(M,ae,me)},De.useInsertionEffect=function(M,ae){return oe.H.useInsertionEffect(M,ae)},De.useLayoutEffect=function(M,ae){return oe.H.useLayoutEffect(M,ae)},De.useMemo=function(M,ae){return oe.H.useMemo(M,ae)},De.useOptimistic=function(M,ae){return oe.H.useOptimistic(M,ae)},De.useReducer=function(M,ae,me){return oe.H.useReducer(M,ae,me)},De.useRef=function(M){return oe.H.useRef(M)},De.useState=function(M){return oe.H.useState(M)},De.useSyncExternalStore=function(M,ae,me){return oe.H.useSyncExternalStore(M,ae,me)},De.useTransition=function(){return oe.H.useTransition()},De.version="19.0.0",De}var Mv;function Eg(){return Mv||(Mv=1,Sm.exports=uS()),Sm.exports}var k=Eg();const dS=xg(k);var wm={exports:{}},Xo={},Nm={exports:{}},Rm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lv;function hS(){return Lv||(Lv=1,function(s){function e(X,Q){var ue=X.length;X.push(Q);e:for(;0<ue;){var ve=ue-1>>>1,M=X[ve];if(0<l(M,Q))X[ve]=Q,X[ue]=M,ue=ve;else break e}}function t(X){return X.length===0?null:X[0]}function i(X){if(X.length===0)return null;var Q=X[0],ue=X.pop();if(ue!==Q){X[0]=ue;e:for(var ve=0,M=X.length,ae=M>>>1;ve<ae;){var me=2*(ve+1)-1,fe=X[me],ge=me+1,Ae=X[ge];if(0>l(fe,ue))ge<M&&0>l(Ae,fe)?(X[ve]=Ae,X[ge]=ue,ve=ge):(X[ve]=fe,X[me]=ue,ve=me);else if(ge<M&&0>l(Ae,ue))X[ve]=Ae,X[ge]=ue,ve=ge;else break e}}return Q}function l(X,Q){var ue=X.sortIndex-Q.sortIndex;return ue!==0?ue:X.id-Q.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var h=Date,m=h.now();s.unstable_now=function(){return h.now()-m}}var p=[],y=[],v=1,w=null,N=3,O=!1,L=!1,B=!1,V=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function F(X){for(var Q=t(y);Q!==null;){if(Q.callback===null)i(y);else if(Q.startTime<=X)i(y),Q.sortIndex=Q.expirationTime,e(p,Q);else break;Q=t(y)}}function Z(X){if(B=!1,F(X),!L)if(t(p)!==null)L=!0,Y();else{var Q=t(y);Q!==null&&ne(Z,Q.startTime-X)}}var oe=!1,de=-1,D=5,C=-1;function T(){return!(s.unstable_now()-C<D)}function b(){if(oe){var X=s.unstable_now();C=X;var Q=!0;try{e:{L=!1,B&&(B=!1,z(de),de=-1),O=!0;var ue=N;try{t:{for(F(X),w=t(p);w!==null&&!(w.expirationTime>X&&T());){var ve=w.callback;if(typeof ve=="function"){w.callback=null,N=w.priorityLevel;var M=ve(w.expirationTime<=X);if(X=s.unstable_now(),typeof M=="function"){w.callback=M,F(X),Q=!0;break t}w===t(p)&&i(p),F(X)}else i(p);w=t(p)}if(w!==null)Q=!0;else{var ae=t(y);ae!==null&&ne(Z,ae.startTime-X),Q=!1}}break e}finally{w=null,N=ue,O=!1}Q=void 0}}finally{Q?S():oe=!1}}}var S;if(typeof H=="function")S=function(){H(b)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,A=j.port2;j.port1.onmessage=b,S=function(){A.postMessage(null)}}else S=function(){V(b,0)};function Y(){oe||(oe=!0,S())}function ne(X,Q){de=V(function(){X(s.unstable_now())},Q)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(X){X.callback=null},s.unstable_continueExecution=function(){L||O||(L=!0,Y())},s.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<X?Math.floor(1e3/X):5},s.unstable_getCurrentPriorityLevel=function(){return N},s.unstable_getFirstCallbackNode=function(){return t(p)},s.unstable_next=function(X){switch(N){case 1:case 2:case 3:var Q=3;break;default:Q=N}var ue=N;N=Q;try{return X()}finally{N=ue}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(X,Q){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ue=N;N=X;try{return Q()}finally{N=ue}},s.unstable_scheduleCallback=function(X,Q,ue){var ve=s.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?ve+ue:ve):ue=ve,X){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=ue+M,X={id:v++,callback:Q,priorityLevel:X,startTime:ue,expirationTime:M,sortIndex:-1},ue>ve?(X.sortIndex=ue,e(y,X),t(p)===null&&X===t(y)&&(B?(z(de),de=-1):B=!0,ne(Z,ue-ve))):(X.sortIndex=M,e(p,X),L||O||(L=!0,Y())),X},s.unstable_shouldYield=T,s.unstable_wrapCallback=function(X){var Q=N;return function(){var ue=N;N=Q;try{return X.apply(this,arguments)}finally{N=ue}}}}(Rm)),Rm}var Pv;function fS(){return Pv||(Pv=1,Nm.exports=hS()),Nm.exports}var km={exports:{}},ln={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uv;function mS(){if(Uv)return ln;Uv=1;var s=Eg();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)y+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(p,y,v){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:w==null?null:""+w,children:p,containerInfo:y,implementation:v}}var h=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return ln.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,ln.createPortal=function(p,y){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(p,y,null,v)},ln.flushSync=function(p){var y=h.T,v=i.p;try{if(h.T=null,i.p=2,p)return p()}finally{h.T=y,i.p=v,i.d.f()}},ln.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,i.d.C(p,y))},ln.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},ln.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var v=y.as,w=m(v,y.crossOrigin),N=typeof y.integrity=="string"?y.integrity:void 0,O=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;v==="style"?i.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:N,fetchPriority:O}):v==="script"&&i.d.X(p,{crossOrigin:w,integrity:N,fetchPriority:O,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},ln.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var v=m(y.as,y.crossOrigin);i.d.M(p,{crossOrigin:v,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&i.d.M(p)},ln.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var v=y.as,w=m(v,y.crossOrigin);i.d.L(p,v,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},ln.preloadModule=function(p,y){if(typeof p=="string")if(y){var v=m(y.as,y.crossOrigin);i.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:v,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else i.d.m(p)},ln.requestFormReset=function(p){i.d.r(p)},ln.unstable_batchedUpdates=function(p,y){return p(y)},ln.useFormState=function(p,y,v){return h.H.useFormState(p,y,v)},ln.useFormStatus=function(){return h.H.useHostTransitionStatus()},ln.version="19.0.0",ln}var Vv;function CE(){if(Vv)return km.exports;Vv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),km.exports=mS(),km.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bv;function gS(){if(Bv)return Xo;Bv=1;var s=fS(),e=Eg(),t=CE();function i(n){var a="https://react.dev/errors/"+n;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)a+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+n+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}var c=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),N=Symbol.for("react.consumer"),O=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),F=Symbol.for("react.offscreen"),Z=Symbol.for("react.memo_cache_sentinel"),oe=Symbol.iterator;function de(n){return n===null||typeof n!="object"?null:(n=oe&&n[oe]||n["@@iterator"],typeof n=="function"?n:null)}var D=Symbol.for("react.client.reference");function C(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===D?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case p:return"Fragment";case m:return"Portal";case v:return"Profiler";case y:return"StrictMode";case B:return"Suspense";case V:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case O:return(n.displayName||"Context")+".Provider";case N:return(n._context.displayName||"Context")+".Consumer";case L:var a=n.render;return n=n.displayName,n||(n=a.displayName||a.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case z:return a=n.displayName||null,a!==null?a:C(n.type)||"Memo";case H:a=n._payload,n=n._init;try{return C(n(a))}catch{}}return null}var T=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,b=Object.assign,S,j;function A(n){if(S===void 0)try{throw Error()}catch(r){var a=r.stack.trim().match(/\n( *(at )?)/);S=a&&a[1]||"",j=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+S+n+j}var Y=!1;function ne(n,a){if(!n||Y)return"";Y=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(a){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(te){var J=te}Reflect.construct(n,[],ce)}else{try{ce.call()}catch(te){J=te}n.call(ce.prototype)}}else{try{throw Error()}catch(te){J=te}(ce=n())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(te){if(te&&J&&typeof te.stack=="string")return[te.stack,J.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=o.DetermineComponentFrameRoot(),E=g[0],R=g[1];if(E&&R){var P=E.split(`
`),K=R.split(`
`);for(f=o=0;o<P.length&&!P[o].includes("DetermineComponentFrameRoot");)o++;for(;f<K.length&&!K[f].includes("DetermineComponentFrameRoot");)f++;if(o===P.length||f===K.length)for(o=P.length-1,f=K.length-1;1<=o&&0<=f&&P[o]!==K[f];)f--;for(;1<=o&&0<=f;o--,f--)if(P[o]!==K[f]){if(o!==1||f!==1)do if(o--,f--,0>f||P[o]!==K[f]){var se=`
`+P[o].replace(" at new "," at ");return n.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",n.displayName)),se}while(1<=o&&0<=f);break}}}finally{Y=!1,Error.prepareStackTrace=r}return(r=n?n.displayName||n.name:"")?A(r):""}function X(n){switch(n.tag){case 26:case 27:case 5:return A(n.type);case 16:return A("Lazy");case 13:return A("Suspense");case 19:return A("SuspenseList");case 0:case 15:return n=ne(n.type,!1),n;case 11:return n=ne(n.type.render,!1),n;case 1:return n=ne(n.type,!0),n;default:return""}}function Q(n){try{var a="";do a+=X(n),n=n.return;while(n);return a}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function ue(n){var a=n,r=n;if(n.alternate)for(;a.return;)a=a.return;else{n=a;do a=n,(a.flags&4098)!==0&&(r=a.return),n=a.return;while(n)}return a.tag===3?r:null}function ve(n){if(n.tag===13){var a=n.memoizedState;if(a===null&&(n=n.alternate,n!==null&&(a=n.memoizedState)),a!==null)return a.dehydrated}return null}function M(n){if(ue(n)!==n)throw Error(i(188))}function ae(n){var a=n.alternate;if(!a){if(a=ue(n),a===null)throw Error(i(188));return a!==n?null:n}for(var r=n,o=a;;){var f=r.return;if(f===null)break;var g=f.alternate;if(g===null){if(o=f.return,o!==null){r=o;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===r)return M(f),n;if(g===o)return M(f),a;g=g.sibling}throw Error(i(188))}if(r.return!==o.return)r=f,o=g;else{for(var E=!1,R=f.child;R;){if(R===r){E=!0,r=f,o=g;break}if(R===o){E=!0,o=f,r=g;break}R=R.sibling}if(!E){for(R=g.child;R;){if(R===r){E=!0,r=g,o=f;break}if(R===o){E=!0,o=g,r=f;break}R=R.sibling}if(!E)throw Error(i(189))}}if(r.alternate!==o)throw Error(i(190))}if(r.tag!==3)throw Error(i(188));return r.stateNode.current===r?n:a}function me(n){var a=n.tag;if(a===5||a===26||a===27||a===6)return n;for(n=n.child;n!==null;){if(a=me(n),a!==null)return a;n=n.sibling}return null}var fe=Array.isArray,ge=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ae={pending:!1,data:null,method:null,action:null},Re=[],gt=-1;function He(n){return{current:n}}function it(n){0>gt||(n.current=Re[gt],Re[gt]=null,gt--)}function Xe(n,a){gt++,Re[gt]=n.current,n.current=a}var Qt=He(null),ts=He(null),vn=He(null),pe=He(null);function Ge(n,a){switch(Xe(vn,a),Xe(ts,n),Xe(Qt,null),n=a.nodeType,n){case 9:case 11:a=(a=a.documentElement)&&(a=a.namespaceURI)?lv(a):0;break;default:if(n=n===8?a.parentNode:a,a=n.tagName,n=n.namespaceURI)n=lv(n),a=ov(n,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}it(Qt),Xe(Qt,a)}function Ct(){it(Qt),it(ts),it(vn)}function Pn(n){n.memoizedState!==null&&Xe(pe,n);var a=Qt.current,r=ov(a,n.type);a!==r&&(Xe(ts,n),Xe(Qt,r))}function Sn(n){ts.current===n&&(it(Qt),it(ts)),pe.current===n&&(it(pe),Fo._currentValue=Ae)}var Fs=Object.prototype.hasOwnProperty,_s=s.unstable_scheduleCallback,ka=s.unstable_cancelCallback,Fl=s.unstable_shouldYield,Mi=s.unstable_requestPaint,Yt=s.unstable_now,Bc=s.unstable_getCurrentPriorityLevel,It=s.unstable_ImmediatePriority,Bt=s.unstable_UserBlockingPriority,Gs=s.unstable_NormalPriority,Hc=s.unstable_LowPriority,Gl=s.unstable_IdlePriority,wh=s.log,Li=s.unstable_setDisableYieldValue,Ca=null,an=null;function $l(n){if(an&&typeof an.onCommitFiberRoot=="function")try{an.onCommitFiberRoot(Ca,n,void 0,(n.current.flags&128)===128)}catch{}}function vs(n){if(typeof wh=="function"&&Li(n),an&&typeof an.setStrictMode=="function")try{an.setStrictMode(Ca,n)}catch{}}var hn=Math.clz32?Math.clz32:qc,Ql=Math.log,zc=Math.LN2;function qc(n){return n>>>=0,n===0?32:31-(Ql(n)/zc|0)|0}var xs=128,Ia=4194304;function ns(n){var a=n&42;if(a!==0)return a;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Un(n,a){var r=n.pendingLanes;if(r===0)return 0;var o=0,f=n.suspendedLanes,g=n.pingedLanes,E=n.warmLanes;n=n.finishedLanes!==0;var R=r&134217727;return R!==0?(r=R&~f,r!==0?o=ns(r):(g&=R,g!==0?o=ns(g):n||(E=R&~E,E!==0&&(o=ns(E))))):(R=r&~f,R!==0?o=ns(R):g!==0?o=ns(g):n||(E=r&~E,E!==0&&(o=ns(E)))),o===0?0:a!==0&&a!==o&&(a&f)===0&&(f=o&-o,E=a&-a,f>=E||f===32&&(E&4194176)!==0)?a:o}function ja(n,a){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&a)===0}function Cr(n,a){switch(n){case 1:case 2:case 4:case 8:return a+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yl(){var n=xs;return xs<<=1,(xs&4194176)===0&&(xs=128),n}function Da(){var n=Ia;return Ia<<=1,(Ia&62914560)===0&&(Ia=4194304),n}function Ir(n){for(var a=[],r=0;31>r;r++)a.push(n);return a}function Tt(n,a){n.pendingLanes|=a,a!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Kc(n,a,r,o,f,g){var E=n.pendingLanes;n.pendingLanes=r,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=r,n.entangledLanes&=r,n.errorRecoveryDisabledLanes&=r,n.shellSuspendCounter=0;var R=n.entanglements,P=n.expirationTimes,K=n.hiddenUpdates;for(r=E&~r;0<r;){var se=31-hn(r),ce=1<<se;R[se]=0,P[se]=-1;var J=K[se];if(J!==null)for(K[se]=null,se=0;se<J.length;se++){var te=J[se];te!==null&&(te.lane&=-536870913)}r&=~ce}o!==0&&Oa(n,o,0),g!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=g&~(E&~a))}function Oa(n,a,r){n.pendingLanes|=a,n.suspendedLanes&=~a;var o=31-hn(a);n.entangledLanes|=a,n.entanglements[o]=n.entanglements[o]|1073741824|r&4194218}function Ma(n,a){var r=n.entangledLanes|=a;for(n=n.entanglements;r;){var o=31-hn(r),f=1<<o;f&a|n[o]&a&&(n[o]|=a),r&=~f}}function Fc(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Gc(){var n=ge.p;return n!==0?n:(n=window.event,n===void 0?32:wv(n.type))}function La(n,a){var r=ge.p;try{return ge.p=n,a()}finally{ge.p=r}}var Es=Math.random().toString(36).slice(2),Ht="__reactFiber$"+Es,jt="__reactProps$"+Es,$s="__reactContainer$"+Es,Pi="__reactEvents$"+Es,jr="__reactListeners$"+Es,Ts="__reactHandles$"+Es,Wl="__reactResources$"+Es,Pa="__reactMarker$"+Es;function Ui(n){delete n[Ht],delete n[jt],delete n[Pi],delete n[jr],delete n[Ts]}function ss(n){var a=n[Ht];if(a)return a;for(var r=n.parentNode;r;){if(a=r[$s]||r[Ht]){if(r=a.alternate,a.child!==null||r!==null&&r.child!==null)for(n=dv(n);n!==null;){if(r=n[Ht])return r;n=dv(n)}return a}n=r,r=n.parentNode}return null}function Qs(n){if(n=n[Ht]||n[$s]){var a=n.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return n}return null}function Ua(n){var a=n.tag;if(a===5||a===26||a===27||a===6)return n.stateNode;throw Error(i(33))}function Va(n){var a=n[Wl];return a||(a=n[Wl]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function ut(n){n[Pa]=!0}var Xl=new Set,Dr={};function wn(n,a){xn(n,a),xn(n+"Capture",a)}function xn(n,a){for(Dr[n]=a,n=0;n<a.length;n++)Xl.add(a[n])}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zl={},Jl={};function $c(n){return Fs.call(Jl,n)?!0:Fs.call(Zl,n)?!1:Nh.test(n)?Jl[n]=!0:(Zl[n]=!0,!1)}function Ba(n,a,r){if($c(a))if(r===null)n.removeAttribute(a);else{switch(typeof r){case"undefined":case"function":case"symbol":n.removeAttribute(a);return;case"boolean":var o=a.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){n.removeAttribute(a);return}}n.setAttribute(a,""+r)}}function Ha(n,a,r){if(r===null)n.removeAttribute(a);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttribute(a,""+r)}}function Vn(n,a,r,o){if(o===null)n.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttributeNS(a,r,""+o)}}function fn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Qc(n){var a=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Rh(n){var a=Qc(n)?"checked":"value",r=Object.getOwnPropertyDescriptor(n.constructor.prototype,a),o=""+n[a];if(!n.hasOwnProperty(a)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var f=r.get,g=r.set;return Object.defineProperty(n,a,{configurable:!0,get:function(){return f.call(this)},set:function(E){o=""+E,g.call(this,E)}}),Object.defineProperty(n,a,{enumerable:r.enumerable}),{getValue:function(){return o},setValue:function(E){o=""+E},stopTracking:function(){n._valueTracker=null,delete n[a]}}}}function Vi(n){n._valueTracker||(n._valueTracker=Rh(n))}function eo(n){if(!n)return!1;var a=n._valueTracker;if(!a)return!0;var r=a.getValue(),o="";return n&&(o=Qc(n)?n.checked?"true":"false":n.value),n=o,n!==r?(a.setValue(n),!0):!1}function Or(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Ys=/[\n"\\]/g;function pt(n){return n.replace(Ys,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function za(n,a,r,o,f,g,E,R){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),a!=null?E==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+fn(a)):n.value!==""+fn(a)&&(n.value=""+fn(a)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),a!=null?Mr(n,E,fn(a)):r!=null?Mr(n,E,fn(r)):o!=null&&n.removeAttribute("value"),f==null&&g!=null&&(n.defaultChecked=!!g),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?n.name=""+fn(R):n.removeAttribute("name")}function Bi(n,a,r,o,f,g,E,R){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(n.type=g),a!=null||r!=null){if(!(g!=="submit"&&g!=="reset"||a!=null))return;r=r!=null?""+fn(r):"",a=a!=null?""+fn(a):r,R||a===n.value||(n.value=a),n.defaultValue=a}o=o??f,o=typeof o!="function"&&typeof o!="symbol"&&!!o,n.checked=R?n.checked:!!o,n.defaultChecked=!!o,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E)}function Mr(n,a,r){a==="number"&&Or(n.ownerDocument)===n||n.defaultValue===""+r||(n.defaultValue=""+r)}function $e(n,a,r,o){if(n=n.options,a){a={};for(var f=0;f<r.length;f++)a["$"+r[f]]=!0;for(r=0;r<n.length;r++)f=a.hasOwnProperty("$"+n[r].value),n[r].selected!==f&&(n[r].selected=f),f&&o&&(n[r].defaultSelected=!0)}else{for(r=""+fn(r),a=null,f=0;f<n.length;f++){if(n[f].value===r){n[f].selected=!0,o&&(n[f].defaultSelected=!0);return}a!==null||n[f].disabled||(a=n[f])}a!==null&&(a.selected=!0)}}function Hi(n,a,r){if(a!=null&&(a=""+fn(a),a!==n.value&&(n.value=a),r==null)){n.defaultValue!==a&&(n.defaultValue=a);return}n.defaultValue=r!=null?""+fn(r):""}function qa(n,a,r,o){if(a==null){if(o!=null){if(r!=null)throw Error(i(92));if(fe(o)){if(1<o.length)throw Error(i(93));o=o[0]}r=o}r==null&&(r=""),a=r}r=fn(a),n.defaultValue=r,o=n.textContent,o===r&&o!==""&&o!==null&&(n.value=o)}function Bn(n,a){if(a){var r=n.firstChild;if(r&&r===n.lastChild&&r.nodeType===3){r.nodeValue=a;return}}n.textContent=a}var kh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function to(n,a,r){var o=a.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?n.setProperty(a,""):a==="float"?n.cssFloat="":n[a]="":o?n.setProperty(a,r):typeof r!="number"||r===0||kh.has(a)?a==="float"?n.cssFloat=r:n[a]=(""+r).trim():n[a]=r+"px"}function Yc(n,a,r){if(a!=null&&typeof a!="object")throw Error(i(62));if(n=n.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||a!=null&&a.hasOwnProperty(o)||(o.indexOf("--")===0?n.setProperty(o,""):o==="float"?n.cssFloat="":n[o]="");for(var f in a)o=a[f],a.hasOwnProperty(f)&&r[f]!==o&&to(n,f,o)}else for(var g in a)a.hasOwnProperty(g)&&to(n,g,a[g])}function no(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ch=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ih=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function bs(n){return Ih.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Hn=null;function Lr(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ws=null,Xs=null;function Zs(n){var a=Qs(n);if(a&&(n=a.stateNode)){var r=n[jt]||null;e:switch(n=a.stateNode,a.type){case"input":if(za(n,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),a=r.name,r.type==="radio"&&a!=null){for(r=n;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+pt(""+a)+'"][type="radio"]'),a=0;a<r.length;a++){var o=r[a];if(o!==n&&o.form===n.form){var f=o[jt]||null;if(!f)throw Error(i(90));za(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(a=0;a<r.length;a++)o=r[a],o.form===n.form&&eo(o)}break e;case"textarea":Hi(n,r.value,r.defaultValue);break e;case"select":a=r.value,a!=null&&$e(n,!!r.multiple,a,!1)}}}var so=!1;function Wc(n,a,r){if(so)return n(a,r);so=!0;try{var o=n(a);return o}finally{if(so=!1,(Ws!==null||Xs!==null)&&(Hu(),Ws&&(a=Ws,n=Xs,Xs=Ws=null,Zs(a),n)))for(a=0;a<n.length;a++)Zs(n[a])}}function zi(n,a){var r=n.stateNode;if(r===null)return null;var o=r[jt]||null;if(o===null)return null;r=o[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(n=n.type,o=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!o;break e;default:n=!1}if(n)return null;if(r&&typeof r!="function")throw Error(i(231,a,typeof r));return r}var zn=!1;if(Nn)try{var qi={};Object.defineProperty(qi,"passive",{get:function(){zn=!0}}),window.addEventListener("test",qi,qi),window.removeEventListener("test",qi,qi)}catch{zn=!1}var As=null,Ka=null,Js=null;function ao(){if(Js)return Js;var n,a=Ka,r=a.length,o,f="value"in As?As.value:As.textContent,g=f.length;for(n=0;n<r&&a[n]===f[n];n++);var E=r-n;for(o=1;o<=E&&a[r-o]===f[g-o];o++);return Js=f.slice(n,1<o?1-o:void 0)}function Ss(n){var a=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&a===13&&(n=13)):n=a,n===10&&(n=13),32<=n||n===13?n:0}function ws(){return!0}function io(){return!1}function zt(n){function a(r,o,f,g,E){this._reactName=r,this._targetInst=f,this.type=o,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var R in n)n.hasOwnProperty(R)&&(r=n[R],this[R]=r?r(g):g[R]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?ws:io,this.isPropagationStopped=io,this}return b(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ws)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ws)},persist:function(){},isPersistent:ws}),a}var Ze={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pr=zt(Ze),Ki=b({},Ze,{view:0,detail:0}),Xc=zt(Ki),Ur,Vr,Ns,Fi=b({},Ki,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qi,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ns&&(Ns&&n.type==="mousemove"?(Ur=n.screenX-Ns.screenX,Vr=n.screenY-Ns.screenY):Vr=Ur=0,Ns=n),Ur)},movementY:function(n){return"movementY"in n?n.movementY:Vr}}),qn=zt(Fi),Zc=b({},Fi,{dataTransfer:0}),jh=zt(Zc),Gi=b({},Ki,{relatedTarget:0}),Br=zt(Gi),ro=b({},Ze,{animationName:0,elapsedTime:0,pseudoElement:0}),Hr=zt(ro),Jc=b({},Ze,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),zr=zt(Jc),Dh=b({},Ze,{data:0}),lo=zt(Dh),$i={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oo(n){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(n):(n=tu[n])?!!a[n]:!1}function Qi(){return oo}var nu=b({},Ki,{key:function(n){if(n.key){var a=$i[n.key]||n.key;if(a!=="Unidentified")return a}return n.type==="keypress"?(n=Ss(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?eu[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qi,charCode:function(n){return n.type==="keypress"?Ss(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Ss(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),qr=zt(nu),su=b({},Fi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),co=zt(su),ea=b({},Ki,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qi}),au=zt(ea),iu=b({},Ze,{propertyName:0,elapsedTime:0,pseudoElement:0}),ru=zt(iu),lu=b({},Fi,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Kr=zt(lu),mn=b({},Ze,{newState:0,oldState:0}),ou=zt(mn),cu=[9,13,27,32],Rs=Nn&&"CompositionEvent"in window,d=null;Nn&&"documentMode"in document&&(d=document.documentMode);var _=Nn&&"TextEvent"in window&&!d,x=Nn&&(!Rs||d&&8<d&&11>=d),I=" ",$=!1;function ee(n,a){switch(n){case"keyup":return cu.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ze=!1;function Dt(n,a){switch(n){case"compositionend":return he(a);case"keypress":return a.which!==32?null:($=!0,I);case"textInput":return n=a.data,n===I&&$?null:n;default:return null}}function qe(n,a){if(ze)return n==="compositionend"||!Rs&&ee(n,a)?(n=ao(),Js=Ka=As=null,ze=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return x&&a.locale!=="ko"?null:a.data;default:return null}}var qt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ot(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a==="input"?!!qt[n.type]:a==="textarea"}function ta(n,a,r,o){Ws?Xs?Xs.push(o):Xs=[o]:Ws=o,a=Gu(a,"onChange"),0<a.length&&(r=new Pr("onChange","change",null,r,o),n.push({event:r,listeners:a}))}var Wt=null,ks=null;function uo(n){nv(n,0)}function uu(n){var a=Ua(n);if(eo(a))return n}function Ip(n,a){if(n==="change")return a}var jp=!1;if(Nn){var Oh;if(Nn){var Mh="oninput"in document;if(!Mh){var Dp=document.createElement("div");Dp.setAttribute("oninput","return;"),Mh=typeof Dp.oninput=="function"}Oh=Mh}else Oh=!1;jp=Oh&&(!document.documentMode||9<document.documentMode)}function Op(){Wt&&(Wt.detachEvent("onpropertychange",Mp),ks=Wt=null)}function Mp(n){if(n.propertyName==="value"&&uu(ks)){var a=[];ta(a,ks,n,Lr(n)),Wc(uo,a)}}function Ub(n,a,r){n==="focusin"?(Op(),Wt=a,ks=r,Wt.attachEvent("onpropertychange",Mp)):n==="focusout"&&Op()}function Vb(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return uu(ks)}function Bb(n,a){if(n==="click")return uu(a)}function Hb(n,a){if(n==="input"||n==="change")return uu(a)}function zb(n,a){return n===a&&(n!==0||1/n===1/a)||n!==n&&a!==a}var Rn=typeof Object.is=="function"?Object.is:zb;function ho(n,a){if(Rn(n,a))return!0;if(typeof n!="object"||n===null||typeof a!="object"||a===null)return!1;var r=Object.keys(n),o=Object.keys(a);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var f=r[o];if(!Fs.call(a,f)||!Rn(n[f],a[f]))return!1}return!0}function Lp(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Pp(n,a){var r=Lp(n);n=0;for(var o;r;){if(r.nodeType===3){if(o=n+r.textContent.length,n<=a&&o>=a)return{node:r,offset:a-n};n=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Lp(r)}}function Up(n,a){return n&&a?n===a?!0:n&&n.nodeType===3?!1:a&&a.nodeType===3?Up(n,a.parentNode):"contains"in n?n.contains(a):n.compareDocumentPosition?!!(n.compareDocumentPosition(a)&16):!1:!1}function Vp(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var a=Or(n.document);a instanceof n.HTMLIFrameElement;){try{var r=typeof a.contentWindow.location.href=="string"}catch{r=!1}if(r)n=a.contentWindow;else break;a=Or(n.document)}return a}function Lh(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a&&(a==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||a==="textarea"||n.contentEditable==="true")}function qb(n,a){var r=Vp(a);a=n.focusedElem;var o=n.selectionRange;if(r!==a&&a&&a.ownerDocument&&Up(a.ownerDocument.documentElement,a)){if(o!==null&&Lh(a)){if(n=o.start,r=o.end,r===void 0&&(r=n),"selectionStart"in a)a.selectionStart=n,a.selectionEnd=Math.min(r,a.value.length);else if(r=(n=a.ownerDocument||document)&&n.defaultView||window,r.getSelection){r=r.getSelection();var f=a.textContent.length,g=Math.min(o.start,f);o=o.end===void 0?g:Math.min(o.end,f),!r.extend&&g>o&&(f=o,o=g,g=f),f=Pp(a,g);var E=Pp(a,o);f&&E&&(r.rangeCount!==1||r.anchorNode!==f.node||r.anchorOffset!==f.offset||r.focusNode!==E.node||r.focusOffset!==E.offset)&&(n=n.createRange(),n.setStart(f.node,f.offset),r.removeAllRanges(),g>o?(r.addRange(n),r.extend(E.node,E.offset)):(n.setEnd(E.node,E.offset),r.addRange(n)))}}for(n=[],r=a;r=r.parentNode;)r.nodeType===1&&n.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<n.length;a++)r=n[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var Kb=Nn&&"documentMode"in document&&11>=document.documentMode,Fr=null,Ph=null,fo=null,Uh=!1;function Bp(n,a,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Uh||Fr==null||Fr!==Or(o)||(o=Fr,"selectionStart"in o&&Lh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),fo&&ho(fo,o)||(fo=o,o=Gu(Ph,"onSelect"),0<o.length&&(a=new Pr("onSelect","select",null,a,r),n.push({event:a,listeners:o}),a.target=Fr)))}function Yi(n,a){var r={};return r[n.toLowerCase()]=a.toLowerCase(),r["Webkit"+n]="webkit"+a,r["Moz"+n]="moz"+a,r}var Gr={animationend:Yi("Animation","AnimationEnd"),animationiteration:Yi("Animation","AnimationIteration"),animationstart:Yi("Animation","AnimationStart"),transitionrun:Yi("Transition","TransitionRun"),transitionstart:Yi("Transition","TransitionStart"),transitioncancel:Yi("Transition","TransitionCancel"),transitionend:Yi("Transition","TransitionEnd")},Vh={},Hp={};Nn&&(Hp=document.createElement("div").style,"AnimationEvent"in window||(delete Gr.animationend.animation,delete Gr.animationiteration.animation,delete Gr.animationstart.animation),"TransitionEvent"in window||delete Gr.transitionend.transition);function Wi(n){if(Vh[n])return Vh[n];if(!Gr[n])return n;var a=Gr[n],r;for(r in a)if(a.hasOwnProperty(r)&&r in Hp)return Vh[n]=a[r];return n}var zp=Wi("animationend"),qp=Wi("animationiteration"),Kp=Wi("animationstart"),Fb=Wi("transitionrun"),Gb=Wi("transitionstart"),$b=Wi("transitioncancel"),Fp=Wi("transitionend"),Gp=new Map,$p="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function as(n,a){Gp.set(n,a),wn(a,[n])}var Kn=[],$r=0,Bh=0;function du(){for(var n=$r,a=Bh=$r=0;a<n;){var r=Kn[a];Kn[a++]=null;var o=Kn[a];Kn[a++]=null;var f=Kn[a];Kn[a++]=null;var g=Kn[a];if(Kn[a++]=null,o!==null&&f!==null){var E=o.pending;E===null?f.next=f:(f.next=E.next,E.next=f),o.pending=f}g!==0&&Qp(r,f,g)}}function hu(n,a,r,o){Kn[$r++]=n,Kn[$r++]=a,Kn[$r++]=r,Kn[$r++]=o,Bh|=o,n.lanes|=o,n=n.alternate,n!==null&&(n.lanes|=o)}function Hh(n,a,r,o){return hu(n,a,r,o),fu(n)}function Fa(n,a){return hu(n,null,null,a),fu(n)}function Qp(n,a,r){n.lanes|=r;var o=n.alternate;o!==null&&(o.lanes|=r);for(var f=!1,g=n.return;g!==null;)g.childLanes|=r,o=g.alternate,o!==null&&(o.childLanes|=r),g.tag===22&&(n=g.stateNode,n===null||n._visibility&1||(f=!0)),n=g,g=g.return;f&&a!==null&&n.tag===3&&(g=n.stateNode,f=31-hn(r),g=g.hiddenUpdates,n=g[f],n===null?g[f]=[a]:n.push(a),a.lane=r|536870912)}function fu(n){if(50<Uo)throw Uo=0,Qf=null,Error(i(185));for(var a=n.return;a!==null;)n=a,a=n.return;return n.tag===3?n.stateNode:null}var Qr={},Yp=new WeakMap;function Fn(n,a){if(typeof n=="object"&&n!==null){var r=Yp.get(n);return r!==void 0?r:(a={value:n,source:a,stack:Q(a)},Yp.set(n,a),a)}return{value:n,source:a,stack:Q(a)}}var Yr=[],Wr=0,mu=null,gu=0,Gn=[],$n=0,Xi=null,na=1,sa="";function Zi(n,a){Yr[Wr++]=gu,Yr[Wr++]=mu,mu=n,gu=a}function Wp(n,a,r){Gn[$n++]=na,Gn[$n++]=sa,Gn[$n++]=Xi,Xi=n;var o=na;n=sa;var f=32-hn(o)-1;o&=~(1<<f),r+=1;var g=32-hn(a)+f;if(30<g){var E=f-f%5;g=(o&(1<<E)-1).toString(32),o>>=E,f-=E,na=1<<32-hn(a)+f|r<<f|o,sa=g+n}else na=1<<g|r<<f|o,sa=n}function zh(n){n.return!==null&&(Zi(n,1),Wp(n,1,0))}function qh(n){for(;n===mu;)mu=Yr[--Wr],Yr[Wr]=null,gu=Yr[--Wr],Yr[Wr]=null;for(;n===Xi;)Xi=Gn[--$n],Gn[$n]=null,sa=Gn[--$n],Gn[$n]=null,na=Gn[--$n],Gn[$n]=null}var gn=null,Xt=null,Qe=!1,is=null,Cs=!1,Kh=Error(i(519));function Ji(n){var a=Error(i(418,""));throw po(Fn(a,n)),Kh}function Xp(n){var a=n.stateNode,r=n.type,o=n.memoizedProps;switch(a[Ht]=n,a[jt]=o,r){case"dialog":Ve("cancel",a),Ve("close",a);break;case"iframe":case"object":case"embed":Ve("load",a);break;case"video":case"audio":for(r=0;r<Bo.length;r++)Ve(Bo[r],a);break;case"source":Ve("error",a);break;case"img":case"image":case"link":Ve("error",a),Ve("load",a);break;case"details":Ve("toggle",a);break;case"input":Ve("invalid",a),Bi(a,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Vi(a);break;case"select":Ve("invalid",a);break;case"textarea":Ve("invalid",a),qa(a,o.value,o.defaultValue,o.children),Vi(a)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||a.textContent===""+r||o.suppressHydrationWarning===!0||rv(a.textContent,r)?(o.popover!=null&&(Ve("beforetoggle",a),Ve("toggle",a)),o.onScroll!=null&&Ve("scroll",a),o.onScrollEnd!=null&&Ve("scrollend",a),o.onClick!=null&&(a.onclick=$u),a=!0):a=!1,a||Ji(n)}function Zp(n){for(gn=n.return;gn;)switch(gn.tag){case 3:case 27:Cs=!0;return;case 5:case 13:Cs=!1;return;default:gn=gn.return}}function mo(n){if(n!==gn)return!1;if(!Qe)return Zp(n),Qe=!0,!1;var a=!1,r;if((r=n.tag!==3&&n.tag!==27)&&((r=n.tag===5)&&(r=n.type,r=!(r!=="form"&&r!=="button")||dm(n.type,n.memoizedProps)),r=!r),r&&(a=!0),a&&Xt&&Ji(n),Zp(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));e:{for(n=n.nextSibling,a=0;n;){if(n.nodeType===8)if(r=n.data,r==="/$"){if(a===0){Xt=ls(n.nextSibling);break e}a--}else r!=="$"&&r!=="$!"&&r!=="$?"||a++;n=n.nextSibling}Xt=null}}else Xt=gn?ls(n.stateNode.nextSibling):null;return!0}function go(){Xt=gn=null,Qe=!1}function po(n){is===null?is=[n]:is.push(n)}var yo=Error(i(460)),Jp=Error(i(474)),Fh={then:function(){}};function ey(n){return n=n.status,n==="fulfilled"||n==="rejected"}function pu(){}function ty(n,a,r){switch(r=n[r],r===void 0?n.push(a):r!==a&&(a.then(pu,pu),a=r),a.status){case"fulfilled":return a.value;case"rejected":throw n=a.reason,n===yo?Error(i(483)):n;default:if(typeof a.status=="string")a.then(pu,pu);else{if(n=st,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=a,n.status="pending",n.then(function(o){if(a.status==="pending"){var f=a;f.status="fulfilled",f.value=o}},function(o){if(a.status==="pending"){var f=a;f.status="rejected",f.reason=o}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw n=a.reason,n===yo?Error(i(483)):n}throw _o=a,yo}}var _o=null;function ny(){if(_o===null)throw Error(i(459));var n=_o;return _o=null,n}var Xr=null,vo=0;function yu(n){var a=vo;return vo+=1,Xr===null&&(Xr=[]),ty(Xr,n,a)}function xo(n,a){a=a.props.ref,n.ref=a!==void 0?a:null}function _u(n,a){throw a.$$typeof===c?Error(i(525)):(n=Object.prototype.toString.call(a),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":n)))}function sy(n){var a=n._init;return a(n._payload)}function ay(n){function a(G,q){if(n){var W=G.deletions;W===null?(G.deletions=[q],G.flags|=16):W.push(q)}}function r(G,q){if(!n)return null;for(;q!==null;)a(G,q),q=q.sibling;return null}function o(G){for(var q=new Map;G!==null;)G.key!==null?q.set(G.key,G):q.set(G.index,G),G=G.sibling;return q}function f(G,q){return G=si(G,q),G.index=0,G.sibling=null,G}function g(G,q,W){return G.index=W,n?(W=G.alternate,W!==null?(W=W.index,W<q?(G.flags|=33554434,q):W):(G.flags|=33554434,q)):(G.flags|=1048576,q)}function E(G){return n&&G.alternate===null&&(G.flags|=33554434),G}function R(G,q,W,ie){return q===null||q.tag!==6?(q=Bf(W,G.mode,ie),q.return=G,q):(q=f(q,W),q.return=G,q)}function P(G,q,W,ie){var xe=W.type;return xe===p?se(G,q,W.props.children,ie,W.key):q!==null&&(q.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===H&&sy(xe)===q.type)?(q=f(q,W.props),xo(q,W),q.return=G,q):(q=Lu(W.type,W.key,W.props,null,G.mode,ie),xo(q,W),q.return=G,q)}function K(G,q,W,ie){return q===null||q.tag!==4||q.stateNode.containerInfo!==W.containerInfo||q.stateNode.implementation!==W.implementation?(q=Hf(W,G.mode,ie),q.return=G,q):(q=f(q,W.children||[]),q.return=G,q)}function se(G,q,W,ie,xe){return q===null||q.tag!==7?(q=cr(W,G.mode,ie,xe),q.return=G,q):(q=f(q,W),q.return=G,q)}function ce(G,q,W){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=Bf(""+q,G.mode,W),q.return=G,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case h:return W=Lu(q.type,q.key,q.props,null,G.mode,W),xo(W,q),W.return=G,W;case m:return q=Hf(q,G.mode,W),q.return=G,q;case H:var ie=q._init;return q=ie(q._payload),ce(G,q,W)}if(fe(q)||de(q))return q=cr(q,G.mode,W,null),q.return=G,q;if(typeof q.then=="function")return ce(G,yu(q),W);if(q.$$typeof===O)return ce(G,Du(G,q),W);_u(G,q)}return null}function J(G,q,W,ie){var xe=q!==null?q.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return xe!==null?null:R(G,q,""+W,ie);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case h:return W.key===xe?P(G,q,W,ie):null;case m:return W.key===xe?K(G,q,W,ie):null;case H:return xe=W._init,W=xe(W._payload),J(G,q,W,ie)}if(fe(W)||de(W))return xe!==null?null:se(G,q,W,ie,null);if(typeof W.then=="function")return J(G,q,yu(W),ie);if(W.$$typeof===O)return J(G,q,Du(G,W),ie);_u(G,W)}return null}function te(G,q,W,ie,xe){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return G=G.get(W)||null,R(q,G,""+ie,xe);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case h:return G=G.get(ie.key===null?W:ie.key)||null,P(q,G,ie,xe);case m:return G=G.get(ie.key===null?W:ie.key)||null,K(q,G,ie,xe);case H:var Me=ie._init;return ie=Me(ie._payload),te(G,q,W,ie,xe)}if(fe(ie)||de(ie))return G=G.get(W)||null,se(q,G,ie,xe,null);if(typeof ie.then=="function")return te(G,q,W,yu(ie),xe);if(ie.$$typeof===O)return te(G,q,W,Du(q,ie),xe);_u(q,ie)}return null}function Ee(G,q,W,ie){for(var xe=null,Me=null,Te=q,Se=q=0,Gt=null;Te!==null&&Se<W.length;Se++){Te.index>Se?(Gt=Te,Te=null):Gt=Te.sibling;var Ye=J(G,Te,W[Se],ie);if(Ye===null){Te===null&&(Te=Gt);break}n&&Te&&Ye.alternate===null&&a(G,Te),q=g(Ye,q,Se),Me===null?xe=Ye:Me.sibling=Ye,Me=Ye,Te=Gt}if(Se===W.length)return r(G,Te),Qe&&Zi(G,Se),xe;if(Te===null){for(;Se<W.length;Se++)Te=ce(G,W[Se],ie),Te!==null&&(q=g(Te,q,Se),Me===null?xe=Te:Me.sibling=Te,Me=Te);return Qe&&Zi(G,Se),xe}for(Te=o(Te);Se<W.length;Se++)Gt=te(Te,G,Se,W[Se],ie),Gt!==null&&(n&&Gt.alternate!==null&&Te.delete(Gt.key===null?Se:Gt.key),q=g(Gt,q,Se),Me===null?xe=Gt:Me.sibling=Gt,Me=Gt);return n&&Te.forEach(function(ui){return a(G,ui)}),Qe&&Zi(G,Se),xe}function Ie(G,q,W,ie){if(W==null)throw Error(i(151));for(var xe=null,Me=null,Te=q,Se=q=0,Gt=null,Ye=W.next();Te!==null&&!Ye.done;Se++,Ye=W.next()){Te.index>Se?(Gt=Te,Te=null):Gt=Te.sibling;var ui=J(G,Te,Ye.value,ie);if(ui===null){Te===null&&(Te=Gt);break}n&&Te&&ui.alternate===null&&a(G,Te),q=g(ui,q,Se),Me===null?xe=ui:Me.sibling=ui,Me=ui,Te=Gt}if(Ye.done)return r(G,Te),Qe&&Zi(G,Se),xe;if(Te===null){for(;!Ye.done;Se++,Ye=W.next())Ye=ce(G,Ye.value,ie),Ye!==null&&(q=g(Ye,q,Se),Me===null?xe=Ye:Me.sibling=Ye,Me=Ye);return Qe&&Zi(G,Se),xe}for(Te=o(Te);!Ye.done;Se++,Ye=W.next())Ye=te(Te,G,Se,Ye.value,ie),Ye!==null&&(n&&Ye.alternate!==null&&Te.delete(Ye.key===null?Se:Ye.key),q=g(Ye,q,Se),Me===null?xe=Ye:Me.sibling=Ye,Me=Ye);return n&&Te.forEach(function(lS){return a(G,lS)}),Qe&&Zi(G,Se),xe}function vt(G,q,W,ie){if(typeof W=="object"&&W!==null&&W.type===p&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case h:e:{for(var xe=W.key;q!==null;){if(q.key===xe){if(xe=W.type,xe===p){if(q.tag===7){r(G,q.sibling),ie=f(q,W.props.children),ie.return=G,G=ie;break e}}else if(q.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===H&&sy(xe)===q.type){r(G,q.sibling),ie=f(q,W.props),xo(ie,W),ie.return=G,G=ie;break e}r(G,q);break}else a(G,q);q=q.sibling}W.type===p?(ie=cr(W.props.children,G.mode,ie,W.key),ie.return=G,G=ie):(ie=Lu(W.type,W.key,W.props,null,G.mode,ie),xo(ie,W),ie.return=G,G=ie)}return E(G);case m:e:{for(xe=W.key;q!==null;){if(q.key===xe)if(q.tag===4&&q.stateNode.containerInfo===W.containerInfo&&q.stateNode.implementation===W.implementation){r(G,q.sibling),ie=f(q,W.children||[]),ie.return=G,G=ie;break e}else{r(G,q);break}else a(G,q);q=q.sibling}ie=Hf(W,G.mode,ie),ie.return=G,G=ie}return E(G);case H:return xe=W._init,W=xe(W._payload),vt(G,q,W,ie)}if(fe(W))return Ee(G,q,W,ie);if(de(W)){if(xe=de(W),typeof xe!="function")throw Error(i(150));return W=xe.call(W),Ie(G,q,W,ie)}if(typeof W.then=="function")return vt(G,q,yu(W),ie);if(W.$$typeof===O)return vt(G,q,Du(G,W),ie);_u(G,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,q!==null&&q.tag===6?(r(G,q.sibling),ie=f(q,W),ie.return=G,G=ie):(r(G,q),ie=Bf(W,G.mode,ie),ie.return=G,G=ie),E(G)):r(G,q)}return function(G,q,W,ie){try{vo=0;var xe=vt(G,q,W,ie);return Xr=null,xe}catch(Te){if(Te===yo)throw Te;var Me=Xn(29,Te,null,G.mode);return Me.lanes=ie,Me.return=G,Me}finally{}}}var er=ay(!0),iy=ay(!1),Zr=He(null),vu=He(0);function ry(n,a){n=ma,Xe(vu,n),Xe(Zr,a),ma=n|a.baseLanes}function Gh(){Xe(vu,ma),Xe(Zr,Zr.current)}function $h(){ma=vu.current,it(Zr),it(vu)}var Qn=He(null),Is=null;function Ga(n){var a=n.alternate;Xe(Mt,Mt.current&1),Xe(Qn,n),Is===null&&(a===null||Zr.current!==null||a.memoizedState!==null)&&(Is=n)}function ly(n){if(n.tag===22){if(Xe(Mt,Mt.current),Xe(Qn,n),Is===null){var a=n.alternate;a!==null&&a.memoizedState!==null&&(Is=n)}}else $a()}function $a(){Xe(Mt,Mt.current),Xe(Qn,Qn.current)}function aa(n){it(Qn),Is===n&&(Is=null),it(Mt)}var Mt=He(0);function xu(n){for(var a=n;a!==null;){if(a.tag===13){var r=a.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Qb=typeof AbortController<"u"?AbortController:function(){var n=[],a=this.signal={aborted:!1,addEventListener:function(r,o){n.push(o)}};this.abort=function(){a.aborted=!0,n.forEach(function(r){return r()})}},Yb=s.unstable_scheduleCallback,Wb=s.unstable_NormalPriority,Lt={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qh(){return{controller:new Qb,data:new Map,refCount:0}}function Eo(n){n.refCount--,n.refCount===0&&Yb(Wb,function(){n.controller.abort()})}var To=null,Yh=0,Jr=0,el=null;function Xb(n,a){if(To===null){var r=To=[];Yh=0,Jr=nm(),el={status:"pending",value:void 0,then:function(o){r.push(o)}}}return Yh++,a.then(oy,oy),a}function oy(){if(--Yh===0&&To!==null){el!==null&&(el.status="fulfilled");var n=To;To=null,Jr=0,el=null;for(var a=0;a<n.length;a++)(0,n[a])()}}function Zb(n,a){var r=[],o={status:"pending",value:null,reason:null,then:function(f){r.push(f)}};return n.then(function(){o.status="fulfilled",o.value=a;for(var f=0;f<r.length;f++)(0,r[f])(a)},function(f){for(o.status="rejected",o.reason=f,f=0;f<r.length;f++)(0,r[f])(void 0)}),o}var cy=T.S;T.S=function(n,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&Xb(n,a),cy!==null&&cy(n,a)};var tr=He(null);function Wh(){var n=tr.current;return n!==null?n:st.pooledCache}function Eu(n,a){a===null?Xe(tr,tr.current):Xe(tr,a.pool)}function uy(){var n=Wh();return n===null?null:{parent:Lt._currentValue,pool:n}}var Qa=0,Oe=null,et=null,St=null,Tu=!1,tl=!1,nr=!1,bu=0,bo=0,nl=null,Jb=0;function bt(){throw Error(i(321))}function Xh(n,a){if(a===null)return!1;for(var r=0;r<a.length&&r<n.length;r++)if(!Rn(n[r],a[r]))return!1;return!0}function Zh(n,a,r,o,f,g){return Qa=g,Oe=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,T.H=n===null||n.memoizedState===null?sr:Ya,nr=!1,g=r(o,f),nr=!1,tl&&(g=hy(a,r,o,f)),dy(n),g}function dy(n){T.H=js;var a=et!==null&&et.next!==null;if(Qa=0,St=et=Oe=null,Tu=!1,bo=0,nl=null,a)throw Error(i(300));n===null||Kt||(n=n.dependencies,n!==null&&ju(n)&&(Kt=!0))}function hy(n,a,r,o){Oe=n;var f=0;do{if(tl&&(nl=null),bo=0,tl=!1,25<=f)throw Error(i(301));if(f+=1,St=et=null,n.updateQueue!=null){var g=n.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}T.H=ar,g=a(r,o)}while(tl);return g}function eA(){var n=T.H,a=n.useState()[0];return a=typeof a.then=="function"?Ao(a):a,n=n.useState()[0],(et!==null?et.memoizedState:null)!==n&&(Oe.flags|=1024),a}function Jh(){var n=bu!==0;return bu=0,n}function ef(n,a,r){a.updateQueue=n.updateQueue,a.flags&=-2053,n.lanes&=~r}function tf(n){if(Tu){for(n=n.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Tu=!1}Qa=0,St=et=Oe=null,tl=!1,bo=bu=0,nl=null}function En(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?Oe.memoizedState=St=n:St=St.next=n,St}function wt(){if(et===null){var n=Oe.alternate;n=n!==null?n.memoizedState:null}else n=et.next;var a=St===null?Oe.memoizedState:St.next;if(a!==null)St=a,et=n;else{if(n===null)throw Oe.alternate===null?Error(i(467)):Error(i(310));et=n,n={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},St===null?Oe.memoizedState=St=n:St=St.next=n}return St}var Au;Au=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Ao(n){var a=bo;return bo+=1,nl===null&&(nl=[]),n=ty(nl,n,a),a=Oe,(St===null?a.memoizedState:St.next)===null&&(a=a.alternate,T.H=a===null||a.memoizedState===null?sr:Ya),n}function Su(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Ao(n);if(n.$$typeof===O)return rn(n)}throw Error(i(438,String(n)))}function nf(n){var a=null,r=Oe.updateQueue;if(r!==null&&(a=r.memoCache),a==null){var o=Oe.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(a={data:o.data.map(function(f){return f.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),r===null&&(r=Au(),Oe.updateQueue=r),r.memoCache=a,r=a.data[a.index],r===void 0)for(r=a.data[a.index]=Array(n),o=0;o<n;o++)r[o]=Z;return a.index++,r}function ia(n,a){return typeof a=="function"?a(n):a}function wu(n){var a=wt();return sf(a,et,n)}function sf(n,a,r){var o=n.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var f=n.baseQueue,g=o.pending;if(g!==null){if(f!==null){var E=f.next;f.next=g.next,g.next=E}a.baseQueue=f=g,o.pending=null}if(g=n.baseState,f===null)n.memoizedState=g;else{a=f.next;var R=E=null,P=null,K=a,se=!1;do{var ce=K.lane&-536870913;if(ce!==K.lane?(Ke&ce)===ce:(Qa&ce)===ce){var J=K.revertLane;if(J===0)P!==null&&(P=P.next={lane:0,revertLane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),ce===Jr&&(se=!0);else if((Qa&J)===J){K=K.next,J===Jr&&(se=!0);continue}else ce={lane:0,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},P===null?(R=P=ce,E=g):P=P.next=ce,Oe.lanes|=J,ai|=J;ce=K.action,nr&&r(g,ce),g=K.hasEagerState?K.eagerState:r(g,ce)}else J={lane:ce,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},P===null?(R=P=J,E=g):P=P.next=J,Oe.lanes|=ce,ai|=ce;K=K.next}while(K!==null&&K!==a);if(P===null?E=g:P.next=R,!Rn(g,n.memoizedState)&&(Kt=!0,se&&(r=el,r!==null)))throw r;n.memoizedState=g,n.baseState=E,n.baseQueue=P,o.lastRenderedState=g}return f===null&&(o.lanes=0),[n.memoizedState,o.dispatch]}function af(n){var a=wt(),r=a.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=n;var o=r.dispatch,f=r.pending,g=a.memoizedState;if(f!==null){r.pending=null;var E=f=f.next;do g=n(g,E.action),E=E.next;while(E!==f);Rn(g,a.memoizedState)||(Kt=!0),a.memoizedState=g,a.baseQueue===null&&(a.baseState=g),r.lastRenderedState=g}return[g,o]}function fy(n,a,r){var o=Oe,f=wt(),g=Qe;if(g){if(r===void 0)throw Error(i(407));r=r()}else r=a();var E=!Rn((et||f).memoizedState,r);if(E&&(f.memoizedState=r,Kt=!0),f=f.queue,of(py.bind(null,o,f,n),[n]),f.getSnapshot!==a||E||St!==null&&St.memoizedState.tag&1){if(o.flags|=2048,sl(9,gy.bind(null,o,f,r,a),{destroy:void 0},null),st===null)throw Error(i(349));g||(Qa&60)!==0||my(o,a,r)}return r}function my(n,a,r){n.flags|=16384,n={getSnapshot:a,value:r},a=Oe.updateQueue,a===null?(a=Au(),Oe.updateQueue=a,a.stores=[n]):(r=a.stores,r===null?a.stores=[n]:r.push(n))}function gy(n,a,r,o){a.value=r,a.getSnapshot=o,yy(a)&&_y(n)}function py(n,a,r){return r(function(){yy(a)&&_y(n)})}function yy(n){var a=n.getSnapshot;n=n.value;try{var r=a();return!Rn(n,r)}catch{return!0}}function _y(n){var a=Fa(n,2);a!==null&&pn(a,n,2)}function rf(n){var a=En();if(typeof n=="function"){var r=n;if(n=r(),nr){vs(!0);try{r()}finally{vs(!1)}}}return a.memoizedState=a.baseState=n,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ia,lastRenderedState:n},a}function vy(n,a,r,o){return n.baseState=r,sf(n,et,typeof o=="function"?o:ia)}function tA(n,a,r,o,f){if(ku(n))throw Error(i(485));if(n=a.action,n!==null){var g={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){g.listeners.push(E)}};T.T!==null?r(!0):g.isTransition=!1,o(g),r=a.pending,r===null?(g.next=a.pending=g,xy(a,g)):(g.next=r.next,a.pending=r.next=g)}}function xy(n,a){var r=a.action,o=a.payload,f=n.state;if(a.isTransition){var g=T.T,E={};T.T=E;try{var R=r(f,o),P=T.S;P!==null&&P(E,R),Ey(n,a,R)}catch(K){lf(n,a,K)}finally{T.T=g}}else try{g=r(f,o),Ey(n,a,g)}catch(K){lf(n,a,K)}}function Ey(n,a,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){Ty(n,a,o)},function(o){return lf(n,a,o)}):Ty(n,a,r)}function Ty(n,a,r){a.status="fulfilled",a.value=r,by(a),n.state=r,a=n.pending,a!==null&&(r=a.next,r===a?n.pending=null:(r=r.next,a.next=r,xy(n,r)))}function lf(n,a,r){var o=n.pending;if(n.pending=null,o!==null){o=o.next;do a.status="rejected",a.reason=r,by(a),a=a.next;while(a!==o)}n.action=null}function by(n){n=n.listeners;for(var a=0;a<n.length;a++)(0,n[a])()}function Ay(n,a){return a}function Sy(n,a){if(Qe){var r=st.formState;if(r!==null){e:{var o=Oe;if(Qe){if(Xt){t:{for(var f=Xt,g=Cs;f.nodeType!==8;){if(!g){f=null;break t}if(f=ls(f.nextSibling),f===null){f=null;break t}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){Xt=ls(f.nextSibling),o=f.data==="F!";break e}}Ji(o)}o=!1}o&&(a=r[0])}}return r=En(),r.memoizedState=r.baseState=a,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ay,lastRenderedState:a},r.queue=o,r=qy.bind(null,Oe,o),o.dispatch=r,o=rf(!1),g=ff.bind(null,Oe,!1,o.queue),o=En(),f={state:a,dispatch:null,action:n,pending:null},o.queue=f,r=tA.bind(null,Oe,f,g,r),f.dispatch=r,o.memoizedState=n,[a,r,!1]}function wy(n){var a=wt();return Ny(a,et,n)}function Ny(n,a,r){a=sf(n,a,Ay)[0],n=wu(ia)[0],a=typeof a=="object"&&a!==null&&typeof a.then=="function"?Ao(a):a;var o=wt(),f=o.queue,g=f.dispatch;return r!==o.memoizedState&&(Oe.flags|=2048,sl(9,nA.bind(null,f,r),{destroy:void 0},null)),[a,g,n]}function nA(n,a){n.action=a}function Ry(n){var a=wt(),r=et;if(r!==null)return Ny(a,r,n);wt(),a=a.memoizedState,r=wt();var o=r.queue.dispatch;return r.memoizedState=n,[a,o,!1]}function sl(n,a,r,o){return n={tag:n,create:a,inst:r,deps:o,next:null},a=Oe.updateQueue,a===null&&(a=Au(),Oe.updateQueue=a),r=a.lastEffect,r===null?a.lastEffect=n.next=n:(o=r.next,r.next=n,n.next=o,a.lastEffect=n),n}function ky(){return wt().memoizedState}function Nu(n,a,r,o){var f=En();Oe.flags|=n,f.memoizedState=sl(1|a,r,{destroy:void 0},o===void 0?null:o)}function Ru(n,a,r,o){var f=wt();o=o===void 0?null:o;var g=f.memoizedState.inst;et!==null&&o!==null&&Xh(o,et.memoizedState.deps)?f.memoizedState=sl(a,r,g,o):(Oe.flags|=n,f.memoizedState=sl(1|a,r,g,o))}function Cy(n,a){Nu(8390656,8,n,a)}function of(n,a){Ru(2048,8,n,a)}function Iy(n,a){return Ru(4,2,n,a)}function jy(n,a){return Ru(4,4,n,a)}function Dy(n,a){if(typeof a=="function"){n=n();var r=a(n);return function(){typeof r=="function"?r():a(null)}}if(a!=null)return n=n(),a.current=n,function(){a.current=null}}function Oy(n,a,r){r=r!=null?r.concat([n]):null,Ru(4,4,Dy.bind(null,a,n),r)}function cf(){}function My(n,a){var r=wt();a=a===void 0?null:a;var o=r.memoizedState;return a!==null&&Xh(a,o[1])?o[0]:(r.memoizedState=[n,a],n)}function Ly(n,a){var r=wt();a=a===void 0?null:a;var o=r.memoizedState;if(a!==null&&Xh(a,o[1]))return o[0];if(o=n(),nr){vs(!0);try{n()}finally{vs(!1)}}return r.memoizedState=[o,a],o}function uf(n,a,r){return r===void 0||(Qa&1073741824)!==0?n.memoizedState=a:(n.memoizedState=r,n=U_(),Oe.lanes|=n,ai|=n,r)}function Py(n,a,r,o){return Rn(r,a)?r:Zr.current!==null?(n=uf(n,r,o),Rn(n,a)||(Kt=!0),n):(Qa&42)===0?(Kt=!0,n.memoizedState=r):(n=U_(),Oe.lanes|=n,ai|=n,a)}function Uy(n,a,r,o,f){var g=ge.p;ge.p=g!==0&&8>g?g:8;var E=T.T,R={};T.T=R,ff(n,!1,a,r);try{var P=f(),K=T.S;if(K!==null&&K(R,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var se=Zb(P,o);So(n,a,se,jn(n))}else So(n,a,o,jn(n))}catch(ce){So(n,a,{then:function(){},status:"rejected",reason:ce},jn())}finally{ge.p=g,T.T=E}}function sA(){}function df(n,a,r,o){if(n.tag!==5)throw Error(i(476));var f=Vy(n).queue;Uy(n,f,a,Ae,r===null?sA:function(){return By(n),r(o)})}function Vy(n){var a=n.memoizedState;if(a!==null)return a;a={memoizedState:Ae,baseState:Ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ia,lastRenderedState:Ae},next:null};var r={};return a.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ia,lastRenderedState:r},next:null},n.memoizedState=a,n=n.alternate,n!==null&&(n.memoizedState=a),a}function By(n){var a=Vy(n).next.queue;So(n,a,{},jn())}function hf(){return rn(Fo)}function Hy(){return wt().memoizedState}function zy(){return wt().memoizedState}function aA(n){for(var a=n.return;a!==null;){switch(a.tag){case 24:case 3:var r=jn();n=Za(r);var o=Ja(a,n,r);o!==null&&(pn(o,a,r),Ro(o,a,r)),a={cache:Qh()},n.payload=a;return}a=a.return}}function iA(n,a,r){var o=jn();r={lane:o,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},ku(n)?Ky(a,r):(r=Hh(n,a,r,o),r!==null&&(pn(r,n,o),Fy(r,a,o)))}function qy(n,a,r){var o=jn();So(n,a,r,o)}function So(n,a,r,o){var f={lane:o,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(ku(n))Ky(a,f);else{var g=n.alternate;if(n.lanes===0&&(g===null||g.lanes===0)&&(g=a.lastRenderedReducer,g!==null))try{var E=a.lastRenderedState,R=g(E,r);if(f.hasEagerState=!0,f.eagerState=R,Rn(R,E))return hu(n,a,f,0),st===null&&du(),!1}catch{}finally{}if(r=Hh(n,a,f,o),r!==null)return pn(r,n,o),Fy(r,a,o),!0}return!1}function ff(n,a,r,o){if(o={lane:2,revertLane:nm(),action:o,hasEagerState:!1,eagerState:null,next:null},ku(n)){if(a)throw Error(i(479))}else a=Hh(n,r,o,2),a!==null&&pn(a,n,2)}function ku(n){var a=n.alternate;return n===Oe||a!==null&&a===Oe}function Ky(n,a){tl=Tu=!0;var r=n.pending;r===null?a.next=a:(a.next=r.next,r.next=a),n.pending=a}function Fy(n,a,r){if((r&4194176)!==0){var o=a.lanes;o&=n.pendingLanes,r|=o,a.lanes=r,Ma(n,r)}}var js={readContext:rn,use:Su,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useLayoutEffect:bt,useInsertionEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useSyncExternalStore:bt,useId:bt};js.useCacheRefresh=bt,js.useMemoCache=bt,js.useHostTransitionStatus=bt,js.useFormState=bt,js.useActionState=bt,js.useOptimistic=bt;var sr={readContext:rn,use:Su,useCallback:function(n,a){return En().memoizedState=[n,a===void 0?null:a],n},useContext:rn,useEffect:Cy,useImperativeHandle:function(n,a,r){r=r!=null?r.concat([n]):null,Nu(4194308,4,Dy.bind(null,a,n),r)},useLayoutEffect:function(n,a){return Nu(4194308,4,n,a)},useInsertionEffect:function(n,a){Nu(4,2,n,a)},useMemo:function(n,a){var r=En();a=a===void 0?null:a;var o=n();if(nr){vs(!0);try{n()}finally{vs(!1)}}return r.memoizedState=[o,a],o},useReducer:function(n,a,r){var o=En();if(r!==void 0){var f=r(a);if(nr){vs(!0);try{r(a)}finally{vs(!1)}}}else f=a;return o.memoizedState=o.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},o.queue=n,n=n.dispatch=iA.bind(null,Oe,n),[o.memoizedState,n]},useRef:function(n){var a=En();return n={current:n},a.memoizedState=n},useState:function(n){n=rf(n);var a=n.queue,r=qy.bind(null,Oe,a);return a.dispatch=r,[n.memoizedState,r]},useDebugValue:cf,useDeferredValue:function(n,a){var r=En();return uf(r,n,a)},useTransition:function(){var n=rf(!1);return n=Uy.bind(null,Oe,n.queue,!0,!1),En().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,a,r){var o=Oe,f=En();if(Qe){if(r===void 0)throw Error(i(407));r=r()}else{if(r=a(),st===null)throw Error(i(349));(Ke&60)!==0||my(o,a,r)}f.memoizedState=r;var g={value:r,getSnapshot:a};return f.queue=g,Cy(py.bind(null,o,g,n),[n]),o.flags|=2048,sl(9,gy.bind(null,o,g,r,a),{destroy:void 0},null),r},useId:function(){var n=En(),a=st.identifierPrefix;if(Qe){var r=sa,o=na;r=(o&~(1<<32-hn(o)-1)).toString(32)+r,a=":"+a+"R"+r,r=bu++,0<r&&(a+="H"+r.toString(32)),a+=":"}else r=Jb++,a=":"+a+"r"+r.toString(32)+":";return n.memoizedState=a},useCacheRefresh:function(){return En().memoizedState=aA.bind(null,Oe)}};sr.useMemoCache=nf,sr.useHostTransitionStatus=hf,sr.useFormState=Sy,sr.useActionState=Sy,sr.useOptimistic=function(n){var a=En();a.memoizedState=a.baseState=n;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=r,a=ff.bind(null,Oe,!0,r),r.dispatch=a,[n,a]};var Ya={readContext:rn,use:Su,useCallback:My,useContext:rn,useEffect:of,useImperativeHandle:Oy,useInsertionEffect:Iy,useLayoutEffect:jy,useMemo:Ly,useReducer:wu,useRef:ky,useState:function(){return wu(ia)},useDebugValue:cf,useDeferredValue:function(n,a){var r=wt();return Py(r,et.memoizedState,n,a)},useTransition:function(){var n=wu(ia)[0],a=wt().memoizedState;return[typeof n=="boolean"?n:Ao(n),a]},useSyncExternalStore:fy,useId:Hy};Ya.useCacheRefresh=zy,Ya.useMemoCache=nf,Ya.useHostTransitionStatus=hf,Ya.useFormState=wy,Ya.useActionState=wy,Ya.useOptimistic=function(n,a){var r=wt();return vy(r,et,n,a)};var ar={readContext:rn,use:Su,useCallback:My,useContext:rn,useEffect:of,useImperativeHandle:Oy,useInsertionEffect:Iy,useLayoutEffect:jy,useMemo:Ly,useReducer:af,useRef:ky,useState:function(){return af(ia)},useDebugValue:cf,useDeferredValue:function(n,a){var r=wt();return et===null?uf(r,n,a):Py(r,et.memoizedState,n,a)},useTransition:function(){var n=af(ia)[0],a=wt().memoizedState;return[typeof n=="boolean"?n:Ao(n),a]},useSyncExternalStore:fy,useId:Hy};ar.useCacheRefresh=zy,ar.useMemoCache=nf,ar.useHostTransitionStatus=hf,ar.useFormState=Ry,ar.useActionState=Ry,ar.useOptimistic=function(n,a){var r=wt();return et!==null?vy(r,et,n,a):(r.baseState=n,[n,r.queue.dispatch])};function mf(n,a,r,o){a=n.memoizedState,r=r(o,a),r=r==null?a:b({},a,r),n.memoizedState=r,n.lanes===0&&(n.updateQueue.baseState=r)}var gf={isMounted:function(n){return(n=n._reactInternals)?ue(n)===n:!1},enqueueSetState:function(n,a,r){n=n._reactInternals;var o=jn(),f=Za(o);f.payload=a,r!=null&&(f.callback=r),a=Ja(n,f,o),a!==null&&(pn(a,n,o),Ro(a,n,o))},enqueueReplaceState:function(n,a,r){n=n._reactInternals;var o=jn(),f=Za(o);f.tag=1,f.payload=a,r!=null&&(f.callback=r),a=Ja(n,f,o),a!==null&&(pn(a,n,o),Ro(a,n,o))},enqueueForceUpdate:function(n,a){n=n._reactInternals;var r=jn(),o=Za(r);o.tag=2,a!=null&&(o.callback=a),a=Ja(n,o,r),a!==null&&(pn(a,n,r),Ro(a,n,r))}};function Gy(n,a,r,o,f,g,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(o,g,E):a.prototype&&a.prototype.isPureReactComponent?!ho(r,o)||!ho(f,g):!0}function $y(n,a,r,o){n=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(r,o),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(r,o),a.state!==n&&gf.enqueueReplaceState(a,a.state,null)}function ir(n,a){var r=a;if("ref"in a){r={};for(var o in a)o!=="ref"&&(r[o]=a[o])}if(n=n.defaultProps){r===a&&(r=b({},r));for(var f in n)r[f]===void 0&&(r[f]=n[f])}return r}var Cu=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Qy(n){Cu(n)}function Yy(n){console.error(n)}function Wy(n){Cu(n)}function Iu(n,a){try{var r=n.onUncaughtError;r(a.value,{componentStack:a.stack})}catch(o){setTimeout(function(){throw o})}}function Xy(n,a,r){try{var o=n.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function pf(n,a,r){return r=Za(r),r.tag=3,r.payload={element:null},r.callback=function(){Iu(n,a)},r}function Zy(n){return n=Za(n),n.tag=3,n}function Jy(n,a,r,o){var f=r.type.getDerivedStateFromError;if(typeof f=="function"){var g=o.value;n.payload=function(){return f(g)},n.callback=function(){Xy(a,r,o)}}var E=r.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){Xy(a,r,o),typeof f!="function"&&(ii===null?ii=new Set([this]):ii.add(this));var R=o.stack;this.componentDidCatch(o.value,{componentStack:R!==null?R:""})})}function rA(n,a,r,o,f){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(a=r.alternate,a!==null&&No(a,r,f,!0),r=Qn.current,r!==null){switch(r.tag){case 13:return Is===null?Xf():r.alternate===null&&_t===0&&(_t=3),r.flags&=-257,r.flags|=65536,r.lanes=f,o===Fh?r.flags|=16384:(a=r.updateQueue,a===null?r.updateQueue=new Set([o]):a.add(o),Jf(n,o,f)),!1;case 22:return r.flags|=65536,o===Fh?r.flags|=16384:(a=r.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=a):(r=a.retryQueue,r===null?a.retryQueue=new Set([o]):r.add(o)),Jf(n,o,f)),!1}throw Error(i(435,r.tag))}return Jf(n,o,f),Xf(),!1}if(Qe)return a=Qn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=f,o!==Kh&&(n=Error(i(422),{cause:o}),po(Fn(n,r)))):(o!==Kh&&(a=Error(i(423),{cause:o}),po(Fn(a,r))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,o=Fn(o,r),f=pf(n.stateNode,o,f),If(n,f),_t!==4&&(_t=2)),!1;var g=Error(i(520),{cause:o});if(g=Fn(g,r),Lo===null?Lo=[g]:Lo.push(g),_t!==4&&(_t=2),a===null)return!0;o=Fn(o,r),r=a;do{switch(r.tag){case 3:return r.flags|=65536,n=f&-f,r.lanes|=n,n=pf(r.stateNode,o,n),If(r,n),!1;case 1:if(a=r.type,g=r.stateNode,(r.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(ii===null||!ii.has(g))))return r.flags|=65536,f&=-f,r.lanes|=f,f=Zy(f),Jy(f,n,r,o),If(r,f),!1}r=r.return}while(r!==null);return!1}var e_=Error(i(461)),Kt=!1;function Zt(n,a,r,o){a.child=n===null?iy(a,null,r,o):er(a,n.child,r,o)}function t_(n,a,r,o,f){r=r.render;var g=a.ref;if("ref"in o){var E={};for(var R in o)R!=="ref"&&(E[R]=o[R])}else E=o;return lr(a),o=Zh(n,a,r,E,g,f),R=Jh(),n!==null&&!Kt?(ef(n,a,f),ra(n,a,f)):(Qe&&R&&zh(a),a.flags|=1,Zt(n,a,o,f),a.child)}function n_(n,a,r,o,f){if(n===null){var g=r.type;return typeof g=="function"&&!Vf(g)&&g.defaultProps===void 0&&r.compare===null?(a.tag=15,a.type=g,s_(n,a,g,o,f)):(n=Lu(r.type,null,o,a,a.mode,f),n.ref=a.ref,n.return=a,a.child=n)}if(g=n.child,!Sf(n,f)){var E=g.memoizedProps;if(r=r.compare,r=r!==null?r:ho,r(E,o)&&n.ref===a.ref)return ra(n,a,f)}return a.flags|=1,n=si(g,o),n.ref=a.ref,n.return=a,a.child=n}function s_(n,a,r,o,f){if(n!==null){var g=n.memoizedProps;if(ho(g,o)&&n.ref===a.ref)if(Kt=!1,a.pendingProps=o=g,Sf(n,f))(n.flags&131072)!==0&&(Kt=!0);else return a.lanes=n.lanes,ra(n,a,f)}return yf(n,a,r,o,f)}function a_(n,a,r){var o=a.pendingProps,f=o.children,g=(a.stateNode._pendingVisibility&2)!==0,E=n!==null?n.memoizedState:null;if(wo(n,a),o.mode==="hidden"||g){if((a.flags&128)!==0){if(o=E!==null?E.baseLanes|r:r,n!==null){for(f=a.child=n.child,g=0;f!==null;)g=g|f.lanes|f.childLanes,f=f.sibling;a.childLanes=g&~o}else a.childLanes=0,a.child=null;return i_(n,a,o,r)}if((r&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},n!==null&&Eu(a,E!==null?E.cachePool:null),E!==null?ry(a,E):Gh(),ly(a);else return a.lanes=a.childLanes=536870912,i_(n,a,E!==null?E.baseLanes|r:r,r)}else E!==null?(Eu(a,E.cachePool),ry(a,E),$a(),a.memoizedState=null):(n!==null&&Eu(a,null),Gh(),$a());return Zt(n,a,f,r),a.child}function i_(n,a,r,o){var f=Wh();return f=f===null?null:{parent:Lt._currentValue,pool:f},a.memoizedState={baseLanes:r,cachePool:f},n!==null&&Eu(a,null),Gh(),ly(a),n!==null&&No(n,a,o,!0),null}function wo(n,a){var r=a.ref;if(r===null)n!==null&&n.ref!==null&&(a.flags|=2097664);else{if(typeof r!="function"&&typeof r!="object")throw Error(i(284));(n===null||n.ref!==r)&&(a.flags|=2097664)}}function yf(n,a,r,o,f){return lr(a),r=Zh(n,a,r,o,void 0,f),o=Jh(),n!==null&&!Kt?(ef(n,a,f),ra(n,a,f)):(Qe&&o&&zh(a),a.flags|=1,Zt(n,a,r,f),a.child)}function r_(n,a,r,o,f,g){return lr(a),a.updateQueue=null,r=hy(a,o,r,f),dy(n),o=Jh(),n!==null&&!Kt?(ef(n,a,g),ra(n,a,g)):(Qe&&o&&zh(a),a.flags|=1,Zt(n,a,r,g),a.child)}function l_(n,a,r,o,f){if(lr(a),a.stateNode===null){var g=Qr,E=r.contextType;typeof E=="object"&&E!==null&&(g=rn(E)),g=new r(o,g),a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=gf,a.stateNode=g,g._reactInternals=a,g=a.stateNode,g.props=o,g.state=a.memoizedState,g.refs={},kf(a),E=r.contextType,g.context=typeof E=="object"&&E!==null?rn(E):Qr,g.state=a.memoizedState,E=r.getDerivedStateFromProps,typeof E=="function"&&(mf(a,r,E,o),g.state=a.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(E=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),E!==g.state&&gf.enqueueReplaceState(g,g.state,null),Co(a,o,g,f),ko(),g.state=a.memoizedState),typeof g.componentDidMount=="function"&&(a.flags|=4194308),o=!0}else if(n===null){g=a.stateNode;var R=a.memoizedProps,P=ir(r,R);g.props=P;var K=g.context,se=r.contextType;E=Qr,typeof se=="object"&&se!==null&&(E=rn(se));var ce=r.getDerivedStateFromProps;se=typeof ce=="function"||typeof g.getSnapshotBeforeUpdate=="function",R=a.pendingProps!==R,se||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(R||K!==E)&&$y(a,g,o,E),Xa=!1;var J=a.memoizedState;g.state=J,Co(a,o,g,f),ko(),K=a.memoizedState,R||J!==K||Xa?(typeof ce=="function"&&(mf(a,r,ce,o),K=a.memoizedState),(P=Xa||Gy(a,r,P,o,J,K,E))?(se||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(a.flags|=4194308)):(typeof g.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=o,a.memoizedState=K),g.props=o,g.state=K,g.context=E,o=P):(typeof g.componentDidMount=="function"&&(a.flags|=4194308),o=!1)}else{g=a.stateNode,Cf(n,a),E=a.memoizedProps,se=ir(r,E),g.props=se,ce=a.pendingProps,J=g.context,K=r.contextType,P=Qr,typeof K=="object"&&K!==null&&(P=rn(K)),R=r.getDerivedStateFromProps,(K=typeof R=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(E!==ce||J!==P)&&$y(a,g,o,P),Xa=!1,J=a.memoizedState,g.state=J,Co(a,o,g,f),ko();var te=a.memoizedState;E!==ce||J!==te||Xa||n!==null&&n.dependencies!==null&&ju(n.dependencies)?(typeof R=="function"&&(mf(a,r,R,o),te=a.memoizedState),(se=Xa||Gy(a,r,se,o,J,te,P)||n!==null&&n.dependencies!==null&&ju(n.dependencies))?(K||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(o,te,P),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(o,te,P)),typeof g.componentDidUpdate=="function"&&(a.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof g.componentDidUpdate!="function"||E===n.memoizedProps&&J===n.memoizedState||(a.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&J===n.memoizedState||(a.flags|=1024),a.memoizedProps=o,a.memoizedState=te),g.props=o,g.state=te,g.context=P,o=se):(typeof g.componentDidUpdate!="function"||E===n.memoizedProps&&J===n.memoizedState||(a.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&J===n.memoizedState||(a.flags|=1024),o=!1)}return g=o,wo(n,a),o=(a.flags&128)!==0,g||o?(g=a.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:g.render(),a.flags|=1,n!==null&&o?(a.child=er(a,n.child,null,f),a.child=er(a,null,r,f)):Zt(n,a,r,f),a.memoizedState=g.state,n=a.child):n=ra(n,a,f),n}function o_(n,a,r,o){return go(),a.flags|=256,Zt(n,a,r,o),a.child}var _f={dehydrated:null,treeContext:null,retryLane:0};function vf(n){return{baseLanes:n,cachePool:uy()}}function xf(n,a,r){return n=n!==null?n.childLanes&~r:0,a&&(n|=Zn),n}function c_(n,a,r){var o=a.pendingProps,f=!1,g=(a.flags&128)!==0,E;if((E=g)||(E=n!==null&&n.memoizedState===null?!1:(Mt.current&2)!==0),E&&(f=!0,a.flags&=-129),E=(a.flags&32)!==0,a.flags&=-33,n===null){if(Qe){if(f?Ga(a):$a(),Qe){var R=Xt,P;if(P=R){e:{for(P=R,R=Cs;P.nodeType!==8;){if(!R){R=null;break e}if(P=ls(P.nextSibling),P===null){R=null;break e}}R=P}R!==null?(a.memoizedState={dehydrated:R,treeContext:Xi!==null?{id:na,overflow:sa}:null,retryLane:536870912},P=Xn(18,null,null,0),P.stateNode=R,P.return=a,a.child=P,gn=a,Xt=null,P=!0):P=!1}P||Ji(a)}if(R=a.memoizedState,R!==null&&(R=R.dehydrated,R!==null))return R.data==="$!"?a.lanes=16:a.lanes=536870912,null;aa(a)}return R=o.children,o=o.fallback,f?($a(),f=a.mode,R=Tf({mode:"hidden",children:R},f),o=cr(o,f,r,null),R.return=a,o.return=a,R.sibling=o,a.child=R,f=a.child,f.memoizedState=vf(r),f.childLanes=xf(n,E,r),a.memoizedState=_f,o):(Ga(a),Ef(a,R))}if(P=n.memoizedState,P!==null&&(R=P.dehydrated,R!==null)){if(g)a.flags&256?(Ga(a),a.flags&=-257,a=bf(n,a,r)):a.memoizedState!==null?($a(),a.child=n.child,a.flags|=128,a=null):($a(),f=o.fallback,R=a.mode,o=Tf({mode:"visible",children:o.children},R),f=cr(f,R,r,null),f.flags|=2,o.return=a,f.return=a,o.sibling=f,a.child=o,er(a,n.child,null,r),o=a.child,o.memoizedState=vf(r),o.childLanes=xf(n,E,r),a.memoizedState=_f,a=f);else if(Ga(a),R.data==="$!"){if(E=R.nextSibling&&R.nextSibling.dataset,E)var K=E.dgst;E=K,o=Error(i(419)),o.stack="",o.digest=E,po({value:o,source:null,stack:null}),a=bf(n,a,r)}else if(Kt||No(n,a,r,!1),E=(r&n.childLanes)!==0,Kt||E){if(E=st,E!==null){if(o=r&-r,(o&42)!==0)o=1;else switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=64;break;case 268435456:o=134217728;break;default:o=0}if(o=(o&(E.suspendedLanes|r))!==0?0:o,o!==0&&o!==P.retryLane)throw P.retryLane=o,Fa(n,o),pn(E,n,o),e_}R.data==="$?"||Xf(),a=bf(n,a,r)}else R.data==="$?"?(a.flags|=128,a.child=n.child,a=EA.bind(null,n),R._reactRetry=a,a=null):(n=P.treeContext,Xt=ls(R.nextSibling),gn=a,Qe=!0,is=null,Cs=!1,n!==null&&(Gn[$n++]=na,Gn[$n++]=sa,Gn[$n++]=Xi,na=n.id,sa=n.overflow,Xi=a),a=Ef(a,o.children),a.flags|=4096);return a}return f?($a(),f=o.fallback,R=a.mode,P=n.child,K=P.sibling,o=si(P,{mode:"hidden",children:o.children}),o.subtreeFlags=P.subtreeFlags&31457280,K!==null?f=si(K,f):(f=cr(f,R,r,null),f.flags|=2),f.return=a,o.return=a,o.sibling=f,a.child=o,o=f,f=a.child,R=n.child.memoizedState,R===null?R=vf(r):(P=R.cachePool,P!==null?(K=Lt._currentValue,P=P.parent!==K?{parent:K,pool:K}:P):P=uy(),R={baseLanes:R.baseLanes|r,cachePool:P}),f.memoizedState=R,f.childLanes=xf(n,E,r),a.memoizedState=_f,o):(Ga(a),r=n.child,n=r.sibling,r=si(r,{mode:"visible",children:o.children}),r.return=a,r.sibling=null,n!==null&&(E=a.deletions,E===null?(a.deletions=[n],a.flags|=16):E.push(n)),a.child=r,a.memoizedState=null,r)}function Ef(n,a){return a=Tf({mode:"visible",children:a},n.mode),a.return=n,n.child=a}function Tf(n,a){return M_(n,a,0,null)}function bf(n,a,r){return er(a,n.child,null,r),n=Ef(a,a.pendingProps.children),n.flags|=2,a.memoizedState=null,n}function u_(n,a,r){n.lanes|=a;var o=n.alternate;o!==null&&(o.lanes|=a),Nf(n.return,a,r)}function Af(n,a,r,o,f){var g=n.memoizedState;g===null?n.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:f}:(g.isBackwards=a,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=r,g.tailMode=f)}function d_(n,a,r){var o=a.pendingProps,f=o.revealOrder,g=o.tail;if(Zt(n,a,o.children,r),o=Mt.current,(o&2)!==0)o=o&1|2,a.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=a.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&u_(n,r,a);else if(n.tag===19)u_(n,r,a);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===a)break e;for(;n.sibling===null;){if(n.return===null||n.return===a)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}o&=1}switch(Xe(Mt,o),f){case"forwards":for(r=a.child,f=null;r!==null;)n=r.alternate,n!==null&&xu(n)===null&&(f=r),r=r.sibling;r=f,r===null?(f=a.child,a.child=null):(f=r.sibling,r.sibling=null),Af(a,!1,f,r,g);break;case"backwards":for(r=null,f=a.child,a.child=null;f!==null;){if(n=f.alternate,n!==null&&xu(n)===null){a.child=f;break}n=f.sibling,f.sibling=r,r=f,f=n}Af(a,!0,r,null,g);break;case"together":Af(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function ra(n,a,r){if(n!==null&&(a.dependencies=n.dependencies),ai|=a.lanes,(r&a.childLanes)===0)if(n!==null){if(No(n,a,r,!1),(r&a.childLanes)===0)return null}else return null;if(n!==null&&a.child!==n.child)throw Error(i(153));if(a.child!==null){for(n=a.child,r=si(n,n.pendingProps),a.child=r,r.return=a;n.sibling!==null;)n=n.sibling,r=r.sibling=si(n,n.pendingProps),r.return=a;r.sibling=null}return a.child}function Sf(n,a){return(n.lanes&a)!==0?!0:(n=n.dependencies,!!(n!==null&&ju(n)))}function lA(n,a,r){switch(a.tag){case 3:Ge(a,a.stateNode.containerInfo),Wa(a,Lt,n.memoizedState.cache),go();break;case 27:case 5:Pn(a);break;case 4:Ge(a,a.stateNode.containerInfo);break;case 10:Wa(a,a.type,a.memoizedProps.value);break;case 13:var o=a.memoizedState;if(o!==null)return o.dehydrated!==null?(Ga(a),a.flags|=128,null):(r&a.child.childLanes)!==0?c_(n,a,r):(Ga(a),n=ra(n,a,r),n!==null?n.sibling:null);Ga(a);break;case 19:var f=(n.flags&128)!==0;if(o=(r&a.childLanes)!==0,o||(No(n,a,r,!1),o=(r&a.childLanes)!==0),f){if(o)return d_(n,a,r);a.flags|=128}if(f=a.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Xe(Mt,Mt.current),o)break;return null;case 22:case 23:return a.lanes=0,a_(n,a,r);case 24:Wa(a,Lt,n.memoizedState.cache)}return ra(n,a,r)}function h_(n,a,r){if(n!==null)if(n.memoizedProps!==a.pendingProps)Kt=!0;else{if(!Sf(n,r)&&(a.flags&128)===0)return Kt=!1,lA(n,a,r);Kt=(n.flags&131072)!==0}else Kt=!1,Qe&&(a.flags&1048576)!==0&&Wp(a,gu,a.index);switch(a.lanes=0,a.tag){case 16:e:{n=a.pendingProps;var o=a.elementType,f=o._init;if(o=f(o._payload),a.type=o,typeof o=="function")Vf(o)?(n=ir(o,n),a.tag=1,a=l_(null,a,o,n,r)):(a.tag=0,a=yf(null,a,o,n,r));else{if(o!=null){if(f=o.$$typeof,f===L){a.tag=11,a=t_(null,a,o,n,r);break e}else if(f===z){a.tag=14,a=n_(null,a,o,n,r);break e}}throw a=C(o)||o,Error(i(306,a,""))}}return a;case 0:return yf(n,a,a.type,a.pendingProps,r);case 1:return o=a.type,f=ir(o,a.pendingProps),l_(n,a,o,f,r);case 3:e:{if(Ge(a,a.stateNode.containerInfo),n===null)throw Error(i(387));var g=a.pendingProps;f=a.memoizedState,o=f.element,Cf(n,a),Co(a,g,null,r);var E=a.memoizedState;if(g=E.cache,Wa(a,Lt,g),g!==f.cache&&Rf(a,[Lt],r,!0),ko(),g=E.element,f.isDehydrated)if(f={element:g,isDehydrated:!1,cache:E.cache},a.updateQueue.baseState=f,a.memoizedState=f,a.flags&256){a=o_(n,a,g,r);break e}else if(g!==o){o=Fn(Error(i(424)),a),po(o),a=o_(n,a,g,r);break e}else for(Xt=ls(a.stateNode.containerInfo.firstChild),gn=a,Qe=!0,is=null,Cs=!0,r=iy(a,null,g,r),a.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(go(),g===o){a=ra(n,a,r);break e}Zt(n,a,g,r)}a=a.child}return a;case 26:return wo(n,a),n===null?(r=gv(a.type,null,a.pendingProps,null))?a.memoizedState=r:Qe||(r=a.type,n=a.pendingProps,o=Qu(vn.current).createElement(r),o[Ht]=a,o[jt]=n,Jt(o,r,n),ut(o),a.stateNode=o):a.memoizedState=gv(a.type,n.memoizedProps,a.pendingProps,n.memoizedState),null;case 27:return Pn(a),n===null&&Qe&&(o=a.stateNode=hv(a.type,a.pendingProps,vn.current),gn=a,Cs=!0,Xt=ls(o.firstChild)),o=a.pendingProps.children,n!==null||Qe?Zt(n,a,o,r):a.child=er(a,null,o,r),wo(n,a),a.child;case 5:return n===null&&Qe&&((f=o=Xt)&&(o=PA(o,a.type,a.pendingProps,Cs),o!==null?(a.stateNode=o,gn=a,Xt=ls(o.firstChild),Cs=!1,f=!0):f=!1),f||Ji(a)),Pn(a),f=a.type,g=a.pendingProps,E=n!==null?n.memoizedProps:null,o=g.children,dm(f,g)?o=null:E!==null&&dm(f,E)&&(a.flags|=32),a.memoizedState!==null&&(f=Zh(n,a,eA,null,null,r),Fo._currentValue=f),wo(n,a),Zt(n,a,o,r),a.child;case 6:return n===null&&Qe&&((n=r=Xt)&&(r=UA(r,a.pendingProps,Cs),r!==null?(a.stateNode=r,gn=a,Xt=null,n=!0):n=!1),n||Ji(a)),null;case 13:return c_(n,a,r);case 4:return Ge(a,a.stateNode.containerInfo),o=a.pendingProps,n===null?a.child=er(a,null,o,r):Zt(n,a,o,r),a.child;case 11:return t_(n,a,a.type,a.pendingProps,r);case 7:return Zt(n,a,a.pendingProps,r),a.child;case 8:return Zt(n,a,a.pendingProps.children,r),a.child;case 12:return Zt(n,a,a.pendingProps.children,r),a.child;case 10:return o=a.pendingProps,Wa(a,a.type,o.value),Zt(n,a,o.children,r),a.child;case 9:return f=a.type._context,o=a.pendingProps.children,lr(a),f=rn(f),o=o(f),a.flags|=1,Zt(n,a,o,r),a.child;case 14:return n_(n,a,a.type,a.pendingProps,r);case 15:return s_(n,a,a.type,a.pendingProps,r);case 19:return d_(n,a,r);case 22:return a_(n,a,r);case 24:return lr(a),o=rn(Lt),n===null?(f=Wh(),f===null&&(f=st,g=Qh(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=r),f=g),a.memoizedState={parent:o,cache:f},kf(a),Wa(a,Lt,f)):((n.lanes&r)!==0&&(Cf(n,a),Co(a,null,null,r),ko()),f=n.memoizedState,g=a.memoizedState,f.parent!==o?(f={parent:o,cache:o},a.memoizedState=f,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=f),Wa(a,Lt,o)):(o=g.cache,Wa(a,Lt,o),o!==f.cache&&Rf(a,[Lt],r,!0))),Zt(n,a,a.pendingProps.children,r),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}var wf=He(null),rr=null,la=null;function Wa(n,a,r){Xe(wf,a._currentValue),a._currentValue=r}function oa(n){n._currentValue=wf.current,it(wf)}function Nf(n,a,r){for(;n!==null;){var o=n.alternate;if((n.childLanes&a)!==a?(n.childLanes|=a,o!==null&&(o.childLanes|=a)):o!==null&&(o.childLanes&a)!==a&&(o.childLanes|=a),n===r)break;n=n.return}}function Rf(n,a,r,o){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var g=f.dependencies;if(g!==null){var E=f.child;g=g.firstContext;e:for(;g!==null;){var R=g;g=f;for(var P=0;P<a.length;P++)if(R.context===a[P]){g.lanes|=r,R=g.alternate,R!==null&&(R.lanes|=r),Nf(g.return,r,n),o||(E=null);break e}g=R.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(i(341));E.lanes|=r,g=E.alternate,g!==null&&(g.lanes|=r),Nf(E,r,n),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===n){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function No(n,a,r,o){n=null;for(var f=a,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(i(387));if(E=E.memoizedProps,E!==null){var R=f.type;Rn(f.pendingProps.value,E.value)||(n!==null?n.push(R):n=[R])}}else if(f===pe.current){if(E=f.alternate,E===null)throw Error(i(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Fo):n=[Fo])}f=f.return}n!==null&&Rf(a,n,r,o),a.flags|=262144}function ju(n){for(n=n.firstContext;n!==null;){if(!Rn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function lr(n){rr=n,la=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function rn(n){return f_(rr,n)}function Du(n,a){return rr===null&&lr(n),f_(n,a)}function f_(n,a){var r=a._currentValue;if(a={context:a,memoizedValue:r,next:null},la===null){if(n===null)throw Error(i(308));la=a,n.dependencies={lanes:0,firstContext:a},n.flags|=524288}else la=la.next=a;return r}var Xa=!1;function kf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Cf(n,a){n=n.updateQueue,a.updateQueue===n&&(a.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Za(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Ja(n,a,r){var o=n.updateQueue;if(o===null)return null;if(o=o.shared,(ht&2)!==0){var f=o.pending;return f===null?a.next=a:(a.next=f.next,f.next=a),o.pending=a,a=fu(n),Qp(n,null,r),a}return hu(n,o,a,r),fu(n)}function Ro(n,a,r){if(a=a.updateQueue,a!==null&&(a=a.shared,(r&4194176)!==0)){var o=a.lanes;o&=n.pendingLanes,r|=o,a.lanes=r,Ma(n,r)}}function If(n,a){var r=n.updateQueue,o=n.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var f=null,g=null;if(r=r.firstBaseUpdate,r!==null){do{var E={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};g===null?f=g=E:g=g.next=E,r=r.next}while(r!==null);g===null?f=g=a:g=g.next=a}else f=g=a;r={baseState:o.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:o.shared,callbacks:o.callbacks},n.updateQueue=r;return}n=r.lastBaseUpdate,n===null?r.firstBaseUpdate=a:n.next=a,r.lastBaseUpdate=a}var jf=!1;function ko(){if(jf){var n=el;if(n!==null)throw n}}function Co(n,a,r,o){jf=!1;var f=n.updateQueue;Xa=!1;var g=f.firstBaseUpdate,E=f.lastBaseUpdate,R=f.shared.pending;if(R!==null){f.shared.pending=null;var P=R,K=P.next;P.next=null,E===null?g=K:E.next=K,E=P;var se=n.alternate;se!==null&&(se=se.updateQueue,R=se.lastBaseUpdate,R!==E&&(R===null?se.firstBaseUpdate=K:R.next=K,se.lastBaseUpdate=P))}if(g!==null){var ce=f.baseState;E=0,se=K=P=null,R=g;do{var J=R.lane&-536870913,te=J!==R.lane;if(te?(Ke&J)===J:(o&J)===J){J!==0&&J===Jr&&(jf=!0),se!==null&&(se=se.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var Ee=n,Ie=R;J=a;var vt=r;switch(Ie.tag){case 1:if(Ee=Ie.payload,typeof Ee=="function"){ce=Ee.call(vt,ce,J);break e}ce=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=Ie.payload,J=typeof Ee=="function"?Ee.call(vt,ce,J):Ee,J==null)break e;ce=b({},ce,J);break e;case 2:Xa=!0}}J=R.callback,J!==null&&(n.flags|=64,te&&(n.flags|=8192),te=f.callbacks,te===null?f.callbacks=[J]:te.push(J))}else te={lane:J,tag:R.tag,payload:R.payload,callback:R.callback,next:null},se===null?(K=se=te,P=ce):se=se.next=te,E|=J;if(R=R.next,R===null){if(R=f.shared.pending,R===null)break;te=R,R=te.next,te.next=null,f.lastBaseUpdate=te,f.shared.pending=null}}while(!0);se===null&&(P=ce),f.baseState=P,f.firstBaseUpdate=K,f.lastBaseUpdate=se,g===null&&(f.shared.lanes=0),ai|=E,n.lanes=E,n.memoizedState=ce}}function m_(n,a){if(typeof n!="function")throw Error(i(191,n));n.call(a)}function g_(n,a){var r=n.callbacks;if(r!==null)for(n.callbacks=null,n=0;n<r.length;n++)m_(r[n],a)}function Io(n,a){try{var r=a.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var f=o.next;r=f;do{if((r.tag&n)===n){o=void 0;var g=r.create,E=r.inst;o=g(),E.destroy=o}r=r.next}while(r!==f)}}catch(R){nt(a,a.return,R)}}function ei(n,a,r){try{var o=a.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var g=f.next;o=g;do{if((o.tag&n)===n){var E=o.inst,R=E.destroy;if(R!==void 0){E.destroy=void 0,f=a;var P=r;try{R()}catch(K){nt(f,P,K)}}}o=o.next}while(o!==g)}}catch(K){nt(a,a.return,K)}}function p_(n){var a=n.updateQueue;if(a!==null){var r=n.stateNode;try{g_(a,r)}catch(o){nt(n,n.return,o)}}}function y_(n,a,r){r.props=ir(n.type,n.memoizedProps),r.state=n.memoizedState;try{r.componentWillUnmount()}catch(o){nt(n,a,o)}}function or(n,a){try{var r=n.ref;if(r!==null){var o=n.stateNode;switch(n.tag){case 26:case 27:case 5:var f=o;break;default:f=o}typeof r=="function"?n.refCleanup=r(f):r.current=f}}catch(g){nt(n,a,g)}}function kn(n,a){var r=n.ref,o=n.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(f){nt(n,a,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(f){nt(n,a,f)}else r.current=null}function __(n){var a=n.type,r=n.memoizedProps,o=n.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break e;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(f){nt(n,n.return,f)}}function v_(n,a,r){try{var o=n.stateNode;jA(o,n.type,r,a),o[jt]=a}catch(f){nt(n,n.return,f)}}function x_(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27||n.tag===4}function Df(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||x_(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==27&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Of(n,a,r){var o=n.tag;if(o===5||o===6)n=n.stateNode,a?r.nodeType===8?r.parentNode.insertBefore(n,a):r.insertBefore(n,a):(r.nodeType===8?(a=r.parentNode,a.insertBefore(n,r)):(a=r,a.appendChild(n)),r=r._reactRootContainer,r!=null||a.onclick!==null||(a.onclick=$u));else if(o!==4&&o!==27&&(n=n.child,n!==null))for(Of(n,a,r),n=n.sibling;n!==null;)Of(n,a,r),n=n.sibling}function Ou(n,a,r){var o=n.tag;if(o===5||o===6)n=n.stateNode,a?r.insertBefore(n,a):r.appendChild(n);else if(o!==4&&o!==27&&(n=n.child,n!==null))for(Ou(n,a,r),n=n.sibling;n!==null;)Ou(n,a,r),n=n.sibling}var ca=!1,yt=!1,Mf=!1,E_=typeof WeakSet=="function"?WeakSet:Set,Ft=null,T_=!1;function oA(n,a){if(n=n.containerInfo,cm=ed,n=Vp(n),Lh(n)){if("selectionStart"in n)var r={start:n.selectionStart,end:n.selectionEnd};else e:{r=(r=n.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var f=o.anchorOffset,g=o.focusNode;o=o.focusOffset;try{r.nodeType,g.nodeType}catch{r=null;break e}var E=0,R=-1,P=-1,K=0,se=0,ce=n,J=null;t:for(;;){for(var te;ce!==r||f!==0&&ce.nodeType!==3||(R=E+f),ce!==g||o!==0&&ce.nodeType!==3||(P=E+o),ce.nodeType===3&&(E+=ce.nodeValue.length),(te=ce.firstChild)!==null;)J=ce,ce=te;for(;;){if(ce===n)break t;if(J===r&&++K===f&&(R=E),J===g&&++se===o&&(P=E),(te=ce.nextSibling)!==null)break;ce=J,J=ce.parentNode}ce=te}r=R===-1||P===-1?null:{start:R,end:P}}else r=null}r=r||{start:0,end:0}}else r=null;for(um={focusedElem:n,selectionRange:r},ed=!1,Ft=a;Ft!==null;)if(a=Ft,n=a.child,(a.subtreeFlags&1028)!==0&&n!==null)n.return=a,Ft=n;else for(;Ft!==null;){switch(a=Ft,g=a.alternate,n=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&g!==null){n=void 0,r=a,f=g.memoizedProps,g=g.memoizedState,o=r.stateNode;try{var Ee=ir(r.type,f,r.elementType===r.type);n=o.getSnapshotBeforeUpdate(Ee,g),o.__reactInternalSnapshotBeforeUpdate=n}catch(Ie){nt(r,r.return,Ie)}}break;case 3:if((n&1024)!==0){if(n=a.stateNode.containerInfo,r=n.nodeType,r===9)mm(n);else if(r===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":mm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=a.sibling,n!==null){n.return=a.return,Ft=n;break}Ft=a.return}return Ee=T_,T_=!1,Ee}function b_(n,a,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:da(n,r),o&4&&Io(5,r);break;case 1:if(da(n,r),o&4)if(n=r.stateNode,a===null)try{n.componentDidMount()}catch(R){nt(r,r.return,R)}else{var f=ir(r.type,a.memoizedProps);a=a.memoizedState;try{n.componentDidUpdate(f,a,n.__reactInternalSnapshotBeforeUpdate)}catch(R){nt(r,r.return,R)}}o&64&&p_(r),o&512&&or(r,r.return);break;case 3:if(da(n,r),o&64&&(o=r.updateQueue,o!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{g_(o,n)}catch(R){nt(r,r.return,R)}}break;case 26:da(n,r),o&512&&or(r,r.return);break;case 27:case 5:da(n,r),a===null&&o&4&&__(r),o&512&&or(r,r.return);break;case 12:da(n,r);break;case 13:da(n,r),o&4&&w_(n,r);break;case 22:if(f=r.memoizedState!==null||ca,!f){a=a!==null&&a.memoizedState!==null||yt;var g=ca,E=yt;ca=f,(yt=a)&&!E?ti(n,r,(r.subtreeFlags&8772)!==0):da(n,r),ca=g,yt=E}o&512&&(r.memoizedProps.mode==="manual"?or(r,r.return):kn(r,r.return));break;default:da(n,r)}}function A_(n){var a=n.alternate;a!==null&&(n.alternate=null,A_(a)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(a=n.stateNode,a!==null&&Ui(a)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Nt=null,Cn=!1;function ua(n,a,r){for(r=r.child;r!==null;)S_(n,a,r),r=r.sibling}function S_(n,a,r){if(an&&typeof an.onCommitFiberUnmount=="function")try{an.onCommitFiberUnmount(Ca,r)}catch{}switch(r.tag){case 26:yt||kn(r,a),ua(n,a,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:yt||kn(r,a);var o=Nt,f=Cn;for(Nt=r.stateNode,ua(n,a,r),r=r.stateNode,a=r.attributes;a.length;)r.removeAttributeNode(a[0]);Ui(r),Nt=o,Cn=f;break;case 5:yt||kn(r,a);case 6:f=Nt;var g=Cn;if(Nt=null,ua(n,a,r),Nt=f,Cn=g,Nt!==null)if(Cn)try{n=Nt,o=r.stateNode,n.nodeType===8?n.parentNode.removeChild(o):n.removeChild(o)}catch(E){nt(r,a,E)}else try{Nt.removeChild(r.stateNode)}catch(E){nt(r,a,E)}break;case 18:Nt!==null&&(Cn?(a=Nt,r=r.stateNode,a.nodeType===8?fm(a.parentNode,r):a.nodeType===1&&fm(a,r),Yo(a)):fm(Nt,r.stateNode));break;case 4:o=Nt,f=Cn,Nt=r.stateNode.containerInfo,Cn=!0,ua(n,a,r),Nt=o,Cn=f;break;case 0:case 11:case 14:case 15:yt||ei(2,r,a),yt||ei(4,r,a),ua(n,a,r);break;case 1:yt||(kn(r,a),o=r.stateNode,typeof o.componentWillUnmount=="function"&&y_(r,a,o)),ua(n,a,r);break;case 21:ua(n,a,r);break;case 22:yt||kn(r,a),yt=(o=yt)||r.memoizedState!==null,ua(n,a,r),yt=o;break;default:ua(n,a,r)}}function w_(n,a){if(a.memoizedState===null&&(n=a.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Yo(n)}catch(r){nt(a,a.return,r)}}function cA(n){switch(n.tag){case 13:case 19:var a=n.stateNode;return a===null&&(a=n.stateNode=new E_),a;case 22:return n=n.stateNode,a=n._retryCache,a===null&&(a=n._retryCache=new E_),a;default:throw Error(i(435,n.tag))}}function Lf(n,a){var r=cA(n);a.forEach(function(o){var f=TA.bind(null,n,o);r.has(o)||(r.add(o),o.then(f,f))})}function Yn(n,a){var r=a.deletions;if(r!==null)for(var o=0;o<r.length;o++){var f=r[o],g=n,E=a,R=E;e:for(;R!==null;){switch(R.tag){case 27:case 5:Nt=R.stateNode,Cn=!1;break e;case 3:Nt=R.stateNode.containerInfo,Cn=!0;break e;case 4:Nt=R.stateNode.containerInfo,Cn=!0;break e}R=R.return}if(Nt===null)throw Error(i(160));S_(g,E,f),Nt=null,Cn=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)N_(a,n),a=a.sibling}var rs=null;function N_(n,a){var r=n.alternate,o=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Yn(a,n),Wn(n),o&4&&(ei(3,n,n.return),Io(3,n),ei(5,n,n.return));break;case 1:Yn(a,n),Wn(n),o&512&&(yt||r===null||kn(r,r.return)),o&64&&ca&&(n=n.updateQueue,n!==null&&(o=n.callbacks,o!==null&&(r=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var f=rs;if(Yn(a,n),Wn(n),o&512&&(yt||r===null||kn(r,r.return)),o&4){var g=r!==null?r.memoizedState:null;if(o=n.memoizedState,r===null)if(o===null)if(n.stateNode===null){e:{o=n.type,r=n.memoizedProps,f=f.ownerDocument||f;t:switch(o){case"title":g=f.getElementsByTagName("title")[0],(!g||g[Pa]||g[Ht]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(o),f.head.insertBefore(g,f.querySelector("head > title"))),Jt(g,o,r),g[Ht]=n,ut(g),o=g;break e;case"link":var E=_v("link","href",f).get(o+(r.href||""));if(E){for(var R=0;R<E.length;R++)if(g=E[R],g.getAttribute("href")===(r.href==null?null:r.href)&&g.getAttribute("rel")===(r.rel==null?null:r.rel)&&g.getAttribute("title")===(r.title==null?null:r.title)&&g.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){E.splice(R,1);break t}}g=f.createElement(o),Jt(g,o,r),f.head.appendChild(g);break;case"meta":if(E=_v("meta","content",f).get(o+(r.content||""))){for(R=0;R<E.length;R++)if(g=E[R],g.getAttribute("content")===(r.content==null?null:""+r.content)&&g.getAttribute("name")===(r.name==null?null:r.name)&&g.getAttribute("property")===(r.property==null?null:r.property)&&g.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&g.getAttribute("charset")===(r.charSet==null?null:r.charSet)){E.splice(R,1);break t}}g=f.createElement(o),Jt(g,o,r),f.head.appendChild(g);break;default:throw Error(i(468,o))}g[Ht]=n,ut(g),o=g}n.stateNode=o}else vv(f,n.type,n.stateNode);else n.stateNode=yv(f,o,n.memoizedProps);else g!==o?(g===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):g.count--,o===null?vv(f,n.type,n.stateNode):yv(f,o,n.memoizedProps)):o===null&&n.stateNode!==null&&v_(n,n.memoizedProps,r.memoizedProps)}break;case 27:if(o&4&&n.alternate===null){f=n.stateNode,g=n.memoizedProps;try{for(var P=f.firstChild;P;){var K=P.nextSibling,se=P.nodeName;P[Pa]||se==="HEAD"||se==="BODY"||se==="SCRIPT"||se==="STYLE"||se==="LINK"&&P.rel.toLowerCase()==="stylesheet"||f.removeChild(P),P=K}for(var ce=n.type,J=f.attributes;J.length;)f.removeAttributeNode(J[0]);Jt(f,ce,g),f[Ht]=n,f[jt]=g}catch(Ee){nt(n,n.return,Ee)}}case 5:if(Yn(a,n),Wn(n),o&512&&(yt||r===null||kn(r,r.return)),n.flags&32){f=n.stateNode;try{Bn(f,"")}catch(Ee){nt(n,n.return,Ee)}}o&4&&n.stateNode!=null&&(f=n.memoizedProps,v_(n,f,r!==null?r.memoizedProps:f)),o&1024&&(Mf=!0);break;case 6:if(Yn(a,n),Wn(n),o&4){if(n.stateNode===null)throw Error(i(162));o=n.memoizedProps,r=n.stateNode;try{r.nodeValue=o}catch(Ee){nt(n,n.return,Ee)}}break;case 3:if(Xu=null,f=rs,rs=Yu(a.containerInfo),Yn(a,n),rs=f,Wn(n),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Yo(a.containerInfo)}catch(Ee){nt(n,n.return,Ee)}Mf&&(Mf=!1,R_(n));break;case 4:o=rs,rs=Yu(n.stateNode.containerInfo),Yn(a,n),Wn(n),rs=o;break;case 12:Yn(a,n),Wn(n);break;case 13:Yn(a,n),Wn(n),n.child.flags&8192&&n.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Ff=Yt()),o&4&&(o=n.updateQueue,o!==null&&(n.updateQueue=null,Lf(n,o)));break;case 22:if(o&512&&(yt||r===null||kn(r,r.return)),P=n.memoizedState!==null,K=r!==null&&r.memoizedState!==null,se=ca,ce=yt,ca=se||P,yt=ce||K,Yn(a,n),yt=ce,ca=se,Wn(n),a=n.stateNode,a._current=n,a._visibility&=-3,a._visibility|=a._pendingVisibility&2,o&8192&&(a._visibility=P?a._visibility&-2:a._visibility|1,P&&(a=ca||yt,r===null||K||a||al(n)),n.memoizedProps===null||n.memoizedProps.mode!=="manual"))e:for(r=null,a=n;;){if(a.tag===5||a.tag===26||a.tag===27){if(r===null){K=r=a;try{if(f=K.stateNode,P)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=K.stateNode,R=K.memoizedProps.style;var te=R!=null&&R.hasOwnProperty("display")?R.display:null;E.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(Ee){nt(K,K.return,Ee)}}}else if(a.tag===6){if(r===null){K=a;try{K.stateNode.nodeValue=P?"":K.memoizedProps}catch(Ee){nt(K,K.return,Ee)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===n)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break e;for(;a.sibling===null;){if(a.return===null||a.return===n)break e;r===a&&(r=null),a=a.return}r===a&&(r=null),a.sibling.return=a.return,a=a.sibling}o&4&&(o=n.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,Lf(n,r))));break;case 19:Yn(a,n),Wn(n),o&4&&(o=n.updateQueue,o!==null&&(n.updateQueue=null,Lf(n,o)));break;case 21:break;default:Yn(a,n),Wn(n)}}function Wn(n){var a=n.flags;if(a&2){try{if(n.tag!==27){e:{for(var r=n.return;r!==null;){if(x_(r)){var o=r;break e}r=r.return}throw Error(i(160))}switch(o.tag){case 27:var f=o.stateNode,g=Df(n);Ou(n,g,f);break;case 5:var E=o.stateNode;o.flags&32&&(Bn(E,""),o.flags&=-33);var R=Df(n);Ou(n,R,E);break;case 3:case 4:var P=o.stateNode.containerInfo,K=Df(n);Of(n,K,P);break;default:throw Error(i(161))}}}catch(se){nt(n,n.return,se)}n.flags&=-3}a&4096&&(n.flags&=-4097)}function R_(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var a=n;R_(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),n=n.sibling}}function da(n,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)b_(n,a.alternate,a),a=a.sibling}function al(n){for(n=n.child;n!==null;){var a=n;switch(a.tag){case 0:case 11:case 14:case 15:ei(4,a,a.return),al(a);break;case 1:kn(a,a.return);var r=a.stateNode;typeof r.componentWillUnmount=="function"&&y_(a,a.return,r),al(a);break;case 26:case 27:case 5:kn(a,a.return),al(a);break;case 22:kn(a,a.return),a.memoizedState===null&&al(a);break;default:al(a)}n=n.sibling}}function ti(n,a,r){for(r=r&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var o=a.alternate,f=n,g=a,E=g.flags;switch(g.tag){case 0:case 11:case 15:ti(f,g,r),Io(4,g);break;case 1:if(ti(f,g,r),o=g,f=o.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(K){nt(o,o.return,K)}if(o=g,f=o.updateQueue,f!==null){var R=o.stateNode;try{var P=f.shared.hiddenCallbacks;if(P!==null)for(f.shared.hiddenCallbacks=null,f=0;f<P.length;f++)m_(P[f],R)}catch(K){nt(o,o.return,K)}}r&&E&64&&p_(g),or(g,g.return);break;case 26:case 27:case 5:ti(f,g,r),r&&o===null&&E&4&&__(g),or(g,g.return);break;case 12:ti(f,g,r);break;case 13:ti(f,g,r),r&&E&4&&w_(f,g);break;case 22:g.memoizedState===null&&ti(f,g,r),or(g,g.return);break;default:ti(f,g,r)}a=a.sibling}}function Pf(n,a){var r=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(r=n.memoizedState.cachePool.pool),n=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(n=a.memoizedState.cachePool.pool),n!==r&&(n!=null&&n.refCount++,r!=null&&Eo(r))}function Uf(n,a){n=null,a.alternate!==null&&(n=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==n&&(a.refCount++,n!=null&&Eo(n))}function ni(n,a,r,o){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)k_(n,a,r,o),a=a.sibling}function k_(n,a,r,o){var f=a.flags;switch(a.tag){case 0:case 11:case 15:ni(n,a,r,o),f&2048&&Io(9,a);break;case 3:ni(n,a,r,o),f&2048&&(n=null,a.alternate!==null&&(n=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==n&&(a.refCount++,n!=null&&Eo(n)));break;case 12:if(f&2048){ni(n,a,r,o),n=a.stateNode;try{var g=a.memoizedProps,E=g.id,R=g.onPostCommit;typeof R=="function"&&R(E,a.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(P){nt(a,a.return,P)}}else ni(n,a,r,o);break;case 23:break;case 22:g=a.stateNode,a.memoizedState!==null?g._visibility&4?ni(n,a,r,o):jo(n,a):g._visibility&4?ni(n,a,r,o):(g._visibility|=4,il(n,a,r,o,(a.subtreeFlags&10256)!==0)),f&2048&&Pf(a.alternate,a);break;case 24:ni(n,a,r,o),f&2048&&Uf(a.alternate,a);break;default:ni(n,a,r,o)}}function il(n,a,r,o,f){for(f=f&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var g=n,E=a,R=r,P=o,K=E.flags;switch(E.tag){case 0:case 11:case 15:il(g,E,R,P,f),Io(8,E);break;case 23:break;case 22:var se=E.stateNode;E.memoizedState!==null?se._visibility&4?il(g,E,R,P,f):jo(g,E):(se._visibility|=4,il(g,E,R,P,f)),f&&K&2048&&Pf(E.alternate,E);break;case 24:il(g,E,R,P,f),f&&K&2048&&Uf(E.alternate,E);break;default:il(g,E,R,P,f)}a=a.sibling}}function jo(n,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var r=n,o=a,f=o.flags;switch(o.tag){case 22:jo(r,o),f&2048&&Pf(o.alternate,o);break;case 24:jo(r,o),f&2048&&Uf(o.alternate,o);break;default:jo(r,o)}a=a.sibling}}var Do=8192;function rl(n){if(n.subtreeFlags&Do)for(n=n.child;n!==null;)C_(n),n=n.sibling}function C_(n){switch(n.tag){case 26:rl(n),n.flags&Do&&n.memoizedState!==null&&XA(rs,n.memoizedState,n.memoizedProps);break;case 5:rl(n);break;case 3:case 4:var a=rs;rs=Yu(n.stateNode.containerInfo),rl(n),rs=a;break;case 22:n.memoizedState===null&&(a=n.alternate,a!==null&&a.memoizedState!==null?(a=Do,Do=16777216,rl(n),Do=a):rl(n));break;default:rl(n)}}function I_(n){var a=n.alternate;if(a!==null&&(n=a.child,n!==null)){a.child=null;do a=n.sibling,n.sibling=null,n=a;while(n!==null)}}function Oo(n){var a=n.deletions;if((n.flags&16)!==0){if(a!==null)for(var r=0;r<a.length;r++){var o=a[r];Ft=o,D_(o,n)}I_(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)j_(n),n=n.sibling}function j_(n){switch(n.tag){case 0:case 11:case 15:Oo(n),n.flags&2048&&ei(9,n,n.return);break;case 3:Oo(n);break;case 12:Oo(n);break;case 22:var a=n.stateNode;n.memoizedState!==null&&a._visibility&4&&(n.return===null||n.return.tag!==13)?(a._visibility&=-5,Mu(n)):Oo(n);break;default:Oo(n)}}function Mu(n){var a=n.deletions;if((n.flags&16)!==0){if(a!==null)for(var r=0;r<a.length;r++){var o=a[r];Ft=o,D_(o,n)}I_(n)}for(n=n.child;n!==null;){switch(a=n,a.tag){case 0:case 11:case 15:ei(8,a,a.return),Mu(a);break;case 22:r=a.stateNode,r._visibility&4&&(r._visibility&=-5,Mu(a));break;default:Mu(a)}n=n.sibling}}function D_(n,a){for(;Ft!==null;){var r=Ft;switch(r.tag){case 0:case 11:case 15:ei(8,r,a);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Eo(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Ft=o;else e:for(r=n;Ft!==null;){o=Ft;var f=o.sibling,g=o.return;if(A_(o),o===r){Ft=null;break e}if(f!==null){f.return=g,Ft=f;break e}Ft=g}}}function uA(n,a,r,o){this.tag=n,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xn(n,a,r,o){return new uA(n,a,r,o)}function Vf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function si(n,a){var r=n.alternate;return r===null?(r=Xn(n.tag,a,n.key,n.mode),r.elementType=n.elementType,r.type=n.type,r.stateNode=n.stateNode,r.alternate=n,n.alternate=r):(r.pendingProps=a,r.type=n.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=n.flags&31457280,r.childLanes=n.childLanes,r.lanes=n.lanes,r.child=n.child,r.memoizedProps=n.memoizedProps,r.memoizedState=n.memoizedState,r.updateQueue=n.updateQueue,a=n.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},r.sibling=n.sibling,r.index=n.index,r.ref=n.ref,r.refCleanup=n.refCleanup,r}function O_(n,a){n.flags&=31457282;var r=n.alternate;return r===null?(n.childLanes=0,n.lanes=a,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=r.childLanes,n.lanes=r.lanes,n.child=r.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=r.memoizedProps,n.memoizedState=r.memoizedState,n.updateQueue=r.updateQueue,n.type=r.type,a=r.dependencies,n.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),n}function Lu(n,a,r,o,f,g){var E=0;if(o=n,typeof n=="function")Vf(n)&&(E=1);else if(typeof n=="string")E=YA(n,r,Qt.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case p:return cr(r.children,f,g,a);case y:E=8,f|=24;break;case v:return n=Xn(12,r,a,f|2),n.elementType=v,n.lanes=g,n;case B:return n=Xn(13,r,a,f),n.elementType=B,n.lanes=g,n;case V:return n=Xn(19,r,a,f),n.elementType=V,n.lanes=g,n;case F:return M_(r,f,g,a);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case w:case O:E=10;break e;case N:E=9;break e;case L:E=11;break e;case z:E=14;break e;case H:E=16,o=null;break e}E=29,r=Error(i(130,n===null?"null":typeof n,"")),o=null}return a=Xn(E,r,a,f),a.elementType=n,a.type=o,a.lanes=g,a}function cr(n,a,r,o){return n=Xn(7,n,o,a),n.lanes=r,n}function M_(n,a,r,o){n=Xn(22,n,o,a),n.elementType=F,n.lanes=r;var f={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var g=f._current;if(g===null)throw Error(i(456));if((f._pendingVisibility&2)===0){var E=Fa(g,2);E!==null&&(f._pendingVisibility|=2,pn(E,g,2))}},attach:function(){var g=f._current;if(g===null)throw Error(i(456));if((f._pendingVisibility&2)!==0){var E=Fa(g,2);E!==null&&(f._pendingVisibility&=-3,pn(E,g,2))}}};return n.stateNode=f,n}function Bf(n,a,r){return n=Xn(6,n,null,a),n.lanes=r,n}function Hf(n,a,r){return a=Xn(4,n.children!==null?n.children:[],n.key,a),a.lanes=r,a.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},a}function ha(n){n.flags|=4}function L_(n,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!xv(a)){if(a=Qn.current,a!==null&&((Ke&4194176)===Ke?Is!==null:(Ke&62914560)!==Ke&&(Ke&536870912)===0||a!==Is))throw _o=Fh,Jp;n.flags|=8192}}function Pu(n,a){a!==null&&(n.flags|=4),n.flags&16384&&(a=n.tag!==22?Da():536870912,n.lanes|=a,ol|=a)}function Mo(n,a){if(!Qe)switch(n.tailMode){case"hidden":a=n.tail;for(var r=null;a!==null;)a.alternate!==null&&(r=a),a=a.sibling;r===null?n.tail=null:r.sibling=null;break;case"collapsed":r=n.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?a||n.tail===null?n.tail=null:n.tail.sibling=null:o.sibling=null}}function dt(n){var a=n.alternate!==null&&n.alternate.child===n.child,r=0,o=0;if(a)for(var f=n.child;f!==null;)r|=f.lanes|f.childLanes,o|=f.subtreeFlags&31457280,o|=f.flags&31457280,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)r|=f.lanes|f.childLanes,o|=f.subtreeFlags,o|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=o,n.childLanes=r,a}function dA(n,a,r){var o=a.pendingProps;switch(qh(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(a),null;case 1:return dt(a),null;case 3:return r=a.stateNode,o=null,n!==null&&(o=n.memoizedState.cache),a.memoizedState.cache!==o&&(a.flags|=2048),oa(Lt),Ct(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(mo(a)?ha(a):n===null||n.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,is!==null&&(Yf(is),is=null))),dt(a),null;case 26:return r=a.memoizedState,n===null?(ha(a),r!==null?(dt(a),L_(a,r)):(dt(a),a.flags&=-16777217)):r?r!==n.memoizedState?(ha(a),dt(a),L_(a,r)):(dt(a),a.flags&=-16777217):(n.memoizedProps!==o&&ha(a),dt(a),a.flags&=-16777217),null;case 27:Sn(a),r=vn.current;var f=a.type;if(n!==null&&a.stateNode!=null)n.memoizedProps!==o&&ha(a);else{if(!o){if(a.stateNode===null)throw Error(i(166));return dt(a),null}n=Qt.current,mo(a)?Xp(a):(n=hv(f,o,r),a.stateNode=n,ha(a))}return dt(a),null;case 5:if(Sn(a),r=a.type,n!==null&&a.stateNode!=null)n.memoizedProps!==o&&ha(a);else{if(!o){if(a.stateNode===null)throw Error(i(166));return dt(a),null}if(n=Qt.current,mo(a))Xp(a);else{switch(f=Qu(vn.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof o.is=="string"?f.createElement("select",{is:o.is}):f.createElement("select"),o.multiple?n.multiple=!0:o.size&&(n.size=o.size);break;default:n=typeof o.is=="string"?f.createElement(r,{is:o.is}):f.createElement(r)}}n[Ht]=a,n[jt]=o;e:for(f=a.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===a)break e;for(;f.sibling===null;){if(f.return===null||f.return===a)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}a.stateNode=n;e:switch(Jt(n,r,o),r){case"button":case"input":case"select":case"textarea":n=!!o.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&ha(a)}}return dt(a),a.flags&=-16777217,null;case 6:if(n&&a.stateNode!=null)n.memoizedProps!==o&&ha(a);else{if(typeof o!="string"&&a.stateNode===null)throw Error(i(166));if(n=vn.current,mo(a)){if(n=a.stateNode,r=a.memoizedProps,o=null,f=gn,f!==null)switch(f.tag){case 27:case 5:o=f.memoizedProps}n[Ht]=a,n=!!(n.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||rv(n.nodeValue,r)),n||Ji(a)}else n=Qu(n).createTextNode(o),n[Ht]=a,a.stateNode=n}return dt(a),null;case 13:if(o=a.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=mo(a),o!==null&&o.dehydrated!==null){if(n===null){if(!f)throw Error(i(318));if(f=a.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[Ht]=a}else go(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;dt(a),f=!1}else is!==null&&(Yf(is),is=null),f=!0;if(!f)return a.flags&256?(aa(a),a):(aa(a),null)}if(aa(a),(a.flags&128)!==0)return a.lanes=r,a;if(r=o!==null,n=n!==null&&n.memoizedState!==null,r){o=a.child,f=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(f=o.alternate.memoizedState.cachePool.pool);var g=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(g=o.memoizedState.cachePool.pool),g!==f&&(o.flags|=2048)}return r!==n&&r&&(a.child.flags|=8192),Pu(a,a.updateQueue),dt(a),null;case 4:return Ct(),n===null&&rm(a.stateNode.containerInfo),dt(a),null;case 10:return oa(a.type),dt(a),null;case 19:if(it(Mt),f=a.memoizedState,f===null)return dt(a),null;if(o=(a.flags&128)!==0,g=f.rendering,g===null)if(o)Mo(f,!1);else{if(_t!==0||n!==null&&(n.flags&128)!==0)for(n=a.child;n!==null;){if(g=xu(n),g!==null){for(a.flags|=128,Mo(f,!1),n=g.updateQueue,a.updateQueue=n,Pu(a,n),a.subtreeFlags=0,n=r,r=a.child;r!==null;)O_(r,n),r=r.sibling;return Xe(Mt,Mt.current&1|2),a.child}n=n.sibling}f.tail!==null&&Yt()>Uu&&(a.flags|=128,o=!0,Mo(f,!1),a.lanes=4194304)}else{if(!o)if(n=xu(g),n!==null){if(a.flags|=128,o=!0,n=n.updateQueue,a.updateQueue=n,Pu(a,n),Mo(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!Qe)return dt(a),null}else 2*Yt()-f.renderingStartTime>Uu&&r!==536870912&&(a.flags|=128,o=!0,Mo(f,!1),a.lanes=4194304);f.isBackwards?(g.sibling=a.child,a.child=g):(n=f.last,n!==null?n.sibling=g:a.child=g,f.last=g)}return f.tail!==null?(a=f.tail,f.rendering=a,f.tail=a.sibling,f.renderingStartTime=Yt(),a.sibling=null,n=Mt.current,Xe(Mt,o?n&1|2:n&1),a):(dt(a),null);case 22:case 23:return aa(a),$h(),o=a.memoizedState!==null,n!==null?n.memoizedState!==null!==o&&(a.flags|=8192):o&&(a.flags|=8192),o?(r&536870912)!==0&&(a.flags&128)===0&&(dt(a),a.subtreeFlags&6&&(a.flags|=8192)):dt(a),r=a.updateQueue,r!==null&&Pu(a,r.retryQueue),r=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(r=n.memoizedState.cachePool.pool),o=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(o=a.memoizedState.cachePool.pool),o!==r&&(a.flags|=2048),n!==null&&it(tr),null;case 24:return r=null,n!==null&&(r=n.memoizedState.cache),a.memoizedState.cache!==r&&(a.flags|=2048),oa(Lt),dt(a),null;case 25:return null}throw Error(i(156,a.tag))}function hA(n,a){switch(qh(a),a.tag){case 1:return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 3:return oa(Lt),Ct(),n=a.flags,(n&65536)!==0&&(n&128)===0?(a.flags=n&-65537|128,a):null;case 26:case 27:case 5:return Sn(a),null;case 13:if(aa(a),n=a.memoizedState,n!==null&&n.dehydrated!==null){if(a.alternate===null)throw Error(i(340));go()}return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 19:return it(Mt),null;case 4:return Ct(),null;case 10:return oa(a.type),null;case 22:case 23:return aa(a),$h(),n!==null&&it(tr),n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 24:return oa(Lt),null;case 25:return null;default:return null}}function P_(n,a){switch(qh(a),a.tag){case 3:oa(Lt),Ct();break;case 26:case 27:case 5:Sn(a);break;case 4:Ct();break;case 13:aa(a);break;case 19:it(Mt);break;case 10:oa(a.type);break;case 22:case 23:aa(a),$h(),n!==null&&it(tr);break;case 24:oa(Lt)}}var fA={getCacheForType:function(n){var a=rn(Lt),r=a.data.get(n);return r===void 0&&(r=n(),a.data.set(n,r)),r}},mA=typeof WeakMap=="function"?WeakMap:Map,ht=0,st=null,Le=null,Ke=0,at=0,In=null,fa=!1,ll=!1,zf=!1,ma=0,_t=0,ai=0,ur=0,qf=0,Zn=0,ol=0,Lo=null,Ds=null,Kf=!1,Ff=0,Uu=1/0,Vu=null,ii=null,Bu=!1,dr=null,Po=0,Gf=0,$f=null,Uo=0,Qf=null;function jn(){if((ht&2)!==0&&Ke!==0)return Ke&-Ke;if(T.T!==null){var n=Jr;return n!==0?n:nm()}return Gc()}function U_(){Zn===0&&(Zn=(Ke&536870912)===0||Qe?Yl():536870912);var n=Qn.current;return n!==null&&(n.flags|=32),Zn}function pn(n,a,r){(n===st&&at===2||n.cancelPendingCommit!==null)&&(cl(n,0),ga(n,Ke,Zn,!1)),Tt(n,r),((ht&2)===0||n!==st)&&(n===st&&((ht&2)===0&&(ur|=r),_t===4&&ga(n,Ke,Zn,!1)),Os(n))}function V_(n,a,r){if((ht&6)!==0)throw Error(i(327));var o=!r&&(a&60)===0&&(a&n.expiredLanes)===0||ja(n,a),f=o?yA(n,a):Zf(n,a,!0),g=o;do{if(f===0){ll&&!o&&ga(n,a,0,!1);break}else if(f===6)ga(n,a,0,!fa);else{if(r=n.current.alternate,g&&!gA(r)){f=Zf(n,a,!1),g=!1;continue}if(f===2){if(g=a,n.errorRecoveryDisabledLanes&g)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){a=E;e:{var R=n;f=Lo;var P=R.current.memoizedState.isDehydrated;if(P&&(cl(R,E).flags|=256),E=Zf(R,E,!1),E!==2){if(zf&&!P){R.errorRecoveryDisabledLanes|=g,ur|=g,f=4;break e}g=Ds,Ds=f,g!==null&&Yf(g)}f=E}if(g=!1,f!==2)continue}}if(f===1){cl(n,0),ga(n,a,0,!0);break}e:{switch(o=n,f){case 0:case 1:throw Error(i(345));case 4:if((a&4194176)===a){ga(o,a,Zn,!fa);break e}break;case 2:Ds=null;break;case 3:case 5:break;default:throw Error(i(329))}if(o.finishedWork=r,o.finishedLanes=a,(a&62914560)===a&&(g=Ff+300-Yt(),10<g)){if(ga(o,a,Zn,!fa),Un(o,0)!==0)break e;o.timeoutHandle=cv(B_.bind(null,o,r,Ds,Vu,Kf,a,Zn,ur,ol,fa,2,-0,0),g);break e}B_(o,r,Ds,Vu,Kf,a,Zn,ur,ol,fa,0,-0,0)}}break}while(!0);Os(n)}function Yf(n){Ds===null?Ds=n:Ds.push.apply(Ds,n)}function B_(n,a,r,o,f,g,E,R,P,K,se,ce,J){var te=a.subtreeFlags;if((te&8192||(te&16785408)===16785408)&&(Ko={stylesheets:null,count:0,unsuspend:WA},C_(a),a=ZA(),a!==null)){n.cancelPendingCommit=a($_.bind(null,n,r,o,f,E,R,P,1,ce,J)),ga(n,g,E,!K);return}$_(n,r,o,f,E,R,P,se,ce,J)}function gA(n){for(var a=n;;){var r=a.tag;if((r===0||r===11||r===15)&&a.flags&16384&&(r=a.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var f=r[o],g=f.getSnapshot;f=f.value;try{if(!Rn(g(),f))return!1}catch{return!1}}if(r=a.child,a.subtreeFlags&16384&&r!==null)r.return=a,a=r;else{if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ga(n,a,r,o){a&=~qf,a&=~ur,n.suspendedLanes|=a,n.pingedLanes&=~a,o&&(n.warmLanes|=a),o=n.expirationTimes;for(var f=a;0<f;){var g=31-hn(f),E=1<<g;o[g]=-1,f&=~E}r!==0&&Oa(n,r,a)}function Hu(){return(ht&6)===0?(Vo(0),!1):!0}function Wf(){if(Le!==null){if(at===0)var n=Le.return;else n=Le,la=rr=null,tf(n),Xr=null,vo=0,n=Le;for(;n!==null;)P_(n.alternate,n),n=n.return;Le=null}}function cl(n,a){n.finishedWork=null,n.finishedLanes=0;var r=n.timeoutHandle;r!==-1&&(n.timeoutHandle=-1,OA(r)),r=n.cancelPendingCommit,r!==null&&(n.cancelPendingCommit=null,r()),Wf(),st=n,Le=r=si(n.current,null),Ke=a,at=0,In=null,fa=!1,ll=ja(n,a),zf=!1,ol=Zn=qf=ur=ai=_t=0,Ds=Lo=null,Kf=!1,(a&8)!==0&&(a|=a&32);var o=n.entangledLanes;if(o!==0)for(n=n.entanglements,o&=a;0<o;){var f=31-hn(o),g=1<<f;a|=n[f],o&=~g}return ma=a,du(),r}function H_(n,a){Oe=null,T.H=js,a===yo?(a=ny(),at=3):a===Jp?(a=ny(),at=4):at=a===e_?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,In=a,Le===null&&(_t=1,Iu(n,Fn(a,n.current)))}function z_(){var n=T.H;return T.H=js,n===null?js:n}function q_(){var n=T.A;return T.A=fA,n}function Xf(){_t=4,fa||(Ke&4194176)!==Ke&&Qn.current!==null||(ll=!0),(ai&134217727)===0&&(ur&134217727)===0||st===null||ga(st,Ke,Zn,!1)}function Zf(n,a,r){var o=ht;ht|=2;var f=z_(),g=q_();(st!==n||Ke!==a)&&(Vu=null,cl(n,a)),a=!1;var E=_t;e:do try{if(at!==0&&Le!==null){var R=Le,P=In;switch(at){case 8:Wf(),E=6;break e;case 3:case 2:case 6:Qn.current===null&&(a=!0);var K=at;if(at=0,In=null,ul(n,R,P,K),r&&ll){E=0;break e}break;default:K=at,at=0,In=null,ul(n,R,P,K)}}pA(),E=_t;break}catch(se){H_(n,se)}while(!0);return a&&n.shellSuspendCounter++,la=rr=null,ht=o,T.H=f,T.A=g,Le===null&&(st=null,Ke=0,du()),E}function pA(){for(;Le!==null;)K_(Le)}function yA(n,a){var r=ht;ht|=2;var o=z_(),f=q_();st!==n||Ke!==a?(Vu=null,Uu=Yt()+500,cl(n,a)):ll=ja(n,a);e:do try{if(at!==0&&Le!==null){a=Le;var g=In;t:switch(at){case 1:at=0,In=null,ul(n,a,g,1);break;case 2:if(ey(g)){at=0,In=null,F_(a);break}a=function(){at===2&&st===n&&(at=7),Os(n)},g.then(a,a);break e;case 3:at=7;break e;case 4:at=5;break e;case 7:ey(g)?(at=0,In=null,F_(a)):(at=0,In=null,ul(n,a,g,7));break;case 5:var E=null;switch(Le.tag){case 26:E=Le.memoizedState;case 5:case 27:var R=Le;if(!E||xv(E)){at=0,In=null;var P=R.sibling;if(P!==null)Le=P;else{var K=R.return;K!==null?(Le=K,zu(K)):Le=null}break t}}at=0,In=null,ul(n,a,g,5);break;case 6:at=0,In=null,ul(n,a,g,6);break;case 8:Wf(),_t=6;break e;default:throw Error(i(462))}}_A();break}catch(se){H_(n,se)}while(!0);return la=rr=null,T.H=o,T.A=f,ht=r,Le!==null?0:(st=null,Ke=0,du(),_t)}function _A(){for(;Le!==null&&!Fl();)K_(Le)}function K_(n){var a=h_(n.alternate,n,ma);n.memoizedProps=n.pendingProps,a===null?zu(n):Le=a}function F_(n){var a=n,r=a.alternate;switch(a.tag){case 15:case 0:a=r_(r,a,a.pendingProps,a.type,void 0,Ke);break;case 11:a=r_(r,a,a.pendingProps,a.type.render,a.ref,Ke);break;case 5:tf(a);default:P_(r,a),a=Le=O_(a,ma),a=h_(r,a,ma)}n.memoizedProps=n.pendingProps,a===null?zu(n):Le=a}function ul(n,a,r,o){la=rr=null,tf(a),Xr=null,vo=0;var f=a.return;try{if(rA(n,f,a,r,Ke)){_t=1,Iu(n,Fn(r,n.current)),Le=null;return}}catch(g){if(f!==null)throw Le=f,g;_t=1,Iu(n,Fn(r,n.current)),Le=null;return}a.flags&32768?(Qe||o===1?n=!0:ll||(Ke&536870912)!==0?n=!1:(fa=n=!0,(o===2||o===3||o===6)&&(o=Qn.current,o!==null&&o.tag===13&&(o.flags|=16384))),G_(a,n)):zu(a)}function zu(n){var a=n;do{if((a.flags&32768)!==0){G_(a,fa);return}n=a.return;var r=dA(a.alternate,a,ma);if(r!==null){Le=r;return}if(a=a.sibling,a!==null){Le=a;return}Le=a=n}while(a!==null);_t===0&&(_t=5)}function G_(n,a){do{var r=hA(n.alternate,n);if(r!==null){r.flags&=32767,Le=r;return}if(r=n.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!a&&(n=n.sibling,n!==null)){Le=n;return}Le=n=r}while(n!==null);_t=6,Le=null}function $_(n,a,r,o,f,g,E,R,P,K){var se=T.T,ce=ge.p;try{ge.p=2,T.T=null,vA(n,a,r,o,ce,f,g,E,R,P,K)}finally{T.T=se,ge.p=ce}}function vA(n,a,r,o,f,g,E,R){do dl();while(dr!==null);if((ht&6)!==0)throw Error(i(327));var P=n.finishedWork;if(o=n.finishedLanes,P===null)return null;if(n.finishedWork=null,n.finishedLanes=0,P===n.current)throw Error(i(177));n.callbackNode=null,n.callbackPriority=0,n.cancelPendingCommit=null;var K=P.lanes|P.childLanes;if(K|=Bh,Kc(n,o,K,g,E,R),n===st&&(Le=st=null,Ke=0),(P.subtreeFlags&10256)===0&&(P.flags&10256)===0||Bu||(Bu=!0,Gf=K,$f=r,bA(Gs,function(){return dl(),null})),r=(P.flags&15990)!==0,(P.subtreeFlags&15990)!==0||r?(r=T.T,T.T=null,g=ge.p,ge.p=2,E=ht,ht|=4,oA(n,P),N_(P,n),qb(um,n.containerInfo),ed=!!cm,um=cm=null,n.current=P,b_(n,P.alternate,P),Mi(),ht=E,ge.p=g,T.T=r):n.current=P,Bu?(Bu=!1,dr=n,Po=o):Q_(n,K),K=n.pendingLanes,K===0&&(ii=null),$l(P.stateNode),Os(n),a!==null)for(f=n.onRecoverableError,P=0;P<a.length;P++)K=a[P],f(K.value,{componentStack:K.stack});return(Po&3)!==0&&dl(),K=n.pendingLanes,(o&4194218)!==0&&(K&42)!==0?n===Qf?Uo++:(Uo=0,Qf=n):Uo=0,Vo(0),null}function Q_(n,a){(n.pooledCacheLanes&=a)===0&&(a=n.pooledCache,a!=null&&(n.pooledCache=null,Eo(a)))}function dl(){if(dr!==null){var n=dr,a=Gf;Gf=0;var r=Fc(Po),o=T.T,f=ge.p;try{if(ge.p=32>r?32:r,T.T=null,dr===null)var g=!1;else{r=$f,$f=null;var E=dr,R=Po;if(dr=null,Po=0,(ht&6)!==0)throw Error(i(331));var P=ht;if(ht|=4,j_(E.current),k_(E,E.current,R,r),ht=P,Vo(0,!1),an&&typeof an.onPostCommitFiberRoot=="function")try{an.onPostCommitFiberRoot(Ca,E)}catch{}g=!0}return g}finally{ge.p=f,T.T=o,Q_(n,a)}}return!1}function Y_(n,a,r){a=Fn(r,a),a=pf(n.stateNode,a,2),n=Ja(n,a,2),n!==null&&(Tt(n,2),Os(n))}function nt(n,a,r){if(n.tag===3)Y_(n,n,r);else for(;a!==null;){if(a.tag===3){Y_(a,n,r);break}else if(a.tag===1){var o=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(ii===null||!ii.has(o))){n=Fn(r,n),r=Zy(2),o=Ja(a,r,2),o!==null&&(Jy(r,o,a,n),Tt(o,2),Os(o));break}}a=a.return}}function Jf(n,a,r){var o=n.pingCache;if(o===null){o=n.pingCache=new mA;var f=new Set;o.set(a,f)}else f=o.get(a),f===void 0&&(f=new Set,o.set(a,f));f.has(r)||(zf=!0,f.add(r),n=xA.bind(null,n,a,r),a.then(n,n))}function xA(n,a,r){var o=n.pingCache;o!==null&&o.delete(a),n.pingedLanes|=n.suspendedLanes&r,n.warmLanes&=~r,st===n&&(Ke&r)===r&&(_t===4||_t===3&&(Ke&62914560)===Ke&&300>Yt()-Ff?(ht&2)===0&&cl(n,0):qf|=r,ol===Ke&&(ol=0)),Os(n)}function W_(n,a){a===0&&(a=Da()),n=Fa(n,a),n!==null&&(Tt(n,a),Os(n))}function EA(n){var a=n.memoizedState,r=0;a!==null&&(r=a.retryLane),W_(n,r)}function TA(n,a){var r=0;switch(n.tag){case 13:var o=n.stateNode,f=n.memoizedState;f!==null&&(r=f.retryLane);break;case 19:o=n.stateNode;break;case 22:o=n.stateNode._retryCache;break;default:throw Error(i(314))}o!==null&&o.delete(a),W_(n,r)}function bA(n,a){return _s(n,a)}var qu=null,hl=null,em=!1,Ku=!1,tm=!1,hr=0;function Os(n){n!==hl&&n.next===null&&(hl===null?qu=hl=n:hl=hl.next=n),Ku=!0,em||(em=!0,SA(AA))}function Vo(n,a){if(!tm&&Ku){tm=!0;do for(var r=!1,o=qu;o!==null;){if(n!==0){var f=o.pendingLanes;if(f===0)var g=0;else{var E=o.suspendedLanes,R=o.pingedLanes;g=(1<<31-hn(42|n)+1)-1,g&=f&~(E&~R),g=g&201326677?g&201326677|1:g?g|2:0}g!==0&&(r=!0,J_(o,g))}else g=Ke,g=Un(o,o===st?g:0),(g&3)===0||ja(o,g)||(r=!0,J_(o,g));o=o.next}while(r);tm=!1}}function AA(){Ku=em=!1;var n=0;hr!==0&&(DA()&&(n=hr),hr=0);for(var a=Yt(),r=null,o=qu;o!==null;){var f=o.next,g=X_(o,a);g===0?(o.next=null,r===null?qu=f:r.next=f,f===null&&(hl=r)):(r=o,(n!==0||(g&3)!==0)&&(Ku=!0)),o=f}Vo(n)}function X_(n,a){for(var r=n.suspendedLanes,o=n.pingedLanes,f=n.expirationTimes,g=n.pendingLanes&-62914561;0<g;){var E=31-hn(g),R=1<<E,P=f[E];P===-1?((R&r)===0||(R&o)!==0)&&(f[E]=Cr(R,a)):P<=a&&(n.expiredLanes|=R),g&=~R}if(a=st,r=Ke,r=Un(n,n===a?r:0),o=n.callbackNode,r===0||n===a&&at===2||n.cancelPendingCommit!==null)return o!==null&&o!==null&&ka(o),n.callbackNode=null,n.callbackPriority=0;if((r&3)===0||ja(n,r)){if(a=r&-r,a===n.callbackPriority)return a;switch(o!==null&&ka(o),Fc(r)){case 2:case 8:r=Bt;break;case 32:r=Gs;break;case 268435456:r=Gl;break;default:r=Gs}return o=Z_.bind(null,n),r=_s(r,o),n.callbackPriority=a,n.callbackNode=r,a}return o!==null&&o!==null&&ka(o),n.callbackPriority=2,n.callbackNode=null,2}function Z_(n,a){var r=n.callbackNode;if(dl()&&n.callbackNode!==r)return null;var o=Ke;return o=Un(n,n===st?o:0),o===0?null:(V_(n,o,a),X_(n,Yt()),n.callbackNode!=null&&n.callbackNode===r?Z_.bind(null,n):null)}function J_(n,a){if(dl())return null;V_(n,a,!0)}function SA(n){MA(function(){(ht&6)!==0?_s(It,n):n()})}function nm(){return hr===0&&(hr=Yl()),hr}function ev(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:bs(""+n)}function tv(n,a){var r=a.ownerDocument.createElement("input");return r.name=a.name,r.value=a.value,n.id&&r.setAttribute("form",n.id),a.parentNode.insertBefore(r,a),n=new FormData(n),r.parentNode.removeChild(r),n}function wA(n,a,r,o,f){if(a==="submit"&&r&&r.stateNode===f){var g=ev((f[jt]||null).action),E=o.submitter;E&&(a=(a=E[jt]||null)?ev(a.formAction):E.getAttribute("formAction"),a!==null&&(g=a,E=null));var R=new Pr("action","action",null,o,f);n.push({event:R,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(hr!==0){var P=E?tv(f,E):new FormData(f);df(r,{pending:!0,data:P,method:f.method,action:g},null,P)}}else typeof g=="function"&&(R.preventDefault(),P=E?tv(f,E):new FormData(f),df(r,{pending:!0,data:P,method:f.method,action:g},g,P))},currentTarget:f}]})}}for(var sm=0;sm<$p.length;sm++){var am=$p[sm],NA=am.toLowerCase(),RA=am[0].toUpperCase()+am.slice(1);as(NA,"on"+RA)}as(zp,"onAnimationEnd"),as(qp,"onAnimationIteration"),as(Kp,"onAnimationStart"),as("dblclick","onDoubleClick"),as("focusin","onFocus"),as("focusout","onBlur"),as(Fb,"onTransitionRun"),as(Gb,"onTransitionStart"),as($b,"onTransitionCancel"),as(Fp,"onTransitionEnd"),xn("onMouseEnter",["mouseout","mouseover"]),xn("onMouseLeave",["mouseout","mouseover"]),xn("onPointerEnter",["pointerout","pointerover"]),xn("onPointerLeave",["pointerout","pointerover"]),wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wn("onBeforeInput",["compositionend","keypress","textInput","paste"]),wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bo));function nv(n,a){a=(a&4)!==0;for(var r=0;r<n.length;r++){var o=n[r],f=o.event;o=o.listeners;e:{var g=void 0;if(a)for(var E=o.length-1;0<=E;E--){var R=o[E],P=R.instance,K=R.currentTarget;if(R=R.listener,P!==g&&f.isPropagationStopped())break e;g=R,f.currentTarget=K;try{g(f)}catch(se){Cu(se)}f.currentTarget=null,g=P}else for(E=0;E<o.length;E++){if(R=o[E],P=R.instance,K=R.currentTarget,R=R.listener,P!==g&&f.isPropagationStopped())break e;g=R,f.currentTarget=K;try{g(f)}catch(se){Cu(se)}f.currentTarget=null,g=P}}}}function Ve(n,a){var r=a[Pi];r===void 0&&(r=a[Pi]=new Set);var o=n+"__bubble";r.has(o)||(sv(a,n,2,!1),r.add(o))}function im(n,a,r){var o=0;a&&(o|=4),sv(r,n,o,a)}var Fu="_reactListening"+Math.random().toString(36).slice(2);function rm(n){if(!n[Fu]){n[Fu]=!0,Xl.forEach(function(r){r!=="selectionchange"&&(kA.has(r)||im(r,!1,n),im(r,!0,n))});var a=n.nodeType===9?n:n.ownerDocument;a===null||a[Fu]||(a[Fu]=!0,im("selectionchange",!1,a))}}function sv(n,a,r,o){switch(wv(a)){case 2:var f=tS;break;case 8:f=nS;break;default:f=vm}r=f.bind(null,a,r,n),f=void 0,!zn||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(f=!0),o?f!==void 0?n.addEventListener(a,r,{capture:!0,passive:f}):n.addEventListener(a,r,!0):f!==void 0?n.addEventListener(a,r,{passive:f}):n.addEventListener(a,r,!1)}function lm(n,a,r,o,f){var g=o;if((a&1)===0&&(a&2)===0&&o!==null)e:for(;;){if(o===null)return;var E=o.tag;if(E===3||E===4){var R=o.stateNode.containerInfo;if(R===f||R.nodeType===8&&R.parentNode===f)break;if(E===4)for(E=o.return;E!==null;){var P=E.tag;if((P===3||P===4)&&(P=E.stateNode.containerInfo,P===f||P.nodeType===8&&P.parentNode===f))return;E=E.return}for(;R!==null;){if(E=ss(R),E===null)return;if(P=E.tag,P===5||P===6||P===26||P===27){o=g=E;continue e}R=R.parentNode}}o=o.return}Wc(function(){var K=g,se=Lr(r),ce=[];e:{var J=Gp.get(n);if(J!==void 0){var te=Pr,Ee=n;switch(n){case"keypress":if(Ss(r)===0)break e;case"keydown":case"keyup":te=qr;break;case"focusin":Ee="focus",te=Br;break;case"focusout":Ee="blur",te=Br;break;case"beforeblur":case"afterblur":te=Br;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=qn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=jh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=au;break;case zp:case qp:case Kp:te=Hr;break;case Fp:te=ru;break;case"scroll":case"scrollend":te=Xc;break;case"wheel":te=Kr;break;case"copy":case"cut":case"paste":te=zr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=co;break;case"toggle":case"beforetoggle":te=ou}var Ie=(a&4)!==0,vt=!Ie&&(n==="scroll"||n==="scrollend"),G=Ie?J!==null?J+"Capture":null:J;Ie=[];for(var q=K,W;q!==null;){var ie=q;if(W=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||W===null||G===null||(ie=zi(q,G),ie!=null&&Ie.push(Ho(q,ie,W))),vt)break;q=q.return}0<Ie.length&&(J=new te(J,Ee,null,r,se),ce.push({event:J,listeners:Ie}))}}if((a&7)===0){e:{if(J=n==="mouseover"||n==="pointerover",te=n==="mouseout"||n==="pointerout",J&&r!==Hn&&(Ee=r.relatedTarget||r.fromElement)&&(ss(Ee)||Ee[$s]))break e;if((te||J)&&(J=se.window===se?se:(J=se.ownerDocument)?J.defaultView||J.parentWindow:window,te?(Ee=r.relatedTarget||r.toElement,te=K,Ee=Ee?ss(Ee):null,Ee!==null&&(vt=ue(Ee),Ie=Ee.tag,Ee!==vt||Ie!==5&&Ie!==27&&Ie!==6)&&(Ee=null)):(te=null,Ee=K),te!==Ee)){if(Ie=qn,ie="onMouseLeave",G="onMouseEnter",q="mouse",(n==="pointerout"||n==="pointerover")&&(Ie=co,ie="onPointerLeave",G="onPointerEnter",q="pointer"),vt=te==null?J:Ua(te),W=Ee==null?J:Ua(Ee),J=new Ie(ie,q+"leave",te,r,se),J.target=vt,J.relatedTarget=W,ie=null,ss(se)===K&&(Ie=new Ie(G,q+"enter",Ee,r,se),Ie.target=W,Ie.relatedTarget=vt,ie=Ie),vt=ie,te&&Ee)t:{for(Ie=te,G=Ee,q=0,W=Ie;W;W=fl(W))q++;for(W=0,ie=G;ie;ie=fl(ie))W++;for(;0<q-W;)Ie=fl(Ie),q--;for(;0<W-q;)G=fl(G),W--;for(;q--;){if(Ie===G||G!==null&&Ie===G.alternate)break t;Ie=fl(Ie),G=fl(G)}Ie=null}else Ie=null;te!==null&&av(ce,J,te,Ie,!1),Ee!==null&&vt!==null&&av(ce,vt,Ee,Ie,!0)}}e:{if(J=K?Ua(K):window,te=J.nodeName&&J.nodeName.toLowerCase(),te==="select"||te==="input"&&J.type==="file")var xe=Ip;else if(Ot(J))if(jp)xe=Hb;else{xe=Vb;var Me=Ub}else te=J.nodeName,!te||te.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?K&&no(K.elementType)&&(xe=Ip):xe=Bb;if(xe&&(xe=xe(n,K))){ta(ce,xe,r,se);break e}Me&&Me(n,J,K),n==="focusout"&&K&&J.type==="number"&&K.memoizedProps.value!=null&&Mr(J,"number",J.value)}switch(Me=K?Ua(K):window,n){case"focusin":(Ot(Me)||Me.contentEditable==="true")&&(Fr=Me,Ph=K,fo=null);break;case"focusout":fo=Ph=Fr=null;break;case"mousedown":Uh=!0;break;case"contextmenu":case"mouseup":case"dragend":Uh=!1,Bp(ce,r,se);break;case"selectionchange":if(Kb)break;case"keydown":case"keyup":Bp(ce,r,se)}var Te;if(Rs)e:{switch(n){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else ze?ee(n,r)&&(Se="onCompositionEnd"):n==="keydown"&&r.keyCode===229&&(Se="onCompositionStart");Se&&(x&&r.locale!=="ko"&&(ze||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&ze&&(Te=ao()):(As=se,Ka="value"in As?As.value:As.textContent,ze=!0)),Me=Gu(K,Se),0<Me.length&&(Se=new lo(Se,n,null,r,se),ce.push({event:Se,listeners:Me}),Te?Se.data=Te:(Te=he(r),Te!==null&&(Se.data=Te)))),(Te=_?Dt(n,r):qe(n,r))&&(Se=Gu(K,"onBeforeInput"),0<Se.length&&(Me=new lo("onBeforeInput","beforeinput",null,r,se),ce.push({event:Me,listeners:Se}),Me.data=Te)),wA(ce,n,K,r,se)}nv(ce,a)})}function Ho(n,a,r){return{instance:n,listener:a,currentTarget:r}}function Gu(n,a){for(var r=a+"Capture",o=[];n!==null;){var f=n,g=f.stateNode;f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=zi(n,r),f!=null&&o.unshift(Ho(n,f,g)),f=zi(n,a),f!=null&&o.push(Ho(n,f,g))),n=n.return}return o}function fl(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function av(n,a,r,o,f){for(var g=a._reactName,E=[];r!==null&&r!==o;){var R=r,P=R.alternate,K=R.stateNode;if(R=R.tag,P!==null&&P===o)break;R!==5&&R!==26&&R!==27||K===null||(P=K,f?(K=zi(r,g),K!=null&&E.unshift(Ho(r,K,P))):f||(K=zi(r,g),K!=null&&E.push(Ho(r,K,P)))),r=r.return}E.length!==0&&n.push({event:a,listeners:E})}var CA=/\r\n?/g,IA=/\u0000|\uFFFD/g;function iv(n){return(typeof n=="string"?n:""+n).replace(CA,`
`).replace(IA,"")}function rv(n,a){return a=iv(a),iv(n)===a}function $u(){}function tt(n,a,r,o,f,g){switch(r){case"children":typeof o=="string"?a==="body"||a==="textarea"&&o===""||Bn(n,o):(typeof o=="number"||typeof o=="bigint")&&a!=="body"&&Bn(n,""+o);break;case"className":Ha(n,"class",o);break;case"tabIndex":Ha(n,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Ha(n,r,o);break;case"style":Yc(n,o,g);break;case"data":if(a!=="object"){Ha(n,"data",o);break}case"src":case"href":if(o===""&&(a!=="a"||r!=="href")){n.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){n.removeAttribute(r);break}o=bs(""+o),n.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){n.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(r==="formAction"?(a!=="input"&&tt(n,a,"name",f.name,f,null),tt(n,a,"formEncType",f.formEncType,f,null),tt(n,a,"formMethod",f.formMethod,f,null),tt(n,a,"formTarget",f.formTarget,f,null)):(tt(n,a,"encType",f.encType,f,null),tt(n,a,"method",f.method,f,null),tt(n,a,"target",f.target,f,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){n.removeAttribute(r);break}o=bs(""+o),n.setAttribute(r,o);break;case"onClick":o!=null&&(n.onclick=$u);break;case"onScroll":o!=null&&Ve("scroll",n);break;case"onScrollEnd":o!=null&&Ve("scrollend",n);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(r=o.__html,r!=null){if(f.children!=null)throw Error(i(60));n.innerHTML=r}}break;case"multiple":n.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":n.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){n.removeAttribute("xlink:href");break}r=bs(""+o),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?n.setAttribute(r,""+o):n.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?n.setAttribute(r,""):n.removeAttribute(r);break;case"capture":case"download":o===!0?n.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?n.setAttribute(r,o):n.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?n.setAttribute(r,o):n.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?n.removeAttribute(r):n.setAttribute(r,o);break;case"popover":Ve("beforetoggle",n),Ve("toggle",n),Ba(n,"popover",o);break;case"xlinkActuate":Vn(n,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Vn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Vn(n,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Vn(n,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Vn(n,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Vn(n,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Vn(n,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Vn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Vn(n,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Ba(n,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Ch.get(r)||r,Ba(n,r,o))}}function om(n,a,r,o,f,g){switch(r){case"style":Yc(n,o,g);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(r=o.__html,r!=null){if(f.children!=null)throw Error(i(60));n.innerHTML=r}}break;case"children":typeof o=="string"?Bn(n,o):(typeof o=="number"||typeof o=="bigint")&&Bn(n,""+o);break;case"onScroll":o!=null&&Ve("scroll",n);break;case"onScrollEnd":o!=null&&Ve("scrollend",n);break;case"onClick":o!=null&&(n.onclick=$u);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Dr.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(f=r.endsWith("Capture"),a=r.slice(2,f?r.length-7:void 0),g=n[jt]||null,g=g!=null?g[r]:null,typeof g=="function"&&n.removeEventListener(a,g,f),typeof o=="function")){typeof g!="function"&&g!==null&&(r in n?n[r]=null:n.hasAttribute(r)&&n.removeAttribute(r)),n.addEventListener(a,o,f);break e}r in n?n[r]=o:o===!0?n.setAttribute(r,""):Ba(n,r,o)}}}function Jt(n,a,r){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",n),Ve("load",n);var o=!1,f=!1,g;for(g in r)if(r.hasOwnProperty(g)){var E=r[g];if(E!=null)switch(g){case"src":o=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:tt(n,a,g,E,r,null)}}f&&tt(n,a,"srcSet",r.srcSet,r,null),o&&tt(n,a,"src",r.src,r,null);return;case"input":Ve("invalid",n);var R=g=E=f=null,P=null,K=null;for(o in r)if(r.hasOwnProperty(o)){var se=r[o];if(se!=null)switch(o){case"name":f=se;break;case"type":E=se;break;case"checked":P=se;break;case"defaultChecked":K=se;break;case"value":g=se;break;case"defaultValue":R=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(i(137,a));break;default:tt(n,a,o,se,r,null)}}Bi(n,g,R,P,K,E,f,!1),Vi(n);return;case"select":Ve("invalid",n),o=E=g=null;for(f in r)if(r.hasOwnProperty(f)&&(R=r[f],R!=null))switch(f){case"value":g=R;break;case"defaultValue":E=R;break;case"multiple":o=R;default:tt(n,a,f,R,r,null)}a=g,r=E,n.multiple=!!o,a!=null?$e(n,!!o,a,!1):r!=null&&$e(n,!!o,r,!0);return;case"textarea":Ve("invalid",n),g=f=o=null;for(E in r)if(r.hasOwnProperty(E)&&(R=r[E],R!=null))switch(E){case"value":o=R;break;case"defaultValue":f=R;break;case"children":g=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(i(91));break;default:tt(n,a,E,R,r,null)}qa(n,o,f,g),Vi(n);return;case"option":for(P in r)if(r.hasOwnProperty(P)&&(o=r[P],o!=null))switch(P){case"selected":n.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:tt(n,a,P,o,r,null)}return;case"dialog":Ve("cancel",n),Ve("close",n);break;case"iframe":case"object":Ve("load",n);break;case"video":case"audio":for(o=0;o<Bo.length;o++)Ve(Bo[o],n);break;case"image":Ve("error",n),Ve("load",n);break;case"details":Ve("toggle",n);break;case"embed":case"source":case"link":Ve("error",n),Ve("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in r)if(r.hasOwnProperty(K)&&(o=r[K],o!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:tt(n,a,K,o,r,null)}return;default:if(no(a)){for(se in r)r.hasOwnProperty(se)&&(o=r[se],o!==void 0&&om(n,a,se,o,r,void 0));return}}for(R in r)r.hasOwnProperty(R)&&(o=r[R],o!=null&&tt(n,a,R,o,r,null))}function jA(n,a,r,o){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,E=null,R=null,P=null,K=null,se=null;for(te in r){var ce=r[te];if(r.hasOwnProperty(te)&&ce!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":P=ce;default:o.hasOwnProperty(te)||tt(n,a,te,null,o,ce)}}for(var J in o){var te=o[J];if(ce=r[J],o.hasOwnProperty(J)&&(te!=null||ce!=null))switch(J){case"type":g=te;break;case"name":f=te;break;case"checked":K=te;break;case"defaultChecked":se=te;break;case"value":E=te;break;case"defaultValue":R=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(i(137,a));break;default:te!==ce&&tt(n,a,J,te,o,ce)}}za(n,E,R,P,K,se,g,f);return;case"select":te=E=R=J=null;for(g in r)if(P=r[g],r.hasOwnProperty(g)&&P!=null)switch(g){case"value":break;case"multiple":te=P;default:o.hasOwnProperty(g)||tt(n,a,g,null,o,P)}for(f in o)if(g=o[f],P=r[f],o.hasOwnProperty(f)&&(g!=null||P!=null))switch(f){case"value":J=g;break;case"defaultValue":R=g;break;case"multiple":E=g;default:g!==P&&tt(n,a,f,g,o,P)}a=R,r=E,o=te,J!=null?$e(n,!!r,J,!1):!!o!=!!r&&(a!=null?$e(n,!!r,a,!0):$e(n,!!r,r?[]:"",!1));return;case"textarea":te=J=null;for(R in r)if(f=r[R],r.hasOwnProperty(R)&&f!=null&&!o.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:tt(n,a,R,null,o,f)}for(E in o)if(f=o[E],g=r[E],o.hasOwnProperty(E)&&(f!=null||g!=null))switch(E){case"value":J=f;break;case"defaultValue":te=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==g&&tt(n,a,E,f,o,g)}Hi(n,J,te);return;case"option":for(var Ee in r)if(J=r[Ee],r.hasOwnProperty(Ee)&&J!=null&&!o.hasOwnProperty(Ee))switch(Ee){case"selected":n.selected=!1;break;default:tt(n,a,Ee,null,o,J)}for(P in o)if(J=o[P],te=r[P],o.hasOwnProperty(P)&&J!==te&&(J!=null||te!=null))switch(P){case"selected":n.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:tt(n,a,P,J,o,te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ie in r)J=r[Ie],r.hasOwnProperty(Ie)&&J!=null&&!o.hasOwnProperty(Ie)&&tt(n,a,Ie,null,o,J);for(K in o)if(J=o[K],te=r[K],o.hasOwnProperty(K)&&J!==te&&(J!=null||te!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,a));break;default:tt(n,a,K,J,o,te)}return;default:if(no(a)){for(var vt in r)J=r[vt],r.hasOwnProperty(vt)&&J!==void 0&&!o.hasOwnProperty(vt)&&om(n,a,vt,void 0,o,J);for(se in o)J=o[se],te=r[se],!o.hasOwnProperty(se)||J===te||J===void 0&&te===void 0||om(n,a,se,J,o,te);return}}for(var G in r)J=r[G],r.hasOwnProperty(G)&&J!=null&&!o.hasOwnProperty(G)&&tt(n,a,G,null,o,J);for(ce in o)J=o[ce],te=r[ce],!o.hasOwnProperty(ce)||J===te||J==null&&te==null||tt(n,a,ce,J,o,te)}var cm=null,um=null;function Qu(n){return n.nodeType===9?n:n.ownerDocument}function lv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ov(n,a){if(n===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&a==="foreignObject"?0:n}function dm(n,a){return n==="textarea"||n==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var hm=null;function DA(){var n=window.event;return n&&n.type==="popstate"?n===hm?!1:(hm=n,!0):(hm=null,!1)}var cv=typeof setTimeout=="function"?setTimeout:void 0,OA=typeof clearTimeout=="function"?clearTimeout:void 0,uv=typeof Promise=="function"?Promise:void 0,MA=typeof queueMicrotask=="function"?queueMicrotask:typeof uv<"u"?function(n){return uv.resolve(null).then(n).catch(LA)}:cv;function LA(n){setTimeout(function(){throw n})}function fm(n,a){var r=a,o=0;do{var f=r.nextSibling;if(n.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(o===0){n.removeChild(f),Yo(a);return}o--}else r!=="$"&&r!=="$?"&&r!=="$!"||o++;r=f}while(r);Yo(a)}function mm(n){var a=n.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var r=a;switch(a=a.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":mm(r),Ui(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}n.removeChild(r)}}function PA(n,a,r,o){for(;n.nodeType===1;){var f=r;if(n.nodeName.toLowerCase()!==a.toLowerCase()){if(!o&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(o){if(!n[Pa])switch(a){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(g=n.getAttribute("rel"),g==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(g!==f.rel||n.getAttribute("href")!==(f.href==null?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(g=n.getAttribute("src"),(g!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(a==="input"&&n.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===g)return n}else return n;if(n=ls(n.nextSibling),n===null)break}return null}function UA(n,a,r){if(a==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!r||(n=ls(n.nextSibling),n===null))return null;return n}function ls(n){for(;n!=null;n=n.nextSibling){var a=n.nodeType;if(a===1||a===3)break;if(a===8){if(a=n.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return n}function dv(n){n=n.previousSibling;for(var a=0;n;){if(n.nodeType===8){var r=n.data;if(r==="$"||r==="$!"||r==="$?"){if(a===0)return n;a--}else r==="/$"&&a++}n=n.previousSibling}return null}function hv(n,a,r){switch(a=Qu(r),n){case"html":if(n=a.documentElement,!n)throw Error(i(452));return n;case"head":if(n=a.head,!n)throw Error(i(453));return n;case"body":if(n=a.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}var Jn=new Map,fv=new Set;function Yu(n){return typeof n.getRootNode=="function"?n.getRootNode():n.ownerDocument}var pa=ge.d;ge.d={f:VA,r:BA,D:HA,C:zA,L:qA,m:KA,X:GA,S:FA,M:$A};function VA(){var n=pa.f(),a=Hu();return n||a}function BA(n){var a=Qs(n);a!==null&&a.tag===5&&a.type==="form"?By(a):pa.r(n)}var ml=typeof document>"u"?null:document;function mv(n,a,r){var o=ml;if(o&&typeof a=="string"&&a){var f=pt(a);f='link[rel="'+n+'"][href="'+f+'"]',typeof r=="string"&&(f+='[crossorigin="'+r+'"]'),fv.has(f)||(fv.add(f),n={rel:n,crossOrigin:r,href:a},o.querySelector(f)===null&&(a=o.createElement("link"),Jt(a,"link",n),ut(a),o.head.appendChild(a)))}}function HA(n){pa.D(n),mv("dns-prefetch",n,null)}function zA(n,a){pa.C(n,a),mv("preconnect",n,a)}function qA(n,a,r){pa.L(n,a,r);var o=ml;if(o&&n&&a){var f='link[rel="preload"][as="'+pt(a)+'"]';a==="image"&&r&&r.imageSrcSet?(f+='[imagesrcset="'+pt(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(f+='[imagesizes="'+pt(r.imageSizes)+'"]')):f+='[href="'+pt(n)+'"]';var g=f;switch(a){case"style":g=gl(n);break;case"script":g=pl(n)}Jn.has(g)||(n=b({rel:"preload",href:a==="image"&&r&&r.imageSrcSet?void 0:n,as:a},r),Jn.set(g,n),o.querySelector(f)!==null||a==="style"&&o.querySelector(zo(g))||a==="script"&&o.querySelector(qo(g))||(a=o.createElement("link"),Jt(a,"link",n),ut(a),o.head.appendChild(a)))}}function KA(n,a){pa.m(n,a);var r=ml;if(r&&n){var o=a&&typeof a.as=="string"?a.as:"script",f='link[rel="modulepreload"][as="'+pt(o)+'"][href="'+pt(n)+'"]',g=f;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=pl(n)}if(!Jn.has(g)&&(n=b({rel:"modulepreload",href:n},a),Jn.set(g,n),r.querySelector(f)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(qo(g)))return}o=r.createElement("link"),Jt(o,"link",n),ut(o),r.head.appendChild(o)}}}function FA(n,a,r){pa.S(n,a,r);var o=ml;if(o&&n){var f=Va(o).hoistableStyles,g=gl(n);a=a||"default";var E=f.get(g);if(!E){var R={loading:0,preload:null};if(E=o.querySelector(zo(g)))R.loading=5;else{n=b({rel:"stylesheet",href:n,"data-precedence":a},r),(r=Jn.get(g))&&gm(n,r);var P=E=o.createElement("link");ut(P),Jt(P,"link",n),P._p=new Promise(function(K,se){P.onload=K,P.onerror=se}),P.addEventListener("load",function(){R.loading|=1}),P.addEventListener("error",function(){R.loading|=2}),R.loading|=4,Wu(E,a,o)}E={type:"stylesheet",instance:E,count:1,state:R},f.set(g,E)}}}function GA(n,a){pa.X(n,a);var r=ml;if(r&&n){var o=Va(r).hoistableScripts,f=pl(n),g=o.get(f);g||(g=r.querySelector(qo(f)),g||(n=b({src:n,async:!0},a),(a=Jn.get(f))&&pm(n,a),g=r.createElement("script"),ut(g),Jt(g,"link",n),r.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},o.set(f,g))}}function $A(n,a){pa.M(n,a);var r=ml;if(r&&n){var o=Va(r).hoistableScripts,f=pl(n),g=o.get(f);g||(g=r.querySelector(qo(f)),g||(n=b({src:n,async:!0,type:"module"},a),(a=Jn.get(f))&&pm(n,a),g=r.createElement("script"),ut(g),Jt(g,"link",n),r.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},o.set(f,g))}}function gv(n,a,r,o){var f=(f=vn.current)?Yu(f):null;if(!f)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(a=gl(r.href),r=Va(f).hoistableStyles,o=r.get(a),o||(o={type:"style",instance:null,count:0,state:null},r.set(a,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){n=gl(r.href);var g=Va(f).hoistableStyles,E=g.get(n);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(n,E),(g=f.querySelector(zo(n)))&&!g._p&&(E.instance=g,E.state.loading=5),Jn.has(n)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Jn.set(n,r),g||QA(f,n,r,E.state))),a&&o===null)throw Error(i(528,""));return E}if(a&&o!==null)throw Error(i(529,""));return null;case"script":return a=r.async,r=r.src,typeof r=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=pl(r),r=Va(f).hoistableScripts,o=r.get(a),o||(o={type:"script",instance:null,count:0,state:null},r.set(a,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function gl(n){return'href="'+pt(n)+'"'}function zo(n){return'link[rel="stylesheet"]['+n+"]"}function pv(n){return b({},n,{"data-precedence":n.precedence,precedence:null})}function QA(n,a,r,o){n.querySelector('link[rel="preload"][as="style"]['+a+"]")?o.loading=1:(a=n.createElement("link"),o.preload=a,a.addEventListener("load",function(){return o.loading|=1}),a.addEventListener("error",function(){return o.loading|=2}),Jt(a,"link",r),ut(a),n.head.appendChild(a))}function pl(n){return'[src="'+pt(n)+'"]'}function qo(n){return"script[async]"+n}function yv(n,a,r){if(a.count++,a.instance===null)switch(a.type){case"style":var o=n.querySelector('style[data-href~="'+pt(r.href)+'"]');if(o)return a.instance=o,ut(o),o;var f=b({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(n.ownerDocument||n).createElement("style"),ut(o),Jt(o,"style",f),Wu(o,r.precedence,n),a.instance=o;case"stylesheet":f=gl(r.href);var g=n.querySelector(zo(f));if(g)return a.state.loading|=4,a.instance=g,ut(g),g;o=pv(r),(f=Jn.get(f))&&gm(o,f),g=(n.ownerDocument||n).createElement("link"),ut(g);var E=g;return E._p=new Promise(function(R,P){E.onload=R,E.onerror=P}),Jt(g,"link",o),a.state.loading|=4,Wu(g,r.precedence,n),a.instance=g;case"script":return g=pl(r.src),(f=n.querySelector(qo(g)))?(a.instance=f,ut(f),f):(o=r,(f=Jn.get(g))&&(o=b({},r),pm(o,f)),n=n.ownerDocument||n,f=n.createElement("script"),ut(f),Jt(f,"link",o),n.head.appendChild(f),a.instance=f);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(o=a.instance,a.state.loading|=4,Wu(o,r.precedence,n));return a.instance}function Wu(n,a,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=o.length?o[o.length-1]:null,g=f,E=0;E<o.length;E++){var R=o[E];if(R.dataset.precedence===a)g=R;else if(g!==f)break}g?g.parentNode.insertBefore(n,g.nextSibling):(a=r.nodeType===9?r.head:r,a.insertBefore(n,a.firstChild))}function gm(n,a){n.crossOrigin==null&&(n.crossOrigin=a.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=a.referrerPolicy),n.title==null&&(n.title=a.title)}function pm(n,a){n.crossOrigin==null&&(n.crossOrigin=a.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=a.referrerPolicy),n.integrity==null&&(n.integrity=a.integrity)}var Xu=null;function _v(n,a,r){if(Xu===null){var o=new Map,f=Xu=new Map;f.set(r,o)}else f=Xu,o=f.get(r),o||(o=new Map,f.set(r,o));if(o.has(n))return o;for(o.set(n,null),r=r.getElementsByTagName(n),f=0;f<r.length;f++){var g=r[f];if(!(g[Pa]||g[Ht]||n==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var E=g.getAttribute(a)||"";E=n+E;var R=o.get(E);R?R.push(g):o.set(E,[g])}}return o}function vv(n,a,r){n=n.ownerDocument||n,n.head.insertBefore(r,a==="title"?n.querySelector("head > title"):null)}function YA(n,a,r){if(r===1||a.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return n=a.disabled,typeof a.precedence=="string"&&n==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function xv(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Ko=null;function WA(){}function XA(n,a,r){if(Ko===null)throw Error(i(475));var o=Ko;if(a.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=gl(r.href),g=n.querySelector(zo(f));if(g){n=g._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(o.count++,o=Zu.bind(o),n.then(o,o)),a.state.loading|=4,a.instance=g,ut(g);return}g=n.ownerDocument||n,r=pv(r),(f=Jn.get(f))&&gm(r,f),g=g.createElement("link"),ut(g);var E=g;E._p=new Promise(function(R,P){E.onload=R,E.onerror=P}),Jt(g,"link",r),a.instance=g}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(o.count++,a=Zu.bind(o),n.addEventListener("load",a),n.addEventListener("error",a))}}function ZA(){if(Ko===null)throw Error(i(475));var n=Ko;return n.stylesheets&&n.count===0&&ym(n,n.stylesheets),0<n.count?function(a){var r=setTimeout(function(){if(n.stylesheets&&ym(n,n.stylesheets),n.unsuspend){var o=n.unsuspend;n.unsuspend=null,o()}},6e4);return n.unsuspend=a,function(){n.unsuspend=null,clearTimeout(r)}}:null}function Zu(){if(this.count--,this.count===0){if(this.stylesheets)ym(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Ju=null;function ym(n,a){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Ju=new Map,a.forEach(JA,n),Ju=null,Zu.call(n))}function JA(n,a){if(!(a.state.loading&4)){var r=Ju.get(n);if(r)var o=r.get(null);else{r=new Map,Ju.set(n,r);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var E=f[g];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(r.set(E.dataset.precedence,E),o=E)}o&&r.set(null,o)}f=a.instance,E=f.getAttribute("data-precedence"),g=r.get(E)||o,g===o&&r.set(null,f),r.set(E,f),this.count++,o=Zu.bind(this),f.addEventListener("load",o),f.addEventListener("error",o),g?g.parentNode.insertBefore(f,g.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),a.state.loading|=4}}var Fo={$$typeof:O,Provider:null,Consumer:null,_currentValue:Ae,_currentValue2:Ae,_threadCount:0};function eS(n,a,r,o,f,g,E,R){this.tag=1,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ir(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ir(0),this.hiddenUpdates=Ir(null),this.identifierPrefix=o,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function Ev(n,a,r,o,f,g,E,R,P,K,se,ce){return n=new eS(n,a,r,E,R,P,K,ce),a=1,g===!0&&(a|=24),g=Xn(3,null,null,a),n.current=g,g.stateNode=n,a=Qh(),a.refCount++,n.pooledCache=a,a.refCount++,g.memoizedState={element:o,isDehydrated:r,cache:a},kf(g),n}function Tv(n){return n?(n=Qr,n):Qr}function bv(n,a,r,o,f,g){f=Tv(f),o.context===null?o.context=f:o.pendingContext=f,o=Za(a),o.payload={element:r},g=g===void 0?null:g,g!==null&&(o.callback=g),r=Ja(n,o,a),r!==null&&(pn(r,n,a),Ro(r,n,a))}function Av(n,a){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var r=n.retryLane;n.retryLane=r!==0&&r<a?r:a}}function _m(n,a){Av(n,a),(n=n.alternate)&&Av(n,a)}function Sv(n){if(n.tag===13){var a=Fa(n,67108864);a!==null&&pn(a,n,67108864),_m(n,67108864)}}var ed=!0;function tS(n,a,r,o){var f=T.T;T.T=null;var g=ge.p;try{ge.p=2,vm(n,a,r,o)}finally{ge.p=g,T.T=f}}function nS(n,a,r,o){var f=T.T;T.T=null;var g=ge.p;try{ge.p=8,vm(n,a,r,o)}finally{ge.p=g,T.T=f}}function vm(n,a,r,o){if(ed){var f=xm(o);if(f===null)lm(n,a,o,td,r),Nv(n,o);else if(aS(f,n,a,r,o))o.stopPropagation();else if(Nv(n,o),a&4&&-1<sS.indexOf(n)){for(;f!==null;){var g=Qs(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var E=ns(g.pendingLanes);if(E!==0){var R=g;for(R.pendingLanes|=2,R.entangledLanes|=2;E;){var P=1<<31-hn(E);R.entanglements[1]|=P,E&=~P}Os(g),(ht&6)===0&&(Uu=Yt()+500,Vo(0))}}break;case 13:R=Fa(g,2),R!==null&&pn(R,g,2),Hu(),_m(g,2)}if(g=xm(o),g===null&&lm(n,a,o,td,r),g===f)break;f=g}f!==null&&o.stopPropagation()}else lm(n,a,o,null,r)}}function xm(n){return n=Lr(n),Em(n)}var td=null;function Em(n){if(td=null,n=ss(n),n!==null){var a=ue(n);if(a===null)n=null;else{var r=a.tag;if(r===13){if(n=ve(a),n!==null)return n;n=null}else if(r===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;n=null}else a!==n&&(n=null)}}return td=n,null}function wv(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Bc()){case It:return 2;case Bt:return 8;case Gs:case Hc:return 32;case Gl:return 268435456;default:return 32}default:return 32}}var Tm=!1,ri=null,li=null,oi=null,Go=new Map,$o=new Map,ci=[],sS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Nv(n,a){switch(n){case"focusin":case"focusout":ri=null;break;case"dragenter":case"dragleave":li=null;break;case"mouseover":case"mouseout":oi=null;break;case"pointerover":case"pointerout":Go.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":$o.delete(a.pointerId)}}function Qo(n,a,r,o,f,g){return n===null||n.nativeEvent!==g?(n={blockedOn:a,domEventName:r,eventSystemFlags:o,nativeEvent:g,targetContainers:[f]},a!==null&&(a=Qs(a),a!==null&&Sv(a)),n):(n.eventSystemFlags|=o,a=n.targetContainers,f!==null&&a.indexOf(f)===-1&&a.push(f),n)}function aS(n,a,r,o,f){switch(a){case"focusin":return ri=Qo(ri,n,a,r,o,f),!0;case"dragenter":return li=Qo(li,n,a,r,o,f),!0;case"mouseover":return oi=Qo(oi,n,a,r,o,f),!0;case"pointerover":var g=f.pointerId;return Go.set(g,Qo(Go.get(g)||null,n,a,r,o,f)),!0;case"gotpointercapture":return g=f.pointerId,$o.set(g,Qo($o.get(g)||null,n,a,r,o,f)),!0}return!1}function Rv(n){var a=ss(n.target);if(a!==null){var r=ue(a);if(r!==null){if(a=r.tag,a===13){if(a=ve(r),a!==null){n.blockedOn=a,La(n.priority,function(){if(r.tag===13){var o=jn(),f=Fa(r,o);f!==null&&pn(f,r,o),_m(r,o)}});return}}else if(a===3&&r.stateNode.current.memoizedState.isDehydrated){n.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}n.blockedOn=null}function nd(n){if(n.blockedOn!==null)return!1;for(var a=n.targetContainers;0<a.length;){var r=xm(n.nativeEvent);if(r===null){r=n.nativeEvent;var o=new r.constructor(r.type,r);Hn=o,r.target.dispatchEvent(o),Hn=null}else return a=Qs(r),a!==null&&Sv(a),n.blockedOn=r,!1;a.shift()}return!0}function kv(n,a,r){nd(n)&&r.delete(a)}function iS(){Tm=!1,ri!==null&&nd(ri)&&(ri=null),li!==null&&nd(li)&&(li=null),oi!==null&&nd(oi)&&(oi=null),Go.forEach(kv),$o.forEach(kv)}function sd(n,a){n.blockedOn===a&&(n.blockedOn=null,Tm||(Tm=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,iS)))}var ad=null;function Cv(n){ad!==n&&(ad=n,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){ad===n&&(ad=null);for(var a=0;a<n.length;a+=3){var r=n[a],o=n[a+1],f=n[a+2];if(typeof o!="function"){if(Em(o||r)===null)continue;break}var g=Qs(r);g!==null&&(n.splice(a,3),a-=3,df(g,{pending:!0,data:f,method:r.method,action:o},o,f))}}))}function Yo(n){function a(P){return sd(P,n)}ri!==null&&sd(ri,n),li!==null&&sd(li,n),oi!==null&&sd(oi,n),Go.forEach(a),$o.forEach(a);for(var r=0;r<ci.length;r++){var o=ci[r];o.blockedOn===n&&(o.blockedOn=null)}for(;0<ci.length&&(r=ci[0],r.blockedOn===null);)Rv(r),r.blockedOn===null&&ci.shift();if(r=(n.ownerDocument||n).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var f=r[o],g=r[o+1],E=f[jt]||null;if(typeof g=="function")E||Cv(r);else if(E){var R=null;if(g&&g.hasAttribute("formAction")){if(f=g,E=g[jt]||null)R=E.formAction;else if(Em(f)!==null)continue}else R=E.action;typeof R=="function"?r[o+1]=R:(r.splice(o,3),o-=3),Cv(r)}}}function bm(n){this._internalRoot=n}id.prototype.render=bm.prototype.render=function(n){var a=this._internalRoot;if(a===null)throw Error(i(409));var r=a.current,o=jn();bv(r,o,n,a,null,null)},id.prototype.unmount=bm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var a=n.containerInfo;n.tag===0&&dl(),bv(n.current,2,null,n,null,null),Hu(),a[$s]=null}};function id(n){this._internalRoot=n}id.prototype.unstable_scheduleHydration=function(n){if(n){var a=Gc();n={blockedOn:null,target:n,priority:a};for(var r=0;r<ci.length&&a!==0&&a<ci[r].priority;r++);ci.splice(r,0,n),r===0&&Rv(n)}};var Iv=e.version;if(Iv!=="19.0.0")throw Error(i(527,Iv,"19.0.0"));ge.findDOMNode=function(n){var a=n._reactInternals;if(a===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=ae(a),n=n!==null?me(n):null,n=n===null?null:n.stateNode,n};var rS={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:T,findFiberByHostInstance:ss,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rd.isDisabled&&rd.supportsFiber)try{Ca=rd.inject(rS),an=rd}catch{}}return Xo.createRoot=function(n,a){if(!l(n))throw Error(i(299));var r=!1,o="",f=Qy,g=Yy,E=Wy,R=null;return a!=null&&(a.unstable_strictMode===!0&&(r=!0),a.identifierPrefix!==void 0&&(o=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(R=a.unstable_transitionCallbacks)),a=Ev(n,1,!1,null,null,r,o,f,g,E,R,null),n[$s]=a.current,rm(n.nodeType===8?n.parentNode:n),new bm(a)},Xo.hydrateRoot=function(n,a,r){if(!l(n))throw Error(i(299));var o=!1,f="",g=Qy,E=Yy,R=Wy,P=null,K=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(f=r.identifierPrefix),r.onUncaughtError!==void 0&&(g=r.onUncaughtError),r.onCaughtError!==void 0&&(E=r.onCaughtError),r.onRecoverableError!==void 0&&(R=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(P=r.unstable_transitionCallbacks),r.formState!==void 0&&(K=r.formState)),a=Ev(n,1,!0,a,r??null,o,f,g,E,R,P,K),a.context=Tv(null),r=a.current,o=jn(),f=Za(o),f.callback=null,Ja(r,f,o),a.current.lanes=o,Tt(a,o),Os(a),n[$s]=a.current,rm(n),new id(a)},Xo.version="19.0.0",Xo}var Hv;function pS(){if(Hv)return wm.exports;Hv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),wm.exports=gS(),wm.exports}var yS=pS();const _S=xg(yS);var Zo={},zv;function vS(){if(zv)return Zo;zv=1,Object.defineProperty(Zo,"__esModule",{value:!0}),Zo.parse=h,Zo.serialize=y;const s=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,c=(()=>{const N=function(){};return N.prototype=Object.create(null),N})();function h(N,O){const L=new c,B=N.length;if(B<2)return L;const V=(O==null?void 0:O.decode)||v;let z=0;do{const H=N.indexOf("=",z);if(H===-1)break;const F=N.indexOf(";",z),Z=F===-1?B:F;if(H>Z){z=N.lastIndexOf(";",H-1)+1;continue}const oe=m(N,z,H),de=p(N,H,oe),D=N.slice(oe,de);if(L[D]===void 0){let C=m(N,H+1,Z),T=p(N,Z,C);const b=V(N.slice(C,T));L[D]=b}z=Z+1}while(z<B);return L}function m(N,O,L){do{const B=N.charCodeAt(O);if(B!==32&&B!==9)return O}while(++O<L);return L}function p(N,O,L){for(;O>L;){const B=N.charCodeAt(--O);if(B!==32&&B!==9)return O+1}return L}function y(N,O,L){const B=(L==null?void 0:L.encode)||encodeURIComponent;if(!s.test(N))throw new TypeError(`argument name is invalid: ${N}`);const V=B(O);if(!e.test(V))throw new TypeError(`argument val is invalid: ${O}`);let z=N+"="+V;if(!L)return z;if(L.maxAge!==void 0){if(!Number.isInteger(L.maxAge))throw new TypeError(`option maxAge is invalid: ${L.maxAge}`);z+="; Max-Age="+L.maxAge}if(L.domain){if(!t.test(L.domain))throw new TypeError(`option domain is invalid: ${L.domain}`);z+="; Domain="+L.domain}if(L.path){if(!i.test(L.path))throw new TypeError(`option path is invalid: ${L.path}`);z+="; Path="+L.path}if(L.expires){if(!w(L.expires)||!Number.isFinite(L.expires.valueOf()))throw new TypeError(`option expires is invalid: ${L.expires}`);z+="; Expires="+L.expires.toUTCString()}if(L.httpOnly&&(z+="; HttpOnly"),L.secure&&(z+="; Secure"),L.partitioned&&(z+="; Partitioned"),L.priority)switch(typeof L.priority=="string"?L.priority.toLowerCase():void 0){case"low":z+="; Priority=Low";break;case"medium":z+="; Priority=Medium";break;case"high":z+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${L.priority}`)}if(L.sameSite)switch(typeof L.sameSite=="string"?L.sameSite.toLowerCase():L.sameSite){case!0:case"strict":z+="; SameSite=Strict";break;case"lax":z+="; SameSite=Lax";break;case"none":z+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${L.sameSite}`)}return z}function v(N){if(N.indexOf("%")===-1)return N;try{return decodeURIComponent(N)}catch{return N}}function w(N){return l.call(N)==="[object Date]"}return Zo}vS();var qv="popstate";function xS(s={}){function e(i,l){let{pathname:c,search:h,hash:m}=i.location;return Fm("",{pathname:c,search:h,hash:m},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(i,l){return typeof l=="string"?l:fc(l)}return TS(e,t,null,s)}function lt(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function os(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ES(){return Math.random().toString(36).substring(2,10)}function Kv(s,e){return{usr:s.state,key:s.key,idx:e}}function Fm(s,e,t=null,i){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?Ol(e):e,state:t,key:e&&e.key||i||ES()}}function fc({pathname:s="/",search:e="",hash:t=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(s+=t.charAt(0)==="#"?t:"#"+t),s}function Ol(s){let e={};if(s){let t=s.indexOf("#");t>=0&&(e.hash=s.substring(t),s=s.substring(0,t));let i=s.indexOf("?");i>=0&&(e.search=s.substring(i),s=s.substring(0,i)),s&&(e.pathname=s)}return e}function TS(s,e,t,i={}){let{window:l=document.defaultView,v5Compat:c=!1}=i,h=l.history,m="POP",p=null,y=v();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function v(){return(h.state||{idx:null}).idx}function w(){m="POP";let V=v(),z=V==null?null:V-y;y=V,p&&p({action:m,location:B.location,delta:z})}function N(V,z){m="PUSH";let H=Fm(B.location,V,z);y=v()+1;let F=Kv(H,y),Z=B.createHref(H);try{h.pushState(F,"",Z)}catch(oe){if(oe instanceof DOMException&&oe.name==="DataCloneError")throw oe;l.location.assign(Z)}c&&p&&p({action:m,location:B.location,delta:1})}function O(V,z){m="REPLACE";let H=Fm(B.location,V,z);y=v();let F=Kv(H,y),Z=B.createHref(H);h.replaceState(F,"",Z),c&&p&&p({action:m,location:B.location,delta:0})}function L(V){return bS(V)}let B={get action(){return m},get location(){return s(l,h)},listen(V){if(p)throw new Error("A history only accepts one active listener");return l.addEventListener(qv,w),p=V,()=>{l.removeEventListener(qv,w),p=null}},createHref(V){return e(l,V)},createURL:L,encodeLocation(V){let z=L(V);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:N,replace:O,go(V){return h.go(V)}};return B}function bS(s,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),lt(t,"No window.location.(origin|href) available to create URL");let i=typeof s=="string"?s:fc(s);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function IE(s,e,t="/"){return AS(s,e,t,!1)}function AS(s,e,t,i){let l=typeof e=="string"?Ol(e):e,c=ba(l.pathname||"/",t);if(c==null)return null;let h=jE(s);SS(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let y=LS(c);m=OS(h[p],y,i)}return m}function jE(s,e=[],t=[],i=""){let l=(c,h,m)=>{let p={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};p.relativePath.startsWith("/")&&(lt(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let y=xa([i,p.relativePath]),v=t.concat(p);c.children&&c.children.length>0&&(lt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),jE(c.children,e,v,y)),!(c.path==null&&!c.index)&&e.push({path:y,score:jS(y,c.index),routesMeta:v})};return s.forEach((c,h)=>{var m;if(c.path===""||!((m=c.path)!=null&&m.includes("?")))l(c,h);else for(let p of DE(c.path))l(c,h,p)}),e}function DE(s){let e=s.split("/");if(e.length===0)return[];let[t,...i]=e,l=t.endsWith("?"),c=t.replace(/\?$/,"");if(i.length===0)return l?[c,""]:[c];let h=DE(i.join("/")),m=[];return m.push(...h.map(p=>p===""?c:[c,p].join("/"))),l&&m.push(...h),m.map(p=>s.startsWith("/")&&p===""?"/":p)}function SS(s){s.sort((e,t)=>e.score!==t.score?t.score-e.score:DS(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var wS=/^:[\w-]+$/,NS=3,RS=2,kS=1,CS=10,IS=-2,Fv=s=>s==="*";function jS(s,e){let t=s.split("/"),i=t.length;return t.some(Fv)&&(i+=IS),e&&(i+=RS),t.filter(l=>!Fv(l)).reduce((l,c)=>l+(wS.test(c)?NS:c===""?kS:CS),i)}function DS(s,e){return s.length===e.length&&s.slice(0,-1).every((i,l)=>i===e[l])?s[s.length-1]-e[e.length-1]:0}function OS(s,e,t=!1){let{routesMeta:i}=s,l={},c="/",h=[];for(let m=0;m<i.length;++m){let p=i[m],y=m===i.length-1,v=c==="/"?e:e.slice(c.length)||"/",w=Id({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},v),N=p.route;if(!w&&y&&t&&!i[i.length-1].route.index&&(w=Id({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!w)return null;Object.assign(l,w.params),h.push({params:l,pathname:xa([c,w.pathname]),pathnameBase:BS(xa([c,w.pathnameBase])),route:N}),w.pathnameBase!=="/"&&(c=xa([c,w.pathnameBase]))}return h}function Id(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[t,i]=MS(s.path,s.caseSensitive,s.end),l=e.match(t);if(!l)return null;let c=l[0],h=c.replace(/(.)\/+$/,"$1"),m=l.slice(1);return{params:i.reduce((y,{paramName:v,isOptional:w},N)=>{if(v==="*"){let L=m[N]||"";h=c.slice(0,c.length-L.length).replace(/(.)\/+$/,"$1")}const O=m[N];return w&&!O?y[v]=void 0:y[v]=(O||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:h,pattern:s}}function MS(s,e=!1,t=!0){os(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let i=[],l="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(i.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(i.push({paramName:"*"}),l+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?l+="\\/*$":s!==""&&s!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),i]}function LS(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return os(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function ba(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=s.charAt(t);return i&&i!=="/"?null:s.slice(t)||"/"}function PS(s,e="/"){let{pathname:t,search:i="",hash:l=""}=typeof s=="string"?Ol(s):s;return{pathname:t?t.startsWith("/")?t:US(t,e):e,search:HS(i),hash:zS(l)}}function US(s,e){let t=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(l=>{l===".."?t.length>1&&t.pop():l!=="."&&t.push(l)}),t.length>1?t.join("/"):"/"}function Cm(s,e,t,i){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function VS(s){return s.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Tg(s){let e=VS(s);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function bg(s,e,t,i=!1){let l;typeof s=="string"?l=Ol(s):(l={...s},lt(!l.pathname||!l.pathname.includes("?"),Cm("?","pathname","search",l)),lt(!l.pathname||!l.pathname.includes("#"),Cm("#","pathname","hash",l)),lt(!l.search||!l.search.includes("#"),Cm("#","search","hash",l)));let c=s===""||l.pathname==="",h=c?"/":l.pathname,m;if(h==null)m=t;else{let w=e.length-1;if(!i&&h.startsWith("..")){let N=h.split("/");for(;N[0]==="..";)N.shift(),w-=1;l.pathname=N.join("/")}m=w>=0?e[w]:"/"}let p=PS(l,m),y=h&&h!=="/"&&h.endsWith("/"),v=(c||h===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(y||v)&&(p.pathname+="/"),p}var xa=s=>s.join("/").replace(/\/\/+/g,"/"),BS=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),HS=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,zS=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function qS(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var OE=["POST","PUT","PATCH","DELETE"];new Set(OE);var KS=["GET",...OE];new Set(KS);var Ml=k.createContext(null);Ml.displayName="DataRouter";var Zd=k.createContext(null);Zd.displayName="DataRouterState";var ME=k.createContext({isTransitioning:!1});ME.displayName="ViewTransition";var FS=k.createContext(new Map);FS.displayName="Fetchers";var GS=k.createContext(null);GS.displayName="Await";var gs=k.createContext(null);gs.displayName="Navigation";var bc=k.createContext(null);bc.displayName="Location";var ps=k.createContext({outlet:null,matches:[],isDataRoute:!1});ps.displayName="Route";var Ag=k.createContext(null);Ag.displayName="RouteError";function $S(s,{relative:e}={}){lt(Ll(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=k.useContext(gs),{hash:l,pathname:c,search:h}=Ac(s,{relative:e}),m=c;return t!=="/"&&(m=c==="/"?t:xa([t,c])),i.createHref({pathname:m,search:h,hash:l})}function Ll(){return k.useContext(bc)!=null}function An(){return lt(Ll(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(bc).location}var LE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function PE(s){k.useContext(gs).static||k.useLayoutEffect(s)}function Ar(){let{isDataRoute:s}=k.useContext(ps);return s?lw():QS()}function QS(){lt(Ll(),"useNavigate() may be used only in the context of a <Router> component.");let s=k.useContext(Ml),{basename:e,navigator:t}=k.useContext(gs),{matches:i}=k.useContext(ps),{pathname:l}=An(),c=JSON.stringify(Tg(i)),h=k.useRef(!1);return PE(()=>{h.current=!0}),k.useCallback((p,y={})=>{if(os(h.current,LE),!h.current)return;if(typeof p=="number"){t.go(p);return}let v=bg(p,JSON.parse(c),l,y.relative==="path");s==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:xa([e,v.pathname])),(y.replace?t.replace:t.push)(v,y.state,y)},[e,t,c,l,s])}k.createContext(null);function YS(){let{matches:s}=k.useContext(ps),e=s[s.length-1];return e?e.params:{}}function Ac(s,{relative:e}={}){let{matches:t}=k.useContext(ps),{pathname:i}=An(),l=JSON.stringify(Tg(t));return k.useMemo(()=>bg(s,JSON.parse(l),i,e==="path"),[s,l,i,e])}function WS(s,e){return UE(s,e)}function UE(s,e,t,i){var z;lt(Ll(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=k.useContext(gs),{matches:c}=k.useContext(ps),h=c[c.length-1],m=h?h.params:{},p=h?h.pathname:"/",y=h?h.pathnameBase:"/",v=h&&h.route;{let H=v&&v.path||"";VE(p,!v||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let w=An(),N;if(e){let H=typeof e=="string"?Ol(e):e;lt(y==="/"||((z=H.pathname)==null?void 0:z.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${H.pathname}" was given in the \`location\` prop.`),N=H}else N=w;let O=N.pathname||"/",L=O;if(y!=="/"){let H=y.replace(/^\//,"").split("/");L="/"+O.replace(/^\//,"").split("/").slice(H.length).join("/")}let B=IE(s,{pathname:L});os(v||B!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),os(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let V=tw(B&&B.map(H=>Object.assign({},H,{params:Object.assign({},m,H.params),pathname:xa([y,l.encodeLocation?l.encodeLocation(H.pathname).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?y:xa([y,l.encodeLocation?l.encodeLocation(H.pathnameBase).pathname:H.pathnameBase])})),c,t,i);return e&&V?k.createElement(bc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},V):V}function XS(){let s=rw(),e=qS(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),t=s instanceof Error?s.stack:null,i="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:i},c={padding:"2px 4px",backgroundColor:i},h=null;return console.error("Error handled by React Router default ErrorBoundary:",s),h=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:c},"ErrorBoundary")," or"," ",k.createElement("code",{style:c},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),t?k.createElement("pre",{style:l},t):null,h)}var ZS=k.createElement(XS,null),JS=class extends k.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){console.error("React Router caught the following error during render",s,e)}render(){return this.state.error!==void 0?k.createElement(ps.Provider,{value:this.props.routeContext},k.createElement(Ag.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ew({routeContext:s,match:e,children:t}){let i=k.useContext(Ml);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement(ps.Provider,{value:s},t)}function tw(s,e=[],t=null,i=null){if(s==null){if(!t)return null;if(t.errors)s=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)s=t.matches;else return null}let l=s,c=t==null?void 0:t.errors;if(c!=null){let p=l.findIndex(y=>y.route.id&&(c==null?void 0:c[y.route.id])!==void 0);lt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,p+1))}let h=!1,m=-1;if(t)for(let p=0;p<l.length;p++){let y=l[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=p),y.route.id){let{loaderData:v,errors:w}=t,N=y.route.loader&&!v.hasOwnProperty(y.route.id)&&(!w||w[y.route.id]===void 0);if(y.route.lazy||N){h=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}return l.reduceRight((p,y,v)=>{let w,N=!1,O=null,L=null;t&&(w=c&&y.route.id?c[y.route.id]:void 0,O=y.route.errorElement||ZS,h&&(m<0&&v===0?(VE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,L=null):m===v&&(N=!0,L=y.route.hydrateFallbackElement||null)));let B=e.concat(l.slice(0,v+1)),V=()=>{let z;return w?z=O:N?z=L:y.route.Component?z=k.createElement(y.route.Component,null):y.route.element?z=y.route.element:z=p,k.createElement(ew,{match:y,routeContext:{outlet:p,matches:B,isDataRoute:t!=null},children:z})};return t&&(y.route.ErrorBoundary||y.route.errorElement||v===0)?k.createElement(JS,{location:t.location,revalidation:t.revalidation,component:O,error:w,children:V(),routeContext:{outlet:null,matches:B,isDataRoute:!0}}):V()},null)}function Sg(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nw(s){let e=k.useContext(Ml);return lt(e,Sg(s)),e}function sw(s){let e=k.useContext(Zd);return lt(e,Sg(s)),e}function aw(s){let e=k.useContext(ps);return lt(e,Sg(s)),e}function wg(s){let e=aw(s),t=e.matches[e.matches.length-1];return lt(t.route.id,`${s} can only be used on routes that contain a unique "id"`),t.route.id}function iw(){return wg("useRouteId")}function rw(){var i;let s=k.useContext(Ag),e=sw("useRouteError"),t=wg("useRouteError");return s!==void 0?s:(i=e.errors)==null?void 0:i[t]}function lw(){let{router:s}=nw("useNavigate"),e=wg("useNavigate"),t=k.useRef(!1);return PE(()=>{t.current=!0}),k.useCallback(async(l,c={})=>{os(t.current,LE),t.current&&(typeof l=="number"?s.navigate(l):await s.navigate(l,{fromRouteId:e,...c}))},[s,e])}var Gv={};function VE(s,e,t){!e&&!Gv[s]&&(Gv[s]=!0,os(!1,t))}k.memo(ow);function ow({routes:s,future:e,state:t}){return UE(s,void 0,t,e)}function $v({to:s,replace:e,state:t,relative:i}){lt(Ll(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=k.useContext(gs);os(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=k.useContext(ps),{pathname:h}=An(),m=Ar(),p=bg(s,Tg(c),h,i==="path"),y=JSON.stringify(p);return k.useEffect(()=>{m(JSON.parse(y),{replace:e,state:t,relative:i})},[m,y,i,e,t]),null}function Pt(s){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function cw({basename:s="/",children:e=null,location:t,navigationType:i="POP",navigator:l,static:c=!1}){lt(!Ll(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=s.replace(/^\/*/,"/"),m=k.useMemo(()=>({basename:h,navigator:l,static:c,future:{}}),[h,l,c]);typeof t=="string"&&(t=Ol(t));let{pathname:p="/",search:y="",hash:v="",state:w=null,key:N="default"}=t,O=k.useMemo(()=>{let L=ba(p,h);return L==null?null:{location:{pathname:L,search:y,hash:v,state:w,key:N},navigationType:i}},[h,p,y,v,w,N,i]);return os(O!=null,`<Router basename="${h}"> is not able to match the URL "${p}${y}${v}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:k.createElement(gs.Provider,{value:m},k.createElement(bc.Provider,{children:e,value:O}))}function uw({children:s,location:e}){return WS(Gm(s),e)}function Gm(s,e=[]){let t=[];return k.Children.forEach(s,(i,l)=>{if(!k.isValidElement(i))return;let c=[...e,l];if(i.type===k.Fragment){t.push.apply(t,Gm(i.props.children,c));return}lt(i.type===Pt,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let h={id:i.props.id||c.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(h.children=Gm(i.props.children,c)),t.push(h)}),t}var _d="get",vd="application/x-www-form-urlencoded";function Jd(s){return s!=null&&typeof s.tagName=="string"}function dw(s){return Jd(s)&&s.tagName.toLowerCase()==="button"}function hw(s){return Jd(s)&&s.tagName.toLowerCase()==="form"}function fw(s){return Jd(s)&&s.tagName.toLowerCase()==="input"}function mw(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function gw(s,e){return s.button===0&&(!e||e==="_self")&&!mw(s)}var ld=null;function pw(){if(ld===null)try{new FormData(document.createElement("form"),0),ld=!1}catch{ld=!0}return ld}var yw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Im(s){return s!=null&&!yw.has(s)?(os(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${vd}"`),null):s}function _w(s,e){let t,i,l,c,h;if(hw(s)){let m=s.getAttribute("action");i=m?ba(m,e):null,t=s.getAttribute("method")||_d,l=Im(s.getAttribute("enctype"))||vd,c=new FormData(s)}else if(dw(s)||fw(s)&&(s.type==="submit"||s.type==="image")){let m=s.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=s.getAttribute("formaction")||m.getAttribute("action");if(i=p?ba(p,e):null,t=s.getAttribute("formmethod")||m.getAttribute("method")||_d,l=Im(s.getAttribute("formenctype"))||Im(m.getAttribute("enctype"))||vd,c=new FormData(m,s),!pw()){let{name:y,type:v,value:w}=s;if(v==="image"){let N=y?`${y}.`:"";c.append(`${N}x`,"0"),c.append(`${N}y`,"0")}else y&&c.append(y,w)}}else{if(Jd(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=_d,i=null,l=vd,h=s}return c&&l==="text/plain"&&(h=c,c=void 0),{action:i,method:t.toLowerCase(),encType:l,formData:c,body:h}}function Ng(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}async function vw(s,e){if(s.id in e)return e[s.id];try{let t=await import(s.module);return e[s.id]=t,t}catch(t){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function xw(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function Ew(s,e,t){let i=await Promise.all(s.map(async l=>{let c=e.routes[l.route.id];if(c){let h=await vw(c,t);return h.links?h.links():[]}return[]}));return Sw(i.flat(1).filter(xw).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function Qv(s,e,t,i,l,c){let h=(p,y)=>t[y]?p.route.id!==t[y].route.id:!0,m=(p,y)=>{var v;return t[y].pathname!==p.pathname||((v=t[y].route.path)==null?void 0:v.endsWith("*"))&&t[y].params["*"]!==p.params["*"]};return c==="assets"?e.filter((p,y)=>h(p,y)||m(p,y)):c==="data"?e.filter((p,y)=>{var w;let v=i.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(h(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let N=p.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((w=t[0])==null?void 0:w.params)||{},nextUrl:new URL(s,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof N=="boolean")return N}return!0}):[]}function Tw(s,e,{includeHydrateFallback:t}={}){return bw(s.map(i=>{let l=e.routes[i.route.id];if(!l)return[];let c=[l.module];return l.clientActionModule&&(c=c.concat(l.clientActionModule)),l.clientLoaderModule&&(c=c.concat(l.clientLoaderModule)),t&&l.hydrateFallbackModule&&(c=c.concat(l.hydrateFallbackModule)),l.imports&&(c=c.concat(l.imports)),c}).flat(1))}function bw(s){return[...new Set(s)]}function Aw(s){let e={},t=Object.keys(s).sort();for(let i of t)e[i]=s[i];return e}function Sw(s,e){let t=new Set;return new Set(e),s.reduce((i,l)=>{let c=JSON.stringify(Aw(l));return t.has(c)||(t.add(c),i.push({key:c,link:l})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var ww=new Set([100,101,204,205]);function Nw(s,e){let t=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return t.pathname==="/"?t.pathname="_root.data":e&&ba(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function BE(){let s=k.useContext(Ml);return Ng(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function Rw(){let s=k.useContext(Zd);return Ng(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var Rg=k.createContext(void 0);Rg.displayName="FrameworkContext";function HE(){let s=k.useContext(Rg);return Ng(s,"You must render this element inside a <HydratedRouter> element"),s}function kw(s,e){let t=k.useContext(Rg),[i,l]=k.useState(!1),[c,h]=k.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:v,onTouchStart:w}=e,N=k.useRef(null);k.useEffect(()=>{if(s==="render"&&h(!0),s==="viewport"){let B=z=>{z.forEach(H=>{h(H.isIntersecting)})},V=new IntersectionObserver(B,{threshold:.5});return N.current&&V.observe(N.current),()=>{V.disconnect()}}},[s]),k.useEffect(()=>{if(i){let B=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(B)}}},[i]);let O=()=>{l(!0)},L=()=>{l(!1),h(!1)};return t?s!=="intent"?[c,N,{}]:[c,N,{onFocus:Jo(m,O),onBlur:Jo(p,L),onMouseEnter:Jo(y,O),onMouseLeave:Jo(v,L),onTouchStart:Jo(w,O)}]:[!1,N,{}]}function Jo(s,e){return t=>{s&&s(t),t.defaultPrevented||e(t)}}function Cw({page:s,...e}){let{router:t}=BE(),i=k.useMemo(()=>IE(t.routes,s,t.basename),[t.routes,s,t.basename]);return i?k.createElement(jw,{page:s,matches:i,...e}):null}function Iw(s){let{manifest:e,routeModules:t}=HE(),[i,l]=k.useState([]);return k.useEffect(()=>{let c=!1;return Ew(s,e,t).then(h=>{c||l(h)}),()=>{c=!0}},[s,e,t]),i}function jw({page:s,matches:e,...t}){let i=An(),{manifest:l,routeModules:c}=HE(),{basename:h}=BE(),{loaderData:m,matches:p}=Rw(),y=k.useMemo(()=>Qv(s,e,p,l,i,"data"),[s,e,p,l,i]),v=k.useMemo(()=>Qv(s,e,p,l,i,"assets"),[s,e,p,l,i]),w=k.useMemo(()=>{if(s===i.pathname+i.search+i.hash)return[];let L=new Set,B=!1;if(e.forEach(z=>{var F;let H=l.routes[z.route.id];!H||!H.hasLoader||(!y.some(Z=>Z.route.id===z.route.id)&&z.route.id in m&&((F=c[z.route.id])!=null&&F.shouldRevalidate)||H.hasClientLoader?B=!0:L.add(z.route.id))}),L.size===0)return[];let V=Nw(s,h);return B&&L.size>0&&V.searchParams.set("_routes",e.filter(z=>L.has(z.route.id)).map(z=>z.route.id).join(",")),[V.pathname+V.search]},[h,m,i,l,y,e,s,c]),N=k.useMemo(()=>Tw(v,l),[v,l]),O=Iw(v);return k.createElement(k.Fragment,null,w.map(L=>k.createElement("link",{key:L,rel:"prefetch",as:"fetch",href:L,...t})),N.map(L=>k.createElement("link",{key:L,rel:"modulepreload",href:L,...t})),O.map(({key:L,link:B})=>k.createElement("link",{key:L,...B})))}function Dw(...s){return e=>{s.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var zE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{zE&&(window.__reactRouterVersion="7.6.2")}catch{}function Ow({basename:s,children:e,window:t}){let i=k.useRef();i.current==null&&(i.current=xS({window:t,v5Compat:!0}));let l=i.current,[c,h]=k.useState({action:l.action,location:l.location}),m=k.useCallback(p=>{k.startTransition(()=>h(p))},[h]);return k.useLayoutEffect(()=>l.listen(m),[l,m]),k.createElement(cw,{basename:s,children:e,location:c.location,navigationType:c.action,navigator:l})}var qE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ke=k.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:l,reloadDocument:c,replace:h,state:m,target:p,to:y,preventScrollReset:v,viewTransition:w,...N},O){let{basename:L}=k.useContext(gs),B=typeof y=="string"&&qE.test(y),V,z=!1;if(typeof y=="string"&&B&&(V=y,zE))try{let T=new URL(window.location.href),b=y.startsWith("//")?new URL(T.protocol+y):new URL(y),S=ba(b.pathname,L);b.origin===T.origin&&S!=null?y=S+b.search+b.hash:z=!0}catch{os(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let H=$S(y,{relative:l}),[F,Z,oe]=kw(i,N),de=Uw(y,{replace:h,state:m,target:p,preventScrollReset:v,relative:l,viewTransition:w});function D(T){e&&e(T),T.defaultPrevented||de(T)}let C=k.createElement("a",{...N,...oe,href:V||H,onClick:z||c?e:D,ref:Dw(O,Z),target:p,"data-discover":!B&&t==="render"?"true":void 0});return F&&!B?k.createElement(k.Fragment,null,C,k.createElement(Cw,{page:H})):C});ke.displayName="Link";var Mw=k.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:l=!1,style:c,to:h,viewTransition:m,children:p,...y},v){let w=Ac(h,{relative:y.relative}),N=An(),O=k.useContext(Zd),{navigator:L,basename:B}=k.useContext(gs),V=O!=null&&qw(w)&&m===!0,z=L.encodeLocation?L.encodeLocation(w).pathname:w.pathname,H=N.pathname,F=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;t||(H=H.toLowerCase(),F=F?F.toLowerCase():null,z=z.toLowerCase()),F&&B&&(F=ba(F,B)||F);const Z=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let oe=H===z||!l&&H.startsWith(z)&&H.charAt(Z)==="/",de=F!=null&&(F===z||!l&&F.startsWith(z)&&F.charAt(z.length)==="/"),D={isActive:oe,isPending:de,isTransitioning:V},C=oe?e:void 0,T;typeof i=="function"?T=i(D):T=[i,oe?"active":null,de?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let b=typeof c=="function"?c(D):c;return k.createElement(ke,{...y,"aria-current":C,className:T,ref:v,style:b,to:h,viewTransition:m},typeof p=="function"?p(D):p)});Mw.displayName="NavLink";var Lw=k.forwardRef(({discover:s="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:l,state:c,method:h=_d,action:m,onSubmit:p,relative:y,preventScrollReset:v,viewTransition:w,...N},O)=>{let L=Hw(),B=zw(m,{relative:y}),V=h.toLowerCase()==="get"?"get":"post",z=typeof m=="string"&&qE.test(m),H=F=>{if(p&&p(F),F.defaultPrevented)return;F.preventDefault();let Z=F.nativeEvent.submitter,oe=(Z==null?void 0:Z.getAttribute("formmethod"))||h;L(Z||F.currentTarget,{fetcherKey:e,method:oe,navigate:t,replace:l,state:c,relative:y,preventScrollReset:v,viewTransition:w})};return k.createElement("form",{ref:O,method:V,action:B,onSubmit:i?p:H,...N,"data-discover":!z&&s==="render"?"true":void 0})});Lw.displayName="Form";function Pw(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function KE(s){let e=k.useContext(Ml);return lt(e,Pw(s)),e}function Uw(s,{target:e,replace:t,state:i,preventScrollReset:l,relative:c,viewTransition:h}={}){let m=Ar(),p=An(),y=Ac(s,{relative:c});return k.useCallback(v=>{if(gw(v,e)){v.preventDefault();let w=t!==void 0?t:fc(p)===fc(y);m(s,{replace:w,state:i,preventScrollReset:l,relative:c,viewTransition:h})}},[p,m,y,t,i,e,s,l,c,h])}var Vw=0,Bw=()=>`__${String(++Vw)}__`;function Hw(){let{router:s}=KE("useSubmit"),{basename:e}=k.useContext(gs),t=iw();return k.useCallback(async(i,l={})=>{let{action:c,method:h,encType:m,formData:p,body:y}=_w(i,e);if(l.navigate===!1){let v=l.fetcherKey||Bw();await s.fetch(v,t,l.action||c,{preventScrollReset:l.preventScrollReset,formData:p,body:y,formMethod:l.method||h,formEncType:l.encType||m,flushSync:l.flushSync})}else await s.navigate(l.action||c,{preventScrollReset:l.preventScrollReset,formData:p,body:y,formMethod:l.method||h,formEncType:l.encType||m,replace:l.replace,state:l.state,fromRouteId:t,flushSync:l.flushSync,viewTransition:l.viewTransition})},[s,e,t])}function zw(s,{relative:e}={}){let{basename:t}=k.useContext(gs),i=k.useContext(ps);lt(i,"useFormAction must be used inside a RouteContext");let[l]=i.matches.slice(-1),c={...Ac(s||".",{relative:e})},h=An();if(s==null){c.search=h.search;let m=new URLSearchParams(c.search),p=m.getAll("index");if(p.some(v=>v==="")){m.delete("index"),p.filter(w=>w).forEach(w=>m.append("index",w));let v=m.toString();c.search=v?`?${v}`:""}}return(!s||s===".")&&l.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(c.pathname=c.pathname==="/"?t:xa([t,c.pathname])),fc(c)}function qw(s,e={}){let t=k.useContext(ME);lt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=KE("useViewTransitionState"),l=Ac(s,{relative:e.relative});if(!t.isTransitioning)return!1;let c=ba(t.currentLocation.pathname,i)||t.currentLocation.pathname,h=ba(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Id(l.pathname,h)!=null||Id(l.pathname,c)!=null}[...ww];var Kw=CE();const Fw=xg(Kw),Gw=()=>{};var Yv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE=function(s){const e=[];let t=0;for(let i=0;i<s.length;i++){let l=s.charCodeAt(i);l<128?e[t++]=l:l<2048?(e[t++]=l>>6|192,e[t++]=l&63|128):(l&64512)===55296&&i+1<s.length&&(s.charCodeAt(i+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++i)&1023),e[t++]=l>>18|240,e[t++]=l>>12&63|128,e[t++]=l>>6&63|128,e[t++]=l&63|128):(e[t++]=l>>12|224,e[t++]=l>>6&63|128,e[t++]=l&63|128)}return e},$w=function(s){const e=[];let t=0,i=0;for(;t<s.length;){const l=s[t++];if(l<128)e[i++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[t++];e[i++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[t++],h=s[t++],m=s[t++],p=((l&7)<<18|(c&63)<<12|(h&63)<<6|m&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const c=s[t++],h=s[t++];e[i++]=String.fromCharCode((l&15)<<12|(c&63)<<6|h&63)}}return e.join("")},GE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let l=0;l<s.length;l+=3){const c=s[l],h=l+1<s.length,m=h?s[l+1]:0,p=l+2<s.length,y=p?s[l+2]:0,v=c>>2,w=(c&3)<<4|m>>4;let N=(m&15)<<2|y>>6,O=y&63;p||(O=64,h||(N=64)),i.push(t[v],t[w],t[N],t[O])}return i.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(FE(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):$w(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let l=0;l<s.length;){const c=t[s.charAt(l++)],m=l<s.length?t[s.charAt(l)]:0;++l;const y=l<s.length?t[s.charAt(l)]:64;++l;const w=l<s.length?t[s.charAt(l)]:64;if(++l,c==null||m==null||y==null||w==null)throw new Qw;const N=c<<2|m>>4;if(i.push(N),y!==64){const O=m<<4&240|y>>2;if(i.push(O),w!==64){const L=y<<6&192|w;i.push(L)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class Qw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Yw=function(s){const e=FE(s);return GE.encodeByteArray(e,!0)},jd=function(s){return Yw(s).replace(/\./g,"")},$E=function(s){try{return GE.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ww(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw=()=>Ww().__FIREBASE_DEFAULTS__,Zw=()=>{if(typeof process>"u"||typeof Yv>"u")return;const s=Yv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},Jw=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&$E(s[1]);return e&&JSON.parse(e)},eh=()=>{try{return Gw()||Xw()||Zw()||Jw()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},QE=s=>{var e,t;return(t=(e=eh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[s]},YE=s=>{const e=QE(s);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},WE=()=>{var s;return(s=eh())===null||s===void 0?void 0:s.config},XE=s=>{var e;return(e=eh())===null||e===void 0?void 0:e[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZE(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},s);return[jd(JSON.stringify(t)),jd(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dn())}function nN(){var s;const e=(s=eh())===null||s===void 0?void 0:s.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function sN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function aN(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function iN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rN(){const s=dn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function lN(){return!nN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function oN(){try{return typeof indexedDB=="object"}catch{return!1}}function cN(){return new Promise((s,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(i);l.onsuccess=()=>{l.result.close(),t||self.indexedDB.deleteDatabase(i),s(!0)},l.onupgradeneeded=()=>{t=!1},l.onerror=()=>{var c;e(((c=l.error)===null||c===void 0?void 0:c.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN="FirebaseError";class qs extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=uN,Object.setPrototypeOf(this,qs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Sc.prototype.create)}}class Sc{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},l=`${this.service}/${e}`,c=this.errors[e],h=c?dN(c,i):"Error",m=`${this.serviceName}: ${h} (${l}).`;return new qs(l,m,i)}}function dN(s,e){return s.replace(hN,(t,i)=>{const l=e[i];return l!=null?String(l):`<${i}?>`})}const hN=/\{\$([^}]+)}/g;function fN(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function yr(s,e){if(s===e)return!0;const t=Object.keys(s),i=Object.keys(e);for(const l of t){if(!i.includes(l))return!1;const c=s[l],h=e[l];if(Wv(c)&&Wv(h)){if(!yr(c,h))return!1}else if(c!==h)return!1}for(const l of i)if(!t.includes(l))return!1;return!0}function Wv(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wc(s){const e=[];for(const[t,i]of Object.entries(s))Array.isArray(i)?i.forEach(l=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function tc(s){const e={};return s.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[l,c]=i.split("=");e[decodeURIComponent(l)]=decodeURIComponent(c)}}),e}function nc(s){const e=s.indexOf("?");if(!e)return"";const t=s.indexOf("#",e);return s.substring(e,t>0?t:void 0)}function mN(s,e){const t=new gN(s,e);return t.subscribe.bind(t)}class gN{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let l;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");pN(e,["next","error","complete"])?l=e:l={next:e,error:t,complete:i},l.next===void 0&&(l.next=jm),l.error===void 0&&(l.error=jm),l.complete===void 0&&(l.complete=jm);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pN(s,e){if(typeof s!="object"||s===null)return!1;for(const t of e)if(t in s&&typeof s[t]=="function")return!0;return!1}function jm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ct(s){return s&&s._delegate?s._delegate:s}class bi{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new eN;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:t});l&&i.resolve(l)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),l=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(c){if(l)return null;throw c}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(vN(e))try{this.getOrInitializeService({instanceIdentifier:fr})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(t);try{const c=this.getOrInitializeService({instanceIdentifier:l});i.resolve(c)}catch{}}}}clearInstance(e=fr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fr){return this.instances.has(e)}getOptions(e=fr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[c,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);i===m&&h.resolve(l)}return l}onInit(e,t){var i;const l=this.normalizeInstanceIdentifier(t),c=(i=this.onInitCallbacks.get(l))!==null&&i!==void 0?i:new Set;c.add(e),this.onInitCallbacks.set(l,c);const h=this.instances.get(l);return h&&e(h,l),()=>{c.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const l of i)try{l(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:_N(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=fr){return this.component?this.component.multipleInstances?e:fr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _N(s){return s===fr?void 0:s}function vN(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new yN(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Pe||(Pe={}));const EN={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},TN=Pe.INFO,bN={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},AN=(s,e,...t)=>{if(e<s.logLevel)return;const i=new Date().toISOString(),l=bN[e];if(l)console[l](`[${i}]  ${s.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class kg{constructor(e){this.name=e,this._logLevel=TN,this._logHandler=AN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?EN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const SN=(s,e)=>e.some(t=>s instanceof t);let Xv,Zv;function wN(){return Xv||(Xv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function NN(){return Zv||(Zv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const JE=new WeakMap,$m=new WeakMap,e0=new WeakMap,Dm=new WeakMap,Cg=new WeakMap;function RN(s){const e=new Promise((t,i)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",h)},c=()=>{t(vi(s.result)),l()},h=()=>{i(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&JE.set(t,s)}).catch(()=>{}),Cg.set(e,s),e}function kN(s){if($m.has(s))return;const e=new Promise((t,i)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",h),s.removeEventListener("abort",h)},c=()=>{t(),l()},h=()=>{i(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",h),s.addEventListener("abort",h)});$m.set(s,e)}let Qm={get(s,e,t){if(s instanceof IDBTransaction){if(e==="done")return $m.get(s);if(e==="objectStoreNames")return s.objectStoreNames||e0.get(s);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return vi(s[e])},set(s,e,t){return s[e]=t,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function CN(s){Qm=s(Qm)}function IN(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=s.call(Om(this),e,...t);return e0.set(i,e.sort?e.sort():[e]),vi(i)}:NN().includes(s)?function(...e){return s.apply(Om(this),e),vi(JE.get(this))}:function(...e){return vi(s.apply(Om(this),e))}}function jN(s){return typeof s=="function"?IN(s):(s instanceof IDBTransaction&&kN(s),SN(s,wN())?new Proxy(s,Qm):s)}function vi(s){if(s instanceof IDBRequest)return RN(s);if(Dm.has(s))return Dm.get(s);const e=jN(s);return e!==s&&(Dm.set(s,e),Cg.set(e,s)),e}const Om=s=>Cg.get(s);function DN(s,e,{blocked:t,upgrade:i,blocking:l,terminated:c}={}){const h=indexedDB.open(s,e),m=vi(h);return i&&h.addEventListener("upgradeneeded",p=>{i(vi(h.result),p.oldVersion,p.newVersion,vi(h.transaction),p)}),t&&h.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),m.then(p=>{c&&p.addEventListener("close",()=>c()),l&&p.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const ON=["get","getKey","getAll","getAllKeys","count"],MN=["put","add","delete","clear"],Mm=new Map;function Jv(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Mm.get(e))return Mm.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,l=MN.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(l||ON.includes(t)))return;const c=async function(h,...m){const p=this.transaction(h,l?"readwrite":"readonly");let y=p.store;return i&&(y=y.index(m.shift())),(await Promise.all([y[t](...m),l&&p.done]))[0]};return Mm.set(e,c),c}CN(s=>({...s,get:(e,t,i)=>Jv(e,t)||s.get(e,t,i),has:(e,t)=>!!Jv(e,t)||s.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(PN(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function PN(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ym="@firebase/app",ex="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa=new kg("@firebase/app"),UN="@firebase/app-compat",VN="@firebase/analytics-compat",BN="@firebase/analytics",HN="@firebase/app-check-compat",zN="@firebase/app-check",qN="@firebase/auth",KN="@firebase/auth-compat",FN="@firebase/database",GN="@firebase/data-connect",$N="@firebase/database-compat",QN="@firebase/functions",YN="@firebase/functions-compat",WN="@firebase/installations",XN="@firebase/installations-compat",ZN="@firebase/messaging",JN="@firebase/messaging-compat",eR="@firebase/performance",tR="@firebase/performance-compat",nR="@firebase/remote-config",sR="@firebase/remote-config-compat",aR="@firebase/storage",iR="@firebase/storage-compat",rR="@firebase/firestore",lR="@firebase/vertexai",oR="@firebase/firestore-compat",cR="firebase",uR="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wm="[DEFAULT]",dR={[Ym]:"fire-core",[UN]:"fire-core-compat",[BN]:"fire-analytics",[VN]:"fire-analytics-compat",[zN]:"fire-app-check",[HN]:"fire-app-check-compat",[qN]:"fire-auth",[KN]:"fire-auth-compat",[FN]:"fire-rtdb",[GN]:"fire-data-connect",[$N]:"fire-rtdb-compat",[QN]:"fire-fn",[YN]:"fire-fn-compat",[WN]:"fire-iid",[XN]:"fire-iid-compat",[ZN]:"fire-fcm",[JN]:"fire-fcm-compat",[eR]:"fire-perf",[tR]:"fire-perf-compat",[nR]:"fire-rc",[sR]:"fire-rc-compat",[aR]:"fire-gcs",[iR]:"fire-gcs-compat",[rR]:"fire-fst",[oR]:"fire-fst-compat",[lR]:"fire-vertex","fire-js":"fire-js",[cR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dd=new Map,hR=new Map,Xm=new Map;function tx(s,e){try{s.container.addComponent(e)}catch(t){Aa.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,t)}}function _r(s){const e=s.name;if(Xm.has(e))return Aa.debug(`There were multiple attempts to register component ${e}.`),!1;Xm.set(e,s);for(const t of Dd.values())tx(t,s);for(const t of hR.values())tx(t,s);return!0}function th(s,e){const t=s.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),s.container.getProvider(e)}function Dn(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xi=new Sc("app","Firebase",fR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new bi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr=uR;function t0(s,e={}){let t=s;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Wm,automaticDataCollectionEnabled:!1},e),l=i.name;if(typeof l!="string"||!l)throw xi.create("bad-app-name",{appName:String(l)});if(t||(t=WE()),!t)throw xi.create("no-options");const c=Dd.get(l);if(c){if(yr(t,c.options)&&yr(i,c.config))return c;throw xi.create("duplicate-app",{appName:l})}const h=new xN(l);for(const p of Xm.values())h.addComponent(p);const m=new mR(t,i,h);return Dd.set(l,m),m}function Ig(s=Wm){const e=Dd.get(s);if(!e&&s===Wm&&WE())return t0();if(!e)throw xi.create("no-app",{appName:s});return e}function Ps(s,e,t){var i;let l=(i=dR[s])!==null&&i!==void 0?i:s;t&&(l+=`-${t}`);const c=l.match(/\s|\//),h=e.match(/\s|\//);if(c||h){const m=[`Unable to register library "${l}" with version "${e}":`];c&&m.push(`library name "${l}" contains illegal characters (whitespace or "/")`),c&&h&&m.push("and"),h&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Aa.warn(m.join(" "));return}_r(new bi(`${l}-version`,()=>({library:l,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR="firebase-heartbeat-database",pR=1,mc="firebase-heartbeat-store";let Lm=null;function n0(){return Lm||(Lm=DN(gR,pR,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(mc)}catch(t){console.warn(t)}}}}).catch(s=>{throw xi.create("idb-open",{originalErrorMessage:s.message})})),Lm}async function yR(s){try{const t=(await n0()).transaction(mc),i=await t.objectStore(mc).get(s0(s));return await t.done,i}catch(e){if(e instanceof qs)Aa.warn(e.message);else{const t=xi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Aa.warn(t.message)}}}async function nx(s,e){try{const i=(await n0()).transaction(mc,"readwrite");await i.objectStore(mc).put(e,s0(s)),await i.done}catch(t){if(t instanceof qs)Aa.warn(t.message);else{const i=xi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Aa.warn(i.message)}}}function s0(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R=1024,vR=30;class xR{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new TR(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=sx();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(h=>h.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats.length>vR){const h=bR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Aa.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=sx(),{heartbeatsToSend:i,unsentEntries:l}=ER(this._heartbeatsCache.heartbeats),c=jd(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(t){return Aa.warn(t),""}}}function sx(){return new Date().toISOString().substring(0,10)}function ER(s,e=_R){const t=[];let i=s.slice();for(const l of s){const c=t.find(h=>h.agent===l.agent);if(c){if(c.dates.push(l.date),ax(t)>e){c.dates.pop();break}}else if(t.push({agent:l.agent,dates:[l.date]}),ax(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class TR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return oN()?cN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await yR(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const l=await this.read();return nx(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:l.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const l=await this.read();return nx(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...e.heartbeats]})}else return}}function ax(s){return jd(JSON.stringify({version:2,heartbeats:s})).length}function bR(s){if(s.length===0)return-1;let e=0,t=s[0].date;for(let i=1;i<s.length;i++)s[i].date<t&&(t=s[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AR(s){_r(new bi("platform-logger",e=>new LN(e),"PRIVATE")),_r(new bi("heartbeat",e=>new xR(e),"PRIVATE")),Ps(Ym,ex,s),Ps(Ym,ex,"esm2017"),Ps("fire-js","")}AR("");var SR="firebase",wR="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ps(SR,wR,"app");var ix=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ei,a0;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,C){function T(){}T.prototype=C.prototype,D.D=C.prototype,D.prototype=new T,D.prototype.constructor=D,D.C=function(b,S,j){for(var A=Array(arguments.length-2),Y=2;Y<arguments.length;Y++)A[Y-2]=arguments[Y];return C.prototype[S].apply(b,A)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(D,C,T){T||(T=0);var b=Array(16);if(typeof C=="string")for(var S=0;16>S;++S)b[S]=C.charCodeAt(T++)|C.charCodeAt(T++)<<8|C.charCodeAt(T++)<<16|C.charCodeAt(T++)<<24;else for(S=0;16>S;++S)b[S]=C[T++]|C[T++]<<8|C[T++]<<16|C[T++]<<24;C=D.g[0],T=D.g[1],S=D.g[2];var j=D.g[3],A=C+(j^T&(S^j))+b[0]+3614090360&4294967295;C=T+(A<<7&4294967295|A>>>25),A=j+(S^C&(T^S))+b[1]+3905402710&4294967295,j=C+(A<<12&4294967295|A>>>20),A=S+(T^j&(C^T))+b[2]+606105819&4294967295,S=j+(A<<17&4294967295|A>>>15),A=T+(C^S&(j^C))+b[3]+3250441966&4294967295,T=S+(A<<22&4294967295|A>>>10),A=C+(j^T&(S^j))+b[4]+4118548399&4294967295,C=T+(A<<7&4294967295|A>>>25),A=j+(S^C&(T^S))+b[5]+1200080426&4294967295,j=C+(A<<12&4294967295|A>>>20),A=S+(T^j&(C^T))+b[6]+2821735955&4294967295,S=j+(A<<17&4294967295|A>>>15),A=T+(C^S&(j^C))+b[7]+4249261313&4294967295,T=S+(A<<22&4294967295|A>>>10),A=C+(j^T&(S^j))+b[8]+1770035416&4294967295,C=T+(A<<7&4294967295|A>>>25),A=j+(S^C&(T^S))+b[9]+2336552879&4294967295,j=C+(A<<12&4294967295|A>>>20),A=S+(T^j&(C^T))+b[10]+4294925233&4294967295,S=j+(A<<17&4294967295|A>>>15),A=T+(C^S&(j^C))+b[11]+2304563134&4294967295,T=S+(A<<22&4294967295|A>>>10),A=C+(j^T&(S^j))+b[12]+1804603682&4294967295,C=T+(A<<7&4294967295|A>>>25),A=j+(S^C&(T^S))+b[13]+4254626195&4294967295,j=C+(A<<12&4294967295|A>>>20),A=S+(T^j&(C^T))+b[14]+2792965006&4294967295,S=j+(A<<17&4294967295|A>>>15),A=T+(C^S&(j^C))+b[15]+1236535329&4294967295,T=S+(A<<22&4294967295|A>>>10),A=C+(S^j&(T^S))+b[1]+4129170786&4294967295,C=T+(A<<5&4294967295|A>>>27),A=j+(T^S&(C^T))+b[6]+3225465664&4294967295,j=C+(A<<9&4294967295|A>>>23),A=S+(C^T&(j^C))+b[11]+643717713&4294967295,S=j+(A<<14&4294967295|A>>>18),A=T+(j^C&(S^j))+b[0]+3921069994&4294967295,T=S+(A<<20&4294967295|A>>>12),A=C+(S^j&(T^S))+b[5]+3593408605&4294967295,C=T+(A<<5&4294967295|A>>>27),A=j+(T^S&(C^T))+b[10]+38016083&4294967295,j=C+(A<<9&4294967295|A>>>23),A=S+(C^T&(j^C))+b[15]+3634488961&4294967295,S=j+(A<<14&4294967295|A>>>18),A=T+(j^C&(S^j))+b[4]+3889429448&4294967295,T=S+(A<<20&4294967295|A>>>12),A=C+(S^j&(T^S))+b[9]+568446438&4294967295,C=T+(A<<5&4294967295|A>>>27),A=j+(T^S&(C^T))+b[14]+3275163606&4294967295,j=C+(A<<9&4294967295|A>>>23),A=S+(C^T&(j^C))+b[3]+4107603335&4294967295,S=j+(A<<14&4294967295|A>>>18),A=T+(j^C&(S^j))+b[8]+1163531501&4294967295,T=S+(A<<20&4294967295|A>>>12),A=C+(S^j&(T^S))+b[13]+2850285829&4294967295,C=T+(A<<5&4294967295|A>>>27),A=j+(T^S&(C^T))+b[2]+4243563512&4294967295,j=C+(A<<9&4294967295|A>>>23),A=S+(C^T&(j^C))+b[7]+1735328473&4294967295,S=j+(A<<14&4294967295|A>>>18),A=T+(j^C&(S^j))+b[12]+2368359562&4294967295,T=S+(A<<20&4294967295|A>>>12),A=C+(T^S^j)+b[5]+4294588738&4294967295,C=T+(A<<4&4294967295|A>>>28),A=j+(C^T^S)+b[8]+2272392833&4294967295,j=C+(A<<11&4294967295|A>>>21),A=S+(j^C^T)+b[11]+1839030562&4294967295,S=j+(A<<16&4294967295|A>>>16),A=T+(S^j^C)+b[14]+4259657740&4294967295,T=S+(A<<23&4294967295|A>>>9),A=C+(T^S^j)+b[1]+2763975236&4294967295,C=T+(A<<4&4294967295|A>>>28),A=j+(C^T^S)+b[4]+1272893353&4294967295,j=C+(A<<11&4294967295|A>>>21),A=S+(j^C^T)+b[7]+4139469664&4294967295,S=j+(A<<16&4294967295|A>>>16),A=T+(S^j^C)+b[10]+3200236656&4294967295,T=S+(A<<23&4294967295|A>>>9),A=C+(T^S^j)+b[13]+681279174&4294967295,C=T+(A<<4&4294967295|A>>>28),A=j+(C^T^S)+b[0]+3936430074&4294967295,j=C+(A<<11&4294967295|A>>>21),A=S+(j^C^T)+b[3]+3572445317&4294967295,S=j+(A<<16&4294967295|A>>>16),A=T+(S^j^C)+b[6]+76029189&4294967295,T=S+(A<<23&4294967295|A>>>9),A=C+(T^S^j)+b[9]+3654602809&4294967295,C=T+(A<<4&4294967295|A>>>28),A=j+(C^T^S)+b[12]+3873151461&4294967295,j=C+(A<<11&4294967295|A>>>21),A=S+(j^C^T)+b[15]+530742520&4294967295,S=j+(A<<16&4294967295|A>>>16),A=T+(S^j^C)+b[2]+3299628645&4294967295,T=S+(A<<23&4294967295|A>>>9),A=C+(S^(T|~j))+b[0]+4096336452&4294967295,C=T+(A<<6&4294967295|A>>>26),A=j+(T^(C|~S))+b[7]+1126891415&4294967295,j=C+(A<<10&4294967295|A>>>22),A=S+(C^(j|~T))+b[14]+2878612391&4294967295,S=j+(A<<15&4294967295|A>>>17),A=T+(j^(S|~C))+b[5]+4237533241&4294967295,T=S+(A<<21&4294967295|A>>>11),A=C+(S^(T|~j))+b[12]+1700485571&4294967295,C=T+(A<<6&4294967295|A>>>26),A=j+(T^(C|~S))+b[3]+2399980690&4294967295,j=C+(A<<10&4294967295|A>>>22),A=S+(C^(j|~T))+b[10]+4293915773&4294967295,S=j+(A<<15&4294967295|A>>>17),A=T+(j^(S|~C))+b[1]+2240044497&4294967295,T=S+(A<<21&4294967295|A>>>11),A=C+(S^(T|~j))+b[8]+1873313359&4294967295,C=T+(A<<6&4294967295|A>>>26),A=j+(T^(C|~S))+b[15]+4264355552&4294967295,j=C+(A<<10&4294967295|A>>>22),A=S+(C^(j|~T))+b[6]+2734768916&4294967295,S=j+(A<<15&4294967295|A>>>17),A=T+(j^(S|~C))+b[13]+1309151649&4294967295,T=S+(A<<21&4294967295|A>>>11),A=C+(S^(T|~j))+b[4]+4149444226&4294967295,C=T+(A<<6&4294967295|A>>>26),A=j+(T^(C|~S))+b[11]+3174756917&4294967295,j=C+(A<<10&4294967295|A>>>22),A=S+(C^(j|~T))+b[2]+718787259&4294967295,S=j+(A<<15&4294967295|A>>>17),A=T+(j^(S|~C))+b[9]+3951481745&4294967295,D.g[0]=D.g[0]+C&4294967295,D.g[1]=D.g[1]+(S+(A<<21&4294967295|A>>>11))&4294967295,D.g[2]=D.g[2]+S&4294967295,D.g[3]=D.g[3]+j&4294967295}i.prototype.u=function(D,C){C===void 0&&(C=D.length);for(var T=C-this.blockSize,b=this.B,S=this.h,j=0;j<C;){if(S==0)for(;j<=T;)l(this,D,j),j+=this.blockSize;if(typeof D=="string"){for(;j<C;)if(b[S++]=D.charCodeAt(j++),S==this.blockSize){l(this,b),S=0;break}}else for(;j<C;)if(b[S++]=D[j++],S==this.blockSize){l(this,b),S=0;break}}this.h=S,this.o+=C},i.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var C=1;C<D.length-8;++C)D[C]=0;var T=8*this.o;for(C=D.length-8;C<D.length;++C)D[C]=T&255,T/=256;for(this.u(D),D=Array(16),C=T=0;4>C;++C)for(var b=0;32>b;b+=8)D[T++]=this.g[C]>>>b&255;return D};function c(D,C){var T=m;return Object.prototype.hasOwnProperty.call(T,D)?T[D]:T[D]=C(D)}function h(D,C){this.h=C;for(var T=[],b=!0,S=D.length-1;0<=S;S--){var j=D[S]|0;b&&j==C||(T[S]=j,b=!1)}this.g=T}var m={};function p(D){return-128<=D&&128>D?c(D,function(C){return new h([C|0],0>C?-1:0)}):new h([D|0],0>D?-1:0)}function y(D){if(isNaN(D)||!isFinite(D))return w;if(0>D)return V(y(-D));for(var C=[],T=1,b=0;D>=T;b++)C[b]=D/T|0,T*=4294967296;return new h(C,0)}function v(D,C){if(D.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(D.charAt(0)=="-")return V(v(D.substring(1),C));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=y(Math.pow(C,8)),b=w,S=0;S<D.length;S+=8){var j=Math.min(8,D.length-S),A=parseInt(D.substring(S,S+j),C);8>j?(j=y(Math.pow(C,j)),b=b.j(j).add(y(A))):(b=b.j(T),b=b.add(y(A)))}return b}var w=p(0),N=p(1),O=p(16777216);s=h.prototype,s.m=function(){if(B(this))return-V(this).m();for(var D=0,C=1,T=0;T<this.g.length;T++){var b=this.i(T);D+=(0<=b?b:4294967296+b)*C,C*=4294967296}return D},s.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(L(this))return"0";if(B(this))return"-"+V(this).toString(D);for(var C=y(Math.pow(D,6)),T=this,b="";;){var S=Z(T,C).g;T=z(T,S.j(C));var j=((0<T.g.length?T.g[0]:T.h)>>>0).toString(D);if(T=S,L(T))return j+b;for(;6>j.length;)j="0"+j;b=j+b}},s.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function L(D){if(D.h!=0)return!1;for(var C=0;C<D.g.length;C++)if(D.g[C]!=0)return!1;return!0}function B(D){return D.h==-1}s.l=function(D){return D=z(this,D),B(D)?-1:L(D)?0:1};function V(D){for(var C=D.g.length,T=[],b=0;b<C;b++)T[b]=~D.g[b];return new h(T,~D.h).add(N)}s.abs=function(){return B(this)?V(this):this},s.add=function(D){for(var C=Math.max(this.g.length,D.g.length),T=[],b=0,S=0;S<=C;S++){var j=b+(this.i(S)&65535)+(D.i(S)&65535),A=(j>>>16)+(this.i(S)>>>16)+(D.i(S)>>>16);b=A>>>16,j&=65535,A&=65535,T[S]=A<<16|j}return new h(T,T[T.length-1]&-2147483648?-1:0)};function z(D,C){return D.add(V(C))}s.j=function(D){if(L(this)||L(D))return w;if(B(this))return B(D)?V(this).j(V(D)):V(V(this).j(D));if(B(D))return V(this.j(V(D)));if(0>this.l(O)&&0>D.l(O))return y(this.m()*D.m());for(var C=this.g.length+D.g.length,T=[],b=0;b<2*C;b++)T[b]=0;for(b=0;b<this.g.length;b++)for(var S=0;S<D.g.length;S++){var j=this.i(b)>>>16,A=this.i(b)&65535,Y=D.i(S)>>>16,ne=D.i(S)&65535;T[2*b+2*S]+=A*ne,H(T,2*b+2*S),T[2*b+2*S+1]+=j*ne,H(T,2*b+2*S+1),T[2*b+2*S+1]+=A*Y,H(T,2*b+2*S+1),T[2*b+2*S+2]+=j*Y,H(T,2*b+2*S+2)}for(b=0;b<C;b++)T[b]=T[2*b+1]<<16|T[2*b];for(b=C;b<2*C;b++)T[b]=0;return new h(T,0)};function H(D,C){for(;(D[C]&65535)!=D[C];)D[C+1]+=D[C]>>>16,D[C]&=65535,C++}function F(D,C){this.g=D,this.h=C}function Z(D,C){if(L(C))throw Error("division by zero");if(L(D))return new F(w,w);if(B(D))return C=Z(V(D),C),new F(V(C.g),V(C.h));if(B(C))return C=Z(D,V(C)),new F(V(C.g),C.h);if(30<D.g.length){if(B(D)||B(C))throw Error("slowDivide_ only works with positive integers.");for(var T=N,b=C;0>=b.l(D);)T=oe(T),b=oe(b);var S=de(T,1),j=de(b,1);for(b=de(b,2),T=de(T,2);!L(b);){var A=j.add(b);0>=A.l(D)&&(S=S.add(T),j=A),b=de(b,1),T=de(T,1)}return C=z(D,S.j(C)),new F(S,C)}for(S=w;0<=D.l(C);){for(T=Math.max(1,Math.floor(D.m()/C.m())),b=Math.ceil(Math.log(T)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),j=y(T),A=j.j(C);B(A)||0<A.l(D);)T-=b,j=y(T),A=j.j(C);L(j)&&(j=N),S=S.add(j),D=z(D,A)}return new F(S,D)}s.A=function(D){return Z(this,D).h},s.and=function(D){for(var C=Math.max(this.g.length,D.g.length),T=[],b=0;b<C;b++)T[b]=this.i(b)&D.i(b);return new h(T,this.h&D.h)},s.or=function(D){for(var C=Math.max(this.g.length,D.g.length),T=[],b=0;b<C;b++)T[b]=this.i(b)|D.i(b);return new h(T,this.h|D.h)},s.xor=function(D){for(var C=Math.max(this.g.length,D.g.length),T=[],b=0;b<C;b++)T[b]=this.i(b)^D.i(b);return new h(T,this.h^D.h)};function oe(D){for(var C=D.g.length+1,T=[],b=0;b<C;b++)T[b]=D.i(b)<<1|D.i(b-1)>>>31;return new h(T,D.h)}function de(D,C){var T=C>>5;C%=32;for(var b=D.g.length-T,S=[],j=0;j<b;j++)S[j]=0<C?D.i(j+T)>>>C|D.i(j+T+1)<<32-C:D.i(j+T);return new h(S,D.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,a0=i,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=v,Ei=h}).apply(typeof ix<"u"?ix:typeof self<"u"?self:typeof window<"u"?window:{});var od=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var i0,sc,r0,xd,Zm,l0,o0,c0;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,_,x){return d==Array.prototype||d==Object.prototype||(d[_]=x.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof od=="object"&&od];for(var _=0;_<d.length;++_){var x=d[_];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var i=t(this);function l(d,_){if(_)e:{var x=i;d=d.split(".");for(var I=0;I<d.length-1;I++){var $=d[I];if(!($ in x))break e;x=x[$]}d=d[d.length-1],I=x[d],_=_(I),_!=I&&_!=null&&e(x,d,{configurable:!0,writable:!0,value:_})}}function c(d,_){d instanceof String&&(d+="");var x=0,I=!1,$={next:function(){if(!I&&x<d.length){var ee=x++;return{value:_(ee,d[ee]),done:!1}}return I=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}l("Array.prototype.values",function(d){return d||function(){return c(this,function(_,x){return x})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function p(d){var _=typeof d;return _=_!="object"?_:d?Array.isArray(d)?"array":_:"null",_=="array"||_=="object"&&typeof d.length=="number"}function y(d){var _=typeof d;return _=="object"&&d!=null||_=="function"}function v(d,_,x){return d.call.apply(d.bind,arguments)}function w(d,_,x){if(!d)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,I),d.apply(_,$)}}return function(){return d.apply(_,arguments)}}function N(d,_,x){return N=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:w,N.apply(null,arguments)}function O(d,_){var x=Array.prototype.slice.call(arguments,1);return function(){var I=x.slice();return I.push.apply(I,arguments),d.apply(this,I)}}function L(d,_){function x(){}x.prototype=_.prototype,d.aa=_.prototype,d.prototype=new x,d.prototype.constructor=d,d.Qb=function(I,$,ee){for(var he=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)he[ze-2]=arguments[ze];return _.prototype[$].apply(I,he)}}function B(d){const _=d.length;if(0<_){const x=Array(_);for(let I=0;I<_;I++)x[I]=d[I];return x}return[]}function V(d,_){for(let x=1;x<arguments.length;x++){const I=arguments[x];if(p(I)){const $=d.length||0,ee=I.length||0;d.length=$+ee;for(let he=0;he<ee;he++)d[$+he]=I[he]}else d.push(I)}}class z{constructor(_,x){this.i=_,this.j=x,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function H(d){return/^[\s\xa0]*$/.test(d)}function F(){var d=m.navigator;return d&&(d=d.userAgent)?d:""}function Z(d){return Z[" "](d),d}Z[" "]=function(){};var oe=F().indexOf("Gecko")!=-1&&!(F().toLowerCase().indexOf("webkit")!=-1&&F().indexOf("Edge")==-1)&&!(F().indexOf("Trident")!=-1||F().indexOf("MSIE")!=-1)&&F().indexOf("Edge")==-1;function de(d,_,x){for(const I in d)_.call(x,d[I],I,d)}function D(d,_){for(const x in d)_.call(void 0,d[x],x,d)}function C(d){const _={};for(const x in d)_[x]=d[x];return _}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(d,_){let x,I;for(let $=1;$<arguments.length;$++){I=arguments[$];for(x in I)d[x]=I[x];for(let ee=0;ee<T.length;ee++)x=T[ee],Object.prototype.hasOwnProperty.call(I,x)&&(d[x]=I[x])}}function S(d){var _=1;d=d.split(":");const x=[];for(;0<_&&d.length;)x.push(d.shift()),_--;return d.length&&x.push(d.join(":")),x}function j(d){m.setTimeout(()=>{throw d},0)}function A(){var d=ve;let _=null;return d.g&&(_=d.g,d.g=d.g.next,d.g||(d.h=null),_.next=null),_}class Y{constructor(){this.h=this.g=null}add(_,x){const I=ne.get();I.set(_,x),this.h?this.h.next=I:this.g=I,this.h=I}}var ne=new z(()=>new X,d=>d.reset());class X{constructor(){this.next=this.g=this.h=null}set(_,x){this.h=_,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let Q,ue=!1,ve=new Y,M=()=>{const d=m.Promise.resolve(void 0);Q=()=>{d.then(ae)}};var ae=()=>{for(var d;d=A();){try{d.h.call(d.g)}catch(x){j(x)}var _=ne;_.j(d),100>_.h&&(_.h++,d.next=_.g,_.g=d)}ue=!1};function me(){this.s=this.s,this.C=this.C}me.prototype.s=!1,me.prototype.ma=function(){this.s||(this.s=!0,this.N())},me.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(d,_){this.type=d,this.g=this.target=_,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var ge=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var d=!1,_=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const x=()=>{};m.addEventListener("test",x,_),m.removeEventListener("test",x,_)}catch{}return d}();function Ae(d,_){if(fe.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var x=this.type=d.type,I=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=_,_=d.relatedTarget){if(oe){e:{try{Z(_.nodeName);var $=!0;break e}catch{}$=!1}$||(_=null)}}else x=="mouseover"?_=d.fromElement:x=="mouseout"&&(_=d.toElement);this.relatedTarget=_,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Re[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Ae.aa.h.call(this)}}L(Ae,fe);var Re={2:"touch",3:"pen",4:"mouse"};Ae.prototype.h=function(){Ae.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var gt="closure_listenable_"+(1e6*Math.random()|0),He=0;function it(d,_,x,I,$){this.listener=d,this.proxy=null,this.src=_,this.type=x,this.capture=!!I,this.ha=$,this.key=++He,this.da=this.fa=!1}function Xe(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Qt(d){this.src=d,this.g={},this.h=0}Qt.prototype.add=function(d,_,x,I,$){var ee=d.toString();d=this.g[ee],d||(d=this.g[ee]=[],this.h++);var he=vn(d,_,I,$);return-1<he?(_=d[he],x||(_.fa=!1)):(_=new it(_,this.src,ee,!!I,$),_.fa=x,d.push(_)),_};function ts(d,_){var x=_.type;if(x in d.g){var I=d.g[x],$=Array.prototype.indexOf.call(I,_,void 0),ee;(ee=0<=$)&&Array.prototype.splice.call(I,$,1),ee&&(Xe(_),d.g[x].length==0&&(delete d.g[x],d.h--))}}function vn(d,_,x,I){for(var $=0;$<d.length;++$){var ee=d[$];if(!ee.da&&ee.listener==_&&ee.capture==!!x&&ee.ha==I)return $}return-1}var pe="closure_lm_"+(1e6*Math.random()|0),Ge={};function Ct(d,_,x,I,$){if(Array.isArray(_)){for(var ee=0;ee<_.length;ee++)Ct(d,_[ee],x,I,$);return null}return x=Bc(x),d&&d[gt]?d.K(_,x,y(I)?!!I.capture:!1,$):Pn(d,_,x,!1,I,$)}function Pn(d,_,x,I,$,ee){if(!_)throw Error("Invalid event type");var he=y($)?!!$.capture:!!$,ze=Mi(d);if(ze||(d[pe]=ze=new Qt(d)),x=ze.add(_,x,I,he,ee),x.proxy)return x;if(I=Sn(),x.proxy=I,I.src=d,I.listener=x,d.addEventListener)ge||($=he),$===void 0&&($=!1),d.addEventListener(_.toString(),I,$);else if(d.attachEvent)d.attachEvent(ka(_.toString()),I);else if(d.addListener&&d.removeListener)d.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return x}function Sn(){function d(x){return _.call(d.src,d.listener,x)}const _=Fl;return d}function Fs(d,_,x,I,$){if(Array.isArray(_))for(var ee=0;ee<_.length;ee++)Fs(d,_[ee],x,I,$);else I=y(I)?!!I.capture:!!I,x=Bc(x),d&&d[gt]?(d=d.i,_=String(_).toString(),_ in d.g&&(ee=d.g[_],x=vn(ee,x,I,$),-1<x&&(Xe(ee[x]),Array.prototype.splice.call(ee,x,1),ee.length==0&&(delete d.g[_],d.h--)))):d&&(d=Mi(d))&&(_=d.g[_.toString()],d=-1,_&&(d=vn(_,x,I,$)),(x=-1<d?_[d]:null)&&_s(x))}function _s(d){if(typeof d!="number"&&d&&!d.da){var _=d.src;if(_&&_[gt])ts(_.i,d);else{var x=d.type,I=d.proxy;_.removeEventListener?_.removeEventListener(x,I,d.capture):_.detachEvent?_.detachEvent(ka(x),I):_.addListener&&_.removeListener&&_.removeListener(I),(x=Mi(_))?(ts(x,d),x.h==0&&(x.src=null,_[pe]=null)):Xe(d)}}}function ka(d){return d in Ge?Ge[d]:Ge[d]="on"+d}function Fl(d,_){if(d.da)d=!0;else{_=new Ae(_,this);var x=d.listener,I=d.ha||d.src;d.fa&&_s(d),d=x.call(I,_)}return d}function Mi(d){return d=d[pe],d instanceof Qt?d:null}var Yt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bc(d){return typeof d=="function"?d:(d[Yt]||(d[Yt]=function(_){return d.handleEvent(_)}),d[Yt])}function It(){me.call(this),this.i=new Qt(this),this.M=this,this.F=null}L(It,me),It.prototype[gt]=!0,It.prototype.removeEventListener=function(d,_,x,I){Fs(this,d,_,x,I)};function Bt(d,_){var x,I=d.F;if(I)for(x=[];I;I=I.F)x.push(I);if(d=d.M,I=_.type||_,typeof _=="string")_=new fe(_,d);else if(_ instanceof fe)_.target=_.target||d;else{var $=_;_=new fe(I,d),b(_,$)}if($=!0,x)for(var ee=x.length-1;0<=ee;ee--){var he=_.g=x[ee];$=Gs(he,I,!0,_)&&$}if(he=_.g=d,$=Gs(he,I,!0,_)&&$,$=Gs(he,I,!1,_)&&$,x)for(ee=0;ee<x.length;ee++)he=_.g=x[ee],$=Gs(he,I,!1,_)&&$}It.prototype.N=function(){if(It.aa.N.call(this),this.i){var d=this.i,_;for(_ in d.g){for(var x=d.g[_],I=0;I<x.length;I++)Xe(x[I]);delete d.g[_],d.h--}}this.F=null},It.prototype.K=function(d,_,x,I){return this.i.add(String(d),_,!1,x,I)},It.prototype.L=function(d,_,x,I){return this.i.add(String(d),_,!0,x,I)};function Gs(d,_,x,I){if(_=d.i.g[String(_)],!_)return!0;_=_.concat();for(var $=!0,ee=0;ee<_.length;++ee){var he=_[ee];if(he&&!he.da&&he.capture==x){var ze=he.listener,Dt=he.ha||he.src;he.fa&&ts(d.i,he),$=ze.call(Dt,I)!==!1&&$}}return $&&!I.defaultPrevented}function Hc(d,_,x){if(typeof d=="function")x&&(d=N(d,x));else if(d&&typeof d.handleEvent=="function")d=N(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:m.setTimeout(d,_||0)}function Gl(d){d.g=Hc(()=>{d.g=null,d.i&&(d.i=!1,Gl(d))},d.l);const _=d.h;d.h=null,d.m.apply(null,_)}class wh extends me{constructor(_,x){super(),this.m=_,this.l=x,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Gl(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Li(d){me.call(this),this.h=d,this.g={}}L(Li,me);var Ca=[];function an(d){de(d.g,function(_,x){this.g.hasOwnProperty(x)&&_s(_)},d),d.g={}}Li.prototype.N=function(){Li.aa.N.call(this),an(this)},Li.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $l=m.JSON.stringify,vs=m.JSON.parse,hn=class{stringify(d){return m.JSON.stringify(d,void 0)}parse(d){return m.JSON.parse(d,void 0)}};function Ql(){}Ql.prototype.h=null;function zc(d){return d.h||(d.h=d.i())}function qc(){}var xs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ia(){fe.call(this,"d")}L(Ia,fe);function ns(){fe.call(this,"c")}L(ns,fe);var Un={},ja=null;function Cr(){return ja=ja||new It}Un.La="serverreachability";function Yl(d){fe.call(this,Un.La,d)}L(Yl,fe);function Da(d){const _=Cr();Bt(_,new Yl(_))}Un.STAT_EVENT="statevent";function Ir(d,_){fe.call(this,Un.STAT_EVENT,d),this.stat=_}L(Ir,fe);function Tt(d){const _=Cr();Bt(_,new Ir(_,d))}Un.Ma="timingevent";function Kc(d,_){fe.call(this,Un.Ma,d),this.size=_}L(Kc,fe);function Oa(d,_){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){d()},_)}function Ma(){this.g=!0}Ma.prototype.xa=function(){this.g=!1};function Fc(d,_,x,I,$,ee){d.info(function(){if(d.g)if(ee)for(var he="",ze=ee.split("&"),Dt=0;Dt<ze.length;Dt++){var qe=ze[Dt].split("=");if(1<qe.length){var qt=qe[0];qe=qe[1];var Ot=qt.split("_");he=2<=Ot.length&&Ot[1]=="type"?he+(qt+"="+qe+"&"):he+(qt+"=redacted&")}}else he=null;else he=ee;return"XMLHTTP REQ ("+I+") [attempt "+$+"]: "+_+`
`+x+`
`+he})}function Gc(d,_,x,I,$,ee,he){d.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+$+"]: "+_+`
`+x+`
`+ee+" "+he})}function La(d,_,x,I){d.info(function(){return"XMLHTTP TEXT ("+_+"): "+Ht(d,x)+(I?" "+I:"")})}function Es(d,_){d.info(function(){return"TIMEOUT: "+_})}Ma.prototype.info=function(){};function Ht(d,_){if(!d.g)return _;if(!_)return null;try{var x=JSON.parse(_);if(x){for(d=0;d<x.length;d++)if(Array.isArray(x[d])){var I=x[d];if(!(2>I.length)){var $=I[1];if(Array.isArray($)&&!(1>$.length)){var ee=$[0];if(ee!="noop"&&ee!="stop"&&ee!="close")for(var he=1;he<$.length;he++)$[he]=""}}}}return $l(x)}catch{return _}}var jt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},$s={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Pi;function jr(){}L(jr,Ql),jr.prototype.g=function(){return new XMLHttpRequest},jr.prototype.i=function(){return{}},Pi=new jr;function Ts(d,_,x,I){this.j=d,this.i=_,this.l=x,this.R=I||1,this.U=new Li(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Wl}function Wl(){this.i=null,this.g="",this.h=!1}var Pa={},Ui={};function ss(d,_,x){d.L=1,d.v=Hi(pt(_)),d.m=x,d.P=!0,Qs(d,null)}function Qs(d,_){d.F=Date.now(),ut(d),d.A=pt(d.v);var x=d.A,I=d.R;Array.isArray(I)||(I=[String(I)]),Xs(x.i,"t",I),d.C=0,x=d.j.J,d.h=new Wl,d.g=ru(d.j,x?_:null,!d.m),0<d.O&&(d.M=new wh(N(d.Y,d,d.g),d.O)),_=d.U,x=d.g,I=d.ca;var $="readystatechange";Array.isArray($)||($&&(Ca[0]=$.toString()),$=Ca);for(var ee=0;ee<$.length;ee++){var he=Ct(x,$[ee],I||_.handleEvent,!1,_.h||_);if(!he)break;_.g[he.key]=he}_=d.H?C(d.H):{},d.m?(d.u||(d.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,_)):(d.u="GET",d.g.ea(d.A,d.u,null,_)),Da(),Fc(d.i,d.u,d.A,d.l,d.R,d.m)}Ts.prototype.ca=function(d){d=d.target;const _=this.M;_&&qn(d)==3?_.j():this.Y(d)},Ts.prototype.Y=function(d){try{if(d==this.g)e:{const Ot=qn(this.g);var _=this.g.Ba();const ta=this.g.Z();if(!(3>Ot)&&(Ot!=3||this.g&&(this.h.h||this.g.oa()||Zc(this.g)))){this.J||Ot!=4||_==7||(_==8||0>=ta?Da(3):Da(2)),Dr(this);var x=this.g.Z();this.X=x;t:if(Ua(this)){var I=Zc(this.g);d="";var $=I.length,ee=qn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xn(this),wn(this);var he="";break t}this.h.i=new m.TextDecoder}for(_=0;_<$;_++)this.h.h=!0,d+=this.h.i.decode(I[_],{stream:!(ee&&_==$-1)});I.length=0,this.h.g+=d,this.C=0,he=this.h.g}else he=this.g.oa();if(this.o=x==200,Gc(this.i,this.u,this.A,this.l,this.R,Ot,x),this.o){if(this.T&&!this.K){t:{if(this.g){var ze,Dt=this.g;if((ze=Dt.g?Dt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(ze)){var qe=ze;break t}}qe=null}if(x=qe)La(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Nn(this,x);else{this.o=!1,this.s=3,Tt(12),xn(this),wn(this);break e}}if(this.P){x=!0;let Wt;for(;!this.J&&this.C<he.length;)if(Wt=Va(this,he),Wt==Ui){Ot==4&&(this.s=4,Tt(14),x=!1),La(this.i,this.l,null,"[Incomplete Response]");break}else if(Wt==Pa){this.s=4,Tt(15),La(this.i,this.l,he,"[Invalid Chunk]"),x=!1;break}else La(this.i,this.l,Wt,null),Nn(this,Wt);if(Ua(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ot!=4||he.length!=0||this.h.h||(this.s=1,Tt(16),x=!1),this.o=this.o&&x,!x)La(this.i,this.l,he,"[Invalid Chunked Response]"),xn(this),wn(this);else if(0<he.length&&!this.W){this.W=!0;var qt=this.j;qt.g==this&&qt.ba&&!qt.M&&(qt.j.info("Great, no buffering proxy detected. Bytes received: "+he.length),Qi(qt),qt.M=!0,Tt(11))}}else La(this.i,this.l,he,null),Nn(this,he);Ot==4&&xn(this),this.o&&!this.J&&(Ot==4?su(this.j,this):(this.o=!1,ut(this)))}else jh(this.g),x==400&&0<he.indexOf("Unknown SID")?(this.s=3,Tt(12)):(this.s=0,Tt(13)),xn(this),wn(this)}}}catch{}finally{}};function Ua(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Va(d,_){var x=d.C,I=_.indexOf(`
`,x);return I==-1?Ui:(x=Number(_.substring(x,I)),isNaN(x)?Pa:(I+=1,I+x>_.length?Ui:(_=_.slice(I,I+x),d.C=I+x,_)))}Ts.prototype.cancel=function(){this.J=!0,xn(this)};function ut(d){d.S=Date.now()+d.I,Xl(d,d.I)}function Xl(d,_){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Oa(N(d.ba,d),_)}function Dr(d){d.B&&(m.clearTimeout(d.B),d.B=null)}Ts.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Es(this.i,this.A),this.L!=2&&(Da(),Tt(17)),xn(this),this.s=2,wn(this)):Xl(this,this.S-d)};function wn(d){d.j.G==0||d.J||su(d.j,d)}function xn(d){Dr(d);var _=d.M;_&&typeof _.ma=="function"&&_.ma(),d.M=null,an(d.U),d.g&&(_=d.g,d.g=null,_.abort(),_.ma())}function Nn(d,_){try{var x=d.j;if(x.G!=0&&(x.g==d||Ba(x.h,d))){if(!d.K&&Ba(x.h,d)&&x.G==3){try{var I=x.Da.g.parse(_)}catch{I=null}if(Array.isArray(I)&&I.length==3){var $=I;if($[0]==0){e:if(!x.u){if(x.g)if(x.g.F+3e3<d.F)qr(x),Hr(x);else break e;oo(x),Tt(18)}}else x.za=$[1],0<x.za-x.T&&37500>$[2]&&x.F&&x.v==0&&!x.C&&(x.C=Oa(N(x.Za,x),6e3));if(1>=$c(x.h)&&x.ca){try{x.ca()}catch{}x.ca=void 0}}else ea(x,11)}else if((d.K||x.g==d)&&qr(x),!H(_))for($=x.Da.g.parse(_),_=0;_<$.length;_++){let qe=$[_];if(x.T=qe[0],qe=qe[1],x.G==2)if(qe[0]=="c"){x.K=qe[1],x.ia=qe[2];const qt=qe[3];qt!=null&&(x.la=qt,x.j.info("VER="+x.la));const Ot=qe[4];Ot!=null&&(x.Aa=Ot,x.j.info("SVER="+x.Aa));const ta=qe[5];ta!=null&&typeof ta=="number"&&0<ta&&(I=1.5*ta,x.L=I,x.j.info("backChannelRequestTimeoutMs_="+I)),I=x;const Wt=d.g;if(Wt){const ks=Wt.g?Wt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ks){var ee=I.h;ee.g||ks.indexOf("spdy")==-1&&ks.indexOf("quic")==-1&&ks.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(Ha(ee,ee.h),ee.h=null))}if(I.D){const uo=Wt.g?Wt.g.getResponseHeader("X-HTTP-Session-Id"):null;uo&&(I.ya=uo,$e(I.I,I.D,uo))}}x.G=3,x.l&&x.l.ua(),x.ba&&(x.R=Date.now()-d.F,x.j.info("Handshake RTT: "+x.R+"ms")),I=x;var he=d;if(I.qa=iu(I,I.J?I.ia:null,I.W),he.K){Vn(I.h,he);var ze=he,Dt=I.L;Dt&&(ze.I=Dt),ze.B&&(Dr(ze),ut(ze)),I.g=he}else tu(I);0<x.i.length&&zr(x)}else qe[0]!="stop"&&qe[0]!="close"||ea(x,7);else x.G==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?ea(x,7):ro(x):qe[0]!="noop"&&x.l&&x.l.ta(qe),x.v=0)}}Da(4)}catch{}}var Nh=class{constructor(d,_){this.g=d,this.map=_}};function Zl(d){this.l=d||10,m.PerformanceNavigationTiming?(d=m.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Jl(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function $c(d){return d.h?1:d.g?d.g.size:0}function Ba(d,_){return d.h?d.h==_:d.g?d.g.has(_):!1}function Ha(d,_){d.g?d.g.add(_):d.h=_}function Vn(d,_){d.h&&d.h==_?d.h=null:d.g&&d.g.has(_)&&d.g.delete(_)}Zl.prototype.cancel=function(){if(this.i=fn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function fn(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let _=d.i;for(const x of d.g.values())_=_.concat(x.D);return _}return B(d.i)}function Qc(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(p(d)){for(var _=[],x=d.length,I=0;I<x;I++)_.push(d[I]);return _}_=[],x=0;for(I in d)_[x++]=d[I];return _}function Rh(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(p(d)||typeof d=="string"){var _=[];d=d.length;for(var x=0;x<d;x++)_.push(x);return _}_=[],x=0;for(const I in d)_[x++]=I;return _}}}function Vi(d,_){if(d.forEach&&typeof d.forEach=="function")d.forEach(_,void 0);else if(p(d)||typeof d=="string")Array.prototype.forEach.call(d,_,void 0);else for(var x=Rh(d),I=Qc(d),$=I.length,ee=0;ee<$;ee++)_.call(void 0,I[ee],x&&x[ee],d)}var eo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Or(d,_){if(d){d=d.split("&");for(var x=0;x<d.length;x++){var I=d[x].indexOf("="),$=null;if(0<=I){var ee=d[x].substring(0,I);$=d[x].substring(I+1)}else ee=d[x];_(ee,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function Ys(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Ys){this.h=d.h,za(this,d.j),this.o=d.o,this.g=d.g,Bi(this,d.s),this.l=d.l;var _=d.i,x=new bs;x.i=_.i,_.g&&(x.g=new Map(_.g),x.h=_.h),Mr(this,x),this.m=d.m}else d&&(_=String(d).match(eo))?(this.h=!1,za(this,_[1]||"",!0),this.o=qa(_[2]||""),this.g=qa(_[3]||"",!0),Bi(this,_[4]),this.l=qa(_[5]||"",!0),Mr(this,_[6]||"",!0),this.m=qa(_[7]||"")):(this.h=!1,this.i=new bs(null,this.h))}Ys.prototype.toString=function(){var d=[],_=this.j;_&&d.push(Bn(_,to,!0),":");var x=this.g;return(x||_=="file")&&(d.push("//"),(_=this.o)&&d.push(Bn(_,to,!0),"@"),d.push(encodeURIComponent(String(x)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.s,x!=null&&d.push(":",String(x))),(x=this.l)&&(this.g&&x.charAt(0)!="/"&&d.push("/"),d.push(Bn(x,x.charAt(0)=="/"?no:Yc,!0))),(x=this.i.toString())&&d.push("?",x),(x=this.m)&&d.push("#",Bn(x,Ih)),d.join("")};function pt(d){return new Ys(d)}function za(d,_,x){d.j=x?qa(_,!0):_,d.j&&(d.j=d.j.replace(/:$/,""))}function Bi(d,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);d.s=_}else d.s=null}function Mr(d,_,x){_ instanceof bs?(d.i=_,so(d.i,d.h)):(x||(_=Bn(_,Ch)),d.i=new bs(_,d.h))}function $e(d,_,x){d.i.set(_,x)}function Hi(d){return $e(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function qa(d,_){return d?_?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Bn(d,_,x){return typeof d=="string"?(d=encodeURI(d).replace(_,kh),x&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function kh(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var to=/[#\/\?@]/g,Yc=/[#\?:]/g,no=/[#\?]/g,Ch=/[#\?@]/g,Ih=/#/g;function bs(d,_){this.h=this.g=null,this.i=d||null,this.j=!!_}function Hn(d){d.g||(d.g=new Map,d.h=0,d.i&&Or(d.i,function(_,x){d.add(decodeURIComponent(_.replace(/\+/g," ")),x)}))}s=bs.prototype,s.add=function(d,_){Hn(this),this.i=null,d=Zs(this,d);var x=this.g.get(d);return x||this.g.set(d,x=[]),x.push(_),this.h+=1,this};function Lr(d,_){Hn(d),_=Zs(d,_),d.g.has(_)&&(d.i=null,d.h-=d.g.get(_).length,d.g.delete(_))}function Ws(d,_){return Hn(d),_=Zs(d,_),d.g.has(_)}s.forEach=function(d,_){Hn(this),this.g.forEach(function(x,I){x.forEach(function($){d.call(_,$,I,this)},this)},this)},s.na=function(){Hn(this);const d=Array.from(this.g.values()),_=Array.from(this.g.keys()),x=[];for(let I=0;I<_.length;I++){const $=d[I];for(let ee=0;ee<$.length;ee++)x.push(_[I])}return x},s.V=function(d){Hn(this);let _=[];if(typeof d=="string")Ws(this,d)&&(_=_.concat(this.g.get(Zs(this,d))));else{d=Array.from(this.g.values());for(let x=0;x<d.length;x++)_=_.concat(d[x])}return _},s.set=function(d,_){return Hn(this),this.i=null,d=Zs(this,d),Ws(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[_]),this.h+=1,this},s.get=function(d,_){return d?(d=this.V(d),0<d.length?String(d[0]):_):_};function Xs(d,_,x){Lr(d,_),0<x.length&&(d.i=null,d.g.set(Zs(d,_),B(x)),d.h+=x.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],_=Array.from(this.g.keys());for(var x=0;x<_.length;x++){var I=_[x];const ee=encodeURIComponent(String(I)),he=this.V(I);for(I=0;I<he.length;I++){var $=ee;he[I]!==""&&($+="="+encodeURIComponent(String(he[I]))),d.push($)}}return this.i=d.join("&")};function Zs(d,_){return _=String(_),d.j&&(_=_.toLowerCase()),_}function so(d,_){_&&!d.j&&(Hn(d),d.i=null,d.g.forEach(function(x,I){var $=I.toLowerCase();I!=$&&(Lr(this,I),Xs(this,$,x))},d)),d.j=_}function Wc(d,_){const x=new Ma;if(m.Image){const I=new Image;I.onload=O(zn,x,"TestLoadImage: loaded",!0,_,I),I.onerror=O(zn,x,"TestLoadImage: error",!1,_,I),I.onabort=O(zn,x,"TestLoadImage: abort",!1,_,I),I.ontimeout=O(zn,x,"TestLoadImage: timeout",!1,_,I),m.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=d}else _(!1)}function zi(d,_){const x=new Ma,I=new AbortController,$=setTimeout(()=>{I.abort(),zn(x,"TestPingServer: timeout",!1,_)},1e4);fetch(d,{signal:I.signal}).then(ee=>{clearTimeout($),ee.ok?zn(x,"TestPingServer: ok",!0,_):zn(x,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout($),zn(x,"TestPingServer: error",!1,_)})}function zn(d,_,x,I,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),I(x)}catch{}}function qi(){this.g=new hn}function As(d,_,x){const I=x||"";try{Vi(d,function($,ee){let he=$;y($)&&(he=$l($)),_.push(I+ee+"="+encodeURIComponent(he))})}catch($){throw _.push(I+"type="+encodeURIComponent("_badmap")),$}}function Ka(d){this.l=d.Ub||null,this.j=d.eb||!1}L(Ka,Ql),Ka.prototype.g=function(){return new Js(this.l,this.j)},Ka.prototype.i=function(d){return function(){return d}}({});function Js(d,_){It.call(this),this.D=d,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}L(Js,It),s=Js.prototype,s.open=function(d,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=_,this.readyState=1,ws(this)},s.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(_.body=d),(this.D||m).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ss(this)),this.readyState=0},s.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,ws(this)),this.g&&(this.readyState=3,ws(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ao(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function ao(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}s.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var _=d.value?d.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!d.done}))&&(this.response=this.responseText+=_)}d.done?Ss(this):ws(this),this.readyState==3&&ao(this)}},s.Ra=function(d){this.g&&(this.response=this.responseText=d,Ss(this))},s.Qa=function(d){this.g&&(this.response=d,Ss(this))},s.ga=function(){this.g&&Ss(this)};function Ss(d){d.readyState=4,d.l=null,d.j=null,d.v=null,ws(d)}s.setRequestHeader=function(d,_){this.u.append(d,_)},s.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],_=this.h.entries();for(var x=_.next();!x.done;)x=x.value,d.push(x[0]+": "+x[1]),x=_.next();return d.join(`\r
`)};function ws(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Js.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function io(d){let _="";return de(d,function(x,I){_+=I,_+=":",_+=x,_+=`\r
`}),_}function zt(d,_,x){e:{for(I in x){var I=!1;break e}I=!0}I||(x=io(x),typeof d=="string"?x!=null&&encodeURIComponent(String(x)):$e(d,_,x))}function Ze(d){It.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}L(Ze,It);var Pr=/^https?$/i,Ki=["POST","PUT"];s=Ze.prototype,s.Ha=function(d){this.J=d},s.ea=function(d,_,x,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);_=_?_.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Pi.g(),this.v=this.o?zc(this.o):zc(Pi),this.g.onreadystatechange=N(this.Ea,this);try{this.B=!0,this.g.open(_,String(d),!0),this.B=!1}catch(ee){Xc(this,ee);return}if(d=x||"",x=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var $ in I)x.set($,I[$]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const ee of I.keys())x.set(ee,I.get(ee));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(x.keys()).find(ee=>ee.toLowerCase()=="content-type"),$=m.FormData&&d instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Ki,_,void 0))||I||$||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,he]of x)this.g.setRequestHeader(ee,he);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Fi(this),this.u=!0,this.g.send(d),this.u=!1}catch(ee){Xc(this,ee)}};function Xc(d,_){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=_,d.m=5,Ur(d),Ns(d)}function Ur(d){d.A||(d.A=!0,Bt(d,"complete"),Bt(d,"error"))}s.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Bt(this,"complete"),Bt(this,"abort"),Ns(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ns(this,!0)),Ze.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Vr(this):this.bb())},s.bb=function(){Vr(this)};function Vr(d){if(d.h&&typeof h<"u"&&(!d.v[1]||qn(d)!=4||d.Z()!=2)){if(d.u&&qn(d)==4)Hc(d.Ea,0,d);else if(Bt(d,"readystatechange"),qn(d)==4){d.h=!1;try{const he=d.Z();e:switch(he){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var x;if(!(x=_)){var I;if(I=he===0){var $=String(d.D).match(eo)[1]||null;!$&&m.self&&m.self.location&&($=m.self.location.protocol.slice(0,-1)),I=!Pr.test($?$.toLowerCase():"")}x=I}if(x)Bt(d,"complete"),Bt(d,"success");else{d.m=6;try{var ee=2<qn(d)?d.g.statusText:""}catch{ee=""}d.l=ee+" ["+d.Z()+"]",Ur(d)}}finally{Ns(d)}}}}function Ns(d,_){if(d.g){Fi(d);const x=d.g,I=d.v[0]?()=>{}:null;d.g=null,d.v=null,_||Bt(d,"ready");try{x.onreadystatechange=I}catch{}}}function Fi(d){d.I&&(m.clearTimeout(d.I),d.I=null)}s.isActive=function(){return!!this.g};function qn(d){return d.g?d.g.readyState:0}s.Z=function(){try{return 2<qn(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(d){if(this.g){var _=this.g.responseText;return d&&_.indexOf(d)==0&&(_=_.substring(d.length)),vs(_)}};function Zc(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function jh(d){const _={};d=(d.g&&2<=qn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<d.length;I++){if(H(d[I]))continue;var x=S(d[I]);const $=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const ee=_[$]||[];_[$]=ee,ee.push(x)}D(_,function(I){return I.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gi(d,_,x){return x&&x.internalChannelParams&&x.internalChannelParams[d]||_}function Br(d){this.Aa=0,this.i=[],this.j=new Ma,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gi("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gi("baseRetryDelayMs",5e3,d),this.cb=Gi("retryDelaySeedMs",1e4,d),this.Wa=Gi("forwardChannelMaxRetries",2,d),this.wa=Gi("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Zl(d&&d.concurrentRequestLimit),this.Da=new qi,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=Br.prototype,s.la=8,s.G=1,s.connect=function(d,_,x,I){Tt(0),this.W=d,this.H=_||{},x&&I!==void 0&&(this.H.OSID=x,this.H.OAID=I),this.F=this.X,this.I=iu(this,null,this.W),zr(this)};function ro(d){if(Jc(d),d.G==3){var _=d.U++,x=pt(d.I);if($e(x,"SID",d.K),$e(x,"RID",_),$e(x,"TYPE","terminate"),$i(d,x),_=new Ts(d,d.j,_),_.L=2,_.v=Hi(pt(x)),x=!1,m.navigator&&m.navigator.sendBeacon)try{x=m.navigator.sendBeacon(_.v.toString(),"")}catch{}!x&&m.Image&&(new Image().src=_.v,x=!0),x||(_.g=ru(_.j,null),_.g.ea(_.v)),_.F=Date.now(),ut(_)}au(d)}function Hr(d){d.g&&(Qi(d),d.g.cancel(),d.g=null)}function Jc(d){Hr(d),d.u&&(m.clearTimeout(d.u),d.u=null),qr(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&m.clearTimeout(d.s),d.s=null)}function zr(d){if(!Jl(d.h)&&!d.s){d.s=!0;var _=d.Ga;Q||M(),ue||(Q(),ue=!0),ve.add(_,d),d.B=0}}function Dh(d,_){return $c(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=_.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Oa(N(d.Ga,d,_),co(d,d.B)),d.B++,!0)}s.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const $=new Ts(this,this.j,d);let ee=this.o;if(this.S&&(ee?(ee=C(ee),b(ee,this.S)):ee=this.S),this.m!==null||this.O||($.H=ee,ee=null),this.P)e:{for(var _=0,x=0;x<this.i.length;x++){t:{var I=this.i[x];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(_+=I,4096<_){_=x;break e}if(_===4096||x===this.i.length-1){_=x+1;break e}}_=1e3}else _=1e3;_=eu(this,$,_),x=pt(this.I),$e(x,"RID",d),$e(x,"CVER",22),this.D&&$e(x,"X-HTTP-Session-Id",this.D),$i(this,x),ee&&(this.O?_="headers="+encodeURIComponent(String(io(ee)))+"&"+_:this.m&&zt(x,this.m,ee)),Ha(this.h,$),this.Ua&&$e(x,"TYPE","init"),this.P?($e(x,"$req",_),$e(x,"SID","null"),$.T=!0,ss($,x,null)):ss($,x,_),this.G=2}}else this.G==3&&(d?lo(this,d):this.i.length==0||Jl(this.h)||lo(this))};function lo(d,_){var x;_?x=_.l:x=d.U++;const I=pt(d.I);$e(I,"SID",d.K),$e(I,"RID",x),$e(I,"AID",d.T),$i(d,I),d.m&&d.o&&zt(I,d.m,d.o),x=new Ts(d,d.j,x,d.B+1),d.m===null&&(x.H=d.o),_&&(d.i=_.D.concat(d.i)),_=eu(d,x,1e3),x.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Ha(d.h,x),ss(x,I,_)}function $i(d,_){d.H&&de(d.H,function(x,I){$e(_,I,x)}),d.l&&Vi({},function(x,I){$e(_,I,x)})}function eu(d,_,x){x=Math.min(d.i.length,x);var I=d.l?N(d.l.Na,d.l,d):null;e:{var $=d.i;let ee=-1;for(;;){const he=["count="+x];ee==-1?0<x?(ee=$[0].g,he.push("ofs="+ee)):ee=0:he.push("ofs="+ee);let ze=!0;for(let Dt=0;Dt<x;Dt++){let qe=$[Dt].g;const qt=$[Dt].map;if(qe-=ee,0>qe)ee=Math.max(0,$[Dt].g-100),ze=!1;else try{As(qt,he,"req"+qe+"_")}catch{I&&I(qt)}}if(ze){I=he.join("&");break e}}}return d=d.i.splice(0,x),_.D=d,I}function tu(d){if(!d.g&&!d.u){d.Y=1;var _=d.Fa;Q||M(),ue||(Q(),ue=!0),ve.add(_,d),d.v=0}}function oo(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Oa(N(d.Fa,d),co(d,d.v)),d.v++,!0)}s.Fa=function(){if(this.u=null,nu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Oa(N(this.ab,this),d)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Tt(10),Hr(this),nu(this))};function Qi(d){d.A!=null&&(m.clearTimeout(d.A),d.A=null)}function nu(d){d.g=new Ts(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var _=pt(d.qa);$e(_,"RID","rpc"),$e(_,"SID",d.K),$e(_,"AID",d.T),$e(_,"CI",d.F?"0":"1"),!d.F&&d.ja&&$e(_,"TO",d.ja),$e(_,"TYPE","xmlhttp"),$i(d,_),d.m&&d.o&&zt(_,d.m,d.o),d.L&&(d.g.I=d.L);var x=d.g;d=d.ia,x.L=1,x.v=Hi(pt(_)),x.m=null,x.P=!0,Qs(x,d)}s.Za=function(){this.C!=null&&(this.C=null,Hr(this),oo(this),Tt(19))};function qr(d){d.C!=null&&(m.clearTimeout(d.C),d.C=null)}function su(d,_){var x=null;if(d.g==_){qr(d),Qi(d),d.g=null;var I=2}else if(Ba(d.h,_))x=_.D,Vn(d.h,_),I=1;else return;if(d.G!=0){if(_.o)if(I==1){x=_.m?_.m.length:0,_=Date.now()-_.F;var $=d.B;I=Cr(),Bt(I,new Kc(I,x)),zr(d)}else tu(d);else if($=_.s,$==3||$==0&&0<_.X||!(I==1&&Dh(d,_)||I==2&&oo(d)))switch(x&&0<x.length&&(_=d.h,_.i=_.i.concat(x)),$){case 1:ea(d,5);break;case 4:ea(d,10);break;case 3:ea(d,6);break;default:ea(d,2)}}}function co(d,_){let x=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(x*=2),x*_}function ea(d,_){if(d.j.info("Error code "+_),_==2){var x=N(d.fb,d),I=d.Xa;const $=!I;I=new Ys(I||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||za(I,"https"),Hi(I),$?Wc(I.toString(),x):zi(I.toString(),x)}else Tt(2);d.G=0,d.l&&d.l.sa(_),au(d),Jc(d)}s.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function au(d){if(d.G=0,d.ka=[],d.l){const _=fn(d.h);(_.length!=0||d.i.length!=0)&&(V(d.ka,_),V(d.ka,d.i),d.h.i.length=0,B(d.i),d.i.length=0),d.l.ra()}}function iu(d,_,x){var I=x instanceof Ys?pt(x):new Ys(x);if(I.g!="")_&&(I.g=_+"."+I.g),Bi(I,I.s);else{var $=m.location;I=$.protocol,_=_?_+"."+$.hostname:$.hostname,$=+$.port;var ee=new Ys(null);I&&za(ee,I),_&&(ee.g=_),$&&Bi(ee,$),x&&(ee.l=x),I=ee}return x=d.D,_=d.ya,x&&_&&$e(I,x,_),$e(I,"VER",d.la),$i(d,I),I}function ru(d,_,x){if(_&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=d.Ca&&!d.pa?new Ze(new Ka({eb:x})):new Ze(d.pa),_.Ha(d.J),_}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function lu(){}s=lu.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function Kr(){}Kr.prototype.g=function(d,_){return new mn(d,_)};function mn(d,_){It.call(this),this.g=new Br(_),this.l=d,this.h=_&&_.messageUrlParams||null,d=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(d?d["X-WebChannel-Content-Type"]=_.messageContentType:d={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(d?d["X-WebChannel-Client-Profile"]=_.va:d={"X-WebChannel-Client-Profile":_.va}),this.g.S=d,(d=_&&_.Sb)&&!H(d)&&(this.g.m=d),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!H(_)&&(this.g.D=_,d=this.h,d!==null&&_ in d&&(d=this.h,_ in d&&delete d[_])),this.j=new Rs(this)}L(mn,It),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){ro(this.g)},mn.prototype.o=function(d){var _=this.g;if(typeof d=="string"){var x={};x.__data__=d,d=x}else this.u&&(x={},x.__data__=$l(d),d=x);_.i.push(new Nh(_.Ya++,d)),_.G==3&&zr(_)},mn.prototype.N=function(){this.g.l=null,delete this.j,ro(this.g),delete this.g,mn.aa.N.call(this)};function ou(d){Ia.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var _=d.__sm__;if(_){e:{for(const x in _){d=x;break e}d=void 0}(this.i=d)&&(d=this.i,_=_!==null&&d in _?_[d]:void 0),this.data=_}else this.data=d}L(ou,Ia);function cu(){ns.call(this),this.status=1}L(cu,ns);function Rs(d){this.g=d}L(Rs,lu),Rs.prototype.ua=function(){Bt(this.g,"a")},Rs.prototype.ta=function(d){Bt(this.g,new ou(d))},Rs.prototype.sa=function(d){Bt(this.g,new cu)},Rs.prototype.ra=function(){Bt(this.g,"b")},Kr.prototype.createWebChannel=Kr.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,c0=function(){return new Kr},o0=function(){return Cr()},l0=Un,Zm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},jt.NO_ERROR=0,jt.TIMEOUT=8,jt.HTTP_ERROR=6,xd=jt,$s.COMPLETE="complete",r0=$s,qc.EventType=xs,xs.OPEN="a",xs.CLOSE="b",xs.ERROR="c",xs.MESSAGE="d",It.prototype.listen=It.prototype.K,sc=qc,Ze.prototype.listenOnce=Ze.prototype.L,Ze.prototype.getLastError=Ze.prototype.Ka,Ze.prototype.getLastErrorCode=Ze.prototype.Ba,Ze.prototype.getStatus=Ze.prototype.Z,Ze.prototype.getResponseJson=Ze.prototype.Oa,Ze.prototype.getResponseText=Ze.prototype.oa,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Ha,i0=Ze}).apply(typeof od<"u"?od:typeof self<"u"?self:typeof window<"u"?window:{});const rx="@firebase/firestore",lx="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pl="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vr=new kg("@firebase/firestore");function yl(){return vr.logLevel}function ye(s,...e){if(vr.logLevel<=Pe.DEBUG){const t=e.map(jg);vr.debug(`Firestore (${Pl}): ${s}`,...t)}}function Sa(s,...e){if(vr.logLevel<=Pe.ERROR){const t=e.map(jg);vr.error(`Firestore (${Pl}): ${s}`,...t)}}function wl(s,...e){if(vr.logLevel<=Pe.WARN){const t=e.map(jg);vr.warn(`Firestore (${Pl}): ${s}`,...t)}}function jg(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(s="Unexpected state"){const e=`FIRESTORE (${Pl}) INTERNAL ASSERTION FAILED: `+s;throw Sa(e),new Error(e)}function Je(s,e){s||Ne()}function je(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends qs{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class NR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(cn.UNAUTHENTICATED))}shutdown(){}}class RR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class kR{constructor(e){this.t=e,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Je(this.o===void 0);let i=this.i;const l=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let c=new Ea;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ea,e.enqueueRetryable(()=>l(this.currentUser))};const h=()=>{const p=c;e.enqueueRetryable(async()=>{await p.promise,await l(this.currentUser)})},m=p=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ea)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Je(typeof i.accessToken=="string"),new u0(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Je(e===null||typeof e=="string"),new cn(e)}}class CR{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class IR{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new CR(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(cn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ox{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jR{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Dn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Je(this.o===void 0);const i=c=>{c.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const h=c.token!==this.R;return this.R=c.token,ye("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>i(c))};const l=c=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>l(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?l(c):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new ox(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Je(typeof t.token=="string"),this.R=t.token,new ox(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<s;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const l=DR(40);for(let c=0;c<l.length;++c)i.length<20&&l[c]<t&&(i+=e.charAt(l[c]%62))}return i}}function Be(s,e){return s<e?-1:s>e?1:0}function Nl(s,e,t){return s.length===e.length&&s.every((i,l)=>t(i,e[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx=-62135596800,ux=1e6;class Ut{static now(){return Ut.fromMillis(Date.now())}static fromDate(e){return Ut.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*ux);return new Ut(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new _e(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new _e(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<cx)throw new _e(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ux}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-cx;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new Ut(0,0))}static max(){return new Ce(new Ut(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx="__name__";class Ms{constructor(e,t,i){t===void 0?t=0:t>e.length&&Ne(),i===void 0?i=e.length-t:i>e.length-t&&Ne(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Ms.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ms?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let l=0;l<i;l++){const c=Ms.compareSegments(e.get(l),t.get(l));if(c!==0)return c}return Math.sign(e.length-t.length)}static compareSegments(e,t){const i=Ms.isNumericId(e),l=Ms.isNumericId(t);return i&&!l?-1:!i&&l?1:i&&l?Ms.extractNumericId(e).compare(Ms.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ei.fromString(e.substring(4,e.length-2))}}class rt extends Ms{construct(e,t,i){return new rt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new _e(re.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(l=>l.length>0))}return new rt(t)}static emptyPath(){return new rt([])}}const OR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends Ms{construct(e,t,i){return new tn(e,t,i)}static isValidIdentifier(e){return OR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===dx}static keyField(){return new tn([dx])}static fromServerFormat(e){const t=[];let i="",l=0;const c=()=>{if(i.length===0)throw new _e(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let h=!1;for(;l<e.length;){const m=e[l];if(m==="\\"){if(l+1===e.length)throw new _e(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new _e(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,l+=2}else m==="`"?(h=!h,l++):m!=="."||h?(i+=m,l++):(c(),l++)}if(c(),h)throw new _e(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tn(t)}static emptyPath(){return new tn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.path=e}static fromPath(e){return new be(rt.fromString(e))}static fromName(e){return new be(rt.fromString(e).popFirst(5))}static empty(){return new be(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return rt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new rt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gc=-1;function MR(s,e){const t=s.toTimestamp().seconds,i=s.toTimestamp().nanoseconds+1,l=Ce.fromTimestamp(i===1e9?new Ut(t+1,0):new Ut(t,i));return new Ai(l,be.empty(),e)}function LR(s){return new Ai(s.readTime,s.key,gc)}class Ai{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Ai(Ce.min(),be.empty(),gc)}static max(){return new Ai(Ce.max(),be.empty(),gc)}}function PR(s,e){let t=s.readTime.compareTo(e.readTime);return t!==0?t:(t=be.comparator(s.documentKey,e.documentKey),t!==0?t:Be(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class VR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ul(s){if(s.code!==re.FAILED_PRECONDITION||s.message!==UR)throw s;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ne(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new le((i,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(i,l)},this.catchCallback=c=>{this.wrapFailure(t,c).next(i,l)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof le?t:le.resolve(t)}catch(t){return le.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):le.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):le.reject(t)}static resolve(e){return new le((t,i)=>{t(e)})}static reject(e){return new le((t,i)=>{i(e)})}static waitFor(e){return new le((t,i)=>{let l=0,c=0,h=!1;e.forEach(m=>{++l,m.next(()=>{++c,h&&c===l&&t()},p=>i(p))}),h=!0,c===l&&t()})}static or(e){let t=le.resolve(!1);for(const i of e)t=t.next(l=>l?le.resolve(l):i());return t}static forEach(e,t){const i=[];return e.forEach((l,c)=>{i.push(t.call(this,l,c))}),this.waitFor(i)}static mapArray(e,t){return new le((i,l)=>{const c=e.length,h=new Array(c);let m=0;for(let p=0;p<c;p++){const y=p;t(e[y]).next(v=>{h[y]=v,++m,m===c&&i(h)},v=>l(v))}})}static doWhile(e,t){return new le((i,l)=>{const c=()=>{e()===!0?t().next(()=>{c()},l):i()};c()})}}function BR(s){const e=s.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Vl(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.oe(i),this._e=i=>t.writeSequenceNumber(i))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}nh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dg=-1;function sh(s){return s==null}function Od(s){return s===0&&1/s==-1/0}function HR(s){return typeof s=="number"&&Number.isInteger(s)&&!Od(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0="";function zR(s){let e="";for(let t=0;t<s.length;t++)e.length>0&&(e=hx(e)),e=qR(s.get(t),e);return hx(e)}function qR(s,e){let t=e;const i=s.length;for(let l=0;l<i;l++){const c=s.charAt(l);switch(c){case"\0":t+="";break;case h0:t+="";break;default:t+=c}}return t}function hx(s){return s+h0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fx(s){let e=0;for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&e++;return e}function Ci(s,e){for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&e(t,s[t])}function f0(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,t){this.comparator=e,this.root=t||en.EMPTY}insert(e,t){return new ft(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,en.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,en.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const l=this.comparator(e,i.key);if(l===0)return t+i.left.size;l<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cd(this.root,e,this.comparator,!1)}getReverseIterator(){return new cd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cd(this.root,e,this.comparator,!0)}}class cd{constructor(e,t,i,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?i(e.key,t):1,t&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class en{constructor(e,t,i,l,c){this.key=e,this.value=t,this.color=i??en.RED,this.left=l??en.EMPTY,this.right=c??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,l,c){return new en(e??this.key,t??this.value,i??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let l=this;const c=i(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,t,i),null):c===0?l.copy(null,t,null,null,null):l.copy(null,null,null,null,l.right.insert(e,t,i)),l.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,l=this;if(t(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,t),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),t(e,l.key)===0){if(l.right.isEmpty())return en.EMPTY;i=l.right.min(),l=l.copy(i.key,i.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,t))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ne();const e=this.left.check();if(e!==this.right.check())throw Ne();return e+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw Ne()}get value(){throw Ne()}get color(){throw Ne()}get left(){throw Ne()}get right(){throw Ne()}copy(e,t,i,l,c){return this}insert(e,t,i){return new en(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const l=i.getNext();if(this.comparator(l.key,e[1])>=0)return;t(l.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new mx(this.data.getIterator())}getIteratorFrom(e){return new mx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const l=t.getNext().key,c=i.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Vt(this.comparator);return t.data=e,t}}class mx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.fields=e,e.sort(tn.comparator)}static empty(){return new On([])}unionWith(e){let t=new Vt(tn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new On(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Nl(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new m0("Invalid base64 string: "+c):c}}(e);return new sn(t)}static fromUint8Array(e){const t=function(l){let c="";for(let h=0;h<l.length;++h)c+=String.fromCharCode(l[h]);return c}(e);return new sn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let l=0;l<t.length;l++)i[l]=t.charCodeAt(l);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}sn.EMPTY_BYTE_STRING=new sn("");const KR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Si(s){if(Je(!!s),typeof s=="string"){let e=0;const t=KR.exec(s);if(Je(!!t),t[1]){let l=t[1];l=(l+"000000000").substr(0,9),e=Number(l)}const i=new Date(s);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:At(s.seconds),nanos:At(s.nanos)}}function At(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function wi(s){return typeof s=="string"?sn.fromBase64String(s):sn.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0="server_timestamp",p0="__type__",y0="__previous_value__",_0="__local_write_time__";function Og(s){var e,t;return((t=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[p0])===null||t===void 0?void 0:t.stringValue)===g0}function ah(s){const e=s.mapValue.fields[y0];return Og(e)?ah(e):e}function pc(s){const e=Si(s.mapValue.fields[_0].timestampValue);return new Ut(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(e,t,i,l,c,h,m,p,y){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=l,this.ssl=c,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y}}const Md="(default)";class yc{constructor(e,t){this.projectId=e,this.database=t||Md}static empty(){return new yc("","")}get isDefaultDatabase(){return this.database===Md}isEqual(e){return e instanceof yc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0="__type__",GR="__max__",ud={mapValue:{}},x0="__vector__",Ld="value";function Ni(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Og(s)?4:QR(s)?9007199254740991:$R(s)?10:11:Ne()}function zs(s,e){if(s===e)return!0;const t=Ni(s);if(t!==Ni(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return pc(s).isEqual(pc(e));case 3:return function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const h=Si(l.timestampValue),m=Si(c.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(l,c){return wi(l.bytesValue).isEqual(wi(c.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(l,c){return At(l.geoPointValue.latitude)===At(c.geoPointValue.latitude)&&At(l.geoPointValue.longitude)===At(c.geoPointValue.longitude)}(s,e);case 2:return function(l,c){if("integerValue"in l&&"integerValue"in c)return At(l.integerValue)===At(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const h=At(l.doubleValue),m=At(c.doubleValue);return h===m?Od(h)===Od(m):isNaN(h)&&isNaN(m)}return!1}(s,e);case 9:return Nl(s.arrayValue.values||[],e.arrayValue.values||[],zs);case 10:case 11:return function(l,c){const h=l.mapValue.fields||{},m=c.mapValue.fields||{};if(fx(h)!==fx(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!zs(h[p],m[p])))return!1;return!0}(s,e);default:return Ne()}}function _c(s,e){return(s.values||[]).find(t=>zs(t,e))!==void 0}function Rl(s,e){if(s===e)return 0;const t=Ni(s),i=Ni(e);if(t!==i)return Be(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Be(s.booleanValue,e.booleanValue);case 2:return function(c,h){const m=At(c.integerValue||c.doubleValue),p=At(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(s,e);case 3:return gx(s.timestampValue,e.timestampValue);case 4:return gx(pc(s),pc(e));case 5:return Be(s.stringValue,e.stringValue);case 6:return function(c,h){const m=wi(c),p=wi(h);return m.compareTo(p)}(s.bytesValue,e.bytesValue);case 7:return function(c,h){const m=c.split("/"),p=h.split("/");for(let y=0;y<m.length&&y<p.length;y++){const v=Be(m[y],p[y]);if(v!==0)return v}return Be(m.length,p.length)}(s.referenceValue,e.referenceValue);case 8:return function(c,h){const m=Be(At(c.latitude),At(h.latitude));return m!==0?m:Be(At(c.longitude),At(h.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return px(s.arrayValue,e.arrayValue);case 10:return function(c,h){var m,p,y,v;const w=c.fields||{},N=h.fields||{},O=(m=w[Ld])===null||m===void 0?void 0:m.arrayValue,L=(p=N[Ld])===null||p===void 0?void 0:p.arrayValue,B=Be(((y=O==null?void 0:O.values)===null||y===void 0?void 0:y.length)||0,((v=L==null?void 0:L.values)===null||v===void 0?void 0:v.length)||0);return B!==0?B:px(O,L)}(s.mapValue,e.mapValue);case 11:return function(c,h){if(c===ud.mapValue&&h===ud.mapValue)return 0;if(c===ud.mapValue)return 1;if(h===ud.mapValue)return-1;const m=c.fields||{},p=Object.keys(m),y=h.fields||{},v=Object.keys(y);p.sort(),v.sort();for(let w=0;w<p.length&&w<v.length;++w){const N=Be(p[w],v[w]);if(N!==0)return N;const O=Rl(m[p[w]],y[v[w]]);if(O!==0)return O}return Be(p.length,v.length)}(s.mapValue,e.mapValue);default:throw Ne()}}function gx(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Be(s,e);const t=Si(s),i=Si(e),l=Be(t.seconds,i.seconds);return l!==0?l:Be(t.nanos,i.nanos)}function px(s,e){const t=s.values||[],i=e.values||[];for(let l=0;l<t.length&&l<i.length;++l){const c=Rl(t[l],i[l]);if(c)return c}return Be(t.length,i.length)}function kl(s){return Jm(s)}function Jm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(t){const i=Si(t);return`time(${i.seconds},${i.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(t){return wi(t).toBase64()}(s.bytesValue):"referenceValue"in s?function(t){return be.fromName(t).toString()}(s.referenceValue):"geoPointValue"in s?function(t){return`geo(${t.latitude},${t.longitude})`}(s.geoPointValue):"arrayValue"in s?function(t){let i="[",l=!0;for(const c of t.values||[])l?l=!1:i+=",",i+=Jm(c);return i+"]"}(s.arrayValue):"mapValue"in s?function(t){const i=Object.keys(t.fields||{}).sort();let l="{",c=!0;for(const h of i)c?c=!1:l+=",",l+=`${h}:${Jm(t.fields[h])}`;return l+"}"}(s.mapValue):Ne()}function Ed(s){switch(Ni(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ah(s);return e?16+Ed(e):16;case 5:return 2*s.stringValue.length;case 6:return wi(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((l,c)=>l+Ed(c),0)}(s.arrayValue);case 10:case 11:return function(i){let l=0;return Ci(i.fields,(c,h)=>{l+=c.length+Ed(h)}),l}(s.mapValue);default:throw Ne()}}function yx(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function eg(s){return!!s&&"integerValue"in s}function Mg(s){return!!s&&"arrayValue"in s}function _x(s){return!!s&&"nullValue"in s}function vx(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Td(s){return!!s&&"mapValue"in s}function $R(s){var e,t;return((t=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[v0])===null||t===void 0?void 0:t.stringValue)===x0}function lc(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return Ci(s.mapValue.fields,(t,i)=>e.mapValue.fields[t]=lc(i)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(s.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=lc(s.arrayValue.values[t]);return e}return Object.assign({},s)}function QR(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===GR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.value=e}static empty(){return new bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Td(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=lc(t)}setAll(e){let t=tn.emptyPath(),i={},l=[];e.forEach((h,m)=>{if(!t.isImmediateParentOf(m)){const p=this.getFieldsMap(t);this.applyChanges(p,i,l),i={},l=[],t=m.popLast()}h?i[m.lastSegment()]=lc(h):l.push(m.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,i,l)}delete(e){const t=this.field(e.popLast());Td(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return zs(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let l=t.mapValue.fields[e.get(i)];Td(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=l),t=l}return t.mapValue.fields}applyChanges(e,t,i){Ci(t,(l,c)=>e[l]=c);for(const l of i)delete e[l]}clone(){return new bn(lc(this.value))}}function E0(s){const e=[];return Ci(s.fields,(t,i)=>{const l=new tn([t]);if(Td(i)){const c=E0(i.mapValue).fields;if(c.length===0)e.push(l);else for(const h of c)e.push(l.child(h))}else e.push(l)}),new On(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e,t,i,l,c,h,m){this.key=e,this.documentType=t,this.version=i,this.readTime=l,this.createTime=c,this.data=h,this.documentState=m}static newInvalidDocument(e){return new un(e,0,Ce.min(),Ce.min(),Ce.min(),bn.empty(),0)}static newFoundDocument(e,t,i,l){return new un(e,1,t,Ce.min(),i,l,0)}static newNoDocument(e,t){return new un(e,2,t,Ce.min(),Ce.min(),bn.empty(),0)}static newUnknownDocument(e,t){return new un(e,3,t,Ce.min(),Ce.min(),bn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e,t){this.position=e,this.inclusive=t}}function xx(s,e,t){let i=0;for(let l=0;l<s.position.length;l++){const c=e[l],h=s.position[l];if(c.field.isKeyField()?i=be.comparator(be.fromName(h.referenceValue),t.key):i=Rl(h,t.data.field(c.field)),c.dir==="desc"&&(i*=-1),i!==0)break}return i}function Ex(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let t=0;t<s.position.length;t++)if(!zs(s.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,t="asc"){this.field=e,this.dir=t}}function YR(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{}class kt extends T0{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new XR(e,t,i):t==="array-contains"?new ek(e,i):t==="in"?new tk(e,i):t==="not-in"?new nk(e,i):t==="array-contains-any"?new sk(e,i):new kt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new ZR(e,i):new JR(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Rl(t,this.value)):t!==null&&Ni(this.value)===Ni(t)&&this.matchesComparison(Rl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ne()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class cs extends T0{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new cs(e,t)}matches(e){return b0(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function b0(s){return s.op==="and"}function A0(s){return WR(s)&&b0(s)}function WR(s){for(const e of s.filters)if(e instanceof cs)return!1;return!0}function tg(s){if(s instanceof kt)return s.field.canonicalString()+s.op.toString()+kl(s.value);if(A0(s))return s.filters.map(e=>tg(e)).join(",");{const e=s.filters.map(t=>tg(t)).join(",");return`${s.op}(${e})`}}function S0(s,e){return s instanceof kt?function(i,l){return l instanceof kt&&i.op===l.op&&i.field.isEqual(l.field)&&zs(i.value,l.value)}(s,e):s instanceof cs?function(i,l){return l instanceof cs&&i.op===l.op&&i.filters.length===l.filters.length?i.filters.reduce((c,h,m)=>c&&S0(h,l.filters[m]),!0):!1}(s,e):void Ne()}function w0(s){return s instanceof kt?function(t){return`${t.field.canonicalString()} ${t.op} ${kl(t.value)}`}(s):s instanceof cs?function(t){return t.op.toString()+" {"+t.getFilters().map(w0).join(" ,")+"}"}(s):"Filter"}class XR extends kt{constructor(e,t,i){super(e,t,i),this.key=be.fromName(i.referenceValue)}matches(e){const t=be.comparator(e.key,this.key);return this.matchesComparison(t)}}class ZR extends kt{constructor(e,t){super(e,"in",t),this.keys=N0("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class JR extends kt{constructor(e,t){super(e,"not-in",t),this.keys=N0("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function N0(s,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>be.fromName(i.referenceValue))}class ek extends kt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Mg(t)&&_c(t.arrayValue,this.value)}}class tk extends kt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&_c(this.value.arrayValue,t)}}class nk extends kt{constructor(e,t){super(e,"not-in",t)}matches(e){if(_c(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!_c(this.value.arrayValue,t)}}class sk extends kt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Mg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>_c(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(e,t=null,i=[],l=[],c=null,h=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=l,this.limit=c,this.startAt=h,this.endAt=m,this.le=null}}function Tx(s,e=null,t=[],i=[],l=null,c=null,h=null){return new ak(s,e,t,i,l,c,h)}function Lg(s){const e=je(s);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>tg(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(c){return c.field.canonicalString()+c.dir}(i)).join(","),sh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>kl(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>kl(i)).join(",")),e.le=t}return e.le}function Pg(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<s.orderBy.length;t++)if(!YR(s.orderBy[t],e.orderBy[t]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let t=0;t<s.filters.length;t++)if(!S0(s.filters[t],e.filters[t]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!Ex(s.startAt,e.startAt)&&Ex(s.endAt,e.endAt)}function ng(s){return be.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,t=null,i=[],l=[],c=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=l,this.limit=c,this.limitType=h,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function ik(s,e,t,i,l,c,h,m){return new Bl(s,e,t,i,l,c,h,m)}function Ug(s){return new Bl(s)}function bx(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function R0(s){return s.collectionGroup!==null}function oc(s){const e=je(s);if(e.he===null){e.he=[];const t=new Set;for(const c of e.explicitOrderBy)e.he.push(c),t.add(c.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Vt(tn.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(e).forEach(c=>{t.has(c.canonicalString())||c.isKeyField()||e.he.push(new vc(c,i))}),t.has(tn.keyField().canonicalString())||e.he.push(new vc(tn.keyField(),i))}return e.he}function Us(s){const e=je(s);return e.Pe||(e.Pe=rk(e,oc(s))),e.Pe}function rk(s,e){if(s.limitType==="F")return Tx(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(l=>{const c=l.dir==="desc"?"asc":"desc";return new vc(l.field,c)});const t=s.endAt?new Pd(s.endAt.position,s.endAt.inclusive):null,i=s.startAt?new Pd(s.startAt.position,s.startAt.inclusive):null;return Tx(s.path,s.collectionGroup,e,s.filters,s.limit,t,i)}}function sg(s,e){const t=s.filters.concat([e]);return new Bl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),t,s.limit,s.limitType,s.startAt,s.endAt)}function Ud(s,e,t){return new Bl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,t,s.startAt,s.endAt)}function ih(s,e){return Pg(Us(s),Us(e))&&s.limitType===e.limitType}function k0(s){return`${Lg(Us(s))}|lt:${s.limitType}`}function _l(s){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(l=>w0(l)).join(", ")}]`),sh(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(l=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(l)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(l=>kl(l)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(l=>kl(l)).join(",")),`Target(${i})`}(Us(s))}; limitType=${s.limitType})`}function rh(s,e){return e.isFoundDocument()&&function(i,l){const c=l.key.path;return i.collectionGroup!==null?l.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(c):be.isDocumentKey(i.path)?i.path.isEqual(c):i.path.isImmediateParentOf(c)}(s,e)&&function(i,l){for(const c of oc(i))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0}(s,e)&&function(i,l){for(const c of i.filters)if(!c.matches(l))return!1;return!0}(s,e)&&function(i,l){return!(i.startAt&&!function(h,m,p){const y=xx(h,m,p);return h.inclusive?y<=0:y<0}(i.startAt,oc(i),l)||i.endAt&&!function(h,m,p){const y=xx(h,m,p);return h.inclusive?y>=0:y>0}(i.endAt,oc(i),l))}(s,e)}function lk(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function C0(s){return(e,t)=>{let i=!1;for(const l of oc(s)){const c=ok(l,e,t);if(c!==0)return c;i=i||l.field.isKeyField()}return 0}}function ok(s,e,t){const i=s.field.isKeyField()?be.comparator(e.key,t.key):function(c,h,m){const p=h.data.field(c),y=m.data.field(c);return p!==null&&y!==null?Rl(p,y):Ne()}(s.field,e,t);switch(s.dir){case"asc":return i;case"desc":return-1*i;default:return Ne()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[l,c]of i)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),l=this.inner[i];if(l===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,t]);l.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let l=0;l<i.length;l++)if(this.equalsFn(i[l][0],e))return i.length===1?delete this.inner[t]:i.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Ci(this.inner,(t,i)=>{for(const[l,c]of i)e(l,c)})}isEmpty(){return f0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ck=new ft(be.comparator);function wa(){return ck}const I0=new ft(be.comparator);function ac(...s){let e=I0;for(const t of s)e=e.insert(t.key,t);return e}function j0(s){let e=I0;return s.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function mr(){return cc()}function D0(){return cc()}function cc(){return new wr(s=>s.toString(),(s,e)=>s.isEqual(e))}const uk=new ft(be.comparator),dk=new Vt(be.comparator);function Ue(...s){let e=dk;for(const t of s)e=e.add(t);return e}const hk=new Vt(Be);function fk(){return hk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vg(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Od(e)?"-0":e}}function O0(s){return{integerValue:""+s}}function mk(s,e){return HR(e)?O0(e):Vg(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(){this._=void 0}}function gk(s,e,t){return s instanceof Vd?function(l,c){const h={fields:{[p0]:{stringValue:g0},[_0]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Og(c)&&(c=ah(c)),c&&(h.fields[y0]=c),{mapValue:h}}(t,e):s instanceof xc?L0(s,e):s instanceof Ec?P0(s,e):function(l,c){const h=M0(l,c),m=Ax(h)+Ax(l.Ie);return eg(h)&&eg(l.Ie)?O0(m):Vg(l.serializer,m)}(s,e)}function pk(s,e,t){return s instanceof xc?L0(s,e):s instanceof Ec?P0(s,e):t}function M0(s,e){return s instanceof Bd?function(i){return eg(i)||function(c){return!!c&&"doubleValue"in c}(i)}(e)?e:{integerValue:0}:null}class Vd extends lh{}class xc extends lh{constructor(e){super(),this.elements=e}}function L0(s,e){const t=U0(e);for(const i of s.elements)t.some(l=>zs(l,i))||t.push(i);return{arrayValue:{values:t}}}class Ec extends lh{constructor(e){super(),this.elements=e}}function P0(s,e){let t=U0(e);for(const i of s.elements)t=t.filter(l=>!zs(l,i));return{arrayValue:{values:t}}}class Bd extends lh{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function Ax(s){return At(s.integerValue||s.doubleValue)}function U0(s){return Mg(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function yk(s,e){return s.field.isEqual(e.field)&&function(i,l){return i instanceof xc&&l instanceof xc||i instanceof Ec&&l instanceof Ec?Nl(i.elements,l.elements,zs):i instanceof Bd&&l instanceof Bd?zs(i.Ie,l.Ie):i instanceof Vd&&l instanceof Vd}(s.transform,e.transform)}class _k{constructor(e,t){this.version=e,this.transformResults=t}}class es{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new es}static exists(e){return new es(void 0,e)}static updateTime(e){return new es(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bd(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class oh{}function V0(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Bg(s.key,es.none()):new Nc(s.key,s.data,es.none());{const t=s.data,i=bn.empty();let l=new Vt(tn.comparator);for(let c of e.fields)if(!l.has(c)){let h=t.field(c);h===null&&c.length>1&&(c=c.popLast(),h=t.field(c)),h===null?i.delete(c):i.set(c,h),l=l.add(c)}return new Ii(s.key,i,new On(l.toArray()),es.none())}}function vk(s,e,t){s instanceof Nc?function(l,c,h){const m=l.value.clone(),p=wx(l.fieldTransforms,c,h.transformResults);m.setAll(p),c.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(s,e,t):s instanceof Ii?function(l,c,h){if(!bd(l.precondition,c))return void c.convertToUnknownDocument(h.version);const m=wx(l.fieldTransforms,c,h.transformResults),p=c.data;p.setAll(B0(l)),p.setAll(m),c.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(s,e,t):function(l,c,h){c.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function uc(s,e,t,i){return s instanceof Nc?function(c,h,m,p){if(!bd(c.precondition,h))return m;const y=c.value.clone(),v=Nx(c.fieldTransforms,p,h);return y.setAll(v),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null}(s,e,t,i):s instanceof Ii?function(c,h,m,p){if(!bd(c.precondition,h))return m;const y=Nx(c.fieldTransforms,p,h),v=h.data;return v.setAll(B0(c)),v.setAll(y),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(w=>w.field))}(s,e,t,i):function(c,h,m){return bd(c.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(s,e,t)}function xk(s,e){let t=null;for(const i of s.fieldTransforms){const l=e.data.field(i.field),c=M0(i.transform,l||null);c!=null&&(t===null&&(t=bn.empty()),t.set(i.field,c))}return t||null}function Sx(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(i,l){return i===void 0&&l===void 0||!(!i||!l)&&Nl(i,l,(c,h)=>yk(c,h))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Nc extends oh{constructor(e,t,i,l=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Ii extends oh{constructor(e,t,i,l,c=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function B0(s){const e=new Map;return s.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=s.data.field(t);e.set(t,i)}}),e}function wx(s,e,t){const i=new Map;Je(s.length===t.length);for(let l=0;l<t.length;l++){const c=s[l],h=c.transform,m=e.data.field(c.field);i.set(c.field,pk(h,m,t[l]))}return i}function Nx(s,e,t){const i=new Map;for(const l of s){const c=l.transform,h=t.data.field(l.field);i.set(l.field,gk(c,h,e))}return i}class Bg extends oh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ek extends oh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e,t,i,l){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=l}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&vk(c,e,i[l])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=uc(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=uc(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=D0();return this.mutations.forEach(l=>{const c=e.get(l.key),h=c.overlayedDocument;let m=this.applyToLocalView(h,c.mutatedFields);m=t.has(l.key)?null:m;const p=V0(h,m);p!==null&&i.set(l.key,p),h.isValidDocument()||h.convertToNoDocument(Ce.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ue())}isEqual(e){return this.batchId===e.batchId&&Nl(this.mutations,e.mutations,(t,i)=>Sx(t,i))&&Nl(this.baseMutations,e.baseMutations,(t,i)=>Sx(t,i))}}class Hg{constructor(e,t,i,l){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=l}static from(e,t,i){Je(e.mutations.length===i.length);let l=function(){return uk}();const c=e.mutations;for(let h=0;h<c.length;h++)l=l.insert(c[h].key,i[h].version);return new Hg(e,t,i,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rt,Fe;function Sk(s){switch(s){case re.OK:return Ne();case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return Ne()}}function H0(s){if(s===void 0)return Sa("GRPC error has no .code"),re.UNKNOWN;switch(s){case Rt.OK:return re.OK;case Rt.CANCELLED:return re.CANCELLED;case Rt.UNKNOWN:return re.UNKNOWN;case Rt.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case Rt.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case Rt.INTERNAL:return re.INTERNAL;case Rt.UNAVAILABLE:return re.UNAVAILABLE;case Rt.UNAUTHENTICATED:return re.UNAUTHENTICATED;case Rt.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case Rt.NOT_FOUND:return re.NOT_FOUND;case Rt.ALREADY_EXISTS:return re.ALREADY_EXISTS;case Rt.PERMISSION_DENIED:return re.PERMISSION_DENIED;case Rt.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case Rt.ABORTED:return re.ABORTED;case Rt.OUT_OF_RANGE:return re.OUT_OF_RANGE;case Rt.UNIMPLEMENTED:return re.UNIMPLEMENTED;case Rt.DATA_LOSS:return re.DATA_LOSS;default:return Ne()}}(Fe=Rt||(Rt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nk=new Ei([4294967295,4294967295],0);function Rx(s){const e=wk().encode(s),t=new a0;return t.update(e),new Uint8Array(t.digest())}function kx(s){const e=new DataView(s.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Ei([t,i],0),new Ei([l,c],0)]}class zg{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new ic(`Invalid padding: ${t}`);if(i<0)throw new ic(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new ic(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new ic(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Ei.fromNumber(this.Ee)}Ae(e,t,i){let l=e.add(t.multiply(Ei.fromNumber(i)));return l.compare(Nk)===1&&(l=new Ei([l.getBits(0),l.getBits(1)],0)),l.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=Rx(e),[i,l]=kx(t);for(let c=0;c<this.hashCount;c++){const h=this.Ae(i,l,c);if(!this.Re(h))return!1}return!0}static create(e,t,i){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),h=new zg(c,l,t);return i.forEach(m=>h.insert(m)),h}insert(e){if(this.Ee===0)return;const t=Rx(e),[i,l]=kx(t);for(let c=0;c<this.hashCount;c++){const h=this.Ae(i,l,c);this.Ve(h)}}Ve(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class ic extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(e,t,i,l,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const l=new Map;return l.set(e,Rc.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new ch(Ce.min(),l,new ft(Be),wa(),Ue())}}class Rc{constructor(e,t,i,l,c){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Rc(i,t,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e,t,i,l){this.me=e,this.removedTargetIds=t,this.key=i,this.fe=l}}class z0{constructor(e,t){this.targetId=e,this.ge=t}}class q0{constructor(e,t,i=sn.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=l}}class Cx{constructor(){this.pe=0,this.ye=Ix(),this.we=sn.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Ue(),t=Ue(),i=Ue();return this.ye.forEach((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:t=t.add(l);break;case 1:i=i.add(l);break;default:Ne()}}),new Rc(this.we,this.be,e,t,i)}Me(){this.Se=!1,this.ye=Ix()}xe(e,t){this.Se=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Je(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class Rk{constructor(e){this.ke=e,this.qe=new Map,this.Qe=wa(),this.$e=dd(),this.Ke=dd(),this.Ue=new ft(Be)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const i=this.He(t);switch(e.state){case 0:this.Je(t)&&i.Ce(e.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(e.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(t);break;case 3:this.Je(t)&&(i.Le(),i.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),i.Ce(e.resumeToken));break;default:Ne()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((i,l)=>{this.Je(l)&&t(l)})}Ze(e){const t=e.targetId,i=e.ge.count,l=this.Xe(t);if(l){const c=l.target;if(ng(c))if(i===0){const h=new be(c.path);this.ze(t,h,un.newNoDocument(h,Ce.min()))}else Je(i===1);else{const h=this.et(t);if(h!==i){const m=this.tt(e),p=m?this.nt(m,e,h):1;if(p!==0){this.Ye(t);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,y)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:l=0},hashCount:c=0}=t;let h,m;try{h=wi(i).toUint8Array()}catch(p){if(p instanceof m0)return wl("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new zg(h,l,c)}catch(p){return wl(p instanceof ic?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(e,t,i){return t.ge.count===i-this.st(e,t.targetId)?0:2}st(e,t){const i=this.ke.getRemoteKeysForTarget(t);let l=0;return i.forEach(c=>{const h=this.ke.it(),m=`projects/${h.projectId}/databases/${h.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.ze(t,c,null),l++)}),l}ot(e){const t=new Map;this.qe.forEach((c,h)=>{const m=this.Xe(h);if(m){if(c.current&&ng(m.target)){const p=new be(m.target.path);this._t(p).has(h)||this.ut(h,p)||this.ze(h,p,un.newNoDocument(p,e))}c.ve&&(t.set(h,c.Fe()),c.Me())}});let i=Ue();this.Ke.forEach((c,h)=>{let m=!0;h.forEachWhile(p=>{const y=this.Xe(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(i=i.add(c))}),this.Qe.forEach((c,h)=>h.setReadTime(e));const l=new ch(e,t,this.Ue,this.Qe,i);return this.Qe=wa(),this.$e=dd(),this.Ke=dd(),this.Ue=new ft(Be),l}Ge(e,t){if(!this.Je(e))return;const i=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,i),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,i){if(!this.Je(e))return;const l=this.He(e);this.ut(e,t)?l.xe(t,1):l.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),i&&(this.Qe=this.Qe.insert(t,i))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new Cx,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new Vt(Be),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Vt(Be),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||ye("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Cx),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function dd(){return new ft(be.comparator)}function Ix(){return new ft(be.comparator)}const kk={asc:"ASCENDING",desc:"DESCENDING"},Ck={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ik={and:"AND",or:"OR"};class jk{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ag(s,e){return s.useProto3Json||sh(e)?e:{value:e}}function Hd(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function K0(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function Dk(s,e){return Hd(s,e.toTimestamp())}function Vs(s){return Je(!!s),Ce.fromTimestamp(function(t){const i=Si(t);return new Ut(i.seconds,i.nanos)}(s))}function qg(s,e){return ig(s,e).canonicalString()}function ig(s,e){const t=function(l){return new rt(["projects",l.projectId,"databases",l.database])}(s).child("documents");return e===void 0?t:t.child(e)}function F0(s){const e=rt.fromString(s);return Je(W0(e)),e}function rg(s,e){return qg(s.databaseId,e.path)}function Pm(s,e){const t=F0(e);if(t.get(1)!==s.databaseId.projectId)throw new _e(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+s.databaseId.projectId);if(t.get(3)!==s.databaseId.database)throw new _e(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+s.databaseId.database);return new be($0(t))}function G0(s,e){return qg(s.databaseId,e)}function Ok(s){const e=F0(s);return e.length===4?rt.emptyPath():$0(e)}function lg(s){return new rt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function $0(s){return Je(s.length>4&&s.get(4)==="documents"),s.popFirst(5)}function jx(s,e,t){return{name:rg(s,e),fields:t.value.mapValue.fields}}function Mk(s,e){let t;if("targetChange"in e){e.targetChange;const i=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ne()}(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=function(y,v){return y.useProto3Json?(Je(v===void 0||typeof v=="string"),sn.fromBase64String(v||"")):(Je(v===void 0||v instanceof Buffer||v instanceof Uint8Array),sn.fromUint8Array(v||new Uint8Array))}(s,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(y){const v=y.code===void 0?re.UNKNOWN:H0(y.code);return new _e(v,y.message||"")}(h);t=new q0(i,l,c,m||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const l=Pm(s,i.document.name),c=Vs(i.document.updateTime),h=i.document.createTime?Vs(i.document.createTime):Ce.min(),m=new bn({mapValue:{fields:i.document.fields}}),p=un.newFoundDocument(l,c,h,m),y=i.targetIds||[],v=i.removedTargetIds||[];t=new Ad(y,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const l=Pm(s,i.document),c=i.readTime?Vs(i.readTime):Ce.min(),h=un.newNoDocument(l,c),m=i.removedTargetIds||[];t=new Ad([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const l=Pm(s,i.document),c=i.removedTargetIds||[];t=new Ad([],c,l,null)}else{if(!("filter"in e))return Ne();{e.filter;const i=e.filter;i.targetId;const{count:l=0,unchangedNames:c}=i,h=new Ak(l,c),m=i.targetId;t=new z0(m,h)}}return t}function Lk(s,e){let t;if(e instanceof Nc)t={update:jx(s,e.key,e.value)};else if(e instanceof Bg)t={delete:rg(s,e.key)};else if(e instanceof Ii)t={update:jx(s,e.key,e.data),updateMask:Fk(e.fieldMask)};else{if(!(e instanceof Ek))return Ne();t={verify:rg(s,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(c,h){const m=h.transform;if(m instanceof Vd)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof xc)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Ec)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Bd)return{fieldPath:h.field.canonicalString(),increment:m.Ie};throw Ne()}(0,i))),e.precondition.isNone||(t.currentDocument=function(l,c){return c.updateTime!==void 0?{updateTime:Dk(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Ne()}(s,e.precondition)),t}function Pk(s,e){return s&&s.length>0?(Je(e!==void 0),s.map(t=>function(l,c){let h=l.updateTime?Vs(l.updateTime):Vs(c);return h.isEqual(Ce.min())&&(h=Vs(c)),new _k(h,l.transformResults||[])}(t,e))):[]}function Uk(s,e){return{documents:[G0(s,e.path)]}}function Vk(s,e){const t={structuredQuery:{}},i=e.path;let l;e.collectionGroup!==null?(l=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=G0(s,l);const c=function(y){if(y.length!==0)return Y0(cs.create(y,"and"))}(e.filters);c&&(t.structuredQuery.where=c);const h=function(y){if(y.length!==0)return y.map(v=>function(N){return{field:vl(N.field),direction:zk(N.dir)}}(v))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const m=ag(s,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ht:t,parent:l}}function Bk(s){let e=Ok(s.parent);const t=s.structuredQuery,i=t.from?t.from.length:0;let l=null;if(i>0){Je(i===1);const v=t.from[0];v.allDescendants?l=v.collectionId:e=e.child(v.collectionId)}let c=[];t.where&&(c=function(w){const N=Q0(w);return N instanceof cs&&A0(N)?N.getFilters():[N]}(t.where));let h=[];t.orderBy&&(h=function(w){return w.map(N=>function(L){return new vc(xl(L.field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(L.direction))}(N))}(t.orderBy));let m=null;t.limit&&(m=function(w){let N;return N=typeof w=="object"?w.value:w,sh(N)?null:N}(t.limit));let p=null;t.startAt&&(p=function(w){const N=!!w.before,O=w.values||[];return new Pd(O,N)}(t.startAt));let y=null;return t.endAt&&(y=function(w){const N=!w.before,O=w.values||[];return new Pd(O,N)}(t.endAt)),ik(e,l,h,c,m,"F",p,y)}function Hk(s,e){const t=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ne()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Q0(s){return s.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=xl(t.unaryFilter.field);return kt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const l=xl(t.unaryFilter.field);return kt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=xl(t.unaryFilter.field);return kt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=xl(t.unaryFilter.field);return kt.create(h,"!=",{nullValue:"NULL_VALUE"});default:return Ne()}}(s):s.fieldFilter!==void 0?function(t){return kt.create(xl(t.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ne()}}(t.fieldFilter.op),t.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(t){return cs.create(t.compositeFilter.filters.map(i=>Q0(i)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Ne()}}(t.compositeFilter.op))}(s):Ne()}function zk(s){return kk[s]}function qk(s){return Ck[s]}function Kk(s){return Ik[s]}function vl(s){return{fieldPath:s.canonicalString()}}function xl(s){return tn.fromServerFormat(s.fieldPath)}function Y0(s){return s instanceof kt?function(t){if(t.op==="=="){if(vx(t.value))return{unaryFilter:{field:vl(t.field),op:"IS_NAN"}};if(_x(t.value))return{unaryFilter:{field:vl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(vx(t.value))return{unaryFilter:{field:vl(t.field),op:"IS_NOT_NAN"}};if(_x(t.value))return{unaryFilter:{field:vl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vl(t.field),op:qk(t.op),value:t.value}}}(s):s instanceof cs?function(t){const i=t.getFilters().map(l=>Y0(l));return i.length===1?i[0]:{compositeFilter:{op:Kk(t.op),filters:i}}}(s):Ne()}function Fk(s){const e=[];return s.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function W0(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e,t,i,l,c=Ce.min(),h=Ce.min(),m=sn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new _i(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new _i(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(e){this.Tt=e}}function $k(s){const e=Bk({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Ud(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(){this.Tn=new Yk}addToCollectionParentIndex(e,t){return this.Tn.add(t),le.resolve()}getCollectionParents(e,t){return le.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return le.resolve()}deleteFieldIndex(e,t){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,t){return le.resolve()}getDocumentsMatchingTarget(e,t){return le.resolve(null)}getIndexType(e,t){return le.resolve(0)}getFieldIndexes(e,t){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,t){return le.resolve(Ai.min())}getMinOffsetFromCollectionGroup(e,t){return le.resolve(Ai.min())}updateCollectionGroup(e,t,i){return le.resolve()}updateIndexEntries(e,t){return le.resolve()}}class Yk{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),l=this.index[t]||new Vt(rt.comparator),c=!l.has(i);return this.index[t]=l.add(i),c}has(e){const t=e.lastSegment(),i=e.popLast(),l=this.index[t];return l&&l.has(i)}getEntries(e){return(this.index[e]||new Vt(rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},X0=41943040;class Tn{static withCacheSize(e){return new Tn(e,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Tn.DEFAULT_COLLECTION_PERCENTILE=10,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tn.DEFAULT=new Tn(X0,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tn.DISABLED=new Tn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Cl(0)}static Un(){return new Cl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox="LruGarbageCollector",Wk=1048576;function Mx([s,e],[t,i]){const l=Be(s,t);return l===0?Be(e,i):l}class Xk{constructor(e){this.Hn=e,this.buffer=new Vt(Mx),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();Mx(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Zk{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ye(Ox,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Vl(t)?ye(Ox,"Ignoring IndexedDB error during garbage collection: ",t):await Ul(t)}await this.er(3e5)})}}class Jk{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return le.resolve(nh.ae);const i=new Xk(t);return this.tr.forEachTarget(e,l=>i.Zn(l.sequenceNumber)).next(()=>this.tr.rr(e,l=>i.Zn(l))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.tr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(Dx)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Dx):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let i,l,c,h,m,p,y;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),l=this.params.maximumSequenceNumbersToCollect):l=w,h=Date.now(),this.nthSequenceNumber(e,l))).next(w=>(i=w,m=Date.now(),this.removeTargets(e,i,t))).next(w=>(c=w,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(w=>(y=Date.now(),yl()<=Pe.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-v}ms
	Determined least recently used ${l} in `+(m-h)+`ms
	Removed ${c} targets in `+(p-m)+`ms
	Removed ${w} documents in `+(y-p)+`ms
Total Duration: ${y-v}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:w})))}}function eC(s,e){return new Jk(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(){this.changes=new wr(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,un.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?le.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e,t,i,l){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=l}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(l=>(i=l,this.remoteDocumentCache.getEntry(e,t))).next(l=>(i!==null&&uc(i.mutation,l,On.empty(),Ut.now()),l))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Ue()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Ue()){const l=mr();return this.populateOverlays(e,l,t).next(()=>this.computeViews(e,t,l,i).next(c=>{let h=ac();return c.forEach((m,p)=>{h=h.insert(m,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const i=mr();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Ue()))}populateOverlays(e,t,i){const l=[];return i.forEach(c=>{t.has(c)||l.push(c)}),this.documentOverlayCache.getOverlays(e,l).next(c=>{c.forEach((h,m)=>{t.set(h,m)})})}computeViews(e,t,i,l){let c=wa();const h=cc(),m=function(){return cc()}();return t.forEach((p,y)=>{const v=i.get(y.key);l.has(y.key)&&(v===void 0||v.mutation instanceof Ii)?c=c.insert(y.key,y):v!==void 0?(h.set(y.key,v.mutation.getFieldMask()),uc(v.mutation,y,v.mutation.getFieldMask(),Ut.now())):h.set(y.key,On.empty())}),this.recalculateAndSaveOverlays(e,c).next(p=>(p.forEach((y,v)=>h.set(y,v)),t.forEach((y,v)=>{var w;return m.set(y,new nC(v,(w=h.get(y))!==null&&w!==void 0?w:null))}),m))}recalculateAndSaveOverlays(e,t){const i=cc();let l=new ft((h,m)=>h-m),c=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const m of h)m.keys().forEach(p=>{const y=t.get(p);if(y===null)return;let v=i.get(p)||On.empty();v=m.applyToLocalView(y,v),i.set(p,v);const w=(l.get(m.batchId)||Ue()).add(p);l=l.insert(m.batchId,w)})}).next(()=>{const h=[],m=l.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,v=p.value,w=D0();v.forEach(N=>{if(!c.has(N)){const O=V0(t.get(N),i.get(N));O!==null&&w.set(N,O),c=c.add(N)}}),h.push(this.documentOverlayCache.saveOverlays(e,y,w))}return le.waitFor(h)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,l){return function(h){return be.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):R0(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,l):this.getDocumentsMatchingCollectionQuery(e,t,i,l)}getNextDocuments(e,t,i,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,l).next(c=>{const h=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,l-c.size):le.resolve(mr());let m=gc,p=c;return h.next(y=>le.forEach(y,(v,w)=>(m<w.largestBatchId&&(m=w.largestBatchId),c.get(v)?le.resolve():this.remoteDocumentCache.getEntry(e,v).next(N=>{p=p.insert(v,N)}))).next(()=>this.populateOverlays(e,y,c)).next(()=>this.computeViews(e,p,y,Ue())).next(v=>({batchId:m,changes:j0(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new be(t)).next(i=>{let l=ac();return i.isFoundDocument()&&(l=l.insert(i.key,i)),l})}getDocumentsMatchingCollectionGroupQuery(e,t,i,l){const c=t.collectionGroup;let h=ac();return this.indexManager.getCollectionParents(e,c).next(m=>le.forEach(m,p=>{const y=function(w,N){return new Bl(N,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(t,p.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,i,l).next(v=>{v.forEach((w,N)=>{h=h.insert(w,N)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,i,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(h=>(c=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,c,l))).next(h=>{c.forEach((p,y)=>{const v=y.getKey();h.get(v)===null&&(h=h.insert(v,un.newInvalidDocument(v)))});let m=ac();return h.forEach((p,y)=>{const v=c.get(p);v!==void 0&&uc(v.mutation,y,On.empty(),Ut.now()),rh(t,y)&&(m=m.insert(p,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return le.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(l){return{id:l.id,version:l.version,createTime:Vs(l.createTime)}}(t)),le.resolve()}getNamedQuery(e,t){return le.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(l){return{name:l.name,query:$k(l.bundledQuery),readTime:Vs(l.readTime)}}(t)),le.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(){this.overlays=new ft(be.comparator),this.Rr=new Map}getOverlay(e,t){return le.resolve(this.overlays.get(t))}getOverlays(e,t){const i=mr();return le.forEach(t,l=>this.getOverlay(e,l).next(c=>{c!==null&&i.set(l,c)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((l,c)=>{this.Et(e,t,c)}),le.resolve()}removeOverlaysForBatchId(e,t,i){const l=this.Rr.get(i);return l!==void 0&&(l.forEach(c=>this.overlays=this.overlays.remove(c)),this.Rr.delete(i)),le.resolve()}getOverlaysForCollection(e,t,i){const l=mr(),c=t.length+1,h=new be(t.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===c&&p.largestBatchId>i&&l.set(p.getKey(),p)}return le.resolve(l)}getOverlaysForCollectionGroup(e,t,i,l){let c=new ft((y,v)=>y-v);const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let v=c.get(y.largestBatchId);v===null&&(v=mr(),c=c.insert(y.largestBatchId,v)),v.set(y.getKey(),y)}}const m=mr(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,v)=>m.set(y,v)),!(m.size()>=l)););return le.resolve(m)}Et(e,t,i){const l=this.overlays.get(i.key);if(l!==null){const h=this.Rr.get(l.largestBatchId).delete(i.key);this.Rr.set(l.largestBatchId,h)}this.overlays=this.overlays.insert(i.key,new bk(t,i));let c=this.Rr.get(t);c===void 0&&(c=Ue(),this.Rr.set(t,c)),this.Rr.set(t,c.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(){this.sessionToken=sn.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,le.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(){this.Vr=new Vt($t.mr),this.gr=new Vt($t.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const i=new $t(e,t);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.wr(new $t(e,t))}br(e,t){e.forEach(i=>this.removeReference(i,t))}Sr(e){const t=new be(new rt([])),i=new $t(t,e),l=new $t(t,e+1),c=[];return this.gr.forEachInRange([i,l],h=>{this.wr(h),c.push(h.key)}),c}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new be(new rt([])),i=new $t(t,e),l=new $t(t,e+1);let c=Ue();return this.gr.forEachInRange([i,l],h=>{c=c.add(h.key)}),c}containsKey(e){const t=new $t(e,0),i=this.Vr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class $t{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return be.comparator(e.key,t.key)||Be(e.Cr,t.Cr)}static pr(e,t){return Be(e.Cr,t.Cr)||be.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Vt($t.mr)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,l){const c=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new Tk(c,t,i,l);this.mutationQueue.push(h);for(const m of l)this.Mr=this.Mr.add(new $t(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return le.resolve(h)}lookupMutationBatch(e,t){return le.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,l=this.Nr(i),c=l<0?0:l;return le.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?Dg:this.Fr-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new $t(t,0),l=new $t(t,Number.POSITIVE_INFINITY),c=[];return this.Mr.forEachInRange([i,l],h=>{const m=this.Or(h.Cr);c.push(m)}),le.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Vt(Be);return t.forEach(l=>{const c=new $t(l,0),h=new $t(l,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([c,h],m=>{i=i.add(m.Cr)})}),le.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,l=i.length+1;let c=i;be.isDocumentKey(c)||(c=c.child(""));const h=new $t(new be(c),0);let m=new Vt(Be);return this.Mr.forEachWhile(p=>{const y=p.key.path;return!!i.isPrefixOf(y)&&(y.length===l&&(m=m.add(p.Cr)),!0)},h),le.resolve(this.Br(m))}Br(e){const t=[];return e.forEach(i=>{const l=this.Or(i);l!==null&&t.push(l)}),t}removeMutationBatch(e,t){Je(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return le.forEach(t.mutations,l=>{const c=new $t(l.key,t.batchId);return i=i.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.Mr=i})}qn(e){}containsKey(e,t){const i=new $t(t,0),l=this.Mr.firstAfterOrEqual(i);return le.resolve(t.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e){this.kr=e,this.docs=function(){return new ft(be.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,l=this.docs.get(i),c=l?l.size:0,h=this.kr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:h}),this.size+=h-c,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return le.resolve(i?i.document.mutableCopy():un.newInvalidDocument(t))}getEntries(e,t){let i=wa();return t.forEach(l=>{const c=this.docs.get(l);i=i.insert(l,c?c.document.mutableCopy():un.newInvalidDocument(l))}),le.resolve(i)}getDocumentsMatchingQuery(e,t,i,l){let c=wa();const h=t.path,m=new be(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:v}}=p.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||PR(LR(v),i)<=0||(l.has(v.key)||rh(t,v))&&(c=c.insert(v.key,v.mutableCopy()))}return le.resolve(c)}getAllFromCollectionGroup(e,t,i,l){Ne()}qr(e,t){return le.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new cC(this)}getSize(e){return le.resolve(this.size)}}class cC extends tC{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((i,l)=>{l.isValidDocument()?t.push(this.Ir.addEntry(e,l)):this.Ir.removeEntry(i)}),le.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e){this.persistence=e,this.Qr=new wr(t=>Lg(t),Pg),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Kg,this.targetCount=0,this.Ur=Cl.Kn()}forEachTarget(e,t){return this.Qr.forEach((i,l)=>t(l)),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.$r&&(this.$r=t),le.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new Cl(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,le.resolve()}updateTargetData(e,t){return this.zn(t),le.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.Sr(t.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,t,i){let l=0;const c=[];return this.Qr.forEach((h,m)=>{m.sequenceNumber<=t&&i.get(m.targetId)===null&&(this.Qr.delete(h),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),l++)}),le.waitFor(c).next(()=>l)}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,t){const i=this.Qr.get(t)||null;return le.resolve(i)}addMatchingKeys(e,t,i){return this.Kr.yr(t,i),le.resolve()}removeMatchingKeys(e,t,i){this.Kr.br(t,i);const l=this.persistence.referenceDelegate,c=[];return l&&t.forEach(h=>{c.push(l.markPotentiallyOrphaned(e,h))}),le.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.Kr.Sr(t),le.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Kr.vr(t);return le.resolve(i)}containsKey(e,t){return le.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new nh(0),this.zr=!1,this.zr=!0,this.jr=new rC,this.referenceDelegate=e(this),this.Hr=new uC(this),this.indexManager=new Qk,this.remoteDocumentCache=function(l){return new oC(l)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new Gk(t),this.Yr=new aC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new iC,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Wr[e.toKey()];return i||(i=new lC(t,this.referenceDelegate),this.Wr[e.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,i){ye("MemoryPersistence","Starting transaction:",e);const l=new dC(this.Gr.next());return this.referenceDelegate.Zr(),i(l).next(c=>this.referenceDelegate.Xr(l).next(()=>c)).toPromise().then(c=>(l.raiseOnCommittedEvent(),c))}ei(e,t){return le.or(Object.values(this.Wr).map(i=>()=>i.containsKey(e,t)))}}class dC extends VR{constructor(e){super(),this.currentSequenceNumber=e}}class Fg{constructor(e){this.persistence=e,this.ti=new Kg,this.ni=null}static ri(e){return new Fg(e)}get ii(){if(this.ni)return this.ni;throw Ne()}addReference(e,t,i){return this.ti.addReference(i,t),this.ii.delete(i.toString()),le.resolve()}removeReference(e,t,i){return this.ti.removeReference(i,t),this.ii.add(i.toString()),le.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),le.resolve()}removeTarget(e,t){this.ti.Sr(t.targetId).forEach(l=>this.ii.add(l.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(l=>{l.forEach(c=>this.ii.add(c.toString()))}).next(()=>i.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.ii,i=>{const l=be.fromPath(i);return this.si(e,l).next(c=>{c||t.removeEntry(l,Ce.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(i=>{i?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return le.or([()=>le.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class zd{constructor(e,t){this.persistence=e,this.oi=new wr(i=>zR(i.path),(i,l)=>i.isEqual(l)),this.garbageCollector=eC(this,t)}static ri(e,t){return new zd(e,t)}Zr(){}Xr(e){return le.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(l=>i+l))}sr(e){let t=0;return this.rr(e,i=>{t++}).next(()=>t)}rr(e,t){return le.forEach(this.oi,(i,l)=>this.ar(e,i,l).next(c=>c?le.resolve():t(l)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.qr(e,h=>this.ar(e,h,t).next(m=>{m||(i++,c.removeEntry(h,Ce.min()))})).next(()=>c.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),le.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),le.resolve()}removeReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),le.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),le.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Ed(e.data.value)),t}ar(e,t,i){return le.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const l=this.oi.get(t);return le.resolve(l!==void 0&&l>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(e,t,i,l){this.targetId=e,this.fromCache=t,this.Hi=i,this.Ji=l}static Yi(e,t){let i=Ue(),l=Ue();for(const c of t.docChanges)switch(c.type){case 0:i=i.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Gg(e,t.fromCache,i,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return lN()?8:BR(dn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,i,l){const c={result:null};return this.rs(e,t).next(h=>{c.result=h}).next(()=>{if(!c.result)return this.ss(e,t,l,i).next(h=>{c.result=h})}).next(()=>{if(c.result)return;const h=new hC;return this._s(e,t,h).next(m=>{if(c.result=m,this.Xi)return this.us(e,t,h,m.size)})}).next(()=>c.result)}us(e,t,i,l){return i.documentReadCount<this.es?(yl()<=Pe.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",_l(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),le.resolve()):(yl()<=Pe.DEBUG&&ye("QueryEngine","Query:",_l(t),"scans",i.documentReadCount,"local documents and returns",l,"documents as results."),i.documentReadCount>this.ts*l?(yl()<=Pe.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",_l(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Us(t))):le.resolve())}rs(e,t){if(bx(t))return le.resolve(null);let i=Us(t);return this.indexManager.getIndexType(e,i).next(l=>l===0?null:(t.limit!==null&&l===1&&(t=Ud(t,null,"F"),i=Us(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(c=>{const h=Ue(...c);return this.ns.getDocuments(e,h).next(m=>this.indexManager.getMinOffset(e,i).next(p=>{const y=this.cs(t,m);return this.ls(t,y,h,p.readTime)?this.rs(e,Ud(t,null,"F")):this.hs(e,y,t,p)}))})))}ss(e,t,i,l){return bx(t)||l.isEqual(Ce.min())?le.resolve(null):this.ns.getDocuments(e,i).next(c=>{const h=this.cs(t,c);return this.ls(t,h,i,l)?le.resolve(null):(yl()<=Pe.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),_l(t)),this.hs(e,h,t,MR(l,gc)).next(m=>m))})}cs(e,t){let i=new Vt(C0(e));return t.forEach((l,c)=>{rh(e,c)&&(i=i.add(c))}),i}ls(e,t,i,l){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const c=e.limitType==="F"?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}_s(e,t,i){return yl()<=Pe.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",_l(t)),this.ns.getDocumentsMatchingQuery(e,t,Ai.min(),i)}hs(e,t,i,l){return this.ns.getDocumentsMatchingQuery(e,i,l).next(c=>(t.forEach(h=>{c=c.insert(h.key,h)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $g="LocalStore",mC=3e8;class gC{constructor(e,t,i,l){this.persistence=e,this.Ps=t,this.serializer=l,this.Ts=new ft(Be),this.Is=new wr(c=>Lg(c),Pg),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(i)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new sC(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function pC(s,e,t,i){return new gC(s,e,t,i)}async function J0(s,e){const t=je(s);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let l;return t.mutationQueue.getAllMutationBatches(i).next(c=>(l=c,t.As(e),t.mutationQueue.getAllMutationBatches(i))).next(c=>{const h=[],m=[];let p=Ue();for(const y of l){h.push(y.batchId);for(const v of y.mutations)p=p.add(v.key)}for(const y of c){m.push(y.batchId);for(const v of y.mutations)p=p.add(v.key)}return t.localDocuments.getDocuments(i,p).next(y=>({Rs:y,removedBatchIds:h,addedBatchIds:m}))})})}function yC(s,e){const t=je(s);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const l=e.batch.keys(),c=t.ds.newChangeBuffer({trackRemovals:!0});return function(m,p,y,v){const w=y.batch,N=w.keys();let O=le.resolve();return N.forEach(L=>{O=O.next(()=>v.getEntry(p,L)).next(B=>{const V=y.docVersions.get(L);Je(V!==null),B.version.compareTo(V)<0&&(w.applyToRemoteDocument(B,y),B.isValidDocument()&&(B.setReadTime(y.commitVersion),v.addEntry(B)))})}),O.next(()=>m.mutationQueue.removeMutationBatch(p,w))}(t,i,e,c).next(()=>c.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,l,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(m){let p=Ue();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p}(e))).next(()=>t.localDocuments.getDocuments(i,l))})}function eT(s){const e=je(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function _C(s,e){const t=je(s),i=e.snapshotVersion;let l=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const h=t.ds.newChangeBuffer({trackRemovals:!0});l=t.Ts;const m=[];e.targetChanges.forEach((v,w)=>{const N=l.get(w);if(!N)return;m.push(t.Hr.removeMatchingKeys(c,v.removedDocuments,w).next(()=>t.Hr.addMatchingKeys(c,v.addedDocuments,w)));let O=N.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(w)!==null?O=O.withResumeToken(sn.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):v.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(v.resumeToken,i)),l=l.insert(w,O),function(B,V,z){return B.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=mC?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0}(N,O,v)&&m.push(t.Hr.updateTargetData(c,O))});let p=wa(),y=Ue();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(c,v))}),m.push(vC(c,h,e.documentUpdates).next(v=>{p=v.Vs,y=v.fs})),!i.isEqual(Ce.min())){const v=t.Hr.getLastRemoteSnapshotVersion(c).next(w=>t.Hr.setTargetsMetadata(c,c.currentSequenceNumber,i));m.push(v)}return le.waitFor(m).next(()=>h.apply(c)).next(()=>t.localDocuments.getLocalViewOfDocuments(c,p,y)).next(()=>p)}).then(c=>(t.Ts=l,c))}function vC(s,e,t){let i=Ue(),l=Ue();return t.forEach(c=>i=i.add(c)),e.getEntries(s,i).next(c=>{let h=wa();return t.forEach((m,p)=>{const y=c.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(m)),p.isNoDocument()&&p.version.isEqual(Ce.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):ye($g,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)}),{Vs:h,fs:l}})}function xC(s,e){const t=je(s);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Dg),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function EC(s,e){const t=je(s);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let l;return t.Hr.getTargetData(i,e).next(c=>c?(l=c,le.resolve(l)):t.Hr.allocateTargetId(i).next(h=>(l=new _i(e,h,"TargetPurposeListen",i.currentSequenceNumber),t.Hr.addTargetData(i,l).next(()=>l))))}).then(i=>{const l=t.Ts.get(i.targetId);return(l===null||i.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(i.targetId,i),t.Is.set(e,i.targetId)),i})}async function og(s,e,t){const i=je(s),l=i.Ts.get(e),c=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",c,h=>i.persistence.referenceDelegate.removeTarget(h,l))}catch(h){if(!Vl(h))throw h;ye($g,`Failed to update sequence numbers for target ${e}: ${h}`)}i.Ts=i.Ts.remove(e),i.Is.delete(l.target)}function Lx(s,e,t){const i=je(s);let l=Ce.min(),c=Ue();return i.persistence.runTransaction("Execute query","readwrite",h=>function(p,y,v){const w=je(p),N=w.Is.get(v);return N!==void 0?le.resolve(w.Ts.get(N)):w.Hr.getTargetData(y,v)}(i,h,Us(e)).next(m=>{if(m)return l=m.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(h,m.targetId).next(p=>{c=p})}).next(()=>i.Ps.getDocumentsMatchingQuery(h,e,t?l:Ce.min(),t?c:Ue())).next(m=>(TC(i,lk(e),m),{documents:m,gs:c})))}function TC(s,e,t){let i=s.Es.get(e)||Ce.min();t.forEach((l,c)=>{c.readTime.compareTo(i)>0&&(i=c.readTime)}),s.Es.set(e,i)}class Px{constructor(){this.activeTargetIds=fk()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class bC{constructor(){this.ho=new Px,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,i){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Px,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux="ConnectivityMonitor";class Vx{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ye(Ux,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ye(Ux,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hd=null;function cg(){return hd===null?hd=function(){return 268435456+Math.round(2147483648*Math.random())}():hd++,"0x"+hd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Um="RestConnection",SC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class wC{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${i}/databases/${l}`,this.wo=this.databaseId.database===Md?`project_id=${i}`:`project_id=${i}&database_id=${l}`}bo(e,t,i,l,c){const h=cg(),m=this.So(e,t.toUriEncodedString());ye(Um,`Sending RPC '${e}' ${h}:`,m,i);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,l,c),this.vo(e,m,p,i).then(y=>(ye(Um,`Received RPC '${e}' ${h}: `,y),y),y=>{throw wl(Um,`RPC '${e}' ${h} failed with error: `,y,"url: ",m,"request:",i),y})}Co(e,t,i,l,c,h){return this.bo(e,t,i,l,c)}Do(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Pl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((l,c)=>e[c]=l),i&&i.headers.forEach((l,c)=>e[c]=l)}So(e,t){const i=SC[e];return`${this.po}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on="WebChannelConnection";class RC extends wC{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,i,l){const c=cg();return new Promise((h,m)=>{const p=new i0;p.setWithCredentials(!0),p.listenOnce(r0.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case xd.NO_ERROR:const v=p.getResponseJson();ye(on,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(v)),h(v);break;case xd.TIMEOUT:ye(on,`RPC '${e}' ${c} timed out`),m(new _e(re.DEADLINE_EXCEEDED,"Request time out"));break;case xd.HTTP_ERROR:const w=p.getStatus();if(ye(on,`RPC '${e}' ${c} failed with status:`,w,"response text:",p.getResponseText()),w>0){let N=p.getResponseJson();Array.isArray(N)&&(N=N[0]);const O=N==null?void 0:N.error;if(O&&O.status&&O.message){const L=function(V){const z=V.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(z)>=0?z:re.UNKNOWN}(O.status);m(new _e(L,O.message))}else m(new _e(re.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new _e(re.UNAVAILABLE,"Connection failed."));break;default:Ne()}}finally{ye(on,`RPC '${e}' ${c} completed.`)}});const y=JSON.stringify(l);ye(on,`RPC '${e}' ${c} sending request:`,l),p.send(t,"POST",y,i,15)})}Wo(e,t,i){const l=cg(),c=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=c0(),m=o0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const v=c.join("");ye(on,`Creating RPC '${e}' stream ${l}: ${v}`,p);const w=h.createWebChannel(v,p);let N=!1,O=!1;const L=new NC({Fo:V=>{O?ye(on,`Not sending because RPC '${e}' stream ${l} is closed:`,V):(N||(ye(on,`Opening RPC '${e}' stream ${l} transport.`),w.open(),N=!0),ye(on,`RPC '${e}' stream ${l} sending:`,V),w.send(V))},Mo:()=>w.close()}),B=(V,z,H)=>{V.listen(z,F=>{try{H(F)}catch(Z){setTimeout(()=>{throw Z},0)}})};return B(w,sc.EventType.OPEN,()=>{O||(ye(on,`RPC '${e}' stream ${l} transport opened.`),L.Qo())}),B(w,sc.EventType.CLOSE,()=>{O||(O=!0,ye(on,`RPC '${e}' stream ${l} transport closed`),L.Ko())}),B(w,sc.EventType.ERROR,V=>{O||(O=!0,wl(on,`RPC '${e}' stream ${l} transport errored:`,V),L.Ko(new _e(re.UNAVAILABLE,"The operation could not be completed")))}),B(w,sc.EventType.MESSAGE,V=>{var z;if(!O){const H=V.data[0];Je(!!H);const F=H,Z=(F==null?void 0:F.error)||((z=F[0])===null||z===void 0?void 0:z.error);if(Z){ye(on,`RPC '${e}' stream ${l} received error:`,Z);const oe=Z.status;let de=function(T){const b=Rt[T];if(b!==void 0)return H0(b)}(oe),D=Z.message;de===void 0&&(de=re.INTERNAL,D="Unknown error status: "+oe+" with message "+Z.message),O=!0,L.Ko(new _e(de,D)),w.close()}else ye(on,`RPC '${e}' stream ${l} received:`,H),L.Uo(H)}}),B(m,l0.STAT_EVENT,V=>{V.stat===Zm.PROXY?ye(on,`RPC '${e}' stream ${l} detected buffering proxy`):V.stat===Zm.NOPROXY&&ye(on,`RPC '${e}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{L.$o()},0),L}}function Vm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uh(s){return new jk(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(e,t,i=1e3,l=1.5,c=6e4){this.Ti=e,this.timerId=t,this.Go=i,this.zo=l,this.jo=c,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),l=Math.max(0,t-i);l>0&&ye("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,l,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx="PersistentStream";class nT{constructor(e,t,i,l,c,h,m,p){this.Ti=e,this.n_=i,this.r_=l,this.connection=c,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new tT(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===re.RESOURCE_EXHAUSTED?(Sa(t.toString()),Sa("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,l])=>{this.i_===t&&this.V_(i,l)},i=>{e(()=>{const l=new _e(re.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(l)})})}V_(e,t){const i=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(l=>{i(()=>this.m_(l))}),this.stream.onMessage(l=>{i(()=>++this.__==1?this.g_(l):this.onNext(l))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ye(Bx,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(ye(Bx,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class kC extends nT{constructor(e,t,i,l,c,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,l,h),this.serializer=c}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=Mk(this.serializer,e),i=function(c){if(!("targetChange"in c))return Ce.min();const h=c.targetChange;return h.targetIds&&h.targetIds.length?Ce.min():h.readTime?Vs(h.readTime):Ce.min()}(e);return this.listener.p_(t,i)}y_(e){const t={};t.database=lg(this.serializer),t.addTarget=function(c,h){let m;const p=h.target;if(m=ng(p)?{documents:Uk(c,p)}:{query:Vk(c,p).ht},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=K0(c,h.resumeToken);const y=ag(c,h.expectedCount);y!==null&&(m.expectedCount=y)}else if(h.snapshotVersion.compareTo(Ce.min())>0){m.readTime=Hd(c,h.snapshotVersion.toTimestamp());const y=ag(c,h.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,e);const i=Hk(this.serializer,e);i&&(t.labels=i),this.I_(t)}w_(e){const t={};t.database=lg(this.serializer),t.removeTarget=e,this.I_(t)}}class CC extends nT{constructor(e,t,i,l,c,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,l,h),this.serializer=c}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Je(!!e.streamToken),this.lastStreamToken=e.streamToken,Je(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Je(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=Pk(e.writeResults,e.commitTime),i=Vs(e.commitTime);return this.listener.v_(i,t)}C_(){const e={};e.database=lg(this.serializer),this.I_(e)}S_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>Lk(this.serializer,i))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{}class jC extends IC{constructor(e,t,i,l){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=l,this.F_=!1}M_(){if(this.F_)throw new _e(re.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,t,i,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,h])=>this.connection.bo(e,ig(t,i),l,c,h)).catch(c=>{throw c.name==="FirebaseError"?(c.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new _e(re.UNKNOWN,c.toString())})}Co(e,t,i,l,c){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Co(e,ig(t,i),l,h,m,c)).catch(h=>{throw h.name==="FirebaseError"?(h.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new _e(re.UNKNOWN,h.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class DC{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Sa(t),this.N_=!1):ye("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xr="RemoteStore";class OC{constructor(e,t,i,l,c){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=c,this.z_.To(h=>{i.enqueueAndForget(async()=>{Nr(this)&&(ye(xr,"Restarting streams for network reachability change."),await async function(p){const y=je(p);y.W_.add(4),await kc(y),y.j_.set("Unknown"),y.W_.delete(4),await dh(y)}(this))})}),this.j_=new DC(i,l)}}async function dh(s){if(Nr(s))for(const e of s.G_)await e(!0)}async function kc(s){for(const e of s.G_)await e(!1)}function sT(s,e){const t=je(s);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),Xg(t)?Wg(t):Hl(t).c_()&&Yg(t,e))}function Qg(s,e){const t=je(s),i=Hl(t);t.U_.delete(e),i.c_()&&aT(t,e),t.U_.size===0&&(i.c_()?i.P_():Nr(t)&&t.j_.set("Unknown"))}function Yg(s,e){if(s.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const t=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Hl(s).y_(e)}function aT(s,e){s.H_.Ne(e),Hl(s).w_(e)}function Wg(s){s.H_=new Rk({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>s.U_.get(e)||null,it:()=>s.datastore.serializer.databaseId}),Hl(s).start(),s.j_.B_()}function Xg(s){return Nr(s)&&!Hl(s).u_()&&s.U_.size>0}function Nr(s){return je(s).W_.size===0}function iT(s){s.H_=void 0}async function MC(s){s.j_.set("Online")}async function LC(s){s.U_.forEach((e,t)=>{Yg(s,e)})}async function PC(s,e){iT(s),Xg(s)?(s.j_.q_(e),Wg(s)):s.j_.set("Unknown")}async function UC(s,e,t){if(s.j_.set("Online"),e instanceof q0&&e.state===2&&e.cause)try{await async function(l,c){const h=c.cause;for(const m of c.targetIds)l.U_.has(m)&&(await l.remoteSyncer.rejectListen(m,h),l.U_.delete(m),l.H_.removeTarget(m))}(s,e)}catch(i){ye(xr,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await qd(s,i)}else if(e instanceof Ad?s.H_.We(e):e instanceof z0?s.H_.Ze(e):s.H_.je(e),!t.isEqual(Ce.min()))try{const i=await eT(s.localStore);t.compareTo(i)>=0&&await function(c,h){const m=c.H_.ot(h);return m.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const v=c.U_.get(y);v&&c.U_.set(y,v.withResumeToken(p.resumeToken,h))}}),m.targetMismatches.forEach((p,y)=>{const v=c.U_.get(p);if(!v)return;c.U_.set(p,v.withResumeToken(sn.EMPTY_BYTE_STRING,v.snapshotVersion)),aT(c,p);const w=new _i(v.target,p,y,v.sequenceNumber);Yg(c,w)}),c.remoteSyncer.applyRemoteEvent(m)}(s,t)}catch(i){ye(xr,"Failed to raise snapshot:",i),await qd(s,i)}}async function qd(s,e,t){if(!Vl(e))throw e;s.W_.add(1),await kc(s),s.j_.set("Offline"),t||(t=()=>eT(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{ye(xr,"Retrying IndexedDB access"),await t(),s.W_.delete(1),await dh(s)})}function rT(s,e){return e().catch(t=>qd(s,t,e))}async function hh(s){const e=je(s),t=Ri(e);let i=e.K_.length>0?e.K_[e.K_.length-1].batchId:Dg;for(;VC(e);)try{const l=await xC(e.localStore,i);if(l===null){e.K_.length===0&&t.P_();break}i=l.batchId,BC(e,l)}catch(l){await qd(e,l)}lT(e)&&oT(e)}function VC(s){return Nr(s)&&s.K_.length<10}function BC(s,e){s.K_.push(e);const t=Ri(s);t.c_()&&t.b_&&t.S_(e.mutations)}function lT(s){return Nr(s)&&!Ri(s).u_()&&s.K_.length>0}function oT(s){Ri(s).start()}async function HC(s){Ri(s).C_()}async function zC(s){const e=Ri(s);for(const t of s.K_)e.S_(t.mutations)}async function qC(s,e,t){const i=s.K_.shift(),l=Hg.from(i,e,t);await rT(s,()=>s.remoteSyncer.applySuccessfulWrite(l)),await hh(s)}async function KC(s,e){e&&Ri(s).b_&&await async function(i,l){if(function(h){return Sk(h)&&h!==re.ABORTED}(l.code)){const c=i.K_.shift();Ri(i).h_(),await rT(i,()=>i.remoteSyncer.rejectFailedWrite(c.batchId,l)),await hh(i)}}(s,e),lT(s)&&oT(s)}async function Hx(s,e){const t=je(s);t.asyncQueue.verifyOperationInProgress(),ye(xr,"RemoteStore received new credentials");const i=Nr(t);t.W_.add(3),await kc(t),i&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await dh(t)}async function FC(s,e){const t=je(s);e?(t.W_.delete(2),await dh(t)):e||(t.W_.add(2),await kc(t),t.j_.set("Unknown"))}function Hl(s){return s.J_||(s.J_=function(t,i,l){const c=je(t);return c.M_(),new kC(i,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(s.datastore,s.asyncQueue,{xo:MC.bind(null,s),No:LC.bind(null,s),Lo:PC.bind(null,s),p_:UC.bind(null,s)}),s.G_.push(async e=>{e?(s.J_.h_(),Xg(s)?Wg(s):s.j_.set("Unknown")):(await s.J_.stop(),iT(s))})),s.J_}function Ri(s){return s.Y_||(s.Y_=function(t,i,l){const c=je(t);return c.M_(),new CC(i,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(s.datastore,s.asyncQueue,{xo:()=>Promise.resolve(),No:HC.bind(null,s),Lo:KC.bind(null,s),D_:zC.bind(null,s),v_:qC.bind(null,s)}),s.G_.push(async e=>{e?(s.Y_.h_(),await hh(s)):(await s.Y_.stop(),s.K_.length>0&&(ye(xr,`Stopping write stream with ${s.K_.length} pending writes`),s.K_=[]))})),s.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(e,t,i,l,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=l,this.removalCallback=c,this.deferred=new Ea,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,l,c){const h=Date.now()+i,m=new Zg(e,t,h,l,c);return m.start(i),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jg(s,e){if(Sa("AsyncQueue",`${e}: ${s}`),Vl(s))return new _e(re.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{static emptySet(e){return new Tl(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||be.comparator(t.key,i.key):(t,i)=>be.comparator(t.key,i.key),this.keyedMap=ac(),this.sortedSet=new ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Tl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const l=t.getNext().key,c=i.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Tl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(){this.Z_=new ft(be.comparator)}track(e){const t=e.doc.key,i=this.Z_.get(t);i?e.type!==0&&i.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&i.type!==1?this.Z_=this.Z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Z_=this.Z_.remove(t):e.type===1&&i.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Ne():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class Il{constructor(e,t,i,l,c,h,m,p,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=l,this.mutatedKeys=c,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,t,i,l,c){const h=[];return t.forEach(m=>{h.push({type:0,doc:m})}),new Il(e,t,Tl.emptySet(t),h,i,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ih(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let l=0;l<t.length;l++)if(t[l].type!==i[l].type||!t[l].doc.isEqual(i[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class $C{constructor(){this.queries=qx(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,i){const l=je(t),c=l.queries;l.queries=qx(),c.forEach((h,m)=>{for(const p of m.ta)p.onError(i)})})(this,new _e(re.ABORTED,"Firestore shutting down"))}}function qx(){return new wr(s=>k0(s),ih)}async function cT(s,e){const t=je(s);let i=3;const l=e.query;let c=t.queries.get(l);c?!c.na()&&e.ra()&&(i=2):(c=new GC,i=e.ra()?0:1);try{switch(i){case 0:c.ea=await t.onListen(l,!0);break;case 1:c.ea=await t.onListen(l,!1);break;case 2:await t.onFirstRemoteStoreListen(l)}}catch(h){const m=Jg(h,`Initialization of query '${_l(e.query)}' failed`);return void e.onError(m)}t.queries.set(l,c),c.ta.push(e),e.sa(t.onlineState),c.ea&&e.oa(c.ea)&&ep(t)}async function uT(s,e){const t=je(s),i=e.query;let l=3;const c=t.queries.get(i);if(c){const h=c.ta.indexOf(e);h>=0&&(c.ta.splice(h,1),c.ta.length===0?l=e.ra()?0:1:!c.na()&&e.ra()&&(l=2))}switch(l){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function QC(s,e){const t=je(s);let i=!1;for(const l of e){const c=l.query,h=t.queries.get(c);if(h){for(const m of h.ta)m.oa(l)&&(i=!0);h.ea=l}}i&&ep(t)}function YC(s,e,t){const i=je(s),l=i.queries.get(e);if(l)for(const c of l.ta)c.onError(t);i.queries.delete(e)}function ep(s){s.ia.forEach(e=>{e.next()})}var ug,Kx;(Kx=ug||(ug={}))._a="default",Kx.Cache="cache";class dT{constructor(e,t,i){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(e){if(!this.options.includeMetadataChanges){const i=[];for(const l of e.docChanges)l.type!==3&&i.push(l);e=new Il(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const i=t!=="Offline";return(!this.options.Ta||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Il.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==ug.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(e){this.key=e}}class fT{constructor(e){this.key=e}}class WC{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ue(),this.mutatedKeys=Ue(),this.ya=C0(e),this.wa=new Tl(this.ya)}get ba(){return this.fa}Sa(e,t){const i=t?t.Da:new zx,l=t?t.wa:this.wa;let c=t?t.mutatedKeys:this.mutatedKeys,h=l,m=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((v,w)=>{const N=l.get(v),O=rh(this.query,w)?w:null,L=!!N&&this.mutatedKeys.has(N.key),B=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let V=!1;N&&O?N.data.isEqual(O.data)?L!==B&&(i.track({type:3,doc:O}),V=!0):this.va(N,O)||(i.track({type:2,doc:O}),V=!0,(p&&this.ya(O,p)>0||y&&this.ya(O,y)<0)&&(m=!0)):!N&&O?(i.track({type:0,doc:O}),V=!0):N&&!O&&(i.track({type:1,doc:N}),V=!0,(p||y)&&(m=!0)),V&&(O?(h=h.add(O),c=B?c.add(v):c.delete(v)):(h=h.delete(v),c=c.delete(v)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const v=this.query.limitType==="F"?h.last():h.first();h=h.delete(v.key),c=c.delete(v.key),i.track({type:1,doc:v})}return{wa:h,Da:i,ls:m,mutatedKeys:c}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,l){const c=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const h=e.Da.X_();h.sort((v,w)=>function(O,L){const B=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ne()}};return B(O)-B(L)}(v.type,w.type)||this.ya(v.doc,w.doc)),this.Ca(i),l=l!=null&&l;const m=t&&!l?this.Fa():[],p=this.pa.size===0&&this.current&&!l?1:0,y=p!==this.ga;return this.ga=p,h.length!==0||y?{snapshot:new Il(this.query,e.wa,c,h,e.mutatedKeys,p===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new zx,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ue(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const t=[];return e.forEach(i=>{this.pa.has(i)||t.push(new fT(i))}),this.pa.forEach(i=>{e.has(i)||t.push(new hT(i))}),t}Oa(e){this.fa=e.gs,this.pa=Ue();const t=this.Sa(e.documents);return this.applyChanges(t,!0)}Na(){return Il.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const tp="SyncEngine";class XC{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class ZC{constructor(e){this.key=e,this.Ba=!1}}class JC{constructor(e,t,i,l,c,h){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=h,this.La={},this.ka=new wr(m=>k0(m),ih),this.qa=new Map,this.Qa=new Set,this.$a=new ft(be.comparator),this.Ka=new Map,this.Ua=new Kg,this.Wa={},this.Ga=new Map,this.za=Cl.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function eI(s,e,t=!0){const i=vT(s);let l;const c=i.ka.get(e);return c?(i.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.Na()):l=await mT(i,e,t,!0),l}async function tI(s,e){const t=vT(s);await mT(t,e,!0,!1)}async function mT(s,e,t,i){const l=await EC(s.localStore,Us(e)),c=l.targetId,h=s.sharedClientState.addLocalQueryTarget(c,t);let m;return i&&(m=await nI(s,e,c,h==="current",l.resumeToken)),s.isPrimaryClient&&t&&sT(s.remoteStore,l),m}async function nI(s,e,t,i,l){s.Ha=(w,N,O)=>async function(B,V,z,H){let F=V.view.Sa(z);F.ls&&(F=await Lx(B.localStore,V.query,!1).then(({documents:D})=>V.view.Sa(D,F)));const Z=H&&H.targetChanges.get(V.targetId),oe=H&&H.targetMismatches.get(V.targetId)!=null,de=V.view.applyChanges(F,B.isPrimaryClient,Z,oe);return Gx(B,V.targetId,de.Ma),de.snapshot}(s,w,N,O);const c=await Lx(s.localStore,e,!0),h=new WC(e,c.gs),m=h.Sa(c.documents),p=Rc.createSynthesizedTargetChangeForCurrentChange(t,i&&s.onlineState!=="Offline",l),y=h.applyChanges(m,s.isPrimaryClient,p);Gx(s,t,y.Ma);const v=new XC(e,t,h);return s.ka.set(e,v),s.qa.has(t)?s.qa.get(t).push(e):s.qa.set(t,[e]),y.snapshot}async function sI(s,e,t){const i=je(s),l=i.ka.get(e),c=i.qa.get(l.targetId);if(c.length>1)return i.qa.set(l.targetId,c.filter(h=>!ih(h,e))),void i.ka.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(l.targetId),i.sharedClientState.isActiveQueryTarget(l.targetId)||await og(i.localStore,l.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(l.targetId),t&&Qg(i.remoteStore,l.targetId),dg(i,l.targetId)}).catch(Ul)):(dg(i,l.targetId),await og(i.localStore,l.targetId,!0))}async function aI(s,e){const t=je(s),i=t.ka.get(e),l=t.qa.get(i.targetId);t.isPrimaryClient&&l.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Qg(t.remoteStore,i.targetId))}async function iI(s,e,t){const i=hI(s);try{const l=await function(h,m){const p=je(h),y=Ut.now(),v=m.reduce((O,L)=>O.add(L.key),Ue());let w,N;return p.persistence.runTransaction("Locally write mutations","readwrite",O=>{let L=wa(),B=Ue();return p.ds.getEntries(O,v).next(V=>{L=V,L.forEach((z,H)=>{H.isValidDocument()||(B=B.add(z))})}).next(()=>p.localDocuments.getOverlayedDocuments(O,L)).next(V=>{w=V;const z=[];for(const H of m){const F=xk(H,w.get(H.key).overlayedDocument);F!=null&&z.push(new Ii(H.key,F,E0(F.value.mapValue),es.exists(!0)))}return p.mutationQueue.addMutationBatch(O,y,z,m)}).next(V=>{N=V;const z=V.applyToLocalDocumentSet(w,B);return p.documentOverlayCache.saveOverlays(O,V.batchId,z)})}).then(()=>({batchId:N.batchId,changes:j0(w)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(l.batchId),function(h,m,p){let y=h.Wa[h.currentUser.toKey()];y||(y=new ft(Be)),y=y.insert(m,p),h.Wa[h.currentUser.toKey()]=y}(i,l.batchId,t),await Cc(i,l.changes),await hh(i.remoteStore)}catch(l){const c=Jg(l,"Failed to persist write");t.reject(c)}}async function gT(s,e){const t=je(s);try{const i=await _C(t.localStore,e);e.targetChanges.forEach((l,c)=>{const h=t.Ka.get(c);h&&(Je(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?h.Ba=!0:l.modifiedDocuments.size>0?Je(h.Ba):l.removedDocuments.size>0&&(Je(h.Ba),h.Ba=!1))}),await Cc(t,i,e)}catch(i){await Ul(i)}}function Fx(s,e,t){const i=je(s);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const l=[];i.ka.forEach((c,h)=>{const m=h.view.sa(e);m.snapshot&&l.push(m.snapshot)}),function(h,m){const p=je(h);p.onlineState=m;let y=!1;p.queries.forEach((v,w)=>{for(const N of w.ta)N.sa(m)&&(y=!0)}),y&&ep(p)}(i.eventManager,e),l.length&&i.La.p_(l),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function rI(s,e,t){const i=je(s);i.sharedClientState.updateQueryState(e,"rejected",t);const l=i.Ka.get(e),c=l&&l.key;if(c){let h=new ft(be.comparator);h=h.insert(c,un.newNoDocument(c,Ce.min()));const m=Ue().add(c),p=new ch(Ce.min(),new Map,new ft(Be),h,m);await gT(i,p),i.$a=i.$a.remove(c),i.Ka.delete(e),np(i)}else await og(i.localStore,e,!1).then(()=>dg(i,e,t)).catch(Ul)}async function lI(s,e){const t=je(s),i=e.batch.batchId;try{const l=await yC(t.localStore,e);yT(t,i,null),pT(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Cc(t,l)}catch(l){await Ul(l)}}async function oI(s,e,t){const i=je(s);try{const l=await function(h,m){const p=je(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let v;return p.mutationQueue.lookupMutationBatch(y,m).next(w=>(Je(w!==null),v=w.keys(),p.mutationQueue.removeMutationBatch(y,w))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,v,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,v)).next(()=>p.localDocuments.getDocuments(y,v))})}(i.localStore,e);yT(i,e,t),pT(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Cc(i,l)}catch(l){await Ul(l)}}function pT(s,e){(s.Ga.get(e)||[]).forEach(t=>{t.resolve()}),s.Ga.delete(e)}function yT(s,e,t){const i=je(s);let l=i.Wa[i.currentUser.toKey()];if(l){const c=l.get(e);c&&(t?c.reject(t):c.resolve(),l=l.remove(e)),i.Wa[i.currentUser.toKey()]=l}}function dg(s,e,t=null){s.sharedClientState.removeLocalQueryTarget(e);for(const i of s.qa.get(e))s.ka.delete(i),t&&s.La.Ja(i,t);s.qa.delete(e),s.isPrimaryClient&&s.Ua.Sr(e).forEach(i=>{s.Ua.containsKey(i)||_T(s,i)})}function _T(s,e){s.Qa.delete(e.path.canonicalString());const t=s.$a.get(e);t!==null&&(Qg(s.remoteStore,t),s.$a=s.$a.remove(e),s.Ka.delete(t),np(s))}function Gx(s,e,t){for(const i of t)i instanceof hT?(s.Ua.addReference(i.key,e),cI(s,i)):i instanceof fT?(ye(tp,"Document no longer in limbo: "+i.key),s.Ua.removeReference(i.key,e),s.Ua.containsKey(i.key)||_T(s,i.key)):Ne()}function cI(s,e){const t=e.key,i=t.path.canonicalString();s.$a.get(t)||s.Qa.has(i)||(ye(tp,"New document in limbo: "+t),s.Qa.add(i),np(s))}function np(s){for(;s.Qa.size>0&&s.$a.size<s.maxConcurrentLimboResolutions;){const e=s.Qa.values().next().value;s.Qa.delete(e);const t=new be(rt.fromString(e)),i=s.za.next();s.Ka.set(i,new ZC(t)),s.$a=s.$a.insert(t,i),sT(s.remoteStore,new _i(Us(Ug(t.path)),i,"TargetPurposeLimboResolution",nh.ae))}}async function Cc(s,e,t){const i=je(s),l=[],c=[],h=[];i.ka.isEmpty()||(i.ka.forEach((m,p)=>{h.push(i.Ha(p,e,t).then(y=>{var v;if((y||t)&&i.isPrimaryClient){const w=y?!y.fromCache:(v=t==null?void 0:t.targetChanges.get(p.targetId))===null||v===void 0?void 0:v.current;i.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(y){l.push(y);const w=Gg.Yi(p.targetId,y);c.push(w)}}))}),await Promise.all(h),i.La.p_(l),await async function(p,y){const v=je(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>le.forEach(y,N=>le.forEach(N.Hi,O=>v.persistence.referenceDelegate.addReference(w,N.targetId,O)).next(()=>le.forEach(N.Ji,O=>v.persistence.referenceDelegate.removeReference(w,N.targetId,O)))))}catch(w){if(!Vl(w))throw w;ye($g,"Failed to update sequence numbers: "+w)}for(const w of y){const N=w.targetId;if(!w.fromCache){const O=v.Ts.get(N),L=O.snapshotVersion,B=O.withLastLimboFreeSnapshotVersion(L);v.Ts=v.Ts.insert(N,B)}}}(i.localStore,c))}async function uI(s,e){const t=je(s);if(!t.currentUser.isEqual(e)){ye(tp,"User change. New user:",e.toKey());const i=await J0(t.localStore,e);t.currentUser=e,function(c,h){c.Ga.forEach(m=>{m.forEach(p=>{p.reject(new _e(re.CANCELLED,h))})}),c.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Cc(t,i.Rs)}}function dI(s,e){const t=je(s),i=t.Ka.get(e);if(i&&i.Ba)return Ue().add(i.key);{let l=Ue();const c=t.qa.get(e);if(!c)return l;for(const h of c){const m=t.ka.get(h);l=l.unionWith(m.view.ba)}return l}}function vT(s){const e=je(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=gT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=dI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=rI.bind(null,e),e.La.p_=QC.bind(null,e.eventManager),e.La.Ja=YC.bind(null,e.eventManager),e}function hI(s){const e=je(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=lI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=oI.bind(null,e),e}class Kd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=uh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return pC(this.persistence,new fC,e.initialUser,this.serializer)}Xa(e){return new Z0(Fg.ri,this.serializer)}Za(e){return new bC}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Kd.provider={build:()=>new Kd};class fI extends Kd{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Je(this.persistence.referenceDelegate instanceof zd);const i=this.persistence.referenceDelegate.garbageCollector;return new Zk(i,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?Tn.withCacheSize(this.cacheSizeBytes):Tn.DEFAULT;return new Z0(i=>zd.ri(i,t),this.serializer)}}class hg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Fx(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=uI.bind(null,this.syncEngine),await FC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new $C}()}createDatastore(e){const t=uh(e.databaseInfo.databaseId),i=function(c){return new RC(c)}(e.databaseInfo);return function(c,h,m,p){return new jC(c,h,m,p)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,l,c,h,m){return new OC(i,l,c,h,m)}(this.localStore,this.datastore,e.asyncQueue,t=>Fx(this.syncEngine,t,0),function(){return Vx.D()?new Vx:new AC}())}createSyncEngine(e,t){return function(l,c,h,m,p,y,v){const w=new JC(l,c,h,m,p,y);return v&&(w.ja=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(l){const c=je(l);ye(xr,"RemoteStore shutting down."),c.W_.add(5),await kc(c),c.z_.shutdown(),c.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}hg.provider={build:()=>new hg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Sa("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ki="FirestoreClient";class mI{constructor(e,t,i,l,c){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=l,this.user=cn.UNAUTHENTICATED,this.clientId=d0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(i,async h=>{ye(ki,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(i,h=>(ye(ki,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ea;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Jg(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Bm(s,e){s.asyncQueue.verifyOperationInProgress(),ye(ki,"Initializing OfflineComponentProvider");const t=s.configuration;await e.initialize(t);let i=t.initialUser;s.setCredentialChangeListener(async l=>{i.isEqual(l)||(await J0(e.localStore,l),i=l)}),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}async function $x(s,e){s.asyncQueue.verifyOperationInProgress();const t=await gI(s);ye(ki,"Initializing OnlineComponentProvider"),await e.initialize(t,s.configuration),s.setCredentialChangeListener(i=>Hx(e.remoteStore,i)),s.setAppCheckTokenChangeListener((i,l)=>Hx(e.remoteStore,l)),s._onlineComponents=e}async function gI(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ye(ki,"Using user provided OfflineComponentProvider");try{await Bm(s,s._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(l){return l.name==="FirebaseError"?l.code===re.FAILED_PRECONDITION||l.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(t))throw t;wl("Error using user provided cache. Falling back to memory cache: "+t),await Bm(s,new Kd)}}else ye(ki,"Using default OfflineComponentProvider"),await Bm(s,new fI(void 0));return s._offlineComponents}async function ET(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ye(ki,"Using user provided OnlineComponentProvider"),await $x(s,s._uninitializedComponentsProvider._online)):(ye(ki,"Using default OnlineComponentProvider"),await $x(s,new hg))),s._onlineComponents}function pI(s){return ET(s).then(e=>e.syncEngine)}async function TT(s){const e=await ET(s),t=e.eventManager;return t.onListen=eI.bind(null,e.syncEngine),t.onUnlisten=sI.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=tI.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=aI.bind(null,e.syncEngine),t}function yI(s,e,t={}){const i=new Ea;return s.asyncQueue.enqueueAndForget(async()=>function(c,h,m,p,y){const v=new xT({next:N=>{v.su(),h.enqueueAndForget(()=>uT(c,w));const O=N.docs.has(m);!O&&N.fromCache?y.reject(new _e(re.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&N.fromCache&&p&&p.source==="server"?y.reject(new _e(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(N)},error:N=>y.reject(N)}),w=new dT(Ug(m.path),v,{includeMetadataChanges:!0,Ta:!0});return cT(c,w)}(await TT(s),s.asyncQueue,e,t,i)),i.promise}function _I(s,e,t={}){const i=new Ea;return s.asyncQueue.enqueueAndForget(async()=>function(c,h,m,p,y){const v=new xT({next:N=>{v.su(),h.enqueueAndForget(()=>uT(c,w)),N.fromCache&&p.source==="server"?y.reject(new _e(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(N)},error:N=>y.reject(N)}),w=new dT(m,v,{includeMetadataChanges:!0,Ta:!0});return cT(c,w)}(await TT(s),s.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bT(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AT(s,e,t){if(!t)throw new _e(re.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function vI(s,e,t,i){if(e===!0&&i===!0)throw new _e(re.INVALID_ARGUMENT,`${s} and ${t} cannot be used together.`)}function Yx(s){if(!be.isDocumentKey(s))throw new _e(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Wx(s){if(be.isDocumentKey(s))throw new _e(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function fh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Ne()}function us(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new _e(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=fh(s);throw new _e(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST="firestore.googleapis.com",Xx=!0;class Zx{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new _e(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ST,this.ssl=Xx}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Xx;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=X0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Wk)throw new _e(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}vI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bT((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new _e(re.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new _e(re.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new _e(re.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,l){return i.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class mh{constructor(e,t,i,l){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Zx({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Zx(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new NR;switch(i.type){case"firstParty":return new IR(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new _e(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=Qx.get(t);i&&(ye("ComponentProvider","Removing Datastore"),Qx.delete(t),i.terminate())}(this),Promise.resolve()}}function xI(s,e,t,i={}){var l;const c=(s=us(s,mh))._getSettings(),h=Object.assign(Object.assign({},c),{emulatorOptions:s._getEmulatorOptions()}),m=`${e}:${t}`;c.host!==ST&&c.host!==m&&wl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},c),{host:m,ssl:!1,emulatorOptions:i});if(!yr(p,h)&&(s._setSettings(p),i.mockUserToken)){let y,v;if(typeof i.mockUserToken=="string")y=i.mockUserToken,v=cn.MOCK_USER;else{y=ZE(i.mockUserToken,(l=s._app)===null||l===void 0?void 0:l.options.projectId);const w=i.mockUserToken.sub||i.mockUserToken.user_id;if(!w)throw new _e(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new cn(w)}s._authCredentials=new RR(new u0(y,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new ji(this.firestore,e,this._query)}}class _n{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ti(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _n(this.firestore,e,this._key)}}class Ti extends ji{constructor(e,t,i){super(e,t,Ug(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _n(this.firestore,null,new be(e))}withConverter(e){return new Ti(this.firestore,e,this._path)}}function nn(s,e,...t){if(s=ct(s),AT("collection","path",e),s instanceof mh){const i=rt.fromString(e,...t);return Wx(i),new Ti(s,null,i)}{if(!(s instanceof _n||s instanceof Ti))throw new _e(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=s._path.child(rt.fromString(e,...t));return Wx(i),new Ti(s.firestore,null,i)}}function ot(s,e,...t){if(s=ct(s),arguments.length===1&&(e=d0.newId()),AT("doc","path",e),s instanceof mh){const i=rt.fromString(e,...t);return Yx(i),new _n(s,null,new be(i))}{if(!(s instanceof _n||s instanceof Ti))throw new _e(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=s._path.child(rt.fromString(e,...t));return Yx(i),new _n(s.firestore,s instanceof Ti?s.converter:null,new be(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx="AsyncQueue";class eE{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new tT(this,"async_queue_retry"),this.bu=()=>{const i=Vm();i&&ye(Jx,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.Su=e;const t=Vm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Vm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Ea;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Vl(e))throw e;ye(Jx,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.Su.then(()=>(this.pu=!0,e().catch(i=>{this.gu=i,this.pu=!1;const l=function(h){let m=h.message||"";return h.stack&&(m=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),m}(i);throw Sa("INTERNAL UNHANDLED ERROR: ",l),i}).then(i=>(this.pu=!1,i))));return this.Su=t,t}enqueueAfterDelay(e,t,i){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const l=Zg.createAndSchedule(this,e,t,i,c=>this.Fu(c));return this.fu.push(l),l}Du(){this.gu&&Ne()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class Rr extends mh{constructor(e,t,i,l){super(e,t,i,l),this.type="firestore",this._queue=new eE,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new eE(e),this._firestoreClient=void 0,await e}}}function EI(s,e){const t=typeof s=="object"?s:Ig(),i=typeof s=="string"?s:Md,l=th(t,"firestore").getImmediate({identifier:i});if(!l._initialized){const c=YE("firestore");c&&xI(l,...c)}return l}function sp(s){if(s._terminated)throw new _e(re.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||TI(s),s._firestoreClient}function TI(s){var e,t,i;const l=s._freezeSettings(),c=function(m,p,y,v){return new FR(m,p,y,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,bT(v.experimentalLongPollingOptions),v.useFetchStreams)}(s._databaseId,((e=s._app)===null||e===void 0?void 0:e.options.appId)||"",s._persistenceKey,l);s._componentsProvider||!((t=l.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=l.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(s._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),s._firestoreClient=new mI(s._authCredentials,s._appCheckCredentials,s._queue,c,s._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jl(sn.fromBase64String(e))}catch(t){throw new _e(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new jl(sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new _e(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new _e(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new _e(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,l){if(i.length!==l.length)return!1;for(let c=0;c<i.length;++c)if(i[c]!==l[c])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI=/^__.*__$/;class AI{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Ii(e,this.data,this.fieldMask,t,this.fieldTransforms):new Nc(e,this.data,t,this.fieldTransforms)}}class wT{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Ii(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function NT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ne()}}class lp{constructor(e,t,i,l,c,h){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=l,c===void 0&&this.Bu(),this.fieldTransforms=c||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new lp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),l=this.ku({path:i,Qu:!1});return l.$u(e),l}Ku(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),l=this.ku({path:i,Qu:!1});return l.Bu(),l}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Fd(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(NT(this.Lu)&&bI.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class SI{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||uh(e)}ju(e,t,i,l=!1){return new lp({Lu:e,methodName:t,zu:i,path:tn.emptyPath(),Qu:!1,Gu:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ph(s){const e=s._freezeSettings(),t=uh(s._databaseId);return new SI(s._databaseId,!!e.ignoreUndefinedProperties,t)}function RT(s,e,t,i,l,c={}){const h=s.ju(c.merge||c.mergeFields?2:0,e,t,l);op("Data must be an object, but it was:",h,i);const m=kT(i,h);let p,y;if(c.merge)p=new On(h.fieldMask),y=h.fieldTransforms;else if(c.mergeFields){const v=[];for(const w of c.mergeFields){const N=fg(e,w,t);if(!h.contains(N))throw new _e(re.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);IT(v,N)||v.push(N)}p=new On(v),y=h.fieldTransforms.filter(w=>p.covers(w.field))}else p=null,y=h.fieldTransforms;return new AI(new bn(m),p,y)}class yh extends ap{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof yh}}function wI(s,e,t,i){const l=s.ju(1,e,t);op("Data must be an object, but it was:",l,i);const c=[],h=bn.empty();Ci(i,(p,y)=>{const v=cp(e,p,t);y=ct(y);const w=l.Ku(v);if(y instanceof yh)c.push(v);else{const N=Ic(y,w);N!=null&&(c.push(v),h.set(v,N))}});const m=new On(c);return new wT(h,m,l.fieldTransforms)}function NI(s,e,t,i,l,c){const h=s.ju(1,e,t),m=[fg(e,i,t)],p=[l];if(c.length%2!=0)throw new _e(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<c.length;N+=2)m.push(fg(e,c[N])),p.push(c[N+1]);const y=[],v=bn.empty();for(let N=m.length-1;N>=0;--N)if(!IT(y,m[N])){const O=m[N];let L=p[N];L=ct(L);const B=h.Ku(O);if(L instanceof yh)y.push(O);else{const V=Ic(L,B);V!=null&&(y.push(O),v.set(O,V))}}const w=new On(y);return new wT(v,w,h.fieldTransforms)}function RI(s,e,t,i=!1){return Ic(t,s.ju(i?4:3,e))}function Ic(s,e){if(CT(s=ct(s)))return op("Unsupported field value:",e,s),kT(s,e);if(s instanceof ap)return function(i,l){if(!NT(l.Lu))throw l.Wu(`${i._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Wu(`${i._methodName}() is not currently supported inside arrays`);const c=i._toFieldTransform(l);c&&l.fieldTransforms.push(c)}(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(i,l){const c=[];let h=0;for(const m of i){let p=Ic(m,l.Uu(h));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),h++}return{arrayValue:{values:c}}}(s,e)}return function(i,l){if((i=ct(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return mk(l.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const c=Ut.fromDate(i);return{timestampValue:Hd(l.serializer,c)}}if(i instanceof Ut){const c=new Ut(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Hd(l.serializer,c)}}if(i instanceof ip)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof jl)return{bytesValue:K0(l.serializer,i._byteString)};if(i instanceof _n){const c=l.databaseId,h=i.firestore._databaseId;if(!h.isEqual(c))throw l.Wu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:qg(i.firestore._databaseId||l.databaseId,i._key.path)}}if(i instanceof rp)return function(h,m){return{mapValue:{fields:{[v0]:{stringValue:x0},[Ld]:{arrayValue:{values:h.toArray().map(y=>{if(typeof y!="number")throw m.Wu("VectorValues must only contain numeric values.");return Vg(m.serializer,y)})}}}}}}(i,l);throw l.Wu(`Unsupported field value: ${fh(i)}`)}(s,e)}function kT(s,e){const t={};return f0(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ci(s,(i,l)=>{const c=Ic(l,e.qu(i));c!=null&&(t[i]=c)}),{mapValue:{fields:t}}}function CT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Ut||s instanceof ip||s instanceof jl||s instanceof _n||s instanceof ap||s instanceof rp)}function op(s,e,t){if(!CT(t)||!function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}(t)){const i=fh(t);throw i==="an object"?e.Wu(s+" a custom object"):e.Wu(s+" "+i)}}function fg(s,e,t){if((e=ct(e))instanceof gh)return e._internalPath;if(typeof e=="string")return cp(s,e);throw Fd("Field path arguments must be of type string or ",s,!1,void 0,t)}const kI=new RegExp("[~\\*/\\[\\]]");function cp(s,e,t){if(e.search(kI)>=0)throw Fd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,t);try{return new gh(...e.split("."))._internalPath}catch{throw Fd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,t)}}function Fd(s,e,t,i,l){const c=i&&!i.isEmpty(),h=l!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(c||h)&&(p+=" (found",c&&(p+=` in field ${i}`),h&&(p+=` in document ${l}`),p+=")"),new _e(re.INVALID_ARGUMENT,m+s+p)}function IT(s,e){return s.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(e,t,i,l,c){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new _n(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new CI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(_h("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class CI extends jT{data(){return super.data()}}function _h(s,e){return typeof e=="string"?cp(s,e):e instanceof gh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function II(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new _e(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class up{}class dp extends up{}function hi(s,e,...t){let i=[];e instanceof up&&i.push(e),i=i.concat(t),function(c){const h=c.filter(p=>p instanceof hp).length,m=c.filter(p=>p instanceof vh).length;if(h>1||h>0&&m>0)throw new _e(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const l of i)s=l._apply(s);return s}class vh extends dp{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new vh(e,t,i)}_apply(e){const t=this._parse(e);return DT(e._query,t),new ji(e.firestore,e.converter,sg(e._query,t))}_parse(e){const t=ph(e.firestore);return function(c,h,m,p,y,v,w){let N;if(y.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new _e(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){nE(w,v);const L=[];for(const B of w)L.push(tE(p,c,B));N={arrayValue:{values:L}}}else N=tE(p,c,w)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||nE(w,v),N=RI(m,h,w,v==="in"||v==="not-in");return kt.create(y,v,N)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function fd(s,e,t){const i=e,l=_h("where",s);return vh._create(l,i,t)}class hp extends up{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new hp(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:cs.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(l,c){let h=l;const m=c.getFlattenedFilters();for(const p of m)DT(h,p),h=sg(h,p)}(e._query,t),new ji(e.firestore,e.converter,sg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class fp extends dp{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new fp(e,t)}_apply(e){const t=function(l,c,h){if(l.startAt!==null)throw new _e(re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new _e(re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new vc(c,h)}(e._query,this._field,this._direction);return new ji(e.firestore,e.converter,function(l,c){const h=l.explicitOrderBy.concat([c]);return new Bl(l.path,l.collectionGroup,h,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(e._query,t))}}function mg(s,e="asc"){const t=e,i=_h("orderBy",s);return fp._create(i,t)}class mp extends dp{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new mp(e,t,i)}_apply(e){return new ji(e.firestore,e.converter,Ud(e._query,this._limit,this._limitType))}}function jI(s){return mp._create("limit",s,"F")}function tE(s,e,t){if(typeof(t=ct(t))=="string"){if(t==="")throw new _e(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!R0(e)&&t.indexOf("/")!==-1)throw new _e(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(rt.fromString(t));if(!be.isDocumentKey(i))throw new _e(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return yx(s,new be(i))}if(t instanceof _n)return yx(s,t._key);throw new _e(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fh(t)}.`)}function nE(s,e){if(!Array.isArray(s)||s.length===0)throw new _e(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function DT(s,e){const t=function(l,c){for(const h of l)for(const m of h.getFlattenedFilters())if(c.indexOf(m.op)>=0)return m.op;return null}(s.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new _e(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new _e(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class DI{convertValue(e,t="none"){switch(Ni(e)){case 0:return null;case 1:return e.booleanValue;case 2:return At(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(wi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ne()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Ci(e,(l,c)=>{i[l]=this.convertValue(c,t)}),i}convertVectorValue(e){var t,i,l;const c=(l=(i=(t=e.fields)===null||t===void 0?void 0:t[Ld].arrayValue)===null||i===void 0?void 0:i.values)===null||l===void 0?void 0:l.map(h=>At(h.doubleValue));return new rp(c)}convertGeoPoint(e){return new ip(At(e.latitude),At(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=ah(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(pc(e));default:return null}}convertTimestamp(e){const t=Si(e);return new Ut(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=rt.fromString(e);Je(W0(i));const l=new yc(i.get(1),i.get(3)),c=new be(i.popFirst(5));return l.isEqual(t)||Sa(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OT(s,e,t){let i;return i=s?s.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class MT extends jT{constructor(e,t,i,l,c,h){super(e,t,i,l,h),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Sd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(_h("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Sd extends MT{data(e={}){return super.data(e)}}class OI{constructor(e,t,i,l){this._firestore=e,this._userDataWriter=t,this._snapshot=l,this.metadata=new rc(l.hasPendingWrites,l.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Sd(this._firestore,this._userDataWriter,i.key,i,new rc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new _e(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(l,c){if(l._snapshot.oldDocs.isEmpty()){let h=0;return l._snapshot.docChanges.map(m=>{const p=new Sd(l._firestore,l._userDataWriter,m.doc.key,m.doc,new rc(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(m=>c||m.type!==3).map(m=>{const p=new Sd(l._firestore,l._userDataWriter,m.doc.key,m.doc,new rc(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,v=-1;return m.type!==0&&(y=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),v=h.indexOf(m.doc.key)),{type:MI(m.type),doc:p,oldIndex:y,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function MI(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ne()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Di(s){s=us(s,_n);const e=us(s.firestore,Rr);return yI(sp(e),s._key).then(t=>PI(e,s,t))}class LT extends DI{constructor(e){super(),this.firestore=e}convertBytes(e){return new jl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new _n(this.firestore,null,t)}}function Ln(s){s=us(s,ji);const e=us(s.firestore,Rr),t=sp(e),i=new LT(e);return II(s._query),_I(t,s._query).then(l=>new OI(e,i,s,l))}function ds(s,e,t){s=us(s,_n);const i=us(s.firestore,Rr),l=OT(s.converter,e);return xh(i,[RT(ph(i),"setDoc",s._key,l,s.converter!==null,t).toMutation(s._key,es.none())])}function gp(s,e,t,...i){s=us(s,_n);const l=us(s.firestore,Rr),c=ph(l);let h;return h=typeof(e=ct(e))=="string"||e instanceof gh?NI(c,"updateDoc",s._key,e,t,i):wI(c,"updateDoc",s._key,e),xh(l,[h.toMutation(s._key,es.exists(!0))])}function jc(s){return xh(us(s.firestore,Rr),[new Bg(s._key,es.none())])}function LI(s,e){const t=us(s.firestore,Rr),i=ot(s),l=OT(s.converter,e);return xh(t,[RT(ph(s.firestore),"addDoc",i._key,l,s.converter!==null,{}).toMutation(i._key,es.exists(!1))]).then(()=>i)}function xh(s,e){return function(i,l){const c=new Ea;return i.asyncQueue.enqueueAndForget(async()=>iI(await pI(i),l,c)),c.promise}(sp(s),e)}function PI(s,e,t){const i=t.docs.get(e._key),l=new LT(s);return new MT(s,l,e._key,i,new rc(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(l){Pl=l})(Sr),_r(new bi("firestore",(i,{instanceIdentifier:l,options:c})=>{const h=i.getProvider("app").getImmediate(),m=new Rr(new kR(i.getProvider("auth-internal")),new jR(h,i.getProvider("app-check-internal")),function(y,v){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new _e(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yc(y.options.projectId,v)}(h,l),h);return c=Object.assign({useFetchStreams:t},c),m._setSettings(c),m},"PUBLIC").setMultipleInstances(!0)),Ps(rx,lx,e),Ps(rx,lx,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT="firebasestorage.googleapis.com",UT="storageBucket",UI=2*60*1e3,VI=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et extends qs{constructor(e,t,i=0){super(Hm(e),`Firebase Storage: ${t} (${Hm(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Et.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Hm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var xt;(function(s){s.UNKNOWN="unknown",s.OBJECT_NOT_FOUND="object-not-found",s.BUCKET_NOT_FOUND="bucket-not-found",s.PROJECT_NOT_FOUND="project-not-found",s.QUOTA_EXCEEDED="quota-exceeded",s.UNAUTHENTICATED="unauthenticated",s.UNAUTHORIZED="unauthorized",s.UNAUTHORIZED_APP="unauthorized-app",s.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",s.INVALID_CHECKSUM="invalid-checksum",s.CANCELED="canceled",s.INVALID_EVENT_NAME="invalid-event-name",s.INVALID_URL="invalid-url",s.INVALID_DEFAULT_BUCKET="invalid-default-bucket",s.NO_DEFAULT_BUCKET="no-default-bucket",s.CANNOT_SLICE_BLOB="cannot-slice-blob",s.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",s.NO_DOWNLOAD_URL="no-download-url",s.INVALID_ARGUMENT="invalid-argument",s.INVALID_ARGUMENT_COUNT="invalid-argument-count",s.APP_DELETED="app-deleted",s.INVALID_ROOT_OPERATION="invalid-root-operation",s.INVALID_FORMAT="invalid-format",s.INTERNAL_ERROR="internal-error",s.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(xt||(xt={}));function Hm(s){return"storage/"+s}function pp(){const s="An unknown error occurred, please check the error payload for server response.";return new Et(xt.UNKNOWN,s)}function BI(s){return new Et(xt.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")}function HI(s){return new Et(xt.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function zI(){const s="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Et(xt.UNAUTHENTICATED,s)}function qI(){return new Et(xt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function KI(s){return new Et(xt.UNAUTHORIZED,"User does not have permission to access '"+s+"'.")}function FI(){return new Et(xt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function GI(){return new Et(xt.CANCELED,"User canceled the upload/download.")}function $I(s){return new Et(xt.INVALID_URL,"Invalid URL '"+s+"'.")}function QI(s){return new Et(xt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+s+"'.")}function YI(){return new Et(xt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+UT+"' property when initializing the app?")}function WI(){return new Et(xt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function XI(){return new Et(xt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function ZI(s){return new Et(xt.UNSUPPORTED_ENVIRONMENT,`${s} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function gg(s){return new Et(xt.INVALID_ARGUMENT,s)}function VT(){return new Et(xt.APP_DELETED,"The Firebase app was deleted.")}function JI(s){return new Et(xt.INVALID_ROOT_OPERATION,"The operation '"+s+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function dc(s,e){return new Et(xt.INVALID_FORMAT,"String does not match format '"+s+"': "+e)}function ec(s){throw new Et(xt.INTERNAL_ERROR,"Internal error: "+s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=Mn.makeFromUrl(e,t)}catch{return new Mn(e,"")}if(i.path==="")return i;throw QI(e)}static makeFromUrl(e,t){let i=null;const l="([A-Za-z0-9.\\-_]+)";function c(Z){Z.path.charAt(Z.path.length-1)==="/"&&(Z.path_=Z.path_.slice(0,-1))}const h="(/(.*))?$",m=new RegExp("^gs://"+l+h,"i"),p={bucket:1,path:3};function y(Z){Z.path_=decodeURIComponent(Z.path)}const v="v[A-Za-z0-9_]+",w=t.replace(/[.]/g,"\\."),N="(/([^?#]*).*)?$",O=new RegExp(`^https?://${w}/${v}/b/${l}/o${N}`,"i"),L={bucket:1,path:3},B=t===PT?"(?:storage.googleapis.com|storage.cloud.google.com)":t,V="([^?#]*)",z=new RegExp(`^https?://${B}/${l}/${V}`,"i"),F=[{regex:m,indices:p,postModify:c},{regex:O,indices:L,postModify:y},{regex:z,indices:{bucket:1,path:2},postModify:y}];for(let Z=0;Z<F.length;Z++){const oe=F[Z],de=oe.regex.exec(e);if(de){const D=de[oe.indices.bucket];let C=de[oe.indices.path];C||(C=""),i=new Mn(D,C),oe.postModify(i);break}}if(i==null)throw $I(e);return i}}class e1{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(s,e,t){let i=1,l=null,c=null,h=!1,m=0;function p(){return m===2}let y=!1;function v(...V){y||(y=!0,e.apply(null,V))}function w(V){l=setTimeout(()=>{l=null,s(O,p())},V)}function N(){c&&clearTimeout(c)}function O(V,...z){if(y){N();return}if(V){N(),v.call(null,V,...z);return}if(p()||h){N(),v.call(null,V,...z);return}i<64&&(i*=2);let F;m===1?(m=2,F=0):F=(i+Math.random())*1e3,w(F)}let L=!1;function B(V){L||(L=!0,N(),!y&&(l!==null?(V||(m=2),clearTimeout(l),w(0)):V||(m=1)))}return w(0),c=setTimeout(()=>{h=!0,B(!0)},t),B}function n1(s){s(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(s){return s!==void 0}function a1(s){return typeof s=="object"&&!Array.isArray(s)}function yp(s){return typeof s=="string"||s instanceof String}function sE(s){return _p()&&s instanceof Blob}function _p(){return typeof Blob<"u"}function aE(s,e,t,i){if(i<e)throw gg(`Invalid value for '${s}'. Expected ${e} or greater.`);if(i>t)throw gg(`Invalid value for '${s}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eh(s,e,t){let i=e;return t==null&&(i=`https://${e}`),`${t}://${i}/v0${s}`}function BT(s){const e=encodeURIComponent;let t="?";for(const i in s)if(s.hasOwnProperty(i)){const l=e(i)+"="+e(s[i]);t=t+l+"&"}return t=t.slice(0,-1),t}var gr;(function(s){s[s.NO_ERROR=0]="NO_ERROR",s[s.NETWORK_ERROR=1]="NETWORK_ERROR",s[s.ABORT=2]="ABORT"})(gr||(gr={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i1(s,e){const t=s>=500&&s<600,l=[408,429].indexOf(s)!==-1,c=e.indexOf(s)!==-1;return t||l||c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e,t,i,l,c,h,m,p,y,v,w,N=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=l,this.successCodes_=c,this.additionalRetryCodes_=h,this.callback_=m,this.errorCallback_=p,this.timeout_=y,this.progressCallback_=v,this.connectionFactory_=w,this.retry=N,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((O,L)=>{this.resolve_=O,this.reject_=L,this.start_()})}start_(){const e=(i,l)=>{if(l){i(!1,new md(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const h=m=>{const p=m.loaded,y=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,y)};this.progressCallback_!==null&&c.addUploadProgressListener(h),c.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(h),this.pendingConnection_=null;const m=c.getErrorCode()===gr.NO_ERROR,p=c.getStatus();if(!m||i1(p,this.additionalRetryCodes_)&&this.retry){const v=c.getErrorCode()===gr.ABORT;i(!1,new md(!1,null,v));return}const y=this.successCodes_.indexOf(p)!==-1;i(!0,new md(y,c))})},t=(i,l)=>{const c=this.resolve_,h=this.reject_,m=l.connection;if(l.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());s1(p)?c(p):c()}catch(p){h(p)}else if(m!==null){const p=pp();p.serverResponse=m.getErrorText(),this.errorCallback_?h(this.errorCallback_(m,p)):h(p)}else if(l.canceled){const p=this.appDelete_?VT():GI();h(p)}else{const p=FI();h(p)}};this.canceled_?t(!1,new md(!1,null,!0)):this.backoffId_=t1(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&n1(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class md{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function l1(s,e){e!==null&&e.length>0&&(s.Authorization="Firebase "+e)}function o1(s,e){s["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function c1(s,e){e&&(s["X-Firebase-GMPID"]=e)}function u1(s,e){e!==null&&(s["X-Firebase-AppCheck"]=e)}function d1(s,e,t,i,l,c,h=!0){const m=BT(s.urlParams),p=s.url+m,y=Object.assign({},s.headers);return c1(y,e),l1(y,t),o1(y,c),u1(y,i),new r1(p,s.method,y,s.body,s.successCodes,s.additionalRetryCodes,s.handler,s.errorHandler,s.timeout,s.progressCallback,l,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h1(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function f1(...s){const e=h1();if(e!==void 0){const t=new e;for(let i=0;i<s.length;i++)t.append(s[i]);return t.getBlob()}else{if(_p())return new Blob(s);throw new Et(xt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function m1(s,e,t){return s.webkitSlice?s.webkitSlice(e,t):s.mozSlice?s.mozSlice(e,t):s.slice?s.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1(s){if(typeof atob>"u")throw ZI("base-64");return atob(s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class zm{constructor(e,t){this.data=e,this.contentType=t||null}}function p1(s,e){switch(s){case Ls.RAW:return new zm(HT(e));case Ls.BASE64:case Ls.BASE64URL:return new zm(zT(s,e));case Ls.DATA_URL:return new zm(_1(e),v1(e))}throw pp()}function HT(s){const e=[];for(let t=0;t<s.length;t++){let i=s.charCodeAt(t);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(t<s.length-1&&(s.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const c=i,h=s.charCodeAt(++t);i=65536|(c&1023)<<10|h&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function y1(s){let e;try{e=decodeURIComponent(s)}catch{throw dc(Ls.DATA_URL,"Malformed data URL.")}return HT(e)}function zT(s,e){switch(s){case Ls.BASE64:{const l=e.indexOf("-")!==-1,c=e.indexOf("_")!==-1;if(l||c)throw dc(s,"Invalid character '"+(l?"-":"_")+"' found: is it base64url encoded?");break}case Ls.BASE64URL:{const l=e.indexOf("+")!==-1,c=e.indexOf("/")!==-1;if(l||c)throw dc(s,"Invalid character '"+(l?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=g1(e)}catch(l){throw l.message.includes("polyfill")?l:dc(s,"Invalid character found")}const i=new Uint8Array(t.length);for(let l=0;l<t.length;l++)i[l]=t.charCodeAt(l);return i}class qT{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw dc(Ls.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;i!=null&&(this.base64=x1(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function _1(s){const e=new qT(s);return e.base64?zT(Ls.BASE64,e.rest):y1(e.rest)}function v1(s){return new qT(s).contentType}function x1(s,e){return s.length>=e.length?s.substring(s.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e,t){let i=0,l="";sE(e)?(this.data_=e,i=e.size,l=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=l}size(){return this.size_}type(){return this.type_}slice(e,t){if(sE(this.data_)){const i=this.data_,l=m1(i,e,t);return l===null?null:new fi(l)}else{const i=new Uint8Array(this.data_.buffer,e,t-e);return new fi(i,!0)}}static getBlob(...e){if(_p()){const t=e.map(i=>i instanceof fi?i.data_:i);return new fi(f1.apply(null,t))}else{const t=e.map(h=>yp(h)?p1(Ls.RAW,h).data:h.data_);let i=0;t.forEach(h=>{i+=h.byteLength});const l=new Uint8Array(i);let c=0;return t.forEach(h=>{for(let m=0;m<h.length;m++)l[c++]=h[m]}),new fi(l,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(s){let e;try{e=JSON.parse(s)}catch{return null}return a1(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E1(s){if(s.length===0)return null;const e=s.lastIndexOf("/");return e===-1?"":s.slice(0,e)}function T1(s,e){const t=e.split("/").filter(i=>i.length>0).join("/");return s.length===0?t:s+"/"+t}function FT(s){const e=s.lastIndexOf("/",s.length-2);return e===-1?s:s.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b1(s,e){return e}class yn{constructor(e,t,i,l){this.server=e,this.local=t||e,this.writable=!!i,this.xform=l||b1}}let gd=null;function A1(s){return!yp(s)||s.length<2?s:FT(s)}function GT(){if(gd)return gd;const s=[];s.push(new yn("bucket")),s.push(new yn("generation")),s.push(new yn("metageneration")),s.push(new yn("name","fullPath",!0));function e(c,h){return A1(h)}const t=new yn("name");t.xform=e,s.push(t);function i(c,h){return h!==void 0?Number(h):h}const l=new yn("size");return l.xform=i,s.push(l),s.push(new yn("timeCreated")),s.push(new yn("updated")),s.push(new yn("md5Hash",null,!0)),s.push(new yn("cacheControl",null,!0)),s.push(new yn("contentDisposition",null,!0)),s.push(new yn("contentEncoding",null,!0)),s.push(new yn("contentLanguage",null,!0)),s.push(new yn("contentType",null,!0)),s.push(new yn("metadata","customMetadata",!0)),gd=s,gd}function S1(s,e){function t(){const i=s.bucket,l=s.fullPath,c=new Mn(i,l);return e._makeStorageReference(c)}Object.defineProperty(s,"ref",{get:t})}function w1(s,e,t){const i={};i.type="file";const l=t.length;for(let c=0;c<l;c++){const h=t[c];i[h.local]=h.xform(i,e[h.server])}return S1(i,s),i}function $T(s,e,t){const i=KT(e);return i===null?null:w1(s,i,t)}function N1(s,e,t,i){const l=KT(e);if(l===null||!yp(l.downloadTokens))return null;const c=l.downloadTokens;if(c.length===0)return null;const h=encodeURIComponent;return c.split(",").map(y=>{const v=s.bucket,w=s.fullPath,N="/b/"+h(v)+"/o/"+h(w),O=Eh(N,t,i),L=BT({alt:"media",token:y});return O+L})[0]}function R1(s,e){const t={},i=e.length;for(let l=0;l<i;l++){const c=e[l];c.writable&&(t[c.server]=s[c.local])}return JSON.stringify(t)}class vp{constructor(e,t,i,l){this.url=e,this.method=t,this.handler=i,this.timeout=l,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QT(s){if(!s)throw pp()}function k1(s,e){function t(i,l){const c=$T(s,l,e);return QT(c!==null),c}return t}function C1(s,e){function t(i,l){const c=$T(s,l,e);return QT(c!==null),N1(c,l,s.host,s._protocol)}return t}function YT(s){function e(t,i){let l;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?l=qI():l=zI():t.getStatus()===402?l=HI(s.bucket):t.getStatus()===403?l=KI(s.path):l=i,l.status=t.getStatus(),l.serverResponse=i.serverResponse,l}return e}function WT(s){const e=YT(s);function t(i,l){let c=e(i,l);return i.getStatus()===404&&(c=BI(s.path)),c.serverResponse=l.serverResponse,c}return t}function I1(s,e,t){const i=e.fullServerUrl(),l=Eh(i,s.host,s._protocol),c="GET",h=s.maxOperationRetryTime,m=new vp(l,c,C1(s,t),h);return m.errorHandler=WT(e),m}function j1(s,e){const t=e.fullServerUrl(),i=Eh(t,s.host,s._protocol),l="DELETE",c=s.maxOperationRetryTime;function h(p,y){}const m=new vp(i,l,h,c);return m.successCodes=[200,204],m.errorHandler=WT(e),m}function D1(s,e){return s&&s.contentType||e&&e.type()||"application/octet-stream"}function O1(s,e,t){const i=Object.assign({},t);return i.fullPath=s.path,i.size=e.size(),i.contentType||(i.contentType=D1(null,e)),i}function M1(s,e,t,i,l){const c=e.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"};function m(){let F="";for(let Z=0;Z<2;Z++)F=F+Math.random().toString().slice(2);return F}const p=m();h["Content-Type"]="multipart/related; boundary="+p;const y=O1(e,i,l),v=R1(y,t),w="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+p+`\r
Content-Type: `+y.contentType+`\r
\r
`,N=`\r
--`+p+"--",O=fi.getBlob(w,i,N);if(O===null)throw WI();const L={name:y.fullPath},B=Eh(c,s.host,s._protocol),V="POST",z=s.maxUploadRetryTime,H=new vp(B,V,k1(s,t),z);return H.urlParams=L,H.headers=h,H.body=O.uploadData(),H.errorHandler=YT(e),H}class L1{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=gr.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=gr.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=gr.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,l){if(this.sent_)throw ec("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),l!==void 0)for(const c in l)l.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,l[c].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ec("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ec("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ec("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ec("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class P1 extends L1{initXhr(){this.xhr_.responseType="text"}}function xp(){return new P1}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e,t){this._service=e,t instanceof Mn?this._location=t:this._location=Mn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Er(e,t)}get root(){const e=new Mn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return FT(this._location.path)}get storage(){return this._service}get parent(){const e=E1(this._location.path);if(e===null)return null;const t=new Mn(this._location.bucket,e);return new Er(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw JI(e)}}function U1(s,e,t){s._throwIfRoot("uploadBytes");const i=M1(s.storage,s._location,GT(),new fi(e,!0),t);return s.storage.makeRequestWithTokens(i,xp).then(l=>({metadata:l,ref:s}))}function V1(s){s._throwIfRoot("getDownloadURL");const e=I1(s.storage,s._location,GT());return s.storage.makeRequestWithTokens(e,xp).then(t=>{if(t===null)throw XI();return t})}function B1(s){s._throwIfRoot("deleteObject");const e=j1(s.storage,s._location);return s.storage.makeRequestWithTokens(e,xp)}function H1(s,e){const t=T1(s._location.path,e),i=new Mn(s._location.bucket,t);return new Er(s.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z1(s){return/^[A-Za-z]+:\/\//.test(s)}function q1(s,e){return new Er(s,e)}function XT(s,e){if(s instanceof Ep){const t=s;if(t._bucket==null)throw YI();const i=new Er(t,t._bucket);return e!=null?XT(i,e):i}else return e!==void 0?H1(s,e):s}function K1(s,e){if(e&&z1(e)){if(s instanceof Ep)return q1(s,e);throw gg("To use ref(service, url), the first argument must be a Storage instance.")}else return XT(s,e)}function iE(s,e){const t=e==null?void 0:e[UT];return t==null?null:Mn.makeFromBucketSpec(t,s)}function F1(s,e,t,i={}){s.host=`${e}:${t}`,s._protocol="http";const{mockUserToken:l}=i;l&&(s._overrideAuthToken=typeof l=="string"?l:ZE(l,s.app.options.projectId))}class Ep{constructor(e,t,i,l,c){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=l,this._firebaseVersion=c,this._bucket=null,this._host=PT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=UI,this._maxUploadRetryTime=VI,this._requests=new Set,l!=null?this._bucket=Mn.makeFromBucketSpec(l,this._host):this._bucket=iE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Mn.makeFromBucketSpec(this._url,e):this._bucket=iE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){aE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){aE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Dn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Er(this,e)}_makeRequest(e,t,i,l,c=!0){if(this._deleted)return new e1(VT());{const h=d1(e,this._appId,i,l,t,this._firebaseVersion,c);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,t){const[i,l]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,l).getPromise()}}const rE="@firebase/storage",lE="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZT="storage";function zl(s,e,t){return s=ct(s),U1(s,e,t)}function ql(s){return s=ct(s),V1(s)}function Dc(s){return s=ct(s),B1(s)}function hs(s,e){return s=ct(s),K1(s,e)}function JT(s=Ig(),e){s=ct(s);const i=th(s,ZT).getImmediate({identifier:e}),l=YE("storage");return l&&G1(i,...l),i}function G1(s,e,t,i={}){F1(s,e,t,i)}function $1(s,{instanceIdentifier:e}){const t=s.getProvider("app").getImmediate(),i=s.getProvider("auth-internal"),l=s.getProvider("app-check-internal");return new Ep(t,i,l,e,Sr)}function Q1(){_r(new bi(ZT,$1,"PUBLIC").setMultipleInstances(!0)),Ps(rE,lE,""),Ps(rE,lE,"esm2017")}Q1();function Tp(s,e){var t={};for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&e.indexOf(i)<0&&(t[i]=s[i]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(s);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(s,i[l])&&(t[i[l]]=s[i[l]]);return t}function eb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Y1=eb,tb=new Sc("auth","Firebase",eb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gd=new kg("@firebase/auth");function W1(s,...e){Gd.logLevel<=Pe.WARN&&Gd.warn(`Auth (${Sr}): ${s}`,...e)}function wd(s,...e){Gd.logLevel<=Pe.ERROR&&Gd.error(`Auth (${Sr}): ${s}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fs(s,...e){throw bp(s,...e)}function Bs(s,...e){return bp(s,...e)}function nb(s,e,t){const i=Object.assign(Object.assign({},Y1()),{[e]:t});return new Sc("auth","Firebase",i).create(e,{appName:s.name})}function Ta(s){return nb(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function bp(s,...e){if(typeof s!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=s.name),s._errorFactory.create(t,...i)}return tb.create(s,...e)}function we(s,e,...t){if(!s)throw bp(e,...t)}function ya(s){const e="INTERNAL ASSERTION FAILED: "+s;throw wd(e),new Error(e)}function Na(s,e){s||ya(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pg(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.href)||""}function X1(){return oE()==="http:"||oE()==="https:"}function oE(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(X1()||aN()||"connection"in navigator)?navigator.onLine:!0}function J1(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Na(t>e,"Short delay should be less than long delay!"),this.isMobile=tN()||iN()}get(){return Z1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ap(s,e){Na(s.emulator,"Emulator should always be set here");const{url:t}=s.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ya("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ya("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ya("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ej={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tj=new Oc(3e4,6e4);function Oi(s,e){return s.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:s.tenantId}):e}async function Ra(s,e,t,i,l={}){return ab(s,l,async()=>{let c={},h={};i&&(e==="GET"?h=i:c={body:JSON.stringify(i)});const m=wc(Object.assign({key:s.config.apiKey},h)).slice(1),p=await s._getAdditionalHeaders();p["Content-Type"]="application/json",s.languageCode&&(p["X-Firebase-Locale"]=s.languageCode);const y=Object.assign({method:e,headers:p},c);return sN()||(y.referrerPolicy="no-referrer"),sb.fetch()(ib(s,s.config.apiHost,t,m),y)})}async function ab(s,e,t){s._canInitEmulator=!1;const i=Object.assign(Object.assign({},ej),e);try{const l=new sj(s),c=await Promise.race([t(),l.promise]);l.clearNetworkTimeout();const h=await c.json();if("needConfirmation"in h)throw pd(s,"account-exists-with-different-credential",h);if(c.ok&&!("errorMessage"in h))return h;{const m=c.ok?h.errorMessage:h.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw pd(s,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw pd(s,"email-already-in-use",h);if(p==="USER_DISABLED")throw pd(s,"user-disabled",h);const v=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw nb(s,v,y);fs(s,v)}}catch(l){if(l instanceof qs)throw l;fs(s,"network-request-failed",{message:String(l)})}}async function Mc(s,e,t,i,l={}){const c=await Ra(s,e,t,i,l);return"mfaPendingCredential"in c&&fs(s,"multi-factor-auth-required",{_serverResponse:c}),c}function ib(s,e,t,i){const l=`${e}${t}?${i}`;return s.config.emulator?Ap(s.config,l):`${s.config.apiScheme}://${l}`}function nj(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class sj{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Bs(this.auth,"network-request-failed")),tj.get())})}}function pd(s,e,t){const i={appName:s.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const l=Bs(s,e,i);return l.customData._tokenResponse=t,l}function cE(s){return s!==void 0&&s.enterprise!==void 0}class aj{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return nj(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function ij(s,e){return Ra(s,"GET","/v2/recaptchaConfig",Oi(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rj(s,e){return Ra(s,"POST","/v1/accounts:delete",e)}async function rb(s,e){return Ra(s,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hc(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function lj(s,e=!1){const t=ct(s),i=await t.getIdToken(e),l=Sp(i);we(l&&l.exp&&l.auth_time&&l.iat,t.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,h=c==null?void 0:c.sign_in_provider;return{claims:l,token:i,authTime:hc(qm(l.auth_time)),issuedAtTime:hc(qm(l.iat)),expirationTime:hc(qm(l.exp)),signInProvider:h||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function qm(s){return Number(s)*1e3}function Sp(s){const[e,t,i]=s.split(".");if(e===void 0||t===void 0||i===void 0)return wd("JWT malformed, contained fewer than 3 sections"),null;try{const l=$E(t);return l?JSON.parse(l):(wd("Failed to decode base64 JWT payload"),null)}catch(l){return wd("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function uE(s){const e=Sp(s);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dl(s,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof qs&&oj(i)&&s.auth.currentUser===s&&await s.auth.signOut(),i}}function oj({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const l=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=hc(this.lastLoginAt),this.creationTime=hc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $d(s){var e;const t=s.auth,i=await s.getIdToken(),l=await Dl(s,rb(t,{idToken:i}));we(l==null?void 0:l.users.length,t,"internal-error");const c=l.users[0];s._notifyReloadListener(c);const h=!((e=c.providerUserInfo)===null||e===void 0)&&e.length?lb(c.providerUserInfo):[],m=dj(s.providerData,h),p=s.isAnonymous,y=!(s.email&&c.passwordHash)&&!(m!=null&&m.length),v=p?y:!1,w={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:m,metadata:new yg(c.createdAt,c.lastLoginAt),isAnonymous:v};Object.assign(s,w)}async function uj(s){const e=ct(s);await $d(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function dj(s,e){return[...s.filter(i=>!e.some(l=>l.providerId===i.providerId)),...e]}function lb(s){return s.map(e=>{var{providerId:t}=e,i=Tp(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hj(s,e){const t=await ab(s,{},async()=>{const i=wc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,h=ib(s,l,"/v1/token",`key=${c}`),m=await s._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",sb.fetch()(h,{method:"POST",headers:m,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function fj(s,e){return Ra(s,"POST","/v2/accounts:revokeToken",Oi(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):uE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){we(e.length!==0,"internal-error");const t=uE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:l,expiresIn:c}=await hj(e,t);this.updateTokensAndExpiration(i,l,Number(c))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:l,expirationTime:c}=t,h=new bl;return i&&(we(typeof i=="string","internal-error",{appName:e}),h.refreshToken=i),l&&(we(typeof l=="string","internal-error",{appName:e}),h.accessToken=l),c&&(we(typeof c=="number","internal-error",{appName:e}),h.expirationTime=c),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new bl,this.toJSON())}_performRefresh(){return ya("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(s,e){we(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class _a{constructor(e){var{uid:t,auth:i,stsTokenManager:l}=e,c=Tp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new cj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new yg(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(e){const t=await Dl(this,this.stsTokenManager.getToken(this.auth,e));return we(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return lj(this,e)}reload(){return uj(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new _a(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await $d(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Dn(this.auth.app))return Promise.reject(Ta(this.auth));const e=await this.getIdToken();return await Dl(this,rj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,l,c,h,m,p,y,v;const w=(i=t.displayName)!==null&&i!==void 0?i:void 0,N=(l=t.email)!==null&&l!==void 0?l:void 0,O=(c=t.phoneNumber)!==null&&c!==void 0?c:void 0,L=(h=t.photoURL)!==null&&h!==void 0?h:void 0,B=(m=t.tenantId)!==null&&m!==void 0?m:void 0,V=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,z=(y=t.createdAt)!==null&&y!==void 0?y:void 0,H=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:F,emailVerified:Z,isAnonymous:oe,providerData:de,stsTokenManager:D}=t;we(F&&D,e,"internal-error");const C=bl.fromJSON(this.name,D);we(typeof F=="string",e,"internal-error"),di(w,e.name),di(N,e.name),we(typeof Z=="boolean",e,"internal-error"),we(typeof oe=="boolean",e,"internal-error"),di(O,e.name),di(L,e.name),di(B,e.name),di(V,e.name),di(z,e.name),di(H,e.name);const T=new _a({uid:F,auth:e,email:N,emailVerified:Z,displayName:w,isAnonymous:oe,photoURL:L,phoneNumber:O,tenantId:B,stsTokenManager:C,createdAt:z,lastLoginAt:H});return de&&Array.isArray(de)&&(T.providerData=de.map(b=>Object.assign({},b))),V&&(T._redirectEventId=V),T}static async _fromIdTokenResponse(e,t,i=!1){const l=new bl;l.updateFromServerResponse(t);const c=new _a({uid:t.localId,auth:e,stsTokenManager:l,isAnonymous:i});return await $d(c),c}static async _fromGetAccountInfoResponse(e,t,i){const l=t.users[0];we(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?lb(l.providerUserInfo):[],h=!(l.email&&l.passwordHash)&&!(c!=null&&c.length),m=new bl;m.updateFromIdToken(i);const p=new _a({uid:l.localId,auth:e,stsTokenManager:m,isAnonymous:h}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new yg(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(c!=null&&c.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE=new Map;function va(s){Na(s instanceof Function,"Expected a class definition");let e=dE.get(s);return e?(Na(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,dE.set(s,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}ob.type="NONE";const hE=ob;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nd(s,e,t){return`firebase:${s}:${e}:${t}`}class Al{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:l,name:c}=this.auth;this.fullUserKey=Nd(this.userKey,l.apiKey,c),this.fullPersistenceKey=Nd("persistence",l.apiKey,c),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?_a._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Al(va(hE),e,i);const l=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||va(hE);const h=Nd(i,e.config.apiKey,e.name);let m=null;for(const y of t)try{const v=await y._get(h);if(v){const w=_a._fromJSON(e,v);y!==c&&(m=w),c=y;break}}catch{}const p=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new Al(c,e,i):(c=p[0],m&&await c._set(h,m.toJSON()),await Promise.all(t.map(async y=>{if(y!==c)try{await y._remove(h)}catch{}})),new Al(c,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fE(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(hb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(cb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(mb(e))return"Blackberry";if(gb(e))return"Webos";if(ub(e))return"Safari";if((e.includes("chrome/")||db(e))&&!e.includes("edge/"))return"Chrome";if(fb(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=s.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function cb(s=dn()){return/firefox\//i.test(s)}function ub(s=dn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function db(s=dn()){return/crios\//i.test(s)}function hb(s=dn()){return/iemobile/i.test(s)}function fb(s=dn()){return/android/i.test(s)}function mb(s=dn()){return/blackberry/i.test(s)}function gb(s=dn()){return/webos/i.test(s)}function wp(s=dn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function mj(s=dn()){var e;return wp(s)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function gj(){return rN()&&document.documentMode===10}function pb(s=dn()){return wp(s)||fb(s)||gb(s)||mb(s)||/windows phone/i.test(s)||hb(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yb(s,e=[]){let t;switch(s){case"Browser":t=fE(dn());break;case"Worker":t=`${fE(dn())}-${s}`;break;default:t=s}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Sr}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=c=>new Promise((h,m)=>{try{const p=e(c);h(p)}catch(p){m(p)}});i.onAbort=t,this.queue.push(i);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const l of t)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yj(s,e={}){return Ra(s,"GET","/v2/passwordPolicy",Oi(s,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _j=6;class vj{constructor(e){var t,i,l,c;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:_j,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(c=e.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,l,c,h,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(l=p.containsLowercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsUppercaseLetter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),l&&(t.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let l=0;l<e.length;l++)i=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xj{constructor(e,t,i,l){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mE(this),this.idTokenSubscription=new mE(this),this.beforeStateQueue=new pj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=va(t)),this._initializationPromise=this.queue(async()=>{var i,l;if(!this._deleted&&(this.persistenceManager=await Al.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await rb(this,{idToken:e}),i=await _a._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Dn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let l=i,c=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,m=l==null?void 0:l._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===m)&&(p!=null&&p.user)&&(l=p.user,c=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(l)}catch(h){l=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await $d(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=J1()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Dn(this.app))return Promise.reject(Ta(this));const t=e?ct(e):null;return t&&we(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Dn(this.app)?Promise.reject(Ta(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Dn(this.app)?Promise.reject(Ta(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(va(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await yj(this),t=new vj(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Sc("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await fj(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&va(e)||this._popupRedirectResolver;we(t,this,"argument-error"),this.redirectPersistenceManager=await Al.create(this,[va(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,l){if(this._deleted)return()=>{};const c=typeof t=="function"?t:t.next.bind(t);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(m,this,"internal-error"),m.then(()=>{h||c(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,l);return()=>{h=!0,p()}}else{const p=e.addObserver(t);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=yb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const l=await this._getAppCheckToken();return l&&(t["X-Firebase-AppCheck"]=l),t}async _getAppCheckToken(){var e;if(Dn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&W1(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function kr(s){return ct(s)}class mE{constructor(e){this.auth=e,this.observer=null,this.addObserver=mN(t=>this.observer=t)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Th={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ej(s){Th=s}function _b(s){return Th.loadJS(s)}function Tj(){return Th.recaptchaEnterpriseScript}function bj(){return Th.gapiScript}function Aj(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class Sj{constructor(){this.enterprise=new wj}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class wj{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Nj="recaptcha-enterprise",vb="NO_RECAPTCHA";class Rj{constructor(e){this.type=Nj,this.auth=kr(e)}async verify(e="verify",t=!1){async function i(c){if(!t){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(h,m)=>{ij(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new aj(p);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,h(y.siteKey)}}).catch(p=>{m(p)})})}function l(c,h,m){const p=window.grecaptcha;cE(p)?p.enterprise.ready(()=>{p.enterprise.execute(c,{action:e}).then(y=>{h(y)}).catch(()=>{h(vb)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Sj().execute("siteKey",{action:"verify"}):new Promise((c,h)=>{i(this.auth).then(m=>{if(!t&&cE(window.grecaptcha))l(m,c,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=Tj();p.length!==0&&(p+=m),_b(p).then(()=>{l(m,c,h)}).catch(y=>{h(y)})}}).catch(m=>{h(m)})})}}async function gE(s,e,t,i=!1,l=!1){const c=new Rj(s);let h;if(l)h=vb;else try{h=await c.verify(t)}catch{h=await c.verify(t,!0)}const m=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return i?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function _g(s,e,t,i,l){var c;if(!((c=s._getRecaptchaConfig())===null||c===void 0)&&c.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await gE(s,e,t,t==="getOobCode");return i(s,h)}else return i(s,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await gE(s,e,t,t==="getOobCode");return i(s,m)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kj(s,e){const t=th(s,"auth");if(t.isInitialized()){const l=t.getImmediate(),c=t.getOptions();if(yr(c,e??{}))return l;fs(l,"already-initialized")}return t.initialize({options:e})}function Cj(s,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(va);e!=null&&e.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function Ij(s,e,t){const i=kr(s);we(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const l=!1,c=xb(e),{host:h,port:m}=jj(e),p=m===null?"":`:${m}`,y={url:`${c}//${h}${p}/`},v=Object.freeze({host:h,port:m,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!i._canInitEmulator){we(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),we(yr(y,i.config.emulator)&&yr(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=y,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,Dj()}function xb(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function jj(s){const e=xb(s),t=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(i);if(l){const c=l[1];return{host:c,port:pE(i.substr(c.length+1))}}else{const[c,h]=i.split(":");return{host:c,port:pE(h)}}}function pE(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function Dj(){function s(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ya("not implemented")}_getIdTokenResponse(e){return ya("not implemented")}_linkToIdToken(e,t){return ya("not implemented")}_getReauthenticationResolver(e){return ya("not implemented")}}async function Oj(s,e){return Ra(s,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mj(s,e){return Mc(s,"POST","/v1/accounts:signInWithPassword",Oi(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lj(s,e){return Mc(s,"POST","/v1/accounts:signInWithEmailLink",Oi(s,e))}async function Pj(s,e){return Mc(s,"POST","/v1/accounts:signInWithEmailLink",Oi(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc extends Np{constructor(e,t,i,l=null){super("password",i),this._email=e,this._password=t,this._tenantId=l}static _fromEmailAndPassword(e,t){return new Tc(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Tc(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _g(e,t,"signInWithPassword",Mj);case"emailLink":return Lj(e,{email:this._email,oobCode:this._password});default:fs(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _g(e,i,"signUpPassword",Oj);case"emailLink":return Pj(e,{idToken:t,email:this._email,oobCode:this._password});default:fs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sl(s,e){return Mc(s,"POST","/v1/accounts:signInWithIdp",Oi(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uj="http://localhost";class Tr extends Np{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Tr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):fs("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:l}=t,c=Tp(t,["providerId","signInMethod"]);if(!i||!l)return null;const h=new Tr(i,l);return h.idToken=c.idToken||void 0,h.accessToken=c.accessToken||void 0,h.secret=c.secret,h.nonce=c.nonce,h.pendingToken=c.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return Sl(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Sl(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Sl(e,t)}buildRequest(){const e={requestUri:Uj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=wc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vj(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Bj(s){const e=tc(nc(s)).link,t=e?tc(nc(e)).deep_link_id:null,i=tc(nc(s)).deep_link_id;return(i?tc(nc(i)).link:null)||i||t||e||s}class Rp{constructor(e){var t,i,l,c,h,m;const p=tc(nc(e)),y=(t=p.apiKey)!==null&&t!==void 0?t:null,v=(i=p.oobCode)!==null&&i!==void 0?i:null,w=Vj((l=p.mode)!==null&&l!==void 0?l:null);we(y&&v&&w,"argument-error"),this.apiKey=y,this.operation=w,this.code=v,this.continueUrl=(c=p.continueUrl)!==null&&c!==void 0?c:null,this.languageCode=(h=p.languageCode)!==null&&h!==void 0?h:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const t=Bj(e);try{return new Rp(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(){this.providerId=Kl.PROVIDER_ID}static credential(e,t){return Tc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=Rp.parseLink(t);return we(i,"argument-error"),Tc._fromEmailAndCode(e,i.code,i.tenantId)}}Kl.PROVIDER_ID="password";Kl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Kl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc extends Eb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi extends Lc{constructor(){super("facebook.com")}static credential(e){return Tr._fromParams({providerId:mi.PROVIDER_ID,signInMethod:mi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return mi.credentialFromTaggedObject(e)}static credentialFromError(e){return mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return mi.credential(e.oauthAccessToken)}catch{return null}}}mi.FACEBOOK_SIGN_IN_METHOD="facebook.com";mi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi extends Lc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Tr._fromParams({providerId:gi.PROVIDER_ID,signInMethod:gi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return gi.credentialFromTaggedObject(e)}static credentialFromError(e){return gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return gi.credential(t,i)}catch{return null}}}gi.GOOGLE_SIGN_IN_METHOD="google.com";gi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi extends Lc{constructor(){super("github.com")}static credential(e){return Tr._fromParams({providerId:pi.PROVIDER_ID,signInMethod:pi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pi.credentialFromTaggedObject(e)}static credentialFromError(e){return pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return pi.credential(e.oauthAccessToken)}catch{return null}}}pi.GITHUB_SIGN_IN_METHOD="github.com";pi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi extends Lc{constructor(){super("twitter.com")}static credential(e,t){return Tr._fromParams({providerId:yi.PROVIDER_ID,signInMethod:yi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return yi.credentialFromTaggedObject(e)}static credentialFromError(e){return yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return yi.credential(t,i)}catch{return null}}}yi.TWITTER_SIGN_IN_METHOD="twitter.com";yi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hj(s,e){return Mc(s,"POST","/v1/accounts:signUp",Oi(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,l=!1){const c=await _a._fromIdTokenResponse(e,i,l),h=yE(i);return new br({user:c,providerId:h,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const l=yE(i);return new br({user:e,providerId:l,_tokenResponse:i,operationType:t})}}function yE(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd extends qs{constructor(e,t,i,l){var c;super(t.code,t.message),this.operationType=i,this.user=l,Object.setPrototypeOf(this,Qd.prototype),this.customData={appName:e.name,tenantId:(c=e.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,l){return new Qd(e,t,i,l)}}function Tb(s,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(s):t._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Qd._fromErrorAndOperation(s,c,e,i):c})}async function zj(s,e,t=!1){const i=await Dl(s,e._linkToIdToken(s.auth,await s.getIdToken()),t);return br._forOperation(s,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qj(s,e,t=!1){const{auth:i}=s;if(Dn(i.app))return Promise.reject(Ta(i));const l="reauthenticate";try{const c=await Dl(s,Tb(i,l,e,s),t);we(c.idToken,i,"internal-error");const h=Sp(c.idToken);we(h,i,"internal-error");const{sub:m}=h;return we(s.uid===m,i,"user-mismatch"),br._forOperation(s,l,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&fs(i,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bb(s,e,t=!1){if(Dn(s.app))return Promise.reject(Ta(s));const i="signIn",l=await Tb(s,i,e),c=await br._fromIdTokenResponse(s,i,l);return t||await s._updateCurrentUser(c.user),c}async function Kj(s,e){return bb(kr(s),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ab(s){const e=kr(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Fj(s,e,t){if(Dn(s.app))return Promise.reject(Ta(s));const i=kr(s),h=await _g(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Hj).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&Ab(s),p}),m=await br._fromIdTokenResponse(i,"signIn",h);return await i._updateCurrentUser(m.user),m}function Gj(s,e,t){return Dn(s.app)?Promise.reject(Ta(s)):Kj(ct(s),Kl.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&Ab(s),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $j(s,e){return Ra(s,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qj(s,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const i=ct(s),c={idToken:await i.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},h=await Dl(i,$j(i.auth,c));i.displayName=h.displayName||null,i.photoURL=h.photoUrl||null;const m=i.providerData.find(({providerId:p})=>p==="password");m&&(m.displayName=i.displayName,m.photoURL=i.photoURL),await i._updateTokensIfNecessary(h)}function Yj(s,e,t,i){return ct(s).onIdTokenChanged(e,t,i)}function Wj(s,e,t){return ct(s).beforeAuthStateChanged(e,t)}function Xj(s,e,t,i){return ct(s).onAuthStateChanged(e,t,i)}function Zj(s){return ct(s).signOut()}const Yd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Yd,"1"),this.storage.removeItem(Yd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jj=1e3,e2=10;class wb extends Sb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=pb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),l=this.localCache[t];i!==l&&e(t,l,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const l=()=>{const h=this.storage.getItem(i);!t&&this.localCache[i]===h||this.notifyListeners(i,h)},c=this.storage.getItem(i);gj()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,e2):l()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const l of Array.from(i))l(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},Jj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}wb.type="LOCAL";const t2=wb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb extends Sb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Nb.type="SESSION";const Rb=Nb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(l=>l.isListeningto(e));if(t)return t;const i=new bh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:l,data:c}=t.data,h=this.handlersMap[l];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:l});const m=Array.from(h).map(async y=>y(t.origin,c)),p=await n2(m);t.ports[0].postMessage({status:"done",eventId:i,eventType:l,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kp(s="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return s+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,h;return new Promise((m,p)=>{const y=kp("",20);l.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},i);h={messageChannel:l,onMessage(w){const N=w;if(N.data.eventId===y)switch(N.data.status){case"ack":clearTimeout(v),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),m(N.data.response);break;default:clearTimeout(v),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(h),l.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[l.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hs(){return window}function a2(s){Hs().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kb(){return typeof Hs().WorkerGlobalScope<"u"&&typeof Hs().importScripts=="function"}async function i2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function r2(){var s;return((s=navigator==null?void 0:navigator.serviceWorker)===null||s===void 0?void 0:s.controller)||null}function l2(){return kb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb="firebaseLocalStorageDb",o2=1,Wd="firebaseLocalStorage",Ib="fbase_key";class Pc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Ah(s,e){return s.transaction([Wd],e?"readwrite":"readonly").objectStore(Wd)}function c2(){const s=indexedDB.deleteDatabase(Cb);return new Pc(s).toPromise()}function vg(){const s=indexedDB.open(Cb,o2);return new Promise((e,t)=>{s.addEventListener("error",()=>{t(s.error)}),s.addEventListener("upgradeneeded",()=>{const i=s.result;try{i.createObjectStore(Wd,{keyPath:Ib})}catch(l){t(l)}}),s.addEventListener("success",async()=>{const i=s.result;i.objectStoreNames.contains(Wd)?e(i):(i.close(),await c2(),e(await vg()))})})}async function _E(s,e,t){const i=Ah(s,!0).put({[Ib]:e,value:t});return new Pc(i).toPromise()}async function u2(s,e){const t=Ah(s,!1).get(e),i=await new Pc(t).toPromise();return i===void 0?null:i.value}function vE(s,e){const t=Ah(s,!0).delete(e);return new Pc(t).toPromise()}const d2=800,h2=3;class jb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await vg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>h2)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return kb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bh._getInstance(l2()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await i2(),!this.activeServiceWorker)return;this.sender=new s2(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||r2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await vg();return await _E(e,Yd,"1"),await vE(e,Yd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>_E(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>u2(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>vE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=Ah(l,!1).getAll();return new Pc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)i.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),t.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!i.has(l)&&(this.notifyListeners(l,null),t.push(l));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const l of Array.from(i))l(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),d2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}jb.type="LOCAL";const f2=jb;new Oc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m2(s,e){return e?va(e):(we(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp extends Np{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Sl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Sl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Sl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function g2(s){return bb(s.auth,new Cp(s),s.bypassAuthState)}function p2(s){const{auth:e,user:t}=s;return we(t,e,"internal-error"),qj(t,new Cp(s),s.bypassAuthState)}async function y2(s){const{auth:e,user:t}=s;return we(t,e,"internal-error"),zj(t,new Cp(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(e,t,i,l,c=!1){this.auth=e,this.resolver=i,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:l,tenantId:c,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return g2;case"linkViaPopup":case"linkViaRedirect":return y2;case"reauthViaPopup":case"reauthViaRedirect":return p2;default:fs(this.auth,"internal-error")}}resolve(e){Na(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Na(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2=new Oc(2e3,1e4);class El extends Db{constructor(e,t,i,l,c){super(e,t,l,c),this.provider=i,this.authWindow=null,this.pollId=null,El.currentPopupAction&&El.currentPopupAction.cancel(),El.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){Na(this.filter.length===1,"Popup operations only handle one event");const e=kp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Bs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Bs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,El.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_2.get())};e()}}El.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2="pendingRedirect",Rd=new Map;class x2 extends Db{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Rd.get(this.auth._key());if(!e){try{const i=await E2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Rd.set(this.auth._key(),e)}return this.bypassAuthState||Rd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function E2(s,e){const t=A2(e),i=b2(s);if(!await i._isAvailable())return!1;const l=await i._get(t)==="true";return await i._remove(t),l}function T2(s,e){Rd.set(s._key(),e)}function b2(s){return va(s._redirectPersistence)}function A2(s){return Nd(v2,s.config.apiKey,s.name)}async function S2(s,e,t=!1){if(Dn(s.app))return Promise.reject(Ta(s));const i=kr(s),l=m2(i,e),h=await new x2(i,l,t).execute();return h&&!t&&(delete h.user._redirectEventId,await i._persistUserIfCurrent(h.user),await i._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2=10*60*1e3;class N2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!R2(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!Ob(e)){const l=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Bs(this.auth,l))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=w2&&this.cachedEventUids.clear(),this.cachedEventUids.has(xE(e))}saveEventToCache(e){this.cachedEventUids.add(xE(e)),this.lastProcessedEventTime=Date.now()}}function xE(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function Ob({type:s,error:e}){return s==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function R2(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ob(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k2(s,e={}){return Ra(s,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,I2=/^https?/;async function j2(s){if(s.config.emulator)return;const{authorizedDomains:e}=await k2(s);for(const t of e)try{if(D2(t))return}catch{}fs(s,"unauthorized-domain")}function D2(s){const e=pg(),{protocol:t,hostname:i}=new URL(e);if(s.startsWith("chrome-extension://")){const h=new URL(s);return h.hostname===""&&i===""?t==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===i}if(!I2.test(t))return!1;if(C2.test(s))return i===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2=new Oc(3e4,6e4);function EE(){const s=Hs().___jsl;if(s!=null&&s.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let t=0;t<s.CP.length;t++)s.CP[t]=null}}function M2(s){return new Promise((e,t)=>{var i,l,c;function h(){EE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{EE(),t(Bs(s,"network-request-failed"))},timeout:O2.get()})}if(!((l=(i=Hs().gapi)===null||i===void 0?void 0:i.iframes)===null||l===void 0)&&l.Iframe)e(gapi.iframes.getContext());else if(!((c=Hs().gapi)===null||c===void 0)&&c.load)h();else{const m=Aj("iframefcb");return Hs()[m]=()=>{gapi.load?h():t(Bs(s,"network-request-failed"))},_b(`${bj()}?onload=${m}`).catch(p=>t(p))}}).catch(e=>{throw kd=null,e})}let kd=null;function L2(s){return kd=kd||M2(s),kd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2=new Oc(5e3,15e3),U2="__/auth/iframe",V2="emulator/auth/iframe",B2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},H2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function z2(s){const e=s.config;we(e.authDomain,s,"auth-domain-config-required");const t=e.emulator?Ap(e,V2):`https://${s.config.authDomain}/${U2}`,i={apiKey:e.apiKey,appName:s.name,v:Sr},l=H2.get(s.config.apiHost);l&&(i.eid=l);const c=s._getFrameworks();return c.length&&(i.fw=c.join(",")),`${t}?${wc(i).slice(1)}`}async function q2(s){const e=await L2(s),t=Hs().gapi;return we(t,s,"internal-error"),e.open({where:document.body,url:z2(s),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:B2,dontclear:!0},i=>new Promise(async(l,c)=>{await i.restyle({setHideOnLeave:!1});const h=Bs(s,"network-request-failed"),m=Hs().setTimeout(()=>{c(h)},P2.get());function p(){Hs().clearTimeout(m),l(i)}i.ping(p).then(p,()=>{c(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},F2=500,G2=600,$2="_blank",Q2="http://localhost";class TE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Y2(s,e,t,i=F2,l=G2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),h=Math.max((window.screen.availWidth-i)/2,0).toString();let m="";const p=Object.assign(Object.assign({},K2),{width:i.toString(),height:l.toString(),top:c,left:h}),y=dn().toLowerCase();t&&(m=db(y)?$2:t),cb(y)&&(e=e||Q2,p.scrollbars="yes");const v=Object.entries(p).reduce((N,[O,L])=>`${N}${O}=${L},`,"");if(mj(y)&&m!=="_self")return W2(e||"",m),new TE(null);const w=window.open(e||"",m,v);we(w,s,"popup-blocked");try{w.focus()}catch{}return new TE(w)}function W2(s,e){const t=document.createElement("a");t.href=s,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2="__/auth/handler",Z2="emulator/auth/handler",J2=encodeURIComponent("fac");async function bE(s,e,t,i,l,c){we(s.config.authDomain,s,"auth-domain-config-required"),we(s.config.apiKey,s,"invalid-api-key");const h={apiKey:s.config.apiKey,appName:s.name,authType:t,redirectUrl:i,v:Sr,eventId:l};if(e instanceof Eb){e.setDefaultLanguage(s.languageCode),h.providerId=e.providerId||"",fN(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,w]of Object.entries({}))h[v]=w}if(e instanceof Lc){const v=e.getScopes().filter(w=>w!=="");v.length>0&&(h.scopes=v.join(","))}s.tenantId&&(h.tid=s.tenantId);const m=h;for(const v of Object.keys(m))m[v]===void 0&&delete m[v];const p=await s._getAppCheckToken(),y=p?`#${J2}=${encodeURIComponent(p)}`:"";return`${eD(s)}?${wc(m).slice(1)}${y}`}function eD({config:s}){return s.emulator?Ap(s,Z2):`https://${s.authDomain}/${X2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Km="webStorageSupport";class tD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Rb,this._completeRedirectFn=S2,this._overrideRedirectResult=T2}async _openPopup(e,t,i,l){var c;Na((c=this.eventManagers[e._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const h=await bE(e,t,i,pg(),l);return Y2(e,h,kp())}async _openRedirect(e,t,i,l){await this._originValidation(e);const c=await bE(e,t,i,pg(),l);return a2(c),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:l,promise:c}=this.eventManagers[t];return l?Promise.resolve(l):(Na(c,"If manager is not set, promise should be"),c)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await q2(e),i=new N2(e);return t.register("authEvent",l=>(we(l==null?void 0:l.authEvent,e,"invalid-auth-event"),{status:i.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Km,{type:Km},l=>{var c;const h=(c=l==null?void 0:l[0])===null||c===void 0?void 0:c[Km];h!==void 0&&t(!!h),fs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=j2(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return pb()||ub()||wp()}}const nD=tD;var AE="@firebase/auth",SE="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aD(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function iD(s){_r(new bi("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=i.options;we(h&&!h.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:h,authDomain:m,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yb(s)},y=new xj(i,l,c,p);return Cj(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),_r(new bi("auth-internal",e=>{const t=kr(e.getProvider("auth").getImmediate());return(i=>new sD(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ps(AE,SE,aD(s)),Ps(AE,SE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD=5*60,lD=XE("authIdTokenMaxAge")||rD;let wE=null;const oD=s=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>lD)return;const l=t==null?void 0:t.token;wE!==l&&(wE=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function cD(s=Ig()){const e=th(s,"auth");if(e.isInitialized())return e.getImmediate();const t=kj(s,{popupRedirectResolver:nD,persistence:[f2,t2,Rb]}),i=XE("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(i,location.origin);if(location.origin===c.origin){const h=oD(c.toString());Wj(t,h,()=>h(t.currentUser)),Yj(t,m=>h(m))}}const l=QE("auth");return l&&Ij(t,`http://${l}`),t}function uD(){var s,e;return(e=(s=document.getElementsByTagName("head"))===null||s===void 0?void 0:s[0])!==null&&e!==void 0?e:document}Ej({loadJS(s){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",s),i.onload=e,i.onerror=l=>{const c=Bs("internal-error");c.customData=l,t(c)},i.type="text/javascript",i.charset="UTF-8",uD().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});iD("Browser");const dD={apiKey:"AIzaSyB0zBdnr_ZBmmokxvgLiHWU52QhnFnoymU",authDomain:"aimchallange-67039.firebaseapp.com",projectId:"aimchallange-67039",storageBucket:"aimchallange-67039.appspot.com",messagingSenderId:"109617578227",appId:"1:109617578227:web:8f09f705f248bbdaf07786",measurementId:"G-42PJQ2LB6T"},Sh=t0(dD),Cd=cD(Sh),We=EI(Sh),ms=JT(Sh,"gs://aimchallange-67039.appspot.com");JT(Sh,"gs://aimchallange-67039.appspot.com");const Mb=k.createContext(),ys=()=>k.useContext(Mb),hD=({children:s})=>{const[e,t]=k.useState(null),[i,l]=k.useState(!1),[c,h]=k.useState(!0);k.useEffect(()=>Xj(Cd,async w=>{if(w){const N={uid:w.uid,email:w.email,displayName:w.displayName||w.email.split("@")[0],role:"admin"};t(N),l(!0)}else t(null),l(!1);h(!1)}),[]);const y={currentUser:e,isAuthenticated:i,login:async(v,w)=>{try{return await Gj(Cd,v,w),{success:!0}}catch(N){return console.error("Login error:",N),{success:!1,error:N.message}}},logout:async()=>{try{return await Zj(Cd),{success:!0}}catch(v){return console.error("Logout error:",v),{success:!1,error:v.message}}}};return u.jsx(Mb.Provider,{value:y,children:!c&&s})},Xd=ot(We,"settings","textContent"),NE=async()=>{try{const s=await Di(Xd);if(s.exists())return s.data();{const e={_languageStructure:{initialized:!0,availableLanguages:["sv","en","no"]}};return await ds(Xd,e),e}}catch(s){return console.error("Error getting text content:",s),{}}},fD=async(s,e,t="sv")=>{try{const i=await Di(Xd),l=i.exists()?i.data():{},c={};return l[s]&&typeof l[s]=="object"&&l[s]._isMultilingual?(c[`${s}.${t}`]=e,c[`${s}._isMultilingual`]=!0):(c[s]={sv:t==="sv"?e:l[s]||"",en:t==="en"?e:"",no:t==="no"?e:"",_isMultilingual:!0},t!=="sv"&&(c[s][t]=e)),await gp(Xd,c),!0}catch(i){return console.error("Error updating text content:",i),!1}};ot(We,"settings","backgroundImages");const pr={SV:"sv",EN:"en",NO:"no"},mD={sv:"Svenska",en:"English",no:"Norsk"},Lb=pr.SV,Pb=k.createContext(),mt=()=>k.useContext(Pb),gD=({children:s})=>{const[e,t]=k.useState({}),[i,l]=k.useState(!1),[c,h]=k.useState([]),[m,p]=k.useState(()=>{const T=localStorage.getItem("preferredLanguage");return T&&Object.values(pr).includes(T)?T:Lb}),{currentUser:y,isAuthenticated:v}=ys(),w=(y==null?void 0:y.role)==="admin";k.useEffect(()=>{(async()=>{try{const b=await NE();t(b)}catch(b){console.error("Error fetching text content:",b);const S=localStorage.getItem("textContent");if(S)try{t(JSON.parse(S))}catch(j){console.error("Error parsing saved content:",j),t({})}}})()},[]),k.useEffect(()=>{l(!!(v&&w))},[v,w]);const N=(T,b,S=null)=>{const j=S||m;return e[T]&&typeof e[T]=="object"&&e[T]._isMultilingual?e[T][j]||e[T].sv||b:e[T]||b},O=async(T,b,S=null)=>{try{const j=S||m;await fD(T,b,j);const A=await NE();t(A),h(Y=>[...Y,{content:{...e},timestamp:new Date().toISOString(),changedKey:T,language:j}]),localStorage.setItem("textContent",JSON.stringify(A))}catch(j){console.error("Error updating text content:",j);const A=S||m;let Y={...e};Y[T]&&typeof Y[T]=="object"&&Y[T]._isMultilingual?Y[T]={...Y[T],[A]:b}:Y[T]={sv:A==="sv"?b:Y[T]||"",en:A==="en"?b:"",no:A==="no"?b:"",_isMultilingual:!0},t(Y),localStorage.setItem("textContent",JSON.stringify(Y))}},L=T=>{h(S=>[...S,{content:{...e},timestamp:new Date().toISOString(),changedKey:T,action:"remove"}]);const b={...e};delete b[T],t(b),localStorage.setItem("textContent",JSON.stringify(b)),console.log(`Content item '${T}' has been removed`)},B=()=>{h(T=>[...T,{content:{...e},timestamp:new Date().toISOString(),action:"reset-all"}]),t({}),localStorage.removeItem("textContent"),console.log("All content has been reset")},V=()=>{if(c.length>1){const T=[...c];T.pop();const b=T[T.length-1].content;return t(b),localStorage.setItem("textContent",JSON.stringify(b)),h(T),console.log("Last change undone"),!0}return console.log("No changes to undo"),!1},z=()=>c,H=()=>{console.log("Edit mode is always on for admin users")},F=async T=>Object.values(pr).includes(T)?(p(T),localStorage.setItem("preferredLanguage",T),!0):!1,Z=async(T,b)=>{try{const S=N(T,"","sv");if(!S)return!1;const j=await de(S,"sv",b);return await O(T,j,b),!0}catch(S){return console.error("Translation error:",S),!1}},de=async(T,b,S)=>{if(!T)return"";try{try{const Y=await(await fetch("https://libretranslate.de/translate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({q:T,source:b==="sv"?"sv":"en",target:S==="no"?"nb":S,format:"text"})})).json();if(Y.translatedText)return D(T,Y.translatedText)}catch(j){console.warn("LibreTranslate API failed:",j)}try{const j=`https://lingva.ml/api/v1/${b==="sv"?"sv":"en"}/${S==="no"?"no":S}/${encodeURIComponent(T)}`,Y=await(await fetch(j)).json();if(Y.translation)return D(T,Y.translation)}catch(j){console.warn("Lingva API failed:",j)}try{const j=`https://translate.googleapis.com/translate_a/single?client=gtx&sl=${b}&tl=${S}&dt=t&q=${encodeURIComponent(T)}`,Y=await(await fetch(j)).json();let ne="";if(Y&&Y[0]&&Y[0].forEach(X=>{X[0]&&(ne+=X[0])}),ne)return D(T,ne)}catch(j){console.warn("Unofficial Google API failed:",j)}return`[${S.toUpperCase()}] ${T}`}catch(j){return console.error("Translation error:",j),T}},D=(T,b)=>T===T.toUpperCase()?b.toUpperCase():T===T.toLowerCase()?b.toLowerCase():T[0]===T[0].toUpperCase()?b.charAt(0).toUpperCase()+b.slice(1):b,C={getText:N,updateText:O,isEditing:i,toggleEditing:H,isAdmin:w,textContent:e,resetAllContent:B,removeContentItem:L,undoLastChange:V,getEditHistory:z,editHistory:c,currentLanguage:m,changeLanguage:F,translateText:Z,LANGUAGES:pr,LANGUAGE_NAMES:mD};return u.jsx(Pb.Provider,{value:C,children:s})},RE=({className:s=""})=>{const{currentLanguage:e,changeLanguage:t,LANGUAGES:i,LANGUAGE_NAMES:l}=mt(),[c,h]=k.useState(!1),m=y=>{y!==e&&(h(!0),t(y),setTimeout(()=>{h(!1)},500))},p=s.includes("mobile");return u.jsx("div",{className:`language-selector ${p?"":"navbar-language"} ${s}`,children:u.jsx("div",{className:p?"language-selector__options":"navbar-lang-options",children:Object.values(i).map(y=>u.jsx("button",{className:p?`language-selector__option ${e===y?"language-selector__option--active":""}`:`navbar-lang-button ${e===y?"navbar-lang-button--active":""}`,onClick:()=>m(y),"aria-label":`Switch to ${l[y]}`,disabled:c,children:y.toUpperCase()},y))})})},pD=()=>{const[s,e]=k.useState(!1),[t,i]=k.useState(!1),[l,c]=k.useState(!1),{isAuthenticated:h,currentUser:m,logout:p}=ys(),{isEditing:y,getText:v,updateText:w}=mt(),N=Ar(),O=()=>{c(!l),e(!1),i(!1)},L=()=>{p(),N("/")};return k.useEffect(()=>{const B=V=>{const z=document.querySelector(".mobile-menu"),H=document.querySelector(".hamburger-menu");l&&z&&!z.contains(V.target)&&!H.contains(V.target)&&c(!1)};return document.addEventListener("mousedown",B),()=>{document.removeEventListener("mousedown",B)}},[l]),k.useEffect(()=>{console.log("Navbar auth state:",{isAuthenticated:h,currentUser:m,isAdmin:(m==null?void 0:m.role)==="admin"})},[h,m]),u.jsx("div",{className:"flex flex_col navbar-container",children:u.jsxs("div",{className:"navbar  flex flex_j_SA MaxWH location font_white",children:[u.jsx("div",{className:"navim MaxWH location",children:u.jsx(ke,{to:"/",children:u.jsx("img",{src:"/images/Aim Blue.svg",alt:"aim challenge logo",className:"custom-image navim"})})}),u.jsxs("div",{className:"hamburger-menu",onClick:O,children:[u.jsx("span",{}),u.jsx("span",{}),u.jsx("span",{})]}),u.jsxs("div",{className:"navbside",children:[u.jsxs("div",{className:"nav-button dropdown-container",children:[u.jsx(ke,{to:"/competitions",className:"dropdown-trigger",children:"Tvlingar"}),u.jsxs("div",{className:"drop-down",children:[u.jsx(ke,{to:"/ulricehamn",className:"drop-item",children:"ULRICEHAMN"}),u.jsx(ke,{to:"/salen",className:"drop-item",children:"SLEN"}),u.jsx(ke,{to:"/hemsedal",className:"drop-item",children:"HEMSEDAL"}),u.jsx(ke,{to:"/kolmarden",className:"drop-item",children:"KOLMRDEN"}),u.jsx(ke,{to:"/trippeln",className:"drop-item",children:"TRIPPELN"}),u.jsx(ke,{to:"/results",className:"drop-item",children:"RESULTAT"})]})]}),u.jsxs("div",{className:"nav-button dropdown-container",children:[u.jsx(ke,{to:"/om-oss",className:"dropdown-trigger",children:"Om oss"}),u.jsxs("div",{className:"drop-down",children:[u.jsx(ke,{to:"/regler",className:"drop-item",children:"Regler"}),u.jsx(ke,{to:"/faq",className:"drop-item",children:"FAQ"}),u.jsx(ke,{to:"/historien-om-aim",className:"drop-item",children:"Historien om AIM"})]})]}),u.jsx("div",{className:"nav-button",children:u.jsx(ke,{to:"/#sponsors-section",onClick:B=>{if(B.preventDefault(),window.location.pathname==="/"){const V=document.getElementById("sponsors-section");if(V){const H=V.getBoundingClientRect().top+window.pageYOffset-100;window.scrollTo({top:H,behavior:"smooth"})}}else window.location.href="/#sponsors-section"},children:"Sponsorer"})}),u.jsx("div",{className:"nav-button",children:u.jsx(ke,{to:"/senaste-nytt",children:"Senaste nytt"})}),u.jsx("div",{className:"nav-button",children:u.jsx("a",{href:"mailto:info@aimchallenge.com",children:"Kontakta oss"})}),u.jsx("div",{className:"language-nav-container",children:u.jsx(RE,{className:""})}),h&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"nav-button",children:u.jsx(ke,{to:"/content-manager",children:"Innehll"})}),u.jsx("div",{className:"nav-button",children:u.jsx("a",{href:"#",onClick:B=>{B.preventDefault(),L()},children:"Logga ut"})})]})]}),l&&u.jsxs("div",{className:"mobile-menu",children:[u.jsxs("div",{className:"mobile-menu-item",children:[u.jsxs("div",{className:"mobile-menu-header",onClick:()=>e(!s),children:["Tvlingar ",s?"":""]}),s&&u.jsxs("div",{className:"mobile-submenu",children:[u.jsx(ke,{to:"/ulricehamn",onClick:O,className:"mobile-submenu-item",children:"ULRICEHAMN"}),u.jsx(ke,{to:"/salen",onClick:O,className:"mobile-submenu-item",children:"SLEN"}),u.jsx(ke,{to:"/hemsedal",onClick:O,className:"mobile-submenu-item",children:"HEMSEDAL"}),u.jsx(ke,{to:"/kolmarden",onClick:O,className:"mobile-submenu-item",children:"KOLMRDEN"}),u.jsx(ke,{to:"/trippeln",onClick:O,className:"mobile-submenu-item",children:"TRIPPELN"})]})]}),u.jsx("div",{className:"mobile-menu-item",children:u.jsx(ke,{to:"/results",onClick:O,className:"mobile-menu-link",children:"Resultat"})}),u.jsxs("div",{className:"mobile-menu-item",children:[u.jsxs("div",{className:"mobile-menu-header",onClick:()=>i(!t),children:["Om oss ",t?"":""]}),t&&u.jsxs("div",{className:"mobile-submenu",children:[u.jsx(ke,{to:"/om-oss",onClick:O,className:"mobile-submenu-item",children:"Om oss"}),u.jsx(ke,{to:"/regler",onClick:O,className:"mobile-submenu-item",children:"Regler"}),u.jsx(ke,{to:"/faq",onClick:O,className:"mobile-submenu-item",children:"FAQ"}),u.jsx(ke,{to:"/historien-om-aim",onClick:O,className:"mobile-submenu-item",children:"Historien om AIM"})]})]}),u.jsx("div",{className:"mobile-menu-item",children:u.jsx(ke,{to:"/#sponsors-section",onClick:B=>{if(B.preventDefault(),O(),window.location.pathname==="/"){const V=document.getElementById("sponsors-section");if(V){const H=V.getBoundingClientRect().top+window.pageYOffset-100;window.scrollTo({top:H,behavior:"smooth"})}}else window.location.href="/#sponsors-section"},className:"mobile-menu-link",children:"Sponsorer"})}),u.jsx("div",{className:"mobile-menu-item",children:u.jsx(ke,{to:"/senaste-nytt",onClick:O,className:"mobile-menu-link",children:"Senaste nytt"})}),u.jsx("div",{className:"mobile-menu-item",children:u.jsx("a",{href:"mailto:info@aimchallenge.com",onClick:O,className:"mobile-menu-link",children:"Kontakta oss"})}),u.jsx("div",{className:"mobile-menu-item mobile-language-switcher",children:u.jsx(RE,{className:"mobile-language-selector"})}),h&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"mobile-menu-item",children:u.jsx(ke,{to:"/content-manager",onClick:O,className:"mobile-menu-link",children:"Innehll"})}),u.jsx("div",{className:"mobile-menu-item",children:u.jsx("a",{href:"#",onClick:B=>{B.preventDefault(),L(),O()},className:"mobile-menu-link",children:"Logga ut"})})]})]})]})})},Uc=({location:s,targetId:e})=>{const[t,i]=k.useState(!1),[l,c]=k.useState(null),[h,m]=k.useState([]),[p,y]=k.useState({imageUrl:"",link:"",location:""}),[v,w]=k.useState(!1),{isAdmin:N}=mt(),O=An(),L=k.useRef(null),B=k.useRef(null),V=nn(We,"sponsors"),z=O.pathname.split("/").pop(),F=s||(["salen","ulricehamn","hemsedal","kolmarden"].includes(z)?z:""),Z=!!s;k.useEffect(()=>{(async()=>{try{console.log("=== LOADING SPONSORS ==="),console.log("isLocalPartners:",Z),console.log("currentLocationName:",F),console.log("location prop:",s);let ne=(await Ln(V)).docs.map(X=>({id:X.id,...X.data()}));console.log("All sponsors loaded from Firestore:",ne.length),console.log("All sponsors data:",ne),Z&&F?(console.log(`Filtering for local sponsors with location: ${F}`),ne=ne.filter(X=>X.location===F),console.log(`Filtered to ${ne.length} local sponsors for ${F}`)):(console.log("Filtering for global sponsors (no location)"),ne=ne.filter(X=>!X.location),console.log(`Filtered to ${ne.length} global sponsors`)),console.log("Final filtered sponsors:",ne),ne.forEach((X,Q)=>{console.log(`Sponsor ${Q+1}:`,{id:X.id,url:X.imageUrl,isSVG:X.imageUrl&&X.imageUrl.toLowerCase().includes(".svg")})}),m(ne)}catch(Y){console.error("Error loading sponsors:",Y)}})()},[F,Z]),k.useEffect(()=>{y(Z?A=>({...A,location:F}):A=>({...A,location:""}))},[Z,F]),k.useEffect(()=>{if(!N)return;if(((Y,ne,X,Q=!1)=>{const ue=document.querySelector(Y);if(!ue)return;const ve=document.querySelector(`#${ne}`);ve&&ve.remove();const M=document.createElement("button");M.id=ne,M.className="admin-edit-button",M.textContent=X,M.style.marginLeft="10px",M.style.padding="5px 10px",M.style.backgroundColor="#384c87",M.style.color="white",M.style.border="none",M.style.borderRadius="4px",M.style.cursor="pointer",M.style.whiteSpace="nowrap",M.addEventListener("mouseenter",()=>{M.style.backgroundColor="#4f639e"}),M.addEventListener("mouseleave",()=>{M.style.backgroundColor="#384c87"}),M.addEventListener("click",()=>{y(Q?ae=>({...ae,location:F}):ae=>({...ae,location:""})),i(!0)}),ue.appendChild(M)})("#sponsors-section","sponsor-edit-button","Edit Sponsors",!1),F){const Y=document.querySelector(".sponsors-section");if(Y){const ne=Y.querySelector("h2.sponsors-title")||Y.querySelector(".sponsors-title h2")||Y.querySelector("h2");if(ne){const X=document.querySelector("#local-sponsor-edit-button");X&&X.remove();const Q=document.createElement("button");Q.id="local-sponsor-edit-button",Q.className="admin-edit-button",Q.textContent="Edit Local Partners",Q.style.marginLeft="10px",Q.style.padding="5px 10px",Q.style.backgroundColor="#384c87",Q.style.color="white",Q.style.border="none",Q.style.borderRadius="4px",Q.style.cursor="pointer",Q.style.whiteSpace="nowrap",Q.addEventListener("mouseenter",()=>{Q.style.backgroundColor="#4f639e"}),Q.addEventListener("mouseleave",()=>{Q.style.backgroundColor="#384c87"}),Q.addEventListener("click",()=>{y(ue=>({...ue,location:F})),i(!0)}),ne.parentElement.appendChild(Q)}}}return()=>{const Y=document.querySelector("#sponsor-edit-button");Y&&Y.remove();const ne=document.querySelector("#local-sponsor-edit-button");ne&&ne.remove()}},[N,F]),k.useEffect(()=>(document.addEventListener("mousedown",oe),()=>{document.removeEventListener("mousedown",oe)}),[]);const oe=A=>{B.current&&!B.current.contains(A.target)&&de()},de=()=>{i(!1),c(null),y({imageUrl:"",link:""})},D=A=>{A.target.files&&A.target.files[0]&&C(A.target.files[0])},C=async A=>{if(A){w(!0);try{console.log("File being uploaded:",{name:A.name,type:A.type,size:A.size});const Y=Date.now(),ne=A.name?A.name.split(".").pop().toLowerCase():"jpg",X=`sponsor_${Y}.${ne}`;console.log("File extension detected:",ne),console.log("New filename created:",X);const Q=hs(ms,`gs://aimchallange-67039.firebasestorage.app/background-images/${X}`);console.log("Uploading sponsor image with path:",Q.fullPath);const ue=await zl(Q,A);console.log("Upload completed:",ue);const ve=await ql(Q);console.log("Download URL received:",ve),y(M=>({...M,imageUrl:ve}))}catch(Y){console.error("Error uploading image:",Y),console.error("Error details:",Y.code,Y.message)}finally{w(!1)}}},T=async()=>{if(console.log("Add Sponsor button clicked"),!p.imageUrl){console.log("No image URL provided");return}try{console.log("Adding sponsor with data:",p);const A=ot(V),Y={...p,location:Z?F:"",createdAt:new Date().toISOString()};await ds(A,Y),console.log("Sponsor added to Firestore with ID:",A.id);let X=(await Ln(V)).docs.map(Q=>({id:Q.id,...Q.data()}));Z&&F?X=X.filter(Q=>Q.location===F):X=X.filter(Q=>!Q.location),m(X),y({imageUrl:"",link:"",location:Z?F:""}),console.log("Form reset, sponsor added successfully")}catch(A){console.error("Error adding sponsor:",A)}},b=async A=>{try{if(A<0||A>=h.length)return;const Y=h[A];if(!Y||!Y.id)return;const ne=ot(V,Y.id),X=await Di(ne);if(X.exists()){const Q=X.data();if(console.log("Found sponsor document:",Q),Q.imageUrl)try{const ve=S(Q.imageUrl);if(ve){const M=hs(ms,`gs://aimchallange-67039.firebasestorage.app/background-images/${ve}`);await Dc(M)}}catch(ve){console.error("Error deleting image:",ve)}await jc(ne);const ue=[...h];ue.splice(A,1),m(ue)}else console.log("Sponsor document not found")}catch(Y){console.error("Error removing sponsor:",Y)}},S=A=>{if(!A)return null;try{if(A.includes("firebasestorage.googleapis.com")){const X=A.match(/%2F([^?]+)/g);if(X&&X.length>0)return X[X.length-1].replace("%2F","").split("?")[0]}if(A.includes("sponsor_")){const X=/sponsor_[0-9]+\.[a-zA-Z]+/,Q=A.match(X);if(Q&&Q.length>0)return Q[0]}const Y=A.split("/");return Y[Y.length-1].split("?")[0]}catch(Y){return console.error("Error extracting filename:",Y),null}},j=()=>h.length===0?null:h.map((A,Y)=>{if(!A.imageUrl)return null;const ne=A.imageUrl?`${A.imageUrl}${A.imageUrl.includes("?")?"&":"?"}cache=${Date.now()}`:"",X=u.jsx("img",{src:ne,alt:A.name||`Sponsor ${Y+1}`,className:"background-editor-modal__ad-image",onError:ue=>{console.error("Error loading image:",A.imageUrl),ue.target.onerror=null,ue.target.src="/images/placeholder-logo.png"}}),Q=A.link?u.jsx("a",{href:A.link.startsWith("http")?A.link:`https://${A.link}`,target:"_blank",rel:"noopener noreferrer",className:"sponsor-link",children:X}):X;return u.jsx("div",{className:"background-editor-modal__ad-item",children:Q},Y)});return console.log("SponsorEditor rendering with:",{location:s,targetId:e,isAdmin:N,sponsorsCount:h.length,isLocalPartners:Z,currentLocationName:F}),u.jsxs(u.Fragment,{children:[!t&&u.jsx("div",{className:"sponsors-grid",children:j()}),t&&u.jsx("div",{className:"background-editor-overlay",onClick:A=>{A.target===A.currentTarget&&de()},children:u.jsxs("div",{className:"background-editor-modal",ref:B,children:[u.jsxs("div",{className:"background-editor-modal__header",children:[u.jsx("h2",{className:"background-editor-modal__title",children:Z?`Edit ${F.charAt(0).toUpperCase()+F.slice(1)} Partners`:"Edit Global Sponsors"}),u.jsx("button",{className:"background-editor-modal__close",onClick:de,children:""})]}),u.jsxs("div",{className:"background-editor-modal__body",children:[u.jsx("h3",{className:"background-editor-modal__subtitle",children:"Current Sponsors"}),u.jsx("div",{className:"background-editor-modal__ad-list",children:h.length>0?h.map((A,Y)=>u.jsxs("div",{className:"background-editor-modal__ad-item",children:[u.jsx("img",{src:A.imageUrl,alt:`Sponsor ${Y+1}`,className:"background-editor-modal__ad-image"}),u.jsxs("div",{className:"background-editor-modal__ad-details",children:[u.jsx("p",{className:"background-editor-modal__ad-link",children:A.link?u.jsx("a",{href:A.link,target:"_blank",rel:"noopener noreferrer",children:A.link}):"No link"}),u.jsx("button",{onClick:()=>b(Y),className:"background-editor-modal__button background-editor-modal__button--secondary",children:"Remove"})]})]},Y)):u.jsx("p",{className:"background-editor-modal__empty-message",children:"No sponsors added yet."})}),u.jsx("h3",{className:"background-editor-modal__subtitle",children:"Add New Sponsor"}),u.jsxs("div",{className:"background-editor-modal__form",children:[u.jsxs("div",{className:"background-editor-modal__form-group",children:[u.jsx("label",{className:"background-editor-modal__label",children:"Image:"}),u.jsxs("div",{className:"background-editor-modal__image-upload",onClick:()=>L.current.click(),children:[p.imageUrl?u.jsx("div",{className:"background-editor-modal__image-preview-container",children:u.jsx("img",{src:p.imageUrl,alt:"Preview",className:"background-editor-modal__image-preview"})}):u.jsx("div",{className:"background-editor-modal__image-placeholder",children:"Click to upload an image"}),u.jsx("input",{type:"file",accept:"image/*",onChange:D,ref:L,className:"background-editor-modal__file-input",style:{display:"none"}})]}),v&&u.jsx("p",{className:"background-editor-modal__upload-status",children:"Uploading..."})]}),u.jsxs("div",{className:"background-editor-modal__form-group",children:[u.jsx("label",{className:"background-editor-modal__label",children:"Link (optional):"}),u.jsx("input",{type:"text",value:p.link,onChange:A=>y(Y=>({...Y,link:A.target.value})),placeholder:"https://example.com",className:"background-editor-modal__input"})]})]}),u.jsxs("div",{className:"background-editor-modal__footer",children:[u.jsx("button",{className:"background-editor-modal__button background-editor-modal__button--secondary",onClick:de,children:"Close"}),u.jsx("button",{className:"background-editor-modal__button background-editor-modal__button--primary",onClick:A=>{A.preventDefault(),A.stopPropagation(),T()},disabled:!p.imageUrl||v,type:"button",children:"Add Sponsor"})]})]})]})})]})},U=({textKey:s,defaultText:e,tag:t="p",className:i="",style:l={},placeholder:c="Skriv text hr...",onClick:h})=>{const{getText:m,updateText:p,isAdmin:y,currentLanguage:v,LANGUAGES:w,LANGUAGE_NAMES:N,translateText:O}=mt(),[L,B]=k.useState(!1),[V,z]=k.useState(""),[H,F]=k.useState(!1),[Z,oe]=k.useState(""),[de,D]=k.useState(""),[C,T]=k.useState(v),[b,S]=k.useState({sv:"",en:"",no:""}),[j,A]=k.useState(!1),[Y,ne]=k.useState({sv:!0,en:!1,no:!1}),X=k.useRef({sv:null,en:null,no:null}),Q=k.useRef(null),ue=k.useRef(null),ve=["span","a","em","strong","i","b","code","small"].includes(t);k.useEffect(()=>{const pe=m(s,e);z(pe);const Ge=m(s,e,"sv"),Ct=m(s,e,"en"),Pn=m(s,e,"no");S({sv:Ge,en:Ct,no:Pn})},[s,e,m,v]),k.useEffect(()=>{const pe=Ge=>{Ge.key==="Escape"&&L&&me()};return document.addEventListener("keydown",pe),()=>{document.removeEventListener("keydown",pe)}},[L]);const M=pe=>{pe&&(pe.preventDefault(),pe.stopPropagation()),B(!0)},ae=async()=>{for(const pe of Object.values(w))await p(s,b[pe],pe);z(b[v]),B(!1),F(!1)},me=()=>{const pe=m(s,e,C);z(pe),B(!1),F(!1)},fe=()=>{F(!H),oe(""),D(""),ne({sv:C==="sv",en:C==="en",no:C==="no"})},ge=()=>{if(Z&&de){let pe=de;!pe.startsWith("http://")&&!pe.startsWith("https://")&&(pe="https://"+pe);const Ge=`<a href="${pe}" target="_blank" rel="noopener noreferrer">${Z}</a>`;Object.entries(Y).forEach(([Ct,Pn])=>{if(Pn&&X.current[Ct]){const Sn=X.current[Ct],Fs=Sn.selectionStart,_s=b[Ct],ka=_s.substring(0,Fs),Fl=_s.substring(Sn.selectionEnd),Mi=ka+Ge+Fl;it(Ct,Mi),setTimeout(()=>{Sn.focus();const Yt=Fs+Ge.length;Sn.setSelectionRange(Yt,Yt)},0)}}),oe(""),D("")}},Ae=pe=>{oe(pe.target.value)},Re=pe=>{D(pe.target.value)},gt=pe=>{ne(Ge=>({...Ge,[pe]:!Ge[pe]}))},He=pe=>{pe.key==="Enter"&&pe.ctrlKey?(pe.preventDefault(),ae()):pe.key==="Escape"&&(pe.preventDefault(),me())},it=(pe,Ge)=>{S(Ct=>({...Ct,[pe]:Ge})),pe===C&&z(Ge)},Xe=async pe=>{if(!j){A(!0);try{const Ge=b.sv||"";if(!Ge){console.error("No Swedish source text available for translation");return}if(console.log(`Translating from Swedish to ${pe}: ${Ge}`),await p(s,Ge,"sv"),await O(s,pe)){const Pn=m(s,e,pe);console.log(`Translation result: ${Pn}`),S(Sn=>({...Sn,[pe]:Pn}))}}catch(Ge){console.error("Translation failed:",Ge)}finally{A(!1)}}},Qt=()=>L?Fw.createPortal(u.jsx("div",{className:"edit-modal-overlay",children:u.jsxs("div",{className:"edit-modal",children:[u.jsx("h3",{className:"edit-modal__title",children:"Redigera text"}),u.jsx("div",{className:"edit-modal__languages-vertical",children:Object.values(w).map(pe=>u.jsxs("div",{className:"edit-modal__language-section",children:[u.jsxs("div",{className:"edit-modal__language-header",children:[u.jsx("h4",{className:"edit-modal__language-title",children:N[pe]}),pe!=="sv"&&u.jsx("button",{type:"button",onClick:()=>Xe(pe),className:"modal-action-button modal-action-button--secondary modal-action-button--small",disabled:j,children:j?"verstter...":`verstt till ${N[pe]}`})]}),u.jsx("textarea",{value:b[pe],onChange:Ge=>it(pe,Ge.target.value),onKeyDown:He,className:"edit-modal__textarea",autoFocus:pe===v,ref:Ge=>X.current[pe]=Ge})]},pe))}),u.jsx("button",{type:"button",onClick:fe,className:"modal-action-button modal-action-button--secondary",children:H?"Dlj lnkverktyg":"Lgg till lnk"}),H&&u.jsxs("div",{className:"edit-modal__link-tools",children:[u.jsxs("div",{className:"edit-modal__form-group",children:[u.jsx("label",{htmlFor:"linkText",className:"edit-modal__label",children:"Lnktext:"}),u.jsx("input",{ref:Q,type:"text",id:"linkText",value:Z,onChange:Ae,className:"edit-modal__input",placeholder:"Text som ska visas"})]}),u.jsxs("div",{className:"edit-modal__form-group",children:[u.jsx("label",{htmlFor:"linkUrl",className:"edit-modal__label",children:"URL:"}),u.jsx("input",{ref:ue,type:"text",id:"linkUrl",value:de,onChange:Re,className:"edit-modal__input",placeholder:"https://example.com"})]}),u.jsxs("div",{className:"edit-modal__language-checkboxes",children:[u.jsx("p",{className:"edit-modal__label",children:"Infoga lnk i:"}),Object.values(w).map(pe=>u.jsxs("label",{className:"edit-modal__checkbox-label",children:[u.jsx("input",{type:"checkbox",checked:Y[pe],onChange:()=>gt(pe),className:"edit-modal__checkbox"}),N[pe]]},`link-lang-${pe}`))]}),u.jsx("button",{type:"button",onClick:ge,disabled:!Z||!de||!Object.values(Y).some(pe=>pe),className:"modal-action-button modal-action-button--primary",children:"Infoga lnk"})]}),u.jsxs("div",{className:"edit-modal__actions",children:[u.jsx("button",{type:"button",onClick:me,className:"modal-action-button modal-action-button--secondary",children:"Avbryt"}),u.jsx("button",{type:"button",onClick:ae,className:"modal-action-button modal-action-button--primary",children:"Spara"})]})]})}),document.body):null,ts=()=>{const pe=t,Ge={className:`editable-text ${i}`,style:l,dangerouslySetInnerHTML:{__html:V||c},onClick:h};return u.jsx(pe,{...Ge})},vn=ve?"span":"div";return u.jsxs(u.Fragment,{children:[u.jsxs(vn,{className:"editable-text-wrapper",children:[ts(),y&&u.jsx("button",{type:"button",onClick:M,className:"edit-button edit-button-primary",title:"Redigera text",children:"Redigera"})]}),Qt()]})},yD=()=>{const{isAdmin:s}=mt(),e=An(),t=()=>{const i=e.pathname;return["/","/competitions","/ulricehamn","/salen","/hemsedal","/kolmarden","/trippeln"].includes(i)};return u.jsxs(u.Fragment,{children:[t()&&u.jsx("div",{className:"footer-wrapper",id:"sponsors-section",children:u.jsx("div",{className:"container",children:u.jsx("div",{className:"footer-grid",children:u.jsxs("div",{className:"grid-item sponsors",children:[u.jsx(U,{textKey:"footer-sponsors-title",defaultText:"Sponsorer & Partners",tag:"h1",className:"footer-heading"}),u.jsx(Uc,{targetId:"sponsors-section"})]})})})}),u.jsx("footer",{className:"footer-section",children:u.jsxs("div",{className:"footer-container",children:[u.jsxs("div",{className:"footer-top",children:[u.jsxs("div",{className:"footer-left",children:[u.jsx("div",{className:"footer-logo",children:u.jsx("img",{src:"/images/Aim_Challenge_logo_white.svg",alt:"AIM Challenge"})}),u.jsxs("div",{className:"footer-info",children:[u.jsx("p",{children:"Slottsmllan 10b, 30231 Halmstad"}),u.jsx("p",{children:u.jsx("a",{href:"mailto:info@aimchallenge.com",children:"info@aimchallenge.com"})}),u.jsx("p",{children:"+46 (0) 73-81 87 54"})]}),u.jsxs("div",{className:"footer-social",children:[u.jsx("a",{href:"https://www.instagram.com/aimchallenge/",className:"social-icon",children:u.jsx("i",{className:"fa fa-instagram"})}),u.jsx("a",{href:"https://www.facebook.com/aimchallenge/",className:"social-icon",children:u.jsx("i",{className:"fa fa-facebook"})}),u.jsx("a",{href:"https://youtube.com/@aimchallenge9800?si=ggWHNbfGv0h18mes",className:"social-icon",children:u.jsx("i",{className:"fa fa-youtube"})}),u.jsx("a",{href:"https://www.linkedin.com/company/aim-higher-ab/",className:"social-icon",children:u.jsx("i",{className:"fa fa-linkedin"})})]})]}),u.jsxs("div",{className:"footer-columns",children:[u.jsxs("div",{className:"footer-column footer-column-center",children:[u.jsx("h3",{className:"footer-title",children:"INFORMATION"}),u.jsxs("ul",{className:"footer-links",children:[u.jsx("li",{children:u.jsx("a",{href:"/Anmalningsvillkor  2024-08-27.pdf",download:!0,target:"_blank",children:"Anmlningsvillkor"})}),u.jsx("li",{children:u.jsx("a",{href:"#",children:"Integritetspolicy"})}),u.jsx("li",{children:u.jsx("a",{href:"#",children:"FAQ"})})]})]}),u.jsxs("div",{className:"footer-column footer-column-right",children:[u.jsx("h3",{className:"footer-title",children:"NYHETSBREV"}),u.jsx("p",{className:"footer-newsletter-text",children:"text om nyhetsbrev, samt en optin ruta fr att fylla i sin epostadress. Integration mot mailchimp."})]})]})]}),u.jsx("div",{className:"footer-copyright-wrapper",children:u.jsx("div",{className:"footer-copyright",children:u.jsxs("p",{children:[" ",new Date().getFullYear()," AIM Challenge. All rights reserved."]})})})]})})]})},Vc=({instanceId:s,defaultCategory:e="Alla"})=>{const[t,i]=k.useState([]),[l,c]=k.useState([]),[h,m]=k.useState(0),[p,y]=k.useState(e),[v,w]=k.useState([e]),[N,O]=k.useState(!1),{isAdmin:L,currentLanguage:B}=mt(),[V,z]=k.useState("");k.useEffect(()=>{z(B==="en"?"READ MORE":B==="no"?"LES MER":"LS MER")},[B]),k.useEffect(()=>{(async()=>{try{const j=nn(We,"posts"),A=hi(j,mg("createdAt","desc")),Y=await Ln(A),ne=new Set(["Alla","Slen","Ulricehamn","Hemsedal","Kolmrden"]);Y.forEach(X=>{const Q=X.data();Q.category&&Q.category.trim()!==""&&ne.add(Q.category)}),w(Array.from(ne))}catch(j){console.error("Error fetching categories:",j)}})()},[]),k.useEffect(()=>{s&&(async()=>{try{const j=ot(We,"carouselSettings",s),A=await Di(j);if(A.exists()){const Y=A.data();y(Y.category||"Alla")}}catch(j){console.error("Error fetching carousel settings:",j)}})()},[s]),k.useEffect(()=>{(async()=>{try{const j=nn(We,"posts"),A=hi(j,mg("createdAt","desc")),Y=await Ln(A),ne=[];Y.forEach(X=>{ne.push({id:X.id,...X.data()})}),i(ne)}catch(j){console.error("Error fetching posts:",j)}})()},[]),k.useEffect(()=>{if(p==="Alla")c(t);else{const S=t.filter(j=>j.category===p||j.category==="Alla");c(S)}m(0)},[p,t]);const H=async S=>{try{const j=ot(We,"carouselSettings",s);await ds(j,{category:S,updatedAt:new Date().toISOString(),updatedBy:"admin"}),console.log("Carousel settings saved successfully")}catch(j){console.error("Error saving carousel settings:",j)}},F=S=>{y(S),H(S),O(!1)},[Z,oe]=k.useState(window.innerWidth);k.useEffect(()=>{const S=()=>{oe(window.innerWidth)};return window.addEventListener("resize",S),()=>{window.removeEventListener("resize",S)}},[]);const de=Z<=768?1:Z<=992?2:3,D=()=>{h>0&&m(h-1)},C=()=>{h<l.length-de&&m(h+1)},T=()=>{O(!N)},b=[];for(let S=h;S<Math.min(h+de,l.length);S++)b.push(l[S]);for(;b.length<de&&l.length>0;)b.push(null);return u.jsxs("div",{className:"news-carousel",children:[L&&u.jsxs("div",{className:"news-carousel-admin",children:[u.jsxs("button",{className:"category-selector-button",onClick:T,children:[p," ",u.jsx("span",{className:"arrow",children:""})]}),N&&u.jsxs("div",{className:"category-selector",children:[u.jsx("div",{className:`category-option ${p==="Alla"?"selected":""}`,onClick:()=>F("Alla"),children:"Alla"}),v.map(S=>u.jsx("div",{className:`category-option ${p===S?"selected":""}`,onClick:()=>F(S),children:S},S))]})]}),u.jsx("div",{className:"news-carousel-container",children:b.map((S,j)=>S?u.jsxs("div",{className:"news-card",children:[u.jsx("div",{className:"news-image",children:S.image?u.jsx("img",{src:S.image,alt:S.title}):u.jsx("div",{className:"news-image-placeholder"})}),u.jsxs("div",{className:"news-content",children:[u.jsx("h3",{className:"news-location",children:S.title}),u.jsx("div",{className:"news-description",dangerouslySetInnerHTML:{__html:S.content},style:{maxHeight:"100px",overflow:"hidden",position:"relative"}}),u.jsx("div",{className:"news-button",children:u.jsx(ke,{to:`/news/${S.id}`,className:"button-2",children:u.jsx("span",{children:V})})})]})]},S.id):u.jsxs("div",{className:"news-card empty",children:[u.jsx("div",{className:"news-image-placeholder"}),u.jsxs("div",{className:"news-content",children:[u.jsx("h3",{className:"news-location",children:"Inga fler nyheter"}),u.jsx("p",{className:"news-description",children:"Det finns inga fler nyheter i denna kategori."})]})]},`empty-${j}`))}),u.jsxs("div",{className:"news-carousel-controls",children:[u.jsx("button",{className:"carousel-control prev",onClick:D,disabled:h===0,children:""}),u.jsx("button",{className:"carousel-control next",onClick:C,disabled:h>=l.length-de,children:""})]})]})},_D=()=>{const{isAdmin:s,getText:e,currentLanguage:t}=mt(),[i,l]=k.useState("");return k.useEffect(()=>{l(t==="en"?"Read more":t==="no"?"Les mer":"Ls mer")},[t]),k.useEffect(()=>{if(window.location.hash){const c=window.location.hash.substring(1);setTimeout(()=>{const h=document.getElementById(c);if(h){const p=h.getBoundingClientRect().top+window.pageYOffset-100;window.scrollTo({top:p,behavior:"smooth"})}},1e3)}},[]),u.jsxs("div",{className:"flex flex_col MaxWH location",children:[u.jsx("section",{id:"page_01",className:"page_01 dynamic-background background-editable",children:u.jsx("div",{className:" page_01box flex flex_col flex_j_SA MaxWH",children:u.jsx(U,{textKey:"main-multisport-sedan",defaultText:"MUTLISPORT SEDAN 2004",tag:"p",className:"font_white fonts_large"})})}),u.jsxs("section",{id:"page_02",className:"page_02 flex flex_j_E MaxWH location",children:[u.jsx(U,{textKey:"main-competitions-title",defaultText:"RETS TVLINGAR",tag:"h2",className:"page_02-title"}),u.jsx("div",{className:"page_02-title-spacer"}),u.jsxs("div",{className:"page_02box  flex flex_col MaxWH location",children:[u.jsx("div",{id:"page_02-ulricehamn-image",className:"page_02-image background-editable",style:{backgroundImage:"url('images/EE-AIMChallenge24-Uhamn-0171-high.jpg')"}}),u.jsx("div",{className:"page_02-content",children:u.jsxs("div",{className:"page_02-header",children:[u.jsx(U,{textKey:"main-ulricehamn-title",defaultText:"ULRICEHAMN 10/5",tag:"p",className:"font_white fonts_medium_B"}),u.jsx(U,{textKey:"ulricehamn-date",defaultText:"datum insert",tag:"p",className:"font_white fonts_medium"})]})}),u.jsx("div",{className:"page_02-button",children:u.jsx(ke,{to:"/ulricehamn",className:"location button-2",children:u.jsx("span",{children:i})})})]}),u.jsxs("div",{className:"page_02box  flex flex_col MaxWH location",children:[u.jsx("div",{id:"page_02-salen-image",className:"page_02-image background-editable",style:{backgroundImage:"url('/images/AIM_lindvallen_2024_AnkiGrothe_highres_155.jpg')"}}),u.jsx("div",{className:"page_02-content",children:u.jsxs("div",{className:"page_02-header",children:[u.jsx(U,{textKey:"main-salen-title",defaultText:"SLEN 10/5",tag:"p",className:"font_white fonts_medium_B"}),u.jsx(U,{textKey:"salen-date",defaultText:"datum insert",tag:"p",className:"font_white fonts_medium"})]})}),u.jsx("div",{className:"page_02-button",children:u.jsx(ke,{to:"/salen",className:"location button-2",children:u.jsx("span",{children:i})})})]}),u.jsxs("div",{className:"page_02box flex flex_col MaxWH location",children:[u.jsx("div",{id:"page_02-hemsedal-image",className:"page_02-image background-editable",style:{backgroundImage:"url('/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg')"}}),u.jsx("div",{className:"page_02-content",children:u.jsxs("div",{className:"page_02-header",children:[u.jsx(U,{textKey:"main-hemsedal-title",defaultText:"HEMSEDAL 10/5",tag:"p",className:"font_white fonts_medium_B"}),u.jsx(U,{textKey:"hemsedal-date",defaultText:"datum insert",tag:"p",className:"font_white fonts_medium"})]})}),u.jsx("div",{className:"page_02-button",children:u.jsx(ke,{to:"/hemsedal",className:"location button-2",children:u.jsx("span",{children:i})})})]}),u.jsxs("div",{className:"page_02box  flex flex_col MaxWH location",children:[u.jsx("div",{id:"page_02-kolmarden-image",className:"page_02-image background-editable",style:{backgroundImage:"url('/images/kolmarden.jpg')"}}),u.jsx("div",{className:"page_02-content",children:u.jsxs("div",{className:"page_02-header",children:[u.jsx(U,{textKey:"main-kolmarden-title",defaultText:"KOLMRDEN 10/5",tag:"p",className:"font_white fonts_medium_B"}),u.jsx(U,{textKey:"kolmarden-date",defaultText:"datum insert",tag:"p",className:"font_white fonts_medium"})]})}),u.jsx("div",{className:"page_02-button",children:u.jsx(ke,{to:"/kolmarden",className:"location button-2",children:u.jsx("span",{children:i})})})]})]}),u.jsx("section",{id:"page_03",className:"page_03 flex MaxWH",children:u.jsxs("div",{className:"page_03-content flex",children:[u.jsxs("div",{className:"page_03-text",children:[u.jsx(U,{textKey:"main-about-title",defaultText:"OM AIM CHALLENGE",tag:"h2",className:"page_03-title"}),u.jsx(U,{textKey:"aim-challenge-desc-1",defaultText:"AIM Challenge r en multisporttvling i lag om tv, dr ni under tre eller sex timmar samlar s mnga kontroller som mjligt med hjlp av en karta som r hemlig fram till start. Ni tar er fram framfr allt p cykel, men kommer ocks att springa kortare strckor till fots fr att n vissa kontroller.",tag:"p",className:"font_white"}),u.jsx(U,{textKey:"aim-challenge-desc-2",defaultText:"P kartan finns 60 kontroller, flera av dem innehller ventyrliga moment som klttring, paddling eller simning, och ofta dyker det upp en eller annan verraskning baserat p destinationens unika milj. Andra kontroller handlar mer om att ta sig dit och stmpla. Ni vljer sjlva vilka ni vill ta, i vilken ordning och hur lngt ni vill g fr att samla pong.",tag:"p",className:"font_white"}),u.jsx(U,{textKey:"aim-challenge-desc-3",defaultText:"AIM Challenge passar bde erfarna lag som vill jaga varje pong och nybrjare som r ute efter ett roligt och minnesvrt ventyr tillsammans. En tvling p era villkor och fr alla, precis som multisport ska vara!",tag:"p",className:"font_white"}),u.jsx("div",{className:"page_03-button",children:u.jsx(ke,{to:"/om-oss",className:"button-2",children:u.jsx("span",{children:i.toUpperCase()})})})]}),u.jsx("div",{className:"page_03-image",children:u.jsx("div",{id:"page_03-aim-image",className:"background-editable","data-editable":"true",style:{width:"90%",height:"90%",backgroundImage:"url('images/AIM_lindvallen_2024_AnkiGrothe_highres_155.jpg')",backgroundSize:"contain",backgroundPosition:"center",backgroundRepeat:"no-repeat"}})})]})}),u.jsx("section",{className:"ad-section",children:u.jsx("div",{className:"ad-container",children:u.jsx("div",{className:"ad-content",children:u.jsx("div",{className:"ad-carousel ad-editable",id:"main-ad-section",children:u.jsx("div",{className:"annons-text",children:"ANNONS"})})})})}),u.jsxs("section",{id:"latest-news",className:"latest-news-section",children:[u.jsx(U,{textKey:"main-page-news-title",defaultText:"SENASTE NYTT",tag:"h2",className:"latest-news-title"}),u.jsx("div",{className:"latest-news-container",children:u.jsx(Vc,{instanceId:"main-page-carousel"})})]})]})},Ks=()=>{const[s,e]=k.useState(!1),[t,i]=k.useState(null),[l,c]=k.useState(null),[h,m]=k.useState(null),[p,y]=k.useState("simple"),[v,w]=k.useState(null),{isAdmin:N}=mt(),O=k.useRef(null),L=k.useRef(null),B=An(),V=k.useCallback(A=>{if(!(A.target.closest(".edit-button")||A.target.closest(".editable-text-wrapper")&&!A.target.classList.contains("background-editable"))&&(A.stopPropagation(),N)){i(A.currentTarget),e(!0);const Y=A.currentTarget.id;Y&&F(Y)}},[N]),z=()=>{document.querySelectorAll(".background-editable").forEach(Y=>{if(Y.removeEventListener("click",V),Y.addEventListener("click",V),N&&(Y.classList.add("admin-editable"),Y.style.cursor="pointer",!Y.querySelector(".background-editable-indicator"))){const ne=document.createElement("div");ne.className="background-editable-indicator",ne.style.position="absolute",ne.style.top="5px",ne.style.right="5px",ne.style.width="10px",ne.style.height="10px",ne.style.backgroundColor="rgba(0, 255, 0, 0.5)",ne.style.borderRadius="50%",ne.style.zIndex="1",ne.style.display=N?"block":"none",window.getComputedStyle(Y).position==="static"&&(Y.style.position="relative"),Y.appendChild(ne)}})};k.useEffect(()=>{const A=setTimeout(()=>{z(),H()},300),Y=new MutationObserver(X=>{let Q=!1;X.forEach(ue=>{ue.type==="childList"?ue.addedNodes.forEach(ve=>{ve.nodeType===1&&(ve.classList&&ve.classList.contains("background-editable")||ve.querySelectorAll&&ve.querySelectorAll(".background-editable").length>0)&&(Q=!0)}):ue.type==="attributes"&&ue.target.classList&&ue.target.classList.contains("background-editable")&&(Q=!0)}),Q&&setTimeout(()=>{z()},100)});Y.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["class"]});const ne=setInterval(()=>{document.querySelectorAll(".background-editable").length>0&&z()},2e3);return()=>{clearTimeout(A),clearInterval(ne),Y.disconnect(),document.querySelectorAll(".background-editable").forEach(Q=>{if(Q.removeEventListener("click",V),N){Q.classList.remove("admin-editable");const ue=Q.querySelector(".background-editable-indicator");ue&&Q.removeChild(ue)}})}},[N,B.pathname,V]),k.useEffect(()=>{if(s)return document.addEventListener("mousedown",S),()=>{document.removeEventListener("mousedown",S)}},[s]);const H=async()=>{try{const A=nn(We,"backgrounds");(await Ln(A)).forEach(ne=>{const X=ne.data(),Q=document.getElementById(ne.id);Q&&T(Q,X.imageUrl,X.backgroundType)})}catch{}},F=async A=>{try{const Y=nn(We,"backgrounds"),ne=ot(Y,A),X=await Di(ne);if(X.exists()){const Q=X.data();y(Q.backgroundType||"simple"),m(Q.imageUrl),w(Q.imageUrl)}else y("simple"),m(null),c(null),w(null)}catch{}},Z=A=>{const Y=A.target.files[0];if(Y){Y.name||(Y.name=`image-${Date.now()}.jpg`);const ne=new FileReader;ne.onloadend=()=>{c(Y),m(ne.result)},ne.readAsDataURL(Y)}},oe=A=>{if(!A)return null;try{if(A.includes("firebasestorage.googleapis.com")){const Q=A.match(/%2F([^?]+)/g);if(Q&&Q.length>0)return Q[Q.length-1].replace("%2F","").split("?")[0]}if(A.includes("background-images")){const Q=A.split("/");return Q[Q.length-1]}const Y=A.split("/");return Y[Y.length-1].split("?")[0]}catch{return null}},de=async A=>{if(A)try{const Y=oe(A);if(Y){const ne=hs(ms,`gs://aimchallange-67039.firebasestorage.app/background-images/${Y}`);await Dc(ne)}}catch{}},D=async()=>{if(!t||!t.id){alert("Selected element must have an ID attribute");return}try{let A=h;if(l){const Y=Date.now(),ne=l.name?l.name.split(".").pop():"jpg",X=`background_${Y}.${ne}`,Q=hs(ms,`gs://aimchallange-67039.firebasestorage.app/background-images/${X}`);await zl(Q,l),A=await ql(Q),v&&v!==A&&await de(v)}if(A){const Y=nn(We,"backgrounds");await ds(ot(Y,t.id),{elementId:t.id,imageUrl:A,backgroundType:p,updatedAt:new Date,updatedBy:"anonymous"}),T(t,A,p)}e(!1)}catch{alert("Error saving background. Please try again.")}},C=async A=>{A.stopPropagation();try{if(v&&await de(v),t&&t.id){const Y=nn(We,"backgrounds");await ds(ot(Y,t.id),{elementId:t.id,imageUrl:null,backgroundType:"simple",updatedAt:new Date,updatedBy:"anonymous"}),t&&(t.style.backgroundImage="none")}c(null),m(null),w(null)}catch{}},T=(A,Y,ne)=>{if(!(!A||!Y)&&(A.classList.remove("simple-background","fixed-background"),A.classList.add("has-background"),ne==="simple"?A.classList.add("simple-background"):A.classList.add("locked-background"),A.style.backgroundImage=`url(${Y})`,A.style.backgroundSize="cover",A.style.backgroundPosition="center",A.style.backgroundRepeat="no-repeat",ne==="fixed"?A.style.backgroundAttachment="fixed":A.style.backgroundAttachment="scroll",A.id==="historien-om-aim-background-image")){const X=document.querySelector(".historien-om-aim-content-section");X&&(X.style.backgroundImage="none",X.style.backgroundColor="transparent")}},b=()=>{e(!1),i(null),c(null),m(null),w(null)},S=A=>{L.current&&!L.current.contains(A.target)&&b()},j=()=>{O.current.click()};return N?u.jsx(u.Fragment,{children:s&&u.jsx("div",{className:"background-editor-overlay",onClick:S,children:u.jsxs("div",{className:"background-editor-modal",ref:L,children:[u.jsxs("div",{className:"background-editor-modal__header",children:[u.jsx("h2",{className:"background-editor-modal__title",children:"Edit Background"}),u.jsx("button",{className:"background-editor-modal__close",onClick:b,children:""})]}),u.jsxs("div",{className:"background-editor-modal__body",children:[u.jsxs("div",{className:"background-editor-modal__form-group",children:[u.jsx("label",{className:"background-editor-modal__label",children:"Background Type"}),u.jsxs("select",{className:"background-editor-modal__select",value:p,onChange:A=>y(A.target.value),children:[u.jsx("option",{value:"simple",children:"Simple (scrolls with content)"}),u.jsx("option",{value:"fixed",children:"Fixed (locked when scrolling)"})]})]}),u.jsxs("div",{className:"background-editor-modal__form-group",children:[u.jsx("label",{className:"background-editor-modal__label",children:"Background Image"}),u.jsxs("div",{className:"background-editor-modal__image-upload",onClick:j,children:[h?u.jsxs("div",{className:"background-editor-modal__image-preview-container",children:[u.jsx("img",{src:h,alt:"Preview",className:"background-editor-modal__image-preview"}),u.jsx("button",{className:"background-editor-modal__image-remove",onClick:C,children:""})]}):u.jsx("div",{className:"background-editor-modal__image-placeholder",children:"Click to upload an image"}),u.jsx("input",{type:"file",ref:O,onChange:Z,accept:"image/*",className:"background-editor-modal__file-input"})]})]})]}),u.jsxs("div",{className:"background-editor-modal__footer",children:[u.jsx("button",{className:"background-editor-modal__button background-editor-modal__button--secondary",onClick:b,children:"Cancel"}),u.jsx("button",{className:"background-editor-modal__button background-editor-modal__button--primary",onClick:D,children:"Save Changes"})]})]})})}):null},vD=()=>{const{currentLanguage:s}=mt(),[e,t]=k.useState("");return k.useEffect(()=>{t(s==="en"?"Read more":s==="no"?"Les mer":"Ls mer")},[s]),u.jsxs(u.Fragment,{children:[u.jsx(Ks,{}),u.jsxs("div",{className:"competitions-container flex flex_col MaxWH location",children:[u.jsx("div",{className:"competitions-spacer"}),u.jsxs("div",{className:"competitions-grid",children:[u.jsxs("div",{id:"competitions-card-ulricehamn",className:"competitions-card competitions-card-ulricehamn flex flex_col flex_j_SB location simple-background background-editable",children:[u.jsxs("div",{className:"trans-background competitions-header flex flex_col flex_j_C flex_a_C flex_text_C MaxWH",style:{position:"relative",zIndex:30},children:[u.jsx(U,{textKey:"competitions-ulricehamn-title",defaultText:"ULRICEHAMN",tag:"p",className:"font_blue fonts_medium_B competitions-title text-center",style:{textAlign:"center"}}),u.jsx(U,{textKey:"ulricehamn-date",defaultText:"datum insert",tag:"p",className:"font_blue fonts_medium competitions-date text-center",style:{textAlign:"center"}})]}),u.jsx("div",{className:"competitions-button-container flex flex_col flex_j_SA flex_a_C MaxWH Button",style:{position:"relative",zIndex:30},children:u.jsx(ke,{to:"/ulricehamn",className:"location button-2 competitions-button",children:u.jsx("span",{children:e})})})]}),u.jsxs("div",{id:"competitions-card-salen",className:"competitions-card competitions-card-salen flex flex_col flex_j_SB location simple-background background-editable",children:[u.jsxs("div",{className:"trans-background competitions-header flex flex_col flex_j_C flex_a_C flex_text_C MaxWH",style:{position:"relative",zIndex:30},children:[u.jsx(U,{textKey:"competitions-salen-title",defaultText:"SLEN",tag:"p",className:"font_blue fonts_medium_B competitions-title text-center",style:{textAlign:"center"}}),u.jsx(U,{textKey:"salen-date",defaultText:"datum insert",tag:"p",className:"font_blue fonts_medium competitions-date text-center",style:{textAlign:"center"}})]}),u.jsx("div",{className:"competitions-button-container flex flex_col flex_j_SA flex_a_C MaxWH Button",style:{position:"relative",zIndex:30},children:u.jsx(ke,{to:"/salen",className:"location button-2 competitions-button",children:u.jsx("span",{children:e})})})]})]}),u.jsxs("div",{className:"competitions-grid",children:[u.jsxs("div",{id:"competitions-card-hemsedal",className:"competitions-card competitions-card-hemsedal flex flex_col flex_j_SB location simple-background background-editable",children:[u.jsxs("div",{className:"trans-background competitions-header flex flex_col flex_j_C flex_a_C flex_text_C MaxWH",style:{position:"relative",zIndex:30},children:[u.jsx(U,{textKey:"competitions-hemsedal-title",defaultText:"HEMSEDAL",tag:"p",className:"font_blue fonts_medium_B competitions-title text-center",style:{textAlign:"center"}}),u.jsx(U,{textKey:"hemsedal-date",defaultText:"datum insert",tag:"p",className:"font_blue fonts_medium competitions-date text-center",style:{textAlign:"center"}})]}),u.jsx("div",{className:"competitions-button-container flex flex_col flex_j_SA flex_a_C MaxWH Button",style:{position:"relative",zIndex:30},children:u.jsx(ke,{to:"/hemsedal",className:"location button-2 competitions-button",children:u.jsx("span",{children:e})})})]}),u.jsxs("div",{id:"competitions-card-kolmarden",className:"competitions-card competitions-card-kolmarden flex flex_col flex_j_SB location simple-background background-editable",children:[u.jsxs("div",{className:"trans-background competitions-header flex flex_col flex_j_C flex_a_C flex_text_C MaxWH",style:{position:"relative",zIndex:30},children:[u.jsx(U,{textKey:"competitions-kolmarden-title",defaultText:"KOLMRDEN",tag:"p",className:"font_blue fonts_medium_B competitions-title text-center",style:{textAlign:"center"}}),u.jsx(U,{textKey:"kolmarden-date",defaultText:"datum insert",tag:"p",className:"font_blue fonts_medium competitions-date text-center",style:{textAlign:"center"}})]}),u.jsx("div",{className:"competitions-button-container flex flex_col flex_j_SA flex_a_C MaxWH Button",style:{position:"relative",zIndex:30},children:u.jsx(ke,{to:"/kolmarden",className:"location button-2 competitions-button",children:u.jsx("span",{children:e})})})]})]}),u.jsx("div",{className:"competitions-grid",children:u.jsxs("div",{id:"competitions-card-trippeln",className:"competitions-card competitions-card-trippeln flex flex_col flex_j_SB location simple-background background-editable",style:{gridColumn:"span 2"},children:[u.jsxs("div",{className:"trans-background competitions-header flex flex_col flex_j_C flex_a_C flex_text_C MaxWH",style:{position:"relative",zIndex:30},children:[u.jsx(U,{textKey:"competitions-trippeln-title",defaultText:"AIM CHALLENGE TRIPPELN",tag:"p",className:"font_blue fonts_medium_B competitions-title text-center",style:{textAlign:"center"}}),u.jsx(U,{textKey:"trippeln-description",defaultText:"Tvla i alla tre deltvlingar och bli en del av AIM Challenge Trippeln",tag:"p",className:"font_blue fonts_medium competitions-date text-center",style:{textAlign:"center"}})]}),u.jsx("div",{className:"competitions-button-container flex flex_col flex_j_SA flex_a_C MaxWH Button",style:{position:"relative",zIndex:30},children:u.jsx(ke,{to:"/trippeln",className:"location button-2 competitions-button",children:u.jsx("span",{children:e})})})]})})]})]})},xD=()=>{const{currentLanguage:s,getText:e}=mt(),[t,i]=k.useState(""),[l,c]=k.useState(""),[h,m]=k.useState(""),[p,y]=k.useState(""),[v,w]=k.useState(""),N=e("ulricehamn-registration-url","https://raceid.com/sv/races/12846/about"),O=N.startsWith("http://")||N.startsWith("https://")?N:`https://${N}`;return k.useEffect(()=>{s==="en"?(i("Read more"),c("TAKE ME TO REGISTRATION"),m("LATEST NEWS ULRICEHAMN"),y("USEFUL LINKS"),w("LOCAL SPONSORS")):s==="no"?(i("Les mer"),c("TA MEG TIL PMELDING"),m("SISTE NYTT ULRICEHAMN"),y("NYTTIGE LENKER"),w("LOKALE SPONSORER")):(i("Ls mer"),c("TA MIG TILL ANMLAN"),m("SENASTE NYTT ULRICEHAMN"),y("NYTTIGA LNKAR"),w("LOKALA SPONSORER"))},[s]),u.jsxs(u.Fragment,{children:[u.jsx(Ks,{},"ulricehamn-background-editor"),u.jsxs("div",{className:"ulricehamn-container",children:[u.jsx("section",{className:"ulricehamn-hero-section",children:u.jsx("div",{className:"hero-content",children:u.jsx("div",{className:"hero-image-container background-editable",id:"ulricehamn-hero-image",children:u.jsx("img",{src:"/images/EE-AIMChallenge24-Uhamn-0171-high.jpg",alt:"Ulricehamn Event"})})})}),u.jsx("section",{className:"ulricehamn-title-section",children:u.jsxs("div",{className:"title-container",children:[u.jsx(U,{textKey:"ulricehamn-title",defaultText:"ULRICEHAMN",tag:"h1",className:"location-title"}),u.jsx(U,{textKey:"ulricehamn-date",defaultText:"10 MAJ 2025",tag:"h2",className:"location-date"})]})}),u.jsxs("section",{className:"ulricehamn-button-section",children:[u.jsx(U,{textKey:"ulricehamn-registration-url",defaultText:"https://raceid.com/sv/races/12846/about",tag:"span",className:"hidden-editable-url",style:{display:"none"}}),u.jsx("div",{className:"button-container",children:u.jsx("a",{href:O,target:"_blank",rel:"noopener noreferrer",className:"anmalan-button",children:u.jsx("p",{children:l})})})]}),u.jsx("section",{className:"ulricehamn-program-section",children:u.jsx("div",{className:"program-container",children:u.jsxs("div",{className:"program-cards",children:[u.jsx("div",{className:"program-card image-card background-editable",id:"ulricehamn-program-image",children:u.jsx("img",{src:"/images/EE-AIMChallenge24-Uhamn-0171-high.jpg",alt:"Ulricehamn Event"})}),u.jsxs("div",{className:"program-card info-card",children:[u.jsx(U,{textKey:"ulricehamn-program-title",defaultText:"PROGRAM",tag:"h2",className:"program-title"}),u.jsxs("div",{className:"program-schedule",children:[u.jsxs("div",{className:"program-day",children:[u.jsx(U,{textKey:"ulricehamn-friday-title",defaultText:"Fredag 9/5",tag:"h3",className:"day-title"}),u.jsx(U,{textKey:"ulricehamn-friday-schedule",defaultText:"17:00 - 19:00 Nummerlappsutdelning p XCC",tag:"p",className:"schedule-item"})]}),u.jsxs("div",{className:"program-day",children:[u.jsx(U,{textKey:"ulricehamn-saturday-title",defaultText:"Lrdag 10/5",tag:"h3",className:"day-title"}),u.jsx(U,{textKey:"ulricehamn-saturday-schedule1",defaultText:"08:30 - 10:15 Registrering fr alla tvlande som ej registrerat sig under fredagen p 157 XCC, p Lassalyckan.",tag:"p",className:"schedule-item"}),u.jsx(U,{textKey:"ulricehamn-saturday-schedule2",defaultText:"10:30 Obligatoriskt informationsmte vid starten p Lassalyckan stadion.",tag:"p",className:"schedule-item"}),u.jsx(U,{textKey:"ulricehamn-saturday-schedule3",defaultText:"11:00 Start AIM Challenge, p Lassalyckan stadion. Gemensam start fr 3 & 6-timmars tvlingen.",tag:"p",className:"schedule-item"}),u.jsx(U,{textKey:"ulricehamn-saturday-schedule4",defaultText:"14:00 Mlgng fr 3-timmars tvlingen.",tag:"p",className:"schedule-item"}),u.jsx(U,{textKey:"ulricehamn-saturday-schedule5",defaultText:"ca 15:30 Prisutdelning 3-timmars tvlingen",tag:"p",className:"schedule-item"}),u.jsx(U,{textKey:"ulricehamn-saturday-schedule6",defaultText:"16:30 - 20:00 After AIM med mat och dryck p Hotell Lassalyckan.",tag:"p",className:"schedule-item"}),u.jsx(U,{textKey:"ulricehamn-saturday-schedule7",defaultText:"17:00 Mlgng fr 6-timmars tvlingen.",tag:"p",className:"schedule-item"}),u.jsx(U,{textKey:"ulricehamn-saturday-schedule8",defaultText:"19:00 Prisutdelning utanfr Hotell Lassalyckan.",tag:"p",className:"schedule-item"})]})]})]})]})})}),u.jsx("section",{className:"ulricehamn-price-section",children:u.jsx("div",{className:"price-container",children:u.jsxs("div",{className:"price-image-container background-editable",id:"ulricehamn-price-image",children:[u.jsx("img",{src:"/images/EE-AIMChallenge24-Uhamn-0171-high.jpg",alt:"Climbing in Ulricehamn",className:"price-background-image"}),u.jsx("div",{className:"price-overlay",children:u.jsxs("div",{className:"price-content",children:[u.jsx(U,{textKey:"ulricehamn-price-title",defaultText:"PRIS",tag:"h2",className:"section-title"}),u.jsx(U,{textKey:"ulricehamn-price-subtitle",defaultText:"ULRICEHAMN 10/5-2025",tag:"h3",className:"price-subtitle"}),u.jsxs("div",{className:"price-categories",children:[u.jsxs("div",{className:"price-category",children:[u.jsx(U,{textKey:"ulricehamn-price-3h-title",defaultText:"3-TIMMARS",tag:"h4",className:"category-title"}),u.jsx(U,{textKey:"ulricehamn-price-3h-1",defaultText:"1500 SEK / lag fr Early Bird-anmlan innan 1 november.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"ulricehamn-price-3h-2",defaultText:"1700 SEK / lag fr anmlan mellan 1 november och 1 februari.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"ulricehamn-price-3h-3",defaultText:"1900 SEK / lag fr anmlan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"ulricehamn-price-3h-4",defaultText:"2100 SEK / lag fr anmlan frn 25 april och fram till start.",tag:"p",className:"price-item"})]}),u.jsxs("div",{className:"price-category",children:[u.jsx(U,{textKey:"ulricehamn-price-6h-title",defaultText:"6-TIMMARS",tag:"h4",className:"category-title"}),u.jsx(U,{textKey:"ulricehamn-price-6h-1",defaultText:"1900 SEK / lag fr Early Bird-anmlan innan 1 november.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"ulricehamn-price-6h-2",defaultText:"2100 SEK / lag fr anmlan mellan 1 november och 1 februari.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"ulricehamn-price-6h-3",defaultText:"2300 SEK / lag fr anmlan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"ulricehamn-price-6h-4",defaultText:"2500 SEK / lag fr anmlan frn 25 april och fram till start.",tag:"p",className:"price-item"})]})]}),u.jsxs("div",{className:"price-category trippeln-category",children:[u.jsx(U,{textKey:"ulricehamn-price-trippeln-title",defaultText:"AIM CHALLENGE TRIPPELN 2025",tag:"h4",className:"category-title"}),u.jsx(U,{textKey:"ulricehamn-price-trippeln-1",defaultText:"4750 SEK / lag fr Early Bird-anmlan innan 1 januari.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"ulricehamn-price-trippeln-2",defaultText:"5250 SEK / lag fr anmlan mellan 1 januari och 1 februari.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"ulricehamn-price-trippeln-3",defaultText:"5750 SEK / lag fr anmlan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"ulricehamn-price-trippeln-4",defaultText:"6250 SEK / lag fr anmlan efter den 25 april.",tag:"p",className:"price-item"})]}),u.jsx("div",{className:"price-button-container",children:u.jsx("a",{href:O,target:"_blank",rel:"noopener noreferrer",className:"price-anmalan-button",children:u.jsx("p",{children:l})})})]})})]})})}),u.jsxs("section",{id:"latest-news",className:"latest-news-section",children:[u.jsx("h2",{className:"latest-news-title",children:h}),u.jsx("div",{className:"latest-news-container",children:u.jsx(Vc,{instanceId:"ulricehamn-news",defaultCategory:"Ulricehamn"})})]}),u.jsx("section",{className:"useful-links-section",children:u.jsxs("div",{className:"useful-links-container",children:[u.jsx(U,{textKey:"ulricehamn-useful-links-title",defaultText:p,tag:"h2",className:"useful-links-title"}),u.jsxs("div",{className:"links-category",children:[u.jsx(U,{textKey:"ulricehamn-links-category1-title",defaultText:"Cykeluthyrning",tag:"h3",className:"links-category-title"}),u.jsx(U,{textKey:"ulricehamn-links-category1-text",defaultText:"Cykeluthyrning med in- och utlmning p Lassalyckan Stadion. Ls mer och boka hr.",tag:"p",className:"links-text"})]}),u.jsxs("div",{className:"links-category",children:[u.jsx(U,{textKey:"ulricehamn-links-category2-title",defaultText:"Boende",tag:"h3",className:"links-category-title"}),u.jsx(U,{textKey:"ulricehamn-links-category2-text",defaultText:"nskar du att bo nra start och ml s kan vi varmt rekommendera Hotell Lassalyckan som erbjuder ett modernt boende ett stenkast ifrn starten. https://www.hotell-lassalyckan.se",tag:"p",className:"links-text"})]}),u.jsxs("div",{className:"links-category",children:[u.jsx(U,{textKey:"ulricehamn-links-category3-title",defaultText:"Mat",tag:"h3",className:"links-category-title"}),u.jsx(U,{textKey:"ulricehamn-links-category3-text",defaultText:"nskar du att bo nra start och ml s kan vi varmt rekommendera Hotell Lassalyckan som erbjuder ett modernt boende ett stenkast ifrn starten.",tag:"p",className:"links-text"})]})]})}),u.jsxs("section",{className:"sponsors-section",children:[u.jsx(U,{textKey:"ulricehamn-sponsors-title",defaultText:v,tag:"h2",className:"sponsors-title"}),u.jsx(Uc,{location:"ulricehamn",targetId:"ulricehamn-sponsors"})]})]})]})},ED=()=>{const{currentLanguage:s,getText:e}=mt(),[t,i]=k.useState(""),[l,c]=k.useState(""),[h,m]=k.useState(""),[p,y]=k.useState(""),[v,w]=k.useState(""),N=e("salen-registration-url","https://raceid.com/sv/races/12847/about"),O=N.startsWith("http://")||N.startsWith("https://")?N:`https://${N}`;return k.useEffect(()=>{s==="en"?(i("Read more"),c("TAKE ME TO REGISTRATION"),m("LATEST NEWS SLEN"),y("USEFUL LINKS"),w("LOCAL SPONSORS")):s==="no"?(i("Les mer"),c("TA MEG TIL PMELDING"),m("SISTE NYTT SLEN"),y("NYTTIGE LENKER"),w("LOKALE SPONSORER")):(i("Ls mer"),c("TA MIG TILL ANMLAN"),m("SENASTE NYTT SLEN"),y("NYTTIGA LNKAR"),w("LOKALA SPONSORER"))},[s]),u.jsxs(u.Fragment,{children:[u.jsx(Ks,{},"salen-background-editor"),u.jsxs("div",{className:"salen-container",children:[u.jsx("section",{className:"salen-hero-section",children:u.jsx("div",{className:"hero-content",children:u.jsx("div",{className:"hero-image-container background-editable",id:"salen-hero-image",children:u.jsx("img",{src:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg",alt:"Slen Event"})})})}),u.jsx("section",{className:"salen-title-section",children:u.jsxs("div",{className:"title-container",children:[u.jsx(U,{textKey:"salen-title",defaultText:"SLEN",tag:"h1",className:"location-title"}),u.jsx(U,{textKey:"salen-date",defaultText:"1 AUGUSTI 2025",tag:"h2",className:"location-date"})]})}),u.jsxs("section",{className:"ulricehamn-button-section",children:[u.jsx(U,{textKey:"salen-registration-url",defaultText:"https://raceid.com/sv/races/12847/about",tag:"span",className:"hidden-editable-url",style:{display:"none"}}),u.jsx("div",{className:"button-container",children:u.jsx("a",{href:O,target:"_blank",rel:"noopener noreferrer",className:"anmalan-button",children:u.jsx("p",{children:l})})})]}),u.jsx("section",{className:"salen-program-section",children:u.jsx("div",{className:"program-container",children:u.jsxs("div",{className:"program-cards",children:[u.jsx("div",{className:"program-card image-card background-editable",id:"salen-program-image",children:u.jsx("img",{src:"/images/EE-AIMChallenge24-Uhamn-0171-high.jpg",alt:"Slen Event"})}),u.jsxs("div",{className:"program-card info-card",children:[u.jsx(U,{textKey:"salen-program-title",defaultText:"PROGRAM",tag:"h2",className:"program-title"}),u.jsxs("div",{className:"program-schedule",children:[u.jsxs("div",{className:"program-day",children:[u.jsx(U,{textKey:"salen-friday-title",defaultText:"Fredag 9/5",tag:"h3",className:"day-title"}),u.jsx(U,{textKey:"salen-friday-schedule",defaultText:"17:00 - 19:00 Nummerlappsutdelning p XCC",tag:"p",className:"schedule-item"})]}),u.jsxs("div",{className:"program-day",children:[u.jsx(U,{textKey:"salen-saturday-title",defaultText:"Lrdag 10/5",tag:"h3",className:"day-title"}),u.jsx(U,{textKey:"salen-saturday-schedule1",defaultText:"08:30 - 10:15 Registrering fr alla tvlande som ej registrerat sig under fredagen p 157 XCC, p Lassalyckan.",tag:"p",className:"schedule-item"}),u.jsx(U,{textKey:"salen-saturday-schedule2",defaultText:"10:30 Obligatoriskt informationsmte vid starten p Lassalyckan stadion.",tag:"p",className:"schedule-item"}),u.jsx(U,{textKey:"salen-saturday-schedule3",defaultText:"11:00 Start AIM Challenge, p Lassalyckan stadion. Gemensam start fr 3 & 6-timmars tvlingen.",tag:"p",className:"schedule-item"}),u.jsx(U,{textKey:"salen-saturday-schedule4",defaultText:"14:00 Mlgng fr 3-timmars tvlingen.",tag:"p",className:"schedule-item"}),u.jsx(U,{textKey:"salen-saturday-schedule5",defaultText:"ca 15:30 Prisutdelning 3-timmars tvlingen",tag:"p",className:"schedule-item"}),u.jsx(U,{textKey:"salen-saturday-schedule6",defaultText:"16:30 - 20:00 After AIM med mat och dryck p Hotell Lassalyckan.",tag:"p",className:"schedule-item"}),u.jsx(U,{textKey:"salen-saturday-schedule7",defaultText:"17:00 Mlgng fr 6-timmars tvlingen.",tag:"p",className:"schedule-item"}),u.jsx(U,{textKey:"salen-saturday-schedule8",defaultText:"19:00 Prisutdelning utanfr Hotell Lassalyckan.",tag:"p",className:"schedule-item"})]})]})]})]})})}),u.jsx("section",{className:"salen-price-section",children:u.jsx("div",{className:"price-container",children:u.jsxs("div",{className:"price-image-container background-editable",id:"salen-price-image",children:[u.jsx("img",{src:"/images/AIM_lindvallen_2024_AnkiGrothe_highres_34.jpg",alt:"Climbing in Lindvallen",className:"price-background-image"}),u.jsx("div",{className:"price-overlay",children:u.jsxs("div",{className:"price-content",children:[u.jsx(U,{textKey:"salen-price-title",defaultText:"PRIS",tag:"h2",className:"section-title"}),u.jsx(U,{textKey:"salen-price-subtitle",defaultText:"ULRICEHAMN 10/5-2025",tag:"h3",className:"price-subtitle"}),u.jsxs("div",{className:"price-categories",children:[u.jsxs("div",{className:"price-category",children:[u.jsx(U,{textKey:"salen-price-3h-title",defaultText:"3-TIMMARS",tag:"h4",className:"category-title"}),u.jsx(U,{textKey:"salen-price-3h-1",defaultText:"1500 SEK / lag fr Early Bird-anmlan innan 1 november.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"salen-price-3h-2",defaultText:"1700 SEK / lag fr anmlan mellan 1 november och 1 februari.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"salen-price-3h-3",defaultText:"1900 SEK / lag fr anmlan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"salen-price-3h-4",defaultText:"2100 SEK / lag fr anmlan frn 25 april och fram till start.",tag:"p",className:"price-item"})]}),u.jsxs("div",{className:"price-category",children:[u.jsx(U,{textKey:"salen-price-6h-title",defaultText:"6-TIMMARS",tag:"h4",className:"category-title"}),u.jsx(U,{textKey:"salen-price-6h-1",defaultText:"1900 SEK / lag fr Early Bird-anmlan innan 1 november.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"salen-price-6h-2",defaultText:"2100 SEK / lag fr anmlan mellan 1 november och 1 februari.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"salen-price-6h-3",defaultText:"2300 SEK / lag fr anmlan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"salen-price-6h-4",defaultText:"2500 SEK / lag fr anmlan frn 25 april och fram till start.",tag:"p",className:"price-item"})]})]}),u.jsxs("div",{className:"price-category trippeln-category",children:[u.jsx(U,{textKey:"salen-price-trippeln-title",defaultText:"AIM CHALLENGE TRIPPELN 2025",tag:"h4",className:"category-title"}),u.jsx(U,{textKey:"salen-price-trippeln-1",defaultText:"4750 SEK / lag fr Early Bird-anmlan innan 1 januari.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"salen-price-trippeln-2",defaultText:"5250 SEK / lag fr anmlan mellan 1 januari och 1 februari.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"salen-price-trippeln-3",defaultText:"5750 SEK / lag fr anmlan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"salen-price-trippeln-4",defaultText:"6250 SEK / lag fr anmlan efter den 25 april.",tag:"p",className:"price-item"})]}),u.jsx("div",{className:"price-button-container",children:u.jsx("a",{href:O,target:"_blank",rel:"noopener noreferrer",className:"price-anmalan-button",children:u.jsx("p",{children:l})})})]})})]})})}),u.jsxs("section",{id:"latest-news",className:"latest-news-section",children:[u.jsx("h2",{className:"latest-news-title",children:h}),u.jsx("div",{className:"latest-news-container",children:u.jsx(Vc,{instanceId:"salen-news",defaultCategory:"Slen"})})]}),u.jsx("section",{className:"useful-links-section",children:u.jsxs("div",{className:"useful-links-container",children:[u.jsx(U,{textKey:"salen-useful-links-title",defaultText:p,tag:"h2",className:"useful-links-title"}),u.jsxs("div",{className:"links-category",children:[u.jsx(U,{textKey:"salen-links-category1-title",defaultText:"Cykeluthyrning",tag:"h3",className:"links-category-title"}),u.jsx(U,{textKey:"salen-links-category1-text",defaultText:"Cykeluthyrning med in- och utlmning p Lassalyckan Stadion. Ls mer och boka hr.",tag:"p",className:"links-text"})]}),u.jsxs("div",{className:"links-category",children:[u.jsx(U,{textKey:"salen-links-category2-title",defaultText:"Boende",tag:"h3",className:"links-category-title"}),u.jsx(U,{textKey:"salen-links-category2-text",defaultText:"nskar du att bo nra start och ml s kan vi varmt rekommendera Hotell Lassalyckan som erbjuder ett modernt boende ett stenkast ifrn starten. https://www.hotell-lassalyckan.se",tag:"p",className:"links-text"})]}),u.jsxs("div",{className:"links-category",children:[u.jsx(U,{textKey:"salen-links-category3-title",defaultText:"Mat",tag:"h3",className:"links-category-title"}),u.jsx(U,{textKey:"salen-links-category3-text",defaultText:"nskar du att bo nra start och ml s kan vi varmt rekommendera Hotell Lassalyckan som erbjuder ett modernt boende ett stenkast ifrn starten.",tag:"p",className:"links-text"})]})]})}),u.jsxs("section",{className:"sponsors-section",children:[u.jsx(U,{textKey:"salen-sponsors-title",defaultText:v,tag:"h2",className:"sponsors-title"}),u.jsx(Uc,{location:"salen",targetId:"salen-sponsors"})]})]})]})},TD=()=>{const{currentLanguage:s,getText:e}=mt(),[t,i]=k.useState(""),[l,c]=k.useState(""),h=e("hemsedal-registration-url","https://raceid.com/no/races/12849/about"),m=h.startsWith("http://")||h.startsWith("https://")?h:`https://${h}`;return k.useEffect(()=>{s==="en"?(i("Read more"),c("LOCAL SPONSORS")):s==="no"?(i("Les mer"),c("LOKALE SPONSORER")):(i("Ls mer"),c("LOKALA SPONSORER"))},[s]),u.jsxs(u.Fragment,{children:[u.jsx(Ks,{},"hemsedal-background-editor"),u.jsxs("div",{className:"hemsedal-container",children:[u.jsx("section",{className:"hemsedal-hero-section",children:u.jsx("div",{className:"hero-content",children:u.jsx("div",{className:"hero-image-container background-editable",id:"hemsedal-hero-image",children:u.jsx("img",{src:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_025.jpg",alt:"Hemsedal Event"})})})}),u.jsx("section",{className:"hemsedal-title-section",children:u.jsxs("div",{className:"title-container",children:[u.jsx(U,{textKey:"hemsedal-title",defaultText:"HEMSEDAL",tag:"h1",className:"location-title"}),u.jsx(U,{textKey:"hemsedal-date",defaultText:"10 MAJ 2025",tag:"h2",className:"location-date"})]})}),u.jsxs("section",{className:"hemsedal-button-section",children:[u.jsx(U,{textKey:"hemsedal-registration-url",defaultText:"https://raceid.com/no/races/12849/about",tag:"span",className:"hidden-editable-url",style:{display:"none"}}),u.jsx("div",{className:"button-container",children:u.jsx("a",{href:m,target:"_blank",rel:"noopener noreferrer",className:"anmalan-button",children:u.jsx("p",{children:"TA MIG TILL ANMLAN"})})})]}),u.jsx("section",{className:"hemsedal-program-section",children:u.jsx("div",{className:"program-container",children:u.jsxs("div",{className:"program-cards",children:[u.jsx("div",{className:"program-card image-card background-editable",id:"hemsedal-program-image",children:u.jsx("img",{src:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_025.jpg",alt:"Hemsedal Event"})}),u.jsxs("div",{className:"program-card info-card",children:[u.jsx(U,{textKey:"hemsedal-program-title",defaultText:"PROGRAM",tag:"h2",className:"program-title"}),u.jsxs("div",{className:"program-schedule",children:[u.jsxs("div",{className:"program-day",children:[u.jsx(U,{textKey:"hemsedal-friday-title",defaultText:"Fredag 9/5",tag:"h3",className:"day-title"}),u.jsx(U,{textKey:"hemsedal-friday-schedule",defaultText:"17:00 - 19:00 Nummerlappsutdelning p XCC",tag:"p",className:"schedule-item"})]}),u.jsxs("div",{className:"program-day",children:[u.jsx(U,{textKey:"hemsedal-saturday-title",defaultText:"Lrdag 10/5",tag:"h3",className:"day-title"}),u.jsx(U,{textKey:"hemsedal-saturday-schedule1",defaultText:"08:30 - 10:15 Registrering fr alla tvlande som ej registrerat sig under fredagen p 157 XCC, p Lassalyckan.",tag:"p",className:"schedule-item"}),u.jsx(U,{textKey:"hemsedal-saturday-schedule2",defaultText:"10:30 Obligatoriskt informationsmte vid starten p Lassalyckan stadion.",tag:"p",className:"schedule-item"}),u.jsx(U,{textKey:"hemsedal-saturday-schedule3",defaultText:"11:00 Start AIM Challenge, p Lassalyckan stadion. Gemensam start fr 3 & 6-timmars tvlingen.",tag:"p",className:"schedule-item"}),u.jsx(U,{textKey:"hemsedal-saturday-schedule4",defaultText:"14:00 Mlgng fr 3-timmars tvlingen.",tag:"p",className:"schedule-item"}),u.jsx(U,{textKey:"hemsedal-saturday-schedule5",defaultText:"ca 15:30 Prisutdelning 3-timmars tvlingen",tag:"p",className:"schedule-item"}),u.jsx(U,{textKey:"hemsedal-saturday-schedule6",defaultText:"16:30 - 20:00 After AIM med mat och dryck p Hotell Lassalyckan.",tag:"p",className:"schedule-item"}),u.jsx(U,{textKey:"hemsedal-saturday-schedule7",defaultText:"17:00 Mlgng fr 6-timmars tvlingen.",tag:"p",className:"schedule-item"}),u.jsx(U,{textKey:"hemsedal-saturday-schedule8",defaultText:"19:00 Prisutdelning utanfr Hotell Lassalyckan.",tag:"p",className:"schedule-item"})]})]})]})]})})}),u.jsx("section",{className:"hemsedal-price-section",children:u.jsx("div",{className:"price-container",children:u.jsxs("div",{className:"price-image-container background-editable",id:"hemsedal-price-image",children:[u.jsx("img",{src:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_094.jpg",alt:"Climbing in Hemsedal",className:"price-background-image"}),u.jsx("div",{className:"price-overlay",children:u.jsxs("div",{className:"price-content",children:[u.jsx(U,{textKey:"hemsedal-price-title",defaultText:"PRIS",tag:"h2",className:"section-title"}),u.jsx(U,{textKey:"hemsedal-price-subtitle",defaultText:"HEMSEDAL 24/8-2024",tag:"h3",className:"price-subtitle"}),u.jsxs("div",{className:"price-categories",children:[u.jsxs("div",{className:"price-category",children:[u.jsx(U,{textKey:"hemsedal-price-3h-title",defaultText:"3-TIMMARS",tag:"h4",className:"category-title"}),u.jsx(U,{textKey:"hemsedal-price-3h-1",defaultText:"1500 SEK / lag fr Early Bird-anmlan innan 1 november.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"hemsedal-price-3h-2",defaultText:"1700 SEK / lag fr anmlan mellan 1 november och 1 februari.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"hemsedal-price-3h-3",defaultText:"1900 SEK / lag fr anmlan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"hemsedal-price-3h-4",defaultText:"2100 SEK / lag fr anmlan frn 25 april och fram till start.",tag:"p",className:"price-item"})]}),u.jsxs("div",{className:"price-category",children:[u.jsx(U,{textKey:"hemsedal-price-6h-title",defaultText:"6-TIMMARS",tag:"h4",className:"category-title"}),u.jsx(U,{textKey:"hemsedal-price-6h-1",defaultText:"1900 SEK / lag fr Early Bird-anmlan innan 1 november.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"hemsedal-price-6h-2",defaultText:"2100 SEK / lag fr anmlan mellan 1 november och 1 februari.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"hemsedal-price-6h-3",defaultText:"2300 SEK / lag fr anmlan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"hemsedal-price-6h-4",defaultText:"2500 SEK / lag fr anmlan frn 25 april och fram till start.",tag:"p",className:"price-item"})]})]}),u.jsxs("div",{className:"price-category trippeln-category",children:[u.jsx(U,{textKey:"hemsedal-price-trippeln-title",defaultText:"AIM CHALLENGE TRIPPELN 2025",tag:"h4",className:"category-title"}),u.jsx(U,{textKey:"hemsedal-price-trippeln-1",defaultText:"4750 SEK / lag fr Early Bird-anmlan innan 1 januari.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"hemsedal-price-trippeln-2",defaultText:"5250 SEK / lag fr anmlan mellan 1 januari och 1 februari.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"hemsedal-price-trippeln-3",defaultText:"5750 SEK / lag fr anmlan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"hemsedal-price-trippeln-4",defaultText:"6250 SEK / lag fr anmlan efter den 25 april.",tag:"p",className:"price-item"})]}),u.jsx("div",{className:"price-button-container",children:u.jsx("a",{href:m,target:"_blank",rel:"noopener noreferrer",className:"price-anmalan-button",children:u.jsx("p",{children:"TA MIG TILL ANMLAN"})})})]})})]})})}),u.jsxs("section",{id:"latest-news",className:"latest-news-section",children:[u.jsx("h2",{className:"latest-news-title",children:"SENASTE NYTT HEMSEDAL"}),u.jsx("div",{className:"latest-news-container",children:u.jsx(Vc,{instanceId:"hemsedal-news",defaultCategory:"Hemsedal"})})]}),u.jsx("section",{className:"useful-links-section",children:u.jsxs("div",{className:"useful-links-container",children:[u.jsx(U,{textKey:"hemsedal-useful-links-title",defaultText:"NYTTIGA LNKAR",tag:"h2",className:"useful-links-title"}),u.jsxs("div",{className:"links-category",children:[u.jsx(U,{textKey:"hemsedal-links-category1-title",defaultText:"Cykeluthyrning",tag:"h3",className:"links-category-title"}),u.jsx(U,{textKey:"hemsedal-links-category1-text",defaultText:"Cykeluthyrning med in- och utlmning p Lassalyckan Stadion. Ls mer och boka hr.",tag:"p",className:"links-text"})]}),u.jsxs("div",{className:"links-category",children:[u.jsx(U,{textKey:"hemsedal-links-category2-title",defaultText:"Boende",tag:"h3",className:"links-category-title"}),u.jsx(U,{textKey:"hemsedal-links-category2-text",defaultText:"nskar du att bo nra start och ml s kan vi varmt rekommendera Hotell Lassalyckan som erbjuder ett modernt boende ett stenkast ifrn starten. https://www.hotell-lassalyckan.se",tag:"p",className:"links-text"})]}),u.jsxs("div",{className:"links-category",children:[u.jsx(U,{textKey:"hemsedal-links-category3-title",defaultText:"Mat",tag:"h3",className:"links-category-title"}),u.jsx(U,{textKey:"hemsedal-links-category3-text",defaultText:"nskar du att bo nra start och ml s kan vi varmt rekommendera Hotell Lassalyckan som erbjuder ett modernt boende ett stenkast ifrn starten.",tag:"p",className:"links-text"})]})]})}),u.jsxs("section",{className:"sponsors-section",children:[u.jsx(U,{textKey:"hemsedal-sponsors-title",defaultText:l,tag:"h2",className:"sponsors-title"}),u.jsx(Uc,{location:"hemsedal",targetId:"hemsedal-sponsors"})]})]})]})},bD=()=>{const{currentLanguage:s,getText:e}=mt(),[t,i]=k.useState(""),[l,c]=k.useState(""),[h,m]=k.useState(""),[p,y]=k.useState(""),[v,w]=k.useState(""),N=e("kolmarden-registration-url","https://raceid.com/sv/races/12848/about"),O=N.startsWith("http://")||N.startsWith("https://")?N:`https://${N}`;return k.useEffect(()=>{s==="en"?(i("Read more"),c("TAKE ME TO REGISTRATION"),m("LATEST NEWS KOLMRDEN"),y("USEFUL LINKS"),w("LOCAL SPONSORS")):s==="no"?(i("Les mer"),c("TA MEG TIL PMELDING"),m("SISTE NYTT KOLMRDEN"),y("NYTTIGE LENKER"),w("LOKALE SPONSORER")):(i("Ls mer"),c("TA MIG TILL ANMLAN"),m("SENASTE NYTT KOLMRDEN"),y("NYTTIGA LNKAR"),w("LOKALA SPONSORER"))},[s]),u.jsxs(u.Fragment,{children:[u.jsx(Ks,{},"kolmarden-background-editor"),u.jsxs("div",{className:"kolmarden-container",children:[u.jsx("section",{className:"kolmarden-hero-section",children:u.jsx("div",{className:"hero-content",children:u.jsx("div",{className:"hero-image-container background-editable",id:"kolmarden-hero-image",children:u.jsx("img",{src:"/images/Kolmarden_1.jpg",alt:"Kolmarden Event"})})})}),u.jsx("section",{className:"kolmarden-title-section",children:u.jsxs("div",{className:"title-container",children:[u.jsx(U,{textKey:"kolmarden-title",defaultText:"KOLMRDEN",tag:"h1",className:"location-title"}),u.jsx(U,{textKey:"kolmarden-date",defaultText:"10 MAJ 2025",tag:"h2",className:"location-date"})]})}),u.jsxs("section",{className:"kolmarden-button-section",children:[u.jsx(U,{textKey:"kolmarden-registration-url",defaultText:"https://raceid.com/sv/races/12848/about",tag:"span",className:"hidden-editable-url",style:{display:"none"}}),u.jsx("div",{className:"button-container",children:u.jsx("a",{href:O,target:"_blank",rel:"noopener noreferrer",className:"anmalan-button",children:u.jsx("p",{children:l})})})]}),u.jsx("section",{className:"kolmarden-program-section",children:u.jsx("div",{className:"program-container",children:u.jsxs("div",{className:"program-cards",children:[u.jsx("div",{className:"program-card image-card background-editable",id:"kolmarden-program-image",children:u.jsx("img",{src:"/images/Kolmarden_2.jpg",alt:"Kolmarden Event"})}),u.jsxs("div",{className:"program-card info-card",children:[u.jsx(U,{textKey:"kolmarden-program-title",defaultText:"PROGRAM",tag:"h2",className:"program-title"}),u.jsxs("div",{className:"program-schedule",children:[u.jsxs("div",{className:"program-day",children:[u.jsx(U,{textKey:"kolmarden-friday-title",defaultText:"Fredag 9/5",tag:"h3",className:"day-title"}),u.jsx(U,{textKey:"kolmarden-friday-schedule",defaultText:"17:00 - 19:00 Nummerlappsutdelning p XCC",tag:"p",className:"schedule-item"})]}),u.jsxs("div",{className:"program-day",children:[u.jsx(U,{textKey:"kolmarden-saturday-title",defaultText:"Lrdag 10/5",tag:"h3",className:"day-title"}),u.jsx(U,{textKey:"kolmarden-saturday-schedule1",defaultText:"08:30 - 10:15 Registrering fr alla tvlande som ej registrerat sig under fredagen p 157 XCC, p Lassalyckan.",tag:"p",className:"schedule-item"}),u.jsx(U,{textKey:"kolmarden-saturday-schedule2",defaultText:"10:30 Obligatoriskt informationsmte vid starten p Lassalyckan stadion.",tag:"p",className:"schedule-item"}),u.jsx(U,{textKey:"kolmarden-saturday-schedule3",defaultText:"11:00 Start AIM Challenge, p Lassalyckan stadion. Gemensam start fr 3 & 6-timmars tvlingen.",tag:"p",className:"schedule-item"}),u.jsx(U,{textKey:"kolmarden-saturday-schedule4",defaultText:"14:00 Mlgng fr 3-timmars tvlingen.",tag:"p",className:"schedule-item"}),u.jsx(U,{textKey:"kolmarden-saturday-schedule5",defaultText:"ca 15:30 Prisutdelning 3-timmars tvlingen",tag:"p",className:"schedule-item"}),u.jsx(U,{textKey:"kolmarden-saturday-schedule6",defaultText:"16:30 - 20:00 After AIM med mat och dryck p Hotell Lassalyckan.",tag:"p",className:"schedule-item"}),u.jsx(U,{textKey:"kolmarden-saturday-schedule7",defaultText:"17:00 Mlgng fr 6-timmars tvlingen.",tag:"p",className:"schedule-item"}),u.jsx(U,{textKey:"kolmarden-saturday-schedule8",defaultText:"19:00 Prisutdelning utanfr Hotell Lassalyckan.",tag:"p",className:"schedule-item"})]})]})]})]})})}),u.jsx("section",{className:"kolmarden-price-section",children:u.jsx("div",{className:"price-container",children:u.jsxs("div",{className:"price-image-container background-editable",id:"kolmarden-price-image",children:[u.jsx("img",{src:"/images/Kolmarden_1.jpg",alt:"Climbing in Kolmarden",className:"price-background-image"}),u.jsx("div",{className:"price-overlay",children:u.jsxs("div",{className:"price-content",children:[u.jsx(U,{textKey:"kolmarden-price-title",defaultText:"PRIS",tag:"h2",className:"section-title"}),u.jsx(U,{textKey:"kolmarden-price-subtitle",defaultText:"KOLMADERN 10/5-2025",tag:"h3",className:"price-subtitle"}),u.jsxs("div",{className:"price-categories",children:[u.jsxs("div",{className:"price-category",children:[u.jsx(U,{textKey:"kolmarden-price-3h-title",defaultText:"3-TIMMARS",tag:"h4",className:"category-title"}),u.jsx(U,{textKey:"kolmarden-price-3h-1",defaultText:"1500 SEK / lag fr Early Bird-anmlan innan 1 november.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"kolmarden-price-3h-2",defaultText:"1700 SEK / lag fr anmlan mellan 1 november och 1 februari.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"kolmarden-price-3h-3",defaultText:"1900 SEK / lag fr anmlan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"kolmarden-price-3h-4",defaultText:"2100 SEK / lag fr anmlan frn 25 april och fram till start.",tag:"p",className:"price-item"})]}),u.jsxs("div",{className:"price-category",children:[u.jsx(U,{textKey:"kolmarden-price-6h-title",defaultText:"6-TIMMARS",tag:"h4",className:"category-title"}),u.jsx(U,{textKey:"kolmarden-price-6h-1",defaultText:"1900 SEK / lag fr Early Bird-anmlan innan 1 november.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"kolmarden-price-6h-2",defaultText:"2100 SEK / lag fr anmlan mellan 1 november och 1 februari.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"kolmarden-price-6h-3",defaultText:"2300 SEK / lag fr anmlan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"kolmarden-price-6h-4",defaultText:"2500 SEK / lag fr anmlan frn 25 april och fram till start.",tag:"p",className:"price-item"})]})]}),u.jsxs("div",{className:"price-category trippeln-category",children:[u.jsx(U,{textKey:"kolmarden-price-trippeln-title",defaultText:"AIM CHALLENGE TRIPPELN 2025",tag:"h4",className:"category-title"}),u.jsx(U,{textKey:"kolmarden-price-trippeln-1",defaultText:"4750 SEK / lag fr Early Bird-anmlan innan 1 januari.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"kolmarden-price-trippeln-2",defaultText:"5250 SEK / lag fr anmlan mellan 1 januari och 1 februari.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"kolmarden-price-trippeln-3",defaultText:"5750 SEK / lag fr anmlan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(U,{textKey:"kolmarden-price-trippeln-4",defaultText:"6250 SEK / lag fr anmlan efter den 25 april.",tag:"p",className:"price-item"})]}),u.jsx("div",{className:"price-button-container",children:u.jsx("a",{href:O,target:"_blank",rel:"noopener noreferrer",className:"price-anmalan-button",children:u.jsx("p",{children:l})})})]})})]})})}),u.jsxs("section",{id:"latest-news",className:"latest-news-section",children:[u.jsx("h2",{className:"latest-news-title",children:h}),u.jsx("div",{className:"latest-news-container",children:u.jsx(Vc,{instanceId:"kolmarden-news",defaultCategory:"Kolmrden"})})]}),u.jsx("section",{className:"useful-links-section",children:u.jsxs("div",{className:"useful-links-container",children:[u.jsx(U,{textKey:"kolmarden-useful-links-title",defaultText:p,tag:"h2",className:"useful-links-title"}),u.jsxs("div",{className:"links-category",children:[u.jsx(U,{textKey:"kolmarden-links-category1-title",defaultText:"Cykeluthyrning",tag:"h3",className:"links-category-title"}),u.jsx(U,{textKey:"kolmarden-links-category1-text",defaultText:"Cykeluthyrning med in- och utlmning p Lassalyckan Stadion. Ls mer och boka hr.",tag:"p",className:"links-text"})]}),u.jsxs("div",{className:"links-category",children:[u.jsx(U,{textKey:"kolmarden-links-category2-title",defaultText:"Boende",tag:"h3",className:"links-category-title"}),u.jsx(U,{textKey:"kolmarden-links-category2-text",defaultText:"nskar du att bo nra start och ml s kan vi varmt rekommendera Hotell Lassalyckan som erbjuder ett modernt boende ett stenkast ifrn starten. https://www.hotell-lassalyckan.se",tag:"p",className:"links-text"})]}),u.jsxs("div",{className:"links-category",children:[u.jsx(U,{textKey:"kolmarden-links-category3-title",defaultText:"Mat",tag:"h3",className:"links-category-title"}),u.jsx(U,{textKey:"kolmarden-links-category3-text",defaultText:"nskar du att bo nra start och ml s kan vi varmt rekommendera Hotell Lassalyckan som erbjuder ett modernt boende ett stenkast ifrn starten.",tag:"p",className:"links-text"})]})]})}),u.jsxs("section",{className:"sponsors-section",children:[u.jsx(U,{textKey:"kolmarden-sponsors-title",defaultText:v,tag:"h2",className:"sponsors-title"}),u.jsx(Uc,{location:"kolmarden",targetId:"kolmarden-sponsors"})]})]})]})},AD=()=>{const{currentLanguage:s,getText:e}=mt(),[t,i]=k.useState(""),l=e("trippeln-registration-url","https://raceid.com/sv/races/13016/about"),c=l.startsWith("http://")||l.startsWith("https://")?l:`https://${l}`;return k.useEffect(()=>{i(s==="en"?"TAKE ME TO REGISTRATION":s==="no"?"TA MEG TIL PMELDING":"TA MIG TILL ANMLAN")},[s]),u.jsxs(u.Fragment,{children:[u.jsx(Ks,{},"trippeln-background-editor"),u.jsxs("div",{className:"trippeln-container",children:[u.jsx("section",{className:"trippeln-hero-section",children:u.jsx("div",{className:"hero-content",children:u.jsx("div",{className:"hero-image-container background-editable",id:"trippeln-hero-image",children:u.jsx("img",{src:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_057.jpg",alt:"Trippeln Hero"})})})}),u.jsx("section",{className:"trippeln-title-section",children:u.jsx("div",{className:"title-container",children:u.jsx(U,{textKey:"trippeln-title",defaultText:"AIM CHALLENGE TRIPPELN",tag:"h1",className:"location-title"})})}),u.jsx("section",{className:"trippeln-content-section",children:u.jsx("div",{className:"trippeln-content-container",children:u.jsxs("div",{className:"trippeln-content",children:[u.jsx(U,{textKey:"trippeln-subtitle",defaultText:"Tre tvlingar, en titel, massa ventyr!",tag:"h2",className:"trippeln-subheading"}),u.jsx(U,{textKey:"trippeln-intro",defaultText:"AIM Challenge Trippeln r fr er som vill ta ventyret ett steg lngre. Genom att delta i minst tre deltvlingar under samma ssong r ni med i kampen om en av de mest prestigefyllda titlarna inom AIM Challenge, nmligen Trippeln.",tag:"p",className:"trippeln-text"}),u.jsx(U,{textKey:"trippeln-intro-2",defaultText:"Det hr r en chans att se och uppleva olika delar av Norden och utmana er sjlva p olika platser i varierande terrng med nya kartor och kontroller varje gng.",tag:"p",className:"trippeln-text"}),u.jsx(U,{textKey:"trippeln-heading-how",defaultText:"S funkar det",tag:"h2",className:"trippeln-subheading"}),u.jsx(U,{textKey:"trippeln-how-1",defaultText:"Trippeln gller fr lag som genomfr minst tre av rets deltvlingar: Ulricehamn, Slen, Hemsedal och Kolmrden. I Ulricehamn och Kolmrden vljer ni sjlva om ni kr 3- eller 6-timmarstvlingen. Bda rknas som fullvrdiga resultat.",tag:"p",className:"trippeln-text"}),u.jsx(U,{textKey:"trippeln-how-2",defaultText:"Nr ni anmler er till Trippeln registreras ni automatiskt till alla fyra tvlingar. Ni vljer sjlv om ni vill delta i tre eller alla fyra tvlingarna. De tre bsta resultaten rknas i sammanstllningen.",tag:"p",className:"trippeln-text"}),u.jsx(U,{textKey:"trippeln-heading-points",defaultText:"Pong och ranking",tag:"h2",className:"trippeln-subheading"}),u.jsx(U,{textKey:"trippeln-points-1",defaultText:"Efter varje tvling fr ni pong baserat p hur nra ni varit segerpongen i er klass. Varje tvling ger mellan 1 och 100 pong. Lagets tre hgsta pong summeras och det lag som har flest pong i slutet av ssongen vinner Trippeln.",tag:"p",className:"trippeln-text"}),u.jsx(U,{textKey:"trippeln-points-2",defaultText:"Om flera lag hamnar p samma pong avgrs placeringen av bsta enskilda resultat under ret.",tag:"p",className:"trippeln-text"}),u.jsx(U,{textKey:"trippeln-heading-team",defaultText:"Laguppstllning",tag:"h2",className:"trippeln-subheading"}),u.jsx(U,{textKey:"trippeln-team",defaultText:"Trippeln genomfrs precis som de vanliga tvlingarna i lag om tv. Minst en av deltagarna mste delta i alla tre tvlingar som rknas. Den andra kan bytas ut vid en av deltvlingarna om det behvs. Det ger er flexibilitet och mjlighet att fullflja Trippeln ven om planer ndras under ssongen.",tag:"p",className:"trippeln-text"})]})})}),u.jsxs("section",{className:"trippeln-button-section",children:[u.jsx(U,{textKey:"trippeln-registration-url",defaultText:"https://raceid.com/sv/races/13016/about",tag:"span",className:"hidden-editable-url",style:{display:"none"}}),u.jsx("div",{className:"button-container",children:u.jsx("a",{href:c,target:"_blank",rel:"noopener noreferrer",className:"anmalan-button",children:u.jsx("p",{children:t})})})]}),u.jsx("div",{className:"locked-background background-editable",id:"trippeln-background-image"})]})]})},SD=({onClose:s,onUploadSuccess:e,years:t=["2023","2022","2021","2020","2019","2018","2017","2016","2015"],categories:i=["Herrar","Damer","Mixed"],durations:l=["3 timmar","6 timmar","12 timmar","24 timmar"],locations:c=["Ulricehamn","Slen","Hemsedal","Kolmrden"],year:h})=>{const{currentUser:m}=ys(),[p,y]=k.useState("Ulricehamn"),[v,w]=k.useState(h||"2023"),[N,O]=k.useState("Herrar"),[L,B]=k.useState("3 timmar"),[V,z]=k.useState(null),[H,F]=k.useState(""),[Z,oe]=k.useState(!1),de=C=>{const T=C.target.files[0];T&&(z(T),F(""))},D=async C=>{if(C.preventDefault(),!V){F("Please select a file to upload");return}oe(!0),F("");try{const T=Date.now(),b=V.name?V.name.split(".").pop():"txt",S=`result_${T}.${b}`,j=hs(ms,`gs://aimchallange-67039.firebasestorage.app/results/${S}`);await zl(j,V);const A=await ql(j),Y={year:parseInt(v),location:p,category:N,duration:L,fileName:S,fileUrl:A,uploadedAt:new Date().toISOString(),uploadedBy:m.uid},ne=`${v}_${p}_${N}_${Date.now()}`;await ds(ot(We,"results",ne),{...Y,id:ne}),z(null),e({...Y,id:ne}),s()}catch(T){console.error("Upload failed:",T),F("Upload failed: "+T.message)}finally{oe(!1)}};return u.jsx("div",{className:"result-upload-modal-overlay",children:u.jsxs("div",{className:"result-upload-modal",children:[u.jsxs("div",{className:"result-upload-modal-header",children:[u.jsx("h2",{children:"Ladda upp resultat"}),u.jsx("button",{className:"result-upload-modal-close",onClick:s,children:""})]}),u.jsx("div",{className:"result-upload-modal-body",children:u.jsxs("form",{className:"result-upload-modal-form",onSubmit:D,children:[u.jsxs("div",{className:"result-upload-modal-field",children:[u.jsx("label",{children:"Plats"}),u.jsx("select",{className:"result-upload-modal-select",value:p,onChange:C=>y(C.target.value),children:c.map((C,T)=>u.jsx("option",{value:C,children:C},T))})]}),u.jsxs("div",{className:"result-upload-modal-field",children:[u.jsx("label",{children:"r"}),u.jsx("select",{className:"result-upload-modal-select",value:v,onChange:C=>w(C.target.value),children:t.map((C,T)=>u.jsx("option",{value:C,children:C},T))})]}),u.jsxs("div",{className:"result-upload-modal-field",children:[u.jsx("label",{children:"Kategori"}),u.jsx("select",{className:"result-upload-modal-select",value:N,onChange:C=>O(C.target.value),children:i.map((C,T)=>u.jsx("option",{value:C,children:C},T))})]}),u.jsxs("div",{className:"result-upload-modal-field",children:[u.jsx("label",{children:"Distans"}),u.jsx("select",{className:"result-upload-modal-select",value:L,onChange:C=>B(C.target.value),children:l.map((C,T)=>u.jsx("option",{value:C,children:C},T))})]}),u.jsxs("div",{className:"result-upload-modal-field",children:[u.jsx("label",{children:"Fil"}),u.jsx("input",{type:"file",className:"result-upload-modal-file-input",onChange:de,accept:".txt,.pdf,.doc,.docx,.xls,.xlsx"})]}),H&&u.jsx("div",{className:"result-upload-modal-error",children:H}),u.jsxs("div",{className:"result-upload-modal-actions",children:[u.jsx("button",{type:"button",className:"result-upload-modal-cancel",onClick:s,disabled:Z,children:"Avbryt"}),u.jsx("button",{type:"submit",className:"result-upload-modal-submit",disabled:Z||!V,children:Z?"Laddar upp...":"Ladda upp"})]})]})})]})})},wD=nn(We,"results"),ND=async(s={})=>{try{let e=hi(wD);s.year&&(e=hi(e,fd("year","==",parseInt(s.year)))),s.category&&(e=hi(e,fd("category","==",s.category))),s.duration&&(e=hi(e,fd("duration","==",s.duration))),s.location&&(e=hi(e,fd("location","==",s.location)));const t=await Ln(e),i=[];return t.forEach(l=>{const c=l.data();i.push({id:l.id,...c,year:parseInt(c.year)})}),console.log("Firebase results:",i),i}catch(e){throw console.error("Error getting results:",e),e}},RD=async(s,e)=>{try{if(await jc(ot(We,"results",s)),e){const t=hs(ms,e);await Dc(t)}}catch(t){throw console.error("Error deleting result:",t),t}},kD=()=>{const{currentUser:s}=ys(),[e,t]=k.useState("all"),[i,l]=k.useState("all"),[c,h]=k.useState("all"),[m,p]=k.useState([]),[y,v]=k.useState(!0),[w,N]=k.useState(!1),[O,L]=k.useState(""),B=(s==null?void 0:s.role)==="admin",V=[2025,2024,2023,2022,2021,2020,2019,2018],z=["Herrar","Damer","Mixed"],H=["3 timmar","6 timmar"],F=["Ulricehamn","Slen","Hemsedal","Kolmrden"];k.useEffect(()=>{console.log("Fetching results..."),Z()},[]);const Z=async()=>{try{v(!0),L(""),console.log("Getting results from Firebase...");const b=await ND({});console.log("Got results:",b),p(b||[])}catch(b){console.error("Error fetching results:",b),L("Failed to load results. Please try again later.")}finally{v(!1)}},oe=async b=>{if(window.confirm("r du sker p att du vill ta bort detta resultat?"))try{v(!0);const S=m.find(A=>A.id===b);await RD(b,S.fileUrl);const j=m.filter(A=>A.id!==b);p(j)}catch(S){console.error("Error deleting result:",S),L("Failed to delete result. Please try again.")}finally{v(!1)}},de=()=>{N(!0)},D=()=>{N(!1)},C=b=>{console.log("New result:",b),p(S=>[b,...S]),D()},T=b=>{let S=[...m];return e!=="all"&&(S=S.filter(j=>j.year===parseInt(e))),i!=="all"&&(S=S.filter(j=>j.category===i)),c!=="all"&&(S=S.filter(j=>j.duration===c)),S=S.filter(j=>j.location===b),S.sort((j,A)=>j.year!==A.year?A.year-j.year:j.category!==A.category?j.category.localeCompare(A.category):j.duration.localeCompare(A.duration)),console.log("Filtered results for",b,":",S),S};return u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"results-header-banner"}),u.jsxs("div",{className:"results-container",children:[u.jsx(U,{textKey:"results-header-title",defaultText:"Multisport fr alla",tag:"h1",className:"results-header-title"}),u.jsxs("section",{className:"results-filters-section",children:[u.jsxs("div",{className:"results-filters",children:[u.jsxs("select",{value:e,onChange:b=>t(b.target.value),className:"results-filter-select",children:[u.jsx("option",{value:"all",children:"Alla r"}),V.map(b=>u.jsx("option",{value:b,children:b},b))]}),u.jsxs("select",{value:i,onChange:b=>l(b.target.value),className:"results-filter-select",children:[u.jsx("option",{value:"all",children:"Alla Kategorier"}),z.map(b=>u.jsx("option",{value:b,children:b},b))]}),u.jsxs("select",{value:c,onChange:b=>h(b.target.value),className:"results-filter-select",children:[u.jsx("option",{value:"all",children:"Alla Distanser"}),H.map(b=>u.jsx("option",{value:b,children:b},b))]})]}),u.jsx("div",{className:"results-upload-section",children:B&&u.jsx("button",{onClick:de,className:"upload-result-button",children:"Ladda upp resultat"})})]}),O&&u.jsx("div",{className:"results-error",children:O}),u.jsx("section",{className:"results-content-section",children:u.jsx("div",{className:"results-grid",children:F.map(b=>u.jsxs("div",{className:"results-location-card",children:[u.jsx("h2",{className:"results-location-title",children:b}),u.jsx("div",{className:"results-list",children:y?u.jsx("div",{className:"results-loading",children:"Laddar..."}):T(b).map(S=>u.jsxs("div",{className:"results-item",children:[u.jsx("a",{href:S.fileUrl,target:"_blank",rel:"noopener noreferrer",className:"results-link",children:u.jsxs("div",{className:"results-info",children:[u.jsx("span",{className:"results-year",children:S.year}),u.jsx("span",{className:"results-category",children:S.category}),u.jsx("span",{className:"results-duration",children:S.duration})]})}),B&&u.jsx("button",{onClick:()=>oe(S.id),className:"results-delete-button",children:"Ta bort"})]},S.id))})]},b))})}),w&&u.jsx(SD,{onClose:D,onUploadSuccess:C,isAdmin:B,locations:F,years:V,categories:z,durations:H})]})]})},CD=()=>{const[s,e]=k.useState(null),[t,i]=k.useState([]),[l,c]=k.useState(1),h=8,[m,p]=k.useState({}),y=k.useMemo(()=>["/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_025.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_057.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_065.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_094.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_113.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_138.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_150.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_202.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_209.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_213.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_235.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_246.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_265.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_352.jpg","/AimRV/images/EE-AIMChallenge24-Uhamn-0132-high.jpg","/AimRV/images/EE-AIMChallenge24-Uhamn-0136-high.jpg","/AimRV/images/EE-AIMChallenge24-Uhamn-0171-high.jpg","/AimRV/images/EE-AIMChallenge24-Uhamn-0405-high.jpg","/AimRV/images/Kolmarden_1.jpg","/AimRV/images/Kolmarden_2.jpg"],[]),v=k.useCallback(()=>{const L=(l-1)*h,B=l*h,V=y.slice(L,B);i(z=>[...z,...V]),c(z=>z+1)},[l,y,h]);k.useEffect(()=>{v()},[v]),k.useEffect(()=>{const L=()=>{window.innerHeight+document.documentElement.scrollTop>=document.documentElement.offsetHeight-100&&(l-1)*h<y.length&&v()};return window.addEventListener("scroll",L),()=>window.removeEventListener("scroll",L)},[v,l,y.length,h]),k.useEffect(()=>{if(s!==null){const L=new Image;L.src=t[s],L.onload=()=>{p(B=>({...B,[s]:!0}))}}},[s,t]);const w=L=>{e(s===L?null:L)},O=(()=>{const L=[];let B=[],V=4;return t.forEach((z,H)=>{B.push({image:z,index:H}),B.length===V&&(L.push(B),B=[],V=V===4?3:4)}),B.length>0&&L.push(B),L})();return u.jsxs("div",{children:[u.jsx("div",{style:{height:"120px"}}),u.jsxs("div",{className:"gallery-container",style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"0.1rem",padding:"0.25rem",position:"relative"},children:[O.map((L,B)=>u.jsx("div",{style:{display:"flex",justifyContent:"center",gap:"3rem",width:"100%",marginBottom:"-20px",paddingLeft:L.length===3?"10%":"0",paddingRight:L.length===3?"10%":"0"},children:L.map(({image:V,index:z})=>{const H=s===z;return u.jsx("div",{onClick:()=>w(z),style:{width:H?"80vw":"250px",height:H?"80vh":"250px",transition:"all 0.5s ease",cursor:"pointer",position:H?"fixed":"relative",top:H?"50%":"auto",left:H?"50%":"auto",transform:H?"translate(-50%, -50%) rotate(0deg)":"rotate(45deg) scale(0.9)",zIndex:H?1e3:1,border:"2px solid #00a6fb",borderRadius:"8px",overflow:"hidden",boxShadow:"0 4px 8px rgba(0, 166, 251, 0.3)",margin:"0.1rem 1.5rem"},children:u.jsx("img",{src:V,alt:`Gallery image ${z+1}`,loading:"lazy",width:H?"auto":"250",height:H?"auto":"250",style:{width:"100%",height:"100%",objectFit:"cover",transform:H?"rotate(0deg) scale(1)":"rotate(-45deg) scale(1.5)"}})},z)})},B)),s!==null&&u.jsx("div",{onClick:()=>e(null),style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.8)",zIndex:999}}),t.length<y.length&&u.jsx("div",{style:{width:"100%",textAlign:"center",padding:"2rem"},children:u.jsx("button",{onClick:v,style:{padding:"0.75rem 1.5rem",backgroundColor:"#00a6fb",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"1rem",fontWeight:"bold"},children:"Load More Images"})})]}),u.jsx("div",{style:{height:"80px"}})]})},ID=()=>{const[s,e]=k.useState(0),[t,i]=k.useState(!1),l=k.useRef([]),c=[{id:1,src:"/videos/AIM nr 1 Formula 16x9.mov",title:"AIM Challenge Formula",description:"Highlights from the AIM Challenge Formula event"},{id:2,src:"/videos/AIM nr 1 Formula 16x9.mov",title:"AIM Challenge Highlights",description:"More exciting moments from the AIM Challenge"},{id:3,src:"/videos/AIM nr 1 Formula 16x9.mov",title:"AIM Challenge Recap",description:"A recap of the amazing AIM Challenge events"}];k.useEffect(()=>{l.current=l.current.slice(0,c.length)},[c.length]);const h=y=>{l.current.forEach((v,w)=>{w!==y&&v&&v.pause()}),i(!0),e(y)},m=()=>{e(y=>(y+1)%c.length)},p=()=>{e(y=>(y-1+c.length)%c.length)};return u.jsxs("div",{className:"video-carousel-container",style:{padding:"80px 0 40px 0",backgroundColor:"#f0f8ff",borderTop:"1px solid #e0e0e0",width:"100%",maxWidth:"100%"},children:[u.jsx("h2",{style:{textAlign:"center",marginBottom:"30px",color:"#00a6fb",fontSize:"2rem"},children:"AIM Challenge Videos"}),u.jsxs("div",{style:{position:"relative",width:"100%",margin:"0 auto",overflow:"hidden"},children:[u.jsx("button",{onClick:p,style:{position:"absolute",left:"10px",top:"50%",transform:"translateY(-50%)",zIndex:10,background:"rgba(0, 166, 251, 0.7)",color:"white",border:"none",borderRadius:"50%",width:"50px",height:"50px",fontSize:"24px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.3)"},"aria-label":"Previous video",children:"<"}),u.jsx("button",{onClick:m,style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",zIndex:10,background:"rgba(0, 166, 251, 0.7)",color:"white",border:"none",borderRadius:"50%",width:"50px",height:"50px",fontSize:"24px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.3)"},"aria-label":"Next video",children:">"}),u.jsx("div",{style:{display:"flex",transition:"transform 0.5s ease",transform:`translateX(${s*-100}%)`,width:"100%",position:"relative"},children:c.map((y,v)=>u.jsx("div",{style:{flex:"0 0 100%",padding:"0 20px",boxSizing:"border-box",width:"100%"},children:u.jsxs("div",{style:{background:"#fff",borderRadius:"8px",overflow:"hidden",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",maxWidth:"1200px",margin:"0 auto"},children:[u.jsx("div",{style:{position:"relative",paddingTop:"56.25%"},children:u.jsx("video",{ref:w=>l.current[v]=w,src:y.src,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover"},controls:!0,onPlay:()=>h(v),onPause:()=>i(!1)})}),u.jsxs("div",{style:{padding:"20px"},children:[u.jsx("h3",{style:{margin:"0 0 10px 0",color:"#00a6fb",fontSize:"1.5rem"},children:y.title}),u.jsx("p",{style:{margin:0,color:"#333",lineHeight:1.6},children:y.description})]})]})},y.id))}),u.jsx("div",{style:{display:"flex",justifyContent:"center",marginTop:"20px"},children:c.map((y,v)=>u.jsx("button",{onClick:()=>e(v),style:{width:"12px",height:"12px",borderRadius:"50%",margin:"0 5px",background:v===s?"#00a6fb":"#ccc",border:"none",cursor:"pointer"}},v))})]})]})},jD=()=>{const{currentLanguage:s}=mt(),[e,t]=k.useState("");return k.useEffect(()=>{t(s==="en"?"READ MORE":s==="no"?"LES MER":"LS MER")},[s]),u.jsxs(u.Fragment,{children:[u.jsx(Ks,{},"om-oss-background-editor"),u.jsxs("div",{className:"om-oss-container",children:[u.jsx("section",{className:"om-oss-hero-section",children:u.jsx("div",{className:"hero-content",children:u.jsx("div",{className:"hero-image-container background-editable",id:"om-oss-hero-image",children:u.jsx("img",{src:"/images/EE-AIMChallenge24-Uhamn-0171-high.jpg",alt:"Om Oss Hero"})})})}),u.jsx("section",{className:"om-oss-title-section",children:u.jsx("div",{className:"title-container",children:u.jsx(U,{textKey:"om-oss-title",defaultText:"OM OSS",tag:"h1",className:"location-title"})})}),u.jsx("section",{className:"om-oss-section flex flex_j_C flex_a_C",children:u.jsx("div",{className:"om-oss-content MaxWH flex flex_col flex_j_C ",children:u.jsxs("div",{className:"om-oss-content-wrapper",children:[u.jsx(U,{textKey:"om-oss-title-1",defaultText:"Om AIM Challenge",tag:"h2",className:"fonts_large om-oss-title"}),u.jsx(U,{textKey:"om-oss-text-1",defaultText:"AIM Challenge r en multisporttvling i lag om tv, dr ventyret, gldjen och gemenskapen str i centrum.",tag:"p",className:"fonts_small om-oss-text"}),u.jsx(U,{textKey:"om-oss-text-2",defaultText:"Med karta i handen och tre eller sex timmar p klockan gller det att samla s mnga pong som mjligt genom att ta kontroller som r utspridda i naturen. Ni tar er fram framfr allt p cykel, men ven till fots och ibland genom att klttra, paddla eller simma.",tag:"p",className:"fonts_small om-oss-text"}),u.jsx(U,{textKey:"om-oss-text-3",defaultText:"Tvlingen r ppen fr alla, frn nyfikna nybrjare till vrldseliten inom multisport. Ni bestmmer sjlva takt, vgval och hur mnga kontroller ni vill ta. Det r en utmaning p era villkor.",tag:"p",className:"fonts_small om-oss-text"}),u.jsx(U,{textKey:"om-oss-title-2",defaultText:"S gr det till",tag:"h3",className:"fonts_large om-oss-title"}),u.jsx(U,{textKey:"om-oss-text-4",defaultText:"Nr starten gr fr varje lag en karta med 60 kontroller utplacerade i omrdet. Kartorna r hemliga fram till start och r tryckta p riv- och vattentligt material. Vissa kontroller r rena stmplingspunkter. Andra innehller ventyrliga inslag som klttring, simning eller paddling. Vilka ni vljer att ta r helt upp till er. Det r omjligt att hinna med alla, s smart planering och bra samarbete blir lika viktigt som fysisk kapacitet.",tag:"p",className:"fonts_small om-oss-text"}),u.jsx(U,{textKey:"om-oss-text-5",defaultText:"Ni samlar pong baserat p kontrollernas svrighetsgrad. Mnga kontroller kan ns direkt med cykel, andra krver att ni springer en bit eller vgar er ut i vattnet. P de ventyrliga kontroll som krver det, finns erfaren personal som ser till att allt sker p ett tryggt och skert stt. Inga frkunskaper krvs.",tag:"p",className:"fonts_small om-oss-text"})]})})}),u.jsx("div",{className:"om-oss-background-container locked-background background-editable",id:"om-oss-background-image"}),u.jsx("section",{className:"om-oss-section flex flex_j_C flex_a_C ",children:u.jsx("div",{className:"om-oss-content MaxWH flex flex_col flex_j_C",children:u.jsxs("div",{className:"om-oss-content-wrapper",children:[u.jsx(U,{textKey:"om-oss-title-3",defaultText:"En tvling fr alla  oavsett niv",tag:"h2",className:"fonts_large om-oss-title"}),u.jsx(U,{textKey:"om-oss-text-6",defaultText:"AIM Challenge r fr alla som vill uppleva multisport p ett tillgngligt och roligt stt. Drfr erbjuder vi tv varianter av tvlingen: 3-timmars och 6-timmars. Upplgget r detsamma, men tiden ni har p er att samla kontroller skiljer sig. I Ulricehamn och Kolmrden kan ni vlja den kortare varianten, perfekt fr dig som vill testa konceptet i en mer hanterbar form.",tag:"p",className:"fonts_small om-oss-text"}),u.jsx(U,{textKey:"om-oss-text-7",defaultText:"Oavsett om ni r nybrjare eller rutinerade multisportare tvlar ni p samma bana med samma kontroller. Hr str ngra av Nordens bsta lag p startlinjen, tillsammans med frstagngsdeltagare, kompisgng, kollegor och familjemedlemmar som sker ett gemensamt ventyr. Tvlingen r ppen fr dig frn 15 r och det viktigaste r inte hur mnga kontroller ni tar, utan att ni har en minnesvrd dag i naturen.",tag:"p",className:"fonts_small om-oss-text"}),u.jsx(U,{textKey:"om-oss-text-8",defaultText:"Det hr r multisport nr det r som mest inkluderande. En utmaning p era villkor, fylld av rrelse, gemenskap och upptckargldje.",tag:"p",className:"fonts_small om-oss-text"}),u.jsx(U,{textKey:"om-oss-text-9",defaultText:"Vlkommen till AIM Challenge  multisport fr alla!",tag:"p",className:"fonts_small om-oss-text"})]})})}),u.jsxs("section",{className:"om-oss-cards-container",children:[u.jsxs("div",{className:"om-oss-card",children:[u.jsxs("div",{className:"om-oss-card-content",children:[u.jsx(U,{textKey:"card-1-title",defaultText:"REGLER",tag:"p",className:"font_blue fonts_medium_B"}),u.jsx(U,{textKey:"card-1-text",defaultText:"Tvlingsregler och information",tag:"p",className:"font_blue fonts_medium"})]}),u.jsx("div",{className:"om-oss-card-button",children:u.jsx(ke,{to:"/page2",className:"location",children:"LS MER"})})]}),u.jsxs("div",{className:"om-oss-card",children:[u.jsxs("div",{className:"om-oss-card-content",children:[u.jsx(U,{textKey:"card-2-title",defaultText:"FAQ",tag:"p",className:"font_blue fonts_medium_B"}),u.jsx(U,{textKey:"card-2-text",defaultText:"Vanliga frgor och svar",tag:"p",className:"font_blue fonts_medium"})]}),u.jsx("div",{className:"om-oss-card-button",children:u.jsx(ke,{to:"/page3",className:"location",children:"LS MER"})})]}),u.jsxs("div",{className:"om-oss-card",children:[u.jsxs("div",{className:"om-oss-card-content",children:[u.jsx(U,{textKey:"card-3-title",defaultText:"HISTORIEN OM AIM",tag:"p",className:"font_blue fonts_medium_B"}),u.jsx(U,{textKey:"card-3-text",defaultText:"Vr resa sedan 2004",tag:"p",className:"font_blue fonts_medium"})]}),u.jsx("div",{className:"om-oss-card-button",children:u.jsx(ke,{to:"/page3",className:"location",children:"LS MER"})})]})]})]})]})},DD=({imageKey:s,defaultSrc:e,alt:t,className:i="",style:l={}})=>{const{getText:c,updateText:h,isAdmin:m}=mt(),[p,y]=k.useState(!1),[v,w]=k.useState(""),[N,O]=k.useState(""),L=c(s,e),B=()=>{!p&&m&&(y(!0),w(L),O(""))},V=()=>{if(v.trim()===""){O("Please enter an image URL");return}try{new URL(v),h(s,v),y(!1)}catch{v.startsWith("/")||v.includes("./")?(h(s,v),y(!1)):O("Please enter a valid URL or path")}},z=()=>{y(!1),O("")},H=F=>{const Z=F.target.files[0];if(!Z)return;if(!Z.type.startsWith("image/")){O("Please select an image file");return}const oe=new FileReader;oe.onload=de=>{w(de.target.result)},oe.readAsDataURL(Z)};return p?u.jsxs("div",{className:"editable-image-container",style:{position:"relative",margin:"10px 0"},children:[u.jsx("div",{style:{marginBottom:"10px"},children:u.jsx("img",{src:v||L,alt:t,className:i,style:{maxWidth:"300px",border:"2px solid #00a6fb",...l}})}),u.jsxs("div",{style:{marginBottom:"10px"},children:[u.jsx("label",{style:{display:"block",marginBottom:"5px"},children:"Image URL:"}),u.jsx("input",{type:"text",value:v,onChange:F=>w(F.target.value),style:{width:"100%",padding:"8px",border:"1px solid #ccc",borderRadius:"4px"},placeholder:"Enter image URL or upload a file"}),N&&u.jsx("p",{style:{color:"red",margin:"5px 0"},children:N})]}),u.jsxs("div",{style:{marginBottom:"10px"},children:[u.jsx("label",{style:{display:"block",marginBottom:"5px"},children:"Or upload an image:"}),u.jsx("input",{type:"file",accept:"image/*",onChange:H,style:{width:"100%",padding:"8px",border:"1px solid #ccc",borderRadius:"4px"}})]}),u.jsxs("div",{style:{display:"flex",gap:"8px"},children:[u.jsx("button",{onClick:V,style:{padding:"8px 16px",background:"#00a6fb",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Spara"}),u.jsx("button",{onClick:z,style:{padding:"8px 16px",background:"#ccc",color:"black",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Avbryt"})]})]}):u.jsx("img",{src:L,alt:t,className:`${i} ${m?"editable":""}`,onClick:B,style:{...l,cursor:m?"pointer":"default",border:m?"2px dashed #00a6fb":"none"}})},OD=()=>u.jsxs("div",{className:"regler-container",children:[u.jsx("section",{className:"regler-hero-section",children:u.jsx("div",{className:"hero-content",children:u.jsx("div",{className:"hero-image-container",children:u.jsx(DD,{imageKey:"regler-hero-image",defaultSrc:"/images/AIM_lindvallen_2024_AnkiGrothe_highres_125.jpg",alt:"Regler Hero"})})})}),u.jsx("section",{className:"regler-title-section",children:u.jsx("div",{className:"title-container",children:u.jsx(U,{textKey:"regler-title",defaultText:"REGLER",tag:"h1",className:"location-title"})})}),u.jsx("section",{className:"regler-content-section",children:u.jsx("div",{className:"regler-content-container",children:u.jsxs("div",{className:"regler-content",children:[u.jsx(U,{textKey:"regler-team-heading",defaultText:"LAGET",tag:"h2",className:"regler-heading"}),u.jsxs("ul",{className:"regler-list",children:[u.jsx("li",{className:"regler-list-item",children:"ldersgrns 15r/18r"}),u.jsx("li",{className:"regler-list-item",children:"Bda deltagarna mste ha olycksfrskring som tcker olyckor i samband med tvling/idrottsaktiviteter."}),u.jsx("li",{className:"regler-list-item",children:"Det r lagets ansvar att se till att de r registrerade i rtt klass."}),u.jsx("li",{className:"regler-list-item",children:"Startnummer ska placeras fram p cykel samt synligt p kroppen p bda deltagarna"}),u.jsx("li",{className:"regler-list-item",children:"Det r tilltet att anvnda GPS men det r alltid kartan som gller. GPSens kartunderlag stmmer inte alltid verens med den utskrivna AIM kartan."}),u.jsx("li",{className:"regler-list-item",children:"Laget ska alltid vara samlade max 20 meter mellan lagmedlemmarna."}),u.jsx("li",{className:"regler-list-item",children:"Det r inte tilltet att ha fljebil."})]}),u.jsx(U,{textKey:"regler-safety-heading",defaultText:"SKERHET",tag:"h2",className:"regler-heading"}),u.jsxs("ul",{className:"regler-list",children:[u.jsx("li",{className:"regler-list-item",children:"Lagen vljer sjlva vilka kontroller de klarar att ta baserat p vder, egen frdighet och kunskap."}),u.jsx("li",{className:"regler-list-item",children:"Lagen vljer sjlva vilken vg de vill ta till kontrollerna baserat p vder, egen frdighet och kunskap."}),u.jsx("li",{className:"regler-list-item",children:"Trafiken r inte reglerad under tvlingen."}),u.jsx("li",{className:"regler-list-item",children:"Trafikregler gller alltid."}),u.jsx("li",{className:"regler-list-item",children:"Frsta hjlpen kit ska bras med under hela tvlingen"}),u.jsx("li",{className:"regler-list-item",children:"Hjlm ska bras under all cykling, klttring, bouldering och rappellering"}),u.jsx("li",{className:"regler-list-item",children:"Vid olycka r det obligatoriska att hjlpa till."}),u.jsx("li",{className:"regler-list-item",children:"Vid allvarlig olycka ring nd nummer 112 i Sverige och 113 i Norge"}),u.jsx("li",{className:"regler-list-item",children:"Vid behov fr enklare medicinsk hjlp ring telefonnumret p baksidan av kartan"}),u.jsx("li",{className:"regler-list-item",children:"Tvlingsledningens direktiv gller alltid."})]}),u.jsx(U,{textKey:"regler-other-heading",defaultText:"VRIGT",tag:"h2",className:"regler-heading"}),u.jsxs("ul",{className:"regler-list",children:[u.jsx("li",{className:"regler-list-item",children:"Elcyklar r ej tilltet, med undantag fr Elcykelklassen i Hemsedal."}),u.jsx("li",{className:"regler-list-item",children:"Beroende p kapacitet r det mjligt att anvnda liften i Hemsedal, lyssna noga p vad speakern ger fr information fr vad som gller fr rets tvling."}),u.jsx("li",{className:"regler-list-item",children:"Deltagare som bryter ska genast meddela tvlingsledningen. Telefonnummer str p kartan."}),u.jsx("li",{className:"regler-list-item",children:"Synliga, osynliga och tvlande domare befinner sig i tvlingsomrdet och ser till att reglerna fljs."}),u.jsx("li",{className:"regler-list-item",children:"Regelbrott kan leda till pongavdrag eller diskvalificering"}),u.jsx("li",{className:"regler-list-item",children:"Deltagare som vinner priser som lottas ut pga olika hndelser eller som dras p startnummer mste nrvara p prisutdelningen fr att f sitt pris. r man inte nrvarande och ditt namn/lagnamn dras drar vi reservnamn/lagnamn."}),u.jsx("li",{className:"regler-list-item",children:"LINDVALLEN, viadukten mellan Lodgen och Experium r stngd under hela tvlingen."}),u.jsx("li",{className:"regler-list-item",children:"Tvlingsledningens beslut gr inte att verklaga."}),u.jsx("li",{className:"regler-list-item",children:"Kloka mnniskor skrpar inte ner, fr alla andra r det frbjudet."}),u.jsx("li",{className:"regler-list-item",children:"Respektera privat mark, ta inte genvgar ver privata omrden"}),u.jsx("li",{className:"regler-list-item",children:"Betrda odlad mark r frbjudet. krar som inte har skrdats r odlad mark."}),u.jsx("li",{className:"regler-list-item",children:"Stng alla grindar som ni ppnar."}),u.jsx("li",{className:"regler-list-item",children:"Visa betande djur respekt genom att stiga av cykeln och g frbi dem."})]}),u.jsx("h2",{className:"regler-heading",children:"OBLIGATORISK UTRUSTNING"}),u.jsxs("ul",{className:"regler-list",children:[u.jsx("li",{className:"regler-list-item",children:"Cykel, utan elmotor med undantag fr Elcykelklassen i Hemsedal."}),u.jsx("li",{className:"regler-list-item",children:"Cykelhjlm vid cykling"}),u.jsx("li",{className:"regler-list-item",children:"Mobiltelefon (1 st per lag)"}),u.jsx("li",{className:"regler-list-item",children:"Frsta hjlpen (1 st per lag)"})]}),u.jsx("h2",{className:"regler-heading",children:"VI REKOMMENDERAR ATT NI VEN HAR MED ER"}),u.jsxs("ul",{className:"regler-list",children:[u.jsx("li",{className:"regler-list-item",children:"Frstrkningsklder vid hastigt vderomslag"}),u.jsx("li",{className:"regler-list-item",children:"Kompass"}),u.jsx("li",{className:"regler-list-item",children:"Vatten i en Camelbak"}),u.jsx("li",{className:"regler-list-item",children:"Energy bars eller liknande"}),u.jsx("li",{className:"regler-list-item",children:"Klocka"}),u.jsx("li",{className:"regler-list-item",children:"Lparskor"}),u.jsx("li",{className:"regler-list-item",children:"Cykelslang och reparationskit + vriga verktyg, tex en biketool fr enklare justeringar"})]}),u.jsx("h2",{className:"regler-heading",children:"AIM CHALLENGE STR FR"}),u.jsx("ul",{className:"regler-list",children:u.jsx("li",{className:"regler-list-item",children:"Kanot, SUP, sele, rep, hjlm vid firningar/klttring. All utrustning vid bemannade poster finns dr klttring etc frekommer."})}),u.jsx("h2",{className:"regler-heading",children:"VILLKOR I FRBINDELSE MED ANMLAN"}),u.jsx("p",{className:"regler-list-item",children:"Villkor i frbindelse med anmlan"}),u.jsxs("p",{className:"regler-contact",children:["Om du har frgor:"," ",u.jsx("a",{href:"mailto:info@aimchallenge.com",children:"info@aimchallenge.com"})]})]})})}),u.jsx("div",{className:"locked-background",style:{height:"50vh",width:"100%",marginBottom:"60px"}})]}),MD=({category:s})=>{const[e,t]=k.useState([]),[i,l]=k.useState(""),[c,h]=k.useState(""),[m,p]=k.useState(!0),{isAuthenticated:y,currentUser:v}=ys(),w=(v==null?void 0:v.role)==="admin";k.useEffect(()=>{(async()=>{try{p(!0);const V=nn(We,"faqs"),z=await Ln(V),H=[];z.forEach(F=>{const Z=F.data();Z.category===s&&H.push({id:F.id,question:Z.question,answer:Z.answer,category:Z.category,order:Z.order||0})}),H.sort((F,Z)=>F.order-Z.order),t(H)}catch(V){console.error("Error loading FAQs:",V)}finally{p(!1)}})()},[s]);const N=async()=>{if(!(!i.trim()||!c.trim()))try{const B={question:i,answer:c,category:s,order:e.length},V=ot(nn(We,"faqs"));await ds(V,B),t([...e,{...B,id:V.id}]),l(""),h("")}catch(B){console.error("Error adding FAQ:",B)}},O=async B=>{try{await jc(ot(We,"faqs",B)),t(e.filter(V=>V.id!==B))}catch(V){console.error("Error deleting FAQ:",V)}},L=async(B,V,z)=>{try{const H=e.map(Z=>Z.id===B?{...Z,[V]:z}:Z),F=H.find(Z=>Z.id===B);await ds(ot(We,"faqs",B),{question:F.question,answer:F.answer,category:F.category,order:F.order}),t(H)}catch(H){console.error("Error updating FAQ:",H)}};return w?u.jsxs("div",{className:"faq-editor",children:[u.jsxs("h3",{children:["Manage ",s," FAQs"]}),m?u.jsx("p",{children:"Loading FAQs..."}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"faq-list",children:e.map(B=>u.jsxs("div",{className:"faq-item-editor",children:[u.jsx("div",{className:"faq-controls",children:u.jsx("button",{onClick:()=>O(B.id),className:"delete-button",children:"Delete"})}),u.jsxs("div",{className:"faq-content",children:[u.jsx("textarea",{value:B.question,onChange:V=>L(B.id,"question",V.target.value),placeholder:"Question",className:"faq-question-editor"}),u.jsx("textarea",{value:B.answer,onChange:V=>L(B.id,"answer",V.target.value),placeholder:"Answer",className:"faq-answer-editor"})]})]},B.id))}),u.jsxs("div",{className:"add-faq-form",children:[u.jsx("h4",{children:"Add New FAQ"}),u.jsx("textarea",{value:i,onChange:B=>l(B.target.value),placeholder:"New Question",className:"faq-question-editor"}),u.jsx("textarea",{value:c,onChange:B=>h(B.target.value),placeholder:"New Answer",className:"faq-answer-editor"}),u.jsx("button",{onClick:N,className:"add-button",disabled:!i.trim()||!c.trim(),children:"Add FAQ"})]})]})]}):null},LD=({question:s,answer:e})=>{const[t,i]=k.useState(!1),l=()=>{i(!t)};return u.jsxs("div",{className:"faq-item",children:[u.jsxs("div",{className:`faq-question ${t?"active":""}`,onClick:l,children:[u.jsx("h3",{className:"question-text",children:s}),u.jsx("span",{className:"icon",children:t?"":""})]}),u.jsx("div",{className:`faq-answer ${t?"open":""}`,children:u.jsx("p",{children:e})})]})},yd=({title:s,items:e,categoryKey:t,showEditor:i=!1})=>{const{isAuthenticated:l,currentUser:c}=ys(),h=(c==null?void 0:c.role)==="admin";return u.jsxs("div",{className:"faq-category",children:[u.jsx("h2",{className:"faq-category-title",children:u.jsx(U,{textKey:`faq-category-${t}`,defaultText:s})}),e.map((m,p)=>u.jsx(LD,{question:m.question,answer:m.answer},m.id||p)),h&&i&&u.jsx(MD,{category:t})]})},PD=()=>{const{getText:s}=mt(),{isAuthenticated:e,currentUser:t}=ys(),i=(t==null?void 0:t.role)==="admin",[l,c]=k.useState([]),[h,m]=k.useState([]),[p,y]=k.useState([]),[v,w]=k.useState([]),[N,O]=k.useState(!0),[L,B]=k.useState(!1);k.useEffect(()=>{(async()=>{try{O(!0);const H=nn(We,"faqs"),F=await Ln(H),Z=[];if(F.forEach(oe=>{const de=oe.data();Z.push({id:oe.id,question:de.question,answer:de.answer,category:de.category,order:de.order||0})}),Z.length===0)c([{question:s("general-question-0","Jag r nybrjare p multisport, kan jag delta?"),answer:s("general-answer-0","Absolut, det r DU som vljer vg och antal kontroller. Ta 5 kontroller och ha en fin tur p fjllet, eller ta 40 och vinn. Alla kan delta efter egen frmga och ambition.")},{question:s("general-question-1","Hur ser tvlingen ut?"),answer:s("general-answer-1","Tvlingen gr ut p att samla s mnga kontroller som mjligt inom 6 timmar. Kontrollerna r vrda olika pong, ju svrare att n desto hgre pong. Vissa kontroller innebr aktiviteter som klttring, paddling, simning, rappellering och balansvningar. Lagen bestmmer sjlva vilka kontroller de vill ta och i vilken ordning.")},{question:s("general-question-2","Vilka klasser finns det?"),answer:s("general-answer-2","Dam, Herr och Mix. Dessutom har vi en Elcykelklass i Hemsedal. Alla klasser r 2-manna lag.")}]),m([{question:s("equipment-question-0","Vilken utrustning behver jag?"),answer:s("equipment-answer-0","Obligatorisk utrustning: Cykel, cykelhjlm, mobiltelefon (1 per lag), frsta hjlpen (1 per lag). Vi rekommenderar ven: Frstrkningsklder, kompass, vatten, energibars, klocka, lparskor, cykelslang och reparationskit.")}]),y([{question:s("raceday-question-0","Hur fungerar starten?"),answer:s("raceday-answer-0","Alla lag startar samtidigt kl 10.00 p lrdagen efter ett obligatoriskt informationsmte kl 9.30. Vid starten fr lagen kartan med alla kontroller markerade.")}]),w([{question:s("technical-question-0","Hur ser kartan ut?"),answer:s("technical-answer-0","Kartan fr alla lagen nr startskottet gr. Dr r samtliga kontroller utmrkta med position, pong, beskrivning och om kontrollen innefattar klttring, paddling etc.")}]);else{const oe=Z.filter(T=>T.category==="general").sort((T,b)=>T.order-b.order),de=Z.filter(T=>T.category==="equipment").sort((T,b)=>T.order-b.order),D=Z.filter(T=>T.category==="raceday").sort((T,b)=>T.order-b.order),C=Z.filter(T=>T.category==="technical").sort((T,b)=>T.order-b.order);c(oe),m(de),y(D),w(C)}}catch(H){console.error("Error loading FAQs:",H)}finally{O(!1)}})()},[]);const V=()=>{B(!L)};return u.jsxs(u.Fragment,{children:[u.jsx(Ks,{},"faq-background-editor"),u.jsxs("div",{className:"faq-container",children:[u.jsx("section",{className:"faq-hero-section",children:u.jsx("div",{className:"hero-content",children:u.jsx("div",{className:"hero-image-container background-editable",id:"faq-hero-image",children:u.jsx("img",{src:"/images/AIM_lindvallen_2024_AnkiGrothe_highres_125.jpg",alt:"FAQ Hero"})})})}),u.jsx("section",{className:"faq-title-section",children:u.jsx("div",{className:"title-container",children:u.jsx(U,{textKey:"faq-title",defaultText:"FAQ",tag:"h1",className:"location-title"})})}),u.jsx("section",{className:"faq-content-section",children:u.jsx("div",{className:"faq-content-container",children:u.jsxs("div",{className:"faq-content",children:[u.jsx(U,{textKey:"faq-heading",defaultText:"Vanliga frgor",tag:"h2",className:"faq-heading"}),i&&u.jsx("div",{className:"admin-controls",children:u.jsx("button",{onClick:V,className:"toggle-editors-button",children:L?"Dlj redigerare":"Visa redigerare"})}),N?u.jsx("p",{children:"Laddar vanliga frgor..."}):u.jsxs(u.Fragment,{children:[u.jsx(yd,{title:"Allmnna frgor",categoryKey:"general",items:l,showEditor:L}),u.jsx(yd,{title:"Utrustning",categoryKey:"equipment",items:h,showEditor:L}),u.jsx(yd,{title:"Tvlingsdagen",categoryKey:"raceday",items:p,showEditor:L}),u.jsx(yd,{title:"Teknisk information",categoryKey:"technical",items:v,showEditor:L})]}),u.jsxs("div",{className:"faq-contact",children:[u.jsx(U,{textKey:"faq-contact-title",defaultText:"Har du fler frgor?",tag:"h2",className:"faq-category-title"}),u.jsx(U,{textKey:"faq-contact-text",defaultText:"Ta grna kontakt om ni inte hittar svaret p era frgor: info@aimchallenge.com",tag:"p",className:""})]})]})})}),u.jsx("div",{className:"locked-background background-editable",id:"faq-background-image"})]})]})},UD=()=>u.jsxs(u.Fragment,{children:[u.jsx(Ks,{},"historien-om-aim-background-editor"),u.jsxs("div",{className:"historien-om-aim-container",children:[u.jsx("section",{className:"historien-om-aim-hero-section",children:u.jsx("div",{className:"hero-content",children:u.jsx("div",{className:"hero-image-container background-editable",id:"historien-om-aim-hero-image",children:u.jsx("img",{src:"/images/AIM_lindvallen_2024_AnkiGrothe_highres_125.jpg",alt:"Historien Om AIM Hero"})})})}),u.jsx("section",{className:"historien-om-aim-title-section",children:u.jsx("div",{className:"title-container",children:u.jsx(U,{textKey:"historien-om-aim-title",defaultText:"HISTORIEN BAKOM AIM CHALLENGE",tag:"h1",className:"location-title"})})}),u.jsx("section",{className:"historien-om-aim-content-section",children:u.jsx("div",{className:"historien-om-aim-content-container",children:u.jsxs("div",{className:"historien-om-aim-content",children:[u.jsx(U,{textKey:"historien-om-aim-intro",defaultText:"AIM Challenge r idag Nordens strsta multisporttvling, men starten var ngot helt annat. Allt tog sin brjan med ett ventyr i Sderhavet.",tag:"p",className:"historien-om-aim-text"}),u.jsx(U,{textKey:"historien-om-aim-camel-trophy",defaultText:"r 2000 deltog Lisa Nordlind, grundare av AIM Challenge, i multisporttvlingen Camel Trophy. Tillsammans med Mikael Stening bildade hon Team Skandinavien och tvlade mot lag frn 22 lnder. Under tre intensiva veckor samlade lagen kontroller med hjlp av karta och kompass, rrande sig med bt, cykel, kltterutrustning och paddelbrda genom vrlden kring Tonga och Samoa.",tag:"p",className:"historien-om-aim-text"}),u.jsx(U,{textKey:"historien-om-aim-inspiration",defaultText:"Kontrollerna gav olika pong och lagen valde sjlva vg och ordning. Friheten, ventyret och det lekfulla upplgget satte spr. Lisa visste att hon ville skapa ngot liknande hemma i Norden.",tag:"p",className:"historien-om-aim-text"}),u.jsx(U,{textKey:"historien-om-aim-hemsedal-start",defaultText:"Nr hon sommaren 2004 befann sig i Hemsedal vcktes idn till liv. Det var stilla i den lilla skidorten och hon bestmde sig fr att arrangera ett nytt typ av lopp. Ngot som kombinerade fysisk aktivitet med gldje, taktik och gemenskap. Resultatet blev Hemsedal Challenge, och den frsta septemberhelgen stod 150 deltagare p startlinjen. Med vnner, familj och bekanta som funktionrer vxte ngot strre fram.",tag:"p",className:"historien-om-aim-text"}),u.jsx(U,{textKey:"historien-om-aim-birth",defaultText:"Fem r senare fddes AIM Challenge. Tvlingen i Hemsedal fick sllskap av en ny deltvling i Lindvallen och namnet byttes fr att samla konceptet. AIM Challenge brjade ta form som den multisportserie det r idag.",tag:"p",className:"historien-om-aim-text"}),u.jsx(U,{textKey:"historien-om-aim-new-era-heading",defaultText:"En ny era med nya mjligheter",tag:"h2",className:"historien-om-aim-subheading"}),u.jsx(U,{textKey:"historien-om-aim-marcus-takeover",defaultText:"Infr ssongen 2020 tackade Lisa fr sig och lmnade ver stafettpinnen till Marcus Andersson, som sedan 2015 arbetat nra Lisa med att arrangera tvlingen. Planen var att ta AIM Challenge vidare och gra det tillgngligt fr fler genom fler deltvlingar och en geografisk frflyttning nrmare strre stder.",tag:"p",className:"historien-om-aim-text"}),u.jsx(U,{textKey:"historien-om-aim-pandemic",defaultText:"Starten blev dock tuff. Pandemin slog till och tvlingarna fick stllas in eller anpassas efter restriktioner. Men ur utmaningen fddes ngot nytt, AIM Home Challenge. Ett digitalt koncept som hll liv i tvlingsknslan vren 2020 och gav deltagare ett stt att aktivera sig p hemmaplan.",tag:"p",className:"historien-om-aim-text"}),u.jsx(U,{textKey:"historien-om-aim-ulricehamn",defaultText:"Nr restriktionerna lttade arrangerades den frsta upplagan av AIM Challenge i Ulricehamn hsten 2021. Med sina fina grusvgar och kuperade skogar blev platsen en direkt favorit. Samtidigt introducerades en ny tvlingsklass p tre timmar, ett viktigt steg mot att gra multisport mer tillgngligt fr fler.",tag:"p",className:"historien-om-aim-text"}),u.jsx(U,{textKey:"historien-om-aim-growth",defaultText:"Sedan dess har AIM Challenge fortsatt att vxa. Ulricehamn har blivit ett uppskattat och terkommande inslag i tvlingskalendern. Och under hsten 2024 etablerades ytterligare en deltvling, den hr gngen i Kolmrden. Med sin unika natur, nrhet till havet och vilda terrng sticker Kolmrden ut som en plats dr bde tvlingsnerv och natursknhet mts p bsta stt.",tag:"p",className:"historien-om-aim-text"}),u.jsx(U,{textKey:"historien-om-aim-conclusion",defaultText:"AIM Challenge str idag starkare n ngonsin, men grundidn r fortfarande densamma. Att multisport ska vara ngot alla kan uppleva, p sina egna villkor.",tag:"p",className:"historien-om-aim-text"})]})})}),u.jsx("div",{className:"locked-background background-editable",id:"historien-om-aim-background-image"})]})]}),VD=({value:s,onChange:e,placeholder:t})=>{const i=k.useRef(null),[l,c]=k.useState(!1),[h,m]=k.useState(""),[p,y]=k.useState(""),[v,w]=k.useState(null);k.useEffect(()=>{i.current&&s!==i.current.innerHTML&&(i.current.innerHTML=s)},[s]);const N=()=>{i.current&&e&&e(i.current.innerHTML)},O=(H,F=null)=>{document.execCommand(H,!1,F),i.current.focus(),N(),H==="formatBlock"&&setTimeout(()=>{N()},10)},L=()=>{const H=window.getSelection();if(H.rangeCount>0){const F=H.getRangeAt(0);w(F),y(F.toString()),c(!0)}else c(!0)},B=()=>{if(h.trim()==="")return;const H=p.trim()===""?h:p,F=`<a href="${h}" target="_blank" rel="noopener noreferrer">${H}</a>`;if(v){const Z=window.getSelection();Z.removeAllRanges(),Z.addRange(v),document.execCommand("insertHTML",!1,F)}else document.execCommand("insertHTML",!1,F);m(""),y(""),w(null),c(!1),N(),i.current.focus()},V=H=>{H.key==="Tab"&&(H.preventDefault(),document.execCommand("insertHTML",!1,"&nbsp;&nbsp;&nbsp;&nbsp;"))},z=[{command:"bold",title:"Bold",content:u.jsx("strong",{children:"B"})},{command:"italic",title:"Italic",content:u.jsx("em",{children:"I"})},{command:"underline",title:"Underline",content:u.jsx("u",{children:"U"})},{type:"divider"},{command:"formatBlock",value:"<h1>",title:"Heading 1",content:"H1"},{command:"formatBlock",value:"<h2>",title:"Heading 2",content:"H2"},{command:"formatBlock",value:"<h3>",title:"Heading 3",content:"H3"},{command:"formatBlock",value:"<p>",title:"Paragraph",content:"P"},{type:"divider"},{command:"insertUnorderedList",title:"Bullet List",content:""},{command:"insertOrderedList",title:"Numbered List",content:"1."},{type:"divider"},{command:"justifyLeft",title:"Align Left",content:""},{command:"justifyCenter",title:"Align Center",content:""},{command:"justifyRight",title:"Align Right",content:""},{type:"divider"},{command:"link",title:"Insert Link",content:"Link",onClick:L}];return u.jsxs("div",{className:"aim_rich_editor_container",children:[u.jsx("div",{className:"aim_rich_editor_toolbar",children:z.map((H,F)=>H.type==="divider"?u.jsx("span",{className:"aim_format_divider"},`divider-${F}`):u.jsx("div",{role:"button",tabIndex:"0",onClick:H.onClick||(()=>O(H.command,H.value)),className:"aim_format_control",title:H.title,children:H.content},`${H.command}-${F}`))}),u.jsx("div",{className:"aim_rich_editor_content",ref:i,contentEditable:"true",onInput:N,onKeyDown:V,placeholder:t,suppressContentEditableWarning:!0}),l&&u.jsx("div",{className:"aim_link_modal",children:u.jsxs("div",{className:"aim_link_modal_content",children:[u.jsx("h3",{children:"Insert Link"}),u.jsxs("div",{className:"aim_link_form",children:[u.jsxs("div",{className:"aim_form_group",children:[u.jsx("label",{htmlFor:"linkText",children:"Link Text"}),u.jsx("input",{type:"text",id:"linkText",value:p,onChange:H=>y(H.target.value),placeholder:"Text to display"})]}),u.jsxs("div",{className:"aim_form_group",children:[u.jsx("label",{htmlFor:"linkUrl",children:"URL"}),u.jsx("input",{type:"text",id:"linkUrl",value:h,onChange:H=>m(H.target.value),placeholder:"https://example.com"})]}),u.jsxs("div",{className:"aim_link_buttons",children:[u.jsx("button",{onClick:()=>c(!1),className:"aim_cancel_button",children:"Cancel"}),u.jsx("button",{onClick:B,className:"aim_insert_button",children:"Insert"})]})]})]})})]})},BD=({isOpen:s,onClose:e,editingPost:t=null,addPost:i})=>{const[l,c]=k.useState(""),[h,m]=k.useState(""),[p,y]=k.useState(null),[v,w]=k.useState(""),[N,O]=k.useState("Alla"),[L,B]=k.useState(!1),[V,z]=k.useState(!0),H=k.useRef(null),{isAdmin:F}=mt(),Z=b=>{const S=b.target.files[0];if(S){S.name||(S.name=`image-${Date.now()}.jpg`);const j=new FileReader;j.onloadend=()=>{y(S),w(j.result)},j.readAsDataURL(S)}},oe=b=>{m(b)};k.useEffect(()=>{console.log("EditingPost in CreatePostModal:",t),t?(console.log("Setting form data from editingPost"),c(t.title||""),m(t.content||""),O(t.category||"Alla"),z(t.published!==!1),B(!0),t.image&&w(t.image)):(console.log("No editingPost, resetting form"),D(),B(!1))},[t]);const de=async()=>{if(!l.trim()||!h.trim()){alert("Vnligen fyll i titel och innehll");return}try{let b=v;if(p){const j=Date.now(),A=p.name?p.name.split(".").pop():"jpg",Y=`image_${j}.${A}`,ne=hs(ms,`gs://aimchallange-67039.firebasestorage.app/post-images/${Y}`);console.log("Uploading image with new filename:",Y),await zl(ne,p),b=await ql(ne),console.log("Image URL after upload:",b)}const S={title:l,content:h,category:N,published:V,updatedAt:new Date().toISOString()};if(b&&(S.image=b),L&&t){const j=ot(We,"posts",t.id);await gp(j,S),console.log("Post updated with ID:",t.id)}else{S.date=new Date().toLocaleDateString("sv-SE",{year:"numeric",month:"long",day:"numeric"}),S.createdAt=new Date().toISOString();const j=await LI(nn(We,"posts"),S);console.log("Post saved with ID:",j.id)}typeof i=="function"&&i(L&&t?{id:t.id,title:l,content:h,image:b,category:N,published:V}:{title:l,content:h,image:b,category:N,published:V}),D(),e(),window.location.reload()}catch(b){console.error("Error saving post:",b),alert("Ett fel uppstod nr inlgget skulle sparas. Frsk igen.")}},D=()=>{c(""),m(""),y(null),w(""),O("Alla"),z(!0),B(!1)},C=()=>{D(),e()},T=b=>{b.target.className==="create-post-modal__overlay"&&C()};return!s||!F?null:u.jsxs("div",{className:"create-post-modal",children:[u.jsx("div",{className:"create-post-modal__overlay",onClick:T}),u.jsxs("div",{className:"create-post-modal__content",children:[u.jsx("h2",{className:"create-post-modal__title",children:L?"Redigera inlgg":"Skapa nytt inlgg"}),u.jsxs("div",{className:"create-post-modal__form",children:[u.jsxs("div",{className:"create-post-modal__form-group",children:[u.jsx("label",{className:"create-post-modal__label",children:"Titel"}),u.jsx("input",{type:"text",className:"create-post-modal__input",value:l,onChange:b=>c(b.target.value),placeholder:"Ange titel"})]}),u.jsxs("div",{className:"create-post-modal__form-group",children:[u.jsx("label",{className:"create-post-modal__label",children:"Bild (valfritt)"}),u.jsxs("div",{className:"create-post-modal__image-upload",onClick:()=>H.current.click(),children:[v?u.jsx("img",{src:v,alt:"Preview",className:"create-post-modal__image-preview"}):u.jsx("div",{className:"create-post-modal__image-placeholder",children:"Klicka fr att ladda upp en bild"}),u.jsx("input",{type:"file",accept:"image/*",onChange:Z,className:"create-post-modal__file-input",ref:H})]})]}),u.jsxs("div",{className:"create-post-modal__form-group",children:[u.jsx("label",{className:"create-post-modal__label",children:"Kategori"}),u.jsxs("select",{className:"create-post-modal__input",value:N,onChange:b=>O(b.target.value),children:[u.jsx("option",{value:"Alla",children:"Alla"}),u.jsx("option",{value:"Inga",children:"Inga"}),u.jsx("option",{value:"Kolmrden",children:"Kolmrden"}),u.jsx("option",{value:"Slen",children:"Slen"}),u.jsx("option",{value:"Hemsedal",children:"Hemsedal"}),u.jsx("option",{value:"Ulricshamn",children:"Ulricshamn"}),u.jsx("option",{value:"Tripplen",children:"Tripplen"})]})]}),u.jsxs("div",{className:"create-post-modal__form-group",children:[u.jsx("label",{className:"create-post-modal__label",children:"Innehll"}),u.jsx("div",{children:u.jsx(VD,{value:h,onChange:oe,placeholder:"Ange innehll"})})]}),u.jsx("div",{className:"create-post-modal__form-group",children:u.jsxs("label",{className:"create-post-modal__checkbox-label",children:[u.jsx("input",{type:"checkbox",checked:V,onChange:()=>z(!V),className:"create-post-modal__checkbox"}),"Publicerad"]})}),u.jsxs("div",{className:"create-post-modal__actions",children:[u.jsx("button",{onClick:C,className:"create-post-modal__button create-post-modal__button--secondary",children:"Avbryt"}),u.jsx("button",{onClick:de,className:"create-post-modal__button create-post-modal__button--primary",disabled:!l.trim()||!h.trim(),children:L?"Uppdatera":"Spara"})]})]})]})]})},HD=()=>{const[s,e]=k.useState(""),[t,i]=k.useState(!1),[l,c]=k.useState(!1),[h,m]=k.useState(null),{isAdmin:p,currentLanguage:y}=mt(),[v,w]=k.useState("");k.useEffect(()=>{w(y==="en"?"Read more":y==="no"?"Les mer":"Ls mer")},[y]);const[N,O]=k.useState([]),[L,B]=k.useState(!0),[V,z]=k.useState(null);k.useEffect(()=>{(async()=>{try{B(!0);const C=nn(We,"posts"),b=(await Ln(C)).docs.map(j=>({id:j.id,published:j.data().published!==!1,...j.data()}));b.forEach(j=>{j.image&&console.log(`Post ${j.id} image URL:`,j.image)});const S=b.map(j=>{const A=j;if(console.log(`Post ${j.id}:`,A),A.image){console.log(`Post ${j.id} image URL:`,A.image);const Y=new Image;Y.onload=()=>console.log(`Image for post ${j.id} loaded successfully`),Y.onerror=()=>console.error(`Image for post ${j.id} failed to load`),Y.src=A.image}else console.warn(`Post ${j.id} has no image URL`);return{...A,id:j.id}});O(S),z(null)}catch(C){console.error("Error fetching posts:",C),z("Failed to load posts")}finally{B(!1)}})()},[]);const H=D=>{D.preventDefault(),console.log("Email submitted:",s),i(!0),e(""),setTimeout(()=>i(!1),3e3)},F=async D=>{try{if(B(!0),h&&D.id)O(C=>C.map(T=>T.id===D.id?{...T,title:D.title,content:D.content,category:D.category||"Alla",published:D.published!==!1,image:D.image||T.image}:T));else{const C=nn(We,"posts"),T=hi(C,mg("createdAt","desc"),jI(10)),b=await Ln(T),S=[];b.forEach(j=>{S.push({id:j.id,...j.data()})}),O(S)}m(null),c(!1),z(null)}catch(C){console.error("Error saving post:",C),z("Failed to save post")}finally{B(!1)}},Z=D=>{console.log("Edit post clicked:",D),m(D),c(!0)},oe=async(D,C)=>{try{const T=ot(We,"posts",String(D));await gp(T,{published:!C}),O(b=>b.map(S=>String(S.id)===String(D)?{...S,published:!C}:S))}catch(T){console.error("Failed to toggle publish status:",T)}},de=async D=>{try{const C=N.find(T=>String(T.id)===String(D));if(await jc(ot(We,"posts",String(D))),C&&C.image)try{const b=(S=>{const j=S.match(/\/o\/(.+)\?alt=media/);return j?decodeURIComponent(j[1]):null})(C.image);if(b){const S=hs(ms,b);await Dc(S)}}catch(T){console.error("Failed to delete image from storage:",T)}window.location.reload()}catch(C){console.error("Failed to delete post:",C)}};return u.jsxs("div",{className:"flex flex_col",children:[u.jsx("section",{className:"page_01 senaste-nytt-hero dynamic-background background-editable",id:"senaste-nytt-top-background"}),u.jsx("section",{className:"senaste-nytt-title-section",children:u.jsx("div",{className:"title-container",children:u.jsx(U,{textKey:"senaste-nytt-main-title",defaultText:"SENASTE NYTT",tag:"h1",className:"senaste-nytt-main-title"})})}),u.jsx("div",{className:"set-03 senaste-nytt-subscribe-section",children:u.jsxs("div",{className:"senaste-nytt-container flex flex_col flex_j_C flex_a_C font_white",children:[u.jsx(U,{textKey:"senaste-nytt-subscribe-title",defaultText:"Hll dig uppdaterad",tag:"h2",className:"fonts_large senaste-nytt-title"}),u.jsx(U,{textKey:"senaste-nytt-subscribe-description",defaultText:"Prenumerera p vrt nyhetsbrev fr att f de senaste uppdateringarna om AIM Challenge direkt i din inkorg.",tag:"p",className:"fonts_small senaste-nytt-description"}),u.jsxs("form",{onSubmit:H,className:"senaste-nytt-form flex flex_col flex_a_C",children:[u.jsxs("div",{className:"senaste-nytt-form-input-container flex",children:[u.jsx("input",{type:"email",value:s,onChange:D=>e(D.target.value),placeholder:"Din e-postadress",required:!0,className:"senaste-nytt-form-input fonts_small",id:"newsletter-email",name:"newsletter-email",autoComplete:"email"}),u.jsx("button",{type:"submit",className:"senaste-nytt-form-button fonts_small flex flex_j_C flex_a_C",children:u.jsx("span",{children:"Prenumerera"})})]}),t&&u.jsx("p",{className:"senaste-nytt-form-success",children:"Tack fr din prenumeration!"})]})]})}),u.jsx("div",{className:"set-03 senaste-nytt-news-section",children:u.jsxs("div",{className:"senaste-nytt-container",children:[u.jsx(U,{textKey:"senaste-nytt-news-title",defaultText:"Nyheter",tag:"h2",className:"senaste-nytt-section-title"}),p&&u.jsx("div",{className:"senaste-nytt-admin-actions flex flex_j_E",children:u.jsx("button",{className:"senaste-nytt-create-post-button",onClick:()=>c(!0),children:"Skapa nytt inlgg"})}),u.jsx("div",{className:"senaste-nytt-news-grid",children:N.filter(D=>p||D.published!==!1).map(D=>u.jsxs("div",{className:"senaste-nytt-news-card",children:[u.jsx("div",{className:"senaste-nytt-news-image-wrapper",children:D.image?u.jsx("img",{className:"senaste-nytt-news-image-alt",src:D.image,alt:D.title||"Post image"}):u.jsx("div",{className:"senaste-nytt-news-image senaste-nytt-news-image--empty",children:u.jsx("span",{children:"Ingen bild"})})}),u.jsxs("div",{className:"senaste-nytt-news-content",children:[u.jsx("h3",{className:"senaste-nytt-news-card-title",children:D.title}),u.jsx("p",{className:"senaste-nytt-news-date",children:D.date}),!D.published&&p&&u.jsx("p",{className:"senaste-nytt-unpublished-notice",children:"Opublicerad"}),u.jsx("div",{className:"senaste-nytt-news-text",dangerouslySetInnerHTML:{__html:D.content},style:{maxHeight:"150px",overflow:"hidden",position:"relative"}}),u.jsx(ke,{to:`/news/${D.id}`,className:"senaste-nytt-read-more",children:v}),p&&u.jsxs("div",{className:"senaste-nytt-admin-buttons",children:[u.jsx("button",{className:"senaste-nytt-edit-post-button",onClick:()=>Z(D),children:"Redigera"}),u.jsx("button",{className:`senaste-nytt-publish-post-button ${D.published?"published":"unpublished"}`,onClick:()=>oe(String(D.id),D.published),children:D.published?"Avpublicera":"Publicera"}),u.jsx("button",{className:"senaste-nytt-delete-post-button",onClick:()=>de(String(D.id)),children:"Ta bort"})]})]})]},D.id))})]})}),p&&u.jsx(BD,{isOpen:l,onClose:()=>{c(!1),m(null)},addPost:F,editingPost:h}),u.jsx("div",{id:"senaste-nytt-background",className:"background-editable senaste-nytt-background-container locked-background page_01"})]})},zD=()=>{const{id:s}=YS(),e=Ar(),[t,i]=k.useState(null),[l,c]=k.useState(!0),[h,m]=k.useState(null);k.useEffect(()=>{(async()=>{try{c(!0);const v=ot(We,"posts",s),w=await Di(v);w.exists()?(i({id:w.id,...w.data()}),m(null)):m("Nyheten kunde inte hittas")}catch(v){console.error("Error fetching post:",v),m("Ett fel uppstod nr nyheten skulle hmtas")}finally{c(!1)}})()},[s]);const p=()=>{e("/senaste-nytt")};return l?u.jsx("div",{className:"flex flex_col flex_a_C flex_j_C",style:{minHeight:"50vh"},children:u.jsx("p",{className:"fonts_large",children:"Laddar..."})}):h?u.jsxs("div",{className:"flex flex_col flex_a_C flex_j_C",style:{minHeight:"50vh"},children:[u.jsx("p",{className:"fonts_large",children:h}),u.jsx("button",{onClick:p,className:"navbbutton button font_blue",style:{marginTop:"20px",padding:"10px 20px"},children:"Tillbaka till nyheter"})]}):t?u.jsxs("div",{className:"flex flex_col",children:[u.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",children:u.jsx("div",{className:"MaxWH flex flex_col flex_j_SA",children:u.jsx("div",{className:"om-oss-title flex flex_j_C flex_a_C",children:u.jsx("p",{className:"fonts_huge senaste-nytt-main-title",children:"NYHETER"})})})}),u.jsx("section",{style:{padding:"50px 0",backgroundColor:"#f5f5f5",width:"100vw"},children:u.jsxs("div",{className:"MaxWH",style:{padding:"0 20px",maxWidth:"1000px",margin:"0 auto"},children:[u.jsxs("button",{onClick:p,className:"navbbutton button font_blue",style:{marginBottom:"20px",padding:"10px 30px 10px 20px",display:"flex",alignItems:"center",gap:"5px",minWidth:"120px"},children:[u.jsx("span",{children:""})," ",u.jsx("span",{children:"Tillbaka"})]}),u.jsxs("div",{style:{backgroundColor:"white",borderRadius:"8px",overflow:"hidden",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[t.image&&u.jsx("div",{style:{height:"400px",backgroundImage:`url(${t.image})`,backgroundSize:"cover",backgroundPosition:"center"}}),u.jsxs("div",{style:{padding:"30px"},children:[u.jsx("h1",{className:"fonts_large font_blue",style:{marginBottom:"10px"},children:t.title}),u.jsx("p",{className:"fonts_small",style:{color:"#666",marginBottom:"30px"},children:t.date}),u.jsx("div",{className:"fonts_small news-detail-content",dangerouslySetInnerHTML:{__html:t.content},style:{marginBottom:"20px"}})]})]}),u.jsx("div",{style:{marginTop:"30px",textAlign:"center"},children:u.jsxs("button",{onClick:p,className:"navbbutton button font_blue",style:{padding:"10px 30px 10px 20px",display:"flex",alignItems:"center",gap:"5px",minWidth:"120px"},children:[u.jsx("span",{children:""})," ",u.jsx("span",{children:"Tillbaka"})]})})]})}),u.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",style:{height:"50vh",width:"100vw"}})]}):u.jsxs("div",{className:"flex flex_col flex_a_C flex_j_C",style:{minHeight:"50vh"},children:[u.jsx("p",{className:"fonts_large",children:"Nyheten kunde inte hittas"}),u.jsx("button",{onClick:p,className:"navbbutton button font_blue",style:{marginTop:"20px",padding:"10px 20px"},children:"Tillbaka till nyheter"})]})},kE=()=>{const[s,e]=k.useState(""),[t,i]=k.useState(""),[l,c]=k.useState(""),[h,m]=k.useState(!1),p=Ar(),{login:y,isAuthenticated:v}=ys();k.useEffect(()=>{v&&p("/")},[v,p]);const w=async N=>{N.preventDefault(),m(!0),c("");try{const O=await y(s,t);O.success?(console.log("Login successful"),console.log("Current user after login:",{email:s,role:"admin"}),p("/")):c(O.message||"Ogiltigt e-post eller lsenord")}catch(O){console.error("Login error:",O),c("Ett fel uppstod vid inloggning. Frsk igen.")}finally{m(!1)}};return u.jsxs("div",{className:"flex flex_col",children:[u.jsx("section",{className:"login-header-section dynamic-background flex flex_col flex_j_E",children:u.jsx("div",{className:"login-header-container flex flex_col flex_j_SA",children:u.jsx("div",{className:"login-title-container",children:u.jsx("p",{className:"fonts_huge login-title",children:"LOGGA IN"})})})}),u.jsx("div",{className:"login-form-wrapper",children:u.jsx("div",{className:"login-form-container",children:u.jsx("div",{className:"login-form",children:u.jsxs("div",{className:"login-card",children:[u.jsx("h2",{className:"fonts_medium font_blue login-subtitle",children:"Administratrsinloggning"}),l&&u.jsx("div",{className:"error-message",children:l}),u.jsxs("form",{onSubmit:w,children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"email",className:"fonts_small",children:"E-post"}),u.jsx("input",{type:"email",id:"email",value:s,onChange:N=>e(N.target.value),required:!0,className:"form-input"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"password",className:"fonts_small",children:"Lsenord"}),u.jsx("input",{type:"password",id:"password",value:t,onChange:N=>i(N.target.value),required:!0,className:"form-input"})]}),u.jsx("button",{type:"submit",className:"navbbutton button font_blue",disabled:h,children:h?"Loggar in...":"Logga in"})]}),u.jsx("div",{className:"login-note",children:u.jsx("p",{className:"fonts_small",style:{color:"#666"},children:"Detta r en inloggning endast fr administratrer."})})]})})})}),u.jsx("section",{className:"login-background-section dynamic-background flex flex_col flex_j_E",children:u.jsx("div",{className:"login-background-container"})})]})},qD=()=>{const{textContent:s,updateText:e,removeContentItem:t,isAdmin:i,currentLanguage:l,changeLanguage:c,LANGUAGES:h,LANGUAGE_NAMES:m}=mt(),{isAuthenticated:p}=ys(),y=Ar(),[v,w]=k.useState("metaTexts"),[N,O]=k.useState(!1),[L,B]=k.useState(l),[V,z]=k.useState({"meta-title-home":"Aim Challenge - Multisport tvling fr alla","meta-description-home":"Aim Challenge r en multisport tvling som passar fr alla. Lag p tv personer ska under 6 timmar ta s mnga kontroller som mjligt.","meta-keywords-home":"multisport, tvling, aim challenge, orientering, lpning, cykling","meta-title-om-oss":"Om Oss - Aim Challenge","meta-description-om-oss":"Lr dig mer om Aim Challenge organisationen och vr mission.","meta-title-regler":"Regler - Aim Challenge","meta-description-regler":"Tvlingsregler och riktlinjer fr Aim Challenge evenemang.","meta-title-senaste-nytt":"Senaste Nytt - Aim Challenge","meta-description-senaste-nytt":"Senaste nytt och uppdateringar frn Aim Challenge."}),[H,F]=k.useState({"og-image-home":"/images/Aim_Challenge_logo_white.svg","og-image-om-oss":"/images/Aim_Challenge_logo_white.svg","og-image-regler":"/images/Aim_Challenge_logo_white.svg","og-image-senaste-nytt":"/images/Aim_Challenge_logo_white.svg"}),[Z,oe]=k.useState(null),[de,D]=k.useState(""),[C,T]=k.useState(null),[b,S]=k.useState(null);k.useEffect(()=>{(!p||!i)&&y("/")},[p,i,y]),k.useEffect(()=>{B(l)},[l]),k.useEffect(()=>{(()=>{const ue={"meta-title-home":"Aim Challenge - Multisport tvling fr alla","meta-description-home":"Aim Challenge r en multisport tvling som passar fr alla. Lag p tv personer ska under 6 timmar ta s mnga kontroller som mjligt.","meta-keywords-home":"multisport, tvling, aim challenge, orientering, lpning, cykling","meta-title-om-oss":"Om Oss - Aim Challenge","meta-description-om-oss":"Lr dig mer om Aim Challenge organisationen och vr mission.","meta-title-regler":"Regler - Aim Challenge","meta-description-regler":"Tvlingsregler och riktlinjer fr Aim Challenge evenemang.","meta-title-senaste-nytt":"Senaste Nytt - Aim Challenge","meta-description-senaste-nytt":"Senaste nytt och uppdateringar frn Aim Challenge."},ve={"og-image-home":"/images/Aim_Challenge_logo_white.svg","og-image-om-oss":"/images/Aim_Challenge_logo_white.svg","og-image-regler":"/images/Aim_Challenge_logo_white.svg","og-image-senaste-nytt":"/images/Aim_Challenge_logo_white.svg"};Object.entries(s).forEach(([M,ae])=>{if(typeof ae=="object"&&ae!==null&&ae._isMultilingual){if(M.startsWith("meta-")){const me=ae[L]||ae[h.SV]||"",fe=typeof me=="string"?me:"";fe&&(ue[M]=fe)}else if(M.startsWith("og-image-")){const me=ae[L]||ae[h.SV]||"",fe=typeof me=="string"?me:"";fe&&(ve[M]=fe)}}else typeof ae=="string"&&(M.startsWith("meta-")?ue[M]=ae:M.startsWith("og-image-")&&(ve[M]=ae))}),z(ue),F(ve)})()},[s,L]);const j=(Q,ue)=>{oe(Q),D(ue)},A=()=>{Z&&(e(Z,de),Z.startsWith("meta-")?z(Q=>({...Q,[Z]:de})):Z.startsWith("og-image-")&&F(Q=>({...Q,[Z]:de})),oe(null),D(""))},Y=()=>{oe(null),D("")},ne=()=>{window.confirm("This will delete all SEO meta data from Firebase. Are you sure?")&&(Object.keys(s).forEach(Q=>{(Q.startsWith("meta-")||Q.startsWith("og-image-"))&&t(Q)}),alert("SEO data reset. Please refresh the page."))},X=(Q,ue)=>{const ve=Q.target.files[0];if(ve){T(ue);const M=new FileReader;M.onloadend=()=>{S(M.result)},M.readAsDataURL(ve);const ae=hs(ms,`sharing-images/${ue}-${Date.now()}`);zl(ae,ve).then(me=>{ql(me.ref).then(fe=>{e(ue,fe),F(ge=>({...ge,[ue]:fe})),T(null),S(null)})}).catch(me=>{console.error("Error uploading image:",me),T(null),S(null)})}};return!p||!i?null:u.jsxs("div",{className:"seo-manager",style:{padding:"20px"},children:[u.jsx("h1",{className:"font_blue fonts_big",style:{marginBottom:"20px"},children:"SEO Manager"}),u.jsxs("div",{style:{marginBottom:"20px"},children:[u.jsx("button",{className:`modal-button ${v==="metaTexts"?"modal-button-primary":"modal-button-secondary"}`,onClick:()=>w("metaTexts"),children:"Meta Texter"}),u.jsx("button",{className:`modal-button ${v==="sharingImages"?"modal-button-primary":"modal-button-secondary"}`,onClick:()=>w("sharingImages"),children:"Delningsbilder"})]}),v==="metaTexts"&&u.jsxs("div",{className:"meta-texts-section",children:[u.jsxs("div",{style:{marginBottom:"20px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[u.jsx("p",{style:{margin:0},children:"Redigera meta-texter fr att frbttra skmotoroptimering (SEO) fr din webbplats."}),u.jsx("button",{onClick:ne,style:{padding:"8px 16px",backgroundColor:"#ff4d4d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px"},children:"Reset SEO Data"})]}),u.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"20px"},children:Object.entries(V).map(([Q,ue])=>u.jsxs("div",{style:{border:"1px solid #ddd",borderRadius:"8px",padding:"15px",backgroundColor:"white",boxShadow:"0 2px 4px rgba(0,0,0,0.05)"},children:[u.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:u.jsx("h3",{className:"font_blue fonts_medium",style:{fontSize:"16px"},children:Q})}),Z===Q?u.jsxs("div",{children:[u.jsx("textarea",{value:de,onChange:ve=>D(ve.target.value),style:{width:"100%",padding:"10px",borderRadius:"4px",border:"1px solid #ddd",minHeight:"100px",marginBottom:"10px"}}),u.jsxs("div",{style:{display:"flex",gap:"10px"},children:[u.jsx("button",{onClick:A,style:{padding:"8px 16px",backgroundColor:"#00b894",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Spara"}),u.jsx("button",{onClick:Y,style:{padding:"8px 16px",backgroundColor:"#ccc",color:"black",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Avbryt"})]})]}):u.jsxs("div",{children:[u.jsx("p",{style:{backgroundColor:"#f5f5f5",padding:"10px",borderRadius:"4px",marginBottom:"10px"},children:typeof ue=="string"?ue:""}),u.jsx("button",{onClick:()=>j(Q,typeof ue=="string"?ue:ue||""),style:{width:"100%",padding:"8px",backgroundColor:"#0984e3",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Redigera"})]})]},Q))})]}),v==="sharingImages"&&u.jsxs("div",{className:"sharing-images-section",children:[u.jsx("p",{style:{marginBottom:"20px"},children:"Ladda upp bilder som kommer att visas nr dina sidor delas p sociala medier."}),u.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"20px"},children:Object.entries(H).map(([Q,ue])=>u.jsxs("div",{style:{border:"1px solid #ddd",borderRadius:"8px",padding:"15px",backgroundColor:"white",boxShadow:"0 2px 4px rgba(0,0,0,0.05)"},children:[u.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:u.jsx("h3",{className:"font_blue fonts_medium",style:{fontSize:"16px"},children:Q})}),u.jsx("div",{style:{marginBottom:"15px"},children:C===Q&&b?u.jsx("img",{src:b,alt:"Preview",style:{width:"100%",height:"200px",objectFit:"cover",borderRadius:"4px",border:"1px solid #eee"}}):u.jsx("img",{src:typeof ue=="string"?ue:"/images/Aim_Challenge_logo_white.svg",alt:Q,style:{width:"100%",height:"200px",objectFit:"cover",borderRadius:"4px",border:"1px solid #eee"}})}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:`image-upload-${Q}`,style:{display:"block",width:"100%",padding:"8px",backgroundColor:"#0984e3",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",textAlign:"center"},children:C===Q?"Laddar upp...":"Byt bild"}),u.jsx("input",{id:`image-upload-${Q}`,type:"file",accept:"image/*",onChange:ve=>X(ve,Q),style:{display:"none"},disabled:C!==null})]})]},Q))})]})]})},KD=()=>{const{textContent:s,resetAllContent:e,removeContentItem:t,isAdmin:i}=mt(),{isAuthenticated:l}=ys(),[c,h]=k.useState(!1),[m,p]=k.useState(null),[y,v]=k.useState("seo"),[w,N]=k.useState("all"),[O,L]=k.useState([]),[B,V]=k.useState([]),[z,H]=k.useState(!0),F=Ar();k.useEffect(()=>{if(!l||!i){F("/");return}(async()=>{H(!0);try{await Promise.all([Z(),oe()])}catch(b){console.error("Error loading content data:",b)}finally{H(!1)}})()},[l,i,F]);const Z=async()=>{try{const T=nn(We,"faqs"),b=await Ln(T),S=[];return b.forEach(j=>{const A=j.data();S.push({id:j.id,...A})}),L(S),S}catch(T){return console.error("Error loading FAQ items:",T),[]}},oe=async()=>{try{const T=nn(We,"backgroundSettings"),b=await Ln(T),S=[];return b.forEach(j=>{const A=j.data();S.push({id:j.id,...A})}),V(S),S}catch(T){return console.error("Error loading background settings:",T),[]}};if(!l||!i)return null;const D=(()=>{const T={text:{},image:{},background:{},faq:{},backgroundSettings:{}};return Object.entries(s).forEach(([b,S])=>{typeof S=="string"&&(S.startsWith("data:image")||S.startsWith("http")||S.startsWith("/")?b.includes("-bg")||b.includes("background")?T.background[b]=S:T.image[b]=S:T.text[b]=S)}),O.forEach(b=>{T.faq[b.id]={question:b.question,answer:b.answer,category:b.category}}),B.forEach(b=>{T.backgroundSettings[b.id]={elementId:b.elementId,imageUrl:b.imageUrl,type:b.type}}),T})();return w==="all"?{...s,...Object.fromEntries(O.map(T=>[`faq-${T.id}`,`FAQ: ${T.question.substring(0,30)}...`])),...Object.fromEntries(B.map(T=>[`bg-${T.id}`,T.imageUrl]))}:D[w]||{},u.jsxs("div",{className:"flex flex_col",style:{minHeight:"100vh"},children:[u.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",children:u.jsx("div",{className:"trans-background page_01box flex flex_col flex_j_SA",children:u.jsx("div",{className:"om-oss-title flex flex_j_C flex_a_C"})})}),u.jsx("div",{style:{padding:"30px 0 10px",maxWidth:"1200px",margin:"0 auto",width:"100%",textAlign:"center"},children:u.jsx("h1",{className:"font_blue fonts_huge",children:"Innehllshanterare"})}),u.jsx("div",{style:{padding:"20px 40px 0",maxWidth:"1200px",margin:"0 auto",width:"100%",display:"flex",gap:"20px",borderBottom:"2px solid #eee"},children:u.jsx("button",{style:{padding:"14px 24px",backgroundColor:"#2d4f60",color:"white",border:"none",borderRadius:"4px 4px 0 0",cursor:"default",fontSize:"16px",fontWeight:"bold",position:"relative",bottom:"-2px",borderBottom:"2px solid #2d4f60"},children:"SEO&Meta"})}),u.jsx("div",{style:{padding:"40px",maxWidth:"1200px",margin:"0 auto",overflow:"hidden"},children:u.jsx(qD,{})})]})},FD=({children:s,requireAdmin:e=!1})=>{const{isAuthenticated:t,currentUser:i}=ys();return t?e&&(i==null?void 0:i.role)!=="admin"?u.jsx($v,{to:"/"}):s:u.jsx($v,{to:"/login"})},GD=k.createContext(),$D=({children:s})=>{const[e,t]=k.useState(()=>{const c=localStorage.getItem("preferredLanguage");return c&&Object.values(pr).includes(c)?c:Lb});k.useEffect(()=>{localStorage.setItem("preferredLanguage",e)},[e]);const l={currentLanguage:e,changeLanguage:c=>Object.values(pr).includes(c)?(t(c),!0):!1,LANGUAGES:pr};return u.jsx(GD.Provider,{value:l,children:s})},QD=()=>{const[s,e]=k.useState(!1),[t,i]=k.useState(null),[l,c]=k.useState([]),[h,m]=k.useState({imageUrl:"",link:""}),[p,y]=k.useState([]),[v,w]=k.useState(!1),{isAdmin:N}=mt(),O=k.useRef(null),L=k.useRef(null),B=nn(We,"ads"),V=An();k.useEffect(()=>{F()},[]),k.useEffect(()=>{const b=document.querySelectorAll(".ad-editable"),S=j=>{N&&(e(!0),i(j.currentTarget))};return b.forEach(j=>{j.removeEventListener("click",S),j.addEventListener("click",S),N&&j.classList.add("admin-editable")}),()=>{b.forEach(j=>{j.removeEventListener("click",S),N&&j.classList.remove("admin-editable")})}},[N]),k.useEffect(()=>{F();const b=setInterval(()=>{console.log("Refreshing ads from database"),F()},5*60*1e3);return()=>{clearInterval(b)}},[]),k.useEffect(()=>{console.log("Route changed, reloading ads");const b=setTimeout(()=>{F()},500);return()=>clearTimeout(b)},[V.pathname]),k.useEffect(()=>(document.addEventListener("mousedown",H),()=>{document.removeEventListener("mousedown",H)}),[]);const z=()=>{e(!1),i(null),m({imageUrl:"",link:""})},H=b=>{L.current&&!L.current.contains(b.target)&&z()},F=async()=>{try{console.log("Loading ads from Firestore");const S=(await Ln(B)).docs.map(j=>({id:j.id,...j.data()}));c(S),setTimeout(()=>{Z(S)},300)}catch(b){console.error("Error loading ads:",b)}},Z=b=>{const S=document.querySelectorAll(".ad-container"),j=b.filter(A=>A.imageUrl);if(S.forEach(A=>{console.log("Clearing container:",A.id||"unnamed"),A.querySelectorAll(".ad-item").forEach(X=>{console.log("Removing existing ad item"),X.remove()});const ne=A.getAttribute("data-ad-interval");ne&&(clearInterval(Number(ne)),A.removeAttribute("data-ad-interval"))}),j.length===0){console.log("No valid ads to display, all ads cleared");return}S.forEach(A=>{A.querySelectorAll(".ad-item").forEach(M=>{M.remove()});let ne=A.querySelector(".ad-content");if(ne){let M=ne.querySelector(".ad-carousel");if(!M)M=document.createElement("div"),M.className="ad-carousel",ne.appendChild(M);else for(;M.firstChild;)M.removeChild(M.firstChild)}else{ne=document.createElement("div"),ne.className="ad-content";const M=document.createElement("div");M.textContent="ANNONS",M.className="annons-text",ne.appendChild(M),A.appendChild(ne)}const X=ne.querySelector(".ad-carousel");j.forEach((M,ae)=>{const me=document.createElement("div");me.className=ae===0?"ad-item active":"ad-item",me.setAttribute("data-ad-id",M.id||"unknown"),me.style.display=ae===0?"block":"none";const fe=document.createElement("img");fe.src=M.imageUrl,fe.alt="Advertisement",me.appendChild(fe),M.link&&!N&&(me.onclick=ge=>{ge.preventDefault();let Ae=M.link;if(Ae.includes("localhost")||Ae.startsWith("/")){const Re=Ae.match(/(?:https?:\/\/)?(?:localhost:[0-9]+\/)?([^\s]+)/);Re&&Re[1]&&(Ae=Re[1])}!Ae.startsWith("http://")&&!Ae.startsWith("https://")&&(Ae="https://"+Ae),window.open(Ae,"_blank","noopener,noreferrer")},me.style.cursor="pointer"),console.log("Adding ad with image:",M.imageUrl),X.appendChild(me)});let Q=0;const ve=setInterval(()=>{const M=X.querySelectorAll(".ad-item");M.length<=1||(M[Q].classList.remove("active"),setTimeout(()=>{M[Q].style.display="none",Q=(Q+1)%M.length,M[Q].style.display="block",M[Q].offsetHeight,setTimeout(()=>{M[Q].classList.add("active")},50)},800))},8e3);A.setAttribute("data-ad-interval",ve)})};k.useEffect(()=>()=>{document.querySelectorAll(".ad-container").forEach(S=>{const j=S.getAttribute("data-ad-interval");j&&clearInterval(Number(j))})},[]);const oe=b=>{if(b.target.files[0]){const S=b.target.files[0];de(S)}},de=async b=>{if(b){w(!0);try{const S=Date.now(),j=b.name?b.name.split(".").pop():"jpg",A=`ad_${S}.${j}`,Y=hs(ms,`gs://aimchallange-67039.firebasestorage.app/background-images/${A}`);console.log("Uploading ad image with new filename:",A),await zl(Y,b);const ne=await ql(Y);m(X=>({...X,imageUrl:ne})),y([...p,{url:ne,name:A}])}catch{}finally{w(!1)}}},D=async()=>{if(h.imageUrl)try{const b=ot(B);await ds(b,{imageUrl:h.imageUrl,link:h.link,createdAt:new Date}),c([...l,{id:b.id,...h}]),m({imageUrl:"",link:""}),F()}catch(b){console.error("Error adding ad:",b)}},C=async b=>{try{if(b<0||b>=l.length)return;const S=l[b];if(!S||!S.id)return;const j=ot(B,S.id),A=await Di(j);if(A.exists()){const Y=A.data();if(console.log("Found ad document:",Y),Y.imageUrl)try{const X=T(Y.imageUrl);if(X){const Q=hs(ms,`gs://aimchallange-67039.firebasestorage.app/background-images/${X}`);await Dc(Q)}}catch{}await jc(j);const ne=[...l];ne.splice(b,1),c(ne),setTimeout(()=>{Z(ne)},100)}}catch{}},T=b=>{if(!b)return null;try{if(b.includes("firebasestorage.googleapis.com")){const A=b.match(/%2F([^?]+)/g);if(A&&A.length>0)return A[A.length-1].replace("%2F","").split("?")[0]}if(b.includes("ad_")){const A=/ad_[0-9]+\.[a-zA-Z]+/,Y=b.match(A);if(Y&&Y.length>0)return Y[0]}const S=b.split("/");return S[S.length-1].split("?")[0]}catch{return null}};return N?u.jsx(u.Fragment,{children:s&&u.jsx("div",{className:"background-editor-overlay",onClick:H,children:u.jsxs("div",{className:"background-editor-modal",ref:L,children:[u.jsxs("div",{className:"background-editor-modal__header",children:[u.jsx("h2",{className:"background-editor-modal__title",children:"Edit Ads"}),u.jsx("button",{className:"background-editor-modal__close",onClick:z,children:""})]}),u.jsxs("div",{className:"background-editor-modal__body",children:[u.jsx("h3",{className:"background-editor-modal__subtitle",children:"Current Ads"}),u.jsx("div",{className:"background-editor-modal__ad-list",children:l.length>0?l.map((b,S)=>u.jsxs("div",{className:"background-editor-modal__ad-item",children:[u.jsx("img",{src:b.imageUrl,alt:`Ad ${S+1}`,className:"background-editor-modal__ad-image"}),u.jsxs("div",{className:"background-editor-modal__ad-details",children:[u.jsx("p",{className:"background-editor-modal__ad-link",children:b.link?u.jsx("a",{href:b.link,target:"_blank",rel:"noopener noreferrer",children:b.link}):"No link"}),u.jsx("button",{onClick:()=>C(S),className:"background-editor-modal__button background-editor-modal__button--secondary",children:"Remove"})]})]},S)):u.jsx("p",{className:"background-editor-modal__empty-message",children:"No ads added yet."})}),u.jsx("h3",{className:"background-editor-modal__subtitle",children:"Add New Ad"}),u.jsxs("div",{className:"background-editor-modal__form",children:[u.jsxs("div",{className:"background-editor-modal__form-group",children:[u.jsx("label",{className:"background-editor-modal__label",children:"Image:"}),u.jsxs("div",{className:"background-editor-modal__image-upload",onClick:()=>O.current.click(),children:[h.imageUrl?u.jsx("div",{className:"background-editor-modal__image-preview-container",children:u.jsx("img",{src:h.imageUrl,alt:"Preview",className:"background-editor-modal__image-preview"})}):u.jsx("div",{className:"background-editor-modal__image-placeholder",children:"Click to upload an image"}),u.jsx("input",{type:"file",accept:"image/*",onChange:oe,ref:O,className:"background-editor-modal__file-input",style:{display:"none"}})]}),v&&u.jsx("p",{className:"background-editor-modal__upload-status",children:"Uploading..."})]}),u.jsxs("div",{className:"background-editor-modal__form-group",children:[u.jsx("label",{className:"background-editor-modal__label",children:"Link (optional):"}),u.jsx("input",{type:"text",value:h.link,onChange:b=>m(S=>({...S,link:b.target.value})),placeholder:"https://example.com",className:"background-editor-modal__input"})]})]}),u.jsxs("div",{className:"background-editor-modal__footer",children:[u.jsx("button",{className:"background-editor-modal__button background-editor-modal__button--secondary",onClick:z,children:"Close"}),u.jsx("button",{className:"background-editor-modal__button background-editor-modal__button--primary",onClick:D,disabled:!h.imageUrl||v,children:"Add Ad"})]})]})]})})}):null},YD=()=>u.jsx("div",{className:"background-container",children:u.jsx("img",{src:"/backgrounds/Hjdkurvor.svg",alt:"Background"})}),WD=()=>{const s=An(),{textContent:e,currentLanguage:t,LANGUAGES:i}=mt(),l=s.pathname;return k.useEffect(()=>{let c="home";l.includes("/om-oss")?c="om-oss":l.includes("/regler")?c="regler":l.includes("/senaste-nytt")?c="senaste-nytt":l.includes("/ulricehamn")?c="ulricehamn":l.includes("/hemsedal")?c="hemsedal":l.includes("/salen")?c="salen":l.includes("/kolmarden")?c="kolmarden":l.includes("/historien-om-aim")?c="historien-om-aim":l.includes("/faq")?c="faq":l.includes("/results")&&(c="results");const h=b=>{const S=e[b];return S&&typeof S=="object"&&S._isMultilingual?S[t]||S[i.SWEDISH]||"":S||""},m=`meta-title-${c}`,p=h(m);p?document.title=p:c!=="home"?document.title=`${c.charAt(0).toUpperCase()+c.slice(1).replace(/-/g," ")} - Aim Challenge`:document.title="Aim Challenge";const y=`meta-description-${c}`;let v=document.querySelector('meta[name="description"]');v||(v=document.createElement("meta"),v.name="description",document.head.appendChild(v));const w=h(y);w?v.content=w:v.content="Aim Challenge - A premier archery competition series";const N=`meta-keywords-${c}`;let O=document.querySelector('meta[name="keywords"]');O||(O=document.createElement("meta"),O.name="keywords",document.head.appendChild(O));const L=h(N);L?O.content=L:O.content="archery, competition, aim challenge, bow, arrow";const B=`og-image-${c}`;let V=document.querySelector('meta[property="og:title"]');V||(V=document.createElement("meta"),V.setAttribute("property","og:title"),document.head.appendChild(V)),V.content=document.title;let z=document.querySelector('meta[property="og:description"]');z||(z=document.createElement("meta"),z.setAttribute("property","og:description"),document.head.appendChild(z)),z.content=v.content;let H=document.querySelector('meta[property="og:url"]');H||(H=document.createElement("meta"),H.setAttribute("property","og:url"),document.head.appendChild(H)),H.content=window.location.href;let F=document.querySelector('meta[property="og:type"]');F||(F=document.createElement("meta"),F.setAttribute("property","og:type"),document.head.appendChild(F)),F.content="website";let Z=document.querySelector('meta[property="og:image"]');Z||(Z=document.createElement("meta"),Z.setAttribute("property","og:image"),document.head.appendChild(Z));const oe=h(B);oe?oe.startsWith("/")?Z.content=`${window.location.origin}${oe}`:Z.content=oe:Z.content=`${window.location.origin}/images/logos/Aim_Challenge_logo_white.svg`;let de=document.querySelector('meta[name="twitter:card"]');de||(de=document.createElement("meta"),de.name="twitter:card",document.head.appendChild(de)),de.content="summary_large_image";let D=document.querySelector('meta[name="twitter:title"]');D||(D=document.createElement("meta"),D.name="twitter:title",document.head.appendChild(D)),D.content=document.title;let C=document.querySelector('meta[name="twitter:description"]');C||(C=document.createElement("meta"),C.name="twitter:description",document.head.appendChild(C)),C.content=v.content;let T=document.querySelector('meta[name="twitter:image"]');T||(T=document.createElement("meta"),T.name="twitter:image",document.head.appendChild(T)),T.content=Z.content},[l,e]),null},XD=async(s,e,t="Admin")=>{try{const l=(await Fj(Cd,s,e)).user;return await Qj(l,{displayName:t}),await ds(ot(We,"users",l.uid),{email:s,displayName:t,role:"admin",createdAt:new Date}),{success:!0,user:{uid:l.uid,email:l.email,displayName:t,role:"admin"}}}catch(i){return console.error("Error creating admin user:",i),{success:!1,error:i.message}}},ZD=async()=>{try{(await Di(ot(We,"settings","admin"))).exists()||(await XD("admin@example.com","password123")).success&&(await ds(ot(We,"settings","admin"),{initialized:!0,adminEmail:"admin@example.com",createdAt:new Date}),console.log("Admin user initialized successfully"))}catch(s){console.error("Error initializing admin user:",s)}},JD=()=>{const{pathname:s}=An();return k.useEffect(()=>{window.scrollTo(0,0)},[s]),null},eO=()=>(k.useEffect(()=>{ZD().then(()=>console.log("Admin user initialized")).catch(s=>console.error("Error initializing admin user:",s))},[]),u.jsx(hD,{children:u.jsx($D,{children:u.jsx(gD,{children:u.jsxs(Ow,{children:[u.jsx(JD,{}),u.jsx(WD,{}),u.jsxs("div",{className:"flex flex_col MaxWH location",style:{width:"100%",maxWidth:"100%",overflow:"hidden",margin:0,padding:0,display:"flex",flexDirection:"column",position:"relative"},children:[u.jsx(YD,{}),u.jsx(pD,{}),u.jsx(Ks,{}),u.jsx(QD,{}),u.jsx("div",{style:{margin:0,padding:0,width:"100%",position:"relative",top:0},children:u.jsxs(uw,{children:[u.jsx(Pt,{path:"/",element:u.jsx(_D,{})}),u.jsx(Pt,{path:"/competitions",element:u.jsx(vD,{})}),u.jsx(Pt,{path:"/ulricehamn",element:u.jsx(xD,{})}),u.jsx(Pt,{path:"/salen",element:u.jsx(ED,{})}),u.jsx(Pt,{path:"/hemsedal",element:u.jsx(TD,{})}),u.jsx(Pt,{path:"/kolmarden",element:u.jsx(bD,{})}),u.jsx(Pt,{path:"/trippeln",element:u.jsx(AD,{})}),u.jsx(Pt,{path:"/results",element:u.jsx(kD,{})}),u.jsx(Pt,{path:"/gallery",element:u.jsxs(u.Fragment,{children:[u.jsx(CD,{}),u.jsx(ID,{})]})}),u.jsx(Pt,{path:"/om-oss",element:u.jsx(jD,{})}),u.jsx(Pt,{path:"/regler",element:u.jsx(OD,{})}),u.jsx(Pt,{path:"/faq",element:u.jsx(PD,{})}),u.jsx(Pt,{path:"/historien-om-aim",element:u.jsx(UD,{})}),u.jsx(Pt,{path:"/senaste-nytt",element:u.jsx(HD,{})}),u.jsx(Pt,{path:"/news/:id",element:u.jsx(zD,{})}),u.jsx(Pt,{path:"/login",element:u.jsx(kE,{})}),u.jsx(Pt,{path:"login",element:u.jsx(kE,{})}),u.jsx(Pt,{path:"/content-manager",element:u.jsx(FD,{requireAdmin:!0,children:u.jsx(KD,{})})})]})}),u.jsx(yD,{})]})]})})})}));(function(){const s=sessionStorage.redirect;delete sessionStorage.redirect,s&&s!==location.href&&history.replaceState(null,null,s)})();const tO=document.getElementById("root");_S.createRoot(tO).render(u.jsx(dS.StrictMode,{children:u.jsx(eO,{})}));
//# sourceMappingURL=index-CePAMEqb.js.map
