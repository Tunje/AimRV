(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();function hg(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var mm={exports:{}},Ho={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bv;function WA(){if(bv)return Ho;bv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:c}}return Ho.Fragment=e,Ho.jsx=n,Ho.jsxs=n,Ho}var Av;function ZA(){return Av||(Av=1,mm.exports=WA()),mm.exports}var u=ZA(),gm={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wv;function JA(){if(wv)return Ce;wv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.iterator;function w(D){return D===null||typeof D!="object"?null:(D=b&&D[b]||D["@@iterator"],typeof D=="function"?D:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,K={};function M(D,ie,me){this.props=D,this.context=ie,this.refs=K,this.updater=me||j}M.prototype.isReactComponent={},M.prototype.setState=function(D,ie){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,ie,"setState")},M.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function H(){}H.prototype=M.prototype;function G(D,ie,me){this.props=D,this.context=ie,this.refs=K,this.updater=me||j}var $=G.prototype=new H;$.constructor=G,O($,M.prototype),$.isPureReactComponent=!0;var ee=Array.isArray,J={H:null,A:null,T:null,S:null},re=Object.prototype.hasOwnProperty;function V(D,ie,me,ue,he,Ie){return me=Ie.ref,{$$typeof:s,type:D,key:ie,ref:me!==void 0?me:null,props:Ie}}function N(D,ie){return V(D.type,ie,void 0,void 0,void 0,D.props)}function S(D){return typeof D=="object"&&D!==null&&D.$$typeof===s}function k(D){var ie={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(me){return ie[me]})}var R=/\/+/g;function L(D,ie){return typeof D=="object"&&D!==null&&D.key!=null?k(""+D.key):ie.toString(36)}function I(){}function je(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(I,I):(D.status="pending",D.then(function(ie){D.status==="pending"&&(D.status="fulfilled",D.value=ie)},function(ie){D.status==="pending"&&(D.status="rejected",D.reason=ie)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function Ae(D,ie,me,ue,he){var Ie=typeof D;(Ie==="undefined"||Ie==="boolean")&&(D=null);var Se=!1;if(D===null)Se=!0;else switch(Ie){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(D.$$typeof){case s:case e:Se=!0;break;case E:return Se=D._init,Ae(Se(D._payload),ie,me,ue,he)}}if(Se)return he=he(D),Se=ue===""?"."+L(D,0):ue,ee(he)?(me="",Se!=null&&(me=Se.replace(R,"$&/")+"/"),Ae(he,ie,me,"",function(ct){return ct})):he!=null&&(S(he)&&(he=N(he,me+(he.key==null||D&&D.key===he.key?"":(""+he.key).replace(R,"$&/")+"/")+Se)),ie.push(he)),1;Se=0;var vt=ue===""?".":ue+":";if(ee(D))for(var qe=0;qe<D.length;qe++)ue=D[qe],Ie=vt+L(ue,qe),Se+=Ae(ue,ie,me,Ie,he);else if(qe=w(D),typeof qe=="function")for(D=qe.call(D),qe=0;!(ue=D.next()).done;)ue=ue.value,Ie=vt+L(ue,qe++),Se+=Ae(ue,ie,me,Ie,he);else if(Ie==="object"){if(typeof D.then=="function")return Ae(je(D),ie,me,ue,he);throw ie=String(D),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return Se}function le(D,ie,me){if(D==null)return D;var ue=[],he=0;return Ae(D,ue,"","",function(Ie){return ie.call(me,Ie,he++)}),ue}function ve(D){if(D._status===-1){var ie=D._result;ie=ie(),ie.then(function(me){(D._status===0||D._status===-1)&&(D._status=1,D._result=me)},function(me){(D._status===0||D._status===-1)&&(D._status=2,D._result=me)}),D._status===-1&&(D._status=0,D._result=ie)}if(D._status===1)return D._result.default;throw D._result}var ce=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function ke(){}return Ce.Children={map:le,forEach:function(D,ie,me){le(D,function(){ie.apply(this,arguments)},me)},count:function(D){var ie=0;return le(D,function(){ie++}),ie},toArray:function(D){return le(D,function(ie){return ie})||[]},only:function(D){if(!S(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Ce.Component=M,Ce.Fragment=n,Ce.Profiler=l,Ce.PureComponent=G,Ce.StrictMode=a,Ce.Suspense=p,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,Ce.act=function(){throw Error("act(...) is not supported in production builds of React.")},Ce.cache=function(D){return function(){return D.apply(null,arguments)}},Ce.cloneElement=function(D,ie,me){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var ue=O({},D.props),he=D.key,Ie=void 0;if(ie!=null)for(Se in ie.ref!==void 0&&(Ie=void 0),ie.key!==void 0&&(he=""+ie.key),ie)!re.call(ie,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&ie.ref===void 0||(ue[Se]=ie[Se]);var Se=arguments.length-2;if(Se===1)ue.children=me;else if(1<Se){for(var vt=Array(Se),qe=0;qe<Se;qe++)vt[qe]=arguments[qe+2];ue.children=vt}return V(D.type,he,void 0,void 0,Ie,ue)},Ce.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:c,_context:D},D},Ce.createElement=function(D,ie,me){var ue,he={},Ie=null;if(ie!=null)for(ue in ie.key!==void 0&&(Ie=""+ie.key),ie)re.call(ie,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(he[ue]=ie[ue]);var Se=arguments.length-2;if(Se===1)he.children=me;else if(1<Se){for(var vt=Array(Se),qe=0;qe<Se;qe++)vt[qe]=arguments[qe+2];he.children=vt}if(D&&D.defaultProps)for(ue in Se=D.defaultProps,Se)he[ue]===void 0&&(he[ue]=Se[ue]);return V(D,Ie,void 0,void 0,null,he)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(D){return{$$typeof:g,render:D}},Ce.isValidElement=S,Ce.lazy=function(D){return{$$typeof:E,_payload:{_status:-1,_result:D},_init:ve}},Ce.memo=function(D,ie){return{$$typeof:y,type:D,compare:ie===void 0?null:ie}},Ce.startTransition=function(D){var ie=J.T,me={};J.T=me;try{var ue=D(),he=J.S;he!==null&&he(me,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(ke,ce)}catch(Ie){ce(Ie)}finally{J.T=ie}},Ce.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},Ce.use=function(D){return J.H.use(D)},Ce.useActionState=function(D,ie,me){return J.H.useActionState(D,ie,me)},Ce.useCallback=function(D,ie){return J.H.useCallback(D,ie)},Ce.useContext=function(D){return J.H.useContext(D)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(D,ie){return J.H.useDeferredValue(D,ie)},Ce.useEffect=function(D,ie){return J.H.useEffect(D,ie)},Ce.useId=function(){return J.H.useId()},Ce.useImperativeHandle=function(D,ie,me){return J.H.useImperativeHandle(D,ie,me)},Ce.useInsertionEffect=function(D,ie){return J.H.useInsertionEffect(D,ie)},Ce.useLayoutEffect=function(D,ie){return J.H.useLayoutEffect(D,ie)},Ce.useMemo=function(D,ie){return J.H.useMemo(D,ie)},Ce.useOptimistic=function(D,ie){return J.H.useOptimistic(D,ie)},Ce.useReducer=function(D,ie,me){return J.H.useReducer(D,ie,me)},Ce.useRef=function(D){return J.H.useRef(D)},Ce.useState=function(D){return J.H.useState(D)},Ce.useSyncExternalStore=function(D,ie,me){return J.H.useSyncExternalStore(D,ie,me)},Ce.useTransition=function(){return J.H.useTransition()},Ce.version="19.0.0",Ce}var Sv;function dg(){return Sv||(Sv=1,gm.exports=JA()),gm.exports}var P=dg();const ew=hg(P);var pm={exports:{}},zo={},ym={exports:{}},_m={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nv;function tw(){return Nv||(Nv=1,function(s){function e(le,ve){var ce=le.length;le.push(ve);e:for(;0<ce;){var ke=ce-1>>>1,D=le[ke];if(0<l(D,ve))le[ke]=ve,le[ce]=D,ce=ke;else break e}}function n(le){return le.length===0?null:le[0]}function a(le){if(le.length===0)return null;var ve=le[0],ce=le.pop();if(ce!==ve){le[0]=ce;e:for(var ke=0,D=le.length,ie=D>>>1;ke<ie;){var me=2*(ke+1)-1,ue=le[me],he=me+1,Ie=le[he];if(0>l(ue,ce))he<D&&0>l(Ie,ue)?(le[ke]=Ie,le[he]=ce,ke=he):(le[ke]=ue,le[me]=ce,ke=me);else if(he<D&&0>l(Ie,ce))le[ke]=Ie,le[he]=ce,ke=he;else break e}}return ve}function l(le,ve){var ce=le.sortIndex-ve.sortIndex;return ce!==0?ce:le.id-ve.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var p=[],y=[],E=1,b=null,w=3,j=!1,O=!1,K=!1,M=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function $(le){for(var ve=n(y);ve!==null;){if(ve.callback===null)a(y);else if(ve.startTime<=le)a(y),ve.sortIndex=ve.expirationTime,e(p,ve);else break;ve=n(y)}}function ee(le){if(K=!1,$(le),!O)if(n(p)!==null)O=!0,je();else{var ve=n(y);ve!==null&&Ae(ee,ve.startTime-le)}}var J=!1,re=-1,V=5,N=-1;function S(){return!(s.unstable_now()-N<V)}function k(){if(J){var le=s.unstable_now();N=le;var ve=!0;try{e:{O=!1,K&&(K=!1,H(re),re=-1),j=!0;var ce=w;try{t:{for($(le),b=n(p);b!==null&&!(b.expirationTime>le&&S());){var ke=b.callback;if(typeof ke=="function"){b.callback=null,w=b.priorityLevel;var D=ke(b.expirationTime<=le);if(le=s.unstable_now(),typeof D=="function"){b.callback=D,$(le),ve=!0;break t}b===n(p)&&a(p),$(le)}else a(p);b=n(p)}if(b!==null)ve=!0;else{var ie=n(y);ie!==null&&Ae(ee,ie.startTime-le),ve=!1}}break e}finally{b=null,w=ce,j=!1}ve=void 0}}finally{ve?R():J=!1}}}var R;if(typeof G=="function")R=function(){G(k)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,I=L.port2;L.port1.onmessage=k,R=function(){I.postMessage(null)}}else R=function(){M(k,0)};function je(){J||(J=!0,R())}function Ae(le,ve){re=M(function(){le(s.unstable_now())},ve)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(le){le.callback=null},s.unstable_continueExecution=function(){O||j||(O=!0,je())},s.unstable_forceFrameRate=function(le){0>le||125<le?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<le?Math.floor(1e3/le):5},s.unstable_getCurrentPriorityLevel=function(){return w},s.unstable_getFirstCallbackNode=function(){return n(p)},s.unstable_next=function(le){switch(w){case 1:case 2:case 3:var ve=3;break;default:ve=w}var ce=w;w=ve;try{return le()}finally{w=ce}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(le,ve){switch(le){case 1:case 2:case 3:case 4:case 5:break;default:le=3}var ce=w;w=le;try{return ve()}finally{w=ce}},s.unstable_scheduleCallback=function(le,ve,ce){var ke=s.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?ke+ce:ke):ce=ke,le){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=ce+D,le={id:E++,callback:ve,priorityLevel:le,startTime:ce,expirationTime:D,sortIndex:-1},ce>ke?(le.sortIndex=ce,e(y,le),n(p)===null&&le===n(y)&&(K?(H(re),re=-1):K=!0,Ae(ee,ce-ke))):(le.sortIndex=D,e(p,le),O||j||(O=!0,je())),le},s.unstable_shouldYield=S,s.unstable_wrapCallback=function(le){var ve=w;return function(){var ce=w;w=ve;try{return le.apply(this,arguments)}finally{w=ce}}}}(_m)),_m}var Rv;function nw(){return Rv||(Rv=1,ym.exports=tw()),ym.exports}var vm={exports:{}},Zt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kv;function sw(){if(kv)return Zt;kv=1;var s=dg();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(p,y,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:p,containerInfo:y,implementation:E}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Zt.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(p,y,null,E)},Zt.flushSync=function(p){var y=d.T,E=a.p;try{if(d.T=null,a.p=2,p)return p()}finally{d.T=y,a.p=E,a.d.f()}},Zt.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(p,y))},Zt.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},Zt.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,b=g(E,y.crossOrigin),w=typeof y.integrity=="string"?y.integrity:void 0,j=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?a.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:j}):E==="script"&&a.d.X(p,{crossOrigin:b,integrity:w,fetchPriority:j,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Zt.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=g(y.as,y.crossOrigin);a.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(p)},Zt.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,b=g(E,y.crossOrigin);a.d.L(p,E,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Zt.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=g(y.as,y.crossOrigin);a.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(p)},Zt.requestFormReset=function(p){a.d.r(p)},Zt.unstable_batchedUpdates=function(p,y){return p(y)},Zt.useFormState=function(p,y,E){return d.H.useFormState(p,y,E)},Zt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Zt.version="19.0.0",Zt}var Iv;function vx(){if(Iv)return vm.exports;Iv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),vm.exports=sw(),vm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cv;function iw(){if(Cv)return zo;Cv=1;var s=nw(),e=dg(),n=vx();function a(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)i+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var c=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),j=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),$=Symbol.for("react.offscreen"),ee=Symbol.for("react.memo_cache_sentinel"),J=Symbol.iterator;function re(t){return t===null||typeof t!="object"?null:(t=J&&t[J]||t["@@iterator"],typeof t=="function"?t:null)}var V=Symbol.for("react.client.reference");function N(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===V?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case p:return"Fragment";case g:return"Portal";case E:return"Profiler";case y:return"StrictMode";case K:return"Suspense";case M:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case j:return(t.displayName||"Context")+".Provider";case w:return(t._context.displayName||"Context")+".Consumer";case O:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case H:return i=t.displayName||null,i!==null?i:N(t.type)||"Memo";case G:i=t._payload,t=t._init;try{return N(t(i))}catch{}}return null}var S=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,k=Object.assign,R,L;function I(t){if(R===void 0)try{throw Error()}catch(r){var i=r.stack.trim().match(/\n( *(at )?)/);R=i&&i[1]||"",L=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+R+t+L}var je=!1;function Ae(t,i){if(!t||je)return"";je=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(W){var Y=W}Reflect.construct(t,[],ae)}else{try{ae.call()}catch(W){Y=W}t.call(ae.prototype)}}else{try{throw Error()}catch(W){Y=W}(ae=t())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(W){if(W&&Y&&typeof W.stack=="string")return[W.stack,Y.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=o.DetermineComponentFrameRoot(),x=m[0],T=m[1];if(x&&T){var C=x.split(`
`),B=T.split(`
`);for(f=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;f<B.length&&!B[f].includes("DetermineComponentFrameRoot");)f++;if(o===C.length||f===B.length)for(o=C.length-1,f=B.length-1;1<=o&&0<=f&&C[o]!==B[f];)f--;for(;1<=o&&0<=f;o--,f--)if(C[o]!==B[f]){if(o!==1||f!==1)do if(o--,f--,0>f||C[o]!==B[f]){var Z=`
`+C[o].replace(" at new "," at ");return t.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",t.displayName)),Z}while(1<=o&&0<=f);break}}}finally{je=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?I(r):""}function le(t){switch(t.tag){case 26:case 27:case 5:return I(t.type);case 16:return I("Lazy");case 13:return I("Suspense");case 19:return I("SuspenseList");case 0:case 15:return t=Ae(t.type,!1),t;case 11:return t=Ae(t.type.render,!1),t;case 1:return t=Ae(t.type,!0),t;default:return""}}function ve(t){try{var i="";do i+=le(t),t=t.return;while(t);return i}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function ce(t){var i=t,r=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(r=i.return),t=i.return;while(t)}return i.tag===3?r:null}function ke(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function D(t){if(ce(t)!==t)throw Error(a(188))}function ie(t){var i=t.alternate;if(!i){if(i=ce(t),i===null)throw Error(a(188));return i!==t?null:t}for(var r=t,o=i;;){var f=r.return;if(f===null)break;var m=f.alternate;if(m===null){if(o=f.return,o!==null){r=o;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===r)return D(f),t;if(m===o)return D(f),i;m=m.sibling}throw Error(a(188))}if(r.return!==o.return)r=f,o=m;else{for(var x=!1,T=f.child;T;){if(T===r){x=!0,r=f,o=m;break}if(T===o){x=!0,o=f,r=m;break}T=T.sibling}if(!x){for(T=m.child;T;){if(T===r){x=!0,r=m,o=f;break}if(T===o){x=!0,o=m,r=f;break}T=T.sibling}if(!x)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:i}function me(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=me(t),i!==null)return i;t=t.sibling}return null}var ue=Array.isArray,he=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ie={pending:!1,data:null,method:null,action:null},Se=[],vt=-1;function qe(t){return{current:t}}function ct(t){0>vt||(t.current=Se[vt],Se[vt]=null,vt--)}function Xe(t,i){vt++,Se[vt]=t.current,t.current=i}var sn=qe(null),ks=qe(null),Rn=qe(null),mi=qe(null);function gi(t,i){switch(Xe(Rn,i),Xe(ks,t),Xe(sn,null),t=i.nodeType,t){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?Z_(i):0;break;default:if(t=t===8?i.parentNode:i,i=t.tagName,t=t.namespaceURI)t=Z_(t),i=J_(t,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ct(sn),Xe(sn,i)}function Is(){ct(sn),ct(ks),ct(Rn)}function Ml(t){t.memoizedState!==null&&Xe(mi,t);var i=sn.current,r=J_(i,t.type);i!==r&&(Xe(ks,t),Xe(sn,r))}function yr(t){ks.current===t&&(ct(sn),ct(ks)),mi.current===t&&(ct(mi),Lo._currentValue=Ie)}var _r=Object.prototype.hasOwnProperty,xa=s.unstable_scheduleCallback,vr=s.unstable_cancelCallback,gd=s.unstable_shouldYield,Ll=s.unstable_requestPaint,dn=s.unstable_now,Rc=s.unstable_getCurrentPriorityLevel,wt=s.unstable_ImmediatePriority,Ot=s.unstable_UserBlockingPriority,Cs=s.unstable_NormalPriority,kc=s.unstable_LowPriority,Vl=s.unstable_IdlePriority,pd=s.log,Ea=s.unstable_setDisableYieldValue,pi=null,Xt=null;function Pl(t){if(Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(pi,t,void 0,(t.current.flags&128)===128)}catch{}}function is(t){if(typeof pd=="function"&&Ea(t),Xt&&typeof Xt.setStrictMode=="function")try{Xt.setStrictMode(pi,t)}catch{}}var an=Math.clz32?Math.clz32:Cc,Ul=Math.log,Ic=Math.LN2;function Cc(t){return t>>>=0,t===0?32:31-(Ul(t)/Ic|0)|0}var as=128,yi=4194304;function Gn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function kn(t,i){var r=t.pendingLanes;if(r===0)return 0;var o=0,f=t.suspendedLanes,m=t.pingedLanes,x=t.warmLanes;t=t.finishedLanes!==0;var T=r&134217727;return T!==0?(r=T&~f,r!==0?o=Gn(r):(m&=T,m!==0?o=Gn(m):t||(x=T&~x,x!==0&&(o=Gn(x))))):(T=r&~f,T!==0?o=Gn(T):m!==0?o=Gn(m):t||(x=r&~x,x!==0&&(o=Gn(x)))),o===0?0:i!==0&&i!==o&&(i&f)===0&&(f=o&-o,x=i&-i,f>=x||f===32&&(x&4194176)!==0)?i:o}function _i(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function xr(t,i){switch(t){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bl(){var t=as;return as<<=1,(as&4194176)===0&&(as=128),t}function vi(){var t=yi;return yi<<=1,(yi&62914560)===0&&(yi=4194304),t}function Er(t){for(var i=[],r=0;31>r;r++)i.push(t);return i}function pt(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function jc(t,i,r,o,f,m){var x=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var T=t.entanglements,C=t.expirationTimes,B=t.hiddenUpdates;for(r=x&~r;0<r;){var Z=31-an(r),ae=1<<Z;T[Z]=0,C[Z]=-1;var Y=B[Z];if(Y!==null)for(B[Z]=null,Z=0;Z<Y.length;Z++){var W=Y[Z];W!==null&&(W.lane&=-536870913)}r&=~ae}o!==0&&xi(t,o,0),m!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=m&~(x&~i))}function xi(t,i,r){t.pendingLanes|=i,t.suspendedLanes&=~i;var o=31-an(i);t.entangledLanes|=i,t.entanglements[o]=t.entanglements[o]|1073741824|r&4194218}function Ei(t,i){var r=t.entangledLanes|=i;for(t=t.entanglements;r;){var o=31-an(r),f=1<<o;f&i|t[o]&i&&(t[o]|=i),r&=~f}}function Dc(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Oc(){var t=he.p;return t!==0?t:(t=window.event,t===void 0?32:yv(t.type))}function Ti(t,i){var r=he.p;try{return he.p=t,i()}finally{he.p=r}}var rs=Math.random().toString(36).slice(2),Mt="__reactFiber$"+rs,St="__reactProps$"+rs,js="__reactContainer$"+rs,Ta="__reactEvents$"+rs,Tr="__reactListeners$"+rs,ls="__reactHandles$"+rs,Hl="__reactResources$"+rs,bi="__reactMarker$"+rs;function ba(t){delete t[Mt],delete t[St],delete t[Ta],delete t[Tr],delete t[ls]}function $n(t){var i=t[Mt];if(i)return i;for(var r=t.parentNode;r;){if(i=r[js]||r[Mt]){if(r=i.alternate,i.child!==null||r!==null&&r.child!==null)for(t=nv(t);t!==null;){if(r=t[Mt])return r;t=nv(t)}return i}t=r,r=t.parentNode}return null}function Ds(t){if(t=t[Mt]||t[js]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function Ai(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(a(33))}function wi(t){var i=t[Hl];return i||(i=t[Hl]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function at(t){t[bi]=!0}var zl=new Set,br={};function yn(t,i){fn(t,i),fn(t+"Capture",i)}function fn(t,i){for(br[t]=i,t=0;t<i.length;t++)zl.add(i[t])}var _n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yd=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Kl={},ql={};function Mc(t){return _r.call(ql,t)?!0:_r.call(Kl,t)?!1:yd.test(t)?ql[t]=!0:(Kl[t]=!0,!1)}function Si(t,i,r){if(Mc(i))if(r===null)t.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+r)}}function Ni(t,i,r){if(r===null)t.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+r)}}function In(t,i,r,o){if(o===null)t.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(i,r,""+o)}}function rn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Lc(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function _d(t){var i=Lc(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),o=""+t[i];if(!t.hasOwnProperty(i)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var f=r.get,m=r.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(x){o=""+x,m.call(this,x)}}),Object.defineProperty(t,i,{enumerable:r.enumerable}),{getValue:function(){return o},setValue:function(x){o=""+x},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Aa(t){t._valueTracker||(t._valueTracker=_d(t))}function Fl(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var r=i.getValue(),o="";return t&&(o=Lc(t)?t.checked?"true":"false":t.value),t=o,t!==r?(i.setValue(t),!0):!1}function Ar(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Os=/[\n"\\]/g;function ut(t){return t.replace(Os,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ri(t,i,r,o,f,m,x,T){t.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?t.type=x:t.removeAttribute("type"),i!=null?x==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+rn(i)):t.value!==""+rn(i)&&(t.value=""+rn(i)):x!=="submit"&&x!=="reset"||t.removeAttribute("value"),i!=null?wr(t,x,rn(i)):r!=null?wr(t,x,rn(r)):o!=null&&t.removeAttribute("value"),f==null&&m!=null&&(t.defaultChecked=!!m),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+rn(T):t.removeAttribute("name")}function wa(t,i,r,o,f,m,x,T){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),i!=null||r!=null){if(!(m!=="submit"&&m!=="reset"||i!=null))return;r=r!=null?""+rn(r):"",i=i!=null?""+rn(i):r,T||i===t.value||(t.value=i),t.defaultValue=i}o=o??f,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=T?t.checked:!!o,t.defaultChecked=!!o,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(t.name=x)}function wr(t,i,r){i==="number"&&Ar(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Fe(t,i,r,o){if(t=t.options,i){i={};for(var f=0;f<r.length;f++)i["$"+r[f]]=!0;for(r=0;r<t.length;r++)f=i.hasOwnProperty("$"+t[r].value),t[r].selected!==f&&(t[r].selected=f),f&&o&&(t[r].defaultSelected=!0)}else{for(r=""+rn(r),i=null,f=0;f<t.length;f++){if(t[f].value===r){t[f].selected=!0,o&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function Sa(t,i,r){if(i!=null&&(i=""+rn(i),i!==t.value&&(t.value=i),r==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=r!=null?""+rn(r):""}function ki(t,i,r,o){if(i==null){if(o!=null){if(r!=null)throw Error(a(92));if(ue(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),i=r}r=rn(i),t.defaultValue=r,o=t.textContent,o===r&&o!==""&&o!==null&&(t.value=o)}function Cn(t,i){if(i){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=i;return}}t.textContent=i}var vd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Gl(t,i,r){var o=i.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":o?t.setProperty(i,r):typeof r!="number"||r===0||vd.has(i)?i==="float"?t.cssFloat=r:t[i]=(""+r).trim():t[i]=r+"px"}function Vc(t,i,r){if(i!=null&&typeof i!="object")throw Error(a(62));if(t=t.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var f in i)o=i[f],i.hasOwnProperty(f)&&r[f]!==o&&Gl(t,f,o)}else for(var m in i)i.hasOwnProperty(m)&&Gl(t,m,i[m])}function $l(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ed=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function os(t){return Ed.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var jn=null;function Sr(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ms=null,Ls=null;function Vs(t){var i=Ds(t);if(i&&(t=i.stateNode)){var r=t[St]||null;e:switch(t=i.stateNode,i.type){case"input":if(Ri(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),i=r.name,r.type==="radio"&&i!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+ut(""+i)+'"][type="radio"]'),i=0;i<r.length;i++){var o=r[i];if(o!==t&&o.form===t.form){var f=o[St]||null;if(!f)throw Error(a(90));Ri(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<r.length;i++)o=r[i],o.form===t.form&&Fl(o)}break e;case"textarea":Sa(t,r.value,r.defaultValue);break e;case"select":i=r.value,i!=null&&Fe(t,!!r.multiple,i,!1)}}}var Ql=!1;function Pc(t,i,r){if(Ql)return t(i,r);Ql=!0;try{var o=t(i);return o}finally{if(Ql=!1,(Ms!==null||Ls!==null)&&(ku(),Ms&&(i=Ms,t=Ls,Ls=Ms=null,Vs(i),t)))for(i=0;i<t.length;i++)Vs(t[i])}}function Na(t,i){var r=t.stateNode;if(r===null)return null;var o=r[St]||null;if(o===null)return null;r=o[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,i,typeof r));return r}var Dn=!1;if(_n)try{var Ra={};Object.defineProperty(Ra,"passive",{get:function(){Dn=!0}}),window.addEventListener("test",Ra,Ra),window.removeEventListener("test",Ra,Ra)}catch{Dn=!1}var cs=null,Ii=null,Ps=null;function Yl(){if(Ps)return Ps;var t,i=Ii,r=i.length,o,f="value"in cs?cs.value:cs.textContent,m=f.length;for(t=0;t<r&&i[t]===f[t];t++);var x=r-t;for(o=1;o<=x&&i[r-o]===f[m-o];o++);return Ps=f.slice(t,1<o?1-o:void 0)}function us(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function hs(){return!0}function Xl(){return!1}function Lt(t){function i(r,o,f,m,x){this._reactName=r,this._targetInst=f,this.type=o,this.nativeEvent=m,this.target=x,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(r=t[T],this[T]=r?r(m):m[T]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?hs:Xl,this.isPropagationStopped=Xl,this}return k(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=hs)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=hs)},persist:function(){},isPersistent:hs}),i}var Qe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nr=Lt(Qe),ka=k({},Qe,{view:0,detail:0}),Uc=Lt(ka),Rr,kr,ds,Ia=k({},ka,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Da,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ds&&(ds&&t.type==="mousemove"?(Rr=t.screenX-ds.screenX,kr=t.screenY-ds.screenY):kr=Rr=0,ds=t),Rr)},movementY:function(t){return"movementY"in t?t.movementY:kr}}),On=Lt(Ia),Bc=k({},Ia,{dataTransfer:0}),Td=Lt(Bc),Ca=k({},ka,{relatedTarget:0}),Ir=Lt(Ca),Wl=k({},Qe,{animationName:0,elapsedTime:0,pseudoElement:0}),Cr=Lt(Wl),Hc=k({},Qe,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),jr=Lt(Hc),bd=k({},Qe,{data:0}),Zl=Lt(bd),ja={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jl(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Kc[t])?!!i[t]:!1}function Da(){return Jl}var qc=k({},ka,{key:function(t){if(t.key){var i=ja[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=us(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?zc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Da,charCode:function(t){return t.type==="keypress"?us(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?us(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Dr=Lt(qc),Fc=k({},Ia,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),eo=Lt(Fc),Us=k({},ka,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Da}),Gc=Lt(Us),$c=k({},Qe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qc=Lt($c),Yc=k({},Ia,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Or=Lt(Yc),ln=k({},Qe,{newState:0,oldState:0}),Xc=Lt(ln),Wc=[9,13,27,32],fs=_n&&"CompositionEvent"in window,h=null;_n&&"documentMode"in document&&(h=document.documentMode);var _=_n&&"TextEvent"in window&&!h,v=_n&&(!fs||h&&8<h&&11>=h),A=" ",F=!1;function X(t,i){switch(t){case"keyup":return Wc.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oe(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Be=!1;function Nt(t,i){switch(t){case"compositionend":return oe(i);case"keypress":return i.which!==32?null:(F=!0,A);case"textInput":return t=i.data,t===A&&F?null:t;default:return null}}function He(t,i){if(Be)return t==="compositionend"||!fs&&X(t,i)?(t=Yl(),Ps=Ii=cs=null,Be=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return v&&i.locale!=="ko"?null:i.data;default:return null}}var Vt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rt(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Vt[t.type]:i==="textarea"}function Bs(t,i,r,o){Ms?Ls?Ls.push(o):Ls=[o]:Ms=o,i=Ou(i,"onChange"),0<i.length&&(r=new Nr("onChange","change",null,r,o),t.push({event:r,listeners:i}))}var zt=null,ms=null;function to(t){$_(t,0)}function Zc(t){var i=Ai(t);if(Fl(i))return t}function Tp(t,i){if(t==="change")return i}var bp=!1;if(_n){var Ad;if(_n){var wd="oninput"in document;if(!wd){var Ap=document.createElement("div");Ap.setAttribute("oninput","return;"),wd=typeof Ap.oninput=="function"}Ad=wd}else Ad=!1;bp=Ad&&(!document.documentMode||9<document.documentMode)}function wp(){zt&&(zt.detachEvent("onpropertychange",Sp),ms=zt=null)}function Sp(t){if(t.propertyName==="value"&&Zc(ms)){var i=[];Bs(i,ms,t,Sr(t)),Pc(to,i)}}function Nb(t,i,r){t==="focusin"?(wp(),zt=i,ms=r,zt.attachEvent("onpropertychange",Sp)):t==="focusout"&&wp()}function Rb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Zc(ms)}function kb(t,i){if(t==="click")return Zc(i)}function Ib(t,i){if(t==="input"||t==="change")return Zc(i)}function Cb(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var vn=typeof Object.is=="function"?Object.is:Cb;function no(t,i){if(vn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var r=Object.keys(t),o=Object.keys(i);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var f=r[o];if(!_r.call(i,f)||!vn(t[f],i[f]))return!1}return!0}function Np(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Rp(t,i){var r=Np(t);t=0;for(var o;r;){if(r.nodeType===3){if(o=t+r.textContent.length,t<=i&&o>=i)return{node:r,offset:i-t};t=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Np(r)}}function kp(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?kp(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Ip(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Ar(t.document);i instanceof t.HTMLIFrameElement;){try{var r=typeof i.contentWindow.location.href=="string"}catch{r=!1}if(r)t=i.contentWindow;else break;i=Ar(t.document)}return i}function Sd(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}function jb(t,i){var r=Ip(i);i=t.focusedElem;var o=t.selectionRange;if(r!==i&&i&&i.ownerDocument&&kp(i.ownerDocument.documentElement,i)){if(o!==null&&Sd(i)){if(t=o.start,r=o.end,r===void 0&&(r=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(r,i.value.length);else if(r=(t=i.ownerDocument||document)&&t.defaultView||window,r.getSelection){r=r.getSelection();var f=i.textContent.length,m=Math.min(o.start,f);o=o.end===void 0?m:Math.min(o.end,f),!r.extend&&m>o&&(f=o,o=m,m=f),f=Rp(i,m);var x=Rp(i,o);f&&x&&(r.rangeCount!==1||r.anchorNode!==f.node||r.anchorOffset!==f.offset||r.focusNode!==x.node||r.focusOffset!==x.offset)&&(t=t.createRange(),t.setStart(f.node,f.offset),r.removeAllRanges(),m>o?(r.addRange(t),r.extend(x.node,x.offset)):(t.setEnd(x.node,x.offset),r.addRange(t)))}}for(t=[],r=i;r=r.parentNode;)r.nodeType===1&&t.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)r=t[i],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var Db=_n&&"documentMode"in document&&11>=document.documentMode,Mr=null,Nd=null,so=null,Rd=!1;function Cp(t,i,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Rd||Mr==null||Mr!==Ar(o)||(o=Mr,"selectionStart"in o&&Sd(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),so&&no(so,o)||(so=o,o=Ou(Nd,"onSelect"),0<o.length&&(i=new Nr("onSelect","select",null,i,r),t.push({event:i,listeners:o}),i.target=Mr)))}function Oa(t,i){var r={};return r[t.toLowerCase()]=i.toLowerCase(),r["Webkit"+t]="webkit"+i,r["Moz"+t]="moz"+i,r}var Lr={animationend:Oa("Animation","AnimationEnd"),animationiteration:Oa("Animation","AnimationIteration"),animationstart:Oa("Animation","AnimationStart"),transitionrun:Oa("Transition","TransitionRun"),transitionstart:Oa("Transition","TransitionStart"),transitioncancel:Oa("Transition","TransitionCancel"),transitionend:Oa("Transition","TransitionEnd")},kd={},jp={};_n&&(jp=document.createElement("div").style,"AnimationEvent"in window||(delete Lr.animationend.animation,delete Lr.animationiteration.animation,delete Lr.animationstart.animation),"TransitionEvent"in window||delete Lr.transitionend.transition);function Ma(t){if(kd[t])return kd[t];if(!Lr[t])return t;var i=Lr[t],r;for(r in i)if(i.hasOwnProperty(r)&&r in jp)return kd[t]=i[r];return t}var Dp=Ma("animationend"),Op=Ma("animationiteration"),Mp=Ma("animationstart"),Ob=Ma("transitionrun"),Mb=Ma("transitionstart"),Lb=Ma("transitioncancel"),Lp=Ma("transitionend"),Vp=new Map,Pp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Qn(t,i){Vp.set(t,i),yn(i,[t])}var Mn=[],Vr=0,Id=0;function Jc(){for(var t=Vr,i=Id=Vr=0;i<t;){var r=Mn[i];Mn[i++]=null;var o=Mn[i];Mn[i++]=null;var f=Mn[i];Mn[i++]=null;var m=Mn[i];if(Mn[i++]=null,o!==null&&f!==null){var x=o.pending;x===null?f.next=f:(f.next=x.next,x.next=f),o.pending=f}m!==0&&Up(r,f,m)}}function eu(t,i,r,o){Mn[Vr++]=t,Mn[Vr++]=i,Mn[Vr++]=r,Mn[Vr++]=o,Id|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Cd(t,i,r,o){return eu(t,i,r,o),tu(t)}function Ci(t,i){return eu(t,null,null,i),tu(t)}function Up(t,i,r){t.lanes|=r;var o=t.alternate;o!==null&&(o.lanes|=r);for(var f=!1,m=t.return;m!==null;)m.childLanes|=r,o=m.alternate,o!==null&&(o.childLanes|=r),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(f=!0)),t=m,m=m.return;f&&i!==null&&t.tag===3&&(m=t.stateNode,f=31-an(r),m=m.hiddenUpdates,t=m[f],t===null?m[f]=[i]:t.push(i),i.lane=r|536870912)}function tu(t){if(50<ko)throw ko=0,Pf=null,Error(a(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Pr={},Bp=new WeakMap;function Ln(t,i){if(typeof t=="object"&&t!==null){var r=Bp.get(t);return r!==void 0?r:(i={value:t,source:i,stack:ve(i)},Bp.set(t,i),i)}return{value:t,source:i,stack:ve(i)}}var Ur=[],Br=0,nu=null,su=0,Vn=[],Pn=0,La=null,Hs=1,zs="";function Va(t,i){Ur[Br++]=su,Ur[Br++]=nu,nu=t,su=i}function Hp(t,i,r){Vn[Pn++]=Hs,Vn[Pn++]=zs,Vn[Pn++]=La,La=t;var o=Hs;t=zs;var f=32-an(o)-1;o&=~(1<<f),r+=1;var m=32-an(i)+f;if(30<m){var x=f-f%5;m=(o&(1<<x)-1).toString(32),o>>=x,f-=x,Hs=1<<32-an(i)+f|r<<f|o,zs=m+t}else Hs=1<<m|r<<f|o,zs=t}function jd(t){t.return!==null&&(Va(t,1),Hp(t,1,0))}function Dd(t){for(;t===nu;)nu=Ur[--Br],Ur[Br]=null,su=Ur[--Br],Ur[Br]=null;for(;t===La;)La=Vn[--Pn],Vn[Pn]=null,zs=Vn[--Pn],Vn[Pn]=null,Hs=Vn[--Pn],Vn[Pn]=null}var on=null,Kt=null,Ge=!1,Yn=null,gs=!1,Od=Error(a(519));function Pa(t){var i=Error(a(418,""));throw ro(Ln(i,t)),Od}function zp(t){var i=t.stateNode,r=t.type,o=t.memoizedProps;switch(i[Mt]=t,i[St]=o,r){case"dialog":Pe("cancel",i),Pe("close",i);break;case"iframe":case"object":case"embed":Pe("load",i);break;case"video":case"audio":for(r=0;r<Co.length;r++)Pe(Co[r],i);break;case"source":Pe("error",i);break;case"img":case"image":case"link":Pe("error",i),Pe("load",i);break;case"details":Pe("toggle",i);break;case"input":Pe("invalid",i),wa(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Aa(i);break;case"select":Pe("invalid",i);break;case"textarea":Pe("invalid",i),ki(i,o.value,o.defaultValue,o.children),Aa(i)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||i.textContent===""+r||o.suppressHydrationWarning===!0||W_(i.textContent,r)?(o.popover!=null&&(Pe("beforetoggle",i),Pe("toggle",i)),o.onScroll!=null&&Pe("scroll",i),o.onScrollEnd!=null&&Pe("scrollend",i),o.onClick!=null&&(i.onclick=Mu),i=!0):i=!1,i||Pa(t)}function Kp(t){for(on=t.return;on;)switch(on.tag){case 3:case 27:gs=!0;return;case 5:case 13:gs=!1;return;default:on=on.return}}function io(t){if(t!==on)return!1;if(!Ge)return Kp(t),Ge=!0,!1;var i=!1,r;if((r=t.tag!==3&&t.tag!==27)&&((r=t.tag===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||tm(t.type,t.memoizedProps)),r=!r),r&&(i=!0),i&&Kt&&Pa(t),Kp(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(i===0){Kt=Wn(t.nextSibling);break e}i--}else r!=="$"&&r!=="$!"&&r!=="$?"||i++;t=t.nextSibling}Kt=null}}else Kt=on?Wn(t.stateNode.nextSibling):null;return!0}function ao(){Kt=on=null,Ge=!1}function ro(t){Yn===null?Yn=[t]:Yn.push(t)}var lo=Error(a(460)),qp=Error(a(474)),Md={then:function(){}};function Fp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function iu(){}function Gp(t,i,r){switch(r=t[r],r===void 0?t.push(i):r!==i&&(i.then(iu,iu),i=r),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,t===lo?Error(a(483)):t;default:if(typeof i.status=="string")i.then(iu,iu);else{if(t=et,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=i,t.status="pending",t.then(function(o){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=o}},function(o){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,t===lo?Error(a(483)):t}throw oo=i,lo}}var oo=null;function $p(){if(oo===null)throw Error(a(459));var t=oo;return oo=null,t}var Hr=null,co=0;function au(t){var i=co;return co+=1,Hr===null&&(Hr=[]),Gp(Hr,t,i)}function uo(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function ru(t,i){throw i.$$typeof===c?Error(a(525)):(t=Object.prototype.toString.call(i),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Qp(t){var i=t._init;return i(t._payload)}function Yp(t){function i(q,U){if(t){var Q=q.deletions;Q===null?(q.deletions=[U],q.flags|=16):Q.push(U)}}function r(q,U){if(!t)return null;for(;U!==null;)i(q,U),U=U.sibling;return null}function o(q){for(var U=new Map;q!==null;)q.key!==null?U.set(q.key,q):U.set(q.index,q),q=q.sibling;return U}function f(q,U){return q=Ki(q,U),q.index=0,q.sibling=null,q}function m(q,U,Q){return q.index=Q,t?(Q=q.alternate,Q!==null?(Q=Q.index,Q<U?(q.flags|=33554434,U):Q):(q.flags|=33554434,U)):(q.flags|=1048576,U)}function x(q){return t&&q.alternate===null&&(q.flags|=33554434),q}function T(q,U,Q,te){return U===null||U.tag!==6?(U=If(Q,q.mode,te),U.return=q,U):(U=f(U,Q),U.return=q,U)}function C(q,U,Q,te){var ge=Q.type;return ge===p?Z(q,U,Q.props.children,te,Q.key):U!==null&&(U.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===G&&Qp(ge)===U.type)?(U=f(U,Q.props),uo(U,Q),U.return=q,U):(U=Au(Q.type,Q.key,Q.props,null,q.mode,te),uo(U,Q),U.return=q,U)}function B(q,U,Q,te){return U===null||U.tag!==4||U.stateNode.containerInfo!==Q.containerInfo||U.stateNode.implementation!==Q.implementation?(U=Cf(Q,q.mode,te),U.return=q,U):(U=f(U,Q.children||[]),U.return=q,U)}function Z(q,U,Q,te,ge){return U===null||U.tag!==7?(U=Qa(Q,q.mode,te,ge),U.return=q,U):(U=f(U,Q),U.return=q,U)}function ae(q,U,Q){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=If(""+U,q.mode,Q),U.return=q,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case d:return Q=Au(U.type,U.key,U.props,null,q.mode,Q),uo(Q,U),Q.return=q,Q;case g:return U=Cf(U,q.mode,Q),U.return=q,U;case G:var te=U._init;return U=te(U._payload),ae(q,U,Q)}if(ue(U)||re(U))return U=Qa(U,q.mode,Q,null),U.return=q,U;if(typeof U.then=="function")return ae(q,au(U),Q);if(U.$$typeof===j)return ae(q,Eu(q,U),Q);ru(q,U)}return null}function Y(q,U,Q,te){var ge=U!==null?U.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return ge!==null?null:T(q,U,""+Q,te);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case d:return Q.key===ge?C(q,U,Q,te):null;case g:return Q.key===ge?B(q,U,Q,te):null;case G:return ge=Q._init,Q=ge(Q._payload),Y(q,U,Q,te)}if(ue(Q)||re(Q))return ge!==null?null:Z(q,U,Q,te,null);if(typeof Q.then=="function")return Y(q,U,au(Q),te);if(Q.$$typeof===j)return Y(q,U,Eu(q,Q),te);ru(q,Q)}return null}function W(q,U,Q,te,ge){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return q=q.get(Q)||null,T(U,q,""+te,ge);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case d:return q=q.get(te.key===null?Q:te.key)||null,C(U,q,te,ge);case g:return q=q.get(te.key===null?Q:te.key)||null,B(U,q,te,ge);case G:var Oe=te._init;return te=Oe(te._payload),W(q,U,Q,te,ge)}if(ue(te)||re(te))return q=q.get(Q)||null,Z(U,q,te,ge,null);if(typeof te.then=="function")return W(q,U,Q,au(te),ge);if(te.$$typeof===j)return W(q,U,Q,Eu(U,te),ge);ru(U,te)}return null}function pe(q,U,Q,te){for(var ge=null,Oe=null,ye=U,Ee=U=0,Bt=null;ye!==null&&Ee<Q.length;Ee++){ye.index>Ee?(Bt=ye,ye=null):Bt=ye.sibling;var $e=Y(q,ye,Q[Ee],te);if($e===null){ye===null&&(ye=Bt);break}t&&ye&&$e.alternate===null&&i(q,ye),U=m($e,U,Ee),Oe===null?ge=$e:Oe.sibling=$e,Oe=$e,ye=Bt}if(Ee===Q.length)return r(q,ye),Ge&&Va(q,Ee),ge;if(ye===null){for(;Ee<Q.length;Ee++)ye=ae(q,Q[Ee],te),ye!==null&&(U=m(ye,U,Ee),Oe===null?ge=ye:Oe.sibling=ye,Oe=ye);return Ge&&Va(q,Ee),ge}for(ye=o(ye);Ee<Q.length;Ee++)Bt=W(ye,q,Ee,Q[Ee],te),Bt!==null&&(t&&Bt.alternate!==null&&ye.delete(Bt.key===null?Ee:Bt.key),U=m(Bt,U,Ee),Oe===null?ge=Bt:Oe.sibling=Bt,Oe=Bt);return t&&ye.forEach(function(Xi){return i(q,Xi)}),Ge&&Va(q,Ee),ge}function Ne(q,U,Q,te){if(Q==null)throw Error(a(151));for(var ge=null,Oe=null,ye=U,Ee=U=0,Bt=null,$e=Q.next();ye!==null&&!$e.done;Ee++,$e=Q.next()){ye.index>Ee?(Bt=ye,ye=null):Bt=ye.sibling;var Xi=Y(q,ye,$e.value,te);if(Xi===null){ye===null&&(ye=Bt);break}t&&ye&&Xi.alternate===null&&i(q,ye),U=m(Xi,U,Ee),Oe===null?ge=Xi:Oe.sibling=Xi,Oe=Xi,ye=Bt}if($e.done)return r(q,ye),Ge&&Va(q,Ee),ge;if(ye===null){for(;!$e.done;Ee++,$e=Q.next())$e=ae(q,$e.value,te),$e!==null&&(U=m($e,U,Ee),Oe===null?ge=$e:Oe.sibling=$e,Oe=$e);return Ge&&Va(q,Ee),ge}for(ye=o(ye);!$e.done;Ee++,$e=Q.next())$e=W(ye,q,Ee,$e.value,te),$e!==null&&(t&&$e.alternate!==null&&ye.delete($e.key===null?Ee:$e.key),U=m($e,U,Ee),Oe===null?ge=$e:Oe.sibling=$e,Oe=$e);return t&&ye.forEach(function(XA){return i(q,XA)}),Ge&&Va(q,Ee),ge}function ft(q,U,Q,te){if(typeof Q=="object"&&Q!==null&&Q.type===p&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case d:e:{for(var ge=Q.key;U!==null;){if(U.key===ge){if(ge=Q.type,ge===p){if(U.tag===7){r(q,U.sibling),te=f(U,Q.props.children),te.return=q,q=te;break e}}else if(U.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===G&&Qp(ge)===U.type){r(q,U.sibling),te=f(U,Q.props),uo(te,Q),te.return=q,q=te;break e}r(q,U);break}else i(q,U);U=U.sibling}Q.type===p?(te=Qa(Q.props.children,q.mode,te,Q.key),te.return=q,q=te):(te=Au(Q.type,Q.key,Q.props,null,q.mode,te),uo(te,Q),te.return=q,q=te)}return x(q);case g:e:{for(ge=Q.key;U!==null;){if(U.key===ge)if(U.tag===4&&U.stateNode.containerInfo===Q.containerInfo&&U.stateNode.implementation===Q.implementation){r(q,U.sibling),te=f(U,Q.children||[]),te.return=q,q=te;break e}else{r(q,U);break}else i(q,U);U=U.sibling}te=Cf(Q,q.mode,te),te.return=q,q=te}return x(q);case G:return ge=Q._init,Q=ge(Q._payload),ft(q,U,Q,te)}if(ue(Q))return pe(q,U,Q,te);if(re(Q)){if(ge=re(Q),typeof ge!="function")throw Error(a(150));return Q=ge.call(Q),Ne(q,U,Q,te)}if(typeof Q.then=="function")return ft(q,U,au(Q),te);if(Q.$$typeof===j)return ft(q,U,Eu(q,Q),te);ru(q,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,U!==null&&U.tag===6?(r(q,U.sibling),te=f(U,Q),te.return=q,q=te):(r(q,U),te=If(Q,q.mode,te),te.return=q,q=te),x(q)):r(q,U)}return function(q,U,Q,te){try{co=0;var ge=ft(q,U,Q,te);return Hr=null,ge}catch(ye){if(ye===lo)throw ye;var Oe=zn(29,ye,null,q.mode);return Oe.lanes=te,Oe.return=q,Oe}finally{}}}var Ua=Yp(!0),Xp=Yp(!1),zr=qe(null),lu=qe(0);function Wp(t,i){t=Js,Xe(lu,t),Xe(zr,i),Js=t|i.baseLanes}function Ld(){Xe(lu,Js),Xe(zr,zr.current)}function Vd(){Js=lu.current,ct(zr),ct(lu)}var Un=qe(null),ps=null;function ji(t){var i=t.alternate;Xe(kt,kt.current&1),Xe(Un,t),ps===null&&(i===null||zr.current!==null||i.memoizedState!==null)&&(ps=t)}function Zp(t){if(t.tag===22){if(Xe(kt,kt.current),Xe(Un,t),ps===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(ps=t)}}else Di()}function Di(){Xe(kt,kt.current),Xe(Un,Un.current)}function Ks(t){ct(Un),ps===t&&(ps=null),ct(kt)}var kt=qe(0);function ou(t){for(var i=t;i!==null;){if(i.tag===13){var r=i.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Vb=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(r,o){t.push(o)}};this.abort=function(){i.aborted=!0,t.forEach(function(r){return r()})}},Pb=s.unstable_scheduleCallback,Ub=s.unstable_NormalPriority,It={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pd(){return{controller:new Vb,data:new Map,refCount:0}}function ho(t){t.refCount--,t.refCount===0&&Pb(Ub,function(){t.controller.abort()})}var fo=null,Ud=0,Kr=0,qr=null;function Bb(t,i){if(fo===null){var r=fo=[];Ud=0,Kr=Gf(),qr={status:"pending",value:void 0,then:function(o){r.push(o)}}}return Ud++,i.then(Jp,Jp),i}function Jp(){if(--Ud===0&&fo!==null){qr!==null&&(qr.status="fulfilled");var t=fo;fo=null,Kr=0,qr=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function Hb(t,i){var r=[],o={status:"pending",value:null,reason:null,then:function(f){r.push(f)}};return t.then(function(){o.status="fulfilled",o.value=i;for(var f=0;f<r.length;f++)(0,r[f])(i)},function(f){for(o.status="rejected",o.reason=f,f=0;f<r.length;f++)(0,r[f])(void 0)}),o}var ey=S.S;S.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&Bb(t,i),ey!==null&&ey(t,i)};var Ba=qe(null);function Bd(){var t=Ba.current;return t!==null?t:et.pooledCache}function cu(t,i){i===null?Xe(Ba,Ba.current):Xe(Ba,i.pool)}function ty(){var t=Bd();return t===null?null:{parent:It._currentValue,pool:t}}var Oi=0,De=null,We=null,xt=null,uu=!1,Fr=!1,Ha=!1,hu=0,mo=0,Gr=null,zb=0;function yt(){throw Error(a(321))}function Hd(t,i){if(i===null)return!1;for(var r=0;r<i.length&&r<t.length;r++)if(!vn(t[r],i[r]))return!1;return!0}function zd(t,i,r,o,f,m){return Oi=m,De=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,S.H=t===null||t.memoizedState===null?za:Mi,Ha=!1,m=r(o,f),Ha=!1,Fr&&(m=sy(i,r,o,f)),ny(t),m}function ny(t){S.H=ys;var i=We!==null&&We.next!==null;if(Oi=0,xt=We=De=null,uu=!1,mo=0,Gr=null,i)throw Error(a(300));t===null||Pt||(t=t.dependencies,t!==null&&xu(t)&&(Pt=!0))}function sy(t,i,r,o){De=t;var f=0;do{if(Fr&&(Gr=null),mo=0,Fr=!1,25<=f)throw Error(a(301));if(f+=1,xt=We=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}S.H=Ka,m=i(r,o)}while(Fr);return m}function Kb(){var t=S.H,i=t.useState()[0];return i=typeof i.then=="function"?go(i):i,t=t.useState()[0],(We!==null?We.memoizedState:null)!==t&&(De.flags|=1024),i}function Kd(){var t=hu!==0;return hu=0,t}function qd(t,i,r){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~r}function Fd(t){if(uu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}uu=!1}Oi=0,xt=We=De=null,Fr=!1,mo=hu=0,Gr=null}function mn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?De.memoizedState=xt=t:xt=xt.next=t,xt}function Et(){if(We===null){var t=De.alternate;t=t!==null?t.memoizedState:null}else t=We.next;var i=xt===null?De.memoizedState:xt.next;if(i!==null)xt=i,We=t;else{if(t===null)throw De.alternate===null?Error(a(467)):Error(a(310));We=t,t={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},xt===null?De.memoizedState=xt=t:xt=xt.next=t}return xt}var du;du=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function go(t){var i=mo;return mo+=1,Gr===null&&(Gr=[]),t=Gp(Gr,t,i),i=De,(xt===null?i.memoizedState:xt.next)===null&&(i=i.alternate,S.H=i===null||i.memoizedState===null?za:Mi),t}function fu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return go(t);if(t.$$typeof===j)return Wt(t)}throw Error(a(438,String(t)))}function Gd(t){var i=null,r=De.updateQueue;if(r!==null&&(i=r.memoCache),i==null){var o=De.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),r===null&&(r=du(),De.updateQueue=r),r.memoCache=i,r=i.data[i.index],r===void 0)for(r=i.data[i.index]=Array(t),o=0;o<t;o++)r[o]=ee;return i.index++,r}function qs(t,i){return typeof i=="function"?i(t):i}function mu(t){var i=Et();return $d(i,We,t)}function $d(t,i,r){var o=t.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var f=t.baseQueue,m=o.pending;if(m!==null){if(f!==null){var x=f.next;f.next=m.next,m.next=x}i.baseQueue=f=m,o.pending=null}if(m=t.baseState,f===null)t.memoizedState=m;else{i=f.next;var T=x=null,C=null,B=i,Z=!1;do{var ae=B.lane&-536870913;if(ae!==B.lane?(ze&ae)===ae:(Oi&ae)===ae){var Y=B.revertLane;if(Y===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),ae===Kr&&(Z=!0);else if((Oi&Y)===Y){B=B.next,Y===Kr&&(Z=!0);continue}else ae={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},C===null?(T=C=ae,x=m):C=C.next=ae,De.lanes|=Y,qi|=Y;ae=B.action,Ha&&r(m,ae),m=B.hasEagerState?B.eagerState:r(m,ae)}else Y={lane:ae,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},C===null?(T=C=Y,x=m):C=C.next=Y,De.lanes|=ae,qi|=ae;B=B.next}while(B!==null&&B!==i);if(C===null?x=m:C.next=T,!vn(m,t.memoizedState)&&(Pt=!0,Z&&(r=qr,r!==null)))throw r;t.memoizedState=m,t.baseState=x,t.baseQueue=C,o.lastRenderedState=m}return f===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Qd(t){var i=Et(),r=i.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var o=r.dispatch,f=r.pending,m=i.memoizedState;if(f!==null){r.pending=null;var x=f=f.next;do m=t(m,x.action),x=x.next;while(x!==f);vn(m,i.memoizedState)||(Pt=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),r.lastRenderedState=m}return[m,o]}function iy(t,i,r){var o=De,f=Et(),m=Ge;if(m){if(r===void 0)throw Error(a(407));r=r()}else r=i();var x=!vn((We||f).memoizedState,r);if(x&&(f.memoizedState=r,Pt=!0),f=f.queue,Wd(ly.bind(null,o,f,t),[t]),f.getSnapshot!==i||x||xt!==null&&xt.memoizedState.tag&1){if(o.flags|=2048,$r(9,ry.bind(null,o,f,r,i),{destroy:void 0},null),et===null)throw Error(a(349));m||(Oi&60)!==0||ay(o,i,r)}return r}function ay(t,i,r){t.flags|=16384,t={getSnapshot:i,value:r},i=De.updateQueue,i===null?(i=du(),De.updateQueue=i,i.stores=[t]):(r=i.stores,r===null?i.stores=[t]:r.push(t))}function ry(t,i,r,o){i.value=r,i.getSnapshot=o,oy(i)&&cy(t)}function ly(t,i,r){return r(function(){oy(i)&&cy(t)})}function oy(t){var i=t.getSnapshot;t=t.value;try{var r=i();return!vn(t,r)}catch{return!0}}function cy(t){var i=Ci(t,2);i!==null&&cn(i,t,2)}function Yd(t){var i=mn();if(typeof t=="function"){var r=t;if(t=r(),Ha){is(!0);try{r()}finally{is(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qs,lastRenderedState:t},i}function uy(t,i,r,o){return t.baseState=r,$d(t,We,typeof o=="function"?o:qs)}function qb(t,i,r,o,f){if(yu(t))throw Error(a(485));if(t=i.action,t!==null){var m={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){m.listeners.push(x)}};S.T!==null?r(!0):m.isTransition=!1,o(m),r=i.pending,r===null?(m.next=i.pending=m,hy(i,m)):(m.next=r.next,i.pending=r.next=m)}}function hy(t,i){var r=i.action,o=i.payload,f=t.state;if(i.isTransition){var m=S.T,x={};S.T=x;try{var T=r(f,o),C=S.S;C!==null&&C(x,T),dy(t,i,T)}catch(B){Xd(t,i,B)}finally{S.T=m}}else try{m=r(f,o),dy(t,i,m)}catch(B){Xd(t,i,B)}}function dy(t,i,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){fy(t,i,o)},function(o){return Xd(t,i,o)}):fy(t,i,r)}function fy(t,i,r){i.status="fulfilled",i.value=r,my(i),t.state=r,i=t.pending,i!==null&&(r=i.next,r===i?t.pending=null:(r=r.next,i.next=r,hy(t,r)))}function Xd(t,i,r){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=r,my(i),i=i.next;while(i!==o)}t.action=null}function my(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function gy(t,i){return i}function py(t,i){if(Ge){var r=et.formState;if(r!==null){e:{var o=De;if(Ge){if(Kt){t:{for(var f=Kt,m=gs;f.nodeType!==8;){if(!m){f=null;break t}if(f=Wn(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){Kt=Wn(f.nextSibling),o=f.data==="F!";break e}}Pa(o)}o=!1}o&&(i=r[0])}}return r=mn(),r.memoizedState=r.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gy,lastRenderedState:i},r.queue=o,r=Oy.bind(null,De,o),o.dispatch=r,o=Yd(!1),m=nf.bind(null,De,!1,o.queue),o=mn(),f={state:i,dispatch:null,action:t,pending:null},o.queue=f,r=qb.bind(null,De,f,m,r),f.dispatch=r,o.memoizedState=t,[i,r,!1]}function yy(t){var i=Et();return _y(i,We,t)}function _y(t,i,r){i=$d(t,i,gy)[0],t=mu(qs)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?go(i):i;var o=Et(),f=o.queue,m=f.dispatch;return r!==o.memoizedState&&(De.flags|=2048,$r(9,Fb.bind(null,f,r),{destroy:void 0},null)),[i,m,t]}function Fb(t,i){t.action=i}function vy(t){var i=Et(),r=We;if(r!==null)return _y(i,r,t);Et(),i=i.memoizedState,r=Et();var o=r.queue.dispatch;return r.memoizedState=t,[i,o,!1]}function $r(t,i,r,o){return t={tag:t,create:i,inst:r,deps:o,next:null},i=De.updateQueue,i===null&&(i=du(),De.updateQueue=i),r=i.lastEffect,r===null?i.lastEffect=t.next=t:(o=r.next,r.next=t,t.next=o,i.lastEffect=t),t}function xy(){return Et().memoizedState}function gu(t,i,r,o){var f=mn();De.flags|=t,f.memoizedState=$r(1|i,r,{destroy:void 0},o===void 0?null:o)}function pu(t,i,r,o){var f=Et();o=o===void 0?null:o;var m=f.memoizedState.inst;We!==null&&o!==null&&Hd(o,We.memoizedState.deps)?f.memoizedState=$r(i,r,m,o):(De.flags|=t,f.memoizedState=$r(1|i,r,m,o))}function Ey(t,i){gu(8390656,8,t,i)}function Wd(t,i){pu(2048,8,t,i)}function Ty(t,i){return pu(4,2,t,i)}function by(t,i){return pu(4,4,t,i)}function Ay(t,i){if(typeof i=="function"){t=t();var r=i(t);return function(){typeof r=="function"?r():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function wy(t,i,r){r=r!=null?r.concat([t]):null,pu(4,4,Ay.bind(null,i,t),r)}function Zd(){}function Sy(t,i){var r=Et();i=i===void 0?null:i;var o=r.memoizedState;return i!==null&&Hd(i,o[1])?o[0]:(r.memoizedState=[t,i],t)}function Ny(t,i){var r=Et();i=i===void 0?null:i;var o=r.memoizedState;if(i!==null&&Hd(i,o[1]))return o[0];if(o=t(),Ha){is(!0);try{t()}finally{is(!1)}}return r.memoizedState=[o,i],o}function Jd(t,i,r){return r===void 0||(Oi&1073741824)!==0?t.memoizedState=i:(t.memoizedState=r,t=k_(),De.lanes|=t,qi|=t,r)}function Ry(t,i,r,o){return vn(r,i)?r:zr.current!==null?(t=Jd(t,r,o),vn(t,i)||(Pt=!0),t):(Oi&42)===0?(Pt=!0,t.memoizedState=r):(t=k_(),De.lanes|=t,qi|=t,i)}function ky(t,i,r,o,f){var m=he.p;he.p=m!==0&&8>m?m:8;var x=S.T,T={};S.T=T,nf(t,!1,i,r);try{var C=f(),B=S.S;if(B!==null&&B(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Z=Hb(C,o);po(t,i,Z,bn(t))}else po(t,i,o,bn(t))}catch(ae){po(t,i,{then:function(){},status:"rejected",reason:ae},bn())}finally{he.p=m,S.T=x}}function Gb(){}function ef(t,i,r,o){if(t.tag!==5)throw Error(a(476));var f=Iy(t).queue;ky(t,f,i,Ie,r===null?Gb:function(){return Cy(t),r(o)})}function Iy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:Ie,baseState:Ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qs,lastRenderedState:Ie},next:null};var r={};return i.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qs,lastRenderedState:r},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Cy(t){var i=Iy(t).next.queue;po(t,i,{},bn())}function tf(){return Wt(Lo)}function jy(){return Et().memoizedState}function Dy(){return Et().memoizedState}function $b(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var r=bn();t=Pi(r);var o=Ui(i,t,r);o!==null&&(cn(o,i,r),vo(o,i,r)),i={cache:Pd()},t.payload=i;return}i=i.return}}function Qb(t,i,r){var o=bn();r={lane:o,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},yu(t)?My(i,r):(r=Cd(t,i,r,o),r!==null&&(cn(r,t,o),Ly(r,i,o)))}function Oy(t,i,r){var o=bn();po(t,i,r,o)}function po(t,i,r,o){var f={lane:o,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(yu(t))My(i,f);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var x=i.lastRenderedState,T=m(x,r);if(f.hasEagerState=!0,f.eagerState=T,vn(T,x))return eu(t,i,f,0),et===null&&Jc(),!1}catch{}finally{}if(r=Cd(t,i,f,o),r!==null)return cn(r,t,o),Ly(r,i,o),!0}return!1}function nf(t,i,r,o){if(o={lane:2,revertLane:Gf(),action:o,hasEagerState:!1,eagerState:null,next:null},yu(t)){if(i)throw Error(a(479))}else i=Cd(t,r,o,2),i!==null&&cn(i,t,2)}function yu(t){var i=t.alternate;return t===De||i!==null&&i===De}function My(t,i){Fr=uu=!0;var r=t.pending;r===null?i.next=i:(i.next=r.next,r.next=i),t.pending=i}function Ly(t,i,r){if((r&4194176)!==0){var o=i.lanes;o&=t.pendingLanes,r|=o,i.lanes=r,Ei(t,r)}}var ys={readContext:Wt,use:fu,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useLayoutEffect:yt,useInsertionEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useSyncExternalStore:yt,useId:yt};ys.useCacheRefresh=yt,ys.useMemoCache=yt,ys.useHostTransitionStatus=yt,ys.useFormState=yt,ys.useActionState=yt,ys.useOptimistic=yt;var za={readContext:Wt,use:fu,useCallback:function(t,i){return mn().memoizedState=[t,i===void 0?null:i],t},useContext:Wt,useEffect:Ey,useImperativeHandle:function(t,i,r){r=r!=null?r.concat([t]):null,gu(4194308,4,Ay.bind(null,i,t),r)},useLayoutEffect:function(t,i){return gu(4194308,4,t,i)},useInsertionEffect:function(t,i){gu(4,2,t,i)},useMemo:function(t,i){var r=mn();i=i===void 0?null:i;var o=t();if(Ha){is(!0);try{t()}finally{is(!1)}}return r.memoizedState=[o,i],o},useReducer:function(t,i,r){var o=mn();if(r!==void 0){var f=r(i);if(Ha){is(!0);try{r(i)}finally{is(!1)}}}else f=i;return o.memoizedState=o.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},o.queue=t,t=t.dispatch=Qb.bind(null,De,t),[o.memoizedState,t]},useRef:function(t){var i=mn();return t={current:t},i.memoizedState=t},useState:function(t){t=Yd(t);var i=t.queue,r=Oy.bind(null,De,i);return i.dispatch=r,[t.memoizedState,r]},useDebugValue:Zd,useDeferredValue:function(t,i){var r=mn();return Jd(r,t,i)},useTransition:function(){var t=Yd(!1);return t=ky.bind(null,De,t.queue,!0,!1),mn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,r){var o=De,f=mn();if(Ge){if(r===void 0)throw Error(a(407));r=r()}else{if(r=i(),et===null)throw Error(a(349));(ze&60)!==0||ay(o,i,r)}f.memoizedState=r;var m={value:r,getSnapshot:i};return f.queue=m,Ey(ly.bind(null,o,m,t),[t]),o.flags|=2048,$r(9,ry.bind(null,o,m,r,i),{destroy:void 0},null),r},useId:function(){var t=mn(),i=et.identifierPrefix;if(Ge){var r=zs,o=Hs;r=(o&~(1<<32-an(o)-1)).toString(32)+r,i=":"+i+"R"+r,r=hu++,0<r&&(i+="H"+r.toString(32)),i+=":"}else r=zb++,i=":"+i+"r"+r.toString(32)+":";return t.memoizedState=i},useCacheRefresh:function(){return mn().memoizedState=$b.bind(null,De)}};za.useMemoCache=Gd,za.useHostTransitionStatus=tf,za.useFormState=py,za.useActionState=py,za.useOptimistic=function(t){var i=mn();i.memoizedState=i.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=r,i=nf.bind(null,De,!0,r),r.dispatch=i,[t,i]};var Mi={readContext:Wt,use:fu,useCallback:Sy,useContext:Wt,useEffect:Wd,useImperativeHandle:wy,useInsertionEffect:Ty,useLayoutEffect:by,useMemo:Ny,useReducer:mu,useRef:xy,useState:function(){return mu(qs)},useDebugValue:Zd,useDeferredValue:function(t,i){var r=Et();return Ry(r,We.memoizedState,t,i)},useTransition:function(){var t=mu(qs)[0],i=Et().memoizedState;return[typeof t=="boolean"?t:go(t),i]},useSyncExternalStore:iy,useId:jy};Mi.useCacheRefresh=Dy,Mi.useMemoCache=Gd,Mi.useHostTransitionStatus=tf,Mi.useFormState=yy,Mi.useActionState=yy,Mi.useOptimistic=function(t,i){var r=Et();return uy(r,We,t,i)};var Ka={readContext:Wt,use:fu,useCallback:Sy,useContext:Wt,useEffect:Wd,useImperativeHandle:wy,useInsertionEffect:Ty,useLayoutEffect:by,useMemo:Ny,useReducer:Qd,useRef:xy,useState:function(){return Qd(qs)},useDebugValue:Zd,useDeferredValue:function(t,i){var r=Et();return We===null?Jd(r,t,i):Ry(r,We.memoizedState,t,i)},useTransition:function(){var t=Qd(qs)[0],i=Et().memoizedState;return[typeof t=="boolean"?t:go(t),i]},useSyncExternalStore:iy,useId:jy};Ka.useCacheRefresh=Dy,Ka.useMemoCache=Gd,Ka.useHostTransitionStatus=tf,Ka.useFormState=vy,Ka.useActionState=vy,Ka.useOptimistic=function(t,i){var r=Et();return We!==null?uy(r,We,t,i):(r.baseState=t,[t,r.queue.dispatch])};function sf(t,i,r,o){i=t.memoizedState,r=r(o,i),r=r==null?i:k({},i,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var af={isMounted:function(t){return(t=t._reactInternals)?ce(t)===t:!1},enqueueSetState:function(t,i,r){t=t._reactInternals;var o=bn(),f=Pi(o);f.payload=i,r!=null&&(f.callback=r),i=Ui(t,f,o),i!==null&&(cn(i,t,o),vo(i,t,o))},enqueueReplaceState:function(t,i,r){t=t._reactInternals;var o=bn(),f=Pi(o);f.tag=1,f.payload=i,r!=null&&(f.callback=r),i=Ui(t,f,o),i!==null&&(cn(i,t,o),vo(i,t,o))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var r=bn(),o=Pi(r);o.tag=2,i!=null&&(o.callback=i),i=Ui(t,o,r),i!==null&&(cn(i,t,r),vo(i,t,r))}};function Vy(t,i,r,o,f,m,x){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,m,x):i.prototype&&i.prototype.isPureReactComponent?!no(r,o)||!no(f,m):!0}function Py(t,i,r,o){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(r,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(r,o),i.state!==t&&af.enqueueReplaceState(i,i.state,null)}function qa(t,i){var r=i;if("ref"in i){r={};for(var o in i)o!=="ref"&&(r[o]=i[o])}if(t=t.defaultProps){r===i&&(r=k({},r));for(var f in t)r[f]===void 0&&(r[f]=t[f])}return r}var _u=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Uy(t){_u(t)}function By(t){console.error(t)}function Hy(t){_u(t)}function vu(t,i){try{var r=t.onUncaughtError;r(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function zy(t,i,r){try{var o=t.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function rf(t,i,r){return r=Pi(r),r.tag=3,r.payload={element:null},r.callback=function(){vu(t,i)},r}function Ky(t){return t=Pi(t),t.tag=3,t}function qy(t,i,r,o){var f=r.type.getDerivedStateFromError;if(typeof f=="function"){var m=o.value;t.payload=function(){return f(m)},t.callback=function(){zy(i,r,o)}}var x=r.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(t.callback=function(){zy(i,r,o),typeof f!="function"&&(Fi===null?Fi=new Set([this]):Fi.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function Yb(t,i,r,o,f){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=r.alternate,i!==null&&_o(i,r,f,!0),r=Un.current,r!==null){switch(r.tag){case 13:return ps===null?Hf():r.alternate===null&&dt===0&&(dt=3),r.flags&=-257,r.flags|=65536,r.lanes=f,o===Md?r.flags|=16384:(i=r.updateQueue,i===null?r.updateQueue=new Set([o]):i.add(o),Kf(t,o,f)),!1;case 22:return r.flags|=65536,o===Md?r.flags|=16384:(i=r.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=i):(r=i.retryQueue,r===null?i.retryQueue=new Set([o]):r.add(o)),Kf(t,o,f)),!1}throw Error(a(435,r.tag))}return Kf(t,o,f),Hf(),!1}if(Ge)return i=Un.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,o!==Od&&(t=Error(a(422),{cause:o}),ro(Ln(t,r)))):(o!==Od&&(i=Error(a(423),{cause:o}),ro(Ln(i,r))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,o=Ln(o,r),f=rf(t.stateNode,o,f),Ef(t,f),dt!==4&&(dt=2)),!1;var m=Error(a(520),{cause:o});if(m=Ln(m,r),No===null?No=[m]:No.push(m),dt!==4&&(dt=2),i===null)return!0;o=Ln(o,r),r=i;do{switch(r.tag){case 3:return r.flags|=65536,t=f&-f,r.lanes|=t,t=rf(r.stateNode,o,t),Ef(r,t),!1;case 1:if(i=r.type,m=r.stateNode,(r.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Fi===null||!Fi.has(m))))return r.flags|=65536,f&=-f,r.lanes|=f,f=Ky(f),qy(f,t,r,o),Ef(r,f),!1}r=r.return}while(r!==null);return!1}var Fy=Error(a(461)),Pt=!1;function qt(t,i,r,o){i.child=t===null?Xp(i,null,r,o):Ua(i,t.child,r,o)}function Gy(t,i,r,o,f){r=r.render;var m=i.ref;if("ref"in o){var x={};for(var T in o)T!=="ref"&&(x[T]=o[T])}else x=o;return Ga(i),o=zd(t,i,r,x,m,f),T=Kd(),t!==null&&!Pt?(qd(t,i,f),Fs(t,i,f)):(Ge&&T&&jd(i),i.flags|=1,qt(t,i,o,f),i.child)}function $y(t,i,r,o,f){if(t===null){var m=r.type;return typeof m=="function"&&!kf(m)&&m.defaultProps===void 0&&r.compare===null?(i.tag=15,i.type=m,Qy(t,i,m,o,f)):(t=Au(r.type,null,o,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(m=t.child,!gf(t,f)){var x=m.memoizedProps;if(r=r.compare,r=r!==null?r:no,r(x,o)&&t.ref===i.ref)return Fs(t,i,f)}return i.flags|=1,t=Ki(m,o),t.ref=i.ref,t.return=i,i.child=t}function Qy(t,i,r,o,f){if(t!==null){var m=t.memoizedProps;if(no(m,o)&&t.ref===i.ref)if(Pt=!1,i.pendingProps=o=m,gf(t,f))(t.flags&131072)!==0&&(Pt=!0);else return i.lanes=t.lanes,Fs(t,i,f)}return lf(t,i,r,o,f)}function Yy(t,i,r){var o=i.pendingProps,f=o.children,m=(i.stateNode._pendingVisibility&2)!==0,x=t!==null?t.memoizedState:null;if(yo(t,i),o.mode==="hidden"||m){if((i.flags&128)!==0){if(o=x!==null?x.baseLanes|r:r,t!==null){for(f=i.child=t.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;i.childLanes=m&~o}else i.childLanes=0,i.child=null;return Xy(t,i,o,r)}if((r&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&cu(i,x!==null?x.cachePool:null),x!==null?Wp(i,x):Ld(),Zp(i);else return i.lanes=i.childLanes=536870912,Xy(t,i,x!==null?x.baseLanes|r:r,r)}else x!==null?(cu(i,x.cachePool),Wp(i,x),Di(),i.memoizedState=null):(t!==null&&cu(i,null),Ld(),Di());return qt(t,i,f,r),i.child}function Xy(t,i,r,o){var f=Bd();return f=f===null?null:{parent:It._currentValue,pool:f},i.memoizedState={baseLanes:r,cachePool:f},t!==null&&cu(i,null),Ld(),Zp(i),t!==null&&_o(t,i,o,!0),null}function yo(t,i){var r=i.ref;if(r===null)t!==null&&t.ref!==null&&(i.flags|=2097664);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(i.flags|=2097664)}}function lf(t,i,r,o,f){return Ga(i),r=zd(t,i,r,o,void 0,f),o=Kd(),t!==null&&!Pt?(qd(t,i,f),Fs(t,i,f)):(Ge&&o&&jd(i),i.flags|=1,qt(t,i,r,f),i.child)}function Wy(t,i,r,o,f,m){return Ga(i),i.updateQueue=null,r=sy(i,o,r,f),ny(t),o=Kd(),t!==null&&!Pt?(qd(t,i,m),Fs(t,i,m)):(Ge&&o&&jd(i),i.flags|=1,qt(t,i,r,m),i.child)}function Zy(t,i,r,o,f){if(Ga(i),i.stateNode===null){var m=Pr,x=r.contextType;typeof x=="object"&&x!==null&&(m=Wt(x)),m=new r(o,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=af,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=o,m.state=i.memoizedState,m.refs={},vf(i),x=r.contextType,m.context=typeof x=="object"&&x!==null?Wt(x):Pr,m.state=i.memoizedState,x=r.getDerivedStateFromProps,typeof x=="function"&&(sf(i,r,x,o),m.state=i.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(x=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),x!==m.state&&af.enqueueReplaceState(m,m.state,null),Eo(i,o,m,f),xo(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(t===null){m=i.stateNode;var T=i.memoizedProps,C=qa(r,T);m.props=C;var B=m.context,Z=r.contextType;x=Pr,typeof Z=="object"&&Z!==null&&(x=Wt(Z));var ae=r.getDerivedStateFromProps;Z=typeof ae=="function"||typeof m.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,Z||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T||B!==x)&&Py(i,m,o,x),Vi=!1;var Y=i.memoizedState;m.state=Y,Eo(i,o,m,f),xo(),B=i.memoizedState,T||Y!==B||Vi?(typeof ae=="function"&&(sf(i,r,ae,o),B=i.memoizedState),(C=Vi||Vy(i,r,C,o,Y,B,x))?(Z||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=B),m.props=o,m.state=B,m.context=x,o=C):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{m=i.stateNode,xf(t,i),x=i.memoizedProps,Z=qa(r,x),m.props=Z,ae=i.pendingProps,Y=m.context,B=r.contextType,C=Pr,typeof B=="object"&&B!==null&&(C=Wt(B)),T=r.getDerivedStateFromProps,(B=typeof T=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(x!==ae||Y!==C)&&Py(i,m,o,C),Vi=!1,Y=i.memoizedState,m.state=Y,Eo(i,o,m,f),xo();var W=i.memoizedState;x!==ae||Y!==W||Vi||t!==null&&t.dependencies!==null&&xu(t.dependencies)?(typeof T=="function"&&(sf(i,r,T,o),W=i.memoizedState),(Z=Vi||Vy(i,r,Z,o,Y,W,C)||t!==null&&t.dependencies!==null&&xu(t.dependencies))?(B||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(o,W,C),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(o,W,C)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||x===t.memoizedProps&&Y===t.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||x===t.memoizedProps&&Y===t.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=W),m.props=o,m.state=W,m.context=C,o=Z):(typeof m.componentDidUpdate!="function"||x===t.memoizedProps&&Y===t.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||x===t.memoizedProps&&Y===t.memoizedState||(i.flags|=1024),o=!1)}return m=o,yo(t,i),o=(i.flags&128)!==0,m||o?(m=i.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,t!==null&&o?(i.child=Ua(i,t.child,null,f),i.child=Ua(i,null,r,f)):qt(t,i,r,f),i.memoizedState=m.state,t=i.child):t=Fs(t,i,f),t}function Jy(t,i,r,o){return ao(),i.flags|=256,qt(t,i,r,o),i.child}var of={dehydrated:null,treeContext:null,retryLane:0};function cf(t){return{baseLanes:t,cachePool:ty()}}function uf(t,i,r){return t=t!==null?t.childLanes&~r:0,i&&(t|=Kn),t}function e_(t,i,r){var o=i.pendingProps,f=!1,m=(i.flags&128)!==0,x;if((x=m)||(x=t!==null&&t.memoizedState===null?!1:(kt.current&2)!==0),x&&(f=!0,i.flags&=-129),x=(i.flags&32)!==0,i.flags&=-33,t===null){if(Ge){if(f?ji(i):Di(),Ge){var T=Kt,C;if(C=T){e:{for(C=T,T=gs;C.nodeType!==8;){if(!T){T=null;break e}if(C=Wn(C.nextSibling),C===null){T=null;break e}}T=C}T!==null?(i.memoizedState={dehydrated:T,treeContext:La!==null?{id:Hs,overflow:zs}:null,retryLane:536870912},C=zn(18,null,null,0),C.stateNode=T,C.return=i,i.child=C,on=i,Kt=null,C=!0):C=!1}C||Pa(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return T.data==="$!"?i.lanes=16:i.lanes=536870912,null;Ks(i)}return T=o.children,o=o.fallback,f?(Di(),f=i.mode,T=df({mode:"hidden",children:T},f),o=Qa(o,f,r,null),T.return=i,o.return=i,T.sibling=o,i.child=T,f=i.child,f.memoizedState=cf(r),f.childLanes=uf(t,x,r),i.memoizedState=of,o):(ji(i),hf(i,T))}if(C=t.memoizedState,C!==null&&(T=C.dehydrated,T!==null)){if(m)i.flags&256?(ji(i),i.flags&=-257,i=ff(t,i,r)):i.memoizedState!==null?(Di(),i.child=t.child,i.flags|=128,i=null):(Di(),f=o.fallback,T=i.mode,o=df({mode:"visible",children:o.children},T),f=Qa(f,T,r,null),f.flags|=2,o.return=i,f.return=i,o.sibling=f,i.child=o,Ua(i,t.child,null,r),o=i.child,o.memoizedState=cf(r),o.childLanes=uf(t,x,r),i.memoizedState=of,i=f);else if(ji(i),T.data==="$!"){if(x=T.nextSibling&&T.nextSibling.dataset,x)var B=x.dgst;x=B,o=Error(a(419)),o.stack="",o.digest=x,ro({value:o,source:null,stack:null}),i=ff(t,i,r)}else if(Pt||_o(t,i,r,!1),x=(r&t.childLanes)!==0,Pt||x){if(x=et,x!==null){if(o=r&-r,(o&42)!==0)o=1;else switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=64;break;case 268435456:o=134217728;break;default:o=0}if(o=(o&(x.suspendedLanes|r))!==0?0:o,o!==0&&o!==C.retryLane)throw C.retryLane=o,Ci(t,o),cn(x,t,o),Fy}T.data==="$?"||Hf(),i=ff(t,i,r)}else T.data==="$?"?(i.flags|=128,i.child=t.child,i=uA.bind(null,t),T._reactRetry=i,i=null):(t=C.treeContext,Kt=Wn(T.nextSibling),on=i,Ge=!0,Yn=null,gs=!1,t!==null&&(Vn[Pn++]=Hs,Vn[Pn++]=zs,Vn[Pn++]=La,Hs=t.id,zs=t.overflow,La=i),i=hf(i,o.children),i.flags|=4096);return i}return f?(Di(),f=o.fallback,T=i.mode,C=t.child,B=C.sibling,o=Ki(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&31457280,B!==null?f=Ki(B,f):(f=Qa(f,T,r,null),f.flags|=2),f.return=i,o.return=i,o.sibling=f,i.child=o,o=f,f=i.child,T=t.child.memoizedState,T===null?T=cf(r):(C=T.cachePool,C!==null?(B=It._currentValue,C=C.parent!==B?{parent:B,pool:B}:C):C=ty(),T={baseLanes:T.baseLanes|r,cachePool:C}),f.memoizedState=T,f.childLanes=uf(t,x,r),i.memoizedState=of,o):(ji(i),r=t.child,t=r.sibling,r=Ki(r,{mode:"visible",children:o.children}),r.return=i,r.sibling=null,t!==null&&(x=i.deletions,x===null?(i.deletions=[t],i.flags|=16):x.push(t)),i.child=r,i.memoizedState=null,r)}function hf(t,i){return i=df({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function df(t,i){return S_(t,i,0,null)}function ff(t,i,r){return Ua(i,t.child,null,r),t=hf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function t_(t,i,r){t.lanes|=i;var o=t.alternate;o!==null&&(o.lanes|=i),yf(t.return,i,r)}function mf(t,i,r,o,f){var m=t.memoizedState;m===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:f}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=o,m.tail=r,m.tailMode=f)}function n_(t,i,r){var o=i.pendingProps,f=o.revealOrder,m=o.tail;if(qt(t,i,o.children,r),o=kt.current,(o&2)!==0)o=o&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&t_(t,r,i);else if(t.tag===19)t_(t,r,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}switch(Xe(kt,o),f){case"forwards":for(r=i.child,f=null;r!==null;)t=r.alternate,t!==null&&ou(t)===null&&(f=r),r=r.sibling;r=f,r===null?(f=i.child,i.child=null):(f=r.sibling,r.sibling=null),mf(i,!1,f,r,m);break;case"backwards":for(r=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&ou(t)===null){i.child=f;break}t=f.sibling,f.sibling=r,r=f,f=t}mf(i,!0,r,null,m);break;case"together":mf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Fs(t,i,r){if(t!==null&&(i.dependencies=t.dependencies),qi|=i.lanes,(r&i.childLanes)===0)if(t!==null){if(_o(t,i,r,!1),(r&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(a(153));if(i.child!==null){for(t=i.child,r=Ki(t,t.pendingProps),i.child=r,r.return=i;t.sibling!==null;)t=t.sibling,r=r.sibling=Ki(t,t.pendingProps),r.return=i;r.sibling=null}return i.child}function gf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&xu(t)))}function Xb(t,i,r){switch(i.tag){case 3:gi(i,i.stateNode.containerInfo),Li(i,It,t.memoizedState.cache),ao();break;case 27:case 5:Ml(i);break;case 4:gi(i,i.stateNode.containerInfo);break;case 10:Li(i,i.type,i.memoizedProps.value);break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(ji(i),i.flags|=128,null):(r&i.child.childLanes)!==0?e_(t,i,r):(ji(i),t=Fs(t,i,r),t!==null?t.sibling:null);ji(i);break;case 19:var f=(t.flags&128)!==0;if(o=(r&i.childLanes)!==0,o||(_o(t,i,r,!1),o=(r&i.childLanes)!==0),f){if(o)return n_(t,i,r);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Xe(kt,kt.current),o)break;return null;case 22:case 23:return i.lanes=0,Yy(t,i,r);case 24:Li(i,It,t.memoizedState.cache)}return Fs(t,i,r)}function s_(t,i,r){if(t!==null)if(t.memoizedProps!==i.pendingProps)Pt=!0;else{if(!gf(t,r)&&(i.flags&128)===0)return Pt=!1,Xb(t,i,r);Pt=(t.flags&131072)!==0}else Pt=!1,Ge&&(i.flags&1048576)!==0&&Hp(i,su,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var o=i.elementType,f=o._init;if(o=f(o._payload),i.type=o,typeof o=="function")kf(o)?(t=qa(o,t),i.tag=1,i=Zy(null,i,o,t,r)):(i.tag=0,i=lf(null,i,o,t,r));else{if(o!=null){if(f=o.$$typeof,f===O){i.tag=11,i=Gy(null,i,o,t,r);break e}else if(f===H){i.tag=14,i=$y(null,i,o,t,r);break e}}throw i=N(o)||o,Error(a(306,i,""))}}return i;case 0:return lf(t,i,i.type,i.pendingProps,r);case 1:return o=i.type,f=qa(o,i.pendingProps),Zy(t,i,o,f,r);case 3:e:{if(gi(i,i.stateNode.containerInfo),t===null)throw Error(a(387));var m=i.pendingProps;f=i.memoizedState,o=f.element,xf(t,i),Eo(i,m,null,r);var x=i.memoizedState;if(m=x.cache,Li(i,It,m),m!==f.cache&&_f(i,[It],r,!0),xo(),m=x.element,f.isDehydrated)if(f={element:m,isDehydrated:!1,cache:x.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=Jy(t,i,m,r);break e}else if(m!==o){o=Ln(Error(a(424)),i),ro(o),i=Jy(t,i,m,r);break e}else for(Kt=Wn(i.stateNode.containerInfo.firstChild),on=i,Ge=!0,Yn=null,gs=!0,r=Xp(i,null,m,r),i.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ao(),m===o){i=Fs(t,i,r);break e}qt(t,i,m,r)}i=i.child}return i;case 26:return yo(t,i),t===null?(r=rv(i.type,null,i.pendingProps,null))?i.memoizedState=r:Ge||(r=i.type,t=i.pendingProps,o=Lu(Rn.current).createElement(r),o[Mt]=i,o[St]=t,Ft(o,r,t),at(o),i.stateNode=o):i.memoizedState=rv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Ml(i),t===null&&Ge&&(o=i.stateNode=sv(i.type,i.pendingProps,Rn.current),on=i,gs=!0,Kt=Wn(o.firstChild)),o=i.pendingProps.children,t!==null||Ge?qt(t,i,o,r):i.child=Ua(i,null,o,r),yo(t,i),i.child;case 5:return t===null&&Ge&&((f=o=Kt)&&(o=SA(o,i.type,i.pendingProps,gs),o!==null?(i.stateNode=o,on=i,Kt=Wn(o.firstChild),gs=!1,f=!0):f=!1),f||Pa(i)),Ml(i),f=i.type,m=i.pendingProps,x=t!==null?t.memoizedProps:null,o=m.children,tm(f,m)?o=null:x!==null&&tm(f,x)&&(i.flags|=32),i.memoizedState!==null&&(f=zd(t,i,Kb,null,null,r),Lo._currentValue=f),yo(t,i),qt(t,i,o,r),i.child;case 6:return t===null&&Ge&&((t=r=Kt)&&(r=NA(r,i.pendingProps,gs),r!==null?(i.stateNode=r,on=i,Kt=null,t=!0):t=!1),t||Pa(i)),null;case 13:return e_(t,i,r);case 4:return gi(i,i.stateNode.containerInfo),o=i.pendingProps,t===null?i.child=Ua(i,null,o,r):qt(t,i,o,r),i.child;case 11:return Gy(t,i,i.type,i.pendingProps,r);case 7:return qt(t,i,i.pendingProps,r),i.child;case 8:return qt(t,i,i.pendingProps.children,r),i.child;case 12:return qt(t,i,i.pendingProps.children,r),i.child;case 10:return o=i.pendingProps,Li(i,i.type,o.value),qt(t,i,o.children,r),i.child;case 9:return f=i.type._context,o=i.pendingProps.children,Ga(i),f=Wt(f),o=o(f),i.flags|=1,qt(t,i,o,r),i.child;case 14:return $y(t,i,i.type,i.pendingProps,r);case 15:return Qy(t,i,i.type,i.pendingProps,r);case 19:return n_(t,i,r);case 22:return Yy(t,i,r);case 24:return Ga(i),o=Wt(It),t===null?(f=Bd(),f===null&&(f=et,m=Pd(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=r),f=m),i.memoizedState={parent:o,cache:f},vf(i),Li(i,It,f)):((t.lanes&r)!==0&&(xf(t,i),Eo(i,null,null,r),xo()),f=t.memoizedState,m=i.memoizedState,f.parent!==o?(f={parent:o,cache:o},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Li(i,It,o)):(o=m.cache,Li(i,It,o),o!==f.cache&&_f(i,[It],r,!0))),qt(t,i,i.pendingProps.children,r),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}var pf=qe(null),Fa=null,Gs=null;function Li(t,i,r){Xe(pf,i._currentValue),i._currentValue=r}function $s(t){t._currentValue=pf.current,ct(pf)}function yf(t,i,r){for(;t!==null;){var o=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),t===r)break;t=t.return}}function _f(t,i,r,o){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var m=f.dependencies;if(m!==null){var x=f.child;m=m.firstContext;e:for(;m!==null;){var T=m;m=f;for(var C=0;C<i.length;C++)if(T.context===i[C]){m.lanes|=r,T=m.alternate,T!==null&&(T.lanes|=r),yf(m.return,r,t),o||(x=null);break e}m=T.next}}else if(f.tag===18){if(x=f.return,x===null)throw Error(a(341));x.lanes|=r,m=x.alternate,m!==null&&(m.lanes|=r),yf(x,r,t),x=null}else x=f.child;if(x!==null)x.return=f;else for(x=f;x!==null;){if(x===t){x=null;break}if(f=x.sibling,f!==null){f.return=x.return,x=f;break}x=x.return}f=x}}function _o(t,i,r,o){t=null;for(var f=i,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var x=f.alternate;if(x===null)throw Error(a(387));if(x=x.memoizedProps,x!==null){var T=f.type;vn(f.pendingProps.value,x.value)||(t!==null?t.push(T):t=[T])}}else if(f===mi.current){if(x=f.alternate,x===null)throw Error(a(387));x.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Lo):t=[Lo])}f=f.return}t!==null&&_f(i,t,r,o),i.flags|=262144}function xu(t){for(t=t.firstContext;t!==null;){if(!vn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ga(t){Fa=t,Gs=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Wt(t){return i_(Fa,t)}function Eu(t,i){return Fa===null&&Ga(t),i_(t,i)}function i_(t,i){var r=i._currentValue;if(i={context:i,memoizedValue:r,next:null},Gs===null){if(t===null)throw Error(a(308));Gs=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Gs=Gs.next=i;return r}var Vi=!1;function vf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Pi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ui(t,i,r){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(lt&2)!==0){var f=o.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),o.pending=i,i=tu(t),Up(t,null,r),i}return eu(t,o,i,r),tu(t)}function vo(t,i,r){if(i=i.updateQueue,i!==null&&(i=i.shared,(r&4194176)!==0)){var o=i.lanes;o&=t.pendingLanes,r|=o,i.lanes=r,Ei(t,r)}}function Ef(t,i){var r=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var f=null,m=null;if(r=r.firstBaseUpdate,r!==null){do{var x={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};m===null?f=m=x:m=m.next=x,r=r.next}while(r!==null);m===null?f=m=i:m=m.next=i}else f=m=i;r={baseState:o.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:o.shared,callbacks:o.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=i:t.next=i,r.lastBaseUpdate=i}var Tf=!1;function xo(){if(Tf){var t=qr;if(t!==null)throw t}}function Eo(t,i,r,o){Tf=!1;var f=t.updateQueue;Vi=!1;var m=f.firstBaseUpdate,x=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var C=T,B=C.next;C.next=null,x===null?m=B:x.next=B,x=C;var Z=t.alternate;Z!==null&&(Z=Z.updateQueue,T=Z.lastBaseUpdate,T!==x&&(T===null?Z.firstBaseUpdate=B:T.next=B,Z.lastBaseUpdate=C))}if(m!==null){var ae=f.baseState;x=0,Z=B=C=null,T=m;do{var Y=T.lane&-536870913,W=Y!==T.lane;if(W?(ze&Y)===Y:(o&Y)===Y){Y!==0&&Y===Kr&&(Tf=!0),Z!==null&&(Z=Z.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var pe=t,Ne=T;Y=i;var ft=r;switch(Ne.tag){case 1:if(pe=Ne.payload,typeof pe=="function"){ae=pe.call(ft,ae,Y);break e}ae=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=Ne.payload,Y=typeof pe=="function"?pe.call(ft,ae,Y):pe,Y==null)break e;ae=k({},ae,Y);break e;case 2:Vi=!0}}Y=T.callback,Y!==null&&(t.flags|=64,W&&(t.flags|=8192),W=f.callbacks,W===null?f.callbacks=[Y]:W.push(Y))}else W={lane:Y,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Z===null?(B=Z=W,C=ae):Z=Z.next=W,x|=Y;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;W=T,T=W.next,W.next=null,f.lastBaseUpdate=W,f.shared.pending=null}}while(!0);Z===null&&(C=ae),f.baseState=C,f.firstBaseUpdate=B,f.lastBaseUpdate=Z,m===null&&(f.shared.lanes=0),qi|=x,t.lanes=x,t.memoizedState=ae}}function a_(t,i){if(typeof t!="function")throw Error(a(191,t));t.call(i)}function r_(t,i){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)a_(r[t],i)}function To(t,i){try{var r=i.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var f=o.next;r=f;do{if((r.tag&t)===t){o=void 0;var m=r.create,x=r.inst;o=m(),x.destroy=o}r=r.next}while(r!==f)}}catch(T){Je(i,i.return,T)}}function Bi(t,i,r){try{var o=i.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var m=f.next;o=m;do{if((o.tag&t)===t){var x=o.inst,T=x.destroy;if(T!==void 0){x.destroy=void 0,f=i;var C=r;try{T()}catch(B){Je(f,C,B)}}}o=o.next}while(o!==m)}}catch(B){Je(i,i.return,B)}}function l_(t){var i=t.updateQueue;if(i!==null){var r=t.stateNode;try{r_(i,r)}catch(o){Je(t,t.return,o)}}}function o_(t,i,r){r.props=qa(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(o){Je(t,i,o)}}function $a(t,i){try{var r=t.ref;if(r!==null){var o=t.stateNode;switch(t.tag){case 26:case 27:case 5:var f=o;break;default:f=o}typeof r=="function"?t.refCleanup=r(f):r.current=f}}catch(m){Je(t,i,m)}}function xn(t,i){var r=t.ref,o=t.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(f){Je(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(f){Je(t,i,f)}else r.current=null}function c_(t){var i=t.type,r=t.memoizedProps,o=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break e;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(f){Je(t,t.return,f)}}function u_(t,i,r){try{var o=t.stateNode;EA(o,t.type,r,i),o[St]=i}catch(f){Je(t,t.return,f)}}function h_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function bf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||h_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Af(t,i,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?r.nodeType===8?r.parentNode.insertBefore(t,i):r.insertBefore(t,i):(r.nodeType===8?(i=r.parentNode,i.insertBefore(t,r)):(i=r,i.appendChild(t)),r=r._reactRootContainer,r!=null||i.onclick!==null||(i.onclick=Mu));else if(o!==4&&o!==27&&(t=t.child,t!==null))for(Af(t,i,r),t=t.sibling;t!==null;)Af(t,i,r),t=t.sibling}function Tu(t,i,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?r.insertBefore(t,i):r.appendChild(t);else if(o!==4&&o!==27&&(t=t.child,t!==null))for(Tu(t,i,r),t=t.sibling;t!==null;)Tu(t,i,r),t=t.sibling}var Qs=!1,ht=!1,wf=!1,d_=typeof WeakSet=="function"?WeakSet:Set,Ut=null,f_=!1;function Wb(t,i){if(t=t.containerInfo,Jf=zu,t=Ip(t),Sd(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var f=o.anchorOffset,m=o.focusNode;o=o.focusOffset;try{r.nodeType,m.nodeType}catch{r=null;break e}var x=0,T=-1,C=-1,B=0,Z=0,ae=t,Y=null;t:for(;;){for(var W;ae!==r||f!==0&&ae.nodeType!==3||(T=x+f),ae!==m||o!==0&&ae.nodeType!==3||(C=x+o),ae.nodeType===3&&(x+=ae.nodeValue.length),(W=ae.firstChild)!==null;)Y=ae,ae=W;for(;;){if(ae===t)break t;if(Y===r&&++B===f&&(T=x),Y===m&&++Z===o&&(C=x),(W=ae.nextSibling)!==null)break;ae=Y,Y=ae.parentNode}ae=W}r=T===-1||C===-1?null:{start:T,end:C}}else r=null}r=r||{start:0,end:0}}else r=null;for(em={focusedElem:t,selectionRange:r},zu=!1,Ut=i;Ut!==null;)if(i=Ut,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Ut=t;else for(;Ut!==null;){switch(i=Ut,m=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,r=i,f=m.memoizedProps,m=m.memoizedState,o=r.stateNode;try{var pe=qa(r.type,f,r.elementType===r.type);t=o.getSnapshotBeforeUpdate(pe,m),o.__reactInternalSnapshotBeforeUpdate=t}catch(Ne){Je(r,r.return,Ne)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,r=t.nodeType,r===9)im(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":im(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=i.sibling,t!==null){t.return=i.return,Ut=t;break}Ut=i.return}return pe=f_,f_=!1,pe}function m_(t,i,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:Xs(t,r),o&4&&To(5,r);break;case 1:if(Xs(t,r),o&4)if(t=r.stateNode,i===null)try{t.componentDidMount()}catch(T){Je(r,r.return,T)}else{var f=qa(r.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(T){Je(r,r.return,T)}}o&64&&l_(r),o&512&&$a(r,r.return);break;case 3:if(Xs(t,r),o&64&&(o=r.updateQueue,o!==null)){if(t=null,r.child!==null)switch(r.child.tag){case 27:case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}try{r_(o,t)}catch(T){Je(r,r.return,T)}}break;case 26:Xs(t,r),o&512&&$a(r,r.return);break;case 27:case 5:Xs(t,r),i===null&&o&4&&c_(r),o&512&&$a(r,r.return);break;case 12:Xs(t,r);break;case 13:Xs(t,r),o&4&&y_(t,r);break;case 22:if(f=r.memoizedState!==null||Qs,!f){i=i!==null&&i.memoizedState!==null||ht;var m=Qs,x=ht;Qs=f,(ht=i)&&!x?Hi(t,r,(r.subtreeFlags&8772)!==0):Xs(t,r),Qs=m,ht=x}o&512&&(r.memoizedProps.mode==="manual"?$a(r,r.return):xn(r,r.return));break;default:Xs(t,r)}}function g_(t){var i=t.alternate;i!==null&&(t.alternate=null,g_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ba(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Tt=null,En=!1;function Ys(t,i,r){for(r=r.child;r!==null;)p_(t,i,r),r=r.sibling}function p_(t,i,r){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(pi,r)}catch{}switch(r.tag){case 26:ht||xn(r,i),Ys(t,i,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:ht||xn(r,i);var o=Tt,f=En;for(Tt=r.stateNode,Ys(t,i,r),r=r.stateNode,i=r.attributes;i.length;)r.removeAttributeNode(i[0]);ba(r),Tt=o,En=f;break;case 5:ht||xn(r,i);case 6:f=Tt;var m=En;if(Tt=null,Ys(t,i,r),Tt=f,En=m,Tt!==null)if(En)try{t=Tt,o=r.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)}catch(x){Je(r,i,x)}else try{Tt.removeChild(r.stateNode)}catch(x){Je(r,i,x)}break;case 18:Tt!==null&&(En?(i=Tt,r=r.stateNode,i.nodeType===8?sm(i.parentNode,r):i.nodeType===1&&sm(i,r),Bo(i)):sm(Tt,r.stateNode));break;case 4:o=Tt,f=En,Tt=r.stateNode.containerInfo,En=!0,Ys(t,i,r),Tt=o,En=f;break;case 0:case 11:case 14:case 15:ht||Bi(2,r,i),ht||Bi(4,r,i),Ys(t,i,r);break;case 1:ht||(xn(r,i),o=r.stateNode,typeof o.componentWillUnmount=="function"&&o_(r,i,o)),Ys(t,i,r);break;case 21:Ys(t,i,r);break;case 22:ht||xn(r,i),ht=(o=ht)||r.memoizedState!==null,Ys(t,i,r),ht=o;break;default:Ys(t,i,r)}}function y_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Bo(t)}catch(r){Je(i,i.return,r)}}function Zb(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new d_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new d_),i;default:throw Error(a(435,t.tag))}}function Sf(t,i){var r=Zb(t);i.forEach(function(o){var f=hA.bind(null,t,o);r.has(o)||(r.add(o),o.then(f,f))})}function Bn(t,i){var r=i.deletions;if(r!==null)for(var o=0;o<r.length;o++){var f=r[o],m=t,x=i,T=x;e:for(;T!==null;){switch(T.tag){case 27:case 5:Tt=T.stateNode,En=!1;break e;case 3:Tt=T.stateNode.containerInfo,En=!0;break e;case 4:Tt=T.stateNode.containerInfo,En=!0;break e}T=T.return}if(Tt===null)throw Error(a(160));p_(m,x,f),Tt=null,En=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)__(i,t),i=i.sibling}var Xn=null;function __(t,i){var r=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Bn(i,t),Hn(t),o&4&&(Bi(3,t,t.return),To(3,t),Bi(5,t,t.return));break;case 1:Bn(i,t),Hn(t),o&512&&(ht||r===null||xn(r,r.return)),o&64&&Qs&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var f=Xn;if(Bn(i,t),Hn(t),o&512&&(ht||r===null||xn(r,r.return)),o&4){var m=r!==null?r.memoizedState:null;if(o=t.memoizedState,r===null)if(o===null)if(t.stateNode===null){e:{o=t.type,r=t.memoizedProps,f=f.ownerDocument||f;t:switch(o){case"title":m=f.getElementsByTagName("title")[0],(!m||m[bi]||m[Mt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(o),f.head.insertBefore(m,f.querySelector("head > title"))),Ft(m,o,r),m[Mt]=t,at(m),o=m;break e;case"link":var x=cv("link","href",f).get(o+(r.href||""));if(x){for(var T=0;T<x.length;T++)if(m=x[T],m.getAttribute("href")===(r.href==null?null:r.href)&&m.getAttribute("rel")===(r.rel==null?null:r.rel)&&m.getAttribute("title")===(r.title==null?null:r.title)&&m.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){x.splice(T,1);break t}}m=f.createElement(o),Ft(m,o,r),f.head.appendChild(m);break;case"meta":if(x=cv("meta","content",f).get(o+(r.content||""))){for(T=0;T<x.length;T++)if(m=x[T],m.getAttribute("content")===(r.content==null?null:""+r.content)&&m.getAttribute("name")===(r.name==null?null:r.name)&&m.getAttribute("property")===(r.property==null?null:r.property)&&m.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&m.getAttribute("charset")===(r.charSet==null?null:r.charSet)){x.splice(T,1);break t}}m=f.createElement(o),Ft(m,o,r),f.head.appendChild(m);break;default:throw Error(a(468,o))}m[Mt]=t,at(m),o=m}t.stateNode=o}else uv(f,t.type,t.stateNode);else t.stateNode=ov(f,o,t.memoizedProps);else m!==o?(m===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):m.count--,o===null?uv(f,t.type,t.stateNode):ov(f,o,t.memoizedProps)):o===null&&t.stateNode!==null&&u_(t,t.memoizedProps,r.memoizedProps)}break;case 27:if(o&4&&t.alternate===null){f=t.stateNode,m=t.memoizedProps;try{for(var C=f.firstChild;C;){var B=C.nextSibling,Z=C.nodeName;C[bi]||Z==="HEAD"||Z==="BODY"||Z==="SCRIPT"||Z==="STYLE"||Z==="LINK"&&C.rel.toLowerCase()==="stylesheet"||f.removeChild(C),C=B}for(var ae=t.type,Y=f.attributes;Y.length;)f.removeAttributeNode(Y[0]);Ft(f,ae,m),f[Mt]=t,f[St]=m}catch(pe){Je(t,t.return,pe)}}case 5:if(Bn(i,t),Hn(t),o&512&&(ht||r===null||xn(r,r.return)),t.flags&32){f=t.stateNode;try{Cn(f,"")}catch(pe){Je(t,t.return,pe)}}o&4&&t.stateNode!=null&&(f=t.memoizedProps,u_(t,f,r!==null?r.memoizedProps:f)),o&1024&&(wf=!0);break;case 6:if(Bn(i,t),Hn(t),o&4){if(t.stateNode===null)throw Error(a(162));o=t.memoizedProps,r=t.stateNode;try{r.nodeValue=o}catch(pe){Je(t,t.return,pe)}}break;case 3:if(Uu=null,f=Xn,Xn=Vu(i.containerInfo),Bn(i,t),Xn=f,Hn(t),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Bo(i.containerInfo)}catch(pe){Je(t,t.return,pe)}wf&&(wf=!1,v_(t));break;case 4:o=Xn,Xn=Vu(t.stateNode.containerInfo),Bn(i,t),Hn(t),Xn=o;break;case 12:Bn(i,t),Hn(t);break;case 13:Bn(i,t),Hn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Mf=dn()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Sf(t,o)));break;case 22:if(o&512&&(ht||r===null||xn(r,r.return)),C=t.memoizedState!==null,B=r!==null&&r.memoizedState!==null,Z=Qs,ae=ht,Qs=Z||C,ht=ae||B,Bn(i,t),ht=ae,Qs=Z,Hn(t),i=t.stateNode,i._current=t,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,o&8192&&(i._visibility=C?i._visibility&-2:i._visibility|1,C&&(i=Qs||ht,r===null||B||i||Qr(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))e:for(r=null,i=t;;){if(i.tag===5||i.tag===26||i.tag===27){if(r===null){B=r=i;try{if(f=B.stateNode,C)m=f.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{x=B.stateNode,T=B.memoizedProps.style;var W=T!=null&&T.hasOwnProperty("display")?T.display:null;x.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(pe){Je(B,B.return,pe)}}}else if(i.tag===6){if(r===null){B=i;try{B.stateNode.nodeValue=C?"":B.memoizedProps}catch(pe){Je(B,B.return,pe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;r===i&&(r=null),i=i.return}r===i&&(r=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=t.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,Sf(t,r))));break;case 19:Bn(i,t),Hn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Sf(t,o)));break;case 21:break;default:Bn(i,t),Hn(t)}}function Hn(t){var i=t.flags;if(i&2){try{if(t.tag!==27){e:{for(var r=t.return;r!==null;){if(h_(r)){var o=r;break e}r=r.return}throw Error(a(160))}switch(o.tag){case 27:var f=o.stateNode,m=bf(t);Tu(t,m,f);break;case 5:var x=o.stateNode;o.flags&32&&(Cn(x,""),o.flags&=-33);var T=bf(t);Tu(t,T,x);break;case 3:case 4:var C=o.stateNode.containerInfo,B=bf(t);Af(t,B,C);break;default:throw Error(a(161))}}}catch(Z){Je(t,t.return,Z)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function v_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;v_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Xs(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)m_(t,i.alternate,i),i=i.sibling}function Qr(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Bi(4,i,i.return),Qr(i);break;case 1:xn(i,i.return);var r=i.stateNode;typeof r.componentWillUnmount=="function"&&o_(i,i.return,r),Qr(i);break;case 26:case 27:case 5:xn(i,i.return),Qr(i);break;case 22:xn(i,i.return),i.memoizedState===null&&Qr(i);break;default:Qr(i)}t=t.sibling}}function Hi(t,i,r){for(r=r&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,f=t,m=i,x=m.flags;switch(m.tag){case 0:case 11:case 15:Hi(f,m,r),To(4,m);break;case 1:if(Hi(f,m,r),o=m,f=o.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(B){Je(o,o.return,B)}if(o=m,f=o.updateQueue,f!==null){var T=o.stateNode;try{var C=f.shared.hiddenCallbacks;if(C!==null)for(f.shared.hiddenCallbacks=null,f=0;f<C.length;f++)a_(C[f],T)}catch(B){Je(o,o.return,B)}}r&&x&64&&l_(m),$a(m,m.return);break;case 26:case 27:case 5:Hi(f,m,r),r&&o===null&&x&4&&c_(m),$a(m,m.return);break;case 12:Hi(f,m,r);break;case 13:Hi(f,m,r),r&&x&4&&y_(f,m);break;case 22:m.memoizedState===null&&Hi(f,m,r),$a(m,m.return);break;default:Hi(f,m,r)}i=i.sibling}}function Nf(t,i){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&ho(r))}function Rf(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ho(t))}function zi(t,i,r,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)x_(t,i,r,o),i=i.sibling}function x_(t,i,r,o){var f=i.flags;switch(i.tag){case 0:case 11:case 15:zi(t,i,r,o),f&2048&&To(9,i);break;case 3:zi(t,i,r,o),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ho(t)));break;case 12:if(f&2048){zi(t,i,r,o),t=i.stateNode;try{var m=i.memoizedProps,x=m.id,T=m.onPostCommit;typeof T=="function"&&T(x,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){Je(i,i.return,C)}}else zi(t,i,r,o);break;case 23:break;case 22:m=i.stateNode,i.memoizedState!==null?m._visibility&4?zi(t,i,r,o):bo(t,i):m._visibility&4?zi(t,i,r,o):(m._visibility|=4,Yr(t,i,r,o,(i.subtreeFlags&10256)!==0)),f&2048&&Nf(i.alternate,i);break;case 24:zi(t,i,r,o),f&2048&&Rf(i.alternate,i);break;default:zi(t,i,r,o)}}function Yr(t,i,r,o,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var m=t,x=i,T=r,C=o,B=x.flags;switch(x.tag){case 0:case 11:case 15:Yr(m,x,T,C,f),To(8,x);break;case 23:break;case 22:var Z=x.stateNode;x.memoizedState!==null?Z._visibility&4?Yr(m,x,T,C,f):bo(m,x):(Z._visibility|=4,Yr(m,x,T,C,f)),f&&B&2048&&Nf(x.alternate,x);break;case 24:Yr(m,x,T,C,f),f&&B&2048&&Rf(x.alternate,x);break;default:Yr(m,x,T,C,f)}i=i.sibling}}function bo(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var r=t,o=i,f=o.flags;switch(o.tag){case 22:bo(r,o),f&2048&&Nf(o.alternate,o);break;case 24:bo(r,o),f&2048&&Rf(o.alternate,o);break;default:bo(r,o)}i=i.sibling}}var Ao=8192;function Xr(t){if(t.subtreeFlags&Ao)for(t=t.child;t!==null;)E_(t),t=t.sibling}function E_(t){switch(t.tag){case 26:Xr(t),t.flags&Ao&&t.memoizedState!==null&&BA(Xn,t.memoizedState,t.memoizedProps);break;case 5:Xr(t);break;case 3:case 4:var i=Xn;Xn=Vu(t.stateNode.containerInfo),Xr(t),Xn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=Ao,Ao=16777216,Xr(t),Ao=i):Xr(t));break;default:Xr(t)}}function T_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function wo(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var r=0;r<i.length;r++){var o=i[r];Ut=o,A_(o,t)}T_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)b_(t),t=t.sibling}function b_(t){switch(t.tag){case 0:case 11:case 15:wo(t),t.flags&2048&&Bi(9,t,t.return);break;case 3:wo(t);break;case 12:wo(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&4&&(t.return===null||t.return.tag!==13)?(i._visibility&=-5,bu(t)):wo(t);break;default:wo(t)}}function bu(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var r=0;r<i.length;r++){var o=i[r];Ut=o,A_(o,t)}T_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Bi(8,i,i.return),bu(i);break;case 22:r=i.stateNode,r._visibility&4&&(r._visibility&=-5,bu(i));break;default:bu(i)}t=t.sibling}}function A_(t,i){for(;Ut!==null;){var r=Ut;switch(r.tag){case 0:case 11:case 15:Bi(8,r,i);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:ho(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Ut=o;else e:for(r=t;Ut!==null;){o=Ut;var f=o.sibling,m=o.return;if(g_(o),o===r){Ut=null;break e}if(f!==null){f.return=m,Ut=f;break e}Ut=m}}}function Jb(t,i,r,o){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(t,i,r,o){return new Jb(t,i,r,o)}function kf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ki(t,i){var r=t.alternate;return r===null?(r=zn(t.tag,i,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=i,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&31457280,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,i=t.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function w_(t,i){t.flags&=31457282;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,i=r.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Au(t,i,r,o,f,m){var x=0;if(o=t,typeof t=="function")kf(t)&&(x=1);else if(typeof t=="string")x=PA(t,r,sn.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case p:return Qa(r.children,f,m,i);case y:x=8,f|=24;break;case E:return t=zn(12,r,i,f|2),t.elementType=E,t.lanes=m,t;case K:return t=zn(13,r,i,f),t.elementType=K,t.lanes=m,t;case M:return t=zn(19,r,i,f),t.elementType=M,t.lanes=m,t;case $:return S_(r,f,m,i);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case b:case j:x=10;break e;case w:x=9;break e;case O:x=11;break e;case H:x=14;break e;case G:x=16,o=null;break e}x=29,r=Error(a(130,t===null?"null":typeof t,"")),o=null}return i=zn(x,r,i,f),i.elementType=t,i.type=o,i.lanes=m,i}function Qa(t,i,r,o){return t=zn(7,t,o,i),t.lanes=r,t}function S_(t,i,r,o){t=zn(22,t,o,i),t.elementType=$,t.lanes=r;var f={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var m=f._current;if(m===null)throw Error(a(456));if((f._pendingVisibility&2)===0){var x=Ci(m,2);x!==null&&(f._pendingVisibility|=2,cn(x,m,2))}},attach:function(){var m=f._current;if(m===null)throw Error(a(456));if((f._pendingVisibility&2)!==0){var x=Ci(m,2);x!==null&&(f._pendingVisibility&=-3,cn(x,m,2))}}};return t.stateNode=f,t}function If(t,i,r){return t=zn(6,t,null,i),t.lanes=r,t}function Cf(t,i,r){return i=zn(4,t.children!==null?t.children:[],t.key,i),i.lanes=r,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}function Ws(t){t.flags|=4}function N_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!hv(i)){if(i=Un.current,i!==null&&((ze&4194176)===ze?ps!==null:(ze&62914560)!==ze&&(ze&536870912)===0||i!==ps))throw oo=Md,qp;t.flags|=8192}}function wu(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?vi():536870912,t.lanes|=i,Zr|=i)}function So(t,i){if(!Ge)switch(t.tailMode){case"hidden":i=t.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function rt(t){var i=t.alternate!==null&&t.alternate.child===t.child,r=0,o=0;if(i)for(var f=t.child;f!==null;)r|=f.lanes|f.childLanes,o|=f.subtreeFlags&31457280,o|=f.flags&31457280,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)r|=f.lanes|f.childLanes,o|=f.subtreeFlags,o|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=o,t.childLanes=r,i}function eA(t,i,r){var o=i.pendingProps;switch(Dd(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(i),null;case 1:return rt(i),null;case 3:return r=i.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),$s(It),Is(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(io(i)?Ws(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Yn!==null&&(Uf(Yn),Yn=null))),rt(i),null;case 26:return r=i.memoizedState,t===null?(Ws(i),r!==null?(rt(i),N_(i,r)):(rt(i),i.flags&=-16777217)):r?r!==t.memoizedState?(Ws(i),rt(i),N_(i,r)):(rt(i),i.flags&=-16777217):(t.memoizedProps!==o&&Ws(i),rt(i),i.flags&=-16777217),null;case 27:yr(i),r=Rn.current;var f=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==o&&Ws(i);else{if(!o){if(i.stateNode===null)throw Error(a(166));return rt(i),null}t=sn.current,io(i)?zp(i):(t=sv(f,o,r),i.stateNode=t,Ws(i))}return rt(i),null;case 5:if(yr(i),r=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&Ws(i);else{if(!o){if(i.stateNode===null)throw Error(a(166));return rt(i),null}if(t=sn.current,io(i))zp(i);else{switch(f=Lu(Rn.current),t){case 1:t=f.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=f.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=f.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=f.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=f.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof o.is=="string"?f.createElement("select",{is:o.is}):f.createElement("select"),o.multiple?t.multiple=!0:o.size&&(t.size=o.size);break;default:t=typeof o.is=="string"?f.createElement(r,{is:o.is}):f.createElement(r)}}t[Mt]=i,t[St]=o;e:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)t.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break e;for(;f.sibling===null;){if(f.return===null||f.return===i)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=t;e:switch(Ft(t,r,o),r){case"button":case"input":case"select":case"textarea":t=!!o.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Ws(i)}}return rt(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==o&&Ws(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(a(166));if(t=Rn.current,io(i)){if(t=i.stateNode,r=i.memoizedProps,o=null,f=on,f!==null)switch(f.tag){case 27:case 5:o=f.memoizedProps}t[Mt]=i,t=!!(t.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||W_(t.nodeValue,r)),t||Pa(i)}else t=Lu(t).createTextNode(o),t[Mt]=i,i.stateNode=t}return rt(i),null;case 13:if(o=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=io(i),o!==null&&o.dehydrated!==null){if(t===null){if(!f)throw Error(a(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[Mt]=i}else ao(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;rt(i),f=!1}else Yn!==null&&(Uf(Yn),Yn=null),f=!0;if(!f)return i.flags&256?(Ks(i),i):(Ks(i),null)}if(Ks(i),(i.flags&128)!==0)return i.lanes=r,i;if(r=o!==null,t=t!==null&&t.memoizedState!==null,r){o=i.child,f=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(f=o.alternate.memoizedState.cachePool.pool);var m=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==f&&(o.flags|=2048)}return r!==t&&r&&(i.child.flags|=8192),wu(i,i.updateQueue),rt(i),null;case 4:return Is(),t===null&&Xf(i.stateNode.containerInfo),rt(i),null;case 10:return $s(i.type),rt(i),null;case 19:if(ct(kt),f=i.memoizedState,f===null)return rt(i),null;if(o=(i.flags&128)!==0,m=f.rendering,m===null)if(o)So(f,!1);else{if(dt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(m=ou(t),m!==null){for(i.flags|=128,So(f,!1),t=m.updateQueue,i.updateQueue=t,wu(i,t),i.subtreeFlags=0,t=r,r=i.child;r!==null;)w_(r,t),r=r.sibling;return Xe(kt,kt.current&1|2),i.child}t=t.sibling}f.tail!==null&&dn()>Su&&(i.flags|=128,o=!0,So(f,!1),i.lanes=4194304)}else{if(!o)if(t=ou(m),t!==null){if(i.flags|=128,o=!0,t=t.updateQueue,i.updateQueue=t,wu(i,t),So(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!Ge)return rt(i),null}else 2*dn()-f.renderingStartTime>Su&&r!==536870912&&(i.flags|=128,o=!0,So(f,!1),i.lanes=4194304);f.isBackwards?(m.sibling=i.child,i.child=m):(t=f.last,t!==null?t.sibling=m:i.child=m,f.last=m)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=dn(),i.sibling=null,t=kt.current,Xe(kt,o?t&1|2:t&1),i):(rt(i),null);case 22:case 23:return Ks(i),Vd(),o=i.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(r&536870912)!==0&&(i.flags&128)===0&&(rt(i),i.subtreeFlags&6&&(i.flags|=8192)):rt(i),r=i.updateQueue,r!==null&&wu(i,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==r&&(i.flags|=2048),t!==null&&ct(Ba),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),i.memoizedState.cache!==r&&(i.flags|=2048),$s(It),rt(i),null;case 25:return null}throw Error(a(156,i.tag))}function tA(t,i){switch(Dd(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return $s(It),Is(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return yr(i),null;case 13:if(Ks(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(a(340));ao()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return ct(kt),null;case 4:return Is(),null;case 10:return $s(i.type),null;case 22:case 23:return Ks(i),Vd(),t!==null&&ct(Ba),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return $s(It),null;case 25:return null;default:return null}}function R_(t,i){switch(Dd(i),i.tag){case 3:$s(It),Is();break;case 26:case 27:case 5:yr(i);break;case 4:Is();break;case 13:Ks(i);break;case 19:ct(kt);break;case 10:$s(i.type);break;case 22:case 23:Ks(i),Vd(),t!==null&&ct(Ba);break;case 24:$s(It)}}var nA={getCacheForType:function(t){var i=Wt(It),r=i.data.get(t);return r===void 0&&(r=t(),i.data.set(t,r)),r}},sA=typeof WeakMap=="function"?WeakMap:Map,lt=0,et=null,Me=null,ze=0,tt=0,Tn=null,Zs=!1,Wr=!1,jf=!1,Js=0,dt=0,qi=0,Ya=0,Df=0,Kn=0,Zr=0,No=null,_s=null,Of=!1,Mf=0,Su=1/0,Nu=null,Fi=null,Ru=!1,Xa=null,Ro=0,Lf=0,Vf=null,ko=0,Pf=null;function bn(){if((lt&2)!==0&&ze!==0)return ze&-ze;if(S.T!==null){var t=Kr;return t!==0?t:Gf()}return Oc()}function k_(){Kn===0&&(Kn=(ze&536870912)===0||Ge?Bl():536870912);var t=Un.current;return t!==null&&(t.flags|=32),Kn}function cn(t,i,r){(t===et&&tt===2||t.cancelPendingCommit!==null)&&(Jr(t,0),ei(t,ze,Kn,!1)),pt(t,r),((lt&2)===0||t!==et)&&(t===et&&((lt&2)===0&&(Ya|=r),dt===4&&ei(t,ze,Kn,!1)),vs(t))}function I_(t,i,r){if((lt&6)!==0)throw Error(a(327));var o=!r&&(i&60)===0&&(i&t.expiredLanes)===0||_i(t,i),f=o?rA(t,i):zf(t,i,!0),m=o;do{if(f===0){Wr&&!o&&ei(t,i,0,!1);break}else if(f===6)ei(t,i,0,!Zs);else{if(r=t.current.alternate,m&&!iA(r)){f=zf(t,i,!1),m=!1;continue}if(f===2){if(m=i,t.errorRecoveryDisabledLanes&m)var x=0;else x=t.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){i=x;e:{var T=t;f=No;var C=T.current.memoizedState.isDehydrated;if(C&&(Jr(T,x).flags|=256),x=zf(T,x,!1),x!==2){if(jf&&!C){T.errorRecoveryDisabledLanes|=m,Ya|=m,f=4;break e}m=_s,_s=f,m!==null&&Uf(m)}f=x}if(m=!1,f!==2)continue}}if(f===1){Jr(t,0),ei(t,i,0,!0);break}e:{switch(o=t,f){case 0:case 1:throw Error(a(345));case 4:if((i&4194176)===i){ei(o,i,Kn,!Zs);break e}break;case 2:_s=null;break;case 3:case 5:break;default:throw Error(a(329))}if(o.finishedWork=r,o.finishedLanes=i,(i&62914560)===i&&(m=Mf+300-dn(),10<m)){if(ei(o,i,Kn,!Zs),kn(o,0)!==0)break e;o.timeoutHandle=ev(C_.bind(null,o,r,_s,Nu,Of,i,Kn,Ya,Zr,Zs,2,-0,0),m);break e}C_(o,r,_s,Nu,Of,i,Kn,Ya,Zr,Zs,0,-0,0)}}break}while(!0);vs(t)}function Uf(t){_s===null?_s=t:_s.push.apply(_s,t)}function C_(t,i,r,o,f,m,x,T,C,B,Z,ae,Y){var W=i.subtreeFlags;if((W&8192||(W&16785408)===16785408)&&(Mo={stylesheets:null,count:0,unsuspend:UA},E_(i),i=HA(),i!==null)){t.cancelPendingCommit=i(P_.bind(null,t,r,o,f,x,T,C,1,ae,Y)),ei(t,m,x,!B);return}P_(t,r,o,f,x,T,C,Z,ae,Y)}function iA(t){for(var i=t;;){var r=i.tag;if((r===0||r===11||r===15)&&i.flags&16384&&(r=i.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var f=r[o],m=f.getSnapshot;f=f.value;try{if(!vn(m(),f))return!1}catch{return!1}}if(r=i.child,i.subtreeFlags&16384&&r!==null)r.return=i,i=r;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ei(t,i,r,o){i&=~Df,i&=~Ya,t.suspendedLanes|=i,t.pingedLanes&=~i,o&&(t.warmLanes|=i),o=t.expirationTimes;for(var f=i;0<f;){var m=31-an(f),x=1<<m;o[m]=-1,f&=~x}r!==0&&xi(t,r,i)}function ku(){return(lt&6)===0?(Io(0),!1):!0}function Bf(){if(Me!==null){if(tt===0)var t=Me.return;else t=Me,Gs=Fa=null,Fd(t),Hr=null,co=0,t=Me;for(;t!==null;)R_(t.alternate,t),t=t.return;Me=null}}function Jr(t,i){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,bA(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Bf(),et=t,Me=r=Ki(t.current,null),ze=i,tt=0,Tn=null,Zs=!1,Wr=_i(t,i),jf=!1,Zr=Kn=Df=Ya=qi=dt=0,_s=No=null,Of=!1,(i&8)!==0&&(i|=i&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=i;0<o;){var f=31-an(o),m=1<<f;i|=t[f],o&=~m}return Js=i,Jc(),r}function j_(t,i){De=null,S.H=ys,i===lo?(i=$p(),tt=3):i===qp?(i=$p(),tt=4):tt=i===Fy?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Tn=i,Me===null&&(dt=1,vu(t,Ln(i,t.current)))}function D_(){var t=S.H;return S.H=ys,t===null?ys:t}function O_(){var t=S.A;return S.A=nA,t}function Hf(){dt=4,Zs||(ze&4194176)!==ze&&Un.current!==null||(Wr=!0),(qi&134217727)===0&&(Ya&134217727)===0||et===null||ei(et,ze,Kn,!1)}function zf(t,i,r){var o=lt;lt|=2;var f=D_(),m=O_();(et!==t||ze!==i)&&(Nu=null,Jr(t,i)),i=!1;var x=dt;e:do try{if(tt!==0&&Me!==null){var T=Me,C=Tn;switch(tt){case 8:Bf(),x=6;break e;case 3:case 2:case 6:Un.current===null&&(i=!0);var B=tt;if(tt=0,Tn=null,el(t,T,C,B),r&&Wr){x=0;break e}break;default:B=tt,tt=0,Tn=null,el(t,T,C,B)}}aA(),x=dt;break}catch(Z){j_(t,Z)}while(!0);return i&&t.shellSuspendCounter++,Gs=Fa=null,lt=o,S.H=f,S.A=m,Me===null&&(et=null,ze=0,Jc()),x}function aA(){for(;Me!==null;)M_(Me)}function rA(t,i){var r=lt;lt|=2;var o=D_(),f=O_();et!==t||ze!==i?(Nu=null,Su=dn()+500,Jr(t,i)):Wr=_i(t,i);e:do try{if(tt!==0&&Me!==null){i=Me;var m=Tn;t:switch(tt){case 1:tt=0,Tn=null,el(t,i,m,1);break;case 2:if(Fp(m)){tt=0,Tn=null,L_(i);break}i=function(){tt===2&&et===t&&(tt=7),vs(t)},m.then(i,i);break e;case 3:tt=7;break e;case 4:tt=5;break e;case 7:Fp(m)?(tt=0,Tn=null,L_(i)):(tt=0,Tn=null,el(t,i,m,7));break;case 5:var x=null;switch(Me.tag){case 26:x=Me.memoizedState;case 5:case 27:var T=Me;if(!x||hv(x)){tt=0,Tn=null;var C=T.sibling;if(C!==null)Me=C;else{var B=T.return;B!==null?(Me=B,Iu(B)):Me=null}break t}}tt=0,Tn=null,el(t,i,m,5);break;case 6:tt=0,Tn=null,el(t,i,m,6);break;case 8:Bf(),dt=6;break e;default:throw Error(a(462))}}lA();break}catch(Z){j_(t,Z)}while(!0);return Gs=Fa=null,S.H=o,S.A=f,lt=r,Me!==null?0:(et=null,ze=0,Jc(),dt)}function lA(){for(;Me!==null&&!gd();)M_(Me)}function M_(t){var i=s_(t.alternate,t,Js);t.memoizedProps=t.pendingProps,i===null?Iu(t):Me=i}function L_(t){var i=t,r=i.alternate;switch(i.tag){case 15:case 0:i=Wy(r,i,i.pendingProps,i.type,void 0,ze);break;case 11:i=Wy(r,i,i.pendingProps,i.type.render,i.ref,ze);break;case 5:Fd(i);default:R_(r,i),i=Me=w_(i,Js),i=s_(r,i,Js)}t.memoizedProps=t.pendingProps,i===null?Iu(t):Me=i}function el(t,i,r,o){Gs=Fa=null,Fd(i),Hr=null,co=0;var f=i.return;try{if(Yb(t,f,i,r,ze)){dt=1,vu(t,Ln(r,t.current)),Me=null;return}}catch(m){if(f!==null)throw Me=f,m;dt=1,vu(t,Ln(r,t.current)),Me=null;return}i.flags&32768?(Ge||o===1?t=!0:Wr||(ze&536870912)!==0?t=!1:(Zs=t=!0,(o===2||o===3||o===6)&&(o=Un.current,o!==null&&o.tag===13&&(o.flags|=16384))),V_(i,t)):Iu(i)}function Iu(t){var i=t;do{if((i.flags&32768)!==0){V_(i,Zs);return}t=i.return;var r=eA(i.alternate,i,Js);if(r!==null){Me=r;return}if(i=i.sibling,i!==null){Me=i;return}Me=i=t}while(i!==null);dt===0&&(dt=5)}function V_(t,i){do{var r=tA(t.alternate,t);if(r!==null){r.flags&=32767,Me=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!i&&(t=t.sibling,t!==null)){Me=t;return}Me=t=r}while(t!==null);dt=6,Me=null}function P_(t,i,r,o,f,m,x,T,C,B){var Z=S.T,ae=he.p;try{he.p=2,S.T=null,oA(t,i,r,o,ae,f,m,x,T,C,B)}finally{S.T=Z,he.p=ae}}function oA(t,i,r,o,f,m,x,T){do tl();while(Xa!==null);if((lt&6)!==0)throw Error(a(327));var C=t.finishedWork;if(o=t.finishedLanes,C===null)return null;if(t.finishedWork=null,t.finishedLanes=0,C===t.current)throw Error(a(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var B=C.lanes|C.childLanes;if(B|=Id,jc(t,o,B,m,x,T),t===et&&(Me=et=null,ze=0),(C.subtreeFlags&10256)===0&&(C.flags&10256)===0||Ru||(Ru=!0,Lf=B,Vf=r,dA(Cs,function(){return tl(),null})),r=(C.flags&15990)!==0,(C.subtreeFlags&15990)!==0||r?(r=S.T,S.T=null,m=he.p,he.p=2,x=lt,lt|=4,Wb(t,C),__(C,t),jb(em,t.containerInfo),zu=!!Jf,em=Jf=null,t.current=C,m_(t,C.alternate,C),Ll(),lt=x,he.p=m,S.T=r):t.current=C,Ru?(Ru=!1,Xa=t,Ro=o):U_(t,B),B=t.pendingLanes,B===0&&(Fi=null),Pl(C.stateNode),vs(t),i!==null)for(f=t.onRecoverableError,C=0;C<i.length;C++)B=i[C],f(B.value,{componentStack:B.stack});return(Ro&3)!==0&&tl(),B=t.pendingLanes,(o&4194218)!==0&&(B&42)!==0?t===Pf?ko++:(ko=0,Pf=t):ko=0,Io(0),null}function U_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,ho(i)))}function tl(){if(Xa!==null){var t=Xa,i=Lf;Lf=0;var r=Dc(Ro),o=S.T,f=he.p;try{if(he.p=32>r?32:r,S.T=null,Xa===null)var m=!1;else{r=Vf,Vf=null;var x=Xa,T=Ro;if(Xa=null,Ro=0,(lt&6)!==0)throw Error(a(331));var C=lt;if(lt|=4,b_(x.current),x_(x,x.current,T,r),lt=C,Io(0,!1),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(pi,x)}catch{}m=!0}return m}finally{he.p=f,S.T=o,U_(t,i)}}return!1}function B_(t,i,r){i=Ln(r,i),i=rf(t.stateNode,i,2),t=Ui(t,i,2),t!==null&&(pt(t,2),vs(t))}function Je(t,i,r){if(t.tag===3)B_(t,t,r);else for(;i!==null;){if(i.tag===3){B_(i,t,r);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Fi===null||!Fi.has(o))){t=Ln(r,t),r=Ky(2),o=Ui(i,r,2),o!==null&&(qy(r,o,i,t),pt(o,2),vs(o));break}}i=i.return}}function Kf(t,i,r){var o=t.pingCache;if(o===null){o=t.pingCache=new sA;var f=new Set;o.set(i,f)}else f=o.get(i),f===void 0&&(f=new Set,o.set(i,f));f.has(r)||(jf=!0,f.add(r),t=cA.bind(null,t,i,r),i.then(t,t))}function cA(t,i,r){var o=t.pingCache;o!==null&&o.delete(i),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,et===t&&(ze&r)===r&&(dt===4||dt===3&&(ze&62914560)===ze&&300>dn()-Mf?(lt&2)===0&&Jr(t,0):Df|=r,Zr===ze&&(Zr=0)),vs(t)}function H_(t,i){i===0&&(i=vi()),t=Ci(t,i),t!==null&&(pt(t,i),vs(t))}function uA(t){var i=t.memoizedState,r=0;i!==null&&(r=i.retryLane),H_(t,r)}function hA(t,i){var r=0;switch(t.tag){case 13:var o=t.stateNode,f=t.memoizedState;f!==null&&(r=f.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(i),H_(t,r)}function dA(t,i){return xa(t,i)}var Cu=null,nl=null,qf=!1,ju=!1,Ff=!1,Wa=0;function vs(t){t!==nl&&t.next===null&&(nl===null?Cu=nl=t:nl=nl.next=t),ju=!0,qf||(qf=!0,mA(fA))}function Io(t,i){if(!Ff&&ju){Ff=!0;do for(var r=!1,o=Cu;o!==null;){if(t!==0){var f=o.pendingLanes;if(f===0)var m=0;else{var x=o.suspendedLanes,T=o.pingedLanes;m=(1<<31-an(42|t)+1)-1,m&=f&~(x&~T),m=m&201326677?m&201326677|1:m?m|2:0}m!==0&&(r=!0,q_(o,m))}else m=ze,m=kn(o,o===et?m:0),(m&3)===0||_i(o,m)||(r=!0,q_(o,m));o=o.next}while(r);Ff=!1}}function fA(){ju=qf=!1;var t=0;Wa!==0&&(TA()&&(t=Wa),Wa=0);for(var i=dn(),r=null,o=Cu;o!==null;){var f=o.next,m=z_(o,i);m===0?(o.next=null,r===null?Cu=f:r.next=f,f===null&&(nl=r)):(r=o,(t!==0||(m&3)!==0)&&(ju=!0)),o=f}Io(t)}function z_(t,i){for(var r=t.suspendedLanes,o=t.pingedLanes,f=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var x=31-an(m),T=1<<x,C=f[x];C===-1?((T&r)===0||(T&o)!==0)&&(f[x]=xr(T,i)):C<=i&&(t.expiredLanes|=T),m&=~T}if(i=et,r=ze,r=kn(t,t===i?r:0),o=t.callbackNode,r===0||t===i&&tt===2||t.cancelPendingCommit!==null)return o!==null&&o!==null&&vr(o),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||_i(t,r)){if(i=r&-r,i===t.callbackPriority)return i;switch(o!==null&&vr(o),Dc(r)){case 2:case 8:r=Ot;break;case 32:r=Cs;break;case 268435456:r=Vl;break;default:r=Cs}return o=K_.bind(null,t),r=xa(r,o),t.callbackPriority=i,t.callbackNode=r,i}return o!==null&&o!==null&&vr(o),t.callbackPriority=2,t.callbackNode=null,2}function K_(t,i){var r=t.callbackNode;if(tl()&&t.callbackNode!==r)return null;var o=ze;return o=kn(t,t===et?o:0),o===0?null:(I_(t,o,i),z_(t,dn()),t.callbackNode!=null&&t.callbackNode===r?K_.bind(null,t):null)}function q_(t,i){if(tl())return null;I_(t,i,!0)}function mA(t){AA(function(){(lt&6)!==0?xa(wt,t):t()})}function Gf(){return Wa===0&&(Wa=Bl()),Wa}function F_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:os(""+t)}function G_(t,i){var r=i.ownerDocument.createElement("input");return r.name=i.name,r.value=i.value,t.id&&r.setAttribute("form",t.id),i.parentNode.insertBefore(r,i),t=new FormData(t),r.parentNode.removeChild(r),t}function gA(t,i,r,o,f){if(i==="submit"&&r&&r.stateNode===f){var m=F_((f[St]||null).action),x=o.submitter;x&&(i=(i=x[St]||null)?F_(i.formAction):x.getAttribute("formAction"),i!==null&&(m=i,x=null));var T=new Nr("action","action",null,o,f);t.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Wa!==0){var C=x?G_(f,x):new FormData(f);ef(r,{pending:!0,data:C,method:f.method,action:m},null,C)}}else typeof m=="function"&&(T.preventDefault(),C=x?G_(f,x):new FormData(f),ef(r,{pending:!0,data:C,method:f.method,action:m},m,C))},currentTarget:f}]})}}for(var $f=0;$f<Pp.length;$f++){var Qf=Pp[$f],pA=Qf.toLowerCase(),yA=Qf[0].toUpperCase()+Qf.slice(1);Qn(pA,"on"+yA)}Qn(Dp,"onAnimationEnd"),Qn(Op,"onAnimationIteration"),Qn(Mp,"onAnimationStart"),Qn("dblclick","onDoubleClick"),Qn("focusin","onFocus"),Qn("focusout","onBlur"),Qn(Ob,"onTransitionRun"),Qn(Mb,"onTransitionStart"),Qn(Lb,"onTransitionCancel"),Qn(Lp,"onTransitionEnd"),fn("onMouseEnter",["mouseout","mouseover"]),fn("onMouseLeave",["mouseout","mouseover"]),fn("onPointerEnter",["pointerout","pointerover"]),fn("onPointerLeave",["pointerout","pointerover"]),yn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),yn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),yn("onBeforeInput",["compositionend","keypress","textInput","paste"]),yn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),yn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),yn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Co="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_A=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Co));function $_(t,i){i=(i&4)!==0;for(var r=0;r<t.length;r++){var o=t[r],f=o.event;o=o.listeners;e:{var m=void 0;if(i)for(var x=o.length-1;0<=x;x--){var T=o[x],C=T.instance,B=T.currentTarget;if(T=T.listener,C!==m&&f.isPropagationStopped())break e;m=T,f.currentTarget=B;try{m(f)}catch(Z){_u(Z)}f.currentTarget=null,m=C}else for(x=0;x<o.length;x++){if(T=o[x],C=T.instance,B=T.currentTarget,T=T.listener,C!==m&&f.isPropagationStopped())break e;m=T,f.currentTarget=B;try{m(f)}catch(Z){_u(Z)}f.currentTarget=null,m=C}}}}function Pe(t,i){var r=i[Ta];r===void 0&&(r=i[Ta]=new Set);var o=t+"__bubble";r.has(o)||(Q_(i,t,2,!1),r.add(o))}function Yf(t,i,r){var o=0;i&&(o|=4),Q_(r,t,o,i)}var Du="_reactListening"+Math.random().toString(36).slice(2);function Xf(t){if(!t[Du]){t[Du]=!0,zl.forEach(function(r){r!=="selectionchange"&&(_A.has(r)||Yf(r,!1,t),Yf(r,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Du]||(i[Du]=!0,Yf("selectionchange",!1,i))}}function Q_(t,i,r,o){switch(yv(i)){case 2:var f=qA;break;case 8:f=FA;break;default:f=cm}r=f.bind(null,i,r,t),f=void 0,!Dn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),o?f!==void 0?t.addEventListener(i,r,{capture:!0,passive:f}):t.addEventListener(i,r,!0):f!==void 0?t.addEventListener(i,r,{passive:f}):t.addEventListener(i,r,!1)}function Wf(t,i,r,o,f){var m=o;if((i&1)===0&&(i&2)===0&&o!==null)e:for(;;){if(o===null)return;var x=o.tag;if(x===3||x===4){var T=o.stateNode.containerInfo;if(T===f||T.nodeType===8&&T.parentNode===f)break;if(x===4)for(x=o.return;x!==null;){var C=x.tag;if((C===3||C===4)&&(C=x.stateNode.containerInfo,C===f||C.nodeType===8&&C.parentNode===f))return;x=x.return}for(;T!==null;){if(x=$n(T),x===null)return;if(C=x.tag,C===5||C===6||C===26||C===27){o=m=x;continue e}T=T.parentNode}}o=o.return}Pc(function(){var B=m,Z=Sr(r),ae=[];e:{var Y=Vp.get(t);if(Y!==void 0){var W=Nr,pe=t;switch(t){case"keypress":if(us(r)===0)break e;case"keydown":case"keyup":W=Dr;break;case"focusin":pe="focus",W=Ir;break;case"focusout":pe="blur",W=Ir;break;case"beforeblur":case"afterblur":W=Ir;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=On;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=Td;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=Gc;break;case Dp:case Op:case Mp:W=Cr;break;case Lp:W=Qc;break;case"scroll":case"scrollend":W=Uc;break;case"wheel":W=Or;break;case"copy":case"cut":case"paste":W=jr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=eo;break;case"toggle":case"beforetoggle":W=Xc}var Ne=(i&4)!==0,ft=!Ne&&(t==="scroll"||t==="scrollend"),q=Ne?Y!==null?Y+"Capture":null:Y;Ne=[];for(var U=B,Q;U!==null;){var te=U;if(Q=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||Q===null||q===null||(te=Na(U,q),te!=null&&Ne.push(jo(U,te,Q))),ft)break;U=U.return}0<Ne.length&&(Y=new W(Y,pe,null,r,Z),ae.push({event:Y,listeners:Ne}))}}if((i&7)===0){e:{if(Y=t==="mouseover"||t==="pointerover",W=t==="mouseout"||t==="pointerout",Y&&r!==jn&&(pe=r.relatedTarget||r.fromElement)&&($n(pe)||pe[js]))break e;if((W||Y)&&(Y=Z.window===Z?Z:(Y=Z.ownerDocument)?Y.defaultView||Y.parentWindow:window,W?(pe=r.relatedTarget||r.toElement,W=B,pe=pe?$n(pe):null,pe!==null&&(ft=ce(pe),Ne=pe.tag,pe!==ft||Ne!==5&&Ne!==27&&Ne!==6)&&(pe=null)):(W=null,pe=B),W!==pe)){if(Ne=On,te="onMouseLeave",q="onMouseEnter",U="mouse",(t==="pointerout"||t==="pointerover")&&(Ne=eo,te="onPointerLeave",q="onPointerEnter",U="pointer"),ft=W==null?Y:Ai(W),Q=pe==null?Y:Ai(pe),Y=new Ne(te,U+"leave",W,r,Z),Y.target=ft,Y.relatedTarget=Q,te=null,$n(Z)===B&&(Ne=new Ne(q,U+"enter",pe,r,Z),Ne.target=Q,Ne.relatedTarget=ft,te=Ne),ft=te,W&&pe)t:{for(Ne=W,q=pe,U=0,Q=Ne;Q;Q=sl(Q))U++;for(Q=0,te=q;te;te=sl(te))Q++;for(;0<U-Q;)Ne=sl(Ne),U--;for(;0<Q-U;)q=sl(q),Q--;for(;U--;){if(Ne===q||q!==null&&Ne===q.alternate)break t;Ne=sl(Ne),q=sl(q)}Ne=null}else Ne=null;W!==null&&Y_(ae,Y,W,Ne,!1),pe!==null&&ft!==null&&Y_(ae,ft,pe,Ne,!0)}}e:{if(Y=B?Ai(B):window,W=Y.nodeName&&Y.nodeName.toLowerCase(),W==="select"||W==="input"&&Y.type==="file")var ge=Tp;else if(Rt(Y))if(bp)ge=Ib;else{ge=Rb;var Oe=Nb}else W=Y.nodeName,!W||W.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?B&&$l(B.elementType)&&(ge=Tp):ge=kb;if(ge&&(ge=ge(t,B))){Bs(ae,ge,r,Z);break e}Oe&&Oe(t,Y,B),t==="focusout"&&B&&Y.type==="number"&&B.memoizedProps.value!=null&&wr(Y,"number",Y.value)}switch(Oe=B?Ai(B):window,t){case"focusin":(Rt(Oe)||Oe.contentEditable==="true")&&(Mr=Oe,Nd=B,so=null);break;case"focusout":so=Nd=Mr=null;break;case"mousedown":Rd=!0;break;case"contextmenu":case"mouseup":case"dragend":Rd=!1,Cp(ae,r,Z);break;case"selectionchange":if(Db)break;case"keydown":case"keyup":Cp(ae,r,Z)}var ye;if(fs)e:{switch(t){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else Be?X(t,r)&&(Ee="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Ee="onCompositionStart");Ee&&(v&&r.locale!=="ko"&&(Be||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&Be&&(ye=Yl()):(cs=Z,Ii="value"in cs?cs.value:cs.textContent,Be=!0)),Oe=Ou(B,Ee),0<Oe.length&&(Ee=new Zl(Ee,t,null,r,Z),ae.push({event:Ee,listeners:Oe}),ye?Ee.data=ye:(ye=oe(r),ye!==null&&(Ee.data=ye)))),(ye=_?Nt(t,r):He(t,r))&&(Ee=Ou(B,"onBeforeInput"),0<Ee.length&&(Oe=new Zl("onBeforeInput","beforeinput",null,r,Z),ae.push({event:Oe,listeners:Ee}),Oe.data=ye)),gA(ae,t,B,r,Z)}$_(ae,i)})}function jo(t,i,r){return{instance:t,listener:i,currentTarget:r}}function Ou(t,i){for(var r=i+"Capture",o=[];t!==null;){var f=t,m=f.stateNode;f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=Na(t,r),f!=null&&o.unshift(jo(t,f,m)),f=Na(t,i),f!=null&&o.push(jo(t,f,m))),t=t.return}return o}function sl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Y_(t,i,r,o,f){for(var m=i._reactName,x=[];r!==null&&r!==o;){var T=r,C=T.alternate,B=T.stateNode;if(T=T.tag,C!==null&&C===o)break;T!==5&&T!==26&&T!==27||B===null||(C=B,f?(B=Na(r,m),B!=null&&x.unshift(jo(r,B,C))):f||(B=Na(r,m),B!=null&&x.push(jo(r,B,C)))),r=r.return}x.length!==0&&t.push({event:i,listeners:x})}var vA=/\r\n?/g,xA=/\u0000|\uFFFD/g;function X_(t){return(typeof t=="string"?t:""+t).replace(vA,`
`).replace(xA,"")}function W_(t,i){return i=X_(i),X_(t)===i}function Mu(){}function Ze(t,i,r,o,f,m){switch(r){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||Cn(t,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&Cn(t,""+o);break;case"className":Ni(t,"class",o);break;case"tabIndex":Ni(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Ni(t,r,o);break;case"style":Vc(t,o,m);break;case"data":if(i!=="object"){Ni(t,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||r!=="href")){t.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=os(""+o),t.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(r==="formAction"?(i!=="input"&&Ze(t,i,"name",f.name,f,null),Ze(t,i,"formEncType",f.formEncType,f,null),Ze(t,i,"formMethod",f.formMethod,f,null),Ze(t,i,"formTarget",f.formTarget,f,null)):(Ze(t,i,"encType",f.encType,f,null),Ze(t,i,"method",f.method,f,null),Ze(t,i,"target",f.target,f,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=os(""+o),t.setAttribute(r,o);break;case"onClick":o!=null&&(t.onclick=Mu);break;case"onScroll":o!=null&&Pe("scroll",t);break;case"onScrollEnd":o!=null&&Pe("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(f.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}r=os(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""+o):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":o===!0?t.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,o):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(r,o):t.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(r):t.setAttribute(r,o);break;case"popover":Pe("beforetoggle",t),Pe("toggle",t),Si(t,"popover",o);break;case"xlinkActuate":In(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":In(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":In(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":In(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":In(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":In(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":In(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":In(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":In(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Si(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=xd.get(r)||r,Si(t,r,o))}}function Zf(t,i,r,o,f,m){switch(r){case"style":Vc(t,o,m);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(f.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof o=="string"?Cn(t,o):(typeof o=="number"||typeof o=="bigint")&&Cn(t,""+o);break;case"onScroll":o!=null&&Pe("scroll",t);break;case"onScrollEnd":o!=null&&Pe("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Mu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!br.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(f=r.endsWith("Capture"),i=r.slice(2,f?r.length-7:void 0),m=t[St]||null,m=m!=null?m[r]:null,typeof m=="function"&&t.removeEventListener(i,m,f),typeof o=="function")){typeof m!="function"&&m!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(i,o,f);break e}r in t?t[r]=o:o===!0?t.setAttribute(r,""):Si(t,r,o)}}}function Ft(t,i,r){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",t),Pe("load",t);var o=!1,f=!1,m;for(m in r)if(r.hasOwnProperty(m)){var x=r[m];if(x!=null)switch(m){case"src":o=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Ze(t,i,m,x,r,null)}}f&&Ze(t,i,"srcSet",r.srcSet,r,null),o&&Ze(t,i,"src",r.src,r,null);return;case"input":Pe("invalid",t);var T=m=x=f=null,C=null,B=null;for(o in r)if(r.hasOwnProperty(o)){var Z=r[o];if(Z!=null)switch(o){case"name":f=Z;break;case"type":x=Z;break;case"checked":C=Z;break;case"defaultChecked":B=Z;break;case"value":m=Z;break;case"defaultValue":T=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(a(137,i));break;default:Ze(t,i,o,Z,r,null)}}wa(t,m,T,C,B,x,f,!1),Aa(t);return;case"select":Pe("invalid",t),o=x=m=null;for(f in r)if(r.hasOwnProperty(f)&&(T=r[f],T!=null))switch(f){case"value":m=T;break;case"defaultValue":x=T;break;case"multiple":o=T;default:Ze(t,i,f,T,r,null)}i=m,r=x,t.multiple=!!o,i!=null?Fe(t,!!o,i,!1):r!=null&&Fe(t,!!o,r,!0);return;case"textarea":Pe("invalid",t),m=f=o=null;for(x in r)if(r.hasOwnProperty(x)&&(T=r[x],T!=null))switch(x){case"value":o=T;break;case"defaultValue":f=T;break;case"children":m=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:Ze(t,i,x,T,r,null)}ki(t,o,f,m),Aa(t);return;case"option":for(C in r)if(r.hasOwnProperty(C)&&(o=r[C],o!=null))switch(C){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Ze(t,i,C,o,r,null)}return;case"dialog":Pe("cancel",t),Pe("close",t);break;case"iframe":case"object":Pe("load",t);break;case"video":case"audio":for(o=0;o<Co.length;o++)Pe(Co[o],t);break;case"image":Pe("error",t),Pe("load",t);break;case"details":Pe("toggle",t);break;case"embed":case"source":case"link":Pe("error",t),Pe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in r)if(r.hasOwnProperty(B)&&(o=r[B],o!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Ze(t,i,B,o,r,null)}return;default:if($l(i)){for(Z in r)r.hasOwnProperty(Z)&&(o=r[Z],o!==void 0&&Zf(t,i,Z,o,r,void 0));return}}for(T in r)r.hasOwnProperty(T)&&(o=r[T],o!=null&&Ze(t,i,T,o,r,null))}function EA(t,i,r,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,x=null,T=null,C=null,B=null,Z=null;for(W in r){var ae=r[W];if(r.hasOwnProperty(W)&&ae!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":C=ae;default:o.hasOwnProperty(W)||Ze(t,i,W,null,o,ae)}}for(var Y in o){var W=o[Y];if(ae=r[Y],o.hasOwnProperty(Y)&&(W!=null||ae!=null))switch(Y){case"type":m=W;break;case"name":f=W;break;case"checked":B=W;break;case"defaultChecked":Z=W;break;case"value":x=W;break;case"defaultValue":T=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(a(137,i));break;default:W!==ae&&Ze(t,i,Y,W,o,ae)}}Ri(t,x,T,C,B,Z,m,f);return;case"select":W=x=T=Y=null;for(m in r)if(C=r[m],r.hasOwnProperty(m)&&C!=null)switch(m){case"value":break;case"multiple":W=C;default:o.hasOwnProperty(m)||Ze(t,i,m,null,o,C)}for(f in o)if(m=o[f],C=r[f],o.hasOwnProperty(f)&&(m!=null||C!=null))switch(f){case"value":Y=m;break;case"defaultValue":T=m;break;case"multiple":x=m;default:m!==C&&Ze(t,i,f,m,o,C)}i=T,r=x,o=W,Y!=null?Fe(t,!!r,Y,!1):!!o!=!!r&&(i!=null?Fe(t,!!r,i,!0):Fe(t,!!r,r?[]:"",!1));return;case"textarea":W=Y=null;for(T in r)if(f=r[T],r.hasOwnProperty(T)&&f!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Ze(t,i,T,null,o,f)}for(x in o)if(f=o[x],m=r[x],o.hasOwnProperty(x)&&(f!=null||m!=null))switch(x){case"value":Y=f;break;case"defaultValue":W=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==m&&Ze(t,i,x,f,o,m)}Sa(t,Y,W);return;case"option":for(var pe in r)if(Y=r[pe],r.hasOwnProperty(pe)&&Y!=null&&!o.hasOwnProperty(pe))switch(pe){case"selected":t.selected=!1;break;default:Ze(t,i,pe,null,o,Y)}for(C in o)if(Y=o[C],W=r[C],o.hasOwnProperty(C)&&Y!==W&&(Y!=null||W!=null))switch(C){case"selected":t.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:Ze(t,i,C,Y,o,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ne in r)Y=r[Ne],r.hasOwnProperty(Ne)&&Y!=null&&!o.hasOwnProperty(Ne)&&Ze(t,i,Ne,null,o,Y);for(B in o)if(Y=o[B],W=r[B],o.hasOwnProperty(B)&&Y!==W&&(Y!=null||W!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(a(137,i));break;default:Ze(t,i,B,Y,o,W)}return;default:if($l(i)){for(var ft in r)Y=r[ft],r.hasOwnProperty(ft)&&Y!==void 0&&!o.hasOwnProperty(ft)&&Zf(t,i,ft,void 0,o,Y);for(Z in o)Y=o[Z],W=r[Z],!o.hasOwnProperty(Z)||Y===W||Y===void 0&&W===void 0||Zf(t,i,Z,Y,o,W);return}}for(var q in r)Y=r[q],r.hasOwnProperty(q)&&Y!=null&&!o.hasOwnProperty(q)&&Ze(t,i,q,null,o,Y);for(ae in o)Y=o[ae],W=r[ae],!o.hasOwnProperty(ae)||Y===W||Y==null&&W==null||Ze(t,i,ae,Y,o,W)}var Jf=null,em=null;function Lu(t){return t.nodeType===9?t:t.ownerDocument}function Z_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function J_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function tm(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var nm=null;function TA(){var t=window.event;return t&&t.type==="popstate"?t===nm?!1:(nm=t,!0):(nm=null,!1)}var ev=typeof setTimeout=="function"?setTimeout:void 0,bA=typeof clearTimeout=="function"?clearTimeout:void 0,tv=typeof Promise=="function"?Promise:void 0,AA=typeof queueMicrotask=="function"?queueMicrotask:typeof tv<"u"?function(t){return tv.resolve(null).then(t).catch(wA)}:ev;function wA(t){setTimeout(function(){throw t})}function sm(t,i){var r=i,o=0;do{var f=r.nextSibling;if(t.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(o===0){t.removeChild(f),Bo(i);return}o--}else r!=="$"&&r!=="$?"&&r!=="$!"||o++;r=f}while(r);Bo(i)}function im(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var r=i;switch(i=i.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":im(r),ba(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function SA(t,i,r,o){for(;t.nodeType===1;){var f=r;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[bi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==f.rel||t.getAttribute("href")!==(f.href==null?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=Wn(t.nextSibling),t===null)break}return null}function NA(t,i,r){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Wn(t.nextSibling),t===null))return null;return t}function Wn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}function nv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(i===0)return t;i--}else r==="/$"&&i++}t=t.previousSibling}return null}function sv(t,i,r){switch(i=Lu(r),t){case"html":if(t=i.documentElement,!t)throw Error(a(452));return t;case"head":if(t=i.head,!t)throw Error(a(453));return t;case"body":if(t=i.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}var qn=new Map,iv=new Set;function Vu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var ti=he.d;he.d={f:RA,r:kA,D:IA,C:CA,L:jA,m:DA,X:MA,S:OA,M:LA};function RA(){var t=ti.f(),i=ku();return t||i}function kA(t){var i=Ds(t);i!==null&&i.tag===5&&i.type==="form"?Cy(i):ti.r(t)}var il=typeof document>"u"?null:document;function av(t,i,r){var o=il;if(o&&typeof i=="string"&&i){var f=ut(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof r=="string"&&(f+='[crossorigin="'+r+'"]'),iv.has(f)||(iv.add(f),t={rel:t,crossOrigin:r,href:i},o.querySelector(f)===null&&(i=o.createElement("link"),Ft(i,"link",t),at(i),o.head.appendChild(i)))}}function IA(t){ti.D(t),av("dns-prefetch",t,null)}function CA(t,i){ti.C(t,i),av("preconnect",t,i)}function jA(t,i,r){ti.L(t,i,r);var o=il;if(o&&t&&i){var f='link[rel="preload"][as="'+ut(i)+'"]';i==="image"&&r&&r.imageSrcSet?(f+='[imagesrcset="'+ut(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(f+='[imagesizes="'+ut(r.imageSizes)+'"]')):f+='[href="'+ut(t)+'"]';var m=f;switch(i){case"style":m=al(t);break;case"script":m=rl(t)}qn.has(m)||(t=k({rel:"preload",href:i==="image"&&r&&r.imageSrcSet?void 0:t,as:i},r),qn.set(m,t),o.querySelector(f)!==null||i==="style"&&o.querySelector(Do(m))||i==="script"&&o.querySelector(Oo(m))||(i=o.createElement("link"),Ft(i,"link",t),at(i),o.head.appendChild(i)))}}function DA(t,i){ti.m(t,i);var r=il;if(r&&t){var o=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+ut(o)+'"][href="'+ut(t)+'"]',m=f;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=rl(t)}if(!qn.has(m)&&(t=k({rel:"modulepreload",href:t},i),qn.set(m,t),r.querySelector(f)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Oo(m)))return}o=r.createElement("link"),Ft(o,"link",t),at(o),r.head.appendChild(o)}}}function OA(t,i,r){ti.S(t,i,r);var o=il;if(o&&t){var f=wi(o).hoistableStyles,m=al(t);i=i||"default";var x=f.get(m);if(!x){var T={loading:0,preload:null};if(x=o.querySelector(Do(m)))T.loading=5;else{t=k({rel:"stylesheet",href:t,"data-precedence":i},r),(r=qn.get(m))&&am(t,r);var C=x=o.createElement("link");at(C),Ft(C,"link",t),C._p=new Promise(function(B,Z){C.onload=B,C.onerror=Z}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Pu(x,i,o)}x={type:"stylesheet",instance:x,count:1,state:T},f.set(m,x)}}}function MA(t,i){ti.X(t,i);var r=il;if(r&&t){var o=wi(r).hoistableScripts,f=rl(t),m=o.get(f);m||(m=r.querySelector(Oo(f)),m||(t=k({src:t,async:!0},i),(i=qn.get(f))&&rm(t,i),m=r.createElement("script"),at(m),Ft(m,"link",t),r.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(f,m))}}function LA(t,i){ti.M(t,i);var r=il;if(r&&t){var o=wi(r).hoistableScripts,f=rl(t),m=o.get(f);m||(m=r.querySelector(Oo(f)),m||(t=k({src:t,async:!0,type:"module"},i),(i=qn.get(f))&&rm(t,i),m=r.createElement("script"),at(m),Ft(m,"link",t),r.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(f,m))}}function rv(t,i,r,o){var f=(f=Rn.current)?Vu(f):null;if(!f)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(i=al(r.href),r=wi(f).hoistableStyles,o=r.get(i),o||(o={type:"style",instance:null,count:0,state:null},r.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=al(r.href);var m=wi(f).hoistableStyles,x=m.get(t);if(x||(f=f.ownerDocument||f,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,x),(m=f.querySelector(Do(t)))&&!m._p&&(x.instance=m,x.state.loading=5),qn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},qn.set(t,r),m||VA(f,t,r,x.state))),i&&o===null)throw Error(a(528,""));return x}if(i&&o!==null)throw Error(a(529,""));return null;case"script":return i=r.async,r=r.src,typeof r=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=rl(r),r=wi(f).hoistableScripts,o=r.get(i),o||(o={type:"script",instance:null,count:0,state:null},r.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function al(t){return'href="'+ut(t)+'"'}function Do(t){return'link[rel="stylesheet"]['+t+"]"}function lv(t){return k({},t,{"data-precedence":t.precedence,precedence:null})}function VA(t,i,r,o){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=t.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Ft(i,"link",r),at(i),t.head.appendChild(i))}function rl(t){return'[src="'+ut(t)+'"]'}function Oo(t){return"script[async]"+t}function ov(t,i,r){if(i.count++,i.instance===null)switch(i.type){case"style":var o=t.querySelector('style[data-href~="'+ut(r.href)+'"]');if(o)return i.instance=o,at(o),o;var f=k({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),at(o),Ft(o,"style",f),Pu(o,r.precedence,t),i.instance=o;case"stylesheet":f=al(r.href);var m=t.querySelector(Do(f));if(m)return i.state.loading|=4,i.instance=m,at(m),m;o=lv(r),(f=qn.get(f))&&am(o,f),m=(t.ownerDocument||t).createElement("link"),at(m);var x=m;return x._p=new Promise(function(T,C){x.onload=T,x.onerror=C}),Ft(m,"link",o),i.state.loading|=4,Pu(m,r.precedence,t),i.instance=m;case"script":return m=rl(r.src),(f=t.querySelector(Oo(m)))?(i.instance=f,at(f),f):(o=r,(f=qn.get(m))&&(o=k({},r),rm(o,f)),t=t.ownerDocument||t,f=t.createElement("script"),at(f),Ft(f,"link",o),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,Pu(o,r.precedence,t));return i.instance}function Pu(t,i,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=o.length?o[o.length-1]:null,m=f,x=0;x<o.length;x++){var T=o[x];if(T.dataset.precedence===i)m=T;else if(m!==f)break}m?m.parentNode.insertBefore(t,m.nextSibling):(i=r.nodeType===9?r.head:r,i.insertBefore(t,i.firstChild))}function am(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function rm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Uu=null;function cv(t,i,r){if(Uu===null){var o=new Map,f=Uu=new Map;f.set(r,o)}else f=Uu,o=f.get(r),o||(o=new Map,f.set(r,o));if(o.has(t))return o;for(o.set(t,null),r=r.getElementsByTagName(t),f=0;f<r.length;f++){var m=r[f];if(!(m[bi]||m[Mt]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var x=m.getAttribute(i)||"";x=t+x;var T=o.get(x);T?T.push(m):o.set(x,[m])}}return o}function uv(t,i,r){t=t.ownerDocument||t,t.head.insertBefore(r,i==="title"?t.querySelector("head > title"):null)}function PA(t,i,r){if(r===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function hv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Mo=null;function UA(){}function BA(t,i,r){if(Mo===null)throw Error(a(475));var o=Mo;if(i.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=al(r.href),m=t.querySelector(Do(f));if(m){t=m._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(o.count++,o=Bu.bind(o),t.then(o,o)),i.state.loading|=4,i.instance=m,at(m);return}m=t.ownerDocument||t,r=lv(r),(f=qn.get(f))&&am(r,f),m=m.createElement("link"),at(m);var x=m;x._p=new Promise(function(T,C){x.onload=T,x.onerror=C}),Ft(m,"link",r),i.instance=m}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(o.count++,i=Bu.bind(o),t.addEventListener("load",i),t.addEventListener("error",i))}}function HA(){if(Mo===null)throw Error(a(475));var t=Mo;return t.stylesheets&&t.count===0&&lm(t,t.stylesheets),0<t.count?function(i){var r=setTimeout(function(){if(t.stylesheets&&lm(t,t.stylesheets),t.unsuspend){var o=t.unsuspend;t.unsuspend=null,o()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(r)}}:null}function Bu(){if(this.count--,this.count===0){if(this.stylesheets)lm(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Hu=null;function lm(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Hu=new Map,i.forEach(zA,t),Hu=null,Bu.call(t))}function zA(t,i){if(!(i.state.loading&4)){var r=Hu.get(t);if(r)var o=r.get(null);else{r=new Map,Hu.set(t,r);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var x=f[m];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(r.set(x.dataset.precedence,x),o=x)}o&&r.set(null,o)}f=i.instance,x=f.getAttribute("data-precedence"),m=r.get(x)||o,m===o&&r.set(null,f),r.set(x,f),this.count++,o=Bu.bind(this),f.addEventListener("load",o),f.addEventListener("error",o),m?m.parentNode.insertBefore(f,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var Lo={$$typeof:j,Provider:null,Consumer:null,_currentValue:Ie,_currentValue2:Ie,_threadCount:0};function KA(t,i,r,o,f,m,x,T){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Er(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Er(0),this.hiddenUpdates=Er(null),this.identifierPrefix=o,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function dv(t,i,r,o,f,m,x,T,C,B,Z,ae){return t=new KA(t,i,r,x,T,C,B,ae),i=1,m===!0&&(i|=24),m=zn(3,null,null,i),t.current=m,m.stateNode=t,i=Pd(),i.refCount++,t.pooledCache=i,i.refCount++,m.memoizedState={element:o,isDehydrated:r,cache:i},vf(m),t}function fv(t){return t?(t=Pr,t):Pr}function mv(t,i,r,o,f,m){f=fv(f),o.context===null?o.context=f:o.pendingContext=f,o=Pi(i),o.payload={element:r},m=m===void 0?null:m,m!==null&&(o.callback=m),r=Ui(t,o,i),r!==null&&(cn(r,t,i),vo(r,t,i))}function gv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<i?r:i}}function om(t,i){gv(t,i),(t=t.alternate)&&gv(t,i)}function pv(t){if(t.tag===13){var i=Ci(t,67108864);i!==null&&cn(i,t,67108864),om(t,67108864)}}var zu=!0;function qA(t,i,r,o){var f=S.T;S.T=null;var m=he.p;try{he.p=2,cm(t,i,r,o)}finally{he.p=m,S.T=f}}function FA(t,i,r,o){var f=S.T;S.T=null;var m=he.p;try{he.p=8,cm(t,i,r,o)}finally{he.p=m,S.T=f}}function cm(t,i,r,o){if(zu){var f=um(o);if(f===null)Wf(t,i,o,Ku,r),_v(t,o);else if($A(f,t,i,r,o))o.stopPropagation();else if(_v(t,o),i&4&&-1<GA.indexOf(t)){for(;f!==null;){var m=Ds(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var x=Gn(m.pendingLanes);if(x!==0){var T=m;for(T.pendingLanes|=2,T.entangledLanes|=2;x;){var C=1<<31-an(x);T.entanglements[1]|=C,x&=~C}vs(m),(lt&6)===0&&(Su=dn()+500,Io(0))}}break;case 13:T=Ci(m,2),T!==null&&cn(T,m,2),ku(),om(m,2)}if(m=um(o),m===null&&Wf(t,i,o,Ku,r),m===f)break;f=m}f!==null&&o.stopPropagation()}else Wf(t,i,o,null,r)}}function um(t){return t=Sr(t),hm(t)}var Ku=null;function hm(t){if(Ku=null,t=$n(t),t!==null){var i=ce(t);if(i===null)t=null;else{var r=i.tag;if(r===13){if(t=ke(i),t!==null)return t;t=null}else if(r===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Ku=t,null}function yv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Rc()){case wt:return 2;case Ot:return 8;case Cs:case kc:return 32;case Vl:return 268435456;default:return 32}default:return 32}}var dm=!1,Gi=null,$i=null,Qi=null,Vo=new Map,Po=new Map,Yi=[],GA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _v(t,i){switch(t){case"focusin":case"focusout":Gi=null;break;case"dragenter":case"dragleave":$i=null;break;case"mouseover":case"mouseout":Qi=null;break;case"pointerover":case"pointerout":Vo.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Po.delete(i.pointerId)}}function Uo(t,i,r,o,f,m){return t===null||t.nativeEvent!==m?(t={blockedOn:i,domEventName:r,eventSystemFlags:o,nativeEvent:m,targetContainers:[f]},i!==null&&(i=Ds(i),i!==null&&pv(i)),t):(t.eventSystemFlags|=o,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function $A(t,i,r,o,f){switch(i){case"focusin":return Gi=Uo(Gi,t,i,r,o,f),!0;case"dragenter":return $i=Uo($i,t,i,r,o,f),!0;case"mouseover":return Qi=Uo(Qi,t,i,r,o,f),!0;case"pointerover":var m=f.pointerId;return Vo.set(m,Uo(Vo.get(m)||null,t,i,r,o,f)),!0;case"gotpointercapture":return m=f.pointerId,Po.set(m,Uo(Po.get(m)||null,t,i,r,o,f)),!0}return!1}function vv(t){var i=$n(t.target);if(i!==null){var r=ce(i);if(r!==null){if(i=r.tag,i===13){if(i=ke(r),i!==null){t.blockedOn=i,Ti(t.priority,function(){if(r.tag===13){var o=bn(),f=Ci(r,o);f!==null&&cn(f,r,o),om(r,o)}});return}}else if(i===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function qu(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var r=um(t.nativeEvent);if(r===null){r=t.nativeEvent;var o=new r.constructor(r.type,r);jn=o,r.target.dispatchEvent(o),jn=null}else return i=Ds(r),i!==null&&pv(i),t.blockedOn=r,!1;i.shift()}return!0}function xv(t,i,r){qu(t)&&r.delete(i)}function QA(){dm=!1,Gi!==null&&qu(Gi)&&(Gi=null),$i!==null&&qu($i)&&($i=null),Qi!==null&&qu(Qi)&&(Qi=null),Vo.forEach(xv),Po.forEach(xv)}function Fu(t,i){t.blockedOn===i&&(t.blockedOn=null,dm||(dm=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,QA)))}var Gu=null;function Ev(t){Gu!==t&&(Gu=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Gu===t&&(Gu=null);for(var i=0;i<t.length;i+=3){var r=t[i],o=t[i+1],f=t[i+2];if(typeof o!="function"){if(hm(o||r)===null)continue;break}var m=Ds(r);m!==null&&(t.splice(i,3),i-=3,ef(m,{pending:!0,data:f,method:r.method,action:o},o,f))}}))}function Bo(t){function i(C){return Fu(C,t)}Gi!==null&&Fu(Gi,t),$i!==null&&Fu($i,t),Qi!==null&&Fu(Qi,t),Vo.forEach(i),Po.forEach(i);for(var r=0;r<Yi.length;r++){var o=Yi[r];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Yi.length&&(r=Yi[0],r.blockedOn===null);)vv(r),r.blockedOn===null&&Yi.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var f=r[o],m=r[o+1],x=f[St]||null;if(typeof m=="function")x||Ev(r);else if(x){var T=null;if(m&&m.hasAttribute("formAction")){if(f=m,x=m[St]||null)T=x.formAction;else if(hm(f)!==null)continue}else T=x.action;typeof T=="function"?r[o+1]=T:(r.splice(o,3),o-=3),Ev(r)}}}function fm(t){this._internalRoot=t}$u.prototype.render=fm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(a(409));var r=i.current,o=bn();mv(r,o,t,i,null,null)},$u.prototype.unmount=fm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;t.tag===0&&tl(),mv(t.current,2,null,t,null,null),ku(),i[js]=null}};function $u(t){this._internalRoot=t}$u.prototype.unstable_scheduleHydration=function(t){if(t){var i=Oc();t={blockedOn:null,target:t,priority:i};for(var r=0;r<Yi.length&&i!==0&&i<Yi[r].priority;r++);Yi.splice(r,0,t),r===0&&vv(t)}};var Tv=e.version;if(Tv!=="19.0.0")throw Error(a(527,Tv,"19.0.0"));he.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=ie(i),t=t!==null?me(t):null,t=t===null?null:t.stateNode,t};var YA={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:S,findFiberByHostInstance:$n,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qu.isDisabled&&Qu.supportsFiber)try{pi=Qu.inject(YA),Xt=Qu}catch{}}return zo.createRoot=function(t,i){if(!l(t))throw Error(a(299));var r=!1,o="",f=Uy,m=By,x=Hy,T=null;return i!=null&&(i.unstable_strictMode===!0&&(r=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(x=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=dv(t,1,!1,null,null,r,o,f,m,x,T,null),t[js]=i.current,Xf(t.nodeType===8?t.parentNode:t),new fm(i)},zo.hydrateRoot=function(t,i,r){if(!l(t))throw Error(a(299));var o=!1,f="",m=Uy,x=By,T=Hy,C=null,B=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(f=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(x=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(C=r.unstable_transitionCallbacks),r.formState!==void 0&&(B=r.formState)),i=dv(t,1,!0,i,r??null,o,f,m,x,T,C,B),i.context=fv(null),r=i.current,o=bn(),f=Pi(o),f.callback=null,Ui(r,f,o),i.current.lanes=o,pt(i,o),vs(i),t[js]=i.current,Xf(t),new $u(i)},zo.version="19.0.0",zo}var jv;function aw(){if(jv)return pm.exports;jv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),pm.exports=iw(),pm.exports}var rw=aw();const lw=hg(rw);var Ko={},Dv;function ow(){if(Dv)return Ko;Dv=1,Object.defineProperty(Ko,"__esModule",{value:!0}),Ko.parse=d,Ko.serialize=y;const s=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,c=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function d(w,j){const O=new c,K=w.length;if(K<2)return O;const M=(j==null?void 0:j.decode)||E;let H=0;do{const G=w.indexOf("=",H);if(G===-1)break;const $=w.indexOf(";",H),ee=$===-1?K:$;if(G>ee){H=w.lastIndexOf(";",G-1)+1;continue}const J=g(w,H,G),re=p(w,G,J),V=w.slice(J,re);if(O[V]===void 0){let N=g(w,G+1,ee),S=p(w,ee,N);const k=M(w.slice(N,S));O[V]=k}H=ee+1}while(H<K);return O}function g(w,j,O){do{const K=w.charCodeAt(j);if(K!==32&&K!==9)return j}while(++j<O);return O}function p(w,j,O){for(;j>O;){const K=w.charCodeAt(--j);if(K!==32&&K!==9)return j+1}return O}function y(w,j,O){const K=(O==null?void 0:O.encode)||encodeURIComponent;if(!s.test(w))throw new TypeError(`argument name is invalid: ${w}`);const M=K(j);if(!e.test(M))throw new TypeError(`argument val is invalid: ${j}`);let H=w+"="+M;if(!O)return H;if(O.maxAge!==void 0){if(!Number.isInteger(O.maxAge))throw new TypeError(`option maxAge is invalid: ${O.maxAge}`);H+="; Max-Age="+O.maxAge}if(O.domain){if(!n.test(O.domain))throw new TypeError(`option domain is invalid: ${O.domain}`);H+="; Domain="+O.domain}if(O.path){if(!a.test(O.path))throw new TypeError(`option path is invalid: ${O.path}`);H+="; Path="+O.path}if(O.expires){if(!b(O.expires)||!Number.isFinite(O.expires.valueOf()))throw new TypeError(`option expires is invalid: ${O.expires}`);H+="; Expires="+O.expires.toUTCString()}if(O.httpOnly&&(H+="; HttpOnly"),O.secure&&(H+="; Secure"),O.partitioned&&(H+="; Partitioned"),O.priority)switch(typeof O.priority=="string"?O.priority.toLowerCase():void 0){case"low":H+="; Priority=Low";break;case"medium":H+="; Priority=Medium";break;case"high":H+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${O.priority}`)}if(O.sameSite)switch(typeof O.sameSite=="string"?O.sameSite.toLowerCase():O.sameSite){case!0:case"strict":H+="; SameSite=Strict";break;case"lax":H+="; SameSite=Lax";break;case"none":H+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${O.sameSite}`)}return H}function E(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function b(w){return l.call(w)==="[object Date]"}return Ko}ow();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Ov="popstate";function cw(s={}){function e(a,l){let{pathname:c,search:d,hash:g}=a.location;return Mm("",{pathname:c,search:d,hash:g},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(a,l){return typeof l=="string"?l:ac(l)}return hw(e,n,null,s)}function st(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function Zn(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function uw(){return Math.random().toString(36).substring(2,10)}function Mv(s,e){return{usr:s.state,key:s.key,idx:e}}function Mm(s,e,n=null,a){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?wl(e):e,state:n,key:e&&e.key||a||uw()}}function ac({pathname:s="/",search:e="",hash:n=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(s+=n.charAt(0)==="#"?n:"#"+n),s}function wl(s){let e={};if(s){let n=s.indexOf("#");n>=0&&(e.hash=s.substring(n),s=s.substring(0,n));let a=s.indexOf("?");a>=0&&(e.search=s.substring(a),s=s.substring(0,a)),s&&(e.pathname=s)}return e}function hw(s,e,n,a={}){let{window:l=document.defaultView,v5Compat:c=!1}=a,d=l.history,g="POP",p=null,y=E();y==null&&(y=0,d.replaceState({...d.state,idx:y},""));function E(){return(d.state||{idx:null}).idx}function b(){g="POP";let M=E(),H=M==null?null:M-y;y=M,p&&p({action:g,location:K.location,delta:H})}function w(M,H){g="PUSH";let G=Mm(K.location,M,H);y=E()+1;let $=Mv(G,y),ee=K.createHref(G);try{d.pushState($,"",ee)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;l.location.assign(ee)}c&&p&&p({action:g,location:K.location,delta:1})}function j(M,H){g="REPLACE";let G=Mm(K.location,M,H);y=E();let $=Mv(G,y),ee=K.createHref(G);d.replaceState($,"",ee),c&&p&&p({action:g,location:K.location,delta:0})}function O(M){let H=l.location.origin!=="null"?l.location.origin:l.location.href,G=typeof M=="string"?M:ac(M);return G=G.replace(/ $/,"%20"),st(H,`No window.location.(origin|href) available to create URL for href: ${G}`),new URL(G,H)}let K={get action(){return g},get location(){return s(l,d)},listen(M){if(p)throw new Error("A history only accepts one active listener");return l.addEventListener(Ov,b),p=M,()=>{l.removeEventListener(Ov,b),p=null}},createHref(M){return e(l,M)},createURL:O,encodeLocation(M){let H=O(M);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:w,replace:j,go(M){return d.go(M)}};return K}function xx(s,e,n="/"){return dw(s,e,n,!1)}function dw(s,e,n,a){let l=typeof e=="string"?wl(e):e,c=ca(l.pathname||"/",n);if(c==null)return null;let d=Ex(s);fw(d);let g=null;for(let p=0;g==null&&p<d.length;++p){let y=Aw(c);g=Tw(d[p],y,a)}return g}function Ex(s,e=[],n=[],a=""){let l=(c,d,g)=>{let p={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};p.relativePath.startsWith("/")&&(st(p.relativePath.startsWith(a),`Absolute route path "${p.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(a.length));let y=ai([a,p.relativePath]),E=n.concat(p);c.children&&c.children.length>0&&(st(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),Ex(c.children,e,E,y)),!(c.path==null&&!c.index)&&e.push({path:y,score:xw(y,c.index),routesMeta:E})};return s.forEach((c,d)=>{var g;if(c.path===""||!((g=c.path)!=null&&g.includes("?")))l(c,d);else for(let p of Tx(c.path))l(c,d,p)}),e}function Tx(s){let e=s.split("/");if(e.length===0)return[];let[n,...a]=e,l=n.endsWith("?"),c=n.replace(/\?$/,"");if(a.length===0)return l?[c,""]:[c];let d=Tx(a.join("/")),g=[];return g.push(...d.map(p=>p===""?c:[c,p].join("/"))),l&&g.push(...d),g.map(p=>s.startsWith("/")&&p===""?"/":p)}function fw(s){s.sort((e,n)=>e.score!==n.score?n.score-e.score:Ew(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var mw=/^:[\w-]+$/,gw=3,pw=2,yw=1,_w=10,vw=-2,Lv=s=>s==="*";function xw(s,e){let n=s.split("/"),a=n.length;return n.some(Lv)&&(a+=vw),e&&(a+=pw),n.filter(l=>!Lv(l)).reduce((l,c)=>l+(mw.test(c)?gw:c===""?yw:_w),a)}function Ew(s,e){return s.length===e.length&&s.slice(0,-1).every((a,l)=>a===e[l])?s[s.length-1]-e[e.length-1]:0}function Tw(s,e,n=!1){let{routesMeta:a}=s,l={},c="/",d=[];for(let g=0;g<a.length;++g){let p=a[g],y=g===a.length-1,E=c==="/"?e:e.slice(c.length)||"/",b=vh({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},E),w=p.route;if(!b&&y&&n&&!a[a.length-1].route.index&&(b=vh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!b)return null;Object.assign(l,b.params),d.push({params:l,pathname:ai([c,b.pathname]),pathnameBase:Rw(ai([c,b.pathnameBase])),route:w}),b.pathnameBase!=="/"&&(c=ai([c,b.pathnameBase]))}return d}function vh(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[n,a]=bw(s.path,s.caseSensitive,s.end),l=e.match(n);if(!l)return null;let c=l[0],d=c.replace(/(.)\/+$/,"$1"),g=l.slice(1);return{params:a.reduce((y,{paramName:E,isOptional:b},w)=>{if(E==="*"){let O=g[w]||"";d=c.slice(0,c.length-O.length).replace(/(.)\/+$/,"$1")}const j=g[w];return b&&!j?y[E]=void 0:y[E]=(j||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:d,pattern:s}}function bw(s,e=!1,n=!0){Zn(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let a=[],l="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,g,p)=>(a.push({paramName:g,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(a.push({paramName:"*"}),l+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":s!==""&&s!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),a]}function Aw(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Zn(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function ca(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=s.charAt(n);return a&&a!=="/"?null:s.slice(n)||"/"}function ww(s,e="/"){let{pathname:n,search:a="",hash:l=""}=typeof s=="string"?wl(s):s;return{pathname:n?n.startsWith("/")?n:Sw(n,e):e,search:kw(a),hash:Iw(l)}}function Sw(s,e){let n=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function xm(s,e,n,a){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Nw(s){return s.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function fg(s){let e=Nw(s);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function mg(s,e,n,a=!1){let l;typeof s=="string"?l=wl(s):(l={...s},st(!l.pathname||!l.pathname.includes("?"),xm("?","pathname","search",l)),st(!l.pathname||!l.pathname.includes("#"),xm("#","pathname","hash",l)),st(!l.search||!l.search.includes("#"),xm("#","search","hash",l)));let c=s===""||l.pathname==="",d=c?"/":l.pathname,g;if(d==null)g=n;else{let b=e.length-1;if(!a&&d.startsWith("..")){let w=d.split("/");for(;w[0]==="..";)w.shift(),b-=1;l.pathname=w.join("/")}g=b>=0?e[b]:"/"}let p=ww(l,g),y=d&&d!=="/"&&d.endsWith("/"),E=(c||d===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(y||E)&&(p.pathname+="/"),p}var ai=s=>s.join("/").replace(/\/\/+/g,"/"),Rw=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),kw=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,Iw=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function Cw(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var bx=["POST","PUT","PATCH","DELETE"];new Set(bx);var jw=["GET",...bx];new Set(jw);var Sl=P.createContext(null);Sl.displayName="DataRouter";var Uh=P.createContext(null);Uh.displayName="DataRouterState";var Ax=P.createContext({isTransitioning:!1});Ax.displayName="ViewTransition";var Dw=P.createContext(new Map);Dw.displayName="Fetchers";var Ow=P.createContext(null);Ow.displayName="Await";var ns=P.createContext(null);ns.displayName="Navigation";var mc=P.createContext(null);mc.displayName="Location";var ss=P.createContext({outlet:null,matches:[],isDataRoute:!1});ss.displayName="Route";var gg=P.createContext(null);gg.displayName="RouteError";function Mw(s,{relative:e}={}){st(Nl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=P.useContext(ns),{hash:l,pathname:c,search:d}=gc(s,{relative:e}),g=c;return n!=="/"&&(g=c==="/"?n:ai([n,c])),a.createHref({pathname:g,search:d,hash:l})}function Nl(){return P.useContext(mc)!=null}function di(){return st(Nl(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(mc).location}var wx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Sx(s){P.useContext(ns).static||P.useLayoutEffect(s)}function Rl(){let{isDataRoute:s}=P.useContext(ss);return s?Yw():Lw()}function Lw(){st(Nl(),"useNavigate() may be used only in the context of a <Router> component.");let s=P.useContext(Sl),{basename:e,navigator:n}=P.useContext(ns),{matches:a}=P.useContext(ss),{pathname:l}=di(),c=JSON.stringify(fg(a)),d=P.useRef(!1);return Sx(()=>{d.current=!0}),P.useCallback((p,y={})=>{if(Zn(d.current,wx),!d.current)return;if(typeof p=="number"){n.go(p);return}let E=mg(p,JSON.parse(c),l,y.relative==="path");s==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:ai([e,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[e,n,c,l,s])}P.createContext(null);function Vw(){let{matches:s}=P.useContext(ss),e=s[s.length-1];return e?e.params:{}}function gc(s,{relative:e}={}){let{matches:n}=P.useContext(ss),{pathname:a}=di(),l=JSON.stringify(fg(n));return P.useMemo(()=>mg(s,JSON.parse(l),a,e==="path"),[s,l,a,e])}function Pw(s,e){return Nx(s,e)}function Nx(s,e,n,a){var G;st(Nl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l,static:c}=P.useContext(ns),{matches:d}=P.useContext(ss),g=d[d.length-1],p=g?g.params:{},y=g?g.pathname:"/",E=g?g.pathnameBase:"/",b=g&&g.route;{let $=b&&b.path||"";Rx(y,!b||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let w=di(),j;if(e){let $=typeof e=="string"?wl(e):e;st(E==="/"||((G=$.pathname)==null?void 0:G.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${$.pathname}" was given in the \`location\` prop.`),j=$}else j=w;let O=j.pathname||"/",K=O;if(E!=="/"){let $=E.replace(/^\//,"").split("/");K="/"+O.replace(/^\//,"").split("/").slice($.length).join("/")}let M=!c&&n&&n.matches&&n.matches.length>0?n.matches:xx(s,{pathname:K});Zn(b||M!=null,`No routes matched location "${j.pathname}${j.search}${j.hash}" `),Zn(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${j.pathname}${j.search}${j.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let H=Kw(M&&M.map($=>Object.assign({},$,{params:Object.assign({},p,$.params),pathname:ai([E,l.encodeLocation?l.encodeLocation($.pathname).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?E:ai([E,l.encodeLocation?l.encodeLocation($.pathnameBase).pathname:$.pathnameBase])})),d,n,a);return e&&H?P.createElement(mc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...j},navigationType:"POP"}},H):H}function Uw(){let s=Qw(),e=Cw(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),n=s instanceof Error?s.stack:null,a="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:a},c={padding:"2px 4px",backgroundColor:a},d=null;return console.error("Error handled by React Router default ErrorBoundary:",s),d=P.createElement(P.Fragment,null,P.createElement("p",null,"💿 Hey developer 👋"),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:c},"ErrorBoundary")," or"," ",P.createElement("code",{style:c},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:l},n):null,d)}var Bw=P.createElement(Uw,null),Hw=class extends P.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){console.error("React Router caught the following error during render",s,e)}render(){return this.state.error!==void 0?P.createElement(ss.Provider,{value:this.props.routeContext},P.createElement(gg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function zw({routeContext:s,match:e,children:n}){let a=P.useContext(Sl);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),P.createElement(ss.Provider,{value:s},n)}function Kw(s,e=[],n=null,a=null){if(s==null){if(!n)return null;if(n.errors)s=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)s=n.matches;else return null}let l=s,c=n==null?void 0:n.errors;if(c!=null){let p=l.findIndex(y=>y.route.id&&(c==null?void 0:c[y.route.id])!==void 0);st(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,p+1))}let d=!1,g=-1;if(n)for(let p=0;p<l.length;p++){let y=l[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(g=p),y.route.id){let{loaderData:E,errors:b}=n,w=y.route.loader&&!E.hasOwnProperty(y.route.id)&&(!b||b[y.route.id]===void 0);if(y.route.lazy||w){d=!0,g>=0?l=l.slice(0,g+1):l=[l[0]];break}}}return l.reduceRight((p,y,E)=>{let b,w=!1,j=null,O=null;n&&(b=c&&y.route.id?c[y.route.id]:void 0,j=y.route.errorElement||Bw,d&&(g<0&&E===0?(Rx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,O=null):g===E&&(w=!0,O=y.route.hydrateFallbackElement||null)));let K=e.concat(l.slice(0,E+1)),M=()=>{let H;return b?H=j:w?H=O:y.route.Component?H=P.createElement(y.route.Component,null):y.route.element?H=y.route.element:H=p,P.createElement(zw,{match:y,routeContext:{outlet:p,matches:K,isDataRoute:n!=null},children:H})};return n&&(y.route.ErrorBoundary||y.route.errorElement||E===0)?P.createElement(Hw,{location:n.location,revalidation:n.revalidation,component:j,error:b,children:M(),routeContext:{outlet:null,matches:K,isDataRoute:!0}}):M()},null)}function pg(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qw(s){let e=P.useContext(Sl);return st(e,pg(s)),e}function Fw(s){let e=P.useContext(Uh);return st(e,pg(s)),e}function Gw(s){let e=P.useContext(ss);return st(e,pg(s)),e}function yg(s){let e=Gw(s),n=e.matches[e.matches.length-1];return st(n.route.id,`${s} can only be used on routes that contain a unique "id"`),n.route.id}function $w(){return yg("useRouteId")}function Qw(){var a;let s=P.useContext(gg),e=Fw("useRouteError"),n=yg("useRouteError");return s!==void 0?s:(a=e.errors)==null?void 0:a[n]}function Yw(){let{router:s}=qw("useNavigate"),e=yg("useNavigate"),n=P.useRef(!1);return Sx(()=>{n.current=!0}),P.useCallback(async(l,c={})=>{Zn(n.current,wx),n.current&&(typeof l=="number"?s.navigate(l):await s.navigate(l,{fromRouteId:e,...c}))},[s,e])}var Vv={};function Rx(s,e,n){!e&&!Vv[s]&&(Vv[s]=!0,Zn(!1,n))}P.memo(Xw);function Xw({routes:s,future:e,state:n}){return Nx(s,void 0,n,e)}function Pv({to:s,replace:e,state:n,relative:a}){st(Nl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=P.useContext(ns);Zn(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=P.useContext(ss),{pathname:d}=di(),g=Rl(),p=mg(s,fg(c),d,a==="path"),y=JSON.stringify(p);return P.useEffect(()=>{g(JSON.parse(y),{replace:e,state:n,relative:a})},[g,y,a,e,n]),null}function Ct(s){st(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ww({basename:s="/",children:e=null,location:n,navigationType:a="POP",navigator:l,static:c=!1}){st(!Nl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=s.replace(/^\/*/,"/"),g=P.useMemo(()=>({basename:d,navigator:l,static:c,future:{}}),[d,l,c]);typeof n=="string"&&(n=wl(n));let{pathname:p="/",search:y="",hash:E="",state:b=null,key:w="default"}=n,j=P.useMemo(()=>{let O=ca(p,d);return O==null?null:{location:{pathname:O,search:y,hash:E,state:b,key:w},navigationType:a}},[d,p,y,E,b,w,a]);return Zn(j!=null,`<Router basename="${d}"> is not able to match the URL "${p}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:P.createElement(ns.Provider,{value:g},P.createElement(mc.Provider,{children:e,value:j}))}function Zw({children:s,location:e}){return Pw(Lm(s),e)}function Lm(s,e=[]){let n=[];return P.Children.forEach(s,(a,l)=>{if(!P.isValidElement(a))return;let c=[...e,l];if(a.type===P.Fragment){n.push.apply(n,Lm(a.props.children,c));return}st(a.type===Ct,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),st(!a.props.index||!a.props.children,"An index route cannot have child routes.");let d={id:a.props.id||c.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(d.children=Lm(a.props.children,c)),n.push(d)}),n}var rh="get",lh="application/x-www-form-urlencoded";function Bh(s){return s!=null&&typeof s.tagName=="string"}function Jw(s){return Bh(s)&&s.tagName.toLowerCase()==="button"}function eS(s){return Bh(s)&&s.tagName.toLowerCase()==="form"}function tS(s){return Bh(s)&&s.tagName.toLowerCase()==="input"}function nS(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function sS(s,e){return s.button===0&&(!e||e==="_self")&&!nS(s)}var Yu=null;function iS(){if(Yu===null)try{new FormData(document.createElement("form"),0),Yu=!1}catch{Yu=!0}return Yu}var aS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Em(s){return s!=null&&!aS.has(s)?(Zn(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${lh}"`),null):s}function rS(s,e){let n,a,l,c,d;if(eS(s)){let g=s.getAttribute("action");a=g?ca(g,e):null,n=s.getAttribute("method")||rh,l=Em(s.getAttribute("enctype"))||lh,c=new FormData(s)}else if(Jw(s)||tS(s)&&(s.type==="submit"||s.type==="image")){let g=s.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=s.getAttribute("formaction")||g.getAttribute("action");if(a=p?ca(p,e):null,n=s.getAttribute("formmethod")||g.getAttribute("method")||rh,l=Em(s.getAttribute("formenctype"))||Em(g.getAttribute("enctype"))||lh,c=new FormData(g,s),!iS()){let{name:y,type:E,value:b}=s;if(E==="image"){let w=y?`${y}.`:"";c.append(`${w}x`,"0"),c.append(`${w}y`,"0")}else y&&c.append(y,b)}}else{if(Bh(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=rh,a=null,l=lh,d=s}return c&&l==="text/plain"&&(d=c,c=void 0),{action:a,method:n.toLowerCase(),encType:l,formData:c,body:d}}function _g(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}async function lS(s,e){if(s.id in e)return e[s.id];try{let n=await import(s.module);return e[s.id]=n,n}catch(n){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function oS(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function cS(s,e,n){let a=await Promise.all(s.map(async l=>{let c=e.routes[l.route.id];if(c){let d=await lS(c,n);return d.links?d.links():[]}return[]}));return fS(a.flat(1).filter(oS).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function Uv(s,e,n,a,l,c){let d=(p,y)=>n[y]?p.route.id!==n[y].route.id:!0,g=(p,y)=>{var E;return n[y].pathname!==p.pathname||((E=n[y].route.path)==null?void 0:E.endsWith("*"))&&n[y].params["*"]!==p.params["*"]};return c==="assets"?e.filter((p,y)=>d(p,y)||g(p,y)):c==="data"?e.filter((p,y)=>{var b;let E=a.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(d(p,y)||g(p,y))return!0;if(p.route.shouldRevalidate){let w=p.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((b=n[0])==null?void 0:b.params)||{},nextUrl:new URL(s,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function uS(s,e,{includeHydrateFallback:n}={}){return hS(s.map(a=>{let l=e.routes[a.route.id];if(!l)return[];let c=[l.module];return l.clientActionModule&&(c=c.concat(l.clientActionModule)),l.clientLoaderModule&&(c=c.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(c=c.concat(l.hydrateFallbackModule)),l.imports&&(c=c.concat(l.imports)),c}).flat(1))}function hS(s){return[...new Set(s)]}function dS(s){let e={},n=Object.keys(s).sort();for(let a of n)e[a]=s[a];return e}function fS(s,e){let n=new Set;return new Set(e),s.reduce((a,l)=>{let c=JSON.stringify(dS(l));return n.has(c)||(n.add(c),a.push({key:c,link:l})),a},[])}function mS(s){let e=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function gS(){let s=P.useContext(Sl);return _g(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function pS(){let s=P.useContext(Uh);return _g(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var vg=P.createContext(void 0);vg.displayName="FrameworkContext";function kx(){let s=P.useContext(vg);return _g(s,"You must render this element inside a <HydratedRouter> element"),s}function yS(s,e){let n=P.useContext(vg),[a,l]=P.useState(!1),[c,d]=P.useState(!1),{onFocus:g,onBlur:p,onMouseEnter:y,onMouseLeave:E,onTouchStart:b}=e,w=P.useRef(null);P.useEffect(()=>{if(s==="render"&&d(!0),s==="viewport"){let K=H=>{H.forEach(G=>{d(G.isIntersecting)})},M=new IntersectionObserver(K,{threshold:.5});return w.current&&M.observe(w.current),()=>{M.disconnect()}}},[s]),P.useEffect(()=>{if(a){let K=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(K)}}},[a]);let j=()=>{l(!0)},O=()=>{l(!1),d(!1)};return n?s!=="intent"?[c,w,{}]:[c,w,{onFocus:qo(g,j),onBlur:qo(p,O),onMouseEnter:qo(y,j),onMouseLeave:qo(E,O),onTouchStart:qo(b,j)}]:[!1,w,{}]}function qo(s,e){return n=>{s&&s(n),n.defaultPrevented||e(n)}}function _S({page:s,...e}){let{router:n}=gS(),a=P.useMemo(()=>xx(n.routes,s,n.basename),[n.routes,s,n.basename]);return a?P.createElement(xS,{page:s,matches:a,...e}):null}function vS(s){let{manifest:e,routeModules:n}=kx(),[a,l]=P.useState([]);return P.useEffect(()=>{let c=!1;return cS(s,e,n).then(d=>{c||l(d)}),()=>{c=!0}},[s,e,n]),a}function xS({page:s,matches:e,...n}){let a=di(),{manifest:l,routeModules:c}=kx(),{loaderData:d,matches:g}=pS(),p=P.useMemo(()=>Uv(s,e,g,l,a,"data"),[s,e,g,l,a]),y=P.useMemo(()=>Uv(s,e,g,l,a,"assets"),[s,e,g,l,a]),E=P.useMemo(()=>{if(s===a.pathname+a.search+a.hash)return[];let j=new Set,O=!1;if(e.forEach(M=>{var G;let H=l.routes[M.route.id];!H||!H.hasLoader||(!p.some($=>$.route.id===M.route.id)&&M.route.id in d&&((G=c[M.route.id])!=null&&G.shouldRevalidate)||H.hasClientLoader?O=!0:j.add(M.route.id))}),j.size===0)return[];let K=mS(s);return O&&j.size>0&&K.searchParams.set("_routes",e.filter(M=>j.has(M.route.id)).map(M=>M.route.id).join(",")),[K.pathname+K.search]},[d,a,l,p,e,s,c]),b=P.useMemo(()=>uS(y,l),[y,l]),w=vS(y);return P.createElement(P.Fragment,null,E.map(j=>P.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...n})),b.map(j=>P.createElement("link",{key:j,rel:"modulepreload",href:j,...n})),w.map(({key:j,link:O})=>P.createElement("link",{key:j,...O})))}function ES(...s){return e=>{s.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Ix=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ix&&(window.__reactRouterVersion="7.2.0")}catch{}function TS({basename:s,children:e,window:n}){let a=P.useRef();a.current==null&&(a.current=cw({window:n,v5Compat:!0}));let l=a.current,[c,d]=P.useState({action:l.action,location:l.location}),g=P.useCallback(p=>{P.startTransition(()=>d(p))},[d]);return P.useLayoutEffect(()=>l.listen(g),[l,g]),P.createElement(Ww,{basename:s,children:e,location:c.location,navigationType:c.action,navigator:l})}var Cx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_e=P.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:l,reloadDocument:c,replace:d,state:g,target:p,to:y,preventScrollReset:E,viewTransition:b,...w},j){let{basename:O}=P.useContext(ns),K=typeof y=="string"&&Cx.test(y),M,H=!1;if(typeof y=="string"&&K&&(M=y,Ix))try{let S=new URL(window.location.href),k=y.startsWith("//")?new URL(S.protocol+y):new URL(y),R=ca(k.pathname,O);k.origin===S.origin&&R!=null?y=R+k.search+k.hash:H=!0}catch{Zn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let G=Mw(y,{relative:l}),[$,ee,J]=yS(a,w),re=SS(y,{replace:d,state:g,target:p,preventScrollReset:E,relative:l,viewTransition:b});function V(S){e&&e(S),S.defaultPrevented||re(S)}let N=P.createElement("a",{...w,...J,href:M||G,onClick:H||c?e:V,ref:ES(j,ee),target:p,"data-discover":!K&&n==="render"?"true":void 0});return $&&!K?P.createElement(P.Fragment,null,N,P.createElement(_S,{page:G})):N});_e.displayName="Link";var bS=P.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:l=!1,style:c,to:d,viewTransition:g,children:p,...y},E){let b=gc(d,{relative:y.relative}),w=di(),j=P.useContext(Uh),{navigator:O,basename:K}=P.useContext(ns),M=j!=null&&CS(b)&&g===!0,H=O.encodeLocation?O.encodeLocation(b).pathname:b.pathname,G=w.pathname,$=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;n||(G=G.toLowerCase(),$=$?$.toLowerCase():null,H=H.toLowerCase()),$&&K&&($=ca($,K)||$);const ee=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let J=G===H||!l&&G.startsWith(H)&&G.charAt(ee)==="/",re=$!=null&&($===H||!l&&$.startsWith(H)&&$.charAt(H.length)==="/"),V={isActive:J,isPending:re,isTransitioning:M},N=J?e:void 0,S;typeof a=="function"?S=a(V):S=[a,J?"active":null,re?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let k=typeof c=="function"?c(V):c;return P.createElement(_e,{...y,"aria-current":N,className:S,ref:E,style:k,to:d,viewTransition:g},typeof p=="function"?p(V):p)});bS.displayName="NavLink";var AS=P.forwardRef(({discover:s="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:l,state:c,method:d=rh,action:g,onSubmit:p,relative:y,preventScrollReset:E,viewTransition:b,...w},j)=>{let O=kS(),K=IS(g,{relative:y}),M=d.toLowerCase()==="get"?"get":"post",H=typeof g=="string"&&Cx.test(g),G=$=>{if(p&&p($),$.defaultPrevented)return;$.preventDefault();let ee=$.nativeEvent.submitter,J=(ee==null?void 0:ee.getAttribute("formmethod"))||d;O(ee||$.currentTarget,{fetcherKey:e,method:J,navigate:n,replace:l,state:c,relative:y,preventScrollReset:E,viewTransition:b})};return P.createElement("form",{ref:j,method:M,action:K,onSubmit:a?p:G,...w,"data-discover":!H&&s==="render"?"true":void 0})});AS.displayName="Form";function wS(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jx(s){let e=P.useContext(Sl);return st(e,wS(s)),e}function SS(s,{target:e,replace:n,state:a,preventScrollReset:l,relative:c,viewTransition:d}={}){let g=Rl(),p=di(),y=gc(s,{relative:c});return P.useCallback(E=>{if(sS(E,e)){E.preventDefault();let b=n!==void 0?n:ac(p)===ac(y);g(s,{replace:b,state:a,preventScrollReset:l,relative:c,viewTransition:d})}},[p,g,y,n,a,e,s,l,c,d])}var NS=0,RS=()=>`__${String(++NS)}__`;function kS(){let{router:s}=jx("useSubmit"),{basename:e}=P.useContext(ns),n=$w();return P.useCallback(async(a,l={})=>{let{action:c,method:d,encType:g,formData:p,body:y}=rS(a,e);if(l.navigate===!1){let E=l.fetcherKey||RS();await s.fetch(E,n,l.action||c,{preventScrollReset:l.preventScrollReset,formData:p,body:y,formMethod:l.method||d,formEncType:l.encType||g,flushSync:l.flushSync})}else await s.navigate(l.action||c,{preventScrollReset:l.preventScrollReset,formData:p,body:y,formMethod:l.method||d,formEncType:l.encType||g,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[s,e,n])}function IS(s,{relative:e}={}){let{basename:n}=P.useContext(ns),a=P.useContext(ss);st(a,"useFormAction must be used inside a RouteContext");let[l]=a.matches.slice(-1),c={...gc(s||".",{relative:e})},d=di();if(s==null){c.search=d.search;let g=new URLSearchParams(c.search),p=g.getAll("index");if(p.some(E=>E==="")){g.delete("index"),p.filter(b=>b).forEach(b=>g.append("index",b));let E=g.toString();c.search=E?`?${E}`:""}}return(!s||s===".")&&l.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:ai([n,c.pathname])),ac(c)}function CS(s,e={}){let n=P.useContext(Ax);st(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=jx("useViewTransitionState"),l=gc(s,{relative:e.relative});if(!n.isTransitioning)return!1;let c=ca(n.currentLocation.pathname,a)||n.currentLocation.pathname,d=ca(n.nextLocation.pathname,a)||n.nextLocation.pathname;return vh(l.pathname,d)!=null||vh(l.pathname,c)!=null}new TextEncoder;var jS=vx();const DS=hg(jS);document.addEventListener("DOMContentLoaded",function(){const s=["/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg","/AimRV/images/EE-AIMChallenge24-Uhamn-0171-high.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_113.jpg","/AimRV/images/AIM_lindvallen_2024_AnkiGrothe_highres_125.jpg"];function e(){const n=document.querySelectorAll(".dynamic-background");if(n.length===0){setTimeout(e,100);return}let a=s;try{const l=JSON.parse(localStorage.getItem("aimrv-background-images"));l&&Array.isArray(l)&&l.length>0&&(a=l)}catch(l){console.error("Error loading custom background images:",l)}n.forEach(function(l){let c=0;l.style.backgroundImage=`url(${a[c]})`,l.style.backgroundSize="cover",l.style.backgroundPosition="center",l.style.backgroundRepeat="no-repeat";const d=document.createElement("div");d.className="background-overlay",d.style.position="absolute",d.style.top="0",d.style.left="0",d.style.width="100%",d.style.height="100%",d.style.backgroundSize="cover",d.style.backgroundPosition="center",d.style.opacity="0",d.style.transition="opacity 2s ease-in-out",d.style.zIndex="1",getComputedStyle(l).position==="static"&&(l.style.position="relative"),Array.from(l.children).forEach(p=>{p!==d&&(p.style.zIndex===""||parseInt(p.style.zIndex)<10)&&(p.style.position="relative",p.style.zIndex="10")}),l.appendChild(d);function g(){const p=(c+1)%a.length;d.style.backgroundImage=`url(${a[p]})`,d.style.opacity="1",setTimeout(()=>{l.style.backgroundImage=`url(${a[p]})`,d.style.opacity="0",c=p},2e3)}setInterval(g,5e3)}),window.addEventListener("storage",function(l){if(l.key==="aimrv-background-images")try{const c=JSON.parse(l.newValue);c&&Array.isArray(c)&&c.length>0&&(a=c)}catch(c){console.error("Error updating background images:",c)}})}e()});const OS=()=>{};var Bv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx=function(s){const e=[];let n=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},MS=function(s){const e=[];let n=0,a=0;for(;n<s.length;){const l=s[n++];if(l<128)e[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[n++];e[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[n++],d=s[n++],g=s[n++],p=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[a++]=String.fromCharCode(55296+(p>>10)),e[a++]=String.fromCharCode(56320+(p&1023))}else{const c=s[n++],d=s[n++];e[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Ox={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,g=d?s[l+1]:0,p=l+2<s.length,y=p?s[l+2]:0,E=c>>2,b=(c&3)<<4|g>>4;let w=(g&15)<<2|y>>6,j=y&63;p||(j=64,d||(w=64)),a.push(n[E],n[b],n[w],n[j])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Dx(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):MS(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const c=n[s.charAt(l++)],g=l<s.length?n[s.charAt(l)]:0;++l;const y=l<s.length?n[s.charAt(l)]:64;++l;const b=l<s.length?n[s.charAt(l)]:64;if(++l,c==null||g==null||y==null||b==null)throw new LS;const w=c<<2|g>>4;if(a.push(w),y!==64){const j=g<<4&240|y>>2;if(a.push(j),b!==64){const O=y<<6&192|b;a.push(O)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class LS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const VS=function(s){const e=Dx(s);return Ox.encodeByteArray(e,!0)},xh=function(s){return VS(s).replace(/\./g,"")},Mx=function(s){try{return Ox.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US=()=>PS().__FIREBASE_DEFAULTS__,BS=()=>{if(typeof process>"u"||typeof Bv>"u")return;const s=Bv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},HS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Mx(s[1]);return e&&JSON.parse(e)},Hh=()=>{try{return OS()||US()||BS()||HS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Lx=s=>{var e,n;return(n=(e=Hh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[s]},Vx=s=>{const e=Lx(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},Px=()=>{var s;return(s=Hh())===null||s===void 0?void 0:s.config},Ux=s=>{var e;return(e=Hh())===null||e===void 0?void 0:e[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bx(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},s);return[xh(JSON.stringify(n)),xh(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function KS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())}function qS(){var s;const e=(s=Hh())===null||s===void 0?void 0:s.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function FS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function GS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function $S(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function QS(){const s=nn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function YS(){return!qS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function XS(){try{return typeof indexedDB=="object"}catch{return!1}}function WS(){return new Promise((s,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var c;e(((c=l.error)===null||c===void 0?void 0:c.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZS="FirebaseError";class Rs extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=ZS,Object.setPrototypeOf(this,Rs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pc.prototype.create)}}class pc{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?JS(c,a):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new Rs(l,g,a)}}function JS(s,e){return s.replace(eN,(n,a)=>{const l=e[a];return l!=null?String(l):`<${a}?>`})}const eN=/\{\$([^}]+)}/g;function tN(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function tr(s,e){if(s===e)return!0;const n=Object.keys(s),a=Object.keys(e);for(const l of n){if(!a.includes(l))return!1;const c=s[l],d=e[l];if(Hv(c)&&Hv(d)){if(!tr(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!n.includes(l))return!1;return!0}function Hv(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yc(s){const e=[];for(const[n,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function $o(s){const e={};return s.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[l,c]=a.split("=");e[decodeURIComponent(l)]=decodeURIComponent(c)}}),e}function Qo(s){const e=s.indexOf("?");if(!e)return"";const n=s.indexOf("#",e);return s.substring(e,n>0?n:void 0)}function nN(s,e){const n=new sN(s,e);return n.subscribe.bind(n)}class sN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,a){let l;if(e===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");iN(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:a},l.next===void 0&&(l.next=Tm),l.error===void 0&&(l.error=Tm),l.complete===void 0&&(l.complete=Tm);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function iN(s,e){if(typeof s!="object"||s===null)return!1;for(const n of e)if(n in s&&typeof s[n]=="function")return!0;return!1}function Tm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function it(s){return s&&s._delegate?s._delegate:s}class ua{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new zS;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),l=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(c){if(l)return null;throw c}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lN(e))try{this.getOrInitializeService({instanceIdentifier:Za})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(e=Za){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Za){return this.instances.has(e)}getOptions(e=Za){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&d.resolve(l)}return l}onInit(e,n){var a;const l=this.normalizeInstanceIdentifier(n),c=(a=this.onInitCallbacks.get(l))!==null&&a!==void 0?a:new Set;c.add(e),this.onInitCallbacks.set(l,c);const d=this.instances.get(l);return d&&e(d,l),()=>{c.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const l of a)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:rN(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Za){return this.component?this.component.multipleInstances?e:Za:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function rN(s){return s===Za?void 0:s}function lN(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new aN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Le||(Le={}));const cN={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},uN=Le.INFO,hN={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},dN=(s,e,...n)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),l=hN[e];if(l)console[l](`[${a}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class xg{constructor(e){this.name=e,this._logLevel=uN,this._logHandler=dN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?cN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const fN=(s,e)=>e.some(n=>s instanceof n);let zv,Kv;function mN(){return zv||(zv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gN(){return Kv||(Kv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Hx=new WeakMap,Vm=new WeakMap,zx=new WeakMap,bm=new WeakMap,Eg=new WeakMap;function pN(s){const e=new Promise((n,a)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{n(aa(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&Hx.set(n,s)}).catch(()=>{}),Eg.set(e,s),e}function yN(s){if(Vm.has(s))return;const e=new Promise((n,a)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{n(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});Vm.set(s,e)}let Pm={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return Vm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||zx.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return aa(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function _N(s){Pm=s(Pm)}function vN(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=s.call(Am(this),e,...n);return zx.set(a,e.sort?e.sort():[e]),aa(a)}:gN().includes(s)?function(...e){return s.apply(Am(this),e),aa(Hx.get(this))}:function(...e){return aa(s.apply(Am(this),e))}}function xN(s){return typeof s=="function"?vN(s):(s instanceof IDBTransaction&&yN(s),fN(s,mN())?new Proxy(s,Pm):s)}function aa(s){if(s instanceof IDBRequest)return pN(s);if(bm.has(s))return bm.get(s);const e=xN(s);return e!==s&&(bm.set(s,e),Eg.set(e,s)),e}const Am=s=>Eg.get(s);function EN(s,e,{blocked:n,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(s,e),g=aa(d);return a&&d.addEventListener("upgradeneeded",p=>{a(aa(d.result),p.oldVersion,p.newVersion,aa(d.transaction),p)}),n&&d.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),g.then(p=>{c&&p.addEventListener("close",()=>c()),l&&p.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const TN=["get","getKey","getAll","getAllKeys","count"],bN=["put","add","delete","clear"],wm=new Map;function qv(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(wm.get(e))return wm.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,l=bN.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(l||TN.includes(n)))return;const c=async function(d,...g){const p=this.transaction(d,l?"readwrite":"readonly");let y=p.store;return a&&(y=y.index(g.shift())),(await Promise.all([y[n](...g),l&&p.done]))[0]};return wm.set(e,c),c}_N(s=>({...s,get:(e,n,a)=>qv(e,n)||s.get(e,n,a),has:(e,n)=>!!qv(e,n)||s.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(wN(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function wN(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Um="@firebase/app",Fv="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oi=new xg("@firebase/app"),SN="@firebase/app-compat",NN="@firebase/analytics-compat",RN="@firebase/analytics",kN="@firebase/app-check-compat",IN="@firebase/app-check",CN="@firebase/auth",jN="@firebase/auth-compat",DN="@firebase/database",ON="@firebase/data-connect",MN="@firebase/database-compat",LN="@firebase/functions",VN="@firebase/functions-compat",PN="@firebase/installations",UN="@firebase/installations-compat",BN="@firebase/messaging",HN="@firebase/messaging-compat",zN="@firebase/performance",KN="@firebase/performance-compat",qN="@firebase/remote-config",FN="@firebase/remote-config-compat",GN="@firebase/storage",$N="@firebase/storage-compat",QN="@firebase/firestore",YN="@firebase/vertexai",XN="@firebase/firestore-compat",WN="firebase",ZN="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bm="[DEFAULT]",JN={[Um]:"fire-core",[SN]:"fire-core-compat",[RN]:"fire-analytics",[NN]:"fire-analytics-compat",[IN]:"fire-app-check",[kN]:"fire-app-check-compat",[CN]:"fire-auth",[jN]:"fire-auth-compat",[DN]:"fire-rtdb",[ON]:"fire-data-connect",[MN]:"fire-rtdb-compat",[LN]:"fire-fn",[VN]:"fire-fn-compat",[PN]:"fire-iid",[UN]:"fire-iid-compat",[BN]:"fire-fcm",[HN]:"fire-fcm-compat",[zN]:"fire-perf",[KN]:"fire-perf-compat",[qN]:"fire-rc",[FN]:"fire-rc-compat",[GN]:"fire-gcs",[$N]:"fire-gcs-compat",[QN]:"fire-fst",[XN]:"fire-fst-compat",[YN]:"fire-vertex","fire-js":"fire-js",[WN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eh=new Map,eR=new Map,Hm=new Map;function Gv(s,e){try{s.container.addComponent(e)}catch(n){oi.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function nr(s){const e=s.name;if(Hm.has(e))return oi.debug(`There were multiple attempts to register component ${e}.`),!1;Hm.set(e,s);for(const n of Eh.values())Gv(n,s);for(const n of eR.values())Gv(n,s);return!0}function zh(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function An(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ra=new pc("app","Firebase",tR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(e,n,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ua("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ra.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ur=ZN;function Kx(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const a=Object.assign({name:Bm,automaticDataCollectionEnabled:!1},e),l=a.name;if(typeof l!="string"||!l)throw ra.create("bad-app-name",{appName:String(l)});if(n||(n=Px()),!n)throw ra.create("no-options");const c=Eh.get(l);if(c){if(tr(n,c.options)&&tr(a,c.config))return c;throw ra.create("duplicate-app",{appName:l})}const d=new oN(l);for(const p of Hm.values())d.addComponent(p);const g=new nR(n,a,d);return Eh.set(l,g),g}function Tg(s=Bm){const e=Eh.get(s);if(!e&&s===Bm&&Px())return Kx();if(!e)throw ra.create("no-app",{appName:s});return e}function Ts(s,e,n){var a;let l=(a=JN[s])!==null&&a!==void 0?a:s;n&&(l+=`-${n}`);const c=l.match(/\s|\//),d=e.match(/\s|\//);if(c||d){const g=[`Unable to register library "${l}" with version "${e}":`];c&&g.push(`library name "${l}" contains illegal characters (whitespace or "/")`),c&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),oi.warn(g.join(" "));return}nr(new ua(`${l}-version`,()=>({library:l,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR="firebase-heartbeat-database",iR=1,rc="firebase-heartbeat-store";let Sm=null;function qx(){return Sm||(Sm=EN(sR,iR,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(rc)}catch(n){console.warn(n)}}}}).catch(s=>{throw ra.create("idb-open",{originalErrorMessage:s.message})})),Sm}async function aR(s){try{const n=(await qx()).transaction(rc),a=await n.objectStore(rc).get(Fx(s));return await n.done,a}catch(e){if(e instanceof Rs)oi.warn(e.message);else{const n=ra.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});oi.warn(n.message)}}}async function $v(s,e){try{const a=(await qx()).transaction(rc,"readwrite");await a.objectStore(rc).put(e,Fx(s)),await a.done}catch(n){if(n instanceof Rs)oi.warn(n.message);else{const a=ra.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});oi.warn(a.message)}}}function Fx(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR=1024,lR=30;class oR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new uR(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Qv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats.length>lR){const d=hR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){oi.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Qv(),{heartbeatsToSend:a,unsentEntries:l}=cR(this._heartbeatsCache.heartbeats),c=xh(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return oi.warn(n),""}}}function Qv(){return new Date().toISOString().substring(0,10)}function cR(s,e=rR){const n=[];let a=s.slice();for(const l of s){const c=n.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),Yv(n)>e){c.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),Yv(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class uR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return XS()?WS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await aR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return $v(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return $v(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...e.heartbeats]})}else return}}function Yv(s){return xh(JSON.stringify({version:2,heartbeats:s})).length}function hR(s){if(s.length===0)return-1;let e=0,n=s[0].date;for(let a=1;a<s.length;a++)s[a].date<n&&(n=s[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dR(s){nr(new ua("platform-logger",e=>new AN(e),"PRIVATE")),nr(new ua("heartbeat",e=>new oR(e),"PRIVATE")),Ts(Um,Fv,s),Ts(Um,Fv,"esm2017"),Ts("fire-js","")}dR("");var fR="firebase",mR="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ts(fR,mR,"app");var Xv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var la,Gx;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,N){function S(){}S.prototype=N.prototype,V.D=N.prototype,V.prototype=new S,V.prototype.constructor=V,V.C=function(k,R,L){for(var I=Array(arguments.length-2),je=2;je<arguments.length;je++)I[je-2]=arguments[je];return N.prototype[R].apply(k,I)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,n),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(V,N,S){S||(S=0);var k=Array(16);if(typeof N=="string")for(var R=0;16>R;++R)k[R]=N.charCodeAt(S++)|N.charCodeAt(S++)<<8|N.charCodeAt(S++)<<16|N.charCodeAt(S++)<<24;else for(R=0;16>R;++R)k[R]=N[S++]|N[S++]<<8|N[S++]<<16|N[S++]<<24;N=V.g[0],S=V.g[1],R=V.g[2];var L=V.g[3],I=N+(L^S&(R^L))+k[0]+3614090360&4294967295;N=S+(I<<7&4294967295|I>>>25),I=L+(R^N&(S^R))+k[1]+3905402710&4294967295,L=N+(I<<12&4294967295|I>>>20),I=R+(S^L&(N^S))+k[2]+606105819&4294967295,R=L+(I<<17&4294967295|I>>>15),I=S+(N^R&(L^N))+k[3]+3250441966&4294967295,S=R+(I<<22&4294967295|I>>>10),I=N+(L^S&(R^L))+k[4]+4118548399&4294967295,N=S+(I<<7&4294967295|I>>>25),I=L+(R^N&(S^R))+k[5]+1200080426&4294967295,L=N+(I<<12&4294967295|I>>>20),I=R+(S^L&(N^S))+k[6]+2821735955&4294967295,R=L+(I<<17&4294967295|I>>>15),I=S+(N^R&(L^N))+k[7]+4249261313&4294967295,S=R+(I<<22&4294967295|I>>>10),I=N+(L^S&(R^L))+k[8]+1770035416&4294967295,N=S+(I<<7&4294967295|I>>>25),I=L+(R^N&(S^R))+k[9]+2336552879&4294967295,L=N+(I<<12&4294967295|I>>>20),I=R+(S^L&(N^S))+k[10]+4294925233&4294967295,R=L+(I<<17&4294967295|I>>>15),I=S+(N^R&(L^N))+k[11]+2304563134&4294967295,S=R+(I<<22&4294967295|I>>>10),I=N+(L^S&(R^L))+k[12]+1804603682&4294967295,N=S+(I<<7&4294967295|I>>>25),I=L+(R^N&(S^R))+k[13]+4254626195&4294967295,L=N+(I<<12&4294967295|I>>>20),I=R+(S^L&(N^S))+k[14]+2792965006&4294967295,R=L+(I<<17&4294967295|I>>>15),I=S+(N^R&(L^N))+k[15]+1236535329&4294967295,S=R+(I<<22&4294967295|I>>>10),I=N+(R^L&(S^R))+k[1]+4129170786&4294967295,N=S+(I<<5&4294967295|I>>>27),I=L+(S^R&(N^S))+k[6]+3225465664&4294967295,L=N+(I<<9&4294967295|I>>>23),I=R+(N^S&(L^N))+k[11]+643717713&4294967295,R=L+(I<<14&4294967295|I>>>18),I=S+(L^N&(R^L))+k[0]+3921069994&4294967295,S=R+(I<<20&4294967295|I>>>12),I=N+(R^L&(S^R))+k[5]+3593408605&4294967295,N=S+(I<<5&4294967295|I>>>27),I=L+(S^R&(N^S))+k[10]+38016083&4294967295,L=N+(I<<9&4294967295|I>>>23),I=R+(N^S&(L^N))+k[15]+3634488961&4294967295,R=L+(I<<14&4294967295|I>>>18),I=S+(L^N&(R^L))+k[4]+3889429448&4294967295,S=R+(I<<20&4294967295|I>>>12),I=N+(R^L&(S^R))+k[9]+568446438&4294967295,N=S+(I<<5&4294967295|I>>>27),I=L+(S^R&(N^S))+k[14]+3275163606&4294967295,L=N+(I<<9&4294967295|I>>>23),I=R+(N^S&(L^N))+k[3]+4107603335&4294967295,R=L+(I<<14&4294967295|I>>>18),I=S+(L^N&(R^L))+k[8]+1163531501&4294967295,S=R+(I<<20&4294967295|I>>>12),I=N+(R^L&(S^R))+k[13]+2850285829&4294967295,N=S+(I<<5&4294967295|I>>>27),I=L+(S^R&(N^S))+k[2]+4243563512&4294967295,L=N+(I<<9&4294967295|I>>>23),I=R+(N^S&(L^N))+k[7]+1735328473&4294967295,R=L+(I<<14&4294967295|I>>>18),I=S+(L^N&(R^L))+k[12]+2368359562&4294967295,S=R+(I<<20&4294967295|I>>>12),I=N+(S^R^L)+k[5]+4294588738&4294967295,N=S+(I<<4&4294967295|I>>>28),I=L+(N^S^R)+k[8]+2272392833&4294967295,L=N+(I<<11&4294967295|I>>>21),I=R+(L^N^S)+k[11]+1839030562&4294967295,R=L+(I<<16&4294967295|I>>>16),I=S+(R^L^N)+k[14]+4259657740&4294967295,S=R+(I<<23&4294967295|I>>>9),I=N+(S^R^L)+k[1]+2763975236&4294967295,N=S+(I<<4&4294967295|I>>>28),I=L+(N^S^R)+k[4]+1272893353&4294967295,L=N+(I<<11&4294967295|I>>>21),I=R+(L^N^S)+k[7]+4139469664&4294967295,R=L+(I<<16&4294967295|I>>>16),I=S+(R^L^N)+k[10]+3200236656&4294967295,S=R+(I<<23&4294967295|I>>>9),I=N+(S^R^L)+k[13]+681279174&4294967295,N=S+(I<<4&4294967295|I>>>28),I=L+(N^S^R)+k[0]+3936430074&4294967295,L=N+(I<<11&4294967295|I>>>21),I=R+(L^N^S)+k[3]+3572445317&4294967295,R=L+(I<<16&4294967295|I>>>16),I=S+(R^L^N)+k[6]+76029189&4294967295,S=R+(I<<23&4294967295|I>>>9),I=N+(S^R^L)+k[9]+3654602809&4294967295,N=S+(I<<4&4294967295|I>>>28),I=L+(N^S^R)+k[12]+3873151461&4294967295,L=N+(I<<11&4294967295|I>>>21),I=R+(L^N^S)+k[15]+530742520&4294967295,R=L+(I<<16&4294967295|I>>>16),I=S+(R^L^N)+k[2]+3299628645&4294967295,S=R+(I<<23&4294967295|I>>>9),I=N+(R^(S|~L))+k[0]+4096336452&4294967295,N=S+(I<<6&4294967295|I>>>26),I=L+(S^(N|~R))+k[7]+1126891415&4294967295,L=N+(I<<10&4294967295|I>>>22),I=R+(N^(L|~S))+k[14]+2878612391&4294967295,R=L+(I<<15&4294967295|I>>>17),I=S+(L^(R|~N))+k[5]+4237533241&4294967295,S=R+(I<<21&4294967295|I>>>11),I=N+(R^(S|~L))+k[12]+1700485571&4294967295,N=S+(I<<6&4294967295|I>>>26),I=L+(S^(N|~R))+k[3]+2399980690&4294967295,L=N+(I<<10&4294967295|I>>>22),I=R+(N^(L|~S))+k[10]+4293915773&4294967295,R=L+(I<<15&4294967295|I>>>17),I=S+(L^(R|~N))+k[1]+2240044497&4294967295,S=R+(I<<21&4294967295|I>>>11),I=N+(R^(S|~L))+k[8]+1873313359&4294967295,N=S+(I<<6&4294967295|I>>>26),I=L+(S^(N|~R))+k[15]+4264355552&4294967295,L=N+(I<<10&4294967295|I>>>22),I=R+(N^(L|~S))+k[6]+2734768916&4294967295,R=L+(I<<15&4294967295|I>>>17),I=S+(L^(R|~N))+k[13]+1309151649&4294967295,S=R+(I<<21&4294967295|I>>>11),I=N+(R^(S|~L))+k[4]+4149444226&4294967295,N=S+(I<<6&4294967295|I>>>26),I=L+(S^(N|~R))+k[11]+3174756917&4294967295,L=N+(I<<10&4294967295|I>>>22),I=R+(N^(L|~S))+k[2]+718787259&4294967295,R=L+(I<<15&4294967295|I>>>17),I=S+(L^(R|~N))+k[9]+3951481745&4294967295,V.g[0]=V.g[0]+N&4294967295,V.g[1]=V.g[1]+(R+(I<<21&4294967295|I>>>11))&4294967295,V.g[2]=V.g[2]+R&4294967295,V.g[3]=V.g[3]+L&4294967295}a.prototype.u=function(V,N){N===void 0&&(N=V.length);for(var S=N-this.blockSize,k=this.B,R=this.h,L=0;L<N;){if(R==0)for(;L<=S;)l(this,V,L),L+=this.blockSize;if(typeof V=="string"){for(;L<N;)if(k[R++]=V.charCodeAt(L++),R==this.blockSize){l(this,k),R=0;break}}else for(;L<N;)if(k[R++]=V[L++],R==this.blockSize){l(this,k),R=0;break}}this.h=R,this.o+=N},a.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var N=1;N<V.length-8;++N)V[N]=0;var S=8*this.o;for(N=V.length-8;N<V.length;++N)V[N]=S&255,S/=256;for(this.u(V),V=Array(16),N=S=0;4>N;++N)for(var k=0;32>k;k+=8)V[S++]=this.g[N]>>>k&255;return V};function c(V,N){var S=g;return Object.prototype.hasOwnProperty.call(S,V)?S[V]:S[V]=N(V)}function d(V,N){this.h=N;for(var S=[],k=!0,R=V.length-1;0<=R;R--){var L=V[R]|0;k&&L==N||(S[R]=L,k=!1)}this.g=S}var g={};function p(V){return-128<=V&&128>V?c(V,function(N){return new d([N|0],0>N?-1:0)}):new d([V|0],0>V?-1:0)}function y(V){if(isNaN(V)||!isFinite(V))return b;if(0>V)return M(y(-V));for(var N=[],S=1,k=0;V>=S;k++)N[k]=V/S|0,S*=4294967296;return new d(N,0)}function E(V,N){if(V.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(V.charAt(0)=="-")return M(E(V.substring(1),N));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=y(Math.pow(N,8)),k=b,R=0;R<V.length;R+=8){var L=Math.min(8,V.length-R),I=parseInt(V.substring(R,R+L),N);8>L?(L=y(Math.pow(N,L)),k=k.j(L).add(y(I))):(k=k.j(S),k=k.add(y(I)))}return k}var b=p(0),w=p(1),j=p(16777216);s=d.prototype,s.m=function(){if(K(this))return-M(this).m();for(var V=0,N=1,S=0;S<this.g.length;S++){var k=this.i(S);V+=(0<=k?k:4294967296+k)*N,N*=4294967296}return V},s.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(O(this))return"0";if(K(this))return"-"+M(this).toString(V);for(var N=y(Math.pow(V,6)),S=this,k="";;){var R=ee(S,N).g;S=H(S,R.j(N));var L=((0<S.g.length?S.g[0]:S.h)>>>0).toString(V);if(S=R,O(S))return L+k;for(;6>L.length;)L="0"+L;k=L+k}},s.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function O(V){if(V.h!=0)return!1;for(var N=0;N<V.g.length;N++)if(V.g[N]!=0)return!1;return!0}function K(V){return V.h==-1}s.l=function(V){return V=H(this,V),K(V)?-1:O(V)?0:1};function M(V){for(var N=V.g.length,S=[],k=0;k<N;k++)S[k]=~V.g[k];return new d(S,~V.h).add(w)}s.abs=function(){return K(this)?M(this):this},s.add=function(V){for(var N=Math.max(this.g.length,V.g.length),S=[],k=0,R=0;R<=N;R++){var L=k+(this.i(R)&65535)+(V.i(R)&65535),I=(L>>>16)+(this.i(R)>>>16)+(V.i(R)>>>16);k=I>>>16,L&=65535,I&=65535,S[R]=I<<16|L}return new d(S,S[S.length-1]&-2147483648?-1:0)};function H(V,N){return V.add(M(N))}s.j=function(V){if(O(this)||O(V))return b;if(K(this))return K(V)?M(this).j(M(V)):M(M(this).j(V));if(K(V))return M(this.j(M(V)));if(0>this.l(j)&&0>V.l(j))return y(this.m()*V.m());for(var N=this.g.length+V.g.length,S=[],k=0;k<2*N;k++)S[k]=0;for(k=0;k<this.g.length;k++)for(var R=0;R<V.g.length;R++){var L=this.i(k)>>>16,I=this.i(k)&65535,je=V.i(R)>>>16,Ae=V.i(R)&65535;S[2*k+2*R]+=I*Ae,G(S,2*k+2*R),S[2*k+2*R+1]+=L*Ae,G(S,2*k+2*R+1),S[2*k+2*R+1]+=I*je,G(S,2*k+2*R+1),S[2*k+2*R+2]+=L*je,G(S,2*k+2*R+2)}for(k=0;k<N;k++)S[k]=S[2*k+1]<<16|S[2*k];for(k=N;k<2*N;k++)S[k]=0;return new d(S,0)};function G(V,N){for(;(V[N]&65535)!=V[N];)V[N+1]+=V[N]>>>16,V[N]&=65535,N++}function $(V,N){this.g=V,this.h=N}function ee(V,N){if(O(N))throw Error("division by zero");if(O(V))return new $(b,b);if(K(V))return N=ee(M(V),N),new $(M(N.g),M(N.h));if(K(N))return N=ee(V,M(N)),new $(M(N.g),N.h);if(30<V.g.length){if(K(V)||K(N))throw Error("slowDivide_ only works with positive integers.");for(var S=w,k=N;0>=k.l(V);)S=J(S),k=J(k);var R=re(S,1),L=re(k,1);for(k=re(k,2),S=re(S,2);!O(k);){var I=L.add(k);0>=I.l(V)&&(R=R.add(S),L=I),k=re(k,1),S=re(S,1)}return N=H(V,R.j(N)),new $(R,N)}for(R=b;0<=V.l(N);){for(S=Math.max(1,Math.floor(V.m()/N.m())),k=Math.ceil(Math.log(S)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),L=y(S),I=L.j(N);K(I)||0<I.l(V);)S-=k,L=y(S),I=L.j(N);O(L)&&(L=w),R=R.add(L),V=H(V,I)}return new $(R,V)}s.A=function(V){return ee(this,V).h},s.and=function(V){for(var N=Math.max(this.g.length,V.g.length),S=[],k=0;k<N;k++)S[k]=this.i(k)&V.i(k);return new d(S,this.h&V.h)},s.or=function(V){for(var N=Math.max(this.g.length,V.g.length),S=[],k=0;k<N;k++)S[k]=this.i(k)|V.i(k);return new d(S,this.h|V.h)},s.xor=function(V){for(var N=Math.max(this.g.length,V.g.length),S=[],k=0;k<N;k++)S[k]=this.i(k)^V.i(k);return new d(S,this.h^V.h)};function J(V){for(var N=V.g.length+1,S=[],k=0;k<N;k++)S[k]=V.i(k)<<1|V.i(k-1)>>>31;return new d(S,V.h)}function re(V,N){var S=N>>5;N%=32;for(var k=V.g.length-S,R=[],L=0;L<k;L++)R[L]=0<N?V.i(L+S)>>>N|V.i(L+S+1)<<32-N:V.i(L+S);return new d(R,V.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,Gx=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=E,la=d}).apply(typeof Xv<"u"?Xv:typeof self<"u"?self:typeof window<"u"?window:{});var Xu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $x,Yo,Qx,oh,zm,Yx,Xx,Wx;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,_,v){return h==Array.prototype||h==Object.prototype||(h[_]=v.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xu=="object"&&Xu];for(var _=0;_<h.length;++_){var v=h[_];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=n(this);function l(h,_){if(_)e:{var v=a;h=h.split(".");for(var A=0;A<h.length-1;A++){var F=h[A];if(!(F in v))break e;v=v[F]}h=h[h.length-1],A=v[h],_=_(A),_!=A&&_!=null&&e(v,h,{configurable:!0,writable:!0,value:_})}}function c(h,_){h instanceof String&&(h+="");var v=0,A=!1,F={next:function(){if(!A&&v<h.length){var X=v++;return{value:_(X,h[X]),done:!1}}return A=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}l("Array.prototype.values",function(h){return h||function(){return c(this,function(_,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function p(h){var _=typeof h;return _=_!="object"?_:h?Array.isArray(h)?"array":_:"null",_=="array"||_=="object"&&typeof h.length=="number"}function y(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function E(h,_,v){return h.call.apply(h.bind,arguments)}function b(h,_,v){if(!h)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,A),h.apply(_,F)}}return function(){return h.apply(_,arguments)}}function w(h,_,v){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:b,w.apply(null,arguments)}function j(h,_){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function O(h,_){function v(){}v.prototype=_.prototype,h.aa=_.prototype,h.prototype=new v,h.prototype.constructor=h,h.Qb=function(A,F,X){for(var oe=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)oe[Be-2]=arguments[Be];return _.prototype[F].apply(A,oe)}}function K(h){const _=h.length;if(0<_){const v=Array(_);for(let A=0;A<_;A++)v[A]=h[A];return v}return[]}function M(h,_){for(let v=1;v<arguments.length;v++){const A=arguments[v];if(p(A)){const F=h.length||0,X=A.length||0;h.length=F+X;for(let oe=0;oe<X;oe++)h[F+oe]=A[oe]}else h.push(A)}}class H{constructor(_,v){this.i=_,this.j=v,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function G(h){return/^[\s\xa0]*$/.test(h)}function $(){var h=g.navigator;return h&&(h=h.userAgent)?h:""}function ee(h){return ee[" "](h),h}ee[" "]=function(){};var J=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function re(h,_,v){for(const A in h)_.call(v,h[A],A,h)}function V(h,_){for(const v in h)_.call(void 0,h[v],v,h)}function N(h){const _={};for(const v in h)_[v]=h[v];return _}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(h,_){let v,A;for(let F=1;F<arguments.length;F++){A=arguments[F];for(v in A)h[v]=A[v];for(let X=0;X<S.length;X++)v=S[X],Object.prototype.hasOwnProperty.call(A,v)&&(h[v]=A[v])}}function R(h){var _=1;h=h.split(":");const v=[];for(;0<_&&h.length;)v.push(h.shift()),_--;return h.length&&v.push(h.join(":")),v}function L(h){g.setTimeout(()=>{throw h},0)}function I(){var h=ke;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class je{constructor(){this.h=this.g=null}add(_,v){const A=Ae.get();A.set(_,v),this.h?this.h.next=A:this.g=A,this.h=A}}var Ae=new H(()=>new le,h=>h.reset());class le{constructor(){this.next=this.g=this.h=null}set(_,v){this.h=_,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ve,ce=!1,ke=new je,D=()=>{const h=g.Promise.resolve(void 0);ve=()=>{h.then(ie)}};var ie=()=>{for(var h;h=I();){try{h.h.call(h.g)}catch(v){L(v)}var _=Ae;_.j(h),100>_.h&&(_.h++,h.next=_.g,_.g=h)}ce=!1};function me(){this.s=this.s,this.C=this.C}me.prototype.s=!1,me.prototype.ma=function(){this.s||(this.s=!0,this.N())},me.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var he=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const v=()=>{};g.addEventListener("test",v,_),g.removeEventListener("test",v,_)}catch{}return h}();function Ie(h,_){if(ue.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var v=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget){if(J){e:{try{ee(_.nodeName);var F=!0;break e}catch{}F=!1}F||(_=null)}}else v=="mouseover"?_=h.fromElement:v=="mouseout"&&(_=h.toElement);this.relatedTarget=_,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Se[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Ie.aa.h.call(this)}}O(Ie,ue);var Se={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var vt="closure_listenable_"+(1e6*Math.random()|0),qe=0;function ct(h,_,v,A,F){this.listener=h,this.proxy=null,this.src=_,this.type=v,this.capture=!!A,this.ha=F,this.key=++qe,this.da=this.fa=!1}function Xe(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function sn(h){this.src=h,this.g={},this.h=0}sn.prototype.add=function(h,_,v,A,F){var X=h.toString();h=this.g[X],h||(h=this.g[X]=[],this.h++);var oe=Rn(h,_,A,F);return-1<oe?(_=h[oe],v||(_.fa=!1)):(_=new ct(_,this.src,X,!!A,F),_.fa=v,h.push(_)),_};function ks(h,_){var v=_.type;if(v in h.g){var A=h.g[v],F=Array.prototype.indexOf.call(A,_,void 0),X;(X=0<=F)&&Array.prototype.splice.call(A,F,1),X&&(Xe(_),h.g[v].length==0&&(delete h.g[v],h.h--))}}function Rn(h,_,v,A){for(var F=0;F<h.length;++F){var X=h[F];if(!X.da&&X.listener==_&&X.capture==!!v&&X.ha==A)return F}return-1}var mi="closure_lm_"+(1e6*Math.random()|0),gi={};function Is(h,_,v,A,F){if(Array.isArray(_)){for(var X=0;X<_.length;X++)Is(h,_[X],v,A,F);return null}return v=Rc(v),h&&h[vt]?h.K(_,v,y(A)?!!A.capture:!1,F):Ml(h,_,v,!1,A,F)}function Ml(h,_,v,A,F,X){if(!_)throw Error("Invalid event type");var oe=y(F)?!!F.capture:!!F,Be=Ll(h);if(Be||(h[mi]=Be=new sn(h)),v=Be.add(_,v,A,oe,X),v.proxy)return v;if(A=yr(),v.proxy=A,A.src=h,A.listener=v,h.addEventListener)he||(F=oe),F===void 0&&(F=!1),h.addEventListener(_.toString(),A,F);else if(h.attachEvent)h.attachEvent(vr(_.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function yr(){function h(v){return _.call(h.src,h.listener,v)}const _=gd;return h}function _r(h,_,v,A,F){if(Array.isArray(_))for(var X=0;X<_.length;X++)_r(h,_[X],v,A,F);else A=y(A)?!!A.capture:!!A,v=Rc(v),h&&h[vt]?(h=h.i,_=String(_).toString(),_ in h.g&&(X=h.g[_],v=Rn(X,v,A,F),-1<v&&(Xe(X[v]),Array.prototype.splice.call(X,v,1),X.length==0&&(delete h.g[_],h.h--)))):h&&(h=Ll(h))&&(_=h.g[_.toString()],h=-1,_&&(h=Rn(_,v,A,F)),(v=-1<h?_[h]:null)&&xa(v))}function xa(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[vt])ks(_.i,h);else{var v=h.type,A=h.proxy;_.removeEventListener?_.removeEventListener(v,A,h.capture):_.detachEvent?_.detachEvent(vr(v),A):_.addListener&&_.removeListener&&_.removeListener(A),(v=Ll(_))?(ks(v,h),v.h==0&&(v.src=null,_[mi]=null)):Xe(h)}}}function vr(h){return h in gi?gi[h]:gi[h]="on"+h}function gd(h,_){if(h.da)h=!0;else{_=new Ie(_,this);var v=h.listener,A=h.ha||h.src;h.fa&&xa(h),h=v.call(A,_)}return h}function Ll(h){return h=h[mi],h instanceof sn?h:null}var dn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Rc(h){return typeof h=="function"?h:(h[dn]||(h[dn]=function(_){return h.handleEvent(_)}),h[dn])}function wt(){me.call(this),this.i=new sn(this),this.M=this,this.F=null}O(wt,me),wt.prototype[vt]=!0,wt.prototype.removeEventListener=function(h,_,v,A){_r(this,h,_,v,A)};function Ot(h,_){var v,A=h.F;if(A)for(v=[];A;A=A.F)v.push(A);if(h=h.M,A=_.type||_,typeof _=="string")_=new ue(_,h);else if(_ instanceof ue)_.target=_.target||h;else{var F=_;_=new ue(A,h),k(_,F)}if(F=!0,v)for(var X=v.length-1;0<=X;X--){var oe=_.g=v[X];F=Cs(oe,A,!0,_)&&F}if(oe=_.g=h,F=Cs(oe,A,!0,_)&&F,F=Cs(oe,A,!1,_)&&F,v)for(X=0;X<v.length;X++)oe=_.g=v[X],F=Cs(oe,A,!1,_)&&F}wt.prototype.N=function(){if(wt.aa.N.call(this),this.i){var h=this.i,_;for(_ in h.g){for(var v=h.g[_],A=0;A<v.length;A++)Xe(v[A]);delete h.g[_],h.h--}}this.F=null},wt.prototype.K=function(h,_,v,A){return this.i.add(String(h),_,!1,v,A)},wt.prototype.L=function(h,_,v,A){return this.i.add(String(h),_,!0,v,A)};function Cs(h,_,v,A){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();for(var F=!0,X=0;X<_.length;++X){var oe=_[X];if(oe&&!oe.da&&oe.capture==v){var Be=oe.listener,Nt=oe.ha||oe.src;oe.fa&&ks(h.i,oe),F=Be.call(Nt,A)!==!1&&F}}return F&&!A.defaultPrevented}function kc(h,_,v){if(typeof h=="function")v&&(h=w(h,v));else if(h&&typeof h.handleEvent=="function")h=w(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:g.setTimeout(h,_||0)}function Vl(h){h.g=kc(()=>{h.g=null,h.i&&(h.i=!1,Vl(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class pd extends me{constructor(_,v){super(),this.m=_,this.l=v,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Vl(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ea(h){me.call(this),this.h=h,this.g={}}O(Ea,me);var pi=[];function Xt(h){re(h.g,function(_,v){this.g.hasOwnProperty(v)&&xa(_)},h),h.g={}}Ea.prototype.N=function(){Ea.aa.N.call(this),Xt(this)},Ea.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pl=g.JSON.stringify,is=g.JSON.parse,an=class{stringify(h){return g.JSON.stringify(h,void 0)}parse(h){return g.JSON.parse(h,void 0)}};function Ul(){}Ul.prototype.h=null;function Ic(h){return h.h||(h.h=h.i())}function Cc(){}var as={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function yi(){ue.call(this,"d")}O(yi,ue);function Gn(){ue.call(this,"c")}O(Gn,ue);var kn={},_i=null;function xr(){return _i=_i||new wt}kn.La="serverreachability";function Bl(h){ue.call(this,kn.La,h)}O(Bl,ue);function vi(h){const _=xr();Ot(_,new Bl(_))}kn.STAT_EVENT="statevent";function Er(h,_){ue.call(this,kn.STAT_EVENT,h),this.stat=_}O(Er,ue);function pt(h){const _=xr();Ot(_,new Er(_,h))}kn.Ma="timingevent";function jc(h,_){ue.call(this,kn.Ma,h),this.size=_}O(jc,ue);function xi(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){h()},_)}function Ei(){this.g=!0}Ei.prototype.xa=function(){this.g=!1};function Dc(h,_,v,A,F,X){h.info(function(){if(h.g)if(X)for(var oe="",Be=X.split("&"),Nt=0;Nt<Be.length;Nt++){var He=Be[Nt].split("=");if(1<He.length){var Vt=He[0];He=He[1];var Rt=Vt.split("_");oe=2<=Rt.length&&Rt[1]=="type"?oe+(Vt+"="+He+"&"):oe+(Vt+"=redacted&")}}else oe=null;else oe=X;return"XMLHTTP REQ ("+A+") [attempt "+F+"]: "+_+`
`+v+`
`+oe})}function Oc(h,_,v,A,F,X,oe){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+F+"]: "+_+`
`+v+`
`+X+" "+oe})}function Ti(h,_,v,A){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+Mt(h,v)+(A?" "+A:"")})}function rs(h,_){h.info(function(){return"TIMEOUT: "+_})}Ei.prototype.info=function(){};function Mt(h,_){if(!h.g)return _;if(!_)return null;try{var v=JSON.parse(_);if(v){for(h=0;h<v.length;h++)if(Array.isArray(v[h])){var A=v[h];if(!(2>A.length)){var F=A[1];if(Array.isArray(F)&&!(1>F.length)){var X=F[0];if(X!="noop"&&X!="stop"&&X!="close")for(var oe=1;oe<F.length;oe++)F[oe]=""}}}}return Pl(v)}catch{return _}}var St={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},js={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ta;function Tr(){}O(Tr,Ul),Tr.prototype.g=function(){return new XMLHttpRequest},Tr.prototype.i=function(){return{}},Ta=new Tr;function ls(h,_,v,A){this.j=h,this.i=_,this.l=v,this.R=A||1,this.U=new Ea(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Hl}function Hl(){this.i=null,this.g="",this.h=!1}var bi={},ba={};function $n(h,_,v){h.L=1,h.v=Sa(ut(_)),h.m=v,h.P=!0,Ds(h,null)}function Ds(h,_){h.F=Date.now(),at(h),h.A=ut(h.v);var v=h.A,A=h.R;Array.isArray(A)||(A=[String(A)]),Ls(v.i,"t",A),h.C=0,v=h.j.J,h.h=new Hl,h.g=Qc(h.j,v?_:null,!h.m),0<h.O&&(h.M=new pd(w(h.Y,h,h.g),h.O)),_=h.U,v=h.g,A=h.ca;var F="readystatechange";Array.isArray(F)||(F&&(pi[0]=F.toString()),F=pi);for(var X=0;X<F.length;X++){var oe=Is(v,F[X],A||_.handleEvent,!1,_.h||_);if(!oe)break;_.g[oe.key]=oe}_=h.H?N(h.H):{},h.m?(h.u||(h.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,_)):(h.u="GET",h.g.ea(h.A,h.u,null,_)),vi(),Dc(h.i,h.u,h.A,h.l,h.R,h.m)}ls.prototype.ca=function(h){h=h.target;const _=this.M;_&&On(h)==3?_.j():this.Y(h)},ls.prototype.Y=function(h){try{if(h==this.g)e:{const Rt=On(this.g);var _=this.g.Ba();const Bs=this.g.Z();if(!(3>Rt)&&(Rt!=3||this.g&&(this.h.h||this.g.oa()||Bc(this.g)))){this.J||Rt!=4||_==7||(_==8||0>=Bs?vi(3):vi(2)),br(this);var v=this.g.Z();this.X=v;t:if(Ai(this)){var A=Bc(this.g);h="";var F=A.length,X=On(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){fn(this),yn(this);var oe="";break t}this.h.i=new g.TextDecoder}for(_=0;_<F;_++)this.h.h=!0,h+=this.h.i.decode(A[_],{stream:!(X&&_==F-1)});A.length=0,this.h.g+=h,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=v==200,Oc(this.i,this.u,this.A,this.l,this.R,Rt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Be,Nt=this.g;if((Be=Nt.g?Nt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(Be)){var He=Be;break t}}He=null}if(v=He)Ti(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_n(this,v);else{this.o=!1,this.s=3,pt(12),fn(this),yn(this);break e}}if(this.P){v=!0;let zt;for(;!this.J&&this.C<oe.length;)if(zt=wi(this,oe),zt==ba){Rt==4&&(this.s=4,pt(14),v=!1),Ti(this.i,this.l,null,"[Incomplete Response]");break}else if(zt==bi){this.s=4,pt(15),Ti(this.i,this.l,oe,"[Invalid Chunk]"),v=!1;break}else Ti(this.i,this.l,zt,null),_n(this,zt);if(Ai(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||oe.length!=0||this.h.h||(this.s=1,pt(16),v=!1),this.o=this.o&&v,!v)Ti(this.i,this.l,oe,"[Invalid Chunked Response]"),fn(this),yn(this);else if(0<oe.length&&!this.W){this.W=!0;var Vt=this.j;Vt.g==this&&Vt.ba&&!Vt.M&&(Vt.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),Da(Vt),Vt.M=!0,pt(11))}}else Ti(this.i,this.l,oe,null),_n(this,oe);Rt==4&&fn(this),this.o&&!this.J&&(Rt==4?Fc(this.j,this):(this.o=!1,at(this)))}else Td(this.g),v==400&&0<oe.indexOf("Unknown SID")?(this.s=3,pt(12)):(this.s=0,pt(13)),fn(this),yn(this)}}}catch{}finally{}};function Ai(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function wi(h,_){var v=h.C,A=_.indexOf(`
`,v);return A==-1?ba:(v=Number(_.substring(v,A)),isNaN(v)?bi:(A+=1,A+v>_.length?ba:(_=_.slice(A,A+v),h.C=A+v,_)))}ls.prototype.cancel=function(){this.J=!0,fn(this)};function at(h){h.S=Date.now()+h.I,zl(h,h.I)}function zl(h,_){if(h.B!=null)throw Error("WatchDog timer not null");h.B=xi(w(h.ba,h),_)}function br(h){h.B&&(g.clearTimeout(h.B),h.B=null)}ls.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(rs(this.i,this.A),this.L!=2&&(vi(),pt(17)),fn(this),this.s=2,yn(this)):zl(this,this.S-h)};function yn(h){h.j.G==0||h.J||Fc(h.j,h)}function fn(h){br(h);var _=h.M;_&&typeof _.ma=="function"&&_.ma(),h.M=null,Xt(h.U),h.g&&(_=h.g,h.g=null,_.abort(),_.ma())}function _n(h,_){try{var v=h.j;if(v.G!=0&&(v.g==h||Si(v.h,h))){if(!h.K&&Si(v.h,h)&&v.G==3){try{var A=v.Da.g.parse(_)}catch{A=null}if(Array.isArray(A)&&A.length==3){var F=A;if(F[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<h.F)Dr(v),Cr(v);else break e;Jl(v),pt(18)}}else v.za=F[1],0<v.za-v.T&&37500>F[2]&&v.F&&v.v==0&&!v.C&&(v.C=xi(w(v.Za,v),6e3));if(1>=Mc(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Us(v,11)}else if((h.K||v.g==h)&&Dr(v),!G(_))for(F=v.Da.g.parse(_),_=0;_<F.length;_++){let He=F[_];if(v.T=He[0],He=He[1],v.G==2)if(He[0]=="c"){v.K=He[1],v.ia=He[2];const Vt=He[3];Vt!=null&&(v.la=Vt,v.j.info("VER="+v.la));const Rt=He[4];Rt!=null&&(v.Aa=Rt,v.j.info("SVER="+v.Aa));const Bs=He[5];Bs!=null&&typeof Bs=="number"&&0<Bs&&(A=1.5*Bs,v.L=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const zt=h.g;if(zt){const ms=zt.g?zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ms){var X=A.h;X.g||ms.indexOf("spdy")==-1&&ms.indexOf("quic")==-1&&ms.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(Ni(X,X.h),X.h=null))}if(A.D){const to=zt.g?zt.g.getResponseHeader("X-HTTP-Session-Id"):null;to&&(A.ya=to,Fe(A.I,A.D,to))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-h.F,v.j.info("Handshake RTT: "+v.R+"ms")),A=v;var oe=h;if(A.qa=$c(A,A.J?A.ia:null,A.W),oe.K){In(A.h,oe);var Be=oe,Nt=A.L;Nt&&(Be.I=Nt),Be.B&&(br(Be),at(Be)),A.g=oe}else Kc(A);0<v.i.length&&jr(v)}else He[0]!="stop"&&He[0]!="close"||Us(v,7);else v.G==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?Us(v,7):Wl(v):He[0]!="noop"&&v.l&&v.l.ta(He),v.v=0)}}vi(4)}catch{}}var yd=class{constructor(h,_){this.g=h,this.map=_}};function Kl(h){this.l=h||10,g.PerformanceNavigationTiming?(h=g.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ql(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Mc(h){return h.h?1:h.g?h.g.size:0}function Si(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function Ni(h,_){h.g?h.g.add(_):h.h=_}function In(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}Kl.prototype.cancel=function(){if(this.i=rn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function rn(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const v of h.g.values())_=_.concat(v.D);return _}return K(h.i)}function Lc(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(p(h)){for(var _=[],v=h.length,A=0;A<v;A++)_.push(h[A]);return _}_=[],v=0;for(A in h)_[v++]=h[A];return _}function _d(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(p(h)||typeof h=="string"){var _=[];h=h.length;for(var v=0;v<h;v++)_.push(v);return _}_=[],v=0;for(const A in h)_[v++]=A;return _}}}function Aa(h,_){if(h.forEach&&typeof h.forEach=="function")h.forEach(_,void 0);else if(p(h)||typeof h=="string")Array.prototype.forEach.call(h,_,void 0);else for(var v=_d(h),A=Lc(h),F=A.length,X=0;X<F;X++)_.call(void 0,A[X],v&&v[X],h)}var Fl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ar(h,_){if(h){h=h.split("&");for(var v=0;v<h.length;v++){var A=h[v].indexOf("="),F=null;if(0<=A){var X=h[v].substring(0,A);F=h[v].substring(A+1)}else X=h[v];_(X,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Os(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Os){this.h=h.h,Ri(this,h.j),this.o=h.o,this.g=h.g,wa(this,h.s),this.l=h.l;var _=h.i,v=new os;v.i=_.i,_.g&&(v.g=new Map(_.g),v.h=_.h),wr(this,v),this.m=h.m}else h&&(_=String(h).match(Fl))?(this.h=!1,Ri(this,_[1]||"",!0),this.o=ki(_[2]||""),this.g=ki(_[3]||"",!0),wa(this,_[4]),this.l=ki(_[5]||"",!0),wr(this,_[6]||"",!0),this.m=ki(_[7]||"")):(this.h=!1,this.i=new os(null,this.h))}Os.prototype.toString=function(){var h=[],_=this.j;_&&h.push(Cn(_,Gl,!0),":");var v=this.g;return(v||_=="file")&&(h.push("//"),(_=this.o)&&h.push(Cn(_,Gl,!0),"@"),h.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&h.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&h.push("/"),h.push(Cn(v,v.charAt(0)=="/"?$l:Vc,!0))),(v=this.i.toString())&&h.push("?",v),(v=this.m)&&h.push("#",Cn(v,Ed)),h.join("")};function ut(h){return new Os(h)}function Ri(h,_,v){h.j=v?ki(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function wa(h,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);h.s=_}else h.s=null}function wr(h,_,v){_ instanceof os?(h.i=_,Ql(h.i,h.h)):(v||(_=Cn(_,xd)),h.i=new os(_,h.h))}function Fe(h,_,v){h.i.set(_,v)}function Sa(h){return Fe(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function ki(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Cn(h,_,v){return typeof h=="string"?(h=encodeURI(h).replace(_,vd),v&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function vd(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Gl=/[#\/\?@]/g,Vc=/[#\?:]/g,$l=/[#\?]/g,xd=/[#\?@]/g,Ed=/#/g;function os(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function jn(h){h.g||(h.g=new Map,h.h=0,h.i&&Ar(h.i,function(_,v){h.add(decodeURIComponent(_.replace(/\+/g," ")),v)}))}s=os.prototype,s.add=function(h,_){jn(this),this.i=null,h=Vs(this,h);var v=this.g.get(h);return v||this.g.set(h,v=[]),v.push(_),this.h+=1,this};function Sr(h,_){jn(h),_=Vs(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function Ms(h,_){return jn(h),_=Vs(h,_),h.g.has(_)}s.forEach=function(h,_){jn(this),this.g.forEach(function(v,A){v.forEach(function(F){h.call(_,F,A,this)},this)},this)},s.na=function(){jn(this);const h=Array.from(this.g.values()),_=Array.from(this.g.keys()),v=[];for(let A=0;A<_.length;A++){const F=h[A];for(let X=0;X<F.length;X++)v.push(_[A])}return v},s.V=function(h){jn(this);let _=[];if(typeof h=="string")Ms(this,h)&&(_=_.concat(this.g.get(Vs(this,h))));else{h=Array.from(this.g.values());for(let v=0;v<h.length;v++)_=_.concat(h[v])}return _},s.set=function(h,_){return jn(this),this.i=null,h=Vs(this,h),Ms(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},s.get=function(h,_){return h?(h=this.V(h),0<h.length?String(h[0]):_):_};function Ls(h,_,v){Sr(h,_),0<v.length&&(h.i=null,h.g.set(Vs(h,_),K(v)),h.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(var v=0;v<_.length;v++){var A=_[v];const X=encodeURIComponent(String(A)),oe=this.V(A);for(A=0;A<oe.length;A++){var F=X;oe[A]!==""&&(F+="="+encodeURIComponent(String(oe[A]))),h.push(F)}}return this.i=h.join("&")};function Vs(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function Ql(h,_){_&&!h.j&&(jn(h),h.i=null,h.g.forEach(function(v,A){var F=A.toLowerCase();A!=F&&(Sr(this,A),Ls(this,F,v))},h)),h.j=_}function Pc(h,_){const v=new Ei;if(g.Image){const A=new Image;A.onload=j(Dn,v,"TestLoadImage: loaded",!0,_,A),A.onerror=j(Dn,v,"TestLoadImage: error",!1,_,A),A.onabort=j(Dn,v,"TestLoadImage: abort",!1,_,A),A.ontimeout=j(Dn,v,"TestLoadImage: timeout",!1,_,A),g.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else _(!1)}function Na(h,_){const v=new Ei,A=new AbortController,F=setTimeout(()=>{A.abort(),Dn(v,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:A.signal}).then(X=>{clearTimeout(F),X.ok?Dn(v,"TestPingServer: ok",!0,_):Dn(v,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(F),Dn(v,"TestPingServer: error",!1,_)})}function Dn(h,_,v,A,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),A(v)}catch{}}function Ra(){this.g=new an}function cs(h,_,v){const A=v||"";try{Aa(h,function(F,X){let oe=F;y(F)&&(oe=Pl(F)),_.push(A+X+"="+encodeURIComponent(oe))})}catch(F){throw _.push(A+"type="+encodeURIComponent("_badmap")),F}}function Ii(h){this.l=h.Ub||null,this.j=h.eb||!1}O(Ii,Ul),Ii.prototype.g=function(){return new Ps(this.l,this.j)},Ii.prototype.i=function(h){return function(){return h}}({});function Ps(h,_){wt.call(this),this.D=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(Ps,wt),s=Ps.prototype,s.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=_,this.readyState=1,hs(this)},s.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(_.body=h),(this.D||g).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,us(this)),this.readyState=0},s.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,hs(this)),this.g&&(this.readyState=3,hs(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Yl(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Yl(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}s.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?us(this):hs(this),this.readyState==3&&Yl(this)}},s.Ra=function(h){this.g&&(this.response=this.responseText=h,us(this))},s.Qa=function(h){this.g&&(this.response=h,us(this))},s.ga=function(){this.g&&us(this)};function us(h){h.readyState=4,h.l=null,h.j=null,h.v=null,hs(h)}s.setRequestHeader=function(h,_){this.u.append(h,_)},s.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var v=_.next();!v.done;)v=v.value,h.push(v[0]+": "+v[1]),v=_.next();return h.join(`\r
`)};function hs(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Ps.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Xl(h){let _="";return re(h,function(v,A){_+=A,_+=":",_+=v,_+=`\r
`}),_}function Lt(h,_,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=Xl(v),typeof h=="string"?v!=null&&encodeURIComponent(String(v)):Fe(h,_,v))}function Qe(h){wt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(Qe,wt);var Nr=/^https?$/i,ka=["POST","PUT"];s=Qe.prototype,s.Ha=function(h){this.J=h},s.ea=function(h,_,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ta.g(),this.v=this.o?Ic(this.o):Ic(Ta),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(X){Uc(this,X);return}if(h=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var F in A)v.set(F,A[F]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const X of A.keys())v.set(X,A.get(X));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(X=>X.toLowerCase()=="content-type"),F=g.FormData&&h instanceof g.FormData,!(0<=Array.prototype.indexOf.call(ka,_,void 0))||A||F||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,oe]of v)this.g.setRequestHeader(X,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ia(this),this.u=!0,this.g.send(h),this.u=!1}catch(X){Uc(this,X)}};function Uc(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.m=5,Rr(h),ds(h)}function Rr(h){h.A||(h.A=!0,Ot(h,"complete"),Ot(h,"error"))}s.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Ot(this,"complete"),Ot(this,"abort"),ds(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ds(this,!0)),Qe.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?kr(this):this.bb())},s.bb=function(){kr(this)};function kr(h){if(h.h&&typeof d<"u"&&(!h.v[1]||On(h)!=4||h.Z()!=2)){if(h.u&&On(h)==4)kc(h.Ea,0,h);else if(Ot(h,"readystatechange"),On(h)==4){h.h=!1;try{const oe=h.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var v;if(!(v=_)){var A;if(A=oe===0){var F=String(h.D).match(Fl)[1]||null;!F&&g.self&&g.self.location&&(F=g.self.location.protocol.slice(0,-1)),A=!Nr.test(F?F.toLowerCase():"")}v=A}if(v)Ot(h,"complete"),Ot(h,"success");else{h.m=6;try{var X=2<On(h)?h.g.statusText:""}catch{X=""}h.l=X+" ["+h.Z()+"]",Rr(h)}}finally{ds(h)}}}}function ds(h,_){if(h.g){Ia(h);const v=h.g,A=h.v[0]?()=>{}:null;h.g=null,h.v=null,_||Ot(h,"ready");try{v.onreadystatechange=A}catch{}}}function Ia(h){h.I&&(g.clearTimeout(h.I),h.I=null)}s.isActive=function(){return!!this.g};function On(h){return h.g?h.g.readyState:0}s.Z=function(){try{return 2<On(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),is(_)}};function Bc(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Td(h){const _={};h=(h.g&&2<=On(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(G(h[A]))continue;var v=R(h[A]);const F=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const X=_[F]||[];_[F]=X,X.push(v)}V(_,function(A){return A.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ca(h,_,v){return v&&v.internalChannelParams&&v.internalChannelParams[h]||_}function Ir(h){this.Aa=0,this.i=[],this.j=new Ei,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ca("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ca("baseRetryDelayMs",5e3,h),this.cb=Ca("retryDelaySeedMs",1e4,h),this.Wa=Ca("forwardChannelMaxRetries",2,h),this.wa=Ca("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Kl(h&&h.concurrentRequestLimit),this.Da=new Ra,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=Ir.prototype,s.la=8,s.G=1,s.connect=function(h,_,v,A){pt(0),this.W=h,this.H=_||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.I=$c(this,null,this.W),jr(this)};function Wl(h){if(Hc(h),h.G==3){var _=h.U++,v=ut(h.I);if(Fe(v,"SID",h.K),Fe(v,"RID",_),Fe(v,"TYPE","terminate"),ja(h,v),_=new ls(h,h.j,_),_.L=2,_.v=Sa(ut(v)),v=!1,g.navigator&&g.navigator.sendBeacon)try{v=g.navigator.sendBeacon(_.v.toString(),"")}catch{}!v&&g.Image&&(new Image().src=_.v,v=!0),v||(_.g=Qc(_.j,null),_.g.ea(_.v)),_.F=Date.now(),at(_)}Gc(h)}function Cr(h){h.g&&(Da(h),h.g.cancel(),h.g=null)}function Hc(h){Cr(h),h.u&&(g.clearTimeout(h.u),h.u=null),Dr(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&g.clearTimeout(h.s),h.s=null)}function jr(h){if(!ql(h.h)&&!h.s){h.s=!0;var _=h.Ga;ve||D(),ce||(ve(),ce=!0),ke.add(_,h),h.B=0}}function bd(h,_){return Mc(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=_.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=xi(w(h.Ga,h,_),eo(h,h.B)),h.B++,!0)}s.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const F=new ls(this,this.j,h);let X=this.o;if(this.S&&(X?(X=N(X),k(X,this.S)):X=this.S),this.m!==null||this.O||(F.H=X,X=null),this.P)e:{for(var _=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(_+=A,4096<_){_=v;break e}if(_===4096||v===this.i.length-1){_=v+1;break e}}_=1e3}else _=1e3;_=zc(this,F,_),v=ut(this.I),Fe(v,"RID",h),Fe(v,"CVER",22),this.D&&Fe(v,"X-HTTP-Session-Id",this.D),ja(this,v),X&&(this.O?_="headers="+encodeURIComponent(String(Xl(X)))+"&"+_:this.m&&Lt(v,this.m,X)),Ni(this.h,F),this.Ua&&Fe(v,"TYPE","init"),this.P?(Fe(v,"$req",_),Fe(v,"SID","null"),F.T=!0,$n(F,v,null)):$n(F,v,_),this.G=2}}else this.G==3&&(h?Zl(this,h):this.i.length==0||ql(this.h)||Zl(this))};function Zl(h,_){var v;_?v=_.l:v=h.U++;const A=ut(h.I);Fe(A,"SID",h.K),Fe(A,"RID",v),Fe(A,"AID",h.T),ja(h,A),h.m&&h.o&&Lt(A,h.m,h.o),v=new ls(h,h.j,v,h.B+1),h.m===null&&(v.H=h.o),_&&(h.i=_.D.concat(h.i)),_=zc(h,v,1e3),v.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Ni(h.h,v),$n(v,A,_)}function ja(h,_){h.H&&re(h.H,function(v,A){Fe(_,A,v)}),h.l&&Aa({},function(v,A){Fe(_,A,v)})}function zc(h,_,v){v=Math.min(h.i.length,v);var A=h.l?w(h.l.Na,h.l,h):null;e:{var F=h.i;let X=-1;for(;;){const oe=["count="+v];X==-1?0<v?(X=F[0].g,oe.push("ofs="+X)):X=0:oe.push("ofs="+X);let Be=!0;for(let Nt=0;Nt<v;Nt++){let He=F[Nt].g;const Vt=F[Nt].map;if(He-=X,0>He)X=Math.max(0,F[Nt].g-100),Be=!1;else try{cs(Vt,oe,"req"+He+"_")}catch{A&&A(Vt)}}if(Be){A=oe.join("&");break e}}}return h=h.i.splice(0,v),_.D=h,A}function Kc(h){if(!h.g&&!h.u){h.Y=1;var _=h.Fa;ve||D(),ce||(ve(),ce=!0),ke.add(_,h),h.v=0}}function Jl(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=xi(w(h.Fa,h),eo(h,h.v)),h.v++,!0)}s.Fa=function(){if(this.u=null,qc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=xi(w(this.ab,this),h)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,pt(10),Cr(this),qc(this))};function Da(h){h.A!=null&&(g.clearTimeout(h.A),h.A=null)}function qc(h){h.g=new ls(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var _=ut(h.qa);Fe(_,"RID","rpc"),Fe(_,"SID",h.K),Fe(_,"AID",h.T),Fe(_,"CI",h.F?"0":"1"),!h.F&&h.ja&&Fe(_,"TO",h.ja),Fe(_,"TYPE","xmlhttp"),ja(h,_),h.m&&h.o&&Lt(_,h.m,h.o),h.L&&(h.g.I=h.L);var v=h.g;h=h.ia,v.L=1,v.v=Sa(ut(_)),v.m=null,v.P=!0,Ds(v,h)}s.Za=function(){this.C!=null&&(this.C=null,Cr(this),Jl(this),pt(19))};function Dr(h){h.C!=null&&(g.clearTimeout(h.C),h.C=null)}function Fc(h,_){var v=null;if(h.g==_){Dr(h),Da(h),h.g=null;var A=2}else if(Si(h.h,_))v=_.D,In(h.h,_),A=1;else return;if(h.G!=0){if(_.o)if(A==1){v=_.m?_.m.length:0,_=Date.now()-_.F;var F=h.B;A=xr(),Ot(A,new jc(A,v)),jr(h)}else Kc(h);else if(F=_.s,F==3||F==0&&0<_.X||!(A==1&&bd(h,_)||A==2&&Jl(h)))switch(v&&0<v.length&&(_=h.h,_.i=_.i.concat(v)),F){case 1:Us(h,5);break;case 4:Us(h,10);break;case 3:Us(h,6);break;default:Us(h,2)}}}function eo(h,_){let v=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(v*=2),v*_}function Us(h,_){if(h.j.info("Error code "+_),_==2){var v=w(h.fb,h),A=h.Xa;const F=!A;A=new Os(A||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Ri(A,"https"),Sa(A),F?Pc(A.toString(),v):Na(A.toString(),v)}else pt(2);h.G=0,h.l&&h.l.sa(_),Gc(h),Hc(h)}s.fb=function(h){h?(this.j.info("Successfully pinged google.com"),pt(2)):(this.j.info("Failed to ping google.com"),pt(1))};function Gc(h){if(h.G=0,h.ka=[],h.l){const _=rn(h.h);(_.length!=0||h.i.length!=0)&&(M(h.ka,_),M(h.ka,h.i),h.h.i.length=0,K(h.i),h.i.length=0),h.l.ra()}}function $c(h,_,v){var A=v instanceof Os?ut(v):new Os(v);if(A.g!="")_&&(A.g=_+"."+A.g),wa(A,A.s);else{var F=g.location;A=F.protocol,_=_?_+"."+F.hostname:F.hostname,F=+F.port;var X=new Os(null);A&&Ri(X,A),_&&(X.g=_),F&&wa(X,F),v&&(X.l=v),A=X}return v=h.D,_=h.ya,v&&_&&Fe(A,v,_),Fe(A,"VER",h.la),ja(h,A),A}function Qc(h,_,v){if(_&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Ca&&!h.pa?new Qe(new Ii({eb:v})):new Qe(h.pa),_.Ha(h.J),_}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yc(){}s=Yc.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function Or(){}Or.prototype.g=function(h,_){return new ln(h,_)};function ln(h,_){wt.call(this),this.g=new Ir(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(h?h["X-WebChannel-Client-Profile"]=_.va:h={"X-WebChannel-Client-Profile":_.va}),this.g.S=h,(h=_&&_.Sb)&&!G(h)&&(this.g.m=h),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!G(_)&&(this.g.D=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new fs(this)}O(ln,wt),ln.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){Wl(this.g)},ln.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var v={};v.__data__=h,h=v}else this.u&&(v={},v.__data__=Pl(h),h=v);_.i.push(new yd(_.Ya++,h)),_.G==3&&jr(_)},ln.prototype.N=function(){this.g.l=null,delete this.j,Wl(this.g),delete this.g,ln.aa.N.call(this)};function Xc(h){yi.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){e:{for(const v in _){h=v;break e}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}O(Xc,yi);function Wc(){Gn.call(this),this.status=1}O(Wc,Gn);function fs(h){this.g=h}O(fs,Yc),fs.prototype.ua=function(){Ot(this.g,"a")},fs.prototype.ta=function(h){Ot(this.g,new Xc(h))},fs.prototype.sa=function(h){Ot(this.g,new Wc)},fs.prototype.ra=function(){Ot(this.g,"b")},Or.prototype.createWebChannel=Or.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,Wx=function(){return new Or},Xx=function(){return xr()},Yx=kn,zm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},St.NO_ERROR=0,St.TIMEOUT=8,St.HTTP_ERROR=6,oh=St,js.COMPLETE="complete",Qx=js,Cc.EventType=as,as.OPEN="a",as.CLOSE="b",as.ERROR="c",as.MESSAGE="d",wt.prototype.listen=wt.prototype.K,Yo=Cc,Qe.prototype.listenOnce=Qe.prototype.L,Qe.prototype.getLastError=Qe.prototype.Ka,Qe.prototype.getLastErrorCode=Qe.prototype.Ba,Qe.prototype.getStatus=Qe.prototype.Z,Qe.prototype.getResponseJson=Qe.prototype.Oa,Qe.prototype.getResponseText=Qe.prototype.oa,Qe.prototype.send=Qe.prototype.ea,Qe.prototype.setWithCredentials=Qe.prototype.Ha,$x=Qe}).apply(typeof Xu<"u"?Xu:typeof self<"u"?self:typeof window<"u"?window:{});const Wv="@firebase/firestore",Zv="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kl="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sr=new xg("@firebase/firestore");function ll(){return sr.logLevel}function de(s,...e){if(sr.logLevel<=Le.DEBUG){const n=e.map(bg);sr.debug(`Firestore (${kl}): ${s}`,...n)}}function ci(s,...e){if(sr.logLevel<=Le.ERROR){const n=e.map(bg);sr.error(`Firestore (${kl}): ${s}`,...n)}}function pl(s,...e){if(sr.logLevel<=Le.WARN){const n=e.map(bg);sr.warn(`Firestore (${kl}): ${s}`,...n)}}function bg(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(s="Unexpected state"){const e=`FIRESTORE (${kl}) INTERNAL ASSERTION FAILED: `+s;throw ci(e),new Error(e)}function Ye(s,e){s||be()}function Re(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Rs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class gR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(en.UNAUTHENTICATED))}shutdown(){}}class pR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class yR{constructor(e){this.t=e,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ye(this.o===void 0);let a=this.i;const l=p=>this.i!==a?(a=this.i,n(p)):Promise.resolve();let c=new ri;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ri,e.enqueueRetryable(()=>l(this.currentUser))};const d=()=>{const p=c;e.enqueueRetryable(async()=>{await p.promise,await l(this.currentUser)})},g=p=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(p=>g(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ri)}},0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(a=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ye(typeof a.accessToken=="string"),new Zx(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string"),new en(e)}}class _R{constructor(e,n,a){this.l=e,this.h=n,this.P=a,this.type="FirstParty",this.user=en.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class vR{constructor(e,n,a){this.l=e,this.h=n,this.P=a}getToken(){return Promise.resolve(new _R(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(en.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Jv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xR{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,An(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Ye(this.o===void 0);const a=c=>{c.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.R;return this.R=c.token,de("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>a(c))};const l=c=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>l(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?l(c):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Jv(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ye(typeof n.token=="string"),this.R=n.token,new Jv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ER(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<s;a++)n[a]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=ER(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<n&&(a+=e.charAt(l[c]%62))}return a}}function Ue(s,e){return s<e?-1:s>e?1:0}function yl(s,e,n){return s.length===e.length&&s.every((a,l)=>n(a,e[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0=-62135596800,t0=1e6;class jt{static now(){return jt.fromMillis(Date.now())}static fromDate(e){return jt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor((e-1e3*n)*t0);return new jt(n,a)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<e0)throw new fe(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/t0}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-e0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new jt(0,0))}static max(){return new we(new jt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0="__name__";class xs{constructor(e,n,a){n===void 0?n=0:n>e.length&&be(),a===void 0?a=e.length-n:a>e.length-n&&be(),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return xs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof xs?e.forEach(a=>{n.push(a)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let l=0;l<a;l++){const c=xs.compareSegments(e.get(l),n.get(l));if(c!==0)return c}return Math.sign(e.length-n.length)}static compareSegments(e,n){const a=xs.isNumericId(e),l=xs.isNumericId(n);return a&&!l?-1:!a&&l?1:a&&l?xs.extractNumericId(e).compare(xs.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return la.fromString(e.substring(4,e.length-2))}}class nt extends xs{construct(e,n,a){return new nt(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new fe(se.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter(l=>l.length>0))}return new nt(n)}static emptyPath(){return new nt([])}}const TR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $t extends xs{construct(e,n,a){return new $t(e,n,a)}static isValidIdentifier(e){return TR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===n0}static keyField(){return new $t([n0])}static fromServerFormat(e){const n=[];let a="",l=0;const c=()=>{if(a.length===0)throw new fe(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let d=!1;for(;l<e.length;){const g=e[l];if(g==="\\"){if(l+1===e.length)throw new fe(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new fe(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=p,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(a+=g,l++):(c(),l++)}if(c(),d)throw new fe(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $t(n)}static emptyPath(){return new $t([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.path=e}static fromPath(e){return new xe(nt.fromString(e))}static fromName(e){return new xe(nt.fromString(e).popFirst(5))}static empty(){return new xe(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return nt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xe(new nt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lc=-1;function bR(s,e){const n=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=we.fromTimestamp(a===1e9?new jt(n+1,0):new jt(n,a));return new ha(l,xe.empty(),e)}function AR(s){return new ha(s.readTime,s.key,lc)}class ha{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new ha(we.min(),xe.empty(),lc)}static max(){return new ha(we.max(),xe.empty(),lc)}}function wR(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=xe.comparator(s.documentKey,e.documentKey),n!==0?n:Ue(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class NR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Il(s){if(s.code!==se.FAILED_PRECONDITION||s.message!==SR)throw s;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&be(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(n,c).next(a,l)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ne.reject(n)}static resolve(e){return new ne((n,a)=>{n(e)})}static reject(e){return new ne((n,a)=>{a(e)})}static waitFor(e){return new ne((n,a)=>{let l=0,c=0,d=!1;e.forEach(g=>{++l,g.next(()=>{++c,d&&c===l&&n()},p=>a(p))}),d=!0,c===l&&n()})}static or(e){let n=ne.resolve(!1);for(const a of e)n=n.next(l=>l?ne.resolve(l):a());return n}static forEach(e,n){const a=[];return e.forEach((l,c)=>{a.push(n.call(this,l,c))}),this.waitFor(a)}static mapArray(e,n){return new ne((a,l)=>{const c=e.length,d=new Array(c);let g=0;for(let p=0;p<c;p++){const y=p;n(e[y]).next(E=>{d[y]=E,++g,g===c&&a(d)},E=>l(E))}})}static doWhile(e,n){return new ne((a,l)=>{const c=()=>{e()===!0?n().next(()=>{c()},l):a()};c()})}}function RR(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Cl(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this.oe(a),this._e=a=>n.writeSequenceNumber(a))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Kh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ag=-1;function qh(s){return s==null}function Th(s){return s===0&&1/s==-1/0}function kR(s){return typeof s=="number"&&Number.isInteger(s)&&!Th(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE="";function IR(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=s0(e)),e=CR(s.get(n),e);return s0(e)}function CR(s,e){let n=e;const a=s.length;for(let l=0;l<a;l++){const c=s.charAt(l);switch(c){case"\0":n+="";break;case eE:n+="";break;default:n+=c}}return n}function s0(s){return s+eE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i0(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function ya(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function tE(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,n){this.comparator=e,this.root=n||Gt.EMPTY}insert(e,n){return new ot(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(e,a.key);if(l===0)return n+a.left.size;l<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,a)=>(e(n,a),!1))}toString(){const e=[];return this.inorderTraversal((n,a)=>(e.push(`${n}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wu(this.root,e,this.comparator,!0)}}class Wu{constructor(e,n,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?a(e.key,n):1,n&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,n,a,l,c){this.key=e,this.value=n,this.color=a??Gt.RED,this.left=l??Gt.EMPTY,this.right=c??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,l,c){return new Gt(e??this.key,n??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let l=this;const c=a(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,n,a),null):c===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(e,l.key)===0){if(l.right.isEmpty())return Gt.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw be();const e=this.left.check();if(e!==this.right.check())throw be();return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw be()}get value(){throw be()}get color(){throw be()}get left(){throw be()}get right(){throw be()}copy(e,n,a,l,c){return this}insert(e,n,a){return new Gt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,a)=>(e(n),!1))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new a0(this.data.getIterator())}getIteratorFrom(e){return new a0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(a=>{n=n.add(a)}),n}isEqual(e){if(!(e instanceof Dt)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Dt(this.comparator);return n.data=e,n}}class a0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.fields=e,e.sort($t.comparator)}static empty(){return new wn([])}unionWith(e){let n=new Dt($t.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new wn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return yl(this.fields,e.fields,(n,a)=>n.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new nE("Invalid base64 string: "+c):c}}(e);return new Yt(n)}static fromUint8Array(e){const n=function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c}(e);return new Yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const a=new Uint8Array(n.length);for(let l=0;l<n.length;l++)a[l]=n.charCodeAt(l);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const jR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function da(s){if(Ye(!!s),typeof s=="string"){let e=0;const n=jR.exec(s);if(Ye(!!n),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:_t(s.seconds),nanos:_t(s.nanos)}}function _t(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function fa(s){return typeof s=="string"?Yt.fromBase64String(s):Yt.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE="server_timestamp",iE="__type__",aE="__previous_value__",rE="__local_write_time__";function wg(s){var e,n;return((n=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[iE])===null||n===void 0?void 0:n.stringValue)===sE}function Fh(s){const e=s.mapValue.fields[aE];return wg(e)?Fh(e):e}function oc(s){const e=da(s.mapValue.fields[rE].timestampValue);return new jt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e,n,a,l,c,d,g,p,y){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=y}}const bh="(default)";class cc{constructor(e,n){this.projectId=e,this.database=n||bh}static empty(){return new cc("","")}get isDefaultDatabase(){return this.database===bh}isEqual(e){return e instanceof cc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE="__type__",OR="__max__",Zu={mapValue:{}},oE="__vector__",Ah="value";function ma(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?wg(s)?4:LR(s)?9007199254740991:MR(s)?10:11:be()}function Ns(s,e){if(s===e)return!0;const n=ma(s);if(n!==ma(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return oc(s).isEqual(oc(e));case 3:return function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=da(l.timestampValue),g=da(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(l,c){return fa(l.bytesValue).isEqual(fa(c.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(l,c){return _t(l.geoPointValue.latitude)===_t(c.geoPointValue.latitude)&&_t(l.geoPointValue.longitude)===_t(c.geoPointValue.longitude)}(s,e);case 2:return function(l,c){if("integerValue"in l&&"integerValue"in c)return _t(l.integerValue)===_t(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=_t(l.doubleValue),g=_t(c.doubleValue);return d===g?Th(d)===Th(g):isNaN(d)&&isNaN(g)}return!1}(s,e);case 9:return yl(s.arrayValue.values||[],e.arrayValue.values||[],Ns);case 10:case 11:return function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(i0(d)!==i0(g))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(g[p]===void 0||!Ns(d[p],g[p])))return!1;return!0}(s,e);default:return be()}}function uc(s,e){return(s.values||[]).find(n=>Ns(n,e))!==void 0}function _l(s,e){if(s===e)return 0;const n=ma(s),a=ma(e);if(n!==a)return Ue(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ue(s.booleanValue,e.booleanValue);case 2:return function(c,d){const g=_t(c.integerValue||c.doubleValue),p=_t(d.integerValue||d.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1}(s,e);case 3:return r0(s.timestampValue,e.timestampValue);case 4:return r0(oc(s),oc(e));case 5:return Ue(s.stringValue,e.stringValue);case 6:return function(c,d){const g=fa(c),p=fa(d);return g.compareTo(p)}(s.bytesValue,e.bytesValue);case 7:return function(c,d){const g=c.split("/"),p=d.split("/");for(let y=0;y<g.length&&y<p.length;y++){const E=Ue(g[y],p[y]);if(E!==0)return E}return Ue(g.length,p.length)}(s.referenceValue,e.referenceValue);case 8:return function(c,d){const g=Ue(_t(c.latitude),_t(d.latitude));return g!==0?g:Ue(_t(c.longitude),_t(d.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return l0(s.arrayValue,e.arrayValue);case 10:return function(c,d){var g,p,y,E;const b=c.fields||{},w=d.fields||{},j=(g=b[Ah])===null||g===void 0?void 0:g.arrayValue,O=(p=w[Ah])===null||p===void 0?void 0:p.arrayValue,K=Ue(((y=j==null?void 0:j.values)===null||y===void 0?void 0:y.length)||0,((E=O==null?void 0:O.values)===null||E===void 0?void 0:E.length)||0);return K!==0?K:l0(j,O)}(s.mapValue,e.mapValue);case 11:return function(c,d){if(c===Zu.mapValue&&d===Zu.mapValue)return 0;if(c===Zu.mapValue)return 1;if(d===Zu.mapValue)return-1;const g=c.fields||{},p=Object.keys(g),y=d.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let b=0;b<p.length&&b<E.length;++b){const w=Ue(p[b],E[b]);if(w!==0)return w;const j=_l(g[p[b]],y[E[b]]);if(j!==0)return j}return Ue(p.length,E.length)}(s.mapValue,e.mapValue);default:throw be()}}function r0(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Ue(s,e);const n=da(s),a=da(e),l=Ue(n.seconds,a.seconds);return l!==0?l:Ue(n.nanos,a.nanos)}function l0(s,e){const n=s.values||[],a=e.values||[];for(let l=0;l<n.length&&l<a.length;++l){const c=_l(n[l],a[l]);if(c)return c}return Ue(n.length,a.length)}function vl(s){return Km(s)}function Km(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(n){const a=da(n);return`time(${a.seconds},${a.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(n){return fa(n).toBase64()}(s.bytesValue):"referenceValue"in s?function(n){return xe.fromName(n).toString()}(s.referenceValue):"geoPointValue"in s?function(n){return`geo(${n.latitude},${n.longitude})`}(s.geoPointValue):"arrayValue"in s?function(n){let a="[",l=!0;for(const c of n.values||[])l?l=!1:a+=",",a+=Km(c);return a+"]"}(s.arrayValue):"mapValue"in s?function(n){const a=Object.keys(n.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${Km(n.fields[d])}`;return l+"}"}(s.mapValue):be()}function ch(s){switch(ma(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Fh(s);return e?16+ch(e):16;case 5:return 2*s.stringValue.length;case 6:return fa(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((l,c)=>l+ch(c),0)}(s.arrayValue);case 10:case 11:return function(a){let l=0;return ya(a.fields,(c,d)=>{l+=c.length+ch(d)}),l}(s.mapValue);default:throw be()}}function o0(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function qm(s){return!!s&&"integerValue"in s}function Sg(s){return!!s&&"arrayValue"in s}function c0(s){return!!s&&"nullValue"in s}function u0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function uh(s){return!!s&&"mapValue"in s}function MR(s){var e,n;return((n=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[lE])===null||n===void 0?void 0:n.stringValue)===oE}function Jo(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return ya(s.mapValue.fields,(n,a)=>e.mapValue.fields[n]=Jo(a)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Jo(s.arrayValue.values[n]);return e}return Object.assign({},s)}function LR(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===OR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.value=e}static empty(){return new pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!uh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jo(n)}setAll(e){let n=$t.emptyPath(),a={},l=[];e.forEach((d,g)=>{if(!n.isImmediateParentOf(g)){const p=this.getFieldsMap(n);this.applyChanges(p,a,l),a={},l=[],n=g.popLast()}d?a[g.lastSegment()]=Jo(d):l.push(g.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,a,l)}delete(e){const n=this.field(e.popLast());uh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ns(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let l=n.mapValue.fields[e.get(a)];uh(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,a){ya(n,(l,c)=>e[l]=c);for(const l of a)delete e[l]}clone(){return new pn(Jo(this.value))}}function cE(s){const e=[];return ya(s.fields,(n,a)=>{const l=new $t([n]);if(uh(a)){const c=cE(a.mapValue).fields;if(c.length===0)e.push(l);else for(const d of c)e.push(l.child(d))}else e.push(l)}),new wn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e,n,a,l,c,d,g){this.key=e,this.documentType=n,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(e){return new tn(e,0,we.min(),we.min(),we.min(),pn.empty(),0)}static newFoundDocument(e,n,a,l){return new tn(e,1,n,we.min(),a,l,0)}static newNoDocument(e,n){return new tn(e,2,n,we.min(),we.min(),pn.empty(),0)}static newUnknownDocument(e,n){return new tn(e,3,n,we.min(),we.min(),pn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e,n){this.position=e,this.inclusive=n}}function h0(s,e,n){let a=0;for(let l=0;l<s.position.length;l++){const c=e[l],d=s.position[l];if(c.field.isKeyField()?a=xe.comparator(xe.fromName(d.referenceValue),n.key):a=_l(d,n.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function d0(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!Ns(s.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,n="asc"){this.field=e,this.dir=n}}function VR(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{}class At extends uE{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new UR(e,n,a):n==="array-contains"?new zR(e,a):n==="in"?new KR(e,a):n==="not-in"?new qR(e,a):n==="array-contains-any"?new FR(e,a):new At(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new BR(e,a):new HR(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(_l(n,this.value)):n!==null&&ma(this.value)===ma(n)&&this.matchesComparison(_l(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Jn extends uE{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Jn(e,n)}matches(e){return hE(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function hE(s){return s.op==="and"}function dE(s){return PR(s)&&hE(s)}function PR(s){for(const e of s.filters)if(e instanceof Jn)return!1;return!0}function Fm(s){if(s instanceof At)return s.field.canonicalString()+s.op.toString()+vl(s.value);if(dE(s))return s.filters.map(e=>Fm(e)).join(",");{const e=s.filters.map(n=>Fm(n)).join(",");return`${s.op}(${e})`}}function fE(s,e){return s instanceof At?function(a,l){return l instanceof At&&a.op===l.op&&a.field.isEqual(l.field)&&Ns(a.value,l.value)}(s,e):s instanceof Jn?function(a,l){return l instanceof Jn&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce((c,d,g)=>c&&fE(d,l.filters[g]),!0):!1}(s,e):void be()}function mE(s){return s instanceof At?function(n){return`${n.field.canonicalString()} ${n.op} ${vl(n.value)}`}(s):s instanceof Jn?function(n){return n.op.toString()+" {"+n.getFilters().map(mE).join(" ,")+"}"}(s):"Filter"}class UR extends At{constructor(e,n,a){super(e,n,a),this.key=xe.fromName(a.referenceValue)}matches(e){const n=xe.comparator(e.key,this.key);return this.matchesComparison(n)}}class BR extends At{constructor(e,n){super(e,"in",n),this.keys=gE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class HR extends At{constructor(e,n){super(e,"not-in",n),this.keys=gE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function gE(s,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(a=>xe.fromName(a.referenceValue))}class zR extends At{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Sg(n)&&uc(n.arrayValue,this.value)}}class KR extends At{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&uc(this.value.arrayValue,n)}}class qR extends At{constructor(e,n){super(e,"not-in",n)}matches(e){if(uc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!uc(this.value.arrayValue,n)}}class FR extends At{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Sg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(a=>uc(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e,n=null,a=[],l=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.le=null}}function f0(s,e=null,n=[],a=[],l=null,c=null,d=null){return new GR(s,e,n,a,l,c,d)}function Ng(s){const e=Re(s);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(a=>Fm(a)).join(","),n+="|ob:",n+=e.orderBy.map(a=>function(c){return c.field.canonicalString()+c.dir}(a)).join(","),qh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(a=>vl(a)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(a=>vl(a)).join(",")),e.le=n}return e.le}function Rg(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!VR(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!fE(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!d0(s.startAt,e.startAt)&&d0(s.endAt,e.endAt)}function Gm(s){return xe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,n=null,a=[],l=[],c=null,d="F",g=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function $R(s,e,n,a,l,c,d,g){return new _c(s,e,n,a,l,c,d,g)}function kg(s){return new _c(s)}function m0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function pE(s){return s.collectionGroup!==null}function ec(s){const e=Re(s);if(e.he===null){e.he=[];const n=new Set;for(const c of e.explicitOrderBy)e.he.push(c),n.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Dt($t.comparator);return d.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(g=g.add(y.field))})}),g})(e).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||e.he.push(new Sh(c,a))}),n.has($t.keyField().canonicalString())||e.he.push(new Sh($t.keyField(),a))}return e.he}function bs(s){const e=Re(s);return e.Pe||(e.Pe=QR(e,ec(s))),e.Pe}function QR(s,e){if(s.limitType==="F")return f0(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(l=>{const c=l.dir==="desc"?"asc":"desc";return new Sh(l.field,c)});const n=s.endAt?new wh(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new wh(s.startAt.position,s.startAt.inclusive):null;return f0(s.path,s.collectionGroup,e,s.filters,s.limit,n,a)}}function $m(s,e){const n=s.filters.concat([e]);return new _c(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function Qm(s,e,n){return new _c(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function Gh(s,e){return Rg(bs(s),bs(e))&&s.limitType===e.limitType}function yE(s){return`${Ng(bs(s))}|lt:${s.limitType}`}function ol(s){return`Query(target=${function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map(l=>mE(l)).join(", ")}]`),qh(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map(l=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(l)).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map(l=>vl(l)).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map(l=>vl(l)).join(",")),`Target(${a})`}(bs(s))}; limitType=${s.limitType})`}function $h(s,e){return e.isFoundDocument()&&function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):xe.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)}(s,e)&&function(a,l){for(const c of ec(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0}(s,e)&&function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0}(s,e)&&function(a,l){return!(a.startAt&&!function(d,g,p){const y=h0(d,g,p);return d.inclusive?y<=0:y<0}(a.startAt,ec(a),l)||a.endAt&&!function(d,g,p){const y=h0(d,g,p);return d.inclusive?y>=0:y>0}(a.endAt,ec(a),l))}(s,e)}function YR(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function _E(s){return(e,n)=>{let a=!1;for(const l of ec(s)){const c=XR(l,e,n);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function XR(s,e,n){const a=s.field.isKeyField()?xe.comparator(e.key,n.key):function(c,d,g){const p=d.data.field(c),y=g.data.field(c);return p!==null&&y!==null?_l(p,y):be()}(s.field,e,n);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return be()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),l=this.inner[a];if(l===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return a.length===1?delete this.inner[n]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(e){ya(this.inner,(n,a)=>{for(const[l,c]of a)e(l,c)})}isEmpty(){return tE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR=new ot(xe.comparator);function ui(){return WR}const vE=new ot(xe.comparator);function Xo(...s){let e=vE;for(const n of s)e=e.insert(n.key,n);return e}function xE(s){let e=vE;return s.forEach((n,a)=>e=e.insert(n,a.overlayedDocument)),e}function Ja(){return tc()}function EE(){return tc()}function tc(){return new hr(s=>s.toString(),(s,e)=>s.isEqual(e))}const ZR=new ot(xe.comparator),JR=new Dt(xe.comparator);function Ve(...s){let e=JR;for(const n of s)e=e.add(n);return e}const ek=new Dt(Ue);function tk(){return ek}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ig(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Th(e)?"-0":e}}function TE(s){return{integerValue:""+s}}function nk(s,e){return kR(e)?TE(e):Ig(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(){this._=void 0}}function sk(s,e,n){return s instanceof Nh?function(l,c){const d={fields:{[iE]:{stringValue:sE},[rE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&wg(c)&&(c=Fh(c)),c&&(d.fields[aE]=c),{mapValue:d}}(n,e):s instanceof hc?AE(s,e):s instanceof dc?wE(s,e):function(l,c){const d=bE(l,c),g=g0(d)+g0(l.Ie);return qm(d)&&qm(l.Ie)?TE(g):Ig(l.serializer,g)}(s,e)}function ik(s,e,n){return s instanceof hc?AE(s,e):s instanceof dc?wE(s,e):n}function bE(s,e){return s instanceof Rh?function(a){return qm(a)||function(c){return!!c&&"doubleValue"in c}(a)}(e)?e:{integerValue:0}:null}class Nh extends Qh{}class hc extends Qh{constructor(e){super(),this.elements=e}}function AE(s,e){const n=SE(e);for(const a of s.elements)n.some(l=>Ns(l,a))||n.push(a);return{arrayValue:{values:n}}}class dc extends Qh{constructor(e){super(),this.elements=e}}function wE(s,e){let n=SE(e);for(const a of s.elements)n=n.filter(l=>!Ns(l,a));return{arrayValue:{values:n}}}class Rh extends Qh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function g0(s){return _t(s.integerValue||s.doubleValue)}function SE(s){return Sg(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function ak(s,e){return s.field.isEqual(e.field)&&function(a,l){return a instanceof hc&&l instanceof hc||a instanceof dc&&l instanceof dc?yl(a.elements,l.elements,Ns):a instanceof Rh&&l instanceof Rh?Ns(a.Ie,l.Ie):a instanceof Nh&&l instanceof Nh}(s.transform,e.transform)}class rk{constructor(e,n){this.version=e,this.transformResults=n}}class Fn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Fn}static exists(e){return new Fn(void 0,e)}static updateTime(e){return new Fn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hh(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Yh{}function NE(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Cg(s.key,Fn.none()):new vc(s.key,s.data,Fn.none());{const n=s.data,a=pn.empty();let l=new Dt($t.comparator);for(let c of e.fields)if(!l.has(c)){let d=n.field(c);d===null&&c.length>1&&(c=c.popLast(),d=n.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new _a(s.key,a,new wn(l.toArray()),Fn.none())}}function lk(s,e,n){s instanceof vc?function(l,c,d){const g=l.value.clone(),p=y0(l.fieldTransforms,c,d.transformResults);g.setAll(p),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(s,e,n):s instanceof _a?function(l,c,d){if(!hh(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=y0(l.fieldTransforms,c,d.transformResults),p=c.data;p.setAll(RE(l)),p.setAll(g),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(s,e,n):function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,n)}function nc(s,e,n,a){return s instanceof vc?function(c,d,g,p){if(!hh(c.precondition,d))return g;const y=c.value.clone(),E=_0(c.fieldTransforms,p,d);return y.setAll(E),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null}(s,e,n,a):s instanceof _a?function(c,d,g,p){if(!hh(c.precondition,d))return g;const y=_0(c.fieldTransforms,p,d),E=d.data;return E.setAll(RE(c)),E.setAll(y),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(b=>b.field))}(s,e,n,a):function(c,d,g){return hh(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(s,e,n)}function ok(s,e){let n=null;for(const a of s.fieldTransforms){const l=e.data.field(a.field),c=bE(a.transform,l||null);c!=null&&(n===null&&(n=pn.empty()),n.set(a.field,c))}return n||null}function p0(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&yl(a,l,(c,d)=>ak(c,d))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class vc extends Yh{constructor(e,n,a,l=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class _a extends Yh{constructor(e,n,a,l,c=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function RE(s){const e=new Map;return s.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const a=s.data.field(n);e.set(n,a)}}),e}function y0(s,e,n){const a=new Map;Ye(s.length===n.length);for(let l=0;l<n.length;l++){const c=s[l],d=c.transform,g=e.data.field(c.field);a.set(c.field,ik(d,g,n[l]))}return a}function _0(s,e,n){const a=new Map;for(const l of s){const c=l.transform,d=n.data.field(l.field);a.set(l.field,sk(c,d,e))}return a}class Cg extends Yh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ck extends Yh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(e,n,a,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&lk(c,e,a[l])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=nc(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=nc(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=EE();return this.mutations.forEach(l=>{const c=e.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=n.has(l.key)?null:g;const p=NE(d,g);p!==null&&a.set(l.key,p),d.isValidDocument()||d.convertToNoDocument(we.min())}),a}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ve())}isEqual(e){return this.batchId===e.batchId&&yl(this.mutations,e.mutations,(n,a)=>p0(n,a))&&yl(this.baseMutations,e.baseMutations,(n,a)=>p0(n,a))}}class jg{constructor(e,n,a,l){this.batch=e,this.commitVersion=n,this.mutationResults=a,this.docVersions=l}static from(e,n,a){Ye(e.mutations.length===a.length);let l=function(){return ZR}();const c=e.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new jg(e,n,a,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bt,Ke;function fk(s){switch(s){case se.OK:return be();case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return be()}}function kE(s){if(s===void 0)return ci("GRPC error has no .code"),se.UNKNOWN;switch(s){case bt.OK:return se.OK;case bt.CANCELLED:return se.CANCELLED;case bt.UNKNOWN:return se.UNKNOWN;case bt.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case bt.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case bt.INTERNAL:return se.INTERNAL;case bt.UNAVAILABLE:return se.UNAVAILABLE;case bt.UNAUTHENTICATED:return se.UNAUTHENTICATED;case bt.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case bt.NOT_FOUND:return se.NOT_FOUND;case bt.ALREADY_EXISTS:return se.ALREADY_EXISTS;case bt.PERMISSION_DENIED:return se.PERMISSION_DENIED;case bt.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case bt.ABORTED:return se.ABORTED;case bt.OUT_OF_RANGE:return se.OUT_OF_RANGE;case bt.UNIMPLEMENTED:return se.UNIMPLEMENTED;case bt.DATA_LOSS:return se.DATA_LOSS;default:return be()}}(Ke=bt||(bt={}))[Ke.OK=0]="OK",Ke[Ke.CANCELLED=1]="CANCELLED",Ke[Ke.UNKNOWN=2]="UNKNOWN",Ke[Ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ke[Ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ke[Ke.NOT_FOUND=5]="NOT_FOUND",Ke[Ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ke[Ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ke[Ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ke[Ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ke[Ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ke[Ke.ABORTED=10]="ABORTED",Ke[Ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ke[Ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ke[Ke.INTERNAL=13]="INTERNAL",Ke[Ke.UNAVAILABLE=14]="UNAVAILABLE",Ke[Ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gk=new la([4294967295,4294967295],0);function v0(s){const e=mk().encode(s),n=new Gx;return n.update(e),new Uint8Array(n.digest())}function x0(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new la([n,a],0),new la([l,c],0)]}class Dg{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new Wo(`Invalid padding: ${n}`);if(a<0)throw new Wo(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Wo(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new Wo(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=la.fromNumber(this.Ee)}Ae(e,n,a){let l=e.add(n.multiply(la.fromNumber(a)));return l.compare(gk)===1&&(l=new la([l.getBits(0),l.getBits(1)],0)),l.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=v0(e),[a,l]=x0(n);for(let c=0;c<this.hashCount;c++){const d=this.Ae(a,l,c);if(!this.Re(d))return!1}return!0}static create(e,n,a){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Dg(c,l,n);return a.forEach(g=>d.insert(g)),d}insert(e){if(this.Ee===0)return;const n=v0(e),[a,l]=x0(n);for(let c=0;c<this.hashCount;c++){const d=this.Ae(a,l,c);this.Ve(d)}}Ve(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class Wo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,n,a,l,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const l=new Map;return l.set(e,xc.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new Xh(we.min(),l,new ot(Ue),ui(),Ve())}}class xc{constructor(e,n,a,l,c){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new xc(a,n,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e,n,a,l){this.me=e,this.removedTargetIds=n,this.key=a,this.fe=l}}class IE{constructor(e,n){this.targetId=e,this.ge=n}}class CE{constructor(e,n,a=Yt.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=l}}class E0{constructor(){this.pe=0,this.ye=T0(),this.we=Yt.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Ve(),n=Ve(),a=Ve();return this.ye.forEach((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:a=a.add(l);break;default:be()}}),new xc(this.we,this.be,e,n,a)}Me(){this.Se=!1,this.ye=T0()}xe(e,n){this.Se=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ye(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class pk{constructor(e){this.ke=e,this.qe=new Map,this.Qe=ui(),this.$e=Ju(),this.Ke=Ju(),this.Ue=new ot(Ue)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const a=this.He(n);switch(e.state){case 0:this.Je(n)&&a.Ce(e.resumeToken);break;case 1:a.Be(),a.De||a.Me(),a.Ce(e.resumeToken);break;case 2:a.Be(),a.De||this.removeTarget(n);break;case 3:this.Je(n)&&(a.Le(),a.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),a.Ce(e.resumeToken));break;default:be()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((a,l)=>{this.Je(l)&&n(l)})}Ze(e){const n=e.targetId,a=e.ge.count,l=this.Xe(n);if(l){const c=l.target;if(Gm(c))if(a===0){const d=new xe(c.path);this.ze(n,d,tn.newNoDocument(d,we.min()))}else Ye(a===1);else{const d=this.et(n);if(d!==a){const g=this.tt(e),p=g?this.nt(g,e,d):1;if(p!==0){this.Ye(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,y)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=n;let d,g;try{d=fa(a).toUint8Array()}catch(p){if(p instanceof nE)return pl("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new Dg(d,l,c)}catch(p){return pl(p instanceof Wo?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.Ee===0?null:g}nt(e,n,a){return n.ge.count===a-this.st(e,n.targetId)?0:2}st(e,n){const a=this.ke.getRemoteKeysForTarget(n);let l=0;return a.forEach(c=>{const d=this.ke.it(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.ze(n,c,null),l++)}),l}ot(e){const n=new Map;this.qe.forEach((c,d)=>{const g=this.Xe(d);if(g){if(c.current&&Gm(g.target)){const p=new xe(g.target.path);this._t(p).has(d)||this.ut(d,p)||this.ze(d,p,tn.newNoDocument(p,e))}c.ve&&(n.set(d,c.Fe()),c.Me())}});let a=Ve();this.Ke.forEach((c,d)=>{let g=!0;d.forEachWhile(p=>{const y=this.Xe(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(a=a.add(c))}),this.Qe.forEach((c,d)=>d.setReadTime(e));const l=new Xh(e,n,this.Ue,this.Qe,a);return this.Qe=ui(),this.$e=Ju(),this.Ke=Ju(),this.Ue=new ot(Ue),l}Ge(e,n){if(!this.Je(e))return;const a=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,a),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(e))}ze(e,n,a){if(!this.Je(e))return;const l=this.He(e);this.ut(e,n)?l.xe(n,1):l.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(e)),this.Ke=this.Ke.insert(n,this.ct(n).add(e)),a&&(this.Qe=this.Qe.insert(n,a))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new E0,this.qe.set(e,n)),n}ct(e){let n=this.Ke.get(e);return n||(n=new Dt(Ue),this.Ke=this.Ke.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Dt(Ue),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||de("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new E0),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Ju(){return new ot(xe.comparator)}function T0(){return new ot(xe.comparator)}const yk={asc:"ASCENDING",desc:"DESCENDING"},_k={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vk={and:"AND",or:"OR"};class xk{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ym(s,e){return s.useProto3Json||qh(e)?e:{value:e}}function kh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function jE(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function Ek(s,e){return kh(s,e.toTimestamp())}function As(s){return Ye(!!s),we.fromTimestamp(function(n){const a=da(n);return new jt(a.seconds,a.nanos)}(s))}function Og(s,e){return Xm(s,e).canonicalString()}function Xm(s,e){const n=function(l){return new nt(["projects",l.projectId,"databases",l.database])}(s).child("documents");return e===void 0?n:n.child(e)}function DE(s){const e=nt.fromString(s);return Ye(PE(e)),e}function Wm(s,e){return Og(s.databaseId,e.path)}function Nm(s,e){const n=DE(e);if(n.get(1)!==s.databaseId.projectId)throw new fe(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new fe(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new xe(ME(n))}function OE(s,e){return Og(s.databaseId,e)}function Tk(s){const e=DE(s);return e.length===4?nt.emptyPath():ME(e)}function Zm(s){return new nt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function ME(s){return Ye(s.length>4&&s.get(4)==="documents"),s.popFirst(5)}function b0(s,e,n){return{name:Wm(s,e),fields:n.value.mapValue.fields}}function bk(s,e){let n;if("targetChange"in e){e.targetChange;const a=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:be()}(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=function(y,E){return y.useProto3Json?(Ye(E===void 0||typeof E=="string"),Yt.fromBase64String(E||"")):(Ye(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Yt.fromUint8Array(E||new Uint8Array))}(s,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(y){const E=y.code===void 0?se.UNKNOWN:kE(y.code);return new fe(E,y.message||"")}(d);n=new CE(a,l,c,g||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const l=Nm(s,a.document.name),c=As(a.document.updateTime),d=a.document.createTime?As(a.document.createTime):we.min(),g=new pn({mapValue:{fields:a.document.fields}}),p=tn.newFoundDocument(l,c,d,g),y=a.targetIds||[],E=a.removedTargetIds||[];n=new dh(y,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const l=Nm(s,a.document),c=a.readTime?As(a.readTime):we.min(),d=tn.newNoDocument(l,c),g=a.removedTargetIds||[];n=new dh([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const l=Nm(s,a.document),c=a.removedTargetIds||[];n=new dh([],c,l,null)}else{if(!("filter"in e))return be();{e.filter;const a=e.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new dk(l,c),g=a.targetId;n=new IE(g,d)}}return n}function Ak(s,e){let n;if(e instanceof vc)n={update:b0(s,e.key,e.value)};else if(e instanceof Cg)n={delete:Wm(s,e.key)};else if(e instanceof _a)n={update:b0(s,e.key,e.data),updateMask:Dk(e.fieldMask)};else{if(!(e instanceof ck))return be();n={verify:Wm(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(a=>function(c,d){const g=d.transform;if(g instanceof Nh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof hc)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof dc)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Rh)return{fieldPath:d.field.canonicalString(),increment:g.Ie};throw be()}(0,a))),e.precondition.isNone||(n.currentDocument=function(l,c){return c.updateTime!==void 0?{updateTime:Ek(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:be()}(s,e.precondition)),n}function wk(s,e){return s&&s.length>0?(Ye(e!==void 0),s.map(n=>function(l,c){let d=l.updateTime?As(l.updateTime):As(c);return d.isEqual(we.min())&&(d=As(c)),new rk(d,l.transformResults||[])}(n,e))):[]}function Sk(s,e){return{documents:[OE(s,e.path)]}}function Nk(s,e){const n={structuredQuery:{}},a=e.path;let l;e.collectionGroup!==null?(l=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=OE(s,l);const c=function(y){if(y.length!==0)return VE(Jn.create(y,"and"))}(e.filters);c&&(n.structuredQuery.where=c);const d=function(y){if(y.length!==0)return y.map(E=>function(w){return{field:cl(w.field),direction:Ik(w.dir)}}(E))}(e.orderBy);d&&(n.structuredQuery.orderBy=d);const g=Ym(s,e.limit);return g!==null&&(n.structuredQuery.limit=g),e.startAt&&(n.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ht:n,parent:l}}function Rk(s){let e=Tk(s.parent);const n=s.structuredQuery,a=n.from?n.from.length:0;let l=null;if(a>0){Ye(a===1);const E=n.from[0];E.allDescendants?l=E.collectionId:e=e.child(E.collectionId)}let c=[];n.where&&(c=function(b){const w=LE(b);return w instanceof Jn&&dE(w)?w.getFilters():[w]}(n.where));let d=[];n.orderBy&&(d=function(b){return b.map(w=>function(O){return new Sh(ul(O.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(w))}(n.orderBy));let g=null;n.limit&&(g=function(b){let w;return w=typeof b=="object"?b.value:b,qh(w)?null:w}(n.limit));let p=null;n.startAt&&(p=function(b){const w=!!b.before,j=b.values||[];return new wh(j,w)}(n.startAt));let y=null;return n.endAt&&(y=function(b){const w=!b.before,j=b.values||[];return new wh(j,w)}(n.endAt)),$R(e,l,d,c,g,"F",p,y)}function kk(s,e){const n=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function LE(s){return s.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=ul(n.unaryFilter.field);return At.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=ul(n.unaryFilter.field);return At.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ul(n.unaryFilter.field);return At.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ul(n.unaryFilter.field);return At.create(d,"!=",{nullValue:"NULL_VALUE"});default:return be()}}(s):s.fieldFilter!==void 0?function(n){return At.create(ul(n.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return be()}}(n.fieldFilter.op),n.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(n){return Jn.create(n.compositeFilter.filters.map(a=>LE(a)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return be()}}(n.compositeFilter.op))}(s):be()}function Ik(s){return yk[s]}function Ck(s){return _k[s]}function jk(s){return vk[s]}function cl(s){return{fieldPath:s.canonicalString()}}function ul(s){return $t.fromServerFormat(s.fieldPath)}function VE(s){return s instanceof At?function(n){if(n.op==="=="){if(u0(n.value))return{unaryFilter:{field:cl(n.field),op:"IS_NAN"}};if(c0(n.value))return{unaryFilter:{field:cl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(u0(n.value))return{unaryFilter:{field:cl(n.field),op:"IS_NOT_NAN"}};if(c0(n.value))return{unaryFilter:{field:cl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cl(n.field),op:Ck(n.op),value:n.value}}}(s):s instanceof Jn?function(n){const a=n.getFilters().map(l=>VE(l));return a.length===1?a[0]:{compositeFilter:{op:jk(n.op),filters:a}}}(s):be()}function Dk(s){const e=[];return s.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function PE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e,n,a,l,c=we.min(),d=we.min(),g=Yt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(e){return new sa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new sa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new sa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new sa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(e){this.Tt=e}}function Mk(s){const e=Rk({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Qm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(){this.Tn=new Vk}addToCollectionParentIndex(e,n){return this.Tn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(ha.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(ha.min())}updateCollectionGroup(e,n,a){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class Vk{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),l=this.index[n]||new Dt(nt.comparator),c=!l.has(a);return this.index[n]=l.add(a),c}has(e){const n=e.lastSegment(),a=e.popLast(),l=this.index[n];return l&&l.has(a)}getEntries(e){return(this.index[e]||new Dt(nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},UE=41943040;class gn{static withCacheSize(e){return new gn(e,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(UE,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new xl(0)}static Un(){return new xl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0="LruGarbageCollector",Pk=1048576;function S0([s,e],[n,a]){const l=Ue(s,n);return l===0?Ue(e,a):l}class Uk{constructor(e){this.Hn=e,this.buffer=new Dt(S0),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();S0(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Bk{constructor(e,n,a){this.garbageCollector=e,this.asyncQueue=n,this.localStore=a,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){de(w0,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Cl(n)?de(w0,"Ignoring IndexedDB error during garbage collection: ",n):await Il(n)}await this.er(3e5)})}}class Hk{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(a=>Math.floor(n/100*a))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(Kh.ae);const a=new Uk(n);return this.tr.forEachTarget(e,l=>a.Zn(l.sequenceNumber)).next(()=>this.tr.rr(e,l=>a.Zn(l))).next(()=>a.maxValue)}removeTargets(e,n,a){return this.tr.removeTargets(e,n,a)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(A0)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),A0):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let a,l,c,d,g,p,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),l=this.params.maximumSequenceNumbersToCollect):l=b,d=Date.now(),this.nthSequenceNumber(e,l))).next(b=>(a=b,g=Date.now(),this.removeTargets(e,a,n))).next(b=>(c=b,p=Date.now(),this.removeOrphanedDocuments(e,a))).next(b=>(y=Date.now(),ll()<=Le.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(p-g)+`ms
	Removed ${b} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:b})))}}function zk(s,e){return new Hk(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(){this.changes=new hr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,tn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?ne.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(e,n,a,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=l}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next(l=>(a=l,this.remoteDocumentCache.getEntry(e,n))).next(l=>(a!==null&&nc(a.mutation,l,wn.empty(),jt.now()),l))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.getLocalViewOfDocuments(e,a,Ve()).next(()=>a))}getLocalViewOfDocuments(e,n,a=Ve()){const l=Ja();return this.populateOverlays(e,l,n).next(()=>this.computeViews(e,n,l,a).next(c=>{let d=Xo();return c.forEach((g,p)=>{d=d.insert(g,p.overlayedDocument)}),d}))}getOverlayedDocuments(e,n){const a=Ja();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,Ve()))}populateOverlays(e,n,a){const l=[];return a.forEach(c=>{n.has(c)||l.push(c)}),this.documentOverlayCache.getOverlays(e,l).next(c=>{c.forEach((d,g)=>{n.set(d,g)})})}computeViews(e,n,a,l){let c=ui();const d=tc(),g=function(){return tc()}();return n.forEach((p,y)=>{const E=a.get(y.key);l.has(y.key)&&(E===void 0||E.mutation instanceof _a)?c=c.insert(y.key,y):E!==void 0?(d.set(y.key,E.mutation.getFieldMask()),nc(E.mutation,y,E.mutation.getFieldMask(),jt.now())):d.set(y.key,wn.empty())}),this.recalculateAndSaveOverlays(e,c).next(p=>(p.forEach((y,E)=>d.set(y,E)),n.forEach((y,E)=>{var b;return g.set(y,new qk(E,(b=d.get(y))!==null&&b!==void 0?b:null))}),g))}recalculateAndSaveOverlays(e,n){const a=tc();let l=new ot((d,g)=>d-g),c=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(d=>{for(const g of d)g.keys().forEach(p=>{const y=n.get(p);if(y===null)return;let E=a.get(p)||wn.empty();E=g.applyToLocalView(y,E),a.set(p,E);const b=(l.get(g.batchId)||Ve()).add(p);l=l.insert(g.batchId,b)})}).next(()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),y=p.key,E=p.value,b=EE();E.forEach(w=>{if(!c.has(w)){const j=NE(n.get(w),a.get(w));j!==null&&b.set(w,j),c=c.add(w)}}),d.push(this.documentOverlayCache.saveOverlays(e,y,b))}return ne.waitFor(d)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,n,a,l){return function(d){return xe.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):pE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,l):this.getDocumentsMatchingCollectionQuery(e,n,a,l)}getNextDocuments(e,n,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,l).next(c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,l-c.size):ne.resolve(Ja());let g=lc,p=c;return d.next(y=>ne.forEach(y,(E,b)=>(g<b.largestBatchId&&(g=b.largestBatchId),c.get(E)?ne.resolve():this.remoteDocumentCache.getEntry(e,E).next(w=>{p=p.insert(E,w)}))).next(()=>this.populateOverlays(e,y,c)).next(()=>this.computeViews(e,p,y,Ve())).next(E=>({batchId:g,changes:xE(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new xe(n)).next(a=>{let l=Xo();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l})}getDocumentsMatchingCollectionGroupQuery(e,n,a,l){const c=n.collectionGroup;let d=Xo();return this.indexManager.getCollectionParents(e,c).next(g=>ne.forEach(g,p=>{const y=function(b,w){return new _c(w,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(n,p.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,a,l).next(E=>{E.forEach((b,w)=>{d=d.insert(b,w)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,n,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,c,l))).next(d=>{c.forEach((p,y)=>{const E=y.getKey();d.get(E)===null&&(d=d.insert(E,tn.newInvalidDocument(E)))});let g=Xo();return d.forEach((p,y)=>{const E=c.get(p);E!==void 0&&nc(E.mutation,y,wn.empty(),jt.now()),$h(n,y)&&(g=g.insert(p,y))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return ne.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(l){return{id:l.id,version:l.version,createTime:As(l.createTime)}}(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(l){return{name:l.name,query:Mk(l.bundledQuery),readTime:As(l.readTime)}}(n)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(){this.overlays=new ot(xe.comparator),this.Rr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const a=Ja();return ne.forEach(n,l=>this.getOverlay(e,l).next(c=>{c!==null&&a.set(l,c)})).next(()=>a)}saveOverlays(e,n,a){return a.forEach((l,c)=>{this.Et(e,n,c)}),ne.resolve()}removeOverlaysForBatchId(e,n,a){const l=this.Rr.get(a);return l!==void 0&&(l.forEach(c=>this.overlays=this.overlays.remove(c)),this.Rr.delete(a)),ne.resolve()}getOverlaysForCollection(e,n,a){const l=Ja(),c=n.length+1,d=new xe(n.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const p=g.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===c&&p.largestBatchId>a&&l.set(p.getKey(),p)}return ne.resolve(l)}getOverlaysForCollectionGroup(e,n,a,l){let c=new ot((y,E)=>y-E);const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>a){let E=c.get(y.largestBatchId);E===null&&(E=Ja(),c=c.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const g=Ja(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,E)=>g.set(y,E)),!(g.size()>=l)););return ne.resolve(g)}Et(e,n,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.Rr.get(l.largestBatchId).delete(a.key);this.Rr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new hk(n,a));let c=this.Rr.get(n);c===void 0&&(c=Ve(),this.Rr.set(n,c)),this.Rr.set(n,c.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(){this.sessionToken=Yt.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(){this.Vr=new Dt(Ht.mr),this.gr=new Dt(Ht.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const a=new Ht(e,n);this.Vr=this.Vr.add(a),this.gr=this.gr.add(a)}yr(e,n){e.forEach(a=>this.addReference(a,n))}removeReference(e,n){this.wr(new Ht(e,n))}br(e,n){e.forEach(a=>this.removeReference(a,n))}Sr(e){const n=new xe(new nt([])),a=new Ht(n,e),l=new Ht(n,e+1),c=[];return this.gr.forEachInRange([a,l],d=>{this.wr(d),c.push(d.key)}),c}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new xe(new nt([])),a=new Ht(n,e),l=new Ht(n,e+1);let c=Ve();return this.gr.forEachInRange([a,l],d=>{c=c.add(d.key)}),c}containsKey(e){const n=new Ht(e,0),a=this.Vr.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class Ht{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return xe.comparator(e.key,n.key)||Ue(e.Cr,n.Cr)}static pr(e,n){return Ue(e.Cr,n.Cr)||xe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Dt(Ht.mr)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,l){const c=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new uk(c,n,a,l);this.mutationQueue.push(d);for(const g of l)this.Mr=this.Mr.add(new Ht(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return ne.resolve(d)}lookupMutationBatch(e,n){return ne.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,l=this.Nr(a),c=l<0?0:l;return ne.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?Ag:this.Fr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new Ht(n,0),l=new Ht(n,Number.POSITIVE_INFINITY),c=[];return this.Mr.forEachInRange([a,l],d=>{const g=this.Or(d.Cr);c.push(g)}),ne.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new Dt(Ue);return n.forEach(l=>{const c=new Ht(l,0),d=new Ht(l,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([c,d],g=>{a=a.add(g.Cr)})}),ne.resolve(this.Br(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,l=a.length+1;let c=a;xe.isDocumentKey(c)||(c=c.child(""));const d=new Ht(new xe(c),0);let g=new Dt(Ue);return this.Mr.forEachWhile(p=>{const y=p.key.path;return!!a.isPrefixOf(y)&&(y.length===l&&(g=g.add(p.Cr)),!0)},d),ne.resolve(this.Br(g))}Br(e){const n=[];return e.forEach(a=>{const l=this.Or(a);l!==null&&n.push(l)}),n}removeMutationBatch(e,n){Ye(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let a=this.Mr;return ne.forEach(n.mutations,l=>{const c=new Ht(l.key,n.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.Mr=a})}qn(e){}containsKey(e,n){const a=new Ht(n,0),l=this.Mr.firstAfterOrEqual(a);return ne.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e){this.kr=e,this.docs=function(){return new ot(xe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,l=this.docs.get(a),c=l?l.size:0,d=this.kr(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return ne.resolve(a?a.document.mutableCopy():tn.newInvalidDocument(n))}getEntries(e,n){let a=ui();return n.forEach(l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():tn.newInvalidDocument(l))}),ne.resolve(a)}getDocumentsMatchingQuery(e,n,a,l){let c=ui();const d=n.path,g=new xe(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||wR(AR(E),a)<=0||(l.has(E.key)||$h(n,E))&&(c=c.insert(E.key,E.mutableCopy()))}return ne.resolve(c)}getAllFromCollectionGroup(e,n,a,l){be()}qr(e,n){return ne.forEach(this.docs,a=>n(a))}newChangeBuffer(e){return new Wk(this)}getSize(e){return ne.resolve(this.size)}}class Wk extends Kk{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((a,l)=>{l.isValidDocument()?n.push(this.Ir.addEntry(e,l)):this.Ir.removeEntry(a)}),ne.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(e){this.persistence=e,this.Qr=new hr(n=>Ng(n),Rg),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Mg,this.targetCount=0,this.Ur=xl.Kn()}forEachTarget(e,n){return this.Qr.forEach((a,l)=>n(l)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.$r&&(this.$r=n),ne.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ur=new xl(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.zn(n),ne.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Kr.Sr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,a){let l=0;const c=[];return this.Qr.forEach((d,g)=>{g.sequenceNumber<=n&&a.get(g.targetId)===null&&(this.Qr.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),l++)}),ne.waitFor(c).next(()=>l)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const a=this.Qr.get(n)||null;return ne.resolve(a)}addMatchingKeys(e,n,a){return this.Kr.yr(n,a),ne.resolve()}removeMatchingKeys(e,n,a){this.Kr.br(n,a);const l=this.persistence.referenceDelegate,c=[];return l&&n.forEach(d=>{c.push(l.markPotentiallyOrphaned(e,d))}),ne.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.Kr.Sr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const a=this.Kr.vr(n);return ne.resolve(a)}containsKey(e,n){return ne.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Kh(0),this.zr=!1,this.zr=!0,this.jr=new Qk,this.referenceDelegate=e(this),this.Hr=new Zk(this),this.indexManager=new Lk,this.remoteDocumentCache=function(l){return new Xk(l)}(a=>this.referenceDelegate.Jr(a)),this.serializer=new Ok(n),this.Yr=new Gk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new $k,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this.Wr[e.toKey()];return a||(a=new Yk(n,this.referenceDelegate),this.Wr[e.toKey()]=a),a}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,a){de("MemoryPersistence","Starting transaction:",e);const l=new Jk(this.Gr.next());return this.referenceDelegate.Zr(),a(l).next(c=>this.referenceDelegate.Xr(l).next(()=>c)).toPromise().then(c=>(l.raiseOnCommittedEvent(),c))}ei(e,n){return ne.or(Object.values(this.Wr).map(a=>()=>a.containsKey(e,n)))}}class Jk extends NR{constructor(e){super(),this.currentSequenceNumber=e}}class Lg{constructor(e){this.persistence=e,this.ti=new Mg,this.ni=null}static ri(e){return new Lg(e)}get ii(){if(this.ni)return this.ni;throw be()}addReference(e,n,a){return this.ti.addReference(a,n),this.ii.delete(a.toString()),ne.resolve()}removeReference(e,n,a){return this.ti.removeReference(a,n),this.ii.add(a.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),ne.resolve()}removeTarget(e,n){this.ti.Sr(n.targetId).forEach(l=>this.ii.add(l.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next(l=>{l.forEach(c=>this.ii.add(c.toString()))}).next(()=>a.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.ii,a=>{const l=xe.fromPath(a);return this.si(e,l).next(c=>{c||n.removeEntry(l,we.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(a=>{a?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return ne.or([()=>ne.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class Ih{constructor(e,n){this.persistence=e,this.oi=new hr(a=>IR(a.path),(a,l)=>a.isEqual(l)),this.garbageCollector=zk(this,n)}static ri(e,n){return new Ih(e,n)}Zr(){}Xr(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>n.next(l=>a+l))}sr(e){let n=0;return this.rr(e,a=>{n++}).next(()=>n)}rr(e,n){return ne.forEach(this.oi,(a,l)=>this.ar(e,a,l).next(c=>c?ne.resolve():n(l)))}removeTargets(e,n,a){return this.persistence.getTargetCache().removeTargets(e,n,a)}removeOrphanedDocuments(e,n){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.qr(e,d=>this.ar(e,d,n).next(g=>{g||(a++,c.removeEntry(d,we.min()))})).next(()=>c.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const a=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,n,a){return this.oi.set(a,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,a){return this.oi.set(a,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),ne.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ch(e.data.value)),n}ar(e,n,a){return ne.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const l=this.oi.get(n);return ne.resolve(l!==void 0&&l>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e,n,a,l){this.targetId=e,this.fromCache=n,this.Hi=a,this.Ji=l}static Yi(e,n){let a=Ve(),l=Ve();for(const c of n.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Vg(e,n.fromCache,a,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return YS()?8:RR(nn())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,a,l){const c={result:null};return this.rs(e,n).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.ss(e,n,l,a).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new eI;return this._s(e,n,d).next(g=>{if(c.result=g,this.Xi)return this.us(e,n,d,g.size)})}).next(()=>c.result)}us(e,n,a,l){return a.documentReadCount<this.es?(ll()<=Le.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",ol(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ne.resolve()):(ll()<=Le.DEBUG&&de("QueryEngine","Query:",ol(n),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.ts*l?(ll()<=Le.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",ol(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,bs(n))):ne.resolve())}rs(e,n){if(m0(n))return ne.resolve(null);let a=bs(n);return this.indexManager.getIndexType(e,a).next(l=>l===0?null:(n.limit!==null&&l===1&&(n=Qm(n,null,"F"),a=bs(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next(c=>{const d=Ve(...c);return this.ns.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,a).next(p=>{const y=this.cs(n,g);return this.ls(n,y,d,p.readTime)?this.rs(e,Qm(n,null,"F")):this.hs(e,y,n,p)}))})))}ss(e,n,a,l){return m0(n)||l.isEqual(we.min())?ne.resolve(null):this.ns.getDocuments(e,a).next(c=>{const d=this.cs(n,c);return this.ls(n,d,a,l)?ne.resolve(null):(ll()<=Le.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),ol(n)),this.hs(e,d,n,bR(l,lc)).next(g=>g))})}cs(e,n){let a=new Dt(_E(e));return n.forEach((l,c)=>{$h(e,c)&&(a=a.add(c))}),a}ls(e,n,a,l){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}_s(e,n,a){return ll()<=Le.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",ol(n)),this.ns.getDocumentsMatchingQuery(e,n,ha.min(),a)}hs(e,n,a,l){return this.ns.getDocumentsMatchingQuery(e,a,l).next(c=>(n.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pg="LocalStore",nI=3e8;class sI{constructor(e,n,a,l){this.persistence=e,this.Ps=n,this.serializer=l,this.Ts=new ot(Ue),this.Is=new hr(c=>Ng(c),Rg),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(a)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Fk(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function iI(s,e,n,a){return new sI(s,e,n,a)}async function HE(s,e){const n=Re(s);return await n.persistence.runTransaction("Handle user change","readonly",a=>{let l;return n.mutationQueue.getAllMutationBatches(a).next(c=>(l=c,n.As(e),n.mutationQueue.getAllMutationBatches(a))).next(c=>{const d=[],g=[];let p=Ve();for(const y of l){d.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of c){g.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(a,p).next(y=>({Rs:y,removedBatchIds:d,addedBatchIds:g}))})})}function aI(s,e){const n=Re(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const l=e.batch.keys(),c=n.ds.newChangeBuffer({trackRemovals:!0});return function(g,p,y,E){const b=y.batch,w=b.keys();let j=ne.resolve();return w.forEach(O=>{j=j.next(()=>E.getEntry(p,O)).next(K=>{const M=y.docVersions.get(O);Ye(M!==null),K.version.compareTo(M)<0&&(b.applyToRemoteDocument(K,y),K.isValidDocument()&&(K.setReadTime(y.commitVersion),E.addEntry(K)))})}),j.next(()=>g.mutationQueue.removeMutationBatch(p,b))}(n,a,e,c).next(()=>c.apply(a)).next(()=>n.mutationQueue.performConsistencyCheck(a)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(a,l,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(g){let p=Ve();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(p=p.add(g.batch.mutations[y].key));return p}(e))).next(()=>n.localDocuments.getDocuments(a,l))})}function zE(s){const e=Re(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function rI(s,e){const n=Re(s),a=e.snapshotVersion;let l=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=n.ds.newChangeBuffer({trackRemovals:!0});l=n.Ts;const g=[];e.targetChanges.forEach((E,b)=>{const w=l.get(b);if(!w)return;g.push(n.Hr.removeMatchingKeys(c,E.removedDocuments,b).next(()=>n.Hr.addMatchingKeys(c,E.addedDocuments,b)));let j=w.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(b)!==null?j=j.withResumeToken(Yt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):E.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(E.resumeToken,a)),l=l.insert(b,j),function(K,M,H){return K.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=nI?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0}(w,j,E)&&g.push(n.Hr.updateTargetData(c,j))});let p=ui(),y=Ve();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(c,E))}),g.push(lI(c,d,e.documentUpdates).next(E=>{p=E.Vs,y=E.fs})),!a.isEqual(we.min())){const E=n.Hr.getLastRemoteSnapshotVersion(c).next(b=>n.Hr.setTargetsMetadata(c,c.currentSequenceNumber,a));g.push(E)}return ne.waitFor(g).next(()=>d.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,p,y)).next(()=>p)}).then(c=>(n.Ts=l,c))}function lI(s,e,n){let a=Ve(),l=Ve();return n.forEach(c=>a=a.add(c)),e.getEntries(s,a).next(c=>{let d=ui();return n.forEach((g,p)=>{const y=c.get(g);p.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(g)),p.isNoDocument()&&p.version.isEqual(we.min())?(e.removeEntry(g,p.readTime),d=d.insert(g,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),d=d.insert(g,p)):de(Pg,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",p.version)}),{Vs:d,fs:l}})}function oI(s,e){const n=Re(s);return n.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=Ag),n.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function cI(s,e){const n=Re(s);return n.persistence.runTransaction("Allocate target","readwrite",a=>{let l;return n.Hr.getTargetData(a,e).next(c=>c?(l=c,ne.resolve(l)):n.Hr.allocateTargetId(a).next(d=>(l=new sa(e,d,"TargetPurposeListen",a.currentSequenceNumber),n.Hr.addTargetData(a,l).next(()=>l))))}).then(a=>{const l=n.Ts.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(a.targetId,a),n.Is.set(e,a.targetId)),a})}async function Jm(s,e,n){const a=Re(s),l=a.Ts.get(e),c=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",c,d=>a.persistence.referenceDelegate.removeTarget(d,l))}catch(d){if(!Cl(d))throw d;de(Pg,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ts=a.Ts.remove(e),a.Is.delete(l.target)}function N0(s,e,n){const a=Re(s);let l=we.min(),c=Ve();return a.persistence.runTransaction("Execute query","readwrite",d=>function(p,y,E){const b=Re(p),w=b.Is.get(E);return w!==void 0?ne.resolve(b.Ts.get(w)):b.Hr.getTargetData(y,E)}(a,d,bs(e)).next(g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,a.Hr.getMatchingKeysForTargetId(d,g.targetId).next(p=>{c=p})}).next(()=>a.Ps.getDocumentsMatchingQuery(d,e,n?l:we.min(),n?c:Ve())).next(g=>(uI(a,YR(e),g),{documents:g,gs:c})))}function uI(s,e,n){let a=s.Es.get(e)||we.min();n.forEach((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)}),s.Es.set(e,a)}class R0{constructor(){this.activeTargetIds=tk()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class hI{constructor(){this.ho=new R0,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,a){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new R0,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0="ConnectivityMonitor";class I0{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){de(k0,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){de(k0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eh=null;function eg(){return eh===null?eh=function(){return 268435456+Math.round(2147483648*Math.random())}():eh++,"0x"+eh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rm="RestConnection",fI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class mI{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${a}/databases/${l}`,this.wo=this.databaseId.database===bh?`project_id=${a}`:`project_id=${a}&database_id=${l}`}bo(e,n,a,l,c){const d=eg(),g=this.So(e,n.toUriEncodedString());de(Rm,`Sending RPC '${e}' ${d}:`,g,a);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,l,c),this.vo(e,g,p,a).then(y=>(de(Rm,`Received RPC '${e}' ${d}: `,y),y),y=>{throw pl(Rm,`RPC '${e}' ${d} failed with error: `,y,"url: ",g,"request:",a),y})}Co(e,n,a,l,c,d){return this.bo(e,n,a,l,c)}Do(e,n,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+kl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((l,c)=>e[c]=l),a&&a.headers.forEach((l,c)=>e[c]=l)}So(e,n){const a=fI[e];return`${this.po}/v1/${n}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jt="WebChannelConnection";class pI extends mI{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,a,l){const c=eg();return new Promise((d,g)=>{const p=new $x;p.setWithCredentials(!0),p.listenOnce(Qx.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case oh.NO_ERROR:const E=p.getResponseJson();de(Jt,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(E)),d(E);break;case oh.TIMEOUT:de(Jt,`RPC '${e}' ${c} timed out`),g(new fe(se.DEADLINE_EXCEEDED,"Request time out"));break;case oh.HTTP_ERROR:const b=p.getStatus();if(de(Jt,`RPC '${e}' ${c} failed with status:`,b,"response text:",p.getResponseText()),b>0){let w=p.getResponseJson();Array.isArray(w)&&(w=w[0]);const j=w==null?void 0:w.error;if(j&&j.status&&j.message){const O=function(M){const H=M.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(H)>=0?H:se.UNKNOWN}(j.status);g(new fe(O,j.message))}else g(new fe(se.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new fe(se.UNAVAILABLE,"Connection failed."));break;default:be()}}finally{de(Jt,`RPC '${e}' ${c} completed.`)}});const y=JSON.stringify(l);de(Jt,`RPC '${e}' ${c} sending request:`,l),p.send(n,"POST",y,a,15)})}Wo(e,n,a){const l=eg(),c=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Wx(),g=Xx(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,a),p.encodeInitMessageHeaders=!0;const E=c.join("");de(Jt,`Creating RPC '${e}' stream ${l}: ${E}`,p);const b=d.createWebChannel(E,p);let w=!1,j=!1;const O=new gI({Fo:M=>{j?de(Jt,`Not sending because RPC '${e}' stream ${l} is closed:`,M):(w||(de(Jt,`Opening RPC '${e}' stream ${l} transport.`),b.open(),w=!0),de(Jt,`RPC '${e}' stream ${l} sending:`,M),b.send(M))},Mo:()=>b.close()}),K=(M,H,G)=>{M.listen(H,$=>{try{G($)}catch(ee){setTimeout(()=>{throw ee},0)}})};return K(b,Yo.EventType.OPEN,()=>{j||(de(Jt,`RPC '${e}' stream ${l} transport opened.`),O.Qo())}),K(b,Yo.EventType.CLOSE,()=>{j||(j=!0,de(Jt,`RPC '${e}' stream ${l} transport closed`),O.Ko())}),K(b,Yo.EventType.ERROR,M=>{j||(j=!0,pl(Jt,`RPC '${e}' stream ${l} transport errored:`,M),O.Ko(new fe(se.UNAVAILABLE,"The operation could not be completed")))}),K(b,Yo.EventType.MESSAGE,M=>{var H;if(!j){const G=M.data[0];Ye(!!G);const $=G,ee=($==null?void 0:$.error)||((H=$[0])===null||H===void 0?void 0:H.error);if(ee){de(Jt,`RPC '${e}' stream ${l} received error:`,ee);const J=ee.status;let re=function(S){const k=bt[S];if(k!==void 0)return kE(k)}(J),V=ee.message;re===void 0&&(re=se.INTERNAL,V="Unknown error status: "+J+" with message "+ee.message),j=!0,O.Ko(new fe(re,V)),b.close()}else de(Jt,`RPC '${e}' stream ${l} received:`,G),O.Uo(G)}}),K(g,Yx.STAT_EVENT,M=>{M.stat===zm.PROXY?de(Jt,`RPC '${e}' stream ${l} detected buffering proxy`):M.stat===zm.NOPROXY&&de(Jt,`RPC '${e}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{O.$o()},0),O}}function km(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wh(s){return new xk(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(e,n,a=1e3,l=1.5,c=6e4){this.Ti=e,this.timerId=n,this.Go=a,this.zo=l,this.jo=c,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),a=Math.max(0,Date.now()-this.Yo),l=Math.max(0,n-a);l>0&&de("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,l,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0="PersistentStream";class qE{constructor(e,n,a,l,c,d,g,p){this.Ti=e,this.n_=a,this.r_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new KE(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===se.RESOURCE_EXHAUSTED?(ci(n.toString()),ci("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,l])=>{this.i_===n&&this.V_(a,l)},a=>{e(()=>{const l=new fe(se.UNKNOWN,"Fetching auth token failed: "+a.message);return this.m_(l)})})}V_(e,n){const a=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{a(()=>this.listener.xo())}),this.stream.No(()=>{a(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(l=>{a(()=>this.m_(l))}),this.stream.onMessage(l=>{a(()=>++this.__==1?this.g_(l):this.onNext(l))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return de(C0,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(de(C0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class yI extends qE{constructor(e,n,a,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,l,d),this.serializer=c}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=bk(this.serializer,e),a=function(c){if(!("targetChange"in c))return we.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?we.min():d.readTime?As(d.readTime):we.min()}(e);return this.listener.p_(n,a)}y_(e){const n={};n.database=Zm(this.serializer),n.addTarget=function(c,d){let g;const p=d.target;if(g=Gm(p)?{documents:Sk(c,p)}:{query:Nk(c,p).ht},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=jE(c,d.resumeToken);const y=Ym(c,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(we.min())>0){g.readTime=kh(c,d.snapshotVersion.toTimestamp());const y=Ym(c,d.expectedCount);y!==null&&(g.expectedCount=y)}return g}(this.serializer,e);const a=kk(this.serializer,e);a&&(n.labels=a),this.I_(n)}w_(e){const n={};n.database=Zm(this.serializer),n.removeTarget=e,this.I_(n)}}class _I extends qE{constructor(e,n,a,l,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,l,d),this.serializer=c}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Ye(!!e.streamToken),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ye(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=wk(e.writeResults,e.commitTime),a=As(e.commitTime);return this.listener.v_(a,n)}C_(){const e={};e.database=Zm(this.serializer),this.I_(e)}S_(e){const n={streamToken:this.lastStreamToken,writes:e.map(a=>Ak(this.serializer,a))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{}class xI extends vI{constructor(e,n,a,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=l,this.F_=!1}M_(){if(this.F_)throw new fe(se.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,a,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.bo(e,Xm(n,a),l,c,d)).catch(c=>{throw c.name==="FirebaseError"?(c.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new fe(se.UNKNOWN,c.toString())})}Co(e,n,a,l,c){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Co(e,Xm(n,a),l,d,g,c)).catch(d=>{throw d.name==="FirebaseError"?(d.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new fe(se.UNKNOWN,d.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class EI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(ci(n),this.N_=!1):de("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ir="RemoteStore";class TI{constructor(e,n,a,l,c){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=c,this.z_.To(d=>{a.enqueueAndForget(async()=>{dr(this)&&(de(ir,"Restarting streams for network reachability change."),await async function(p){const y=Re(p);y.W_.add(4),await Ec(y),y.j_.set("Unknown"),y.W_.delete(4),await Zh(y)}(this))})}),this.j_=new EI(a,l)}}async function Zh(s){if(dr(s))for(const e of s.G_)await e(!0)}async function Ec(s){for(const e of s.G_)await e(!1)}function FE(s,e){const n=Re(s);n.U_.has(e.targetId)||(n.U_.set(e.targetId,e),zg(n)?Hg(n):jl(n).c_()&&Bg(n,e))}function Ug(s,e){const n=Re(s),a=jl(n);n.U_.delete(e),a.c_()&&GE(n,e),n.U_.size===0&&(a.c_()?a.P_():dr(n)&&n.j_.set("Unknown"))}function Bg(s,e){if(s.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}jl(s).y_(e)}function GE(s,e){s.H_.Ne(e),jl(s).w_(e)}function Hg(s){s.H_=new pk({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>s.U_.get(e)||null,it:()=>s.datastore.serializer.databaseId}),jl(s).start(),s.j_.B_()}function zg(s){return dr(s)&&!jl(s).u_()&&s.U_.size>0}function dr(s){return Re(s).W_.size===0}function $E(s){s.H_=void 0}async function bI(s){s.j_.set("Online")}async function AI(s){s.U_.forEach((e,n)=>{Bg(s,e)})}async function wI(s,e){$E(s),zg(s)?(s.j_.q_(e),Hg(s)):s.j_.set("Unknown")}async function SI(s,e,n){if(s.j_.set("Online"),e instanceof CE&&e.state===2&&e.cause)try{await async function(l,c){const d=c.cause;for(const g of c.targetIds)l.U_.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.U_.delete(g),l.H_.removeTarget(g))}(s,e)}catch(a){de(ir,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await Ch(s,a)}else if(e instanceof dh?s.H_.We(e):e instanceof IE?s.H_.Ze(e):s.H_.je(e),!n.isEqual(we.min()))try{const a=await zE(s.localStore);n.compareTo(a)>=0&&await function(c,d){const g=c.H_.ot(d);return g.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=c.U_.get(y);E&&c.U_.set(y,E.withResumeToken(p.resumeToken,d))}}),g.targetMismatches.forEach((p,y)=>{const E=c.U_.get(p);if(!E)return;c.U_.set(p,E.withResumeToken(Yt.EMPTY_BYTE_STRING,E.snapshotVersion)),GE(c,p);const b=new sa(E.target,p,y,E.sequenceNumber);Bg(c,b)}),c.remoteSyncer.applyRemoteEvent(g)}(s,n)}catch(a){de(ir,"Failed to raise snapshot:",a),await Ch(s,a)}}async function Ch(s,e,n){if(!Cl(e))throw e;s.W_.add(1),await Ec(s),s.j_.set("Offline"),n||(n=()=>zE(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{de(ir,"Retrying IndexedDB access"),await n(),s.W_.delete(1),await Zh(s)})}function QE(s,e){return e().catch(n=>Ch(s,n,e))}async function Jh(s){const e=Re(s),n=ga(e);let a=e.K_.length>0?e.K_[e.K_.length-1].batchId:Ag;for(;NI(e);)try{const l=await oI(e.localStore,a);if(l===null){e.K_.length===0&&n.P_();break}a=l.batchId,RI(e,l)}catch(l){await Ch(e,l)}YE(e)&&XE(e)}function NI(s){return dr(s)&&s.K_.length<10}function RI(s,e){s.K_.push(e);const n=ga(s);n.c_()&&n.b_&&n.S_(e.mutations)}function YE(s){return dr(s)&&!ga(s).u_()&&s.K_.length>0}function XE(s){ga(s).start()}async function kI(s){ga(s).C_()}async function II(s){const e=ga(s);for(const n of s.K_)e.S_(n.mutations)}async function CI(s,e,n){const a=s.K_.shift(),l=jg.from(a,e,n);await QE(s,()=>s.remoteSyncer.applySuccessfulWrite(l)),await Jh(s)}async function jI(s,e){e&&ga(s).b_&&await async function(a,l){if(function(d){return fk(d)&&d!==se.ABORTED}(l.code)){const c=a.K_.shift();ga(a).h_(),await QE(a,()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l)),await Jh(a)}}(s,e),YE(s)&&XE(s)}async function j0(s,e){const n=Re(s);n.asyncQueue.verifyOperationInProgress(),de(ir,"RemoteStore received new credentials");const a=dr(n);n.W_.add(3),await Ec(n),a&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Zh(n)}async function DI(s,e){const n=Re(s);e?(n.W_.delete(2),await Zh(n)):e||(n.W_.add(2),await Ec(n),n.j_.set("Unknown"))}function jl(s){return s.J_||(s.J_=function(n,a,l){const c=Re(n);return c.M_(),new yI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(s.datastore,s.asyncQueue,{xo:bI.bind(null,s),No:AI.bind(null,s),Lo:wI.bind(null,s),p_:SI.bind(null,s)}),s.G_.push(async e=>{e?(s.J_.h_(),zg(s)?Hg(s):s.j_.set("Unknown")):(await s.J_.stop(),$E(s))})),s.J_}function ga(s){return s.Y_||(s.Y_=function(n,a,l){const c=Re(n);return c.M_(),new _I(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(s.datastore,s.asyncQueue,{xo:()=>Promise.resolve(),No:kI.bind(null,s),Lo:jI.bind(null,s),D_:II.bind(null,s),v_:CI.bind(null,s)}),s.G_.push(async e=>{e?(s.Y_.h_(),await Jh(s)):(await s.Y_.stop(),s.K_.length>0&&(de(ir,`Stopping write stream with ${s.K_.length} pending writes`),s.K_=[]))})),s.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(e,n,a,l,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new ri,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,l,c){const d=Date.now()+a,g=new Kg(e,n,d,l,c);return g.start(a),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qg(s,e){if(ci("AsyncQueue",`${e}: ${s}`),Cl(s))return new fe(se.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{static emptySet(e){return new dl(e.comparator)}constructor(e){this.comparator=e?(n,a)=>e(n,a)||xe.comparator(n.key,a.key):(n,a)=>xe.comparator(n.key,a.key),this.keyedMap=Xo(),this.sortedSet=new ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,a)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof dl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new dl;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(){this.Z_=new ot(xe.comparator)}track(e){const n=e.doc.key,a=this.Z_.get(n);a?e.type!==0&&a.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&a.type!==1?this.Z_=this.Z_.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.Z_=this.Z_.remove(n):e.type===1&&a.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):be():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,a)=>{e.push(a)}),e}}class El{constructor(e,n,a,l,c,d,g,p,y){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,a,l,c){const d=[];return n.forEach(g=>{d.push({type:0,doc:g})}),new El(e,n,dl.emptySet(n),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==a[l].type||!n[l].doc.isEqual(a[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class MI{constructor(){this.queries=O0(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,a){const l=Re(n),c=l.queries;l.queries=O0(),c.forEach((d,g)=>{for(const p of g.ta)p.onError(a)})})(this,new fe(se.ABORTED,"Firestore shutting down"))}}function O0(){return new hr(s=>yE(s),Gh)}async function WE(s,e){const n=Re(s);let a=3;const l=e.query;let c=n.queries.get(l);c?!c.na()&&e.ra()&&(a=2):(c=new OI,a=e.ra()?0:1);try{switch(a){case 0:c.ea=await n.onListen(l,!0);break;case 1:c.ea=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(d){const g=qg(d,`Initialization of query '${ol(e.query)}' failed`);return void e.onError(g)}n.queries.set(l,c),c.ta.push(e),e.sa(n.onlineState),c.ea&&e.oa(c.ea)&&Fg(n)}async function ZE(s,e){const n=Re(s),a=e.query;let l=3;const c=n.queries.get(a);if(c){const d=c.ta.indexOf(e);d>=0&&(c.ta.splice(d,1),c.ta.length===0?l=e.ra()?0:1:!c.na()&&e.ra()&&(l=2))}switch(l){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function LI(s,e){const n=Re(s);let a=!1;for(const l of e){const c=l.query,d=n.queries.get(c);if(d){for(const g of d.ta)g.oa(l)&&(a=!0);d.ea=l}}a&&Fg(n)}function VI(s,e,n){const a=Re(s),l=a.queries.get(e);if(l)for(const c of l.ta)c.onError(n);a.queries.delete(e)}function Fg(s){s.ia.forEach(e=>{e.next()})}var tg,M0;(M0=tg||(tg={}))._a="default",M0.Cache="cache";class JE{constructor(e,n,a){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=a||{}}oa(e){if(!this.options.includeMetadataChanges){const a=[];for(const l of e.docChanges)l.type!==3&&a.push(l);e=new El(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const a=n!=="Offline";return(!this.options.Ta||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=El.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==tg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(e){this.key=e}}class tT{constructor(e){this.key=e}}class PI{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ve(),this.mutatedKeys=Ve(),this.ya=_E(e),this.wa=new dl(this.ya)}get ba(){return this.fa}Sa(e,n){const a=n?n.Da:new D0,l=n?n.wa:this.wa;let c=n?n.mutatedKeys:this.mutatedKeys,d=l,g=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((E,b)=>{const w=l.get(E),j=$h(this.query,b)?b:null,O=!!w&&this.mutatedKeys.has(w.key),K=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let M=!1;w&&j?w.data.isEqual(j.data)?O!==K&&(a.track({type:3,doc:j}),M=!0):this.va(w,j)||(a.track({type:2,doc:j}),M=!0,(p&&this.ya(j,p)>0||y&&this.ya(j,y)<0)&&(g=!0)):!w&&j?(a.track({type:0,doc:j}),M=!0):w&&!j&&(a.track({type:1,doc:w}),M=!0,(p||y)&&(g=!0)),M&&(j?(d=d.add(j),c=K?c.add(E):c.delete(E)):(d=d.delete(E),c=c.delete(E)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),c=c.delete(E.key),a.track({type:1,doc:E})}return{wa:d,Da:a,ls:g,mutatedKeys:c}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,l){const c=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const d=e.Da.X_();d.sort((E,b)=>function(j,O){const K=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be()}};return K(j)-K(O)}(E.type,b.type)||this.ya(E.doc,b.doc)),this.Ca(a),l=l!=null&&l;const g=n&&!l?this.Fa():[],p=this.pa.size===0&&this.current&&!l?1:0,y=p!==this.ga;return this.ga=p,d.length!==0||y?{snapshot:new El(this.query,e.wa,c,d,e.mutatedKeys,p===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),Ma:g}:{Ma:g}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new D0,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ve(),this.wa.forEach(a=>{this.xa(a.key)&&(this.pa=this.pa.add(a.key))});const n=[];return e.forEach(a=>{this.pa.has(a)||n.push(new tT(a))}),this.pa.forEach(a=>{e.has(a)||n.push(new eT(a))}),n}Oa(e){this.fa=e.gs,this.pa=Ve();const n=this.Sa(e.documents);return this.applyChanges(n,!0)}Na(){return El.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Gg="SyncEngine";class UI{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class BI{constructor(e){this.key=e,this.Ba=!1}}class HI{constructor(e,n,a,l,c,d){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.La={},this.ka=new hr(g=>yE(g),Gh),this.qa=new Map,this.Qa=new Set,this.$a=new ot(xe.comparator),this.Ka=new Map,this.Ua=new Mg,this.Wa={},this.Ga=new Map,this.za=xl.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function zI(s,e,n=!0){const a=lT(s);let l;const c=a.ka.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.Na()):l=await nT(a,e,n,!0),l}async function KI(s,e){const n=lT(s);await nT(n,e,!0,!1)}async function nT(s,e,n,a){const l=await cI(s.localStore,bs(e)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,n);let g;return a&&(g=await qI(s,e,c,d==="current",l.resumeToken)),s.isPrimaryClient&&n&&FE(s.remoteStore,l),g}async function qI(s,e,n,a,l){s.Ha=(b,w,j)=>async function(K,M,H,G){let $=M.view.Sa(H);$.ls&&($=await N0(K.localStore,M.query,!1).then(({documents:V})=>M.view.Sa(V,$)));const ee=G&&G.targetChanges.get(M.targetId),J=G&&G.targetMismatches.get(M.targetId)!=null,re=M.view.applyChanges($,K.isPrimaryClient,ee,J);return V0(K,M.targetId,re.Ma),re.snapshot}(s,b,w,j);const c=await N0(s.localStore,e,!0),d=new PI(e,c.gs),g=d.Sa(c.documents),p=xc.createSynthesizedTargetChangeForCurrentChange(n,a&&s.onlineState!=="Offline",l),y=d.applyChanges(g,s.isPrimaryClient,p);V0(s,n,y.Ma);const E=new UI(e,n,d);return s.ka.set(e,E),s.qa.has(n)?s.qa.get(n).push(e):s.qa.set(n,[e]),y.snapshot}async function FI(s,e,n){const a=Re(s),l=a.ka.get(e),c=a.qa.get(l.targetId);if(c.length>1)return a.qa.set(l.targetId,c.filter(d=>!Gh(d,e))),void a.ka.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await Jm(a.localStore,l.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(l.targetId),n&&Ug(a.remoteStore,l.targetId),ng(a,l.targetId)}).catch(Il)):(ng(a,l.targetId),await Jm(a.localStore,l.targetId,!0))}async function GI(s,e){const n=Re(s),a=n.ka.get(e),l=n.qa.get(a.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),Ug(n.remoteStore,a.targetId))}async function $I(s,e,n){const a=eC(s);try{const l=await function(d,g){const p=Re(d),y=jt.now(),E=g.reduce((j,O)=>j.add(O.key),Ve());let b,w;return p.persistence.runTransaction("Locally write mutations","readwrite",j=>{let O=ui(),K=Ve();return p.ds.getEntries(j,E).next(M=>{O=M,O.forEach((H,G)=>{G.isValidDocument()||(K=K.add(H))})}).next(()=>p.localDocuments.getOverlayedDocuments(j,O)).next(M=>{b=M;const H=[];for(const G of g){const $=ok(G,b.get(G.key).overlayedDocument);$!=null&&H.push(new _a(G.key,$,cE($.value.mapValue),Fn.exists(!0)))}return p.mutationQueue.addMutationBatch(j,y,H,g)}).next(M=>{w=M;const H=M.applyToLocalDocumentSet(b,K);return p.documentOverlayCache.saveOverlays(j,M.batchId,H)})}).then(()=>({batchId:w.batchId,changes:xE(b)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(l.batchId),function(d,g,p){let y=d.Wa[d.currentUser.toKey()];y||(y=new ot(Ue)),y=y.insert(g,p),d.Wa[d.currentUser.toKey()]=y}(a,l.batchId,n),await Tc(a,l.changes),await Jh(a.remoteStore)}catch(l){const c=qg(l,"Failed to persist write");n.reject(c)}}async function sT(s,e){const n=Re(s);try{const a=await rI(n.localStore,e);e.targetChanges.forEach((l,c)=>{const d=n.Ka.get(c);d&&(Ye(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?d.Ba=!0:l.modifiedDocuments.size>0?Ye(d.Ba):l.removedDocuments.size>0&&(Ye(d.Ba),d.Ba=!1))}),await Tc(n,a,e)}catch(a){await Il(a)}}function L0(s,e,n){const a=Re(s);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const l=[];a.ka.forEach((c,d)=>{const g=d.view.sa(e);g.snapshot&&l.push(g.snapshot)}),function(d,g){const p=Re(d);p.onlineState=g;let y=!1;p.queries.forEach((E,b)=>{for(const w of b.ta)w.sa(g)&&(y=!0)}),y&&Fg(p)}(a.eventManager,e),l.length&&a.La.p_(l),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function QI(s,e,n){const a=Re(s);a.sharedClientState.updateQueryState(e,"rejected",n);const l=a.Ka.get(e),c=l&&l.key;if(c){let d=new ot(xe.comparator);d=d.insert(c,tn.newNoDocument(c,we.min()));const g=Ve().add(c),p=new Xh(we.min(),new Map,new ot(Ue),d,g);await sT(a,p),a.$a=a.$a.remove(c),a.Ka.delete(e),$g(a)}else await Jm(a.localStore,e,!1).then(()=>ng(a,e,n)).catch(Il)}async function YI(s,e){const n=Re(s),a=e.batch.batchId;try{const l=await aI(n.localStore,e);aT(n,a,null),iT(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await Tc(n,l)}catch(l){await Il(l)}}async function XI(s,e,n){const a=Re(s);try{const l=await function(d,g){const p=Re(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return p.mutationQueue.lookupMutationBatch(y,g).next(b=>(Ye(b!==null),E=b.keys(),p.mutationQueue.removeMutationBatch(y,b))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,g)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>p.localDocuments.getDocuments(y,E))})}(a.localStore,e);aT(a,e,n),iT(a,e),a.sharedClientState.updateMutationState(e,"rejected",n),await Tc(a,l)}catch(l){await Il(l)}}function iT(s,e){(s.Ga.get(e)||[]).forEach(n=>{n.resolve()}),s.Ga.delete(e)}function aT(s,e,n){const a=Re(s);let l=a.Wa[a.currentUser.toKey()];if(l){const c=l.get(e);c&&(n?c.reject(n):c.resolve(),l=l.remove(e)),a.Wa[a.currentUser.toKey()]=l}}function ng(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.qa.get(e))s.ka.delete(a),n&&s.La.Ja(a,n);s.qa.delete(e),s.isPrimaryClient&&s.Ua.Sr(e).forEach(a=>{s.Ua.containsKey(a)||rT(s,a)})}function rT(s,e){s.Qa.delete(e.path.canonicalString());const n=s.$a.get(e);n!==null&&(Ug(s.remoteStore,n),s.$a=s.$a.remove(e),s.Ka.delete(n),$g(s))}function V0(s,e,n){for(const a of n)a instanceof eT?(s.Ua.addReference(a.key,e),WI(s,a)):a instanceof tT?(de(Gg,"Document no longer in limbo: "+a.key),s.Ua.removeReference(a.key,e),s.Ua.containsKey(a.key)||rT(s,a.key)):be()}function WI(s,e){const n=e.key,a=n.path.canonicalString();s.$a.get(n)||s.Qa.has(a)||(de(Gg,"New document in limbo: "+n),s.Qa.add(a),$g(s))}function $g(s){for(;s.Qa.size>0&&s.$a.size<s.maxConcurrentLimboResolutions;){const e=s.Qa.values().next().value;s.Qa.delete(e);const n=new xe(nt.fromString(e)),a=s.za.next();s.Ka.set(a,new BI(n)),s.$a=s.$a.insert(n,a),FE(s.remoteStore,new sa(bs(kg(n.path)),a,"TargetPurposeLimboResolution",Kh.ae))}}async function Tc(s,e,n){const a=Re(s),l=[],c=[],d=[];a.ka.isEmpty()||(a.ka.forEach((g,p)=>{d.push(a.Ha(p,e,n).then(y=>{var E;if((y||n)&&a.isPrimaryClient){const b=y?!y.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;a.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(y){l.push(y);const b=Vg.Yi(p.targetId,y);c.push(b)}}))}),await Promise.all(d),a.La.p_(l),await async function(p,y){const E=Re(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>ne.forEach(y,w=>ne.forEach(w.Hi,j=>E.persistence.referenceDelegate.addReference(b,w.targetId,j)).next(()=>ne.forEach(w.Ji,j=>E.persistence.referenceDelegate.removeReference(b,w.targetId,j)))))}catch(b){if(!Cl(b))throw b;de(Pg,"Failed to update sequence numbers: "+b)}for(const b of y){const w=b.targetId;if(!b.fromCache){const j=E.Ts.get(w),O=j.snapshotVersion,K=j.withLastLimboFreeSnapshotVersion(O);E.Ts=E.Ts.insert(w,K)}}}(a.localStore,c))}async function ZI(s,e){const n=Re(s);if(!n.currentUser.isEqual(e)){de(Gg,"User change. New user:",e.toKey());const a=await HE(n.localStore,e);n.currentUser=e,function(c,d){c.Ga.forEach(g=>{g.forEach(p=>{p.reject(new fe(se.CANCELLED,d))})}),c.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Tc(n,a.Rs)}}function JI(s,e){const n=Re(s),a=n.Ka.get(e);if(a&&a.Ba)return Ve().add(a.key);{let l=Ve();const c=n.qa.get(e);if(!c)return l;for(const d of c){const g=n.ka.get(d);l=l.unionWith(g.view.ba)}return l}}function lT(s){const e=Re(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=sT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=JI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=QI.bind(null,e),e.La.p_=LI.bind(null,e.eventManager),e.La.Ja=VI.bind(null,e.eventManager),e}function eC(s){const e=Re(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=YI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=XI.bind(null,e),e}class jh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Wh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return iI(this.persistence,new tI,e.initialUser,this.serializer)}Xa(e){return new BE(Lg.ri,this.serializer)}Za(e){return new hI}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jh.provider={build:()=>new jh};class tC extends jh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Ye(this.persistence.referenceDelegate instanceof Ih);const a=this.persistence.referenceDelegate.garbageCollector;return new Bk(a,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new BE(a=>Ih.ri(a,n),this.serializer)}}class sg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>L0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=ZI.bind(null,this.syncEngine),await DI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new MI}()}createDatastore(e){const n=Wh(e.databaseInfo.databaseId),a=function(c){return new pI(c)}(e.databaseInfo);return function(c,d,g,p){return new xI(c,d,g,p)}(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return function(a,l,c,d,g){return new TI(a,l,c,d,g)}(this.localStore,this.datastore,e.asyncQueue,n=>L0(this.syncEngine,n,0),function(){return I0.D()?new I0:new dI}())}createSyncEngine(e,n){return function(l,c,d,g,p,y,E){const b=new HI(l,c,d,g,p,y);return E&&(b.ja=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(l){const c=Re(l);de(ir,"RemoteStore shutting down."),c.W_.add(5),await Ec(c),c.z_.shutdown(),c.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}sg.provider={build:()=>new sg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):ci("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa="FirestoreClient";class nC{constructor(e,n,a,l,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=l,this.user=en.UNAUTHENTICATED,this.clientId=Jx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,async d=>{de(pa,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(a,d=>(de(pa,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ri;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=qg(n,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function Im(s,e){s.asyncQueue.verifyOperationInProgress(),de(pa,"Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let a=n.initialUser;s.setCredentialChangeListener(async l=>{a.isEqual(l)||(await HE(e.localStore,l),a=l)}),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}async function P0(s,e){s.asyncQueue.verifyOperationInProgress();const n=await sC(s);de(pa,"Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener(a=>j0(e.remoteStore,a)),s.setAppCheckTokenChangeListener((a,l)=>j0(e.remoteStore,l)),s._onlineComponents=e}async function sC(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){de(pa,"Using user provided OfflineComponentProvider");try{await Im(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(l){return l.name==="FirebaseError"?l.code===se.FAILED_PRECONDITION||l.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(n))throw n;pl("Error using user provided cache. Falling back to memory cache: "+n),await Im(s,new jh)}}else de(pa,"Using default OfflineComponentProvider"),await Im(s,new tC(void 0));return s._offlineComponents}async function cT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(de(pa,"Using user provided OnlineComponentProvider"),await P0(s,s._uninitializedComponentsProvider._online)):(de(pa,"Using default OnlineComponentProvider"),await P0(s,new sg))),s._onlineComponents}function iC(s){return cT(s).then(e=>e.syncEngine)}async function uT(s){const e=await cT(s),n=e.eventManager;return n.onListen=zI.bind(null,e.syncEngine),n.onUnlisten=FI.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=KI.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=GI.bind(null,e.syncEngine),n}function aC(s,e,n={}){const a=new ri;return s.asyncQueue.enqueueAndForget(async()=>function(c,d,g,p,y){const E=new oT({next:w=>{E.su(),d.enqueueAndForget(()=>ZE(c,b));const j=w.docs.has(g);!j&&w.fromCache?y.reject(new fe(se.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&w.fromCache&&p&&p.source==="server"?y.reject(new fe(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(w)},error:w=>y.reject(w)}),b=new JE(kg(g.path),E,{includeMetadataChanges:!0,Ta:!0});return WE(c,b)}(await uT(s),s.asyncQueue,e,n,a)),a.promise}function rC(s,e,n={}){const a=new ri;return s.asyncQueue.enqueueAndForget(async()=>function(c,d,g,p,y){const E=new oT({next:w=>{E.su(),d.enqueueAndForget(()=>ZE(c,b)),w.fromCache&&p.source==="server"?y.reject(new fe(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(w)},error:w=>y.reject(w)}),b=new JE(g,E,{includeMetadataChanges:!0,Ta:!0});return WE(c,b)}(await uT(s),s.asyncQueue,e,n,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hT(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dT(s,e,n){if(!n)throw new fe(se.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function lC(s,e,n,a){if(e===!0&&a===!0)throw new fe(se.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function B0(s){if(!xe.isDocumentKey(s))throw new fe(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function H0(s){if(xe.isDocumentKey(s))throw new fe(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function ed(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":be()}function es(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new fe(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ed(s);throw new fe(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT="firestore.googleapis.com",z0=!0;class K0{constructor(e){var n,a;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=fT,this.ssl=z0}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:z0;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=UE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Pk)throw new fe(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}lC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hT((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new fe(se.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new fe(se.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new fe(se.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,l){return a.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class td{constructor(e,n,a,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new K0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new K0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new gR;switch(a.type){case"firstParty":return new vR(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new fe(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const a=U0.get(n);a&&(de("ComponentProvider","Removing Datastore"),U0.delete(n),a.terminate())}(this),Promise.resolve()}}function oC(s,e,n,a={}){var l;const c=(s=es(s,td))._getSettings(),d=Object.assign(Object.assign({},c),{emulatorOptions:s._getEmulatorOptions()}),g=`${e}:${n}`;c.host!==fT&&c.host!==g&&pl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},c),{host:g,ssl:!1,emulatorOptions:a});if(!tr(p,d)&&(s._setSettings(p),a.mockUserToken)){let y,E;if(typeof a.mockUserToken=="string")y=a.mockUserToken,E=en.MOCK_USER;else{y=Bx(a.mockUserToken,(l=s._app)===null||l===void 0?void 0:l.options.projectId);const b=a.mockUserToken.sub||a.mockUserToken.user_id;if(!b)throw new fe(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new en(b)}s._authCredentials=new pR(new Zx(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Dl(this.firestore,e,this._query)}}class hn{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new oa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hn(this.firestore,e,this._key)}}class oa extends Dl{constructor(e,n,a){super(e,n,kg(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hn(this.firestore,null,new xe(e))}withConverter(e){return new oa(this.firestore,e,this._path)}}function ia(s,e,...n){if(s=it(s),dT("collection","path",e),s instanceof td){const a=nt.fromString(e,...n);return H0(a),new oa(s,null,a)}{if(!(s instanceof hn||s instanceof oa))throw new fe(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(nt.fromString(e,...n));return H0(a),new oa(s.firestore,null,a)}}function Nn(s,e,...n){if(s=it(s),arguments.length===1&&(e=Jx.newId()),dT("doc","path",e),s instanceof td){const a=nt.fromString(e,...n);return B0(a),new hn(s,null,new xe(a))}{if(!(s instanceof hn||s instanceof oa))throw new fe(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(nt.fromString(e,...n));return B0(a),new hn(s.firestore,s instanceof oa?s.converter:null,new xe(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0="AsyncQueue";class F0{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new KE(this,"async_queue_retry"),this.bu=()=>{const a=km();a&&de(q0,"Visibility state changed to "+a.visibilityState),this.a_.t_()},this.Su=e;const n=km();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=km();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new ri;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Cl(e))throw e;de(q0,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.Su.then(()=>(this.pu=!0,e().catch(a=>{this.gu=a,this.pu=!1;const l=function(d){let g=d.message||"";return d.stack&&(g=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),g}(a);throw ci("INTERNAL UNHANDLED ERROR: ",l),a}).then(a=>(this.pu=!1,a))));return this.Su=n,n}enqueueAfterDelay(e,n,a){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const l=Kg.createAndSchedule(this,e,n,a,c=>this.Fu(c));return this.fu.push(l),l}Du(){this.gu&&be()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,a)=>n.targetTimeMs-a.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class fr extends td{constructor(e,n,a,l){super(e,n,a,l),this.type="firestore",this._queue=new F0,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new F0(e),this._firestoreClient=void 0,await e}}}function cC(s,e){const n=typeof s=="object"?s:Tg(),a=typeof s=="string"?s:bh,l=zh(n,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=Vx("firestore");c&&oC(l,...c)}return l}function Qg(s){if(s._terminated)throw new fe(se.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||uC(s),s._firestoreClient}function uC(s){var e,n,a;const l=s._freezeSettings(),c=function(g,p,y,E){return new DR(g,p,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,hT(E.experimentalLongPollingOptions),E.useFetchStreams)}(s._databaseId,((e=s._app)===null||e===void 0?void 0:e.options.appId)||"",s._persistenceKey,l);s._componentsProvider||!((n=l.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((a=l.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(s._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),s._firestoreClient=new nC(s._authCredentials,s._appCheckCredentials,s._queue,c,s._componentsProvider&&function(g){const p=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(p),_online:p}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Tl(Yt.fromBase64String(e))}catch(n){throw new fe(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Tl(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC=/^__.*__$/;class dC{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return this.fieldMask!==null?new _a(e,this.data,this.fieldMask,n,this.fieldTransforms):new vc(e,this.data,n,this.fieldTransforms)}}class mT{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return new _a(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function gT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be()}}class Zg{constructor(e,n,a,l,c,d){this.settings=e,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Bu(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Zg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(e),l=this.ku({path:a,Qu:!1});return l.$u(e),l}Ku(e){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(e),l=this.ku({path:a,Qu:!1});return l.Bu(),l}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Dh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(gT(this.Lu)&&hC.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class fC{constructor(e,n,a){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=a||Wh(e)}ju(e,n,a,l=!1){return new Zg({Lu:e,methodName:n,zu:a,path:$t.emptyPath(),Qu:!1,Gu:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function sd(s){const e=s._freezeSettings(),n=Wh(s._databaseId);return new fC(s._databaseId,!!e.ignoreUndefinedProperties,n)}function pT(s,e,n,a,l,c={}){const d=s.ju(c.merge||c.mergeFields?2:0,e,n,l);Jg("Data must be an object, but it was:",d,a);const g=yT(a,d);let p,y;if(c.merge)p=new wn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const b of c.mergeFields){const w=ig(e,b,n);if(!d.contains(w))throw new fe(se.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);vT(E,w)||E.push(w)}p=new wn(E),y=d.fieldTransforms.filter(b=>p.covers(b.field))}else p=null,y=d.fieldTransforms;return new dC(new pn(g),p,y)}class id extends Yg{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof id}}function mC(s,e,n,a){const l=s.ju(1,e,n);Jg("Data must be an object, but it was:",l,a);const c=[],d=pn.empty();ya(a,(p,y)=>{const E=ep(e,p,n);y=it(y);const b=l.Ku(E);if(y instanceof id)c.push(E);else{const w=bc(y,b);w!=null&&(c.push(E),d.set(E,w))}});const g=new wn(c);return new mT(d,g,l.fieldTransforms)}function gC(s,e,n,a,l,c){const d=s.ju(1,e,n),g=[ig(e,a,n)],p=[l];if(c.length%2!=0)throw new fe(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<c.length;w+=2)g.push(ig(e,c[w])),p.push(c[w+1]);const y=[],E=pn.empty();for(let w=g.length-1;w>=0;--w)if(!vT(y,g[w])){const j=g[w];let O=p[w];O=it(O);const K=d.Ku(j);if(O instanceof id)y.push(j);else{const M=bc(O,K);M!=null&&(y.push(j),E.set(j,M))}}const b=new wn(y);return new mT(E,b,d.fieldTransforms)}function pC(s,e,n,a=!1){return bc(n,s.ju(a?4:3,e))}function bc(s,e){if(_T(s=it(s)))return Jg("Unsupported field value:",e,s),yT(s,e);if(s instanceof Yg)return function(a,l){if(!gT(l.Lu))throw l.Wu(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Wu(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)}(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(a,l){const c=[];let d=0;for(const g of a){let p=bc(g,l.Uu(d));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),d++}return{arrayValue:{values:c}}}(s,e)}return function(a,l){if((a=it(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return nk(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=jt.fromDate(a);return{timestampValue:kh(l.serializer,c)}}if(a instanceof jt){const c=new jt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:kh(l.serializer,c)}}if(a instanceof Xg)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Tl)return{bytesValue:jE(l.serializer,a._byteString)};if(a instanceof hn){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Wu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Og(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Wg)return function(d,g){return{mapValue:{fields:{[lE]:{stringValue:oE},[Ah]:{arrayValue:{values:d.toArray().map(y=>{if(typeof y!="number")throw g.Wu("VectorValues must only contain numeric values.");return Ig(g.serializer,y)})}}}}}}(a,l);throw l.Wu(`Unsupported field value: ${ed(a)}`)}(s,e)}function yT(s,e){const n={};return tE(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ya(s,(a,l)=>{const c=bc(l,e.qu(a));c!=null&&(n[a]=c)}),{mapValue:{fields:n}}}function _T(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof jt||s instanceof Xg||s instanceof Tl||s instanceof hn||s instanceof Yg||s instanceof Wg)}function Jg(s,e,n){if(!_T(n)||!function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}(n)){const a=ed(n);throw a==="an object"?e.Wu(s+" a custom object"):e.Wu(s+" "+a)}}function ig(s,e,n){if((e=it(e))instanceof nd)return e._internalPath;if(typeof e=="string")return ep(s,e);throw Dh("Field path arguments must be of type string or ",s,!1,void 0,n)}const yC=new RegExp("[~\\*/\\[\\]]");function ep(s,e,n){if(e.search(yC)>=0)throw Dh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new nd(...e.split("."))._internalPath}catch{throw Dh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function Dh(s,e,n,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let g=`Function ${e}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(c||d)&&(p+=" (found",c&&(p+=` in field ${a}`),d&&(p+=` in document ${l}`),p+=")"),new fe(se.INVALID_ARGUMENT,g+s+p)}function vT(s,e){return s.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(e,n,a,l,c){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new hn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new _C(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(tp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class _C extends xT{data(){return super.data()}}function tp(s,e){return typeof e=="string"?ep(s,e):e instanceof nd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new fe(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class np{}class xC extends np{}function Fo(s,e,...n){let a=[];e instanceof np&&a.push(e),a=a.concat(n),function(c){const d=c.filter(p=>p instanceof sp).length,g=c.filter(p=>p instanceof ad).length;if(d>1||d>0&&g>0)throw new fe(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const l of a)s=l._apply(s);return s}class ad extends xC{constructor(e,n,a){super(),this._field=e,this._op=n,this._value=a,this.type="where"}static _create(e,n,a){return new ad(e,n,a)}_apply(e){const n=this._parse(e);return ET(e._query,n),new Dl(e.firestore,e.converter,$m(e._query,n))}_parse(e){const n=sd(e.firestore);return function(c,d,g,p,y,E,b){let w;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new fe(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){$0(b,E);const O=[];for(const K of b)O.push(G0(p,c,K));w={arrayValue:{values:O}}}else w=G0(p,c,b)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||$0(b,E),w=pC(g,d,b,E==="in"||E==="not-in");return At.create(y,E,w)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function th(s,e,n){const a=e,l=tp("where",s);return ad._create(l,a,n)}class sp extends np{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new sp(e,n)}_parse(e){const n=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return n.length===1?n[0]:Jn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(l,c){let d=l;const g=c.getFlattenedFilters();for(const p of g)ET(d,p),d=$m(d,p)}(e._query,n),new Dl(e.firestore,e.converter,$m(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function G0(s,e,n){if(typeof(n=it(n))=="string"){if(n==="")throw new fe(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!pE(e)&&n.indexOf("/")!==-1)throw new fe(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=e.path.child(nt.fromString(n));if(!xe.isDocumentKey(a))throw new fe(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return o0(s,new xe(a))}if(n instanceof hn)return o0(s,n._key);throw new fe(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ed(n)}.`)}function $0(s,e){if(!Array.isArray(s)||s.length===0)throw new fe(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ET(s,e){const n=function(l,c){for(const d of l)for(const g of d.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null}(s.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new fe(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class EC{convertValue(e,n="none"){switch(ma(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(fa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw be()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return ya(e,(l,c)=>{a[l]=this.convertValue(c,n)}),a}convertVectorValue(e){var n,a,l;const c=(l=(a=(n=e.fields)===null||n===void 0?void 0:n[Ah].arrayValue)===null||a===void 0?void 0:a.values)===null||l===void 0?void 0:l.map(d=>_t(d.doubleValue));return new Wg(c)}convertGeoPoint(e){return new Xg(_t(e.latitude),_t(e.longitude))}convertArray(e,n){return(e.values||[]).map(a=>this.convertValue(a,n))}convertServerTimestamp(e,n){switch(n){case"previous":const a=Fh(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(oc(e));default:return null}}convertTimestamp(e){const n=da(e);return new jt(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=nt.fromString(e);Ye(PE(a));const l=new cc(a.get(1),a.get(3)),c=new xe(a.popFirst(5));return l.isEqual(n)||ci(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TT(s,e,n){let a;return a=s?s.toFirestore(e):e,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class bT extends xT{constructor(e,n,a,l,c,d){super(e,n,a,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new fh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(tp("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}}class fh extends bT{data(e={}){return super.data(e)}}class TC{constructor(e,n,a,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new Zo(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(a=>{e.call(n,new fh(this._firestore,this._userDataWriter,a.key,a,new Zo(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map(g=>{const p=new fh(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Zo(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}})}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(g=>c||g.type!==3).map(g=>{const p=new fh(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Zo(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,E=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),E=d.indexOf(g.doc.key)),{type:bC(g.type),doc:p,oldIndex:y,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function bC(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rd(s){s=es(s,hn);const e=es(s.firestore,fr);return aC(Qg(e),s._key).then(n=>wC(e,s,n))}class AT extends EC{constructor(e){super(),this.firestore=e}convertBytes(e){return new Tl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new hn(this.firestore,null,n)}}function ip(s){s=es(s,Dl);const e=es(s.firestore,fr),n=Qg(e),a=new AT(e);return vC(s._query),rC(n,s._query).then(l=>new TC(e,a,s,l))}function bl(s,e,n){s=es(s,hn);const a=es(s.firestore,fr),l=TT(s.converter,e);return ld(a,[pT(sd(a),"setDoc",s._key,l,s.converter!==null,n).toMutation(s._key,Fn.none())])}function AC(s,e,n,...a){s=es(s,hn);const l=es(s.firestore,fr),c=sd(l);let d;return d=typeof(e=it(e))=="string"||e instanceof nd?gC(c,"updateDoc",s._key,e,n,a):mC(c,"updateDoc",s._key,e),ld(l,[d.toMutation(s._key,Fn.exists(!0))])}function wT(s){return ld(es(s.firestore,fr),[new Cg(s._key,Fn.none())])}function ST(s,e){const n=es(s.firestore,fr),a=Nn(s),l=TT(s.converter,e);return ld(n,[pT(sd(s.firestore),"addDoc",a._key,l,s.converter!==null,{}).toMutation(a._key,Fn.exists(!1))]).then(()=>a)}function ld(s,e){return function(a,l){const c=new ri;return a.asyncQueue.enqueueAndForget(async()=>$I(await iC(a),l,c)),c.promise}(Qg(s),e)}function wC(s,e,n){const a=n.docs.get(e._key),l=new AT(s);return new bT(s,l,e._key,a,new Zo(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(l){kl=l})(ur),nr(new ua("firestore",(a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),g=new fr(new yR(a.getProvider("auth-internal")),new xR(d,a.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new fe(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cc(y.options.projectId,E)}(d,l),d);return c=Object.assign({useFetchStreams:n},c),g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),Ts(Wv,Zv,e),Ts(Wv,Zv,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT="firebasestorage.googleapis.com",RT="storageBucket",SC=2*60*1e3,NC=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt extends Rs{constructor(e,n,a=0){super(Cm(e),`Firebase Storage: ${n} (${Cm(e)})`),this.status_=a,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,gt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Cm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var mt;(function(s){s.UNKNOWN="unknown",s.OBJECT_NOT_FOUND="object-not-found",s.BUCKET_NOT_FOUND="bucket-not-found",s.PROJECT_NOT_FOUND="project-not-found",s.QUOTA_EXCEEDED="quota-exceeded",s.UNAUTHENTICATED="unauthenticated",s.UNAUTHORIZED="unauthorized",s.UNAUTHORIZED_APP="unauthorized-app",s.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",s.INVALID_CHECKSUM="invalid-checksum",s.CANCELED="canceled",s.INVALID_EVENT_NAME="invalid-event-name",s.INVALID_URL="invalid-url",s.INVALID_DEFAULT_BUCKET="invalid-default-bucket",s.NO_DEFAULT_BUCKET="no-default-bucket",s.CANNOT_SLICE_BLOB="cannot-slice-blob",s.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",s.NO_DOWNLOAD_URL="no-download-url",s.INVALID_ARGUMENT="invalid-argument",s.INVALID_ARGUMENT_COUNT="invalid-argument-count",s.APP_DELETED="app-deleted",s.INVALID_ROOT_OPERATION="invalid-root-operation",s.INVALID_FORMAT="invalid-format",s.INTERNAL_ERROR="internal-error",s.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(mt||(mt={}));function Cm(s){return"storage/"+s}function ap(){const s="An unknown error occurred, please check the error payload for server response.";return new gt(mt.UNKNOWN,s)}function RC(s){return new gt(mt.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")}function kC(s){return new gt(mt.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function IC(){const s="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new gt(mt.UNAUTHENTICATED,s)}function CC(){return new gt(mt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function jC(s){return new gt(mt.UNAUTHORIZED,"User does not have permission to access '"+s+"'.")}function DC(){return new gt(mt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function OC(){return new gt(mt.CANCELED,"User canceled the upload/download.")}function MC(s){return new gt(mt.INVALID_URL,"Invalid URL '"+s+"'.")}function LC(s){return new gt(mt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+s+"'.")}function VC(){return new gt(mt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+RT+"' property when initializing the app?")}function PC(){return new gt(mt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function UC(){return new gt(mt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function BC(s){return new gt(mt.UNSUPPORTED_ENVIRONMENT,`${s} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function ag(s){return new gt(mt.INVALID_ARGUMENT,s)}function kT(){return new gt(mt.APP_DELETED,"The Firebase app was deleted.")}function HC(s){return new gt(mt.INVALID_ROOT_OPERATION,"The operation '"+s+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function sc(s,e){return new gt(mt.INVALID_FORMAT,"String does not match format '"+s+"': "+e)}function Go(s){throw new gt(mt.INTERNAL_ERROR,"Internal error: "+s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let a;try{a=Sn.makeFromUrl(e,n)}catch{return new Sn(e,"")}if(a.path==="")return a;throw LC(e)}static makeFromUrl(e,n){let a=null;const l="([A-Za-z0-9.\\-_]+)";function c(ee){ee.path.charAt(ee.path.length-1)==="/"&&(ee.path_=ee.path_.slice(0,-1))}const d="(/(.*))?$",g=new RegExp("^gs://"+l+d,"i"),p={bucket:1,path:3};function y(ee){ee.path_=decodeURIComponent(ee.path)}const E="v[A-Za-z0-9_]+",b=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",j=new RegExp(`^https?://${b}/${E}/b/${l}/o${w}`,"i"),O={bucket:1,path:3},K=n===NT?"(?:storage.googleapis.com|storage.cloud.google.com)":n,M="([^?#]*)",H=new RegExp(`^https?://${K}/${l}/${M}`,"i"),$=[{regex:g,indices:p,postModify:c},{regex:j,indices:O,postModify:y},{regex:H,indices:{bucket:1,path:2},postModify:y}];for(let ee=0;ee<$.length;ee++){const J=$[ee],re=J.regex.exec(e);if(re){const V=re[J.indices.bucket];let N=re[J.indices.path];N||(N=""),a=new Sn(V,N),J.postModify(a);break}}if(a==null)throw MC(e);return a}}class zC{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KC(s,e,n){let a=1,l=null,c=null,d=!1,g=0;function p(){return g===2}let y=!1;function E(...M){y||(y=!0,e.apply(null,M))}function b(M){l=setTimeout(()=>{l=null,s(j,p())},M)}function w(){c&&clearTimeout(c)}function j(M,...H){if(y){w();return}if(M){w(),E.call(null,M,...H);return}if(p()||d){w(),E.call(null,M,...H);return}a<64&&(a*=2);let $;g===1?(g=2,$=0):$=(a+Math.random())*1e3,b($)}let O=!1;function K(M){O||(O=!0,w(),!y&&(l!==null?(M||(g=2),clearTimeout(l),b(0)):M||(g=1)))}return b(0),c=setTimeout(()=>{d=!0,K(!0)},n),K}function qC(s){s(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FC(s){return s!==void 0}function GC(s){return typeof s=="object"&&!Array.isArray(s)}function rp(s){return typeof s=="string"||s instanceof String}function Q0(s){return lp()&&s instanceof Blob}function lp(){return typeof Blob<"u"}function Y0(s,e,n,a){if(a<e)throw ag(`Invalid value for '${s}'. Expected ${e} or greater.`);if(a>n)throw ag(`Invalid value for '${s}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function od(s,e,n){let a=e;return n==null&&(a=`https://${e}`),`${n}://${a}/v0${s}`}function IT(s){const e=encodeURIComponent;let n="?";for(const a in s)if(s.hasOwnProperty(a)){const l=e(a)+"="+e(s[a]);n=n+l+"&"}return n=n.slice(0,-1),n}var er;(function(s){s[s.NO_ERROR=0]="NO_ERROR",s[s.NETWORK_ERROR=1]="NETWORK_ERROR",s[s.ABORT=2]="ABORT"})(er||(er={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $C(s,e){const n=s>=500&&s<600,l=[408,429].indexOf(s)!==-1,c=e.indexOf(s)!==-1;return n||l||c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e,n,a,l,c,d,g,p,y,E,b,w=!0){this.url_=e,this.method_=n,this.headers_=a,this.body_=l,this.successCodes_=c,this.additionalRetryCodes_=d,this.callback_=g,this.errorCallback_=p,this.timeout_=y,this.progressCallback_=E,this.connectionFactory_=b,this.retry=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((j,O)=>{this.resolve_=j,this.reject_=O,this.start_()})}start_(){const e=(a,l)=>{if(l){a(!1,new nh(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const d=g=>{const p=g.loaded,y=g.lengthComputable?g.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,y)};this.progressCallback_!==null&&c.addUploadProgressListener(d),c.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(d),this.pendingConnection_=null;const g=c.getErrorCode()===er.NO_ERROR,p=c.getStatus();if(!g||$C(p,this.additionalRetryCodes_)&&this.retry){const E=c.getErrorCode()===er.ABORT;a(!1,new nh(!1,null,E));return}const y=this.successCodes_.indexOf(p)!==-1;a(!0,new nh(y,c))})},n=(a,l)=>{const c=this.resolve_,d=this.reject_,g=l.connection;if(l.wasSuccessCode)try{const p=this.callback_(g,g.getResponse());FC(p)?c(p):c()}catch(p){d(p)}else if(g!==null){const p=ap();p.serverResponse=g.getErrorText(),this.errorCallback_?d(this.errorCallback_(g,p)):d(p)}else if(l.canceled){const p=this.appDelete_?kT():OC();d(p)}else{const p=DC();d(p)}};this.canceled_?n(!1,new nh(!1,null,!0)):this.backoffId_=KC(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&qC(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class nh{constructor(e,n,a){this.wasSuccessCode=e,this.connection=n,this.canceled=!!a}}function YC(s,e){e!==null&&e.length>0&&(s.Authorization="Firebase "+e)}function XC(s,e){s["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function WC(s,e){e&&(s["X-Firebase-GMPID"]=e)}function ZC(s,e){e!==null&&(s["X-Firebase-AppCheck"]=e)}function JC(s,e,n,a,l,c,d=!0){const g=IT(s.urlParams),p=s.url+g,y=Object.assign({},s.headers);return WC(y,e),YC(y,n),XC(y,c),ZC(y,a),new QC(p,s.method,y,s.body,s.successCodes,s.additionalRetryCodes,s.handler,s.errorHandler,s.timeout,s.progressCallback,l,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e1(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function t1(...s){const e=e1();if(e!==void 0){const n=new e;for(let a=0;a<s.length;a++)n.append(s[a]);return n.getBlob()}else{if(lp())return new Blob(s);throw new gt(mt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function n1(s,e,n){return s.webkitSlice?s.webkitSlice(e,n):s.mozSlice?s.mozSlice(e,n):s.slice?s.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(s){if(typeof atob>"u")throw BC("base-64");return atob(s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class jm{constructor(e,n){this.data=e,this.contentType=n||null}}function i1(s,e){switch(s){case Es.RAW:return new jm(CT(e));case Es.BASE64:case Es.BASE64URL:return new jm(jT(s,e));case Es.DATA_URL:return new jm(r1(e),l1(e))}throw ap()}function CT(s){const e=[];for(let n=0;n<s.length;n++){let a=s.charCodeAt(n);if(a<=127)e.push(a);else if(a<=2047)e.push(192|a>>6,128|a&63);else if((a&64512)===55296)if(!(n<s.length-1&&(s.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const c=a,d=s.charCodeAt(++n);a=65536|(c&1023)<<10|d&1023,e.push(240|a>>18,128|a>>12&63,128|a>>6&63,128|a&63)}else(a&64512)===56320?e.push(239,191,189):e.push(224|a>>12,128|a>>6&63,128|a&63)}return new Uint8Array(e)}function a1(s){let e;try{e=decodeURIComponent(s)}catch{throw sc(Es.DATA_URL,"Malformed data URL.")}return CT(e)}function jT(s,e){switch(s){case Es.BASE64:{const l=e.indexOf("-")!==-1,c=e.indexOf("_")!==-1;if(l||c)throw sc(s,"Invalid character '"+(l?"-":"_")+"' found: is it base64url encoded?");break}case Es.BASE64URL:{const l=e.indexOf("+")!==-1,c=e.indexOf("/")!==-1;if(l||c)throw sc(s,"Invalid character '"+(l?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=s1(e)}catch(l){throw l.message.includes("polyfill")?l:sc(s,"Invalid character found")}const a=new Uint8Array(n.length);for(let l=0;l<n.length;l++)a[l]=n.charCodeAt(l);return a}class DT{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw sc(Es.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const a=n[1]||null;a!=null&&(this.base64=o1(a,";base64"),this.contentType=this.base64?a.substring(0,a.length-7):a),this.rest=e.substring(e.indexOf(",")+1)}}function r1(s){const e=new DT(s);return e.base64?jT(Es.BASE64,e.rest):a1(e.rest)}function l1(s){return new DT(s).contentType}function o1(s,e){return s.length>=e.length?s.substring(s.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e,n){let a=0,l="";Q0(e)?(this.data_=e,a=e.size,l=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),a=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),a=e.length),this.size_=a,this.type_=l}size(){return this.size_}type(){return this.type_}slice(e,n){if(Q0(this.data_)){const a=this.data_,l=n1(a,e,n);return l===null?null:new Zi(l)}else{const a=new Uint8Array(this.data_.buffer,e,n-e);return new Zi(a,!0)}}static getBlob(...e){if(lp()){const n=e.map(a=>a instanceof Zi?a.data_:a);return new Zi(t1.apply(null,n))}else{const n=e.map(d=>rp(d)?i1(Es.RAW,d).data:d.data_);let a=0;n.forEach(d=>{a+=d.byteLength});const l=new Uint8Array(a);let c=0;return n.forEach(d=>{for(let g=0;g<d.length;g++)l[c++]=d[g]}),new Zi(l,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OT(s){let e;try{e=JSON.parse(s)}catch{return null}return GC(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1(s){if(s.length===0)return null;const e=s.lastIndexOf("/");return e===-1?"":s.slice(0,e)}function u1(s,e){const n=e.split("/").filter(a=>a.length>0).join("/");return s.length===0?n:s+"/"+n}function MT(s){const e=s.lastIndexOf("/",s.length-2);return e===-1?s:s.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h1(s,e){return e}class un{constructor(e,n,a,l){this.server=e,this.local=n||e,this.writable=!!a,this.xform=l||h1}}let sh=null;function d1(s){return!rp(s)||s.length<2?s:MT(s)}function LT(){if(sh)return sh;const s=[];s.push(new un("bucket")),s.push(new un("generation")),s.push(new un("metageneration")),s.push(new un("name","fullPath",!0));function e(c,d){return d1(d)}const n=new un("name");n.xform=e,s.push(n);function a(c,d){return d!==void 0?Number(d):d}const l=new un("size");return l.xform=a,s.push(l),s.push(new un("timeCreated")),s.push(new un("updated")),s.push(new un("md5Hash",null,!0)),s.push(new un("cacheControl",null,!0)),s.push(new un("contentDisposition",null,!0)),s.push(new un("contentEncoding",null,!0)),s.push(new un("contentLanguage",null,!0)),s.push(new un("contentType",null,!0)),s.push(new un("metadata","customMetadata",!0)),sh=s,sh}function f1(s,e){function n(){const a=s.bucket,l=s.fullPath,c=new Sn(a,l);return e._makeStorageReference(c)}Object.defineProperty(s,"ref",{get:n})}function m1(s,e,n){const a={};a.type="file";const l=n.length;for(let c=0;c<l;c++){const d=n[c];a[d.local]=d.xform(a,e[d.server])}return f1(a,s),a}function VT(s,e,n){const a=OT(e);return a===null?null:m1(s,a,n)}function g1(s,e,n,a){const l=OT(e);if(l===null||!rp(l.downloadTokens))return null;const c=l.downloadTokens;if(c.length===0)return null;const d=encodeURIComponent;return c.split(",").map(y=>{const E=s.bucket,b=s.fullPath,w="/b/"+d(E)+"/o/"+d(b),j=od(w,n,a),O=IT({alt:"media",token:y});return j+O})[0]}function p1(s,e){const n={},a=e.length;for(let l=0;l<a;l++){const c=e[l];c.writable&&(n[c.server]=s[c.local])}return JSON.stringify(n)}class op{constructor(e,n,a,l){this.url=e,this.method=n,this.handler=a,this.timeout=l,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(s){if(!s)throw ap()}function y1(s,e){function n(a,l){const c=VT(s,l,e);return PT(c!==null),c}return n}function _1(s,e){function n(a,l){const c=VT(s,l,e);return PT(c!==null),g1(c,l,s.host,s._protocol)}return n}function UT(s){function e(n,a){let l;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?l=CC():l=IC():n.getStatus()===402?l=kC(s.bucket):n.getStatus()===403?l=jC(s.path):l=a,l.status=n.getStatus(),l.serverResponse=a.serverResponse,l}return e}function BT(s){const e=UT(s);function n(a,l){let c=e(a,l);return a.getStatus()===404&&(c=RC(s.path)),c.serverResponse=l.serverResponse,c}return n}function v1(s,e,n){const a=e.fullServerUrl(),l=od(a,s.host,s._protocol),c="GET",d=s.maxOperationRetryTime,g=new op(l,c,_1(s,n),d);return g.errorHandler=BT(e),g}function x1(s,e){const n=e.fullServerUrl(),a=od(n,s.host,s._protocol),l="DELETE",c=s.maxOperationRetryTime;function d(p,y){}const g=new op(a,l,d,c);return g.successCodes=[200,204],g.errorHandler=BT(e),g}function E1(s,e){return s&&s.contentType||e&&e.type()||"application/octet-stream"}function T1(s,e,n){const a=Object.assign({},n);return a.fullPath=s.path,a.size=e.size(),a.contentType||(a.contentType=E1(null,e)),a}function b1(s,e,n,a,l){const c=e.bucketOnlyServerUrl(),d={"X-Goog-Upload-Protocol":"multipart"};function g(){let $="";for(let ee=0;ee<2;ee++)$=$+Math.random().toString().slice(2);return $}const p=g();d["Content-Type"]="multipart/related; boundary="+p;const y=T1(e,a,l),E=p1(y,n),b="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+E+`\r
--`+p+`\r
Content-Type: `+y.contentType+`\r
\r
`,w=`\r
--`+p+"--",j=Zi.getBlob(b,a,w);if(j===null)throw PC();const O={name:y.fullPath},K=od(c,s.host,s._protocol),M="POST",H=s.maxUploadRetryTime,G=new op(K,M,y1(s,n),H);return G.urlParams=O,G.headers=d,G.body=j.uploadData(),G.errorHandler=UT(e),G}class A1{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=er.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=er.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=er.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,a,l){if(this.sent_)throw Go("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),l!==void 0)for(const c in l)l.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,l[c].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Go("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Go("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Go("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Go("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class w1 extends A1{initXhr(){this.xhr_.responseType="text"}}function cp(){return new w1}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e,n){this._service=e,n instanceof Sn?this._location=n:this._location=Sn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ar(e,n)}get root(){const e=new Sn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return MT(this._location.path)}get storage(){return this._service}get parent(){const e=c1(this._location.path);if(e===null)return null;const n=new Sn(this._location.bucket,e);return new ar(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw HC(e)}}function S1(s,e,n){s._throwIfRoot("uploadBytes");const a=b1(s.storage,s._location,LT(),new Zi(e,!0),n);return s.storage.makeRequestWithTokens(a,cp).then(l=>({metadata:l,ref:s}))}function N1(s){s._throwIfRoot("getDownloadURL");const e=v1(s.storage,s._location,LT());return s.storage.makeRequestWithTokens(e,cp).then(n=>{if(n===null)throw UC();return n})}function R1(s){s._throwIfRoot("deleteObject");const e=x1(s.storage,s._location);return s.storage.makeRequestWithTokens(e,cp)}function k1(s,e){const n=u1(s._location.path,e),a=new Sn(s._location.bucket,n);return new ar(s.storage,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1(s){return/^[A-Za-z]+:\/\//.test(s)}function C1(s,e){return new ar(s,e)}function HT(s,e){if(s instanceof up){const n=s;if(n._bucket==null)throw VC();const a=new ar(n,n._bucket);return e!=null?HT(a,e):a}else return e!==void 0?k1(s,e):s}function j1(s,e){if(e&&I1(e)){if(s instanceof up)return C1(s,e);throw ag("To use ref(service, url), the first argument must be a Storage instance.")}else return HT(s,e)}function X0(s,e){const n=e==null?void 0:e[RT];return n==null?null:Sn.makeFromBucketSpec(n,s)}function D1(s,e,n,a={}){s.host=`${e}:${n}`,s._protocol="http";const{mockUserToken:l}=a;l&&(s._overrideAuthToken=typeof l=="string"?l:Bx(l,s.app.options.projectId))}class up{constructor(e,n,a,l,c){this.app=e,this._authProvider=n,this._appCheckProvider=a,this._url=l,this._firebaseVersion=c,this._bucket=null,this._host=NT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=SC,this._maxUploadRetryTime=NC,this._requests=new Set,l!=null?this._bucket=Sn.makeFromBucketSpec(l,this._host):this._bucket=X0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Sn.makeFromBucketSpec(this._url,e):this._bucket=X0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Y0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Y0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(An(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ar(this,e)}_makeRequest(e,n,a,l,c=!0){if(this._deleted)return new zC(kT());{const d=JC(e,this._appId,a,l,n,this._firebaseVersion,c);return this._requests.add(d),d.getPromise().then(()=>this._requests.delete(d),()=>this._requests.delete(d)),d}}async makeRequestWithTokens(e,n){const[a,l]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,a,l).getPromise()}}const W0="@firebase/storage",Z0="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT="storage";function cd(s,e,n){return s=it(s),S1(s,e,n)}function hp(s){return s=it(s),N1(s)}function dp(s){return s=it(s),R1(s)}function rr(s,e){return s=it(s),j1(s,e)}function KT(s=Tg(),e){s=it(s);const a=zh(s,zT).getImmediate({identifier:e}),l=Vx("storage");return l&&O1(a,...l),a}function O1(s,e,n,a={}){D1(s,e,n,a)}function M1(s,{instanceIdentifier:e}){const n=s.getProvider("app").getImmediate(),a=s.getProvider("auth-internal"),l=s.getProvider("app-check-internal");return new up(n,a,l,e,ur)}function L1(){nr(new ua(zT,M1,"PUBLIC").setMultipleInstances(!0)),Ts(W0,Z0,""),Ts(W0,Z0,"esm2017")}L1();function fp(s,e){var n={};for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&e.indexOf(a)<0&&(n[a]=s[a]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(s);l<a.length;l++)e.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(s,a[l])&&(n[a[l]]=s[a[l]]);return n}function qT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const V1=qT,FT=new pc("auth","Firebase",qT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oh=new xg("@firebase/auth");function P1(s,...e){Oh.logLevel<=Le.WARN&&Oh.warn(`Auth (${ur}): ${s}`,...e)}function mh(s,...e){Oh.logLevel<=Le.ERROR&&Oh.error(`Auth (${ur}): ${s}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(s,...e){throw mp(s,...e)}function ws(s,...e){return mp(s,...e)}function GT(s,e,n){const a=Object.assign(Object.assign({},V1()),{[e]:n});return new pc("auth","Firebase",a).create(e,{appName:s.name})}function li(s){return GT(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mp(s,...e){if(typeof s!="string"){const n=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(n,...a)}return FT.create(s,...e)}function Te(s,e,...n){if(!s)throw mp(e,...n)}function ni(s){const e="INTERNAL ASSERTION FAILED: "+s;throw mh(e),new Error(e)}function hi(s,e){s||ni(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rg(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.href)||""}function U1(){return J0()==="http:"||J0()==="https:"}function J0(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(U1()||GS()||"connection"in navigator)?navigator.onLine:!0}function H1(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,n){this.shortDelay=e,this.longDelay=n,hi(n>e,"Short delay should be less than long delay!"),this.isMobile=KS()||$S()}get(){return B1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gp(s,e){hi(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{static initialize(e,n,a){this.fetchImpl=e,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ni("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ni("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ni("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1=new Ac(3e4,6e4);function va(s,e){return s.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:s.tenantId}):e}async function fi(s,e,n,a,l={}){return QT(s,l,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const g=yc(Object.assign({key:s.config.apiKey},d)).slice(1),p=await s._getAdditionalHeaders();p["Content-Type"]="application/json",s.languageCode&&(p["X-Firebase-Locale"]=s.languageCode);const y=Object.assign({method:e,headers:p},c);return FS()||(y.referrerPolicy="no-referrer"),$T.fetch()(YT(s,s.config.apiHost,n,g),y)})}async function QT(s,e,n){s._canInitEmulator=!1;const a=Object.assign(Object.assign({},z1),e);try{const l=new F1(s),c=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw ih(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[p,y]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw ih(s,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw ih(s,"email-already-in-use",d);if(p==="USER_DISABLED")throw ih(s,"user-disabled",d);const E=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw GT(s,E,y);ts(s,E)}}catch(l){if(l instanceof Rs)throw l;ts(s,"network-request-failed",{message:String(l)})}}async function wc(s,e,n,a,l={}){const c=await fi(s,e,n,a,l);return"mfaPendingCredential"in c&&ts(s,"multi-factor-auth-required",{_serverResponse:c}),c}function YT(s,e,n,a){const l=`${e}${n}?${a}`;return s.config.emulator?gp(s.config,l):`${s.config.apiScheme}://${l}`}function q1(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class F1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(ws(this.auth,"network-request-failed")),K1.get())})}}function ih(s,e,n){const a={appName:s.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const l=ws(s,e,a);return l.customData._tokenResponse=n,l}function ex(s){return s!==void 0&&s.enterprise!==void 0}class G1{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return q1(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function $1(s,e){return fi(s,"GET","/v2/recaptchaConfig",va(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q1(s,e){return fi(s,"POST","/v1/accounts:delete",e)}async function XT(s,e){return fi(s,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ic(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Y1(s,e=!1){const n=it(s),a=await n.getIdToken(e),l=pp(a);Te(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c==null?void 0:c.sign_in_provider;return{claims:l,token:a,authTime:ic(Dm(l.auth_time)),issuedAtTime:ic(Dm(l.iat)),expirationTime:ic(Dm(l.exp)),signInProvider:d||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function Dm(s){return Number(s)*1e3}function pp(s){const[e,n,a]=s.split(".");if(e===void 0||n===void 0||a===void 0)return mh("JWT malformed, contained fewer than 3 sections"),null;try{const l=Mx(n);return l?JSON.parse(l):(mh("Failed to decode base64 JWT payload"),null)}catch(l){return mh("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function tx(s){const e=pp(s);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Al(s,e,n=!1){if(n)return e;try{return await e}catch(a){throw a instanceof Rs&&X1(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function X1({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const l=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ic(this.lastLoginAt),this.creationTime=ic(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mh(s){var e;const n=s.auth,a=await s.getIdToken(),l=await Al(s,XT(n,{idToken:a}));Te(l==null?void 0:l.users.length,n,"internal-error");const c=l.users[0];s._notifyReloadListener(c);const d=!((e=c.providerUserInfo)===null||e===void 0)&&e.length?WT(c.providerUserInfo):[],g=J1(s.providerData,d),p=s.isAnonymous,y=!(s.email&&c.passwordHash)&&!(g!=null&&g.length),E=p?y:!1,b={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:g,metadata:new lg(c.createdAt,c.lastLoginAt),isAnonymous:E};Object.assign(s,b)}async function Z1(s){const e=it(s);await Mh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function J1(s,e){return[...s.filter(a=>!e.some(l=>l.providerId===a.providerId)),...e]}function WT(s){return s.map(e=>{var{providerId:n}=e,a=fp(e,["providerId"]);return{providerId:n,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ej(s,e){const n=await QT(s,{},async()=>{const a=yc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=YT(s,l,"/v1/token",`key=${c}`),g=await s._getAdditionalHeaders();return g["Content-Type"]="application/x-www-form-urlencoded",$T.fetch()(d,{method:"POST",headers:g,body:a})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function tj(s,e){return fi(s,"POST","/v2/accounts:revokeToken",va(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):tx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const n=tx(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:a,refreshToken:l,expiresIn:c}=await ej(e,n);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(e,n,a){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,n){const{refreshToken:a,accessToken:l,expirationTime:c}=n,d=new fl;return a&&(Te(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),l&&(Te(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(Te(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fl,this.toJSON())}_performRefresh(){return ni("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wi(s,e){Te(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class si{constructor(e){var{uid:n,auth:a,stsTokenManager:l}=e,c=fp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new W1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=a,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new lg(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(e){const n=await Al(this,this.stsTokenManager.getToken(this.auth,e));return Te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Y1(this,e)}reload(){return Z1(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new si(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),n&&await Mh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(An(this.auth.app))return Promise.reject(li(this.auth));const e=await this.getIdToken();return await Al(this,Q1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var a,l,c,d,g,p,y,E;const b=(a=n.displayName)!==null&&a!==void 0?a:void 0,w=(l=n.email)!==null&&l!==void 0?l:void 0,j=(c=n.phoneNumber)!==null&&c!==void 0?c:void 0,O=(d=n.photoURL)!==null&&d!==void 0?d:void 0,K=(g=n.tenantId)!==null&&g!==void 0?g:void 0,M=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,H=(y=n.createdAt)!==null&&y!==void 0?y:void 0,G=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:$,emailVerified:ee,isAnonymous:J,providerData:re,stsTokenManager:V}=n;Te($&&V,e,"internal-error");const N=fl.fromJSON(this.name,V);Te(typeof $=="string",e,"internal-error"),Wi(b,e.name),Wi(w,e.name),Te(typeof ee=="boolean",e,"internal-error"),Te(typeof J=="boolean",e,"internal-error"),Wi(j,e.name),Wi(O,e.name),Wi(K,e.name),Wi(M,e.name),Wi(H,e.name),Wi(G,e.name);const S=new si({uid:$,auth:e,email:w,emailVerified:ee,displayName:b,isAnonymous:J,photoURL:O,phoneNumber:j,tenantId:K,stsTokenManager:N,createdAt:H,lastLoginAt:G});return re&&Array.isArray(re)&&(S.providerData=re.map(k=>Object.assign({},k))),M&&(S._redirectEventId=M),S}static async _fromIdTokenResponse(e,n,a=!1){const l=new fl;l.updateFromServerResponse(n);const c=new si({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:a});return await Mh(c),c}static async _fromGetAccountInfoResponse(e,n,a){const l=n.users[0];Te(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?WT(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!(c!=null&&c.length),g=new fl;g.updateFromIdToken(a);const p=new si({uid:l.localId,auth:e,stsTokenManager:g,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new lg(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(c!=null&&c.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx=new Map;function ii(s){hi(s instanceof Function,"Expected a class definition");let e=nx.get(s);return e?(hi(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,nx.set(s,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ZT.type="NONE";const sx=ZT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gh(s,e,n){return`firebase:${s}:${e}:${n}`}class ml{constructor(e,n,a){this.persistence=e,this.auth=n,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=gh(this.userKey,l.apiKey,c),this.fullPersistenceKey=gh("persistence",l.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?si._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,a="authUser"){if(!n.length)return new ml(ii(sx),e,a);const l=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||ii(sx);const d=gh(a,e.config.apiKey,e.name);let g=null;for(const y of n)try{const E=await y._get(d);if(E){const b=si._fromJSON(e,E);y!==c&&(g=b),c=y;break}}catch{}const p=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new ml(c,e,a):(c=p[0],g&&await c._set(d,g.toJSON()),await Promise.all(n.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new ml(c,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ix(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(nb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(JT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ib(e))return"Blackberry";if(ab(e))return"Webos";if(eb(e))return"Safari";if((e.includes("chrome/")||tb(e))&&!e.includes("edge/"))return"Chrome";if(sb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(n);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function JT(s=nn()){return/firefox\//i.test(s)}function eb(s=nn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function tb(s=nn()){return/crios\//i.test(s)}function nb(s=nn()){return/iemobile/i.test(s)}function sb(s=nn()){return/android/i.test(s)}function ib(s=nn()){return/blackberry/i.test(s)}function ab(s=nn()){return/webos/i.test(s)}function yp(s=nn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function nj(s=nn()){var e;return yp(s)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function sj(){return QS()&&document.documentMode===10}function rb(s=nn()){return yp(s)||sb(s)||ab(s)||ib(s)||/windows phone/i.test(s)||nb(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lb(s,e=[]){let n;switch(s){case"Browser":n=ix(nn());break;case"Worker":n=`${ix(nn())}-${s}`;break;default:n=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ur}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const a=c=>new Promise((d,g)=>{try{const p=e(c);d(p)}catch(p){g(p)}});a.onAbort=n,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const a of this.queue)await a(e),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aj(s,e={}){return fi(s,"GET","/v2/passwordPolicy",va(s,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rj=6;class lj{constructor(e){var n,a,l,c;const d=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=d.minPasswordLength)!==null&&n!==void 0?n:rj,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(a=e.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(c=e.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,a,l,c,d,g;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(a=p.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(l=p.containsLowercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsUppercaseLetter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(d=p.containsNumericCharacter)!==null&&d!==void 0?d:!0),p.isValid&&(p.isValid=(g=p.containsNonAlphanumericCharacter)!==null&&g!==void 0?g:!0),p}validatePasswordLengthOptions(e,n){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=e.length>=a),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let l=0;l<e.length;l++)a=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,n,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj{constructor(e,n,a,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ax(this),this.idTokenSubscription=new ax(this),this.beforeStateQueue=new ij(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=FT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ii(n)),this._initializationPromise=this.queue(async()=>{var a,l;if(!this._deleted&&(this.persistenceManager=await ml.create(this,e),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await XT(this,{idToken:e}),a=await si._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(An(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(g,g))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let l=a,c=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,g=l==null?void 0:l._redirectEventId,p=await this.tryRedirectSignIn(e);(!d||d===g)&&(p!=null&&p.user)&&(l=p.user,c=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(l)}catch(d){l=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Mh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=H1()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(An(this.app))return Promise.reject(li(this));const n=e?it(e):null;return n&&Te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return An(this.app)?Promise.reject(li(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return An(this.app)?Promise.reject(li(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ii(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await aj(this),n=new lj(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new pc("auth","Firebase",e())}onAuthStateChanged(e,n,a){return this.registerStateListener(this.authStateSubscription,e,n,a)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,a){return this.registerStateListener(this.idTokenSubscription,e,n,a)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await tj(this,a)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const a=await this.getOrInitRedirectPersistenceManager(n);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ii(e)||this._popupRedirectResolver;Te(n,this,"argument-error"),this.redirectPersistenceManager=await ml.create(this,[ii(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,a;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,a,l){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,a,l);return()=>{d=!0,p()}}else{const p=e.addObserver(n);return()=>{d=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=lb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const a=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());a&&(n["X-Firebase-Client"]=a);const l=await this._getAppCheckToken();return l&&(n["X-Firebase-AppCheck"]=l),n}async _getAppCheckToken(){var e;if(An(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&P1(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function mr(s){return it(s)}class ax{constructor(e){this.auth=e,this.observer=null,this.addObserver=nN(n=>this.observer=n)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ud={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cj(s){ud=s}function ob(s){return ud.loadJS(s)}function uj(){return ud.recaptchaEnterpriseScript}function hj(){return ud.gapiScript}function dj(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class fj{constructor(){this.enterprise=new mj}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class mj{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const gj="recaptcha-enterprise",cb="NO_RECAPTCHA";class pj{constructor(e){this.type=gj,this.auth=mr(e)}async verify(e="verify",n=!1){async function a(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,g)=>{$1(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const y=new G1(p);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,d(y.siteKey)}}).catch(p=>{g(p)})})}function l(c,d,g){const p=window.grecaptcha;ex(p)?p.enterprise.ready(()=>{p.enterprise.execute(c,{action:e}).then(y=>{d(y)}).catch(()=>{d(cb)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new fj().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{a(this.auth).then(g=>{if(!n&&ex(window.grecaptcha))l(g,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let p=uj();p.length!==0&&(p+=g),ob(p).then(()=>{l(g,c,d)}).catch(y=>{d(y)})}}).catch(g=>{d(g)})})}}async function rx(s,e,n,a=!1,l=!1){const c=new pj(s);let d;if(l)d=cb;else try{d=await c.verify(n)}catch{d=await c.verify(n,!0)}const g=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const p=g.phoneEnrollmentInfo.phoneNumber,y=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const p=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return a?Object.assign(g,{captchaResp:d}):Object.assign(g,{captchaResponse:d}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function og(s,e,n,a,l){var c;if(!((c=s._getRecaptchaConfig())===null||c===void 0)&&c.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const d=await rx(s,e,n,n==="getOobCode");return a(s,d)}else return a(s,e).catch(async d=>{if(d.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const g=await rx(s,e,n,n==="getOobCode");return a(s,g)}else return Promise.reject(d)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yj(s,e){const n=zh(s,"auth");if(n.isInitialized()){const l=n.getImmediate(),c=n.getOptions();if(tr(c,e??{}))return l;ts(l,"already-initialized")}return n.initialize({options:e})}function _j(s,e){const n=(e==null?void 0:e.persistence)||[],a=(Array.isArray(n)?n:[n]).map(ii);e!=null&&e.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e==null?void 0:e.popupRedirectResolver)}function vj(s,e,n){const a=mr(s);Te(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const l=!1,c=ub(e),{host:d,port:g}=xj(e),p=g===null?"":`:${g}`,y={url:`${c}//${d}${p}/`},E=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){Te(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Te(tr(y,a.config.emulator)&&tr(E,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=E,a.settings.appVerificationDisabledForTesting=!0,Ej()}function ub(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function xj(s){const e=ub(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:lx(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:lx(d)}}}function lx(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function Ej(){function s(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ni("not implemented")}_getIdTokenResponse(e){return ni("not implemented")}_linkToIdToken(e,n){return ni("not implemented")}_getReauthenticationResolver(e){return ni("not implemented")}}async function Tj(s,e){return fi(s,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bj(s,e){return wc(s,"POST","/v1/accounts:signInWithPassword",va(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Aj(s,e){return wc(s,"POST","/v1/accounts:signInWithEmailLink",va(s,e))}async function wj(s,e){return wc(s,"POST","/v1/accounts:signInWithEmailLink",va(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc extends _p{constructor(e,n,a,l=null){super("password",a),this._email=e,this._password=n,this._tenantId=l}static _fromEmailAndPassword(e,n){return new fc(e,n,"password")}static _fromEmailAndCode(e,n,a=null){return new fc(e,n,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return og(e,n,"signInWithPassword",bj);case"emailLink":return Aj(e,{email:this._email,oobCode:this._password});default:ts(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const a={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return og(e,a,"signUpPassword",Tj);case"emailLink":return wj(e,{idToken:n,email:this._email,oobCode:this._password});default:ts(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gl(s,e){return wc(s,"POST","/v1/accounts:signInWithIdp",va(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sj="http://localhost";class lr extends _p{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new lr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ts("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:l}=n,c=fp(n,["providerId","signInMethod"]);if(!a||!l)return null;const d=new lr(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return gl(e,n)}_linkToIdToken(e,n){const a=this.buildRequest();return a.idToken=n,gl(e,a)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,gl(e,n)}buildRequest(){const e={requestUri:Sj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=yc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nj(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Rj(s){const e=$o(Qo(s)).link,n=e?$o(Qo(e)).deep_link_id:null,a=$o(Qo(s)).deep_link_id;return(a?$o(Qo(a)).link:null)||a||n||e||s}class vp{constructor(e){var n,a,l,c,d,g;const p=$o(Qo(e)),y=(n=p.apiKey)!==null&&n!==void 0?n:null,E=(a=p.oobCode)!==null&&a!==void 0?a:null,b=Nj((l=p.mode)!==null&&l!==void 0?l:null);Te(y&&E&&b,"argument-error"),this.apiKey=y,this.operation=b,this.code=E,this.continueUrl=(c=p.continueUrl)!==null&&c!==void 0?c:null,this.languageCode=(d=p.languageCode)!==null&&d!==void 0?d:null,this.tenantId=(g=p.tenantId)!==null&&g!==void 0?g:null}static parseLink(e){const n=Rj(e);try{return new vp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(){this.providerId=Ol.PROVIDER_ID}static credential(e,n){return fc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const a=vp.parseLink(n);return Te(a,"argument-error"),fc._fromEmailAndCode(e,a.code,a.tenantId)}}Ol.PROVIDER_ID="password";Ol.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ol.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc extends hb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji extends Sc{constructor(){super("facebook.com")}static credential(e){return lr._fromParams({providerId:Ji.PROVIDER_ID,signInMethod:Ji.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ji.credentialFromTaggedObject(e)}static credentialFromError(e){return Ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ji.credential(e.oauthAccessToken)}catch{return null}}}Ji.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ji.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea extends Sc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return lr._fromParams({providerId:ea.PROVIDER_ID,signInMethod:ea.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ea.credentialFromTaggedObject(e)}static credentialFromError(e){return ea.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:a}=e;if(!n&&!a)return null;try{return ea.credential(n,a)}catch{return null}}}ea.GOOGLE_SIGN_IN_METHOD="google.com";ea.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta extends Sc{constructor(){super("github.com")}static credential(e){return lr._fromParams({providerId:ta.PROVIDER_ID,signInMethod:ta.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ta.credentialFromTaggedObject(e)}static credentialFromError(e){return ta.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ta.credential(e.oauthAccessToken)}catch{return null}}}ta.GITHUB_SIGN_IN_METHOD="github.com";ta.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na extends Sc{constructor(){super("twitter.com")}static credential(e,n){return lr._fromParams({providerId:na.PROVIDER_ID,signInMethod:na.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return na.credentialFromTaggedObject(e)}static credentialFromError(e){return na.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=e;if(!n||!a)return null;try{return na.credential(n,a)}catch{return null}}}na.TWITTER_SIGN_IN_METHOD="twitter.com";na.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kj(s,e){return wc(s,"POST","/v1/accounts:signUp",va(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,a,l=!1){const c=await si._fromIdTokenResponse(e,a,l),d=ox(a);return new or({user:c,providerId:d,_tokenResponse:a,operationType:n})}static async _forOperation(e,n,a){await e._updateTokensIfNecessary(a,!0);const l=ox(a);return new or({user:e,providerId:l,_tokenResponse:a,operationType:n})}}function ox(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh extends Rs{constructor(e,n,a,l){var c;super(n.code,n.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Lh.prototype),this.customData={appName:e.name,tenantId:(c=e.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,n,a,l){return new Lh(e,n,a,l)}}function db(s,e,n,a){return(e==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Lh._fromErrorAndOperation(s,c,e,a):c})}async function Ij(s,e,n=!1){const a=await Al(s,e._linkToIdToken(s.auth,await s.getIdToken()),n);return or._forOperation(s,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cj(s,e,n=!1){const{auth:a}=s;if(An(a.app))return Promise.reject(li(a));const l="reauthenticate";try{const c=await Al(s,db(a,l,e,s),n);Te(c.idToken,a,"internal-error");const d=pp(c.idToken);Te(d,a,"internal-error");const{sub:g}=d;return Te(s.uid===g,a,"user-mismatch"),or._forOperation(s,l,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&ts(a,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fb(s,e,n=!1){if(An(s.app))return Promise.reject(li(s));const a="signIn",l=await db(s,a,e),c=await or._fromIdTokenResponse(s,a,l);return n||await s._updateCurrentUser(c.user),c}async function jj(s,e){return fb(mr(s),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mb(s){const e=mr(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Dj(s,e,n){if(An(s.app))return Promise.reject(li(s));const a=mr(s),d=await og(a,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",kj).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&mb(s),p}),g=await or._fromIdTokenResponse(a,"signIn",d);return await a._updateCurrentUser(g.user),g}function Oj(s,e,n){return An(s.app)?Promise.reject(li(s)):jj(it(s),Ol.credential(e,n)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&mb(s),a})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mj(s,e){return fi(s,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lj(s,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const a=it(s),c={idToken:await a.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},d=await Al(a,Mj(a.auth,c));a.displayName=d.displayName||null,a.photoURL=d.photoUrl||null;const g=a.providerData.find(({providerId:p})=>p==="password");g&&(g.displayName=a.displayName,g.photoURL=a.photoURL),await a._updateTokensIfNecessary(d)}function Vj(s,e,n,a){return it(s).onIdTokenChanged(e,n,a)}function Pj(s,e,n){return it(s).beforeAuthStateChanged(e,n)}function Uj(s,e,n,a){return it(s).onAuthStateChanged(e,n,a)}function Bj(s){return it(s).signOut()}const Vh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Vh,"1"),this.storage.removeItem(Vh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hj=1e3,zj=10;class pb extends gb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=rb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),l=this.localCache[n];a!==l&&e(n,l,a)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,g,p)=>{this.notifyListeners(d,p)});return}const a=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!n&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);sj()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,zj):l()}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:a}),!0)})},Hj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}pb.type="LOCAL";const Kj=pb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb extends gb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}yb.type="SESSION";const _b=yb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qj(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const a=new hd(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:a,eventType:l,data:c}=n.data,d=this.handlersMap[l];if(!(d!=null&&d.size))return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const g=Array.from(d).map(async y=>y(n.origin,c)),p=await qj(g);n.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xp(s="",e=10){let n="";for(let a=0;a<e;a++)n+=Math.floor(Math.random()*10);return s+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,p)=>{const y=xp("",20);l.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(b){const w=b;if(w.data.eventId===y)switch(w.data.status){case"ack":clearTimeout(E),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(w.data.response);break;default:clearTimeout(E),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ss(){return window}function Gj(s){Ss().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vb(){return typeof Ss().WorkerGlobalScope<"u"&&typeof Ss().importScripts=="function"}async function $j(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Qj(){var s;return((s=navigator==null?void 0:navigator.serviceWorker)===null||s===void 0?void 0:s.controller)||null}function Yj(){return vb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb="firebaseLocalStorageDb",Xj=1,Ph="firebaseLocalStorage",Eb="fbase_key";class Nc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function dd(s,e){return s.transaction([Ph],e?"readwrite":"readonly").objectStore(Ph)}function Wj(){const s=indexedDB.deleteDatabase(xb);return new Nc(s).toPromise()}function cg(){const s=indexedDB.open(xb,Xj);return new Promise((e,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(Ph,{keyPath:Eb})}catch(l){n(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(Ph)?e(a):(a.close(),await Wj(),e(await cg()))})})}async function cx(s,e,n){const a=dd(s,!0).put({[Eb]:e,value:n});return new Nc(a).toPromise()}async function Zj(s,e){const n=dd(s,!1).get(e),a=await new Nc(n).toPromise();return a===void 0?null:a.value}function ux(s,e){const n=dd(s,!0).delete(e);return new Nc(n).toPromise()}const Jj=800,e2=3;class Tb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(n++>e2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hd._getInstance(Yj()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await $j(),!this.activeServiceWorker)return;this.sender=new Fj(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((e=a[0])===null||e===void 0)&&e.fulfilled&&!((n=a[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Qj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await cg();return await cx(e,Vh,"1"),await ux(e,Vh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>cx(a,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(a=>Zj(a,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>ux(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=dd(l,!1).getAll();return new Nc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Jj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Tb.type="LOCAL";const t2=Tb;new Ac(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(s,e){return e?ii(e):(Te(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep extends _p{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return gl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return gl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return gl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function s2(s){return fb(s.auth,new Ep(s),s.bypassAuthState)}function i2(s){const{auth:e,user:n}=s;return Te(n,e,"internal-error"),Cj(n,new Ep(s),s.bypassAuthState)}async function a2(s){const{auth:e,user:n}=s;return Te(n,e,"internal-error"),Ij(n,new Ep(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(e,n,a,l,c=!1){this.auth=e,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:a,postBody:l,tenantId:c,error:d,type:g}=e;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:n,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return s2;case"linkViaPopup":case"linkViaRedirect":return a2;case"reauthViaPopup":case"reauthViaRedirect":return i2;default:ts(this.auth,"internal-error")}}resolve(e){hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2=new Ac(2e3,1e4);class hl extends bb{constructor(e,n,a,l,c){super(e,n,l,c),this.provider=a,this.authWindow=null,this.pollId=null,hl.currentPopupAction&&hl.currentPopupAction.cancel(),hl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){hi(this.filter.length===1,"Popup operations only handle one event");const e=xp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ws(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ws(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,hl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,a;if(!((a=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ws(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,r2.get())};e()}}hl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2="pendingRedirect",ph=new Map;class o2 extends bb{constructor(e,n,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let e=ph.get(this.auth._key());if(!e){try{const a=await c2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(n){e=()=>Promise.reject(n)}ph.set(this.auth._key(),e)}return this.bypassAuthState||ph.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function c2(s,e){const n=d2(e),a=h2(s);if(!await a._isAvailable())return!1;const l=await a._get(n)==="true";return await a._remove(n),l}function u2(s,e){ph.set(s._key(),e)}function h2(s){return ii(s._redirectPersistence)}function d2(s){return gh(l2,s.config.apiKey,s.name)}async function f2(s,e,n=!1){if(An(s.app))return Promise.reject(li(s));const a=mr(s),l=n2(a,e),d=await new o2(a,l,n).execute();return d&&!n&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2=10*60*1e3;class g2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(n=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!p2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var a;if(e.error&&!Ab(e)){const l=((a=e.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";n.onError(ws(this.auth,l))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const a=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=m2&&this.cachedEventUids.clear(),this.cachedEventUids.has(hx(e))}saveEventToCache(e){this.cachedEventUids.add(hx(e)),this.lastProcessedEventTime=Date.now()}}function hx(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function Ab({type:s,error:e}){return s==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function p2(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ab(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y2(s,e={}){return fi(s,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,v2=/^https?/;async function x2(s){if(s.config.emulator)return;const{authorizedDomains:e}=await y2(s);for(const n of e)try{if(E2(n))return}catch{}ts(s,"unauthorized-domain")}function E2(s){const e=rg(),{protocol:n,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===a}if(!v2.test(n))return!1;if(_2.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2=new Ac(3e4,6e4);function dx(){const s=Ss().___jsl;if(s!=null&&s.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function b2(s){return new Promise((e,n)=>{var a,l,c;function d(){dx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{dx(),n(ws(s,"network-request-failed"))},timeout:T2.get()})}if(!((l=(a=Ss().gapi)===null||a===void 0?void 0:a.iframes)===null||l===void 0)&&l.Iframe)e(gapi.iframes.getContext());else if(!((c=Ss().gapi)===null||c===void 0)&&c.load)d();else{const g=dj("iframefcb");return Ss()[g]=()=>{gapi.load?d():n(ws(s,"network-request-failed"))},ob(`${hj()}?onload=${g}`).catch(p=>n(p))}}).catch(e=>{throw yh=null,e})}let yh=null;function A2(s){return yh=yh||b2(s),yh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2=new Ac(5e3,15e3),S2="__/auth/iframe",N2="emulator/auth/iframe",R2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},k2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function I2(s){const e=s.config;Te(e.authDomain,s,"auth-domain-config-required");const n=e.emulator?gp(e,N2):`https://${s.config.authDomain}/${S2}`,a={apiKey:e.apiKey,appName:s.name,v:ur},l=k2.get(s.config.apiHost);l&&(a.eid=l);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${n}?${yc(a).slice(1)}`}async function C2(s){const e=await A2(s),n=Ss().gapi;return Te(n,s,"internal-error"),e.open({where:document.body,url:I2(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:R2,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=ws(s,"network-request-failed"),g=Ss().setTimeout(()=>{c(d)},w2.get());function p(){Ss().clearTimeout(g),l(a)}a.ping(p).then(p,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},D2=500,O2=600,M2="_blank",L2="http://localhost";class fx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function V2(s,e,n,a=D2,l=O2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const p=Object.assign(Object.assign({},j2),{width:a.toString(),height:l.toString(),top:c,left:d}),y=nn().toLowerCase();n&&(g=tb(y)?M2:n),JT(y)&&(e=e||L2,p.scrollbars="yes");const E=Object.entries(p).reduce((w,[j,O])=>`${w}${j}=${O},`,"");if(nj(y)&&g!=="_self")return P2(e||"",g),new fx(null);const b=window.open(e||"",g,E);Te(b,s,"popup-blocked");try{b.focus()}catch{}return new fx(b)}function P2(s,e){const n=document.createElement("a");n.href=s,n.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2="__/auth/handler",B2="emulator/auth/handler",H2=encodeURIComponent("fac");async function mx(s,e,n,a,l,c){Te(s.config.authDomain,s,"auth-domain-config-required"),Te(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:a,v:ur,eventId:l};if(e instanceof hb){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",tN(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,b]of Object.entries({}))d[E]=b}if(e instanceof Sc){const E=e.getScopes().filter(b=>b!=="");E.length>0&&(d.scopes=E.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const E of Object.keys(g))g[E]===void 0&&delete g[E];const p=await s._getAppCheckToken(),y=p?`#${H2}=${encodeURIComponent(p)}`:"";return`${z2(s)}?${yc(g).slice(1)}${y}`}function z2({config:s}){return s.emulator?gp(s,B2):`https://${s.authDomain}/${U2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om="webStorageSupport";class K2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_b,this._completeRedirectFn=f2,this._overrideRedirectResult=u2}async _openPopup(e,n,a,l){var c;hi((c=this.eventManagers[e._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const d=await mx(e,n,a,rg(),l);return V2(e,d,xp())}async _openRedirect(e,n,a,l){await this._originValidation(e);const c=await mx(e,n,a,rg(),l);return Gj(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:c}=this.eventManagers[n];return l?Promise.resolve(l):(hi(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(e){const n=await C2(e),a=new g2(e);return n.register("authEvent",l=>(Te(l==null?void 0:l.authEvent,e,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=n,a}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Om,{type:Om},l=>{var c;const d=(c=l==null?void 0:l[0])===null||c===void 0?void 0:c[Om];d!==void 0&&n(!!d),ts(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=x2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return rb()||eb()||yp()}}const q2=K2;var gx="@firebase/auth",px="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(a=>{e((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G2(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $2(s){nr(new ua("auth",(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;Te(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lb(s)},y=new oj(a,l,c,p);return _j(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,a)=>{e.getProvider("auth-internal").initialize()})),nr(new ua("auth-internal",e=>{const n=mr(e.getProvider("auth").getImmediate());return(a=>new F2(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ts(gx,px,G2(s)),Ts(gx,px,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2=5*60,Y2=Ux("authIdTokenMaxAge")||Q2;let yx=null;const X2=s=>async e=>{const n=e&&await e.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>Y2)return;const l=n==null?void 0:n.token;yx!==l&&(yx=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function W2(s=Tg()){const e=zh(s,"auth");if(e.isInitialized())return e.getImmediate();const n=yj(s,{popupRedirectResolver:q2,persistence:[t2,Kj,_b]}),a=Ux("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=X2(c.toString());Pj(n,d,()=>d(n.currentUser)),Vj(n,g=>d(g))}}const l=Lx("auth");return l&&vj(n,`http://${l}`),n}function Z2(){var s,e;return(e=(s=document.getElementsByTagName("head"))===null||s===void 0?void 0:s[0])!==null&&e!==void 0?e:document}cj({loadJS(s){return new Promise((e,n)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=l=>{const c=ws("internal-error");c.customData=l,n(c)},a.type="text/javascript",a.charset="UTF-8",Z2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$2("Browser");const J2={apiKey:"AIzaSyB0zBdnr_ZBmmokxvgLiHWU52QhnFnoymU",authDomain:"aimchallange-67039.firebaseapp.com",projectId:"aimchallange-67039",storageBucket:"aimchallange-67039.appspot.com",messagingSenderId:"109617578227",appId:"1:109617578227:web:8f09f705f248bbdaf07786",measurementId:"G-42PJQ2LB6T"},fd=Kx(J2),_h=W2(fd),Qt=cC(fd),cr=KT(fd,"gs://aimchallange-67039.appspot.com");KT(fd,"gs://aimchallange-67039.appspot.com");const wb=P.createContext(),gr=()=>P.useContext(wb),eD=({children:s})=>{const[e,n]=P.useState(null),[a,l]=P.useState(!1),[c,d]=P.useState(!0);P.useEffect(()=>Uj(_h,async b=>{if(b){const w={uid:b.uid,email:b.email,displayName:b.displayName||b.email.split("@")[0],role:"admin"};n(w),l(!0)}else n(null),l(!1);d(!1)}),[]);const y={currentUser:e,isAuthenticated:a,login:async(E,b)=>{try{return await Oj(_h,E,b),{success:!0}}catch(w){return console.error("Login error:",w),{success:!1,error:w.message}}},logout:async()=>{try{return await Bj(_h),{success:!0}}catch(E){return console.error("Logout error:",E),{success:!1,error:E.message}}}};return u.jsx(wb.Provider,{value:y,children:!c&&s})},ug=Nn(Qt,"settings","textContent"),tD=async()=>{try{const s=await rd(ug);return s.exists()?s.data():(await bl(ug,{}),{})}catch(s){return console.error("Error getting text content:",s),{}}},nD=async(s,e)=>{try{const n={};return n[s]=e,await AC(ug,n),!0}catch(n){return console.error("Error updating text content:",n),!1}};Nn(Qt,"settings","backgroundImages");const Sb=P.createContext(),pr=()=>P.useContext(Sb),sD=({children:s})=>{const[e,n]=P.useState({}),[a,l]=P.useState(!1),[c,d]=P.useState([]),{currentUser:g,isAuthenticated:p}=gr(),y=(g==null?void 0:g.role)==="admin";P.useEffect(()=>{(async()=>{try{const $=await tD();n($)}catch($){console.error("Error fetching text content:",$);const ee=localStorage.getItem("textContent");if(ee)try{n(JSON.parse(ee))}catch(J){console.error("Error parsing saved content:",J),n({})}}})()},[]),P.useEffect(()=>{l(!!(p&&y))},[p,y]);const H={getText:(G,$)=>e[G]||$,updateText:async(G,$)=>{try{await nD(G,$);const ee={...e,[G]:$};n(ee),d(J=>[...J,{content:{...e},timestamp:new Date().toISOString(),changedKey:G}]),localStorage.setItem("textContent",JSON.stringify(ee))}catch(ee){console.error("Error updating text content:",ee);const J={...e,[G]:$};localStorage.setItem("textContent",JSON.stringify(J)),n(J)}},isEditing:a,toggleEditing:()=>{console.log("Edit mode is always on for admin users")},isAdmin:y,textContent:e,resetAllContent:()=>{d(G=>[...G,{content:{...e},timestamp:new Date().toISOString(),action:"reset-all"}]),n({}),localStorage.removeItem("textContent"),console.log("All content has been reset")},removeContentItem:G=>{d(ee=>[...ee,{content:{...e},timestamp:new Date().toISOString(),changedKey:G,action:"remove"}]);const $={...e};delete $[G],n($),localStorage.setItem("textContent",JSON.stringify($)),console.log(`Content item '${G}' has been removed`)},undoLastChange:()=>{if(c.length>1){const G=[...c];G.pop();const $=G[G.length-1].content;return n($),localStorage.setItem("textContent",JSON.stringify($)),d(G),console.log("Last change undone"),!0}return console.log("No changes to undo"),!1},getEditHistory:()=>c,editHistory:c};return u.jsx(Sb.Provider,{value:H,children:s})},iD=()=>{const[s,e]=P.useState(!1),[n,a]=P.useState(!1),[l,c]=P.useState(!1),{isAuthenticated:d,currentUser:g,logout:p}=gr(),{isEditing:y,getText:E,updateText:b}=pr(),w=Rl(),j=()=>{e(!1)},O=()=>{a(!1)},K=()=>{c(!l),e(!1),a(!1)},M=()=>{p(),w("/")};return P.useEffect(()=>{const H=G=>{const $=document.querySelector(".mobile-menu"),ee=document.querySelector(".hamburger-menu");l&&$&&!$.contains(G.target)&&!ee.contains(G.target)&&c(!1)};return document.addEventListener("mousedown",H),()=>{document.removeEventListener("mousedown",H)}},[l]),P.useEffect(()=>{console.log("Navbar auth state:",{isAuthenticated:d,currentUser:g,isAdmin:(g==null?void 0:g.role)==="admin"})},[d,g]),u.jsx("div",{className:"flex flex_col navbar-container",children:u.jsxs("div",{className:"navbar  flex flex_j_SA MaxWH location font_white",children:[u.jsx("div",{className:"navim MaxWH location",children:u.jsx(_e,{to:"/",children:u.jsx("img",{src:"/images/Aim Blue.svg",alt:"aim challenge logo",className:"custom-image navim"})})}),u.jsxs("div",{className:"hamburger-menu",onClick:K,children:[u.jsx("span",{}),u.jsx("span",{}),u.jsx("span",{})]}),u.jsxs("div",{className:"navbside",children:[u.jsxs("div",{className:"nav-button",children:[u.jsx("a",{href:"#",className:"dropdown-trigger",onClick:H=>{H.preventDefault(),e(!s)},children:"Tävlingar"}),s&&u.jsxs("div",{className:"drop-down",children:[u.jsx(_e,{to:"/ulricehamn",onClick:j,className:"drop-item",children:"ULRICEHAMN"}),u.jsx(_e,{to:"/salen",onClick:j,className:"drop-item",children:"SÄLEN"}),u.jsx(_e,{to:"/hemsedal",onClick:j,className:"drop-item",children:"HEMSEDAL"}),u.jsx(_e,{to:"/kolmarden",onClick:j,className:"drop-item",children:"KOLMÅRDEN"}),u.jsx(_e,{to:"/trippeln",onClick:j,className:"drop-item",children:"TRIPPELN"})]})]}),u.jsxs("div",{className:"nav-button",children:[u.jsx("a",{href:"#",className:"dropdown-trigger",onClick:H=>{H.preventDefault(),a(!n)},children:"Om oss"}),n&&u.jsxs("div",{className:"drop-down",children:[u.jsx(_e,{to:"/om-oss",onClick:O,className:"drop-item",children:"Om oss"}),u.jsx(_e,{to:"/regler",onClick:O,className:"drop-item",children:"Regler"}),u.jsx(_e,{to:"/faq",onClick:O,className:"drop-item",children:"FAQ"}),u.jsx(_e,{to:"/historien-om-aim",onClick:O,className:"drop-item",children:"Historien om AIM"})]})]}),u.jsx("div",{className:"nav-button",children:u.jsx("a",{href:"#sponsors-section",onClick:H=>{H.preventDefault();const G=document.getElementById("sponsors-section");G&&G.scrollIntoView({behavior:"smooth"})},children:"Sponsorer"})}),u.jsx("div",{className:"nav-button",children:u.jsx(_e,{to:"/senaste-nytt",children:"Senaste nytt"})}),u.jsx("div",{className:"nav-button",children:u.jsx(_e,{to:"#",children:"Kontakta oss"})}),u.jsx("div",{className:"nav-button",children:u.jsx("a",{href:"#",children:"SV|NO|EN"})}),d&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"nav-button",children:u.jsx(_e,{to:"/content-manager",children:"Innehåll"})}),u.jsx("div",{className:"nav-button",children:u.jsx("a",{href:"#",onClick:H=>{H.preventDefault(),M()},children:"Logga ut"})})]})]}),l&&u.jsxs("div",{className:"mobile-menu",children:[u.jsxs("div",{className:"mobile-menu-item",children:[u.jsxs("div",{className:"mobile-menu-header",onClick:()=>e(!s),children:["Tävlingar ",s?"▲":"▼"]}),s&&u.jsxs("div",{className:"mobile-submenu",children:[u.jsx(_e,{to:"/ulricehamn",onClick:K,className:"mobile-submenu-item",children:"ULRICEHAMN"}),u.jsx(_e,{to:"/salen",onClick:K,className:"mobile-submenu-item",children:"SÄLEN"}),u.jsx(_e,{to:"/hemsedal",onClick:K,className:"mobile-submenu-item",children:"HEMSEDAL"}),u.jsx(_e,{to:"/kolmarden",onClick:K,className:"mobile-submenu-item",children:"KOLMÅRDEN"}),u.jsx(_e,{to:"/trippeln",onClick:K,className:"mobile-submenu-item",children:"TRIPPELN"})]})]}),u.jsxs("div",{className:"mobile-menu-item",children:[u.jsxs("div",{className:"mobile-menu-header",onClick:()=>a(!n),children:["Om oss ",n?"▲":"▼"]}),n&&u.jsxs("div",{className:"mobile-submenu",children:[u.jsx(_e,{to:"/om-oss",onClick:K,className:"mobile-submenu-item",children:"Om oss"}),u.jsx(_e,{to:"/regler",onClick:K,className:"mobile-submenu-item",children:"Regler"}),u.jsx(_e,{to:"/faq",onClick:K,className:"mobile-submenu-item",children:"FAQ"}),u.jsx(_e,{to:"/historien-om-aim",onClick:K,className:"mobile-submenu-item",children:"Historien om AIM"})]})]}),u.jsx("div",{className:"mobile-menu-item",children:u.jsx("a",{href:"#sponsors-section",onClick:H=>{H.preventDefault();const G=document.getElementById("sponsors-section");G&&G.scrollIntoView({behavior:"smooth"}),K()},className:"mobile-menu-link",children:"Sponsorer"})}),u.jsx("div",{className:"mobile-menu-item",children:u.jsx(_e,{to:"/senaste-nytt",onClick:K,className:"mobile-menu-link",children:"Senaste nytt"})}),u.jsx("div",{className:"mobile-menu-item",children:u.jsx(_e,{to:"#",onClick:K,className:"mobile-menu-link",children:"Kontakta oss"})}),u.jsx("div",{className:"mobile-menu-item",children:u.jsx("a",{href:"#",className:"mobile-menu-link",children:"SV|NO|EN"})}),d&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"mobile-menu-item",children:u.jsx(_e,{to:"/content-manager",onClick:K,className:"mobile-menu-link",children:"Innehåll"})}),u.jsx("div",{className:"mobile-menu-item",children:u.jsx("a",{href:"#",onClick:H=>{H.preventDefault(),M(),K()},className:"mobile-menu-link",children:"Logga ut"})})]})]})]})})},aD=()=>u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"footer-wrapper",children:u.jsx("div",{className:"container",children:u.jsx("div",{className:"footer-grid",children:u.jsxs("div",{className:"grid-item sponsors",children:[u.jsx("h1",{className:"footer-heading",id:"sponsors-section",children:"Sponsorer & Partners"}),u.jsxs("div",{className:"sponsors-grid",children:[u.jsx("div",{className:"sponsor-item",children:u.jsx("img",{src:"/images/Artboard 1@4x.png",alt:"Artboard",className:"sponsor-logo"})}),u.jsx("div",{className:"sponsor-item",children:u.jsx("img",{src:"/images/Camelbak_vit.svg",alt:"Camelbak",className:"sponsor-logo"})}),u.jsx("div",{className:"sponsor-item",children:u.jsx("img",{src:"/images/Hedghog_vit.svg",alt:"Hedghog",className:"sponsor-logo"})}),u.jsx("div",{className:"sponsor-item",children:u.jsx("img",{src:"/images/Kona_vit.png",alt:"Kona",className:"sponsor-logo"})}),u.jsx("div",{className:"sponsor-item",children:u.jsx("img",{src:"/images/Mareld_svart.svg",alt:"Mareld",className:"sponsor-logo"})}),u.jsx("div",{className:"sponsor-item",children:u.jsx("img",{src:"/images/ODD_white_RGB.png",alt:"ODD",className:"sponsor-logo"})}),u.jsx("div",{className:"sponsor-item",children:u.jsx("img",{src:"/images/Oofos.png",alt:"Oofos",className:"sponsor-logo"})}),u.jsx("div",{className:"sponsor-item",children:u.jsx("img",{src:"/images/Ortovox_svart.svg",alt:"Ortovox",className:"sponsor-logo"})}),u.jsx("div",{className:"sponsor-item",children:u.jsx("img",{src:"/images/UD Logo.png",alt:"UD",className:"sponsor-logo"})}),u.jsx("div",{className:"sponsor-item",children:u.jsx("img",{src:"/images/Upplev.png",alt:"Upplev Norrköping",className:"sponsor-logo"})}),u.jsx("div",{className:"sponsor-item",children:u.jsx("img",{src:"/images/holdut_logo_sort_1.png",alt:"Hold ut",className:"sponsor-logo"})}),u.jsx("div",{className:"sponsor-item",children:u.jsx("img",{src:"/images/h%C3%A4llmark logga sv_v.svg",alt:"Hällmark",className:"sponsor-logo"})}),u.jsx("div",{className:"sponsor-item",children:u.jsx("img",{src:"/images/injinji_black.svg",alt:"Injinji",className:"sponsor-logo"})})]})]})})})}),u.jsx("footer",{className:"footer-section",children:u.jsxs("div",{className:"footer-container",children:[u.jsxs("div",{className:"footer-top",children:[u.jsxs("div",{className:"footer-left",children:[u.jsx("div",{className:"footer-logo",children:u.jsx("img",{src:"/images/Aim_Challenge_logo_white.svg",alt:"AIM Challenge"})}),u.jsxs("div",{className:"footer-info",children:[u.jsx("p",{children:"Loftsdalian 108, 30129 Halmstad"}),u.jsx("p",{children:u.jsx("a",{href:"mailto:info@aimchallenge.com",children:"info@aimchallenge.com"})}),u.jsx("p",{children:"+46 (0) 73-81 87 54"})]}),u.jsxs("div",{className:"footer-social",children:[u.jsx("a",{href:"#",className:"social-icon",children:u.jsx("i",{className:"fa fa-instagram"})}),u.jsx("a",{href:"#",className:"social-icon",children:u.jsx("i",{className:"fa fa-facebook"})}),u.jsx("a",{href:"#",className:"social-icon",children:u.jsx("i",{className:"fa fa-twitter"})})]})]}),u.jsxs("div",{className:"footer-columns",children:[u.jsxs("div",{className:"footer-column footer-column-center",children:[u.jsx("h3",{className:"footer-title",children:"INFORMATION"}),u.jsxs("ul",{className:"footer-links",children:[u.jsx("li",{children:u.jsx("a",{href:"#",children:"Anmälningsvillkor"})}),u.jsx("li",{children:u.jsx("a",{href:"#",children:"Integritetspolicy"})}),u.jsx("li",{children:u.jsx("a",{href:"#",children:"FAQ"})})]})]}),u.jsxs("div",{className:"footer-column footer-column-right",children:[u.jsx("h3",{className:"footer-title",children:"NYHETSBREV"}),u.jsx("p",{className:"footer-newsletter-text",children:"Åtext om nyhetsbrev, samt en optin ruta för att fylla i sin epostadress. Integration mot mailchimp."})]})]})]}),u.jsx("div",{className:"footer-copyright-wrapper",children:u.jsx("div",{className:"footer-copyright",children:u.jsx("p",{children:"© 2023 Copyright AIM Challenge."})})})]})})]}),z=({textKey:s,defaultText:e,tag:n="p",className:a="",style:l={},placeholder:c="Skriv text här...",onClick:d})=>{const{getText:g,updateText:p,isAdmin:y}=pr(),[E,b]=P.useState(!1),[w,j]=P.useState(""),[O,K]=P.useState(!1),[M,H]=P.useState(""),[G,$]=P.useState(""),ee=P.useRef(null),J=P.useRef(null),re=P.useRef(null),V=["span","a","em","strong","i","b","code","small"].includes(n);P.useEffect(()=>{const D=g(s);j(D||e)},[s,e,g]),P.useEffect(()=>{const D=ie=>{ie.key==="Escape"&&E&&k()};return document.addEventListener("keydown",D),()=>{document.removeEventListener("keydown",D)}},[E]);const N=D=>{D&&(D.preventDefault(),D.stopPropagation()),b(!0)},S=()=>{p(s,w),b(!1),K(!1)},k=()=>{const D=g(s);j(D||e),b(!1),K(!1)},R=D=>{j(D.target.value)},L=()=>{K(!O),$(""),H("")},I=()=>{if(G&&M){let D=M;!D.startsWith("http://")&&!D.startsWith("https://")&&(D="https://"+D);const ie=`<a href="${D}" target="_blank" rel="noopener noreferrer">${G}</a>`,me=ee.current,ue=me.selectionStart,he=w.substring(0,ue),Ie=w.substring(me.selectionEnd);j(he+ie+Ie),$(""),H(""),setTimeout(()=>{me.focus();const Se=ue+ie.length;me.setSelectionRange(Se,Se)},0)}},je=D=>{$(D.target.value)},Ae=D=>{H(D.target.value)},le=D=>{D.key==="Enter"&&D.ctrlKey?(D.preventDefault(),S()):D.key==="Escape"&&(D.preventDefault(),k())},ve=()=>E?DS.createPortal(u.jsx("div",{className:"edit-modal",children:u.jsxs("div",{className:"edit-modal__content",children:[u.jsx("textarea",{ref:ee,value:w,onChange:R,onKeyDown:le,placeholder:c,className:"edit-modal__textarea"}),u.jsx("button",{type:"button",onClick:L,className:"modal-action-button modal-action-button--secondary",children:O?"Dölj länkverktyg":"Lägg till länk"}),O&&u.jsxs("div",{className:"edit-modal__link-tools",children:[u.jsxs("div",{className:"edit-modal__form-group",children:[u.jsx("label",{htmlFor:"linkText",className:"edit-modal__label",children:"Länktext:"}),u.jsx("input",{ref:J,type:"text",id:"linkText",value:G,onChange:je,className:"edit-modal__input",placeholder:"Text som ska visas"})]}),u.jsxs("div",{className:"edit-modal__form-group",children:[u.jsx("label",{htmlFor:"linkUrl",className:"edit-modal__label",children:"URL:"}),u.jsx("input",{ref:re,type:"text",id:"linkUrl",value:M,onChange:Ae,className:"edit-modal__input",placeholder:"https://example.com"})]}),u.jsx("button",{type:"button",onClick:I,disabled:!G||!M,className:"modal-action-button modal-action-button--primary",children:"Infoga länk"})]}),u.jsxs("div",{className:"edit-modal__actions",children:[u.jsx("button",{type:"button",onClick:k,className:"modal-action-button modal-action-button--secondary",children:"Avbryt"}),u.jsx("button",{type:"button",onClick:S,className:"modal-action-button modal-action-button--primary",children:"Spara"})]})]})}),document.body):null,ce=()=>{const D=n,ie={className:`editable-text ${a}`,style:l,dangerouslySetInnerHTML:{__html:w||c},onClick:d};return u.jsx(D,{...ie})},ke=V?"span":"div";return u.jsxs(u.Fragment,{children:[u.jsxs(ke,{className:"editable-text-wrapper",children:[ce(),y&&u.jsx("button",{type:"button",onClick:N,className:"edit-button edit-button-primary",title:"Redigera text",children:"Redigera"})]}),ve()]})},rD=()=>u.jsxs("div",{className:"flex flex_col MaxWH location",children:[u.jsx("section",{id:"page_01",className:"page_01 dynamic-background ",children:u.jsx("div",{className:" page_01box flex flex_col flex_j_SA MaxWH",children:u.jsx(z,{textKey:"main-multisport-sedan",defaultText:"MUTLISPORT SEDAN 2004",tag:"p",className:"font_white fonts_large"})})}),u.jsxs("section",{id:"page_02",className:"page_02 flex flex_j_E MaxWH location",children:[u.jsx("h2",{className:"page_02-title",children:"ÅRETS TÄVLINGAR"}),u.jsxs("div",{className:"page_02box  flex flex_col MaxWH location",children:[u.jsx("div",{className:"page_02-image",style:{backgroundImage:"url('images/EE-AIMChallenge24-Uhamn-0171-high.jpg')"}}),u.jsx("div",{className:"page_02-content",children:u.jsxs("div",{className:"page_02-header",children:[u.jsx(z,{textKey:"main-ulricehamn-title",defaultText:"ULRICEHAMN 10/5",tag:"p",className:"font_white fonts_medium_B"}),u.jsx(z,{textKey:"ulricehamn-date",defaultText:"datum insert",tag:"p",className:"font_white fonts_medium"})]})}),u.jsx("div",{className:"page_02-button",children:u.jsx(_e,{to:"/ulricehamn",className:"location button-2",children:u.jsx("span",{children:"Läs mer"})})})]}),u.jsxs("div",{className:"page_02box  flex flex_col MaxWH location",children:[u.jsx("div",{className:"page_02-image",style:{backgroundImage:"url('/images/AIM_lindvallen_2024_AnkiGrothe_highres_155.jpg')"}}),u.jsx("div",{className:"page_02-content",children:u.jsxs("div",{className:"page_02-header",children:[u.jsx(z,{textKey:"main-salen-title",defaultText:"SÄLEN 10/5",tag:"p",className:"font_white fonts_medium_B"}),u.jsx(z,{textKey:"salen-date",defaultText:"datum insert",tag:"p",className:"font_white fonts_medium"})]})}),u.jsx("div",{className:"page_02-button",children:u.jsx(_e,{to:"/salen",className:"location button-2",children:u.jsx("span",{children:"Läs mer"})})})]}),u.jsxs("div",{className:"page_02box flex flex_col MaxWH location",children:[u.jsx("div",{className:"page_02-image",style:{backgroundImage:"url('/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg')"}}),u.jsx("div",{className:"page_02-content",children:u.jsxs("div",{className:"page_02-header",children:[u.jsx(z,{textKey:"main-hemsedal-title",defaultText:"HEMSEDAL 10/5",tag:"p",className:"font_white fonts_medium_B"}),u.jsx(z,{textKey:"hemsedal-date",defaultText:"datum insert",tag:"p",className:"font_white fonts_medium"})]})}),u.jsx("div",{className:"page_02-button",children:u.jsx(_e,{to:"/hemsedal",className:"location button-2",children:u.jsx("span",{children:"Läs mer"})})})]}),u.jsxs("div",{className:"page_02box  flex flex_col MaxWH location",children:[u.jsx("div",{className:"page_02-image",style:{backgroundImage:"url('/images/AIM_lindvallen_2024_AnkiGrothe_highres_125.jpg')"}}),u.jsx("div",{className:"page_02-content",children:u.jsxs("div",{className:"page_02-header",children:[u.jsx(z,{textKey:"main-kolmarden-title",defaultText:"KOLMÅRDEN 10/5",tag:"p",className:"font_white fonts_medium_B"}),u.jsx(z,{textKey:"kolmarden-date",defaultText:"datum insert",tag:"p",className:"font_white fonts_medium"})]})}),u.jsx("div",{className:"page_02-button",children:u.jsx(_e,{to:"/kolmarden",className:"location button-2",children:u.jsx("span",{children:"Läs mer"})})})]})]}),u.jsx("section",{id:"page_03",className:"page_03 flex MaxWH",children:u.jsxs("div",{className:"page_03-content flex",children:[u.jsxs("div",{className:"page_03-text",children:[u.jsx("h2",{className:"page_03-title",children:"OM AIM CHALLENGE"}),u.jsx(z,{textKey:"aim-challenge-desc-1",defaultText:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",tag:"p",className:"font_white"}),u.jsx(z,{textKey:"aim-challenge-desc-2",defaultText:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",tag:"p",className:"font_white"}),u.jsx("div",{className:"page_03-button",children:u.jsx(_e,{to:"/about",className:"button-2",children:u.jsx("span",{children:"LÄS MER"})})})]}),u.jsx("div",{className:"page_03-image",children:u.jsx("img",{src:"/images/AIM_lindvallen_2024_AnkiGrothe_highres_155.jpg",alt:"AIM Challenge"})})]})}),u.jsx("section",{id:"ad-section",className:"ad-section",children:u.jsx("div",{className:"ad-container",children:u.jsx("div",{className:"ad-content",children:u.jsx("p",{children:"ANNONS"})})})}),u.jsxs("section",{id:"latest-news",className:"latest-news-section",children:[u.jsx("h2",{className:"latest-news-title",children:"SENASTE NYTT"}),u.jsxs("div",{className:"latest-news-container",children:[u.jsxs("div",{className:"news-card",children:[u.jsx("div",{className:"news-image",children:u.jsx("img",{src:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg",alt:"News"})}),u.jsxs("div",{className:"news-content",children:[u.jsx("h3",{className:"news-location",children:"ULRICEHAMN 10/5"}),u.jsx("p",{className:"news-description",children:"Brödtext om tävlingen, 2 korta meningar"}),u.jsx("div",{className:"news-button",children:u.jsx(_e,{to:"/news/1",className:"button-2",children:u.jsx("span",{children:"LÄS MER"})})})]})]}),u.jsxs("div",{className:"news-card",children:[u.jsx("div",{className:"news-image",children:u.jsx("img",{src:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg",alt:"News"})}),u.jsxs("div",{className:"news-content",children:[u.jsx("h3",{className:"news-location",children:"ULRICEHAMN 10/5"}),u.jsx("p",{className:"news-description",children:"Brödtext om tävlingen, 2 korta meningar"}),u.jsx("div",{className:"news-button",children:u.jsx(_e,{to:"/news/2",className:"button-2",children:u.jsx("span",{children:"LÄS MER"})})})]})]}),u.jsxs("div",{className:"news-card",children:[u.jsx("div",{className:"news-image",children:u.jsx("img",{src:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg",alt:"News"})}),u.jsxs("div",{className:"news-content",children:[u.jsx("h3",{className:"news-location",children:"ULRICEHAMN 10/5"}),u.jsx("p",{className:"news-description",children:"Brödtext om tävlingen, 2 korta meningar"}),u.jsx("div",{className:"news-button",children:u.jsx(_e,{to:"/news/3",className:"button-2",children:u.jsx("span",{children:"LÄS MER"})})})]})]})]})]})]}),lD=()=>u.jsxs("div",{className:"competitions-container flex flex_col MaxWH location",children:[u.jsx("div",{className:"competitions-spacer"}),u.jsxs("div",{className:"competitions-grid",children:[u.jsxs("div",{className:"competitions-card competitions-card-ulricehamn flex flex_col flex_j_SB location simple-background",children:[u.jsxs("div",{className:"trans-background competitions-header flex flex_col flex_j_C flex_a_C flex_text_C MaxWH",children:[u.jsx(z,{textKey:"competitions-ulricehamn-title",defaultText:"ULRICEHAMN",tag:"p",className:"font_blue fonts_medium_B competitions-title text-center",style:{textAlign:"center"}}),u.jsx(z,{textKey:"ulricehamn-date",defaultText:"datum insert",tag:"p",className:"font_blue fonts_medium competitions-date text-center",style:{textAlign:"center"}})]}),u.jsx("div",{className:"competitions-button-container flex flex_col flex_j_SA flex_a_C MaxWH Button",children:u.jsx(_e,{to:"/ulricehamn",className:"location button-2 competitions-button",children:u.jsx("span",{children:"Läs mer"})})})]}),u.jsxs("div",{className:"competitions-card competitions-card-salen flex flex_col flex_j_SB location simple-background",children:[u.jsxs("div",{className:"trans-background competitions-header flex flex_col flex_j_C flex_a_C flex_text_C MaxWH",children:[u.jsx(z,{textKey:"competitions-salen-title",defaultText:"SÄLEN",tag:"p",className:"font_blue fonts_medium_B competitions-title text-center",style:{textAlign:"center"}}),u.jsx(z,{textKey:"salen-date",defaultText:"datum insert",tag:"p",className:"font_blue fonts_medium competitions-date text-center",style:{textAlign:"center"}})]}),u.jsx("div",{className:"competitions-button-container flex flex_col flex_j_SA flex_a_C MaxWH Button",children:u.jsx(_e,{to:"/salen",className:"location button-2 competitions-button",children:u.jsx("span",{children:"Läs mer"})})})]})]}),u.jsxs("div",{className:"competitions-grid",children:[u.jsxs("div",{className:"competitions-card competitions-card-hemsedal flex flex_col flex_j_SB location simple-background",children:[u.jsxs("div",{className:"trans-background competitions-header flex flex_col flex_j_C flex_a_C flex_text_C MaxWH",children:[u.jsx(z,{textKey:"competitions-hemsedal-title",defaultText:"HEMSEDAL",tag:"p",className:"font_blue fonts_medium_B competitions-title text-center",style:{textAlign:"center"}}),u.jsx(z,{textKey:"hemsedal-date",defaultText:"datum insert",tag:"p",className:"font_blue fonts_medium competitions-date text-center",style:{textAlign:"center"}})]}),u.jsx("div",{className:"competitions-button-container flex flex_col flex_j_SA flex_a_C MaxWH Button",children:u.jsx(_e,{to:"/hemsedal",className:"location button-2 competitions-button",children:u.jsx("span",{children:"Läs mer"})})})]}),u.jsxs("div",{className:"competitions-card competitions-card-kolmarden flex flex_col flex_j_SB location simple-background",children:[u.jsxs("div",{className:"trans-background competitions-header flex flex_col flex_j_C flex_a_C flex_text_C MaxWH",children:[u.jsx(z,{textKey:"competitions-kolmarden-title",defaultText:"KOLMÅRDEN",tag:"p",className:"font_blue fonts_medium_B competitions-title text-center",style:{textAlign:"center"}}),u.jsx(z,{textKey:"kolmarden-date",defaultText:"datum insert",tag:"p",className:"font_blue fonts_medium competitions-date text-center",style:{textAlign:"center"}})]}),u.jsx("div",{className:"competitions-button-container flex flex_col flex_j_SA flex_a_C MaxWH Button",children:u.jsx(_e,{to:"/kolmarden",className:"location button-2 competitions-button",children:u.jsx("span",{children:"Läs mer"})})})]})]}),u.jsx("div",{className:"competitions-grid",children:u.jsxs("div",{className:"competitions-card competitions-card-trippeln flex flex_col flex_j_SB location simple-background",style:{gridColumn:"span 2"},children:[u.jsxs("div",{className:"trans-background competitions-header flex flex_col flex_j_C flex_a_C flex_text_C MaxWH",children:[u.jsx(z,{textKey:"competitions-trippeln-title",defaultText:"AIM CHALLENGE TRIPPELN",tag:"p",className:"font_blue fonts_medium_B competitions-title text-center",style:{textAlign:"center"}}),u.jsx(z,{textKey:"trippeln-description",defaultText:"Tävla i alla tre deltävlingar och bli en del av AIM Challenge Trippeln",tag:"p",className:"font_blue fonts_medium competitions-date text-center",style:{textAlign:"center"}})]}),u.jsx("div",{className:"competitions-button-container flex flex_col flex_j_SA flex_a_C MaxWH Button",children:u.jsx(_e,{to:"/trippeln",className:"location button-2 competitions-button",children:u.jsx("span",{children:"Läs mer"})})})]})})]}),oD=()=>u.jsxs("div",{className:"ulricehamn-container",children:[u.jsx("section",{className:"ulricehamn-hero-section",children:u.jsx("div",{className:"hero-content",children:u.jsx("div",{className:"hero-image-container",children:u.jsx("img",{src:"/images/EE-AIMChallenge24-Uhamn-0171-high.jpg",alt:"Ulricehamn Event"})})})}),u.jsx("section",{className:"ulricehamn-title-section",children:u.jsxs("div",{className:"title-container",children:[u.jsx(z,{textKey:"ulricehamn-title",defaultText:"ULRICEHAMN",tag:"h1",className:"location-title"}),u.jsx(z,{textKey:"ulricehamn-date",defaultText:"10 MAJ 2025",tag:"h2",className:"location-date"})]})}),u.jsx("section",{className:"ulricehamn-button-section",children:u.jsx("div",{className:"button-container",children:u.jsx("a",{href:"https://raceid.com/sv/races/12846/about",target:"_blank",rel:"noopener noreferrer",className:"anmalan-button",children:u.jsx("p",{children:"TA MIG TILL ANMÄLAN"})})})}),u.jsx("section",{className:"ulricehamn-program-section",children:u.jsx("div",{className:"program-container",children:u.jsxs("div",{className:"program-cards",children:[u.jsx("div",{className:"program-card image-card",children:u.jsx("img",{src:"/images/EE-AIMChallenge24-Uhamn-0171-high.jpg",alt:"Ulricehamn Event"})}),u.jsxs("div",{className:"program-card info-card",children:[u.jsx(z,{textKey:"ulricehamn-program-title",defaultText:"PROGRAM",tag:"h2",className:"program-title"}),u.jsxs("div",{className:"program-schedule",children:[u.jsxs("div",{className:"program-day",children:[u.jsx(z,{textKey:"ulricehamn-friday-title",defaultText:"Fredag 9/5",tag:"h3",className:"day-title"}),u.jsx(z,{textKey:"ulricehamn-friday-schedule",defaultText:"17:00 - 19:00 Nummerlappsutdelning på XCC",tag:"p",className:"schedule-item"})]}),u.jsxs("div",{className:"program-day",children:[u.jsx(z,{textKey:"ulricehamn-saturday-title",defaultText:"Lördag 10/5",tag:"h3",className:"day-title"}),u.jsx(z,{textKey:"ulricehamn-saturday-schedule1",defaultText:"08:30 - 10:15 Registrering för alla tävlande som ej registrerat sig under fredagen på 157 XCC, på Lassalyckan.",tag:"p",className:"schedule-item"}),u.jsx(z,{textKey:"ulricehamn-saturday-schedule2",defaultText:"10:30 Obligatoriskt informationsmöte vid starten på Lassalyckan stadion.",tag:"p",className:"schedule-item"}),u.jsx(z,{textKey:"ulricehamn-saturday-schedule3",defaultText:"11:00 Start AIM Challenge, på Lassalyckan stadion. Gemensam start för 3 & 6-timmars tävlingen.",tag:"p",className:"schedule-item"}),u.jsx(z,{textKey:"ulricehamn-saturday-schedule4",defaultText:"14:00 Målgång för 3-timmars tävlingen.",tag:"p",className:"schedule-item"}),u.jsx(z,{textKey:"ulricehamn-saturday-schedule5",defaultText:"ca 15:30 Prisutdelning 3-timmars tävlingen",tag:"p",className:"schedule-item"}),u.jsx(z,{textKey:"ulricehamn-saturday-schedule6",defaultText:"16:30 - 20:00 After AIM med mat och dryck på Hotell Lassalyckan.",tag:"p",className:"schedule-item"}),u.jsx(z,{textKey:"ulricehamn-saturday-schedule7",defaultText:"17:00 Målgång för 6-timmars tävlingen.",tag:"p",className:"schedule-item"}),u.jsx(z,{textKey:"ulricehamn-saturday-schedule8",defaultText:"19:00 Prisutdelning utanför Hotell Lassalyckan.",tag:"p",className:"schedule-item"})]})]})]})]})})}),u.jsx("section",{className:"ulricehamn-price-section",children:u.jsx("div",{className:"price-container",children:u.jsxs("div",{className:"price-image-container",children:[u.jsx("img",{src:"/images/EE-AIMChallenge24-Uhamn-0171-high.jpg",alt:"Climbing in Ulricehamn",className:"price-background-image"}),u.jsx("div",{className:"price-overlay",children:u.jsxs("div",{className:"price-content",children:[u.jsx(z,{textKey:"ulricehamn-price-title",defaultText:"PRIS",tag:"h2",className:"section-title"}),u.jsx(z,{textKey:"ulricehamn-price-subtitle",defaultText:"ULRICEHAMN 10/5-2025",tag:"h3",className:"price-subtitle"}),u.jsxs("div",{className:"price-categories",children:[u.jsxs("div",{className:"price-category",children:[u.jsx(z,{textKey:"ulricehamn-price-3h-title",defaultText:"3-TIMMARS",tag:"h4",className:"category-title"}),u.jsx(z,{textKey:"ulricehamn-price-3h-1",defaultText:"1500 SEK / lag för Early Bird-anmälan innan 1 november.",tag:"p",className:"price-item"}),u.jsx(z,{textKey:"ulricehamn-price-3h-2",defaultText:"1700 SEK / lag för anmälan mellan 1 november och 1 februari.",tag:"p",className:"price-item"}),u.jsx(z,{textKey:"ulricehamn-price-3h-3",defaultText:"1900 SEK / lag för anmälan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(z,{textKey:"ulricehamn-price-3h-4",defaultText:"2100 SEK / lag för anmälan från 25 april och fram till start.",tag:"p",className:"price-item"})]}),u.jsxs("div",{className:"price-category",children:[u.jsx(z,{textKey:"ulricehamn-price-6h-title",defaultText:"6-TIMMARS",tag:"h4",className:"category-title"}),u.jsx(z,{textKey:"ulricehamn-price-6h-1",defaultText:"1900 SEK / lag för Early Bird-anmälan innan 1 november.",tag:"p",className:"price-item"}),u.jsx(z,{textKey:"ulricehamn-price-6h-2",defaultText:"2100 SEK / lag för anmälan mellan 1 november och 1 februari.",tag:"p",className:"price-item"}),u.jsx(z,{textKey:"ulricehamn-price-6h-3",defaultText:"2300 SEK / lag för anmälan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(z,{textKey:"ulricehamn-price-6h-4",defaultText:"2500 SEK / lag för anmälan från 25 april och fram till start.",tag:"p",className:"price-item"})]})]}),u.jsxs("div",{className:"price-category trippeln-category",children:[u.jsx(z,{textKey:"ulricehamn-price-trippeln-title",defaultText:"AIM CHALLENGE TRIPPELN 2025",tag:"h4",className:"category-title"}),u.jsx(z,{textKey:"ulricehamn-price-trippeln-1",defaultText:"4750 SEK / lag för Early Bird-anmälan innan 1 januari.",tag:"p",className:"price-item"}),u.jsx(z,{textKey:"ulricehamn-price-trippeln-2",defaultText:"5250 SEK / lag för anmälan mellan 1 januari och 1 februari.",tag:"p",className:"price-item"}),u.jsx(z,{textKey:"ulricehamn-price-trippeln-3",defaultText:"5750 SEK / lag för anmälan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(z,{textKey:"ulricehamn-price-trippeln-4",defaultText:"6250 SEK / lag för anmälan efter den 25 april.",tag:"p",className:"price-item"})]}),u.jsx("div",{className:"price-button-container",children:u.jsx("a",{href:"https://raceid.com/sv/races/12846/about",target:"_blank",rel:"noopener noreferrer",className:"price-anmalan-button",children:u.jsx("p",{children:"TA MIG TILL ANMÄLAN"})})})]})})]})})}),u.jsxs("section",{id:"latest-news",className:"latest-news-section",children:[u.jsx("h2",{className:"latest-news-title",children:"SENASTE NYTT ULRICEHAMN"}),u.jsxs("div",{className:"latest-news-container",children:[u.jsxs("div",{className:"news-card",children:[u.jsx("div",{className:"news-image",children:u.jsx("img",{src:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg",alt:"News"})}),u.jsxs("div",{className:"news-content",children:[u.jsx("h3",{className:"news-location",children:"NYHETSARTIKEL 1"}),u.jsx("p",{className:"news-description",children:"Brödtext om tävlingen, 2 korta em-ningar"}),u.jsx("div",{className:"news-button",children:u.jsx(_e,{to:"/news/1",className:"button-2",children:u.jsx("span",{children:"LÄS MER"})})})]})]}),u.jsxs("div",{className:"news-card",children:[u.jsx("div",{className:"news-image",children:u.jsx("img",{src:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg",alt:"News"})}),u.jsxs("div",{className:"news-content",children:[u.jsx("h3",{className:"news-location",children:"NYHETSARTIKEL 2"}),u.jsx("p",{className:"news-description",children:"Brödtext om tävlingen, 2 korta em-ningar"}),u.jsx("div",{className:"news-button",children:u.jsx(_e,{to:"/news/2",className:"button-2",children:u.jsx("span",{children:"LÄS MER"})})})]})]}),u.jsxs("div",{className:"news-card",children:[u.jsx("div",{className:"news-image",children:u.jsx("img",{src:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg",alt:"News"})}),u.jsxs("div",{className:"news-content",children:[u.jsx("h3",{className:"news-location",children:"NYHETSARTIKEL 3"}),u.jsx("p",{className:"news-description",children:"Brödtext om tävlingen, 2 korta em-ningar"}),u.jsx("div",{className:"news-button",children:u.jsx(_e,{to:"/news/3",className:"button-2",children:u.jsx("span",{children:"LÄS MER"})})})]})]})]})]}),u.jsx("section",{className:"useful-links-section",children:u.jsxs("div",{className:"useful-links-container",children:[u.jsx("h2",{className:"useful-links-title",children:"NYTTIGA LÄNKAR"}),u.jsxs("div",{className:"links-category",children:[u.jsx("h3",{className:"links-category-title",children:"Cykeluthyrning"}),u.jsxs("p",{className:"links-text",children:["Cykeluthyrning med in- och utlämning på Lassalyckan Stadion."," ",u.jsx("a",{href:"#",className:"links-link",children:"Läs mer och boka här."})]})]}),u.jsxs("div",{className:"links-category",children:[u.jsx("h3",{className:"links-category-title",children:"Boende"}),u.jsx("p",{className:"links-text",children:"Önskar du att bo nära start och mål så kan vi varmt rekommendera Hotell Lassalyckan som erbjuder ett modernt boende ett stenkast ifrån starten."}),u.jsx("a",{href:"https://www.hotell-lassalyckan.se",className:"links-link",target:"_blank",rel:"noopener noreferrer",children:"https://www.hotell-lassalyckan.se"})]}),u.jsxs("div",{className:"links-category",children:[u.jsx("h3",{className:"links-category-title",children:"Mat"}),u.jsx("p",{className:"links-text",children:"Önskar du att bo nära start och mål så kan vi varmt rekommendera Hotell Lassalyckan som erbjuder ett modernt boende ett stenkast ifrån starten."})]})]})}),u.jsxs("section",{className:"sponsors-section",children:[u.jsx("h2",{className:"sponsors-title",children:"LOKALA SPONSORER"}),u.jsxs("div",{className:"sponsors-container",children:[u.jsx("div",{className:"s-sponsor-logo side-logo",children:u.jsx("img",{src:"images/UD Logo.png",alt:"UD Logo"})}),u.jsx("div",{className:"s-sponsor-logo main-logo",children:u.jsx("img",{src:"images/Aim_Challenge_logo_white.svg",alt:"AIM Challenge"})}),u.jsx("div",{className:"s-sponsor-logo side-logo",children:u.jsx("img",{src:"images/holdut_logo_sort_1.png",alt:"Holdut Logo"})})]})]})]}),cD=()=>u.jsxs("div",{className:"salen-container",children:[u.jsx("section",{className:"salen-hero-section",children:u.jsx("div",{className:"hero-content",children:u.jsx("div",{className:"hero-image-container",children:u.jsx("img",{src:"/images/salen-hero.jpg",alt:"Sälen Event"})})})}),u.jsx("section",{className:"salen-title-section",children:u.jsxs("div",{className:"title-container",children:[u.jsx(z,{textKey:"salen-title",defaultText:"SÄLEN",tag:"h1",className:"location-title"}),u.jsx(z,{textKey:"salen-date",defaultText:"1 AUGUSTI 2025",tag:"h2",className:"location-date"})]})}),u.jsx("section",{className:"salen-program-section",children:u.jsx("div",{className:"program-container",children:u.jsxs("div",{className:"program-cards",children:[u.jsx("div",{className:"program-card image-card",children:u.jsx("img",{src:"/images/EE-AIMChallenge24-Uhamn-0171-high.jpg",alt:"Sälen Event"})}),u.jsxs("div",{className:"program-card info-card",children:[u.jsx(z,{textKey:"salen-program-title",defaultText:"PROGRAM",tag:"h2",className:"program-title"}),u.jsxs("div",{className:"program-schedule",children:[u.jsxs("div",{className:"program-day",children:[u.jsx(z,{textKey:"salen-friday-title",defaultText:"Fredag 9/5",tag:"h3",className:"day-title"}),u.jsx(z,{textKey:"salen-friday-schedule",defaultText:"17:00 - 19:00 Nummerlappsutdelning på XCC",tag:"p",className:"schedule-item"})]}),u.jsxs("div",{className:"program-day",children:[u.jsx(z,{textKey:"salen-saturday-title",defaultText:"Lördag 10/5",tag:"h3",className:"day-title"}),u.jsx(z,{textKey:"salen-saturday-schedule1",defaultText:"08:30 - 10:15 Registrering för alla tävlande som ej registrerat sig under fredagen på 157 XCC, på Lassalyckan.",tag:"p",className:"schedule-item"}),u.jsx(z,{textKey:"salen-saturday-schedule2",defaultText:"10:30 Obligatoriskt informationsmöte vid starten på Lassalyckan stadion.",tag:"p",className:"schedule-item"}),u.jsx(z,{textKey:"salen-saturday-schedule3",defaultText:"11:00 Start AIM Challenge, på Lassalyckan stadion. Gemensam start för 3 & 6-timmars tävlingen.",tag:"p",className:"schedule-item"}),u.jsx(z,{textKey:"salen-saturday-schedule4",defaultText:"14:00 Målgång för 3-timmars tävlingen.",tag:"p",className:"schedule-item"}),u.jsx(z,{textKey:"salen-saturday-schedule5",defaultText:"ca 15:30 Prisutdelning 3-timmars tävlingen",tag:"p",className:"schedule-item"}),u.jsx(z,{textKey:"salen-saturday-schedule6",defaultText:"16:30 - 20:00 After AIM med mat och dryck på Hotell Lassalyckan.",tag:"p",className:"schedule-item"}),u.jsx(z,{textKey:"salen-saturday-schedule7",defaultText:"17:00 Målgång för 6-timmars tävlingen.",tag:"p",className:"schedule-item"}),u.jsx(z,{textKey:"salen-saturday-schedule8",defaultText:"19:00 Prisutdelning utanför Hotell Lassalyckan.",tag:"p",className:"schedule-item"})]})]})]})]})})}),u.jsx("section",{className:"salen-price-section",children:u.jsx("div",{className:"price-container",children:u.jsxs("div",{className:"price-image-container",children:[u.jsx("img",{src:"/images/AIM_lindvallen_2024_AnkiGrothe_highres_34.jpg",alt:"Climbing in Lindvallen",className:"price-background-image"}),u.jsx("div",{className:"price-overlay",children:u.jsxs("div",{className:"price-content",children:[u.jsx(z,{textKey:"salen-price-title",defaultText:"PRIS",tag:"h2",className:"section-title"}),u.jsx(z,{textKey:"salen-price-subtitle",defaultText:"ULRICEHAMN 10/5-2025",tag:"h3",className:"price-subtitle"}),u.jsxs("div",{className:"price-categories",children:[u.jsxs("div",{className:"price-category",children:[u.jsx(z,{textKey:"salen-price-3h-title",defaultText:"3-TIMMARS",tag:"h4",className:"category-title"}),u.jsx(z,{textKey:"salen-price-3h-1",defaultText:"1500 SEK / lag för Early Bird-anmälan innan 1 november.",tag:"p",className:"price-item"}),u.jsx(z,{textKey:"salen-price-3h-2",defaultText:"1700 SEK / lag för anmälan mellan 1 november och 1 februari.",tag:"p",className:"price-item"}),u.jsx(z,{textKey:"salen-price-3h-3",defaultText:"1900 SEK / lag för anmälan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(z,{textKey:"salen-price-3h-4",defaultText:"2100 SEK / lag för anmälan från 25 april och fram till start.",tag:"p",className:"price-item"})]}),u.jsxs("div",{className:"price-category",children:[u.jsx(z,{textKey:"salen-price-6h-title",defaultText:"6-TIMMARS",tag:"h4",className:"category-title"}),u.jsx(z,{textKey:"salen-price-6h-1",defaultText:"1900 SEK / lag för Early Bird-anmälan innan 1 november.",tag:"p",className:"price-item"}),u.jsx(z,{textKey:"salen-price-6h-2",defaultText:"2100 SEK / lag för anmälan mellan 1 november och 1 februari.",tag:"p",className:"price-item"}),u.jsx(z,{textKey:"salen-price-6h-3",defaultText:"2300 SEK / lag för anmälan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(z,{textKey:"salen-price-6h-4",defaultText:"2500 SEK / lag för anmälan från 25 april och fram till start.",tag:"p",className:"price-item"})]})]}),u.jsxs("div",{className:"price-category trippeln-category",children:[u.jsx(z,{textKey:"salen-price-trippeln-title",defaultText:"AIM CHALLENGE TRIPPELN 2025",tag:"h4",className:"category-title"}),u.jsx(z,{textKey:"salen-price-trippeln-1",defaultText:"4750 SEK / lag för Early Bird-anmälan innan 1 januari.",tag:"p",className:"price-item"}),u.jsx(z,{textKey:"salen-price-trippeln-2",defaultText:"5250 SEK / lag för anmälan mellan 1 januari och 1 februari.",tag:"p",className:"price-item"}),u.jsx(z,{textKey:"salen-price-trippeln-3",defaultText:"5750 SEK / lag för anmälan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(z,{textKey:"salen-price-trippeln-4",defaultText:"6250 SEK / lag för anmälan efter den 25 april.",tag:"p",className:"price-item"})]}),u.jsx("div",{className:"price-button-container",children:u.jsx("a",{href:"https://raceid.com/sv/races/12846/about",target:"_blank",rel:"noopener noreferrer",className:"price-anmalan-button",children:u.jsx("p",{children:"TA MIG TILL ANMÄLAN"})})})]})})]})})}),u.jsxs("section",{id:"latest-news",className:"latest-news-section",children:[u.jsx("h2",{className:"latest-news-title",children:"SENASTE NYTT SÄLEN"}),u.jsxs("div",{className:"latest-news-container",children:[u.jsxs("div",{className:"news-card",children:[u.jsx("div",{className:"news-image",children:u.jsx("img",{src:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg",alt:"News"})}),u.jsxs("div",{className:"news-content",children:[u.jsx("h3",{className:"news-location",children:"NYHETSARTIKEL 1"}),u.jsx("p",{className:"news-description",children:"Brödtext om tävlingen, 2 korta em-ningar"}),u.jsx("div",{className:"news-button",children:u.jsx(_e,{to:"/news/1",className:"button-2",children:u.jsx("span",{children:"LÄS MER"})})})]})]}),u.jsxs("div",{className:"news-card",children:[u.jsx("div",{className:"news-image",children:u.jsx("img",{src:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg",alt:"News"})}),u.jsxs("div",{className:"news-content",children:[u.jsx("h3",{className:"news-location",children:"NYHETSARTIKEL 2"}),u.jsx("p",{className:"news-description",children:"Brödtext om tävlingen, 2 korta em-ningar"}),u.jsx("div",{className:"news-button",children:u.jsx(_e,{to:"/news/2",className:"button-2",children:u.jsx("span",{children:"LÄS MER"})})})]})]}),u.jsxs("div",{className:"news-card",children:[u.jsx("div",{className:"news-image",children:u.jsx("img",{src:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg",alt:"News"})}),u.jsxs("div",{className:"news-content",children:[u.jsx("h3",{className:"news-location",children:"NYHETSARTIKEL 3"}),u.jsx("p",{className:"news-description",children:"Brödtext om tävlingen, 2 korta em-ningar"}),u.jsx("div",{className:"news-button",children:u.jsx(_e,{to:"/news/3",className:"button-2",children:u.jsx("span",{children:"LÄS MER"})})})]})]})]})]}),u.jsx("section",{className:"useful-links-section",children:u.jsxs("div",{className:"useful-links-container",children:[u.jsx("h2",{className:"useful-links-title",children:"NYTTIGA LÄNKAR"}),u.jsxs("div",{className:"links-category",children:[u.jsx("h3",{className:"links-category-title",children:"Cykeluthyrning"}),u.jsxs("p",{className:"links-text",children:["Cykeluthyrning med in- och utlämning på Lassalyckan Stadion."," ",u.jsx("a",{href:"#",className:"links-link",children:"Läs mer och boka här."})]})]}),u.jsxs("div",{className:"links-category",children:[u.jsx("h3",{className:"links-category-title",children:"Boende"}),u.jsx("p",{className:"links-text",children:"Önskar du att bo nära start och mål så kan vi varmt rekommendera Hotell Lassalyckan som erbjuder ett modernt boende ett stenkast ifrån starten."}),u.jsx("a",{href:"https://www.hotell-lassalyckan.se",className:"links-link",target:"_blank",rel:"noopener noreferrer",children:"https://www.hotell-lassalyckan.se"})]}),u.jsxs("div",{className:"links-category",children:[u.jsx("h3",{className:"links-category-title",children:"Mat"}),u.jsx("p",{className:"links-text",children:"Önskar du att bo nära start och mål så kan vi varmt rekommendera Hotell Lassalyckan som erbjuder ett modernt boende ett stenkast ifrån starten."})]})]})}),u.jsxs("section",{className:"sponsors-section",children:[u.jsx("h2",{className:"sponsors-title",children:"LOKALA SPONSORER"}),u.jsxs("div",{className:"sponsors-container",children:[u.jsx("div",{className:"s-sponsor-logo side-logo",children:u.jsx("img",{src:"images/UD Logo.png",alt:"UD Logo"})}),u.jsx("div",{className:"s-sponsor-logo main-logo",children:u.jsx("img",{src:"images/Aim_Challenge_logo_white.svg",alt:"AIM Challenge"})}),u.jsx("div",{className:"s-sponsor-logo side-logo",children:u.jsx("img",{src:"images/holdut_logo_sort_1.png",alt:"Holdut Logo"})})]})]})]}),uD=()=>u.jsxs("div",{className:"hemsedal-container",children:[u.jsx("section",{className:"hemsedal-hero-section",children:u.jsx("div",{className:"hero-content",children:u.jsx("div",{className:"hero-image-container",children:u.jsx("img",{src:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_025.jpg",alt:"Hemsedal Event"})})})}),u.jsx("section",{className:"hemsedal-title-section",children:u.jsxs("div",{className:"title-container",children:[u.jsx(z,{textKey:"hemsedal-title",defaultText:"HEMSEDAL",tag:"h1",className:"location-title"}),u.jsx(z,{textKey:"hemsedal-date",defaultText:"10 MAJ 2025",tag:"h2",className:"location-date"})]})}),u.jsx("section",{className:"hemsedal-button-section",children:u.jsx("div",{className:"button-container",children:u.jsx("a",{href:"https://raceid.com/sv/races/13015/about",target:"_blank",rel:"noopener noreferrer",className:"anmalan-button",children:u.jsx("p",{children:"TA MIG TILL ANMÄLAN"})})})}),u.jsx("section",{className:"hemsedal-program-section",children:u.jsx("div",{className:"program-container",children:u.jsxs("div",{className:"program-cards",children:[u.jsx("div",{className:"program-card image-card",children:u.jsx("img",{src:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_025.jpg",alt:"Hemsedal Event"})}),u.jsxs("div",{className:"program-card info-card",children:[u.jsx(z,{textKey:"hemsedal-program-title",defaultText:"PROGRAM",tag:"h2",className:"program-title"}),u.jsxs("div",{className:"program-schedule",children:[u.jsxs("div",{className:"program-day",children:[u.jsx(z,{textKey:"hemsedal-friday-title",defaultText:"Fredag 9/5",tag:"h3",className:"day-title"}),u.jsx(z,{textKey:"hemsedal-friday-schedule",defaultText:"17:00 - 19:00 Nummerlappsutdelning på XCC",tag:"p",className:"schedule-item"})]}),u.jsxs("div",{className:"program-day",children:[u.jsx(z,{textKey:"hemsedal-saturday-title",defaultText:"Lördag 10/5",tag:"h3",className:"day-title"}),u.jsx(z,{textKey:"hemsedal-saturday-schedule1",defaultText:"08:30 - 10:15 Registrering för alla tävlande som ej registrerat sig under fredagen på 157 XCC, på Lassalyckan.",tag:"p",className:"schedule-item"}),u.jsx(z,{textKey:"hemsedal-saturday-schedule2",defaultText:"10:30 Obligatoriskt informationsmöte vid starten på Lassalyckan stadion.",tag:"p",className:"schedule-item"}),u.jsx(z,{textKey:"hemsedal-saturday-schedule3",defaultText:"11:00 Start AIM Challenge, på Lassalyckan stadion. Gemensam start för 3 & 6-timmars tävlingen.",tag:"p",className:"schedule-item"}),u.jsx(z,{textKey:"hemsedal-saturday-schedule4",defaultText:"14:00 Målgång för 3-timmars tävlingen.",tag:"p",className:"schedule-item"}),u.jsx(z,{textKey:"hemsedal-saturday-schedule5",defaultText:"ca 15:30 Prisutdelning 3-timmars tävlingen",tag:"p",className:"schedule-item"}),u.jsx(z,{textKey:"hemsedal-saturday-schedule6",defaultText:"16:30 - 20:00 After AIM med mat och dryck på Hotell Lassalyckan.",tag:"p",className:"schedule-item"}),u.jsx(z,{textKey:"hemsedal-saturday-schedule7",defaultText:"17:00 Målgång för 6-timmars tävlingen.",tag:"p",className:"schedule-item"}),u.jsx(z,{textKey:"hemsedal-saturday-schedule8",defaultText:"19:00 Prisutdelning utanför Hotell Lassalyckan.",tag:"p",className:"schedule-item"})]})]})]})]})})}),u.jsx("section",{className:"hemsedal-price-section",children:u.jsx("div",{className:"price-container",children:u.jsxs("div",{className:"price-image-container",children:[u.jsx("img",{src:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_094.jpg",alt:"Climbing in Hemsedal",className:"price-background-image"}),u.jsx("div",{className:"price-overlay",children:u.jsxs("div",{className:"price-content",children:[u.jsx(z,{textKey:"hemsedal-price-title",defaultText:"PRIS",tag:"h2",className:"section-title"}),u.jsx(z,{textKey:"hemsedal-price-subtitle",defaultText:"HEMSEDAL 24/8-2024",tag:"h3",className:"price-subtitle"}),u.jsxs("div",{className:"price-categories",children:[u.jsxs("div",{className:"price-category",children:[u.jsx(z,{textKey:"hemsedal-price-3h-title",defaultText:"3-TIMMARS",tag:"h4",className:"category-title"}),u.jsx(z,{textKey:"hemsedal-price-3h-1",defaultText:"1500 SEK / lag för Early Bird-anmälan innan 1 november.",tag:"p",className:"price-item"}),u.jsx(z,{textKey:"hemsedal-price-3h-2",defaultText:"1700 SEK / lag för anmälan mellan 1 november och 1 februari.",tag:"p",className:"price-item"}),u.jsx(z,{textKey:"hemsedal-price-3h-3",defaultText:"1900 SEK / lag för anmälan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(z,{textKey:"hemsedal-price-3h-4",defaultText:"2100 SEK / lag för anmälan från 25 april och fram till start.",tag:"p",className:"price-item"})]}),u.jsxs("div",{className:"price-category",children:[u.jsx(z,{textKey:"hemsedal-price-6h-title",defaultText:"6-TIMMARS",tag:"h4",className:"category-title"}),u.jsx(z,{textKey:"hemsedal-price-6h-1",defaultText:"1900 SEK / lag för Early Bird-anmälan innan 1 november.",tag:"p",className:"price-item"}),u.jsx(z,{textKey:"hemsedal-price-6h-2",defaultText:"2100 SEK / lag för anmälan mellan 1 november och 1 februari.",tag:"p",className:"price-item"}),u.jsx(z,{textKey:"hemsedal-price-6h-3",defaultText:"2300 SEK / lag för anmälan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(z,{textKey:"hemsedal-price-6h-4",defaultText:"2500 SEK / lag för anmälan från 25 april och fram till start.",tag:"p",className:"price-item"})]})]}),u.jsxs("div",{className:"price-category trippeln-category",children:[u.jsx(z,{textKey:"hemsedal-price-trippeln-title",defaultText:"AIM CHALLENGE TRIPPELN 2025",tag:"h4",className:"category-title"}),u.jsx(z,{textKey:"hemsedal-price-trippeln-1",defaultText:"4750 SEK / lag för Early Bird-anmälan innan 1 januari.",tag:"p",className:"price-item"}),u.jsx(z,{textKey:"hemsedal-price-trippeln-2",defaultText:"5250 SEK / lag för anmälan mellan 1 januari och 1 februari.",tag:"p",className:"price-item"}),u.jsx(z,{textKey:"hemsedal-price-trippeln-3",defaultText:"5750 SEK / lag för anmälan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(z,{textKey:"hemsedal-price-trippeln-4",defaultText:"6250 SEK / lag för anmälan efter den 25 april.",tag:"p",className:"price-item"})]}),u.jsx("div",{className:"price-button-container",children:u.jsx("a",{href:"https://raceid.com/sv/races/13015/about",target:"_blank",rel:"noopener noreferrer",className:"price-anmalan-button",children:u.jsx("p",{children:"TA MIG TILL ANMÄLAN"})})})]})})]})})}),u.jsxs("section",{id:"latest-news",className:"latest-news-section",children:[u.jsx("h2",{className:"latest-news-title",children:"SENASTE NYTT HEMSEDAL"}),u.jsxs("div",{className:"latest-news-container",children:[u.jsxs("div",{className:"news-card",children:[u.jsx("div",{className:"news-image",children:u.jsx("img",{src:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg",alt:"News"})}),u.jsxs("div",{className:"news-content",children:[u.jsx("h3",{className:"news-location",children:"NYHETSARTIKEL 1"}),u.jsx("p",{className:"news-description",children:"Brödtext om tävlingen, 2 korta em-ningar"}),u.jsx("div",{className:"news-button",children:u.jsx(_e,{to:"/news/1",className:"button-2",children:u.jsx("span",{children:"LÄS MER"})})})]})]}),u.jsxs("div",{className:"news-card",children:[u.jsx("div",{className:"news-image",children:u.jsx("img",{src:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg",alt:"News"})}),u.jsxs("div",{className:"news-content",children:[u.jsx("h3",{className:"news-location",children:"NYHETSARTIKEL 2"}),u.jsx("p",{className:"news-description",children:"Brödtext om tävlingen, 2 korta em-ningar"}),u.jsx("div",{className:"news-button",children:u.jsx(_e,{to:"/news/2",className:"button-2",children:u.jsx("span",{children:"LÄS MER"})})})]})]}),u.jsxs("div",{className:"news-card",children:[u.jsx("div",{className:"news-image",children:u.jsx("img",{src:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg",alt:"News"})}),u.jsxs("div",{className:"news-content",children:[u.jsx("h3",{className:"news-location",children:"NYHETSARTIKEL 3"}),u.jsx("p",{className:"news-description",children:"Brödtext om tävlingen, 2 korta em-ningar"}),u.jsx("div",{className:"news-button",children:u.jsx(_e,{to:"/news/3",className:"button-2",children:u.jsx("span",{children:"LÄS MER"})})})]})]})]})]}),u.jsx("section",{className:"useful-links-section",children:u.jsxs("div",{className:"useful-links-container",children:[u.jsx("h2",{className:"useful-links-title",children:"NYTTIGA LÄNKAR"}),u.jsxs("div",{className:"links-category",children:[u.jsx("h3",{className:"links-category-title",children:"Cykeluthyrning"}),u.jsxs("p",{className:"links-text",children:["Cykeluthyrning med in- och utlämning på Lassalyckan Stadion."," ",u.jsx("a",{href:"#",className:"links-link",children:"Läs mer och boka här."})]})]}),u.jsxs("div",{className:"links-category",children:[u.jsx("h3",{className:"links-category-title",children:"Boende"}),u.jsx("p",{className:"links-text",children:"Önskar du att bo nära start och mål så kan vi varmt rekommendera Hotell Lassalyckan som erbjuder ett modernt boende ett stenkast ifrån starten."}),u.jsx("a",{href:"https://www.hotell-lassalyckan.se",className:"links-link",target:"_blank",rel:"noopener noreferrer",children:"https://www.hotell-lassalyckan.se"})]}),u.jsxs("div",{className:"links-category",children:[u.jsx("h3",{className:"links-category-title",children:"Mat"}),u.jsx("p",{className:"links-text",children:"Önskar du att bo nära start och mål så kan vi varmt rekommendera Hotell Lassalyckan som erbjuder ett modernt boende ett stenkast ifrån starten."})]})]})}),u.jsxs("section",{className:"sponsors-section",children:[u.jsx("h2",{className:"sponsors-title",children:"LOKALA SPONSORER"}),u.jsxs("div",{className:"sponsors-container",children:[u.jsx("div",{className:"s-sponsor-logo side-logo",children:u.jsx("img",{src:"images/UD Logo.png",alt:"UD Logo"})}),u.jsx("div",{className:"s-sponsor-logo main-logo",children:u.jsx("img",{src:"images/Aim_Challenge_logo_white.svg",alt:"AIM Challenge"})}),u.jsx("div",{className:"s-sponsor-logo side-logo",children:u.jsx("img",{src:"images/holdut_logo_sort_1.png",alt:"Holdut Logo"})})]})]})]}),hD=()=>u.jsxs("div",{className:"kolmarden-container",children:[u.jsx("section",{className:"kolmarden-hero-section",children:u.jsx("div",{className:"hero-content",children:u.jsx("div",{className:"hero-image-container",children:u.jsx("img",{src:"/images/Kolmarden_1.jpg",alt:"Kolmarden Event"})})})}),u.jsx("section",{className:"kolmarden-title-section",children:u.jsxs("div",{className:"title-container",children:[u.jsx(z,{textKey:"kolmarden-title",defaultText:"KOLMÅRDEN",tag:"h1",className:"location-title"}),u.jsx(z,{textKey:"kolmarden-date",defaultText:"10 MAJ 2025",tag:"h2",className:"location-date"})]})}),u.jsx("section",{className:"kolmarden-button-section",children:u.jsx("div",{className:"button-container",children:u.jsx("a",{href:"https://raceid.com/sv/races/12846/about",target:"_blank",rel:"noopener noreferrer",className:"anmalan-button",children:u.jsx("p",{children:"TA MIG TILL ANMÄLAN"})})})}),u.jsx("section",{className:"kolmarden-program-section",children:u.jsx("div",{className:"program-container",children:u.jsxs("div",{className:"program-cards",children:[u.jsx("div",{className:"program-card image-card",children:u.jsx("img",{src:"/images/Kolmarden_2.jpg",alt:"Kolmarden Event"})}),u.jsxs("div",{className:"program-card info-card",children:[u.jsx(z,{textKey:"kolmarden-program-title",defaultText:"PROGRAM",tag:"h2",className:"program-title"}),u.jsxs("div",{className:"program-schedule",children:[u.jsxs("div",{className:"program-day",children:[u.jsx(z,{textKey:"kolmarden-friday-title",defaultText:"Fredag 9/5",tag:"h3",className:"day-title"}),u.jsx(z,{textKey:"kolmarden-friday-schedule",defaultText:"17:00 - 19:00 Nummerlappsutdelning på XCC",tag:"p",className:"schedule-item"})]}),u.jsxs("div",{className:"program-day",children:[u.jsx(z,{textKey:"kolmarden-saturday-title",defaultText:"Lördag 10/5",tag:"h3",className:"day-title"}),u.jsx(z,{textKey:"kolmarden-saturday-schedule1",defaultText:"08:30 - 10:15 Registrering för alla tävlande som ej registrerat sig under fredagen på 157 XCC, på Lassalyckan.",tag:"p",className:"schedule-item"}),u.jsx(z,{textKey:"kolmarden-saturday-schedule2",defaultText:"10:30 Obligatoriskt informationsmöte vid starten på Lassalyckan stadion.",tag:"p",className:"schedule-item"}),u.jsx(z,{textKey:"kolmarden-saturday-schedule3",defaultText:"11:00 Start AIM Challenge, på Lassalyckan stadion. Gemensam start för 3 & 6-timmars tävlingen.",tag:"p",className:"schedule-item"}),u.jsx(z,{textKey:"kolmarden-saturday-schedule4",defaultText:"14:00 Målgång för 3-timmars tävlingen.",tag:"p",className:"schedule-item"}),u.jsx(z,{textKey:"kolmarden-saturday-schedule5",defaultText:"ca 15:30 Prisutdelning 3-timmars tävlingen",tag:"p",className:"schedule-item"}),u.jsx(z,{textKey:"kolmarden-saturday-schedule6",defaultText:"16:30 - 20:00 After AIM med mat och dryck på Hotell Lassalyckan.",tag:"p",className:"schedule-item"}),u.jsx(z,{textKey:"kolmarden-saturday-schedule7",defaultText:"17:00 Målgång för 6-timmars tävlingen.",tag:"p",className:"schedule-item"}),u.jsx(z,{textKey:"kolmarden-saturday-schedule8",defaultText:"19:00 Prisutdelning utanför Hotell Lassalyckan.",tag:"p",className:"schedule-item"})]})]})]})]})})}),u.jsx("section",{className:"kolmarden-price-section",children:u.jsx("div",{className:"price-container",children:u.jsxs("div",{className:"price-image-container",children:[u.jsx("img",{src:"/images/Kolmarden_1.jpg",alt:"Climbing in Kolmarden",className:"price-background-image"}),u.jsx("div",{className:"price-overlay",children:u.jsxs("div",{className:"price-content",children:[u.jsx(z,{textKey:"kolmarden-price-title",defaultText:"PRIS",tag:"h2",className:"section-title"}),u.jsx(z,{textKey:"kolmarden-price-subtitle",defaultText:"KOLMADERN 10/5-2025",tag:"h3",className:"price-subtitle"}),u.jsxs("div",{className:"price-categories",children:[u.jsxs("div",{className:"price-category",children:[u.jsx(z,{textKey:"kolmarden-price-3h-title",defaultText:"3-TIMMARS",tag:"h4",className:"category-title"}),u.jsx(z,{textKey:"kolmarden-price-3h-1",defaultText:"1500 SEK / lag för Early Bird-anmälan innan 1 november.",tag:"p",className:"price-item"}),u.jsx(z,{textKey:"kolmarden-price-3h-2",defaultText:"1700 SEK / lag för anmälan mellan 1 november och 1 februari.",tag:"p",className:"price-item"}),u.jsx(z,{textKey:"kolmarden-price-3h-3",defaultText:"1900 SEK / lag för anmälan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(z,{textKey:"kolmarden-price-3h-4",defaultText:"2100 SEK / lag för anmälan från 25 april och fram till start.",tag:"p",className:"price-item"})]}),u.jsxs("div",{className:"price-category",children:[u.jsx(z,{textKey:"kolmarden-price-6h-title",defaultText:"6-TIMMARS",tag:"h4",className:"category-title"}),u.jsx(z,{textKey:"kolmarden-price-6h-1",defaultText:"1900 SEK / lag för Early Bird-anmälan innan 1 november.",tag:"p",className:"price-item"}),u.jsx(z,{textKey:"kolmarden-price-6h-2",defaultText:"2100 SEK / lag för anmälan mellan 1 november och 1 februari.",tag:"p",className:"price-item"}),u.jsx(z,{textKey:"kolmarden-price-6h-3",defaultText:"2300 SEK / lag för anmälan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(z,{textKey:"kolmarden-price-6h-4",defaultText:"2500 SEK / lag för anmälan från 25 april och fram till start.",tag:"p",className:"price-item"})]})]}),u.jsxs("div",{className:"price-category trippeln-category",children:[u.jsx(z,{textKey:"kolmarden-price-trippeln-title",defaultText:"AIM CHALLENGE TRIPPELN 2025",tag:"h4",className:"category-title"}),u.jsx(z,{textKey:"kolmarden-price-trippeln-1",defaultText:"4750 SEK / lag för Early Bird-anmälan innan 1 januari.",tag:"p",className:"price-item"}),u.jsx(z,{textKey:"kolmarden-price-trippeln-2",defaultText:"5250 SEK / lag för anmälan mellan 1 januari och 1 februari.",tag:"p",className:"price-item"}),u.jsx(z,{textKey:"kolmarden-price-trippeln-3",defaultText:"5750 SEK / lag för anmälan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(z,{textKey:"kolmarden-price-trippeln-4",defaultText:"6250 SEK / lag för anmälan efter den 25 april.",tag:"p",className:"price-item"})]}),u.jsx("div",{className:"price-button-container",children:u.jsx("a",{href:"https://raceid.com/sv/races/12846/about",target:"_blank",rel:"noopener noreferrer",className:"price-anmalan-button",children:u.jsx("p",{children:"TA MIG TILL ANMÄLAN"})})})]})})]})})}),u.jsxs("section",{id:"latest-news",className:"latest-news-section",children:[u.jsx("h2",{className:"latest-news-title",children:"SENASTE NYTT KOLMADERN"}),u.jsxs("div",{className:"latest-news-container",children:[u.jsxs("div",{className:"news-card",children:[u.jsx("div",{className:"news-image",children:u.jsx("img",{src:"/images/Kolmarden_2.jpg",alt:"News"})}),u.jsxs("div",{className:"news-content",children:[u.jsx("h3",{className:"news-location",children:"NYHETSARTIKEL 1"}),u.jsx("p",{className:"news-description",children:"Brödtext om tävlingen, 2 korta em-ningar"}),u.jsx("div",{className:"news-button",children:u.jsx(_e,{to:"/news/1",className:"button-2",children:u.jsx("span",{children:"LÄS MER"})})})]})]}),u.jsxs("div",{className:"news-card",children:[u.jsx("div",{className:"news-image",children:u.jsx("img",{src:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg",alt:"News"})}),u.jsxs("div",{className:"news-content",children:[u.jsx("h3",{className:"news-location",children:"NYHETSARTIKEL 2"}),u.jsx("p",{className:"news-description",children:"Brödtext om tävlingen, 2 korta em-ningar"}),u.jsx("div",{className:"news-button",children:u.jsx(_e,{to:"/news/2",className:"button-2",children:u.jsx("span",{children:"LÄS MER"})})})]})]}),u.jsxs("div",{className:"news-card",children:[u.jsx("div",{className:"news-image",children:u.jsx("img",{src:"/images/Kolmarden_3.jpg",alt:"News"})}),u.jsxs("div",{className:"news-content",children:[u.jsx("h3",{className:"news-location",children:"NYHETSARTIKEL 3"}),u.jsx("p",{className:"news-description",children:"Brödtext om tävlingen, 2 korta em-ningar"}),u.jsx("div",{className:"news-button",children:u.jsx(_e,{to:"/news/3",className:"button-2",children:u.jsx("span",{children:"LÄS MER"})})})]})]})]})]}),u.jsx("section",{className:"useful-links-section",children:u.jsxs("div",{className:"useful-links-container",children:[u.jsx("h2",{className:"useful-links-title",children:"NYTTIGA LÄNKAR"}),u.jsxs("div",{className:"links-category",children:[u.jsx("h3",{className:"links-category-title",children:"Cykeluthyrning"}),u.jsxs("p",{className:"links-text",children:["Cykeluthyrning med in- och utlämning på Lassalyckan Stadion."," ",u.jsx("a",{href:"#",className:"links-link",children:"Läs mer och boka här."})]})]}),u.jsxs("div",{className:"links-category",children:[u.jsx("h3",{className:"links-category-title",children:"Boende"}),u.jsx("p",{className:"links-text",children:"Önskar du att bo nära start och mål så kan vi varmt rekommendera Hotell Lassalyckan som erbjuder ett modernt boende ett stenkast ifrån starten."}),u.jsx("a",{href:"https://www.hotell-lassalyckan.se",className:"links-link",target:"_blank",rel:"noopener noreferrer",children:"https://www.hotell-lassalyckan.se"})]}),u.jsxs("div",{className:"links-category",children:[u.jsx("h3",{className:"links-category-title",children:"Mat"}),u.jsx("p",{className:"links-text",children:"Önskar du att bo nära start och mål så kan vi varmt rekommendera Hotell Lassalyckan som erbjuder ett modernt boende ett stenkast ifrån starten."})]})]})}),u.jsxs("section",{className:"sponsors-section",children:[u.jsx("h2",{className:"sponsors-title",children:"LOKALA SPONSORER"}),u.jsxs("div",{className:"sponsors-container",children:[u.jsx("div",{className:"s-sponsor-logo side-logo",children:u.jsx("img",{src:"images/UD Logo.png",alt:"UD Logo"})}),u.jsx("div",{className:"s-sponsor-logo main-logo",children:u.jsx("img",{src:"images/Aim_Challenge_logo_white.svg",alt:"AIM Challenge"})}),u.jsx("div",{className:"s-sponsor-logo side-logo",children:u.jsx("img",{src:"images/holdut_logo_sort_1.png",alt:"Holdut Logo"})})]})]})]}),dD=()=>u.jsxs("div",{className:"MaxWH location",children:[u.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",children:u.jsx("div",{className:"trans-background page_01box flex flex_col flex_j_SA",children:u.jsx("p",{className:"font_blue fonts_huge",children:"AIM CHALLENGE TRIPPELN"})})}),u.jsxs("section",{className:"trippeln-section trippeln-bg",children:[u.jsx("div",{className:"trippeln-content trans-background",children:u.jsxs("div",{className:"font_blue",children:[u.jsx("p",{className:"fonts_medium",children:"Trippeln är en tävling i tävlingen där de som deltar i minst tre av årets deltävlingar är med och tävlar om den mycket hedervärda titeln Vinnare av AIM Challenge Trippeln!"}),u.jsx("br",{}),u.jsx("p",{children:"AIM Challenge Trippeln ersätter Landskampen som sedan 2010 har varit en tävling i tävlingen för de som genomfört AIM Challenge både i Lindvallen och Hemsedal. En tävling där det tävlats för antingen Sverige eller Norge, där det vinnande landet har hyllats och den som bidragit mest till sitt land har prisats."}),u.jsx("br",{}),u.jsx("p",{children:"Med AIM Challenge Trippeln lägger vi ner stridsyxan mellan Sverige och Norge och gör det därmed möjligt att även köra mixade lag mellan olika nationer utan att detta skapar en konflikt."}),u.jsx("br",{}),u.jsx("p",{className:"fonts_medium",children:"Hur går AIM Challenge Trippeln till:"}),u.jsx("br",{}),u.jsx("p",{children:"AIM Challenge Trippeln är en tävling i tävlingen för de lag som deltar på minst tre deltävlingar under ett och samma år. Tävlingarna som ingår är Ulricehamn, Sälen, Hemsedal och Kolmården. Det är fritt för laget att välja om ni önskar att delta i 3- eller 6-timmars tävlingen i Ulricehamn och Kolmården, båda anses att vara likvärdiga för Trippeln."}),u.jsx("br",{}),u.jsx("p",{children:"Vid anmälan till Trippeln blir man per automatik anmäld till alla fyra deltävlingar och väljer själv om man vill delta i tre eller fyra tävlingar. Priset för att anmäla sig till trippeln är rabatterat och blir billigare redan vid start i tre deltävlingar. Skulle ett lag delta i alla fyra deltävlingarna så räknas de tre bästa resultaten till Trippeln."}),u.jsx("br",{}),u.jsx("p",{children:"Det gäller att samla så många poäng som möjligt under årets tävlingar där varje lag får räkna in sina tre bästa resultat från det gångna året. Vinnaren av AIM Challenge Trippeln kommer att utses genom ett poängsystem som bygger på hur många poäng laget fått procentuellt i förhållande till vinnarlaget i respektive klass. Varje lag kommer då få en poängsumma mellan 1 och 100 per tävling och efter alla deltävlingarna kommer dessa poäng att adderas och det lag med högst sammanlagda poäng kommer att stå på prispallen! Skulle två lag få samma sammanlagda poäng så kommer vi se på placeringar i de enskilda loppen för att utse en vinnare."}),u.jsx("br",{}),u.jsx("p",{children:"Vid anmälan till AIM Challenge Trippeln så anmäler sig laget till alla fyra deltävlingarna, varav minst tre måste genomföras för att få ett resultat i Trippeln. Ett lag består av två personer, men om någon i laget skulle få förhinder inför någon av tävlingarna så gäller följande: För att resultatet i Trippeln skall bli godkänt så måste minst en i laget delta i alla tre tävlingarna, samt att deltagare 2 deltar vid minst två deltävlingar. Det vill säga att det är möjligt att ta in en reserv under en av deltävlingarna och fortfarande tävla som lag om den hedervärda titeln! I det fall deltagare 1 tävlat med tre olika lagkompisar under året är det enbart den som deltagit vid alla tre tävlingarna som kommer att premieras."}),u.jsx("br",{}),u.jsx("p",{children:"Det är inte möjligt att sälja sin startplats i Trippeln vidare för den tävling som laget eventuellt inte deltar i."})]})}),u.jsx("div",{className:"trippeln-spacer"})]}),u.jsx("section",{className:"ulric-button-section-bg flex flex_j_C flex_a_C",children:u.jsx("a",{href:"https://raceid.com/sv/races/13016/about",target:"_blank",rel:"noopener noreferrer",className:"ulric-button flex flex_j_C flex_a_C",children:u.jsx("p",{className:"font_white fonts_medium",children:"TA MIG TILL ANMÄLAN"})})})]}),fD=({onClose:s,onUploadSuccess:e,years:n=["2023","2022","2021","2020","2019","2018","2017","2016","2015"],categories:a=["Herrar","Damer","Mixed"],durations:l=["3 timmar","6 timmar","12 timmar","24 timmar"],locations:c=["Ulricehamn","Borås","Göteborg","Jönköping","Stockholm"],year:d})=>{const{currentUser:g}=gr(),[p,y]=P.useState("Ulricehamn"),[E,b]=P.useState(d||"2023"),[w,j]=P.useState("Herrar"),[O,K]=P.useState("3 timmar"),[M,H]=P.useState(null),[G,$]=P.useState(""),[ee,J]=P.useState(!1),re=N=>{const S=N.target.files[0];S&&(H(S),$(""))},V=async N=>{if(N.preventDefault(),!M){$("Please select a file to upload");return}J(!0),$("");try{const S=rr(cr,`results/${M.name}`),k=await cd(S,M),R=`https://firebasestorage.googleapis.com/v0/b/${k.ref.bucket}/o/${encodeURIComponent(k.ref.fullPath)}?alt=media`,L={year:parseInt(E),location:p,category:w,duration:O,fileName:M.name,fileUrl:R,uploadedAt:new Date().toISOString(),uploadedBy:g.uid},I=`${E}_${p}_${w}_${Date.now()}`;await bl(Nn(Qt,"results",I),{...L,id:I}),H(null),e({...L,id:I}),s()}catch(S){console.error("Upload failed:",S),$("Upload failed: "+S.message)}finally{J(!1)}};return u.jsx("div",{className:"result-upload-modal-overlay",children:u.jsxs("div",{className:"result-upload-modal",children:[u.jsxs("div",{className:"result-upload-modal-header",children:[u.jsx("h2",{children:"Ladda upp resultat"}),u.jsx("button",{className:"result-upload-modal-close",onClick:s,children:"×"})]}),u.jsx("div",{className:"result-upload-modal-body",children:u.jsxs("form",{className:"result-upload-modal-form",onSubmit:V,children:[u.jsxs("div",{className:"result-upload-modal-field",children:[u.jsx("label",{children:"Plats"}),u.jsx("select",{className:"result-upload-modal-select",value:p,onChange:N=>y(N.target.value),children:c.map((N,S)=>u.jsx("option",{value:N,children:N},S))})]}),u.jsxs("div",{className:"result-upload-modal-field",children:[u.jsx("label",{children:"År"}),u.jsx("select",{className:"result-upload-modal-select",value:E,onChange:N=>b(N.target.value),children:n.map((N,S)=>u.jsx("option",{value:N,children:N},S))})]}),u.jsxs("div",{className:"result-upload-modal-field",children:[u.jsx("label",{children:"Kategori"}),u.jsx("select",{className:"result-upload-modal-select",value:w,onChange:N=>j(N.target.value),children:a.map((N,S)=>u.jsx("option",{value:N,children:N},S))})]}),u.jsxs("div",{className:"result-upload-modal-field",children:[u.jsx("label",{children:"Distans"}),u.jsx("select",{className:"result-upload-modal-select",value:O,onChange:N=>K(N.target.value),children:l.map((N,S)=>u.jsx("option",{value:N,children:N},S))})]}),u.jsxs("div",{className:"result-upload-modal-field",children:[u.jsx("label",{children:"Fil"}),u.jsx("input",{type:"file",className:"result-upload-modal-file-input",onChange:re,accept:".txt,.pdf,.doc,.docx,.xls,.xlsx"})]}),G&&u.jsx("div",{className:"result-upload-modal-error",children:G}),u.jsxs("div",{className:"result-upload-modal-actions",children:[u.jsx("button",{type:"button",className:"result-upload-modal-cancel",onClick:s,disabled:ee,children:"Avbryt"}),u.jsx("button",{type:"submit",className:"result-upload-modal-submit",disabled:ee||!M,children:ee?"Laddar upp...":"Ladda upp"})]})]})})]})})},mD=ia(Qt,"results"),gD=async(s={})=>{try{let e=Fo(mD);s.year&&(e=Fo(e,th("year","==",parseInt(s.year)))),s.category&&(e=Fo(e,th("category","==",s.category))),s.duration&&(e=Fo(e,th("duration","==",s.duration))),s.location&&(e=Fo(e,th("location","==",s.location)));const n=await ip(e),a=[];return n.forEach(l=>{const c=l.data();a.push({id:l.id,...c,year:parseInt(c.year)})}),console.log("Firebase results:",a),a}catch(e){throw console.error("Error getting results:",e),e}},pD=async(s,e)=>{try{if(await wT(Nn(Qt,"results",s)),e){const n=rr(cr,e);await dp(n)}}catch(n){throw console.error("Error deleting result:",n),n}},yD=()=>{const{currentUser:s}=gr(),[e,n]=P.useState("all"),[a,l]=P.useState("all"),[c,d]=P.useState("all"),[g,p]=P.useState([]),[y,E]=P.useState(!0),[b,w]=P.useState(!1),[j,O]=P.useState(""),K=(s==null?void 0:s.role)==="admin",M=[2025,2024,2023,2022,2021,2020,2019,2018],H=["Herrar","Damer","Mixed"],G=["3 timmar","6 timmar"],$=["Ulricehamn","Sälen","Hemsedal","Kolmården"];P.useEffect(()=>{console.log("Fetching results..."),ee()},[]);const ee=async()=>{try{E(!0),O(""),console.log("Getting results from Firebase...");const k=await gD({});console.log("Got results:",k),p(k||[])}catch(k){console.error("Error fetching results:",k),O("Failed to load results. Please try again later.")}finally{E(!1)}},J=async k=>{if(window.confirm("Är du säker på att du vill ta bort detta resultat?"))try{E(!0);const R=g.find(I=>I.id===k);await pD(k,R.fileUrl);const L=g.filter(I=>I.id!==k);p(L)}catch(R){console.error("Error deleting result:",R),O("Failed to delete result. Please try again.")}finally{E(!1)}},re=()=>{w(!0)},V=()=>{w(!1)},N=k=>{console.log("New result:",k),p(R=>[k,...R]),V()},S=k=>{let R=[...g];return e!=="all"&&(R=R.filter(L=>L.year===parseInt(e))),a!=="all"&&(R=R.filter(L=>L.category===a)),c!=="all"&&(R=R.filter(L=>L.duration===c)),R=R.filter(L=>L.location===k),console.log("Filtered results for",k,":",R),R};return u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"results-header-banner"}),u.jsxs("div",{className:"results-container",children:[u.jsx("h1",{className:"results-header-title",children:"Multisport för alla"}),u.jsxs("section",{className:"results-filters-section",children:[u.jsxs("div",{className:"results-filters",children:[u.jsxs("select",{value:e,onChange:k=>n(k.target.value),className:"results-filter-select",children:[u.jsx("option",{value:"all",children:"Alla År"}),M.map(k=>u.jsx("option",{value:k,children:k},k))]}),u.jsxs("select",{value:a,onChange:k=>l(k.target.value),className:"results-filter-select",children:[u.jsx("option",{value:"all",children:"Alla Kategorier"}),H.map(k=>u.jsx("option",{value:k,children:k},k))]}),u.jsxs("select",{value:c,onChange:k=>d(k.target.value),className:"results-filter-select",children:[u.jsx("option",{value:"all",children:"Alla Distanser"}),G.map(k=>u.jsx("option",{value:k,children:k},k))]})]}),u.jsx("div",{className:"results-upload-section",children:K&&u.jsx("button",{onClick:re,className:"upload-result-button",children:"Ladda upp resultat"})})]}),j&&u.jsx("div",{className:"results-error",children:j}),u.jsx("section",{className:"results-content-section",children:u.jsx("div",{className:"results-grid",children:$.map(k=>u.jsxs("div",{className:"results-location-card",children:[u.jsx("h2",{className:"results-location-title",children:k}),u.jsx("div",{className:"results-list",children:y?u.jsx("div",{className:"results-loading",children:"Laddar..."}):S(k).map(R=>u.jsxs("div",{className:"results-item",children:[u.jsx("a",{href:R.fileUrl,target:"_blank",rel:"noopener noreferrer",className:"results-link",children:u.jsxs("div",{className:"results-info",children:[u.jsx("span",{className:"results-year",children:R.year}),u.jsx("span",{className:"results-category",children:R.category}),u.jsx("span",{className:"results-duration",children:R.duration})]})}),K&&u.jsx("button",{onClick:()=>J(R.id),className:"results-delete-button",children:"Ta bort"})]},R.id))})]},k))})}),b&&u.jsx(fD,{onClose:V,onUploadSuccess:N,isAdmin:K,locations:$,years:M,categories:H,durations:G})]})]})},_D=()=>{const[s,e]=P.useState(null),[n,a]=P.useState([]),[l,c]=P.useState(1),d=8,[g,p]=P.useState({}),y=P.useMemo(()=>["/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_025.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_057.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_065.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_094.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_113.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_138.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_150.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_202.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_209.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_213.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_235.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_246.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_265.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_352.jpg","/AimRV/images/EE-AIMChallenge24-Uhamn-0132-high.jpg","/AimRV/images/EE-AIMChallenge24-Uhamn-0136-high.jpg","/AimRV/images/EE-AIMChallenge24-Uhamn-0171-high.jpg","/AimRV/images/EE-AIMChallenge24-Uhamn-0405-high.jpg","/AimRV/images/Kolmarden_1.jpg","/AimRV/images/Kolmarden_2.jpg"],[]),E=P.useCallback(()=>{const O=(l-1)*d,K=l*d,M=y.slice(O,K);a(H=>[...H,...M]),c(H=>H+1)},[l,y,d]);P.useEffect(()=>{E()},[E]),P.useEffect(()=>{const O=()=>{window.innerHeight+document.documentElement.scrollTop>=document.documentElement.offsetHeight-100&&(l-1)*d<y.length&&E()};return window.addEventListener("scroll",O),()=>window.removeEventListener("scroll",O)},[E,l,y.length,d]),P.useEffect(()=>{if(s!==null){const O=new Image;O.src=n[s],O.onload=()=>{p(K=>({...K,[s]:!0}))}}},[s,n]);const b=O=>{e(s===O?null:O)},j=(()=>{const O=[];let K=[],M=4;return n.forEach((H,G)=>{K.push({image:H,index:G}),K.length===M&&(O.push(K),K=[],M=M===4?3:4)}),K.length>0&&O.push(K),O})();return u.jsxs("div",{children:[u.jsx("div",{style:{height:"120px"}}),u.jsxs("div",{className:"gallery-container",style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"0.1rem",padding:"0.25rem",position:"relative"},children:[j.map((O,K)=>u.jsx("div",{style:{display:"flex",justifyContent:"center",gap:"3rem",width:"100%",marginBottom:"-20px",paddingLeft:O.length===3?"10%":"0",paddingRight:O.length===3?"10%":"0"},children:O.map(({image:M,index:H})=>{const G=s===H;return u.jsx("div",{onClick:()=>b(H),style:{width:G?"80vw":"250px",height:G?"80vh":"250px",transition:"all 0.5s ease",cursor:"pointer",position:G?"fixed":"relative",top:G?"50%":"auto",left:G?"50%":"auto",transform:G?"translate(-50%, -50%) rotate(0deg)":"rotate(45deg) scale(0.9)",zIndex:G?1e3:1,border:"2px solid #00a6fb",borderRadius:"8px",overflow:"hidden",boxShadow:"0 4px 8px rgba(0, 166, 251, 0.3)",margin:"0.1rem 1.5rem"},children:u.jsx("img",{src:M,alt:`Gallery image ${H+1}`,loading:"lazy",width:G?"auto":"250",height:G?"auto":"250",style:{width:"100%",height:"100%",objectFit:"cover",transform:G?"rotate(0deg) scale(1)":"rotate(-45deg) scale(1.5)"}})},H)})},K)),s!==null&&u.jsx("div",{onClick:()=>e(null),style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.8)",zIndex:999}}),n.length<y.length&&u.jsx("div",{style:{width:"100%",textAlign:"center",padding:"2rem"},children:u.jsx("button",{onClick:E,style:{padding:"0.75rem 1.5rem",backgroundColor:"#00a6fb",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"1rem",fontWeight:"bold"},children:"Load More Images"})})]}),u.jsx("div",{style:{height:"80px"}})]})},vD=()=>{const[s,e]=P.useState(0),[n,a]=P.useState(!1),l=P.useRef([]),c=[{id:1,src:"/videos/AIM nr 1 Formula 16x9.mov",title:"AIM Challenge Formula",description:"Highlights from the AIM Challenge Formula event"},{id:2,src:"/videos/AIM nr 1 Formula 16x9.mov",title:"AIM Challenge Highlights",description:"More exciting moments from the AIM Challenge"},{id:3,src:"/videos/AIM nr 1 Formula 16x9.mov",title:"AIM Challenge Recap",description:"A recap of the amazing AIM Challenge events"}];P.useEffect(()=>{l.current=l.current.slice(0,c.length)},[c.length]);const d=y=>{l.current.forEach((E,b)=>{b!==y&&E&&E.pause()}),a(!0),e(y)},g=()=>{e(y=>(y+1)%c.length)},p=()=>{e(y=>(y-1+c.length)%c.length)};return u.jsxs("div",{className:"video-carousel-container",style:{padding:"80px 0 40px 0",backgroundColor:"#f0f8ff",borderTop:"1px solid #e0e0e0",width:"100%",maxWidth:"100%"},children:[u.jsx("h2",{style:{textAlign:"center",marginBottom:"30px",color:"#00a6fb",fontSize:"2rem"},children:"AIM Challenge Videos"}),u.jsxs("div",{style:{position:"relative",width:"100%",margin:"0 auto",overflow:"hidden"},children:[u.jsx("button",{onClick:p,style:{position:"absolute",left:"10px",top:"50%",transform:"translateY(-50%)",zIndex:10,background:"rgba(0, 166, 251, 0.7)",color:"white",border:"none",borderRadius:"50%",width:"50px",height:"50px",fontSize:"24px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.3)"},"aria-label":"Previous video",children:"<"}),u.jsx("button",{onClick:g,style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",zIndex:10,background:"rgba(0, 166, 251, 0.7)",color:"white",border:"none",borderRadius:"50%",width:"50px",height:"50px",fontSize:"24px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.3)"},"aria-label":"Next video",children:">"}),u.jsx("div",{style:{display:"flex",transition:"transform 0.5s ease",transform:`translateX(${s*-100}%)`,width:"100%",position:"relative"},children:c.map((y,E)=>u.jsx("div",{style:{flex:"0 0 100%",padding:"0 20px",boxSizing:"border-box",width:"100%"},children:u.jsxs("div",{style:{background:"#fff",borderRadius:"8px",overflow:"hidden",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",maxWidth:"1200px",margin:"0 auto"},children:[u.jsx("div",{style:{position:"relative",paddingTop:"56.25%"},children:u.jsx("video",{ref:b=>l.current[E]=b,src:y.src,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover"},controls:!0,onPlay:()=>d(E),onPause:()=>a(!1)})}),u.jsxs("div",{style:{padding:"20px"},children:[u.jsx("h3",{style:{margin:"0 0 10px 0",color:"#00a6fb",fontSize:"1.5rem"},children:y.title}),u.jsx("p",{style:{margin:0,color:"#333",lineHeight:1.6},children:y.description})]})]})},y.id))}),u.jsx("div",{style:{display:"flex",justifyContent:"center",marginTop:"20px"},children:c.map((y,E)=>u.jsx("button",{onClick:()=>e(E),style:{width:"12px",height:"12px",borderRadius:"50%",margin:"0 5px",background:E===s?"#00a6fb":"#ccc",border:"none",cursor:"pointer"}},E))})]})]})},md=({imageKey:s,defaultSrc:e,alt:n,className:a="",style:l={}})=>{const{getText:c,updateText:d,isAdmin:g}=pr(),[p,y]=P.useState(!1),[E,b]=P.useState(""),[w,j]=P.useState(""),O=c(s,e),K=()=>{!p&&g&&(y(!0),b(O),j(""))},M=()=>{if(E.trim()===""){j("Please enter an image URL");return}try{new URL(E),d(s,E),y(!1)}catch{E.startsWith("/")||E.includes("./")?(d(s,E),y(!1)):j("Please enter a valid URL or path")}},H=()=>{y(!1),j("")},G=$=>{const ee=$.target.files[0];if(!ee)return;if(!ee.type.startsWith("image/")){j("Please select an image file");return}const J=new FileReader;J.onload=re=>{b(re.target.result)},J.readAsDataURL(ee)};return p?u.jsxs("div",{className:"editable-image-container",style:{position:"relative",margin:"10px 0"},children:[u.jsx("div",{style:{marginBottom:"10px"},children:u.jsx("img",{src:E||O,alt:n,className:a,style:{maxWidth:"300px",border:"2px solid #00a6fb",...l}})}),u.jsxs("div",{style:{marginBottom:"10px"},children:[u.jsx("label",{style:{display:"block",marginBottom:"5px"},children:"Image URL:"}),u.jsx("input",{type:"text",value:E,onChange:$=>b($.target.value),style:{width:"100%",padding:"8px",border:"1px solid #ccc",borderRadius:"4px"},placeholder:"Enter image URL or upload a file"}),w&&u.jsx("p",{style:{color:"red",margin:"5px 0"},children:w})]}),u.jsxs("div",{style:{marginBottom:"10px"},children:[u.jsx("label",{style:{display:"block",marginBottom:"5px"},children:"Or upload an image:"}),u.jsx("input",{type:"file",accept:"image/*",onChange:G,style:{width:"100%",padding:"8px",border:"1px solid #ccc",borderRadius:"4px"}})]}),u.jsxs("div",{style:{display:"flex",gap:"8px"},children:[u.jsx("button",{onClick:M,style:{padding:"8px 16px",background:"#00a6fb",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Spara"}),u.jsx("button",{onClick:H,style:{padding:"8px 16px",background:"#ccc",color:"black",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Avbryt"})]})]}):u.jsx("img",{src:O,alt:n,className:`${a} ${g?"editable":""}`,onClick:K,style:{...l,cursor:g?"pointer":"default",border:g?"2px dashed #00a6fb":"none"}})},xD=()=>u.jsxs("div",{className:"om-oss-container",children:[u.jsx("section",{className:"om-oss-hero-section",children:u.jsx("div",{className:"hero-content",children:u.jsx("div",{className:"hero-image-container",children:u.jsx(md,{imageKey:"om-oss-hero-image",defaultSrc:"/images/EE-AIMChallenge24-Uhamn-0171-high.jpg",alt:"Om Oss Hero"})})})}),u.jsx("section",{className:"om-oss-title-section",children:u.jsx("div",{className:"title-container",children:u.jsx(z,{textKey:"om-oss-title",defaultText:"OM OSS",tag:"h1",className:"location-title"})})}),u.jsx("section",{className:"om-oss-section flex flex_j_C flex_a_C",children:u.jsx("div",{className:"om-oss-content MaxWH flex flex_col flex_j_C ",children:u.jsxs("div",{className:"om-oss-content-wrapper",children:[u.jsx(z,{textKey:"om-oss-title-1",defaultText:"Vad är AIM Challenge?",tag:"h2",className:"fonts_large om-oss-title"}),u.jsx(z,{textKey:"om-oss-text-1",defaultText:"AIM Challenge är en multisporttävling som arrangeras i Åre, Sverige. Tävlingen går ut på att ta sig runt en bana med hjälp av karta och kompass. Längs banan finns kontroller som ska besökas i rätt ordning.",tag:"p",className:"fonts_small om-oss-text"}),u.jsx(z,{textKey:"om-oss-text-2",defaultText:"​",tag:"p",className:"fonts_small om-oss-text"}),u.jsx(z,{textKey:"om-oss-text-3",defaultText:"Tävlingen arrangeras av AIM Challenge AB och har funnits sedan 2004. Tävlingen har utvecklats under åren och är idag en av Sveriges största multisporttävlingar.",tag:"p",className:"fonts_small om-oss-text"}),u.jsx(z,{textKey:"om-oss-text-4",defaultText:"​",tag:"p",className:"fonts_small om-oss-text"}),u.jsx(z,{textKey:"om-oss-text-5",defaultText:"AIM Challenge är en tävling för alla. Oavsett om du är elit eller motionär finns det en klass för dig. Tävlingen är uppdelad i olika klasser beroende på svårighetsgrad och längd.",tag:"p",className:"fonts_small om-oss-text"}),u.jsx(z,{textKey:"om-oss-text-6",defaultText:"​",tag:"p",className:"fonts_small om-oss-text"}),u.jsx(z,{textKey:"om-oss-text-7",defaultText:"Tävlingen går ut på att ta sig runt en bana med hjälp av karta och kompass. Längs banan finns kontroller som ska besökas i rätt ordning. Tävlingen innehåller olika moment som löpning, cykling, paddling, simning och klättring.",tag:"p",className:"fonts_small om-oss-text"}),u.jsx(z,{textKey:"om-oss-text-8",defaultText:"​",tag:"p",className:"fonts_small om-oss-text"})]})})}),u.jsx("div",{className:"om-oss-background-container locked-background"}),u.jsx("section",{className:"om-oss-section flex flex_j_C flex_a_C ",children:u.jsx("div",{className:"om-oss-content MaxWH flex flex_col flex_j_C",children:u.jsxs("div",{className:"om-oss-content-wrapper",children:[u.jsx(z,{textKey:"om-oss-title-2",defaultText:"Så här är det att vara med i AIM Challenge",tag:"h2",className:"fonts_large om-oss-title"}),u.jsx(z,{textKey:"om-oss-text-9",defaultText:"AIM Challenge är en rolig tävling. Det är oftast det som är det centrala i de deltagarkommentarer vi får både från eliten och motionärerna. Man färdas till största delen med hjälp av sin mountainbike och sina löparskor, men också i klättersele, paddlandes i kanot eller så strippar man helt enkelt och simmar ut till kontroller som är i vattnet.",tag:"p",className:"fonts_small om-oss-text"}),u.jsx(z,{textKey:"om-oss-text-10",defaultText:"​",tag:"p",className:"fonts_small om-oss-text"}),u.jsx(z,{textKey:"om-oss-text-11",defaultText:"Det finns inga krav på förkunskaper om de olika momenten utan vi har kunnig personal vid varje post som innefattas av klättring, firning, simning, paddling. Varje lag genomför tävlingen i sin egen takt och med egen strategi. Visst finns det de lag som satsar allt för att knipa segern och det är det som är det roliga med konceptet. Elit och motionär tävlar på samma villkor på samma bana.",tag:"p",className:"fonts_small om-oss-text"}),u.jsx(z,{textKey:"om-oss-text-12",defaultText:"​",tag:"p",className:"fonts_small om-oss-text"}),u.jsx(z,{textKey:"om-oss-text-13",defaultText:"Våra deltagare är allt ifrån världseliten i multisport som Thule Adventure team, Team Silva, Team Multitude Salomon men också glada motionärer allt från åldrarna 15 till pensionärer. Oavsett ålder och fysiska förutsättningar är detta ett roligt och annorlunda sätt att tävla på.",tag:"p",className:"fonts_small om-oss-text"})]})})}),u.jsxs("section",{className:"om-oss-cards-container",children:[u.jsxs("div",{className:"om-oss-card",children:[u.jsxs("div",{className:"om-oss-card-content",children:[u.jsx(z,{textKey:"card-1-title",defaultText:"REGLER",tag:"p",className:"font_blue fonts_medium_B"}),u.jsx(z,{textKey:"card-1-text",defaultText:"Tävlingsregler och information",tag:"p",className:"font_blue fonts_medium"})]}),u.jsx("div",{className:"om-oss-card-button",children:u.jsx(_e,{to:"/page2",className:"location",children:"LÄS MER"})})]}),u.jsxs("div",{className:"om-oss-card",children:[u.jsxs("div",{className:"om-oss-card-content",children:[u.jsx(z,{textKey:"card-2-title",defaultText:"FAQ",tag:"p",className:"font_blue fonts_medium_B"}),u.jsx(z,{textKey:"card-2-text",defaultText:"Vanliga frågor och svar",tag:"p",className:"font_blue fonts_medium"})]}),u.jsx("div",{className:"om-oss-card-button",children:u.jsx(_e,{to:"/page3",className:"location",children:"LÄS MER"})})]}),u.jsxs("div",{className:"om-oss-card",children:[u.jsxs("div",{className:"om-oss-card-content",children:[u.jsx(z,{textKey:"card-3-title",defaultText:"HISTORIEN OM AIM",tag:"p",className:"font_blue fonts_medium_B"}),u.jsx(z,{textKey:"card-3-text",defaultText:"Vår resa sedan 2004",tag:"p",className:"font_blue fonts_medium"})]}),u.jsx("div",{className:"om-oss-card-button",children:u.jsx(_e,{to:"/page3",className:"location",children:"LÄS MER"})})]})]})]}),ED=()=>u.jsxs("div",{className:"regler-container",children:[u.jsx("section",{className:"regler-hero-section",children:u.jsx("div",{className:"hero-content",children:u.jsx("div",{className:"hero-image-container",children:u.jsx(md,{imageKey:"regler-hero-image",defaultSrc:"/images/AIM_lindvallen_2024_AnkiGrothe_highres_125.jpg",alt:"Regler Hero"})})})}),u.jsx("section",{className:"regler-title-section",children:u.jsx("div",{className:"title-container",children:u.jsx(z,{textKey:"regler-title",defaultText:"REGLER",tag:"h1",className:"location-title"})})}),u.jsx("section",{className:"regler-content-section",children:u.jsx("div",{className:"regler-content-container",children:u.jsxs("div",{className:"regler-content",children:[u.jsx("h2",{className:"regler-heading",children:"LAGET"}),u.jsxs("ul",{className:"regler-list",children:[u.jsx("li",{className:"regler-list-item",children:"Åldersgräns 15år/18år"}),u.jsx("li",{className:"regler-list-item",children:"Båda deltagarna måste ha olycksförsäkring som täcker olyckor i samband med tävling/idrottsaktiviteter."}),u.jsx("li",{className:"regler-list-item",children:"Det är lagets ansvar att se till att de är registrerade i rätt klass."}),u.jsx("li",{className:"regler-list-item",children:"Startnummer ska placeras fram på cykel samt synligt på kroppen på båda deltagarna"}),u.jsx("li",{className:"regler-list-item",children:"Det är tillåtet att använda GPS men det är alltid kartan som gäller. GPSens kartunderlag stämmer inte alltid överens med den utskrivna AIM kartan."}),u.jsx("li",{className:"regler-list-item",children:"Laget ska alltid vara samlade max 20 meter mellan lagmedlemmarna."}),u.jsx("li",{className:"regler-list-item",children:"Det är inte tillåtet att ha följebil."})]}),u.jsx("h2",{className:"regler-heading",children:"SÄKERHET"}),u.jsxs("ul",{className:"regler-list",children:[u.jsx("li",{className:"regler-list-item",children:"Lagen väljer själva vilka kontroller de klarar att ta baserat på väder, egen färdighet och kunskap."}),u.jsx("li",{className:"regler-list-item",children:"Lagen väljer själva vilken väg de vill ta till kontrollerna baserat på väder, egen färdighet och kunskap."}),u.jsx("li",{className:"regler-list-item",children:"Trafiken är inte reglerad under tävlingen."}),u.jsx("li",{className:"regler-list-item",children:"Trafikregler gäller alltid."}),u.jsx("li",{className:"regler-list-item",children:"Första hjälpen kit ska bäras med under hela tävlingen"}),u.jsx("li",{className:"regler-list-item",children:"Hjälm ska bäras under all cykling, klättring, bouldering och rappellering"}),u.jsx("li",{className:"regler-list-item",children:"Vid olycka är det obligatoriska att hjälpa till."}),u.jsx("li",{className:"regler-list-item",children:"Vid allvarlig olycka ring nöd nummer 112 i Sverige och 113 i Norge"}),u.jsx("li",{className:"regler-list-item",children:"Vid behov för enklare medicinsk hjälp ring telefonnumret på baksidan av kartan"}),u.jsx("li",{className:"regler-list-item",children:"Tävlingsledningens direktiv gäller alltid."})]}),u.jsx("h2",{className:"regler-heading",children:"ÖVRIGT"}),u.jsxs("ul",{className:"regler-list",children:[u.jsx("li",{className:"regler-list-item",children:"Elcyklar är ej tillåtet, med undantag för Elcykelklassen i Hemsedal."}),u.jsx("li",{className:"regler-list-item",children:"Beroende på kapacitet är det möjligt att använda liften i Hemsedal, lyssna noga på vad speakern ger för information för vad som gäller för årets tävling."}),u.jsx("li",{className:"regler-list-item",children:"Deltagare som bryter ska genast meddela tävlingsledningen. Telefonnummer står på kartan."}),u.jsx("li",{className:"regler-list-item",children:"Synliga, osynliga och tävlande domare befinner sig i tävlingsområdet och ser till att reglerna följs."}),u.jsx("li",{className:"regler-list-item",children:"Regelbrott kan leda till poängavdrag eller diskvalificering"}),u.jsx("li",{className:"regler-list-item",children:"Deltagare som vinner priser som lottas ut pga olika händelser eller som dras på startnummer måste närvara på prisutdelningen för att få sitt pris. Är man inte närvarande och ditt namn/lagnamn dras drar vi reservnamn/lagnamn."}),u.jsx("li",{className:"regler-list-item",children:"LINDVALLEN, viadukten mellan Lodgen och Experium är stängd under hela tävlingen."}),u.jsx("li",{className:"regler-list-item",children:"Tävlingsledningens beslut går inte att överklaga."}),u.jsx("li",{className:"regler-list-item",children:"Kloka människor skräpar inte ner, för alla andra är det förbjudet."}),u.jsx("li",{className:"regler-list-item",children:"Respektera privat mark, ta inte genvägar över privata områden"}),u.jsx("li",{className:"regler-list-item",children:"Beträda odlad mark är förbjudet. Åkrar som inte har skördats är odlad mark."}),u.jsx("li",{className:"regler-list-item",children:"Stäng alla grindar som ni öppnar."}),u.jsx("li",{className:"regler-list-item",children:"Visa betande djur respekt genom att stiga av cykeln och gå förbi dem."})]}),u.jsx("h2",{className:"regler-heading",children:"OBLIGATORISK UTRUSTNING"}),u.jsxs("ul",{className:"regler-list",children:[u.jsx("li",{className:"regler-list-item",children:"Cykel, utan elmotor med undantag för Elcykelklassen i Hemsedal."}),u.jsx("li",{className:"regler-list-item",children:"Cykelhjälm vid cykling"}),u.jsx("li",{className:"regler-list-item",children:"Mobiltelefon (1 st per lag)"}),u.jsx("li",{className:"regler-list-item",children:"Första hjälpen (1 st per lag)"})]}),u.jsx("h2",{className:"regler-heading",children:"VI REKOMMENDERAR ATT NI ÄVEN HAR MED ER"}),u.jsxs("ul",{className:"regler-list",children:[u.jsx("li",{className:"regler-list-item",children:"Förstärkningskläder vid hastigt väderomslag"}),u.jsx("li",{className:"regler-list-item",children:"Kompass"}),u.jsx("li",{className:"regler-list-item",children:"Vatten i en Camelbak"}),u.jsx("li",{className:"regler-list-item",children:"Energy bars eller liknande"}),u.jsx("li",{className:"regler-list-item",children:"Klocka"}),u.jsx("li",{className:"regler-list-item",children:"Löparskor"}),u.jsx("li",{className:"regler-list-item",children:"Cykelslang och reparationskit + övriga verktyg, tex en biketool för enklare justeringar"})]}),u.jsx("h2",{className:"regler-heading",children:"AIM CHALLENGE STÅR FÖR"}),u.jsx("ul",{className:"regler-list",children:u.jsx("li",{className:"regler-list-item",children:"Kanot, SUP, sele, rep, hjälm vid firningar/klättring. All utrustning vid bemannade poster finns där klättring etc förekommer."})}),u.jsx("h2",{className:"regler-heading",children:"VILLKOR I FÖRBINDELSE MED ANMÄLAN"}),u.jsx("p",{className:"regler-list-item",children:"Villkor i förbindelse med anmälan"}),u.jsxs("p",{className:"regler-contact",children:["Om du har frågor:"," ",u.jsx("a",{href:"mailto:info@aimchallenge.com",children:"info@aimchallenge.com"})]})]})})}),u.jsx("div",{className:"locked-background",style:{height:"50vh",width:"100%",marginBottom:"60px"}})]}),TD=({question:s,answer:e})=>{const[n,a]=P.useState(!1),l=()=>{a(!n)};return u.jsxs("div",{className:"faq-item",children:[u.jsxs("div",{className:`faq-question ${n?"active":""}`,onClick:l,children:[u.jsx("h3",{className:"question-text",children:s}),u.jsx("span",{className:"icon",children:n?"▲":"▼"})]}),u.jsx("div",{className:`faq-answer ${n?"open":""}`,children:u.jsx("p",{children:e})})]})},ah=({title:s,items:e})=>u.jsxs("div",{className:"faq-category",children:[u.jsx("h2",{className:"faq-category-title",children:s}),e.map((n,a)=>u.jsx(TD,{question:n.question,answer:n.answer},a))]}),bD=()=>{const s=[{question:"Jag är nybörjare på multisport, kan jag delta?",answer:"Absolut, det är DU som väljer väg och antal kontroller. Ta 5 kontroller och ha en fin tur på fjället, eller ta 40 och vinn. Alla kan delta efter egen förmåga och ambition."},{question:"Hur ser tävlingen ut?",answer:"Tävlingen går ut på att samla så många kontroller som möjligt inom 6 timmar. Kontrollerna är värda olika poäng, ju svårare att nå desto högre poäng. Vissa kontroller innebär aktiviteter som klättring, paddling, simning, rappellering och balansövningar. Lagen bestämmer själva vilka kontroller de vill ta och i vilken ordning."},{question:"Vilka klasser finns det?",answer:"Dam, Herr och Mix. Dessutom har vi en Elcykelklass i Hemsedal. Alla klasser är 2-manna lag."},{question:"Vad kostar det?",answer:"Anmälningsavgiften är 1695 SEK/1695 NOK per person. Då ingår tävlingsdeltagande, karta, nummerlappar, lunch, dusch, bastu, middag, prisutdelning och en oförglömlig upplevelse."},{question:"Vilka tider är det som gäller för själva tävlandet?",answer:"Program: Fredagen: Registrering 17:00-21:00 i Lindvallen & 19.00-22.00 i Hemsedal. Lördagen: 9.30 Info möte vid start, 10.00 START, 16.00 MÅL. 22.00 PRISUTDELNING. Söndagen: Väl förtjänad sovmorgon och en härlig dag på fjället! Se detaljerat program under de enskilda tävlingarna."}],e=[{question:"Vilken utrustning behöver jag?",answer:"Obligatorisk utrustning: Cykel, cykelhjälm, mobiltelefon (1 per lag), första hjälpen (1 per lag). Vi rekommenderar även: Förstärkningskläder, kompass, vatten, energibars, klocka, löparskor, cykelslang och reparationskit. All utrustning för bemannade kontroller (kanot, SUP, sele, rep, hjälm) tillhandahålls av AIM Challenge."},{question:"Vilken typ av cykel rekommenderas?",answer:"En mountainbike är att föredra då delar av banan går på stigar och i terräng. Elcyklar är endast tillåtna i Elcykelklassen i Hemsedal."},{question:"Behöver jag ha med mig mat och dryck?",answer:"Ja, det rekommenderas att ha med sig vatten och energirik mat för att orka hela tävlingen. Det finns ingen service ute på banan."}],n=[{question:"Hur fungerar starten?",answer:"Alla lag startar samtidigt kl 10.00 på lördagen efter ett obligatoriskt informationsmöte kl 9.30. Vid starten får lagen kartan med alla kontroller markerade."},{question:"Vad händer om jag kommer sent i mål?",answer:"För varje påbörjad minut efter målgång kl 16.00 dras 10 poäng av från lagets totala poäng. Efter 30 minuter (kl 16.30) är laget diskvalificerat."},{question:"Vad händer om vi bryter tävlingen?",answer:"Om ni bryter tävlingen måste ni meddela tävlingsledningen omedelbart. Telefonnummer finns på kartan."}],a=[{question:"Hur ser kartan ut?",answer:"Kartan får alla lagen när startskottet går. Där är samtliga kontroller utmärkta med position, poäng, beskrivning och om kontrollen innefattar klättring, paddling etc. Skalan är ungefär 1:30 000. Varje år är ett nytt år och därför en ny bansträckning. Kontrollernas position varierar från år till år så den strategi man hade året innan kanske inte lönar sig i år."},{question:"Måste både deltagarna simma/klättra/rappellera till en kontroll?",answer:"Lagen ska alltid hålla ihop och ska under hela tävlingen kunna kommunicera med varandra. Utom på de kontroller som vi kallar bemannade kontroller, dvs simma, paddla, klättra, balansera och rappelera. Här räcker det att den ena i laget tar posten. Både deltagarna ska dock vara så nära varandra som möjligt vid dessa poster."},{question:"Rappellering och klättring - hur goda bakgrundskunskaper måste man ha för att ställa upp?",answer:"Vid varje bemannad post finns det personal som är kunniga och med riktig utrustning. Lite erfarenhet ifrån klättring hjälper men är inte nödvändigt. Man behöver ingen kunskap om säkerhet."},{question:"Vilka regler gäller?",answer:"De regler som gäller för anmälan och under tävling finner du här >>"}];return u.jsxs("div",{className:"faq-container",children:[u.jsx("section",{className:"faq-hero-section",children:u.jsx("div",{className:"hero-content",children:u.jsx("div",{className:"hero-image-container",children:u.jsx(md,{imageKey:"faq-hero-image",defaultSrc:"/images/AIM_lindvallen_2024_AnkiGrothe_highres_125.jpg",alt:"FAQ Hero"})})})}),u.jsx("section",{className:"faq-title-section",children:u.jsx("div",{className:"title-container",children:u.jsx(z,{textKey:"faq-title",defaultText:"FAQ",tag:"h1",className:"location-title"})})}),u.jsx("section",{className:"faq-content-section",children:u.jsx("div",{className:"faq-content-container",children:u.jsxs("div",{className:"faq-content",children:[u.jsx("h2",{className:"faq-heading",children:"Vanliga frågor"}),u.jsx(ah,{title:"Allmänna frågor",items:s}),u.jsx(ah,{title:"Utrustning",items:e}),u.jsx(ah,{title:"Tävlingsdagen",items:n}),u.jsx(ah,{title:"Teknisk information",items:a}),u.jsxs("div",{className:"faq-contact",children:[u.jsx("h2",{className:"faq-category-title",children:"Har du fler frågor?"}),u.jsxs("p",{children:["Ta gärna kontakt om ni inte hittar svaret på era frågor:"," ",u.jsx("a",{href:"mailto:info@aimchallenge.com",children:"info@aimchallenge.com"})]})]})]})})}),u.jsx("div",{className:"locked-background"})]})},AD=()=>u.jsxs("div",{className:"historien-om-aim-container",children:[u.jsx("section",{className:"historien-om-aim-hero-section",children:u.jsx("div",{className:"hero-content",children:u.jsx("div",{className:"hero-image-container",children:u.jsx(md,{imageKey:"historien-om-aim-hero-image",defaultSrc:"/images/AIM_lindvallen_2024_AnkiGrothe_highres_125.jpg",alt:"Historien Om AIM Hero"})})})}),u.jsx("section",{className:"historien-om-aim-title-section",children:u.jsx("div",{className:"title-container",children:u.jsx(z,{textKey:"historien-om-aim-title",defaultText:"HISTORIEN OM AIM",tag:"h1",className:"location-title"})})}),u.jsx("section",{className:"historien-om-aim-content-section",children:u.jsx("div",{className:"historien-om-aim-content-container",children:u.jsxs("div",{className:"historien-om-aim-content",children:[u.jsx(z,{textKey:"historien-om-aim-text-1",defaultText:"AIM Challenge är idag Nordens största multisporttävling men historien om AIM Challenge börjar mycket tidigare än så.",tag:"p",className:"historien-om-aim-text"}),u.jsx(z,{textKey:"historien-om-aim-text-2",defaultText:"Vi låter Lisa Nordlind, grundare och initiativtagare till AIM Challenge berätta hur det gick till:",tag:"p",className:"historien-om-aim-text"}),u.jsx(z,{textKey:"historien-om-aim-text-3",defaultText:"År 2000 deltog jag i mitt livs största äventyr när jag tävlade i multisporttävlingen Camel Trophy.",tag:"p",className:"historien-om-aim-text"}),u.jsx(z,{textKey:"historien-om-aim-text-4",defaultText:"Av över en miljon sökande så var det 16 tvåmannalag från 22 länder som fick vara med och leka. Jag fick äran att representera Team Skandinavien tillsammans med brandmannen Mikael Stening.",tag:"p",className:"historien-om-aim-text"}),u.jsx(z,{textKey:"historien-om-aim-text-5",defaultText:"Lag på två personer skulle under 3 veckor samla så många kontroller som möjligt utav 400 utplacerade. Huvudtransportmedel var en specialbyggd RIB (Rigid Inflatable Boat). Båten var utrustad med mountainbikes, klätterutrustning, paddelbräda, dyk- och snorkel utrustning, tält, mat och vatten.",tag:"p",className:"historien-om-aim-text"}),u.jsx(z,{textKey:"historien-om-aim-text-6",defaultText:"Lagen fick själva välja vilka kontroller de ville ta, i vilken ordning och vilken väg.",tag:"p",className:"historien-om-aim-text"}),u.jsx(z,{textKey:"historien-om-aim-text-7",defaultText:"Olika kontroller gav olika poäng. Låter det bekant?",tag:"p",className:"historien-om-aim-text"}),u.jsx(z,{textKey:"historien-om-aim-text-8",defaultText:"Tävlingsområdet var ögrupperna Tonga och Samoa i Söderhavet. Det var galet roligt och Mikael och jag lyckades ta oss till en fjärde plats.",tag:"p",className:"historien-om-aim-text"}),u.jsx(z,{textKey:"historien-om-aim-text-9",defaultText:"År 2004 spenderade jag min första sommar i Hemsedal. Det var ganska lugnt i den lilla skidorten så jag beslutade mig för att starta ett nytt event. För mig är det viktigt att träning är roligt och jag tycker att den bästa träningen är tävling. Eftersom Camel Trophy var det roligaste jag någonsin varit med om så föll det naturligt att försöka skapa ett event där andra människor får uppleva samma lekfulla koncept om än i en mindre skala. Tävlingen fick namnet 'Hemsedal Challenge' och den första helgen i september 2004 stod 150 deltagare på startlinjen.",tag:"p",className:"historien-om-aim-text"}),u.jsx(z,{textKey:"historien-om-aim-text-10",defaultText:"Nära, kära, vänner och familj samlades från alla håll och kanter för att ställa upp som funktionärer.",tag:"p",className:"historien-om-aim-text"}),u.jsx(z,{textKey:"historien-om-aim-text-11",defaultText:"Efter 5 år startade vi en tävling till i Lindvallen och bytte namn till AIM Challenge.",tag:"p",className:"historien-om-aim-text"}),u.jsx(z,{textKey:"historien-om-aim-text-12",defaultText:"Efter AIM Challenge 2019 tackade Lisa för sig och lämnade över stafettpinnen till Marcus Andersson, som nu står inför en spännande framtid där han ser frem emot att driva vidare och utveckla AIM Challenge.",tag:"p",className:"historien-om-aim-text"})]})})}),u.jsx("div",{className:"locked-background"})]}),wD=({isOpen:s,onClose:e})=>{const[n,a]=P.useState(""),[l,c]=P.useState(""),[d,g]=P.useState(null),[p,y]=P.useState(""),[E,b]=P.useState(!1),[w,j]=P.useState(""),[O,K]=P.useState(""),[M,H]=P.useState(0),[G,$]=P.useState(0),[ee,J]=P.useState("Alla"),re=P.useRef(null),V=P.useRef(null),{isAdmin:N}=pr(),S=ce=>{const ke=ce.target.files[0];if(ke){ke.name||(ke.name=`image-${Date.now()}.jpg`);const D=new FileReader;D.onloadend=()=>{g(ke),y(D.result)},D.readAsDataURL(ke)}},k=ce=>{c(ce.target.value)},R=()=>{re.current&&(H(re.current.selectionStart),$(re.current.selectionEnd))},L=()=>{if(b(!E),!E&&re.current){const ce=l.substring(re.current.selectionStart,re.current.selectionEnd);K(ce),H(re.current.selectionStart),$(re.current.selectionEnd)}},I=()=>{if(!w.trim()){alert("Please enter a URL");return}const ce=`[${O||w}](${w})`,ke=l.substring(0,M)+ce+l.substring(G);c(ke),b(!1),j(""),K("")},je=async()=>{if(!n.trim()||!l.trim()){alert("Vänligen fyll i titel och innehåll");return}try{let ce=null;if(d){const ie=Date.now(),me=d.name?d.name.split(".").pop():"jpg",ue=`image_${ie}.${me}`,he=rr(cr,`post-images/${ue}`);console.log("Uploading image with new filename:",ue),await cd(he,d),ce=await hp(he),console.log("Image URL after upload:",ce)}const ke={title:n,content:l,image:ce,date:new Date().toLocaleDateString("sv-SE",{year:"numeric",month:"long",day:"numeric"}),category:ee,createdAt:new Date().toISOString()},D=await ST(ia(Qt,"posts"),ke);console.log("Post saved with ID:",D.id),Ae(),e(),window.location.reload()}catch(ce){console.error("Error saving post:",ce),alert("Ett fel uppstod när inlägget skulle sparas. Försök igen.")}},Ae=()=>{a(""),c(""),g(null),y(""),b(!1),j(""),K(""),J("Alla")},le=()=>{Ae(),e()},ve=ce=>{ce.target.className==="create-post-modal__overlay"&&le()};return!s||!N?null:u.jsxs("div",{className:"create-post-modal",children:[u.jsx("div",{className:"create-post-modal__overlay",onClick:ve}),u.jsxs("div",{className:"create-post-modal__content",children:[u.jsx("h2",{className:"create-post-modal__title",children:"Skapa nytt inlägg"}),u.jsxs("div",{className:"create-post-modal__form",children:[u.jsxs("div",{className:"create-post-modal__form-group",children:[u.jsx("label",{className:"create-post-modal__label",children:"Titel"}),u.jsx("input",{type:"text",className:"create-post-modal__input",value:n,onChange:ce=>a(ce.target.value),placeholder:"Ange titel"})]}),u.jsxs("div",{className:"create-post-modal__form-group",children:[u.jsx("label",{className:"create-post-modal__label",children:"Bild (valfritt)"}),u.jsxs("div",{className:"create-post-modal__image-upload",onClick:()=>V.current.click(),children:[p?u.jsx("img",{src:p,alt:"Preview",className:"create-post-modal__image-preview"}):u.jsx("div",{className:"create-post-modal__image-placeholder",children:"Klicka för att ladda upp en bild"}),u.jsx("input",{type:"file",accept:"image/*",onChange:S,className:"create-post-modal__file-input",ref:V})]})]}),u.jsxs("div",{className:"create-post-modal__form-group",children:[u.jsx("label",{className:"create-post-modal__label",children:"Kategori"}),u.jsxs("select",{className:"create-post-modal__input",value:ee,onChange:ce=>J(ce.target.value),children:[u.jsx("option",{value:"Alla",children:"Alla"}),u.jsx("option",{value:"Inga",children:"Inga"}),u.jsx("option",{value:"Kolmården",children:"Kolmården"}),u.jsx("option",{value:"Sälen",children:"Sälen"}),u.jsx("option",{value:"Hemsedal",children:"Hemsedal"}),u.jsx("option",{value:"Ulricshamn",children:"Ulricshamn"}),u.jsx("option",{value:"Tripplen",children:"Tripplen"})]})]}),u.jsxs("div",{className:"create-post-modal__form-group",children:[u.jsx("label",{className:"create-post-modal__label",children:"Innehåll"}),u.jsxs("div",{children:[u.jsx("textarea",{className:"create-post-modal__textarea",value:l,onChange:k,onSelect:R,ref:re,placeholder:"Ange innehåll"}),u.jsx("button",{type:"button",onClick:L,className:"create-post-modal__button create-post-modal__button--secondary",style:{marginTop:"10px"},children:"Lägg till länk"}),E&&u.jsxs("div",{className:"create-post-modal__link-tools",children:[u.jsxs("div",{children:[u.jsx("label",{children:"Länktext:"}),u.jsx("input",{type:"text",value:O,onChange:ce=>K(ce.target.value),className:"create-post-modal__input",style:{marginTop:"5px",width:"100%"}})]}),u.jsxs("div",{children:[u.jsx("label",{children:"URL:"}),u.jsx("input",{type:"text",value:w,onChange:ce=>j(ce.target.value),className:"create-post-modal__input",style:{marginTop:"5px",width:"100%"}})]}),u.jsx("div",{style:{marginTop:"10px"},children:u.jsx("button",{onClick:I,className:"create-post-modal__button create-post-modal__button--primary",children:"Infoga länk"})})]})]})]}),u.jsxs("div",{className:"create-post-modal__actions",children:[u.jsx("button",{onClick:le,className:"create-post-modal__button create-post-modal__button--secondary",children:"Avbryt"}),u.jsx("button",{onClick:je,className:"create-post-modal__button create-post-modal__button--primary",disabled:!n.trim()||!l.trim(),children:"Spara"})]})]})]})]})},SD=()=>{const[s,e]=P.useState(""),[n,a]=P.useState(!1),[l,c]=P.useState(!1),{isAdmin:d}=pr(),[g,p]=P.useState([]),[y,E]=P.useState(!0),[b,w]=P.useState(null);P.useEffect(()=>{(async()=>{try{E(!0);const H=ia(Qt,"posts"),$=(await ip(H)).docs.map(J=>({id:J.id,...J.data()}));$.forEach(J=>{J.image&&console.log(`Post ${J.id} image URL:`,J.image)});const ee=$.map(J=>{const re=J;if(console.log(`Post ${J.id}:`,re),re.image){console.log(`Post ${J.id} image URL:`,re.image);const V=new Image;V.onload=()=>console.log(`Image for post ${J.id} loaded successfully`),V.onerror=()=>console.error(`Image for post ${J.id} failed to load`),V.src=re.image}else console.warn(`Post ${J.id} has no image URL`);return{...re,id:J.id}});p(ee),w(null)}catch(H){console.error("Error fetching posts:",H),w("Failed to load posts")}finally{E(!1)}})()},[]);const j=M=>{M.preventDefault(),console.log("Email submitted:",s),a(!0),e(""),setTimeout(()=>a(!1),3e3)},O=async M=>{try{E(!0);let H=null;if(M.image){const J=`post-images/${Date.now()}_${M.image.name}`;console.log("Uploading image with filename:",J);const re=rr(cr,J);await cd(re,M.image),H=await hp(re),console.log("Image URL after upload:",H);try{const V=await fetch(H,{method:"HEAD"});console.log("Image URL test response:",V.status,V.ok)}catch(V){console.error("Error testing image URL:",V)}}const G={title:M.title,content:M.content,image:H,date:new Date().toLocaleDateString("sv-SE",{day:"numeric",month:"long",year:"numeric"}),createdAt:new Date().toISOString()};console.log("Saving post with data:",G);const $=await ST(ia(Qt,"posts"),G);console.log("Post saved with ID:",$.id);const ee={id:$.id,...G};p(J=>[ee,...J]),c(!1),w(null)}catch(H){console.error("Error saving post:",H),w("Failed to save post")}finally{E(!1)}},K=async M=>{try{const H=g.find(G=>String(G.id)===String(M));if(await wT(Nn(Qt,"posts",String(M))),H&&H.image)try{const $=(ee=>{const J=ee.match(/\/o\/(.+)\?alt=media/);return J?decodeURIComponent(J[1]):null})(H.image);if($){const ee=rr(cr,$);await dp(ee)}}catch(G){console.error("Failed to delete image from storage:",G)}window.location.reload()}catch(H){console.error("Failed to delete post:",H)}};return u.jsxs("div",{className:"flex flex_col",children:[u.jsx("section",{className:"page_01 dynamic-background background-editable flex flex_col flex_j_E",id:"senaste-nytt-top-background",children:u.jsx("div",{className:"MaxWH flex flex_col flex_j_SA",children:u.jsx("div",{className:"om-oss-title flex flex_j_C flex_a_C",children:u.jsx("p",{className:"fonts_huge senaste-nytt-main-title",children:"SENASTE NYTT"})})})}),u.jsx("div",{className:"set-03 senaste-nytt-subscribe-section",children:u.jsxs("div",{className:"senaste-nytt-container flex flex_col flex_j_C flex_a_C font_white",children:[u.jsx("h2",{className:"fonts_large senaste-nytt-title",children:"Håll dig uppdaterad"}),u.jsx("p",{className:"fonts_small senaste-nytt-description",children:"Prenumerera på vårt nyhetsbrev för att få de senaste uppdateringarna om AIM Challenge direkt i din inkorg."}),u.jsxs("form",{onSubmit:j,className:"senaste-nytt-form flex flex_col flex_a_C",children:[u.jsxs("div",{className:"senaste-nytt-form-input-container flex",children:[u.jsx("input",{type:"email",value:s,onChange:M=>e(M.target.value),placeholder:"Din e-postadress",required:!0,className:"senaste-nytt-form-input fonts_small",id:"newsletter-email",name:"newsletter-email",autoComplete:"email"}),u.jsx("button",{type:"submit",className:"senaste-nytt-form-button fonts_small flex flex_j_C flex_a_C",children:u.jsx("span",{children:"Prenumerera"})})]}),n&&u.jsx("p",{className:"senaste-nytt-form-success",children:"Tack för din prenumeration!"})]})]})}),u.jsx("div",{className:"set-03 senaste-nytt-news-section",children:u.jsxs("div",{className:"senaste-nytt-container",children:[u.jsx("h2",{className:"senaste-nytt-section-title",children:"Nyheter"}),d&&u.jsx("div",{className:"senaste-nytt-admin-actions flex flex_j_E",children:u.jsx("button",{className:"senaste-nytt-create-post-button",onClick:()=>c(!0),children:"Skapa nytt inlägg"})}),u.jsx("div",{className:"senaste-nytt-news-grid",children:g.map(M=>u.jsxs("div",{className:"senaste-nytt-news-card",children:[u.jsx("div",{className:"senaste-nytt-news-image-wrapper",children:M.image?u.jsx("img",{className:"senaste-nytt-news-image-alt",src:M.image,alt:M.title||"Post image"}):u.jsx("div",{className:"senaste-nytt-news-image senaste-nytt-news-image--empty",children:u.jsx("span",{children:"Ingen bild"})})}),u.jsxs("div",{className:"senaste-nytt-news-content",children:[u.jsx("h3",{className:"senaste-nytt-news-card-title",children:M.title}),u.jsx("p",{className:"senaste-nytt-news-date",children:M.date}),u.jsx("p",{className:"senaste-nytt-news-text",children:M.content}),u.jsx(_e,{to:`/news/${M.id}`,className:"senaste-nytt-read-more",children:"Läs mer"}),d&&u.jsx("button",{className:"senaste-nytt-delete-post-button",onClick:()=>{console.log("Post:",M),console.log("Post ID:",M.id),console.log("Post ID type:",typeof M.id),console.log("Post ID value:",String(M.id)),K(String(M.id))},children:"Ta bort"})]})]},M.id))})]})}),d&&u.jsx(wD,{isOpen:l,onClose:()=>c(!1),addPost:O}),u.jsx("div",{id:"senaste-nytt-background",className:"background-editable senaste-nytt-background-container locked-background page_01"})]})},ND=()=>{const{id:s}=Vw(),e=Rl(),[n,a]=P.useState(null),[l,c]=P.useState(!0),[d,g]=P.useState(null);P.useEffect(()=>{(async()=>{try{c(!0);const E=Nn(Qt,"posts",s),b=await rd(E);b.exists()?(a({id:b.id,...b.data()}),g(null)):g("Nyheten kunde inte hittas")}catch(E){console.error("Error fetching post:",E),g("Ett fel uppstod när nyheten skulle hämtas")}finally{c(!1)}})()},[s]);const p=()=>{e("/senaste-nytt")};return l?u.jsx("div",{className:"flex flex_col flex_a_C flex_j_C",style:{minHeight:"50vh"},children:u.jsx("p",{className:"fonts_large",children:"Laddar..."})}):d?u.jsxs("div",{className:"flex flex_col flex_a_C flex_j_C",style:{minHeight:"50vh"},children:[u.jsx("p",{className:"fonts_large",children:d}),u.jsx("button",{onClick:p,className:"navbbutton button font_blue",style:{marginTop:"20px",padding:"10px 20px"},children:"Tillbaka till nyheter"})]}):n?u.jsxs("div",{className:"flex flex_col",children:[u.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",children:u.jsx("div",{className:"MaxWH flex flex_col flex_j_SA",children:u.jsx("div",{className:"om-oss-title flex flex_j_C flex_a_C",children:u.jsx("p",{className:"fonts_huge senaste-nytt-main-title",children:"NYHETER"})})})}),u.jsx("section",{style:{padding:"50px 0",backgroundColor:"#f5f5f5",width:"100vw"},children:u.jsxs("div",{className:"MaxWH",style:{padding:"0 20px",maxWidth:"1000px",margin:"0 auto"},children:[u.jsxs("button",{onClick:p,className:"navbbutton button font_blue",style:{marginBottom:"20px",padding:"10px 30px 10px 20px",display:"flex",alignItems:"center",gap:"5px",minWidth:"120px"},children:[u.jsx("span",{children:"←"})," ",u.jsx("span",{children:"Tillbaka"})]}),u.jsxs("div",{style:{backgroundColor:"white",borderRadius:"8px",overflow:"hidden",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[n.image&&u.jsx("div",{style:{height:"400px",backgroundImage:`url(${n.image})`,backgroundSize:"cover",backgroundPosition:"center"}}),u.jsxs("div",{style:{padding:"30px"},children:[u.jsx("h1",{className:"fonts_large font_blue",style:{marginBottom:"10px"},children:n.title}),u.jsx("p",{className:"fonts_small",style:{color:"#666",marginBottom:"30px"},children:n.date}),n.content.split(`
`).map((y,E)=>u.jsx("p",{className:"fonts_small",style:{marginBottom:"20px"},children:y},E))]})]}),u.jsx("div",{style:{marginTop:"30px",textAlign:"center"},children:u.jsxs("button",{onClick:p,className:"navbbutton button font_blue",style:{padding:"10px 30px 10px 20px",display:"flex",alignItems:"center",gap:"5px",minWidth:"120px"},children:[u.jsx("span",{children:"←"})," ",u.jsx("span",{children:"Tillbaka"})]})})]})}),u.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",style:{height:"50vh",width:"100vw"}})]}):u.jsxs("div",{className:"flex flex_col flex_a_C flex_j_C",style:{minHeight:"50vh"},children:[u.jsx("p",{className:"fonts_large",children:"Nyheten kunde inte hittas"}),u.jsx("button",{onClick:p,className:"navbbutton button font_blue",style:{marginTop:"20px",padding:"10px 20px"},children:"Tillbaka till nyheter"})]})},_x=()=>{const[s,e]=P.useState(""),[n,a]=P.useState(""),[l,c]=P.useState(""),[d,g]=P.useState(!1),p=Rl(),{login:y,isAuthenticated:E}=gr();P.useEffect(()=>{E&&p("/")},[E,p]);const b=async w=>{w.preventDefault(),g(!0),c("");try{const j=await y(s,n);j.success?(console.log("Login successful"),console.log("Current user after login:",{email:s,role:"admin"}),p("/")):c(j.message||"Ogiltigt e-post eller lösenord")}catch(j){console.error("Login error:",j),c("Ett fel uppstod vid inloggning. Försök igen.")}finally{g(!1)}};return u.jsxs("div",{className:"flex flex_col",children:[u.jsx("section",{className:"login-header-section dynamic-background flex flex_col flex_j_E",children:u.jsx("div",{className:"login-header-container flex flex_col flex_j_SA",children:u.jsx("div",{className:"login-title-container",children:u.jsx("p",{className:"fonts_huge login-title",children:"LOGGA IN"})})})}),u.jsx("div",{className:"login-form-wrapper",children:u.jsx("div",{className:"login-form-container",children:u.jsx("div",{className:"login-form",children:u.jsxs("div",{className:"login-card",children:[u.jsx("h2",{className:"fonts_medium font_blue login-subtitle",children:"Administratörsinloggning"}),l&&u.jsx("div",{className:"error-message",children:l}),u.jsxs("form",{onSubmit:b,children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"email",className:"fonts_small",children:"E-post"}),u.jsx("input",{type:"email",id:"email",value:s,onChange:w=>e(w.target.value),required:!0,className:"form-input"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"password",className:"fonts_small",children:"Lösenord"}),u.jsx("input",{type:"password",id:"password",value:n,onChange:w=>a(w.target.value),required:!0,className:"form-input"})]}),u.jsx("button",{type:"submit",className:"navbbutton button font_blue",disabled:d,children:d?"Loggar in...":"Logga in"})]}),u.jsx("div",{className:"login-note",children:u.jsx("p",{className:"fonts_small",style:{color:"#666"},children:"Detta är en inloggning endast för administratörer."})})]})})})}),u.jsx("section",{className:"login-background-section dynamic-background flex flex_col flex_j_E",children:u.jsx("div",{className:"login-background-container"})})]})},RD=()=>{const{textContent:s,resetAllContent:e,removeContentItem:n,isAdmin:a}=pr(),{isAuthenticated:l}=gr(),[c,d]=P.useState(!1),[g,p]=P.useState(null),[y,E]=P.useState("all"),b=Rl();if(P.useEffect(()=>{(!l||!a)&&b("/")},[l,a,b]),!l||!a)return null;const w=()=>{d(!0),p(null)},j=ee=>{d(!0),p(ee)},O=()=>{g?n(g):e(),d(!1),p(null)},K=()=>{d(!1),p(null)},H=(()=>{const ee={text:{},image:{},background:{}};return Object.entries(s).forEach(([J,re])=>{re.startsWith("data:image")||re.startsWith("http")||re.startsWith("/")?J.includes("-bg")||J.includes("background")?ee.background[J]=re:ee.image[J]=re:ee.text[J]=re}),ee})(),$=y==="all"?s:H[y]||{};return u.jsxs("div",{className:"flex flex_col",style:{minHeight:"100vh"},children:[u.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",children:u.jsx("div",{className:"trans-background page_01box flex flex_col flex_j_SA",children:u.jsx("div",{className:"om-oss-title flex flex_j_C flex_a_C",children:u.jsx("p",{className:"font_blue fonts_huge",children:"Innehållshanterare"})})})}),u.jsxs("section",{style:{padding:"40px",maxWidth:"1200px",margin:"0 auto"},children:[u.jsxs("div",{style:{marginBottom:"30px",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"20px"},children:[u.jsx("h2",{className:"font_blue fonts_large",children:"Alla redigerbara innehåll"}),u.jsx("button",{onClick:w,style:{padding:"10px 20px",backgroundColor:"#ff4d4d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Återställ allt innehåll"})]}),u.jsxs("div",{style:{marginBottom:"30px",display:"flex",gap:"10px",flexWrap:"wrap"},children:[u.jsxs("button",{onClick:()=>E("all"),style:{padding:"8px 16px",backgroundColor:y==="all"?"#00a6fb":"#f0f0f0",color:y==="all"?"white":"black",border:"none",borderRadius:"4px",cursor:"pointer"},children:["Alla (",Object.keys(s).length,")"]}),u.jsxs("button",{onClick:()=>E("text"),style:{padding:"8px 16px",backgroundColor:y==="text"?"#00a6fb":"#f0f0f0",color:y==="text"?"white":"black",border:"none",borderRadius:"4px",cursor:"pointer"},children:["Texter (",Object.keys(H.text).length,")"]}),u.jsxs("button",{onClick:()=>E("image"),style:{padding:"8px 16px",backgroundColor:y==="image"?"#00a6fb":"#f0f0f0",color:y==="image"?"white":"black",border:"none",borderRadius:"4px",cursor:"pointer"},children:["Bilder (",Object.keys(H.image).length,")"]}),u.jsxs("button",{onClick:()=>E("background"),style:{padding:"8px 16px",backgroundColor:y==="background"?"#00a6fb":"#f0f0f0",color:y==="background"?"white":"black",border:"none",borderRadius:"4px",cursor:"pointer"},children:["Bakgrundsbilder (",Object.keys(H.background).length,")"]})]}),c&&u.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.7)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:9999},children:u.jsxs("div",{style:{backgroundColor:"white",padding:"30px",borderRadius:"8px",maxWidth:"500px",width:"90%",textAlign:"center"},children:[u.jsx("h3",{style:{marginBottom:"20px",color:"#00a6fb"},children:"Bekräfta åtgärd"}),u.jsx("p",{style:{marginBottom:"30px"},children:g?`Är du säker på att du vill ta bort innehållet med nyckeln "${g}"?`:"Är du säker på att du vill återställa allt innehåll? Detta kan inte ångras."}),u.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"20px"},children:[u.jsx("button",{onClick:O,style:{padding:"10px 20px",backgroundColor:"#ff4d4d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:g?"Ta bort":"Återställ allt"}),u.jsx("button",{onClick:K,style:{padding:"10px 20px",backgroundColor:"#ccc",color:"black",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Avbryt"})]})]})}),Object.keys($).length===0?u.jsxs("p",{children:["Inga redigerade ",y==="text"?"texter":y==="image"?"bilder":y==="background"?"bakgrundsbilder":"innehåll"," ännu."]}):u.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"20px"},children:Object.entries($).map(([ee,J])=>{const re=J.startsWith("data:image")||J.startsWith("http")||J.startsWith("/"),V=ee.includes("-bg")||ee.includes("background");return u.jsxs("div",{style:{border:"1px solid #ddd",borderRadius:"8px",padding:"15px",backgroundColor:"white",boxShadow:"0 2px 4px rgba(0,0,0,0.05)"},children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:[u.jsx("h3",{className:"font_blue fonts_medium",style:{wordBreak:"break-all",fontSize:"16px"},children:ee}),u.jsx("span",{style:{padding:"3px 8px",borderRadius:"4px",fontSize:"12px",backgroundColor:V?"#6c5ce7":re?"#00b894":"#0984e3",color:"white"},children:V?"Bakgrund":re?"Bild":"Text"})]}),u.jsx("div",{style:{marginBottom:"10px"},children:re?u.jsxs("div",{children:[u.jsx("img",{src:J,alt:ee,style:{width:"100%",height:V?"150px":"auto",maxHeight:"150px",objectFit:V?"cover":"contain",borderRadius:"4px",border:"1px solid #eee"}}),V&&u.jsx("div",{style:{marginTop:"5px",fontSize:"12px",color:"#666",textAlign:"center"},children:"Bakgrundsbild"})]}):u.jsx("p",{style:{maxHeight:"100px",overflow:"auto",backgroundColor:"#f5f5f5",padding:"10px",borderRadius:"4px",fontSize:"14px"},children:J})}),u.jsx("button",{onClick:()=>j(ee),style:{width:"100%",padding:"8px",backgroundColor:"#ff4d4d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px"},children:"Ta bort"})]},ee)})})]})]})},kD=({children:s,requireAdmin:e=!1})=>{const{isAuthenticated:n,currentUser:a}=gr();return n?e&&(a==null?void 0:a.role)!=="admin"?u.jsx(Pv,{to:"/"}):s:u.jsx(Pv,{to:"/login"})},ID=()=>{const[s,e]=P.useState(!1),[n,a]=P.useState(null),[l,c]=P.useState(null),[d,g]=P.useState(null),[p,y]=P.useState("simple"),[E,b]=P.useState(null),{isAdmin:w}=pr();console.log("BackgroundEditor - isAdmin:",w);const j=P.useRef(null),O=P.useRef(null),K=di();P.useEffect(()=>{M()},[]),P.useEffect(()=>{const R=document.querySelectorAll(".background-editable");console.log("Found background elements:",R.length);const L=I=>{if(console.log("Background element clicked:",I.currentTarget.id),w){console.log("User is admin, showing modal"),a(I.currentTarget),e(!0);const je=I.currentTarget.id;je&&H(je)}else console.log("User is not admin, click ignored")};return R.forEach(I=>{console.log("Adding click listener to element:",I.id),I.addEventListener("click",L),w&&I.classList.add("admin-editable")}),M(),()=>{R.forEach(I=>{I.removeEventListener("click",L),w&&I.classList.remove("admin-editable")})}},[w,K]),P.useEffect(()=>{M()},[K]);const M=async()=>{try{console.log("Loading all background settings");const R=ia(Qt,"backgrounds"),L=await ip(R);console.log(`Found ${L.size} background settings`),L.forEach(I=>{const je=I.data(),Ae=document.getElementById(I.id);console.log(`Background for element ${I.id}:`,je),Ae?(console.log(`Applying background to element ${I.id}`),V(Ae,je.imageUrl,je.backgroundType)):console.log(`Element with ID ${I.id} not found in the DOM`)})}catch(R){console.error("Error loading background settings:",R)}},H=async R=>{try{console.log(`Loading background settings for element: ${R}`);const L=ia(Qt,"backgrounds"),I=Nn(L,R),je=await rd(I);if(je.exists()){const Ae=je.data();console.log("Found background settings:",Ae),y(Ae.backgroundType||"simple"),g(Ae.imageUrl),b(Ae.imageUrl),console.log(`Set previousImageUrl to: ${Ae.imageUrl}`)}else console.log(`No background settings found for element: ${R}`),y("simple"),g(null),c(null),b(null)}catch(L){console.error("Error loading background settings:",L)}},G=R=>{const L=R.target.files[0];if(L){L.name||(L.name=`image-${Date.now()}.jpg`);const I=new FileReader;I.onloadend=()=>{c(L),g(I.result)},I.readAsDataURL(L)}},$=R=>{if(!R)return null;console.log("Extracting filename from URL:",R);try{if(R.includes("firebasestorage.googleapis.com")){const Ae=R.match(/%2F([^?]+)/g);if(Ae&&Ae.length>0){const ve=Ae[Ae.length-1].replace("%2F","").split("?")[0];return console.log("Extracted filename from Firebase URL:",ve),ve}}if(R.includes("background-images")){const Ae=R.split("/"),le=Ae[Ae.length-1];return console.log("Extracted filename from direct path:",le),le}const L=R.split("/"),je=L[L.length-1].split("?")[0];return console.log("Extracted filename using fallback method:",je),je}catch(L){return console.error("Error extracting filename:",L),null}},ee=async R=>{if(R)try{console.log("Attempting to delete old image with URL:",R);const L=$(R);if(L){console.log("Deleting file with filename:",L);const I=rr(cr,`gs://aimchallange-67039.firebasestorage.app/background-images/${L}`);await dp(I),console.log("Successfully deleted old image")}}catch(L){console.error("Error deleting old image:",L)}},J=async()=>{if(!n||!n.id){alert("Selected element must have an ID attribute");return}try{let R=d;if(l){const L=Date.now(),I=l.name?l.name.split(".").pop():"jpg",je=`background_${L}.${I}`,Ae=rr(cr,`gs://aimchallange-67039.firebasestorage.app/background-images/${je}`);console.log("Uploading image with new filename:",je),await cd(Ae,l),R=await hp(Ae),console.log("Image URL after upload:",R),console.log("Image URL format check:",{includesFirebaseStorage:R.includes("firebasestorage.googleapis.com"),includesBackgroundImages:R.includes("background-images"),urlParts:R.split("/"),containsPercent2F:R.includes("%2F")}),console.log("Previous image URL:",E),E&&E!==R?(console.log("Deleting previous image:",E),await ee(E)):console.log("No previous image to delete or same image URL")}if(R){const L=ia(Qt,"backgrounds");await bl(Nn(L,n.id),{elementId:n.id,imageUrl:R,backgroundType:p,updatedAt:new Date,updatedBy:"anonymous"}),V(n,R,p)}e(!1)}catch(R){console.error("Error saving background:",R),alert("Error saving background. Please try again.")}},re=async R=>{R.stopPropagation();try{if(E&&await ee(E),n&&n.id){const L=ia(Qt,"backgrounds");await bl(Nn(L,n.id),{elementId:n.id,imageUrl:null,backgroundType:"simple",updatedAt:new Date,updatedBy:"anonymous"}),n&&(n.style.backgroundImage="none")}c(null),g(null),b(null),console.log("Background image removed successfully")}catch(L){console.error("Error removing background image:",L)}},V=(R,L,I)=>{!R||!L||(console.log(`Applying background to element ${R.id} with image ${L}`),R.classList.remove("simple-background","fixed-background"),R.classList.add("has-background"),I==="simple"?R.classList.add("simple-background"):R.classList.add("locked-background"),R.style.backgroundImage=`url(${L})`,R.style.backgroundSize="cover",R.style.backgroundPosition="center",R.style.backgroundRepeat="no-repeat",I==="fixed"?R.style.backgroundAttachment="fixed":R.style.backgroundAttachment="scroll",console.log(`Background applied to element ${R.id}`))},N=()=>{e(!1),a(null),c(null),g(null),b(null)},S=R=>{O.current&&!O.current.contains(R.target)&&N()},k=()=>{j.current.click()};return w?u.jsx(u.Fragment,{children:s&&u.jsx("div",{className:"background-editor-overlay",onClick:S,children:u.jsxs("div",{className:"background-editor-modal",ref:O,children:[u.jsxs("div",{className:"background-editor-modal__header",children:[u.jsx("h2",{className:"background-editor-modal__title",children:"Edit Background"}),u.jsx("button",{className:"background-editor-modal__close",onClick:N,children:"×"})]}),u.jsxs("div",{className:"background-editor-modal__body",children:[u.jsxs("div",{className:"background-editor-modal__form-group",children:[u.jsx("label",{className:"background-editor-modal__label",children:"Background Type"}),u.jsxs("select",{className:"background-editor-modal__select",value:p,onChange:R=>y(R.target.value),children:[u.jsx("option",{value:"simple",children:"Simple (scrolls with content)"}),u.jsx("option",{value:"fixed",children:"Fixed (locked when scrolling)"})]})]}),u.jsxs("div",{className:"background-editor-modal__form-group",children:[u.jsx("label",{className:"background-editor-modal__label",children:"Background Image"}),u.jsxs("div",{className:"background-editor-modal__image-upload",onClick:k,children:[d?u.jsxs("div",{className:"background-editor-modal__image-preview-container",children:[u.jsx("img",{src:d,alt:"Preview",className:"background-editor-modal__image-preview"}),u.jsx("button",{className:"background-editor-modal__image-remove",onClick:re,children:"×"})]}):u.jsx("div",{className:"background-editor-modal__image-placeholder",children:"Click to upload an image"}),u.jsx("input",{type:"file",ref:j,onChange:G,accept:"image/*",className:"background-editor-modal__file-input"})]})]})]}),u.jsxs("div",{className:"background-editor-modal__footer",children:[u.jsx("button",{className:"background-editor-modal__button background-editor-modal__button--secondary",onClick:N,children:"Cancel"}),u.jsx("button",{className:"background-editor-modal__button background-editor-modal__button--primary",onClick:J,children:"Save Changes"})]})]})})}):null},CD=()=>u.jsx("div",{className:"background-container",children:u.jsx("img",{src:"/backgrounds/Höjdkurvor.svg",alt:"Background"})}),jD=async(s,e,n="Admin")=>{try{const l=(await Dj(_h,s,e)).user;return await Lj(l,{displayName:n}),await bl(Nn(Qt,"users",l.uid),{email:s,displayName:n,role:"admin",createdAt:new Date}),{success:!0,user:{uid:l.uid,email:l.email,displayName:n,role:"admin"}}}catch(a){return console.error("Error creating admin user:",a),{success:!1,error:a.message}}},DD=async()=>{try{(await rd(Nn(Qt,"settings","admin"))).exists()||(await jD("admin@example.com","password123")).success&&(await bl(Nn(Qt,"settings","admin"),{initialized:!0,adminEmail:"admin@example.com",createdAt:new Date}),console.log("Admin user initialized successfully"))}catch(s){console.error("Error initializing admin user:",s)}},OD=()=>(P.useEffect(()=>{DD().then(()=>console.log("Admin user initialized")).catch(s=>console.error("Error initializing admin user:",s))},[]),u.jsx(eD,{children:u.jsx(sD,{children:u.jsx(TS,{children:u.jsxs("div",{className:"flex flex_col MaxWH location",style:{width:"100%",maxWidth:"100%",overflow:"hidden",margin:0,padding:0,display:"flex",flexDirection:"column",position:"relative"},children:[u.jsx(CD,{}),u.jsx(iD,{}),u.jsx(ID,{}),u.jsx("div",{style:{margin:0,padding:0,width:"100%",position:"relative",top:0},children:u.jsxs(Zw,{children:[u.jsx(Ct,{path:"/",element:u.jsx(rD,{})}),u.jsx(Ct,{path:"/competitions",element:u.jsx(lD,{})}),u.jsx(Ct,{path:"/ulricehamn",element:u.jsx(oD,{})}),u.jsx(Ct,{path:"/salen",element:u.jsx(cD,{})}),u.jsx(Ct,{path:"/hemsedal",element:u.jsx(uD,{})}),u.jsx(Ct,{path:"/kolmarden",element:u.jsx(hD,{})}),u.jsx(Ct,{path:"/trippeln",element:u.jsx(dD,{})}),u.jsx(Ct,{path:"/results",element:u.jsx(yD,{})}),u.jsx(Ct,{path:"/gallery",element:u.jsxs(u.Fragment,{children:[u.jsx(_D,{}),u.jsx(vD,{})]})}),u.jsx(Ct,{path:"/om-oss",element:u.jsx(xD,{})}),u.jsx(Ct,{path:"/regler",element:u.jsx(ED,{})}),u.jsx(Ct,{path:"/faq",element:u.jsx(bD,{})}),u.jsx(Ct,{path:"/historien-om-aim",element:u.jsx(AD,{})}),u.jsx(Ct,{path:"/senaste-nytt",element:u.jsx(SD,{})}),u.jsx(Ct,{path:"/news/:id",element:u.jsx(ND,{})}),u.jsx(Ct,{path:"/login",element:u.jsx(_x,{})}),u.jsx(Ct,{path:"login",element:u.jsx(_x,{})}),u.jsx(Ct,{path:"/content-manager",element:u.jsx(kD,{requireAdmin:!0,children:u.jsx(RD,{})})})]})}),u.jsx(aD,{})]})})})}));(function(){const s=sessionStorage.redirect;delete sessionStorage.redirect,s&&s!==location.href&&history.replaceState(null,null,s)})();const MD=document.getElementById("root");lw.createRoot(MD).render(u.jsx(ew.StrictMode,{children:u.jsx(OD,{})}));
//# sourceMappingURL=index-HsntMSLw.js.map
