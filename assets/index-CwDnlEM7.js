(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();function f0(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var om={exports:{}},Uo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pv;function WA(){if(pv)return Uo;pv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,l,u){var d=null;if(u!==void 0&&(d=""+u),l.key!==void 0&&(d=""+l.key),"key"in l){u={};for(var g in l)g!=="key"&&(u[g]=l[g])}else u=l;return l=u.ref,{$$typeof:s,type:i,key:d,ref:l!==void 0?l:null,props:u}}return Uo.Fragment=e,Uo.jsx=n,Uo.jsxs=n,Uo}var _v;function XA(){return _v||(_v=1,om.exports=WA()),om.exports}var h=XA(),um={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yv;function ZA(){if(yv)return Ce;yv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.iterator;function S(V){return V===null||typeof V!="object"?null:(V=b&&V[b]||V["@@iterator"],typeof V=="function"?V:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,z={};function P(V,ie,ge){this.props=V,this.context=ie,this.refs=z,this.updater=ge||k}P.prototype.isReactComponent={},P.prototype.setState=function(V,ie){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,ie,"setState")},P.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function F(){}F.prototype=P.prototype;function H(V,ie,ge){this.props=V,this.context=ie,this.refs=z,this.updater=ge||k}var $=H.prototype=new F;$.constructor=H,D($,P.prototype),$.isPureReactComponent=!0;var ee=Array.isArray,Z={H:null,A:null,T:null,S:null},le=Object.prototype.hasOwnProperty;function O(V,ie,ge,ue,ce,Re){return ge=Re.ref,{$$typeof:s,type:V,key:ie,ref:ge!==void 0?ge:null,props:Re}}function R(V,ie){return O(V.type,ie,void 0,void 0,void 0,V.props)}function N(V){return typeof V=="object"&&V!==null&&V.$$typeof===s}function w(V){var ie={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ge){return ie[ge]})}var I=/\/+/g;function q(V,ie){return typeof V=="object"&&V!==null&&V.key!=null?w(""+V.key):ie.toString(36)}function j(){}function Ye(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(j,j):(V.status="pending",V.then(function(ie){V.status==="pending"&&(V.status="fulfilled",V.value=ie)},function(ie){V.status==="pending"&&(V.status="rejected",V.reason=ie)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function Ge(V,ie,ge,ue,ce){var Re=typeof V;(Re==="undefined"||Re==="boolean")&&(V=null);var ke=!1;if(V===null)ke=!0;else switch(Re){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(V.$$typeof){case s:case e:ke=!0;break;case E:return ke=V._init,Ge(ke(V._payload),ie,ge,ue,ce)}}if(ke)return ce=ce(V),ke=ue===""?"."+q(V,0):ue,ee(ce)?(ge="",ke!=null&&(ge=ke.replace(I,"$&/")+"/"),Ge(ce,ie,ge,"",function(ut){return ut})):ce!=null&&(N(ce)&&(ce=R(ce,ge+(ce.key==null||V&&V.key===ce.key?"":(""+ce.key).replace(I,"$&/")+"/")+ke)),ie.push(ce)),1;ke=0;var vt=ue===""?".":ue+":";if(ee(V))for(var ze=0;ze<V.length;ze++)ue=V[ze],Re=vt+q(ue,ze),ke+=Ge(ue,ie,ge,Re,ce);else if(ze=S(V),typeof ze=="function")for(V=ze.call(V),ze=0;!(ue=V.next()).done;)ue=ue.value,Re=vt+q(ue,ze++),ke+=Ge(ue,ie,ge,Re,ce);else if(Re==="object"){if(typeof V.then=="function")return Ge(Ye(V),ie,ge,ue,ce);throw ie=String(V),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return ke}function re(V,ie,ge){if(V==null)return V;var ue=[],ce=0;return Ge(V,ue,"","",function(Re){return ie.call(ge,Re,ce++)}),ue}function ye(V){if(V._status===-1){var ie=V._result;ie=ie(),ie.then(function(ge){(V._status===0||V._status===-1)&&(V._status=1,V._result=ge)},function(ge){(V._status===0||V._status===-1)&&(V._status=2,V._result=ge)}),V._status===-1&&(V._status=0,V._result=ie)}if(V._status===1)return V._result.default;throw V._result}var pe=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function me(){}return Ce.Children={map:re,forEach:function(V,ie,ge){re(V,function(){ie.apply(this,arguments)},ge)},count:function(V){var ie=0;return re(V,function(){ie++}),ie},toArray:function(V){return re(V,function(ie){return ie})||[]},only:function(V){if(!N(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Ce.Component=P,Ce.Fragment=n,Ce.Profiler=l,Ce.PureComponent=H,Ce.StrictMode=i,Ce.Suspense=p,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Z,Ce.act=function(){throw Error("act(...) is not supported in production builds of React.")},Ce.cache=function(V){return function(){return V.apply(null,arguments)}},Ce.cloneElement=function(V,ie,ge){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ue=D({},V.props),ce=V.key,Re=void 0;if(ie!=null)for(ke in ie.ref!==void 0&&(Re=void 0),ie.key!==void 0&&(ce=""+ie.key),ie)!le.call(ie,ke)||ke==="key"||ke==="__self"||ke==="__source"||ke==="ref"&&ie.ref===void 0||(ue[ke]=ie[ke]);var ke=arguments.length-2;if(ke===1)ue.children=ge;else if(1<ke){for(var vt=Array(ke),ze=0;ze<ke;ze++)vt[ze]=arguments[ze+2];ue.children=vt}return O(V.type,ce,void 0,void 0,Re,ue)},Ce.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},Ce.createElement=function(V,ie,ge){var ue,ce={},Re=null;if(ie!=null)for(ue in ie.key!==void 0&&(Re=""+ie.key),ie)le.call(ie,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(ce[ue]=ie[ue]);var ke=arguments.length-2;if(ke===1)ce.children=ge;else if(1<ke){for(var vt=Array(ke),ze=0;ze<ke;ze++)vt[ze]=arguments[ze+2];ce.children=vt}if(V&&V.defaultProps)for(ue in ke=V.defaultProps,ke)ce[ue]===void 0&&(ce[ue]=ke[ue]);return O(V,Re,void 0,void 0,null,ce)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(V){return{$$typeof:g,render:V}},Ce.isValidElement=N,Ce.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:ye}},Ce.memo=function(V,ie){return{$$typeof:_,type:V,compare:ie===void 0?null:ie}},Ce.startTransition=function(V){var ie=Z.T,ge={};Z.T=ge;try{var ue=V(),ce=Z.S;ce!==null&&ce(ge,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(me,pe)}catch(Re){pe(Re)}finally{Z.T=ie}},Ce.unstable_useCacheRefresh=function(){return Z.H.useCacheRefresh()},Ce.use=function(V){return Z.H.use(V)},Ce.useActionState=function(V,ie,ge){return Z.H.useActionState(V,ie,ge)},Ce.useCallback=function(V,ie){return Z.H.useCallback(V,ie)},Ce.useContext=function(V){return Z.H.useContext(V)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(V,ie){return Z.H.useDeferredValue(V,ie)},Ce.useEffect=function(V,ie){return Z.H.useEffect(V,ie)},Ce.useId=function(){return Z.H.useId()},Ce.useImperativeHandle=function(V,ie,ge){return Z.H.useImperativeHandle(V,ie,ge)},Ce.useInsertionEffect=function(V,ie){return Z.H.useInsertionEffect(V,ie)},Ce.useLayoutEffect=function(V,ie){return Z.H.useLayoutEffect(V,ie)},Ce.useMemo=function(V,ie){return Z.H.useMemo(V,ie)},Ce.useOptimistic=function(V,ie){return Z.H.useOptimistic(V,ie)},Ce.useReducer=function(V,ie,ge){return Z.H.useReducer(V,ie,ge)},Ce.useRef=function(V){return Z.H.useRef(V)},Ce.useState=function(V){return Z.H.useState(V)},Ce.useSyncExternalStore=function(V,ie,ge){return Z.H.useSyncExternalStore(V,ie,ge)},Ce.useTransition=function(){return Z.H.useTransition()},Ce.version="19.0.0",Ce}var vv;function ig(){return vv||(vv=1,um.exports=ZA()),um.exports}var L=ig();const JA=f0(L);var cm={exports:{}},Bo={},hm={exports:{}},dm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xv;function eS(){return xv||(xv=1,function(s){function e(re,ye){var pe=re.length;re.push(ye);e:for(;0<pe;){var me=pe-1>>>1,V=re[me];if(0<l(V,ye))re[me]=ye,re[pe]=V,pe=me;else break e}}function n(re){return re.length===0?null:re[0]}function i(re){if(re.length===0)return null;var ye=re[0],pe=re.pop();if(pe!==ye){re[0]=pe;e:for(var me=0,V=re.length,ie=V>>>1;me<ie;){var ge=2*(me+1)-1,ue=re[ge],ce=ge+1,Re=re[ce];if(0>l(ue,pe))ce<V&&0>l(Re,ue)?(re[me]=Re,re[ce]=pe,me=ce):(re[me]=ue,re[ge]=pe,me=ge);else if(ce<V&&0>l(Re,pe))re[me]=Re,re[ce]=pe,me=ce;else break e}}return ye}function l(re,ye){var pe=re.sortIndex-ye.sortIndex;return pe!==0?pe:re.id-ye.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var p=[],_=[],E=1,b=null,S=3,k=!1,D=!1,z=!1,P=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function $(re){for(var ye=n(_);ye!==null;){if(ye.callback===null)i(_);else if(ye.startTime<=re)i(_),ye.sortIndex=ye.expirationTime,e(p,ye);else break;ye=n(_)}}function ee(re){if(z=!1,$(re),!D)if(n(p)!==null)D=!0,Ye();else{var ye=n(_);ye!==null&&Ge(ee,ye.startTime-re)}}var Z=!1,le=-1,O=5,R=-1;function N(){return!(s.unstable_now()-R<O)}function w(){if(Z){var re=s.unstable_now();R=re;var ye=!0;try{e:{D=!1,z&&(z=!1,F(le),le=-1),k=!0;var pe=S;try{t:{for($(re),b=n(p);b!==null&&!(b.expirationTime>re&&N());){var me=b.callback;if(typeof me=="function"){b.callback=null,S=b.priorityLevel;var V=me(b.expirationTime<=re);if(re=s.unstable_now(),typeof V=="function"){b.callback=V,$(re),ye=!0;break t}b===n(p)&&i(p),$(re)}else i(p);b=n(p)}if(b!==null)ye=!0;else{var ie=n(_);ie!==null&&Ge(ee,ie.startTime-re),ye=!1}}break e}finally{b=null,S=pe,k=!1}ye=void 0}}finally{ye?I():Z=!1}}}var I;if(typeof H=="function")I=function(){H(w)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,j=q.port2;q.port1.onmessage=w,I=function(){j.postMessage(null)}}else I=function(){P(w,0)};function Ye(){Z||(Z=!0,I())}function Ge(re,ye){le=P(function(){re(s.unstable_now())},ye)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(re){re.callback=null},s.unstable_continueExecution=function(){D||k||(D=!0,Ye())},s.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<re?Math.floor(1e3/re):5},s.unstable_getCurrentPriorityLevel=function(){return S},s.unstable_getFirstCallbackNode=function(){return n(p)},s.unstable_next=function(re){switch(S){case 1:case 2:case 3:var ye=3;break;default:ye=S}var pe=S;S=ye;try{return re()}finally{S=pe}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(re,ye){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var pe=S;S=re;try{return ye()}finally{S=pe}},s.unstable_scheduleCallback=function(re,ye,pe){var me=s.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?me+pe:me):pe=me,re){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=pe+V,re={id:E++,callback:ye,priorityLevel:re,startTime:pe,expirationTime:V,sortIndex:-1},pe>me?(re.sortIndex=pe,e(_,re),n(p)===null&&re===n(_)&&(z?(F(le),le=-1):z=!0,Ge(ee,pe-me))):(re.sortIndex=V,e(p,re),D||k||(D=!0,Ye())),re},s.unstable_shouldYield=N,s.unstable_wrapCallback=function(re){var ye=S;return function(){var pe=S;S=ye;try{return re.apply(this,arguments)}finally{S=pe}}}}(dm)),dm}var Ev;function tS(){return Ev||(Ev=1,hm.exports=eS()),hm.exports}var fm={exports:{}},Xt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tv;function nS(){if(Tv)return Xt;Tv=1;var s=ig();function e(p){var _="https://react.dev/errors/"+p;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)_+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(p,_,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:p,containerInfo:_,implementation:E}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,_){if(p==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Xt.createPortal=function(p,_){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return u(p,_,null,E)},Xt.flushSync=function(p){var _=d.T,E=i.p;try{if(d.T=null,i.p=2,p)return p()}finally{d.T=_,i.p=E,i.d.f()}},Xt.preconnect=function(p,_){typeof p=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,i.d.C(p,_))},Xt.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},Xt.preinit=function(p,_){if(typeof p=="string"&&_&&typeof _.as=="string"){var E=_.as,b=g(E,_.crossOrigin),S=typeof _.integrity=="string"?_.integrity:void 0,k=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;E==="style"?i.d.S(p,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:b,integrity:S,fetchPriority:k}):E==="script"&&i.d.X(p,{crossOrigin:b,integrity:S,fetchPriority:k,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Xt.preinitModule=function(p,_){if(typeof p=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var E=g(_.as,_.crossOrigin);i.d.M(p,{crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&i.d.M(p)},Xt.preload=function(p,_){if(typeof p=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var E=_.as,b=g(E,_.crossOrigin);i.d.L(p,E,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Xt.preloadModule=function(p,_){if(typeof p=="string")if(_){var E=g(_.as,_.crossOrigin);i.d.m(p,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else i.d.m(p)},Xt.requestFormReset=function(p){i.d.r(p)},Xt.unstable_batchedUpdates=function(p,_){return p(_)},Xt.useFormState=function(p,_,E){return d.H.useFormState(p,_,E)},Xt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Xt.version="19.0.0",Xt}var bv;function sS(){if(bv)return fm.exports;bv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),fm.exports=nS(),fm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Av;function aS(){if(Av)return Bo;Av=1;var s=tS(),e=ig(),n=sS();function i(t){var a="https://react.dev/errors/"+t;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)a+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var u=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),S=Symbol.for("react.consumer"),k=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),$=Symbol.for("react.offscreen"),ee=Symbol.for("react.memo_cache_sentinel"),Z=Symbol.iterator;function le(t){return t===null||typeof t!="object"?null:(t=Z&&t[Z]||t["@@iterator"],typeof t=="function"?t:null)}var O=Symbol.for("react.client.reference");function R(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===O?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case p:return"Fragment";case g:return"Portal";case E:return"Profiler";case _:return"StrictMode";case z:return"Suspense";case P:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case k:return(t.displayName||"Context")+".Provider";case S:return(t._context.displayName||"Context")+".Consumer";case D:var a=t.render;return t=t.displayName,t||(t=a.displayName||a.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case F:return a=t.displayName||null,a!==null?a:R(t.type)||"Memo";case H:a=t._payload,t=t._init;try{return R(t(a))}catch{}}return null}var N=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,w=Object.assign,I,q;function j(t){if(I===void 0)try{throw Error()}catch(r){var a=r.stack.trim().match(/\n( *(at )?)/);I=a&&a[1]||"",q=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+I+t+q}var Ye=!1;function Ge(t,a){if(!t||Ye)return"";Ye=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(a){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(X){var Y=X}Reflect.construct(t,[],ae)}else{try{ae.call()}catch(X){Y=X}t.call(ae.prototype)}}else{try{throw Error()}catch(X){Y=X}(ae=t())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(X){if(X&&Y&&typeof X.stack=="string")return[X.stack,Y.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=o.DetermineComponentFrameRoot(),x=m[0],T=m[1];if(x&&T){var C=x.split(`
`),B=T.split(`
`);for(f=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;f<B.length&&!B[f].includes("DetermineComponentFrameRoot");)f++;if(o===C.length||f===B.length)for(o=C.length-1,f=B.length-1;1<=o&&0<=f&&C[o]!==B[f];)f--;for(;1<=o&&0<=f;o--,f--)if(C[o]!==B[f]){if(o!==1||f!==1)do if(o--,f--,0>f||C[o]!==B[f]){var J=`
`+C[o].replace(" at new "," at ");return t.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",t.displayName)),J}while(1<=o&&0<=f);break}}}finally{Ye=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?j(r):""}function re(t){switch(t.tag){case 26:case 27:case 5:return j(t.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 15:return t=Ge(t.type,!1),t;case 11:return t=Ge(t.type.render,!1),t;case 1:return t=Ge(t.type,!0),t;default:return""}}function ye(t){try{var a="";do a+=re(t),t=t.return;while(t);return a}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function pe(t){var a=t,r=t;if(t.alternate)for(;a.return;)a=a.return;else{t=a;do a=t,(a.flags&4098)!==0&&(r=a.return),t=a.return;while(t)}return a.tag===3?r:null}function me(t){if(t.tag===13){var a=t.memoizedState;if(a===null&&(t=t.alternate,t!==null&&(a=t.memoizedState)),a!==null)return a.dehydrated}return null}function V(t){if(pe(t)!==t)throw Error(i(188))}function ie(t){var a=t.alternate;if(!a){if(a=pe(t),a===null)throw Error(i(188));return a!==t?null:t}for(var r=t,o=a;;){var f=r.return;if(f===null)break;var m=f.alternate;if(m===null){if(o=f.return,o!==null){r=o;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===r)return V(f),t;if(m===o)return V(f),a;m=m.sibling}throw Error(i(188))}if(r.return!==o.return)r=f,o=m;else{for(var x=!1,T=f.child;T;){if(T===r){x=!0,r=f,o=m;break}if(T===o){x=!0,o=f,r=m;break}T=T.sibling}if(!x){for(T=m.child;T;){if(T===r){x=!0,r=m,o=f;break}if(T===o){x=!0,o=m,r=f;break}T=T.sibling}if(!x)throw Error(i(189))}}if(r.alternate!==o)throw Error(i(190))}if(r.tag!==3)throw Error(i(188));return r.stateNode.current===r?t:a}function ge(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t;for(t=t.child;t!==null;){if(a=ge(t),a!==null)return a;t=t.sibling}return null}var ue=Array.isArray,ce=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Re={pending:!1,data:null,method:null,action:null},ke=[],vt=-1;function ze(t){return{current:t}}function ut(t){0>vt||(t.current=ke[vt],ke[vt]=null,vt--)}function We(t,a){vt++,ke[vt]=t.current,t.current=a}var nn=ze(null),Rs=ze(null),wn=ze(null),da=ze(null);function fa(t,a){switch(We(wn,a),We(Rs,t),We(nn,null),t=a.nodeType,t){case 9:case 11:a=(a=a.documentElement)&&(a=a.namespaceURI)?Fy(a):0;break;default:if(t=t===8?a.parentNode:a,a=t.tagName,t=t.namespaceURI)t=Fy(t),a=Gy(t,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}ut(nn),We(nn,a)}function ks(){ut(nn),ut(Rs),ut(wn)}function Dl(t){t.memoizedState!==null&&We(da,t);var a=nn.current,r=Gy(a,t.type);a!==r&&(We(Rs,t),We(nn,r))}function gr(t){Rs.current===t&&(ut(nn),ut(Rs)),da.current===t&&(ut(da),Oo._currentValue=Re)}var pr=Object.prototype.hasOwnProperty,xi=s.unstable_scheduleCallback,_r=s.unstable_cancelCallback,ud=s.unstable_shouldYield,Ol=s.unstable_requestPaint,hn=s.unstable_now,Su=s.unstable_getCurrentPriorityLevel,wt=s.unstable_ImmediatePriority,Ot=s.unstable_UserBlockingPriority,Cs=s.unstable_NormalPriority,wu=s.unstable_LowPriority,Ml=s.unstable_IdlePriority,cd=s.log,Ei=s.unstable_setDisableYieldValue,ma=null,Yt=null;function Ll(t){if(Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(ma,t,void 0,(t.current.flags&128)===128)}catch{}}function ss(t){if(typeof cd=="function"&&Ei(t),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode(ma,t)}catch{}}var sn=Math.clz32?Math.clz32:Ru,Vl=Math.log,Nu=Math.LN2;function Ru(t){return t>>>=0,t===0?32:31-(Vl(t)/Nu|0)|0}var as=128,ga=4194304;function Kn(t){var a=t&42;if(a!==0)return a;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Nn(t,a){var r=t.pendingLanes;if(r===0)return 0;var o=0,f=t.suspendedLanes,m=t.pingedLanes,x=t.warmLanes;t=t.finishedLanes!==0;var T=r&134217727;return T!==0?(r=T&~f,r!==0?o=Kn(r):(m&=T,m!==0?o=Kn(m):t||(x=T&~x,x!==0&&(o=Kn(x))))):(T=r&~f,T!==0?o=Kn(T):m!==0?o=Kn(m):t||(x=r&~x,x!==0&&(o=Kn(x)))),o===0?0:a!==0&&a!==o&&(a&f)===0&&(f=o&-o,x=a&-a,f>=x||f===32&&(x&4194176)!==0)?a:o}function pa(t,a){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&a)===0}function yr(t,a){switch(t){case 1:case 2:case 4:case 8:return a+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pl(){var t=as;return as<<=1,(as&4194176)===0&&(as=128),t}function _a(){var t=ga;return ga<<=1,(ga&62914560)===0&&(ga=4194304),t}function vr(t){for(var a=[],r=0;31>r;r++)a.push(t);return a}function pt(t,a){t.pendingLanes|=a,a!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function ku(t,a,r,o,f,m){var x=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var T=t.entanglements,C=t.expirationTimes,B=t.hiddenUpdates;for(r=x&~r;0<r;){var J=31-sn(r),ae=1<<J;T[J]=0,C[J]=-1;var Y=B[J];if(Y!==null)for(B[J]=null,J=0;J<Y.length;J++){var X=Y[J];X!==null&&(X.lane&=-536870913)}r&=~ae}o!==0&&ya(t,o,0),m!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=m&~(x&~a))}function ya(t,a,r){t.pendingLanes|=a,t.suspendedLanes&=~a;var o=31-sn(a);t.entangledLanes|=a,t.entanglements[o]=t.entanglements[o]|1073741824|r&4194218}function va(t,a){var r=t.entangledLanes|=a;for(t=t.entanglements;r;){var o=31-sn(r),f=1<<o;f&a|t[o]&a&&(t[o]|=a),r&=~f}}function Cu(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Iu(){var t=ce.p;return t!==0?t:(t=window.event,t===void 0?32:cv(t.type))}function xa(t,a){var r=ce.p;try{return ce.p=t,a()}finally{ce.p=r}}var is=Math.random().toString(36).slice(2),Mt="__reactFiber$"+is,Nt="__reactProps$"+is,Is="__reactContainer$"+is,Ti="__reactEvents$"+is,xr="__reactListeners$"+is,rs="__reactHandles$"+is,Ul="__reactResources$"+is,Ea="__reactMarker$"+is;function bi(t){delete t[Mt],delete t[Nt],delete t[Ti],delete t[xr],delete t[rs]}function Fn(t){var a=t[Mt];if(a)return a;for(var r=t.parentNode;r;){if(a=r[Is]||r[Mt]){if(r=a.alternate,a.child!==null||r!==null&&r.child!==null)for(t=Yy(t);t!==null;){if(r=t[Mt])return r;t=Yy(t)}return a}t=r,r=t.parentNode}return null}function js(t){if(t=t[Mt]||t[Is]){var a=t.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return t}return null}function Ta(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t.stateNode;throw Error(i(33))}function ba(t){var a=t[Ul];return a||(a=t[Ul]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function it(t){t[Ea]=!0}var Bl=new Set,Er={};function pn(t,a){dn(t,a),dn(t+"Capture",a)}function dn(t,a){for(Er[t]=a,t=0;t<a.length;t++)Bl.add(a[t])}var _n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hd=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Hl={},zl={};function ju(t){return pr.call(zl,t)?!0:pr.call(Hl,t)?!1:hd.test(t)?zl[t]=!0:(Hl[t]=!0,!1)}function Aa(t,a,r){if(ju(a))if(r===null)t.removeAttribute(a);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(a);return;case"boolean":var o=a.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(a);return}}t.setAttribute(a,""+r)}}function Sa(t,a,r){if(r===null)t.removeAttribute(a);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttribute(a,""+r)}}function Rn(t,a,r,o){if(o===null)t.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(a,r,""+o)}}function an(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Du(t){var a=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function dd(t){var a=Du(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,a),o=""+t[a];if(!t.hasOwnProperty(a)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var f=r.get,m=r.set;return Object.defineProperty(t,a,{configurable:!0,get:function(){return f.call(this)},set:function(x){o=""+x,m.call(this,x)}}),Object.defineProperty(t,a,{enumerable:r.enumerable}),{getValue:function(){return o},setValue:function(x){o=""+x},stopTracking:function(){t._valueTracker=null,delete t[a]}}}}function Ai(t){t._valueTracker||(t._valueTracker=dd(t))}function ql(t){if(!t)return!1;var a=t._valueTracker;if(!a)return!0;var r=a.getValue(),o="";return t&&(o=Du(t)?t.checked?"true":"false":t.value),t=o,t!==r?(a.setValue(t),!0):!1}function Tr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ds=/[\n"\\]/g;function ct(t){return t.replace(Ds,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function wa(t,a,r,o,f,m,x,T){t.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?t.type=x:t.removeAttribute("type"),a!=null?x==="number"?(a===0&&t.value===""||t.value!=a)&&(t.value=""+an(a)):t.value!==""+an(a)&&(t.value=""+an(a)):x!=="submit"&&x!=="reset"||t.removeAttribute("value"),a!=null?br(t,x,an(a)):r!=null?br(t,x,an(r)):o!=null&&t.removeAttribute("value"),f==null&&m!=null&&(t.defaultChecked=!!m),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+an(T):t.removeAttribute("name")}function Si(t,a,r,o,f,m,x,T){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),a!=null||r!=null){if(!(m!=="submit"&&m!=="reset"||a!=null))return;r=r!=null?""+an(r):"",a=a!=null?""+an(a):r,T||a===t.value||(t.value=a),t.defaultValue=a}o=o??f,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=T?t.checked:!!o,t.defaultChecked=!!o,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(t.name=x)}function br(t,a,r){a==="number"&&Tr(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function qe(t,a,r,o){if(t=t.options,a){a={};for(var f=0;f<r.length;f++)a["$"+r[f]]=!0;for(r=0;r<t.length;r++)f=a.hasOwnProperty("$"+t[r].value),t[r].selected!==f&&(t[r].selected=f),f&&o&&(t[r].defaultSelected=!0)}else{for(r=""+an(r),a=null,f=0;f<t.length;f++){if(t[f].value===r){t[f].selected=!0,o&&(t[f].defaultSelected=!0);return}a!==null||t[f].disabled||(a=t[f])}a!==null&&(a.selected=!0)}}function wi(t,a,r){if(a!=null&&(a=""+an(a),a!==t.value&&(t.value=a),r==null)){t.defaultValue!==a&&(t.defaultValue=a);return}t.defaultValue=r!=null?""+an(r):""}function Na(t,a,r,o){if(a==null){if(o!=null){if(r!=null)throw Error(i(92));if(ue(o)){if(1<o.length)throw Error(i(93));o=o[0]}r=o}r==null&&(r=""),a=r}r=an(a),t.defaultValue=r,o=t.textContent,o===r&&o!==""&&o!==null&&(t.value=o)}function kn(t,a){if(a){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=a;return}}t.textContent=a}var fd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Kl(t,a,r){var o=a.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?t.setProperty(a,""):a==="float"?t.cssFloat="":t[a]="":o?t.setProperty(a,r):typeof r!="number"||r===0||fd.has(a)?a==="float"?t.cssFloat=r:t[a]=(""+r).trim():t[a]=r+"px"}function Ou(t,a,r){if(a!=null&&typeof a!="object")throw Error(i(62));if(t=t.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||a!=null&&a.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var f in a)o=a[f],a.hasOwnProperty(f)&&r[f]!==o&&Kl(t,f,o)}else for(var m in a)a.hasOwnProperty(m)&&Kl(t,m,a[m])}function Fl(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var md=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ls(t){return gd.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Cn=null;function Ar(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Os=null,Ms=null;function Ls(t){var a=js(t);if(a&&(t=a.stateNode)){var r=t[Nt]||null;e:switch(t=a.stateNode,a.type){case"input":if(wa(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),a=r.name,r.type==="radio"&&a!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+ct(""+a)+'"][type="radio"]'),a=0;a<r.length;a++){var o=r[a];if(o!==t&&o.form===t.form){var f=o[Nt]||null;if(!f)throw Error(i(90));wa(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(a=0;a<r.length;a++)o=r[a],o.form===t.form&&ql(o)}break e;case"textarea":wi(t,r.value,r.defaultValue);break e;case"select":a=r.value,a!=null&&qe(t,!!r.multiple,a,!1)}}}var Gl=!1;function Mu(t,a,r){if(Gl)return t(a,r);Gl=!0;try{var o=t(a);return o}finally{if(Gl=!1,(Os!==null||Ms!==null)&&(wc(),Os&&(a=Os,t=Ms,Ms=Os=null,Ls(a),t)))for(a=0;a<t.length;a++)Ls(t[a])}}function Ni(t,a){var r=t.stateNode;if(r===null)return null;var o=r[Nt]||null;if(o===null)return null;r=o[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(i(231,a,typeof r));return r}var In=!1;if(_n)try{var Ri={};Object.defineProperty(Ri,"passive",{get:function(){In=!0}}),window.addEventListener("test",Ri,Ri),window.removeEventListener("test",Ri,Ri)}catch{In=!1}var os=null,Ra=null,Vs=null;function $l(){if(Vs)return Vs;var t,a=Ra,r=a.length,o,f="value"in os?os.value:os.textContent,m=f.length;for(t=0;t<r&&a[t]===f[t];t++);var x=r-t;for(o=1;o<=x&&a[r-o]===f[m-o];o++);return Vs=f.slice(t,1<o?1-o:void 0)}function us(t){var a=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&a===13&&(t=13)):t=a,t===10&&(t=13),32<=t||t===13?t:0}function cs(){return!0}function Ql(){return!1}function Lt(t){function a(r,o,f,m,x){this._reactName=r,this._targetInst=f,this.type=o,this.nativeEvent=m,this.target=x,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(r=t[T],this[T]=r?r(m):m[T]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?cs:Ql,this.isPropagationStopped=Ql,this}return w(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=cs)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=cs)},persist:function(){},isPersistent:cs}),a}var $e={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sr=Lt($e),ki=w({},$e,{view:0,detail:0}),Lu=Lt(ki),wr,Nr,hs,Ci=w({},ki,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Di,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==hs&&(hs&&t.type==="mousemove"?(wr=t.screenX-hs.screenX,Nr=t.screenY-hs.screenY):Nr=wr=0,hs=t),wr)},movementY:function(t){return"movementY"in t?t.movementY:Nr}}),jn=Lt(Ci),Vu=w({},Ci,{dataTransfer:0}),pd=Lt(Vu),Ii=w({},ki,{relatedTarget:0}),Rr=Lt(Ii),Yl=w({},$e,{animationName:0,elapsedTime:0,pseudoElement:0}),kr=Lt(Yl),Pu=w({},$e,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Cr=Lt(Pu),_d=w({},$e,{data:0}),Wl=Lt(_d),ji={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Uu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xl(t){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(t):(t=Bu[t])?!!a[t]:!1}function Di(){return Xl}var Hu=w({},ki,{key:function(t){if(t.key){var a=ji[t.key]||t.key;if(a!=="Unidentified")return a}return t.type==="keypress"?(t=us(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Uu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Di,charCode:function(t){return t.type==="keypress"?us(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?us(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ir=Lt(Hu),zu=w({},Ci,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zl=Lt(zu),Ps=w({},ki,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Di}),qu=Lt(Ps),Ku=w({},$e,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fu=Lt(Ku),Gu=w({},Ci,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),jr=Lt(Gu),rn=w({},$e,{newState:0,oldState:0}),$u=Lt(rn),Qu=[9,13,27,32],ds=_n&&"CompositionEvent"in window,c=null;_n&&"documentMode"in document&&(c=document.documentMode);var y=_n&&"TextEvent"in window&&!c,v=_n&&(!ds||c&&8<c&&11>=c),A=" ",G=!1;function W(t,a){switch(t){case"keyup":return Qu.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oe(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Pe=!1;function Rt(t,a){switch(t){case"compositionend":return oe(a);case"keypress":return a.which!==32?null:(G=!0,A);case"textInput":return t=a.data,t===A&&G?null:t;default:return null}}function Ue(t,a){if(Pe)return t==="compositionend"||!ds&&W(t,a)?(t=$l(),Vs=Ra=os=null,Pe=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return v&&a.locale!=="ko"?null:a.data;default:return null}}var Vt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kt(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a==="input"?!!Vt[t.type]:a==="textarea"}function Us(t,a,r,o){Os?Ms?Ms.push(o):Ms=[o]:Os=o,a=Ic(a,"onChange"),0<a.length&&(r=new Sr("onChange","change",null,r,o),t.push({event:r,listeners:a}))}var zt=null,fs=null;function Jl(t){By(t,0)}function Yu(t){var a=Ta(t);if(ql(a))return t}function gp(t,a){if(t==="change")return a}var pp=!1;if(_n){var yd;if(_n){var vd="oninput"in document;if(!vd){var _p=document.createElement("div");_p.setAttribute("oninput","return;"),vd=typeof _p.oninput=="function"}yd=vd}else yd=!1;pp=yd&&(!document.documentMode||9<document.documentMode)}function yp(){zt&&(zt.detachEvent("onpropertychange",vp),fs=zt=null)}function vp(t){if(t.propertyName==="value"&&Yu(fs)){var a=[];Us(a,fs,t,Ar(t)),Mu(Jl,a)}}function wb(t,a,r){t==="focusin"?(yp(),zt=a,fs=r,zt.attachEvent("onpropertychange",vp)):t==="focusout"&&yp()}function Nb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Yu(fs)}function Rb(t,a){if(t==="click")return Yu(a)}function kb(t,a){if(t==="input"||t==="change")return Yu(a)}function Cb(t,a){return t===a&&(t!==0||1/t===1/a)||t!==t&&a!==a}var yn=typeof Object.is=="function"?Object.is:Cb;function eo(t,a){if(yn(t,a))return!0;if(typeof t!="object"||t===null||typeof a!="object"||a===null)return!1;var r=Object.keys(t),o=Object.keys(a);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var f=r[o];if(!pr.call(a,f)||!yn(t[f],a[f]))return!1}return!0}function xp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ep(t,a){var r=xp(t);t=0;for(var o;r;){if(r.nodeType===3){if(o=t+r.textContent.length,t<=a&&o>=a)return{node:r,offset:a-t};t=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=xp(r)}}function Tp(t,a){return t&&a?t===a?!0:t&&t.nodeType===3?!1:a&&a.nodeType===3?Tp(t,a.parentNode):"contains"in t?t.contains(a):t.compareDocumentPosition?!!(t.compareDocumentPosition(a)&16):!1:!1}function bp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var a=Tr(t.document);a instanceof t.HTMLIFrameElement;){try{var r=typeof a.contentWindow.location.href=="string"}catch{r=!1}if(r)t=a.contentWindow;else break;a=Tr(t.document)}return a}function xd(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a&&(a==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||a==="textarea"||t.contentEditable==="true")}function Ib(t,a){var r=bp(a);a=t.focusedElem;var o=t.selectionRange;if(r!==a&&a&&a.ownerDocument&&Tp(a.ownerDocument.documentElement,a)){if(o!==null&&xd(a)){if(t=o.start,r=o.end,r===void 0&&(r=t),"selectionStart"in a)a.selectionStart=t,a.selectionEnd=Math.min(r,a.value.length);else if(r=(t=a.ownerDocument||document)&&t.defaultView||window,r.getSelection){r=r.getSelection();var f=a.textContent.length,m=Math.min(o.start,f);o=o.end===void 0?m:Math.min(o.end,f),!r.extend&&m>o&&(f=o,o=m,m=f),f=Ep(a,m);var x=Ep(a,o);f&&x&&(r.rangeCount!==1||r.anchorNode!==f.node||r.anchorOffset!==f.offset||r.focusNode!==x.node||r.focusOffset!==x.offset)&&(t=t.createRange(),t.setStart(f.node,f.offset),r.removeAllRanges(),m>o?(r.addRange(t),r.extend(x.node,x.offset)):(t.setEnd(x.node,x.offset),r.addRange(t)))}}for(t=[],r=a;r=r.parentNode;)r.nodeType===1&&t.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<t.length;a++)r=t[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var jb=_n&&"documentMode"in document&&11>=document.documentMode,Dr=null,Ed=null,to=null,Td=!1;function Ap(t,a,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Td||Dr==null||Dr!==Tr(o)||(o=Dr,"selectionStart"in o&&xd(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),to&&eo(to,o)||(to=o,o=Ic(Ed,"onSelect"),0<o.length&&(a=new Sr("onSelect","select",null,a,r),t.push({event:a,listeners:o}),a.target=Dr)))}function Oi(t,a){var r={};return r[t.toLowerCase()]=a.toLowerCase(),r["Webkit"+t]="webkit"+a,r["Moz"+t]="moz"+a,r}var Or={animationend:Oi("Animation","AnimationEnd"),animationiteration:Oi("Animation","AnimationIteration"),animationstart:Oi("Animation","AnimationStart"),transitionrun:Oi("Transition","TransitionRun"),transitionstart:Oi("Transition","TransitionStart"),transitioncancel:Oi("Transition","TransitionCancel"),transitionend:Oi("Transition","TransitionEnd")},bd={},Sp={};_n&&(Sp=document.createElement("div").style,"AnimationEvent"in window||(delete Or.animationend.animation,delete Or.animationiteration.animation,delete Or.animationstart.animation),"TransitionEvent"in window||delete Or.transitionend.transition);function Mi(t){if(bd[t])return bd[t];if(!Or[t])return t;var a=Or[t],r;for(r in a)if(a.hasOwnProperty(r)&&r in Sp)return bd[t]=a[r];return t}var wp=Mi("animationend"),Np=Mi("animationiteration"),Rp=Mi("animationstart"),Db=Mi("transitionrun"),Ob=Mi("transitionstart"),Mb=Mi("transitioncancel"),kp=Mi("transitionend"),Cp=new Map,Ip="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Gn(t,a){Cp.set(t,a),pn(a,[t])}var Dn=[],Mr=0,Ad=0;function Wu(){for(var t=Mr,a=Ad=Mr=0;a<t;){var r=Dn[a];Dn[a++]=null;var o=Dn[a];Dn[a++]=null;var f=Dn[a];Dn[a++]=null;var m=Dn[a];if(Dn[a++]=null,o!==null&&f!==null){var x=o.pending;x===null?f.next=f:(f.next=x.next,x.next=f),o.pending=f}m!==0&&jp(r,f,m)}}function Xu(t,a,r,o){Dn[Mr++]=t,Dn[Mr++]=a,Dn[Mr++]=r,Dn[Mr++]=o,Ad|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Sd(t,a,r,o){return Xu(t,a,r,o),Zu(t)}function ka(t,a){return Xu(t,null,null,a),Zu(t)}function jp(t,a,r){t.lanes|=r;var o=t.alternate;o!==null&&(o.lanes|=r);for(var f=!1,m=t.return;m!==null;)m.childLanes|=r,o=m.alternate,o!==null&&(o.childLanes|=r),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(f=!0)),t=m,m=m.return;f&&a!==null&&t.tag===3&&(m=t.stateNode,f=31-sn(r),m=m.hiddenUpdates,t=m[f],t===null?m[f]=[a]:t.push(a),a.lane=r|536870912)}function Zu(t){if(50<No)throw No=0,jf=null,Error(i(185));for(var a=t.return;a!==null;)t=a,a=t.return;return t.tag===3?t.stateNode:null}var Lr={},Dp=new WeakMap;function On(t,a){if(typeof t=="object"&&t!==null){var r=Dp.get(t);return r!==void 0?r:(a={value:t,source:a,stack:ye(a)},Dp.set(t,a),a)}return{value:t,source:a,stack:ye(a)}}var Vr=[],Pr=0,Ju=null,ec=0,Mn=[],Ln=0,Li=null,Bs=1,Hs="";function Vi(t,a){Vr[Pr++]=ec,Vr[Pr++]=Ju,Ju=t,ec=a}function Op(t,a,r){Mn[Ln++]=Bs,Mn[Ln++]=Hs,Mn[Ln++]=Li,Li=t;var o=Bs;t=Hs;var f=32-sn(o)-1;o&=~(1<<f),r+=1;var m=32-sn(a)+f;if(30<m){var x=f-f%5;m=(o&(1<<x)-1).toString(32),o>>=x,f-=x,Bs=1<<32-sn(a)+f|r<<f|o,Hs=m+t}else Bs=1<<m|r<<f|o,Hs=t}function wd(t){t.return!==null&&(Vi(t,1),Op(t,1,0))}function Nd(t){for(;t===Ju;)Ju=Vr[--Pr],Vr[Pr]=null,ec=Vr[--Pr],Vr[Pr]=null;for(;t===Li;)Li=Mn[--Ln],Mn[Ln]=null,Hs=Mn[--Ln],Mn[Ln]=null,Bs=Mn[--Ln],Mn[Ln]=null}var ln=null,qt=null,Ke=!1,$n=null,ms=!1,Rd=Error(i(519));function Pi(t){var a=Error(i(418,""));throw ao(On(a,t)),Rd}function Mp(t){var a=t.stateNode,r=t.type,o=t.memoizedProps;switch(a[Mt]=t,a[Nt]=o,r){case"dialog":Le("cancel",a),Le("close",a);break;case"iframe":case"object":case"embed":Le("load",a);break;case"video":case"audio":for(r=0;r<ko.length;r++)Le(ko[r],a);break;case"source":Le("error",a);break;case"img":case"image":case"link":Le("error",a),Le("load",a);break;case"details":Le("toggle",a);break;case"input":Le("invalid",a),Si(a,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Ai(a);break;case"select":Le("invalid",a);break;case"textarea":Le("invalid",a),Na(a,o.value,o.defaultValue,o.children),Ai(a)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||a.textContent===""+r||o.suppressHydrationWarning===!0||Ky(a.textContent,r)?(o.popover!=null&&(Le("beforetoggle",a),Le("toggle",a)),o.onScroll!=null&&Le("scroll",a),o.onScrollEnd!=null&&Le("scrollend",a),o.onClick!=null&&(a.onclick=jc),a=!0):a=!1,a||Pi(t)}function Lp(t){for(ln=t.return;ln;)switch(ln.tag){case 3:case 27:ms=!0;return;case 5:case 13:ms=!1;return;default:ln=ln.return}}function no(t){if(t!==ln)return!1;if(!Ke)return Lp(t),Ke=!0,!1;var a=!1,r;if((r=t.tag!==3&&t.tag!==27)&&((r=t.tag===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Yf(t.type,t.memoizedProps)),r=!r),r&&(a=!0),a&&qt&&Pi(t),Lp(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));e:{for(t=t.nextSibling,a=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(a===0){qt=Yn(t.nextSibling);break e}a--}else r!=="$"&&r!=="$!"&&r!=="$?"||a++;t=t.nextSibling}qt=null}}else qt=ln?Yn(t.stateNode.nextSibling):null;return!0}function so(){qt=ln=null,Ke=!1}function ao(t){$n===null?$n=[t]:$n.push(t)}var io=Error(i(460)),Vp=Error(i(474)),kd={then:function(){}};function Pp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function tc(){}function Up(t,a,r){switch(r=t[r],r===void 0?t.push(a):r!==a&&(a.then(tc,tc),a=r),a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,t===io?Error(i(483)):t;default:if(typeof a.status=="string")a.then(tc,tc);else{if(t=et,t!==null&&100<t.shellSuspendCounter)throw Error(i(482));t=a,t.status="pending",t.then(function(o){if(a.status==="pending"){var f=a;f.status="fulfilled",f.value=o}},function(o){if(a.status==="pending"){var f=a;f.status="rejected",f.reason=o}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,t===io?Error(i(483)):t}throw ro=a,io}}var ro=null;function Bp(){if(ro===null)throw Error(i(459));var t=ro;return ro=null,t}var Ur=null,lo=0;function nc(t){var a=lo;return lo+=1,Ur===null&&(Ur=[]),Up(Ur,t,a)}function oo(t,a){a=a.props.ref,t.ref=a!==void 0?a:null}function sc(t,a){throw a.$$typeof===u?Error(i(525)):(t=Object.prototype.toString.call(a),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":t)))}function Hp(t){var a=t._init;return a(t._payload)}function zp(t){function a(K,U){if(t){var Q=K.deletions;Q===null?(K.deletions=[U],K.flags|=16):Q.push(U)}}function r(K,U){if(!t)return null;for(;U!==null;)a(K,U),U=U.sibling;return null}function o(K){for(var U=new Map;K!==null;)K.key!==null?U.set(K.key,K):U.set(K.index,K),K=K.sibling;return U}function f(K,U){return K=Ha(K,U),K.index=0,K.sibling=null,K}function m(K,U,Q){return K.index=Q,t?(Q=K.alternate,Q!==null?(Q=Q.index,Q<U?(K.flags|=33554434,U):Q):(K.flags|=33554434,U)):(K.flags|=1048576,U)}function x(K){return t&&K.alternate===null&&(K.flags|=33554434),K}function T(K,U,Q,te){return U===null||U.tag!==6?(U=Af(Q,K.mode,te),U.return=K,U):(U=f(U,Q),U.return=K,U)}function C(K,U,Q,te){var fe=Q.type;return fe===p?J(K,U,Q.props.children,te,Q.key):U!==null&&(U.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===H&&Hp(fe)===U.type)?(U=f(U,Q.props),oo(U,Q),U.return=K,U):(U=Ec(Q.type,Q.key,Q.props,null,K.mode,te),oo(U,Q),U.return=K,U)}function B(K,U,Q,te){return U===null||U.tag!==4||U.stateNode.containerInfo!==Q.containerInfo||U.stateNode.implementation!==Q.implementation?(U=Sf(Q,K.mode,te),U.return=K,U):(U=f(U,Q.children||[]),U.return=K,U)}function J(K,U,Q,te,fe){return U===null||U.tag!==7?(U=Qi(Q,K.mode,te,fe),U.return=K,U):(U=f(U,Q),U.return=K,U)}function ae(K,U,Q){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=Af(""+U,K.mode,Q),U.return=K,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case d:return Q=Ec(U.type,U.key,U.props,null,K.mode,Q),oo(Q,U),Q.return=K,Q;case g:return U=Sf(U,K.mode,Q),U.return=K,U;case H:var te=U._init;return U=te(U._payload),ae(K,U,Q)}if(ue(U)||le(U))return U=Qi(U,K.mode,Q,null),U.return=K,U;if(typeof U.then=="function")return ae(K,nc(U),Q);if(U.$$typeof===k)return ae(K,yc(K,U),Q);sc(K,U)}return null}function Y(K,U,Q,te){var fe=U!==null?U.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return fe!==null?null:T(K,U,""+Q,te);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case d:return Q.key===fe?C(K,U,Q,te):null;case g:return Q.key===fe?B(K,U,Q,te):null;case H:return fe=Q._init,Q=fe(Q._payload),Y(K,U,Q,te)}if(ue(Q)||le(Q))return fe!==null?null:J(K,U,Q,te,null);if(typeof Q.then=="function")return Y(K,U,nc(Q),te);if(Q.$$typeof===k)return Y(K,U,yc(K,Q),te);sc(K,Q)}return null}function X(K,U,Q,te,fe){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return K=K.get(Q)||null,T(U,K,""+te,fe);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case d:return K=K.get(te.key===null?Q:te.key)||null,C(U,K,te,fe);case g:return K=K.get(te.key===null?Q:te.key)||null,B(U,K,te,fe);case H:var je=te._init;return te=je(te._payload),X(K,U,Q,te,fe)}if(ue(te)||le(te))return K=K.get(Q)||null,J(U,K,te,fe,null);if(typeof te.then=="function")return X(K,U,Q,nc(te),fe);if(te.$$typeof===k)return X(K,U,Q,yc(U,te),fe);sc(U,te)}return null}function _e(K,U,Q,te){for(var fe=null,je=null,ve=U,Ee=U=0,Bt=null;ve!==null&&Ee<Q.length;Ee++){ve.index>Ee?(Bt=ve,ve=null):Bt=ve.sibling;var Fe=Y(K,ve,Q[Ee],te);if(Fe===null){ve===null&&(ve=Bt);break}t&&ve&&Fe.alternate===null&&a(K,ve),U=m(Fe,U,Ee),je===null?fe=Fe:je.sibling=Fe,je=Fe,ve=Bt}if(Ee===Q.length)return r(K,ve),Ke&&Vi(K,Ee),fe;if(ve===null){for(;Ee<Q.length;Ee++)ve=ae(K,Q[Ee],te),ve!==null&&(U=m(ve,U,Ee),je===null?fe=ve:je.sibling=ve,je=ve);return Ke&&Vi(K,Ee),fe}for(ve=o(ve);Ee<Q.length;Ee++)Bt=X(ve,K,Ee,Q[Ee],te),Bt!==null&&(t&&Bt.alternate!==null&&ve.delete(Bt.key===null?Ee:Bt.key),U=m(Bt,U,Ee),je===null?fe=Bt:je.sibling=Bt,je=Bt);return t&&ve.forEach(function(Qa){return a(K,Qa)}),Ke&&Vi(K,Ee),fe}function we(K,U,Q,te){if(Q==null)throw Error(i(151));for(var fe=null,je=null,ve=U,Ee=U=0,Bt=null,Fe=Q.next();ve!==null&&!Fe.done;Ee++,Fe=Q.next()){ve.index>Ee?(Bt=ve,ve=null):Bt=ve.sibling;var Qa=Y(K,ve,Fe.value,te);if(Qa===null){ve===null&&(ve=Bt);break}t&&ve&&Qa.alternate===null&&a(K,ve),U=m(Qa,U,Ee),je===null?fe=Qa:je.sibling=Qa,je=Qa,ve=Bt}if(Fe.done)return r(K,ve),Ke&&Vi(K,Ee),fe;if(ve===null){for(;!Fe.done;Ee++,Fe=Q.next())Fe=ae(K,Fe.value,te),Fe!==null&&(U=m(Fe,U,Ee),je===null?fe=Fe:je.sibling=Fe,je=Fe);return Ke&&Vi(K,Ee),fe}for(ve=o(ve);!Fe.done;Ee++,Fe=Q.next())Fe=X(ve,K,Ee,Fe.value,te),Fe!==null&&(t&&Fe.alternate!==null&&ve.delete(Fe.key===null?Ee:Fe.key),U=m(Fe,U,Ee),je===null?fe=Fe:je.sibling=Fe,je=Fe);return t&&ve.forEach(function(YA){return a(K,YA)}),Ke&&Vi(K,Ee),fe}function ft(K,U,Q,te){if(typeof Q=="object"&&Q!==null&&Q.type===p&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case d:e:{for(var fe=Q.key;U!==null;){if(U.key===fe){if(fe=Q.type,fe===p){if(U.tag===7){r(K,U.sibling),te=f(U,Q.props.children),te.return=K,K=te;break e}}else if(U.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===H&&Hp(fe)===U.type){r(K,U.sibling),te=f(U,Q.props),oo(te,Q),te.return=K,K=te;break e}r(K,U);break}else a(K,U);U=U.sibling}Q.type===p?(te=Qi(Q.props.children,K.mode,te,Q.key),te.return=K,K=te):(te=Ec(Q.type,Q.key,Q.props,null,K.mode,te),oo(te,Q),te.return=K,K=te)}return x(K);case g:e:{for(fe=Q.key;U!==null;){if(U.key===fe)if(U.tag===4&&U.stateNode.containerInfo===Q.containerInfo&&U.stateNode.implementation===Q.implementation){r(K,U.sibling),te=f(U,Q.children||[]),te.return=K,K=te;break e}else{r(K,U);break}else a(K,U);U=U.sibling}te=Sf(Q,K.mode,te),te.return=K,K=te}return x(K);case H:return fe=Q._init,Q=fe(Q._payload),ft(K,U,Q,te)}if(ue(Q))return _e(K,U,Q,te);if(le(Q)){if(fe=le(Q),typeof fe!="function")throw Error(i(150));return Q=fe.call(Q),we(K,U,Q,te)}if(typeof Q.then=="function")return ft(K,U,nc(Q),te);if(Q.$$typeof===k)return ft(K,U,yc(K,Q),te);sc(K,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,U!==null&&U.tag===6?(r(K,U.sibling),te=f(U,Q),te.return=K,K=te):(r(K,U),te=Af(Q,K.mode,te),te.return=K,K=te),x(K)):r(K,U)}return function(K,U,Q,te){try{lo=0;var fe=ft(K,U,Q,te);return Ur=null,fe}catch(ve){if(ve===io)throw ve;var je=Bn(29,ve,null,K.mode);return je.lanes=te,je.return=K,je}finally{}}}var Ui=zp(!0),qp=zp(!1),Br=ze(null),ac=ze(0);function Kp(t,a){t=Zs,We(ac,t),We(Br,a),Zs=t|a.baseLanes}function Cd(){We(ac,Zs),We(Br,Br.current)}function Id(){Zs=ac.current,ut(Br),ut(ac)}var Vn=ze(null),gs=null;function Ca(t){var a=t.alternate;We(Ct,Ct.current&1),We(Vn,t),gs===null&&(a===null||Br.current!==null||a.memoizedState!==null)&&(gs=t)}function Fp(t){if(t.tag===22){if(We(Ct,Ct.current),We(Vn,t),gs===null){var a=t.alternate;a!==null&&a.memoizedState!==null&&(gs=t)}}else Ia()}function Ia(){We(Ct,Ct.current),We(Vn,Vn.current)}function zs(t){ut(Vn),gs===t&&(gs=null),ut(Ct)}var Ct=ze(0);function ic(t){for(var a=t;a!==null;){if(a.tag===13){var r=a.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Lb=typeof AbortController<"u"?AbortController:function(){var t=[],a=this.signal={aborted:!1,addEventListener:function(r,o){t.push(o)}};this.abort=function(){a.aborted=!0,t.forEach(function(r){return r()})}},Vb=s.unstable_scheduleCallback,Pb=s.unstable_NormalPriority,It={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jd(){return{controller:new Lb,data:new Map,refCount:0}}function uo(t){t.refCount--,t.refCount===0&&Vb(Pb,function(){t.controller.abort()})}var co=null,Dd=0,Hr=0,zr=null;function Ub(t,a){if(co===null){var r=co=[];Dd=0,Hr=Bf(),zr={status:"pending",value:void 0,then:function(o){r.push(o)}}}return Dd++,a.then(Gp,Gp),a}function Gp(){if(--Dd===0&&co!==null){zr!==null&&(zr.status="fulfilled");var t=co;co=null,Hr=0,zr=null;for(var a=0;a<t.length;a++)(0,t[a])()}}function Bb(t,a){var r=[],o={status:"pending",value:null,reason:null,then:function(f){r.push(f)}};return t.then(function(){o.status="fulfilled",o.value=a;for(var f=0;f<r.length;f++)(0,r[f])(a)},function(f){for(o.status="rejected",o.reason=f,f=0;f<r.length;f++)(0,r[f])(void 0)}),o}var $p=N.S;N.S=function(t,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&Ub(t,a),$p!==null&&$p(t,a)};var Bi=ze(null);function Od(){var t=Bi.current;return t!==null?t:et.pooledCache}function rc(t,a){a===null?We(Bi,Bi.current):We(Bi,a.pool)}function Qp(){var t=Od();return t===null?null:{parent:It._currentValue,pool:t}}var ja=0,Ie=null,Xe=null,xt=null,lc=!1,qr=!1,Hi=!1,oc=0,ho=0,Kr=null,Hb=0;function _t(){throw Error(i(321))}function Md(t,a){if(a===null)return!1;for(var r=0;r<a.length&&r<t.length;r++)if(!yn(t[r],a[r]))return!1;return!0}function Ld(t,a,r,o,f,m){return ja=m,Ie=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,N.H=t===null||t.memoizedState===null?zi:Da,Hi=!1,m=r(o,f),Hi=!1,qr&&(m=Wp(a,r,o,f)),Yp(t),m}function Yp(t){N.H=ps;var a=Xe!==null&&Xe.next!==null;if(ja=0,xt=Xe=Ie=null,lc=!1,ho=0,Kr=null,a)throw Error(i(300));t===null||Pt||(t=t.dependencies,t!==null&&_c(t)&&(Pt=!0))}function Wp(t,a,r,o){Ie=t;var f=0;do{if(qr&&(Kr=null),ho=0,qr=!1,25<=f)throw Error(i(301));if(f+=1,xt=Xe=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}N.H=qi,m=a(r,o)}while(qr);return m}function zb(){var t=N.H,a=t.useState()[0];return a=typeof a.then=="function"?fo(a):a,t=t.useState()[0],(Xe!==null?Xe.memoizedState:null)!==t&&(Ie.flags|=1024),a}function Vd(){var t=oc!==0;return oc=0,t}function Pd(t,a,r){a.updateQueue=t.updateQueue,a.flags&=-2053,t.lanes&=~r}function Ud(t){if(lc){for(t=t.memoizedState;t!==null;){var a=t.queue;a!==null&&(a.pending=null),t=t.next}lc=!1}ja=0,xt=Xe=Ie=null,qr=!1,ho=oc=0,Kr=null}function fn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?Ie.memoizedState=xt=t:xt=xt.next=t,xt}function Et(){if(Xe===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var a=xt===null?Ie.memoizedState:xt.next;if(a!==null)xt=a,Xe=t;else{if(t===null)throw Ie.alternate===null?Error(i(467)):Error(i(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},xt===null?Ie.memoizedState=xt=t:xt=xt.next=t}return xt}var uc;uc=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function fo(t){var a=ho;return ho+=1,Kr===null&&(Kr=[]),t=Up(Kr,t,a),a=Ie,(xt===null?a.memoizedState:xt.next)===null&&(a=a.alternate,N.H=a===null||a.memoizedState===null?zi:Da),t}function cc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return fo(t);if(t.$$typeof===k)return Wt(t)}throw Error(i(438,String(t)))}function Bd(t){var a=null,r=Ie.updateQueue;if(r!==null&&(a=r.memoCache),a==null){var o=Ie.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(a={data:o.data.map(function(f){return f.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),r===null&&(r=uc(),Ie.updateQueue=r),r.memoCache=a,r=a.data[a.index],r===void 0)for(r=a.data[a.index]=Array(t),o=0;o<t;o++)r[o]=ee;return a.index++,r}function qs(t,a){return typeof a=="function"?a(t):a}function hc(t){var a=Et();return Hd(a,Xe,t)}function Hd(t,a,r){var o=t.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var f=t.baseQueue,m=o.pending;if(m!==null){if(f!==null){var x=f.next;f.next=m.next,m.next=x}a.baseQueue=f=m,o.pending=null}if(m=t.baseState,f===null)t.memoizedState=m;else{a=f.next;var T=x=null,C=null,B=a,J=!1;do{var ae=B.lane&-536870913;if(ae!==B.lane?(Be&ae)===ae:(ja&ae)===ae){var Y=B.revertLane;if(Y===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),ae===Hr&&(J=!0);else if((ja&Y)===Y){B=B.next,Y===Hr&&(J=!0);continue}else ae={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},C===null?(T=C=ae,x=m):C=C.next=ae,Ie.lanes|=Y,za|=Y;ae=B.action,Hi&&r(m,ae),m=B.hasEagerState?B.eagerState:r(m,ae)}else Y={lane:ae,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},C===null?(T=C=Y,x=m):C=C.next=Y,Ie.lanes|=ae,za|=ae;B=B.next}while(B!==null&&B!==a);if(C===null?x=m:C.next=T,!yn(m,t.memoizedState)&&(Pt=!0,J&&(r=zr,r!==null)))throw r;t.memoizedState=m,t.baseState=x,t.baseQueue=C,o.lastRenderedState=m}return f===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function zd(t){var a=Et(),r=a.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=t;var o=r.dispatch,f=r.pending,m=a.memoizedState;if(f!==null){r.pending=null;var x=f=f.next;do m=t(m,x.action),x=x.next;while(x!==f);yn(m,a.memoizedState)||(Pt=!0),a.memoizedState=m,a.baseQueue===null&&(a.baseState=m),r.lastRenderedState=m}return[m,o]}function Xp(t,a,r){var o=Ie,f=Et(),m=Ke;if(m){if(r===void 0)throw Error(i(407));r=r()}else r=a();var x=!yn((Xe||f).memoizedState,r);if(x&&(f.memoizedState=r,Pt=!0),f=f.queue,Fd(e_.bind(null,o,f,t),[t]),f.getSnapshot!==a||x||xt!==null&&xt.memoizedState.tag&1){if(o.flags|=2048,Fr(9,Jp.bind(null,o,f,r,a),{destroy:void 0},null),et===null)throw Error(i(349));m||(ja&60)!==0||Zp(o,a,r)}return r}function Zp(t,a,r){t.flags|=16384,t={getSnapshot:a,value:r},a=Ie.updateQueue,a===null?(a=uc(),Ie.updateQueue=a,a.stores=[t]):(r=a.stores,r===null?a.stores=[t]:r.push(t))}function Jp(t,a,r,o){a.value=r,a.getSnapshot=o,t_(a)&&n_(t)}function e_(t,a,r){return r(function(){t_(a)&&n_(t)})}function t_(t){var a=t.getSnapshot;t=t.value;try{var r=a();return!yn(t,r)}catch{return!0}}function n_(t){var a=ka(t,2);a!==null&&on(a,t,2)}function qd(t){var a=fn();if(typeof t=="function"){var r=t;if(t=r(),Hi){ss(!0);try{r()}finally{ss(!1)}}}return a.memoizedState=a.baseState=t,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qs,lastRenderedState:t},a}function s_(t,a,r,o){return t.baseState=r,Hd(t,Xe,typeof o=="function"?o:qs)}function qb(t,a,r,o,f){if(mc(t))throw Error(i(485));if(t=a.action,t!==null){var m={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){m.listeners.push(x)}};N.T!==null?r(!0):m.isTransition=!1,o(m),r=a.pending,r===null?(m.next=a.pending=m,a_(a,m)):(m.next=r.next,a.pending=r.next=m)}}function a_(t,a){var r=a.action,o=a.payload,f=t.state;if(a.isTransition){var m=N.T,x={};N.T=x;try{var T=r(f,o),C=N.S;C!==null&&C(x,T),i_(t,a,T)}catch(B){Kd(t,a,B)}finally{N.T=m}}else try{m=r(f,o),i_(t,a,m)}catch(B){Kd(t,a,B)}}function i_(t,a,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){r_(t,a,o)},function(o){return Kd(t,a,o)}):r_(t,a,r)}function r_(t,a,r){a.status="fulfilled",a.value=r,l_(a),t.state=r,a=t.pending,a!==null&&(r=a.next,r===a?t.pending=null:(r=r.next,a.next=r,a_(t,r)))}function Kd(t,a,r){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do a.status="rejected",a.reason=r,l_(a),a=a.next;while(a!==o)}t.action=null}function l_(t){t=t.listeners;for(var a=0;a<t.length;a++)(0,t[a])()}function o_(t,a){return a}function u_(t,a){if(Ke){var r=et.formState;if(r!==null){e:{var o=Ie;if(Ke){if(qt){t:{for(var f=qt,m=ms;f.nodeType!==8;){if(!m){f=null;break t}if(f=Yn(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){qt=Yn(f.nextSibling),o=f.data==="F!";break e}}Pi(o)}o=!1}o&&(a=r[0])}}return r=fn(),r.memoizedState=r.baseState=a,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o_,lastRenderedState:a},r.queue=o,r=N_.bind(null,Ie,o),o.dispatch=r,o=qd(!1),m=Wd.bind(null,Ie,!1,o.queue),o=fn(),f={state:a,dispatch:null,action:t,pending:null},o.queue=f,r=qb.bind(null,Ie,f,m,r),f.dispatch=r,o.memoizedState=t,[a,r,!1]}function c_(t){var a=Et();return h_(a,Xe,t)}function h_(t,a,r){a=Hd(t,a,o_)[0],t=hc(qs)[0],a=typeof a=="object"&&a!==null&&typeof a.then=="function"?fo(a):a;var o=Et(),f=o.queue,m=f.dispatch;return r!==o.memoizedState&&(Ie.flags|=2048,Fr(9,Kb.bind(null,f,r),{destroy:void 0},null)),[a,m,t]}function Kb(t,a){t.action=a}function d_(t){var a=Et(),r=Xe;if(r!==null)return h_(a,r,t);Et(),a=a.memoizedState,r=Et();var o=r.queue.dispatch;return r.memoizedState=t,[a,o,!1]}function Fr(t,a,r,o){return t={tag:t,create:a,inst:r,deps:o,next:null},a=Ie.updateQueue,a===null&&(a=uc(),Ie.updateQueue=a),r=a.lastEffect,r===null?a.lastEffect=t.next=t:(o=r.next,r.next=t,t.next=o,a.lastEffect=t),t}function f_(){return Et().memoizedState}function dc(t,a,r,o){var f=fn();Ie.flags|=t,f.memoizedState=Fr(1|a,r,{destroy:void 0},o===void 0?null:o)}function fc(t,a,r,o){var f=Et();o=o===void 0?null:o;var m=f.memoizedState.inst;Xe!==null&&o!==null&&Md(o,Xe.memoizedState.deps)?f.memoizedState=Fr(a,r,m,o):(Ie.flags|=t,f.memoizedState=Fr(1|a,r,m,o))}function m_(t,a){dc(8390656,8,t,a)}function Fd(t,a){fc(2048,8,t,a)}function g_(t,a){return fc(4,2,t,a)}function p_(t,a){return fc(4,4,t,a)}function __(t,a){if(typeof a=="function"){t=t();var r=a(t);return function(){typeof r=="function"?r():a(null)}}if(a!=null)return t=t(),a.current=t,function(){a.current=null}}function y_(t,a,r){r=r!=null?r.concat([t]):null,fc(4,4,__.bind(null,a,t),r)}function Gd(){}function v_(t,a){var r=Et();a=a===void 0?null:a;var o=r.memoizedState;return a!==null&&Md(a,o[1])?o[0]:(r.memoizedState=[t,a],t)}function x_(t,a){var r=Et();a=a===void 0?null:a;var o=r.memoizedState;if(a!==null&&Md(a,o[1]))return o[0];if(o=t(),Hi){ss(!0);try{t()}finally{ss(!1)}}return r.memoizedState=[o,a],o}function $d(t,a,r){return r===void 0||(ja&1073741824)!==0?t.memoizedState=a:(t.memoizedState=r,t=Ty(),Ie.lanes|=t,za|=t,r)}function E_(t,a,r,o){return yn(r,a)?r:Br.current!==null?(t=$d(t,r,o),yn(t,a)||(Pt=!0),t):(ja&42)===0?(Pt=!0,t.memoizedState=r):(t=Ty(),Ie.lanes|=t,za|=t,a)}function T_(t,a,r,o,f){var m=ce.p;ce.p=m!==0&&8>m?m:8;var x=N.T,T={};N.T=T,Wd(t,!1,a,r);try{var C=f(),B=N.S;if(B!==null&&B(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var J=Bb(C,o);mo(t,a,J,Tn(t))}else mo(t,a,o,Tn(t))}catch(ae){mo(t,a,{then:function(){},status:"rejected",reason:ae},Tn())}finally{ce.p=m,N.T=x}}function Fb(){}function Qd(t,a,r,o){if(t.tag!==5)throw Error(i(476));var f=b_(t).queue;T_(t,f,a,Re,r===null?Fb:function(){return A_(t),r(o)})}function b_(t){var a=t.memoizedState;if(a!==null)return a;a={memoizedState:Re,baseState:Re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qs,lastRenderedState:Re},next:null};var r={};return a.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qs,lastRenderedState:r},next:null},t.memoizedState=a,t=t.alternate,t!==null&&(t.memoizedState=a),a}function A_(t){var a=b_(t).next.queue;mo(t,a,{},Tn())}function Yd(){return Wt(Oo)}function S_(){return Et().memoizedState}function w_(){return Et().memoizedState}function Gb(t){for(var a=t.return;a!==null;){switch(a.tag){case 24:case 3:var r=Tn();t=La(r);var o=Va(a,t,r);o!==null&&(on(o,a,r),_o(o,a,r)),a={cache:jd()},t.payload=a;return}a=a.return}}function $b(t,a,r){var o=Tn();r={lane:o,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},mc(t)?R_(a,r):(r=Sd(t,a,r,o),r!==null&&(on(r,t,o),k_(r,a,o)))}function N_(t,a,r){var o=Tn();mo(t,a,r,o)}function mo(t,a,r,o){var f={lane:o,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(mc(t))R_(a,f);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=a.lastRenderedReducer,m!==null))try{var x=a.lastRenderedState,T=m(x,r);if(f.hasEagerState=!0,f.eagerState=T,yn(T,x))return Xu(t,a,f,0),et===null&&Wu(),!1}catch{}finally{}if(r=Sd(t,a,f,o),r!==null)return on(r,t,o),k_(r,a,o),!0}return!1}function Wd(t,a,r,o){if(o={lane:2,revertLane:Bf(),action:o,hasEagerState:!1,eagerState:null,next:null},mc(t)){if(a)throw Error(i(479))}else a=Sd(t,r,o,2),a!==null&&on(a,t,2)}function mc(t){var a=t.alternate;return t===Ie||a!==null&&a===Ie}function R_(t,a){qr=lc=!0;var r=t.pending;r===null?a.next=a:(a.next=r.next,r.next=a),t.pending=a}function k_(t,a,r){if((r&4194176)!==0){var o=a.lanes;o&=t.pendingLanes,r|=o,a.lanes=r,va(t,r)}}var ps={readContext:Wt,use:cc,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useLayoutEffect:_t,useInsertionEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useSyncExternalStore:_t,useId:_t};ps.useCacheRefresh=_t,ps.useMemoCache=_t,ps.useHostTransitionStatus=_t,ps.useFormState=_t,ps.useActionState=_t,ps.useOptimistic=_t;var zi={readContext:Wt,use:cc,useCallback:function(t,a){return fn().memoizedState=[t,a===void 0?null:a],t},useContext:Wt,useEffect:m_,useImperativeHandle:function(t,a,r){r=r!=null?r.concat([t]):null,dc(4194308,4,__.bind(null,a,t),r)},useLayoutEffect:function(t,a){return dc(4194308,4,t,a)},useInsertionEffect:function(t,a){dc(4,2,t,a)},useMemo:function(t,a){var r=fn();a=a===void 0?null:a;var o=t();if(Hi){ss(!0);try{t()}finally{ss(!1)}}return r.memoizedState=[o,a],o},useReducer:function(t,a,r){var o=fn();if(r!==void 0){var f=r(a);if(Hi){ss(!0);try{r(a)}finally{ss(!1)}}}else f=a;return o.memoizedState=o.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},o.queue=t,t=t.dispatch=$b.bind(null,Ie,t),[o.memoizedState,t]},useRef:function(t){var a=fn();return t={current:t},a.memoizedState=t},useState:function(t){t=qd(t);var a=t.queue,r=N_.bind(null,Ie,a);return a.dispatch=r,[t.memoizedState,r]},useDebugValue:Gd,useDeferredValue:function(t,a){var r=fn();return $d(r,t,a)},useTransition:function(){var t=qd(!1);return t=T_.bind(null,Ie,t.queue,!0,!1),fn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,a,r){var o=Ie,f=fn();if(Ke){if(r===void 0)throw Error(i(407));r=r()}else{if(r=a(),et===null)throw Error(i(349));(Be&60)!==0||Zp(o,a,r)}f.memoizedState=r;var m={value:r,getSnapshot:a};return f.queue=m,m_(e_.bind(null,o,m,t),[t]),o.flags|=2048,Fr(9,Jp.bind(null,o,m,r,a),{destroy:void 0},null),r},useId:function(){var t=fn(),a=et.identifierPrefix;if(Ke){var r=Hs,o=Bs;r=(o&~(1<<32-sn(o)-1)).toString(32)+r,a=":"+a+"R"+r,r=oc++,0<r&&(a+="H"+r.toString(32)),a+=":"}else r=Hb++,a=":"+a+"r"+r.toString(32)+":";return t.memoizedState=a},useCacheRefresh:function(){return fn().memoizedState=Gb.bind(null,Ie)}};zi.useMemoCache=Bd,zi.useHostTransitionStatus=Yd,zi.useFormState=u_,zi.useActionState=u_,zi.useOptimistic=function(t){var a=fn();a.memoizedState=a.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=r,a=Wd.bind(null,Ie,!0,r),r.dispatch=a,[t,a]};var Da={readContext:Wt,use:cc,useCallback:v_,useContext:Wt,useEffect:Fd,useImperativeHandle:y_,useInsertionEffect:g_,useLayoutEffect:p_,useMemo:x_,useReducer:hc,useRef:f_,useState:function(){return hc(qs)},useDebugValue:Gd,useDeferredValue:function(t,a){var r=Et();return E_(r,Xe.memoizedState,t,a)},useTransition:function(){var t=hc(qs)[0],a=Et().memoizedState;return[typeof t=="boolean"?t:fo(t),a]},useSyncExternalStore:Xp,useId:S_};Da.useCacheRefresh=w_,Da.useMemoCache=Bd,Da.useHostTransitionStatus=Yd,Da.useFormState=c_,Da.useActionState=c_,Da.useOptimistic=function(t,a){var r=Et();return s_(r,Xe,t,a)};var qi={readContext:Wt,use:cc,useCallback:v_,useContext:Wt,useEffect:Fd,useImperativeHandle:y_,useInsertionEffect:g_,useLayoutEffect:p_,useMemo:x_,useReducer:zd,useRef:f_,useState:function(){return zd(qs)},useDebugValue:Gd,useDeferredValue:function(t,a){var r=Et();return Xe===null?$d(r,t,a):E_(r,Xe.memoizedState,t,a)},useTransition:function(){var t=zd(qs)[0],a=Et().memoizedState;return[typeof t=="boolean"?t:fo(t),a]},useSyncExternalStore:Xp,useId:S_};qi.useCacheRefresh=w_,qi.useMemoCache=Bd,qi.useHostTransitionStatus=Yd,qi.useFormState=d_,qi.useActionState=d_,qi.useOptimistic=function(t,a){var r=Et();return Xe!==null?s_(r,Xe,t,a):(r.baseState=t,[t,r.queue.dispatch])};function Xd(t,a,r,o){a=t.memoizedState,r=r(o,a),r=r==null?a:w({},a,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Zd={isMounted:function(t){return(t=t._reactInternals)?pe(t)===t:!1},enqueueSetState:function(t,a,r){t=t._reactInternals;var o=Tn(),f=La(o);f.payload=a,r!=null&&(f.callback=r),a=Va(t,f,o),a!==null&&(on(a,t,o),_o(a,t,o))},enqueueReplaceState:function(t,a,r){t=t._reactInternals;var o=Tn(),f=La(o);f.tag=1,f.payload=a,r!=null&&(f.callback=r),a=Va(t,f,o),a!==null&&(on(a,t,o),_o(a,t,o))},enqueueForceUpdate:function(t,a){t=t._reactInternals;var r=Tn(),o=La(r);o.tag=2,a!=null&&(o.callback=a),a=Va(t,o,r),a!==null&&(on(a,t,r),_o(a,t,r))}};function C_(t,a,r,o,f,m,x){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,m,x):a.prototype&&a.prototype.isPureReactComponent?!eo(r,o)||!eo(f,m):!0}function I_(t,a,r,o){t=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(r,o),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(r,o),a.state!==t&&Zd.enqueueReplaceState(a,a.state,null)}function Ki(t,a){var r=a;if("ref"in a){r={};for(var o in a)o!=="ref"&&(r[o]=a[o])}if(t=t.defaultProps){r===a&&(r=w({},r));for(var f in t)r[f]===void 0&&(r[f]=t[f])}return r}var gc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function j_(t){gc(t)}function D_(t){console.error(t)}function O_(t){gc(t)}function pc(t,a){try{var r=t.onUncaughtError;r(a.value,{componentStack:a.stack})}catch(o){setTimeout(function(){throw o})}}function M_(t,a,r){try{var o=t.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Jd(t,a,r){return r=La(r),r.tag=3,r.payload={element:null},r.callback=function(){pc(t,a)},r}function L_(t){return t=La(t),t.tag=3,t}function V_(t,a,r,o){var f=r.type.getDerivedStateFromError;if(typeof f=="function"){var m=o.value;t.payload=function(){return f(m)},t.callback=function(){M_(a,r,o)}}var x=r.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(t.callback=function(){M_(a,r,o),typeof f!="function"&&(qa===null?qa=new Set([this]):qa.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function Qb(t,a,r,o,f){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(a=r.alternate,a!==null&&po(a,r,f,!0),r=Vn.current,r!==null){switch(r.tag){case 13:return gs===null?Mf():r.alternate===null&&dt===0&&(dt=3),r.flags&=-257,r.flags|=65536,r.lanes=f,o===kd?r.flags|=16384:(a=r.updateQueue,a===null?r.updateQueue=new Set([o]):a.add(o),Vf(t,o,f)),!1;case 22:return r.flags|=65536,o===kd?r.flags|=16384:(a=r.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=a):(r=a.retryQueue,r===null?a.retryQueue=new Set([o]):r.add(o)),Vf(t,o,f)),!1}throw Error(i(435,r.tag))}return Vf(t,o,f),Mf(),!1}if(Ke)return a=Vn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=f,o!==Rd&&(t=Error(i(422),{cause:o}),ao(On(t,r)))):(o!==Rd&&(a=Error(i(423),{cause:o}),ao(On(a,r))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,o=On(o,r),f=Jd(t.stateNode,o,f),gf(t,f),dt!==4&&(dt=2)),!1;var m=Error(i(520),{cause:o});if(m=On(m,r),So===null?So=[m]:So.push(m),dt!==4&&(dt=2),a===null)return!0;o=On(o,r),r=a;do{switch(r.tag){case 3:return r.flags|=65536,t=f&-f,r.lanes|=t,t=Jd(r.stateNode,o,t),gf(r,t),!1;case 1:if(a=r.type,m=r.stateNode,(r.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(qa===null||!qa.has(m))))return r.flags|=65536,f&=-f,r.lanes|=f,f=L_(f),V_(f,t,r,o),gf(r,f),!1}r=r.return}while(r!==null);return!1}var P_=Error(i(461)),Pt=!1;function Kt(t,a,r,o){a.child=t===null?qp(a,null,r,o):Ui(a,t.child,r,o)}function U_(t,a,r,o,f){r=r.render;var m=a.ref;if("ref"in o){var x={};for(var T in o)T!=="ref"&&(x[T]=o[T])}else x=o;return Gi(a),o=Ld(t,a,r,x,m,f),T=Vd(),t!==null&&!Pt?(Pd(t,a,f),Ks(t,a,f)):(Ke&&T&&wd(a),a.flags|=1,Kt(t,a,o,f),a.child)}function B_(t,a,r,o,f){if(t===null){var m=r.type;return typeof m=="function"&&!bf(m)&&m.defaultProps===void 0&&r.compare===null?(a.tag=15,a.type=m,H_(t,a,m,o,f)):(t=Ec(r.type,null,o,a,a.mode,f),t.ref=a.ref,t.return=a,a.child=t)}if(m=t.child,!uf(t,f)){var x=m.memoizedProps;if(r=r.compare,r=r!==null?r:eo,r(x,o)&&t.ref===a.ref)return Ks(t,a,f)}return a.flags|=1,t=Ha(m,o),t.ref=a.ref,t.return=a,a.child=t}function H_(t,a,r,o,f){if(t!==null){var m=t.memoizedProps;if(eo(m,o)&&t.ref===a.ref)if(Pt=!1,a.pendingProps=o=m,uf(t,f))(t.flags&131072)!==0&&(Pt=!0);else return a.lanes=t.lanes,Ks(t,a,f)}return ef(t,a,r,o,f)}function z_(t,a,r){var o=a.pendingProps,f=o.children,m=(a.stateNode._pendingVisibility&2)!==0,x=t!==null?t.memoizedState:null;if(go(t,a),o.mode==="hidden"||m){if((a.flags&128)!==0){if(o=x!==null?x.baseLanes|r:r,t!==null){for(f=a.child=t.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;a.childLanes=m&~o}else a.childLanes=0,a.child=null;return q_(t,a,o,r)}if((r&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},t!==null&&rc(a,x!==null?x.cachePool:null),x!==null?Kp(a,x):Cd(),Fp(a);else return a.lanes=a.childLanes=536870912,q_(t,a,x!==null?x.baseLanes|r:r,r)}else x!==null?(rc(a,x.cachePool),Kp(a,x),Ia(),a.memoizedState=null):(t!==null&&rc(a,null),Cd(),Ia());return Kt(t,a,f,r),a.child}function q_(t,a,r,o){var f=Od();return f=f===null?null:{parent:It._currentValue,pool:f},a.memoizedState={baseLanes:r,cachePool:f},t!==null&&rc(a,null),Cd(),Fp(a),t!==null&&po(t,a,o,!0),null}function go(t,a){var r=a.ref;if(r===null)t!==null&&t.ref!==null&&(a.flags|=2097664);else{if(typeof r!="function"&&typeof r!="object")throw Error(i(284));(t===null||t.ref!==r)&&(a.flags|=2097664)}}function ef(t,a,r,o,f){return Gi(a),r=Ld(t,a,r,o,void 0,f),o=Vd(),t!==null&&!Pt?(Pd(t,a,f),Ks(t,a,f)):(Ke&&o&&wd(a),a.flags|=1,Kt(t,a,r,f),a.child)}function K_(t,a,r,o,f,m){return Gi(a),a.updateQueue=null,r=Wp(a,o,r,f),Yp(t),o=Vd(),t!==null&&!Pt?(Pd(t,a,m),Ks(t,a,m)):(Ke&&o&&wd(a),a.flags|=1,Kt(t,a,r,m),a.child)}function F_(t,a,r,o,f){if(Gi(a),a.stateNode===null){var m=Lr,x=r.contextType;typeof x=="object"&&x!==null&&(m=Wt(x)),m=new r(o,m),a.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Zd,a.stateNode=m,m._reactInternals=a,m=a.stateNode,m.props=o,m.state=a.memoizedState,m.refs={},ff(a),x=r.contextType,m.context=typeof x=="object"&&x!==null?Wt(x):Lr,m.state=a.memoizedState,x=r.getDerivedStateFromProps,typeof x=="function"&&(Xd(a,r,x,o),m.state=a.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(x=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),x!==m.state&&Zd.enqueueReplaceState(m,m.state,null),vo(a,o,m,f),yo(),m.state=a.memoizedState),typeof m.componentDidMount=="function"&&(a.flags|=4194308),o=!0}else if(t===null){m=a.stateNode;var T=a.memoizedProps,C=Ki(r,T);m.props=C;var B=m.context,J=r.contextType;x=Lr,typeof J=="object"&&J!==null&&(x=Wt(J));var ae=r.getDerivedStateFromProps;J=typeof ae=="function"||typeof m.getSnapshotBeforeUpdate=="function",T=a.pendingProps!==T,J||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T||B!==x)&&I_(a,m,o,x),Ma=!1;var Y=a.memoizedState;m.state=Y,vo(a,o,m,f),yo(),B=a.memoizedState,T||Y!==B||Ma?(typeof ae=="function"&&(Xd(a,r,ae,o),B=a.memoizedState),(C=Ma||C_(a,r,C,o,Y,B,x))?(J||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(a.flags|=4194308)):(typeof m.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=o,a.memoizedState=B),m.props=o,m.state=B,m.context=x,o=C):(typeof m.componentDidMount=="function"&&(a.flags|=4194308),o=!1)}else{m=a.stateNode,mf(t,a),x=a.memoizedProps,J=Ki(r,x),m.props=J,ae=a.pendingProps,Y=m.context,B=r.contextType,C=Lr,typeof B=="object"&&B!==null&&(C=Wt(B)),T=r.getDerivedStateFromProps,(B=typeof T=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(x!==ae||Y!==C)&&I_(a,m,o,C),Ma=!1,Y=a.memoizedState,m.state=Y,vo(a,o,m,f),yo();var X=a.memoizedState;x!==ae||Y!==X||Ma||t!==null&&t.dependencies!==null&&_c(t.dependencies)?(typeof T=="function"&&(Xd(a,r,T,o),X=a.memoizedState),(J=Ma||C_(a,r,J,o,Y,X,C)||t!==null&&t.dependencies!==null&&_c(t.dependencies))?(B||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(o,X,C),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(o,X,C)),typeof m.componentDidUpdate=="function"&&(a.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof m.componentDidUpdate!="function"||x===t.memoizedProps&&Y===t.memoizedState||(a.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||x===t.memoizedProps&&Y===t.memoizedState||(a.flags|=1024),a.memoizedProps=o,a.memoizedState=X),m.props=o,m.state=X,m.context=C,o=J):(typeof m.componentDidUpdate!="function"||x===t.memoizedProps&&Y===t.memoizedState||(a.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||x===t.memoizedProps&&Y===t.memoizedState||(a.flags|=1024),o=!1)}return m=o,go(t,a),o=(a.flags&128)!==0,m||o?(m=a.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:m.render(),a.flags|=1,t!==null&&o?(a.child=Ui(a,t.child,null,f),a.child=Ui(a,null,r,f)):Kt(t,a,r,f),a.memoizedState=m.state,t=a.child):t=Ks(t,a,f),t}function G_(t,a,r,o){return so(),a.flags|=256,Kt(t,a,r,o),a.child}var tf={dehydrated:null,treeContext:null,retryLane:0};function nf(t){return{baseLanes:t,cachePool:Qp()}}function sf(t,a,r){return t=t!==null?t.childLanes&~r:0,a&&(t|=Hn),t}function $_(t,a,r){var o=a.pendingProps,f=!1,m=(a.flags&128)!==0,x;if((x=m)||(x=t!==null&&t.memoizedState===null?!1:(Ct.current&2)!==0),x&&(f=!0,a.flags&=-129),x=(a.flags&32)!==0,a.flags&=-33,t===null){if(Ke){if(f?Ca(a):Ia(),Ke){var T=qt,C;if(C=T){e:{for(C=T,T=ms;C.nodeType!==8;){if(!T){T=null;break e}if(C=Yn(C.nextSibling),C===null){T=null;break e}}T=C}T!==null?(a.memoizedState={dehydrated:T,treeContext:Li!==null?{id:Bs,overflow:Hs}:null,retryLane:536870912},C=Bn(18,null,null,0),C.stateNode=T,C.return=a,a.child=C,ln=a,qt=null,C=!0):C=!1}C||Pi(a)}if(T=a.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return T.data==="$!"?a.lanes=16:a.lanes=536870912,null;zs(a)}return T=o.children,o=o.fallback,f?(Ia(),f=a.mode,T=rf({mode:"hidden",children:T},f),o=Qi(o,f,r,null),T.return=a,o.return=a,T.sibling=o,a.child=T,f=a.child,f.memoizedState=nf(r),f.childLanes=sf(t,x,r),a.memoizedState=tf,o):(Ca(a),af(a,T))}if(C=t.memoizedState,C!==null&&(T=C.dehydrated,T!==null)){if(m)a.flags&256?(Ca(a),a.flags&=-257,a=lf(t,a,r)):a.memoizedState!==null?(Ia(),a.child=t.child,a.flags|=128,a=null):(Ia(),f=o.fallback,T=a.mode,o=rf({mode:"visible",children:o.children},T),f=Qi(f,T,r,null),f.flags|=2,o.return=a,f.return=a,o.sibling=f,a.child=o,Ui(a,t.child,null,r),o=a.child,o.memoizedState=nf(r),o.childLanes=sf(t,x,r),a.memoizedState=tf,a=f);else if(Ca(a),T.data==="$!"){if(x=T.nextSibling&&T.nextSibling.dataset,x)var B=x.dgst;x=B,o=Error(i(419)),o.stack="",o.digest=x,ao({value:o,source:null,stack:null}),a=lf(t,a,r)}else if(Pt||po(t,a,r,!1),x=(r&t.childLanes)!==0,Pt||x){if(x=et,x!==null){if(o=r&-r,(o&42)!==0)o=1;else switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=64;break;case 268435456:o=134217728;break;default:o=0}if(o=(o&(x.suspendedLanes|r))!==0?0:o,o!==0&&o!==C.retryLane)throw C.retryLane=o,ka(t,o),on(x,t,o),P_}T.data==="$?"||Mf(),a=lf(t,a,r)}else T.data==="$?"?(a.flags|=128,a.child=t.child,a=uA.bind(null,t),T._reactRetry=a,a=null):(t=C.treeContext,qt=Yn(T.nextSibling),ln=a,Ke=!0,$n=null,ms=!1,t!==null&&(Mn[Ln++]=Bs,Mn[Ln++]=Hs,Mn[Ln++]=Li,Bs=t.id,Hs=t.overflow,Li=a),a=af(a,o.children),a.flags|=4096);return a}return f?(Ia(),f=o.fallback,T=a.mode,C=t.child,B=C.sibling,o=Ha(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&31457280,B!==null?f=Ha(B,f):(f=Qi(f,T,r,null),f.flags|=2),f.return=a,o.return=a,o.sibling=f,a.child=o,o=f,f=a.child,T=t.child.memoizedState,T===null?T=nf(r):(C=T.cachePool,C!==null?(B=It._currentValue,C=C.parent!==B?{parent:B,pool:B}:C):C=Qp(),T={baseLanes:T.baseLanes|r,cachePool:C}),f.memoizedState=T,f.childLanes=sf(t,x,r),a.memoizedState=tf,o):(Ca(a),r=t.child,t=r.sibling,r=Ha(r,{mode:"visible",children:o.children}),r.return=a,r.sibling=null,t!==null&&(x=a.deletions,x===null?(a.deletions=[t],a.flags|=16):x.push(t)),a.child=r,a.memoizedState=null,r)}function af(t,a){return a=rf({mode:"visible",children:a},t.mode),a.return=t,t.child=a}function rf(t,a){return vy(t,a,0,null)}function lf(t,a,r){return Ui(a,t.child,null,r),t=af(a,a.pendingProps.children),t.flags|=2,a.memoizedState=null,t}function Q_(t,a,r){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a),hf(t.return,a,r)}function of(t,a,r,o,f){var m=t.memoizedState;m===null?t.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:f}:(m.isBackwards=a,m.rendering=null,m.renderingStartTime=0,m.last=o,m.tail=r,m.tailMode=f)}function Y_(t,a,r){var o=a.pendingProps,f=o.revealOrder,m=o.tail;if(Kt(t,a,o.children,r),o=Ct.current,(o&2)!==0)o=o&1|2,a.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=a.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Q_(t,r,a);else if(t.tag===19)Q_(t,r,a);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===a)break e;for(;t.sibling===null;){if(t.return===null||t.return===a)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}switch(We(Ct,o),f){case"forwards":for(r=a.child,f=null;r!==null;)t=r.alternate,t!==null&&ic(t)===null&&(f=r),r=r.sibling;r=f,r===null?(f=a.child,a.child=null):(f=r.sibling,r.sibling=null),of(a,!1,f,r,m);break;case"backwards":for(r=null,f=a.child,a.child=null;f!==null;){if(t=f.alternate,t!==null&&ic(t)===null){a.child=f;break}t=f.sibling,f.sibling=r,r=f,f=t}of(a,!0,r,null,m);break;case"together":of(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Ks(t,a,r){if(t!==null&&(a.dependencies=t.dependencies),za|=a.lanes,(r&a.childLanes)===0)if(t!==null){if(po(t,a,r,!1),(r&a.childLanes)===0)return null}else return null;if(t!==null&&a.child!==t.child)throw Error(i(153));if(a.child!==null){for(t=a.child,r=Ha(t,t.pendingProps),a.child=r,r.return=a;t.sibling!==null;)t=t.sibling,r=r.sibling=Ha(t,t.pendingProps),r.return=a;r.sibling=null}return a.child}function uf(t,a){return(t.lanes&a)!==0?!0:(t=t.dependencies,!!(t!==null&&_c(t)))}function Yb(t,a,r){switch(a.tag){case 3:fa(a,a.stateNode.containerInfo),Oa(a,It,t.memoizedState.cache),so();break;case 27:case 5:Dl(a);break;case 4:fa(a,a.stateNode.containerInfo);break;case 10:Oa(a,a.type,a.memoizedProps.value);break;case 13:var o=a.memoizedState;if(o!==null)return o.dehydrated!==null?(Ca(a),a.flags|=128,null):(r&a.child.childLanes)!==0?$_(t,a,r):(Ca(a),t=Ks(t,a,r),t!==null?t.sibling:null);Ca(a);break;case 19:var f=(t.flags&128)!==0;if(o=(r&a.childLanes)!==0,o||(po(t,a,r,!1),o=(r&a.childLanes)!==0),f){if(o)return Y_(t,a,r);a.flags|=128}if(f=a.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),We(Ct,Ct.current),o)break;return null;case 22:case 23:return a.lanes=0,z_(t,a,r);case 24:Oa(a,It,t.memoizedState.cache)}return Ks(t,a,r)}function W_(t,a,r){if(t!==null)if(t.memoizedProps!==a.pendingProps)Pt=!0;else{if(!uf(t,r)&&(a.flags&128)===0)return Pt=!1,Yb(t,a,r);Pt=(t.flags&131072)!==0}else Pt=!1,Ke&&(a.flags&1048576)!==0&&Op(a,ec,a.index);switch(a.lanes=0,a.tag){case 16:e:{t=a.pendingProps;var o=a.elementType,f=o._init;if(o=f(o._payload),a.type=o,typeof o=="function")bf(o)?(t=Ki(o,t),a.tag=1,a=F_(null,a,o,t,r)):(a.tag=0,a=ef(null,a,o,t,r));else{if(o!=null){if(f=o.$$typeof,f===D){a.tag=11,a=U_(null,a,o,t,r);break e}else if(f===F){a.tag=14,a=B_(null,a,o,t,r);break e}}throw a=R(o)||o,Error(i(306,a,""))}}return a;case 0:return ef(t,a,a.type,a.pendingProps,r);case 1:return o=a.type,f=Ki(o,a.pendingProps),F_(t,a,o,f,r);case 3:e:{if(fa(a,a.stateNode.containerInfo),t===null)throw Error(i(387));var m=a.pendingProps;f=a.memoizedState,o=f.element,mf(t,a),vo(a,m,null,r);var x=a.memoizedState;if(m=x.cache,Oa(a,It,m),m!==f.cache&&df(a,[It],r,!0),yo(),m=x.element,f.isDehydrated)if(f={element:m,isDehydrated:!1,cache:x.cache},a.updateQueue.baseState=f,a.memoizedState=f,a.flags&256){a=G_(t,a,m,r);break e}else if(m!==o){o=On(Error(i(424)),a),ao(o),a=G_(t,a,m,r);break e}else for(qt=Yn(a.stateNode.containerInfo.firstChild),ln=a,Ke=!0,$n=null,ms=!0,r=qp(a,null,m,r),a.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(so(),m===o){a=Ks(t,a,r);break e}Kt(t,a,m,r)}a=a.child}return a;case 26:return go(t,a),t===null?(r=Jy(a.type,null,a.pendingProps,null))?a.memoizedState=r:Ke||(r=a.type,t=a.pendingProps,o=Dc(wn.current).createElement(r),o[Mt]=a,o[Nt]=t,Ft(o,r,t),it(o),a.stateNode=o):a.memoizedState=Jy(a.type,t.memoizedProps,a.pendingProps,t.memoizedState),null;case 27:return Dl(a),t===null&&Ke&&(o=a.stateNode=Wy(a.type,a.pendingProps,wn.current),ln=a,ms=!0,qt=Yn(o.firstChild)),o=a.pendingProps.children,t!==null||Ke?Kt(t,a,o,r):a.child=Ui(a,null,o,r),go(t,a),a.child;case 5:return t===null&&Ke&&((f=o=qt)&&(o=SA(o,a.type,a.pendingProps,ms),o!==null?(a.stateNode=o,ln=a,qt=Yn(o.firstChild),ms=!1,f=!0):f=!1),f||Pi(a)),Dl(a),f=a.type,m=a.pendingProps,x=t!==null?t.memoizedProps:null,o=m.children,Yf(f,m)?o=null:x!==null&&Yf(f,x)&&(a.flags|=32),a.memoizedState!==null&&(f=Ld(t,a,zb,null,null,r),Oo._currentValue=f),go(t,a),Kt(t,a,o,r),a.child;case 6:return t===null&&Ke&&((t=r=qt)&&(r=wA(r,a.pendingProps,ms),r!==null?(a.stateNode=r,ln=a,qt=null,t=!0):t=!1),t||Pi(a)),null;case 13:return $_(t,a,r);case 4:return fa(a,a.stateNode.containerInfo),o=a.pendingProps,t===null?a.child=Ui(a,null,o,r):Kt(t,a,o,r),a.child;case 11:return U_(t,a,a.type,a.pendingProps,r);case 7:return Kt(t,a,a.pendingProps,r),a.child;case 8:return Kt(t,a,a.pendingProps.children,r),a.child;case 12:return Kt(t,a,a.pendingProps.children,r),a.child;case 10:return o=a.pendingProps,Oa(a,a.type,o.value),Kt(t,a,o.children,r),a.child;case 9:return f=a.type._context,o=a.pendingProps.children,Gi(a),f=Wt(f),o=o(f),a.flags|=1,Kt(t,a,o,r),a.child;case 14:return B_(t,a,a.type,a.pendingProps,r);case 15:return H_(t,a,a.type,a.pendingProps,r);case 19:return Y_(t,a,r);case 22:return z_(t,a,r);case 24:return Gi(a),o=Wt(It),t===null?(f=Od(),f===null&&(f=et,m=jd(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=r),f=m),a.memoizedState={parent:o,cache:f},ff(a),Oa(a,It,f)):((t.lanes&r)!==0&&(mf(t,a),vo(a,null,null,r),yo()),f=t.memoizedState,m=a.memoizedState,f.parent!==o?(f={parent:o,cache:o},a.memoizedState=f,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=f),Oa(a,It,o)):(o=m.cache,Oa(a,It,o),o!==f.cache&&df(a,[It],r,!0))),Kt(t,a,a.pendingProps.children,r),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}var cf=ze(null),Fi=null,Fs=null;function Oa(t,a,r){We(cf,a._currentValue),a._currentValue=r}function Gs(t){t._currentValue=cf.current,ut(cf)}function hf(t,a,r){for(;t!==null;){var o=t.alternate;if((t.childLanes&a)!==a?(t.childLanes|=a,o!==null&&(o.childLanes|=a)):o!==null&&(o.childLanes&a)!==a&&(o.childLanes|=a),t===r)break;t=t.return}}function df(t,a,r,o){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var m=f.dependencies;if(m!==null){var x=f.child;m=m.firstContext;e:for(;m!==null;){var T=m;m=f;for(var C=0;C<a.length;C++)if(T.context===a[C]){m.lanes|=r,T=m.alternate,T!==null&&(T.lanes|=r),hf(m.return,r,t),o||(x=null);break e}m=T.next}}else if(f.tag===18){if(x=f.return,x===null)throw Error(i(341));x.lanes|=r,m=x.alternate,m!==null&&(m.lanes|=r),hf(x,r,t),x=null}else x=f.child;if(x!==null)x.return=f;else for(x=f;x!==null;){if(x===t){x=null;break}if(f=x.sibling,f!==null){f.return=x.return,x=f;break}x=x.return}f=x}}function po(t,a,r,o){t=null;for(var f=a,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var x=f.alternate;if(x===null)throw Error(i(387));if(x=x.memoizedProps,x!==null){var T=f.type;yn(f.pendingProps.value,x.value)||(t!==null?t.push(T):t=[T])}}else if(f===da.current){if(x=f.alternate,x===null)throw Error(i(387));x.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Oo):t=[Oo])}f=f.return}t!==null&&df(a,t,r,o),a.flags|=262144}function _c(t){for(t=t.firstContext;t!==null;){if(!yn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Gi(t){Fi=t,Fs=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Wt(t){return X_(Fi,t)}function yc(t,a){return Fi===null&&Gi(t),X_(t,a)}function X_(t,a){var r=a._currentValue;if(a={context:a,memoizedValue:r,next:null},Fs===null){if(t===null)throw Error(i(308));Fs=a,t.dependencies={lanes:0,firstContext:a},t.flags|=524288}else Fs=Fs.next=a;return r}var Ma=!1;function ff(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mf(t,a){t=t.updateQueue,a.updateQueue===t&&(a.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function La(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Va(t,a,r){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(lt&2)!==0){var f=o.pending;return f===null?a.next=a:(a.next=f.next,f.next=a),o.pending=a,a=Zu(t),jp(t,null,r),a}return Xu(t,o,a,r),Zu(t)}function _o(t,a,r){if(a=a.updateQueue,a!==null&&(a=a.shared,(r&4194176)!==0)){var o=a.lanes;o&=t.pendingLanes,r|=o,a.lanes=r,va(t,r)}}function gf(t,a){var r=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var f=null,m=null;if(r=r.firstBaseUpdate,r!==null){do{var x={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};m===null?f=m=x:m=m.next=x,r=r.next}while(r!==null);m===null?f=m=a:m=m.next=a}else f=m=a;r={baseState:o.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:o.shared,callbacks:o.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=a:t.next=a,r.lastBaseUpdate=a}var pf=!1;function yo(){if(pf){var t=zr;if(t!==null)throw t}}function vo(t,a,r,o){pf=!1;var f=t.updateQueue;Ma=!1;var m=f.firstBaseUpdate,x=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var C=T,B=C.next;C.next=null,x===null?m=B:x.next=B,x=C;var J=t.alternate;J!==null&&(J=J.updateQueue,T=J.lastBaseUpdate,T!==x&&(T===null?J.firstBaseUpdate=B:T.next=B,J.lastBaseUpdate=C))}if(m!==null){var ae=f.baseState;x=0,J=B=C=null,T=m;do{var Y=T.lane&-536870913,X=Y!==T.lane;if(X?(Be&Y)===Y:(o&Y)===Y){Y!==0&&Y===Hr&&(pf=!0),J!==null&&(J=J.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var _e=t,we=T;Y=a;var ft=r;switch(we.tag){case 1:if(_e=we.payload,typeof _e=="function"){ae=_e.call(ft,ae,Y);break e}ae=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=we.payload,Y=typeof _e=="function"?_e.call(ft,ae,Y):_e,Y==null)break e;ae=w({},ae,Y);break e;case 2:Ma=!0}}Y=T.callback,Y!==null&&(t.flags|=64,X&&(t.flags|=8192),X=f.callbacks,X===null?f.callbacks=[Y]:X.push(Y))}else X={lane:Y,tag:T.tag,payload:T.payload,callback:T.callback,next:null},J===null?(B=J=X,C=ae):J=J.next=X,x|=Y;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;X=T,T=X.next,X.next=null,f.lastBaseUpdate=X,f.shared.pending=null}}while(!0);J===null&&(C=ae),f.baseState=C,f.firstBaseUpdate=B,f.lastBaseUpdate=J,m===null&&(f.shared.lanes=0),za|=x,t.lanes=x,t.memoizedState=ae}}function Z_(t,a){if(typeof t!="function")throw Error(i(191,t));t.call(a)}function J_(t,a){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Z_(r[t],a)}function xo(t,a){try{var r=a.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var f=o.next;r=f;do{if((r.tag&t)===t){o=void 0;var m=r.create,x=r.inst;o=m(),x.destroy=o}r=r.next}while(r!==f)}}catch(T){Je(a,a.return,T)}}function Pa(t,a,r){try{var o=a.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var m=f.next;o=m;do{if((o.tag&t)===t){var x=o.inst,T=x.destroy;if(T!==void 0){x.destroy=void 0,f=a;var C=r;try{T()}catch(B){Je(f,C,B)}}}o=o.next}while(o!==m)}}catch(B){Je(a,a.return,B)}}function ey(t){var a=t.updateQueue;if(a!==null){var r=t.stateNode;try{J_(a,r)}catch(o){Je(t,t.return,o)}}}function ty(t,a,r){r.props=Ki(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(o){Je(t,a,o)}}function $i(t,a){try{var r=t.ref;if(r!==null){var o=t.stateNode;switch(t.tag){case 26:case 27:case 5:var f=o;break;default:f=o}typeof r=="function"?t.refCleanup=r(f):r.current=f}}catch(m){Je(t,a,m)}}function vn(t,a){var r=t.ref,o=t.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(f){Je(t,a,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(f){Je(t,a,f)}else r.current=null}function ny(t){var a=t.type,r=t.memoizedProps,o=t.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break e;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(f){Je(t,t.return,f)}}function sy(t,a,r){try{var o=t.stateNode;xA(o,t.type,r,a),o[Nt]=a}catch(f){Je(t,t.return,f)}}function ay(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function _f(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ay(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function yf(t,a,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,a?r.nodeType===8?r.parentNode.insertBefore(t,a):r.insertBefore(t,a):(r.nodeType===8?(a=r.parentNode,a.insertBefore(t,r)):(a=r,a.appendChild(t)),r=r._reactRootContainer,r!=null||a.onclick!==null||(a.onclick=jc));else if(o!==4&&o!==27&&(t=t.child,t!==null))for(yf(t,a,r),t=t.sibling;t!==null;)yf(t,a,r),t=t.sibling}function vc(t,a,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,a?r.insertBefore(t,a):r.appendChild(t);else if(o!==4&&o!==27&&(t=t.child,t!==null))for(vc(t,a,r),t=t.sibling;t!==null;)vc(t,a,r),t=t.sibling}var $s=!1,ht=!1,vf=!1,iy=typeof WeakSet=="function"?WeakSet:Set,Ut=null,ry=!1;function Wb(t,a){if(t=t.containerInfo,$f=Uc,t=bp(t),xd(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var f=o.anchorOffset,m=o.focusNode;o=o.focusOffset;try{r.nodeType,m.nodeType}catch{r=null;break e}var x=0,T=-1,C=-1,B=0,J=0,ae=t,Y=null;t:for(;;){for(var X;ae!==r||f!==0&&ae.nodeType!==3||(T=x+f),ae!==m||o!==0&&ae.nodeType!==3||(C=x+o),ae.nodeType===3&&(x+=ae.nodeValue.length),(X=ae.firstChild)!==null;)Y=ae,ae=X;for(;;){if(ae===t)break t;if(Y===r&&++B===f&&(T=x),Y===m&&++J===o&&(C=x),(X=ae.nextSibling)!==null)break;ae=Y,Y=ae.parentNode}ae=X}r=T===-1||C===-1?null:{start:T,end:C}}else r=null}r=r||{start:0,end:0}}else r=null;for(Qf={focusedElem:t,selectionRange:r},Uc=!1,Ut=a;Ut!==null;)if(a=Ut,t=a.child,(a.subtreeFlags&1028)!==0&&t!==null)t.return=a,Ut=t;else for(;Ut!==null;){switch(a=Ut,m=a.alternate,t=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,r=a,f=m.memoizedProps,m=m.memoizedState,o=r.stateNode;try{var _e=Ki(r.type,f,r.elementType===r.type);t=o.getSnapshotBeforeUpdate(_e,m),o.__reactInternalSnapshotBeforeUpdate=t}catch(we){Je(r,r.return,we)}}break;case 3:if((t&1024)!==0){if(t=a.stateNode.containerInfo,r=t.nodeType,r===9)Zf(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Zf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(i(163))}if(t=a.sibling,t!==null){t.return=a.return,Ut=t;break}Ut=a.return}return _e=ry,ry=!1,_e}function ly(t,a,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:Ys(t,r),o&4&&xo(5,r);break;case 1:if(Ys(t,r),o&4)if(t=r.stateNode,a===null)try{t.componentDidMount()}catch(T){Je(r,r.return,T)}else{var f=Ki(r.type,a.memoizedProps);a=a.memoizedState;try{t.componentDidUpdate(f,a,t.__reactInternalSnapshotBeforeUpdate)}catch(T){Je(r,r.return,T)}}o&64&&ey(r),o&512&&$i(r,r.return);break;case 3:if(Ys(t,r),o&64&&(o=r.updateQueue,o!==null)){if(t=null,r.child!==null)switch(r.child.tag){case 27:case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}try{J_(o,t)}catch(T){Je(r,r.return,T)}}break;case 26:Ys(t,r),o&512&&$i(r,r.return);break;case 27:case 5:Ys(t,r),a===null&&o&4&&ny(r),o&512&&$i(r,r.return);break;case 12:Ys(t,r);break;case 13:Ys(t,r),o&4&&cy(t,r);break;case 22:if(f=r.memoizedState!==null||$s,!f){a=a!==null&&a.memoizedState!==null||ht;var m=$s,x=ht;$s=f,(ht=a)&&!x?Ua(t,r,(r.subtreeFlags&8772)!==0):Ys(t,r),$s=m,ht=x}o&512&&(r.memoizedProps.mode==="manual"?$i(r,r.return):vn(r,r.return));break;default:Ys(t,r)}}function oy(t){var a=t.alternate;a!==null&&(t.alternate=null,oy(a)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(a=t.stateNode,a!==null&&bi(a)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Tt=null,xn=!1;function Qs(t,a,r){for(r=r.child;r!==null;)uy(t,a,r),r=r.sibling}function uy(t,a,r){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(ma,r)}catch{}switch(r.tag){case 26:ht||vn(r,a),Qs(t,a,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:ht||vn(r,a);var o=Tt,f=xn;for(Tt=r.stateNode,Qs(t,a,r),r=r.stateNode,a=r.attributes;a.length;)r.removeAttributeNode(a[0]);bi(r),Tt=o,xn=f;break;case 5:ht||vn(r,a);case 6:f=Tt;var m=xn;if(Tt=null,Qs(t,a,r),Tt=f,xn=m,Tt!==null)if(xn)try{t=Tt,o=r.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)}catch(x){Je(r,a,x)}else try{Tt.removeChild(r.stateNode)}catch(x){Je(r,a,x)}break;case 18:Tt!==null&&(xn?(a=Tt,r=r.stateNode,a.nodeType===8?Xf(a.parentNode,r):a.nodeType===1&&Xf(a,r),Po(a)):Xf(Tt,r.stateNode));break;case 4:o=Tt,f=xn,Tt=r.stateNode.containerInfo,xn=!0,Qs(t,a,r),Tt=o,xn=f;break;case 0:case 11:case 14:case 15:ht||Pa(2,r,a),ht||Pa(4,r,a),Qs(t,a,r);break;case 1:ht||(vn(r,a),o=r.stateNode,typeof o.componentWillUnmount=="function"&&ty(r,a,o)),Qs(t,a,r);break;case 21:Qs(t,a,r);break;case 22:ht||vn(r,a),ht=(o=ht)||r.memoizedState!==null,Qs(t,a,r),ht=o;break;default:Qs(t,a,r)}}function cy(t,a){if(a.memoizedState===null&&(t=a.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Po(t)}catch(r){Je(a,a.return,r)}}function Xb(t){switch(t.tag){case 13:case 19:var a=t.stateNode;return a===null&&(a=t.stateNode=new iy),a;case 22:return t=t.stateNode,a=t._retryCache,a===null&&(a=t._retryCache=new iy),a;default:throw Error(i(435,t.tag))}}function xf(t,a){var r=Xb(t);a.forEach(function(o){var f=cA.bind(null,t,o);r.has(o)||(r.add(o),o.then(f,f))})}function Pn(t,a){var r=a.deletions;if(r!==null)for(var o=0;o<r.length;o++){var f=r[o],m=t,x=a,T=x;e:for(;T!==null;){switch(T.tag){case 27:case 5:Tt=T.stateNode,xn=!1;break e;case 3:Tt=T.stateNode.containerInfo,xn=!0;break e;case 4:Tt=T.stateNode.containerInfo,xn=!0;break e}T=T.return}if(Tt===null)throw Error(i(160));uy(m,x,f),Tt=null,xn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)hy(a,t),a=a.sibling}var Qn=null;function hy(t,a){var r=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Pn(a,t),Un(t),o&4&&(Pa(3,t,t.return),xo(3,t),Pa(5,t,t.return));break;case 1:Pn(a,t),Un(t),o&512&&(ht||r===null||vn(r,r.return)),o&64&&$s&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var f=Qn;if(Pn(a,t),Un(t),o&512&&(ht||r===null||vn(r,r.return)),o&4){var m=r!==null?r.memoizedState:null;if(o=t.memoizedState,r===null)if(o===null)if(t.stateNode===null){e:{o=t.type,r=t.memoizedProps,f=f.ownerDocument||f;t:switch(o){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Ea]||m[Mt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(o),f.head.insertBefore(m,f.querySelector("head > title"))),Ft(m,o,r),m[Mt]=t,it(m),o=m;break e;case"link":var x=nv("link","href",f).get(o+(r.href||""));if(x){for(var T=0;T<x.length;T++)if(m=x[T],m.getAttribute("href")===(r.href==null?null:r.href)&&m.getAttribute("rel")===(r.rel==null?null:r.rel)&&m.getAttribute("title")===(r.title==null?null:r.title)&&m.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){x.splice(T,1);break t}}m=f.createElement(o),Ft(m,o,r),f.head.appendChild(m);break;case"meta":if(x=nv("meta","content",f).get(o+(r.content||""))){for(T=0;T<x.length;T++)if(m=x[T],m.getAttribute("content")===(r.content==null?null:""+r.content)&&m.getAttribute("name")===(r.name==null?null:r.name)&&m.getAttribute("property")===(r.property==null?null:r.property)&&m.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&m.getAttribute("charset")===(r.charSet==null?null:r.charSet)){x.splice(T,1);break t}}m=f.createElement(o),Ft(m,o,r),f.head.appendChild(m);break;default:throw Error(i(468,o))}m[Mt]=t,it(m),o=m}t.stateNode=o}else sv(f,t.type,t.stateNode);else t.stateNode=tv(f,o,t.memoizedProps);else m!==o?(m===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):m.count--,o===null?sv(f,t.type,t.stateNode):tv(f,o,t.memoizedProps)):o===null&&t.stateNode!==null&&sy(t,t.memoizedProps,r.memoizedProps)}break;case 27:if(o&4&&t.alternate===null){f=t.stateNode,m=t.memoizedProps;try{for(var C=f.firstChild;C;){var B=C.nextSibling,J=C.nodeName;C[Ea]||J==="HEAD"||J==="BODY"||J==="SCRIPT"||J==="STYLE"||J==="LINK"&&C.rel.toLowerCase()==="stylesheet"||f.removeChild(C),C=B}for(var ae=t.type,Y=f.attributes;Y.length;)f.removeAttributeNode(Y[0]);Ft(f,ae,m),f[Mt]=t,f[Nt]=m}catch(_e){Je(t,t.return,_e)}}case 5:if(Pn(a,t),Un(t),o&512&&(ht||r===null||vn(r,r.return)),t.flags&32){f=t.stateNode;try{kn(f,"")}catch(_e){Je(t,t.return,_e)}}o&4&&t.stateNode!=null&&(f=t.memoizedProps,sy(t,f,r!==null?r.memoizedProps:f)),o&1024&&(vf=!0);break;case 6:if(Pn(a,t),Un(t),o&4){if(t.stateNode===null)throw Error(i(162));o=t.memoizedProps,r=t.stateNode;try{r.nodeValue=o}catch(_e){Je(t,t.return,_e)}}break;case 3:if(Lc=null,f=Qn,Qn=Oc(a.containerInfo),Pn(a,t),Qn=f,Un(t),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Po(a.containerInfo)}catch(_e){Je(t,t.return,_e)}vf&&(vf=!1,dy(t));break;case 4:o=Qn,Qn=Oc(t.stateNode.containerInfo),Pn(a,t),Un(t),Qn=o;break;case 12:Pn(a,t),Un(t);break;case 13:Pn(a,t),Un(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(kf=hn()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,xf(t,o)));break;case 22:if(o&512&&(ht||r===null||vn(r,r.return)),C=t.memoizedState!==null,B=r!==null&&r.memoizedState!==null,J=$s,ae=ht,$s=J||C,ht=ae||B,Pn(a,t),ht=ae,$s=J,Un(t),a=t.stateNode,a._current=t,a._visibility&=-3,a._visibility|=a._pendingVisibility&2,o&8192&&(a._visibility=C?a._visibility&-2:a._visibility|1,C&&(a=$s||ht,r===null||B||a||Gr(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))e:for(r=null,a=t;;){if(a.tag===5||a.tag===26||a.tag===27){if(r===null){B=r=a;try{if(f=B.stateNode,C)m=f.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{x=B.stateNode,T=B.memoizedProps.style;var X=T!=null&&T.hasOwnProperty("display")?T.display:null;x.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(_e){Je(B,B.return,_e)}}}else if(a.tag===6){if(r===null){B=a;try{B.stateNode.nodeValue=C?"":B.memoizedProps}catch(_e){Je(B,B.return,_e)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===t)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;a.sibling===null;){if(a.return===null||a.return===t)break e;r===a&&(r=null),a=a.return}r===a&&(r=null),a.sibling.return=a.return,a=a.sibling}o&4&&(o=t.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,xf(t,r))));break;case 19:Pn(a,t),Un(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,xf(t,o)));break;case 21:break;default:Pn(a,t),Un(t)}}function Un(t){var a=t.flags;if(a&2){try{if(t.tag!==27){e:{for(var r=t.return;r!==null;){if(ay(r)){var o=r;break e}r=r.return}throw Error(i(160))}switch(o.tag){case 27:var f=o.stateNode,m=_f(t);vc(t,m,f);break;case 5:var x=o.stateNode;o.flags&32&&(kn(x,""),o.flags&=-33);var T=_f(t);vc(t,T,x);break;case 3:case 4:var C=o.stateNode.containerInfo,B=_f(t);yf(t,B,C);break;default:throw Error(i(161))}}}catch(J){Je(t,t.return,J)}t.flags&=-3}a&4096&&(t.flags&=-4097)}function dy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var a=t;dy(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),t=t.sibling}}function Ys(t,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)ly(t,a.alternate,a),a=a.sibling}function Gr(t){for(t=t.child;t!==null;){var a=t;switch(a.tag){case 0:case 11:case 14:case 15:Pa(4,a,a.return),Gr(a);break;case 1:vn(a,a.return);var r=a.stateNode;typeof r.componentWillUnmount=="function"&&ty(a,a.return,r),Gr(a);break;case 26:case 27:case 5:vn(a,a.return),Gr(a);break;case 22:vn(a,a.return),a.memoizedState===null&&Gr(a);break;default:Gr(a)}t=t.sibling}}function Ua(t,a,r){for(r=r&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var o=a.alternate,f=t,m=a,x=m.flags;switch(m.tag){case 0:case 11:case 15:Ua(f,m,r),xo(4,m);break;case 1:if(Ua(f,m,r),o=m,f=o.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(B){Je(o,o.return,B)}if(o=m,f=o.updateQueue,f!==null){var T=o.stateNode;try{var C=f.shared.hiddenCallbacks;if(C!==null)for(f.shared.hiddenCallbacks=null,f=0;f<C.length;f++)Z_(C[f],T)}catch(B){Je(o,o.return,B)}}r&&x&64&&ey(m),$i(m,m.return);break;case 26:case 27:case 5:Ua(f,m,r),r&&o===null&&x&4&&ny(m),$i(m,m.return);break;case 12:Ua(f,m,r);break;case 13:Ua(f,m,r),r&&x&4&&cy(f,m);break;case 22:m.memoizedState===null&&Ua(f,m,r),$i(m,m.return);break;default:Ua(f,m,r)}a=a.sibling}}function Ef(t,a){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(t=a.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&uo(r))}function Tf(t,a){t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&uo(t))}function Ba(t,a,r,o){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)fy(t,a,r,o),a=a.sibling}function fy(t,a,r,o){var f=a.flags;switch(a.tag){case 0:case 11:case 15:Ba(t,a,r,o),f&2048&&xo(9,a);break;case 3:Ba(t,a,r,o),f&2048&&(t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&uo(t)));break;case 12:if(f&2048){Ba(t,a,r,o),t=a.stateNode;try{var m=a.memoizedProps,x=m.id,T=m.onPostCommit;typeof T=="function"&&T(x,a.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){Je(a,a.return,C)}}else Ba(t,a,r,o);break;case 23:break;case 22:m=a.stateNode,a.memoizedState!==null?m._visibility&4?Ba(t,a,r,o):Eo(t,a):m._visibility&4?Ba(t,a,r,o):(m._visibility|=4,$r(t,a,r,o,(a.subtreeFlags&10256)!==0)),f&2048&&Ef(a.alternate,a);break;case 24:Ba(t,a,r,o),f&2048&&Tf(a.alternate,a);break;default:Ba(t,a,r,o)}}function $r(t,a,r,o,f){for(f=f&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var m=t,x=a,T=r,C=o,B=x.flags;switch(x.tag){case 0:case 11:case 15:$r(m,x,T,C,f),xo(8,x);break;case 23:break;case 22:var J=x.stateNode;x.memoizedState!==null?J._visibility&4?$r(m,x,T,C,f):Eo(m,x):(J._visibility|=4,$r(m,x,T,C,f)),f&&B&2048&&Ef(x.alternate,x);break;case 24:$r(m,x,T,C,f),f&&B&2048&&Tf(x.alternate,x);break;default:$r(m,x,T,C,f)}a=a.sibling}}function Eo(t,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var r=t,o=a,f=o.flags;switch(o.tag){case 22:Eo(r,o),f&2048&&Ef(o.alternate,o);break;case 24:Eo(r,o),f&2048&&Tf(o.alternate,o);break;default:Eo(r,o)}a=a.sibling}}var To=8192;function Qr(t){if(t.subtreeFlags&To)for(t=t.child;t!==null;)my(t),t=t.sibling}function my(t){switch(t.tag){case 26:Qr(t),t.flags&To&&t.memoizedState!==null&&UA(Qn,t.memoizedState,t.memoizedProps);break;case 5:Qr(t);break;case 3:case 4:var a=Qn;Qn=Oc(t.stateNode.containerInfo),Qr(t),Qn=a;break;case 22:t.memoizedState===null&&(a=t.alternate,a!==null&&a.memoizedState!==null?(a=To,To=16777216,Qr(t),To=a):Qr(t));break;default:Qr(t)}}function gy(t){var a=t.alternate;if(a!==null&&(t=a.child,t!==null)){a.child=null;do a=t.sibling,t.sibling=null,t=a;while(t!==null)}}function bo(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var r=0;r<a.length;r++){var o=a[r];Ut=o,_y(o,t)}gy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)py(t),t=t.sibling}function py(t){switch(t.tag){case 0:case 11:case 15:bo(t),t.flags&2048&&Pa(9,t,t.return);break;case 3:bo(t);break;case 12:bo(t);break;case 22:var a=t.stateNode;t.memoizedState!==null&&a._visibility&4&&(t.return===null||t.return.tag!==13)?(a._visibility&=-5,xc(t)):bo(t);break;default:bo(t)}}function xc(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var r=0;r<a.length;r++){var o=a[r];Ut=o,_y(o,t)}gy(t)}for(t=t.child;t!==null;){switch(a=t,a.tag){case 0:case 11:case 15:Pa(8,a,a.return),xc(a);break;case 22:r=a.stateNode,r._visibility&4&&(r._visibility&=-5,xc(a));break;default:xc(a)}t=t.sibling}}function _y(t,a){for(;Ut!==null;){var r=Ut;switch(r.tag){case 0:case 11:case 15:Pa(8,r,a);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:uo(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Ut=o;else e:for(r=t;Ut!==null;){o=Ut;var f=o.sibling,m=o.return;if(oy(o),o===r){Ut=null;break e}if(f!==null){f.return=m,Ut=f;break e}Ut=m}}}function Zb(t,a,r,o){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bn(t,a,r,o){return new Zb(t,a,r,o)}function bf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ha(t,a){var r=t.alternate;return r===null?(r=Bn(t.tag,a,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=a,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&31457280,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,a=t.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function yy(t,a){t.flags&=31457282;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=a,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,a=r.dependencies,t.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),t}function Ec(t,a,r,o,f,m){var x=0;if(o=t,typeof t=="function")bf(t)&&(x=1);else if(typeof t=="string")x=VA(t,r,nn.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case p:return Qi(r.children,f,m,a);case _:x=8,f|=24;break;case E:return t=Bn(12,r,a,f|2),t.elementType=E,t.lanes=m,t;case z:return t=Bn(13,r,a,f),t.elementType=z,t.lanes=m,t;case P:return t=Bn(19,r,a,f),t.elementType=P,t.lanes=m,t;case $:return vy(r,f,m,a);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case b:case k:x=10;break e;case S:x=9;break e;case D:x=11;break e;case F:x=14;break e;case H:x=16,o=null;break e}x=29,r=Error(i(130,t===null?"null":typeof t,"")),o=null}return a=Bn(x,r,a,f),a.elementType=t,a.type=o,a.lanes=m,a}function Qi(t,a,r,o){return t=Bn(7,t,o,a),t.lanes=r,t}function vy(t,a,r,o){t=Bn(22,t,o,a),t.elementType=$,t.lanes=r;var f={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var m=f._current;if(m===null)throw Error(i(456));if((f._pendingVisibility&2)===0){var x=ka(m,2);x!==null&&(f._pendingVisibility|=2,on(x,m,2))}},attach:function(){var m=f._current;if(m===null)throw Error(i(456));if((f._pendingVisibility&2)!==0){var x=ka(m,2);x!==null&&(f._pendingVisibility&=-3,on(x,m,2))}}};return t.stateNode=f,t}function Af(t,a,r){return t=Bn(6,t,null,a),t.lanes=r,t}function Sf(t,a,r){return a=Bn(4,t.children!==null?t.children:[],t.key,a),a.lanes=r,a.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},a}function Ws(t){t.flags|=4}function xy(t,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!av(a)){if(a=Vn.current,a!==null&&((Be&4194176)===Be?gs!==null:(Be&62914560)!==Be&&(Be&536870912)===0||a!==gs))throw ro=kd,Vp;t.flags|=8192}}function Tc(t,a){a!==null&&(t.flags|=4),t.flags&16384&&(a=t.tag!==22?_a():536870912,t.lanes|=a,Wr|=a)}function Ao(t,a){if(!Ke)switch(t.tailMode){case"hidden":a=t.tail;for(var r=null;a!==null;)a.alternate!==null&&(r=a),a=a.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?a||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function rt(t){var a=t.alternate!==null&&t.alternate.child===t.child,r=0,o=0;if(a)for(var f=t.child;f!==null;)r|=f.lanes|f.childLanes,o|=f.subtreeFlags&31457280,o|=f.flags&31457280,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)r|=f.lanes|f.childLanes,o|=f.subtreeFlags,o|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=o,t.childLanes=r,a}function Jb(t,a,r){var o=a.pendingProps;switch(Nd(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(a),null;case 1:return rt(a),null;case 3:return r=a.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),a.memoizedState.cache!==o&&(a.flags|=2048),Gs(It),ks(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(no(a)?Ws(a):t===null||t.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,$n!==null&&(Df($n),$n=null))),rt(a),null;case 26:return r=a.memoizedState,t===null?(Ws(a),r!==null?(rt(a),xy(a,r)):(rt(a),a.flags&=-16777217)):r?r!==t.memoizedState?(Ws(a),rt(a),xy(a,r)):(rt(a),a.flags&=-16777217):(t.memoizedProps!==o&&Ws(a),rt(a),a.flags&=-16777217),null;case 27:gr(a),r=wn.current;var f=a.type;if(t!==null&&a.stateNode!=null)t.memoizedProps!==o&&Ws(a);else{if(!o){if(a.stateNode===null)throw Error(i(166));return rt(a),null}t=nn.current,no(a)?Mp(a):(t=Wy(f,o,r),a.stateNode=t,Ws(a))}return rt(a),null;case 5:if(gr(a),r=a.type,t!==null&&a.stateNode!=null)t.memoizedProps!==o&&Ws(a);else{if(!o){if(a.stateNode===null)throw Error(i(166));return rt(a),null}if(t=nn.current,no(a))Mp(a);else{switch(f=Dc(wn.current),t){case 1:t=f.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=f.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=f.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=f.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=f.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof o.is=="string"?f.createElement("select",{is:o.is}):f.createElement("select"),o.multiple?t.multiple=!0:o.size&&(t.size=o.size);break;default:t=typeof o.is=="string"?f.createElement(r,{is:o.is}):f.createElement(r)}}t[Mt]=a,t[Nt]=o;e:for(f=a.child;f!==null;){if(f.tag===5||f.tag===6)t.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===a)break e;for(;f.sibling===null;){if(f.return===null||f.return===a)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}a.stateNode=t;e:switch(Ft(t,r,o),r){case"button":case"input":case"select":case"textarea":t=!!o.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Ws(a)}}return rt(a),a.flags&=-16777217,null;case 6:if(t&&a.stateNode!=null)t.memoizedProps!==o&&Ws(a);else{if(typeof o!="string"&&a.stateNode===null)throw Error(i(166));if(t=wn.current,no(a)){if(t=a.stateNode,r=a.memoizedProps,o=null,f=ln,f!==null)switch(f.tag){case 27:case 5:o=f.memoizedProps}t[Mt]=a,t=!!(t.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||Ky(t.nodeValue,r)),t||Pi(a)}else t=Dc(t).createTextNode(o),t[Mt]=a,a.stateNode=t}return rt(a),null;case 13:if(o=a.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=no(a),o!==null&&o.dehydrated!==null){if(t===null){if(!f)throw Error(i(318));if(f=a.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[Mt]=a}else so(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;rt(a),f=!1}else $n!==null&&(Df($n),$n=null),f=!0;if(!f)return a.flags&256?(zs(a),a):(zs(a),null)}if(zs(a),(a.flags&128)!==0)return a.lanes=r,a;if(r=o!==null,t=t!==null&&t.memoizedState!==null,r){o=a.child,f=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(f=o.alternate.memoizedState.cachePool.pool);var m=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==f&&(o.flags|=2048)}return r!==t&&r&&(a.child.flags|=8192),Tc(a,a.updateQueue),rt(a),null;case 4:return ks(),t===null&&Kf(a.stateNode.containerInfo),rt(a),null;case 10:return Gs(a.type),rt(a),null;case 19:if(ut(Ct),f=a.memoizedState,f===null)return rt(a),null;if(o=(a.flags&128)!==0,m=f.rendering,m===null)if(o)Ao(f,!1);else{if(dt!==0||t!==null&&(t.flags&128)!==0)for(t=a.child;t!==null;){if(m=ic(t),m!==null){for(a.flags|=128,Ao(f,!1),t=m.updateQueue,a.updateQueue=t,Tc(a,t),a.subtreeFlags=0,t=r,r=a.child;r!==null;)yy(r,t),r=r.sibling;return We(Ct,Ct.current&1|2),a.child}t=t.sibling}f.tail!==null&&hn()>bc&&(a.flags|=128,o=!0,Ao(f,!1),a.lanes=4194304)}else{if(!o)if(t=ic(m),t!==null){if(a.flags|=128,o=!0,t=t.updateQueue,a.updateQueue=t,Tc(a,t),Ao(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!Ke)return rt(a),null}else 2*hn()-f.renderingStartTime>bc&&r!==536870912&&(a.flags|=128,o=!0,Ao(f,!1),a.lanes=4194304);f.isBackwards?(m.sibling=a.child,a.child=m):(t=f.last,t!==null?t.sibling=m:a.child=m,f.last=m)}return f.tail!==null?(a=f.tail,f.rendering=a,f.tail=a.sibling,f.renderingStartTime=hn(),a.sibling=null,t=Ct.current,We(Ct,o?t&1|2:t&1),a):(rt(a),null);case 22:case 23:return zs(a),Id(),o=a.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(a.flags|=8192):o&&(a.flags|=8192),o?(r&536870912)!==0&&(a.flags&128)===0&&(rt(a),a.subtreeFlags&6&&(a.flags|=8192)):rt(a),r=a.updateQueue,r!==null&&Tc(a,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),o=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(o=a.memoizedState.cachePool.pool),o!==r&&(a.flags|=2048),t!==null&&ut(Bi),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),a.memoizedState.cache!==r&&(a.flags|=2048),Gs(It),rt(a),null;case 25:return null}throw Error(i(156,a.tag))}function eA(t,a){switch(Nd(a),a.tag){case 1:return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 3:return Gs(It),ks(),t=a.flags,(t&65536)!==0&&(t&128)===0?(a.flags=t&-65537|128,a):null;case 26:case 27:case 5:return gr(a),null;case 13:if(zs(a),t=a.memoizedState,t!==null&&t.dehydrated!==null){if(a.alternate===null)throw Error(i(340));so()}return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 19:return ut(Ct),null;case 4:return ks(),null;case 10:return Gs(a.type),null;case 22:case 23:return zs(a),Id(),t!==null&&ut(Bi),t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 24:return Gs(It),null;case 25:return null;default:return null}}function Ey(t,a){switch(Nd(a),a.tag){case 3:Gs(It),ks();break;case 26:case 27:case 5:gr(a);break;case 4:ks();break;case 13:zs(a);break;case 19:ut(Ct);break;case 10:Gs(a.type);break;case 22:case 23:zs(a),Id(),t!==null&&ut(Bi);break;case 24:Gs(It)}}var tA={getCacheForType:function(t){var a=Wt(It),r=a.data.get(t);return r===void 0&&(r=t(),a.data.set(t,r)),r}},nA=typeof WeakMap=="function"?WeakMap:Map,lt=0,et=null,De=null,Be=0,tt=0,En=null,Xs=!1,Yr=!1,wf=!1,Zs=0,dt=0,za=0,Yi=0,Nf=0,Hn=0,Wr=0,So=null,_s=null,Rf=!1,kf=0,bc=1/0,Ac=null,qa=null,Sc=!1,Wi=null,wo=0,Cf=0,If=null,No=0,jf=null;function Tn(){if((lt&2)!==0&&Be!==0)return Be&-Be;if(N.T!==null){var t=Hr;return t!==0?t:Bf()}return Iu()}function Ty(){Hn===0&&(Hn=(Be&536870912)===0||Ke?Pl():536870912);var t=Vn.current;return t!==null&&(t.flags|=32),Hn}function on(t,a,r){(t===et&&tt===2||t.cancelPendingCommit!==null)&&(Xr(t,0),Js(t,Be,Hn,!1)),pt(t,r),((lt&2)===0||t!==et)&&(t===et&&((lt&2)===0&&(Yi|=r),dt===4&&Js(t,Be,Hn,!1)),ys(t))}function by(t,a,r){if((lt&6)!==0)throw Error(i(327));var o=!r&&(a&60)===0&&(a&t.expiredLanes)===0||pa(t,a),f=o?iA(t,a):Lf(t,a,!0),m=o;do{if(f===0){Yr&&!o&&Js(t,a,0,!1);break}else if(f===6)Js(t,a,0,!Xs);else{if(r=t.current.alternate,m&&!sA(r)){f=Lf(t,a,!1),m=!1;continue}if(f===2){if(m=a,t.errorRecoveryDisabledLanes&m)var x=0;else x=t.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){a=x;e:{var T=t;f=So;var C=T.current.memoizedState.isDehydrated;if(C&&(Xr(T,x).flags|=256),x=Lf(T,x,!1),x!==2){if(wf&&!C){T.errorRecoveryDisabledLanes|=m,Yi|=m,f=4;break e}m=_s,_s=f,m!==null&&Df(m)}f=x}if(m=!1,f!==2)continue}}if(f===1){Xr(t,0),Js(t,a,0,!0);break}e:{switch(o=t,f){case 0:case 1:throw Error(i(345));case 4:if((a&4194176)===a){Js(o,a,Hn,!Xs);break e}break;case 2:_s=null;break;case 3:case 5:break;default:throw Error(i(329))}if(o.finishedWork=r,o.finishedLanes=a,(a&62914560)===a&&(m=kf+300-hn(),10<m)){if(Js(o,a,Hn,!Xs),Nn(o,0)!==0)break e;o.timeoutHandle=$y(Ay.bind(null,o,r,_s,Ac,Rf,a,Hn,Yi,Wr,Xs,2,-0,0),m);break e}Ay(o,r,_s,Ac,Rf,a,Hn,Yi,Wr,Xs,0,-0,0)}}break}while(!0);ys(t)}function Df(t){_s===null?_s=t:_s.push.apply(_s,t)}function Ay(t,a,r,o,f,m,x,T,C,B,J,ae,Y){var X=a.subtreeFlags;if((X&8192||(X&16785408)===16785408)&&(Do={stylesheets:null,count:0,unsuspend:PA},my(a),a=BA(),a!==null)){t.cancelPendingCommit=a(Iy.bind(null,t,r,o,f,x,T,C,1,ae,Y)),Js(t,m,x,!B);return}Iy(t,r,o,f,x,T,C,J,ae,Y)}function sA(t){for(var a=t;;){var r=a.tag;if((r===0||r===11||r===15)&&a.flags&16384&&(r=a.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var f=r[o],m=f.getSnapshot;f=f.value;try{if(!yn(m(),f))return!1}catch{return!1}}if(r=a.child,a.subtreeFlags&16384&&r!==null)r.return=a,a=r;else{if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Js(t,a,r,o){a&=~Nf,a&=~Yi,t.suspendedLanes|=a,t.pingedLanes&=~a,o&&(t.warmLanes|=a),o=t.expirationTimes;for(var f=a;0<f;){var m=31-sn(f),x=1<<m;o[m]=-1,f&=~x}r!==0&&ya(t,r,a)}function wc(){return(lt&6)===0?(Ro(0),!1):!0}function Of(){if(De!==null){if(tt===0)var t=De.return;else t=De,Fs=Fi=null,Ud(t),Ur=null,lo=0,t=De;for(;t!==null;)Ey(t.alternate,t),t=t.return;De=null}}function Xr(t,a){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,TA(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Of(),et=t,De=r=Ha(t.current,null),Be=a,tt=0,En=null,Xs=!1,Yr=pa(t,a),wf=!1,Wr=Hn=Nf=Yi=za=dt=0,_s=So=null,Rf=!1,(a&8)!==0&&(a|=a&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=a;0<o;){var f=31-sn(o),m=1<<f;a|=t[f],o&=~m}return Zs=a,Wu(),r}function Sy(t,a){Ie=null,N.H=ps,a===io?(a=Bp(),tt=3):a===Vp?(a=Bp(),tt=4):tt=a===P_?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,En=a,De===null&&(dt=1,pc(t,On(a,t.current)))}function wy(){var t=N.H;return N.H=ps,t===null?ps:t}function Ny(){var t=N.A;return N.A=tA,t}function Mf(){dt=4,Xs||(Be&4194176)!==Be&&Vn.current!==null||(Yr=!0),(za&134217727)===0&&(Yi&134217727)===0||et===null||Js(et,Be,Hn,!1)}function Lf(t,a,r){var o=lt;lt|=2;var f=wy(),m=Ny();(et!==t||Be!==a)&&(Ac=null,Xr(t,a)),a=!1;var x=dt;e:do try{if(tt!==0&&De!==null){var T=De,C=En;switch(tt){case 8:Of(),x=6;break e;case 3:case 2:case 6:Vn.current===null&&(a=!0);var B=tt;if(tt=0,En=null,Zr(t,T,C,B),r&&Yr){x=0;break e}break;default:B=tt,tt=0,En=null,Zr(t,T,C,B)}}aA(),x=dt;break}catch(J){Sy(t,J)}while(!0);return a&&t.shellSuspendCounter++,Fs=Fi=null,lt=o,N.H=f,N.A=m,De===null&&(et=null,Be=0,Wu()),x}function aA(){for(;De!==null;)Ry(De)}function iA(t,a){var r=lt;lt|=2;var o=wy(),f=Ny();et!==t||Be!==a?(Ac=null,bc=hn()+500,Xr(t,a)):Yr=pa(t,a);e:do try{if(tt!==0&&De!==null){a=De;var m=En;t:switch(tt){case 1:tt=0,En=null,Zr(t,a,m,1);break;case 2:if(Pp(m)){tt=0,En=null,ky(a);break}a=function(){tt===2&&et===t&&(tt=7),ys(t)},m.then(a,a);break e;case 3:tt=7;break e;case 4:tt=5;break e;case 7:Pp(m)?(tt=0,En=null,ky(a)):(tt=0,En=null,Zr(t,a,m,7));break;case 5:var x=null;switch(De.tag){case 26:x=De.memoizedState;case 5:case 27:var T=De;if(!x||av(x)){tt=0,En=null;var C=T.sibling;if(C!==null)De=C;else{var B=T.return;B!==null?(De=B,Nc(B)):De=null}break t}}tt=0,En=null,Zr(t,a,m,5);break;case 6:tt=0,En=null,Zr(t,a,m,6);break;case 8:Of(),dt=6;break e;default:throw Error(i(462))}}rA();break}catch(J){Sy(t,J)}while(!0);return Fs=Fi=null,N.H=o,N.A=f,lt=r,De!==null?0:(et=null,Be=0,Wu(),dt)}function rA(){for(;De!==null&&!ud();)Ry(De)}function Ry(t){var a=W_(t.alternate,t,Zs);t.memoizedProps=t.pendingProps,a===null?Nc(t):De=a}function ky(t){var a=t,r=a.alternate;switch(a.tag){case 15:case 0:a=K_(r,a,a.pendingProps,a.type,void 0,Be);break;case 11:a=K_(r,a,a.pendingProps,a.type.render,a.ref,Be);break;case 5:Ud(a);default:Ey(r,a),a=De=yy(a,Zs),a=W_(r,a,Zs)}t.memoizedProps=t.pendingProps,a===null?Nc(t):De=a}function Zr(t,a,r,o){Fs=Fi=null,Ud(a),Ur=null,lo=0;var f=a.return;try{if(Qb(t,f,a,r,Be)){dt=1,pc(t,On(r,t.current)),De=null;return}}catch(m){if(f!==null)throw De=f,m;dt=1,pc(t,On(r,t.current)),De=null;return}a.flags&32768?(Ke||o===1?t=!0:Yr||(Be&536870912)!==0?t=!1:(Xs=t=!0,(o===2||o===3||o===6)&&(o=Vn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Cy(a,t)):Nc(a)}function Nc(t){var a=t;do{if((a.flags&32768)!==0){Cy(a,Xs);return}t=a.return;var r=Jb(a.alternate,a,Zs);if(r!==null){De=r;return}if(a=a.sibling,a!==null){De=a;return}De=a=t}while(a!==null);dt===0&&(dt=5)}function Cy(t,a){do{var r=eA(t.alternate,t);if(r!==null){r.flags&=32767,De=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!a&&(t=t.sibling,t!==null)){De=t;return}De=t=r}while(t!==null);dt=6,De=null}function Iy(t,a,r,o,f,m,x,T,C,B){var J=N.T,ae=ce.p;try{ce.p=2,N.T=null,lA(t,a,r,o,ae,f,m,x,T,C,B)}finally{N.T=J,ce.p=ae}}function lA(t,a,r,o,f,m,x,T){do Jr();while(Wi!==null);if((lt&6)!==0)throw Error(i(327));var C=t.finishedWork;if(o=t.finishedLanes,C===null)return null;if(t.finishedWork=null,t.finishedLanes=0,C===t.current)throw Error(i(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var B=C.lanes|C.childLanes;if(B|=Ad,ku(t,o,B,m,x,T),t===et&&(De=et=null,Be=0),(C.subtreeFlags&10256)===0&&(C.flags&10256)===0||Sc||(Sc=!0,Cf=B,If=r,hA(Cs,function(){return Jr(),null})),r=(C.flags&15990)!==0,(C.subtreeFlags&15990)!==0||r?(r=N.T,N.T=null,m=ce.p,ce.p=2,x=lt,lt|=4,Wb(t,C),hy(C,t),Ib(Qf,t.containerInfo),Uc=!!$f,Qf=$f=null,t.current=C,ly(t,C.alternate,C),Ol(),lt=x,ce.p=m,N.T=r):t.current=C,Sc?(Sc=!1,Wi=t,wo=o):jy(t,B),B=t.pendingLanes,B===0&&(qa=null),Ll(C.stateNode),ys(t),a!==null)for(f=t.onRecoverableError,C=0;C<a.length;C++)B=a[C],f(B.value,{componentStack:B.stack});return(wo&3)!==0&&Jr(),B=t.pendingLanes,(o&4194218)!==0&&(B&42)!==0?t===jf?No++:(No=0,jf=t):No=0,Ro(0),null}function jy(t,a){(t.pooledCacheLanes&=a)===0&&(a=t.pooledCache,a!=null&&(t.pooledCache=null,uo(a)))}function Jr(){if(Wi!==null){var t=Wi,a=Cf;Cf=0;var r=Cu(wo),o=N.T,f=ce.p;try{if(ce.p=32>r?32:r,N.T=null,Wi===null)var m=!1;else{r=If,If=null;var x=Wi,T=wo;if(Wi=null,wo=0,(lt&6)!==0)throw Error(i(331));var C=lt;if(lt|=4,py(x.current),fy(x,x.current,T,r),lt=C,Ro(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(ma,x)}catch{}m=!0}return m}finally{ce.p=f,N.T=o,jy(t,a)}}return!1}function Dy(t,a,r){a=On(r,a),a=Jd(t.stateNode,a,2),t=Va(t,a,2),t!==null&&(pt(t,2),ys(t))}function Je(t,a,r){if(t.tag===3)Dy(t,t,r);else for(;a!==null;){if(a.tag===3){Dy(a,t,r);break}else if(a.tag===1){var o=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(qa===null||!qa.has(o))){t=On(r,t),r=L_(2),o=Va(a,r,2),o!==null&&(V_(r,o,a,t),pt(o,2),ys(o));break}}a=a.return}}function Vf(t,a,r){var o=t.pingCache;if(o===null){o=t.pingCache=new nA;var f=new Set;o.set(a,f)}else f=o.get(a),f===void 0&&(f=new Set,o.set(a,f));f.has(r)||(wf=!0,f.add(r),t=oA.bind(null,t,a,r),a.then(t,t))}function oA(t,a,r){var o=t.pingCache;o!==null&&o.delete(a),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,et===t&&(Be&r)===r&&(dt===4||dt===3&&(Be&62914560)===Be&&300>hn()-kf?(lt&2)===0&&Xr(t,0):Nf|=r,Wr===Be&&(Wr=0)),ys(t)}function Oy(t,a){a===0&&(a=_a()),t=ka(t,a),t!==null&&(pt(t,a),ys(t))}function uA(t){var a=t.memoizedState,r=0;a!==null&&(r=a.retryLane),Oy(t,r)}function cA(t,a){var r=0;switch(t.tag){case 13:var o=t.stateNode,f=t.memoizedState;f!==null&&(r=f.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(i(314))}o!==null&&o.delete(a),Oy(t,r)}function hA(t,a){return xi(t,a)}var Rc=null,el=null,Pf=!1,kc=!1,Uf=!1,Xi=0;function ys(t){t!==el&&t.next===null&&(el===null?Rc=el=t:el=el.next=t),kc=!0,Pf||(Pf=!0,fA(dA))}function Ro(t,a){if(!Uf&&kc){Uf=!0;do for(var r=!1,o=Rc;o!==null;){if(t!==0){var f=o.pendingLanes;if(f===0)var m=0;else{var x=o.suspendedLanes,T=o.pingedLanes;m=(1<<31-sn(42|t)+1)-1,m&=f&~(x&~T),m=m&201326677?m&201326677|1:m?m|2:0}m!==0&&(r=!0,Vy(o,m))}else m=Be,m=Nn(o,o===et?m:0),(m&3)===0||pa(o,m)||(r=!0,Vy(o,m));o=o.next}while(r);Uf=!1}}function dA(){kc=Pf=!1;var t=0;Xi!==0&&(EA()&&(t=Xi),Xi=0);for(var a=hn(),r=null,o=Rc;o!==null;){var f=o.next,m=My(o,a);m===0?(o.next=null,r===null?Rc=f:r.next=f,f===null&&(el=r)):(r=o,(t!==0||(m&3)!==0)&&(kc=!0)),o=f}Ro(t)}function My(t,a){for(var r=t.suspendedLanes,o=t.pingedLanes,f=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var x=31-sn(m),T=1<<x,C=f[x];C===-1?((T&r)===0||(T&o)!==0)&&(f[x]=yr(T,a)):C<=a&&(t.expiredLanes|=T),m&=~T}if(a=et,r=Be,r=Nn(t,t===a?r:0),o=t.callbackNode,r===0||t===a&&tt===2||t.cancelPendingCommit!==null)return o!==null&&o!==null&&_r(o),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||pa(t,r)){if(a=r&-r,a===t.callbackPriority)return a;switch(o!==null&&_r(o),Cu(r)){case 2:case 8:r=Ot;break;case 32:r=Cs;break;case 268435456:r=Ml;break;default:r=Cs}return o=Ly.bind(null,t),r=xi(r,o),t.callbackPriority=a,t.callbackNode=r,a}return o!==null&&o!==null&&_r(o),t.callbackPriority=2,t.callbackNode=null,2}function Ly(t,a){var r=t.callbackNode;if(Jr()&&t.callbackNode!==r)return null;var o=Be;return o=Nn(t,t===et?o:0),o===0?null:(by(t,o,a),My(t,hn()),t.callbackNode!=null&&t.callbackNode===r?Ly.bind(null,t):null)}function Vy(t,a){if(Jr())return null;by(t,a,!0)}function fA(t){bA(function(){(lt&6)!==0?xi(wt,t):t()})}function Bf(){return Xi===0&&(Xi=Pl()),Xi}function Py(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ls(""+t)}function Uy(t,a){var r=a.ownerDocument.createElement("input");return r.name=a.name,r.value=a.value,t.id&&r.setAttribute("form",t.id),a.parentNode.insertBefore(r,a),t=new FormData(t),r.parentNode.removeChild(r),t}function mA(t,a,r,o,f){if(a==="submit"&&r&&r.stateNode===f){var m=Py((f[Nt]||null).action),x=o.submitter;x&&(a=(a=x[Nt]||null)?Py(a.formAction):x.getAttribute("formAction"),a!==null&&(m=a,x=null));var T=new Sr("action","action",null,o,f);t.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Xi!==0){var C=x?Uy(f,x):new FormData(f);Qd(r,{pending:!0,data:C,method:f.method,action:m},null,C)}}else typeof m=="function"&&(T.preventDefault(),C=x?Uy(f,x):new FormData(f),Qd(r,{pending:!0,data:C,method:f.method,action:m},m,C))},currentTarget:f}]})}}for(var Hf=0;Hf<Ip.length;Hf++){var zf=Ip[Hf],gA=zf.toLowerCase(),pA=zf[0].toUpperCase()+zf.slice(1);Gn(gA,"on"+pA)}Gn(wp,"onAnimationEnd"),Gn(Np,"onAnimationIteration"),Gn(Rp,"onAnimationStart"),Gn("dblclick","onDoubleClick"),Gn("focusin","onFocus"),Gn("focusout","onBlur"),Gn(Db,"onTransitionRun"),Gn(Ob,"onTransitionStart"),Gn(Mb,"onTransitionCancel"),Gn(kp,"onTransitionEnd"),dn("onMouseEnter",["mouseout","mouseover"]),dn("onMouseLeave",["mouseout","mouseover"]),dn("onPointerEnter",["pointerout","pointerover"]),dn("onPointerLeave",["pointerout","pointerover"]),pn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pn("onBeforeInput",["compositionend","keypress","textInput","paste"]),pn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ko="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_A=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ko));function By(t,a){a=(a&4)!==0;for(var r=0;r<t.length;r++){var o=t[r],f=o.event;o=o.listeners;e:{var m=void 0;if(a)for(var x=o.length-1;0<=x;x--){var T=o[x],C=T.instance,B=T.currentTarget;if(T=T.listener,C!==m&&f.isPropagationStopped())break e;m=T,f.currentTarget=B;try{m(f)}catch(J){gc(J)}f.currentTarget=null,m=C}else for(x=0;x<o.length;x++){if(T=o[x],C=T.instance,B=T.currentTarget,T=T.listener,C!==m&&f.isPropagationStopped())break e;m=T,f.currentTarget=B;try{m(f)}catch(J){gc(J)}f.currentTarget=null,m=C}}}}function Le(t,a){var r=a[Ti];r===void 0&&(r=a[Ti]=new Set);var o=t+"__bubble";r.has(o)||(Hy(a,t,2,!1),r.add(o))}function qf(t,a,r){var o=0;a&&(o|=4),Hy(r,t,o,a)}var Cc="_reactListening"+Math.random().toString(36).slice(2);function Kf(t){if(!t[Cc]){t[Cc]=!0,Bl.forEach(function(r){r!=="selectionchange"&&(_A.has(r)||qf(r,!1,t),qf(r,!0,t))});var a=t.nodeType===9?t:t.ownerDocument;a===null||a[Cc]||(a[Cc]=!0,qf("selectionchange",!1,a))}}function Hy(t,a,r,o){switch(cv(a)){case 2:var f=qA;break;case 8:f=KA;break;default:f=sm}r=f.bind(null,a,r,t),f=void 0,!In||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(f=!0),o?f!==void 0?t.addEventListener(a,r,{capture:!0,passive:f}):t.addEventListener(a,r,!0):f!==void 0?t.addEventListener(a,r,{passive:f}):t.addEventListener(a,r,!1)}function Ff(t,a,r,o,f){var m=o;if((a&1)===0&&(a&2)===0&&o!==null)e:for(;;){if(o===null)return;var x=o.tag;if(x===3||x===4){var T=o.stateNode.containerInfo;if(T===f||T.nodeType===8&&T.parentNode===f)break;if(x===4)for(x=o.return;x!==null;){var C=x.tag;if((C===3||C===4)&&(C=x.stateNode.containerInfo,C===f||C.nodeType===8&&C.parentNode===f))return;x=x.return}for(;T!==null;){if(x=Fn(T),x===null)return;if(C=x.tag,C===5||C===6||C===26||C===27){o=m=x;continue e}T=T.parentNode}}o=o.return}Mu(function(){var B=m,J=Ar(r),ae=[];e:{var Y=Cp.get(t);if(Y!==void 0){var X=Sr,_e=t;switch(t){case"keypress":if(us(r)===0)break e;case"keydown":case"keyup":X=Ir;break;case"focusin":_e="focus",X=Rr;break;case"focusout":_e="blur",X=Rr;break;case"beforeblur":case"afterblur":X=Rr;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=jn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=pd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=qu;break;case wp:case Np:case Rp:X=kr;break;case kp:X=Fu;break;case"scroll":case"scrollend":X=Lu;break;case"wheel":X=jr;break;case"copy":case"cut":case"paste":X=Cr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Zl;break;case"toggle":case"beforetoggle":X=$u}var we=(a&4)!==0,ft=!we&&(t==="scroll"||t==="scrollend"),K=we?Y!==null?Y+"Capture":null:Y;we=[];for(var U=B,Q;U!==null;){var te=U;if(Q=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||Q===null||K===null||(te=Ni(U,K),te!=null&&we.push(Co(U,te,Q))),ft)break;U=U.return}0<we.length&&(Y=new X(Y,_e,null,r,J),ae.push({event:Y,listeners:we}))}}if((a&7)===0){e:{if(Y=t==="mouseover"||t==="pointerover",X=t==="mouseout"||t==="pointerout",Y&&r!==Cn&&(_e=r.relatedTarget||r.fromElement)&&(Fn(_e)||_e[Is]))break e;if((X||Y)&&(Y=J.window===J?J:(Y=J.ownerDocument)?Y.defaultView||Y.parentWindow:window,X?(_e=r.relatedTarget||r.toElement,X=B,_e=_e?Fn(_e):null,_e!==null&&(ft=pe(_e),we=_e.tag,_e!==ft||we!==5&&we!==27&&we!==6)&&(_e=null)):(X=null,_e=B),X!==_e)){if(we=jn,te="onMouseLeave",K="onMouseEnter",U="mouse",(t==="pointerout"||t==="pointerover")&&(we=Zl,te="onPointerLeave",K="onPointerEnter",U="pointer"),ft=X==null?Y:Ta(X),Q=_e==null?Y:Ta(_e),Y=new we(te,U+"leave",X,r,J),Y.target=ft,Y.relatedTarget=Q,te=null,Fn(J)===B&&(we=new we(K,U+"enter",_e,r,J),we.target=Q,we.relatedTarget=ft,te=we),ft=te,X&&_e)t:{for(we=X,K=_e,U=0,Q=we;Q;Q=tl(Q))U++;for(Q=0,te=K;te;te=tl(te))Q++;for(;0<U-Q;)we=tl(we),U--;for(;0<Q-U;)K=tl(K),Q--;for(;U--;){if(we===K||K!==null&&we===K.alternate)break t;we=tl(we),K=tl(K)}we=null}else we=null;X!==null&&zy(ae,Y,X,we,!1),_e!==null&&ft!==null&&zy(ae,ft,_e,we,!0)}}e:{if(Y=B?Ta(B):window,X=Y.nodeName&&Y.nodeName.toLowerCase(),X==="select"||X==="input"&&Y.type==="file")var fe=gp;else if(kt(Y))if(pp)fe=kb;else{fe=Nb;var je=wb}else X=Y.nodeName,!X||X.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?B&&Fl(B.elementType)&&(fe=gp):fe=Rb;if(fe&&(fe=fe(t,B))){Us(ae,fe,r,J);break e}je&&je(t,Y,B),t==="focusout"&&B&&Y.type==="number"&&B.memoizedProps.value!=null&&br(Y,"number",Y.value)}switch(je=B?Ta(B):window,t){case"focusin":(kt(je)||je.contentEditable==="true")&&(Dr=je,Ed=B,to=null);break;case"focusout":to=Ed=Dr=null;break;case"mousedown":Td=!0;break;case"contextmenu":case"mouseup":case"dragend":Td=!1,Ap(ae,r,J);break;case"selectionchange":if(jb)break;case"keydown":case"keyup":Ap(ae,r,J)}var ve;if(ds)e:{switch(t){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else Pe?W(t,r)&&(Ee="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Ee="onCompositionStart");Ee&&(v&&r.locale!=="ko"&&(Pe||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&Pe&&(ve=$l()):(os=J,Ra="value"in os?os.value:os.textContent,Pe=!0)),je=Ic(B,Ee),0<je.length&&(Ee=new Wl(Ee,t,null,r,J),ae.push({event:Ee,listeners:je}),ve?Ee.data=ve:(ve=oe(r),ve!==null&&(Ee.data=ve)))),(ve=y?Rt(t,r):Ue(t,r))&&(Ee=Ic(B,"onBeforeInput"),0<Ee.length&&(je=new Wl("onBeforeInput","beforeinput",null,r,J),ae.push({event:je,listeners:Ee}),je.data=ve)),mA(ae,t,B,r,J)}By(ae,a)})}function Co(t,a,r){return{instance:t,listener:a,currentTarget:r}}function Ic(t,a){for(var r=a+"Capture",o=[];t!==null;){var f=t,m=f.stateNode;f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=Ni(t,r),f!=null&&o.unshift(Co(t,f,m)),f=Ni(t,a),f!=null&&o.push(Co(t,f,m))),t=t.return}return o}function tl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function zy(t,a,r,o,f){for(var m=a._reactName,x=[];r!==null&&r!==o;){var T=r,C=T.alternate,B=T.stateNode;if(T=T.tag,C!==null&&C===o)break;T!==5&&T!==26&&T!==27||B===null||(C=B,f?(B=Ni(r,m),B!=null&&x.unshift(Co(r,B,C))):f||(B=Ni(r,m),B!=null&&x.push(Co(r,B,C)))),r=r.return}x.length!==0&&t.push({event:a,listeners:x})}var yA=/\r\n?/g,vA=/\u0000|\uFFFD/g;function qy(t){return(typeof t=="string"?t:""+t).replace(yA,`
`).replace(vA,"")}function Ky(t,a){return a=qy(a),qy(t)===a}function jc(){}function Ze(t,a,r,o,f,m){switch(r){case"children":typeof o=="string"?a==="body"||a==="textarea"&&o===""||kn(t,o):(typeof o=="number"||typeof o=="bigint")&&a!=="body"&&kn(t,""+o);break;case"className":Sa(t,"class",o);break;case"tabIndex":Sa(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Sa(t,r,o);break;case"style":Ou(t,o,m);break;case"data":if(a!=="object"){Sa(t,"data",o);break}case"src":case"href":if(o===""&&(a!=="a"||r!=="href")){t.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=ls(""+o),t.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(r==="formAction"?(a!=="input"&&Ze(t,a,"name",f.name,f,null),Ze(t,a,"formEncType",f.formEncType,f,null),Ze(t,a,"formMethod",f.formMethod,f,null),Ze(t,a,"formTarget",f.formTarget,f,null)):(Ze(t,a,"encType",f.encType,f,null),Ze(t,a,"method",f.method,f,null),Ze(t,a,"target",f.target,f,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=ls(""+o),t.setAttribute(r,o);break;case"onClick":o!=null&&(t.onclick=jc);break;case"onScroll":o!=null&&Le("scroll",t);break;case"onScrollEnd":o!=null&&Le("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(r=o.__html,r!=null){if(f.children!=null)throw Error(i(60));t.innerHTML=r}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}r=ls(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""+o):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":o===!0?t.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,o):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(r,o):t.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(r):t.setAttribute(r,o);break;case"popover":Le("beforetoggle",t),Le("toggle",t),Aa(t,"popover",o);break;case"xlinkActuate":Rn(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Rn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Rn(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Rn(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Rn(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Rn(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Rn(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Rn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Rn(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Aa(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=md.get(r)||r,Aa(t,r,o))}}function Gf(t,a,r,o,f,m){switch(r){case"style":Ou(t,o,m);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(r=o.__html,r!=null){if(f.children!=null)throw Error(i(60));t.innerHTML=r}}break;case"children":typeof o=="string"?kn(t,o):(typeof o=="number"||typeof o=="bigint")&&kn(t,""+o);break;case"onScroll":o!=null&&Le("scroll",t);break;case"onScrollEnd":o!=null&&Le("scrollend",t);break;case"onClick":o!=null&&(t.onclick=jc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Er.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(f=r.endsWith("Capture"),a=r.slice(2,f?r.length-7:void 0),m=t[Nt]||null,m=m!=null?m[r]:null,typeof m=="function"&&t.removeEventListener(a,m,f),typeof o=="function")){typeof m!="function"&&m!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(a,o,f);break e}r in t?t[r]=o:o===!0?t.setAttribute(r,""):Aa(t,r,o)}}}function Ft(t,a,r){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",t),Le("load",t);var o=!1,f=!1,m;for(m in r)if(r.hasOwnProperty(m)){var x=r[m];if(x!=null)switch(m){case"src":o=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Ze(t,a,m,x,r,null)}}f&&Ze(t,a,"srcSet",r.srcSet,r,null),o&&Ze(t,a,"src",r.src,r,null);return;case"input":Le("invalid",t);var T=m=x=f=null,C=null,B=null;for(o in r)if(r.hasOwnProperty(o)){var J=r[o];if(J!=null)switch(o){case"name":f=J;break;case"type":x=J;break;case"checked":C=J;break;case"defaultChecked":B=J;break;case"value":m=J;break;case"defaultValue":T=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,a));break;default:Ze(t,a,o,J,r,null)}}Si(t,m,T,C,B,x,f,!1),Ai(t);return;case"select":Le("invalid",t),o=x=m=null;for(f in r)if(r.hasOwnProperty(f)&&(T=r[f],T!=null))switch(f){case"value":m=T;break;case"defaultValue":x=T;break;case"multiple":o=T;default:Ze(t,a,f,T,r,null)}a=m,r=x,t.multiple=!!o,a!=null?qe(t,!!o,a,!1):r!=null&&qe(t,!!o,r,!0);return;case"textarea":Le("invalid",t),m=f=o=null;for(x in r)if(r.hasOwnProperty(x)&&(T=r[x],T!=null))switch(x){case"value":o=T;break;case"defaultValue":f=T;break;case"children":m=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(i(91));break;default:Ze(t,a,x,T,r,null)}Na(t,o,f,m),Ai(t);return;case"option":for(C in r)if(r.hasOwnProperty(C)&&(o=r[C],o!=null))switch(C){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Ze(t,a,C,o,r,null)}return;case"dialog":Le("cancel",t),Le("close",t);break;case"iframe":case"object":Le("load",t);break;case"video":case"audio":for(o=0;o<ko.length;o++)Le(ko[o],t);break;case"image":Le("error",t),Le("load",t);break;case"details":Le("toggle",t);break;case"embed":case"source":case"link":Le("error",t),Le("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in r)if(r.hasOwnProperty(B)&&(o=r[B],o!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Ze(t,a,B,o,r,null)}return;default:if(Fl(a)){for(J in r)r.hasOwnProperty(J)&&(o=r[J],o!==void 0&&Gf(t,a,J,o,r,void 0));return}}for(T in r)r.hasOwnProperty(T)&&(o=r[T],o!=null&&Ze(t,a,T,o,r,null))}function xA(t,a,r,o){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,x=null,T=null,C=null,B=null,J=null;for(X in r){var ae=r[X];if(r.hasOwnProperty(X)&&ae!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":C=ae;default:o.hasOwnProperty(X)||Ze(t,a,X,null,o,ae)}}for(var Y in o){var X=o[Y];if(ae=r[Y],o.hasOwnProperty(Y)&&(X!=null||ae!=null))switch(Y){case"type":m=X;break;case"name":f=X;break;case"checked":B=X;break;case"defaultChecked":J=X;break;case"value":x=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,a));break;default:X!==ae&&Ze(t,a,Y,X,o,ae)}}wa(t,x,T,C,B,J,m,f);return;case"select":X=x=T=Y=null;for(m in r)if(C=r[m],r.hasOwnProperty(m)&&C!=null)switch(m){case"value":break;case"multiple":X=C;default:o.hasOwnProperty(m)||Ze(t,a,m,null,o,C)}for(f in o)if(m=o[f],C=r[f],o.hasOwnProperty(f)&&(m!=null||C!=null))switch(f){case"value":Y=m;break;case"defaultValue":T=m;break;case"multiple":x=m;default:m!==C&&Ze(t,a,f,m,o,C)}a=T,r=x,o=X,Y!=null?qe(t,!!r,Y,!1):!!o!=!!r&&(a!=null?qe(t,!!r,a,!0):qe(t,!!r,r?[]:"",!1));return;case"textarea":X=Y=null;for(T in r)if(f=r[T],r.hasOwnProperty(T)&&f!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Ze(t,a,T,null,o,f)}for(x in o)if(f=o[x],m=r[x],o.hasOwnProperty(x)&&(f!=null||m!=null))switch(x){case"value":Y=f;break;case"defaultValue":X=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==m&&Ze(t,a,x,f,o,m)}wi(t,Y,X);return;case"option":for(var _e in r)if(Y=r[_e],r.hasOwnProperty(_e)&&Y!=null&&!o.hasOwnProperty(_e))switch(_e){case"selected":t.selected=!1;break;default:Ze(t,a,_e,null,o,Y)}for(C in o)if(Y=o[C],X=r[C],o.hasOwnProperty(C)&&Y!==X&&(Y!=null||X!=null))switch(C){case"selected":t.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:Ze(t,a,C,Y,o,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in r)Y=r[we],r.hasOwnProperty(we)&&Y!=null&&!o.hasOwnProperty(we)&&Ze(t,a,we,null,o,Y);for(B in o)if(Y=o[B],X=r[B],o.hasOwnProperty(B)&&Y!==X&&(Y!=null||X!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(i(137,a));break;default:Ze(t,a,B,Y,o,X)}return;default:if(Fl(a)){for(var ft in r)Y=r[ft],r.hasOwnProperty(ft)&&Y!==void 0&&!o.hasOwnProperty(ft)&&Gf(t,a,ft,void 0,o,Y);for(J in o)Y=o[J],X=r[J],!o.hasOwnProperty(J)||Y===X||Y===void 0&&X===void 0||Gf(t,a,J,Y,o,X);return}}for(var K in r)Y=r[K],r.hasOwnProperty(K)&&Y!=null&&!o.hasOwnProperty(K)&&Ze(t,a,K,null,o,Y);for(ae in o)Y=o[ae],X=r[ae],!o.hasOwnProperty(ae)||Y===X||Y==null&&X==null||Ze(t,a,ae,Y,o,X)}var $f=null,Qf=null;function Dc(t){return t.nodeType===9?t:t.ownerDocument}function Fy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Gy(t,a){if(t===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&a==="foreignObject"?0:t}function Yf(t,a){return t==="textarea"||t==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Wf=null;function EA(){var t=window.event;return t&&t.type==="popstate"?t===Wf?!1:(Wf=t,!0):(Wf=null,!1)}var $y=typeof setTimeout=="function"?setTimeout:void 0,TA=typeof clearTimeout=="function"?clearTimeout:void 0,Qy=typeof Promise=="function"?Promise:void 0,bA=typeof queueMicrotask=="function"?queueMicrotask:typeof Qy<"u"?function(t){return Qy.resolve(null).then(t).catch(AA)}:$y;function AA(t){setTimeout(function(){throw t})}function Xf(t,a){var r=a,o=0;do{var f=r.nextSibling;if(t.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(o===0){t.removeChild(f),Po(a);return}o--}else r!=="$"&&r!=="$?"&&r!=="$!"||o++;r=f}while(r);Po(a)}function Zf(t){var a=t.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var r=a;switch(a=a.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Zf(r),bi(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function SA(t,a,r,o){for(;t.nodeType===1;){var f=r;if(t.nodeName.toLowerCase()!==a.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Ea])switch(a){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==f.rel||t.getAttribute("href")!==(f.href==null?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(a==="input"&&t.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=Yn(t.nextSibling),t===null)break}return null}function wA(t,a,r){if(a==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Yn(t.nextSibling),t===null))return null;return t}function Yn(t){for(;t!=null;t=t.nextSibling){var a=t.nodeType;if(a===1||a===3)break;if(a===8){if(a=t.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return t}function Yy(t){t=t.previousSibling;for(var a=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(a===0)return t;a--}else r==="/$"&&a++}t=t.previousSibling}return null}function Wy(t,a,r){switch(a=Dc(r),t){case"html":if(t=a.documentElement,!t)throw Error(i(452));return t;case"head":if(t=a.head,!t)throw Error(i(453));return t;case"body":if(t=a.body,!t)throw Error(i(454));return t;default:throw Error(i(451))}}var zn=new Map,Xy=new Set;function Oc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var ea=ce.d;ce.d={f:NA,r:RA,D:kA,C:CA,L:IA,m:jA,X:OA,S:DA,M:MA};function NA(){var t=ea.f(),a=wc();return t||a}function RA(t){var a=js(t);a!==null&&a.tag===5&&a.type==="form"?A_(a):ea.r(t)}var nl=typeof document>"u"?null:document;function Zy(t,a,r){var o=nl;if(o&&typeof a=="string"&&a){var f=ct(a);f='link[rel="'+t+'"][href="'+f+'"]',typeof r=="string"&&(f+='[crossorigin="'+r+'"]'),Xy.has(f)||(Xy.add(f),t={rel:t,crossOrigin:r,href:a},o.querySelector(f)===null&&(a=o.createElement("link"),Ft(a,"link",t),it(a),o.head.appendChild(a)))}}function kA(t){ea.D(t),Zy("dns-prefetch",t,null)}function CA(t,a){ea.C(t,a),Zy("preconnect",t,a)}function IA(t,a,r){ea.L(t,a,r);var o=nl;if(o&&t&&a){var f='link[rel="preload"][as="'+ct(a)+'"]';a==="image"&&r&&r.imageSrcSet?(f+='[imagesrcset="'+ct(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(f+='[imagesizes="'+ct(r.imageSizes)+'"]')):f+='[href="'+ct(t)+'"]';var m=f;switch(a){case"style":m=sl(t);break;case"script":m=al(t)}zn.has(m)||(t=w({rel:"preload",href:a==="image"&&r&&r.imageSrcSet?void 0:t,as:a},r),zn.set(m,t),o.querySelector(f)!==null||a==="style"&&o.querySelector(Io(m))||a==="script"&&o.querySelector(jo(m))||(a=o.createElement("link"),Ft(a,"link",t),it(a),o.head.appendChild(a)))}}function jA(t,a){ea.m(t,a);var r=nl;if(r&&t){var o=a&&typeof a.as=="string"?a.as:"script",f='link[rel="modulepreload"][as="'+ct(o)+'"][href="'+ct(t)+'"]',m=f;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=al(t)}if(!zn.has(m)&&(t=w({rel:"modulepreload",href:t},a),zn.set(m,t),r.querySelector(f)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(jo(m)))return}o=r.createElement("link"),Ft(o,"link",t),it(o),r.head.appendChild(o)}}}function DA(t,a,r){ea.S(t,a,r);var o=nl;if(o&&t){var f=ba(o).hoistableStyles,m=sl(t);a=a||"default";var x=f.get(m);if(!x){var T={loading:0,preload:null};if(x=o.querySelector(Io(m)))T.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":a},r),(r=zn.get(m))&&Jf(t,r);var C=x=o.createElement("link");it(C),Ft(C,"link",t),C._p=new Promise(function(B,J){C.onload=B,C.onerror=J}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Mc(x,a,o)}x={type:"stylesheet",instance:x,count:1,state:T},f.set(m,x)}}}function OA(t,a){ea.X(t,a);var r=nl;if(r&&t){var o=ba(r).hoistableScripts,f=al(t),m=o.get(f);m||(m=r.querySelector(jo(f)),m||(t=w({src:t,async:!0},a),(a=zn.get(f))&&em(t,a),m=r.createElement("script"),it(m),Ft(m,"link",t),r.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(f,m))}}function MA(t,a){ea.M(t,a);var r=nl;if(r&&t){var o=ba(r).hoistableScripts,f=al(t),m=o.get(f);m||(m=r.querySelector(jo(f)),m||(t=w({src:t,async:!0,type:"module"},a),(a=zn.get(f))&&em(t,a),m=r.createElement("script"),it(m),Ft(m,"link",t),r.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(f,m))}}function Jy(t,a,r,o){var f=(f=wn.current)?Oc(f):null;if(!f)throw Error(i(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(a=sl(r.href),r=ba(f).hoistableStyles,o=r.get(a),o||(o={type:"style",instance:null,count:0,state:null},r.set(a,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=sl(r.href);var m=ba(f).hoistableStyles,x=m.get(t);if(x||(f=f.ownerDocument||f,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,x),(m=f.querySelector(Io(t)))&&!m._p&&(x.instance=m,x.state.loading=5),zn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},zn.set(t,r),m||LA(f,t,r,x.state))),a&&o===null)throw Error(i(528,""));return x}if(a&&o!==null)throw Error(i(529,""));return null;case"script":return a=r.async,r=r.src,typeof r=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=al(r),r=ba(f).hoistableScripts,o=r.get(a),o||(o={type:"script",instance:null,count:0,state:null},r.set(a,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,t))}}function sl(t){return'href="'+ct(t)+'"'}function Io(t){return'link[rel="stylesheet"]['+t+"]"}function ev(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function LA(t,a,r,o){t.querySelector('link[rel="preload"][as="style"]['+a+"]")?o.loading=1:(a=t.createElement("link"),o.preload=a,a.addEventListener("load",function(){return o.loading|=1}),a.addEventListener("error",function(){return o.loading|=2}),Ft(a,"link",r),it(a),t.head.appendChild(a))}function al(t){return'[src="'+ct(t)+'"]'}function jo(t){return"script[async]"+t}function tv(t,a,r){if(a.count++,a.instance===null)switch(a.type){case"style":var o=t.querySelector('style[data-href~="'+ct(r.href)+'"]');if(o)return a.instance=o,it(o),o;var f=w({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),it(o),Ft(o,"style",f),Mc(o,r.precedence,t),a.instance=o;case"stylesheet":f=sl(r.href);var m=t.querySelector(Io(f));if(m)return a.state.loading|=4,a.instance=m,it(m),m;o=ev(r),(f=zn.get(f))&&Jf(o,f),m=(t.ownerDocument||t).createElement("link"),it(m);var x=m;return x._p=new Promise(function(T,C){x.onload=T,x.onerror=C}),Ft(m,"link",o),a.state.loading|=4,Mc(m,r.precedence,t),a.instance=m;case"script":return m=al(r.src),(f=t.querySelector(jo(m)))?(a.instance=f,it(f),f):(o=r,(f=zn.get(m))&&(o=w({},r),em(o,f)),t=t.ownerDocument||t,f=t.createElement("script"),it(f),Ft(f,"link",o),t.head.appendChild(f),a.instance=f);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(o=a.instance,a.state.loading|=4,Mc(o,r.precedence,t));return a.instance}function Mc(t,a,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=o.length?o[o.length-1]:null,m=f,x=0;x<o.length;x++){var T=o[x];if(T.dataset.precedence===a)m=T;else if(m!==f)break}m?m.parentNode.insertBefore(t,m.nextSibling):(a=r.nodeType===9?r.head:r,a.insertBefore(t,a.firstChild))}function Jf(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.title==null&&(t.title=a.title)}function em(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.integrity==null&&(t.integrity=a.integrity)}var Lc=null;function nv(t,a,r){if(Lc===null){var o=new Map,f=Lc=new Map;f.set(r,o)}else f=Lc,o=f.get(r),o||(o=new Map,f.set(r,o));if(o.has(t))return o;for(o.set(t,null),r=r.getElementsByTagName(t),f=0;f<r.length;f++){var m=r[f];if(!(m[Ea]||m[Mt]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var x=m.getAttribute(a)||"";x=t+x;var T=o.get(x);T?T.push(m):o.set(x,[m])}}return o}function sv(t,a,r){t=t.ownerDocument||t,t.head.insertBefore(r,a==="title"?t.querySelector("head > title"):null)}function VA(t,a,r){if(r===1||a.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return t=a.disabled,typeof a.precedence=="string"&&t==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function av(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Do=null;function PA(){}function UA(t,a,r){if(Do===null)throw Error(i(475));var o=Do;if(a.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=sl(r.href),m=t.querySelector(Io(f));if(m){t=m._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(o.count++,o=Vc.bind(o),t.then(o,o)),a.state.loading|=4,a.instance=m,it(m);return}m=t.ownerDocument||t,r=ev(r),(f=zn.get(f))&&Jf(r,f),m=m.createElement("link"),it(m);var x=m;x._p=new Promise(function(T,C){x.onload=T,x.onerror=C}),Ft(m,"link",r),a.instance=m}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(o.count++,a=Vc.bind(o),t.addEventListener("load",a),t.addEventListener("error",a))}}function BA(){if(Do===null)throw Error(i(475));var t=Do;return t.stylesheets&&t.count===0&&tm(t,t.stylesheets),0<t.count?function(a){var r=setTimeout(function(){if(t.stylesheets&&tm(t,t.stylesheets),t.unsuspend){var o=t.unsuspend;t.unsuspend=null,o()}},6e4);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(r)}}:null}function Vc(){if(this.count--,this.count===0){if(this.stylesheets)tm(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Pc=null;function tm(t,a){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Pc=new Map,a.forEach(HA,t),Pc=null,Vc.call(t))}function HA(t,a){if(!(a.state.loading&4)){var r=Pc.get(t);if(r)var o=r.get(null);else{r=new Map,Pc.set(t,r);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var x=f[m];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(r.set(x.dataset.precedence,x),o=x)}o&&r.set(null,o)}f=a.instance,x=f.getAttribute("data-precedence"),m=r.get(x)||o,m===o&&r.set(null,f),r.set(x,f),this.count++,o=Vc.bind(this),f.addEventListener("load",o),f.addEventListener("error",o),m?m.parentNode.insertBefore(f,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),a.state.loading|=4}}var Oo={$$typeof:k,Provider:null,Consumer:null,_currentValue:Re,_currentValue2:Re,_threadCount:0};function zA(t,a,r,o,f,m,x,T){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vr(0),this.hiddenUpdates=vr(null),this.identifierPrefix=o,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function iv(t,a,r,o,f,m,x,T,C,B,J,ae){return t=new zA(t,a,r,x,T,C,B,ae),a=1,m===!0&&(a|=24),m=Bn(3,null,null,a),t.current=m,m.stateNode=t,a=jd(),a.refCount++,t.pooledCache=a,a.refCount++,m.memoizedState={element:o,isDehydrated:r,cache:a},ff(m),t}function rv(t){return t?(t=Lr,t):Lr}function lv(t,a,r,o,f,m){f=rv(f),o.context===null?o.context=f:o.pendingContext=f,o=La(a),o.payload={element:r},m=m===void 0?null:m,m!==null&&(o.callback=m),r=Va(t,o,a),r!==null&&(on(r,t,a),_o(r,t,a))}function ov(t,a){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<a?r:a}}function nm(t,a){ov(t,a),(t=t.alternate)&&ov(t,a)}function uv(t){if(t.tag===13){var a=ka(t,67108864);a!==null&&on(a,t,67108864),nm(t,67108864)}}var Uc=!0;function qA(t,a,r,o){var f=N.T;N.T=null;var m=ce.p;try{ce.p=2,sm(t,a,r,o)}finally{ce.p=m,N.T=f}}function KA(t,a,r,o){var f=N.T;N.T=null;var m=ce.p;try{ce.p=8,sm(t,a,r,o)}finally{ce.p=m,N.T=f}}function sm(t,a,r,o){if(Uc){var f=am(o);if(f===null)Ff(t,a,o,Bc,r),hv(t,o);else if(GA(f,t,a,r,o))o.stopPropagation();else if(hv(t,o),a&4&&-1<FA.indexOf(t)){for(;f!==null;){var m=js(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var x=Kn(m.pendingLanes);if(x!==0){var T=m;for(T.pendingLanes|=2,T.entangledLanes|=2;x;){var C=1<<31-sn(x);T.entanglements[1]|=C,x&=~C}ys(m),(lt&6)===0&&(bc=hn()+500,Ro(0))}}break;case 13:T=ka(m,2),T!==null&&on(T,m,2),wc(),nm(m,2)}if(m=am(o),m===null&&Ff(t,a,o,Bc,r),m===f)break;f=m}f!==null&&o.stopPropagation()}else Ff(t,a,o,null,r)}}function am(t){return t=Ar(t),im(t)}var Bc=null;function im(t){if(Bc=null,t=Fn(t),t!==null){var a=pe(t);if(a===null)t=null;else{var r=a.tag;if(r===13){if(t=me(a),t!==null)return t;t=null}else if(r===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;t=null}else a!==t&&(t=null)}}return Bc=t,null}function cv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Su()){case wt:return 2;case Ot:return 8;case Cs:case wu:return 32;case Ml:return 268435456;default:return 32}default:return 32}}var rm=!1,Ka=null,Fa=null,Ga=null,Mo=new Map,Lo=new Map,$a=[],FA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function hv(t,a){switch(t){case"focusin":case"focusout":Ka=null;break;case"dragenter":case"dragleave":Fa=null;break;case"mouseover":case"mouseout":Ga=null;break;case"pointerover":case"pointerout":Mo.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lo.delete(a.pointerId)}}function Vo(t,a,r,o,f,m){return t===null||t.nativeEvent!==m?(t={blockedOn:a,domEventName:r,eventSystemFlags:o,nativeEvent:m,targetContainers:[f]},a!==null&&(a=js(a),a!==null&&uv(a)),t):(t.eventSystemFlags|=o,a=t.targetContainers,f!==null&&a.indexOf(f)===-1&&a.push(f),t)}function GA(t,a,r,o,f){switch(a){case"focusin":return Ka=Vo(Ka,t,a,r,o,f),!0;case"dragenter":return Fa=Vo(Fa,t,a,r,o,f),!0;case"mouseover":return Ga=Vo(Ga,t,a,r,o,f),!0;case"pointerover":var m=f.pointerId;return Mo.set(m,Vo(Mo.get(m)||null,t,a,r,o,f)),!0;case"gotpointercapture":return m=f.pointerId,Lo.set(m,Vo(Lo.get(m)||null,t,a,r,o,f)),!0}return!1}function dv(t){var a=Fn(t.target);if(a!==null){var r=pe(a);if(r!==null){if(a=r.tag,a===13){if(a=me(r),a!==null){t.blockedOn=a,xa(t.priority,function(){if(r.tag===13){var o=Tn(),f=ka(r,o);f!==null&&on(f,r,o),nm(r,o)}});return}}else if(a===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Hc(t){if(t.blockedOn!==null)return!1;for(var a=t.targetContainers;0<a.length;){var r=am(t.nativeEvent);if(r===null){r=t.nativeEvent;var o=new r.constructor(r.type,r);Cn=o,r.target.dispatchEvent(o),Cn=null}else return a=js(r),a!==null&&uv(a),t.blockedOn=r,!1;a.shift()}return!0}function fv(t,a,r){Hc(t)&&r.delete(a)}function $A(){rm=!1,Ka!==null&&Hc(Ka)&&(Ka=null),Fa!==null&&Hc(Fa)&&(Fa=null),Ga!==null&&Hc(Ga)&&(Ga=null),Mo.forEach(fv),Lo.forEach(fv)}function zc(t,a){t.blockedOn===a&&(t.blockedOn=null,rm||(rm=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,$A)))}var qc=null;function mv(t){qc!==t&&(qc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){qc===t&&(qc=null);for(var a=0;a<t.length;a+=3){var r=t[a],o=t[a+1],f=t[a+2];if(typeof o!="function"){if(im(o||r)===null)continue;break}var m=js(r);m!==null&&(t.splice(a,3),a-=3,Qd(m,{pending:!0,data:f,method:r.method,action:o},o,f))}}))}function Po(t){function a(C){return zc(C,t)}Ka!==null&&zc(Ka,t),Fa!==null&&zc(Fa,t),Ga!==null&&zc(Ga,t),Mo.forEach(a),Lo.forEach(a);for(var r=0;r<$a.length;r++){var o=$a[r];o.blockedOn===t&&(o.blockedOn=null)}for(;0<$a.length&&(r=$a[0],r.blockedOn===null);)dv(r),r.blockedOn===null&&$a.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var f=r[o],m=r[o+1],x=f[Nt]||null;if(typeof m=="function")x||mv(r);else if(x){var T=null;if(m&&m.hasAttribute("formAction")){if(f=m,x=m[Nt]||null)T=x.formAction;else if(im(f)!==null)continue}else T=x.action;typeof T=="function"?r[o+1]=T:(r.splice(o,3),o-=3),mv(r)}}}function lm(t){this._internalRoot=t}Kc.prototype.render=lm.prototype.render=function(t){var a=this._internalRoot;if(a===null)throw Error(i(409));var r=a.current,o=Tn();lv(r,o,t,a,null,null)},Kc.prototype.unmount=lm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var a=t.containerInfo;t.tag===0&&Jr(),lv(t.current,2,null,t,null,null),wc(),a[Is]=null}};function Kc(t){this._internalRoot=t}Kc.prototype.unstable_scheduleHydration=function(t){if(t){var a=Iu();t={blockedOn:null,target:t,priority:a};for(var r=0;r<$a.length&&a!==0&&a<$a[r].priority;r++);$a.splice(r,0,t),r===0&&dv(t)}};var gv=e.version;if(gv!=="19.0.0")throw Error(i(527,gv,"19.0.0"));ce.findDOMNode=function(t){var a=t._reactInternals;if(a===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=ie(a),t=t!==null?ge(t):null,t=t===null?null:t.stateNode,t};var QA={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:N,findFiberByHostInstance:Fn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fc.isDisabled&&Fc.supportsFiber)try{ma=Fc.inject(QA),Yt=Fc}catch{}}return Bo.createRoot=function(t,a){if(!l(t))throw Error(i(299));var r=!1,o="",f=j_,m=D_,x=O_,T=null;return a!=null&&(a.unstable_strictMode===!0&&(r=!0),a.identifierPrefix!==void 0&&(o=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(m=a.onCaughtError),a.onRecoverableError!==void 0&&(x=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(T=a.unstable_transitionCallbacks)),a=iv(t,1,!1,null,null,r,o,f,m,x,T,null),t[Is]=a.current,Kf(t.nodeType===8?t.parentNode:t),new lm(a)},Bo.hydrateRoot=function(t,a,r){if(!l(t))throw Error(i(299));var o=!1,f="",m=j_,x=D_,T=O_,C=null,B=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(f=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(x=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(C=r.unstable_transitionCallbacks),r.formState!==void 0&&(B=r.formState)),a=iv(t,1,!0,a,r??null,o,f,m,x,T,C,B),a.context=rv(null),r=a.current,o=Tn(),f=La(o),f.callback=null,Va(r,f,o),a.current.lanes=o,pt(a,o),ys(a),t[Is]=a.current,Kf(t),new Kc(a)},Bo.version="19.0.0",Bo}var Sv;function iS(){if(Sv)return cm.exports;Sv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),cm.exports=aS(),cm.exports}var rS=iS();const lS=f0(rS);var Ho={},wv;function oS(){if(wv)return Ho;wv=1,Object.defineProperty(Ho,"__esModule",{value:!0}),Ho.parse=d,Ho.serialize=_;const s=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,u=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function d(S,k){const D=new u,z=S.length;if(z<2)return D;const P=(k==null?void 0:k.decode)||E;let F=0;do{const H=S.indexOf("=",F);if(H===-1)break;const $=S.indexOf(";",F),ee=$===-1?z:$;if(H>ee){F=S.lastIndexOf(";",H-1)+1;continue}const Z=g(S,F,H),le=p(S,H,Z),O=S.slice(Z,le);if(D[O]===void 0){let R=g(S,H+1,ee),N=p(S,ee,R);const w=P(S.slice(R,N));D[O]=w}F=ee+1}while(F<z);return D}function g(S,k,D){do{const z=S.charCodeAt(k);if(z!==32&&z!==9)return k}while(++k<D);return D}function p(S,k,D){for(;k>D;){const z=S.charCodeAt(--k);if(z!==32&&z!==9)return k+1}return D}function _(S,k,D){const z=(D==null?void 0:D.encode)||encodeURIComponent;if(!s.test(S))throw new TypeError(`argument name is invalid: ${S}`);const P=z(k);if(!e.test(P))throw new TypeError(`argument val is invalid: ${k}`);let F=S+"="+P;if(!D)return F;if(D.maxAge!==void 0){if(!Number.isInteger(D.maxAge))throw new TypeError(`option maxAge is invalid: ${D.maxAge}`);F+="; Max-Age="+D.maxAge}if(D.domain){if(!n.test(D.domain))throw new TypeError(`option domain is invalid: ${D.domain}`);F+="; Domain="+D.domain}if(D.path){if(!i.test(D.path))throw new TypeError(`option path is invalid: ${D.path}`);F+="; Path="+D.path}if(D.expires){if(!b(D.expires)||!Number.isFinite(D.expires.valueOf()))throw new TypeError(`option expires is invalid: ${D.expires}`);F+="; Expires="+D.expires.toUTCString()}if(D.httpOnly&&(F+="; HttpOnly"),D.secure&&(F+="; Secure"),D.partitioned&&(F+="; Partitioned"),D.priority)switch(typeof D.priority=="string"?D.priority.toLowerCase():void 0){case"low":F+="; Priority=Low";break;case"medium":F+="; Priority=Medium";break;case"high":F+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${D.priority}`)}if(D.sameSite)switch(typeof D.sameSite=="string"?D.sameSite.toLowerCase():D.sameSite){case!0:case"strict":F+="; SameSite=Strict";break;case"lax":F+="; SameSite=Lax";break;case"none":F+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${D.sameSite}`)}return F}function E(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function b(S){return l.call(S)==="[object Date]"}return Ho}oS();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Nv="popstate";function uS(s={}){function e(i,l){let{pathname:u,search:d,hash:g}=i.location;return km("",{pathname:u,search:d,hash:g},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(i,l){return typeof l=="string"?l:nu(l)}return hS(e,n,null,s)}function st(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function Xn(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function cS(){return Math.random().toString(36).substring(2,10)}function Rv(s,e){return{usr:s.state,key:s.key,idx:e}}function km(s,e,n=null,i){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?bl(e):e,state:n,key:e&&e.key||i||cS()}}function nu({pathname:s="/",search:e="",hash:n=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(s+=n.charAt(0)==="#"?n:"#"+n),s}function bl(s){let e={};if(s){let n=s.indexOf("#");n>=0&&(e.hash=s.substring(n),s=s.substring(0,n));let i=s.indexOf("?");i>=0&&(e.search=s.substring(i),s=s.substring(0,i)),s&&(e.pathname=s)}return e}function hS(s,e,n,i={}){let{window:l=document.defaultView,v5Compat:u=!1}=i,d=l.history,g="POP",p=null,_=E();_==null&&(_=0,d.replaceState({...d.state,idx:_},""));function E(){return(d.state||{idx:null}).idx}function b(){g="POP";let P=E(),F=P==null?null:P-_;_=P,p&&p({action:g,location:z.location,delta:F})}function S(P,F){g="PUSH";let H=km(z.location,P,F);_=E()+1;let $=Rv(H,_),ee=z.createHref(H);try{d.pushState($,"",ee)}catch(Z){if(Z instanceof DOMException&&Z.name==="DataCloneError")throw Z;l.location.assign(ee)}u&&p&&p({action:g,location:z.location,delta:1})}function k(P,F){g="REPLACE";let H=km(z.location,P,F);_=E();let $=Rv(H,_),ee=z.createHref(H);d.replaceState($,"",ee),u&&p&&p({action:g,location:z.location,delta:0})}function D(P){let F=l.location.origin!=="null"?l.location.origin:l.location.href,H=typeof P=="string"?P:nu(P);return H=H.replace(/ $/,"%20"),st(F,`No window.location.(origin|href) available to create URL for href: ${H}`),new URL(H,F)}let z={get action(){return g},get location(){return s(l,d)},listen(P){if(p)throw new Error("A history only accepts one active listener");return l.addEventListener(Nv,b),p=P,()=>{l.removeEventListener(Nv,b),p=null}},createHref(P){return e(l,P)},createURL:D,encodeLocation(P){let F=D(P);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:S,replace:k,go(P){return d.go(P)}};return z}function m0(s,e,n="/"){return dS(s,e,n,!1)}function dS(s,e,n,i){let l=typeof e=="string"?bl(e):e,u=ri(l.pathname||"/",n);if(u==null)return null;let d=g0(s);fS(d);let g=null;for(let p=0;g==null&&p<d.length;++p){let _=AS(u);g=TS(d[p],_,i)}return g}function g0(s,e=[],n=[],i=""){let l=(u,d,g)=>{let p={relativePath:g===void 0?u.path||"":g,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};p.relativePath.startsWith("/")&&(st(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let _=aa([i,p.relativePath]),E=n.concat(p);u.children&&u.children.length>0&&(st(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),g0(u.children,e,E,_)),!(u.path==null&&!u.index)&&e.push({path:_,score:xS(_,u.index),routesMeta:E})};return s.forEach((u,d)=>{var g;if(u.path===""||!((g=u.path)!=null&&g.includes("?")))l(u,d);else for(let p of p0(u.path))l(u,d,p)}),e}function p0(s){let e=s.split("/");if(e.length===0)return[];let[n,...i]=e,l=n.endsWith("?"),u=n.replace(/\?$/,"");if(i.length===0)return l?[u,""]:[u];let d=p0(i.join("/")),g=[];return g.push(...d.map(p=>p===""?u:[u,p].join("/"))),l&&g.push(...d),g.map(p=>s.startsWith("/")&&p===""?"/":p)}function fS(s){s.sort((e,n)=>e.score!==n.score?n.score-e.score:ES(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var mS=/^:[\w-]+$/,gS=3,pS=2,_S=1,yS=10,vS=-2,kv=s=>s==="*";function xS(s,e){let n=s.split("/"),i=n.length;return n.some(kv)&&(i+=vS),e&&(i+=pS),n.filter(l=>!kv(l)).reduce((l,u)=>l+(mS.test(u)?gS:u===""?_S:yS),i)}function ES(s,e){return s.length===e.length&&s.slice(0,-1).every((i,l)=>i===e[l])?s[s.length-1]-e[e.length-1]:0}function TS(s,e,n=!1){let{routesMeta:i}=s,l={},u="/",d=[];for(let g=0;g<i.length;++g){let p=i[g],_=g===i.length-1,E=u==="/"?e:e.slice(u.length)||"/",b=ph({path:p.relativePath,caseSensitive:p.caseSensitive,end:_},E),S=p.route;if(!b&&_&&n&&!i[i.length-1].route.index&&(b=ph({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!b)return null;Object.assign(l,b.params),d.push({params:l,pathname:aa([u,b.pathname]),pathnameBase:RS(aa([u,b.pathnameBase])),route:S}),b.pathnameBase!=="/"&&(u=aa([u,b.pathnameBase]))}return d}function ph(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[n,i]=bS(s.path,s.caseSensitive,s.end),l=e.match(n);if(!l)return null;let u=l[0],d=u.replace(/(.)\/+$/,"$1"),g=l.slice(1);return{params:i.reduce((_,{paramName:E,isOptional:b},S)=>{if(E==="*"){let D=g[S]||"";d=u.slice(0,u.length-D.length).replace(/(.)\/+$/,"$1")}const k=g[S];return b&&!k?_[E]=void 0:_[E]=(k||"").replace(/%2F/g,"/"),_},{}),pathname:u,pathnameBase:d,pattern:s}}function bS(s,e=!1,n=!0){Xn(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let i=[],l="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,g,p)=>(i.push({paramName:g,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(i.push({paramName:"*"}),l+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":s!==""&&s!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),i]}function AS(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Xn(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function ri(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=s.charAt(n);return i&&i!=="/"?null:s.slice(n)||"/"}function SS(s,e="/"){let{pathname:n,search:i="",hash:l=""}=typeof s=="string"?bl(s):s;return{pathname:n?n.startsWith("/")?n:wS(n,e):e,search:kS(i),hash:CS(l)}}function wS(s,e){let n=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function mm(s,e,n,i){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function NS(s){return s.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function rg(s){let e=NS(s);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function lg(s,e,n,i=!1){let l;typeof s=="string"?l=bl(s):(l={...s},st(!l.pathname||!l.pathname.includes("?"),mm("?","pathname","search",l)),st(!l.pathname||!l.pathname.includes("#"),mm("#","pathname","hash",l)),st(!l.search||!l.search.includes("#"),mm("#","search","hash",l)));let u=s===""||l.pathname==="",d=u?"/":l.pathname,g;if(d==null)g=n;else{let b=e.length-1;if(!i&&d.startsWith("..")){let S=d.split("/");for(;S[0]==="..";)S.shift(),b-=1;l.pathname=S.join("/")}g=b>=0?e[b]:"/"}let p=SS(l,g),_=d&&d!=="/"&&d.endsWith("/"),E=(u||d===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(_||E)&&(p.pathname+="/"),p}var aa=s=>s.join("/").replace(/\/\/+/g,"/"),RS=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),kS=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,CS=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function IS(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var _0=["POST","PUT","PATCH","DELETE"];new Set(_0);var jS=["GET",..._0];new Set(jS);var Al=L.createContext(null);Al.displayName="DataRouter";var Mh=L.createContext(null);Mh.displayName="DataRouterState";var y0=L.createContext({isTransitioning:!1});y0.displayName="ViewTransition";var DS=L.createContext(new Map);DS.displayName="Fetchers";var OS=L.createContext(null);OS.displayName="Await";var ts=L.createContext(null);ts.displayName="Navigation";var du=L.createContext(null);du.displayName="Location";var ns=L.createContext({outlet:null,matches:[],isDataRoute:!1});ns.displayName="Route";var og=L.createContext(null);og.displayName="RouteError";function MS(s,{relative:e}={}){st(Sl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=L.useContext(ts),{hash:l,pathname:u,search:d}=fu(s,{relative:e}),g=u;return n!=="/"&&(g=u==="/"?n:aa([n,u])),i.createHref({pathname:g,search:d,hash:l})}function Sl(){return L.useContext(du)!=null}function gi(){return st(Sl(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(du).location}var v0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function x0(s){L.useContext(ts).static||L.useLayoutEffect(s)}function wl(){let{isDataRoute:s}=L.useContext(ns);return s?YS():LS()}function LS(){st(Sl(),"useNavigate() may be used only in the context of a <Router> component.");let s=L.useContext(Al),{basename:e,navigator:n}=L.useContext(ts),{matches:i}=L.useContext(ns),{pathname:l}=gi(),u=JSON.stringify(rg(i)),d=L.useRef(!1);return x0(()=>{d.current=!0}),L.useCallback((p,_={})=>{if(Xn(d.current,v0),!d.current)return;if(typeof p=="number"){n.go(p);return}let E=lg(p,JSON.parse(u),l,_.relative==="path");s==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:aa([e,E.pathname])),(_.replace?n.replace:n.push)(E,_.state,_)},[e,n,u,l,s])}L.createContext(null);function VS(){let{matches:s}=L.useContext(ns),e=s[s.length-1];return e?e.params:{}}function fu(s,{relative:e}={}){let{matches:n}=L.useContext(ns),{pathname:i}=gi(),l=JSON.stringify(rg(n));return L.useMemo(()=>lg(s,JSON.parse(l),i,e==="path"),[s,l,i,e])}function PS(s,e){return E0(s,e)}function E0(s,e,n,i){var H;st(Sl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l,static:u}=L.useContext(ts),{matches:d}=L.useContext(ns),g=d[d.length-1],p=g?g.params:{},_=g?g.pathname:"/",E=g?g.pathnameBase:"/",b=g&&g.route;{let $=b&&b.path||"";T0(_,!b||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${_}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let S=gi(),k;if(e){let $=typeof e=="string"?bl(e):e;st(E==="/"||((H=$.pathname)==null?void 0:H.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${$.pathname}" was given in the \`location\` prop.`),k=$}else k=S;let D=k.pathname||"/",z=D;if(E!=="/"){let $=E.replace(/^\//,"").split("/");z="/"+D.replace(/^\//,"").split("/").slice($.length).join("/")}let P=!u&&n&&n.matches&&n.matches.length>0?n.matches:m0(s,{pathname:z});Xn(b||P!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),Xn(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=qS(P&&P.map($=>Object.assign({},$,{params:Object.assign({},p,$.params),pathname:aa([E,l.encodeLocation?l.encodeLocation($.pathname).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?E:aa([E,l.encodeLocation?l.encodeLocation($.pathnameBase).pathname:$.pathnameBase])})),d,n,i);return e&&F?L.createElement(du.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},F):F}function US(){let s=QS(),e=IS(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),n=s instanceof Error?s.stack:null,i="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:i},u={padding:"2px 4px",backgroundColor:i},d=null;return console.error("Error handled by React Router default ErrorBoundary:",s),d=L.createElement(L.Fragment,null,L.createElement("p",null,"💿 Hey developer 👋"),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:u},"ErrorBoundary")," or"," ",L.createElement("code",{style:u},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),n?L.createElement("pre",{style:l},n):null,d)}var BS=L.createElement(US,null),HS=class extends L.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){console.error("React Router caught the following error during render",s,e)}render(){return this.state.error!==void 0?L.createElement(ns.Provider,{value:this.props.routeContext},L.createElement(og.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function zS({routeContext:s,match:e,children:n}){let i=L.useContext(Al);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(ns.Provider,{value:s},n)}function qS(s,e=[],n=null,i=null){if(s==null){if(!n)return null;if(n.errors)s=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)s=n.matches;else return null}let l=s,u=n==null?void 0:n.errors;if(u!=null){let p=l.findIndex(_=>_.route.id&&(u==null?void 0:u[_.route.id])!==void 0);st(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,p+1))}let d=!1,g=-1;if(n)for(let p=0;p<l.length;p++){let _=l[p];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(g=p),_.route.id){let{loaderData:E,errors:b}=n,S=_.route.loader&&!E.hasOwnProperty(_.route.id)&&(!b||b[_.route.id]===void 0);if(_.route.lazy||S){d=!0,g>=0?l=l.slice(0,g+1):l=[l[0]];break}}}return l.reduceRight((p,_,E)=>{let b,S=!1,k=null,D=null;n&&(b=u&&_.route.id?u[_.route.id]:void 0,k=_.route.errorElement||BS,d&&(g<0&&E===0?(T0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,D=null):g===E&&(S=!0,D=_.route.hydrateFallbackElement||null)));let z=e.concat(l.slice(0,E+1)),P=()=>{let F;return b?F=k:S?F=D:_.route.Component?F=L.createElement(_.route.Component,null):_.route.element?F=_.route.element:F=p,L.createElement(zS,{match:_,routeContext:{outlet:p,matches:z,isDataRoute:n!=null},children:F})};return n&&(_.route.ErrorBoundary||_.route.errorElement||E===0)?L.createElement(HS,{location:n.location,revalidation:n.revalidation,component:k,error:b,children:P(),routeContext:{outlet:null,matches:z,isDataRoute:!0}}):P()},null)}function ug(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function KS(s){let e=L.useContext(Al);return st(e,ug(s)),e}function FS(s){let e=L.useContext(Mh);return st(e,ug(s)),e}function GS(s){let e=L.useContext(ns);return st(e,ug(s)),e}function cg(s){let e=GS(s),n=e.matches[e.matches.length-1];return st(n.route.id,`${s} can only be used on routes that contain a unique "id"`),n.route.id}function $S(){return cg("useRouteId")}function QS(){var i;let s=L.useContext(og),e=FS("useRouteError"),n=cg("useRouteError");return s!==void 0?s:(i=e.errors)==null?void 0:i[n]}function YS(){let{router:s}=KS("useNavigate"),e=cg("useNavigate"),n=L.useRef(!1);return x0(()=>{n.current=!0}),L.useCallback(async(l,u={})=>{Xn(n.current,v0),n.current&&(typeof l=="number"?s.navigate(l):await s.navigate(l,{fromRouteId:e,...u}))},[s,e])}var Cv={};function T0(s,e,n){!e&&!Cv[s]&&(Cv[s]=!0,Xn(!1,n))}L.memo(WS);function WS({routes:s,future:e,state:n}){return E0(s,void 0,n,e)}function Iv({to:s,replace:e,state:n,relative:i}){st(Sl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=L.useContext(ts);Xn(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=L.useContext(ns),{pathname:d}=gi(),g=wl(),p=lg(s,rg(u),d,i==="path"),_=JSON.stringify(p);return L.useEffect(()=>{g(JSON.parse(_),{replace:e,state:n,relative:i})},[g,_,i,e,n]),null}function bt(s){st(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function XS({basename:s="/",children:e=null,location:n,navigationType:i="POP",navigator:l,static:u=!1}){st(!Sl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=s.replace(/^\/*/,"/"),g=L.useMemo(()=>({basename:d,navigator:l,static:u,future:{}}),[d,l,u]);typeof n=="string"&&(n=bl(n));let{pathname:p="/",search:_="",hash:E="",state:b=null,key:S="default"}=n,k=L.useMemo(()=>{let D=ri(p,d);return D==null?null:{location:{pathname:D,search:_,hash:E,state:b,key:S},navigationType:i}},[d,p,_,E,b,S,i]);return Xn(k!=null,`<Router basename="${d}"> is not able to match the URL "${p}${_}${E}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:L.createElement(ts.Provider,{value:g},L.createElement(du.Provider,{children:e,value:k}))}function ZS({children:s,location:e}){return PS(Cm(s),e)}function Cm(s,e=[]){let n=[];return L.Children.forEach(s,(i,l)=>{if(!L.isValidElement(i))return;let u=[...e,l];if(i.type===L.Fragment){n.push.apply(n,Cm(i.props.children,u));return}st(i.type===bt,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),st(!i.props.index||!i.props.children,"An index route cannot have child routes.");let d={id:i.props.id||u.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(d.children=Cm(i.props.children,u)),n.push(d)}),n}var sh="get",ah="application/x-www-form-urlencoded";function Lh(s){return s!=null&&typeof s.tagName=="string"}function JS(s){return Lh(s)&&s.tagName.toLowerCase()==="button"}function ew(s){return Lh(s)&&s.tagName.toLowerCase()==="form"}function tw(s){return Lh(s)&&s.tagName.toLowerCase()==="input"}function nw(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function sw(s,e){return s.button===0&&(!e||e==="_self")&&!nw(s)}var Gc=null;function aw(){if(Gc===null)try{new FormData(document.createElement("form"),0),Gc=!1}catch{Gc=!0}return Gc}var iw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function gm(s){return s!=null&&!iw.has(s)?(Xn(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ah}"`),null):s}function rw(s,e){let n,i,l,u,d;if(ew(s)){let g=s.getAttribute("action");i=g?ri(g,e):null,n=s.getAttribute("method")||sh,l=gm(s.getAttribute("enctype"))||ah,u=new FormData(s)}else if(JS(s)||tw(s)&&(s.type==="submit"||s.type==="image")){let g=s.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=s.getAttribute("formaction")||g.getAttribute("action");if(i=p?ri(p,e):null,n=s.getAttribute("formmethod")||g.getAttribute("method")||sh,l=gm(s.getAttribute("formenctype"))||gm(g.getAttribute("enctype"))||ah,u=new FormData(g,s),!aw()){let{name:_,type:E,value:b}=s;if(E==="image"){let S=_?`${_}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else _&&u.append(_,b)}}else{if(Lh(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=sh,i=null,l=ah,d=s}return u&&l==="text/plain"&&(d=u,u=void 0),{action:i,method:n.toLowerCase(),encType:l,formData:u,body:d}}function hg(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}async function lw(s,e){if(s.id in e)return e[s.id];try{let n=await import(s.module);return e[s.id]=n,n}catch(n){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ow(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function uw(s,e,n){let i=await Promise.all(s.map(async l=>{let u=e.routes[l.route.id];if(u){let d=await lw(u,n);return d.links?d.links():[]}return[]}));return fw(i.flat(1).filter(ow).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function jv(s,e,n,i,l,u){let d=(p,_)=>n[_]?p.route.id!==n[_].route.id:!0,g=(p,_)=>{var E;return n[_].pathname!==p.pathname||((E=n[_].route.path)==null?void 0:E.endsWith("*"))&&n[_].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,_)=>d(p,_)||g(p,_)):u==="data"?e.filter((p,_)=>{var b;let E=i.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(d(p,_)||g(p,_))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((b=n[0])==null?void 0:b.params)||{},nextUrl:new URL(s,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function cw(s,e,{includeHydrateFallback:n}={}){return hw(s.map(i=>{let l=e.routes[i.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function hw(s){return[...new Set(s)]}function dw(s){let e={},n=Object.keys(s).sort();for(let i of n)e[i]=s[i];return e}function fw(s,e){let n=new Set;return new Set(e),s.reduce((i,l)=>{let u=JSON.stringify(dw(l));return n.has(u)||(n.add(u),i.push({key:u,link:l})),i},[])}function mw(s){let e=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function gw(){let s=L.useContext(Al);return hg(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function pw(){let s=L.useContext(Mh);return hg(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var dg=L.createContext(void 0);dg.displayName="FrameworkContext";function b0(){let s=L.useContext(dg);return hg(s,"You must render this element inside a <HydratedRouter> element"),s}function _w(s,e){let n=L.useContext(dg),[i,l]=L.useState(!1),[u,d]=L.useState(!1),{onFocus:g,onBlur:p,onMouseEnter:_,onMouseLeave:E,onTouchStart:b}=e,S=L.useRef(null);L.useEffect(()=>{if(s==="render"&&d(!0),s==="viewport"){let z=F=>{F.forEach(H=>{d(H.isIntersecting)})},P=new IntersectionObserver(z,{threshold:.5});return S.current&&P.observe(S.current),()=>{P.disconnect()}}},[s]),L.useEffect(()=>{if(i){let z=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(z)}}},[i]);let k=()=>{l(!0)},D=()=>{l(!1),d(!1)};return n?s!=="intent"?[u,S,{}]:[u,S,{onFocus:zo(g,k),onBlur:zo(p,D),onMouseEnter:zo(_,k),onMouseLeave:zo(E,D),onTouchStart:zo(b,k)}]:[!1,S,{}]}function zo(s,e){return n=>{s&&s(n),n.defaultPrevented||e(n)}}function yw({page:s,...e}){let{router:n}=gw(),i=L.useMemo(()=>m0(n.routes,s,n.basename),[n.routes,s,n.basename]);return i?L.createElement(xw,{page:s,matches:i,...e}):null}function vw(s){let{manifest:e,routeModules:n}=b0(),[i,l]=L.useState([]);return L.useEffect(()=>{let u=!1;return uw(s,e,n).then(d=>{u||l(d)}),()=>{u=!0}},[s,e,n]),i}function xw({page:s,matches:e,...n}){let i=gi(),{manifest:l,routeModules:u}=b0(),{loaderData:d,matches:g}=pw(),p=L.useMemo(()=>jv(s,e,g,l,i,"data"),[s,e,g,l,i]),_=L.useMemo(()=>jv(s,e,g,l,i,"assets"),[s,e,g,l,i]),E=L.useMemo(()=>{if(s===i.pathname+i.search+i.hash)return[];let k=new Set,D=!1;if(e.forEach(P=>{var H;let F=l.routes[P.route.id];!F||!F.hasLoader||(!p.some($=>$.route.id===P.route.id)&&P.route.id in d&&((H=u[P.route.id])!=null&&H.shouldRevalidate)||F.hasClientLoader?D=!0:k.add(P.route.id))}),k.size===0)return[];let z=mw(s);return D&&k.size>0&&z.searchParams.set("_routes",e.filter(P=>k.has(P.route.id)).map(P=>P.route.id).join(",")),[z.pathname+z.search]},[d,i,l,p,e,s,u]),b=L.useMemo(()=>cw(_,l),[_,l]),S=vw(_);return L.createElement(L.Fragment,null,E.map(k=>L.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...n})),b.map(k=>L.createElement("link",{key:k,rel:"modulepreload",href:k,...n})),S.map(({key:k,link:D})=>L.createElement("link",{key:k,...D})))}function Ew(...s){return e=>{s.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var A0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{A0&&(window.__reactRouterVersion="7.2.0")}catch{}function Tw({basename:s,children:e,window:n}){let i=L.useRef();i.current==null&&(i.current=uS({window:n,v5Compat:!0}));let l=i.current,[u,d]=L.useState({action:l.action,location:l.location}),g=L.useCallback(p=>{L.startTransition(()=>d(p))},[d]);return L.useLayoutEffect(()=>l.listen(g),[l,g]),L.createElement(XS,{basename:s,children:e,location:u.location,navigationType:u.action,navigator:l})}var S0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Te=L.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:l,reloadDocument:u,replace:d,state:g,target:p,to:_,preventScrollReset:E,viewTransition:b,...S},k){let{basename:D}=L.useContext(ts),z=typeof _=="string"&&S0.test(_),P,F=!1;if(typeof _=="string"&&z&&(P=_,A0))try{let N=new URL(window.location.href),w=_.startsWith("//")?new URL(N.protocol+_):new URL(_),I=ri(w.pathname,D);w.origin===N.origin&&I!=null?_=I+w.search+w.hash:F=!0}catch{Xn(!1,`<Link to="${_}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let H=MS(_,{relative:l}),[$,ee,Z]=_w(i,S),le=ww(_,{replace:d,state:g,target:p,preventScrollReset:E,relative:l,viewTransition:b});function O(N){e&&e(N),N.defaultPrevented||le(N)}let R=L.createElement("a",{...S,...Z,href:P||H,onClick:F||u?e:O,ref:Ew(k,ee),target:p,"data-discover":!z&&n==="render"?"true":void 0});return $&&!z?L.createElement(L.Fragment,null,R,L.createElement(yw,{page:H})):R});Te.displayName="Link";var bw=L.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:l=!1,style:u,to:d,viewTransition:g,children:p,..._},E){let b=fu(d,{relative:_.relative}),S=gi(),k=L.useContext(Mh),{navigator:D,basename:z}=L.useContext(ts),P=k!=null&&Iw(b)&&g===!0,F=D.encodeLocation?D.encodeLocation(b).pathname:b.pathname,H=S.pathname,$=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;n||(H=H.toLowerCase(),$=$?$.toLowerCase():null,F=F.toLowerCase()),$&&z&&($=ri($,z)||$);const ee=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let Z=H===F||!l&&H.startsWith(F)&&H.charAt(ee)==="/",le=$!=null&&($===F||!l&&$.startsWith(F)&&$.charAt(F.length)==="/"),O={isActive:Z,isPending:le,isTransitioning:P},R=Z?e:void 0,N;typeof i=="function"?N=i(O):N=[i,Z?"active":null,le?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let w=typeof u=="function"?u(O):u;return L.createElement(Te,{..._,"aria-current":R,className:N,ref:E,style:w,to:d,viewTransition:g},typeof p=="function"?p(O):p)});bw.displayName="NavLink";var Aw=L.forwardRef(({discover:s="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:l,state:u,method:d=sh,action:g,onSubmit:p,relative:_,preventScrollReset:E,viewTransition:b,...S},k)=>{let D=kw(),z=Cw(g,{relative:_}),P=d.toLowerCase()==="get"?"get":"post",F=typeof g=="string"&&S0.test(g),H=$=>{if(p&&p($),$.defaultPrevented)return;$.preventDefault();let ee=$.nativeEvent.submitter,Z=(ee==null?void 0:ee.getAttribute("formmethod"))||d;D(ee||$.currentTarget,{fetcherKey:e,method:Z,navigate:n,replace:l,state:u,relative:_,preventScrollReset:E,viewTransition:b})};return L.createElement("form",{ref:k,method:P,action:z,onSubmit:i?p:H,...S,"data-discover":!F&&s==="render"?"true":void 0})});Aw.displayName="Form";function Sw(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function w0(s){let e=L.useContext(Al);return st(e,Sw(s)),e}function ww(s,{target:e,replace:n,state:i,preventScrollReset:l,relative:u,viewTransition:d}={}){let g=wl(),p=gi(),_=fu(s,{relative:u});return L.useCallback(E=>{if(sw(E,e)){E.preventDefault();let b=n!==void 0?n:nu(p)===nu(_);g(s,{replace:b,state:i,preventScrollReset:l,relative:u,viewTransition:d})}},[p,g,_,n,i,e,s,l,u,d])}var Nw=0,Rw=()=>`__${String(++Nw)}__`;function kw(){let{router:s}=w0("useSubmit"),{basename:e}=L.useContext(ts),n=$S();return L.useCallback(async(i,l={})=>{let{action:u,method:d,encType:g,formData:p,body:_}=rw(i,e);if(l.navigate===!1){let E=l.fetcherKey||Rw();await s.fetch(E,n,l.action||u,{preventScrollReset:l.preventScrollReset,formData:p,body:_,formMethod:l.method||d,formEncType:l.encType||g,flushSync:l.flushSync})}else await s.navigate(l.action||u,{preventScrollReset:l.preventScrollReset,formData:p,body:_,formMethod:l.method||d,formEncType:l.encType||g,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[s,e,n])}function Cw(s,{relative:e}={}){let{basename:n}=L.useContext(ts),i=L.useContext(ns);st(i,"useFormAction must be used inside a RouteContext");let[l]=i.matches.slice(-1),u={...fu(s||".",{relative:e})},d=gi();if(s==null){u.search=d.search;let g=new URLSearchParams(u.search),p=g.getAll("index");if(p.some(E=>E==="")){g.delete("index"),p.filter(b=>b).forEach(b=>g.append("index",b));let E=g.toString();u.search=E?`?${E}`:""}}return(!s||s===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:aa([n,u.pathname])),nu(u)}function Iw(s,e={}){let n=L.useContext(y0);st(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=w0("useViewTransitionState"),l=fu(s,{relative:e.relative});if(!n.isTransitioning)return!1;let u=ri(n.currentLocation.pathname,i)||n.currentLocation.pathname,d=ri(n.nextLocation.pathname,i)||n.nextLocation.pathname;return ph(l.pathname,d)!=null||ph(l.pathname,u)!=null}new TextEncoder;document.addEventListener("DOMContentLoaded",function(){const s=["/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg","/AimRV/images/EE-AIMChallenge24-Uhamn-0171-high.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_113.jpg","/AimRV/images/AIM_lindvallen_2024_AnkiGrothe_highres_125.jpg"];function e(){const n=document.querySelectorAll(".dynamic-background");if(n.length===0){setTimeout(e,100);return}let i=s;try{const l=JSON.parse(localStorage.getItem("aimrv-background-images"));l&&Array.isArray(l)&&l.length>0&&(i=l)}catch(l){console.error("Error loading custom background images:",l)}n.forEach(function(l){let u=0;l.style.backgroundImage=`url(${i[u]})`,l.style.backgroundSize="cover",l.style.backgroundPosition="center",l.style.backgroundRepeat="no-repeat";const d=document.createElement("div");d.className="background-overlay",d.style.position="absolute",d.style.top="0",d.style.left="0",d.style.width="100%",d.style.height="100%",d.style.backgroundSize="cover",d.style.backgroundPosition="center",d.style.opacity="0",d.style.transition="opacity 2s ease-in-out",d.style.zIndex="1",getComputedStyle(l).position==="static"&&(l.style.position="relative"),Array.from(l.children).forEach(p=>{p!==d&&(p.style.zIndex===""||parseInt(p.style.zIndex)<10)&&(p.style.position="relative",p.style.zIndex="10")}),l.appendChild(d);function g(){const p=(u+1)%i.length;d.style.backgroundImage=`url(${i[p]})`,d.style.opacity="1",setTimeout(()=>{l.style.backgroundImage=`url(${i[p]})`,d.style.opacity="0",u=p},2e3)}setInterval(g,5e3)}),window.addEventListener("storage",function(l){if(l.key==="aimrv-background-images")try{const u=JSON.parse(l.newValue);u&&Array.isArray(u)&&u.length>0&&(i=u)}catch(u){console.error("Error updating background images:",u)}})}e()});const jw=()=>{};var Dv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0=function(s){const e=[];let n=0;for(let i=0;i<s.length;i++){let l=s.charCodeAt(i);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&i+1<s.length&&(s.charCodeAt(i+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++i)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},Dw=function(s){const e=[];let n=0,i=0;for(;n<s.length;){const l=s[n++];if(l<128)e[i++]=String.fromCharCode(l);else if(l>191&&l<224){const u=s[n++];e[i++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=s[n++],d=s[n++],g=s[n++],p=((l&7)<<18|(u&63)<<12|(d&63)<<6|g&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const u=s[n++],d=s[n++];e[i++]=String.fromCharCode((l&15)<<12|(u&63)<<6|d&63)}}return e.join("")},R0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let l=0;l<s.length;l+=3){const u=s[l],d=l+1<s.length,g=d?s[l+1]:0,p=l+2<s.length,_=p?s[l+2]:0,E=u>>2,b=(u&3)<<4|g>>4;let S=(g&15)<<2|_>>6,k=_&63;p||(k=64,d||(S=64)),i.push(n[E],n[b],n[S],n[k])}return i.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(N0(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):Dw(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let l=0;l<s.length;){const u=n[s.charAt(l++)],g=l<s.length?n[s.charAt(l)]:0;++l;const _=l<s.length?n[s.charAt(l)]:64;++l;const b=l<s.length?n[s.charAt(l)]:64;if(++l,u==null||g==null||_==null||b==null)throw new Ow;const S=u<<2|g>>4;if(i.push(S),_!==64){const k=g<<4&240|_>>2;if(i.push(k),b!==64){const D=_<<6&192|b;i.push(D)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class Ow extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Mw=function(s){const e=N0(s);return R0.encodeByteArray(e,!0)},_h=function(s){return Mw(s).replace(/\./g,"")},k0=function(s){try{return R0.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw=()=>Lw().__FIREBASE_DEFAULTS__,Pw=()=>{if(typeof process>"u"||typeof Dv>"u")return;const s=Dv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},Uw=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&k0(s[1]);return e&&JSON.parse(e)},Vh=()=>{try{return jw()||Vw()||Pw()||Uw()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},C0=s=>{var e,n;return(n=(e=Vh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[s]},I0=s=>{const e=C0(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},j0=()=>{var s;return(s=Vh())===null||s===void 0?void 0:s.config},D0=s=>{var e;return(e=Vh())===null||e===void 0?void 0:e[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O0(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",l=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},s);return[_h(JSON.stringify(n)),_h(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Hw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function zw(){var s;const e=(s=Vh())===null||s===void 0?void 0:s.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Kw(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function Fw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Gw(){const s=tn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function $w(){return!zw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Qw(){try{return typeof indexedDB=="object"}catch{return!1}}function Yw(){return new Promise((s,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(i);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(i),s(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var u;e(((u=l.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww="FirebaseError";class Ns extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=Ww,Object.setPrototypeOf(this,Ns.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mu.prototype.create)}}class mu{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},l=`${this.service}/${e}`,u=this.errors[e],d=u?Xw(u,i):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new Ns(l,g,i)}}function Xw(s,e){return s.replace(Zw,(n,i)=>{const l=e[i];return l!=null?String(l):`<${i}?>`})}const Zw=/\{\$([^}]+)}/g;function Jw(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function tr(s,e){if(s===e)return!0;const n=Object.keys(s),i=Object.keys(e);for(const l of n){if(!i.includes(l))return!1;const u=s[l],d=e[l];if(Ov(u)&&Ov(d)){if(!tr(u,d))return!1}else if(u!==d)return!1}for(const l of i)if(!n.includes(l))return!1;return!0}function Ov(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gu(s){const e=[];for(const[n,i]of Object.entries(s))Array.isArray(i)?i.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Ko(s){const e={};return s.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[l,u]=i.split("=");e[decodeURIComponent(l)]=decodeURIComponent(u)}}),e}function Fo(s){const e=s.indexOf("?");if(!e)return"";const n=s.indexOf("#",e);return s.substring(e,n>0?n:void 0)}function eN(s,e){const n=new tN(s,e);return n.subscribe.bind(n)}class tN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let l;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");nN(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:i},l.next===void 0&&(l.next=pm),l.error===void 0&&(l.error=pm),l.complete===void 0&&(l.complete=pm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nN(s,e){if(typeof s!="object"||s===null)return!1;for(const n of e)if(n in s&&typeof s[n]=="function")return!0;return!1}function pm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function at(s){return s&&s._delegate?s._delegate:s}class li{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new Bw;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&i.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),l=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(u){if(l)return null;throw u}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(iN(e))try{this.getOrInitializeService({instanceIdentifier:Zi})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:l});i.resolve(u)}catch{}}}}clearInstance(e=Zi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Zi){return this.instances.has(e)}getOptions(e=Zi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[u,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(u);i===g&&d.resolve(l)}return l}onInit(e,n){var i;const l=this.normalizeInstanceIdentifier(n),u=(i=this.onInitCallbacks.get(l))!==null&&i!==void 0?i:new Set;u.add(e),this.onInitCallbacks.set(l,u);const d=this.instances.get(l);return d&&e(d,l),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const l of i)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:aN(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Zi){return this.component?this.component.multipleInstances?e:Zi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function aN(s){return s===Zi?void 0:s}function iN(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new sN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Oe||(Oe={}));const lN={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},oN=Oe.INFO,uN={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},cN=(s,e,...n)=>{if(e<s.logLevel)return;const i=new Date().toISOString(),l=uN[e];if(l)console[l](`[${i}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class fg{constructor(e){this.name=e,this._logLevel=oN,this._logHandler=cN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?lN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const hN=(s,e)=>e.some(n=>s instanceof n);let Mv,Lv;function dN(){return Mv||(Mv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fN(){return Lv||(Lv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const M0=new WeakMap,Im=new WeakMap,L0=new WeakMap,_m=new WeakMap,mg=new WeakMap;function mN(s){const e=new Promise((n,i)=>{const l=()=>{s.removeEventListener("success",u),s.removeEventListener("error",d)},u=()=>{n(ni(s.result)),l()},d=()=>{i(s.error),l()};s.addEventListener("success",u),s.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&M0.set(n,s)}).catch(()=>{}),mg.set(e,s),e}function gN(s){if(Im.has(s))return;const e=new Promise((n,i)=>{const l=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",d),s.removeEventListener("abort",d)},u=()=>{n(),l()},d=()=>{i(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",u),s.addEventListener("error",d),s.addEventListener("abort",d)});Im.set(s,e)}let jm={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return Im.get(s);if(e==="objectStoreNames")return s.objectStoreNames||L0.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ni(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function pN(s){jm=s(jm)}function _N(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=s.call(ym(this),e,...n);return L0.set(i,e.sort?e.sort():[e]),ni(i)}:fN().includes(s)?function(...e){return s.apply(ym(this),e),ni(M0.get(this))}:function(...e){return ni(s.apply(ym(this),e))}}function yN(s){return typeof s=="function"?_N(s):(s instanceof IDBTransaction&&gN(s),hN(s,dN())?new Proxy(s,jm):s)}function ni(s){if(s instanceof IDBRequest)return mN(s);if(_m.has(s))return _m.get(s);const e=yN(s);return e!==s&&(_m.set(s,e),mg.set(e,s)),e}const ym=s=>mg.get(s);function vN(s,e,{blocked:n,upgrade:i,blocking:l,terminated:u}={}){const d=indexedDB.open(s,e),g=ni(d);return i&&d.addEventListener("upgradeneeded",p=>{i(ni(d.result),p.oldVersion,p.newVersion,ni(d.transaction),p)}),n&&d.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),g.then(p=>{u&&p.addEventListener("close",()=>u()),l&&p.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const xN=["get","getKey","getAll","getAllKeys","count"],EN=["put","add","delete","clear"],vm=new Map;function Vv(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(vm.get(e))return vm.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,l=EN.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(l||xN.includes(n)))return;const u=async function(d,...g){const p=this.transaction(d,l?"readwrite":"readonly");let _=p.store;return i&&(_=_.index(g.shift())),(await Promise.all([_[n](...g),l&&p.done]))[0]};return vm.set(e,u),u}pN(s=>({...s,get:(e,n,i)=>Vv(e,n)||s.get(e,n,i),has:(e,n)=>!!Vv(e,n)||s.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(bN(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function bN(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Dm="@firebase/app",Pv="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la=new fg("@firebase/app"),AN="@firebase/app-compat",SN="@firebase/analytics-compat",wN="@firebase/analytics",NN="@firebase/app-check-compat",RN="@firebase/app-check",kN="@firebase/auth",CN="@firebase/auth-compat",IN="@firebase/database",jN="@firebase/data-connect",DN="@firebase/database-compat",ON="@firebase/functions",MN="@firebase/functions-compat",LN="@firebase/installations",VN="@firebase/installations-compat",PN="@firebase/messaging",UN="@firebase/messaging-compat",BN="@firebase/performance",HN="@firebase/performance-compat",zN="@firebase/remote-config",qN="@firebase/remote-config-compat",KN="@firebase/storage",FN="@firebase/storage-compat",GN="@firebase/firestore",$N="@firebase/vertexai",QN="@firebase/firestore-compat",YN="firebase",WN="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om="[DEFAULT]",XN={[Dm]:"fire-core",[AN]:"fire-core-compat",[wN]:"fire-analytics",[SN]:"fire-analytics-compat",[RN]:"fire-app-check",[NN]:"fire-app-check-compat",[kN]:"fire-auth",[CN]:"fire-auth-compat",[IN]:"fire-rtdb",[jN]:"fire-data-connect",[DN]:"fire-rtdb-compat",[ON]:"fire-fn",[MN]:"fire-fn-compat",[LN]:"fire-iid",[VN]:"fire-iid-compat",[PN]:"fire-fcm",[UN]:"fire-fcm-compat",[BN]:"fire-perf",[HN]:"fire-perf-compat",[zN]:"fire-rc",[qN]:"fire-rc-compat",[KN]:"fire-gcs",[FN]:"fire-gcs-compat",[GN]:"fire-fst",[QN]:"fire-fst-compat",[$N]:"fire-vertex","fire-js":"fire-js",[YN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yh=new Map,ZN=new Map,Mm=new Map;function Uv(s,e){try{s.container.addComponent(e)}catch(n){la.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function nr(s){const e=s.name;if(Mm.has(e))return la.debug(`There were multiple attempts to register component ${e}.`),!1;Mm.set(e,s);for(const n of yh.values())Uv(n,s);for(const n of ZN.values())Uv(n,s);return!0}function Ph(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function bn(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},si=new mu("app","Firebase",JN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new li("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw si.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const or=WN;function V0(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Om,automaticDataCollectionEnabled:!1},e),l=i.name;if(typeof l!="string"||!l)throw si.create("bad-app-name",{appName:String(l)});if(n||(n=j0()),!n)throw si.create("no-options");const u=yh.get(l);if(u){if(tr(n,u.options)&&tr(i,u.config))return u;throw si.create("duplicate-app",{appName:l})}const d=new rN(l);for(const p of Mm.values())d.addComponent(p);const g=new eR(n,i,d);return yh.set(l,g),g}function gg(s=Om){const e=yh.get(s);if(!e&&s===Om&&j0())return V0();if(!e)throw si.create("no-app",{appName:s});return e}function xs(s,e,n){var i;let l=(i=XN[s])!==null&&i!==void 0?i:s;n&&(l+=`-${n}`);const u=l.match(/\s|\//),d=e.match(/\s|\//);if(u||d){const g=[`Unable to register library "${l}" with version "${e}":`];u&&g.push(`library name "${l}" contains illegal characters (whitespace or "/")`),u&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),la.warn(g.join(" "));return}nr(new li(`${l}-version`,()=>({library:l,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR="firebase-heartbeat-database",nR=1,su="firebase-heartbeat-store";let xm=null;function P0(){return xm||(xm=vN(tR,nR,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(su)}catch(n){console.warn(n)}}}}).catch(s=>{throw si.create("idb-open",{originalErrorMessage:s.message})})),xm}async function sR(s){try{const n=(await P0()).transaction(su),i=await n.objectStore(su).get(U0(s));return await n.done,i}catch(e){if(e instanceof Ns)la.warn(e.message);else{const n=si.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});la.warn(n.message)}}}async function Bv(s,e){try{const i=(await P0()).transaction(su,"readwrite");await i.objectStore(su).put(e,U0(s)),await i.done}catch(n){if(n instanceof Ns)la.warn(n.message);else{const i=si.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});la.warn(i.message)}}}function U0(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR=1024,iR=30;class rR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new oR(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Hv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(d=>d.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:l}),this._heartbeatsCache.heartbeats.length>iR){const d=uR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){la.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Hv(),{heartbeatsToSend:i,unsentEntries:l}=lR(this._heartbeatsCache.heartbeats),u=_h(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return la.warn(n),""}}}function Hv(){return new Date().toISOString().substring(0,10)}function lR(s,e=aR){const n=[];let i=s.slice();for(const l of s){const u=n.find(d=>d.agent===l.agent);if(u){if(u.dates.push(l.date),zv(n)>e){u.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),zv(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class oR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Qw()?Yw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await sR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return Bv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return Bv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...e.heartbeats]})}else return}}function zv(s){return _h(JSON.stringify({version:2,heartbeats:s})).length}function uR(s){if(s.length===0)return-1;let e=0,n=s[0].date;for(let i=1;i<s.length;i++)s[i].date<n&&(n=s[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cR(s){nr(new li("platform-logger",e=>new TN(e),"PRIVATE")),nr(new li("heartbeat",e=>new rR(e),"PRIVATE")),xs(Dm,Pv,s),xs(Dm,Pv,"esm2017"),xs("fire-js","")}cR("");var hR="firebase",dR="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xs(hR,dR,"app");var qv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ai,B0;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,R){function N(){}N.prototype=R.prototype,O.D=R.prototype,O.prototype=new N,O.prototype.constructor=O,O.C=function(w,I,q){for(var j=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)j[Ye-2]=arguments[Ye];return R.prototype[I].apply(w,j)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(O,R,N){N||(N=0);var w=Array(16);if(typeof R=="string")for(var I=0;16>I;++I)w[I]=R.charCodeAt(N++)|R.charCodeAt(N++)<<8|R.charCodeAt(N++)<<16|R.charCodeAt(N++)<<24;else for(I=0;16>I;++I)w[I]=R[N++]|R[N++]<<8|R[N++]<<16|R[N++]<<24;R=O.g[0],N=O.g[1],I=O.g[2];var q=O.g[3],j=R+(q^N&(I^q))+w[0]+3614090360&4294967295;R=N+(j<<7&4294967295|j>>>25),j=q+(I^R&(N^I))+w[1]+3905402710&4294967295,q=R+(j<<12&4294967295|j>>>20),j=I+(N^q&(R^N))+w[2]+606105819&4294967295,I=q+(j<<17&4294967295|j>>>15),j=N+(R^I&(q^R))+w[3]+3250441966&4294967295,N=I+(j<<22&4294967295|j>>>10),j=R+(q^N&(I^q))+w[4]+4118548399&4294967295,R=N+(j<<7&4294967295|j>>>25),j=q+(I^R&(N^I))+w[5]+1200080426&4294967295,q=R+(j<<12&4294967295|j>>>20),j=I+(N^q&(R^N))+w[6]+2821735955&4294967295,I=q+(j<<17&4294967295|j>>>15),j=N+(R^I&(q^R))+w[7]+4249261313&4294967295,N=I+(j<<22&4294967295|j>>>10),j=R+(q^N&(I^q))+w[8]+1770035416&4294967295,R=N+(j<<7&4294967295|j>>>25),j=q+(I^R&(N^I))+w[9]+2336552879&4294967295,q=R+(j<<12&4294967295|j>>>20),j=I+(N^q&(R^N))+w[10]+4294925233&4294967295,I=q+(j<<17&4294967295|j>>>15),j=N+(R^I&(q^R))+w[11]+2304563134&4294967295,N=I+(j<<22&4294967295|j>>>10),j=R+(q^N&(I^q))+w[12]+1804603682&4294967295,R=N+(j<<7&4294967295|j>>>25),j=q+(I^R&(N^I))+w[13]+4254626195&4294967295,q=R+(j<<12&4294967295|j>>>20),j=I+(N^q&(R^N))+w[14]+2792965006&4294967295,I=q+(j<<17&4294967295|j>>>15),j=N+(R^I&(q^R))+w[15]+1236535329&4294967295,N=I+(j<<22&4294967295|j>>>10),j=R+(I^q&(N^I))+w[1]+4129170786&4294967295,R=N+(j<<5&4294967295|j>>>27),j=q+(N^I&(R^N))+w[6]+3225465664&4294967295,q=R+(j<<9&4294967295|j>>>23),j=I+(R^N&(q^R))+w[11]+643717713&4294967295,I=q+(j<<14&4294967295|j>>>18),j=N+(q^R&(I^q))+w[0]+3921069994&4294967295,N=I+(j<<20&4294967295|j>>>12),j=R+(I^q&(N^I))+w[5]+3593408605&4294967295,R=N+(j<<5&4294967295|j>>>27),j=q+(N^I&(R^N))+w[10]+38016083&4294967295,q=R+(j<<9&4294967295|j>>>23),j=I+(R^N&(q^R))+w[15]+3634488961&4294967295,I=q+(j<<14&4294967295|j>>>18),j=N+(q^R&(I^q))+w[4]+3889429448&4294967295,N=I+(j<<20&4294967295|j>>>12),j=R+(I^q&(N^I))+w[9]+568446438&4294967295,R=N+(j<<5&4294967295|j>>>27),j=q+(N^I&(R^N))+w[14]+3275163606&4294967295,q=R+(j<<9&4294967295|j>>>23),j=I+(R^N&(q^R))+w[3]+4107603335&4294967295,I=q+(j<<14&4294967295|j>>>18),j=N+(q^R&(I^q))+w[8]+1163531501&4294967295,N=I+(j<<20&4294967295|j>>>12),j=R+(I^q&(N^I))+w[13]+2850285829&4294967295,R=N+(j<<5&4294967295|j>>>27),j=q+(N^I&(R^N))+w[2]+4243563512&4294967295,q=R+(j<<9&4294967295|j>>>23),j=I+(R^N&(q^R))+w[7]+1735328473&4294967295,I=q+(j<<14&4294967295|j>>>18),j=N+(q^R&(I^q))+w[12]+2368359562&4294967295,N=I+(j<<20&4294967295|j>>>12),j=R+(N^I^q)+w[5]+4294588738&4294967295,R=N+(j<<4&4294967295|j>>>28),j=q+(R^N^I)+w[8]+2272392833&4294967295,q=R+(j<<11&4294967295|j>>>21),j=I+(q^R^N)+w[11]+1839030562&4294967295,I=q+(j<<16&4294967295|j>>>16),j=N+(I^q^R)+w[14]+4259657740&4294967295,N=I+(j<<23&4294967295|j>>>9),j=R+(N^I^q)+w[1]+2763975236&4294967295,R=N+(j<<4&4294967295|j>>>28),j=q+(R^N^I)+w[4]+1272893353&4294967295,q=R+(j<<11&4294967295|j>>>21),j=I+(q^R^N)+w[7]+4139469664&4294967295,I=q+(j<<16&4294967295|j>>>16),j=N+(I^q^R)+w[10]+3200236656&4294967295,N=I+(j<<23&4294967295|j>>>9),j=R+(N^I^q)+w[13]+681279174&4294967295,R=N+(j<<4&4294967295|j>>>28),j=q+(R^N^I)+w[0]+3936430074&4294967295,q=R+(j<<11&4294967295|j>>>21),j=I+(q^R^N)+w[3]+3572445317&4294967295,I=q+(j<<16&4294967295|j>>>16),j=N+(I^q^R)+w[6]+76029189&4294967295,N=I+(j<<23&4294967295|j>>>9),j=R+(N^I^q)+w[9]+3654602809&4294967295,R=N+(j<<4&4294967295|j>>>28),j=q+(R^N^I)+w[12]+3873151461&4294967295,q=R+(j<<11&4294967295|j>>>21),j=I+(q^R^N)+w[15]+530742520&4294967295,I=q+(j<<16&4294967295|j>>>16),j=N+(I^q^R)+w[2]+3299628645&4294967295,N=I+(j<<23&4294967295|j>>>9),j=R+(I^(N|~q))+w[0]+4096336452&4294967295,R=N+(j<<6&4294967295|j>>>26),j=q+(N^(R|~I))+w[7]+1126891415&4294967295,q=R+(j<<10&4294967295|j>>>22),j=I+(R^(q|~N))+w[14]+2878612391&4294967295,I=q+(j<<15&4294967295|j>>>17),j=N+(q^(I|~R))+w[5]+4237533241&4294967295,N=I+(j<<21&4294967295|j>>>11),j=R+(I^(N|~q))+w[12]+1700485571&4294967295,R=N+(j<<6&4294967295|j>>>26),j=q+(N^(R|~I))+w[3]+2399980690&4294967295,q=R+(j<<10&4294967295|j>>>22),j=I+(R^(q|~N))+w[10]+4293915773&4294967295,I=q+(j<<15&4294967295|j>>>17),j=N+(q^(I|~R))+w[1]+2240044497&4294967295,N=I+(j<<21&4294967295|j>>>11),j=R+(I^(N|~q))+w[8]+1873313359&4294967295,R=N+(j<<6&4294967295|j>>>26),j=q+(N^(R|~I))+w[15]+4264355552&4294967295,q=R+(j<<10&4294967295|j>>>22),j=I+(R^(q|~N))+w[6]+2734768916&4294967295,I=q+(j<<15&4294967295|j>>>17),j=N+(q^(I|~R))+w[13]+1309151649&4294967295,N=I+(j<<21&4294967295|j>>>11),j=R+(I^(N|~q))+w[4]+4149444226&4294967295,R=N+(j<<6&4294967295|j>>>26),j=q+(N^(R|~I))+w[11]+3174756917&4294967295,q=R+(j<<10&4294967295|j>>>22),j=I+(R^(q|~N))+w[2]+718787259&4294967295,I=q+(j<<15&4294967295|j>>>17),j=N+(q^(I|~R))+w[9]+3951481745&4294967295,O.g[0]=O.g[0]+R&4294967295,O.g[1]=O.g[1]+(I+(j<<21&4294967295|j>>>11))&4294967295,O.g[2]=O.g[2]+I&4294967295,O.g[3]=O.g[3]+q&4294967295}i.prototype.u=function(O,R){R===void 0&&(R=O.length);for(var N=R-this.blockSize,w=this.B,I=this.h,q=0;q<R;){if(I==0)for(;q<=N;)l(this,O,q),q+=this.blockSize;if(typeof O=="string"){for(;q<R;)if(w[I++]=O.charCodeAt(q++),I==this.blockSize){l(this,w),I=0;break}}else for(;q<R;)if(w[I++]=O[q++],I==this.blockSize){l(this,w),I=0;break}}this.h=I,this.o+=R},i.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var R=1;R<O.length-8;++R)O[R]=0;var N=8*this.o;for(R=O.length-8;R<O.length;++R)O[R]=N&255,N/=256;for(this.u(O),O=Array(16),R=N=0;4>R;++R)for(var w=0;32>w;w+=8)O[N++]=this.g[R]>>>w&255;return O};function u(O,R){var N=g;return Object.prototype.hasOwnProperty.call(N,O)?N[O]:N[O]=R(O)}function d(O,R){this.h=R;for(var N=[],w=!0,I=O.length-1;0<=I;I--){var q=O[I]|0;w&&q==R||(N[I]=q,w=!1)}this.g=N}var g={};function p(O){return-128<=O&&128>O?u(O,function(R){return new d([R|0],0>R?-1:0)}):new d([O|0],0>O?-1:0)}function _(O){if(isNaN(O)||!isFinite(O))return b;if(0>O)return P(_(-O));for(var R=[],N=1,w=0;O>=N;w++)R[w]=O/N|0,N*=4294967296;return new d(R,0)}function E(O,R){if(O.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(O.charAt(0)=="-")return P(E(O.substring(1),R));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=_(Math.pow(R,8)),w=b,I=0;I<O.length;I+=8){var q=Math.min(8,O.length-I),j=parseInt(O.substring(I,I+q),R);8>q?(q=_(Math.pow(R,q)),w=w.j(q).add(_(j))):(w=w.j(N),w=w.add(_(j)))}return w}var b=p(0),S=p(1),k=p(16777216);s=d.prototype,s.m=function(){if(z(this))return-P(this).m();for(var O=0,R=1,N=0;N<this.g.length;N++){var w=this.i(N);O+=(0<=w?w:4294967296+w)*R,R*=4294967296}return O},s.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(D(this))return"0";if(z(this))return"-"+P(this).toString(O);for(var R=_(Math.pow(O,6)),N=this,w="";;){var I=ee(N,R).g;N=F(N,I.j(R));var q=((0<N.g.length?N.g[0]:N.h)>>>0).toString(O);if(N=I,D(N))return q+w;for(;6>q.length;)q="0"+q;w=q+w}},s.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function D(O){if(O.h!=0)return!1;for(var R=0;R<O.g.length;R++)if(O.g[R]!=0)return!1;return!0}function z(O){return O.h==-1}s.l=function(O){return O=F(this,O),z(O)?-1:D(O)?0:1};function P(O){for(var R=O.g.length,N=[],w=0;w<R;w++)N[w]=~O.g[w];return new d(N,~O.h).add(S)}s.abs=function(){return z(this)?P(this):this},s.add=function(O){for(var R=Math.max(this.g.length,O.g.length),N=[],w=0,I=0;I<=R;I++){var q=w+(this.i(I)&65535)+(O.i(I)&65535),j=(q>>>16)+(this.i(I)>>>16)+(O.i(I)>>>16);w=j>>>16,q&=65535,j&=65535,N[I]=j<<16|q}return new d(N,N[N.length-1]&-2147483648?-1:0)};function F(O,R){return O.add(P(R))}s.j=function(O){if(D(this)||D(O))return b;if(z(this))return z(O)?P(this).j(P(O)):P(P(this).j(O));if(z(O))return P(this.j(P(O)));if(0>this.l(k)&&0>O.l(k))return _(this.m()*O.m());for(var R=this.g.length+O.g.length,N=[],w=0;w<2*R;w++)N[w]=0;for(w=0;w<this.g.length;w++)for(var I=0;I<O.g.length;I++){var q=this.i(w)>>>16,j=this.i(w)&65535,Ye=O.i(I)>>>16,Ge=O.i(I)&65535;N[2*w+2*I]+=j*Ge,H(N,2*w+2*I),N[2*w+2*I+1]+=q*Ge,H(N,2*w+2*I+1),N[2*w+2*I+1]+=j*Ye,H(N,2*w+2*I+1),N[2*w+2*I+2]+=q*Ye,H(N,2*w+2*I+2)}for(w=0;w<R;w++)N[w]=N[2*w+1]<<16|N[2*w];for(w=R;w<2*R;w++)N[w]=0;return new d(N,0)};function H(O,R){for(;(O[R]&65535)!=O[R];)O[R+1]+=O[R]>>>16,O[R]&=65535,R++}function $(O,R){this.g=O,this.h=R}function ee(O,R){if(D(R))throw Error("division by zero");if(D(O))return new $(b,b);if(z(O))return R=ee(P(O),R),new $(P(R.g),P(R.h));if(z(R))return R=ee(O,P(R)),new $(P(R.g),R.h);if(30<O.g.length){if(z(O)||z(R))throw Error("slowDivide_ only works with positive integers.");for(var N=S,w=R;0>=w.l(O);)N=Z(N),w=Z(w);var I=le(N,1),q=le(w,1);for(w=le(w,2),N=le(N,2);!D(w);){var j=q.add(w);0>=j.l(O)&&(I=I.add(N),q=j),w=le(w,1),N=le(N,1)}return R=F(O,I.j(R)),new $(I,R)}for(I=b;0<=O.l(R);){for(N=Math.max(1,Math.floor(O.m()/R.m())),w=Math.ceil(Math.log(N)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),q=_(N),j=q.j(R);z(j)||0<j.l(O);)N-=w,q=_(N),j=q.j(R);D(q)&&(q=S),I=I.add(q),O=F(O,j)}return new $(I,O)}s.A=function(O){return ee(this,O).h},s.and=function(O){for(var R=Math.max(this.g.length,O.g.length),N=[],w=0;w<R;w++)N[w]=this.i(w)&O.i(w);return new d(N,this.h&O.h)},s.or=function(O){for(var R=Math.max(this.g.length,O.g.length),N=[],w=0;w<R;w++)N[w]=this.i(w)|O.i(w);return new d(N,this.h|O.h)},s.xor=function(O){for(var R=Math.max(this.g.length,O.g.length),N=[],w=0;w<R;w++)N[w]=this.i(w)^O.i(w);return new d(N,this.h^O.h)};function Z(O){for(var R=O.g.length+1,N=[],w=0;w<R;w++)N[w]=O.i(w)<<1|O.i(w-1)>>>31;return new d(N,O.h)}function le(O,R){var N=R>>5;R%=32;for(var w=O.g.length-N,I=[],q=0;q<w;q++)I[q]=0<R?O.i(q+N)>>>R|O.i(q+N+1)<<32-R:O.i(q+N);return new d(I,O.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,B0=i,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=E,ai=d}).apply(typeof qv<"u"?qv:typeof self<"u"?self:typeof window<"u"?window:{});var $c=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var H0,Go,z0,ih,Lm,q0,K0,F0;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,v){return c==Array.prototype||c==Object.prototype||(c[y]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof $c=="object"&&$c];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var i=n(this);function l(c,y){if(y)e:{var v=i;c=c.split(".");for(var A=0;A<c.length-1;A++){var G=c[A];if(!(G in v))break e;v=v[G]}c=c[c.length-1],A=v[c],y=y(A),y!=A&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var v=0,A=!1,G={next:function(){if(!A&&v<c.length){var W=v++;return{value:y(W,c[W]),done:!1}}return A=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}l("Array.prototype.values",function(c){return c||function(){return u(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function _(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,v){return c.call.apply(c.bind,arguments)}function b(c,y,v){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,A),c.apply(y,G)}}return function(){return c.apply(y,arguments)}}function S(c,y,v){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:b,S.apply(null,arguments)}function k(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function D(c,y){function v(){}v.prototype=y.prototype,c.aa=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(A,G,W){for(var oe=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)oe[Pe-2]=arguments[Pe];return y.prototype[G].apply(A,oe)}}function z(c){const y=c.length;if(0<y){const v=Array(y);for(let A=0;A<y;A++)v[A]=c[A];return v}return[]}function P(c,y){for(let v=1;v<arguments.length;v++){const A=arguments[v];if(p(A)){const G=c.length||0,W=A.length||0;c.length=G+W;for(let oe=0;oe<W;oe++)c[G+oe]=A[oe]}else c.push(A)}}class F{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function H(c){return/^[\s\xa0]*$/.test(c)}function $(){var c=g.navigator;return c&&(c=c.userAgent)?c:""}function ee(c){return ee[" "](c),c}ee[" "]=function(){};var Z=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function le(c,y,v){for(const A in c)y.call(v,c[A],A,c)}function O(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function R(c){const y={};for(const v in c)y[v]=c[v];return y}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(c,y){let v,A;for(let G=1;G<arguments.length;G++){A=arguments[G];for(v in A)c[v]=A[v];for(let W=0;W<N.length;W++)v=N[W],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function I(c){var y=1;c=c.split(":");const v=[];for(;0<y&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function q(c){g.setTimeout(()=>{throw c},0)}function j(){var c=me;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Ye{constructor(){this.h=this.g=null}add(y,v){const A=Ge.get();A.set(y,v),this.h?this.h.next=A:this.g=A,this.h=A}}var Ge=new F(()=>new re,c=>c.reset());class re{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ye,pe=!1,me=new Ye,V=()=>{const c=g.Promise.resolve(void 0);ye=()=>{c.then(ie)}};var ie=()=>{for(var c;c=j();){try{c.h.call(c.g)}catch(v){q(v)}var y=Ge;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}pe=!1};function ge(){this.s=this.s,this.C=this.C}ge.prototype.s=!1,ge.prototype.ma=function(){this.s||(this.s=!0,this.N())},ge.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var ce=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};g.addEventListener("test",v,y),g.removeEventListener("test",v,y)}catch{}return c}();function Re(c,y){if(ue.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(Z){e:{try{ee(y.nodeName);var G=!0;break e}catch{}G=!1}G||(y=null)}}else v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ke[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Re.aa.h.call(this)}}D(Re,ue);var ke={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var vt="closure_listenable_"+(1e6*Math.random()|0),ze=0;function ut(c,y,v,A,G){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!A,this.ha=G,this.key=++ze,this.da=this.fa=!1}function We(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function nn(c){this.src=c,this.g={},this.h=0}nn.prototype.add=function(c,y,v,A,G){var W=c.toString();c=this.g[W],c||(c=this.g[W]=[],this.h++);var oe=wn(c,y,A,G);return-1<oe?(y=c[oe],v||(y.fa=!1)):(y=new ut(y,this.src,W,!!A,G),y.fa=v,c.push(y)),y};function Rs(c,y){var v=y.type;if(v in c.g){var A=c.g[v],G=Array.prototype.indexOf.call(A,y,void 0),W;(W=0<=G)&&Array.prototype.splice.call(A,G,1),W&&(We(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function wn(c,y,v,A){for(var G=0;G<c.length;++G){var W=c[G];if(!W.da&&W.listener==y&&W.capture==!!v&&W.ha==A)return G}return-1}var da="closure_lm_"+(1e6*Math.random()|0),fa={};function ks(c,y,v,A,G){if(Array.isArray(y)){for(var W=0;W<y.length;W++)ks(c,y[W],v,A,G);return null}return v=Su(v),c&&c[vt]?c.K(y,v,_(A)?!!A.capture:!1,G):Dl(c,y,v,!1,A,G)}function Dl(c,y,v,A,G,W){if(!y)throw Error("Invalid event type");var oe=_(G)?!!G.capture:!!G,Pe=Ol(c);if(Pe||(c[da]=Pe=new nn(c)),v=Pe.add(y,v,A,oe,W),v.proxy)return v;if(A=gr(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)ce||(G=oe),G===void 0&&(G=!1),c.addEventListener(y.toString(),A,G);else if(c.attachEvent)c.attachEvent(_r(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function gr(){function c(v){return y.call(c.src,c.listener,v)}const y=ud;return c}function pr(c,y,v,A,G){if(Array.isArray(y))for(var W=0;W<y.length;W++)pr(c,y[W],v,A,G);else A=_(A)?!!A.capture:!!A,v=Su(v),c&&c[vt]?(c=c.i,y=String(y).toString(),y in c.g&&(W=c.g[y],v=wn(W,v,A,G),-1<v&&(We(W[v]),Array.prototype.splice.call(W,v,1),W.length==0&&(delete c.g[y],c.h--)))):c&&(c=Ol(c))&&(y=c.g[y.toString()],c=-1,y&&(c=wn(y,v,A,G)),(v=-1<c?y[c]:null)&&xi(v))}function xi(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[vt])Rs(y.i,c);else{var v=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(v,A,c.capture):y.detachEvent?y.detachEvent(_r(v),A):y.addListener&&y.removeListener&&y.removeListener(A),(v=Ol(y))?(Rs(v,c),v.h==0&&(v.src=null,y[da]=null)):We(c)}}}function _r(c){return c in fa?fa[c]:fa[c]="on"+c}function ud(c,y){if(c.da)c=!0;else{y=new Re(y,this);var v=c.listener,A=c.ha||c.src;c.fa&&xi(c),c=v.call(A,y)}return c}function Ol(c){return c=c[da],c instanceof nn?c:null}var hn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Su(c){return typeof c=="function"?c:(c[hn]||(c[hn]=function(y){return c.handleEvent(y)}),c[hn])}function wt(){ge.call(this),this.i=new nn(this),this.M=this,this.F=null}D(wt,ge),wt.prototype[vt]=!0,wt.prototype.removeEventListener=function(c,y,v,A){pr(this,c,y,v,A)};function Ot(c,y){var v,A=c.F;if(A)for(v=[];A;A=A.F)v.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new ue(y,c);else if(y instanceof ue)y.target=y.target||c;else{var G=y;y=new ue(A,c),w(y,G)}if(G=!0,v)for(var W=v.length-1;0<=W;W--){var oe=y.g=v[W];G=Cs(oe,A,!0,y)&&G}if(oe=y.g=c,G=Cs(oe,A,!0,y)&&G,G=Cs(oe,A,!1,y)&&G,v)for(W=0;W<v.length;W++)oe=y.g=v[W],G=Cs(oe,A,!1,y)&&G}wt.prototype.N=function(){if(wt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var v=c.g[y],A=0;A<v.length;A++)We(v[A]);delete c.g[y],c.h--}}this.F=null},wt.prototype.K=function(c,y,v,A){return this.i.add(String(c),y,!1,v,A)},wt.prototype.L=function(c,y,v,A){return this.i.add(String(c),y,!0,v,A)};function Cs(c,y,v,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var G=!0,W=0;W<y.length;++W){var oe=y[W];if(oe&&!oe.da&&oe.capture==v){var Pe=oe.listener,Rt=oe.ha||oe.src;oe.fa&&Rs(c.i,oe),G=Pe.call(Rt,A)!==!1&&G}}return G&&!A.defaultPrevented}function wu(c,y,v){if(typeof c=="function")v&&(c=S(c,v));else if(c&&typeof c.handleEvent=="function")c=S(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:g.setTimeout(c,y||0)}function Ml(c){c.g=wu(()=>{c.g=null,c.i&&(c.i=!1,Ml(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class cd extends ge{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Ml(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ei(c){ge.call(this),this.h=c,this.g={}}D(Ei,ge);var ma=[];function Yt(c){le(c.g,function(y,v){this.g.hasOwnProperty(v)&&xi(y)},c),c.g={}}Ei.prototype.N=function(){Ei.aa.N.call(this),Yt(this)},Ei.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ll=g.JSON.stringify,ss=g.JSON.parse,sn=class{stringify(c){return g.JSON.stringify(c,void 0)}parse(c){return g.JSON.parse(c,void 0)}};function Vl(){}Vl.prototype.h=null;function Nu(c){return c.h||(c.h=c.i())}function Ru(){}var as={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ga(){ue.call(this,"d")}D(ga,ue);function Kn(){ue.call(this,"c")}D(Kn,ue);var Nn={},pa=null;function yr(){return pa=pa||new wt}Nn.La="serverreachability";function Pl(c){ue.call(this,Nn.La,c)}D(Pl,ue);function _a(c){const y=yr();Ot(y,new Pl(y))}Nn.STAT_EVENT="statevent";function vr(c,y){ue.call(this,Nn.STAT_EVENT,c),this.stat=y}D(vr,ue);function pt(c){const y=yr();Ot(y,new vr(y,c))}Nn.Ma="timingevent";function ku(c,y){ue.call(this,Nn.Ma,c),this.size=y}D(ku,ue);function ya(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){c()},y)}function va(){this.g=!0}va.prototype.xa=function(){this.g=!1};function Cu(c,y,v,A,G,W){c.info(function(){if(c.g)if(W)for(var oe="",Pe=W.split("&"),Rt=0;Rt<Pe.length;Rt++){var Ue=Pe[Rt].split("=");if(1<Ue.length){var Vt=Ue[0];Ue=Ue[1];var kt=Vt.split("_");oe=2<=kt.length&&kt[1]=="type"?oe+(Vt+"="+Ue+"&"):oe+(Vt+"=redacted&")}}else oe=null;else oe=W;return"XMLHTTP REQ ("+A+") [attempt "+G+"]: "+y+`
`+v+`
`+oe})}function Iu(c,y,v,A,G,W,oe){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+G+"]: "+y+`
`+v+`
`+W+" "+oe})}function xa(c,y,v,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Mt(c,v)+(A?" "+A:"")})}function is(c,y){c.info(function(){return"TIMEOUT: "+y})}va.prototype.info=function(){};function Mt(c,y){if(!c.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var A=v[c];if(!(2>A.length)){var G=A[1];if(Array.isArray(G)&&!(1>G.length)){var W=G[0];if(W!="noop"&&W!="stop"&&W!="close")for(var oe=1;oe<G.length;oe++)G[oe]=""}}}}return Ll(v)}catch{return y}}var Nt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Is={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ti;function xr(){}D(xr,Vl),xr.prototype.g=function(){return new XMLHttpRequest},xr.prototype.i=function(){return{}},Ti=new xr;function rs(c,y,v,A){this.j=c,this.i=y,this.l=v,this.R=A||1,this.U=new Ei(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ul}function Ul(){this.i=null,this.g="",this.h=!1}var Ea={},bi={};function Fn(c,y,v){c.L=1,c.v=wi(ct(y)),c.m=v,c.P=!0,js(c,null)}function js(c,y){c.F=Date.now(),it(c),c.A=ct(c.v);var v=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),Ms(v.i,"t",A),c.C=0,v=c.j.J,c.h=new Ul,c.g=Fu(c.j,v?y:null,!c.m),0<c.O&&(c.M=new cd(S(c.Y,c,c.g),c.O)),y=c.U,v=c.g,A=c.ca;var G="readystatechange";Array.isArray(G)||(G&&(ma[0]=G.toString()),G=ma);for(var W=0;W<G.length;W++){var oe=ks(v,G[W],A||y.handleEvent,!1,y.h||y);if(!oe)break;y.g[oe.key]=oe}y=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),_a(),Cu(c.i,c.u,c.A,c.l,c.R,c.m)}rs.prototype.ca=function(c){c=c.target;const y=this.M;y&&jn(c)==3?y.j():this.Y(c)},rs.prototype.Y=function(c){try{if(c==this.g)e:{const kt=jn(this.g);var y=this.g.Ba();const Us=this.g.Z();if(!(3>kt)&&(kt!=3||this.g&&(this.h.h||this.g.oa()||Vu(this.g)))){this.J||kt!=4||y==7||(y==8||0>=Us?_a(3):_a(2)),Er(this);var v=this.g.Z();this.X=v;t:if(Ta(this)){var A=Vu(this.g);c="";var G=A.length,W=jn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){dn(this),pn(this);var oe="";break t}this.h.i=new g.TextDecoder}for(y=0;y<G;y++)this.h.h=!0,c+=this.h.i.decode(A[y],{stream:!(W&&y==G-1)});A.length=0,this.h.g+=c,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=v==200,Iu(this.i,this.u,this.A,this.l,this.R,kt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Pe,Rt=this.g;if((Pe=Rt.g?Rt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(Pe)){var Ue=Pe;break t}}Ue=null}if(v=Ue)xa(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_n(this,v);else{this.o=!1,this.s=3,pt(12),dn(this),pn(this);break e}}if(this.P){v=!0;let zt;for(;!this.J&&this.C<oe.length;)if(zt=ba(this,oe),zt==bi){kt==4&&(this.s=4,pt(14),v=!1),xa(this.i,this.l,null,"[Incomplete Response]");break}else if(zt==Ea){this.s=4,pt(15),xa(this.i,this.l,oe,"[Invalid Chunk]"),v=!1;break}else xa(this.i,this.l,zt,null),_n(this,zt);if(Ta(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),kt!=4||oe.length!=0||this.h.h||(this.s=1,pt(16),v=!1),this.o=this.o&&v,!v)xa(this.i,this.l,oe,"[Invalid Chunked Response]"),dn(this),pn(this);else if(0<oe.length&&!this.W){this.W=!0;var Vt=this.j;Vt.g==this&&Vt.ba&&!Vt.M&&(Vt.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),Di(Vt),Vt.M=!0,pt(11))}}else xa(this.i,this.l,oe,null),_n(this,oe);kt==4&&dn(this),this.o&&!this.J&&(kt==4?zu(this.j,this):(this.o=!1,it(this)))}else pd(this.g),v==400&&0<oe.indexOf("Unknown SID")?(this.s=3,pt(12)):(this.s=0,pt(13)),dn(this),pn(this)}}}catch{}finally{}};function Ta(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function ba(c,y){var v=c.C,A=y.indexOf(`
`,v);return A==-1?bi:(v=Number(y.substring(v,A)),isNaN(v)?Ea:(A+=1,A+v>y.length?bi:(y=y.slice(A,A+v),c.C=A+v,y)))}rs.prototype.cancel=function(){this.J=!0,dn(this)};function it(c){c.S=Date.now()+c.I,Bl(c,c.I)}function Bl(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ya(S(c.ba,c),y)}function Er(c){c.B&&(g.clearTimeout(c.B),c.B=null)}rs.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(is(this.i,this.A),this.L!=2&&(_a(),pt(17)),dn(this),this.s=2,pn(this)):Bl(this,this.S-c)};function pn(c){c.j.G==0||c.J||zu(c.j,c)}function dn(c){Er(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Yt(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function _n(c,y){try{var v=c.j;if(v.G!=0&&(v.g==c||Aa(v.h,c))){if(!c.K&&Aa(v.h,c)&&v.G==3){try{var A=v.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var G=A;if(G[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)Ir(v),kr(v);else break e;Xl(v),pt(18)}}else v.za=G[1],0<v.za-v.T&&37500>G[2]&&v.F&&v.v==0&&!v.C&&(v.C=ya(S(v.Za,v),6e3));if(1>=ju(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Ps(v,11)}else if((c.K||v.g==c)&&Ir(v),!H(y))for(G=v.Da.g.parse(y),y=0;y<G.length;y++){let Ue=G[y];if(v.T=Ue[0],Ue=Ue[1],v.G==2)if(Ue[0]=="c"){v.K=Ue[1],v.ia=Ue[2];const Vt=Ue[3];Vt!=null&&(v.la=Vt,v.j.info("VER="+v.la));const kt=Ue[4];kt!=null&&(v.Aa=kt,v.j.info("SVER="+v.Aa));const Us=Ue[5];Us!=null&&typeof Us=="number"&&0<Us&&(A=1.5*Us,v.L=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const zt=c.g;if(zt){const fs=zt.g?zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fs){var W=A.h;W.g||fs.indexOf("spdy")==-1&&fs.indexOf("quic")==-1&&fs.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(Sa(W,W.h),W.h=null))}if(A.D){const Jl=zt.g?zt.g.getResponseHeader("X-HTTP-Session-Id"):null;Jl&&(A.ya=Jl,qe(A.I,A.D,Jl))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),A=v;var oe=c;if(A.qa=Ku(A,A.J?A.ia:null,A.W),oe.K){Rn(A.h,oe);var Pe=oe,Rt=A.L;Rt&&(Pe.I=Rt),Pe.B&&(Er(Pe),it(Pe)),A.g=oe}else Bu(A);0<v.i.length&&Cr(v)}else Ue[0]!="stop"&&Ue[0]!="close"||Ps(v,7);else v.G==3&&(Ue[0]=="stop"||Ue[0]=="close"?Ue[0]=="stop"?Ps(v,7):Yl(v):Ue[0]!="noop"&&v.l&&v.l.ta(Ue),v.v=0)}}_a(4)}catch{}}var hd=class{constructor(c,y){this.g=c,this.map=y}};function Hl(c){this.l=c||10,g.PerformanceNavigationTiming?(c=g.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function zl(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ju(c){return c.h?1:c.g?c.g.size:0}function Aa(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Sa(c,y){c.g?c.g.add(y):c.h=y}function Rn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Hl.prototype.cancel=function(){if(this.i=an(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function an(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.D);return y}return z(c.i)}function Du(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],v=c.length,A=0;A<v;A++)y.push(c[A]);return y}y=[],v=0;for(A in c)y[v++]=c[A];return y}function dd(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var v=0;v<c;v++)y.push(v);return y}y=[],v=0;for(const A in c)y[v++]=A;return y}}}function Ai(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var v=dd(c),A=Du(c),G=A.length,W=0;W<G;W++)y.call(void 0,A[W],v&&v[W],c)}var ql=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Tr(c,y){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var A=c[v].indexOf("="),G=null;if(0<=A){var W=c[v].substring(0,A);G=c[v].substring(A+1)}else W=c[v];y(W,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Ds(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ds){this.h=c.h,wa(this,c.j),this.o=c.o,this.g=c.g,Si(this,c.s),this.l=c.l;var y=c.i,v=new ls;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),br(this,v),this.m=c.m}else c&&(y=String(c).match(ql))?(this.h=!1,wa(this,y[1]||"",!0),this.o=Na(y[2]||""),this.g=Na(y[3]||"",!0),Si(this,y[4]),this.l=Na(y[5]||"",!0),br(this,y[6]||"",!0),this.m=Na(y[7]||"")):(this.h=!1,this.i=new ls(null,this.h))}Ds.prototype.toString=function(){var c=[],y=this.j;y&&c.push(kn(y,Kl,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(kn(y,Kl,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(kn(v,v.charAt(0)=="/"?Fl:Ou,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",kn(v,gd)),c.join("")};function ct(c){return new Ds(c)}function wa(c,y,v){c.j=v?Na(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Si(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function br(c,y,v){y instanceof ls?(c.i=y,Gl(c.i,c.h)):(v||(y=kn(y,md)),c.i=new ls(y,c.h))}function qe(c,y,v){c.i.set(y,v)}function wi(c){return qe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Na(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function kn(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,fd),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function fd(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Kl=/[#\/\?@]/g,Ou=/[#\?:]/g,Fl=/[#\?]/g,md=/[#\?@]/g,gd=/#/g;function ls(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Cn(c){c.g||(c.g=new Map,c.h=0,c.i&&Tr(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}s=ls.prototype,s.add=function(c,y){Cn(this),this.i=null,c=Ls(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Ar(c,y){Cn(c),y=Ls(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Os(c,y){return Cn(c),y=Ls(c,y),c.g.has(y)}s.forEach=function(c,y){Cn(this),this.g.forEach(function(v,A){v.forEach(function(G){c.call(y,G,A,this)},this)},this)},s.na=function(){Cn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let A=0;A<y.length;A++){const G=c[A];for(let W=0;W<G.length;W++)v.push(y[A])}return v},s.V=function(c){Cn(this);let y=[];if(typeof c=="string")Os(this,c)&&(y=y.concat(this.g.get(Ls(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)y=y.concat(c[v])}return y},s.set=function(c,y){return Cn(this),this.i=null,c=Ls(this,c),Os(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},s.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Ms(c,y,v){Ar(c,y),0<v.length&&(c.i=null,c.g.set(Ls(c,y),z(v)),c.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var A=y[v];const W=encodeURIComponent(String(A)),oe=this.V(A);for(A=0;A<oe.length;A++){var G=W;oe[A]!==""&&(G+="="+encodeURIComponent(String(oe[A]))),c.push(G)}}return this.i=c.join("&")};function Ls(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Gl(c,y){y&&!c.j&&(Cn(c),c.i=null,c.g.forEach(function(v,A){var G=A.toLowerCase();A!=G&&(Ar(this,A),Ms(this,G,v))},c)),c.j=y}function Mu(c,y){const v=new va;if(g.Image){const A=new Image;A.onload=k(In,v,"TestLoadImage: loaded",!0,y,A),A.onerror=k(In,v,"TestLoadImage: error",!1,y,A),A.onabort=k(In,v,"TestLoadImage: abort",!1,y,A),A.ontimeout=k(In,v,"TestLoadImage: timeout",!1,y,A),g.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function Ni(c,y){const v=new va,A=new AbortController,G=setTimeout(()=>{A.abort(),In(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(W=>{clearTimeout(G),W.ok?In(v,"TestPingServer: ok",!0,y):In(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(G),In(v,"TestPingServer: error",!1,y)})}function In(c,y,v,A,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),A(v)}catch{}}function Ri(){this.g=new sn}function os(c,y,v){const A=v||"";try{Ai(c,function(G,W){let oe=G;_(G)&&(oe=Ll(G)),y.push(A+W+"="+encodeURIComponent(oe))})}catch(G){throw y.push(A+"type="+encodeURIComponent("_badmap")),G}}function Ra(c){this.l=c.Ub||null,this.j=c.eb||!1}D(Ra,Vl),Ra.prototype.g=function(){return new Vs(this.l,this.j)},Ra.prototype.i=function(c){return function(){return c}}({});function Vs(c,y){wt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(Vs,wt),s=Vs.prototype,s.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,cs(this)},s.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||g).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,us(this)),this.readyState=0},s.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,cs(this)),this.g&&(this.readyState=3,cs(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;$l(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function $l(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}s.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?us(this):cs(this),this.readyState==3&&$l(this)}},s.Ra=function(c){this.g&&(this.response=this.responseText=c,us(this))},s.Qa=function(c){this.g&&(this.response=c,us(this))},s.ga=function(){this.g&&us(this)};function us(c){c.readyState=4,c.l=null,c.j=null,c.v=null,cs(c)}s.setRequestHeader=function(c,y){this.u.append(c,y)},s.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function cs(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Vs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Ql(c){let y="";return le(c,function(v,A){y+=A,y+=":",y+=v,y+=`\r
`}),y}function Lt(c,y,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=Ql(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):qe(c,y,v))}function $e(c){wt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D($e,wt);var Sr=/^https?$/i,ki=["POST","PUT"];s=$e.prototype,s.Ha=function(c){this.J=c},s.ea=function(c,y,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ti.g(),this.v=this.o?Nu(this.o):Nu(Ti),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(W){Lu(this,W);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var G in A)v.set(G,A[G]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const W of A.keys())v.set(W,A.get(W));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(W=>W.toLowerCase()=="content-type"),G=g.FormData&&c instanceof g.FormData,!(0<=Array.prototype.indexOf.call(ki,y,void 0))||A||G||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,oe]of v)this.g.setRequestHeader(W,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ci(this),this.u=!0,this.g.send(c),this.u=!1}catch(W){Lu(this,W)}};function Lu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,wr(c),hs(c)}function wr(c){c.A||(c.A=!0,Ot(c,"complete"),Ot(c,"error"))}s.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ot(this,"complete"),Ot(this,"abort"),hs(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hs(this,!0)),$e.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Nr(this):this.bb())},s.bb=function(){Nr(this)};function Nr(c){if(c.h&&typeof d<"u"&&(!c.v[1]||jn(c)!=4||c.Z()!=2)){if(c.u&&jn(c)==4)wu(c.Ea,0,c);else if(Ot(c,"readystatechange"),jn(c)==4){c.h=!1;try{const oe=c.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var A;if(A=oe===0){var G=String(c.D).match(ql)[1]||null;!G&&g.self&&g.self.location&&(G=g.self.location.protocol.slice(0,-1)),A=!Sr.test(G?G.toLowerCase():"")}v=A}if(v)Ot(c,"complete"),Ot(c,"success");else{c.m=6;try{var W=2<jn(c)?c.g.statusText:""}catch{W=""}c.l=W+" ["+c.Z()+"]",wr(c)}}finally{hs(c)}}}}function hs(c,y){if(c.g){Ci(c);const v=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Ot(c,"ready");try{v.onreadystatechange=A}catch{}}}function Ci(c){c.I&&(g.clearTimeout(c.I),c.I=null)}s.isActive=function(){return!!this.g};function jn(c){return c.g?c.g.readyState:0}s.Z=function(){try{return 2<jn(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),ss(y)}};function Vu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function pd(c){const y={};c=(c.g&&2<=jn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(H(c[A]))continue;var v=I(c[A]);const G=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const W=y[G]||[];y[G]=W,W.push(v)}O(y,function(A){return A.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ii(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Rr(c){this.Aa=0,this.i=[],this.j=new va,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ii("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ii("baseRetryDelayMs",5e3,c),this.cb=Ii("retryDelaySeedMs",1e4,c),this.Wa=Ii("forwardChannelMaxRetries",2,c),this.wa=Ii("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Hl(c&&c.concurrentRequestLimit),this.Da=new Ri,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=Rr.prototype,s.la=8,s.G=1,s.connect=function(c,y,v,A){pt(0),this.W=c,this.H=y||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.I=Ku(this,null,this.W),Cr(this)};function Yl(c){if(Pu(c),c.G==3){var y=c.U++,v=ct(c.I);if(qe(v,"SID",c.K),qe(v,"RID",y),qe(v,"TYPE","terminate"),ji(c,v),y=new rs(c,c.j,y),y.L=2,y.v=wi(ct(v)),v=!1,g.navigator&&g.navigator.sendBeacon)try{v=g.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&g.Image&&(new Image().src=y.v,v=!0),v||(y.g=Fu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),it(y)}qu(c)}function kr(c){c.g&&(Di(c),c.g.cancel(),c.g=null)}function Pu(c){kr(c),c.u&&(g.clearTimeout(c.u),c.u=null),Ir(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&g.clearTimeout(c.s),c.s=null)}function Cr(c){if(!zl(c.h)&&!c.s){c.s=!0;var y=c.Ga;ye||V(),pe||(ye(),pe=!0),me.add(y,c),c.B=0}}function _d(c,y){return ju(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ya(S(c.Ga,c,y),Zl(c,c.B)),c.B++,!0)}s.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const G=new rs(this,this.j,c);let W=this.o;if(this.S&&(W?(W=R(W),w(W,this.S)):W=this.S),this.m!==null||this.O||(G.H=W,W=null),this.P)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Uu(this,G,y),v=ct(this.I),qe(v,"RID",c),qe(v,"CVER",22),this.D&&qe(v,"X-HTTP-Session-Id",this.D),ji(this,v),W&&(this.O?y="headers="+encodeURIComponent(String(Ql(W)))+"&"+y:this.m&&Lt(v,this.m,W)),Sa(this.h,G),this.Ua&&qe(v,"TYPE","init"),this.P?(qe(v,"$req",y),qe(v,"SID","null"),G.T=!0,Fn(G,v,null)):Fn(G,v,y),this.G=2}}else this.G==3&&(c?Wl(this,c):this.i.length==0||zl(this.h)||Wl(this))};function Wl(c,y){var v;y?v=y.l:v=c.U++;const A=ct(c.I);qe(A,"SID",c.K),qe(A,"RID",v),qe(A,"AID",c.T),ji(c,A),c.m&&c.o&&Lt(A,c.m,c.o),v=new rs(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Uu(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Sa(c.h,v),Fn(v,A,y)}function ji(c,y){c.H&&le(c.H,function(v,A){qe(y,A,v)}),c.l&&Ai({},function(v,A){qe(y,A,v)})}function Uu(c,y,v){v=Math.min(c.i.length,v);var A=c.l?S(c.l.Na,c.l,c):null;e:{var G=c.i;let W=-1;for(;;){const oe=["count="+v];W==-1?0<v?(W=G[0].g,oe.push("ofs="+W)):W=0:oe.push("ofs="+W);let Pe=!0;for(let Rt=0;Rt<v;Rt++){let Ue=G[Rt].g;const Vt=G[Rt].map;if(Ue-=W,0>Ue)W=Math.max(0,G[Rt].g-100),Pe=!1;else try{os(Vt,oe,"req"+Ue+"_")}catch{A&&A(Vt)}}if(Pe){A=oe.join("&");break e}}}return c=c.i.splice(0,v),y.D=c,A}function Bu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;ye||V(),pe||(ye(),pe=!0),me.add(y,c),c.v=0}}function Xl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ya(S(c.Fa,c),Zl(c,c.v)),c.v++,!0)}s.Fa=function(){if(this.u=null,Hu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ya(S(this.ab,this),c)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,pt(10),kr(this),Hu(this))};function Di(c){c.A!=null&&(g.clearTimeout(c.A),c.A=null)}function Hu(c){c.g=new rs(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=ct(c.qa);qe(y,"RID","rpc"),qe(y,"SID",c.K),qe(y,"AID",c.T),qe(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&qe(y,"TO",c.ja),qe(y,"TYPE","xmlhttp"),ji(c,y),c.m&&c.o&&Lt(y,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=wi(ct(y)),v.m=null,v.P=!0,js(v,c)}s.Za=function(){this.C!=null&&(this.C=null,kr(this),Xl(this),pt(19))};function Ir(c){c.C!=null&&(g.clearTimeout(c.C),c.C=null)}function zu(c,y){var v=null;if(c.g==y){Ir(c),Di(c),c.g=null;var A=2}else if(Aa(c.h,y))v=y.D,Rn(c.h,y),A=1;else return;if(c.G!=0){if(y.o)if(A==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var G=c.B;A=yr(),Ot(A,new ku(A,v)),Cr(c)}else Bu(c);else if(G=y.s,G==3||G==0&&0<y.X||!(A==1&&_d(c,y)||A==2&&Xl(c)))switch(v&&0<v.length&&(y=c.h,y.i=y.i.concat(v)),G){case 1:Ps(c,5);break;case 4:Ps(c,10);break;case 3:Ps(c,6);break;default:Ps(c,2)}}}function Zl(c,y){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*y}function Ps(c,y){if(c.j.info("Error code "+y),y==2){var v=S(c.fb,c),A=c.Xa;const G=!A;A=new Ds(A||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||wa(A,"https"),wi(A),G?Mu(A.toString(),v):Ni(A.toString(),v)}else pt(2);c.G=0,c.l&&c.l.sa(y),qu(c),Pu(c)}s.fb=function(c){c?(this.j.info("Successfully pinged google.com"),pt(2)):(this.j.info("Failed to ping google.com"),pt(1))};function qu(c){if(c.G=0,c.ka=[],c.l){const y=an(c.h);(y.length!=0||c.i.length!=0)&&(P(c.ka,y),P(c.ka,c.i),c.h.i.length=0,z(c.i),c.i.length=0),c.l.ra()}}function Ku(c,y,v){var A=v instanceof Ds?ct(v):new Ds(v);if(A.g!="")y&&(A.g=y+"."+A.g),Si(A,A.s);else{var G=g.location;A=G.protocol,y=y?y+"."+G.hostname:G.hostname,G=+G.port;var W=new Ds(null);A&&wa(W,A),y&&(W.g=y),G&&Si(W,G),v&&(W.l=v),A=W}return v=c.D,y=c.ya,v&&y&&qe(A,v,y),qe(A,"VER",c.la),ji(c,A),A}function Fu(c,y,v){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new $e(new Ra({eb:v})):new $e(c.pa),y.Ha(c.J),y}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Gu(){}s=Gu.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function jr(){}jr.prototype.g=function(c,y){return new rn(c,y)};function rn(c,y){wt.call(this),this.g=new Rr(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!H(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!H(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new ds(this)}D(rn,wt),rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){Yl(this.g)},rn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Ll(c),c=v);y.i.push(new hd(y.Ya++,c)),y.G==3&&Cr(y)},rn.prototype.N=function(){this.g.l=null,delete this.j,Yl(this.g),delete this.g,rn.aa.N.call(this)};function $u(c){ga.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}D($u,ga);function Qu(){Kn.call(this),this.status=1}D(Qu,Kn);function ds(c){this.g=c}D(ds,Gu),ds.prototype.ua=function(){Ot(this.g,"a")},ds.prototype.ta=function(c){Ot(this.g,new $u(c))},ds.prototype.sa=function(c){Ot(this.g,new Qu)},ds.prototype.ra=function(){Ot(this.g,"b")},jr.prototype.createWebChannel=jr.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,F0=function(){return new jr},K0=function(){return yr()},q0=Nn,Lm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Nt.NO_ERROR=0,Nt.TIMEOUT=8,Nt.HTTP_ERROR=6,ih=Nt,Is.COMPLETE="complete",z0=Is,Ru.EventType=as,as.OPEN="a",as.CLOSE="b",as.ERROR="c",as.MESSAGE="d",wt.prototype.listen=wt.prototype.K,Go=Ru,$e.prototype.listenOnce=$e.prototype.L,$e.prototype.getLastError=$e.prototype.Ka,$e.prototype.getLastErrorCode=$e.prototype.Ba,$e.prototype.getStatus=$e.prototype.Z,$e.prototype.getResponseJson=$e.prototype.Oa,$e.prototype.getResponseText=$e.prototype.oa,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Ha,H0=$e}).apply(typeof $c<"u"?$c:typeof self<"u"?self:typeof window<"u"?window:{});const Kv="@firebase/firestore",Fv="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nl="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sr=new fg("@firebase/firestore");function il(){return sr.logLevel}function he(s,...e){if(sr.logLevel<=Oe.DEBUG){const n=e.map(pg);sr.debug(`Firestore (${Nl}): ${s}`,...n)}}function oa(s,...e){if(sr.logLevel<=Oe.ERROR){const n=e.map(pg);sr.error(`Firestore (${Nl}): ${s}`,...n)}}function gl(s,...e){if(sr.logLevel<=Oe.WARN){const n=e.map(pg);sr.warn(`Firestore (${Nl}): ${s}`,...n)}}function pg(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(s="Unexpected state"){const e=`FIRESTORE (${Nl}) INTERNAL ASSERTION FAILED: `+s;throw oa(e),new Error(e)}function Qe(s,e){s||Ae()}function Ne(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends Ns{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class fR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Jt.UNAUTHENTICATED))}shutdown(){}}class mR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class gR{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Qe(this.o===void 0);let i=this.i;const l=p=>this.i!==i?(i=this.i,n(p)):Promise.resolve();let u=new ia;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ia,e.enqueueRetryable(()=>l(this.currentUser))};const d=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await l(this.currentUser)})},g=p=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(p=>g(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ia)}},0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Qe(typeof i.accessToken=="string"),new G0(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string"),new Jt(e)}}class pR{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class _R{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new pR(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Gv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yR{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,bn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Qe(this.o===void 0);const i=u=>{u.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.R;return this.R=u.token,he("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>i(u))};const l=u=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>l(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?l(u):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Gv(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Qe(typeof n.token=="string"),this.R=n.token,new Gv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vR(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<s;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const l=vR(40);for(let u=0;u<l.length;++u)i.length<20&&l[u]<n&&(i+=e.charAt(l[u]%62))}return i}}function Ve(s,e){return s<e?-1:s>e?1:0}function pl(s,e,n){return s.length===e.length&&s.every((i,l)=>n(i,e[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v=-62135596800,Qv=1e6;class jt{static now(){return jt.fromMillis(Date.now())}static fromDate(e){return jt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*Qv);return new jt(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<$v)throw new de(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Qv}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-$v;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new jt(0,0))}static max(){return new Se(new jt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv="__name__";class vs{constructor(e,n,i){n===void 0?n=0:n>e.length&&Ae(),i===void 0?i=e.length-n:i>e.length-n&&Ae(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return vs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof vs?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let l=0;l<i;l++){const u=vs.compareSegments(e.get(l),n.get(l));if(u!==0)return u}return Math.sign(e.length-n.length)}static compareSegments(e,n){const i=vs.isNumericId(e),l=vs.isNumericId(n);return i&&!l?-1:!i&&l?1:i&&l?vs.extractNumericId(e).compare(vs.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ai.fromString(e.substring(4,e.length-2))}}class nt extends vs{construct(e,n,i){return new nt(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new de(ne.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(l=>l.length>0))}return new nt(n)}static emptyPath(){return new nt([])}}const xR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $t extends vs{construct(e,n,i){return new $t(e,n,i)}static isValidIdentifier(e){return xR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Yv}static keyField(){return new $t([Yv])}static fromServerFormat(e){const n=[];let i="",l=0;const u=()=>{if(i.length===0)throw new de(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let d=!1;for(;l<e.length;){const g=e[l];if(g==="\\"){if(l+1===e.length)throw new de(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new de(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(i+=g,l++):(u(),l++)}if(u(),d)throw new de(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $t(n)}static emptyPath(){return new $t([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.path=e}static fromPath(e){return new xe(nt.fromString(e))}static fromName(e){return new xe(nt.fromString(e).popFirst(5))}static empty(){return new xe(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return nt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xe(new nt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const au=-1;function ER(s,e){const n=s.toTimestamp().seconds,i=s.toTimestamp().nanoseconds+1,l=Se.fromTimestamp(i===1e9?new jt(n+1,0):new jt(n,i));return new oi(l,xe.empty(),e)}function TR(s){return new oi(s.readTime,s.key,au)}class oi{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new oi(Se.min(),xe.empty(),au)}static max(){return new oi(Se.max(),xe.empty(),au)}}function bR(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=xe.comparator(s.documentKey,e.documentKey),n!==0?n:Ve(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class SR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rl(s){if(s.code!==ne.FAILED_PRECONDITION||s.message!==AR)throw s;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new se((i,l)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(i,l)},this.catchCallback=u=>{this.wrapFailure(n,u).next(i,l)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof se?n:se.resolve(n)}catch(n){return se.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):se.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):se.reject(n)}static resolve(e){return new se((n,i)=>{n(e)})}static reject(e){return new se((n,i)=>{i(e)})}static waitFor(e){return new se((n,i)=>{let l=0,u=0,d=!1;e.forEach(g=>{++l,g.next(()=>{++u,d&&u===l&&n()},p=>i(p))}),d=!0,u===l&&n()})}static or(e){let n=se.resolve(!1);for(const i of e)n=n.next(l=>l?se.resolve(l):i());return n}static forEach(e,n){const i=[];return e.forEach((l,u)=>{i.push(n.call(this,l,u))}),this.waitFor(i)}static mapArray(e,n){return new se((i,l)=>{const u=e.length,d=new Array(u);let g=0;for(let p=0;p<u;p++){const _=p;n(e[_]).next(E=>{d[_]=E,++g,g===u&&i(d)},E=>l(E))}})}static doWhile(e,n){return new se((i,l)=>{const u=()=>{e()===!0?n().next(()=>{u()},l):i()};u()})}}function wR(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function kl(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.oe(i),this._e=i=>n.writeSequenceNumber(i))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Uh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _g=-1;function Bh(s){return s==null}function vh(s){return s===0&&1/s==-1/0}function NR(s){return typeof s=="number"&&Number.isInteger(s)&&!vh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0="";function RR(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=Wv(e)),e=kR(s.get(n),e);return Wv(e)}function kR(s,e){let n=e;const i=s.length;for(let l=0;l<i;l++){const u=s.charAt(l);switch(u){case"\0":n+="";break;case Q0:n+="";break;default:n+=u}}return n}function Wv(s){return s+Q0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xv(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function pi(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function Y0(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,n){this.comparator=e,this.root=n||Gt.EMPTY}insert(e,n){return new ot(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const l=this.comparator(e,i.key);if(l===0)return n+i.left.size;l<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Qc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Qc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Qc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Qc(this.root,e,this.comparator,!0)}}class Qc{constructor(e,n,i,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?i(e.key,n):1,n&&l&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,n,i,l,u){this.key=e,this.value=n,this.color=i??Gt.RED,this.left=l??Gt.EMPTY,this.right=u??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,l,u){return new Gt(e??this.key,n??this.value,i??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let l=this;const u=i(e,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(e,n,i),null):u===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,i)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(e,l.key)===0){if(l.right.isEmpty())return Gt.EMPTY;i=l.right.min(),l=l.copy(i.key,i.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ae();const e=this.left.check();if(e!==this.right.check())throw Ae();return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae()}get value(){throw Ae()}get color(){throw Ae()}get left(){throw Ae()}get right(){throw Ae()}copy(e,n,i,l,u){return this}insert(e,n,i){return new Gt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const l=i.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Zv(this.data.getIterator())}getIteratorFrom(e){return new Zv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof Dt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=i.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Dt(this.comparator);return n.data=e,n}}class Zv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.fields=e,e.sort($t.comparator)}static empty(){return new An([])}unionWith(e){let n=new Dt($t.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new An(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return pl(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new W0("Invalid base64 string: "+u):u}}(e);return new Qt(n)}static fromUint8Array(e){const n=function(l){let u="";for(let d=0;d<l.length;++d)u+=String.fromCharCode(l[d]);return u}(e);return new Qt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let l=0;l<n.length;l++)i[l]=n.charCodeAt(l);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const CR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ui(s){if(Qe(!!s),typeof s=="string"){let e=0;const n=CR.exec(s);if(Qe(!!n),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const i=new Date(s);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:yt(s.seconds),nanos:yt(s.nanos)}}function yt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function ci(s){return typeof s=="string"?Qt.fromBase64String(s):Qt.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0="server_timestamp",Z0="__type__",J0="__previous_value__",eE="__local_write_time__";function yg(s){var e,n;return((n=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[Z0])===null||n===void 0?void 0:n.stringValue)===X0}function Hh(s){const e=s.mapValue.fields[J0];return yg(e)?Hh(e):e}function iu(s){const e=ui(s.mapValue.fields[eE].timestampValue);return new jt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(e,n,i,l,u,d,g,p,_){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=l,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=_}}const xh="(default)";class ru{constructor(e,n){this.projectId=e,this.database=n||xh}static empty(){return new ru("","")}get isDefaultDatabase(){return this.database===xh}isEqual(e){return e instanceof ru&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE="__type__",jR="__max__",Yc={mapValue:{}},nE="__vector__",Eh="value";function hi(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?yg(s)?4:OR(s)?9007199254740991:DR(s)?10:11:Ae()}function Ss(s,e){if(s===e)return!0;const n=hi(s);if(n!==hi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return iu(s).isEqual(iu(e));case 3:return function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const d=ui(l.timestampValue),g=ui(u.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(l,u){return ci(l.bytesValue).isEqual(ci(u.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(l,u){return yt(l.geoPointValue.latitude)===yt(u.geoPointValue.latitude)&&yt(l.geoPointValue.longitude)===yt(u.geoPointValue.longitude)}(s,e);case 2:return function(l,u){if("integerValue"in l&&"integerValue"in u)return yt(l.integerValue)===yt(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const d=yt(l.doubleValue),g=yt(u.doubleValue);return d===g?vh(d)===vh(g):isNaN(d)&&isNaN(g)}return!1}(s,e);case 9:return pl(s.arrayValue.values||[],e.arrayValue.values||[],Ss);case 10:case 11:return function(l,u){const d=l.mapValue.fields||{},g=u.mapValue.fields||{};if(Xv(d)!==Xv(g))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(g[p]===void 0||!Ss(d[p],g[p])))return!1;return!0}(s,e);default:return Ae()}}function lu(s,e){return(s.values||[]).find(n=>Ss(n,e))!==void 0}function _l(s,e){if(s===e)return 0;const n=hi(s),i=hi(e);if(n!==i)return Ve(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(s.booleanValue,e.booleanValue);case 2:return function(u,d){const g=yt(u.integerValue||u.doubleValue),p=yt(d.integerValue||d.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1}(s,e);case 3:return Jv(s.timestampValue,e.timestampValue);case 4:return Jv(iu(s),iu(e));case 5:return Ve(s.stringValue,e.stringValue);case 6:return function(u,d){const g=ci(u),p=ci(d);return g.compareTo(p)}(s.bytesValue,e.bytesValue);case 7:return function(u,d){const g=u.split("/"),p=d.split("/");for(let _=0;_<g.length&&_<p.length;_++){const E=Ve(g[_],p[_]);if(E!==0)return E}return Ve(g.length,p.length)}(s.referenceValue,e.referenceValue);case 8:return function(u,d){const g=Ve(yt(u.latitude),yt(d.latitude));return g!==0?g:Ve(yt(u.longitude),yt(d.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return ex(s.arrayValue,e.arrayValue);case 10:return function(u,d){var g,p,_,E;const b=u.fields||{},S=d.fields||{},k=(g=b[Eh])===null||g===void 0?void 0:g.arrayValue,D=(p=S[Eh])===null||p===void 0?void 0:p.arrayValue,z=Ve(((_=k==null?void 0:k.values)===null||_===void 0?void 0:_.length)||0,((E=D==null?void 0:D.values)===null||E===void 0?void 0:E.length)||0);return z!==0?z:ex(k,D)}(s.mapValue,e.mapValue);case 11:return function(u,d){if(u===Yc.mapValue&&d===Yc.mapValue)return 0;if(u===Yc.mapValue)return 1;if(d===Yc.mapValue)return-1;const g=u.fields||{},p=Object.keys(g),_=d.fields||{},E=Object.keys(_);p.sort(),E.sort();for(let b=0;b<p.length&&b<E.length;++b){const S=Ve(p[b],E[b]);if(S!==0)return S;const k=_l(g[p[b]],_[E[b]]);if(k!==0)return k}return Ve(p.length,E.length)}(s.mapValue,e.mapValue);default:throw Ae()}}function Jv(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Ve(s,e);const n=ui(s),i=ui(e),l=Ve(n.seconds,i.seconds);return l!==0?l:Ve(n.nanos,i.nanos)}function ex(s,e){const n=s.values||[],i=e.values||[];for(let l=0;l<n.length&&l<i.length;++l){const u=_l(n[l],i[l]);if(u)return u}return Ve(n.length,i.length)}function yl(s){return Vm(s)}function Vm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(n){const i=ui(n);return`time(${i.seconds},${i.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(n){return ci(n).toBase64()}(s.bytesValue):"referenceValue"in s?function(n){return xe.fromName(n).toString()}(s.referenceValue):"geoPointValue"in s?function(n){return`geo(${n.latitude},${n.longitude})`}(s.geoPointValue):"arrayValue"in s?function(n){let i="[",l=!0;for(const u of n.values||[])l?l=!1:i+=",",i+=Vm(u);return i+"]"}(s.arrayValue):"mapValue"in s?function(n){const i=Object.keys(n.fields||{}).sort();let l="{",u=!0;for(const d of i)u?u=!1:l+=",",l+=`${d}:${Vm(n.fields[d])}`;return l+"}"}(s.mapValue):Ae()}function rh(s){switch(hi(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Hh(s);return e?16+rh(e):16;case 5:return 2*s.stringValue.length;case 6:return ci(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((l,u)=>l+rh(u),0)}(s.arrayValue);case 10:case 11:return function(i){let l=0;return pi(i.fields,(u,d)=>{l+=u.length+rh(d)}),l}(s.mapValue);default:throw Ae()}}function tx(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Pm(s){return!!s&&"integerValue"in s}function vg(s){return!!s&&"arrayValue"in s}function nx(s){return!!s&&"nullValue"in s}function sx(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function lh(s){return!!s&&"mapValue"in s}function DR(s){var e,n;return((n=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[tE])===null||n===void 0?void 0:n.stringValue)===nE}function Wo(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return pi(s.mapValue.fields,(n,i)=>e.mapValue.fields[n]=Wo(i)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Wo(s.arrayValue.values[n]);return e}return Object.assign({},s)}function OR(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===jR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.value=e}static empty(){return new gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!lh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wo(n)}setAll(e){let n=$t.emptyPath(),i={},l=[];e.forEach((d,g)=>{if(!n.isImmediateParentOf(g)){const p=this.getFieldsMap(n);this.applyChanges(p,i,l),i={},l=[],n=g.popLast()}d?i[g.lastSegment()]=Wo(d):l.push(g.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,i,l)}delete(e){const n=this.field(e.popLast());lh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ss(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let l=n.mapValue.fields[e.get(i)];lh(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,i){pi(n,(l,u)=>e[l]=u);for(const l of i)delete e[l]}clone(){return new gn(Wo(this.value))}}function sE(s){const e=[];return pi(s.fields,(n,i)=>{const l=new $t([n]);if(lh(i)){const u=sE(i.mapValue).fields;if(u.length===0)e.push(l);else for(const d of u)e.push(l.child(d))}else e.push(l)}),new An(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,n,i,l,u,d,g){this.key=e,this.documentType=n,this.version=i,this.readTime=l,this.createTime=u,this.data=d,this.documentState=g}static newInvalidDocument(e){return new en(e,0,Se.min(),Se.min(),Se.min(),gn.empty(),0)}static newFoundDocument(e,n,i,l){return new en(e,1,n,Se.min(),i,l,0)}static newNoDocument(e,n){return new en(e,2,n,Se.min(),Se.min(),gn.empty(),0)}static newUnknownDocument(e,n){return new en(e,3,n,Se.min(),Se.min(),gn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,n){this.position=e,this.inclusive=n}}function ax(s,e,n){let i=0;for(let l=0;l<s.position.length;l++){const u=e[l],d=s.position[l];if(u.field.isKeyField()?i=xe.comparator(xe.fromName(d.referenceValue),n.key):i=_l(d,n.data.field(u.field)),u.dir==="desc"&&(i*=-1),i!==0)break}return i}function ix(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!Ss(s.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e,n="asc"){this.field=e,this.dir=n}}function MR(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{}class St extends aE{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new VR(e,n,i):n==="array-contains"?new BR(e,i):n==="in"?new HR(e,i):n==="not-in"?new zR(e,i):n==="array-contains-any"?new qR(e,i):new St(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new PR(e,i):new UR(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(_l(n,this.value)):n!==null&&hi(this.value)===hi(n)&&this.matchesComparison(_l(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zn extends aE{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Zn(e,n)}matches(e){return iE(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function iE(s){return s.op==="and"}function rE(s){return LR(s)&&iE(s)}function LR(s){for(const e of s.filters)if(e instanceof Zn)return!1;return!0}function Um(s){if(s instanceof St)return s.field.canonicalString()+s.op.toString()+yl(s.value);if(rE(s))return s.filters.map(e=>Um(e)).join(",");{const e=s.filters.map(n=>Um(n)).join(",");return`${s.op}(${e})`}}function lE(s,e){return s instanceof St?function(i,l){return l instanceof St&&i.op===l.op&&i.field.isEqual(l.field)&&Ss(i.value,l.value)}(s,e):s instanceof Zn?function(i,l){return l instanceof Zn&&i.op===l.op&&i.filters.length===l.filters.length?i.filters.reduce((u,d,g)=>u&&lE(d,l.filters[g]),!0):!1}(s,e):void Ae()}function oE(s){return s instanceof St?function(n){return`${n.field.canonicalString()} ${n.op} ${yl(n.value)}`}(s):s instanceof Zn?function(n){return n.op.toString()+" {"+n.getFilters().map(oE).join(" ,")+"}"}(s):"Filter"}class VR extends St{constructor(e,n,i){super(e,n,i),this.key=xe.fromName(i.referenceValue)}matches(e){const n=xe.comparator(e.key,this.key);return this.matchesComparison(n)}}class PR extends St{constructor(e,n){super(e,"in",n),this.keys=uE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class UR extends St{constructor(e,n){super(e,"not-in",n),this.keys=uE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function uE(s,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>xe.fromName(i.referenceValue))}class BR extends St{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return vg(n)&&lu(n.arrayValue,this.value)}}class HR extends St{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&lu(this.value.arrayValue,n)}}class zR extends St{constructor(e,n){super(e,"not-in",n)}matches(e){if(lu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!lu(this.value.arrayValue,n)}}class qR extends St{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!vg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>lu(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e,n=null,i=[],l=[],u=null,d=null,g=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=l,this.limit=u,this.startAt=d,this.endAt=g,this.le=null}}function rx(s,e=null,n=[],i=[],l=null,u=null,d=null){return new KR(s,e,n,i,l,u,d)}function xg(s){const e=Ne(s);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>Um(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(u){return u.field.canonicalString()+u.dir}(i)).join(","),Bh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>yl(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>yl(i)).join(",")),e.le=n}return e.le}function Eg(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!MR(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!lE(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!ix(s.startAt,e.startAt)&&ix(s.endAt,e.endAt)}function Bm(s){return xe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e,n=null,i=[],l=[],u=null,d="F",g=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=l,this.limit=u,this.limitType=d,this.startAt=g,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function FR(s,e,n,i,l,u,d,g){return new Cl(s,e,n,i,l,u,d,g)}function Tg(s){return new Cl(s)}function lx(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function cE(s){return s.collectionGroup!==null}function Xo(s){const e=Ne(s);if(e.he===null){e.he=[];const n=new Set;for(const u of e.explicitOrderBy)e.he.push(u),n.add(u.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Dt($t.comparator);return d.filters.forEach(p=>{p.getFlattenedFilters().forEach(_=>{_.isInequality()&&(g=g.add(_.field))})}),g})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.he.push(new ou(u,i))}),n.has($t.keyField().canonicalString())||e.he.push(new ou($t.keyField(),i))}return e.he}function Es(s){const e=Ne(s);return e.Pe||(e.Pe=GR(e,Xo(s))),e.Pe}function GR(s,e){if(s.limitType==="F")return rx(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(l=>{const u=l.dir==="desc"?"asc":"desc";return new ou(l.field,u)});const n=s.endAt?new Th(s.endAt.position,s.endAt.inclusive):null,i=s.startAt?new Th(s.startAt.position,s.startAt.inclusive):null;return rx(s.path,s.collectionGroup,e,s.filters,s.limit,n,i)}}function Hm(s,e){const n=s.filters.concat([e]);return new Cl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function zm(s,e,n){return new Cl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function zh(s,e){return Eg(Es(s),Es(e))&&s.limitType===e.limitType}function hE(s){return`${xg(Es(s))}|lt:${s.limitType}`}function rl(s){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(l=>oE(l)).join(", ")}]`),Bh(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(l=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(l)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(l=>yl(l)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(l=>yl(l)).join(",")),`Target(${i})`}(Es(s))}; limitType=${s.limitType})`}function qh(s,e){return e.isFoundDocument()&&function(i,l){const u=l.key.path;return i.collectionGroup!==null?l.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(u):xe.isDocumentKey(i.path)?i.path.isEqual(u):i.path.isImmediateParentOf(u)}(s,e)&&function(i,l){for(const u of Xo(i))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0}(s,e)&&function(i,l){for(const u of i.filters)if(!u.matches(l))return!1;return!0}(s,e)&&function(i,l){return!(i.startAt&&!function(d,g,p){const _=ax(d,g,p);return d.inclusive?_<=0:_<0}(i.startAt,Xo(i),l)||i.endAt&&!function(d,g,p){const _=ax(d,g,p);return d.inclusive?_>=0:_>0}(i.endAt,Xo(i),l))}(s,e)}function $R(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function dE(s){return(e,n)=>{let i=!1;for(const l of Xo(s)){const u=QR(l,e,n);if(u!==0)return u;i=i||l.field.isKeyField()}return 0}}function QR(s,e,n){const i=s.field.isKeyField()?xe.comparator(e.key,n.key):function(u,d,g){const p=d.data.field(u),_=g.data.field(u);return p!==null&&_!==null?_l(p,_):Ae()}(s.field,e,n);switch(s.dir){case"asc":return i;case"desc":return-1*i;default:return Ae()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[l,u]of i)if(this.equalsFn(l,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),l=this.inner[i];if(l===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],e))return void(l[u]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let l=0;l<i.length;l++)if(this.equalsFn(i[l][0],e))return i.length===1?delete this.inner[n]:i.splice(l,1),this.innerSize--,!0;return!1}forEach(e){pi(this.inner,(n,i)=>{for(const[l,u]of i)e(l,u)})}isEmpty(){return Y0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR=new ot(xe.comparator);function ua(){return YR}const fE=new ot(xe.comparator);function $o(...s){let e=fE;for(const n of s)e=e.insert(n.key,n);return e}function mE(s){let e=fE;return s.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Ji(){return Zo()}function gE(){return Zo()}function Zo(){return new ur(s=>s.toString(),(s,e)=>s.isEqual(e))}const WR=new ot(xe.comparator),XR=new Dt(xe.comparator);function Me(...s){let e=XR;for(const n of s)e=e.add(n);return e}const ZR=new Dt(Ve);function JR(){return ZR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bg(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vh(e)?"-0":e}}function pE(s){return{integerValue:""+s}}function ek(s,e){return NR(e)?pE(e):bg(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(){this._=void 0}}function tk(s,e,n){return s instanceof bh?function(l,u){const d={fields:{[Z0]:{stringValue:X0},[eE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&yg(u)&&(u=Hh(u)),u&&(d.fields[J0]=u),{mapValue:d}}(n,e):s instanceof uu?yE(s,e):s instanceof cu?vE(s,e):function(l,u){const d=_E(l,u),g=ox(d)+ox(l.Ie);return Pm(d)&&Pm(l.Ie)?pE(g):bg(l.serializer,g)}(s,e)}function nk(s,e,n){return s instanceof uu?yE(s,e):s instanceof cu?vE(s,e):n}function _E(s,e){return s instanceof Ah?function(i){return Pm(i)||function(u){return!!u&&"doubleValue"in u}(i)}(e)?e:{integerValue:0}:null}class bh extends Kh{}class uu extends Kh{constructor(e){super(),this.elements=e}}function yE(s,e){const n=xE(e);for(const i of s.elements)n.some(l=>Ss(l,i))||n.push(i);return{arrayValue:{values:n}}}class cu extends Kh{constructor(e){super(),this.elements=e}}function vE(s,e){let n=xE(e);for(const i of s.elements)n=n.filter(l=>!Ss(l,i));return{arrayValue:{values:n}}}class Ah extends Kh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function ox(s){return yt(s.integerValue||s.doubleValue)}function xE(s){return vg(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function sk(s,e){return s.field.isEqual(e.field)&&function(i,l){return i instanceof uu&&l instanceof uu||i instanceof cu&&l instanceof cu?pl(i.elements,l.elements,Ss):i instanceof Ah&&l instanceof Ah?Ss(i.Ie,l.Ie):i instanceof bh&&l instanceof bh}(s.transform,e.transform)}class ak{constructor(e,n){this.version=e,this.transformResults=n}}class qn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new qn}static exists(e){return new qn(void 0,e)}static updateTime(e){return new qn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function oh(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Fh{}function EE(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Ag(s.key,qn.none()):new pu(s.key,s.data,qn.none());{const n=s.data,i=gn.empty();let l=new Dt($t.comparator);for(let u of e.fields)if(!l.has(u)){let d=n.field(u);d===null&&u.length>1&&(u=u.popLast(),d=n.field(u)),d===null?i.delete(u):i.set(u,d),l=l.add(u)}return new _i(s.key,i,new An(l.toArray()),qn.none())}}function ik(s,e,n){s instanceof pu?function(l,u,d){const g=l.value.clone(),p=cx(l.fieldTransforms,u,d.transformResults);g.setAll(p),u.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(s,e,n):s instanceof _i?function(l,u,d){if(!oh(l.precondition,u))return void u.convertToUnknownDocument(d.version);const g=cx(l.fieldTransforms,u,d.transformResults),p=u.data;p.setAll(TE(l)),p.setAll(g),u.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(s,e,n):function(l,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,n)}function Jo(s,e,n,i){return s instanceof pu?function(u,d,g,p){if(!oh(u.precondition,d))return g;const _=u.value.clone(),E=hx(u.fieldTransforms,p,d);return _.setAll(E),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null}(s,e,n,i):s instanceof _i?function(u,d,g,p){if(!oh(u.precondition,d))return g;const _=hx(u.fieldTransforms,p,d),E=d.data;return E.setAll(TE(u)),E.setAll(_),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),g===null?null:g.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(b=>b.field))}(s,e,n,i):function(u,d,g){return oh(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(s,e,n)}function rk(s,e){let n=null;for(const i of s.fieldTransforms){const l=e.data.field(i.field),u=_E(i.transform,l||null);u!=null&&(n===null&&(n=gn.empty()),n.set(i.field,u))}return n||null}function ux(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(i,l){return i===void 0&&l===void 0||!(!i||!l)&&pl(i,l,(u,d)=>sk(u,d))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class pu extends Fh{constructor(e,n,i,l=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class _i extends Fh{constructor(e,n,i,l,u=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function TE(s){const e=new Map;return s.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=s.data.field(n);e.set(n,i)}}),e}function cx(s,e,n){const i=new Map;Qe(s.length===n.length);for(let l=0;l<n.length;l++){const u=s[l],d=u.transform,g=e.data.field(u.field);i.set(u.field,nk(d,g,n[l]))}return i}function hx(s,e,n){const i=new Map;for(const l of s){const u=l.transform,d=n.data.field(l.field);i.set(l.field,tk(u,d,e))}return i}class Ag extends Fh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lk extends Fh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(e,n,i,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=l}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(e.key)&&ik(u,e,i[l])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Jo(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Jo(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=gE();return this.mutations.forEach(l=>{const u=e.get(l.key),d=u.overlayedDocument;let g=this.applyToLocalView(d,u.mutatedFields);g=n.has(l.key)?null:g;const p=EE(d,g);p!==null&&i.set(l.key,p),d.isValidDocument()||d.convertToNoDocument(Se.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Me())}isEqual(e){return this.batchId===e.batchId&&pl(this.mutations,e.mutations,(n,i)=>ux(n,i))&&pl(this.baseMutations,e.baseMutations,(n,i)=>ux(n,i))}}class Sg{constructor(e,n,i,l){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=l}static from(e,n,i){Qe(e.mutations.length===i.length);let l=function(){return WR}();const u=e.mutations;for(let d=0;d<u.length;d++)l=l.insert(u[d].key,i[d].version);return new Sg(e,n,i,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var At,He;function hk(s){switch(s){case ne.OK:return Ae();case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Ae()}}function bE(s){if(s===void 0)return oa("GRPC error has no .code"),ne.UNKNOWN;switch(s){case At.OK:return ne.OK;case At.CANCELLED:return ne.CANCELLED;case At.UNKNOWN:return ne.UNKNOWN;case At.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case At.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case At.INTERNAL:return ne.INTERNAL;case At.UNAVAILABLE:return ne.UNAVAILABLE;case At.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case At.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case At.NOT_FOUND:return ne.NOT_FOUND;case At.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case At.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case At.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case At.ABORTED:return ne.ABORTED;case At.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case At.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case At.DATA_LOSS:return ne.DATA_LOSS;default:return Ae()}}(He=At||(At={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fk=new ai([4294967295,4294967295],0);function dx(s){const e=dk().encode(s),n=new B0;return n.update(e),new Uint8Array(n.digest())}function fx(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),l=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ai([n,i],0),new ai([l,u],0)]}class wg{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Qo(`Invalid padding: ${n}`);if(i<0)throw new Qo(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Qo(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Qo(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=ai.fromNumber(this.Ee)}Ae(e,n,i){let l=e.add(n.multiply(ai.fromNumber(i)));return l.compare(fk)===1&&(l=new ai([l.getBits(0),l.getBits(1)],0)),l.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=dx(e),[i,l]=fx(n);for(let u=0;u<this.hashCount;u++){const d=this.Ae(i,l,u);if(!this.Re(d))return!1}return!0}static create(e,n,i){const l=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),d=new wg(u,l,n);return i.forEach(g=>d.insert(g)),d}insert(e){if(this.Ee===0)return;const n=dx(e),[i,l]=fx(n);for(let u=0;u<this.hashCount;u++){const d=this.Ae(i,l,u);this.Ve(d)}}Ve(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Qo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,n,i,l,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const l=new Map;return l.set(e,_u.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Gh(Se.min(),l,new ot(Ve),ua(),Me())}}class _u{constructor(e,n,i,l,u){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new _u(i,n,Me(),Me(),Me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e,n,i,l){this.me=e,this.removedTargetIds=n,this.key=i,this.fe=l}}class AE{constructor(e,n){this.targetId=e,this.ge=n}}class SE{constructor(e,n,i=Qt.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=l}}class mx{constructor(){this.pe=0,this.ye=gx(),this.we=Qt.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Me(),n=Me(),i=Me();return this.ye.forEach((l,u)=>{switch(u){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:i=i.add(l);break;default:Ae()}}),new _u(this.we,this.be,e,n,i)}Me(){this.Se=!1,this.ye=gx()}xe(e,n){this.Se=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Qe(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class mk{constructor(e){this.ke=e,this.qe=new Map,this.Qe=ua(),this.$e=Wc(),this.Ke=Wc(),this.Ue=new ot(Ve)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const i=this.He(n);switch(e.state){case 0:this.Je(n)&&i.Ce(e.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(e.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(n);break;case 3:this.Je(n)&&(i.Le(),i.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),i.Ce(e.resumeToken));break;default:Ae()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((i,l)=>{this.Je(l)&&n(l)})}Ze(e){const n=e.targetId,i=e.ge.count,l=this.Xe(n);if(l){const u=l.target;if(Bm(u))if(i===0){const d=new xe(u.path);this.ze(n,d,en.newNoDocument(d,Se.min()))}else Qe(i===1);else{const d=this.et(n);if(d!==i){const g=this.tt(e),p=g?this.nt(g,e,d):1;if(p!==0){this.Ye(n);const _=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,_)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:l=0},hashCount:u=0}=n;let d,g;try{d=ci(i).toUint8Array()}catch(p){if(p instanceof W0)return gl("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new wg(d,l,u)}catch(p){return gl(p instanceof Qo?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.Ee===0?null:g}nt(e,n,i){return n.ge.count===i-this.st(e,n.targetId)?0:2}st(e,n){const i=this.ke.getRemoteKeysForTarget(n);let l=0;return i.forEach(u=>{const d=this.ke.it(),g=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;e.mightContain(g)||(this.ze(n,u,null),l++)}),l}ot(e){const n=new Map;this.qe.forEach((u,d)=>{const g=this.Xe(d);if(g){if(u.current&&Bm(g.target)){const p=new xe(g.target.path);this._t(p).has(d)||this.ut(d,p)||this.ze(d,p,en.newNoDocument(p,e))}u.ve&&(n.set(d,u.Fe()),u.Me())}});let i=Me();this.Ke.forEach((u,d)=>{let g=!0;d.forEachWhile(p=>{const _=this.Xe(p);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(i=i.add(u))}),this.Qe.forEach((u,d)=>d.setReadTime(e));const l=new Gh(e,n,this.Ue,this.Qe,i);return this.Qe=ua(),this.$e=Wc(),this.Ke=Wc(),this.Ue=new ot(Ve),l}Ge(e,n){if(!this.Je(e))return;const i=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,i),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(e))}ze(e,n,i){if(!this.Je(e))return;const l=this.He(e);this.ut(e,n)?l.xe(n,1):l.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(e)),this.Ke=this.Ke.insert(n,this.ct(n).add(e)),i&&(this.Qe=this.Qe.insert(n,i))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new mx,this.qe.set(e,n)),n}ct(e){let n=this.Ke.get(e);return n||(n=new Dt(Ve),this.Ke=this.Ke.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Dt(Ve),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new mx),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Wc(){return new ot(xe.comparator)}function gx(){return new ot(xe.comparator)}const gk={asc:"ASCENDING",desc:"DESCENDING"},pk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_k={and:"AND",or:"OR"};class yk{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function qm(s,e){return s.useProto3Json||Bh(e)?e:{value:e}}function Sh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function wE(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function vk(s,e){return Sh(s,e.toTimestamp())}function Ts(s){return Qe(!!s),Se.fromTimestamp(function(n){const i=ui(n);return new jt(i.seconds,i.nanos)}(s))}function Ng(s,e){return Km(s,e).canonicalString()}function Km(s,e){const n=function(l){return new nt(["projects",l.projectId,"databases",l.database])}(s).child("documents");return e===void 0?n:n.child(e)}function NE(s){const e=nt.fromString(s);return Qe(jE(e)),e}function Fm(s,e){return Ng(s.databaseId,e.path)}function Em(s,e){const n=NE(e);if(n.get(1)!==s.databaseId.projectId)throw new de(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new de(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new xe(kE(n))}function RE(s,e){return Ng(s.databaseId,e)}function xk(s){const e=NE(s);return e.length===4?nt.emptyPath():kE(e)}function Gm(s){return new nt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function kE(s){return Qe(s.length>4&&s.get(4)==="documents"),s.popFirst(5)}function px(s,e,n){return{name:Fm(s,e),fields:n.value.mapValue.fields}}function Ek(s,e){let n;if("targetChange"in e){e.targetChange;const i=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Ae()}(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],u=function(_,E){return _.useProto3Json?(Qe(E===void 0||typeof E=="string"),Qt.fromBase64String(E||"")):(Qe(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Qt.fromUint8Array(E||new Uint8Array))}(s,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(_){const E=_.code===void 0?ne.UNKNOWN:bE(_.code);return new de(E,_.message||"")}(d);n=new SE(i,l,u,g||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const l=Em(s,i.document.name),u=Ts(i.document.updateTime),d=i.document.createTime?Ts(i.document.createTime):Se.min(),g=new gn({mapValue:{fields:i.document.fields}}),p=en.newFoundDocument(l,u,d,g),_=i.targetIds||[],E=i.removedTargetIds||[];n=new uh(_,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const l=Em(s,i.document),u=i.readTime?Ts(i.readTime):Se.min(),d=en.newNoDocument(l,u),g=i.removedTargetIds||[];n=new uh([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const l=Em(s,i.document),u=i.removedTargetIds||[];n=new uh([],u,l,null)}else{if(!("filter"in e))return Ae();{e.filter;const i=e.filter;i.targetId;const{count:l=0,unchangedNames:u}=i,d=new ck(l,u),g=i.targetId;n=new AE(g,d)}}return n}function Tk(s,e){let n;if(e instanceof pu)n={update:px(s,e.key,e.value)};else if(e instanceof Ag)n={delete:Fm(s,e.key)};else if(e instanceof _i)n={update:px(s,e.key,e.data),updateMask:Ik(e.fieldMask)};else{if(!(e instanceof lk))return Ae();n={verify:Fm(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(u,d){const g=d.transform;if(g instanceof bh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof uu)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof cu)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Ah)return{fieldPath:d.field.canonicalString(),increment:g.Ie};throw Ae()}(0,i))),e.precondition.isNone||(n.currentDocument=function(l,u){return u.updateTime!==void 0?{updateTime:vk(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ae()}(s,e.precondition)),n}function bk(s,e){return s&&s.length>0?(Qe(e!==void 0),s.map(n=>function(l,u){let d=l.updateTime?Ts(l.updateTime):Ts(u);return d.isEqual(Se.min())&&(d=Ts(u)),new ak(d,l.transformResults||[])}(n,e))):[]}function Ak(s,e){return{documents:[RE(s,e.path)]}}function Sk(s,e){const n={structuredQuery:{}},i=e.path;let l;e.collectionGroup!==null?(l=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=RE(s,l);const u=function(_){if(_.length!==0)return IE(Zn.create(_,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const d=function(_){if(_.length!==0)return _.map(E=>function(S){return{field:ll(S.field),direction:Rk(S.dir)}}(E))}(e.orderBy);d&&(n.structuredQuery.orderBy=d);const g=qm(s,e.limit);return g!==null&&(n.structuredQuery.limit=g),e.startAt&&(n.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{ht:n,parent:l}}function wk(s){let e=xk(s.parent);const n=s.structuredQuery,i=n.from?n.from.length:0;let l=null;if(i>0){Qe(i===1);const E=n.from[0];E.allDescendants?l=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(b){const S=CE(b);return S instanceof Zn&&rE(S)?S.getFilters():[S]}(n.where));let d=[];n.orderBy&&(d=function(b){return b.map(S=>function(D){return new ou(ol(D.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction))}(S))}(n.orderBy));let g=null;n.limit&&(g=function(b){let S;return S=typeof b=="object"?b.value:b,Bh(S)?null:S}(n.limit));let p=null;n.startAt&&(p=function(b){const S=!!b.before,k=b.values||[];return new Th(k,S)}(n.startAt));let _=null;return n.endAt&&(_=function(b){const S=!b.before,k=b.values||[];return new Th(k,S)}(n.endAt)),FR(e,l,d,u,g,"F",p,_)}function Nk(s,e){const n=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function CE(s){return s.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=ol(n.unaryFilter.field);return St.create(i,"==",{doubleValue:NaN});case"IS_NULL":const l=ol(n.unaryFilter.field);return St.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=ol(n.unaryFilter.field);return St.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ol(n.unaryFilter.field);return St.create(d,"!=",{nullValue:"NULL_VALUE"});default:return Ae()}}(s):s.fieldFilter!==void 0?function(n){return St.create(ol(n.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ae()}}(n.fieldFilter.op),n.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(n){return Zn.create(n.compositeFilter.filters.map(i=>CE(i)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Ae()}}(n.compositeFilter.op))}(s):Ae()}function Rk(s){return gk[s]}function kk(s){return pk[s]}function Ck(s){return _k[s]}function ll(s){return{fieldPath:s.canonicalString()}}function ol(s){return $t.fromServerFormat(s.fieldPath)}function IE(s){return s instanceof St?function(n){if(n.op==="=="){if(sx(n.value))return{unaryFilter:{field:ll(n.field),op:"IS_NAN"}};if(nx(n.value))return{unaryFilter:{field:ll(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(sx(n.value))return{unaryFilter:{field:ll(n.field),op:"IS_NOT_NAN"}};if(nx(n.value))return{unaryFilter:{field:ll(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ll(n.field),op:kk(n.op),value:n.value}}}(s):s instanceof Zn?function(n){const i=n.getFilters().map(l=>IE(l));return i.length===1?i[0]:{compositeFilter:{op:Ck(n.op),filters:i}}}(s):Ae()}function Ik(s){const e=[];return s.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function jE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e,n,i,l,u=Se.min(),d=Se.min(),g=Qt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(e){return new ti(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ti(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ti(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ti(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(e){this.Tt=e}}function Dk(s){const e=wk({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?zm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(){this.Tn=new Mk}addToCollectionParentIndex(e,n){return this.Tn.add(n),se.resolve()}getCollectionParents(e,n){return se.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return se.resolve()}deleteFieldIndex(e,n){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,n){return se.resolve()}getDocumentsMatchingTarget(e,n){return se.resolve(null)}getIndexType(e,n){return se.resolve(0)}getFieldIndexes(e,n){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,n){return se.resolve(oi.min())}getMinOffsetFromCollectionGroup(e,n){return se.resolve(oi.min())}updateCollectionGroup(e,n,i){return se.resolve()}updateIndexEntries(e,n){return se.resolve()}}class Mk{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),l=this.index[n]||new Dt(nt.comparator),u=!l.has(i);return this.index[n]=l.add(i),u}has(e){const n=e.lastSegment(),i=e.popLast(),l=this.index[n];return l&&l.has(i)}getEntries(e){return(this.index[e]||new Dt(nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},DE=41943040;class mn{static withCacheSize(e){return new mn(e,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(DE,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new vl(0)}static Un(){return new vl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yx="LruGarbageCollector",Lk=1048576;function vx([s,e],[n,i]){const l=Ve(s,n);return l===0?Ve(e,i):l}class Vk{constructor(e){this.Hn=e,this.buffer=new Dt(vx),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();vx(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Pk{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){he(yx,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){kl(n)?he(yx,"Ignoring IndexedDB error during garbage collection: ",n):await Rl(n)}await this.er(3e5)})}}class Uk{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return se.resolve(Uh.ae);const i=new Vk(n);return this.tr.forEachTarget(e,l=>i.Zn(l.sequenceNumber)).next(()=>this.tr.rr(e,l=>i.Zn(l))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.tr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(_x)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_x):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let i,l,u,d,g,p,_;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),l=this.params.maximumSequenceNumbersToCollect):l=b,d=Date.now(),this.nthSequenceNumber(e,l))).next(b=>(i=b,g=Date.now(),this.removeTargets(e,i,n))).next(b=>(u=b,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(b=>(_=Date.now(),il()<=Oe.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${u} targets in `+(p-g)+`ms
	Removed ${b} documents in `+(_-p)+`ms
Total Duration: ${_-E}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:b})))}}function Bk(s,e){return new Uk(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(){this.changes=new ur(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?se.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(e,n,i,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=l}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(l=>(i=l,this.remoteDocumentCache.getEntry(e,n))).next(l=>(i!==null&&Jo(i.mutation,l,An.empty(),jt.now()),l))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,Me()).next(()=>i))}getLocalViewOfDocuments(e,n,i=Me()){const l=Ji();return this.populateOverlays(e,l,n).next(()=>this.computeViews(e,n,l,i).next(u=>{let d=$o();return u.forEach((g,p)=>{d=d.insert(g,p.overlayedDocument)}),d}))}getOverlayedDocuments(e,n){const i=Ji();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,Me()))}populateOverlays(e,n,i){const l=[];return i.forEach(u=>{n.has(u)||l.push(u)}),this.documentOverlayCache.getOverlays(e,l).next(u=>{u.forEach((d,g)=>{n.set(d,g)})})}computeViews(e,n,i,l){let u=ua();const d=Zo(),g=function(){return Zo()}();return n.forEach((p,_)=>{const E=i.get(_.key);l.has(_.key)&&(E===void 0||E.mutation instanceof _i)?u=u.insert(_.key,_):E!==void 0?(d.set(_.key,E.mutation.getFieldMask()),Jo(E.mutation,_,E.mutation.getFieldMask(),jt.now())):d.set(_.key,An.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((_,E)=>d.set(_,E)),n.forEach((_,E)=>{var b;return g.set(_,new zk(E,(b=d.get(_))!==null&&b!==void 0?b:null))}),g))}recalculateAndSaveOverlays(e,n){const i=Zo();let l=new ot((d,g)=>d-g),u=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(d=>{for(const g of d)g.keys().forEach(p=>{const _=n.get(p);if(_===null)return;let E=i.get(p)||An.empty();E=g.applyToLocalView(_,E),i.set(p,E);const b=(l.get(g.batchId)||Me()).add(p);l=l.insert(g.batchId,b)})}).next(()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),_=p.key,E=p.value,b=gE();E.forEach(S=>{if(!u.has(S)){const k=EE(n.get(S),i.get(S));k!==null&&b.set(S,k),u=u.add(S)}}),d.push(this.documentOverlayCache.saveOverlays(e,_,b))}return se.waitFor(d)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,l){return function(d){return xe.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):cE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,l):this.getDocumentsMatchingCollectionQuery(e,n,i,l)}getNextDocuments(e,n,i,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,l).next(u=>{const d=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,l-u.size):se.resolve(Ji());let g=au,p=u;return d.next(_=>se.forEach(_,(E,b)=>(g<b.largestBatchId&&(g=b.largestBatchId),u.get(E)?se.resolve():this.remoteDocumentCache.getEntry(e,E).next(S=>{p=p.insert(E,S)}))).next(()=>this.populateOverlays(e,_,u)).next(()=>this.computeViews(e,p,_,Me())).next(E=>({batchId:g,changes:mE(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new xe(n)).next(i=>{let l=$o();return i.isFoundDocument()&&(l=l.insert(i.key,i)),l})}getDocumentsMatchingCollectionGroupQuery(e,n,i,l){const u=n.collectionGroup;let d=$o();return this.indexManager.getCollectionParents(e,u).next(g=>se.forEach(g,p=>{const _=function(b,S){return new Cl(S,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,_,i,l).next(E=>{E.forEach((b,S)=>{d=d.insert(b,S)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,n,i,l){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,u,l))).next(d=>{u.forEach((p,_)=>{const E=_.getKey();d.get(E)===null&&(d=d.insert(E,en.newInvalidDocument(E)))});let g=$o();return d.forEach((p,_)=>{const E=u.get(p);E!==void 0&&Jo(E.mutation,_,An.empty(),jt.now()),qh(n,_)&&(g=g.insert(p,_))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return se.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(l){return{id:l.id,version:l.version,createTime:Ts(l.createTime)}}(n)),se.resolve()}getNamedQuery(e,n){return se.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(l){return{name:l.name,query:Dk(l.bundledQuery),readTime:Ts(l.readTime)}}(n)),se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(){this.overlays=new ot(xe.comparator),this.Rr=new Map}getOverlay(e,n){return se.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Ji();return se.forEach(n,l=>this.getOverlay(e,l).next(u=>{u!==null&&i.set(l,u)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((l,u)=>{this.Et(e,n,u)}),se.resolve()}removeOverlaysForBatchId(e,n,i){const l=this.Rr.get(i);return l!==void 0&&(l.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(i)),se.resolve()}getOverlaysForCollection(e,n,i){const l=Ji(),u=n.length+1,d=new xe(n.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const p=g.getNext().value,_=p.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===u&&p.largestBatchId>i&&l.set(p.getKey(),p)}return se.resolve(l)}getOverlaysForCollectionGroup(e,n,i,l){let u=new ot((_,E)=>_-E);const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>i){let E=u.get(_.largestBatchId);E===null&&(E=Ji(),u=u.insert(_.largestBatchId,E)),E.set(_.getKey(),_)}}const g=Ji(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((_,E)=>g.set(_,E)),!(g.size()>=l)););return se.resolve(g)}Et(e,n,i){const l=this.overlays.get(i.key);if(l!==null){const d=this.Rr.get(l.largestBatchId).delete(i.key);this.Rr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(i.key,new uk(n,i));let u=this.Rr.get(n);u===void 0&&(u=Me(),this.Rr.set(n,u)),this.Rr.set(n,u.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(){this.sessionToken=Qt.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(){this.Vr=new Dt(Ht.mr),this.gr=new Dt(Ht.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const i=new Ht(e,n);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.wr(new Ht(e,n))}br(e,n){e.forEach(i=>this.removeReference(i,n))}Sr(e){const n=new xe(new nt([])),i=new Ht(n,e),l=new Ht(n,e+1),u=[];return this.gr.forEachInRange([i,l],d=>{this.wr(d),u.push(d.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new xe(new nt([])),i=new Ht(n,e),l=new Ht(n,e+1);let u=Me();return this.gr.forEachInRange([i,l],d=>{u=u.add(d.key)}),u}containsKey(e){const n=new Ht(e,0),i=this.Vr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Ht{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return xe.comparator(e.key,n.key)||Ve(e.Cr,n.Cr)}static pr(e,n){return Ve(e.Cr,n.Cr)||xe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Dt(Ht.mr)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,l){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new ok(u,n,i,l);this.mutationQueue.push(d);for(const g of l)this.Mr=this.Mr.add(new Ht(g.key,u)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return se.resolve(d)}lookupMutationBatch(e,n){return se.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,l=this.Nr(i),u=l<0?0:l;return se.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?_g:this.Fr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Ht(n,0),l=new Ht(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([i,l],d=>{const g=this.Or(d.Cr);u.push(g)}),se.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Dt(Ve);return n.forEach(l=>{const u=new Ht(l,0),d=new Ht(l,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,d],g=>{i=i.add(g.Cr)})}),se.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,l=i.length+1;let u=i;xe.isDocumentKey(u)||(u=u.child(""));const d=new Ht(new xe(u),0);let g=new Dt(Ve);return this.Mr.forEachWhile(p=>{const _=p.key.path;return!!i.isPrefixOf(_)&&(_.length===l&&(g=g.add(p.Cr)),!0)},d),se.resolve(this.Br(g))}Br(e){const n=[];return e.forEach(i=>{const l=this.Or(i);l!==null&&n.push(l)}),n}removeMutationBatch(e,n){Qe(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return se.forEach(n.mutations,l=>{const u=new Ht(l.key,n.batchId);return i=i.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.Mr=i})}qn(e){}containsKey(e,n){const i=new Ht(n,0),l=this.Mr.firstAfterOrEqual(i);return se.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(e){this.kr=e,this.docs=function(){return new ot(xe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,l=this.docs.get(i),u=l?l.size:0,d=this.kr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return se.resolve(i?i.document.mutableCopy():en.newInvalidDocument(n))}getEntries(e,n){let i=ua();return n.forEach(l=>{const u=this.docs.get(l);i=i.insert(l,u?u.document.mutableCopy():en.newInvalidDocument(l))}),se.resolve(i)}getDocumentsMatchingQuery(e,n,i,l){let u=ua();const d=n.path,g=new xe(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:_,value:{document:E}}=p.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||bR(TR(E),i)<=0||(l.has(E.key)||qh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return se.resolve(u)}getAllFromCollectionGroup(e,n,i,l){Ae()}qr(e,n){return se.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new Yk(this)}getSize(e){return se.resolve(this.size)}}class Yk extends Hk{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((i,l)=>{l.isValidDocument()?n.push(this.Ir.addEntry(e,l)):this.Ir.removeEntry(i)}),se.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(e){this.persistence=e,this.Qr=new ur(n=>xg(n),Eg),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Rg,this.targetCount=0,this.Ur=vl.Kn()}forEachTarget(e,n){return this.Qr.forEach((i,l)=>n(l)),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.$r&&(this.$r=n),se.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ur=new vl(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,se.resolve()}updateTargetData(e,n){return this.zn(n),se.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Kr.Sr(n.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,n,i){let l=0;const u=[];return this.Qr.forEach((d,g)=>{g.sequenceNumber<=n&&i.get(g.targetId)===null&&(this.Qr.delete(d),u.push(this.removeMatchingKeysForTargetId(e,g.targetId)),l++)}),se.waitFor(u).next(()=>l)}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,n){const i=this.Qr.get(n)||null;return se.resolve(i)}addMatchingKeys(e,n,i){return this.Kr.yr(n,i),se.resolve()}removeMatchingKeys(e,n,i){this.Kr.br(n,i);const l=this.persistence.referenceDelegate,u=[];return l&&n.forEach(d=>{u.push(l.markPotentiallyOrphaned(e,d))}),se.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.Kr.Sr(n),se.resolve()}getMatchingKeysForTargetId(e,n){const i=this.Kr.vr(n);return se.resolve(i)}containsKey(e,n){return se.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Uh(0),this.zr=!1,this.zr=!0,this.jr=new Gk,this.referenceDelegate=e(this),this.Hr=new Wk(this),this.indexManager=new Ok,this.remoteDocumentCache=function(l){return new Qk(l)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new jk(n),this.Yr=new Kk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Fk,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Wr[e.toKey()];return i||(i=new $k(n,this.referenceDelegate),this.Wr[e.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,i){he("MemoryPersistence","Starting transaction:",e);const l=new Xk(this.Gr.next());return this.referenceDelegate.Zr(),i(l).next(u=>this.referenceDelegate.Xr(l).next(()=>u)).toPromise().then(u=>(l.raiseOnCommittedEvent(),u))}ei(e,n){return se.or(Object.values(this.Wr).map(i=>()=>i.containsKey(e,n)))}}class Xk extends SR{constructor(e){super(),this.currentSequenceNumber=e}}class kg{constructor(e){this.persistence=e,this.ti=new Rg,this.ni=null}static ri(e){return new kg(e)}get ii(){if(this.ni)return this.ni;throw Ae()}addReference(e,n,i){return this.ti.addReference(i,n),this.ii.delete(i.toString()),se.resolve()}removeReference(e,n,i){return this.ti.removeReference(i,n),this.ii.add(i.toString()),se.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),se.resolve()}removeTarget(e,n){this.ti.Sr(n.targetId).forEach(l=>this.ii.add(l.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(l=>{l.forEach(u=>this.ii.add(u.toString()))}).next(()=>i.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.ii,i=>{const l=xe.fromPath(i);return this.si(e,l).next(u=>{u||n.removeEntry(l,Se.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(i=>{i?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return se.or([()=>se.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class wh{constructor(e,n){this.persistence=e,this.oi=new ur(i=>RR(i.path),(i,l)=>i.isEqual(l)),this.garbageCollector=Bk(this,n)}static ri(e,n){return new wh(e,n)}Zr(){}Xr(e){return se.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(l=>i+l))}sr(e){let n=0;return this.rr(e,i=>{n++}).next(()=>n)}rr(e,n){return se.forEach(this.oi,(i,l)=>this.ar(e,i,l).next(u=>u?se.resolve():n(l)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.qr(e,d=>this.ar(e,d,n).next(g=>{g||(i++,u.removeEntry(d,Se.min()))})).next(()=>u.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),se.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.oi.set(i,e.currentSequenceNumber),se.resolve()}removeReference(e,n,i){return this.oi.set(i,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),se.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=rh(e.data.value)),n}ar(e,n,i){return se.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const l=this.oi.get(n);return se.resolve(l!==void 0&&l>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(e,n,i,l){this.targetId=e,this.fromCache=n,this.Hi=i,this.Ji=l}static Yi(e,n){let i=Me(),l=Me();for(const u of n.docChanges)switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new Cg(e,n.fromCache,i,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return $w()?8:wR(tn())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,i,l){const u={result:null};return this.rs(e,n).next(d=>{u.result=d}).next(()=>{if(!u.result)return this.ss(e,n,l,i).next(d=>{u.result=d})}).next(()=>{if(u.result)return;const d=new Zk;return this._s(e,n,d).next(g=>{if(u.result=g,this.Xi)return this.us(e,n,d,g.size)})}).next(()=>u.result)}us(e,n,i,l){return i.documentReadCount<this.es?(il()<=Oe.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",rl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),se.resolve()):(il()<=Oe.DEBUG&&he("QueryEngine","Query:",rl(n),"scans",i.documentReadCount,"local documents and returns",l,"documents as results."),i.documentReadCount>this.ts*l?(il()<=Oe.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",rl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Es(n))):se.resolve())}rs(e,n){if(lx(n))return se.resolve(null);let i=Es(n);return this.indexManager.getIndexType(e,i).next(l=>l===0?null:(n.limit!==null&&l===1&&(n=zm(n,null,"F"),i=Es(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(u=>{const d=Me(...u);return this.ns.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,i).next(p=>{const _=this.cs(n,g);return this.ls(n,_,d,p.readTime)?this.rs(e,zm(n,null,"F")):this.hs(e,_,n,p)}))})))}ss(e,n,i,l){return lx(n)||l.isEqual(Se.min())?se.resolve(null):this.ns.getDocuments(e,i).next(u=>{const d=this.cs(n,u);return this.ls(n,d,i,l)?se.resolve(null):(il()<=Oe.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),rl(n)),this.hs(e,d,n,ER(l,au)).next(g=>g))})}cs(e,n){let i=new Dt(dE(e));return n.forEach((l,u)=>{qh(e,u)&&(i=i.add(u))}),i}ls(e,n,i,l){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}_s(e,n,i){return il()<=Oe.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",rl(n)),this.ns.getDocumentsMatchingQuery(e,n,oi.min(),i)}hs(e,n,i,l){return this.ns.getDocumentsMatchingQuery(e,i,l).next(u=>(n.forEach(d=>{u=u.insert(d.key,d)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ig="LocalStore",eC=3e8;class tC{constructor(e,n,i,l){this.persistence=e,this.Ps=n,this.serializer=l,this.Ts=new ot(Ve),this.Is=new ur(u=>xg(u),Eg),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(i)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qk(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function nC(s,e,n,i){return new tC(s,e,n,i)}async function ME(s,e){const n=Ne(s);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let l;return n.mutationQueue.getAllMutationBatches(i).next(u=>(l=u,n.As(e),n.mutationQueue.getAllMutationBatches(i))).next(u=>{const d=[],g=[];let p=Me();for(const _ of l){d.push(_.batchId);for(const E of _.mutations)p=p.add(E.key)}for(const _ of u){g.push(_.batchId);for(const E of _.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(i,p).next(_=>({Rs:_,removedBatchIds:d,addedBatchIds:g}))})})}function sC(s,e){const n=Ne(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const l=e.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(g,p,_,E){const b=_.batch,S=b.keys();let k=se.resolve();return S.forEach(D=>{k=k.next(()=>E.getEntry(p,D)).next(z=>{const P=_.docVersions.get(D);Qe(P!==null),z.version.compareTo(P)<0&&(b.applyToRemoteDocument(z,_),z.isValidDocument()&&(z.setReadTime(_.commitVersion),E.addEntry(z)))})}),k.next(()=>g.mutationQueue.removeMutationBatch(p,b))}(n,i,e,u).next(()=>u.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,l,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(g){let p=Me();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(p=p.add(g.batch.mutations[_].key));return p}(e))).next(()=>n.localDocuments.getDocuments(i,l))})}function LE(s){const e=Ne(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function aC(s,e){const n=Ne(s),i=e.snapshotVersion;let l=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const d=n.ds.newChangeBuffer({trackRemovals:!0});l=n.Ts;const g=[];e.targetChanges.forEach((E,b)=>{const S=l.get(b);if(!S)return;g.push(n.Hr.removeMatchingKeys(u,E.removedDocuments,b).next(()=>n.Hr.addMatchingKeys(u,E.addedDocuments,b)));let k=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?k=k.withResumeToken(Qt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):E.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(E.resumeToken,i)),l=l.insert(b,k),function(z,P,F){return z.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=eC?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(S,k,E)&&g.push(n.Hr.updateTargetData(u,k))});let p=ua(),_=Me();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),g.push(iC(u,d,e.documentUpdates).next(E=>{p=E.Vs,_=E.fs})),!i.isEqual(Se.min())){const E=n.Hr.getLastRemoteSnapshotVersion(u).next(b=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,i));g.push(E)}return se.waitFor(g).next(()=>d.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,_)).next(()=>p)}).then(u=>(n.Ts=l,u))}function iC(s,e,n){let i=Me(),l=Me();return n.forEach(u=>i=i.add(u)),e.getEntries(s,i).next(u=>{let d=ua();return n.forEach((g,p)=>{const _=u.get(g);p.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(g)),p.isNoDocument()&&p.version.isEqual(Se.min())?(e.removeEntry(g,p.readTime),d=d.insert(g,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||p.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(p),d=d.insert(g,p)):he(Ig,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",p.version)}),{Vs:d,fs:l}})}function rC(s,e){const n=Ne(s);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=_g),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function lC(s,e){const n=Ne(s);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let l;return n.Hr.getTargetData(i,e).next(u=>u?(l=u,se.resolve(l)):n.Hr.allocateTargetId(i).next(d=>(l=new ti(e,d,"TargetPurposeListen",i.currentSequenceNumber),n.Hr.addTargetData(i,l).next(()=>l))))}).then(i=>{const l=n.Ts.get(i.targetId);return(l===null||i.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(i.targetId,i),n.Is.set(e,i.targetId)),i})}async function $m(s,e,n){const i=Ne(s),l=i.Ts.get(e),u=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",u,d=>i.persistence.referenceDelegate.removeTarget(d,l))}catch(d){if(!kl(d))throw d;he(Ig,`Failed to update sequence numbers for target ${e}: ${d}`)}i.Ts=i.Ts.remove(e),i.Is.delete(l.target)}function xx(s,e,n){const i=Ne(s);let l=Se.min(),u=Me();return i.persistence.runTransaction("Execute query","readwrite",d=>function(p,_,E){const b=Ne(p),S=b.Is.get(E);return S!==void 0?se.resolve(b.Ts.get(S)):b.Hr.getTargetData(_,E)}(i,d,Es(e)).next(g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(d,g.targetId).next(p=>{u=p})}).next(()=>i.Ps.getDocumentsMatchingQuery(d,e,n?l:Se.min(),n?u:Me())).next(g=>(oC(i,$R(e),g),{documents:g,gs:u})))}function oC(s,e,n){let i=s.Es.get(e)||Se.min();n.forEach((l,u)=>{u.readTime.compareTo(i)>0&&(i=u.readTime)}),s.Es.set(e,i)}class Ex{constructor(){this.activeTargetIds=JR()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class uC{constructor(){this.ho=new Ex,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,i){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Ex,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tx="ConnectivityMonitor";class bx{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){he(Tx,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){he(Tx,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xc=null;function Qm(){return Xc===null?Xc=function(){return 268435456+Math.round(2147483648*Math.random())}():Xc++,"0x"+Xc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tm="RestConnection",hC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class dC{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${i}/databases/${l}`,this.wo=this.databaseId.database===xh?`project_id=${i}`:`project_id=${i}&database_id=${l}`}bo(e,n,i,l,u){const d=Qm(),g=this.So(e,n.toUriEncodedString());he(Tm,`Sending RPC '${e}' ${d}:`,g,i);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,l,u),this.vo(e,g,p,i).then(_=>(he(Tm,`Received RPC '${e}' ${d}: `,_),_),_=>{throw gl(Tm,`RPC '${e}' ${d} failed with error: `,_,"url: ",g,"request:",i),_})}Co(e,n,i,l,u,d){return this.bo(e,n,i,l,u)}Do(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Nl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((l,u)=>e[u]=l),i&&i.headers.forEach((l,u)=>e[u]=l)}So(e,n){const i=hC[e];return`${this.po}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt="WebChannelConnection";class mC extends dC{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,i,l){const u=Qm();return new Promise((d,g)=>{const p=new H0;p.setWithCredentials(!0),p.listenOnce(z0.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case ih.NO_ERROR:const E=p.getResponseJson();he(Zt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),d(E);break;case ih.TIMEOUT:he(Zt,`RPC '${e}' ${u} timed out`),g(new de(ne.DEADLINE_EXCEEDED,"Request time out"));break;case ih.HTTP_ERROR:const b=p.getStatus();if(he(Zt,`RPC '${e}' ${u} failed with status:`,b,"response text:",p.getResponseText()),b>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const k=S==null?void 0:S.error;if(k&&k.status&&k.message){const D=function(P){const F=P.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(F)>=0?F:ne.UNKNOWN}(k.status);g(new de(D,k.message))}else g(new de(ne.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new de(ne.UNAVAILABLE,"Connection failed."));break;default:Ae()}}finally{he(Zt,`RPC '${e}' ${u} completed.`)}});const _=JSON.stringify(l);he(Zt,`RPC '${e}' ${u} sending request:`,l),p.send(n,"POST",_,i,15)})}Wo(e,n,i){const l=Qm(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=F0(),g=K0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,i),p.encodeInitMessageHeaders=!0;const E=u.join("");he(Zt,`Creating RPC '${e}' stream ${l}: ${E}`,p);const b=d.createWebChannel(E,p);let S=!1,k=!1;const D=new fC({Fo:P=>{k?he(Zt,`Not sending because RPC '${e}' stream ${l} is closed:`,P):(S||(he(Zt,`Opening RPC '${e}' stream ${l} transport.`),b.open(),S=!0),he(Zt,`RPC '${e}' stream ${l} sending:`,P),b.send(P))},Mo:()=>b.close()}),z=(P,F,H)=>{P.listen(F,$=>{try{H($)}catch(ee){setTimeout(()=>{throw ee},0)}})};return z(b,Go.EventType.OPEN,()=>{k||(he(Zt,`RPC '${e}' stream ${l} transport opened.`),D.Qo())}),z(b,Go.EventType.CLOSE,()=>{k||(k=!0,he(Zt,`RPC '${e}' stream ${l} transport closed`),D.Ko())}),z(b,Go.EventType.ERROR,P=>{k||(k=!0,gl(Zt,`RPC '${e}' stream ${l} transport errored:`,P),D.Ko(new de(ne.UNAVAILABLE,"The operation could not be completed")))}),z(b,Go.EventType.MESSAGE,P=>{var F;if(!k){const H=P.data[0];Qe(!!H);const $=H,ee=($==null?void 0:$.error)||((F=$[0])===null||F===void 0?void 0:F.error);if(ee){he(Zt,`RPC '${e}' stream ${l} received error:`,ee);const Z=ee.status;let le=function(N){const w=At[N];if(w!==void 0)return bE(w)}(Z),O=ee.message;le===void 0&&(le=ne.INTERNAL,O="Unknown error status: "+Z+" with message "+ee.message),k=!0,D.Ko(new de(le,O)),b.close()}else he(Zt,`RPC '${e}' stream ${l} received:`,H),D.Uo(H)}}),z(g,q0.STAT_EVENT,P=>{P.stat===Lm.PROXY?he(Zt,`RPC '${e}' stream ${l} detected buffering proxy`):P.stat===Lm.NOPROXY&&he(Zt,`RPC '${e}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{D.$o()},0),D}}function bm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $h(s){return new yk(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(e,n,i=1e3,l=1.5,u=6e4){this.Ti=e,this.timerId=n,this.Go=i,this.zo=l,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),l=Math.max(0,n-i);l>0&&he("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,l,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax="PersistentStream";class PE{constructor(e,n,i,l,u,d,g,p){this.Ti=e,this.n_=i,this.r_=l,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new VE(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(oa(n.toString()),oa("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,l])=>{this.i_===n&&this.V_(i,l)},i=>{e(()=>{const l=new de(ne.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(l)})})}V_(e,n){const i=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(l=>{i(()=>this.m_(l))}),this.stream.onMessage(l=>{i(()=>++this.__==1?this.g_(l):this.onNext(l))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return he(Ax,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(he(Ax,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class gC extends PE{constructor(e,n,i,l,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,l,d),this.serializer=u}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=Ek(this.serializer,e),i=function(u){if(!("targetChange"in u))return Se.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?Se.min():d.readTime?Ts(d.readTime):Se.min()}(e);return this.listener.p_(n,i)}y_(e){const n={};n.database=Gm(this.serializer),n.addTarget=function(u,d){let g;const p=d.target;if(g=Bm(p)?{documents:Ak(u,p)}:{query:Sk(u,p).ht},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=wE(u,d.resumeToken);const _=qm(u,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(Se.min())>0){g.readTime=Sh(u,d.snapshotVersion.toTimestamp());const _=qm(u,d.expectedCount);_!==null&&(g.expectedCount=_)}return g}(this.serializer,e);const i=Nk(this.serializer,e);i&&(n.labels=i),this.I_(n)}w_(e){const n={};n.database=Gm(this.serializer),n.removeTarget=e,this.I_(n)}}class pC extends PE{constructor(e,n,i,l,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,l,d),this.serializer=u}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Qe(!!e.streamToken),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Qe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=bk(e.writeResults,e.commitTime),i=Ts(e.commitTime);return this.listener.v_(i,n)}C_(){const e={};e.database=Gm(this.serializer),this.I_(e)}S_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>Tk(this.serializer,i))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{}class yC extends _C{constructor(e,n,i,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=l,this.F_=!1}M_(){if(this.F_)throw new de(ne.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,i,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection.bo(e,Km(n,i),l,u,d)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new de(ne.UNKNOWN,u.toString())})}Co(e,n,i,l,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Co(e,Km(n,i),l,d,g,u)).catch(d=>{throw d.name==="FirebaseError"?(d.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new de(ne.UNKNOWN,d.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class vC{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(oa(n),this.N_=!1):he("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ar="RemoteStore";class xC{constructor(e,n,i,l,u){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(d=>{i.enqueueAndForget(async()=>{cr(this)&&(he(ar,"Restarting streams for network reachability change."),await async function(p){const _=Ne(p);_.W_.add(4),await yu(_),_.j_.set("Unknown"),_.W_.delete(4),await Qh(_)}(this))})}),this.j_=new vC(i,l)}}async function Qh(s){if(cr(s))for(const e of s.G_)await e(!0)}async function yu(s){for(const e of s.G_)await e(!1)}function UE(s,e){const n=Ne(s);n.U_.has(e.targetId)||(n.U_.set(e.targetId,e),Mg(n)?Og(n):Il(n).c_()&&Dg(n,e))}function jg(s,e){const n=Ne(s),i=Il(n);n.U_.delete(e),i.c_()&&BE(n,e),n.U_.size===0&&(i.c_()?i.P_():cr(n)&&n.j_.set("Unknown"))}function Dg(s,e){if(s.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Il(s).y_(e)}function BE(s,e){s.H_.Ne(e),Il(s).w_(e)}function Og(s){s.H_=new mk({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>s.U_.get(e)||null,it:()=>s.datastore.serializer.databaseId}),Il(s).start(),s.j_.B_()}function Mg(s){return cr(s)&&!Il(s).u_()&&s.U_.size>0}function cr(s){return Ne(s).W_.size===0}function HE(s){s.H_=void 0}async function EC(s){s.j_.set("Online")}async function TC(s){s.U_.forEach((e,n)=>{Dg(s,e)})}async function bC(s,e){HE(s),Mg(s)?(s.j_.q_(e),Og(s)):s.j_.set("Unknown")}async function AC(s,e,n){if(s.j_.set("Online"),e instanceof SE&&e.state===2&&e.cause)try{await async function(l,u){const d=u.cause;for(const g of u.targetIds)l.U_.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.U_.delete(g),l.H_.removeTarget(g))}(s,e)}catch(i){he(ar,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Nh(s,i)}else if(e instanceof uh?s.H_.We(e):e instanceof AE?s.H_.Ze(e):s.H_.je(e),!n.isEqual(Se.min()))try{const i=await LE(s.localStore);n.compareTo(i)>=0&&await function(u,d){const g=u.H_.ot(d);return g.targetChanges.forEach((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.U_.get(_);E&&u.U_.set(_,E.withResumeToken(p.resumeToken,d))}}),g.targetMismatches.forEach((p,_)=>{const E=u.U_.get(p);if(!E)return;u.U_.set(p,E.withResumeToken(Qt.EMPTY_BYTE_STRING,E.snapshotVersion)),BE(u,p);const b=new ti(E.target,p,_,E.sequenceNumber);Dg(u,b)}),u.remoteSyncer.applyRemoteEvent(g)}(s,n)}catch(i){he(ar,"Failed to raise snapshot:",i),await Nh(s,i)}}async function Nh(s,e,n){if(!kl(e))throw e;s.W_.add(1),await yu(s),s.j_.set("Offline"),n||(n=()=>LE(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{he(ar,"Retrying IndexedDB access"),await n(),s.W_.delete(1),await Qh(s)})}function zE(s,e){return e().catch(n=>Nh(s,n,e))}async function Yh(s){const e=Ne(s),n=di(e);let i=e.K_.length>0?e.K_[e.K_.length-1].batchId:_g;for(;SC(e);)try{const l=await rC(e.localStore,i);if(l===null){e.K_.length===0&&n.P_();break}i=l.batchId,wC(e,l)}catch(l){await Nh(e,l)}qE(e)&&KE(e)}function SC(s){return cr(s)&&s.K_.length<10}function wC(s,e){s.K_.push(e);const n=di(s);n.c_()&&n.b_&&n.S_(e.mutations)}function qE(s){return cr(s)&&!di(s).u_()&&s.K_.length>0}function KE(s){di(s).start()}async function NC(s){di(s).C_()}async function RC(s){const e=di(s);for(const n of s.K_)e.S_(n.mutations)}async function kC(s,e,n){const i=s.K_.shift(),l=Sg.from(i,e,n);await zE(s,()=>s.remoteSyncer.applySuccessfulWrite(l)),await Yh(s)}async function CC(s,e){e&&di(s).b_&&await async function(i,l){if(function(d){return hk(d)&&d!==ne.ABORTED}(l.code)){const u=i.K_.shift();di(i).h_(),await zE(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,l)),await Yh(i)}}(s,e),qE(s)&&KE(s)}async function Sx(s,e){const n=Ne(s);n.asyncQueue.verifyOperationInProgress(),he(ar,"RemoteStore received new credentials");const i=cr(n);n.W_.add(3),await yu(n),i&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Qh(n)}async function IC(s,e){const n=Ne(s);e?(n.W_.delete(2),await Qh(n)):e||(n.W_.add(2),await yu(n),n.j_.set("Unknown"))}function Il(s){return s.J_||(s.J_=function(n,i,l){const u=Ne(n);return u.M_(),new gC(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)}(s.datastore,s.asyncQueue,{xo:EC.bind(null,s),No:TC.bind(null,s),Lo:bC.bind(null,s),p_:AC.bind(null,s)}),s.G_.push(async e=>{e?(s.J_.h_(),Mg(s)?Og(s):s.j_.set("Unknown")):(await s.J_.stop(),HE(s))})),s.J_}function di(s){return s.Y_||(s.Y_=function(n,i,l){const u=Ne(n);return u.M_(),new pC(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)}(s.datastore,s.asyncQueue,{xo:()=>Promise.resolve(),No:NC.bind(null,s),Lo:CC.bind(null,s),D_:RC.bind(null,s),v_:kC.bind(null,s)}),s.G_.push(async e=>{e?(s.Y_.h_(),await Yh(s)):(await s.Y_.stop(),s.K_.length>0&&(he(ar,`Stopping write stream with ${s.K_.length} pending writes`),s.K_=[]))})),s.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(e,n,i,l,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=l,this.removalCallback=u,this.deferred=new ia,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,l,u){const d=Date.now()+i,g=new Lg(e,n,d,l,u);return g.start(i),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vg(s,e){if(oa("AsyncQueue",`${e}: ${s}`),kl(s))return new de(ne.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{static emptySet(e){return new hl(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||xe.comparator(n.key,i.key):(n,i)=>xe.comparator(n.key,i.key),this.keyedMap=$o(),this.sortedSet=new ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof hl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=i.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new hl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(){this.Z_=new ot(xe.comparator)}track(e){const n=e.doc.key,i=this.Z_.get(n);i?e.type!==0&&i.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&i.type!==1?this.Z_=this.Z_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Z_=this.Z_.remove(n):e.type===1&&i.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Ae():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,i)=>{e.push(i)}),e}}class xl{constructor(e,n,i,l,u,d,g,p,_){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=l,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(e,n,i,l,u){const d=[];return n.forEach(g=>{d.push({type:0,doc:g})}),new xl(e,n,hl.emptySet(n),d,i,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==i[l].type||!n[l].doc.isEqual(i[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class DC{constructor(){this.queries=Nx(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,i){const l=Ne(n),u=l.queries;l.queries=Nx(),u.forEach((d,g)=>{for(const p of g.ta)p.onError(i)})})(this,new de(ne.ABORTED,"Firestore shutting down"))}}function Nx(){return new ur(s=>hE(s),zh)}async function FE(s,e){const n=Ne(s);let i=3;const l=e.query;let u=n.queries.get(l);u?!u.na()&&e.ra()&&(i=2):(u=new jC,i=e.ra()?0:1);try{switch(i){case 0:u.ea=await n.onListen(l,!0);break;case 1:u.ea=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(d){const g=Vg(d,`Initialization of query '${rl(e.query)}' failed`);return void e.onError(g)}n.queries.set(l,u),u.ta.push(e),e.sa(n.onlineState),u.ea&&e.oa(u.ea)&&Pg(n)}async function GE(s,e){const n=Ne(s),i=e.query;let l=3;const u=n.queries.get(i);if(u){const d=u.ta.indexOf(e);d>=0&&(u.ta.splice(d,1),u.ta.length===0?l=e.ra()?0:1:!u.na()&&e.ra()&&(l=2))}switch(l){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function OC(s,e){const n=Ne(s);let i=!1;for(const l of e){const u=l.query,d=n.queries.get(u);if(d){for(const g of d.ta)g.oa(l)&&(i=!0);d.ea=l}}i&&Pg(n)}function MC(s,e,n){const i=Ne(s),l=i.queries.get(e);if(l)for(const u of l.ta)u.onError(n);i.queries.delete(e)}function Pg(s){s.ia.forEach(e=>{e.next()})}var Ym,Rx;(Rx=Ym||(Ym={}))._a="default",Rx.Cache="cache";class $E{constructor(e,n,i){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(e){if(!this.options.includeMetadataChanges){const i=[];for(const l of e.docChanges)l.type!==3&&i.push(l);e=new xl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const i=n!=="Offline";return(!this.options.Ta||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=xl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Ym.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(e){this.key=e}}class YE{constructor(e){this.key=e}}class LC{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Me(),this.mutatedKeys=Me(),this.ya=dE(e),this.wa=new hl(this.ya)}get ba(){return this.fa}Sa(e,n){const i=n?n.Da:new wx,l=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,d=l,g=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((E,b)=>{const S=l.get(E),k=qh(this.query,b)?b:null,D=!!S&&this.mutatedKeys.has(S.key),z=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let P=!1;S&&k?S.data.isEqual(k.data)?D!==z&&(i.track({type:3,doc:k}),P=!0):this.va(S,k)||(i.track({type:2,doc:k}),P=!0,(p&&this.ya(k,p)>0||_&&this.ya(k,_)<0)&&(g=!0)):!S&&k?(i.track({type:0,doc:k}),P=!0):S&&!k&&(i.track({type:1,doc:S}),P=!0,(p||_)&&(g=!0)),P&&(k?(d=d.add(k),u=z?u.add(E):u.delete(E)):(d=d.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),u=u.delete(E.key),i.track({type:1,doc:E})}return{wa:d,Da:i,ls:g,mutatedKeys:u}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,l){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const d=e.Da.X_();d.sort((E,b)=>function(k,D){const z=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae()}};return z(k)-z(D)}(E.type,b.type)||this.ya(E.doc,b.doc)),this.Ca(i),l=l!=null&&l;const g=n&&!l?this.Fa():[],p=this.pa.size===0&&this.current&&!l?1:0,_=p!==this.ga;return this.ga=p,d.length!==0||_?{snapshot:new xl(this.query,e.wa,u,d,e.mutatedKeys,p===0,_,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:g}:{Ma:g}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new wx,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Me(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const n=[];return e.forEach(i=>{this.pa.has(i)||n.push(new YE(i))}),this.pa.forEach(i=>{e.has(i)||n.push(new QE(i))}),n}Oa(e){this.fa=e.gs,this.pa=Me();const n=this.Sa(e.documents);return this.applyChanges(n,!0)}Na(){return xl.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Ug="SyncEngine";class VC{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class PC{constructor(e){this.key=e,this.Ba=!1}}class UC{constructor(e,n,i,l,u,d){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.La={},this.ka=new ur(g=>hE(g),zh),this.qa=new Map,this.Qa=new Set,this.$a=new ot(xe.comparator),this.Ka=new Map,this.Ua=new Rg,this.Wa={},this.Ga=new Map,this.za=vl.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function BC(s,e,n=!0){const i=tT(s);let l;const u=i.ka.get(e);return u?(i.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.Na()):l=await WE(i,e,n,!0),l}async function HC(s,e){const n=tT(s);await WE(n,e,!0,!1)}async function WE(s,e,n,i){const l=await lC(s.localStore,Es(e)),u=l.targetId,d=s.sharedClientState.addLocalQueryTarget(u,n);let g;return i&&(g=await zC(s,e,u,d==="current",l.resumeToken)),s.isPrimaryClient&&n&&UE(s.remoteStore,l),g}async function zC(s,e,n,i,l){s.Ha=(b,S,k)=>async function(z,P,F,H){let $=P.view.Sa(F);$.ls&&($=await xx(z.localStore,P.query,!1).then(({documents:O})=>P.view.Sa(O,$)));const ee=H&&H.targetChanges.get(P.targetId),Z=H&&H.targetMismatches.get(P.targetId)!=null,le=P.view.applyChanges($,z.isPrimaryClient,ee,Z);return Cx(z,P.targetId,le.Ma),le.snapshot}(s,b,S,k);const u=await xx(s.localStore,e,!0),d=new LC(e,u.gs),g=d.Sa(u.documents),p=_u.createSynthesizedTargetChangeForCurrentChange(n,i&&s.onlineState!=="Offline",l),_=d.applyChanges(g,s.isPrimaryClient,p);Cx(s,n,_.Ma);const E=new VC(e,n,d);return s.ka.set(e,E),s.qa.has(n)?s.qa.get(n).push(e):s.qa.set(n,[e]),_.snapshot}async function qC(s,e,n){const i=Ne(s),l=i.ka.get(e),u=i.qa.get(l.targetId);if(u.length>1)return i.qa.set(l.targetId,u.filter(d=>!zh(d,e))),void i.ka.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(l.targetId),i.sharedClientState.isActiveQueryTarget(l.targetId)||await $m(i.localStore,l.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(l.targetId),n&&jg(i.remoteStore,l.targetId),Wm(i,l.targetId)}).catch(Rl)):(Wm(i,l.targetId),await $m(i.localStore,l.targetId,!0))}async function KC(s,e){const n=Ne(s),i=n.ka.get(e),l=n.qa.get(i.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),jg(n.remoteStore,i.targetId))}async function FC(s,e,n){const i=ZC(s);try{const l=await function(d,g){const p=Ne(d),_=jt.now(),E=g.reduce((k,D)=>k.add(D.key),Me());let b,S;return p.persistence.runTransaction("Locally write mutations","readwrite",k=>{let D=ua(),z=Me();return p.ds.getEntries(k,E).next(P=>{D=P,D.forEach((F,H)=>{H.isValidDocument()||(z=z.add(F))})}).next(()=>p.localDocuments.getOverlayedDocuments(k,D)).next(P=>{b=P;const F=[];for(const H of g){const $=rk(H,b.get(H.key).overlayedDocument);$!=null&&F.push(new _i(H.key,$,sE($.value.mapValue),qn.exists(!0)))}return p.mutationQueue.addMutationBatch(k,_,F,g)}).next(P=>{S=P;const F=P.applyToLocalDocumentSet(b,z);return p.documentOverlayCache.saveOverlays(k,P.batchId,F)})}).then(()=>({batchId:S.batchId,changes:mE(b)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(l.batchId),function(d,g,p){let _=d.Wa[d.currentUser.toKey()];_||(_=new ot(Ve)),_=_.insert(g,p),d.Wa[d.currentUser.toKey()]=_}(i,l.batchId,n),await vu(i,l.changes),await Yh(i.remoteStore)}catch(l){const u=Vg(l,"Failed to persist write");n.reject(u)}}async function XE(s,e){const n=Ne(s);try{const i=await aC(n.localStore,e);e.targetChanges.forEach((l,u)=>{const d=n.Ka.get(u);d&&(Qe(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?d.Ba=!0:l.modifiedDocuments.size>0?Qe(d.Ba):l.removedDocuments.size>0&&(Qe(d.Ba),d.Ba=!1))}),await vu(n,i,e)}catch(i){await Rl(i)}}function kx(s,e,n){const i=Ne(s);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const l=[];i.ka.forEach((u,d)=>{const g=d.view.sa(e);g.snapshot&&l.push(g.snapshot)}),function(d,g){const p=Ne(d);p.onlineState=g;let _=!1;p.queries.forEach((E,b)=>{for(const S of b.ta)S.sa(g)&&(_=!0)}),_&&Pg(p)}(i.eventManager,e),l.length&&i.La.p_(l),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function GC(s,e,n){const i=Ne(s);i.sharedClientState.updateQueryState(e,"rejected",n);const l=i.Ka.get(e),u=l&&l.key;if(u){let d=new ot(xe.comparator);d=d.insert(u,en.newNoDocument(u,Se.min()));const g=Me().add(u),p=new Gh(Se.min(),new Map,new ot(Ve),d,g);await XE(i,p),i.$a=i.$a.remove(u),i.Ka.delete(e),Bg(i)}else await $m(i.localStore,e,!1).then(()=>Wm(i,e,n)).catch(Rl)}async function $C(s,e){const n=Ne(s),i=e.batch.batchId;try{const l=await sC(n.localStore,e);JE(n,i,null),ZE(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await vu(n,l)}catch(l){await Rl(l)}}async function QC(s,e,n){const i=Ne(s);try{const l=await function(d,g){const p=Ne(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let E;return p.mutationQueue.lookupMutationBatch(_,g).next(b=>(Qe(b!==null),E=b.keys(),p.mutationQueue.removeMutationBatch(_,b))).next(()=>p.mutationQueue.performConsistencyCheck(_)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(_,E,g)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,E)).next(()=>p.localDocuments.getDocuments(_,E))})}(i.localStore,e);JE(i,e,n),ZE(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await vu(i,l)}catch(l){await Rl(l)}}function ZE(s,e){(s.Ga.get(e)||[]).forEach(n=>{n.resolve()}),s.Ga.delete(e)}function JE(s,e,n){const i=Ne(s);let l=i.Wa[i.currentUser.toKey()];if(l){const u=l.get(e);u&&(n?u.reject(n):u.resolve(),l=l.remove(e)),i.Wa[i.currentUser.toKey()]=l}}function Wm(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const i of s.qa.get(e))s.ka.delete(i),n&&s.La.Ja(i,n);s.qa.delete(e),s.isPrimaryClient&&s.Ua.Sr(e).forEach(i=>{s.Ua.containsKey(i)||eT(s,i)})}function eT(s,e){s.Qa.delete(e.path.canonicalString());const n=s.$a.get(e);n!==null&&(jg(s.remoteStore,n),s.$a=s.$a.remove(e),s.Ka.delete(n),Bg(s))}function Cx(s,e,n){for(const i of n)i instanceof QE?(s.Ua.addReference(i.key,e),YC(s,i)):i instanceof YE?(he(Ug,"Document no longer in limbo: "+i.key),s.Ua.removeReference(i.key,e),s.Ua.containsKey(i.key)||eT(s,i.key)):Ae()}function YC(s,e){const n=e.key,i=n.path.canonicalString();s.$a.get(n)||s.Qa.has(i)||(he(Ug,"New document in limbo: "+n),s.Qa.add(i),Bg(s))}function Bg(s){for(;s.Qa.size>0&&s.$a.size<s.maxConcurrentLimboResolutions;){const e=s.Qa.values().next().value;s.Qa.delete(e);const n=new xe(nt.fromString(e)),i=s.za.next();s.Ka.set(i,new PC(n)),s.$a=s.$a.insert(n,i),UE(s.remoteStore,new ti(Es(Tg(n.path)),i,"TargetPurposeLimboResolution",Uh.ae))}}async function vu(s,e,n){const i=Ne(s),l=[],u=[],d=[];i.ka.isEmpty()||(i.ka.forEach((g,p)=>{d.push(i.Ha(p,e,n).then(_=>{var E;if((_||n)&&i.isPrimaryClient){const b=_?!_.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;i.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(_){l.push(_);const b=Cg.Yi(p.targetId,_);u.push(b)}}))}),await Promise.all(d),i.La.p_(l),await async function(p,_){const E=Ne(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>se.forEach(_,S=>se.forEach(S.Hi,k=>E.persistence.referenceDelegate.addReference(b,S.targetId,k)).next(()=>se.forEach(S.Ji,k=>E.persistence.referenceDelegate.removeReference(b,S.targetId,k)))))}catch(b){if(!kl(b))throw b;he(Ig,"Failed to update sequence numbers: "+b)}for(const b of _){const S=b.targetId;if(!b.fromCache){const k=E.Ts.get(S),D=k.snapshotVersion,z=k.withLastLimboFreeSnapshotVersion(D);E.Ts=E.Ts.insert(S,z)}}}(i.localStore,u))}async function WC(s,e){const n=Ne(s);if(!n.currentUser.isEqual(e)){he(Ug,"User change. New user:",e.toKey());const i=await ME(n.localStore,e);n.currentUser=e,function(u,d){u.Ga.forEach(g=>{g.forEach(p=>{p.reject(new de(ne.CANCELLED,d))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await vu(n,i.Rs)}}function XC(s,e){const n=Ne(s),i=n.Ka.get(e);if(i&&i.Ba)return Me().add(i.key);{let l=Me();const u=n.qa.get(e);if(!u)return l;for(const d of u){const g=n.ka.get(d);l=l.unionWith(g.view.ba)}return l}}function tT(s){const e=Ne(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=XE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=XC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=GC.bind(null,e),e.La.p_=OC.bind(null,e.eventManager),e.La.Ja=MC.bind(null,e.eventManager),e}function ZC(s){const e=Ne(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$C.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=QC.bind(null,e),e}class Rh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=$h(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return nC(this.persistence,new Jk,e.initialUser,this.serializer)}Xa(e){return new OE(kg.ri,this.serializer)}Za(e){return new uC}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Rh.provider={build:()=>new Rh};class JC extends Rh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Qe(this.persistence.referenceDelegate instanceof wh);const i=this.persistence.referenceDelegate.garbageCollector;return new Pk(i,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new OE(i=>wh.ri(i,n),this.serializer)}}class Xm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>kx(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=WC.bind(null,this.syncEngine),await IC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new DC}()}createDatastore(e){const n=$h(e.databaseInfo.databaseId),i=function(u){return new mC(u)}(e.databaseInfo);return function(u,d,g,p){return new yC(u,d,g,p)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,l,u,d,g){return new xC(i,l,u,d,g)}(this.localStore,this.datastore,e.asyncQueue,n=>kx(this.syncEngine,n,0),function(){return bx.D()?new bx:new cC}())}createSyncEngine(e,n){return function(l,u,d,g,p,_,E){const b=new UC(l,u,d,g,p,_);return E&&(b.ja=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(l){const u=Ne(l);he(ar,"RemoteStore shutting down."),u.W_.add(5),await yu(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Xm.provider={build:()=>new Xm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):oa("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fi="FirestoreClient";class e1{constructor(e,n,i,l,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=l,this.user=Jt.UNAUTHENTICATED,this.clientId=$0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(i,async d=>{he(fi,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(i,d=>(he(fi,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ia;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Vg(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Am(s,e){s.asyncQueue.verifyOperationInProgress(),he(fi,"Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let i=n.initialUser;s.setCredentialChangeListener(async l=>{i.isEqual(l)||(await ME(e.localStore,l),i=l)}),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}async function Ix(s,e){s.asyncQueue.verifyOperationInProgress();const n=await t1(s);he(fi,"Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener(i=>Sx(e.remoteStore,i)),s.setAppCheckTokenChangeListener((i,l)=>Sx(e.remoteStore,l)),s._onlineComponents=e}async function t1(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){he(fi,"Using user provided OfflineComponentProvider");try{await Am(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(l){return l.name==="FirebaseError"?l.code===ne.FAILED_PRECONDITION||l.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(n))throw n;gl("Error using user provided cache. Falling back to memory cache: "+n),await Am(s,new Rh)}}else he(fi,"Using default OfflineComponentProvider"),await Am(s,new JC(void 0));return s._offlineComponents}async function sT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(he(fi,"Using user provided OnlineComponentProvider"),await Ix(s,s._uninitializedComponentsProvider._online)):(he(fi,"Using default OnlineComponentProvider"),await Ix(s,new Xm))),s._onlineComponents}function n1(s){return sT(s).then(e=>e.syncEngine)}async function aT(s){const e=await sT(s),n=e.eventManager;return n.onListen=BC.bind(null,e.syncEngine),n.onUnlisten=qC.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=HC.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=KC.bind(null,e.syncEngine),n}function s1(s,e,n={}){const i=new ia;return s.asyncQueue.enqueueAndForget(async()=>function(u,d,g,p,_){const E=new nT({next:S=>{E.su(),d.enqueueAndForget(()=>GE(u,b));const k=S.docs.has(g);!k&&S.fromCache?_.reject(new de(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&S.fromCache&&p&&p.source==="server"?_.reject(new de(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(S)},error:S=>_.reject(S)}),b=new $E(Tg(g.path),E,{includeMetadataChanges:!0,Ta:!0});return FE(u,b)}(await aT(s),s.asyncQueue,e,n,i)),i.promise}function a1(s,e,n={}){const i=new ia;return s.asyncQueue.enqueueAndForget(async()=>function(u,d,g,p,_){const E=new nT({next:S=>{E.su(),d.enqueueAndForget(()=>GE(u,b)),S.fromCache&&p.source==="server"?_.reject(new de(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(S)},error:S=>_.reject(S)}),b=new $E(g,E,{includeMetadataChanges:!0,Ta:!0});return FE(u,b)}(await aT(s),s.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iT(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(s,e,n){if(!n)throw new de(ne.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function i1(s,e,n,i){if(e===!0&&i===!0)throw new de(ne.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function Dx(s){if(!xe.isDocumentKey(s))throw new de(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Ox(s){if(xe.isDocumentKey(s))throw new de(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function Wh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Ae()}function Jn(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new de(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Wh(s);throw new de(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT="firestore.googleapis.com",Mx=!0;class Lx{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new de(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=lT,this.ssl=Mx}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Mx;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=DE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Lk)throw new de(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}i1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=iT((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new de(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new de(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new de(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,l){return i.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xh{constructor(e,n,i,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Lx({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Lx(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new fR;switch(i.type){case"firstParty":return new _R(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new de(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=jx.get(n);i&&(he("ComponentProvider","Removing Datastore"),jx.delete(n),i.terminate())}(this),Promise.resolve()}}function r1(s,e,n,i={}){var l;const u=(s=Jn(s,Xh))._getSettings(),d=Object.assign(Object.assign({},u),{emulatorOptions:s._getEmulatorOptions()}),g=`${e}:${n}`;u.host!==lT&&u.host!==g&&gl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:g,ssl:!1,emulatorOptions:i});if(!tr(p,d)&&(s._setSettings(p),i.mockUserToken)){let _,E;if(typeof i.mockUserToken=="string")_=i.mockUserToken,E=Jt.MOCK_USER;else{_=O0(i.mockUserToken,(l=s._app)===null||l===void 0?void 0:l.options.projectId);const b=i.mockUserToken.sub||i.mockUserToken.user_id;if(!b)throw new de(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Jt(b)}s._authCredentials=new mR(new G0(_,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new hr(this.firestore,e,this._query)}}class cn{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ii(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new cn(this.firestore,e,this._key)}}class ii extends hr{constructor(e,n,i){super(e,n,Tg(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new cn(this.firestore,null,new xe(e))}withConverter(e){return new ii(this.firestore,e,this._path)}}function Hg(s,e,...n){if(s=at(s),rT("collection","path",e),s instanceof Xh){const i=nt.fromString(e,...n);return Ox(i),new ii(s,null,i)}{if(!(s instanceof cn||s instanceof ii))throw new de(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=s._path.child(nt.fromString(e,...n));return Ox(i),new ii(s.firestore,null,i)}}function mi(s,e,...n){if(s=at(s),arguments.length===1&&(e=$0.newId()),rT("doc","path",e),s instanceof Xh){const i=nt.fromString(e,...n);return Dx(i),new cn(s,null,new xe(i))}{if(!(s instanceof cn||s instanceof ii))throw new de(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=s._path.child(nt.fromString(e,...n));return Dx(i),new cn(s.firestore,s instanceof ii?s.converter:null,new xe(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx="AsyncQueue";class Px{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new VE(this,"async_queue_retry"),this.bu=()=>{const i=bm();i&&he(Vx,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.Su=e;const n=bm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=bm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new ia;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!kl(e))throw e;he(Vx,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.Su.then(()=>(this.pu=!0,e().catch(i=>{this.gu=i,this.pu=!1;const l=function(d){let g=d.message||"";return d.stack&&(g=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),g}(i);throw oa("INTERNAL UNHANDLED ERROR: ",l),i}).then(i=>(this.pu=!1,i))));return this.Su=n,n}enqueueAfterDelay(e,n,i){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const l=Lg.createAndSchedule(this,e,n,i,u=>this.Fu(u));return this.fu.push(l),l}Du(){this.gu&&Ae()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class dr extends Xh{constructor(e,n,i,l){super(e,n,i,l),this.type="firestore",this._queue=new Px,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Px(e),this._firestoreClient=void 0,await e}}}function l1(s,e){const n=typeof s=="object"?s:gg(),i=typeof s=="string"?s:xh,l=Ph(n,"firestore").getImmediate({identifier:i});if(!l._initialized){const u=I0("firestore");u&&r1(l,...u)}return l}function zg(s){if(s._terminated)throw new de(ne.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||o1(s),s._firestoreClient}function o1(s){var e,n,i;const l=s._freezeSettings(),u=function(g,p,_,E){return new IR(g,p,_,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,iT(E.experimentalLongPollingOptions),E.useFetchStreams)}(s._databaseId,((e=s._app)===null||e===void 0?void 0:e.options.appId)||"",s._persistenceKey,l);s._componentsProvider||!((n=l.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=l.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(s._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),s._firestoreClient=new e1(s._authCredentials,s._appCheckCredentials,s._queue,u,s._componentsProvider&&function(g){const p=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(p),_online:p}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e){this._byteString=e}static fromBase64String(e){try{return new El(Qt.fromBase64String(e))}catch(n){throw new de(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new El(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,l){if(i.length!==l.length)return!1;for(let u=0;u<i.length;++u)if(i[u]!==l[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1=/^__.*__$/;class c1{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new _i(e,this.data,this.fieldMask,n,this.fieldTransforms):new pu(e,this.data,n,this.fieldTransforms)}}class oT{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new _i(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function uT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae()}}class Gg{constructor(e,n,i,l,u,d){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=l,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Gg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),l=this.ku({path:i,Qu:!1});return l.$u(e),l}Ku(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),l=this.ku({path:i,Qu:!1});return l.Bu(),l}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return kh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(uT(this.Lu)&&u1.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class h1{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||$h(e)}ju(e,n,i,l=!1){return new Gg({Lu:e,methodName:n,zu:i,path:$t.emptyPath(),Qu:!1,Gu:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Jh(s){const e=s._freezeSettings(),n=$h(s._databaseId);return new h1(s._databaseId,!!e.ignoreUndefinedProperties,n)}function cT(s,e,n,i,l,u={}){const d=s.ju(u.merge||u.mergeFields?2:0,e,n,l);$g("Data must be an object, but it was:",d,i);const g=hT(i,d);let p,_;if(u.merge)p=new An(d.fieldMask),_=d.fieldTransforms;else if(u.mergeFields){const E=[];for(const b of u.mergeFields){const S=Zm(e,b,n);if(!d.contains(S))throw new de(ne.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);fT(E,S)||E.push(S)}p=new An(E),_=d.fieldTransforms.filter(b=>p.covers(b.field))}else p=null,_=d.fieldTransforms;return new c1(new gn(g),p,_)}class ed extends qg{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ed}}function d1(s,e,n,i){const l=s.ju(1,e,n);$g("Data must be an object, but it was:",l,i);const u=[],d=gn.empty();pi(i,(p,_)=>{const E=Qg(e,p,n);_=at(_);const b=l.Ku(E);if(_ instanceof ed)u.push(E);else{const S=xu(_,b);S!=null&&(u.push(E),d.set(E,S))}});const g=new An(u);return new oT(d,g,l.fieldTransforms)}function f1(s,e,n,i,l,u){const d=s.ju(1,e,n),g=[Zm(e,i,n)],p=[l];if(u.length%2!=0)throw new de(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)g.push(Zm(e,u[S])),p.push(u[S+1]);const _=[],E=gn.empty();for(let S=g.length-1;S>=0;--S)if(!fT(_,g[S])){const k=g[S];let D=p[S];D=at(D);const z=d.Ku(k);if(D instanceof ed)_.push(k);else{const P=xu(D,z);P!=null&&(_.push(k),E.set(k,P))}}const b=new An(_);return new oT(E,b,d.fieldTransforms)}function m1(s,e,n,i=!1){return xu(n,s.ju(i?4:3,e))}function xu(s,e){if(dT(s=at(s)))return $g("Unsupported field value:",e,s),hT(s,e);if(s instanceof qg)return function(i,l){if(!uT(l.Lu))throw l.Wu(`${i._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Wu(`${i._methodName}() is not currently supported inside arrays`);const u=i._toFieldTransform(l);u&&l.fieldTransforms.push(u)}(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(i,l){const u=[];let d=0;for(const g of i){let p=xu(g,l.Uu(d));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),d++}return{arrayValue:{values:u}}}(s,e)}return function(i,l){if((i=at(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return ek(l.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const u=jt.fromDate(i);return{timestampValue:Sh(l.serializer,u)}}if(i instanceof jt){const u=new jt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Sh(l.serializer,u)}}if(i instanceof Kg)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof El)return{bytesValue:wE(l.serializer,i._byteString)};if(i instanceof cn){const u=l.databaseId,d=i.firestore._databaseId;if(!d.isEqual(u))throw l.Wu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Ng(i.firestore._databaseId||l.databaseId,i._key.path)}}if(i instanceof Fg)return function(d,g){return{mapValue:{fields:{[tE]:{stringValue:nE},[Eh]:{arrayValue:{values:d.toArray().map(_=>{if(typeof _!="number")throw g.Wu("VectorValues must only contain numeric values.");return bg(g.serializer,_)})}}}}}}(i,l);throw l.Wu(`Unsupported field value: ${Wh(i)}`)}(s,e)}function hT(s,e){const n={};return Y0(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):pi(s,(i,l)=>{const u=xu(l,e.qu(i));u!=null&&(n[i]=u)}),{mapValue:{fields:n}}}function dT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof jt||s instanceof Kg||s instanceof El||s instanceof cn||s instanceof qg||s instanceof Fg)}function $g(s,e,n){if(!dT(n)||!function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}(n)){const i=Wh(n);throw i==="an object"?e.Wu(s+" a custom object"):e.Wu(s+" "+i)}}function Zm(s,e,n){if((e=at(e))instanceof Zh)return e._internalPath;if(typeof e=="string")return Qg(s,e);throw kh("Field path arguments must be of type string or ",s,!1,void 0,n)}const g1=new RegExp("[~\\*/\\[\\]]");function Qg(s,e,n){if(e.search(g1)>=0)throw kh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new Zh(...e.split("."))._internalPath}catch{throw kh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function kh(s,e,n,i,l){const u=i&&!i.isEmpty(),d=l!==void 0;let g=`Function ${e}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(u||d)&&(p+=" (found",u&&(p+=` in field ${i}`),d&&(p+=` in document ${l}`),p+=")"),new de(ne.INVALID_ARGUMENT,g+s+p)}function fT(s,e){return s.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(e,n,i,l,u){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new p1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(td("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class p1 extends mT{data(){return super.data()}}function td(s,e){return typeof e=="string"?Qg(s,e):e instanceof Zh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _1(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new de(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Yg{}class gT extends Yg{}function ul(s,e,...n){let i=[];e instanceof Yg&&i.push(e),i=i.concat(n),function(u){const d=u.filter(p=>p instanceof Wg).length,g=u.filter(p=>p instanceof nd).length;if(d>1||d>0&&g>0)throw new de(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const l of i)s=l._apply(s);return s}class nd extends gT{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new nd(e,n,i)}_apply(e){const n=this._parse(e);return _T(e._query,n),new hr(e.firestore,e.converter,Hm(e._query,n))}_parse(e){const n=Jh(e.firestore);return function(u,d,g,p,_,E,b){let S;if(_.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new de(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){Bx(b,E);const D=[];for(const z of b)D.push(Ux(p,u,z));S={arrayValue:{values:D}}}else S=Ux(p,u,b)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||Bx(b,E),S=m1(g,d,b,E==="in"||E==="not-in");return St.create(_,E,S)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Zc(s,e,n){const i=e,l=td("where",s);return nd._create(l,i,n)}class Wg extends Yg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Wg(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:Zn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(l,u){let d=l;const g=u.getFlattenedFilters();for(const p of g)_T(d,p),d=Hm(d,p)}(e._query,n),new hr(e.firestore,e.converter,Hm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Xg extends gT{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Xg(e,n)}_apply(e){const n=function(l,u,d){if(l.startAt!==null)throw new de(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new de(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ou(u,d)}(e._query,this._field,this._direction);return new hr(e.firestore,e.converter,function(l,u){const d=l.explicitOrderBy.concat([u]);return new Cl(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(e._query,n))}}function pT(s,e="asc"){const n=e,i=td("orderBy",s);return Xg._create(i,n)}function Ux(s,e,n){if(typeof(n=at(n))=="string"){if(n==="")throw new de(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cE(e)&&n.indexOf("/")!==-1)throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(nt.fromString(n));if(!xe.isDocumentKey(i))throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return tx(s,new xe(i))}if(n instanceof cn)return tx(s,n._key);throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wh(n)}.`)}function Bx(s,e){if(!Array.isArray(s)||s.length===0)throw new de(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function _T(s,e){const n=function(l,u){for(const d of l)for(const g of d.getFlattenedFilters())if(u.indexOf(g.op)>=0)return g.op;return null}(s.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new de(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class y1{convertValue(e,n="none"){switch(hi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ci(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return pi(e,(l,u)=>{i[l]=this.convertValue(u,n)}),i}convertVectorValue(e){var n,i,l;const u=(l=(i=(n=e.fields)===null||n===void 0?void 0:n[Eh].arrayValue)===null||i===void 0?void 0:i.values)===null||l===void 0?void 0:l.map(d=>yt(d.doubleValue));return new Fg(u)}convertGeoPoint(e){return new Kg(yt(e.latitude),yt(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Hh(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(iu(e));default:return null}}convertTimestamp(e){const n=ui(e);return new jt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=nt.fromString(e);Qe(jE(i));const l=new ru(i.get(1),i.get(3)),u=new xe(i.popFirst(5));return l.isEqual(n)||oa(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yT(s,e,n){let i;return i=s?s.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vT extends mT{constructor(e,n,i,l,u,d){super(e,n,i,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ch(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(td("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class ch extends vT{data(e={}){return super.data(e)}}class v1{constructor(e,n,i,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new Yo(l.hasPendingWrites,l.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new ch(this._firestore,this._userDataWriter,i.key,i,new Yo(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(l,u){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map(g=>{const p=new ch(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Yo(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}})}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(g=>u||g.type!==3).map(g=>{const p=new ch(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Yo(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,E=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),E=d.indexOf(g.doc.key)),{type:x1(g.type),doc:p,oldIndex:_,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function x1(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xT(s){s=Jn(s,cn);const e=Jn(s.firestore,dr);return s1(zg(e),s._key).then(n=>A1(e,s,n))}class ET extends y1{constructor(e){super(),this.firestore=e}convertBytes(e){return new El(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new cn(this.firestore,null,n)}}function Zg(s){s=Jn(s,hr);const e=Jn(s.firestore,dr),n=zg(e),i=new ET(e);return _1(s._query),a1(n,s._query).then(l=>new v1(e,i,s,l))}function sd(s,e,n){s=Jn(s,cn);const i=Jn(s.firestore,dr),l=yT(s.converter,e);return ad(i,[cT(Jh(i),"setDoc",s._key,l,s.converter!==null,n).toMutation(s._key,qn.none())])}function E1(s,e,n,...i){s=Jn(s,cn);const l=Jn(s.firestore,dr),u=Jh(l);let d;return d=typeof(e=at(e))=="string"||e instanceof Zh?f1(u,"updateDoc",s._key,e,n,i):d1(u,"updateDoc",s._key,e),ad(l,[d.toMutation(s._key,qn.exists(!0))])}function T1(s){return ad(Jn(s.firestore,dr),[new Ag(s._key,qn.none())])}function b1(s,e){const n=Jn(s.firestore,dr),i=mi(s),l=yT(s.converter,e);return ad(n,[cT(Jh(s.firestore),"addDoc",i._key,l,s.converter!==null,{}).toMutation(i._key,qn.exists(!1))]).then(()=>i)}function ad(s,e){return function(i,l){const u=new ia;return i.asyncQueue.enqueueAndForget(async()=>FC(await n1(i),l,u)),u.promise}(zg(s),e)}function A1(s,e,n){const i=n.docs.get(e._key),l=new ET(s);return new vT(s,l,e._key,i,new Yo(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(l){Nl=l})(or),nr(new li("firestore",(i,{instanceIdentifier:l,options:u})=>{const d=i.getProvider("app").getImmediate(),g=new dr(new gR(i.getProvider("auth-internal")),new yR(d,i.getProvider("app-check-internal")),function(_,E){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new de(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ru(_.options.projectId,E)}(d,l),d);return u=Object.assign({useFetchStreams:n},u),g._setSettings(u),g},"PUBLIC").setMultipleInstances(!0)),xs(Kv,Fv,e),xs(Kv,Fv,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT="firebasestorage.googleapis.com",bT="storageBucket",S1=2*60*1e3,w1=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt extends Ns{constructor(e,n,i=0){super(Sm(e),`Firebase Storage: ${n} (${Sm(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,gt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Sm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var mt;(function(s){s.UNKNOWN="unknown",s.OBJECT_NOT_FOUND="object-not-found",s.BUCKET_NOT_FOUND="bucket-not-found",s.PROJECT_NOT_FOUND="project-not-found",s.QUOTA_EXCEEDED="quota-exceeded",s.UNAUTHENTICATED="unauthenticated",s.UNAUTHORIZED="unauthorized",s.UNAUTHORIZED_APP="unauthorized-app",s.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",s.INVALID_CHECKSUM="invalid-checksum",s.CANCELED="canceled",s.INVALID_EVENT_NAME="invalid-event-name",s.INVALID_URL="invalid-url",s.INVALID_DEFAULT_BUCKET="invalid-default-bucket",s.NO_DEFAULT_BUCKET="no-default-bucket",s.CANNOT_SLICE_BLOB="cannot-slice-blob",s.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",s.NO_DOWNLOAD_URL="no-download-url",s.INVALID_ARGUMENT="invalid-argument",s.INVALID_ARGUMENT_COUNT="invalid-argument-count",s.APP_DELETED="app-deleted",s.INVALID_ROOT_OPERATION="invalid-root-operation",s.INVALID_FORMAT="invalid-format",s.INTERNAL_ERROR="internal-error",s.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(mt||(mt={}));function Sm(s){return"storage/"+s}function Jg(){const s="An unknown error occurred, please check the error payload for server response.";return new gt(mt.UNKNOWN,s)}function N1(s){return new gt(mt.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")}function R1(s){return new gt(mt.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function k1(){const s="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new gt(mt.UNAUTHENTICATED,s)}function C1(){return new gt(mt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function I1(s){return new gt(mt.UNAUTHORIZED,"User does not have permission to access '"+s+"'.")}function j1(){return new gt(mt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function D1(){return new gt(mt.CANCELED,"User canceled the upload/download.")}function O1(s){return new gt(mt.INVALID_URL,"Invalid URL '"+s+"'.")}function M1(s){return new gt(mt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+s+"'.")}function L1(){return new gt(mt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+bT+"' property when initializing the app?")}function V1(){return new gt(mt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function P1(){return new gt(mt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function U1(s){return new gt(mt.UNSUPPORTED_ENVIRONMENT,`${s} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Jm(s){return new gt(mt.INVALID_ARGUMENT,s)}function AT(){return new gt(mt.APP_DELETED,"The Firebase app was deleted.")}function B1(s){return new gt(mt.INVALID_ROOT_OPERATION,"The operation '"+s+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function eu(s,e){return new gt(mt.INVALID_FORMAT,"String does not match format '"+s+"': "+e)}function qo(s){throw new gt(mt.INTERNAL_ERROR,"Internal error: "+s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=Sn.makeFromUrl(e,n)}catch{return new Sn(e,"")}if(i.path==="")return i;throw M1(e)}static makeFromUrl(e,n){let i=null;const l="([A-Za-z0-9.\\-_]+)";function u(ee){ee.path.charAt(ee.path.length-1)==="/"&&(ee.path_=ee.path_.slice(0,-1))}const d="(/(.*))?$",g=new RegExp("^gs://"+l+d,"i"),p={bucket:1,path:3};function _(ee){ee.path_=decodeURIComponent(ee.path)}const E="v[A-Za-z0-9_]+",b=n.replace(/[.]/g,"\\."),S="(/([^?#]*).*)?$",k=new RegExp(`^https?://${b}/${E}/b/${l}/o${S}`,"i"),D={bucket:1,path:3},z=n===TT?"(?:storage.googleapis.com|storage.cloud.google.com)":n,P="([^?#]*)",F=new RegExp(`^https?://${z}/${l}/${P}`,"i"),$=[{regex:g,indices:p,postModify:u},{regex:k,indices:D,postModify:_},{regex:F,indices:{bucket:1,path:2},postModify:_}];for(let ee=0;ee<$.length;ee++){const Z=$[ee],le=Z.regex.exec(e);if(le){const O=le[Z.indices.bucket];let R=le[Z.indices.path];R||(R=""),i=new Sn(O,R),Z.postModify(i);break}}if(i==null)throw O1(e);return i}}class H1{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z1(s,e,n){let i=1,l=null,u=null,d=!1,g=0;function p(){return g===2}let _=!1;function E(...P){_||(_=!0,e.apply(null,P))}function b(P){l=setTimeout(()=>{l=null,s(k,p())},P)}function S(){u&&clearTimeout(u)}function k(P,...F){if(_){S();return}if(P){S(),E.call(null,P,...F);return}if(p()||d){S(),E.call(null,P,...F);return}i<64&&(i*=2);let $;g===1?(g=2,$=0):$=(i+Math.random())*1e3,b($)}let D=!1;function z(P){D||(D=!0,S(),!_&&(l!==null?(P||(g=2),clearTimeout(l),b(0)):P||(g=1)))}return b(0),u=setTimeout(()=>{d=!0,z(!0)},n),z}function q1(s){s(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K1(s){return s!==void 0}function F1(s){return typeof s=="object"&&!Array.isArray(s)}function ep(s){return typeof s=="string"||s instanceof String}function Hx(s){return tp()&&s instanceof Blob}function tp(){return typeof Blob<"u"}function zx(s,e,n,i){if(i<e)throw Jm(`Invalid value for '${s}'. Expected ${e} or greater.`);if(i>n)throw Jm(`Invalid value for '${s}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function id(s,e,n){let i=e;return n==null&&(i=`https://${e}`),`${n}://${i}/v0${s}`}function ST(s){const e=encodeURIComponent;let n="?";for(const i in s)if(s.hasOwnProperty(i)){const l=e(i)+"="+e(s[i]);n=n+l+"&"}return n=n.slice(0,-1),n}var er;(function(s){s[s.NO_ERROR=0]="NO_ERROR",s[s.NETWORK_ERROR=1]="NETWORK_ERROR",s[s.ABORT=2]="ABORT"})(er||(er={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G1(s,e){const n=s>=500&&s<600,l=[408,429].indexOf(s)!==-1,u=e.indexOf(s)!==-1;return n||l||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e,n,i,l,u,d,g,p,_,E,b,S=!0){this.url_=e,this.method_=n,this.headers_=i,this.body_=l,this.successCodes_=u,this.additionalRetryCodes_=d,this.callback_=g,this.errorCallback_=p,this.timeout_=_,this.progressCallback_=E,this.connectionFactory_=b,this.retry=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((k,D)=>{this.resolve_=k,this.reject_=D,this.start_()})}start_(){const e=(i,l)=>{if(l){i(!1,new Jc(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const d=g=>{const p=g.loaded,_=g.lengthComputable?g.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,_)};this.progressCallback_!==null&&u.addUploadProgressListener(d),u.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(d),this.pendingConnection_=null;const g=u.getErrorCode()===er.NO_ERROR,p=u.getStatus();if(!g||G1(p,this.additionalRetryCodes_)&&this.retry){const E=u.getErrorCode()===er.ABORT;i(!1,new Jc(!1,null,E));return}const _=this.successCodes_.indexOf(p)!==-1;i(!0,new Jc(_,u))})},n=(i,l)=>{const u=this.resolve_,d=this.reject_,g=l.connection;if(l.wasSuccessCode)try{const p=this.callback_(g,g.getResponse());K1(p)?u(p):u()}catch(p){d(p)}else if(g!==null){const p=Jg();p.serverResponse=g.getErrorText(),this.errorCallback_?d(this.errorCallback_(g,p)):d(p)}else if(l.canceled){const p=this.appDelete_?AT():D1();d(p)}else{const p=j1();d(p)}};this.canceled_?n(!1,new Jc(!1,null,!0)):this.backoffId_=z1(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&q1(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Jc{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function Q1(s,e){e!==null&&e.length>0&&(s.Authorization="Firebase "+e)}function Y1(s,e){s["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function W1(s,e){e&&(s["X-Firebase-GMPID"]=e)}function X1(s,e){e!==null&&(s["X-Firebase-AppCheck"]=e)}function Z1(s,e,n,i,l,u,d=!0){const g=ST(s.urlParams),p=s.url+g,_=Object.assign({},s.headers);return W1(_,e),Q1(_,n),Y1(_,u),X1(_,i),new $1(p,s.method,_,s.body,s.successCodes,s.additionalRetryCodes,s.handler,s.errorHandler,s.timeout,s.progressCallback,l,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J1(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function eI(...s){const e=J1();if(e!==void 0){const n=new e;for(let i=0;i<s.length;i++)n.append(s[i]);return n.getBlob()}else{if(tp())return new Blob(s);throw new gt(mt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function tI(s,e,n){return s.webkitSlice?s.webkitSlice(e,n):s.mozSlice?s.mozSlice(e,n):s.slice?s.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nI(s){if(typeof atob>"u")throw U1("base-64");return atob(s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class wm{constructor(e,n){this.data=e,this.contentType=n||null}}function wT(s,e){switch(s){case Wn.RAW:return new wm(NT(e));case Wn.BASE64:case Wn.BASE64URL:return new wm(RT(s,e));case Wn.DATA_URL:return new wm(aI(e),iI(e))}throw Jg()}function NT(s){const e=[];for(let n=0;n<s.length;n++){let i=s.charCodeAt(n);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(n<s.length-1&&(s.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const u=i,d=s.charCodeAt(++n);i=65536|(u&1023)<<10|d&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function sI(s){let e;try{e=decodeURIComponent(s)}catch{throw eu(Wn.DATA_URL,"Malformed data URL.")}return NT(e)}function RT(s,e){switch(s){case Wn.BASE64:{const l=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(l||u)throw eu(s,"Invalid character '"+(l?"-":"_")+"' found: is it base64url encoded?");break}case Wn.BASE64URL:{const l=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(l||u)throw eu(s,"Invalid character '"+(l?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=nI(e)}catch(l){throw l.message.includes("polyfill")?l:eu(s,"Invalid character found")}const i=new Uint8Array(n.length);for(let l=0;l<n.length;l++)i[l]=n.charCodeAt(l);return i}class kT{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw eu(Wn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=n[1]||null;i!=null&&(this.base64=rI(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function aI(s){const e=new kT(s);return e.base64?RT(Wn.BASE64,e.rest):sI(e.rest)}function iI(s){return new kT(s).contentType}function rI(s,e){return s.length>=e.length?s.substring(s.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e,n){let i=0,l="";Hx(e)?(this.data_=e,i=e.size,l=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=l}size(){return this.size_}type(){return this.type_}slice(e,n){if(Hx(this.data_)){const i=this.data_,l=tI(i,e,n);return l===null?null:new Wa(l)}else{const i=new Uint8Array(this.data_.buffer,e,n-e);return new Wa(i,!0)}}static getBlob(...e){if(tp()){const n=e.map(i=>i instanceof Wa?i.data_:i);return new Wa(eI.apply(null,n))}else{const n=e.map(d=>ep(d)?wT(Wn.RAW,d).data:d.data_);let i=0;n.forEach(d=>{i+=d.byteLength});const l=new Uint8Array(i);let u=0;return n.forEach(d=>{for(let g=0;g<d.length;g++)l[u++]=d[g]}),new Wa(l,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CT(s){let e;try{e=JSON.parse(s)}catch{return null}return F1(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lI(s){if(s.length===0)return null;const e=s.lastIndexOf("/");return e===-1?"":s.slice(0,e)}function oI(s,e){const n=e.split("/").filter(i=>i.length>0).join("/");return s.length===0?n:s+"/"+n}function IT(s){const e=s.lastIndexOf("/",s.length-2);return e===-1?s:s.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uI(s,e){return e}class un{constructor(e,n,i,l){this.server=e,this.local=n||e,this.writable=!!i,this.xform=l||uI}}let eh=null;function cI(s){return!ep(s)||s.length<2?s:IT(s)}function jT(){if(eh)return eh;const s=[];s.push(new un("bucket")),s.push(new un("generation")),s.push(new un("metageneration")),s.push(new un("name","fullPath",!0));function e(u,d){return cI(d)}const n=new un("name");n.xform=e,s.push(n);function i(u,d){return d!==void 0?Number(d):d}const l=new un("size");return l.xform=i,s.push(l),s.push(new un("timeCreated")),s.push(new un("updated")),s.push(new un("md5Hash",null,!0)),s.push(new un("cacheControl",null,!0)),s.push(new un("contentDisposition",null,!0)),s.push(new un("contentEncoding",null,!0)),s.push(new un("contentLanguage",null,!0)),s.push(new un("contentType",null,!0)),s.push(new un("metadata","customMetadata",!0)),eh=s,eh}function hI(s,e){function n(){const i=s.bucket,l=s.fullPath,u=new Sn(i,l);return e._makeStorageReference(u)}Object.defineProperty(s,"ref",{get:n})}function dI(s,e,n){const i={};i.type="file";const l=n.length;for(let u=0;u<l;u++){const d=n[u];i[d.local]=d.xform(i,e[d.server])}return hI(i,s),i}function DT(s,e,n){const i=CT(e);return i===null?null:dI(s,i,n)}function fI(s,e,n,i){const l=CT(e);if(l===null||!ep(l.downloadTokens))return null;const u=l.downloadTokens;if(u.length===0)return null;const d=encodeURIComponent;return u.split(",").map(_=>{const E=s.bucket,b=s.fullPath,S="/b/"+d(E)+"/o/"+d(b),k=id(S,n,i),D=ST({alt:"media",token:_});return k+D})[0]}function mI(s,e){const n={},i=e.length;for(let l=0;l<i;l++){const u=e[l];u.writable&&(n[u.server]=s[u.local])}return JSON.stringify(n)}class np{constructor(e,n,i,l){this.url=e,this.method=n,this.handler=i,this.timeout=l,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OT(s){if(!s)throw Jg()}function gI(s,e){function n(i,l){const u=DT(s,l,e);return OT(u!==null),u}return n}function pI(s,e){function n(i,l){const u=DT(s,l,e);return OT(u!==null),fI(u,l,s.host,s._protocol)}return n}function MT(s){function e(n,i){let l;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?l=C1():l=k1():n.getStatus()===402?l=R1(s.bucket):n.getStatus()===403?l=I1(s.path):l=i,l.status=n.getStatus(),l.serverResponse=i.serverResponse,l}return e}function LT(s){const e=MT(s);function n(i,l){let u=e(i,l);return i.getStatus()===404&&(u=N1(s.path)),u.serverResponse=l.serverResponse,u}return n}function _I(s,e,n){const i=e.fullServerUrl(),l=id(i,s.host,s._protocol),u="GET",d=s.maxOperationRetryTime,g=new np(l,u,pI(s,n),d);return g.errorHandler=LT(e),g}function yI(s,e){const n=e.fullServerUrl(),i=id(n,s.host,s._protocol),l="DELETE",u=s.maxOperationRetryTime;function d(p,_){}const g=new np(i,l,d,u);return g.successCodes=[200,204],g.errorHandler=LT(e),g}function vI(s,e){return s&&s.contentType||e&&e.type()||"application/octet-stream"}function xI(s,e,n){const i=Object.assign({},n);return i.fullPath=s.path,i.size=e.size(),i.contentType||(i.contentType=vI(null,e)),i}function EI(s,e,n,i,l){const u=e.bucketOnlyServerUrl(),d={"X-Goog-Upload-Protocol":"multipart"};function g(){let $="";for(let ee=0;ee<2;ee++)$=$+Math.random().toString().slice(2);return $}const p=g();d["Content-Type"]="multipart/related; boundary="+p;const _=xI(e,i,l),E=mI(_,n),b="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+E+`\r
--`+p+`\r
Content-Type: `+_.contentType+`\r
\r
`,S=`\r
--`+p+"--",k=Wa.getBlob(b,i,S);if(k===null)throw V1();const D={name:_.fullPath},z=id(u,s.host,s._protocol),P="POST",F=s.maxUploadRetryTime,H=new np(z,P,gI(s,n),F);return H.urlParams=D,H.headers=d,H.body=k.uploadData(),H.errorHandler=MT(e),H}class TI{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=er.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=er.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=er.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,i,l){if(this.sent_)throw qo("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),l!==void 0)for(const u in l)l.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,l[u].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw qo("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw qo("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw qo("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw qo("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class bI extends TI{initXhr(){this.xhr_.responseType="text"}}function sp(){return new bI}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e,n){this._service=e,n instanceof Sn?this._location=n:this._location=Sn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ir(e,n)}get root(){const e=new Sn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return IT(this._location.path)}get storage(){return this._service}get parent(){const e=lI(this._location.path);if(e===null)return null;const n=new Sn(this._location.bucket,e);return new ir(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw B1(e)}}function AI(s,e,n){s._throwIfRoot("uploadBytes");const i=EI(s.storage,s._location,jT(),new Wa(e,!0),n);return s.storage.makeRequestWithTokens(i,sp).then(l=>({metadata:l,ref:s}))}function SI(s,e,n=Wn.RAW,i){s._throwIfRoot("uploadString");const l=wT(n,e),u=Object.assign({},i);return u.contentType==null&&l.contentType!=null&&(u.contentType=l.contentType),AI(s,l.data,u)}function wI(s){s._throwIfRoot("getDownloadURL");const e=_I(s.storage,s._location,jT());return s.storage.makeRequestWithTokens(e,sp).then(n=>{if(n===null)throw P1();return n})}function NI(s){s._throwIfRoot("deleteObject");const e=yI(s.storage,s._location);return s.storage.makeRequestWithTokens(e,sp)}function RI(s,e){const n=oI(s._location.path,e),i=new Sn(s._location.bucket,n);return new ir(s.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kI(s){return/^[A-Za-z]+:\/\//.test(s)}function CI(s,e){return new ir(s,e)}function VT(s,e){if(s instanceof ap){const n=s;if(n._bucket==null)throw L1();const i=new ir(n,n._bucket);return e!=null?VT(i,e):i}else return e!==void 0?RI(s,e):s}function II(s,e){if(e&&kI(e)){if(s instanceof ap)return CI(s,e);throw Jm("To use ref(service, url), the first argument must be a Storage instance.")}else return VT(s,e)}function qx(s,e){const n=e==null?void 0:e[bT];return n==null?null:Sn.makeFromBucketSpec(n,s)}function jI(s,e,n,i={}){s.host=`${e}:${n}`,s._protocol="http";const{mockUserToken:l}=i;l&&(s._overrideAuthToken=typeof l=="string"?l:O0(l,s.app.options.projectId))}class ap{constructor(e,n,i,l,u){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=l,this._firebaseVersion=u,this._bucket=null,this._host=TT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=S1,this._maxUploadRetryTime=w1,this._requests=new Set,l!=null?this._bucket=Sn.makeFromBucketSpec(l,this._host):this._bucket=qx(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Sn.makeFromBucketSpec(this._url,e):this._bucket=qx(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){zx("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){zx("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ir(this,e)}_makeRequest(e,n,i,l,u=!0){if(this._deleted)return new H1(AT());{const d=Z1(e,this._appId,i,l,n,this._firebaseVersion,u);return this._requests.add(d),d.getPromise().then(()=>this._requests.delete(d),()=>this._requests.delete(d)),d}}async makeRequestWithTokens(e,n){const[i,l]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,l).getPromise()}}const Kx="@firebase/storage",Fx="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT="storage";function DI(s,e,n,i){return s=at(s),SI(s,e,n,i)}function OI(s){return s=at(s),wI(s)}function MI(s){return s=at(s),NI(s)}function UT(s,e){return s=at(s),II(s,e)}function LI(s=gg(),e){s=at(s);const i=Ph(s,PT).getImmediate({identifier:e}),l=I0("storage");return l&&VI(i,...l),i}function VI(s,e,n,i={}){jI(s,e,n,i)}function PI(s,{instanceIdentifier:e}){const n=s.getProvider("app").getImmediate(),i=s.getProvider("auth-internal"),l=s.getProvider("app-check-internal");return new ap(n,i,l,e,or)}function UI(){nr(new li(PT,PI,"PUBLIC").setMultipleInstances(!0)),xs(Kx,Fx,""),xs(Kx,Fx,"esm2017")}UI();function ip(s,e){var n={};for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&e.indexOf(i)<0&&(n[i]=s[i]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(s);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(s,i[l])&&(n[i[l]]=s[i[l]]);return n}function BT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const BI=BT,HT=new mu("auth","Firebase",BT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ch=new fg("@firebase/auth");function HI(s,...e){Ch.logLevel<=Oe.WARN&&Ch.warn(`Auth (${or}): ${s}`,...e)}function hh(s,...e){Ch.logLevel<=Oe.ERROR&&Ch.error(`Auth (${or}): ${s}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function es(s,...e){throw rp(s,...e)}function bs(s,...e){return rp(s,...e)}function zT(s,e,n){const i=Object.assign(Object.assign({},BI()),{[e]:n});return new mu("auth","Firebase",i).create(e,{appName:s.name})}function ra(s){return zT(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function rp(s,...e){if(typeof s!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=s.name),s._errorFactory.create(n,...i)}return HT.create(s,...e)}function be(s,e,...n){if(!s)throw rp(e,...n)}function ta(s){const e="INTERNAL ASSERTION FAILED: "+s;throw hh(e),new Error(e)}function ca(s,e){s||ta(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eg(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.href)||""}function zI(){return Gx()==="http:"||Gx()==="https:"}function Gx(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(zI()||Kw()||"connection"in navigator)?navigator.onLine:!0}function KI(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e,n){this.shortDelay=e,this.longDelay=n,ca(n>e,"Short delay should be less than long delay!"),this.isMobile=Hw()||Fw()}get(){return qI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lp(s,e){ca(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ta("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ta("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ta("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI=new Eu(3e4,6e4);function yi(s,e){return s.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:s.tenantId}):e}async function ha(s,e,n,i,l={}){return KT(s,l,async()=>{let u={},d={};i&&(e==="GET"?d=i:u={body:JSON.stringify(i)});const g=gu(Object.assign({key:s.config.apiKey},d)).slice(1),p=await s._getAdditionalHeaders();p["Content-Type"]="application/json",s.languageCode&&(p["X-Firebase-Locale"]=s.languageCode);const _=Object.assign({method:e,headers:p},u);return qw()||(_.referrerPolicy="no-referrer"),qT.fetch()(FT(s,s.config.apiHost,n,g),_)})}async function KT(s,e,n){s._canInitEmulator=!1;const i=Object.assign(Object.assign({},FI),e);try{const l=new QI(s),u=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw th(s,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const g=u.ok?d.errorMessage:d.error.message,[p,_]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw th(s,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw th(s,"email-already-in-use",d);if(p==="USER_DISABLED")throw th(s,"user-disabled",d);const E=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw zT(s,E,_);es(s,E)}}catch(l){if(l instanceof Ns)throw l;es(s,"network-request-failed",{message:String(l)})}}async function Tu(s,e,n,i,l={}){const u=await ha(s,e,n,i,l);return"mfaPendingCredential"in u&&es(s,"multi-factor-auth-required",{_serverResponse:u}),u}function FT(s,e,n,i){const l=`${e}${n}?${i}`;return s.config.emulator?lp(s.config,l):`${s.config.apiScheme}://${l}`}function $I(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class QI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(bs(this.auth,"network-request-failed")),GI.get())})}}function th(s,e,n){const i={appName:s.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const l=bs(s,e,i);return l.customData._tokenResponse=n,l}function $x(s){return s!==void 0&&s.enterprise!==void 0}class YI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return $I(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function WI(s,e){return ha(s,"GET","/v2/recaptchaConfig",yi(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XI(s,e){return ha(s,"POST","/v1/accounts:delete",e)}async function GT(s,e){return ha(s,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tu(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ZI(s,e=!1){const n=at(s),i=await n.getIdToken(e),l=op(i);be(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,d=u==null?void 0:u.sign_in_provider;return{claims:l,token:i,authTime:tu(Nm(l.auth_time)),issuedAtTime:tu(Nm(l.iat)),expirationTime:tu(Nm(l.exp)),signInProvider:d||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Nm(s){return Number(s)*1e3}function op(s){const[e,n,i]=s.split(".");if(e===void 0||n===void 0||i===void 0)return hh("JWT malformed, contained fewer than 3 sections"),null;try{const l=k0(n);return l?JSON.parse(l):(hh("Failed to decode base64 JWT payload"),null)}catch(l){return hh("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function Qx(s){const e=op(s);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tl(s,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Ns&&JI(i)&&s.auth.currentUser===s&&await s.auth.signOut(),i}}function JI({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ej{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const l=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=tu(this.lastLoginAt),this.creationTime=tu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ih(s){var e;const n=s.auth,i=await s.getIdToken(),l=await Tl(s,GT(n,{idToken:i}));be(l==null?void 0:l.users.length,n,"internal-error");const u=l.users[0];s._notifyReloadListener(u);const d=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?$T(u.providerUserInfo):[],g=nj(s.providerData,d),p=s.isAnonymous,_=!(s.email&&u.passwordHash)&&!(g!=null&&g.length),E=p?_:!1,b={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:g,metadata:new tg(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(s,b)}async function tj(s){const e=at(s);await Ih(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function nj(s,e){return[...s.filter(i=>!e.some(l=>l.providerId===i.providerId)),...e]}function $T(s){return s.map(e=>{var{providerId:n}=e,i=ip(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sj(s,e){const n=await KT(s,{},async()=>{const i=gu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:u}=s.config,d=FT(s,l,"/v1/token",`key=${u}`),g=await s._getAdditionalHeaders();return g["Content-Type"]="application/x-www-form-urlencoded",qT.fetch()(d,{method:"POST",headers:g,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function aj(s,e){return ha(s,"POST","/v2/accounts:revokeToken",yi(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Qx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){be(e.length!==0,"internal-error");const n=Qx(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:l,expiresIn:u}=await sj(e,n);this.updateTokensAndExpiration(i,l,Number(u))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:l,expirationTime:u}=n,d=new dl;return i&&(be(typeof i=="string","internal-error",{appName:e}),d.refreshToken=i),l&&(be(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),u&&(be(typeof u=="number","internal-error",{appName:e}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new dl,this.toJSON())}_performRefresh(){return ta("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ya(s,e){be(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class na{constructor(e){var{uid:n,auth:i,stsTokenManager:l}=e,u=ip(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ej(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new tg(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await Tl(this,this.stsTokenManager.getToken(this.auth,e));return be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return ZI(this,e)}reload(){return tj(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new na(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Ih(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(bn(this.auth.app))return Promise.reject(ra(this.auth));const e=await this.getIdToken();return await Tl(this,XI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,l,u,d,g,p,_,E;const b=(i=n.displayName)!==null&&i!==void 0?i:void 0,S=(l=n.email)!==null&&l!==void 0?l:void 0,k=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,D=(d=n.photoURL)!==null&&d!==void 0?d:void 0,z=(g=n.tenantId)!==null&&g!==void 0?g:void 0,P=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,F=(_=n.createdAt)!==null&&_!==void 0?_:void 0,H=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:$,emailVerified:ee,isAnonymous:Z,providerData:le,stsTokenManager:O}=n;be($&&O,e,"internal-error");const R=dl.fromJSON(this.name,O);be(typeof $=="string",e,"internal-error"),Ya(b,e.name),Ya(S,e.name),be(typeof ee=="boolean",e,"internal-error"),be(typeof Z=="boolean",e,"internal-error"),Ya(k,e.name),Ya(D,e.name),Ya(z,e.name),Ya(P,e.name),Ya(F,e.name),Ya(H,e.name);const N=new na({uid:$,auth:e,email:S,emailVerified:ee,displayName:b,isAnonymous:Z,photoURL:D,phoneNumber:k,tenantId:z,stsTokenManager:R,createdAt:F,lastLoginAt:H});return le&&Array.isArray(le)&&(N.providerData=le.map(w=>Object.assign({},w))),P&&(N._redirectEventId=P),N}static async _fromIdTokenResponse(e,n,i=!1){const l=new dl;l.updateFromServerResponse(n);const u=new na({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:i});return await Ih(u),u}static async _fromGetAccountInfoResponse(e,n,i){const l=n.users[0];be(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?$T(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!(u!=null&&u.length),g=new dl;g.updateFromIdToken(i);const p=new na({uid:l.localId,auth:e,stsTokenManager:g,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new tg(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,_),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yx=new Map;function sa(s){ca(s instanceof Function,"Expected a class definition");let e=Yx.get(s);return e?(ca(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,Yx.set(s,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}QT.type="NONE";const Wx=QT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dh(s,e,n){return`firebase:${s}:${e}:${n}`}class fl{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:l,name:u}=this.auth;this.fullUserKey=dh(this.userKey,l.apiKey,u),this.fullPersistenceKey=dh("persistence",l.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?na._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new fl(sa(Wx),e,i);const l=(await Promise.all(n.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let u=l[0]||sa(Wx);const d=dh(i,e.config.apiKey,e.name);let g=null;for(const _ of n)try{const E=await _._get(d);if(E){const b=na._fromJSON(e,E);_!==u&&(g=b),u=_;break}}catch{}const p=l.filter(_=>_._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new fl(u,e,i):(u=p[0],g&&await u._set(d,g.toJSON()),await Promise.all(n.map(async _=>{if(_!==u)try{await _._remove(d)}catch{}})),new fl(u,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xx(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ZT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(YT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(eb(e))return"Blackberry";if(tb(e))return"Webos";if(WT(e))return"Safari";if((e.includes("chrome/")||XT(e))&&!e.includes("edge/"))return"Chrome";if(JT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=s.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function YT(s=tn()){return/firefox\//i.test(s)}function WT(s=tn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function XT(s=tn()){return/crios\//i.test(s)}function ZT(s=tn()){return/iemobile/i.test(s)}function JT(s=tn()){return/android/i.test(s)}function eb(s=tn()){return/blackberry/i.test(s)}function tb(s=tn()){return/webos/i.test(s)}function up(s=tn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function ij(s=tn()){var e;return up(s)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function rj(){return Gw()&&document.documentMode===10}function nb(s=tn()){return up(s)||JT(s)||tb(s)||eb(s)||/windows phone/i.test(s)||ZT(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sb(s,e=[]){let n;switch(s){case"Browser":n=Xx(tn());break;case"Worker":n=`${Xx(tn())}-${s}`;break;default:n=s}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${or}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=u=>new Promise((d,g)=>{try{const p=e(u);d(p)}catch(p){g(p)}});i.onAbort=n,this.queue.push(i);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oj(s,e={}){return ha(s,"GET","/v2/passwordPolicy",yi(s,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uj=6;class cj{constructor(e){var n,i,l,u;const d=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=d.minPasswordLength)!==null&&n!==void 0?n:uj,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,l,u,d,g;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(l=p.containsLowercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(d=p.containsNumericCharacter)!==null&&d!==void 0?d:!0),p.isValid&&(p.isValid=(g=p.containsNonAlphanumericCharacter)!==null&&g!==void 0?g:!0),p}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let l=0;l<e.length;l++)i=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,l,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hj{constructor(e,n,i,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Zx(this),this.idTokenSubscription=new Zx(this),this.beforeStateQueue=new lj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=HT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=sa(n)),this._initializationPromise=this.queue(async()=>{var i,l;if(!this._deleted&&(this.persistenceManager=await fl.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await GT(this,{idToken:e}),i=await na._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(bn(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(g,g))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let l=i,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,g=l==null?void 0:l._redirectEventId,p=await this.tryRedirectSignIn(e);(!d||d===g)&&(p!=null&&p.user)&&(l=p.user,u=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(l)}catch(d){l=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ih(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=KI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(bn(this.app))return Promise.reject(ra(this));const n=e?at(e):null;return n&&be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return bn(this.app)?Promise.reject(ra(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return bn(this.app)?Promise.reject(ra(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(sa(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await oj(this),n=new cj(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new mu("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await aj(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&sa(e)||this._popupRedirectResolver;be(n,this,"argument-error"),this.redirectPersistenceManager=await fl.create(this,[sa(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,l){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(g,this,"internal-error"),g.then(()=>{d||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,i,l);return()=>{d=!0,p()}}else{const p=e.addObserver(n);return()=>{d=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=sb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const l=await this._getAppCheckToken();return l&&(n["X-Firebase-AppCheck"]=l),n}async _getAppCheckToken(){var e;if(bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&HI(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function fr(s){return at(s)}class Zx{constructor(e){this.auth=e,this.observer=null,this.addObserver=eN(n=>this.observer=n)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dj(s){rd=s}function ab(s){return rd.loadJS(s)}function fj(){return rd.recaptchaEnterpriseScript}function mj(){return rd.gapiScript}function gj(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class pj{constructor(){this.enterprise=new _j}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class _j{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const yj="recaptcha-enterprise",ib="NO_RECAPTCHA";class vj{constructor(e){this.type=yj,this.auth=fr(e)}async verify(e="verify",n=!1){async function i(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(d,g)=>{WI(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const _=new YI(p);return u.tenantId==null?u._agentRecaptchaConfig=_:u._tenantRecaptchaConfigs[u.tenantId]=_,d(_.siteKey)}}).catch(p=>{g(p)})})}function l(u,d,g){const p=window.grecaptcha;$x(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(_=>{d(_)}).catch(()=>{d(ib)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new pj().execute("siteKey",{action:"verify"}):new Promise((u,d)=>{i(this.auth).then(g=>{if(!n&&$x(window.grecaptcha))l(g,u,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let p=fj();p.length!==0&&(p+=g),ab(p).then(()=>{l(g,u,d)}).catch(_=>{d(_)})}}).catch(g=>{d(g)})})}}async function Jx(s,e,n,i=!1,l=!1){const u=new vj(s);let d;if(l)d=ib;else try{d=await u.verify(n)}catch{d=await u.verify(n,!0)}const g=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const p=g.phoneEnrollmentInfo.phoneNumber,_=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const p=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return i?Object.assign(g,{captchaResp:d}):Object.assign(g,{captchaResponse:d}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function ng(s,e,n,i,l){var u;if(!((u=s._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const d=await Jx(s,e,n,n==="getOobCode");return i(s,d)}else return i(s,e).catch(async d=>{if(d.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const g=await Jx(s,e,n,n==="getOobCode");return i(s,g)}else return Promise.reject(d)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xj(s,e){const n=Ph(s,"auth");if(n.isInitialized()){const l=n.getImmediate(),u=n.getOptions();if(tr(u,e??{}))return l;es(l,"already-initialized")}return n.initialize({options:e})}function Ej(s,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(sa);e!=null&&e.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function Tj(s,e,n){const i=fr(s);be(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const l=!1,u=rb(e),{host:d,port:g}=bj(e),p=g===null?"":`:${g}`,_={url:`${u}//${d}${p}/`},E=Object.freeze({host:d,port:g,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!i._canInitEmulator){be(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),be(tr(_,i.config.emulator)&&tr(E,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=_,i.emulatorConfig=E,i.settings.appVerificationDisabledForTesting=!0,Aj()}function rb(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function bj(s){const e=rb(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(i);if(l){const u=l[1];return{host:u,port:e0(i.substr(u.length+1))}}else{const[u,d]=i.split(":");return{host:u,port:e0(d)}}}function e0(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function Aj(){function s(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ta("not implemented")}_getIdTokenResponse(e){return ta("not implemented")}_linkToIdToken(e,n){return ta("not implemented")}_getReauthenticationResolver(e){return ta("not implemented")}}async function Sj(s,e){return ha(s,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wj(s,e){return Tu(s,"POST","/v1/accounts:signInWithPassword",yi(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nj(s,e){return Tu(s,"POST","/v1/accounts:signInWithEmailLink",yi(s,e))}async function Rj(s,e){return Tu(s,"POST","/v1/accounts:signInWithEmailLink",yi(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu extends cp{constructor(e,n,i,l=null){super("password",i),this._email=e,this._password=n,this._tenantId=l}static _fromEmailAndPassword(e,n){return new hu(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new hu(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ng(e,n,"signInWithPassword",wj);case"emailLink":return Nj(e,{email:this._email,oobCode:this._password});default:es(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ng(e,i,"signUpPassword",Sj);case"emailLink":return Rj(e,{idToken:n,email:this._email,oobCode:this._password});default:es(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ml(s,e){return Tu(s,"POST","/v1/accounts:signInWithIdp",yi(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kj="http://localhost";class rr extends cp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new rr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):es("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:l}=n,u=ip(n,["providerId","signInMethod"]);if(!i||!l)return null;const d=new rr(i,l);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return ml(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,ml(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ml(e,n)}buildRequest(){const e={requestUri:kj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=gu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cj(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Ij(s){const e=Ko(Fo(s)).link,n=e?Ko(Fo(e)).deep_link_id:null,i=Ko(Fo(s)).deep_link_id;return(i?Ko(Fo(i)).link:null)||i||n||e||s}class hp{constructor(e){var n,i,l,u,d,g;const p=Ko(Fo(e)),_=(n=p.apiKey)!==null&&n!==void 0?n:null,E=(i=p.oobCode)!==null&&i!==void 0?i:null,b=Cj((l=p.mode)!==null&&l!==void 0?l:null);be(_&&E&&b,"argument-error"),this.apiKey=_,this.operation=b,this.code=E,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(d=p.languageCode)!==null&&d!==void 0?d:null,this.tenantId=(g=p.tenantId)!==null&&g!==void 0?g:null}static parseLink(e){const n=Ij(e);try{return new hp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(){this.providerId=jl.PROVIDER_ID}static credential(e,n){return hu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=hp.parseLink(n);return be(i,"argument-error"),hu._fromEmailAndCode(e,i.code,i.tenantId)}}jl.PROVIDER_ID="password";jl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";jl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu extends lb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa extends bu{constructor(){super("facebook.com")}static credential(e){return rr._fromParams({providerId:Xa.PROVIDER_ID,signInMethod:Xa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xa.credentialFromTaggedObject(e)}static credentialFromError(e){return Xa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xa.credential(e.oauthAccessToken)}catch{return null}}}Xa.FACEBOOK_SIGN_IN_METHOD="facebook.com";Xa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za extends bu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return rr._fromParams({providerId:Za.PROVIDER_ID,signInMethod:Za.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Za.credentialFromTaggedObject(e)}static credentialFromError(e){return Za.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Za.credential(n,i)}catch{return null}}}Za.GOOGLE_SIGN_IN_METHOD="google.com";Za.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja extends bu{constructor(){super("github.com")}static credential(e){return rr._fromParams({providerId:Ja.PROVIDER_ID,signInMethod:Ja.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ja.credentialFromTaggedObject(e)}static credentialFromError(e){return Ja.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ja.credential(e.oauthAccessToken)}catch{return null}}}Ja.GITHUB_SIGN_IN_METHOD="github.com";Ja.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei extends bu{constructor(){super("twitter.com")}static credential(e,n){return rr._fromParams({providerId:ei.PROVIDER_ID,signInMethod:ei.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ei.credentialFromTaggedObject(e)}static credentialFromError(e){return ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return ei.credential(n,i)}catch{return null}}}ei.TWITTER_SIGN_IN_METHOD="twitter.com";ei.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jj(s,e){return Tu(s,"POST","/v1/accounts:signUp",yi(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,l=!1){const u=await na._fromIdTokenResponse(e,i,l),d=t0(i);return new lr({user:u,providerId:d,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const l=t0(i);return new lr({user:e,providerId:l,_tokenResponse:i,operationType:n})}}function t0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh extends Ns{constructor(e,n,i,l){var u;super(n.code,n.message),this.operationType=i,this.user=l,Object.setPrototypeOf(this,jh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,l){return new jh(e,n,i,l)}}function ob(s,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?jh._fromErrorAndOperation(s,u,e,i):u})}async function Dj(s,e,n=!1){const i=await Tl(s,e._linkToIdToken(s.auth,await s.getIdToken()),n);return lr._forOperation(s,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oj(s,e,n=!1){const{auth:i}=s;if(bn(i.app))return Promise.reject(ra(i));const l="reauthenticate";try{const u=await Tl(s,ob(i,l,e,s),n);be(u.idToken,i,"internal-error");const d=op(u.idToken);be(d,i,"internal-error");const{sub:g}=d;return be(s.uid===g,i,"user-mismatch"),lr._forOperation(s,l,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&es(i,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ub(s,e,n=!1){if(bn(s.app))return Promise.reject(ra(s));const i="signIn",l=await ob(s,i,e),u=await lr._fromIdTokenResponse(s,i,l);return n||await s._updateCurrentUser(u.user),u}async function Mj(s,e){return ub(fr(s),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cb(s){const e=fr(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Lj(s,e,n){if(bn(s.app))return Promise.reject(ra(s));const i=fr(s),d=await ng(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",jj).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&cb(s),p}),g=await lr._fromIdTokenResponse(i,"signIn",d);return await i._updateCurrentUser(g.user),g}function Vj(s,e,n){return bn(s.app)?Promise.reject(ra(s)):Mj(at(s),jl.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&cb(s),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pj(s,e){return ha(s,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uj(s,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const i=at(s),u={idToken:await i.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},d=await Tl(i,Pj(i.auth,u));i.displayName=d.displayName||null,i.photoURL=d.photoUrl||null;const g=i.providerData.find(({providerId:p})=>p==="password");g&&(g.displayName=i.displayName,g.photoURL=i.photoURL),await i._updateTokensIfNecessary(d)}function Bj(s,e,n,i){return at(s).onIdTokenChanged(e,n,i)}function Hj(s,e,n){return at(s).beforeAuthStateChanged(e,n)}function zj(s,e,n,i){return at(s).onAuthStateChanged(e,n,i)}function qj(s){return at(s).signOut()}const Dh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Dh,"1"),this.storage.removeItem(Dh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kj=1e3,Fj=10;class db extends hb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=nb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),l=this.localCache[n];i!==l&&e(n,l,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,g,p)=>{this.notifyListeners(d,p)});return}const i=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(i);!n&&this.localCache[i]===d||this.notifyListeners(i,d)},u=this.storage.getItem(i);rj()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,Fj):l()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const l of Array.from(i))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},Kj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}db.type="LOCAL";const Gj=db;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb extends hb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}fb.type="SESSION";const mb=fb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $j(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const i=new ld(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:l,data:u}=n.data,d=this.handlersMap[l];if(!(d!=null&&d.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:l});const g=Array.from(d).map(async _=>_(n.origin,u)),p=await $j(g);n.ports[0].postMessage({status:"done",eventId:i,eventType:l,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ld.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dp(s="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return s+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,d;return new Promise((g,p)=>{const _=dp("",20);l.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},i);d={messageChannel:l,onMessage(b){const S=b;if(S.data.eventId===_)switch(S.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),g(S.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:n},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function As(){return window}function Yj(s){As().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gb(){return typeof As().WorkerGlobalScope<"u"&&typeof As().importScripts=="function"}async function Wj(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Xj(){var s;return((s=navigator==null?void 0:navigator.serviceWorker)===null||s===void 0?void 0:s.controller)||null}function Zj(){return gb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb="firebaseLocalStorageDb",Jj=1,Oh="firebaseLocalStorage",_b="fbase_key";class Au{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function od(s,e){return s.transaction([Oh],e?"readwrite":"readonly").objectStore(Oh)}function e2(){const s=indexedDB.deleteDatabase(pb);return new Au(s).toPromise()}function sg(){const s=indexedDB.open(pb,Jj);return new Promise((e,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const i=s.result;try{i.createObjectStore(Oh,{keyPath:_b})}catch(l){n(l)}}),s.addEventListener("success",async()=>{const i=s.result;i.objectStoreNames.contains(Oh)?e(i):(i.close(),await e2(),e(await sg()))})})}async function n0(s,e,n){const i=od(s,!0).put({[_b]:e,value:n});return new Au(i).toPromise()}async function t2(s,e){const n=od(s,!1).get(e),i=await new Au(n).toPromise();return i===void 0?null:i.value}function s0(s,e){const n=od(s,!0).delete(e);return new Au(n).toPromise()}const n2=800,s2=3;class yb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await sg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>s2)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return gb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ld._getInstance(Zj()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Wj(),!this.activeServiceWorker)return;this.sender=new Qj(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Xj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await sg();return await n0(e,Dh,"1"),await s0(e,Dh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>n0(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>t2(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>s0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const u=od(l,!1).getAll();return new Au(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:l,value:u}of e)i.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!i.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const l of Array.from(i))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),n2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}yb.type="LOCAL";const a2=yb;new Eu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i2(s,e){return e?sa(e):(be(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp extends cp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ml(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ml(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ml(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function r2(s){return ub(s.auth,new fp(s),s.bypassAuthState)}function l2(s){const{auth:e,user:n}=s;return be(n,e,"internal-error"),Oj(n,new fp(s),s.bypassAuthState)}async function o2(s){const{auth:e,user:n}=s;return be(n,e,"internal-error"),Dj(n,new fp(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(e,n,i,l,u=!1){this.auth=e,this.resolver=i,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:l,tenantId:u,error:d,type:g}=e;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:n,sessionId:i,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return r2;case"linkViaPopup":case"linkViaRedirect":return o2;case"reauthViaPopup":case"reauthViaRedirect":return l2;default:es(this.auth,"internal-error")}}resolve(e){ca(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ca(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2=new Eu(2e3,1e4);class cl extends vb{constructor(e,n,i,l,u){super(e,n,l,u),this.provider=i,this.authWindow=null,this.pollId=null,cl.currentPopupAction&&cl.currentPopupAction.cancel(),cl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){ca(this.filter.length===1,"Popup operations only handle one event");const e=dp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(bs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(bs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,cl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,u2.get())};e()}}cl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2="pendingRedirect",fh=new Map;class h2 extends vb{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=fh.get(this.auth._key());if(!e){try{const i=await d2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}fh.set(this.auth._key(),e)}return this.bypassAuthState||fh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function d2(s,e){const n=g2(e),i=m2(s);if(!await i._isAvailable())return!1;const l=await i._get(n)==="true";return await i._remove(n),l}function f2(s,e){fh.set(s._key(),e)}function m2(s){return sa(s._redirectPersistence)}function g2(s){return dh(c2,s.config.apiKey,s.name)}async function p2(s,e,n=!1){if(bn(s.app))return Promise.reject(ra(s));const i=fr(s),l=i2(i,e),d=await new h2(i,l,n).execute();return d&&!n&&(delete d.user._redirectEventId,await i._persistUserIfCurrent(d.user),await i._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2=10*60*1e3;class y2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!v2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!xb(e)){const l=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(bs(this.auth,l))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_2&&this.cachedEventUids.clear(),this.cachedEventUids.has(a0(e))}saveEventToCache(e){this.cachedEventUids.add(a0(e)),this.lastProcessedEventTime=Date.now()}}function a0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function xb({type:s,error:e}){return s==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function v2(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xb(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x2(s,e={}){return ha(s,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,T2=/^https?/;async function b2(s){if(s.config.emulator)return;const{authorizedDomains:e}=await x2(s);for(const n of e)try{if(A2(n))return}catch{}es(s,"unauthorized-domain")}function A2(s){const e=eg(),{protocol:n,hostname:i}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&i===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===i}if(!T2.test(n))return!1;if(E2.test(s))return i===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2=new Eu(3e4,6e4);function i0(){const s=As().___jsl;if(s!=null&&s.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function w2(s){return new Promise((e,n)=>{var i,l,u;function d(){i0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{i0(),n(bs(s,"network-request-failed"))},timeout:S2.get()})}if(!((l=(i=As().gapi)===null||i===void 0?void 0:i.iframes)===null||l===void 0)&&l.Iframe)e(gapi.iframes.getContext());else if(!((u=As().gapi)===null||u===void 0)&&u.load)d();else{const g=gj("iframefcb");return As()[g]=()=>{gapi.load?d():n(bs(s,"network-request-failed"))},ab(`${mj()}?onload=${g}`).catch(p=>n(p))}}).catch(e=>{throw mh=null,e})}let mh=null;function N2(s){return mh=mh||w2(s),mh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2=new Eu(5e3,15e3),k2="__/auth/iframe",C2="emulator/auth/iframe",I2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},j2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function D2(s){const e=s.config;be(e.authDomain,s,"auth-domain-config-required");const n=e.emulator?lp(e,C2):`https://${s.config.authDomain}/${k2}`,i={apiKey:e.apiKey,appName:s.name,v:or},l=j2.get(s.config.apiHost);l&&(i.eid=l);const u=s._getFrameworks();return u.length&&(i.fw=u.join(",")),`${n}?${gu(i).slice(1)}`}async function O2(s){const e=await N2(s),n=As().gapi;return be(n,s,"internal-error"),e.open({where:document.body,url:D2(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:I2,dontclear:!0},i=>new Promise(async(l,u)=>{await i.restyle({setHideOnLeave:!1});const d=bs(s,"network-request-failed"),g=As().setTimeout(()=>{u(d)},R2.get());function p(){As().clearTimeout(g),l(i)}i.ping(p).then(p,()=>{u(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},L2=500,V2=600,P2="_blank",U2="http://localhost";class r0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function B2(s,e,n,i=L2,l=V2){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-i)/2,0).toString();let g="";const p=Object.assign(Object.assign({},M2),{width:i.toString(),height:l.toString(),top:u,left:d}),_=tn().toLowerCase();n&&(g=XT(_)?P2:n),YT(_)&&(e=e||U2,p.scrollbars="yes");const E=Object.entries(p).reduce((S,[k,D])=>`${S}${k}=${D},`,"");if(ij(_)&&g!=="_self")return H2(e||"",g),new r0(null);const b=window.open(e||"",g,E);be(b,s,"popup-blocked");try{b.focus()}catch{}return new r0(b)}function H2(s,e){const n=document.createElement("a");n.href=s,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2="__/auth/handler",q2="emulator/auth/handler",K2=encodeURIComponent("fac");async function l0(s,e,n,i,l,u){be(s.config.authDomain,s,"auth-domain-config-required"),be(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:i,v:or,eventId:l};if(e instanceof lb){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",Jw(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,b]of Object.entries({}))d[E]=b}if(e instanceof bu){const E=e.getScopes().filter(b=>b!=="");E.length>0&&(d.scopes=E.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const E of Object.keys(g))g[E]===void 0&&delete g[E];const p=await s._getAppCheckToken(),_=p?`#${K2}=${encodeURIComponent(p)}`:"";return`${F2(s)}?${gu(g).slice(1)}${_}`}function F2({config:s}){return s.emulator?lp(s,q2):`https://${s.authDomain}/${z2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rm="webStorageSupport";class G2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=mb,this._completeRedirectFn=p2,this._overrideRedirectResult=f2}async _openPopup(e,n,i,l){var u;ca((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const d=await l0(e,n,i,eg(),l);return B2(e,d,dp())}async _openRedirect(e,n,i,l){await this._originValidation(e);const u=await l0(e,n,i,eg(),l);return Yj(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:u}=this.eventManagers[n];return l?Promise.resolve(l):(ca(u,"If manager is not set, promise should be"),u)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await O2(e),i=new y2(e);return n.register("authEvent",l=>(be(l==null?void 0:l.authEvent,e,"invalid-auth-event"),{status:i.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Rm,{type:Rm},l=>{var u;const d=(u=l==null?void 0:l[0])===null||u===void 0?void 0:u[Rm];d!==void 0&&n(!!d),es(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=b2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return nb()||WT()||up()}}const $2=G2;var o0="@firebase/auth",u0="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y2(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function W2(s){nr(new li("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=i.options;be(d&&!d.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sb(s)},_=new hj(i,l,u,p);return Ej(_,n),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),nr(new li("auth-internal",e=>{const n=fr(e.getProvider("auth").getImmediate());return(i=>new Q2(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),xs(o0,u0,Y2(s)),xs(o0,u0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2=5*60,Z2=D0("authIdTokenMaxAge")||X2;let c0=null;const J2=s=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>Z2)return;const l=n==null?void 0:n.token;c0!==l&&(c0=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function eD(s=gg()){const e=Ph(s,"auth");if(e.isInitialized())return e.getImmediate();const n=xj(s,{popupRedirectResolver:$2,persistence:[a2,Gj,mb]}),i=D0("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(i,location.origin);if(location.origin===u.origin){const d=J2(u.toString());Hj(n,d,()=>d(n.currentUser)),Bj(n,g=>d(g))}}const l=C0("auth");return l&&Tj(n,`http://${l}`),n}function tD(){var s,e;return(e=(s=document.getElementsByTagName("head"))===null||s===void 0?void 0:s[0])!==null&&e!==void 0?e:document}dj({loadJS(s){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",s),i.onload=e,i.onerror=l=>{const u=bs("internal-error");u.customData=l,n(u)},i.type="text/javascript",i.charset="UTF-8",tD().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});W2("Browser");const nD={apiKey:"AIzaSyB0zBdnr_ZBmmokxvgLiHWU52QhnFnoymU",authDomain:"aimchallange-67039.firebaseapp.com",projectId:"aimchallange-67039",storageBucket:"aimchallange-67039.appspot.com",messagingSenderId:"109617578227",appId:"1:109617578227:web:8f09f705f248bbdaf07786",measurementId:"G-42PJQ2LB6T"},mp=V0(nD),gh=eD(mp),ws=l1(mp),Eb=LI(mp),Tb=L.createContext(),vi=()=>L.useContext(Tb),sD=({children:s})=>{const[e,n]=L.useState(null),[i,l]=L.useState(!1),[u,d]=L.useState(!0);L.useEffect(()=>zj(gh,async b=>{if(b){const S={uid:b.uid,email:b.email,displayName:b.displayName||b.email.split("@")[0],role:"admin"};n(S),l(!0)}else n(null),l(!1);d(!1)}),[]);const _={currentUser:e,isAuthenticated:i,login:async(E,b)=>{try{return await Vj(gh,E,b),{success:!0}}catch(S){return console.error("Login error:",S),{success:!1,error:S.message}}},logout:async()=>{try{return await qj(gh),{success:!0}}catch(E){return console.error("Logout error:",E),{success:!1,error:E.message}}}};return h.jsx(Tb.Provider,{value:_,children:!u&&s})},ag=mi(ws,"settings","textContent"),aD=async()=>{try{const s=await xT(ag);return s.exists()?s.data():(await sd(ag,{}),{})}catch(s){return console.error("Error getting text content:",s),{}}},iD=async(s,e)=>{try{const n={};return n[s]=e,await E1(ag,n),{success:!0}}catch(n){throw console.error("Error updating text content:",n),n}};mi(ws,"settings","backgroundImages");const bb=L.createContext(),mr=()=>L.useContext(bb),rD=({children:s})=>{const[e,n]=L.useState({}),[i,l]=L.useState(!1),[u,d]=L.useState([]),{currentUser:g,isAuthenticated:p}=vi(),_=(g==null?void 0:g.role)==="admin";L.useEffect(()=>{(async()=>{try{const $=await aD();n($)}catch($){console.error("Error fetching text content:",$);const ee=localStorage.getItem("textContent");if(ee)try{n(JSON.parse(ee))}catch(Z){console.error("Error parsing saved content:",Z),n({})}}})()},[]),L.useEffect(()=>{l(!!(p&&_))},[p,_]);const F={getText:(H,$)=>e[H]||$,updateText:async(H,$)=>{try{await iD(H,$);const ee={...e,[H]:$};n(ee),d(Z=>[...Z,{content:{...e},timestamp:new Date().toISOString(),changedKey:H}]),localStorage.setItem("textContent",JSON.stringify(ee))}catch(ee){console.error("Error updating text content:",ee);const Z={...e,[H]:$};localStorage.setItem("textContent",JSON.stringify(Z)),n(Z)}},isEditing:i,toggleEditing:()=>{console.log("Edit mode is always on for admin users")},isAdmin:_,textContent:e,resetAllContent:()=>{d(H=>[...H,{content:{...e},timestamp:new Date().toISOString(),action:"reset-all"}]),n({}),localStorage.removeItem("textContent"),console.log("All content has been reset")},removeContentItem:H=>{d(ee=>[...ee,{content:{...e},timestamp:new Date().toISOString(),changedKey:H,action:"remove"}]);const $={...e};delete $[H],n($),localStorage.setItem("textContent",JSON.stringify($)),console.log(`Content item '${H}' has been removed`)},undoLastChange:()=>{if(u.length>1){const H=[...u];H.pop();const $=H[H.length-1].content;return n($),localStorage.setItem("textContent",JSON.stringify($)),d(H),console.log("Last change undone"),!0}return console.log("No changes to undo"),!1},getEditHistory:()=>u,editHistory:u};return h.jsx(bb.Provider,{value:F,children:s})},lD=()=>{const[s,e]=L.useState(!1),[n,i]=L.useState(!1),[l,u]=L.useState(!1),{isAuthenticated:d,currentUser:g,logout:p}=vi(),{isEditing:_,getText:E,updateText:b}=mr(),S=wl(),k=()=>{e(!1)},D=()=>{i(!1)},z=()=>{u(!l),e(!1),i(!1)},P=()=>{p(),S("/")};return L.useEffect(()=>{const F=H=>{const $=document.querySelector(".mobile-menu"),ee=document.querySelector(".hamburger-menu");l&&$&&!$.contains(H.target)&&!ee.contains(H.target)&&u(!1)};return document.addEventListener("mousedown",F),()=>{document.removeEventListener("mousedown",F)}},[l]),L.useEffect(()=>{console.log("Navbar auth state:",{isAuthenticated:d,currentUser:g,isAdmin:(g==null?void 0:g.role)==="admin"})},[d,g]),h.jsx("div",{className:"flex flex_col navbar-container",children:h.jsxs("div",{className:"navbar  flex flex_j_SA MaxWH location font_white",children:[h.jsx("div",{className:"navim MaxWH location",children:h.jsx(Te,{to:"/",children:h.jsx("img",{src:"/images/Aim Blue.svg",alt:"aim challenge logo",className:"custom-image navim"})})}),h.jsxs("div",{className:"hamburger-menu",onClick:z,children:[h.jsx("span",{}),h.jsx("span",{}),h.jsx("span",{})]}),h.jsxs("div",{className:"navbside",children:[h.jsxs("div",{className:"nav-button",children:[h.jsx("a",{href:"#",className:"dropdown-trigger",onClick:F=>{F.preventDefault(),e(!s)},children:"Tävlingar"}),s&&h.jsxs("div",{className:"drop-down",children:[h.jsx(Te,{to:"/competitions",onClick:k,className:"drop-item",children:"TÄVLINGAR"}),h.jsx(Te,{to:"/ulricehamn",onClick:k,className:"drop-item",children:"ULRICEHAMN"}),h.jsx(Te,{to:"/salen",onClick:k,className:"drop-item",children:"SÄLEN"}),h.jsx(Te,{to:"/hemsedal",onClick:k,className:"drop-item",children:"HEMSEDAL"}),h.jsx(Te,{to:"/kolmarden",onClick:k,className:"drop-item",children:"KOLMÅRDEN"}),h.jsx(Te,{to:"/trippeln",onClick:k,className:"drop-item",children:"AIM CHALLENGE TRIPPELN"}),h.jsx(Te,{to:"/trippeln-results",onClick:k,className:"drop-item",children:"RESULTAT"}),h.jsx(Te,{to:"/gallery",onClick:k,className:"drop-item",children:"GALLERI"})]})]}),h.jsx("div",{className:"nav-button",children:h.jsx("a",{href:"https://raceid.com/sv/campaigns/bcfa3952-92c0-11ef-a892-06546bc3018f",children:"Anmälan"})}),h.jsxs("div",{className:"nav-button",children:[h.jsx("a",{href:"#",className:"dropdown-trigger",onClick:F=>{F.preventDefault(),i(!n)},children:"Om oss"}),n&&h.jsxs("div",{className:"drop-down",children:[h.jsx(Te,{to:"/om-oss",onClick:D,className:"drop-item",children:"Om oss"}),h.jsx(Te,{to:"/regler",onClick:D,className:"drop-item",children:"Regler"}),h.jsx(Te,{to:"/faq",onClick:D,className:"drop-item",children:"FAQ"}),h.jsx(Te,{to:"/historien-om-aim",onClick:D,className:"drop-item",children:"Historien om AIM"})]})]}),h.jsx("div",{className:"nav-button",children:h.jsx("a",{href:"#sponsors-section",onClick:F=>{F.preventDefault();const H=document.getElementById("sponsors-section");H&&H.scrollIntoView({behavior:"smooth"})},children:"Sponsorer"})}),h.jsx("div",{className:"nav-button",children:h.jsx(Te,{to:"/senaste-nytt",children:"Senaste nytt"})}),h.jsx("div",{className:"nav-button",children:h.jsx(Te,{to:"#",children:"Kontakta oss"})}),h.jsx("div",{className:"nav-button",children:h.jsx("a",{href:"#",children:"SV|NO|EN"})}),d&&h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"nav-button",children:h.jsx(Te,{to:"/content-manager",children:"Innehåll"})}),h.jsx("div",{className:"nav-button",children:h.jsx("a",{href:"#",onClick:F=>{F.preventDefault(),P()},children:"Logga ut"})})]})]}),l&&h.jsxs("div",{className:"mobile-menu",children:[h.jsxs("div",{className:"mobile-menu-item",children:[h.jsxs("div",{className:"mobile-menu-header",onClick:()=>e(!s),children:["Tävlingar ",s?"▲":"▼"]}),s&&h.jsxs("div",{className:"mobile-submenu",children:[h.jsx(Te,{to:"/competitions",onClick:z,className:"mobile-submenu-item",children:"TÄVLINGAR"}),h.jsx(Te,{to:"/ulricehamn",onClick:z,className:"mobile-submenu-item",children:"ULRICEHAMN"}),h.jsx(Te,{to:"/salen",onClick:z,className:"mobile-submenu-item",children:"SÄLEN"}),h.jsx(Te,{to:"/hemsedal",onClick:z,className:"mobile-submenu-item",children:"HEMSEDAL"}),h.jsx(Te,{to:"/kolmarden",onClick:z,className:"mobile-submenu-item",children:"KOLMÅRDEN"}),h.jsx(Te,{to:"/trippeln",onClick:z,className:"mobile-submenu-item",children:"AIM CHALLENGE TRIPPELN"}),h.jsx(Te,{to:"/trippeln-results",onClick:z,className:"mobile-submenu-item",children:"RESULTAT"}),h.jsx(Te,{to:"/gallery",onClick:z,className:"mobile-submenu-item",children:"GALLERI"})]})]}),h.jsx("div",{className:"mobile-menu-item",children:h.jsx("a",{href:"https://raceid.com/sv/campaigns/bcfa3952-92c0-11ef-a892-06546bc3018f",className:"mobile-menu-link",children:"Anmälan"})}),h.jsxs("div",{className:"mobile-menu-item",children:[h.jsxs("div",{className:"mobile-menu-header",onClick:()=>i(!n),children:["Om oss ",n?"▲":"▼"]}),n&&h.jsxs("div",{className:"mobile-submenu",children:[h.jsx(Te,{to:"/om-oss",onClick:z,className:"mobile-submenu-item",children:"Om oss"}),h.jsx(Te,{to:"/regler",onClick:z,className:"mobile-submenu-item",children:"Regler"}),h.jsx(Te,{to:"/faq",onClick:z,className:"mobile-submenu-item",children:"FAQ"}),h.jsx(Te,{to:"/historien-om-aim",onClick:z,className:"mobile-submenu-item",children:"Historien om AIM"})]})]}),h.jsx("div",{className:"mobile-menu-item",children:h.jsx("a",{href:"#sponsors-section",onClick:F=>{F.preventDefault();const H=document.getElementById("sponsors-section");H&&H.scrollIntoView({behavior:"smooth"}),z()},className:"mobile-menu-link",children:"Sponsorer"})}),h.jsx("div",{className:"mobile-menu-item",children:h.jsx(Te,{to:"/senaste-nytt",onClick:z,className:"mobile-menu-link",children:"Senaste nytt"})}),h.jsx("div",{className:"mobile-menu-item",children:h.jsx(Te,{to:"#",onClick:z,className:"mobile-menu-link",children:"Kontakta oss"})}),h.jsx("div",{className:"mobile-menu-item",children:h.jsx("a",{href:"#",className:"mobile-menu-link",children:"SV|NO|EN"})}),d&&h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"mobile-menu-item",children:h.jsx(Te,{to:"/content-manager",onClick:z,className:"mobile-menu-link",children:"Innehåll"})}),h.jsx("div",{className:"mobile-menu-item",children:h.jsx("a",{href:"#",onClick:F=>{F.preventDefault(),P(),z()},className:"mobile-menu-link",children:"Logga ut"})})]})]})]})})},oD=()=>h.jsx("div",{className:"footer-wrapper",children:h.jsx("footer",{className:"footer",children:h.jsxs("div",{className:"container",children:[h.jsx("div",{className:"footer-grid",children:h.jsxs("div",{className:"grid-item sponsors",children:[h.jsx("h1",{className:"footer-heading",id:"sponsors-section",children:"Sponsorer & Partners"}),h.jsxs("div",{className:"grid",children:[h.jsx("div",{children:h.jsx("img",{src:"/images/Artboard 1@4x.png",alt:"Artboard",className:"sponsor-logo"})}),h.jsx("div",{children:h.jsx("img",{src:"/images/Camelbak_vit.svg",alt:"Camelbak",className:"sponsor-logo"})}),h.jsx("div",{children:h.jsx("img",{src:"/images/Hedghog_vit.svg",alt:"Hedghog",className:"sponsor-logo"})}),h.jsx("div",{children:h.jsx("img",{src:"/images/Kona_vit.png",alt:"Kona",className:"sponsor-logo"})}),h.jsx("div",{children:h.jsx("img",{src:"/images/Mareld_svart.svg",alt:"Mareld",className:"sponsor-logo"})}),h.jsx("div",{children:h.jsx("img",{src:"/images/ODD_white_RGB.png",alt:"ODD",className:"sponsor-logo"})}),h.jsx("div",{children:h.jsx("img",{src:"/images/Oofos.png",alt:"Oofos",className:"sponsor-logo"})}),h.jsx("div",{children:h.jsx("img",{src:"/images/Ortovox_svart.svg",alt:"Ortovox",className:"sponsor-logo"})}),h.jsx("div",{children:h.jsx("img",{src:"/images/UD Logo.png",alt:"UD",className:"sponsor-logo"})}),h.jsx("div",{children:h.jsx("img",{src:"/images/Upplev.png",alt:"Upplev Norrköping",className:"sponsor-logo"})}),h.jsx("div",{children:h.jsx("img",{src:"/images/holdut_logo_sort_1.png",alt:"Hold ut",className:"sponsor-logo"})}),h.jsx("div",{children:h.jsx("img",{src:"/images/h%C3%A4llmark logga sv_v.svg",alt:"Hällmark",className:"sponsor-logo"})}),h.jsx("div",{children:h.jsx("img",{src:"/images/injinji_black.svg",alt:"Injinji",className:"sponsor-logo"})})]})]})}),h.jsxs("div",{className:"footer-bottom",children:[h.jsx("p",{className:"trademark",children:"© 2025 Aimchallenge"}),h.jsxs("div",{className:"social-icons",children:[h.jsx("a",{href:"https://www.facebook.com/aimchallenge/",className:"social-icon","aria-label":"Facebook",children:h.jsx("i",{className:"fa fa-facebook"})}),h.jsx("a",{href:"https://www.instagram.com/aimchallenge/",className:"social-icon","aria-label":"Instagram",children:h.jsx("i",{className:"fa fa-instagram"})}),h.jsx("a",{href:"https://vimeo.com/user45220061",className:"social-icon","aria-label":"Vimeo",children:h.jsx("i",{className:"fa fa-vimeo"})})]})]})]})})}),M=({textKey:s,defaultText:e,tag:n="p",className:i="",style:l={},placeholder:u="Skriv text här...",onClick:d})=>{const{getText:g,updateText:p,isAdmin:_}=mr(),[E,b]=L.useState(!1),[S,k]=L.useState(""),[D,z]=L.useState(!1),[P,F]=L.useState(""),[H,$]=L.useState(""),ee=L.useRef(null),Z=L.useRef(null),le=L.useRef(null),O=["span","a","em","strong","i","b","code","small"].includes(n);L.useEffect(()=>{const me=g(s);k(me||e)},[s,e,g]),L.useEffect(()=>{const me=V=>{V.key==="Escape"&&E&&w()};return document.addEventListener("keydown",me),()=>{document.removeEventListener("keydown",me)}},[E]);const R=me=>{me&&(me.preventDefault(),me.stopPropagation()),b(!0)},N=()=>{p(s,S),b(!1),z(!1)},w=()=>{const me=g(s);k(me||e),b(!1),z(!1)},I=me=>{k(me.target.value)},q=()=>{z(!D),$(""),F("")},j=()=>{if(H&&P){let me=P;!me.startsWith("http://")&&!me.startsWith("https://")&&(me="https://"+me);const V=`<a href="${me}" target="_blank" rel="noopener noreferrer">${H}</a>`,ie=ee.current,ge=ie.selectionStart,ue=S.substring(0,ge),ce=S.substring(ie.selectionEnd);k(ue+V+ce),$(""),F(""),setTimeout(()=>{ie.focus();const Re=ge+V.length;ie.setSelectionRange(Re,Re)},0)}},Ye=me=>{$(me.target.value)},Ge=me=>{F(me.target.value)},re=me=>{me.key==="Enter"&&me.ctrlKey?(me.preventDefault(),N()):me.key==="Escape"&&(me.preventDefault(),w())},ye=()=>{const me=n,V={className:`editable-text ${i}`,style:l,dangerouslySetInnerHTML:{__html:S||u},"data-textkey":s.toString()};return d&&(V.onClick=d),h.jsx(me,{...V})};if(E)return h.jsx("div",{className:"edit-modal",children:h.jsxs("div",{className:"edit-modal__content",children:[h.jsxs("div",{className:"edit-modal__toolbar",children:[h.jsx("h3",{children:"Redigera text"}),h.jsx("span",{className:"edit-modal__hint",children:"Tryck Ctrl+Enter för att spara, Esc för att avbryta"})]}),h.jsx("textarea",{ref:ee,value:S,onChange:I,onKeyDown:re,placeholder:u,className:"edit-modal__textarea"}),h.jsx("button",{type:"button",onClick:q,className:"modal-button modal-button-secondary",children:D?"Dölj länkverktyg":"Lägg till länk"}),D&&h.jsxs("div",{className:"edit-modal__link-tools",children:[h.jsxs("div",{className:"edit-modal__form-group",children:[h.jsx("label",{htmlFor:"linkText",className:"edit-modal__label",children:"Länktext:"}),h.jsx("input",{ref:Z,type:"text",id:"linkText",value:H,onChange:Ye,className:"edit-modal__input",placeholder:"Text som ska visas"})]}),h.jsxs("div",{className:"edit-modal__form-group",children:[h.jsx("label",{htmlFor:"linkUrl",className:"edit-modal__label",children:"URL:"}),h.jsx("input",{ref:le,type:"text",id:"linkUrl",value:P,onChange:Ge,className:"edit-modal__input",placeholder:"https://example.com"})]}),h.jsx("button",{type:"button",onClick:j,disabled:!H||!P,className:"modal-button modal-button-primary",children:"Infoga länk"})]}),h.jsxs("div",{className:"edit-modal__actions",children:[h.jsx("button",{type:"button",onClick:w,className:"modal-button modal-button-secondary",children:"Avbryt"}),h.jsx("button",{type:"button",onClick:N,className:"modal-button modal-button-primary",children:"Spara"})]})]})});const pe=O?"span":"div";return h.jsxs(pe,{className:"editable-text-wrapper",children:[ye(),_&&h.jsx("button",{type:"button",onClick:R,className:"edit-button edit-button-primary",title:"Redigera text",children:"Redigera"})]})},uD=()=>h.jsxs("div",{className:"flex flex_col MaxWH location",children:[h.jsx("section",{id:"page_01",className:"page_01 dynamic-background ",children:h.jsxs("div",{className:" page_01box flex flex_col flex_j_SA MaxWH",children:[h.jsx(M,{textKey:"main-multisport-for-alla",defaultText:"MULTISPORT FÖR ALLA",tag:"p",className:"font_white fonts_medium"}),h.jsx(M,{textKey:"main-multisport-sedan",defaultText:"MUTLISPORT SEDAN 2004",tag:"p",className:"font_white fonts_large"})]})}),h.jsxs("section",{id:"page_02",className:"page_02 flex flex_j_E MaxWH location",children:[h.jsx("h2",{className:"page_02-title",children:"ÅRETS TÄVLINGAR"}),h.jsxs("div",{className:"page_02box  flex flex_col MaxWH location",children:[h.jsx("div",{className:"page_02-image",style:{backgroundImage:"url('images/EE-AIMChallenge24-Uhamn-0171-high.jpg')"}}),h.jsx("div",{className:"page_02-content",children:h.jsxs("div",{className:"page_02-header",children:[h.jsx(M,{textKey:"main-ulricehamn-title",defaultText:"ULRICEHAMN 10/5",tag:"p",className:"font_white fonts_medium_B"}),h.jsx(M,{textKey:"ulricehamn-date",defaultText:"datum insert",tag:"p",className:"font_white fonts_medium"})]})}),h.jsx("div",{className:"page_02-button",children:h.jsx(Te,{to:"/ulricehamn",className:"location button-2",children:h.jsx("span",{children:"Läs mer"})})})]}),h.jsxs("div",{className:"page_02box  flex flex_col MaxWH location",children:[h.jsx("div",{className:"page_02-image",style:{backgroundImage:"url('/images/AIM_lindvallen_2024_AnkiGrothe_highres_155.jpg')"}}),h.jsx("div",{className:"page_02-content",children:h.jsxs("div",{className:"page_02-header",children:[h.jsx(M,{textKey:"main-salen-title",defaultText:"SÄLEN 10/5",tag:"p",className:"font_white fonts_medium_B"}),h.jsx(M,{textKey:"salen-date",defaultText:"datum insert",tag:"p",className:"font_white fonts_medium"})]})}),h.jsx("div",{className:"page_02-button",children:h.jsx(Te,{to:"/salen",className:"location button-2",children:h.jsx("span",{children:"Läs mer"})})})]}),h.jsxs("div",{className:"page_02box flex flex_col MaxWH location",children:[h.jsx("div",{className:"page_02-image",style:{backgroundImage:"url('/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg')"}}),h.jsx("div",{className:"page_02-content",children:h.jsxs("div",{className:"page_02-header",children:[h.jsx(M,{textKey:"main-hemsedal-title",defaultText:"HEMSEDAL 10/5",tag:"p",className:"font_white fonts_medium_B"}),h.jsx(M,{textKey:"hemsedal-date",defaultText:"datum insert",tag:"p",className:"font_white fonts_medium"})]})}),h.jsx("div",{className:"page_02-button",children:h.jsx(Te,{to:"/hemsedal",className:"location button-2",children:h.jsx("span",{children:"Läs mer"})})})]}),h.jsxs("div",{className:"page_02box  flex flex_col MaxWH location",children:[h.jsx("div",{className:"page_02-image",style:{backgroundImage:"url('/images/AIM_lindvallen_2024_AnkiGrothe_highres_125.jpg')"}}),h.jsx("div",{className:"page_02-content",children:h.jsxs("div",{className:"page_02-header",children:[h.jsx(M,{textKey:"main-kolmarden-title",defaultText:"KOLMÅRDEN 10/5",tag:"p",className:"font_white fonts_medium_B"}),h.jsx(M,{textKey:"kolmarden-date",defaultText:"datum insert",tag:"p",className:"font_white fonts_medium"})]})}),h.jsx("div",{className:"page_02-button",children:h.jsx(Te,{to:"/kolmarden",className:"location button-2",children:h.jsx("span",{children:"Läs mer"})})})]})]}),h.jsx("section",{id:"page_03",className:"page_03 flex MaxWH",children:h.jsxs("div",{className:"page_03-content flex",children:[h.jsxs("div",{className:"page_03-text",children:[h.jsx("h2",{className:"page_03-title",children:"OM AIM CHALLENGE"}),h.jsx(M,{textKey:"aim-challenge-desc-1",defaultText:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",tag:"p",className:"font_white"}),h.jsx(M,{textKey:"aim-challenge-desc-2",defaultText:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",tag:"p",className:"font_white"}),h.jsx("div",{className:"page_03-button",children:h.jsx(Te,{to:"/about",className:"button-2",children:h.jsx("span",{children:"LÄS MER"})})})]}),h.jsx("div",{className:"page_03-image",children:h.jsx("img",{src:"/images/AIM_lindvallen_2024_AnkiGrothe_highres_155.jpg",alt:"AIM Challenge"})})]})}),h.jsx("section",{id:"ad-section",className:"ad-section",children:h.jsx("div",{className:"ad-container",children:h.jsx("div",{className:"ad-content",children:h.jsx("p",{children:"ANNONS"})})})}),h.jsxs("section",{id:"latest-news",className:"latest-news-section",children:[h.jsx("h2",{className:"latest-news-title",children:"SENASTE NYTT"}),h.jsxs("div",{className:"latest-news-container",children:[h.jsxs("div",{className:"news-card",children:[h.jsx("div",{className:"news-image",children:h.jsx("img",{src:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg",alt:"News"})}),h.jsxs("div",{className:"news-content",children:[h.jsx("h3",{className:"news-location",children:"ULRICEHAMN 10/5"}),h.jsx("p",{className:"news-description",children:"Brödtext om tävlingen, 2 korta meningar"}),h.jsx("div",{className:"news-button",children:h.jsx(Te,{to:"/news/1",className:"button-2",children:h.jsx("span",{children:"LÄS MER"})})})]})]}),h.jsxs("div",{className:"news-card",children:[h.jsx("div",{className:"news-image",children:h.jsx("img",{src:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg",alt:"News"})}),h.jsxs("div",{className:"news-content",children:[h.jsx("h3",{className:"news-location",children:"ULRICEHAMN 10/5"}),h.jsx("p",{className:"news-description",children:"Brödtext om tävlingen, 2 korta meningar"}),h.jsx("div",{className:"news-button",children:h.jsx(Te,{to:"/news/2",className:"button-2",children:h.jsx("span",{children:"LÄS MER"})})})]})]}),h.jsxs("div",{className:"news-card",children:[h.jsx("div",{className:"news-image",children:h.jsx("img",{src:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg",alt:"News"})}),h.jsxs("div",{className:"news-content",children:[h.jsx("h3",{className:"news-location",children:"ULRICEHAMN 10/5"}),h.jsx("p",{className:"news-description",children:"Brödtext om tävlingen, 2 korta meningar"}),h.jsx("div",{className:"news-button",children:h.jsx(Te,{to:"/news/3",className:"button-2",children:h.jsx("span",{children:"LÄS MER"})})})]})]})]})]})]}),cD=()=>h.jsxs("div",{className:"competitions-container flex flex_col MaxWH location",children:[h.jsx("div",{className:"competitions-spacer"}),h.jsxs("div",{className:"competitions-grid",children:[h.jsxs("div",{className:"competitions-card competitions-card-ulricehamn flex flex_col flex_j_SB location simple-background",children:[h.jsxs("div",{className:"trans-background competitions-header flex flex_col flex_j_C flex_a_C flex_text_C MaxWH",children:[h.jsx(M,{textKey:"competitions-ulricehamn-title",defaultText:"ULRICEHAMN",tag:"p",className:"font_blue fonts_medium_B competitions-title text-center",style:{textAlign:"center"}}),h.jsx(M,{textKey:"ulricehamn-date",defaultText:"datum insert",tag:"p",className:"font_blue fonts_medium competitions-date text-center",style:{textAlign:"center"}})]}),h.jsx("div",{className:"competitions-button-container flex flex_col flex_j_SA flex_a_C MaxWH Button",children:h.jsx(Te,{to:"/ulricehamn",className:"location button-2 competitions-button",children:h.jsx("span",{children:"Läs mer"})})})]}),h.jsxs("div",{className:"competitions-card competitions-card-salen flex flex_col flex_j_SB location simple-background",children:[h.jsxs("div",{className:"trans-background competitions-header flex flex_col flex_j_C flex_a_C flex_text_C MaxWH",children:[h.jsx(M,{textKey:"competitions-salen-title",defaultText:"SÄLEN",tag:"p",className:"font_blue fonts_medium_B competitions-title text-center",style:{textAlign:"center"}}),h.jsx(M,{textKey:"salen-date",defaultText:"datum insert",tag:"p",className:"font_blue fonts_medium competitions-date text-center",style:{textAlign:"center"}})]}),h.jsx("div",{className:"competitions-button-container flex flex_col flex_j_SA flex_a_C MaxWH Button",children:h.jsx(Te,{to:"/salen",className:"location button-2 competitions-button",children:h.jsx("span",{children:"Läs mer"})})})]})]}),h.jsxs("div",{className:"competitions-grid",children:[h.jsxs("div",{className:"competitions-card competitions-card-hemsedal flex flex_col flex_j_SB location simple-background",children:[h.jsxs("div",{className:"trans-background competitions-header flex flex_col flex_j_C flex_a_C flex_text_C MaxWH",children:[h.jsx(M,{textKey:"competitions-hemsedal-title",defaultText:"HEMSEDAL",tag:"p",className:"font_blue fonts_medium_B competitions-title text-center",style:{textAlign:"center"}}),h.jsx(M,{textKey:"hemsedal-date",defaultText:"datum insert",tag:"p",className:"font_blue fonts_medium competitions-date text-center",style:{textAlign:"center"}})]}),h.jsx("div",{className:"competitions-button-container flex flex_col flex_j_SA flex_a_C MaxWH Button",children:h.jsx(Te,{to:"/hemsedal",className:"location button-2 competitions-button",children:h.jsx("span",{children:"Läs mer"})})})]}),h.jsxs("div",{className:"competitions-card competitions-card-kolmarden flex flex_col flex_j_SB location simple-background",children:[h.jsxs("div",{className:"trans-background competitions-header flex flex_col flex_j_C flex_a_C flex_text_C MaxWH",children:[h.jsx(M,{textKey:"competitions-kolmarden-title",defaultText:"KOLMÅRDEN",tag:"p",className:"font_blue fonts_medium_B competitions-title text-center",style:{textAlign:"center"}}),h.jsx(M,{textKey:"kolmarden-date",defaultText:"datum insert",tag:"p",className:"font_blue fonts_medium competitions-date text-center",style:{textAlign:"center"}})]}),h.jsx("div",{className:"competitions-button-container flex flex_col flex_j_SA flex_a_C MaxWH Button",children:h.jsx(Te,{to:"/kolmarden",className:"location button-2 competitions-button",children:h.jsx("span",{children:"Läs mer"})})})]})]})]}),hD=()=>h.jsxs("div",{className:"flex flex_col",children:[h.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",children:h.jsxs("div",{className:"trans-background page_01box flex flex_col flex_j_SA",children:[h.jsx(M,{textKey:"ulricehamn-title",defaultText:"ULRICEHAMN",tag:"p",className:"font_blue fonts_huge"}),h.jsx(M,{textKey:"ulricehamn-date",defaultText:"10/5-2025",tag:"p",className:"font_blue fonts_medium"})]})}),h.jsx("section",{className:"ulric-button-section-bg flex flex_j_C flex_a_C",children:h.jsx("a",{href:"https://raceid.com/sv/races/12846/about",target:"_blank",rel:"noopener noreferrer",className:"ulric-button flex flex_j_C flex_a_C",children:h.jsx("p",{className:"font_white fonts_medium",children:"TA MIG TILL ANMÄLAN"})})}),h.jsxs("section",{className:"ulric-section ulric-bg-1 flex flex_j_C flex_a_C",children:[h.jsxs("div",{className:"ulric-content trans-background MaxWH flex flex_col flex_j_C",children:[h.jsx(M,{textKey:"ulricehamn-program-title",defaultText:"PROGRAM",tag:"p",className:"font_blue fonts_large"}),h.jsx(M,{textKey:"ulricehamn-program-subtitle",defaultText:"PRELIMINÄRT PROGRAM:",tag:"p",className:"font_blue fonts_medium"}),h.jsxs("div",{className:"font_blue",children:[h.jsx(M,{textKey:"ulricehamn-friday-title",defaultText:"FREDAG 9 MAJ",tag:"p",className:"fonts_medium"}),h.jsx(M,{textKey:"ulricehamn-friday-schedule",defaultText:"17:00 - 19:00 Registrering för alla tävlande på XCC",tag:"p",className:"fonts_small ulric-time-entry"})]}),h.jsxs("div",{className:"font_blue",children:[h.jsx(M,{textKey:"ulricehamn-saturday-title",defaultText:"LÖRDAG 10 MAJ",tag:"p",className:"fonts_medium"}),h.jsx(M,{textKey:"ulricehamn-saturday-schedule1",defaultText:"08:30 - 10:15 Registrering för alla tävlande som ej registrerat sig under fredagen på 157 XCC, på Lassalyckan.",tag:"p",className:"fonts_small ulric-time-entry"}),h.jsx(M,{textKey:"ulricehamn-saturday-schedule2",defaultText:"10:30 Obligatoriskt informationsmöte vid starten på Lassalyckan stadion.",tag:"p",className:"fonts_small ulric-time-entry"}),h.jsx(M,{textKey:"ulricehamn-saturday-schedule3",defaultText:"11:00 Start AIM Challenge, på Lassalyckan stadion. Gemensam start för 3 & 6-timmars tävlingen.",tag:"p",className:"fonts_small ulric-time-entry"}),h.jsx(M,{textKey:"ulricehamn-saturday-schedule4",defaultText:"14:00 Målgång för 3-timmars tävlingen.",tag:"p",className:"fonts_small ulric-time-entry"}),h.jsx(M,{textKey:"ulricehamn-saturday-schedule5",defaultText:"ca 15:30 Prisutdelning 3-timmars tävlingen",tag:"p",className:"fonts_small ulric-time-entry"}),h.jsx(M,{textKey:"ulricehamn-saturday-schedule6",defaultText:"16:30 - 20:00 After AIM med mat och dryck på Hotell Lassalyckan.",tag:"p",className:"fonts_small ulric-time-entry"}),h.jsx(M,{textKey:"ulricehamn-saturday-schedule7",defaultText:"17:00 Målgång för 6-timmars tävlingen.",tag:"p",className:"fonts_small ulric-time-entry"}),h.jsx(M,{textKey:"ulricehamn-saturday-schedule8",defaultText:"19:00 Prisutdelning utanför Hotell Lassalyckan.",tag:"p",className:"fonts_small ulric-time-entry"})]})]}),h.jsx("div",{className:"ulric-spacer MaxWH"})]}),h.jsxs("section",{className:"ulric-section ulric-bg-2 flex flex_j_C flex_a_C",children:[h.jsx("div",{className:"ulric-spacer MaxWH"}),h.jsxs("div",{className:"ulric-content trans-background MaxWH flex flex_col flex_j_C",children:[h.jsx(M,{textKey:"ulricehamn-pris-title",defaultText:"PRIS",tag:"p",className:"font_blue fonts_large"}),h.jsx(M,{textKey:"ulricehamn-title-price",defaultText:"ULRICEHAMN",tag:"p",className:"font_blue fonts_medium"}),h.jsx("a",{href:"https://raceid.com/sv/races/12846/about",target:"_blank",rel:"noopener noreferrer",children:h.jsx(M,{textKey:"ulricehamn-date",defaultText:"10/5-2025",tag:"p",className:"font_blue fonts_medium"})}),h.jsxs("div",{className:"font_blue",children:[h.jsx(M,{textKey:"ulricehamn-pris-3-timmars-title",defaultText:"3-TIMMARS",tag:"p",className:"fonts_medium"}),h.jsx(M,{textKey:"ulricehamn-pris-3-timmars-early-bird",defaultText:"1500 SEK / lag för Early Bird-anmälan innan 1 november.",tag:"p",className:"fonts_small ulric-time-entry"}),h.jsx(M,{textKey:"ulricehamn-pris-3-timmars-nov-feb",defaultText:"1700 SEK / lag för anmälan mellan 1 november och 1 februari.",tag:"p",className:"fonts_small ulric-time-entry"}),h.jsx(M,{textKey:"ulricehamn-pris-3-timmars-feb-apr",defaultText:"1900 SEK / lag för anmälan mellan 2 februari och 24 april",tag:"p",className:"fonts_small ulric-time-entry"}),h.jsx(M,{textKey:"ulricehamn-pris-3-timmars-apr-start",defaultText:"2100 SEK / lag för anmälan från 25 april och fram till start.",tag:"p",className:"fonts_small ulric-time-entry"})]}),h.jsxs("div",{className:"font_blue",children:[h.jsx(M,{textKey:"ulricehamn-pris-6-timmars-title",defaultText:"6-TIMMARS",tag:"p",className:"fonts_medium"}),h.jsx(M,{textKey:"ulricehamn-pris-6-timmars-early-bird",defaultText:"1900 SEK / lag för Early Bird-anmälan innan 1 november.",tag:"p",className:"fonts_small ulric-time-entry"}),h.jsx(M,{textKey:"ulricehamn-pris-6-timmars-nov-feb",defaultText:"2100 SEK / lag för anmälan mellan 1 november och 1 februari.",tag:"p",className:"fonts_small ulric-time-entry"}),h.jsx(M,{textKey:"ulricehamn-pris-6-timmars-feb-apr",defaultText:"2300 SEK / lag för anmälan mellan 2 februari och 24 april.",tag:"p",className:"fonts_small ulric-time-entry"}),h.jsx(M,{textKey:"ulricehamn-pris-6-timmars-apr-start",defaultText:"2500 SEK / lag för anmälan från 25 april och fram till start.",tag:"p",className:"fonts_small ulric-time-entry"})]}),h.jsxs("div",{className:"font_blue",children:[h.jsx(M,{textKey:"ulricehamn-pris-trippeln-title",defaultText:"AIM CHALLENGE TRIPPELN 2025",tag:"p",className:"fonts_medium"}),h.jsx(M,{textKey:"ulricehamn-pris-trippeln-early-bird",defaultText:"4750 SEK / lag för Early Bird-anmälan innan 1 januari.",tag:"p",className:"fonts_small ulric-time-entry"}),h.jsx(M,{textKey:"ulricehamn-pris-trippeln-jan-feb",defaultText:"5250 SEK / lag för anmälan mellan 1 januari och 1 februari.",tag:"p",className:"fonts_small ulric-time-entry"}),h.jsx(M,{textKey:"ulricehamn-pris-trippeln-feb-apr",defaultText:"5750 SEK / lag för anmälan mellan 2 februari och 24 april.",tag:"p",className:"fonts_small ulric-time-entry"}),h.jsx(M,{textKey:"ulricehamn-pris-trippeln-apr-start",defaultText:"6250 SEK / lag för anmälan efter den 25 april.",tag:"p",className:"fonts_small ulric-time-entry"})]}),h.jsx("a",{href:"https://raceid.com/sv/races/12846/about",target:"_blank",rel:"noopener noreferrer",className:"button-2 ulric-button-align flex flex_s",children:h.jsx("p",{className:"fonts_small ulric-time-entry font_white",children:"ANMÄLAN"})})]})]}),h.jsxs("section",{className:"ulric-section ulric-bg-3 flex flex_j_C flex_a_C",children:[h.jsxs("div",{className:"ulric-content trans-background MaxWH flex flex_col flex_j_C",children:[h.jsx(M,{textKey:"ulricehamn-overnattning-title",defaultText:"ÖVERNATTNING OCH MAT",tag:"p",className:"font_blue fonts_large"}),h.jsx("div",{className:"font_blue ulric-text-block",children:h.jsx(M,{textKey:"ulricehamn-overnattning-cykeluthyrning",defaultText:"Cykeluthyrning med in- och utlämning på Lassalyckan Stadion. Läs mer och boka här.",tag:"p",className:"fonts_small ulric-time-entry"})}),h.jsxs("div",{className:"font_blue ulric-text-block",children:[h.jsx(M,{textKey:"ulricehamn-overnattning-hotell",defaultText:"Önskar du att bo nära start och mål så kan vi varmt rekommendera Hotell Lassalyckan som erbjuder ett modernt boende ett stenkast ifrån starten.",tag:"p",className:"fonts_small ulric-time-entry"}),h.jsx(M,{textKey:"ulricehamn-overnattning-hotell-link",defaultText:"www.hotell-lassalyckan.se",tag:"p",className:"fonts_small ulric-time-entry"})]}),h.jsxs("div",{className:"font_blue ulric-text-block",children:[h.jsx(M,{textKey:"ulricehamn-overnattning-alternativ",defaultText:"För övriga boende i Ulricehamn finns här en bra översikt över olika alternativ:",tag:"p",className:"fonts_small ulric-time-entry"}),h.jsx(M,{textKey:"ulricehamn-overnattning-alternativ-link",defaultText:"www.vastsverige.com/ulricehamn/boende",tag:"p",className:"fonts_small ulric-time-entry"})]})]}),h.jsx("div",{className:"ulric-spacer MaxWH"})]})]}),dD=()=>h.jsxs("div",{className:"flex flex_col",children:[h.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",children:h.jsxs("div",{className:"trans-background page_01box flex flex_col flex_j_SA",children:[h.jsx(M,{textKey:"salen-title",defaultText:"SÄLEN",tag:"p",className:"font_blue fonts_huge"}),h.jsx(M,{textKey:"salen-date",defaultText:"2/8-2024",tag:"p",className:"font_blue fonts_medium"})]})}),h.jsx("section",{className:"salen-button-section-bg flex flex_j_C flex_a_C",children:h.jsx("a",{href:"https://raceid.com/sv/races/13016/about",target:"_blank",rel:"noopener noreferrer",className:"salen-button flex flex_j_C flex_a_C",children:h.jsx("p",{className:"font_white fonts_medium",children:"TA MIG TILL ANMÄLAN"})})}),h.jsxs("section",{className:"salen-section salen-bg-1 flex flex_j_C flex_a_C",children:[h.jsxs("div",{className:"salen-content trans-background MaxWH flex flex_col flex_j_C",children:[h.jsx(M,{textKey:"salen-program-title",defaultText:"PROGRAM",tag:"p",className:"font_blue fonts_large"}),h.jsx(M,{textKey:"salen-program-subtitle",defaultText:"PRELIMINÄRT PROGRAM:",tag:"p",className:"font_blue fonts_medium"}),h.jsxs("div",{className:"font_blue",children:[h.jsx(M,{textKey:"salen-friday-title",defaultText:"FREDAG 1 AUGUSTI",tag:"p",className:"fonts_medium"}),h.jsx(M,{textKey:"salen-friday-schedule",defaultText:"17:00 - 20:00 Nummerlappsutdelning för alla tävlande på SkiStarshop Concept Store på Handelsområdet Lindvallen.",tag:"p",className:"fonts_xsmall salen-time-entry"})]}),h.jsxs("div",{className:"font_blue",children:[h.jsx(M,{textKey:"salen-saturday-title",defaultText:"LÖRDAG 2 AUGUSTI",tag:"p",className:"fonts_medium"}),h.jsx(M,{textKey:"salen-saturday-schedule1",defaultText:"08:30-09:00 Nummerlappsutdelning i konferenslokal ovanför Stadium",tag:"p",className:"fonts_xsmall salen-time-entry"}),h.jsx(M,{textKey:"salen-saturday-schedule2",defaultText:"09:30 Obligatoriskt infomöte vid starten",tag:"p",className:"fonts_xsmall salen-time-entry"}),h.jsx(M,{textKey:"salen-saturday-schedule3",defaultText:"10:00 START! Start/målområde vid Experiumtorget.",tag:"p",className:"fonts_xsmall salen-time-entry"}),h.jsx(M,{textKey:"salen-saturday-schedule4",defaultText:"15:30 After AIM på Lodgebaren på SkiStar Lodge Lindvallen",tag:"p",className:"fonts_xsmall salen-time-entry"}),h.jsx(M,{textKey:"salen-saturday-schedule5",defaultText:"16:00 Målgång AIM Challenge.",tag:"p",className:"fonts_xsmall salen-time-entry"}),h.jsx(M,{textKey:"salen-saturday-schedule6",defaultText:"xx:00 Prisutdelning i Lodgebaren",tag:"p",className:"fonts_xsmall salen-time-entry"})]})]}),h.jsx("div",{className:"salen-spacer MaxWH"})]}),h.jsxs("section",{className:"salen-section salen-bg-2 flex flex_j_C flex_a_C",children:[h.jsx("div",{className:"salen-spacer MaxWH"}),h.jsxs("div",{className:"salen-content trans-background MaxWH flex flex_col flex_j_C",children:[h.jsx(M,{textKey:"salen-pris-title",defaultText:"PRIS",tag:"p",className:"font_blue fonts_large"}),h.jsxs("div",{className:"font_blue",children:[h.jsx(M,{textKey:"salen-pris-salen-title",defaultText:"SÄLEN",tag:"p",className:"fonts_medium"}),h.jsx("a",{href:"https://raceid.com/sv/races/13016/about",target:"_blank",rel:"noopener noreferrer",children:h.jsx(M,{textKey:"salen-date",defaultText:"2/8-2024",tag:"p",className:"fonts_medium"})}),h.jsx(M,{textKey:"salen-pris-salen-price1",defaultText:"1900 SEK / lag för Early Bird-anmälan innan 1 januari.",tag:"p",className:"fonts_xsmall salen-time-entry"}),h.jsx(M,{textKey:"salen-pris-salen-price2",defaultText:"2100 SEK / lag för anmälan mellan 1 januari och 1 april.",tag:"p",className:"fonts_xsmall salen-time-entry"}),h.jsx(M,{textKey:"salen-pris-salen-price3",defaultText:"2300 SEK / lag för anmälan mellan 2 april och 18 juli",tag:"p",className:"fonts_xsmall salen-time-entry"}),h.jsx(M,{textKey:"salen-pris-salen-price4",defaultText:"2500 SEK / lag för anmälan från 19 juli och fram till start.",tag:"p",className:"fonts_xsmall salen-time-entry"})]}),h.jsxs("div",{className:"font_blue",children:[h.jsx(M,{textKey:"salen-pris-trippeln-title",defaultText:"AIM CHALLENGE TRIPPELN 2025",tag:"p",className:"fonts_medium"}),h.jsx(M,{textKey:"salen-pris-trippeln-price1",defaultText:"4750 SEK / lag för Early Bird-anmälan innan 1 januari.",tag:"p",className:"fonts_xsmall salen-time-entry"}),h.jsx(M,{textKey:"salen-pris-trippeln-price2",defaultText:"5250 SEK / lag för anmälan mellan 1 januari och 1 februari.",tag:"p",className:"fonts_xsmall salen-time-entry"}),h.jsx(M,{textKey:"salen-pris-trippeln-price3",defaultText:"5750 SEK / lag för anmälan mellan 2 februari och 25 april.",tag:"p",className:"fonts_xsmall salen-time-entry"}),h.jsx(M,{textKey:"salen-pris-trippeln-price4",defaultText:"6250 SEK / lag för anmälan efter den 26 april.",tag:"p",className:"fonts_xsmall salen-time-entry"})]}),h.jsxs("div",{className:"font_blue",children:[h.jsx(M,{textKey:"salen-pris-landskampen-title",defaultText:"LANDSKAMPEN = LINDVALLEN OCH HEMSEDAL",tag:"p",className:"fonts_medium"}),h.jsx(M,{textKey:"salen-pris-landskampen-price1",defaultText:"3400 SEK/ lag för anmälan innan 1 maj.",tag:"p",className:"fonts_xsmall salen-time-entry"}),h.jsx(M,{textKey:"salen-pris-landskampen-price2",defaultText:"3800 SEK/ lag för anmälan mellan 1 maj och 1 juli.",tag:"p",className:"fonts_xsmall salen-time-entry"}),h.jsx(M,{textKey:"salen-pris-landskampen-price3",defaultText:"4200 SEK/ lag för anmälan från 1 juli och framåt.",tag:"p",className:"fonts_xsmall salen-time-entry"})]}),h.jsx("a",{href:"https://raceid.com/sv/races/13014/about",target:"_blank",rel:"noopener noreferrer",className:"button-2 salen-button-align flex flex_s",children:h.jsx("p",{className:"font_white fonts_medium",children:"ANMÄLAN"})})]})]}),h.jsxs("section",{className:"salen-section salen-bg-3 flex flex_j_C flex_a_C",children:[h.jsxs("div",{className:"salen-content trans-background MaxWH flex flex_col flex_j_C",children:[h.jsx(M,{textKey:"salen-overnattning-title",defaultText:"ÖVERNATTNING OCH MAT",tag:"p",className:"font_blue fonts_large"}),h.jsxs("div",{className:"font_blue salen-text-block",children:[h.jsx(M,{textKey:"salen-overnattning-overnattning-title",defaultText:"ÖVERNATTNING",tag:"p",className:"fonts_medium"}),h.jsx(M,{textKey:"salen-overnattning-overnattning-text",defaultText:"Boende bokas enklast genom Skistar. För att komma direkt till bokningssida.",tag:"p",className:"fonts_xsmall salen-time-entry"})]}),h.jsxs("div",{className:"font_blue salen-text-block",children:[h.jsx(M,{textKey:"salen-overnattning-mat-title",defaultText:"MAT",tag:"p",className:"fonts_medium"}),h.jsx(M,{textKey:"salen-overnattning-mat-text1",defaultText:"Avslutningsmiddag på Lodgebaren.",tag:"p",className:"fonts_xsmall salen-time-entry"}),h.jsx(M,{textKey:"salen-overnattning-mat-text2",defaultText:"Möjlighet för frukost på Lodgebaren.",tag:"p",className:"fonts_xsmall salen-time-entry"}),h.jsx(M,{textKey:"salen-overnattning-mat-text3",defaultText:"Lodgebaren - Läs mer och boka bord",tag:"p",className:"fonts_xsmall salen-time-entry"})]}),h.jsxs("div",{className:"font_blue salen-text-block",children:[h.jsx(M,{textKey:"salen-overnattning-upplevelser-title",defaultText:"UPPLEVELSER & AKTIVITETER",tag:"p",className:"fonts_medium"}),h.jsx(M,{textKey:"salen-overnattning-upplevelser-text1",defaultText:"Bad & Spa",tag:"p",className:"fonts_xsmall salen-time-entry"}),h.jsx(M,{textKey:"salen-overnattning-upplevelser-text2",defaultText:"Bowling",tag:"p",className:"fonts_xsmall salen-time-entry"}),h.jsx(M,{textKey:"salen-overnattning-upplevelser-text3",defaultText:"Höghöjdsbana",tag:"p",className:"fonts_xsmall salen-time-entry"}),h.jsx(M,{textKey:"salen-overnattning-upplevelser-text4",defaultText:"SkiStar Sports & Adventures",tag:"p",className:"fonts_xsmall salen-time-entry"})]})]}),h.jsx("div",{className:"salen-spacer MaxWH"})]})]}),fD=()=>h.jsxs("div",{className:"MaxWH location",children:[h.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",children:h.jsxs("div",{className:"trans-background page_01box flex flex_col flex_j_SA",children:[h.jsx(M,{textKey:"hemsedal-title",defaultText:"HEMSEDAL",tag:"p",className:"font_blue fonts_huge"}),h.jsx(M,{textKey:"hemsedal-date",defaultText:"datum insert",tag:"p",className:"font_blue fonts_medium"})]})}),h.jsx("section",{className:"hemsedal-button-section-bg flex flex_j_C flex_a_C",children:h.jsx("a",{href:"https://raceid.com/sv/races/13015/about",target:"_blank",rel:"noopener noreferrer",className:"hemsedal-button flex flex_j_C flex_a_C",children:h.jsx("p",{className:"font_white fonts_medium",children:"TA MIG TILL ANMÄLAN"})})}),h.jsxs("section",{className:"hemsedal-section hemsedal-bg-1 flex flex_j_C flex_a_C",children:[h.jsxs("div",{className:"hemsedal-content trans-background MaxWH flex flex_col flex_j_C",children:[h.jsx(M,{textKey:"hemsedal-program-title",defaultText:"PROGRAM",tag:"p",className:"font_blue fonts_large"}),h.jsx(M,{textKey:"hemsedal-program-subtitle",defaultText:"PRELIMINÄRT PROGRAM:",tag:"p",className:"font_blue fonts_medium"}),h.jsxs("div",{className:"font_blue",children:[h.jsx(M,{textKey:"hemsedal-friday-title",defaultText:"FREDAG 23 AUGUSTI",tag:"p",className:"fonts_medium"}),h.jsx(M,{textKey:"hemsedal-friday-schedule",defaultText:"17:00 - 20:00 Nummerlappsutdelning för alla tävlande på SkiStarshop Hemsedal",tag:"p",className:"fonts_xsmall hemsedal-time-entry"})]}),h.jsxs("div",{className:"font_blue",children:[h.jsx(M,{textKey:"hemsedal-saturday-title",defaultText:"LÖRDAG 24 AUGUSTI",tag:"p",className:"fonts_medium"}),h.jsx(M,{textKey:"hemsedal-saturday-schedule1",defaultText:"08:30-09:00 Nummerlappsutdelning vid starten",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),h.jsx(M,{textKey:"hemsedal-saturday-schedule2",defaultText:"09:30 Obligatoriskt infomöte vid starten",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),h.jsx(M,{textKey:"hemsedal-saturday-schedule3",defaultText:"10:00 START! Start/målområde vid Hemsedal Skisenter",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),h.jsx(M,{textKey:"hemsedal-saturday-schedule4",defaultText:"15:30 After AIM på Stavkroa",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),h.jsx(M,{textKey:"hemsedal-saturday-schedule5",defaultText:"16:00 Målgång AIM Challenge",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),h.jsx(M,{textKey:"hemsedal-saturday-schedule6",defaultText:"18:00 Prisutdelning på Stavkroa",tag:"p",className:"fonts_xsmall hemsedal-time-entry"})]})]}),h.jsx("div",{className:"hemsedal-spacer MaxWH"})]}),h.jsxs("section",{className:"hemsedal-section hemsedal-bg-2 flex flex_j_C flex_a_C",children:[h.jsx("div",{className:"hemsedal-spacer MaxWH"}),h.jsxs("div",{className:"hemsedal-content trans-background MaxWH flex flex_col flex_j_C",children:[h.jsx(M,{textKey:"hemsedal-pris-title",defaultText:"PRIS",tag:"p",className:"font_blue fonts_large"}),h.jsxs("div",{className:"font_blue",children:[h.jsx(M,{textKey:"hemsedal-pris-date",defaultText:"HEMSEDAL",tag:"p",className:"fonts_medium"}),h.jsx("a",{href:"https://raceid.com/sv/races/13015/about",target:"_blank",rel:"noopener noreferrer",children:h.jsx(M,{textKey:"hemsedal-date",defaultText:"24/8-2024",tag:"p",className:"fonts_medium"})}),h.jsx(M,{textKey:"hemsedal-pris-price1",defaultText:"1900 NOK / lag för Early Bird-anmälan innan 1 januari",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),h.jsx(M,{textKey:"hemsedal-pris-price2",defaultText:"2100 NOK / lag för anmälan mellan 1 januari och 1 april",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),h.jsx(M,{textKey:"hemsedal-pris-price3",defaultText:"2300 NOK / lag för anmälan mellan 2 april och 18 juli",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),h.jsx(M,{textKey:"hemsedal-pris-price4",defaultText:"2500 NOK / lag för anmälan från 19 juli och fram till start",tag:"p",className:"fonts_xsmall hemsedal-time-entry"})]}),h.jsxs("div",{className:"font_blue",children:[h.jsx(M,{textKey:"hemsedal-trippeln-title",defaultText:"AIM CHALLENGE TRIPPELN 2025",tag:"p",className:"fonts_medium"}),h.jsx(M,{textKey:"hemsedal-trippeln-price1",defaultText:"4750 SEK / lag för Early Bird-anmälan innan 1 januari",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),h.jsx(M,{textKey:"hemsedal-trippeln-price2",defaultText:"5250 SEK / lag för anmälan mellan 1 januari och 1 februari",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),h.jsx(M,{textKey:"hemsedal-trippeln-price3",defaultText:"5750 SEK / lag för anmälan mellan 2 februari och 25 april",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),h.jsx(M,{textKey:"hemsedal-trippeln-price4",defaultText:"6250 SEK / lag för anmälan efter den 26 april",tag:"p",className:"fonts_xsmall hemsedal-time-entry"})]}),h.jsxs("div",{className:"font_blue",children:[h.jsx(M,{textKey:"hemsedal-landskampen-title",defaultText:"LANDSKAMPEN = LINDVALLEN OCH HEMSEDAL",tag:"p",className:"fonts_medium"}),h.jsx(M,{textKey:"hemsedal-landskampen-price1",defaultText:"3400 SEK / lag för anmälan innan 1 maj",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),h.jsx(M,{textKey:"hemsedal-landskampen-price2",defaultText:"3800 SEK / lag för anmälan mellan 1 maj och 1 juli",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),h.jsx(M,{textKey:"hemsedal-landskampen-price3",defaultText:"4200 SEK / lag för anmälan från 1 juli och framåt",tag:"p",className:"fonts_xsmall hemsedal-time-entry"})]}),h.jsx("a",{href:"https://raceid.com/sv/races/13014/about",target:"_blank",rel:"noopener noreferrer",className:"button-2 hemsedal-button-align flex flex_s",children:h.jsx("span",{className:"font_white",children:"ANMÄLAN"})})]})]}),h.jsxs("section",{className:"hemsedal-section hemsedal-bg-3 flex flex_j_C flex_a_C",children:[h.jsxs("div",{className:"hemsedal-content trans-background MaxWH flex flex_col flex_j_C",children:[h.jsx(M,{textKey:"hemsedal-overnattning-title",defaultText:"ÖVERNATTNING OCH MAT",tag:"p",className:"font_blue fonts_large"}),h.jsxs("div",{className:"font_blue hemsedal-text-block",children:[h.jsx(M,{textKey:"hemsedal-overnattning-subtitle",defaultText:"ÖVERNATTNING",tag:"p",className:"fonts_medium"}),h.jsx(M,{textKey:"hemsedal-overnattning-info",defaultText:"Boende bokas enklast genom Skistar. Klicka för att komma direkt till bokningssida.",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),h.jsx(M,{textKey:"hemsedal-cykeluthyrning-info",defaultText:"Cykel kan hyras hos Concept Store. Klicka för att komma till bokningssida.",tag:"p",className:"fonts_xsmall hemsedal-time-entry"})]}),h.jsxs("div",{className:"font_blue hemsedal-text-block",children:[h.jsx(M,{textKey:"hemsedal-mat-subtitle",defaultText:"MAT",tag:"p",className:"fonts_medium"}),h.jsx(M,{textKey:"hemsedal-mat-friday",defaultText:"FREDAG:",tag:"p",className:"fonts_small"}),h.jsx(M,{textKey:"hemsedal-mat-friday-info",defaultText:"18:00 - 21:00 Italiensk pizza som Take Away - Beställ på plats på lodgen Spiseri eller ring +47 458 65 086. Meny kommer att läggas ut HÄR.",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),h.jsx(M,{textKey:"hemsedal-mat-saturday",defaultText:"LÖRDAG:",tag:"p",className:"fonts_small"}),h.jsx(M,{textKey:"hemsedal-mat-saturday-info1",defaultText:"10:00 - 15:00 Cafe och lunchservering på Lodgen Spiseri",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),h.jsx(M,{textKey:"hemsedal-mat-saturday-info2",defaultText:"15:30-18:00 After AIM på Lodgen Spiseri. Viktigt att fylla på med vätska och energi efter målgång!",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),h.jsx(M,{textKey:"hemsedal-mat-saturday-info3",defaultText:"19:30 Bankettmiddag på Lodgen Spiseri. Bokas här.",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),h.jsx(M,{textKey:"hemsedal-mat-sunday",defaultText:"SÖNDAG:",tag:"p",className:"fonts_small"}),h.jsx(M,{textKey:"hemsedal-mat-sunday-info",defaultText:"10:00 - 15:00 Cafe och lunchservering på Lodgen Spiseri",tag:"p",className:"fonts_xsmall hemsedal-time-entry"})]}),h.jsx("div",{className:"font_blue hemsedal-text-block",children:h.jsx(M,{textKey:"hemsedal-mat-info",defaultText:"Lodgen Spiseri följer alla de nationella riktlinjerna för att ge dig en trygg och bra upplevelse.",tag:"p",className:"fonts_xsmall"})})]}),h.jsx("div",{className:"hemsedal-spacer MaxWH"})]})]}),mD=()=>h.jsxs("div",{className:"MaxWH location",children:[h.jsx("div",{className:"set-03",style:{height:"120px"}}),h.jsx("section",{className:"page_01 kolmarden-bg-1 flex flex_col flex_j_E set-03",children:h.jsxs("div",{className:"trans-background page_01box flex flex_col flex_j_SA",children:[h.jsx(M,{textKey:"kolmarden-title",defaultText:"KOLMÅRDEN",tag:"p",className:"font_blue fonts_huge"}),h.jsx(M,{textKey:"kolmarden-date",defaultText:"datum insert",tag:"p",className:"font_blue fonts_medium"})]})}),h.jsx("section",{className:"kolmarden-button-section-bg flex flex_j_C flex_a_C set-03",children:h.jsx("a",{href:"https://raceid.com/sv/races/13014/about",target:"_blank",rel:"noopener noreferrer",className:"kolmarden-button flex flex_j_C flex_a_C",children:h.jsx("p",{className:"font_white fonts_medium",children:"TA MIG TILL ANMÄLAN"})})}),h.jsx("section",{className:"kolmarden-section kolmarden-bg-2 flex flex_j_R flex_a_C set-03",children:h.jsxs("div",{className:"kolmarden-content trans-background MaxWH flex flex_col flex_j_C",children:[h.jsx(M,{textKey:"kolmarden-program-title",defaultText:"PROGRAM",tag:"p",className:"font_blue fonts_large"}),h.jsx(M,{textKey:"kolmarden-program-subtitle",defaultText:"PRELIMINÄRT PROGRAM:",tag:"p",className:"font_blue fonts_medium"}),h.jsxs("div",{className:"font_blue",children:[h.jsx(M,{textKey:"kolmarden-friday-title",defaultText:"FREDAG 27 SEPTEMBER",tag:"p",className:"fonts_small kolmarden-day-title"}),h.jsx(M,{textKey:"kolmarden-friday-program",defaultText:"15:00-19:00 Tävlingsexpeditionen öppen, utlämning av nummerlappar och kartor",tag:"p",className:"fonts_xsmall kolmarden-program-entry"})]}),h.jsxs("div",{className:"font_blue",children:[h.jsx(M,{textKey:"kolmarden-saturday-title",defaultText:"LÖRDAG 28 SEPTEMBER",tag:"p",className:"fonts_small kolmarden-day-title"}),h.jsx(M,{textKey:"kolmarden-saturday-program-1",defaultText:"07:30-08:30 Tävlingsexpeditionen öppen, utlämning av nummerlappar och kartor",tag:"p",className:"fonts_xsmall kolmarden-program-entry"}),h.jsx(M,{textKey:"kolmarden-saturday-program-2",defaultText:"08:30 Obligatorisk genomgång vid startområdet",tag:"p",className:"fonts_xsmall kolmarden-program-entry"}),h.jsx(M,{textKey:"kolmarden-saturday-program-3",defaultText:"09:00 Start",tag:"p",className:"fonts_xsmall kolmarden-program-entry"}),h.jsx(M,{textKey:"kolmarden-saturday-program-4",defaultText:"15:00 Målet stänger",tag:"p",className:"fonts_xsmall kolmarden-program-entry"}),h.jsx(M,{textKey:"kolmarden-saturday-program-5",defaultText:"16:00 Prisutdelning",tag:"p",className:"fonts_xsmall kolmarden-program-entry"})]})]})}),h.jsx("section",{className:"kolmarden-section kolmarden-bg-3 flex flex_j_E flex_a_C set-03",children:h.jsxs("div",{className:"kolmarden-content trans-background MaxWH flex flex_col flex_j_C",children:[h.jsx(M,{textKey:"kolmarden-registration-title",defaultText:"ANMÄLAN",tag:"p",className:"font_blue fonts_large"}),h.jsx("div",{className:"font_blue kolmarden-text-block",children:h.jsx(M,{textKey:"kolmarden-registration-text",defaultText:"Anmälan görs via RaceID. Klicka på knappen nedan för att komma till anmälningssidan.",tag:"p"})}),h.jsxs("div",{className:"kolmarden-registration-info font_blue",children:[h.jsxs("div",{className:"kolmarden-registration-column",children:[h.jsx(M,{textKey:"kolmarden-registration-early-title",defaultText:"ORDINARIE ANMÄLAN",tag:"p",className:"fonts_small kolmarden-fee-title"}),h.jsx(M,{textKey:"kolmarden-registration-early-dates",defaultText:"t.o.m. 31 augusti 2024",tag:"p",className:"fonts_xsmall kolmarden-date-entry"}),h.jsx(M,{textKey:"kolmarden-registration-early-fee",defaultText:"1 495 kr / lag",tag:"p",className:"fonts_xsmall kolmarden-fee-entry"})]}),h.jsxs("div",{className:"kolmarden-registration-column",children:[h.jsx(M,{textKey:"kolmarden-registration-late-title",defaultText:"SEN ANMÄLAN",tag:"p",className:"fonts_small kolmarden-fee-title"}),h.jsx(M,{textKey:"kolmarden-registration-late-dates",defaultText:"1 september - 20 september 2024",tag:"p",className:"fonts_xsmall kolmarden-date-entry"}),h.jsx(M,{textKey:"kolmarden-registration-late-fee",defaultText:"1 795 kr / lag",tag:"p",className:"fonts_xsmall kolmarden-fee-entry"})]}),h.jsxs("div",{className:"kolmarden-registration-column",children:[h.jsx(M,{textKey:"kolmarden-registration-onsite-title",defaultText:"EFTERANMÄLAN",tag:"p",className:"fonts_small kolmarden-fee-title"}),h.jsx(M,{textKey:"kolmarden-registration-onsite-dates",defaultText:"21 september - 27 september 2024",tag:"p",className:"fonts_xsmall kolmarden-date-entry"}),h.jsx(M,{textKey:"kolmarden-registration-onsite-fee",defaultText:"1 995 kr / lag",tag:"p",className:"fonts_xsmall kolmarden-fee-entry"})]})]}),h.jsxs("div",{className:"kolmarden-text-block font_blue",children:[h.jsx(M,{textKey:"kolmarden-registration-includes",defaultText:"I anmälningsavgiften ingår:",tag:"p",className:"fonts_small"}),h.jsx(M,{textKey:"kolmarden-registration-includes-list",defaultText:"Kartor, nummerlappar, tidtagningschip, vätskekontroller under loppet, enklare mat efter målgång, sjukvård och säkerhet under loppet.",tag:"p",className:"fonts_xsmall kolmarden-time-entry"})]}),h.jsx("a",{href:"https://raceid.com/sv/races/13014/about",target:"_blank",rel:"noopener noreferrer",className:"button-2 kolmarden-button-align flex flex_s",children:h.jsx(M,{textKey:"kolmarden-anmalan-button2",defaultText:"ANMÄLAN",tag:"span",className:"font_white"})})]})}),h.jsxs("section",{className:"kolmarden-section kolmarden-bg-4 flex flex_j_R flex_a_C set-03",children:[h.jsxs("div",{className:"kolmarden-content trans-background MaxWH flex flex_col flex_j_C",children:[h.jsx(M,{textKey:"kolmarden-accommodation-title",defaultText:"ÖVERNATTNING OCH MAT",tag:"p",className:"font_blue fonts_large"}),h.jsxs("div",{className:"font_blue kolmarden-text-block",children:[h.jsx(M,{textKey:"kolmarden-accommodation-text",defaultText:"Under tävlingshelgen bor du smidigt på First Camp Kolmården – Norrköping med krypavstånd från start- och målgången. Som tävlingsdeltagare får du dessutom 25% rabatt på stugor och camping när du bokar online.",tag:"p"}),h.jsx(M,{textKey:"kolmarden-discount-code",defaultText:"Rabattkod: AIMCHALLENGE25",tag:"p",className:"fonts_small"}),h.jsx(M,{textKey:"kolmarden-discount-dates",defaultText:"23-29 september 2024",tag:"p",className:"fonts_small"}),h.jsx(M,{textKey:"kolmarden-discount-note1",defaultText:"Endast BAS-bokningar",tag:"p",className:"fonts_small"}),h.jsx(M,{textKey:"kolmarden-discount-note2",defaultText:"Boka online på firstcamp.se",tag:"p",className:"fonts_small"}),h.jsx("div",{className:"kolmarden-button-align",children:h.jsx("a",{href:"https://firstcamp.se",target:"_blank",rel:"noopener noreferrer",className:"kolmarden-link",children:h.jsx(M,{textKey:"kolmarden-book-here",defaultText:"Boka här",tag:"span"})})})]}),h.jsxs("div",{className:"font_blue kolmarden-text-block",children:[h.jsx("p",{children:h.jsx(M,{textKey:"kolmarden-other-accommodation",defaultText:"Övriga boendealternativ finns att hitta här.",tag:"span"})}),h.jsx("p",{children:h.jsx(M,{textKey:"kolmarden-food-tips",defaultText:"Tips på ställen att äta i samband med ditt besök i Norrköping/Kolmården.",tag:"span"})}),h.jsx("p",{children:h.jsx(M,{textKey:"kolmarden-other-activities",defaultText:"Här kan du hitta inspiration på övriga saker att se och göra under ditt besök i Norrköping/Kolmården.",tag:"span"})})]})]}),h.jsx("div",{className:"kolmarden-spacer MaxWH"})]})]}),gD=()=>h.jsxs("div",{className:"MaxWH location",children:[h.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",children:h.jsx("div",{className:"trans-background page_01box flex flex_col flex_j_SA",children:h.jsx("p",{className:"font_blue fonts_huge",children:"AIM CHALLENGE TRIPPELN"})})}),h.jsxs("section",{className:"trippeln-section trippeln-bg",children:[h.jsx("div",{className:"trippeln-content trans-background",children:h.jsxs("div",{className:"font_blue",children:[h.jsx("p",{className:"fonts_medium",children:"Trippeln är en tävling i tävlingen där de som deltar i minst tre av årets deltävlingar är med och tävlar om den mycket hedervärda titeln Vinnare av AIM Challenge Trippeln!"}),h.jsx("br",{}),h.jsx("p",{children:"AIM Challenge Trippeln ersätter Landskampen som sedan 2010 har varit en tävling i tävlingen för de som genomfört AIM Challenge både i Lindvallen och Hemsedal. En tävling där det tävlats för antingen Sverige eller Norge, där det vinnande landet har hyllats och den som bidragit mest till sitt land har prisats."}),h.jsx("br",{}),h.jsx("p",{children:"Med AIM Challenge Trippeln lägger vi ner stridsyxan mellan Sverige och Norge och gör det därmed möjligt att även köra mixade lag mellan olika nationer utan att detta skapar en konflikt."}),h.jsx("br",{}),h.jsx("p",{className:"fonts_medium",children:"Hur går AIM Challenge Trippeln till:"}),h.jsx("br",{}),h.jsx("p",{children:"AIM Challenge Trippeln är en tävling i tävlingen för de lag som deltar på minst tre deltävlingar under ett och samma år. Tävlingarna som ingår är Ulricehamn, Sälen, Hemsedal och Kolmården. Det är fritt för laget att välja om ni önskar att delta i 3- eller 6-timmars tävlingen i Ulricehamn och Kolmården, båda anses att vara likvärdiga för Trippeln."}),h.jsx("br",{}),h.jsx("p",{children:"Vid anmälan till Trippeln blir man per automatik anmäld till alla fyra deltävlingar och väljer själv om man vill delta i tre eller fyra tävlingar. Priset för att anmäla sig till trippeln är rabatterat och blir billigare redan vid start i tre deltävlingar. Skulle ett lag delta i alla fyra deltävlingarna så räknas de tre bästa resultaten till Trippeln."}),h.jsx("br",{}),h.jsx("p",{children:"Det gäller att samla så många poäng som möjligt under årets tävlingar där varje lag får räkna in sina tre bästa resultat från det gångna året. Vinnaren av AIM Challenge Trippeln kommer att utses genom ett poängsystem som bygger på hur många poäng laget fått procentuellt i förhållande till vinnarlaget i respektive klass. Varje lag kommer då få en poängsumma mellan 1 och 100 per tävling och efter alla deltävlingarna kommer dessa poäng att adderas och det lag med högst sammanlagda poäng kommer att stå på prispallen! Skulle två lag få samma sammanlagda poäng så kommer vi se på placeringar i de enskilda loppen för att utse en vinnare."}),h.jsx("br",{}),h.jsx("p",{children:"Vid anmälan till AIM Challenge Trippeln så anmäler sig laget till alla fyra deltävlingarna, varav minst tre måste genomföras för att få ett resultat i Trippeln. Ett lag består av två personer, men om någon i laget skulle få förhinder inför någon av tävlingarna så gäller följande: För att resultatet i Trippeln skall bli godkänt så måste minst en i laget delta i alla tre tävlingarna, samt att deltagare 2 deltar vid minst två deltävlingar. Det vill säga att det är möjligt att ta in en reserv under en av deltävlingarna och fortfarande tävla som lag om den hedervärda titeln! I det fall deltagare 1 tävlat med tre olika lagkompisar under året är det enbart den som deltagit vid alla tre tävlingarna som kommer att premieras."}),h.jsx("br",{}),h.jsx("p",{children:"Det är inte möjligt att sälja sin startplats i Trippeln vidare för den tävling som laget eventuellt inte deltar i."})]})}),h.jsx("div",{className:"trippeln-spacer"})]}),h.jsx("section",{className:"ulric-button-section-bg flex flex_j_C flex_a_C",children:h.jsx("a",{href:"https://raceid.com/sv/races/13016/about",target:"_blank",rel:"noopener noreferrer",className:"ulric-button flex flex_j_C flex_a_C",children:h.jsx("p",{className:"font_white fonts_medium",children:"TA MIG TILL ANMÄLAN"})})})]}),Ab=({onClose:s,onUploadSuccess:e,years:n=["2023","2022","2021","2020","2019","2018","2017","2016","2015"],categories:i=["Herrar","Damer","Mixed"],durations:l=["3 timmar","6 timmar","12 timmar","24 timmar"],locations:u=["Ulricehamn","Borås","Göteborg","Jönköping","Stockholm"],year:d})=>{const{currentUser:g}=vi(),[p,_]=L.useState("Ulricehamn"),[E,b]=L.useState(d||"2023"),[S,k]=L.useState("Herrar"),[D,z]=L.useState("3 timmar"),[P,F]=L.useState(null),[H,$]=L.useState(""),[ee,Z]=L.useState(!1),[le,O]=L.useState(0),R=w=>{const I=w.target.files[0];I&&(F(I),$(""))},N=async w=>{if(w.preventDefault(),!P){$("Please select a file to upload");return}if(!g){$("You must be logged in to upload results");return}Z(!0),$(""),O(0);try{const I=Date.now(),q=`${E}_${p}_${S}_${I}`,j=new FileReader;j.onload=async Ye=>{try{const Ge=Ye.target.result,re={year:parseInt(E),location:p,category:S,duration:D,content:Ge,fileName:P.name,uploadedAt:new Date().toISOString(),uploadedBy:g.uid,timestamp:I},ye=mi(ws,"results",q);await sd(ye,re),F(null),O(100),setTimeout(()=>{Z(!1),e&&e({id:q,...re}),s()},500)}catch(Ge){console.error("Error saving to Firestore:",Ge),$(Ge.message||"Failed to save result"),Z(!1)}},j.onerror=()=>{$("Failed to read file"),Z(!1)},j.onprogress=Ye=>{if(Ye.lengthComputable){const Ge=Ye.loaded/Ye.total*100;O(Ge)}},j.readAsText(P)}catch(I){console.error("Upload error:",I),$(I.message||"Upload failed"),Z(!1)}};return h.jsx("div",{className:"result-upload-modal-overlay",children:h.jsxs("div",{className:"result-upload-modal",children:[h.jsxs("div",{className:"result-upload-modal-header",children:[h.jsx("h2",{children:"Ladda upp resultat"}),h.jsx("button",{className:"result-upload-modal-close",onClick:s,children:"×"})]}),h.jsx("div",{className:"result-upload-modal-body",children:h.jsxs("form",{className:"result-upload-modal-form",onSubmit:N,children:[h.jsxs("div",{className:"result-upload-modal-field",children:[h.jsx("label",{children:"Plats"}),h.jsx("select",{className:"result-upload-modal-select",value:p,onChange:w=>_(w.target.value),children:u.map((w,I)=>h.jsx("option",{value:w,children:w},I))})]}),h.jsxs("div",{className:"result-upload-modal-field",children:[h.jsx("label",{children:"År"}),h.jsx("select",{className:"result-upload-modal-select",value:E,onChange:w=>b(w.target.value),children:n.map((w,I)=>h.jsx("option",{value:w,children:w},I))})]}),h.jsxs("div",{className:"result-upload-modal-field",children:[h.jsx("label",{children:"Kategori"}),h.jsx("select",{className:"result-upload-modal-select",value:S,onChange:w=>k(w.target.value),children:i.map((w,I)=>h.jsx("option",{value:w,children:w},I))})]}),h.jsxs("div",{className:"result-upload-modal-field",children:[h.jsx("label",{children:"Distans"}),h.jsx("select",{className:"result-upload-modal-select",value:D,onChange:w=>z(w.target.value),children:l.map((w,I)=>h.jsx("option",{value:w,children:w},I))})]}),h.jsxs("div",{className:"result-upload-modal-field",children:[h.jsx("label",{children:"Fil"}),h.jsx("input",{type:"file",className:"result-upload-modal-file-input",onChange:R,accept:".txt,.pdf,.doc,.docx,.xls,.xlsx"})]}),H&&h.jsx("div",{className:"result-upload-modal-error",children:H}),ee&&h.jsxs("div",{className:"result-upload-modal-progress",children:[h.jsx("div",{className:"result-upload-modal-progress-bar",style:{width:`${le}%`}}),h.jsxs("div",{className:"result-upload-modal-progress-text",children:[Math.round(le),"%"]})]}),h.jsxs("div",{className:"result-upload-modal-actions",children:[h.jsx("button",{type:"button",className:"result-upload-modal-cancel",onClick:s,disabled:ee,children:"Avbryt"}),h.jsx("button",{type:"submit",className:"result-upload-modal-submit",disabled:ee||!P,children:ee?"Laddar upp...":"Ladda upp"})]})]})})]})})},pD=()=>{const[s,e]=L.useState("2023"),[n,i]=L.useState("Herrar"),[l,u]=L.useState("3 timmar"),[d,g]=L.useState([]),[p,_]=L.useState(!0),[E,b]=L.useState(null),[S,k]=L.useState(!1),{currentUser:D}=vi(),z=(D==null?void 0:D.role)==="admin";console.log("Current User:",D),console.log("Is Admin:",z);const F=(()=>{const le=[];for(let O=2010;O<=2045;O++)le.push(O.toString());return le.sort((O,R)=>R-O)})();L.useEffect(()=>{(async()=>{_(!0);try{const O=Hg(ws,"results"),R=await Zg(O),N=[];R.forEach(w=>{const I=w.data();(s==="all"||I.year.toString()===s)&&(n==="all"||I.category===n)&&(l==="all"||I.duration===l)&&N.push(I)}),g(N),b(null)}catch(O){console.error("Error fetching results:",O),b("Failed to load results. Please try again later."),g([])}finally{_(!1)}})()},[s,n,l]);const H=le=>{e(le.target.value)},$=le=>{i(le.target.value)},ee=le=>{u(le.target.value)},Z=()=>{window.location.reload()};return d.filter(le=>(!n||le.category===n)&&(!l||le.duration===l)),h.jsxs("div",{className:"MaxWH location",children:[h.jsx("div",{className:"set-03",style:{height:"120px"}}),h.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E set-03",children:h.jsx("div",{className:"trans-background page_01box flex flex_col flex_j_SA",children:h.jsx("p",{className:"font_blue fonts_huge",children:"RESULTAT"})})}),h.jsx("section",{className:"set-03",style:{minHeight:"130vh",padding:"2rem"},children:h.jsxs("div",{className:"trans-background",style:{padding:"2rem",borderRadius:"8px"},children:[h.jsxs("div",{style:{marginBottom:"2rem"},className:"flex flex_j_C flex_a_C",children:[h.jsxs("select",{value:s,onChange:H,style:{padding:"0.5rem 1rem",margin:"0 1rem",background:"white",color:"rgb(56, 76, 135)",border:"2px solid rgb(56, 76, 135)",borderRadius:"4px"},children:[h.jsx("option",{value:"all",children:"Alla År"}),F.map(le=>h.jsx("option",{style:{background:"white",color:"rgb(56, 76, 135)"},value:le,children:le},le))]}),h.jsxs("select",{value:n,onChange:$,style:{padding:"0.5rem 1rem",margin:"0 1rem",background:"white",color:"rgb(56, 76, 135)",border:"2px solid rgb(56, 76, 135)",borderRadius:"4px"},children:[h.jsx("option",{style:{background:"white",color:"rgb(56, 76, 135)"},value:"all",children:"Alla Kategorier"}),h.jsx("option",{style:{background:"white",color:"rgb(56, 76, 135)"},value:"Herrar",children:"Herrar"}),h.jsx("option",{style:{background:"white",color:"rgb(56, 76, 135)"},value:"Damer",children:"Damer"}),h.jsx("option",{style:{background:"white",color:"rgb(56, 76, 135)"},value:"Mixed",children:"Mixed"})]}),h.jsxs("select",{value:l,onChange:ee,style:{padding:"0.5rem 1rem",margin:"0 1rem",background:"white",color:"rgb(56, 76, 135)",border:"2px solid rgb(56, 76, 135)",borderRadius:"4px"},children:[h.jsx("option",{style:{background:"white",color:"rgb(56, 76, 135)"},value:"all",children:"Alla Rutter"}),h.jsx("option",{style:{background:"white",color:"rgb(56, 76, 135)"},value:"3 timmar",children:"3 timmar"}),h.jsx("option",{style:{background:"white",color:"rgb(56, 76, 135)"},value:"6 timmar",children:"6 timmar"})]}),D&&h.jsx("button",{onClick:()=>k(!0),className:"result-upload-button",children:"Ladda upp resultat"})]}),h.jsx("div",{className:"race-results-container",children:p?h.jsx("p",{children:"Loading results..."}):E?h.jsx("p",{className:"error-message",children:E}):d.length===0?h.jsx("p",{children:"No results found for the selected filters. Please try different filters or upload new results."}):h.jsx("div",{className:"results-list",children:d.map(le=>h.jsxs("div",{className:"result-item",children:[h.jsxs("div",{className:"result-info",children:[h.jsxs("h3",{children:[le.location," - ",le.year]}),h.jsxs("p",{children:["Category: ",le.category]}),h.jsxs("p",{children:["Duration: ",le.duration]}),h.jsxs("p",{children:["Uploaded: ",new Date(le.uploadedAt).toLocaleDateString()]})]}),h.jsx("div",{className:"result-actions",children:h.jsxs("a",{href:le.fileUrl,target:"_blank",rel:"noopener noreferrer",className:"result-download-link",children:["View/Download ",le.fileName]})})]},le.id))})})]})}),S&&h.jsx(Ab,{isOpen:S,onClose:()=>k(!1),onUploadSuccess:Z,year:s})]})},_D=Hg(ws,"results"),yD=async(s={})=>{try{let e=ul(_D,pT("timestamp","desc"));s.year&&(e=ul(e,Zc("year","==",parseInt(s.year)))),s.category&&(e=ul(e,Zc("category","==",s.category))),s.duration&&(e=ul(e,Zc("duration","==",s.duration))),s.location&&(e=ul(e,Zc("location","==",s.location)));const n=await Zg(e),i=[];return n.forEach(l=>{i.push({id:l.id,...l.data()})}),i}catch(e){throw console.error("Error getting results:",e),e}},vD=()=>{const{currentUser:s}=vi(),[e,n]=L.useState("all"),[i,l]=L.useState("all"),[u,d]=L.useState("all"),[g,p]=L.useState([]),[_,E]=L.useState(!0),[b,S]=L.useState(!1),[k,D]=L.useState(""),z=(s==null?void 0:s.role)==="admin",P=[2025,2024,2023,2022,2021,2020,2019,2018],F=["Herrar","Damer","Mixed"],H=["3 timmar","6 timmar"],$=["Ulricehamn","Sälen","Hemsedal","Kolmården"];L.useEffect(()=>{ee()},[e,i,u]);const ee=async()=>{try{E(!0),D("");const w={};e!=="all"&&(w.year=e),i!=="all"&&(w.category=i),u!=="all"&&(w.duration=u);const I=await yD(w);p(I)}catch(w){console.error("Error fetching results:",w),D("Failed to load results. Please try again later.")}finally{E(!1)}},Z=w=>{if(window.confirm("Are you sure you want to delete this result?"))try{const q=[...g].filter(j=>j.id!==w);p(q)}catch(I){console.error("Error deleting result:",I),D("Failed to delete result. Please try again.")}},le=()=>{S(!0)},O=()=>{S(!1)},R=w=>{p(I=>[w,...I]),O()},N=w=>g.filter(I=>I.location===w);return h.jsxs("div",{className:"results-container",children:[h.jsxs("section",{className:"results-filters-section",children:[h.jsxs("div",{className:"results-filters",children:[h.jsxs("select",{value:e,onChange:w=>n(w.target.value),className:"results-filter-select",children:[h.jsx("option",{value:"all",children:"Alla År"}),P.map(w=>h.jsx("option",{value:w,children:w},w))]}),h.jsxs("select",{value:i,onChange:w=>l(w.target.value),className:"results-filter-select",children:[h.jsx("option",{value:"all",children:"Alla Kategorier"}),F.map(w=>h.jsx("option",{value:w,children:w},w))]}),h.jsxs("select",{value:u,onChange:w=>d(w.target.value),className:"results-filter-select",children:[h.jsx("option",{value:"all",children:"Alla Distanser"}),H.map(w=>h.jsx("option",{value:w,children:w},w))]})]}),h.jsx("div",{className:"results-upload-section",children:z&&h.jsx("button",{onClick:le,className:"results-upload-button",children:"Ladda upp resultat"})})]}),k&&h.jsx("div",{className:"results-error",children:k}),h.jsx("section",{className:"results-content-section",children:h.jsx("div",{className:"results-grid",children:$.map(w=>h.jsxs("div",{className:"results-location-card",children:[h.jsx("h2",{className:"results-location-title",children:w}),h.jsx("div",{className:"results-list",children:_?h.jsx("div",{className:"results-loading",children:"Laddar..."}):N(w).map(I=>h.jsxs("div",{className:"results-item",children:[h.jsx("a",{href:I.fileUrl,target:"_blank",rel:"noopener noreferrer",className:"results-link",children:h.jsxs("div",{className:"results-info",children:[h.jsx("span",{className:"results-year",children:I.year}),h.jsx("span",{className:"results-category",children:I.category}),h.jsx("span",{className:"results-duration",children:I.duration})]})}),z&&h.jsx("button",{onClick:()=>Z(I.id),className:"results-delete-button",children:"Ta bort"})]},I.id))})]},w))})}),b&&h.jsx(Ab,{onClose:O,onUploadSuccess:R,isAdmin:z,locations:$,years:P,categories:F,durations:H})]})},xD=()=>{const[s,e]=L.useState(null),[n,i]=L.useState([]),[l,u]=L.useState(1),d=8,[g,p]=L.useState({}),_=L.useMemo(()=>["/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_025.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_057.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_065.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_094.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_113.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_138.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_150.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_202.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_209.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_213.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_235.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_246.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_265.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_352.jpg","/AimRV/images/EE-AIMChallenge24-Uhamn-0132-high.jpg","/AimRV/images/EE-AIMChallenge24-Uhamn-0136-high.jpg","/AimRV/images/EE-AIMChallenge24-Uhamn-0171-high.jpg","/AimRV/images/EE-AIMChallenge24-Uhamn-0405-high.jpg","/AimRV/images/Kolmarden_1.jpg","/AimRV/images/Kolmarden_2.jpg"],[]),E=L.useCallback(()=>{const D=(l-1)*d,z=l*d,P=_.slice(D,z);i(F=>[...F,...P]),u(F=>F+1)},[l,_,d]);L.useEffect(()=>{E()},[E]),L.useEffect(()=>{const D=()=>{window.innerHeight+document.documentElement.scrollTop>=document.documentElement.offsetHeight-100&&(l-1)*d<_.length&&E()};return window.addEventListener("scroll",D),()=>window.removeEventListener("scroll",D)},[E,l,_.length,d]),L.useEffect(()=>{if(s!==null){const D=new Image;D.src=n[s],D.onload=()=>{p(z=>({...z,[s]:!0}))}}},[s,n]);const b=D=>{e(s===D?null:D)},k=(()=>{const D=[];let z=[],P=4;return n.forEach((F,H)=>{z.push({image:F,index:H}),z.length===P&&(D.push(z),z=[],P=P===4?3:4)}),z.length>0&&D.push(z),D})();return h.jsxs("div",{children:[h.jsx("div",{style:{height:"120px"}}),h.jsxs("div",{className:"gallery-container",style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"0.1rem",padding:"0.25rem",position:"relative"},children:[k.map((D,z)=>h.jsx("div",{style:{display:"flex",justifyContent:"center",gap:"3rem",width:"100%",marginBottom:"-20px",paddingLeft:D.length===3?"10%":"0",paddingRight:D.length===3?"10%":"0"},children:D.map(({image:P,index:F})=>{const H=s===F;return h.jsx("div",{onClick:()=>b(F),style:{width:H?"80vw":"250px",height:H?"80vh":"250px",transition:"all 0.5s ease",cursor:"pointer",position:H?"fixed":"relative",top:H?"50%":"auto",left:H?"50%":"auto",transform:H?"translate(-50%, -50%) rotate(0deg)":"rotate(45deg) scale(0.9)",zIndex:H?1e3:1,border:"2px solid #00a6fb",borderRadius:"8px",overflow:"hidden",boxShadow:"0 4px 8px rgba(0, 166, 251, 0.3)",margin:"0.1rem 1.5rem"},children:h.jsx("img",{src:P,alt:`Gallery image ${F+1}`,loading:"lazy",width:H?"auto":"250",height:H?"auto":"250",style:{width:"100%",height:"100%",objectFit:"cover",transform:H?"rotate(0deg) scale(1)":"rotate(-45deg) scale(1.5)"}})},F)})},z)),s!==null&&h.jsx("div",{onClick:()=>e(null),style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.8)",zIndex:999}}),n.length<_.length&&h.jsx("div",{style:{width:"100%",textAlign:"center",padding:"2rem"},children:h.jsx("button",{onClick:E,style:{padding:"0.75rem 1.5rem",backgroundColor:"#00a6fb",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"1rem",fontWeight:"bold"},children:"Load More Images"})})]}),h.jsx("div",{style:{height:"80px"}})]})},ED=()=>{const[s,e]=L.useState(0),[n,i]=L.useState(!1),l=L.useRef([]),u=[{id:1,src:"/videos/AIM nr 1 Formula 16x9.mov",title:"AIM Challenge Formula",description:"Highlights from the AIM Challenge Formula event"},{id:2,src:"/videos/AIM nr 1 Formula 16x9.mov",title:"AIM Challenge Highlights",description:"More exciting moments from the AIM Challenge"},{id:3,src:"/videos/AIM nr 1 Formula 16x9.mov",title:"AIM Challenge Recap",description:"A recap of the amazing AIM Challenge events"}];L.useEffect(()=>{l.current=l.current.slice(0,u.length)},[u.length]);const d=_=>{l.current.forEach((E,b)=>{b!==_&&E&&E.pause()}),i(!0),e(_)},g=()=>{e(_=>(_+1)%u.length)},p=()=>{e(_=>(_-1+u.length)%u.length)};return h.jsxs("div",{className:"video-carousel-container",style:{padding:"80px 0 40px 0",backgroundColor:"#f0f8ff",borderTop:"1px solid #e0e0e0",width:"100%",maxWidth:"100%"},children:[h.jsx("h2",{style:{textAlign:"center",marginBottom:"30px",color:"#00a6fb",fontSize:"2rem"},children:"AIM Challenge Videos"}),h.jsxs("div",{style:{position:"relative",width:"100%",margin:"0 auto",overflow:"hidden"},children:[h.jsx("button",{onClick:p,style:{position:"absolute",left:"10px",top:"50%",transform:"translateY(-50%)",zIndex:10,background:"rgba(0, 166, 251, 0.7)",color:"white",border:"none",borderRadius:"50%",width:"50px",height:"50px",fontSize:"24px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.3)"},"aria-label":"Previous video",children:"<"}),h.jsx("button",{onClick:g,style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",zIndex:10,background:"rgba(0, 166, 251, 0.7)",color:"white",border:"none",borderRadius:"50%",width:"50px",height:"50px",fontSize:"24px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.3)"},"aria-label":"Next video",children:">"}),h.jsx("div",{style:{display:"flex",transition:"transform 0.5s ease",transform:`translateX(${s*-100}%)`,width:"100%",position:"relative"},children:u.map((_,E)=>h.jsx("div",{style:{flex:"0 0 100%",padding:"0 20px",boxSizing:"border-box",width:"100%"},children:h.jsxs("div",{style:{background:"#fff",borderRadius:"8px",overflow:"hidden",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",maxWidth:"1200px",margin:"0 auto"},children:[h.jsx("div",{style:{position:"relative",paddingTop:"56.25%"},children:h.jsx("video",{ref:b=>l.current[E]=b,src:_.src,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover"},controls:!0,onPlay:()=>d(E),onPause:()=>i(!1)})}),h.jsxs("div",{style:{padding:"20px"},children:[h.jsx("h3",{style:{margin:"0 0 10px 0",color:"#00a6fb",fontSize:"1.5rem"},children:_.title}),h.jsx("p",{style:{margin:0,color:"#333",lineHeight:1.6},children:_.description})]})]})},_.id))}),h.jsx("div",{style:{display:"flex",justifyContent:"center",marginTop:"20px"},children:u.map((_,E)=>h.jsx("button",{onClick:()=>e(E),style:{width:"12px",height:"12px",borderRadius:"50%",margin:"0 5px",background:E===s?"#00a6fb":"#ccc",border:"none",cursor:"pointer"}},E))})]})]})},TD=()=>h.jsxs("div",{className:"om-oss-container",children:[h.jsx("div",{className:"om-oss-header page_01 locked-background flex flex_col flex_j_E",children:h.jsx("div",{className:"om-oss-header-content",children:h.jsx("div",{className:"trans-background page_01box flex flex_col flex_j_SA",children:h.jsx("div",{className:"om-oss-title flex flex_j_C flex_a_C",children:h.jsx(M,{textKey:"om-oss-title",defaultText:"OM OSS",tag:"p",className:"font_blue fonts_huge"})})})})}),h.jsx("section",{className:"om-oss-section flex flex_j_C flex_a_C set-03",children:h.jsx("div",{className:"om-oss-content MaxWH flex flex_col flex_j_C",children:h.jsxs("div",{className:"om-oss-content-wrapper",children:[h.jsx(M,{textKey:"om-oss-title-1",defaultText:"Vad är AIM Challenge?",tag:"h2",className:"fonts_large om-oss-title"}),h.jsx(M,{textKey:"om-oss-text-1",defaultText:"AIM Challenge är en multisporttävling som arrangeras i Åre, Sverige. Tävlingen går ut på att ta sig runt en bana med hjälp av karta och kompass. Längs banan finns kontroller som ska besökas i rätt ordning.",tag:"p",className:"fonts_small om-oss-text"}),h.jsx(M,{textKey:"om-oss-text-2",defaultText:"​",tag:"p",className:"fonts_small om-oss-text"}),h.jsx(M,{textKey:"om-oss-text-3",defaultText:"Tävlingen arrangeras av AIM Challenge AB och har funnits sedan 2004. Tävlingen har utvecklats under åren och är idag en av Sveriges största multisporttävlingar.",tag:"p",className:"fonts_small om-oss-text"}),h.jsx(M,{textKey:"om-oss-text-4",defaultText:"​",tag:"p",className:"fonts_small om-oss-text"}),h.jsx(M,{textKey:"om-oss-text-5",defaultText:"AIM Challenge är en tävling för alla. Oavsett om du är elit eller motionär finns det en klass för dig. Tävlingen är uppdelad i olika klasser beroende på svårighetsgrad och längd.",tag:"p",className:"fonts_small om-oss-text"}),h.jsx(M,{textKey:"om-oss-text-6",defaultText:"​",tag:"p",className:"fonts_small om-oss-text"}),h.jsx(M,{textKey:"om-oss-text-7",defaultText:"Tävlingen går ut på att ta sig runt en bana med hjälp av karta och kompass. Längs banan finns kontroller som ska besökas i rätt ordning. Tävlingen innehåller olika moment som löpning, cykling, paddling, simning och klättring.",tag:"p",className:"fonts_small om-oss-text"}),h.jsx(M,{textKey:"om-oss-text-8",defaultText:"​",tag:"p",className:"fonts_small om-oss-text"})]})})}),h.jsx("div",{className:"om-oss-background-container locked-background"}),h.jsx("section",{className:"om-oss-section flex flex_j_C flex_a_C set-03",children:h.jsx("div",{className:"om-oss-content MaxWH flex flex_col flex_j_C",children:h.jsxs("div",{className:"om-oss-content-wrapper",children:[h.jsx(M,{textKey:"om-oss-title-2",defaultText:"Så här är det att vara med i AIM Challenge",tag:"h2",className:"fonts_large om-oss-title"}),h.jsx(M,{textKey:"om-oss-text-9",defaultText:"AIM Challenge är en rolig tävling. Det är oftast det som är det centrala i de deltagarkommentarer vi får både från eliten och motionärerna. Man färdas till största delen med hjälp av sin mountainbike och sina löparskor, men också i klättersele, paddlandes i kanot eller så strippar man helt enkelt och simmar ut till kontroller som är i vattnet.",tag:"p",className:"fonts_small om-oss-text"}),h.jsx(M,{textKey:"om-oss-text-10",defaultText:"​",tag:"p",className:"fonts_small om-oss-text"}),h.jsx(M,{textKey:"om-oss-text-11",defaultText:"Det finns inga krav på förkunskaper om de olika momenten utan vi har kunnig personal vid varje post som innefattas av klättring, firning, simning, paddling. Varje lag genomför tävlingen i sin egen takt och med egen strategi. Visst finns det de lag som satsar allt för att knipa segern och det är det som är det roliga med konceptet. Elit och motionär tävlar på samma villkor på samma bana.",tag:"p",className:"fonts_small om-oss-text"}),h.jsx(M,{textKey:"om-oss-text-12",defaultText:"​",tag:"p",className:"fonts_small om-oss-text"}),h.jsx(M,{textKey:"om-oss-text-13",defaultText:"Våra deltagare är allt ifrån världseliten i multisport som Thule Adventure team, Team Silva, Team Multitude Salomon men också glada motionärer allt från åldrarna 15 till pensionärer. Oavsett ålder och fysiska förutsättningar är detta ett roligt och annorlunda sätt att tävla på.",tag:"p",className:"fonts_small om-oss-text"})]})})}),h.jsxs("section",{className:"om-oss-cards-container simple-background",children:[h.jsxs("div",{className:"om-oss-card simple-background",children:[h.jsxs("div",{className:"om-oss-card-content trans-background",children:[h.jsx(M,{textKey:"card-1-title",defaultText:"REGLER",tag:"p",className:"font_blue fonts_medium_B"}),h.jsx(M,{textKey:"card-1-text",defaultText:"Tävlingsregler och information",tag:"p",className:"font_blue fonts_medium"})]}),h.jsx("div",{className:"om-oss-card-button",children:h.jsx(Te,{to:"/page2",className:"location button-2",children:"Läs mer"})})]}),h.jsxs("div",{className:"om-oss-card simple-background",children:[h.jsxs("div",{className:"om-oss-card-content trans-background",children:[h.jsx(M,{textKey:"card-2-title",defaultText:"FAQ",tag:"p",className:"font_blue fonts_medium_B"}),h.jsx(M,{textKey:"card-2-text",defaultText:"Vanliga frågor och svar",tag:"p",className:"font_blue fonts_medium"})]}),h.jsx("div",{className:"om-oss-card-button",children:h.jsx(Te,{to:"/page3",className:"location button-2",children:"Läs mer"})})]}),h.jsxs("div",{className:"om-oss-card simple-background",children:[h.jsxs("div",{className:"om-oss-card-content trans-background",children:[h.jsx(M,{textKey:"card-3-title",defaultText:"HISTORIEN OM AIM",tag:"p",className:"font_blue fonts_medium_B"}),h.jsx(M,{textKey:"card-3-text",defaultText:"Vår resa sedan 2004",tag:"p",className:"font_blue fonts_medium"})]}),h.jsx("div",{className:"om-oss-card-button",children:h.jsx(Te,{to:"/page3",className:"location button-2",children:"Läs mer"})})]})]})]}),bD=()=>h.jsxs("div",{className:"flex flex_col regler-container",children:[h.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",children:h.jsx("div",{className:"trans-background page_01box flex flex_col flex_j_SA",children:h.jsx("div",{className:"om-oss-title flex flex_j_C flex_a_C",children:h.jsx("p",{className:"font_blue fonts_huge font_white",children:"REGLER"})})})}),h.jsx("section",{className:"om-oss-section regler-section flex flex_j_C flex_a_C set-03",children:h.jsx("div",{className:"om-oss-content MaxWH flex flex_col flex_j_C regler-content-container",children:h.jsxs("div",{className:"regler-content",children:[h.jsx("h2",{className:"regler-heading font_white",children:"LAGET"}),h.jsxs("ul",{className:"regler-list",children:[h.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Åldersgräns 15år/18år"}),h.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Båda deltagarna måste ha olycksförsäkring som täcker olyckor i samband med tävling/idrottsaktiviteter."}),h.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Det är lagets ansvar att se till att de är registrerade i rätt klass."}),h.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Startnummer ska placeras fram på cykel samt synligt på kroppen på båda deltagarna"}),h.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Det är tillåtet att använda GPS men det är alltid kartan som gäller. GPSens kartunderlag stämmer inte alltid överens med den utskrivna AIM kartan."}),h.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Laget ska alltid vara samlade max 20 meter mellan lagmedlemmarna."}),h.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Det är inte tillåtet att ha följebil."})]}),h.jsx("h2",{className:"regler-heading-with-margin font_white",children:"SÄKERHET"}),h.jsxs("ul",{className:"regler-list",children:[h.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Lagen väljer själva vilka kontroller de klarar att ta baserat på väder, egen färdighet och kunskap."}),h.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Lagen väljer själva vilken väg de vill ta till kontrollerna baserat på väder, egen färdighet och kunskap."}),h.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Trafiken är inte reglerad under tävlingen."}),h.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Trafikregler gäller alltid."}),h.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Första hjälpen kit ska bäras med under hela tävlingen"}),h.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Hjälm ska bäras under all cykling, klättring, bouldering och rappellering"}),h.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Vid olycka är det obligatoriska att hjälpa till."}),h.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Vid allvarlig olycka ring nöd nummer 112 i Sverige och 113 i Norge"}),h.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Vid behov för enklare medicinsk hjälp ring telefonnumret på baksidan av kartan"}),h.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Tävlingsledningens direktiv gäller alltid."})]}),h.jsx("h2",{className:"regler-heading-with-margin font_white",children:"ÖVRIGT"}),h.jsxs("ul",{className:"regler-list",children:[h.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Elcyklar är ej tillåtet, med undantag för Elcykelklassen i Hemsedal."}),h.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Beroende på kapacitet är det möjligt att använda liften i Hemsedal, lyssna noga på vad speakern ger för information för vad som gäller för årets tävling."}),h.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Deltagare som bryter ska genast meddela tävlingsledningen. Telefonnummer står på kartan."}),h.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Synliga, osynliga och tävlande domare befinner sig i tävlingsområdet och ser till att reglerna följs."}),h.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Regelbrott kan leda till poängavdrag eller diskvalificering"}),h.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Deltagare som vinner priser som lottas ut pga olika händelser eller som dras på startnummer måste närvara på prisutdelningen för att få sitt pris. Är man inte närvarande och ditt namn/lagnamn dras drar vi reservnamn/lagnamn."}),h.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"LINDVALLEN, viadukten mellan Lodgen och Experium är stängd under hela tävlingen."}),h.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Tävlingsledningens beslut går inte att överklaga."}),h.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Kloka människor skräpar inte ner, för alla andra är det förbjudet."}),h.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Respektera privat mark, ta inte genvägar över privata områden"}),h.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Beträda odlad mark är förbjudet. Åkrar som inte har skördats är odlad mark."}),h.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Stäng alla grindar som ni öppnar."}),h.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Visa betande djur respekt genom att stiga av cykeln och gå förbi dem."})]}),h.jsx("h2",{className:"regler-heading-with-margin font_white",children:"OBLIGATORISK UTRUSTNING"}),h.jsxs("ul",{className:"regler-list",children:[h.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Cykel, utan elmotor med undantag för Elcykelklassen i Hemsedal."}),h.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Cykelhjälm vid cykling"}),h.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Mobiltelefon (1 st per lag)"}),h.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Första hjälpen (1 st per lag)"})]}),h.jsx("h2",{className:"regler-heading-with-margin font_white",children:"VI REKOMMENDERAR ATT NI ÄVEN HAR MED ER"}),h.jsxs("ul",{className:"regler-list",children:[h.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Förstärkningskläder vid hastigt väderomslag"}),h.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Kompass"}),h.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Vatten i en Camelbak"}),h.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Energy bars eller liknande"}),h.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Klocka"}),h.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Löparskor"}),h.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Cykelslang och reparationskit + övriga verktyg, tex en biketool för enklare justeringar"})]}),h.jsx("h2",{className:"regler-heading-with-margin font_white",children:"AIM CHALLENGE STÅR FÖR"}),h.jsx("ul",{className:"regler-list",children:h.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Kanot, SUP, sele, rep, hjälm vid firningar/klättring. All utrustning vid bemannade poster finns där klättring etc förekommer."})}),h.jsx("h2",{className:"regler-heading-with-margin font_white",children:"VILLKOR I FÖRBINDELSE MED ANMÄLAN"}),h.jsx("p",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Villkor i förbindelse med anmälan"}),h.jsxs("p",{className:"fonts_small om-oss-text regler-contact font_white",children:["Om du har frågor: ",h.jsx("a",{href:"mailto:info@aimchallenge.com",className:"font_white",children:"info@aimchallenge.com"})]})]})})}),h.jsx("div",{className:"locked-background",style:{height:"50vh",width:"100%"}})]}),AD=({question:s,answer:e})=>{const[n,i]=L.useState(!1),l=()=>{i(!n)};return h.jsxs("div",{className:"faq-item",children:[h.jsxs("div",{className:`faq-question ${n?"active":""}`,onClick:l,children:[h.jsx("h3",{className:"question-text",children:s}),h.jsx("span",{className:"icon",children:n?"▲":"▼"})]}),h.jsx("div",{className:`faq-answer ${n?"open":""}`,children:h.jsx("p",{children:e})})]})},nh=({title:s,items:e})=>h.jsxs("div",{className:"faq-category",children:[h.jsx("h2",{className:"faq-category-title",children:s}),e.map((n,i)=>h.jsx(AD,{question:n.question,answer:n.answer},i))]}),SD=()=>{const s=[{question:"Jag är nybörjare på multisport, kan jag delta?",answer:"Absolut, det är DU som väljer väg och antal kontroller. Ta 5 kontroller och ha en fin tur på fjället, eller ta 40 och vinn. Alla kan delta efter egen förmåga och ambition."},{question:"Behöver man vara en riktigt stenhård multisportare för att delta?",answer:"Det finns inga krav på förkunskaper om de olika momenten utan vi har kunnig personal vid varje post som innebär klättring, firning, simning etc. I och med AIM-konceptet så tar varje lag tävlingen i sin egen takt och sin egen strategi. Visst finns det de lag som satsar allt för att knipa segern och det är det som är det roliga med konceptet. Elit och motionär tävlar på samma villkor på samma bana."},{question:"Är det olika klasser?",answer:"Dam, Herr och Mix. Elit och motion tävlar i samma klass."},{question:"Vilken åldersgräns gäller?",answer:"Åldersgränsen för AIM Challenge är 15/18 år beroende på tävling och medtävlande. Läs mer här."},{question:"Kan jag ändra information om mitt lag. Tex ändrar lagnamn eller deltagare?",answer:"Ja, logga in på ditt RaceID-konto för att göra ändringar."},{question:"Om jag blir sjuk, får jag tillbaka min anmälningsavgift då?",answer:"Nej. Det går däremot bra att sälja sin startplats till en kompis. Vid försäljning så uppdaterar ni era uppgifter på ditt RaceID-konto. Alternativt ta kontakt med ditt försäkringsbolag för att se vad det täcker."},{question:"Hur vet jag om jag har olycksförsäkring?",answer:"Kontakta ditt försäkringsbolag, de flesta har den redan."}],e=[{question:"Ska jag tävla med löpskor eller cykelskor?",answer:"Det är en fördel att cykla med SPD sko, och det är en fördel att springa med löparskor. Ta med både och!"},{question:"Behöver man ha all utrustning med sig?",answer:"Nej. Deltagare ska ha med sig cykel, hjälm, första hjälpen och mobiltelefon. Vid en klätterkontroll finns kunnig personal med all nödvändig utrustning, de säkrar deltagarna och ser till att klättringen går säkert till. Vid en paddel kontroll finns det kanot, SUP, luftmadrass eller liknande. Skulle man inte ha en mountainbike går det bra att hyra och detta bör i så fall förbokas."},{question:"Får man använda sig av GPS?",answer:"Ja, det är tillåtet att använda en GPS. Det är dock inte alltid det bästa eftersom det är kartan som gäller och GPSen och kartans information kan skilja sig åt."}],n=[{question:"Om jag inte hinner till registreringen på fredag kväll, vad gör jag då?",answer:"Det finns möjlighet för registrering på lördag morgon innan start, dock ser vi helst att all registrering sker under fredag kvällen."},{question:"Ingår banketten i priset?",answer:"Nej, den får man köpa vid sidan om. Se respektive tävling för bokning av mat. Men prisutdelningen som följer efter banketten är gratis för alla deltagare."},{question:"Vilka tider är det som gäller för själva tävlandet?",answer:"Program: Fredagen: Registrering 17:00-21:00 i Lindvallen & 19.00-22.00 i Hemsedal. Lördagen: 9.30 Info möte vid start, 10.00 START, 16.00 MÅL. 22.00 PRISUTDELNING. Söndagen: Väl förtjänad sovmorgon och en härlig dag på fjället! Se detaljerat program under de enskilda tävlingarna."}],i=[{question:"Hur ser kartan ut?",answer:"Kartan får alla lagen när startskottet går. Där är samtliga kontroller utmärkta med position, poäng, beskrivning och om kontrollen innefattar klättring, paddling etc. Skalan är ungefär 1:30 000. Varje år är ett nytt år och därför en ny bansträckning. Kontrollernas position varierar från år till år så den strategi man hade året innan kanske inte lönar sig i år."},{question:"Måste både deltagarna simma/klättra/rappellera till en kontroll?",answer:"Lagen ska alltid hålla ihop och ska under hela tävlingen kunna kommunicera med varandra. Utom på de kontroller som vi kallar bemannade kontroller, dvs simma, paddla, klättra, balansera och rappelera. Här räcker det att den ena i laget tar posten. Både deltagarna ska dock vara så nära varandra som möjligt vid dessa poster."},{question:"Rappellering och klättring - hur goda bakgrundskunskaper måste man ha för att ställa upp?",answer:"Vid varje bemannad post finns det personal som är kunniga och med riktig utrustning. Lite erfarenhet ifrån klättring hjälper men är inte nödvändigt. Man behöver ingen kunskap om säkerhet."},{question:"Vilka regler gäller?",answer:"De regler som gäller för anmälan och under tävling finner du här >>"}];return h.jsxs("div",{className:"flex flex_col faq-container",children:[h.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",children:h.jsx("div",{className:"trans-background page_01box flex flex_col flex_j_SA",children:h.jsx("div",{className:"om-oss-title flex flex_j_C flex_a_C",children:h.jsx("p",{className:"font_blue fonts_huge font_white",children:"FAQ"})})})}),h.jsx("section",{className:"faq-section faq-dark-section",children:h.jsx("div",{className:"faq-content-container",children:h.jsxs("div",{className:"faq-content",children:[h.jsx("h1",{className:"faq-heading",children:"Vanliga frågor"}),h.jsx(nh,{title:"Allmänna frågor",items:s})]})})}),h.jsx("section",{className:"faq-section faq-light-section",children:h.jsx("div",{className:"faq-content-container",children:h.jsx("div",{className:"faq-content",children:h.jsx(nh,{title:"Utrustning",items:e})})})}),h.jsx("section",{className:"faq-section faq-dark-section",children:h.jsx("div",{className:"faq-content-container",children:h.jsx("div",{className:"faq-content",children:h.jsx(nh,{title:"Tävlingsdagen",items:n})})})}),h.jsx("section",{className:"faq-section faq-light-section",children:h.jsx("div",{className:"faq-content-container",children:h.jsx("div",{className:"faq-content",children:h.jsx(nh,{title:"Teknisk information",items:i})})})}),h.jsx("section",{className:"faq-section faq-dark-section",children:h.jsx("div",{className:"faq-content-container",children:h.jsx("div",{className:"faq-content",children:h.jsxs("div",{className:"faq-category",children:[h.jsx("h2",{className:"faq-category-title",children:"Har du fler frågor?"}),h.jsx("div",{className:"flex flex_j_C flex_a_C",children:h.jsxs("p",{className:"faq-contact-text",children:["Ta gärna kontakt om ni inte hittar svaret på era frågor: ",h.jsx("a",{href:"mailto:info@aimchallenge.com",className:"font_white",children:"info@aimchallenge.com"})]})})]})})})}),h.jsx("div",{className:"locked-background",style:{height:"50vh",width:"100%"}})]})},wD=()=>h.jsxs("div",{className:"flex flex_col",children:[h.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",children:h.jsx("div",{className:"trans-background page_01box flex flex_col flex_j_SA",children:h.jsx("div",{className:"om-oss-title flex flex_j_C flex_a_C",children:h.jsx(M,{textKey:"historien-om-aim-title",defaultText:"HISTORIEN OM AIM",tag:"p",className:"font_blue fonts_huge font_white"})})})}),h.jsx("section",{className:"om-oss-section regler-section flex flex_j_C flex_a_C set-03 historien-om-aim-section",children:h.jsx("div",{className:"om-oss-content MaxWH flex flex_col flex_j_C regler-content-container",children:h.jsxs("div",{className:"regler-content historien-om-aim-content",children:[h.jsx(M,{textKey:"historien-om-aim-text-1",defaultText:"AIM Challenge är idag Nordens största multisporttävling men historien om AIM Challenge börjar mycket tidigare än så.",tag:"p",className:"fonts_small om-oss-text font_white historien-om-aim-text"}),h.jsx(M,{textKey:"historien-om-aim-text-2",defaultText:"Vi låter Lisa Nordlind, grundare och initiativtagare till AIM Challenge berätta hur det gick till:",tag:"p",className:"fonts_small om-oss-text font_white historien-om-aim-text"}),h.jsx(M,{textKey:"historien-om-aim-text-3",defaultText:"År 2000 deltog jag i mitt livs största äventyr när jag tävlade i multisporttävlingen Camel Trophy.",tag:"p",className:"fonts_small om-oss-text font_white historien-om-aim-text"}),h.jsx(M,{textKey:"historien-om-aim-text-4",defaultText:"Av över en miljon sökande så var det 16 tvåmannalag från 22 länder som fick vara med och leka. Jag fick äran att representera Team Skandinavien tillsammans med brandmannen Mikael Stening.",tag:"p",className:"fonts_small om-oss-text font_white historien-om-aim-text"}),h.jsx(M,{textKey:"historien-om-aim-text-5",defaultText:"Lag på två personer skulle under 3 veckor samla så många kontroller som möjligt utav 400 utplacerade. Huvudtransportmedel var en specialbyggd RIB (Rigid Inflatable Boat). Båten var utrustad med mountainbikes, klätterutrustning, paddelbräda, dyk- och snorkel utrustning, tält, mat och vatten.",tag:"p",className:"fonts_small om-oss-text font_white historien-om-aim-text"}),h.jsx(M,{textKey:"historien-om-aim-text-6",defaultText:"Lagen fick själva välja vilka kontroller de ville ta, i vilken ordning och vilken väg.",tag:"p",className:"fonts_small om-oss-text font_white historien-om-aim-text"}),h.jsx(M,{textKey:"historien-om-aim-text-7",defaultText:"Olika kontroller gav olika poäng. Låter det bekant?",tag:"p",className:"fonts_small om-oss-text font_white historien-om-aim-text"}),h.jsx(M,{textKey:"historien-om-aim-text-8",defaultText:"Tävlingsområdet var ögrupperna Tonga och Samoa i Söderhavet. Det var galet roligt och Mikael och jag lyckades ta oss till en fjärde plats.",tag:"p",className:"fonts_small om-oss-text font_white historien-om-aim-text"}),h.jsx(M,{textKey:"historien-om-aim-text-9",defaultText:"År 2004 spenderade jag min första sommar i Hemsedal. Det var ganska lugnt i den lilla skidorten så jag beslutade mig för att starta ett nytt event. För mig är det viktigt att träning är roligt och jag tycker att den bästa träningen är tävling. Eftersom Camel Trophy var det roligaste jag någonsin varit med om så föll det naturligt att försöka skapa ett event där andra människor får uppleva samma lekfulla koncept om än i en mindre skala. Tävlingen fick namnet 'Hemsedal Challenge' och den första helgen i september 2004 stod 150 deltagare på startlinjen.",tag:"p",className:"fonts_small om-oss-text font_white historien-om-aim-text"}),h.jsx(M,{textKey:"historien-om-aim-text-10",defaultText:"Nära, kära, vänner och familj samlades från alla håll och kanter för att ställa upp som funktionärer.",tag:"p",className:"fonts_small om-oss-text font_white historien-om-aim-text"}),h.jsx(M,{textKey:"historien-om-aim-text-11",defaultText:"Efter 5 år startade vi en tävling till i Lindvallen och bytte namn till AIM Challenge.",tag:"p",className:"fonts_small om-oss-text font_white historien-om-aim-text"}),h.jsx(M,{textKey:"historien-om-aim-text-12",defaultText:"Efter AIM Challenge 2019 tackade Lisa för sig och lämnade över stafettpinnen till Marcus Andersson, som nu står inför en spännande framtid där han ser frem emot att driva vidare och utveckla AIM Challenge.",tag:"p",className:"fonts_small om-oss-text font_white historien-om-aim-text"})]})})}),h.jsx("div",{className:"historien-om-aim-background-container locked-background page_01"})]}),ND=({isOpen:s,onClose:e,onSave:n})=>{const[i,l]=L.useState(""),[u,d]=L.useState(""),[g,p]=L.useState(null),[_,E]=L.useState(""),[b,S]=L.useState(!1),[k,D]=L.useState(""),[z,P]=L.useState(""),[F,H]=L.useState(0),[$,ee]=L.useState(0),Z=L.useRef(null),le=L.useRef(null),{isAdmin:O}=mr(),R=re=>{const ye=re.target.files[0];if(ye){const pe=new FileReader;pe.onloadend=()=>{p(ye),E(pe.result)},pe.readAsDataURL(ye)}},N=re=>{d(re.target.value)},w=()=>{Z.current&&(H(Z.current.selectionStart),ee(Z.current.selectionEnd))},I=()=>{if(S(!b),!b&&Z.current){const re=u.substring(Z.current.selectionStart,Z.current.selectionEnd);P(re),H(Z.current.selectionStart),ee(Z.current.selectionEnd)}},q=()=>{if(!k.trim()){alert("Please enter a URL");return}const re=`[${z||k}](${k})`,ye=u.substring(0,F)+re+u.substring($);d(ye),S(!1),D(""),P("")},j=()=>{if(!i.trim()||!u.trim()||!_){alert("Vänligen fyll i alla fält (titel, bild och innehåll)");return}const re={id:Date.now(),title:i,date:new Date().toLocaleDateString("sv-SE",{year:"numeric",month:"long",day:"numeric"}),content:u,image:_};n(re),Ye(),e()},Ye=()=>{l(""),d(""),p(null),E(""),S(!1),D(""),P("")},Ge=re=>{re.target.className==="create-post-modal__overlay"&&e()};return!s||!O?null:h.jsxs("div",{className:"create-post-modal",children:[h.jsx("div",{className:"create-post-modal__overlay",onClick:Ge}),h.jsxs("div",{className:"create-post-modal__content",children:[h.jsx("h2",{className:"create-post-modal__title",children:"Skapa nytt inlägg"}),h.jsxs("div",{className:"create-post-modal__form",children:[h.jsxs("div",{className:"create-post-modal__form-group",children:[h.jsx("label",{className:"create-post-modal__label",children:"Titel"}),h.jsx("input",{type:"text",className:"create-post-modal__input",value:i,onChange:re=>l(re.target.value),placeholder:"Ange titel"})]}),h.jsxs("div",{className:"create-post-modal__form-group",children:[h.jsx("label",{className:"create-post-modal__label",children:"Bild"}),h.jsxs("div",{className:"create-post-modal__image-upload",onClick:()=>le.current.click(),children:[_?h.jsx("img",{src:_,alt:"Preview",className:"create-post-modal__image-preview"}):h.jsx("div",{className:"create-post-modal__image-placeholder",children:"Klicka för att ladda upp en bild"}),h.jsx("input",{type:"file",accept:"image/*",onChange:R,className:"create-post-modal__file-input",ref:le})]})]}),h.jsxs("div",{className:"create-post-modal__form-group",children:[h.jsx("label",{className:"create-post-modal__label",children:"Innehåll"}),h.jsxs("div",{children:[h.jsx("textarea",{className:"create-post-modal__textarea",value:u,onChange:N,onSelect:w,ref:Z,placeholder:"Ange innehåll"}),h.jsx("button",{type:"button",onClick:I,className:"create-post-modal__button create-post-modal__button--secondary",style:{marginTop:"10px"},children:"Lägg till länk"}),b&&h.jsxs("div",{className:"create-post-modal__link-tools",children:[h.jsxs("div",{children:[h.jsx("label",{children:"Länktext:"}),h.jsx("input",{type:"text",value:z,onChange:re=>P(re.target.value),className:"create-post-modal__input",style:{marginTop:"5px",width:"100%"}})]}),h.jsxs("div",{children:[h.jsx("label",{children:"URL:"}),h.jsx("input",{type:"text",value:k,onChange:re=>D(re.target.value),className:"create-post-modal__input",style:{marginTop:"5px",width:"100%"}})]}),h.jsxs("div",{style:{marginTop:"10px"},children:[h.jsx("button",{onClick:q,className:"create-post-modal__button create-post-modal__button--primary",children:"Infoga länk"}),h.jsx("button",{onClick:()=>S(!1),className:"create-post-modal__button create-post-modal__button--secondary",style:{marginLeft:"10px"},children:"Avbryt"})]})]})]})]}),h.jsxs("div",{className:"create-post-modal__actions",children:[h.jsx("button",{onClick:e,className:"create-post-modal__button create-post-modal__button--secondary",children:"Avbryt"}),h.jsx("button",{onClick:j,className:"create-post-modal__button create-post-modal__button--primary",disabled:!i.trim()||!u.trim()||!_,children:"Spara"})]})]})]})]})},Sb=Hg(ws,"posts"),RD=async()=>{try{const s=ul(Sb,pT("createdAt","desc")),e=await Zg(s),n=[];return e.forEach(i=>{n.push({id:i.id,...i.data()})}),n}catch(s){throw console.error("Error getting posts:",s),s}},h0=async(s,e)=>{try{let n=null;if(e){const l=UT(Eb,`post-images/${Date.now()}`);await DI(l,e,"data_url"),n=await OI(l)}return{id:(await b1(Sb,{title:s.title,content:s.content,image:n||s.image,date:s.date,createdAt:new Date().toISOString()})).id,...s,image:n||s.image}}catch(n){throw console.error("Error adding post:",n),n}},kD=async(s,e)=>{try{if(await T1(mi(ws,"posts",s)),e&&e.includes("firebase")){const n=UT(Eb,e);await MI(n)}return{success:!0}}catch(n){throw console.error("Error deleting post:",n),n}},CD=()=>{const[s,e]=L.useState(""),[n,i]=L.useState(!1),[l,u]=L.useState(!1),{isAdmin:d}=mr(),[g,p]=L.useState([]),[_,E]=L.useState(!0),[b,S]=L.useState(null);L.useEffect(()=>{(async()=>{try{E(!0);const $=await RD();p($),S(null)}catch($){console.error("Error fetching posts:",$),S("Failed to load posts. Please try again later."),k()}finally{E(!1)}})()},[]);const k=()=>{p([{id:"default-1",title:"AIM Challenge 2025 - Anmälan öppen!",date:"28 februari 2025",content:"Nu är anmälan öppen för AIM Challenge 2025! Vi ser fram emot att välkomna både nya och återkommande deltagare till årets tävlingar i Hemsedal, Sälen, Ulricehamn och Kolmården.",image:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_094.jpg"},{id:"default-2",title:"Nya utmaningar i Hemsedal",date:"15 februari 2025",content:"I år har vi lagt till flera nya spännande utmaningar på Hemsedal-banan. Förbered er på att testa era gränser i den vackra norska fjällmiljön!",image:"/images/AIM_lindvallen_2024_AnkiGrothe_highres_125.jpg"},{id:"default-3",title:"Resultat från förra årets tävlingar",date:"10 januari 2025",content:"Nu finns alla resultat från förra årets tävlingar tillgängliga på vår hemsida. Kolla in hur du och ditt lag placerade er!",image:"/images/EE-AIMChallenge24-Uhamn-0171-high.jpg"},{id:"default-4",title:"Ny sponsor för AIM Challenge",date:"5 januari 2025",content:"Vi är glada att meddela att vi har fått en ny huvudsponsor för AIM Challenge 2025. Mer information kommer snart!",image:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_094.jpg"}])},D=H=>{H.preventDefault(),console.log("Email submitted:",s),i(!0),e(""),setTimeout(()=>i(!1),3e3)},z=async H=>{try{E(!0);const $=await h0(H,H.image);p([$,...g]),S(null)}catch($){console.error("Error saving post:",$),S("Failed to save post. Please try again.")}finally{E(!1)}},P=async(H,$)=>{if(window.confirm("Är du säker på att du vill ta bort detta inlägg?"))try{E(!0),await kD(H,$);const ee=g.filter(Z=>Z.id!==H);p(ee),S(null)}catch(ee){console.error("Error deleting post:",ee),S("Failed to delete post. Please try again.")}finally{E(!1)}},F=async()=>{if(window.confirm("Är du säker på att du vill återställa till standardinlägg? Alla dina anpassade inlägg kommer att försvinna."))try{E(!0),k();for(const H of g)await h0(H,H.image);S(null)}catch(H){console.error("Error resetting posts:",H),S("Failed to reset posts. Please try again.")}finally{E(!1)}};return h.jsxs("div",{className:"flex flex_col",children:[h.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",children:h.jsx("div",{className:"page_01box flex flex_col flex_j_SA",children:h.jsx("div",{className:"om-oss-title flex flex_j_C flex_a_C",children:h.jsx(M,{textKey:"senaste-nytt-title",defaultText:"SENASTE NYTT",tag:"p",className:"fonts_huge senaste-nytt-main-title",style:{color:"rgb(56, 76, 135)"}})})})}),h.jsx("section",{className:"set-03 senaste-nytt-subscribe-section",children:h.jsxs("div",{className:"MaxWH flex flex_col flex_j_C flex_a_C font_white",children:[h.jsx(M,{textKey:"senaste-nytt-subscribe-title",defaultText:"Håll dig uppdaterad",tag:"h2",className:"fonts_large senaste-nytt-title"}),h.jsx(M,{textKey:"senaste-nytt-subscribe-text",defaultText:"Prenumerera på vårt nyhetsbrev för att få de senaste uppdateringarna om AIM Challenge direkt i din inkorg.",tag:"p",className:"fonts_small senaste-nytt-description"}),h.jsxs("form",{onSubmit:D,className:"senaste-nytt-form flex flex_col flex_a_C",children:[h.jsxs("div",{className:"senaste-nytt-form-input-container flex",children:[h.jsx("input",{type:"email",value:s,onChange:H=>e(H.target.value),placeholder:"Din e-postadress",required:!0,className:"senaste-nytt-form-input"}),h.jsx("button",{type:"submit",className:"senaste-nytt-form-button",children:h.jsx(M,{textKey:"senaste-nytt-subscribe-button",defaultText:"Prenumerera",tag:"span",className:""})})]}),n&&h.jsx("p",{className:"senaste-nytt-form-success",children:h.jsx(M,{textKey:"senaste-nytt-subscribe-thanks",defaultText:"Tack för din prenumeration!",tag:"span",className:""})})]})]})}),h.jsx("section",{className:"senaste-nytt-news-section",children:h.jsxs("div",{className:"MaxWH senaste-nytt-container",children:[h.jsx(M,{textKey:"senaste-nytt-news-title",defaultText:"Nyheter",tag:"h2",className:"senaste-nytt-section-title"}),d&&h.jsxs("div",{className:"senaste-nytt-admin-actions flex flex_j_E",children:[h.jsx("button",{className:"senaste-nytt-create-post-button",onClick:()=>u(!0),children:h.jsx(M,{textKey:"senaste-nytt-create-post-button",defaultText:"Skapa nytt inlägg",tag:"span",className:""})}),h.jsx("button",{className:"senaste-nytt-reset-posts-button",onClick:F,children:h.jsx(M,{textKey:"senaste-nytt-reset-posts-button",defaultText:"Återställ till standardinlägg",tag:"span",className:""})})]}),h.jsx("div",{className:"senaste-nytt-news-grid",children:g.map(H=>h.jsxs("div",{className:"senaste-nytt-news-card",children:[h.jsx("div",{className:"senaste-nytt-news-image",style:{backgroundImage:`url(${H.image})`}}),h.jsxs("div",{className:"senaste-nytt-news-content",children:[h.jsx(M,{textKey:`senaste-nytt-news-title-${H.id}`,defaultText:H.title,tag:"h3",className:"senaste-nytt-news-card-title"}),h.jsx(M,{textKey:`senaste-nytt-news-date-${H.id}`,defaultText:H.date,tag:"p",className:"senaste-nytt-news-date"}),h.jsx(M,{textKey:`senaste-nytt-news-content-${H.id}`,defaultText:H.content,tag:"p",className:"senaste-nytt-news-text"}),h.jsx(Te,{to:`/news/${H.id}`,className:"senaste-nytt-read-more",children:h.jsx(M,{textKey:`senaste-nytt-news-read-more-${H.id}`,defaultText:"Läs mer",tag:"span",className:"senaste-nytt-read-more-text"})}),d&&h.jsx("button",{className:"senaste-nytt-delete-post-button",onClick:()=>P(H.id,H.image),children:h.jsx(M,{textKey:`senaste-nytt-delete-post-button-${H.id}`,defaultText:"Ta bort",tag:"span",className:""})})]})]},H.id))})]})}),d&&h.jsx(ND,{isOpen:l,onClose:()=>u(!1),onSave:z}),h.jsx("div",{className:"senaste-nytt-background-container locked-background page_01"})]})},ID=()=>{const{id:s}=VS(),e=wl(),[n,i]=L.useState(null),[l,u]=L.useState(!0),d=[{id:1,title:"AIM Challenge 2025 - Anmälan öppen!",date:"28 februari 2025",content:`Nu är anmälan öppen för AIM Challenge 2025! Vi ser fram emot att välkomna både nya och återkommande deltagare till årets tävlingar i Hemsedal, Sälen, Ulricehamn och Kolmården.

AIM Challenge har blivit en tradition för många äventyrslystna deltagare, och i år kommer vi att erbjuda ännu fler spännande utmaningar. Tävlingarna kommer att äga rum under följande datum:

- Hemsedal: 15-17 mars 2025
- Sälen: 22-24 mars 2025
- Ulricehamn: 5-7 april 2025
- Kolmården: 19-21 april 2025

Anmälan sker via vår hemsida och platserna fylls snabbt, så se till att säkra din plats redan idag!`,image:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_094.jpg",fullImage:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_094.jpg"},{id:2,title:"Nya utmaningar i Hemsedal",date:"15 februari 2025",content:`I år har vi lagt till flera nya spännande utmaningar på Hemsedal-banan. Förbered er på att testa era gränser i den vackra norska fjällmiljön!

Vårt team har arbetat hårt för att designa nya hinderbanor som kommer att utmana även de mest erfarna deltagarna. De nya utmaningarna inkluderar:

1. "Fjällpassagen" - en tekniskt krävande sträcka med klättring och balansmoment
2. "Isfloden" - en isande kall utmaning som testar både styrka och mental uthållighet
3. "Lavinzonen" - en hinderbana där samarbete är nyckeln till framgång

Vi har också förbättrat säkerheten längs hela banan med fler kontrollpunkter och medicinsk personal på plats. Vårt mål är att skapa en utmanande men säker upplevelse för alla deltagare.`,image:"/images/AIM_lindvallen_2024_AnkiGrothe_highres_125.jpg",fullImage:"/images/AIM_lindvallen_2024_AnkiGrothe_highres_125.jpg"},{id:3,title:"Resultat från förra årets tävlingar",date:"10 januari 2025",content:`Nu finns alla resultat från förra årets tävlingar tillgängliga på vår hemsida. Kolla in hur du och ditt lag placerade er!

Förra årets AIM Challenge var en enorm framgång med rekordmånga deltagare. Vi vill gratulera alla vinnare och tacka samtliga deltagare för ert engagemang och er sportslighet.

Här är topplaceringarna från förra årets tävlingar:

Hemsedal:
- Herrar: 1. Erik Johansson, 2. Petter Nordlund, 3. Magnus Ek
- Damer: 1. Anna Lindberg, 2. Sofia Axelsson, 3. Emma Karlsson

Sälen:
- Herrar: 1. Johan Bergström, 2. Anders Nyström, 3. Karl Lundgren
- Damer: 1. Lina Ekström, 2. Maria Holmberg, 3. Johanna Wikström

Ulricehamn:
- Herrar: 1. Niklas Andersson, 2. Fredrik Lindholm, 3. Gustav Holm
- Damer: 1. Elin Sandberg, 2. Kristina Berg, 3. Maja Nilsson

Kolmården:
- Herrar: 1. Mikael Svensson, 2. David Karlsson, 3. Simon Lindgren
- Damer: 1. Sara Björk, 2. Hanna Lindqvist, 3. Klara Öberg

Fullständiga resultatlistor finns tillgängliga på vår hemsida under fliken "Resultat".`,image:"/images/EE-AIMChallenge24-Uhamn-0171-high.jpg",fullImage:"/images/EE-AIMChallenge24-Uhamn-0171-high.jpg"},{id:4,title:"Ny sponsor för AIM Challenge",date:"5 januari 2025",content:`Vi är glada att meddela att vi har fått en ny huvudsponsor för AIM Challenge 2025. Mer information kommer snart!

Den nya sponsorn kommer att bidra till att höja kvaliteten på våra evenemang ytterligare och möjliggöra fler spännande utmaningar och bättre priser för deltagarna.

Vi kommer att presentera vår nya huvudsponsor vid en presskonferens nästa vecka, så håll utkik efter mer information på vår hemsida och i våra sociala medier.

Detta partnerskap markerar början på ett nytt kapitel för AIM Challenge, och vi ser fram emot att tillsammans med vår nya sponsor ta tävlingen till nya höjder.`,image:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_094.jpg",fullImage:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_094.jpg"}];L.useEffect(()=>{if(s){const p=d.find(_=>_.id===parseInt(s));p&&i(p),u(!1)}},[s]);const g=()=>{e("/senaste-nytt")};return l?h.jsx("div",{className:"flex flex_col flex_a_C flex_j_C",style:{minHeight:"50vh"},children:h.jsx("p",{className:"fonts_large",children:"Laddar..."})}):n?h.jsxs("div",{className:"flex flex_col",children:[h.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",children:h.jsx("div",{className:"trans-background page_01box flex flex_col flex_j_SA",children:h.jsx("div",{className:"om-oss-title flex flex_j_C flex_a_C",children:h.jsx("p",{className:"font_blue fonts_huge font_white",children:"NYHETER"})})})}),h.jsx("section",{style:{padding:"50px 0",backgroundColor:"#f5f5f5",width:"100vw"},children:h.jsxs("div",{className:"MaxWH",style:{padding:"0 20px",maxWidth:"1000px",margin:"0 auto"},children:[h.jsxs("button",{onClick:g,className:"navbbutton button font_blue",style:{marginBottom:"20px",padding:"10px 30px 10px 20px",display:"flex",alignItems:"center",gap:"5px",minWidth:"120px"},children:[h.jsx("span",{children:"←"})," ",h.jsx("span",{children:"Tillbaka"})]}),h.jsxs("div",{style:{backgroundColor:"white",borderRadius:"8px",overflow:"hidden",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[h.jsx("div",{style:{height:"400px",backgroundImage:`url(${n.fullImage||n.image})`,backgroundSize:"cover",backgroundPosition:"center"}}),h.jsxs("div",{style:{padding:"30px"},children:[h.jsx("h1",{className:"fonts_large font_blue",style:{marginBottom:"10px"},children:n.title}),h.jsx("p",{className:"fonts_small",style:{color:"#666",marginBottom:"30px"},children:n.date}),n.content.split(`

`).map((p,_)=>h.jsx("p",{className:"fonts_small",style:{marginBottom:"20px"},children:p},_))]})]}),h.jsx("div",{style:{marginTop:"30px",textAlign:"center"},children:h.jsxs("button",{onClick:g,className:"navbbutton button font_blue",style:{padding:"10px 30px 10px 20px",display:"flex",alignItems:"center",gap:"5px",minWidth:"120px"},children:[h.jsx("span",{children:"←"})," ",h.jsx("span",{children:"Tillbaka"})]})})]})}),h.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",style:{height:"50vh",width:"100vw"}})]}):h.jsxs("div",{className:"flex flex_col flex_a_C flex_j_C",style:{minHeight:"50vh"},children:[h.jsx("p",{className:"fonts_large",children:"Nyheten kunde inte hittas"}),h.jsx("button",{onClick:g,className:"navbbutton button font_blue",style:{marginTop:"20px",padding:"10px 20px"},children:"Tillbaka till nyheter"})]})},d0=()=>{const[s,e]=L.useState(""),[n,i]=L.useState(""),[l,u]=L.useState(""),[d,g]=L.useState(!1),p=wl(),{login:_,isAuthenticated:E}=vi();L.useEffect(()=>{E&&p("/")},[E,p]);const b=async S=>{S.preventDefault(),g(!0),u("");try{const k=await _(s,n);k.success?(console.log("Login successful"),console.log("Current user after login:",{email:s,role:"admin"}),p("/")):u(k.message||"Ogiltigt e-post eller lösenord")}catch(k){console.error("Login error:",k),u("Ett fel uppstod vid inloggning. Försök igen.")}finally{g(!1)}};return h.jsxs("div",{className:"flex flex_col",children:[h.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",children:h.jsx("div",{className:"trans-background page_01box flex flex_col flex_j_SA",children:h.jsx("div",{className:"om-oss-title flex flex_j_C flex_a_C",children:h.jsx("p",{className:"font_blue fonts_huge font_white",children:"LOGGA IN"})})})}),h.jsx("section",{style:{padding:"50px 0",backgroundColor:"#f5f5f5",width:"100vw",minHeight:"60vh"},children:h.jsx("div",{className:"MaxWH",style:{padding:"0 20px",maxWidth:"500px",margin:"0 auto"},children:h.jsxs("div",{style:{backgroundColor:"white",borderRadius:"8px",overflow:"hidden",boxShadow:"0 4px 6px rgba(0,0,0,0.1)",padding:"30px"},children:[h.jsx("h2",{className:"fonts_medium font_blue",style:{marginBottom:"20px",textAlign:"center"},children:"Administratörsinloggning"}),l&&h.jsx("div",{style:{backgroundColor:"rgba(255, 0, 0, 0.1)",color:"#d32f2f",padding:"10px",borderRadius:"4px",marginBottom:"20px",textAlign:"center"},children:l}),h.jsxs("form",{onSubmit:b,children:[h.jsxs("div",{style:{marginBottom:"20px"},children:[h.jsx("label",{htmlFor:"email",className:"fonts_small",style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"E-post"}),h.jsx("input",{type:"email",id:"email",value:s,onChange:S=>e(S.target.value),required:!0,style:{width:"80%",padding:"10px 12px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"16px"}})]}),h.jsxs("div",{style:{marginBottom:"30px"},children:[h.jsx("label",{htmlFor:"password",className:"fonts_small",style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Lösenord"}),h.jsx("input",{type:"password",id:"password",value:n,onChange:S=>i(S.target.value),required:!0,style:{width:"80%",padding:"10px 12px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"16px"}})]}),h.jsx("button",{type:"submit",className:"navbbutton button font_blue",style:{width:"80%",padding:"10px 15px",fontSize:"16px",cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center"},disabled:d,children:d?"Loggar in...":"Logga in"})]}),h.jsxs("div",{style:{marginTop:"20px",textAlign:"center"},children:[h.jsx("p",{className:"fonts_small",style:{color:"#666"},children:"Detta är en inloggning endast för administratörer."}),h.jsx("p",{className:"fonts_small",style:{color:"#666",marginTop:"5px"},children:"Standard: admin@example.com / password123"})]})]})})}),h.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",style:{height:"30vh",width:"100vw"}})]})},jD=()=>{const{textContent:s,resetAllContent:e,removeContentItem:n,isAdmin:i}=mr(),{isAuthenticated:l}=vi(),[u,d]=L.useState(!1),[g,p]=L.useState(null),[_,E]=L.useState("all"),b=wl();if(L.useEffect(()=>{(!l||!i)&&b("/")},[l,i,b]),!l||!i)return null;const S=()=>{d(!0),p(null)},k=ee=>{d(!0),p(ee)},D=()=>{g?n(g):e(),d(!1),p(null)},z=()=>{d(!1),p(null)},F=(()=>{const ee={text:{},image:{},background:{}};return Object.entries(s).forEach(([Z,le])=>{le.startsWith("data:image")||le.startsWith("http")||le.startsWith("/")?Z.includes("-bg")||Z.includes("background")?ee.background[Z]=le:ee.image[Z]=le:ee.text[Z]=le}),ee})(),$=_==="all"?s:F[_]||{};return h.jsxs("div",{className:"flex flex_col",style:{minHeight:"100vh"},children:[h.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",children:h.jsx("div",{className:"trans-background page_01box flex flex_col flex_j_SA",children:h.jsx("div",{className:"om-oss-title flex flex_j_C flex_a_C",children:h.jsx("p",{className:"font_blue fonts_huge",children:"Innehållshanterare"})})})}),h.jsxs("section",{style:{padding:"40px",maxWidth:"1200px",margin:"0 auto"},children:[h.jsxs("div",{style:{marginBottom:"30px",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"20px"},children:[h.jsx("h2",{className:"font_blue fonts_large",children:"Alla redigerbara innehåll"}),h.jsx("button",{onClick:S,style:{padding:"10px 20px",backgroundColor:"#ff4d4d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Återställ allt innehåll"})]}),h.jsxs("div",{style:{marginBottom:"30px",display:"flex",gap:"10px",flexWrap:"wrap"},children:[h.jsxs("button",{onClick:()=>E("all"),style:{padding:"8px 16px",backgroundColor:_==="all"?"#00a6fb":"#f0f0f0",color:_==="all"?"white":"black",border:"none",borderRadius:"4px",cursor:"pointer"},children:["Alla (",Object.keys(s).length,")"]}),h.jsxs("button",{onClick:()=>E("text"),style:{padding:"8px 16px",backgroundColor:_==="text"?"#00a6fb":"#f0f0f0",color:_==="text"?"white":"black",border:"none",borderRadius:"4px",cursor:"pointer"},children:["Texter (",Object.keys(F.text).length,")"]}),h.jsxs("button",{onClick:()=>E("image"),style:{padding:"8px 16px",backgroundColor:_==="image"?"#00a6fb":"#f0f0f0",color:_==="image"?"white":"black",border:"none",borderRadius:"4px",cursor:"pointer"},children:["Bilder (",Object.keys(F.image).length,")"]}),h.jsxs("button",{onClick:()=>E("background"),style:{padding:"8px 16px",backgroundColor:_==="background"?"#00a6fb":"#f0f0f0",color:_==="background"?"white":"black",border:"none",borderRadius:"4px",cursor:"pointer"},children:["Bakgrundsbilder (",Object.keys(F.background).length,")"]})]}),u&&h.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.7)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:9999},children:h.jsxs("div",{style:{backgroundColor:"white",padding:"30px",borderRadius:"8px",maxWidth:"500px",width:"90%",textAlign:"center"},children:[h.jsx("h3",{style:{marginBottom:"20px",color:"#00a6fb"},children:"Bekräfta åtgärd"}),h.jsx("p",{style:{marginBottom:"30px"},children:g?`Är du säker på att du vill ta bort innehållet med nyckeln "${g}"?`:"Är du säker på att du vill återställa allt innehåll? Detta kan inte ångras."}),h.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"20px"},children:[h.jsx("button",{onClick:D,style:{padding:"10px 20px",backgroundColor:"#ff4d4d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:g?"Ta bort":"Återställ allt"}),h.jsx("button",{onClick:z,style:{padding:"10px 20px",backgroundColor:"#ccc",color:"black",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Avbryt"})]})]})}),Object.keys($).length===0?h.jsxs("p",{children:["Inga redigerade ",_==="text"?"texter":_==="image"?"bilder":_==="background"?"bakgrundsbilder":"innehåll"," ännu."]}):h.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"20px"},children:Object.entries($).map(([ee,Z])=>{const le=Z.startsWith("data:image")||Z.startsWith("http")||Z.startsWith("/"),O=ee.includes("-bg")||ee.includes("background");return h.jsxs("div",{style:{border:"1px solid #ddd",borderRadius:"8px",padding:"15px",backgroundColor:"white",boxShadow:"0 2px 4px rgba(0,0,0,0.05)"},children:[h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:[h.jsx("h3",{className:"font_blue fonts_medium",style:{wordBreak:"break-all",fontSize:"16px"},children:ee}),h.jsx("span",{style:{padding:"3px 8px",borderRadius:"4px",fontSize:"12px",backgroundColor:O?"#6c5ce7":le?"#00b894":"#0984e3",color:"white"},children:O?"Bakgrund":le?"Bild":"Text"})]}),h.jsx("div",{style:{marginBottom:"10px"},children:le?h.jsxs("div",{children:[h.jsx("img",{src:Z,alt:ee,style:{width:"100%",height:O?"150px":"auto",maxHeight:"150px",objectFit:O?"cover":"contain",borderRadius:"4px",border:"1px solid #eee"}}),O&&h.jsx("div",{style:{marginTop:"5px",fontSize:"12px",color:"#666",textAlign:"center"},children:"Bakgrundsbild"})]}):h.jsx("p",{style:{maxHeight:"100px",overflow:"auto",backgroundColor:"#f5f5f5",padding:"10px",borderRadius:"4px",fontSize:"14px"},children:Z})}),h.jsx("button",{onClick:()=>k(ee),style:{width:"100%",padding:"8px",backgroundColor:"#ff4d4d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px"},children:"Ta bort"})]},ee)})})]})]})},DD=({children:s,requireAdmin:e=!1})=>{const{isAuthenticated:n,currentUser:i}=vi();return n?e&&(i==null?void 0:i.role)!=="admin"?h.jsx(Iv,{to:"/"}):s:h.jsx(Iv,{to:"/login"})},OD=()=>{const{isAdmin:s,getText:e}=mr();return L.useEffect(()=>{if(s)return document.body.classList.add("admin-editing-mode"),()=>{document.body.classList.remove("admin-editing-mode")}},[s]),L.useEffect(()=>{const n=()=>{const i=JSON.parse(localStorage.getItem("textContent")||"{}"),l=Object.keys(i).filter(d=>d.startsWith("bg-")&&(d.endsWith("-type")||d.endsWith("-image"))),u={};l.forEach(d=>{const g=d.split("-type")[0].split("-image")[0];u[g]||(u[g]={}),d.endsWith("-type")?u[g].type=i[d]:d.endsWith("-image")&&(u[g].image=i[d])}),Object.keys(u).forEach(d=>{const g=document.getElementById(d);if(!g)return;const p=u[d];p.type&&(g.classList.remove("simple-background","locked-background"),g.classList.add(`${p.type}-background`),p.type==="locked"?g.style.backgroundAttachment="fixed":g.style.backgroundAttachment="scroll"),p.image&&(g.style.backgroundImage=`url('${p.image}')`,g.style.backgroundSize="cover",g.style.backgroundPosition="center",g.style.backgroundRepeat="no-repeat")})};return n(),window.addEventListener("storage",n),()=>{window.removeEventListener("storage",n)}},[]),null},MD=()=>{const{isAdmin:s,getText:e,updateText:n}=mr(),[i,l]=L.useState(null),[u,d]=L.useState(null),[g,p]=L.useState(!1),[_,E]=L.useState("simple"),[b,S]=L.useState("type"),[k,D]=L.useState(""),z=L.useRef(null);L.useEffect(()=>{if(!s)return;const ee=Z=>{if(Z.target.classList.contains("simple-background")||Z.target.classList.contains("locked-background")||Z.target.classList.contains("dynamic-background")||[...Z.target.classList].some(O=>O.includes("-bg"))){Z.stopPropagation(),l(Z.target);let O=Z.target.id;O||(O=`bg-${Date.now()}`,Z.target.id=O),d(O);const R=e(`${O}-type`,null);R?E(R):Z.target.classList.contains("locked-background")?E("locked"):E("simple");const N=e(`${O}-image`,null);if(N)D(N);else{let I=window.getComputedStyle(Z.target).backgroundImage;I&&I!=="none"?(I=I.replace(/url\(['"]?(.*?)['"]?\)/i,"$1"),D(I)):D("")}p(!0)}};return document.addEventListener("click",ee),()=>{document.removeEventListener("click",ee)}},[s,e]);const P=()=>{!i||!u||(i.classList.remove("simple-background","locked-background"),i.classList.add(`${_}-background`),_==="locked"?i.style.backgroundAttachment="fixed":i.style.backgroundAttachment="scroll",n(`${u}-type`,_))},F=()=>{!i||!k||!u||(i.style.backgroundImage=`url('${k}')`,i.style.backgroundSize="cover",i.style.backgroundPosition="center",i.style.backgroundRepeat="no-repeat",n(`${u}-image`,k))},H=ee=>{const Z=ee.target.files[0];if(!Z)return;const le=URL.createObjectURL(Z);D(le);const O=new FileReader;O.onloadend=()=>{D(O.result)},O.readAsDataURL(Z)},$=()=>{P(),F(),p(!1)};return!s||!g?null:h.jsx("div",{className:"background-settings-modal",onClick:()=>p(!1),children:h.jsxs("div",{className:"background-settings-content",onClick:ee=>ee.stopPropagation(),children:[h.jsx("h3",{children:"Background Settings"}),h.jsxs("div",{className:"settings-tabs",children:[h.jsx("button",{className:`tab-button ${b==="type"?"active":""}`,onClick:()=>S("type"),children:"Background Type"}),h.jsx("button",{className:`tab-button ${b==="image"?"active":""}`,onClick:()=>S("image"),children:"Background Image"})]}),b==="type"&&h.jsxs("div",{className:"background-type-options",children:[h.jsx("div",{className:"form-group",children:h.jsxs("label",{children:[h.jsx("input",{type:"radio",name:"backgroundType",value:"simple",checked:_==="simple",onChange:()=>E("simple")}),"Simple (Scrolls with content)"]})}),h.jsx("div",{className:"form-group",children:h.jsxs("label",{children:[h.jsx("input",{type:"radio",name:"backgroundType",value:"locked",checked:_==="locked",onChange:()=>E("locked")}),"Locked (Fixed when scrolling)"]})})]}),b==="image"&&h.jsxs("div",{className:"background-image-options",children:[h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"imageUrl",children:"Image URL:"}),h.jsx("input",{type:"text",id:"imageUrl",value:k,onChange:ee=>D(ee.target.value),placeholder:"Enter image URL",className:"image-url-input"})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:"Or upload an image:"}),h.jsx("input",{type:"file",accept:"image/*",onChange:H,ref:z,className:"file-input"}),h.jsx("button",{className:"upload-button",onClick:()=>z.current.click(),children:"Choose File"})]}),k&&h.jsxs("div",{className:"image-preview",children:[h.jsx("p",{children:"Preview:"}),h.jsx("img",{src:k,alt:"Background preview"})]})]}),h.jsxs("div",{className:"button-group",children:[h.jsx("button",{className:"cancel-button",onClick:()=>p(!1),children:"Cancel"}),h.jsx("button",{className:"apply-button",onClick:$,children:"Apply"})]})]})})},LD=()=>h.jsx("div",{className:"background-container",children:h.jsx("img",{src:"/backgrounds/Höjdkurvor.svg",alt:"Background"})}),VD=async(s,e,n="Admin")=>{try{const l=(await Lj(gh,s,e)).user;return await Uj(l,{displayName:n}),await sd(mi(ws,"users",l.uid),{email:s,displayName:n,role:"admin",createdAt:new Date}),{success:!0,user:{uid:l.uid,email:l.email,displayName:n,role:"admin"}}}catch(i){return console.error("Error creating admin user:",i),{success:!1,error:i.message}}},PD=async()=>{try{(await xT(mi(ws,"settings","admin"))).exists()||(await VD("admin@example.com","password123")).success&&(await sd(mi(ws,"settings","admin"),{initialized:!0,adminEmail:"admin@example.com",createdAt:new Date}),console.log("Admin user initialized successfully"))}catch(s){console.error("Error initializing admin user:",s)}},UD=()=>(L.useEffect(()=>{PD().then(()=>console.log("Admin user initialized")).catch(s=>console.error("Error initializing admin user:",s))},[]),h.jsx(sD,{children:h.jsx(rD,{children:h.jsx(Tw,{children:h.jsxs("div",{className:"flex flex_col MaxWH location",style:{width:"100%",maxWidth:"100%",overflow:"hidden",margin:0,padding:0,display:"flex",flexDirection:"column",position:"relative"},children:[h.jsx(LD,{}),h.jsx(lD,{}),h.jsx(OD,{}),h.jsx(MD,{}),h.jsx("div",{style:{margin:0,padding:0,width:"100%",position:"relative",top:0},children:h.jsxs(ZS,{children:[h.jsx(bt,{path:"/",element:h.jsx(uD,{})}),h.jsx(bt,{path:"/competitions",element:h.jsx(cD,{})}),h.jsx(bt,{path:"/ulricehamn",element:h.jsx(hD,{})}),h.jsx(bt,{path:"/salen",element:h.jsx(dD,{})}),h.jsx(bt,{path:"/hemsedal",element:h.jsx(fD,{})}),h.jsx(bt,{path:"/kolmarden",element:h.jsx(mD,{})}),h.jsx(bt,{path:"/trippeln",element:h.jsx(gD,{})}),h.jsx(bt,{path:"/trippeln-results",element:h.jsx(pD,{})}),h.jsx(bt,{path:"/results",element:h.jsx(vD,{})}),h.jsx(bt,{path:"/gallery",element:h.jsxs(h.Fragment,{children:[h.jsx(xD,{}),h.jsx(ED,{})]})}),h.jsx(bt,{path:"/om-oss",element:h.jsx(TD,{})}),h.jsx(bt,{path:"/regler",element:h.jsx(bD,{})}),h.jsx(bt,{path:"/faq",element:h.jsx(SD,{})}),h.jsx(bt,{path:"/historien-om-aim",element:h.jsx(wD,{})}),h.jsx(bt,{path:"/senaste-nytt",element:h.jsx(CD,{})}),h.jsx(bt,{path:"/news/:id",element:h.jsx(ID,{})}),h.jsx(bt,{path:"/login",element:h.jsx(d0,{})}),h.jsx(bt,{path:"login",element:h.jsx(d0,{})}),h.jsx(bt,{path:"/content-manager",element:h.jsx(DD,{requireAdmin:!0,children:h.jsx(jD,{})})})]})}),h.jsx(oD,{})]})})})}));(function(){const s=sessionStorage.redirect;delete sessionStorage.redirect,s&&s!==location.href&&history.replaceState(null,null,s)})();const BD=document.getElementById("root");lS.createRoot(BD).render(h.jsx(JA.StrictMode,{children:h.jsx(UD,{})}));
//# sourceMappingURL=index-CwDnlEM7.js.map
